{"items":[{"tags":["java","spring","spring-boot","spring-mvc","spring-annotations"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1663856647,"post_id":73816131,"comment_id":130342167,"body_markdown":"You must mean `@ConditionalOnProperty`!? ..&quot;easy peasy&quot;: Just re-implement/copy/adopt the relevant portions of [this (spring-boot) package](https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition) ..","body":"You must mean <code>@ConditionalOnProperty</code>!? ..&quot;easy peasy&quot;: Just re-implement/copy/adopt the relevant portions of <a href=\"https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition\" rel=\"nofollow noreferrer\">this (spring-boot) package</a> .."},{"owner":{"account_id":14771089,"reputation":31,"user_id":10667541,"display_name":"Alaa jawhar"},"score":0,"creation_date":1663867797,"post_id":73816131,"comment_id":130346334,"body_markdown":"Hi @xerx593 \nyes i meant ConditionalOnProperty.\nAnd yes I tried it and it did not work, since this annotation work differently in spring boot. spring boot adds all the property file in the server environment (by default it is tomcat). and i dont want to do it this way","body":"Hi @xerx593  yes i meant ConditionalOnProperty. And yes I tried it and it did not work, since this annotation work differently in spring boot. spring boot adds all the property file in the server environment (by default it is tomcat). and i dont want to do it this way"}],"owner":{"account_id":14771089,"reputation":31,"user_id":10667541,"display_name":"Alaa jawhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663855822,"creation_date":1663855822,"question_id":73816131,"body_markdown":"I am using native spring (not spring boot) and I need the annotation @DependsOnProperty which is exist in spring boot.\r\n\r\nIs it possible to implement it in spring(without adding spring-boot dependency)? If yes how?\r\n\r\nThanks in advance.","title":"How to implement @DependsOnProperty(String property) in Spring(not spring boot)","body":"<p>I am using native spring (not spring boot) and I need the annotation @DependsOnProperty which is exist in spring boot.</p>\n<p>Is it possible to implement it in spring(without adding spring-boot dependency)? If yes how?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","html","css","selenium","xpath"],"comments":[{"owner":{"account_id":4704890,"reputation":15040,"user_id":3807365,"display_name":"IT goldman"},"score":1,"creation_date":1663713087,"post_id":73793196,"comment_id":130303699,"body_markdown":"it is important to format your code properly so others can understand","body":"it is important to format your code properly so others can understand"},{"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"score":0,"creation_date":1663716277,"post_id":73793196,"comment_id":130304173,"body_markdown":"For better help, create and post a valid minimal reproducible example if at all possible.\nhttps://stackoverflow.com/help/minimal-reproducible-example","body":"For better help, create and post a valid minimal reproducible example if at all possible. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":7051452,"reputation":2747,"user_id":5400362,"display_name":"Dev"},"score":0,"creation_date":1663735804,"post_id":73793196,"comment_id":130306732,"body_markdown":"@Moshe This is like help to help yourself. The HTML provided by you is not valid one and hence not able to provide solution.","body":"@Moshe This is like help to help yourself. The HTML provided by you is not valid one and hence not able to provide solution."}],"answers":[{"tags":[],"owner":{"account_id":4881746,"reputation":17,"user_id":16111063,"display_name":"Micah Rothenbuhler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663717083,"creation_date":1663717083,"answer_id":73793617,"question_id":73793196,"body_markdown":"Best practice is to put an `id` field on each element, so that such problems become trivial. If you can, do that, so that your selector is just `#my-id`. \r\n\r\nHowever, barring that you have to do some kind of awkward selector. nth-child would work as long as you are certain that the element you want is fixed. In this case `table &gt; tbody &gt; tr:nth-child(1)` \r\n\r\nBarring that, you&#39;re out of luck in your exact case. ","title":"How to get FIRST level children via Selenium","body":"<p>Best practice is to put an <code>id</code> field on each element, so that such problems become trivial. If you can, do that, so that your selector is just <code>#my-id</code>.</p>\n<p>However, barring that you have to do some kind of awkward selector. nth-child would work as long as you are certain that the element you want is fixed. In this case <code>table &gt; tbody &gt; tr:nth-child(1)</code></p>\n<p>Barring that, you're out of luck in your exact case.</p>\n"}],"owner":{"account_id":15287872,"reputation":3,"user_id":11030338,"display_name":"Moshe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663855769,"creation_date":1663712488,"question_id":73793196,"body_markdown":"I have seen quite a few replies but for some reason NONE of them work and they always return all the children not just FIRST level\r\n\r\nHere is one such answer: https://stackoverflow.com/questions/48131039/how-to-get-first-layer-sub-elements-only-in-python-selenium/57315415#57315415\r\n\r\nThey all suggest a CSS selector as in using nth-child(##)\r\n\r\nHere is my data:\r\n\r\n    &lt;**table**&gt;\r\n        &lt;**tbody**&gt;\r\n            &lt;**tr**&gt;   // I want to only get this\r\n                &lt;**td**&gt;td 1&lt;/td&gt;\r\n                &lt;**tr**&gt;&lt;td&gt;Nested 1&lt;/td&gt;&lt;/**tr**&gt;  // don&#39;t want this tr\r\n                &lt;**td**&gt;td 2&lt;**/td**&gt;\r\n                &lt;**tr**&gt;&lt;**/tr**&gt;  // don&#39;t want this\r\n                &lt;**/tr**&gt;\r\n                &lt;**tr**&gt;   // I want to only get this\r\n                    &lt;**td**&gt;td 3&lt;**/td**&gt;\r\n                    &lt;**tr**&gt;&lt;**/tr**&gt;  // don&#39;t want this\r\n                    &lt;td&gt;td 4&lt;/td&gt;\r\n                    &lt;tr&gt;&lt;/tr&gt;  // don&#39;t want this\r\n                &lt;/tr&gt;\r\n        &lt;**/tbody**&gt;\r\n    &lt;**/table**&gt;","title":"How to get FIRST level children via Selenium","body":"<p>I have seen quite a few replies but for some reason NONE of them work and they always return all the children not just FIRST level</p>\n<p>Here is one such answer: <a href=\"https://stackoverflow.com/questions/48131039/how-to-get-first-layer-sub-elements-only-in-python-selenium/57315415#57315415\">How to get first layer sub elements only in python selenium</a></p>\n<p>They all suggest a CSS selector as in using nth-child(##)</p>\n<p>Here is my data:</p>\n<pre><code>&lt;**table**&gt;\n    &lt;**tbody**&gt;\n        &lt;**tr**&gt;   // I want to only get this\n            &lt;**td**&gt;td 1&lt;/td&gt;\n            &lt;**tr**&gt;&lt;td&gt;Nested 1&lt;/td&gt;&lt;/**tr**&gt;  // don't want this tr\n            &lt;**td**&gt;td 2&lt;**/td**&gt;\n            &lt;**tr**&gt;&lt;**/tr**&gt;  // don't want this\n            &lt;**/tr**&gt;\n            &lt;**tr**&gt;   // I want to only get this\n                &lt;**td**&gt;td 3&lt;**/td**&gt;\n                &lt;**tr**&gt;&lt;**/tr**&gt;  // don't want this\n                &lt;td&gt;td 4&lt;/td&gt;\n                &lt;tr&gt;&lt;/tr&gt;  // don't want this\n            &lt;/tr&gt;\n    &lt;**/tbody**&gt;\n&lt;**/table**&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config","spring-profiles"],"owner":{"account_id":4991284,"reputation":77,"user_id":4013446,"display_name":"Spencer M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663855596,"creation_date":1663855596,"question_id":73816083,"body_markdown":"I am trying to understand why a profile-specific property is overridden by the base application.properties within my Spring Cloud Config. I am using Spring Boot 2.4. Here is the minimal product reproducing the issue: [github.com/semagnum/spring-config-server-poc-issue](https://github.com/semagnum/spring-config-server-poc-issue)\r\n\r\nSpring Cloud Config Client is enabled for my test app. When I call my config server, it retrieves a String array property:\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;myapp&quot;,\r\n  &quot;profiles&quot;: [\r\n    &quot;dev&quot;\r\n  ],\r\n  &quot;propertySources&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;classpath:/myapp-dev.properties&quot;,\r\n      &quot;source&quot;: {\r\n        &quot;my.security.scope[0]&quot;: &quot;api://MY_APP/.default&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;classpath:/myapp.properties&quot;,\r\n      &quot;source&quot;: {\r\n        &quot;my.security.scope[0]&quot;: &quot;default&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nThis string array property is not defined at all in the client&#39;s application files, no `spring.cloud.config.override` properties defined. When run and I retrieve the scope value, it returns &quot;default&quot;, *not* dev&#39;s &quot;api:MY_APP/.default&quot;. Why is it picking the non-dev one instead of the dev one, which I would expect to override it?","title":"Spring Cloud Config Server - application.properties overriding profile properties","body":"<p>I am trying to understand why a profile-specific property is overridden by the base application.properties within my Spring Cloud Config. I am using Spring Boot 2.4. Here is the minimal product reproducing the issue: <a href=\"https://github.com/semagnum/spring-config-server-poc-issue\" rel=\"nofollow noreferrer\">github.com/semagnum/spring-config-server-poc-issue</a></p>\n<p>Spring Cloud Config Client is enabled for my test app. When I call my config server, it retrieves a String array property:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;myapp&quot;,\n  &quot;profiles&quot;: [\n    &quot;dev&quot;\n  ],\n  &quot;propertySources&quot;: [\n    {\n      &quot;name&quot;: &quot;classpath:/myapp-dev.properties&quot;,\n      &quot;source&quot;: {\n        &quot;my.security.scope[0]&quot;: &quot;api://MY_APP/.default&quot;\n      }\n    },\n    {\n      &quot;name&quot;: &quot;classpath:/myapp.properties&quot;,\n      &quot;source&quot;: {\n        &quot;my.security.scope[0]&quot;: &quot;default&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>This string array property is not defined at all in the client's application files, no <code>spring.cloud.config.override</code> properties defined. When run and I retrieve the scope value, it returns &quot;default&quot;, <em>not</em> dev's &quot;api:MY_APP/.default&quot;. Why is it picking the non-dev one instead of the dev one, which I would expect to override it?</p>\n"},{"tags":["java","spring","spring-boot","docker","debugging"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663848959,"post_id":73814322,"comment_id":130338880,"body_markdown":"Have you tried an official JDK11 image instead of some random one? Like the Temurin one `eclipse-temurin:11-alpine`.","body":"Have you tried an official JDK11 image instead of some random one? Like the Temurin one <code>eclipse-temurin:11-alpine</code>."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1663851163,"post_id":73814322,"comment_id":130339769,"body_markdown":"I think it’s because you’re adding $JAVA_OPTS in the ENTRYPOINT directive. JAVA_OPTS environment variable is read by java automatically.","body":"I think it’s because you’re adding $JAVA_OPTS in the ENTRYPOINT directive. JAVA_OPTS environment variable is read by java automatically."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663855528,"creation_date":1663855528,"answer_id":73816067,"question_id":73814322,"body_markdown":"It may be that the alpine version of JDK11 is tuned to minimize the footprint.\r\nLikely a debugging library was removed or never installed.","title":"Why debug is not worked in java 11?","body":"<p>It may be that the alpine version of JDK11 is tuned to minimize the footprint.\nLikely a debugging library was removed or never installed.</p>\n"}],"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663855528,"creation_date":1663848209,"question_id":73814322,"body_markdown":"****This is using my Dockerfile****\r\n\r\n    FROM lpicanco/java11-alpine\r\n    VOLUME /tmp\r\n    ADD knetconfig /tmp/knetconfig\r\n    ADD grpc_health_probe_linux_x64 /app/grpc_health_probe_linux_x64\r\n    RUN chmod +x /app/grpc_health_probe_linux_x64\r\n    ADD aero-pay-core-service-latest.jar app.jar\r\n    RUN sh -c &#39;touch /app.jar&#39;\r\n    EXPOSE 5005\r\n    ENV JAVA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -Djava.security.egd=file:/dev/./urandom&quot;\r\n    ENTRYPOINT java $JAVA_OPTS -jar /app.jar\r\n\r\n**But it getting this error in building time,I am using java 11,**\r\n\r\n    Error occurred during initialization of VM\r\n    Could not find agent library jdwp on the library path, with error: libjdwp.so: cannot open shared object file: No such file or directory\r\n\r\nWhat would be the best possible options?\r\n\r\n\r\n","title":"Why debug is not worked in java 11?","body":"<p><strong><strong>This is using my Dockerfile</strong></strong></p>\n<pre><code>FROM lpicanco/java11-alpine\nVOLUME /tmp\nADD knetconfig /tmp/knetconfig\nADD grpc_health_probe_linux_x64 /app/grpc_health_probe_linux_x64\nRUN chmod +x /app/grpc_health_probe_linux_x64\nADD aero-pay-core-service-latest.jar app.jar\nRUN sh -c 'touch /app.jar'\nEXPOSE 5005\nENV JAVA_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -Djava.security.egd=file:/dev/./urandom&quot;\nENTRYPOINT java $JAVA_OPTS -jar /app.jar\n</code></pre>\n<p><strong>But it getting this error in building time,I am using java 11,</strong></p>\n<pre><code>Error occurred during initialization of VM\nCould not find agent library jdwp on the library path, with error: libjdwp.so: cannot open shared object file: No such file or directory\n</code></pre>\n<p>What would be the best possible options?</p>\n"},{"tags":["java","spring","asyncapi"],"answers":[{"tags":[],"owner":{"account_id":23239143,"reputation":116,"user_id":17328756,"display_name":"matatjahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663834896,"creation_date":1663834896,"answer_id":73811439,"question_id":73810579,"body_markdown":"In current AsyncAPI Specification (at the time of writing - for version 2.4.0) you can use only `deprecated` keyword in the Schema Object. If you think that deprecation of Message Object (like in your example) or Channel/Operation Object should be allowed in spec, you can create issue for that https://github.com/asyncapi/spec/issues or even crate proposal for newer versions of spec.\r\n\r\nYou can check how spec looks like here https://github.com/asyncapi/spec/blob/master/spec/asyncapi.md","title":"AsyncApi mark channel as deprecated","body":"<p>In current AsyncAPI Specification (at the time of writing - for version 2.4.0) you can use only <code>deprecated</code> keyword in the Schema Object. If you think that deprecation of Message Object (like in your example) or Channel/Operation Object should be allowed in spec, you can create issue for that <a href=\"https://github.com/asyncapi/spec/issues\" rel=\"nofollow noreferrer\">https://github.com/asyncapi/spec/issues</a> or even crate proposal for newer versions of spec.</p>\n<p>You can check how spec looks like here <a href=\"https://github.com/asyncapi/spec/blob/master/spec/asyncapi.md\" rel=\"nofollow noreferrer\">https://github.com/asyncapi/spec/blob/master/spec/asyncapi.md</a></p>\n"},{"tags":[],"owner":{"account_id":2387508,"reputation":679,"user_id":2088167,"display_name":"Lukasz Gornicki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663847942,"creation_date":1663847942,"answer_id":73814269,"question_id":73810579,"body_markdown":"There is no way to specify a deprecated channel in AsyncAPI using some special property.\r\n\r\nPlease join the related discussion in the AsyncAPI spec repository -&gt; https://github.com/asyncapi/spec/issues/305 and share your opinion on proposed solutions\r\n\r\nFor now, we only heard opinions from people that are related to maintenance of different specifications like AsyncAPI, OpenAPI, and JSON Schema, but not much info from users that need it.\r\n\r\n\r\n","title":"AsyncApi mark channel as deprecated","body":"<p>There is no way to specify a deprecated channel in AsyncAPI using some special property.</p>\n<p>Please join the related discussion in the AsyncAPI spec repository -&gt; <a href=\"https://github.com/asyncapi/spec/issues/305\" rel=\"nofollow noreferrer\">https://github.com/asyncapi/spec/issues/305</a> and share your opinion on proposed solutions</p>\n<p>For now, we only heard opinions from people that are related to maintenance of different specifications like AsyncAPI, OpenAPI, and JSON Schema, but not much info from users that need it.</p>\n"}],"owner":{"account_id":12583803,"reputation":47,"user_id":9153532,"display_name":"philgsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73811439,"answer_count":2,"score":0,"last_activity_date":1663855443,"creation_date":1663830320,"question_id":73810579,"body_markdown":"I am currently working on my API documentation with AsyncApi. I couldn&#39;t find an example of marking a channel as deprecated, does anyone know how to do that?\r\nI tried it as follow, but there is no visible sign that the channel is deprecated when accessing the api.\r\n\r\n    channels:\r\n      queuing.XXX:\r\n        description: &gt;\r\n          ....\r\n        publish:\r\n          message:\r\n            oneOf:\r\n              - name: XXX\r\n                description: &gt;\r\n                  ...\r\n                deprecated: true\r\n                payload:\r\n                  $ref: &#39;#/components/schemas/XXX&#39;\r\n    ...","title":"AsyncApi mark channel as deprecated","body":"<p>I am currently working on my API documentation with AsyncApi. I couldn't find an example of marking a channel as deprecated, does anyone know how to do that?\nI tried it as follow, but there is no visible sign that the channel is deprecated when accessing the api.</p>\n<pre><code>channels:\n  queuing.XXX:\n    description: &gt;\n      ....\n    publish:\n      message:\n        oneOf:\n          - name: XXX\n            description: &gt;\n              ...\n            deprecated: true\n            payload:\n              $ref: '#/components/schemas/XXX'\n...\n</code></pre>\n"},{"tags":["java","spring-boot","api","axios","registration"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1616458178,"post_id":66755214,"comment_id":118003935,"body_markdown":"There&#39;s no `userRepository` in the code you showed. More generally, eliminate `@Autowired` fields; they&#39;re a notorious source of problems. Replace them with constructor parameters (Spring understands these automatically with no need for annotations if you have only one constructor).","body":"There&#39;s no <code>userRepository</code> in the code you showed. More generally, eliminate <code>@Autowired</code> fields; they&#39;re a notorious source of problems. Replace them with constructor parameters (Spring understands these automatically with no need for annotations if you have only one constructor)."},{"owner":{"display_name":"user15424420"},"score":0,"creation_date":1616458518,"post_id":66755214,"comment_id":118003993,"body_markdown":"@chrylis-cautiouslyoptimistic- I updated my code and am still getting the same error","body":"@chrylis-cautiouslyoptimistic- I updated my code and am still getting the same error"},{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":1,"creation_date":1616458787,"post_id":66755214,"comment_id":118004056,"body_markdown":"The code you have pasted, doesn&#39;t have `@Autowired` on repository reference or parameterized constructor for all the dependencies in your controller class.","body":"The code you have pasted, doesn&#39;t have <code>@Autowired</code> on repository reference or parameterized constructor for all the dependencies in your controller class."}],"answers":[{"tags":[],"owner":{"account_id":4089940,"reputation":196,"user_id":3358231,"accept_rate":75,"display_name":"fo0"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1616460038,"creation_date":1616460038,"answer_id":66755711,"question_id":66755214,"body_markdown":"Simply add @Autowired to your related fields you want to get Autowired by spring.\r\n\r\nChange your code from \r\n```java\r\n   @Autowired\r\n    UserService userService;\r\n    UserRepository userRepository;\r\n    AuthenticationTokenRepository authenticationTokenRepository;\r\n```\r\n\r\nto\r\n\r\n```java\r\n   @Autowired\r\n    UserService userService;\r\n\r\n   @Autowired\r\n    UserRepository userRepository;\r\n\r\n   @Autowired\r\n    AuthenticationTokenRepository authenticationTokenRepository;\r\n```\r\n","title":"Cannot invoke findByEmail because &quot;this.userRepository&quot; is null error","body":"<p>Simply add @Autowired to your related fields you want to get Autowired by spring.</p>\n<p>Change your code from</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Autowired\n    UserService userService;\n    UserRepository userRepository;\n    AuthenticationTokenRepository authenticationTokenRepository;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Autowired\n    UserService userService;\n\n   @Autowired\n    UserRepository userRepository;\n\n   @Autowired\n    AuthenticationTokenRepository authenticationTokenRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6750601,"reputation":146,"user_id":5200702,"display_name":"Saddam Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634882260,"creation_date":1634882260,"answer_id":69672034,"question_id":66755214,"body_markdown":"I have two solutions for this.\r\n\r\n1. Eliminate @Autowired from fields;\r\nReplace them with constructor parameters (Spring understands these automatically with no need for @Autowired annotations if you have only one constructor).\r\n\r\n2. Create field injection with @Autowired in you &quot;config class&quot; eg(Security config) and create your target class object with parameterized constructor and pass the injected filed.","title":"Cannot invoke findByEmail because &quot;this.userRepository&quot; is null error","body":"<p>I have two solutions for this.</p>\n<ol>\n<li><p>Eliminate @Autowired from fields;\nReplace them with constructor parameters (Spring understands these automatically with no need for @Autowired annotations if you have only one constructor).</p>\n</li>\n<li><p>Create field injection with @Autowired in you &quot;config class&quot; eg(Security config) and create your target class object with parameterized constructor and pass the injected filed.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22377054,"reputation":1,"user_id":17426496,"display_name":"K&#252;rşat Şimşek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663855434,"creation_date":1663855434,"answer_id":73816045,"question_id":66755214,"body_markdown":"try add below property to your application.properties file.\r\n\r\n    spring.jpa.properties.javax.persistence.validation.mode=none","title":"Cannot invoke findByEmail because &quot;this.userRepository&quot; is null error","body":"<p>try add below property to your application.properties file.</p>\n<pre><code>spring.jpa.properties.javax.persistence.validation.mode=none\n</code></pre>\n"}],"owner":{"display_name":"user15424420"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6010,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66755711,"answer_count":3,"score":4,"last_activity_date":1663855434,"creation_date":1616455828,"question_id":66755214,"body_markdown":"I keep receiving a Cannot invoke &quot;com.***.repositories.UserRepository.findByEmail(String)&quot; because &quot;this.userRepository&quot; is null error everytime I try to process my /register method.\r\n\r\nI can&#39;t figure out why the code is coming across as null.\r\n\r\nController - \r\n\r\n    @Controller\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    @CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\r\n    public class AuthenticationController {\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n        UserRepository userRepository;\r\n        AuthenticationTokenRepository authenticationTokenRepository;\r\n    \r\n        @PostMapping(value = &quot;/register&quot;)\r\n        public ModelAndView registerUser(ModelAndView modelAndView, User user) {\r\n            User existingUser = userRepository.findByEmail(user.getEmail());\r\n            if (existingUser != null) {\r\n                modelAndView.addObject(&quot;message&quot;, &quot;This email already exists!&quot;);\r\n                modelAndView.setViewName(&quot;error&quot;);\r\n            } else {\r\n                userRepository.save(user);\r\n    \r\n                AuthenticationToken authenticationToken = new AuthenticationToken(user);\r\n                authenticationTokenRepository.save(authenticationToken);\r\n    \r\n                SimpleMailMessage mailMessage = new SimpleMailMessage();\r\n                mailMessage.setTo(user.getEmail());\r\n                mailMessage.setSubject(&quot;Complete Registration!&quot;);\r\n                mailMessage.setFrom(&quot;***@gmail.com&quot;);\r\n                mailMessage.setText(&quot;To confirm your account, please click here : &quot;\r\n                        + &quot;http://localhost:8080/confirm-account?token=&quot; + authenticationToken.getConfirmationToken());\r\n    \r\n                emailSenderService.sendEmail(mailMessage);\r\n                modelAndView.addObject(&quot;email&quot;, user.getEmail());\r\n                modelAndView.setViewName(&quot;successfulRegisteration&quot;);\r\n            }\r\n            return modelAndView;\r\n        }\r\n    \r\n    }\r\n\r\nAxios call - \r\n\r\n    submit() {\r\n      let formData = new FormData();\r\n      formData.set(&quot;firstName&quot; , this.firstName)\r\n      formData.set(&quot;lastName&quot;, this.lastName)\r\n      formData.set(&quot;email&quot;, this.email)\r\n      formData.set(&quot;password&quot;, this.password)\r\n      formData.set(&quot;captchaToken&quot;, this.captchaToken)\r\n      formData.set(&quot;agreedToTermsOfService&quot;, true)\r\n      axios.post(&quot;http://localhost:8080/api/v1/register&quot;, formData,\r\n          {headers: {&#39;Content-Type&#39;: &#39;application/json&#39;}})\r\n          .then(res =&gt;  {\r\n            if (res.status === 200) {\r\n              this.$router.push(&#39;/register-complete&#39;);\r\n            } else {\r\n              console.log(res.data.code);\r\n            }\r\n          })\r\n          .catch(function (err) {\r\n            console.log(err);\r\n          })\r\n    }\r\n\r\nMy UserRepository - \r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        User findByEmail(String email);\r\n    }","title":"Cannot invoke findByEmail because &quot;this.userRepository&quot; is null error","body":"<p>I keep receiving a Cannot invoke &quot;com.***.repositories.UserRepository.findByEmail(String)&quot; because &quot;this.userRepository&quot; is null error everytime I try to process my /register method.</p>\n<p>I can't figure out why the code is coming across as null.</p>\n<p>Controller -</p>\n<pre><code>@Controller\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\n@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\npublic class AuthenticationController {\n\n    @Autowired\n    UserService userService;\n    UserRepository userRepository;\n    AuthenticationTokenRepository authenticationTokenRepository;\n\n    @PostMapping(value = &quot;/register&quot;)\n    public ModelAndView registerUser(ModelAndView modelAndView, User user) {\n        User existingUser = userRepository.findByEmail(user.getEmail());\n        if (existingUser != null) {\n            modelAndView.addObject(&quot;message&quot;, &quot;This email already exists!&quot;);\n            modelAndView.setViewName(&quot;error&quot;);\n        } else {\n            userRepository.save(user);\n\n            AuthenticationToken authenticationToken = new AuthenticationToken(user);\n            authenticationTokenRepository.save(authenticationToken);\n\n            SimpleMailMessage mailMessage = new SimpleMailMessage();\n            mailMessage.setTo(user.getEmail());\n            mailMessage.setSubject(&quot;Complete Registration!&quot;);\n            mailMessage.setFrom(&quot;***@gmail.com&quot;);\n            mailMessage.setText(&quot;To confirm your account, please click here : &quot;\n                    + &quot;http://localhost:8080/confirm-account?token=&quot; + authenticationToken.getConfirmationToken());\n\n            emailSenderService.sendEmail(mailMessage);\n            modelAndView.addObject(&quot;email&quot;, user.getEmail());\n            modelAndView.setViewName(&quot;successfulRegisteration&quot;);\n        }\n        return modelAndView;\n    }\n\n}\n</code></pre>\n<p>Axios call -</p>\n<pre><code>submit() {\n  let formData = new FormData();\n  formData.set(&quot;firstName&quot; , this.firstName)\n  formData.set(&quot;lastName&quot;, this.lastName)\n  formData.set(&quot;email&quot;, this.email)\n  formData.set(&quot;password&quot;, this.password)\n  formData.set(&quot;captchaToken&quot;, this.captchaToken)\n  formData.set(&quot;agreedToTermsOfService&quot;, true)\n  axios.post(&quot;http://localhost:8080/api/v1/register&quot;, formData,\n      {headers: {'Content-Type': 'application/json'}})\n      .then(res =&gt;  {\n        if (res.status === 200) {\n          this.$router.push('/register-complete');\n        } else {\n          console.log(res.data.code);\n        }\n      })\n      .catch(function (err) {\n        console.log(err);\n      })\n}\n</code></pre>\n<p>My UserRepository -</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findByEmail(String email);\n}\n</code></pre>\n"},{"tags":["java","html","image","quarkus","quarkus-reactive"],"comments":[{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1663853744,"post_id":73667781,"comment_id":130340863,"body_markdown":"Hello, it seems that your path is wrong, static files never will be served from /api/user/filename automatically. So either you&#39;ve added custom path for static files OR you need to set correct path. Please update your question with more context","body":"Hello, it seems that your path is wrong, static files never will be served from /api/user/filename automatically. So either you&#39;ve added custom path for static files OR you need to set correct path. Please update your question with more context"},{"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"score":0,"creation_date":1687714597,"post_id":73667781,"comment_id":134971846,"body_markdown":"You should put your image in **META-INF/resources/api/user/image.jpg** . Also if **api** is your context path then put your image in **META-INF/resources/user/image.jpg**","body":"You should put your image in <b>META-INF/resources/api/user/image.jpg</b> . Also if <b>api</b> is your context path then put your image in <b>META-INF/resources/user/image.jpg</b>"}],"answers":[{"tags":[],"owner":{"account_id":21389666,"reputation":18,"user_id":15753991,"display_name":"ko.alen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663855168,"creation_date":1663855168,"answer_id":73815989,"question_id":73667781,"body_markdown":"It seems your HTTP path is wrong. It should look like this: \r\n`GET http://localhost:8080/logo.png`\r\n\r\nTry to inspect (CTRL + I) your page go to sources and try to figure out where is the problem...\r\n\r\nHere is example on my project: `META-INF/resources/logo.png`\r\n[resources path][1] \r\n, and here is my img tag `&lt;img id=&quot;logo&quot; src=&quot;logo.png&quot; alt=&quot;Logo&quot;&gt;`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZSlST.png","title":"Quarkus: Qute Template Static Images Source Path","body":"<p>It seems your HTTP path is wrong. It should look like this:\n<code>GET http://localhost:8080/logo.png</code></p>\n<p>Try to inspect (CTRL + I) your page go to sources and try to figure out where is the problem...</p>\n<p>Here is example on my project: <code>META-INF/resources/logo.png</code>\n<a href=\"https://i.stack.imgur.com/ZSlST.png\" rel=\"nofollow noreferrer\">resources path</a>\n, and here is my img tag <code>&lt;img id=&quot;logo&quot; src=&quot;logo.png&quot; alt=&quot;Logo&quot;&gt;</code></p>\n"}],"owner":{"account_id":19499514,"reputation":3,"user_id":14275693,"display_name":"Ricardo Waldow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73815989,"answer_count":1,"score":0,"last_activity_date":1663855168,"creation_date":1662760071,"question_id":73667781,"body_markdown":"### I am making a Qute Template and there is a logo image in the header that I need to have loaded.&lt;br&gt; \r\nThe path that is being used within the html is this:\r\n ```&lt;img style=&quot;width: 10cm;&quot; src=&quot;logo.png&quot; alt=&quot;Logo Flower&quot;&gt;```\r\n&lt;br&gt;&lt;br&gt;The image path from the main folder is ```resources/META-INF/resources/logo.png```.&lt;br&gt;[Click here to see the folders.][1] \r\n&lt;br&gt;&lt;br&gt;When the template is rendered, the image is not loaded and shows an error on the GET request: &lt;br&gt;\r\n##### ``` GET http://localhost:8080/api/user/logo.png 404 (Not Found)```\r\n&lt;br&gt;Does anyone have an answer on how to put the path of static files correctly in Qute templates?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zF291.jpg","title":"Quarkus: Qute Template Static Images Source Path","body":"<h3>I am making a Qute Template and there is a logo image in the header that I need to have loaded.<br></h3>\n<p>The path that is being used within the html is this:\n<code>&lt;img style=&quot;width: 10cm;&quot; src=&quot;logo.png&quot; alt=&quot;Logo Flower&quot;&gt;</code>\n<br><br>The image path from the main folder is <code>resources/META-INF/resources/logo.png</code>.<br><a href=\"https://i.stack.imgur.com/zF291.jpg\" rel=\"nofollow noreferrer\">Click here to see the folders.</a>\n<br><br>When the template is rendered, the image is not loaded and shows an error on the GET request: <br></p>\n<h5><code> GET http://localhost:8080/api/user/logo.png 404 (Not Found)</code></h5>\n<p><br>Does anyone have an answer on how to put the path of static files correctly in Qute templates?</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign"],"comments":[{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":0,"creation_date":1663674411,"post_id":73742384,"comment_id":130290802,"body_markdown":"Can you show your configuration class and your feign interface please ?","body":"Can you show your configuration class and your feign interface please ?"},{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":0,"creation_date":1663675485,"post_id":73742384,"comment_id":130291235,"body_markdown":"Maybe you just need to set a constructor in the FeignEmptyConfig.","body":"Maybe you just need to set a constructor in the FeignEmptyConfig."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1663682779,"post_id":73742384,"comment_id":130294252,"body_markdown":"@Zabon I added a repository where I replicate the issue; what constructor should I set in the empty config?","body":"@Zabon I added a repository where I replicate the issue; what constructor should I set in the empty config?"},{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":0,"creation_date":1663683319,"post_id":73742384,"comment_id":130294443,"body_markdown":"If your class extends another you have to add the super inside your constructor. But since your class doesn&#39;t have any properties, only beans, I&#39;m not sure of what I&#39;m saying.","body":"If your class extends another you have to add the super inside your constructor. But since your class doesn&#39;t have any properties, only beans, I&#39;m not sure of what I&#39;m saying."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1663684184,"post_id":73742384,"comment_id":130294780,"body_markdown":"@Zabon there is a implicit super() call anyway https://stackoverflow.com/a/10508202/11478354","body":"@Zabon there is a implicit super() call anyway <a href=\"https://stackoverflow.com/a/10508202/11478354\">stackoverflow.com/a/10508202/11478354</a>"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1663855037,"creation_date":1663318696,"question_id":73742384,"body_markdown":"I have several Feign clients, with different configurations. The common config looks like the following\r\n\r\n    public class FeignLogConfig {\r\n        @Bean\r\n        public LogOkHttpInterceptor LogOkHttpInterceptor() { //custom interceptor\r\n            return new LogOkHttpInterceptor(); \r\n        }\r\n    \r\n        @Bean\r\n        public feign.okhttp.OkHttpClient okHttpClient(LogOkHttpInterceptor interceptor) {\r\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n            builder.addInterceptor(interceptor);\r\n            return new feign.okhttp.OkHttpClient(builder.build());\r\n        }\r\n    }\r\n\r\nthat can be further extended \r\n\r\n    public class FeignRetryerConfig extends FeignLogConfig {\r\n        @Bean\r\n        public Retryer retryer() {\r\n            return new Retryer.Default(100, 500, 5);\r\n        }\r\n    }\r\n\r\nor simply\r\n\r\n    public class FeignEmptyConfig extends FeignLogConfig {}\r\n\r\nA client annotated with\r\n\r\n    @FeignClient(value = &quot;retryClient&quot;, url = url, configuration = FeignRetryerConfig.class)\r\n\r\nor\r\n\r\n    @FeignClient(value = &quot;logClient&quot;, url = url, configuration = FeignLogConfig.class)\r\n\r\nwill actually use the defined interceptor, yet\r\n\r\n    @FeignClient(value = &quot;emptyClient&quot;, url = url, configuration = FeignEmptyConfig.class)\r\n\r\nwould not use the `LogOkHttpInterceptor`. I can&#39;t find an explanation on the [documentation](https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html), so I don&#39;t know if I&#39;m actually missing something.\r\n\r\nA minimal example can be found [here](https://github.com/dcolazin/reprexes/tree/main/SO_73742384). \r\n\r\nEDIT: to me, at the moment, seems not related to Feign, but to how Spring aggregates the configurations. While the above `FeignEmptyConfig` doesn&#39;t work, the following does work!\r\n\r\n    @Import(CommonFeignConfig.class)\r\n    public class EmptyFeignConfig {}","title":"Empty Feign configuration is not extended","body":"<p>I have several Feign clients, with different configurations. The common config looks like the following</p>\n<pre><code>public class FeignLogConfig {\n    @Bean\n    public LogOkHttpInterceptor LogOkHttpInterceptor() { //custom interceptor\n        return new LogOkHttpInterceptor(); \n    }\n\n    @Bean\n    public feign.okhttp.OkHttpClient okHttpClient(LogOkHttpInterceptor interceptor) {\n        OkHttpClient.Builder builder = new OkHttpClient.Builder();\n        builder.addInterceptor(interceptor);\n        return new feign.okhttp.OkHttpClient(builder.build());\n    }\n}\n</code></pre>\n<p>that can be further extended</p>\n<pre><code>public class FeignRetryerConfig extends FeignLogConfig {\n    @Bean\n    public Retryer retryer() {\n        return new Retryer.Default(100, 500, 5);\n    }\n}\n</code></pre>\n<p>or simply</p>\n<pre><code>public class FeignEmptyConfig extends FeignLogConfig {}\n</code></pre>\n<p>A client annotated with</p>\n<pre><code>@FeignClient(value = &quot;retryClient&quot;, url = url, configuration = FeignRetryerConfig.class)\n</code></pre>\n<p>or</p>\n<pre><code>@FeignClient(value = &quot;logClient&quot;, url = url, configuration = FeignLogConfig.class)\n</code></pre>\n<p>will actually use the defined interceptor, yet</p>\n<pre><code>@FeignClient(value = &quot;emptyClient&quot;, url = url, configuration = FeignEmptyConfig.class)\n</code></pre>\n<p>would not use the <code>LogOkHttpInterceptor</code>. I can't find an explanation on the <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\" rel=\"nofollow noreferrer\">documentation</a>, so I don't know if I'm actually missing something.</p>\n<p>A minimal example can be found <a href=\"https://github.com/dcolazin/reprexes/tree/main/SO_73742384\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>EDIT: to me, at the moment, seems not related to Feign, but to how Spring aggregates the configurations. While the above <code>FeignEmptyConfig</code> doesn't work, the following does work!</p>\n<pre><code>@Import(CommonFeignConfig.class)\npublic class EmptyFeignConfig {}\n</code></pre>\n"},{"tags":["java","android","json","api","retrofit"],"comments":[{"owner":{"account_id":8044120,"reputation":1527,"user_id":6600637,"display_name":"Shynline"},"score":0,"creation_date":1580382373,"post_id":59848333,"comment_id":106082838,"body_markdown":"What do you have inside your adapter class? \ncom.fayamedia.otakucounter.SearchResultAdapter","body":"What do you have inside your adapter class?  com.fayamedia.otakucounter.SearchResultAdapter"}],"answers":[{"tags":[],"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580384096,"creation_date":1580384096,"answer_id":59985138,"question_id":59848333,"body_markdown":"Take a good look here:\r\n\r\n    @SerializedName(&quot;result&quot;)\r\n    private List&lt;Result&gt; result;\r\n\r\nYou&#39;re missing an `s` at the end, in the serialized name. \r\n\r\nShould be:\r\n\r\n    @SerializedName(&quot;results&quot;)\r\n    private List&lt;Result&gt; result;\r\nI actually pasted the link into my browser, and looking at the relevant `JSON`, here&#39;s an excerpt:\r\n\r\n    ...&quot;results&quot;:[{&quot;mal_id&quot;:20,&quot;url&quot;:&quot;https:\\/\\/myanimelist.net\\/anime\\/...\r\nPay attention to the serialized names, they must match perfectly.\r\nYou can use [JSON formatter][1] to better view the `JSON`, I linked the one I use, there&#39;s probably plenty others too.\r\n\r\n\r\n  [1]: https://jsonformatter.curiousconcept.com/","title":"API doesn&#39;t load","body":"<p>Take a good look here:</p>\n\n<pre><code>@SerializedName(\"result\")\nprivate List&lt;Result&gt; result;\n</code></pre>\n\n<p>You're missing an <code>s</code> at the end, in the serialized name. </p>\n\n<p>Should be:</p>\n\n<pre><code>@SerializedName(\"results\")\nprivate List&lt;Result&gt; result;\n</code></pre>\n\n<p>I actually pasted the link into my browser, and looking at the relevant <code>JSON</code>, here's an excerpt:</p>\n\n<pre><code>...\"results\":[{\"mal_id\":20,\"url\":\"https:\\/\\/myanimelist.net\\/anime\\/...\n</code></pre>\n\n<p>Pay attention to the serialized names, they must match perfectly.\nYou can use <a href=\"https://jsonformatter.curiousconcept.com/\" rel=\"nofollow noreferrer\">JSON formatter</a> to better view the <code>JSON</code>, I linked the one I use, there's probably plenty others too.</p>\n"}],"owner":{"account_id":16274699,"reputation":131,"user_id":11752173,"display_name":"NuiDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1580431185,"accepted_answer_id":59985138,"answer_count":1,"score":1,"last_activity_date":1663854909,"creation_date":1579636636,"question_id":59848333,"body_markdown":"So basically I tried to make a watchlist app, but It keeps crashing when I search for A title.\r\n\r\nI&#39;m using the JikanAPI with `Retrofit`, Please help me out because I&#39;m trying to fix this in a week.\r\nI&#39;m dying inside :)\r\n\r\nhere is the error log:\r\n\r\n    2020-01-21 20:46:32.150 5817-5946/r D/OkHttp: &lt;-- 200 OK https://api.jikan.moe/v3/search/anime?q=Naruto (90ms)\r\n    2020-01-21 20:46:32.150 2583-5920/? I/PTCommittedOperation: Receive new configuration for com.google.android.gms.recaptcha\r\n    2020-01-21 20:46:32.150 5817-5946/r D/OkHttp: Server: nginx/1.14.0 (Ubuntu)\r\n    2020-01-21 20:46:32.151 5817-5946/r D/OkHttp: Date: Tue, 21 Jan 2020 19:46:28 GMT\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Content-Type: application/json\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Transfer-Encoding: chunked\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Connection: keep-alive\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Access-Control-Allow-Origin: *\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Access-Control-Allow-Methods: *\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Cache-Control: private, must-revalidate\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: ETag: &quot;f2334f607ed65dd32876ff25881f2b6b&quot;\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Request-Hash: request:search:27c14c264a514e16a400698fd3622304b3a7f99a\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Request-Cached: 1\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Request-Cache-Ttl: 404176\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Expires: Sun, 26 Jan 2020 11:19:35 GMT\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Vary: Accept-Encoding\r\n    2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Cache-Status: HIT\r\n    2020-01-21 20:46:32.154 5817-5946/r D/OkHttp: {&quot;request_hash&quot;:&quot;request:search:27c14c264a514e16a400698fd3622304b3a7f99a&quot;,&quot;request_cached&quot;:true,&quot;request_cache_expiry&quot;:404176,&quot;results&quot;:\r\n\r\n//:*GETS DATA*\r\n\r\n    2020-01-21 20:46:32.168 5817-5946/r D/OkHttp: &lt;-- END HTTP (31375-byte body)\r\n    2020-01-21 20:46:32.214 5817-5817/r D/AndroidRuntime: Shutting down VM\r\n    2020-01-21 20:46:32.232 5817-5817/r E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: r, PID: 5817\r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List r.SearchResponse.getResult()&#39; on a null object reference\r\n            at r.SearchResultAdapter.getItemCount(SearchResultAdapter.java:60)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:3834)\r\n            at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3330)\r\n            at android.view.View.measure(View.java:24530)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n            at android.view.View.measure(View.java:24530)\r\n            at androidx.constraintlayout.widget.ConstraintLayout.internalMeasureChildren(ConstraintLayout.java:1227)\r\n            at androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1572)\r\n            at android.view.View.measure(View.java:24530)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:143)\r\n            at android.view.View.measure(View.java:24530)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n            at android.view.View.measure(View.java:24530)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at android.view.View.measure(View.java:24530)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\r\n            at android.view.View.measure(View.java:24530)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\r\n            at com.android.internal.policy.DecorView.onMeasure(DecorView.java:742)\r\n            at android.view.View.measure(View.java:24530)\r\n            at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3006)\r\n            at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1833)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2122)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1721)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7598)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:966)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:790)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:725)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:951)\r\n            at android.os.Handler.handleCallback(Handler.java:883)\r\n            at android.os.Handler.dispatchMessage(Handler.java:100)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\n\r\nHere you can see that the app actually gets some data but it crashes after that.\r\n\r\nI made a class for Search (SearchResponse):\r\n\r\n    package r;\r\n    import android.os.Parcel;\r\n    import android.os.Parcelable;\r\n    \r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    import org.apache.commons.lang3.builder.ToStringBuilder;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class SearchResponse implements Parcelable {\r\n    \r\n        public static final Creator&lt;SearchResponse&gt; CREATOR = new Creator&lt;SearchResponse&gt;() {\r\n            @Override\r\n            public SearchResponse createFromParcel(Parcel in) {\r\n                return new SearchResponse(in);\r\n            }\r\n    \r\n            @Override\r\n            public SearchResponse[] newArray(int size) {\r\n                return new SearchResponse[size];\r\n            }\r\n        };\r\n        @SerializedName(&quot;request_hash&quot;)\r\n        private String requestHash;\r\n        @SerializedName(&quot;request_cached&quot;)\r\n        private Boolean requestCached;\r\n        @SerializedName(&quot;result&quot;)\r\n        private List&lt;Result&gt; result;\r\n        @SerializedName(&quot;result_last_page&quot;)\r\n        private Integer resultLastPage;\r\n    \r\n        protected SearchResponse(Parcel in) {\r\n            requestHash = in.readString();\r\n            byte tmpRequestCached = in.readByte();\r\n            requestCached = tmpRequestCached == 0 ? null : tmpRequestCached == 1;\r\n            result = in.createTypedArrayList(Result.CREATOR);\r\n            if (in.readByte() == 0) {\r\n                resultLastPage = null;\r\n            } else {\r\n                resultLastPage = in.readInt();\r\n            }\r\n        }\r\n    \r\n        public static Creator&lt;SearchResponse&gt; getCREATOR() {\r\n            return CREATOR;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return new ToStringBuilder(this).append(&quot;requestHash&quot;, requestHash).append(&quot;requestCached&quot;, requestCached).append(&quot;result&quot;, result).append(&quot;resultLastPage&quot;, resultLastPage).toString();\r\n        }\r\n    \r\n        @Override\r\n        public int describeContents() {\r\n            return 0;\r\n        }\r\n    \r\n        @Override\r\n        public void writeToParcel(Parcel dest, int flags) {\r\n            dest.writeString(requestHash);\r\n            dest.writeByte((byte) (requestCached == null ? 0 : requestCached ? 1 : 2));\r\n            dest.writeTypedList(result);\r\n            if (resultLastPage == null) {\r\n                dest.writeByte((byte) 0);\r\n            } else {\r\n                dest.writeByte((byte) 1);\r\n                dest.writeInt(resultLastPage);\r\n            }\r\n        }\r\n    \r\n        public String getRequestHash() {\r\n            return requestHash;\r\n        }\r\n    \r\n        public void setRequestHash(String requestHash) {\r\n            this.requestHash = requestHash;\r\n        }\r\n    \r\n        public Boolean getRequestCached() {\r\n            return requestCached;\r\n        }\r\n    \r\n        public void setRequestCached(Boolean requestCached) {\r\n            this.requestCached = requestCached;\r\n        }\r\n    \r\n        public List&lt;Result&gt; getResult() {\r\n            return result;\r\n        }\r\n    \r\n        public void setResult(List&lt;Result&gt; result) {\r\n            this.result = result;\r\n        }\r\n    \r\n        public Integer getResultLastPage() {\r\n            return resultLastPage;\r\n        }\r\n    \r\n        public void setResultLastPage(Integer resultLastPage) {\r\n            this.resultLastPage = resultLastPage;\r\n        }\r\n    }\r\n\r\n\r\nAnd I made a class for the base URL:\r\n\r\n    public class AnimesAPI {\r\n    \r\n    \r\n        private static Retrofit retrofit = null;\r\n    \r\n        public static Retrofit getRetrofit() {\r\n            HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n            interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n            OkHttpClient client = new OkHttpClient.Builder().connectTimeout(10, TimeUnit.SECONDS).readTimeout(10, TimeUnit.SECONDS).addInterceptor(interceptor).build();\r\n    \r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;https://api.jikan.moe&quot;)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .client(client)\r\n                    .build();\r\n    \r\n            return retrofit;\r\n    \r\n        }\r\n\r\n\r\n\r\nand for the search I added this:\r\n\r\n    public interface AnimesAPIInterface\r\n    {\r\n    \r\n        @GET(&quot;https://api.jikan.moe/v3/search/anime&quot;)\r\n        Call&lt;SearchResponse&gt; searchByAnimeTitle(@Query(&quot;q&quot;) String title);\r\n    \r\n    }\r\n\r\n","title":"API doesn&#39;t load","body":"<p>So basically I tried to make a watchlist app, but It keeps crashing when I search for A title.</p>\n<p>I'm using the JikanAPI with <code>Retrofit</code>, Please help me out because I'm trying to fix this in a week.\nI'm dying inside :)</p>\n<p>here is the error log:</p>\n<pre><code>2020-01-21 20:46:32.150 5817-5946/r D/OkHttp: &lt;-- 200 OK https://api.jikan.moe/v3/search/anime?q=Naruto (90ms)\n2020-01-21 20:46:32.150 2583-5920/? I/PTCommittedOperation: Receive new configuration for com.google.android.gms.recaptcha\n2020-01-21 20:46:32.150 5817-5946/r D/OkHttp: Server: nginx/1.14.0 (Ubuntu)\n2020-01-21 20:46:32.151 5817-5946/r D/OkHttp: Date: Tue, 21 Jan 2020 19:46:28 GMT\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Content-Type: application/json\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Transfer-Encoding: chunked\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Connection: keep-alive\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Access-Control-Allow-Origin: *\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Access-Control-Allow-Methods: *\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Cache-Control: private, must-revalidate\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: ETag: &quot;f2334f607ed65dd32876ff25881f2b6b&quot;\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Request-Hash: request:search:27c14c264a514e16a400698fd3622304b3a7f99a\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Request-Cached: 1\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Request-Cache-Ttl: 404176\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Expires: Sun, 26 Jan 2020 11:19:35 GMT\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: Vary: Accept-Encoding\n2020-01-21 20:46:32.152 5817-5946/r D/OkHttp: X-Cache-Status: HIT\n2020-01-21 20:46:32.154 5817-5946/r D/OkHttp: {&quot;request_hash&quot;:&quot;request:search:27c14c264a514e16a400698fd3622304b3a7f99a&quot;,&quot;request_cached&quot;:true,&quot;request_cache_expiry&quot;:404176,&quot;results&quot;:\n</code></pre>\n<p>//:<em>GETS DATA</em></p>\n<pre><code>2020-01-21 20:46:32.168 5817-5946/r D/OkHttp: &lt;-- END HTTP (31375-byte body)\n2020-01-21 20:46:32.214 5817-5817/r D/AndroidRuntime: Shutting down VM\n2020-01-21 20:46:32.232 5817-5817/r E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: r, PID: 5817\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List r.SearchResponse.getResult()' on a null object reference\n        at r.SearchResultAdapter.getItemCount(SearchResultAdapter.java:60)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:3834)\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3330)\n        at android.view.View.measure(View.java:24530)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:24530)\n        at androidx.constraintlayout.widget.ConstraintLayout.internalMeasureChildren(ConstraintLayout.java:1227)\n        at androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1572)\n        at android.view.View.measure(View.java:24530)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:143)\n        at android.view.View.measure(View.java:24530)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:24530)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at android.view.View.measure(View.java:24530)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)\n        at android.view.View.measure(View.java:24530)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6828)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:742)\n        at android.view.View.measure(View.java:24530)\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:3006)\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1833)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2122)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1721)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7598)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:966)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:790)\n        at android.view.Choreographer.doFrame(Choreographer.java:725)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:951)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>Here you can see that the app actually gets some data but it crashes after that.</p>\n<p>I made a class for Search (SearchResponse):</p>\n<pre><code>package r;\nimport android.os.Parcel;\nimport android.os.Parcelable;\n\nimport com.google.gson.annotations.SerializedName;\n\nimport org.apache.commons.lang3.builder.ToStringBuilder;\n\nimport java.util.List;\n\npublic class SearchResponse implements Parcelable {\n\n    public static final Creator&lt;SearchResponse&gt; CREATOR = new Creator&lt;SearchResponse&gt;() {\n        @Override\n        public SearchResponse createFromParcel(Parcel in) {\n            return new SearchResponse(in);\n        }\n\n        @Override\n        public SearchResponse[] newArray(int size) {\n            return new SearchResponse[size];\n        }\n    };\n    @SerializedName(&quot;request_hash&quot;)\n    private String requestHash;\n    @SerializedName(&quot;request_cached&quot;)\n    private Boolean requestCached;\n    @SerializedName(&quot;result&quot;)\n    private List&lt;Result&gt; result;\n    @SerializedName(&quot;result_last_page&quot;)\n    private Integer resultLastPage;\n\n    protected SearchResponse(Parcel in) {\n        requestHash = in.readString();\n        byte tmpRequestCached = in.readByte();\n        requestCached = tmpRequestCached == 0 ? null : tmpRequestCached == 1;\n        result = in.createTypedArrayList(Result.CREATOR);\n        if (in.readByte() == 0) {\n            resultLastPage = null;\n        } else {\n            resultLastPage = in.readInt();\n        }\n    }\n\n    public static Creator&lt;SearchResponse&gt; getCREATOR() {\n        return CREATOR;\n    }\n\n    @Override\n    public String toString() {\n        return new ToStringBuilder(this).append(&quot;requestHash&quot;, requestHash).append(&quot;requestCached&quot;, requestCached).append(&quot;result&quot;, result).append(&quot;resultLastPage&quot;, resultLastPage).toString();\n    }\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel dest, int flags) {\n        dest.writeString(requestHash);\n        dest.writeByte((byte) (requestCached == null ? 0 : requestCached ? 1 : 2));\n        dest.writeTypedList(result);\n        if (resultLastPage == null) {\n            dest.writeByte((byte) 0);\n        } else {\n            dest.writeByte((byte) 1);\n            dest.writeInt(resultLastPage);\n        }\n    }\n\n    public String getRequestHash() {\n        return requestHash;\n    }\n\n    public void setRequestHash(String requestHash) {\n        this.requestHash = requestHash;\n    }\n\n    public Boolean getRequestCached() {\n        return requestCached;\n    }\n\n    public void setRequestCached(Boolean requestCached) {\n        this.requestCached = requestCached;\n    }\n\n    public List&lt;Result&gt; getResult() {\n        return result;\n    }\n\n    public void setResult(List&lt;Result&gt; result) {\n        this.result = result;\n    }\n\n    public Integer getResultLastPage() {\n        return resultLastPage;\n    }\n\n    public void setResultLastPage(Integer resultLastPage) {\n        this.resultLastPage = resultLastPage;\n    }\n}\n</code></pre>\n<p>And I made a class for the base URL:</p>\n<pre><code>public class AnimesAPI {\n\n\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getRetrofit() {\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient client = new OkHttpClient.Builder().connectTimeout(10, TimeUnit.SECONDS).readTimeout(10, TimeUnit.SECONDS).addInterceptor(interceptor).build();\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;https://api.jikan.moe&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(client)\n                .build();\n\n        return retrofit;\n\n    }\n</code></pre>\n<p>and for the search I added this:</p>\n<pre><code>public interface AnimesAPIInterface\n{\n\n    @GET(&quot;https://api.jikan.moe/v3/search/anime&quot;)\n    Call&lt;SearchResponse&gt; searchByAnimeTitle(@Query(&quot;q&quot;) String title);\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","javax.validation"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663854398,"creation_date":1663854398,"answer_id":73815789,"question_id":73729570,"body_markdown":"Use the `@Pattern` annotation and write a regex that matches only valid ARNs. Also see https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Pattern.html","title":"How to validate a AWS ARN using JPA validator","body":"<p>Use the <code>@Pattern</code> annotation and write a regex that matches only valid ARNs. Also see <a href=\"https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Pattern.html</a></p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73815789,"answer_count":1,"score":0,"last_activity_date":1663854398,"creation_date":1663237846,"question_id":73729570,"body_markdown":"How to validate AWS ARN using JPA validator with Hibernate as the provider. Should we use a regex pattern\r\n\r\nFor example, we would like to make sure that it starts with `arn:aws:iam` for the following role\r\n\r\n    arn:aws:iam::344492858010:role/ABC_role\r\n    arn:aws:iam::355433858011:role/DEF_role","title":"How to validate a AWS ARN using JPA validator","body":"<p>How to validate AWS ARN using JPA validator with Hibernate as the provider. Should we use a regex pattern</p>\n<p>For example, we would like to make sure that it starts with <code>arn:aws:iam</code> for the following role</p>\n<pre><code>arn:aws:iam::344492858010:role/ABC_role\narn:aws:iam::355433858011:role/DEF_role\n</code></pre>\n"},{"tags":["java","hibernate","jpa","criteria"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663854255,"creation_date":1663854255,"answer_id":73815763,"question_id":73731496,"body_markdown":"Take a look into the documentation about how to specify table aliases in filter conditions: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#pc-filter-sql-fragment-alias","title":"JPA Criteria query combined with @Filter","body":"<p>Take a look into the documentation about how to specify table aliases in filter conditions: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#pc-filter-sql-fragment-alias\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#pc-filter-sql-fragment-alias</a></p>\n"}],"owner":{"account_id":25917081,"reputation":3,"user_id":19640317,"display_name":"Raoua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73815763,"answer_count":1,"score":0,"last_activity_date":1663854255,"creation_date":1663246348,"question_id":73731496,"body_markdown":"I have a scenario in which I want to use the hibernate annotation @Filter (activated only if the condition is satisfied) but the condition needs to use alias (*person* as in the code snippet, because there is an ambiguous column in personId) from the original one which is written within Criteria. Note that the filter condition is written in sql. Besides the ```root.alias(&quot;person&quot;)``` don&#39;t work in this situation. \r\n\r\nThe model class:\r\n```\r\n@Entity\r\n@Table(name = &quot;PERSON&quot;)\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@FilterDef(name = &quot;authorizePerson&quot;, parameters = {@ParamDef(name=&quot;userCode&quot;, type = &quot;string&quot;)})\r\n@Filter(name = &quot;authorizePerson&quot;, condition = \r\n\t\t&quot; NOT EXISTS (&quot;\r\n\t\t+ &quot;                SELECT&quot;\r\n\t\t+ &quot;                    multilevel1_.id_dossier,&quot;\r\n\t\t+ &quot;                    multilevel1_.type_dossier&quot;\r\n\t\t+ &quot;                FROM&quot;\r\n\t\t+ &quot;                    dossier_multiniv multilevel1_&quot;\r\n\t\t+ &quot;                WHERE&quot;\r\n\t\t+ &quot;                    multilevel1_.id_dossier = TO_CHAR(**person**.id_per)&quot;\r\n\t\t+ &quot;                    AND multilevel1_.type_dossier = &#39;PERSONNE&#39;&quot;\r\n\t\t+ &quot;            )&quot;\r\n\t\t+ &quot;OR EXISTS (&quot;\r\n\t\t+ &quot;                SELECT&quot;\r\n\t\t+ &quot;                    multilevel2_.id_dossier,&quot;\r\n\t\t+ &quot;                    multilevel2_.cd_util&quot;\r\n\t\t+ &quot;                FROM&quot;\r\n\t\t+ &quot;                    v_droits_multiniv_allusers multilevel2_&quot;\r\n\t\t+ &quot;                WHERE&quot;\r\n\t\t+ &quot;                    multilevel2_.cd_util = :userCode&quot;\r\n\t\t+ &quot;                    AND multilevel2_.id_dossier = TO_CHAR(**person**.id_per)&quot;\r\n\t\t+ &quot;                    AND multilevel2_.type_dossier = &#39;PERSONNE&#39;&quot;\r\n\t\t+ &quot;            )&quot;, deduceAliasInjectionPoints = true)\r\npublic class PersonPO implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID_PER&quot;)\r\n\tprivate Long personId;\r\n\r\n\t@Column(name = &quot;AFFICH_PER&quot;)\r\n\tprivate String archive;\r\n\r\n\t@Column(name = &quot;AUTH_ERROR&quot;)\r\n\tprivate Long numberOfConnectionErrors;\r\n\r\n    // bi-directional many-to-one association to Categper\r\n\t@OneToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;ID_PER&quot;)\r\n\tprivate PersonCategoryPO personCategory;\r\n  ...\r\n }\r\n```\r\nThen the service:\r\n```\r\n@Transactional\r\n\t@Override\r\n\tpublic Pageable&lt;IPersonBO&gt; findAllPersons(String stringFilter, Page page, Sort sort, String userCode) {\r\n\t\ttry {\r\n\t\t\tPredicate filterPredicate = null;\r\n\t\t\tCriteriaQuery&lt;PersonPO&gt; cq;\r\n\t\t\tRoot&lt;PersonPO&gt; root;\r\n\t\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\t\tPredicate allPredicates = cb.equal(cb.literal(1), 1);\r\n\t\t\tif (!stringFilter.isBlank()) {\r\n\t\t\t\tSearchCondition&lt;PersonPO&gt; filter = new FiqlParser&lt;PersonPO&gt;(PersonPO.class).parse(stringFilter);\r\n\t\t\t\tJPACriteriaQueryVisitor&lt;PersonPO, PersonPO&gt; jpa = new JPACriteriaQueryVisitor&lt;PersonPO, PersonPO&gt;(em,\r\n\t\t\t\t\t\tPersonPO.class, PersonPO.class);\r\n\t\t\t\tfilter.accept(jpa);\r\n\t\t\t\tcq = jpa.getQuery();\r\n\t\t\t\troot = (Root&lt;PersonPO&gt;) cq.getRoots().iterator().next();\r\n\t\t\t\tfilterPredicate = jpa.getQuery().getRestriction();\r\n\t\t\t\tallPredicates = filterPredicate;\r\n\t\t\t} else {\r\n\t\t\t\tcq = cb.createQuery(PersonPO.class);\r\n\t\t\t\troot =cq.from(PersonPO.class);\r\n\t\t\t}\r\n\t\t\tcq.select(root.alias(&quot;person&quot;));\r\n\t\t\tFetch&lt;PersonPO, PersonCategoryPO&gt; pc = root.fetch(&quot;personCategory&quot;);\r\n\t\t\tFetch&lt;PersonCategoryPO, CategoryPO&gt; category = pc.fetch(&quot;category&quot;);\r\n\t\t\tCriteriaQuery&lt;Long&gt; cqCount = cb.createQuery(Long.class);\r\n\t\t\tcqCount.select(cb.count(cqCount.from(PersonPO.class)));\r\n            if (multiLevelIsActif()) {\r\n\t\t\t\tif (userCode != null) {\r\n\t\t\t\t\tFilter filter = session.enableFilter(&quot;authorizePerson&quot;);\r\n\t\t\t\t\tfilter.setParameter(&quot;userCode&quot;, userCode);\r\n\t\t\t\t}\r\n            }\r\n            cq.where(allPredicates);\r\n\t\t\tcqCount.where(allPredicates);\r\n\r\n\t\t\t// sort\r\n\t\t\tJpaUtils.handleSort(sort, cq, cb, root);\r\n\r\n\t\t\t// get results\r\n\t\t\tTypedQuery&lt;PersonPO&gt; query = em.createQuery(cq);\r\n\t\t\tif (page != null) {\r\n\t\t\t\tquery.setFirstResult(page.getFirstResult()).setMaxResults(page.getPageSize());\r\n\t\t\t}\r\n\t\t\tList&lt;IPersonBO&gt; items = query.getResultStream().map(c -&gt; getPerson((PersonPO) c))\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\r\n\t\t\t// count results\r\n\t\t\tLong totalSize = 0l;\r\n\t\t\ttotalSize = em.createQuery(cqCount).getSingleResult();\r\n\r\n\t\t\treturn new Pageable&lt;IPersonBO&gt;(items, totalSize, page);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(e.getMessage());\r\n\t\t\treturn null;\r\n\t\t}\r\n```\r\nWhy the sql-show still generates query and never consider the alias (person) like below ?\r\n\r\n```\r\n        select\r\n            personpo0_.ID_PER as id_per1_102_,\r\n\t\t...\r\n        from\r\n            RKHATERCHI2.PERSONNE personpo0_ \r\n\t\t...\r\n        where\r\n            1=1 \r\n        order by\r\n            personpo0_.ID_PER desc\r\n```\r\nIs there a way how to enforce the alias in JPA/Criteria so that I can use it in the filter condition?\r\nYour thoughts are appreciated.","title":"JPA Criteria query combined with @Filter","body":"<p>I have a scenario in which I want to use the hibernate annotation @Filter (activated only if the condition is satisfied) but the condition needs to use alias (<em>person</em> as in the code snippet, because there is an ambiguous column in personId) from the original one which is written within Criteria. Note that the filter condition is written in sql. Besides the <code>root.alias(&quot;person&quot;)</code> don't work in this situation.</p>\n<p>The model class:</p>\n<pre><code>@Entity\n@Table(name = &quot;PERSON&quot;)\n@NoArgsConstructor\n@Getter\n@Setter\n@Inheritance(strategy = InheritanceType.JOINED)\n@FilterDef(name = &quot;authorizePerson&quot;, parameters = {@ParamDef(name=&quot;userCode&quot;, type = &quot;string&quot;)})\n@Filter(name = &quot;authorizePerson&quot;, condition = \n        &quot; NOT EXISTS (&quot;\n        + &quot;                SELECT&quot;\n        + &quot;                    multilevel1_.id_dossier,&quot;\n        + &quot;                    multilevel1_.type_dossier&quot;\n        + &quot;                FROM&quot;\n        + &quot;                    dossier_multiniv multilevel1_&quot;\n        + &quot;                WHERE&quot;\n        + &quot;                    multilevel1_.id_dossier = TO_CHAR(**person**.id_per)&quot;\n        + &quot;                    AND multilevel1_.type_dossier = 'PERSONNE'&quot;\n        + &quot;            )&quot;\n        + &quot;OR EXISTS (&quot;\n        + &quot;                SELECT&quot;\n        + &quot;                    multilevel2_.id_dossier,&quot;\n        + &quot;                    multilevel2_.cd_util&quot;\n        + &quot;                FROM&quot;\n        + &quot;                    v_droits_multiniv_allusers multilevel2_&quot;\n        + &quot;                WHERE&quot;\n        + &quot;                    multilevel2_.cd_util = :userCode&quot;\n        + &quot;                    AND multilevel2_.id_dossier = TO_CHAR(**person**.id_per)&quot;\n        + &quot;                    AND multilevel2_.type_dossier = 'PERSONNE'&quot;\n        + &quot;            )&quot;, deduceAliasInjectionPoints = true)\npublic class PersonPO implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;ID_PER&quot;)\n    private Long personId;\n\n    @Column(name = &quot;AFFICH_PER&quot;)\n    private String archive;\n\n    @Column(name = &quot;AUTH_ERROR&quot;)\n    private Long numberOfConnectionErrors;\n\n    // bi-directional many-to-one association to Categper\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ID_PER&quot;)\n    private PersonCategoryPO personCategory;\n  ...\n }\n</code></pre>\n<p>Then the service:</p>\n<pre><code>@Transactional\n    @Override\n    public Pageable&lt;IPersonBO&gt; findAllPersons(String stringFilter, Page page, Sort sort, String userCode) {\n        try {\n            Predicate filterPredicate = null;\n            CriteriaQuery&lt;PersonPO&gt; cq;\n            Root&lt;PersonPO&gt; root;\n            CriteriaBuilder cb = em.getCriteriaBuilder();\n            Predicate allPredicates = cb.equal(cb.literal(1), 1);\n            if (!stringFilter.isBlank()) {\n                SearchCondition&lt;PersonPO&gt; filter = new FiqlParser&lt;PersonPO&gt;(PersonPO.class).parse(stringFilter);\n                JPACriteriaQueryVisitor&lt;PersonPO, PersonPO&gt; jpa = new JPACriteriaQueryVisitor&lt;PersonPO, PersonPO&gt;(em,\n                        PersonPO.class, PersonPO.class);\n                filter.accept(jpa);\n                cq = jpa.getQuery();\n                root = (Root&lt;PersonPO&gt;) cq.getRoots().iterator().next();\n                filterPredicate = jpa.getQuery().getRestriction();\n                allPredicates = filterPredicate;\n            } else {\n                cq = cb.createQuery(PersonPO.class);\n                root =cq.from(PersonPO.class);\n            }\n            cq.select(root.alias(&quot;person&quot;));\n            Fetch&lt;PersonPO, PersonCategoryPO&gt; pc = root.fetch(&quot;personCategory&quot;);\n            Fetch&lt;PersonCategoryPO, CategoryPO&gt; category = pc.fetch(&quot;category&quot;);\n            CriteriaQuery&lt;Long&gt; cqCount = cb.createQuery(Long.class);\n            cqCount.select(cb.count(cqCount.from(PersonPO.class)));\n            if (multiLevelIsActif()) {\n                if (userCode != null) {\n                    Filter filter = session.enableFilter(&quot;authorizePerson&quot;);\n                    filter.setParameter(&quot;userCode&quot;, userCode);\n                }\n            }\n            cq.where(allPredicates);\n            cqCount.where(allPredicates);\n\n            // sort\n            JpaUtils.handleSort(sort, cq, cb, root);\n\n            // get results\n            TypedQuery&lt;PersonPO&gt; query = em.createQuery(cq);\n            if (page != null) {\n                query.setFirstResult(page.getFirstResult()).setMaxResults(page.getPageSize());\n            }\n            List&lt;IPersonBO&gt; items = query.getResultStream().map(c -&gt; getPerson((PersonPO) c))\n                    .collect(Collectors.toList());\n\n            // count results\n            Long totalSize = 0l;\n            totalSize = em.createQuery(cqCount).getSingleResult();\n\n            return new Pageable&lt;IPersonBO&gt;(items, totalSize, page);\n        } catch (Exception e) {\n            log.error(e.getMessage());\n            return null;\n        }\n</code></pre>\n<p>Why the sql-show still generates query and never consider the alias (person) like below ?</p>\n<pre><code>        select\n            personpo0_.ID_PER as id_per1_102_,\n        ...\n        from\n            RKHATERCHI2.PERSONNE personpo0_ \n        ...\n        where\n            1=1 \n        order by\n            personpo0_.ID_PER desc\n</code></pre>\n<p>Is there a way how to enforce the alias in JPA/Criteria so that I can use it in the filter condition?\nYour thoughts are appreciated.</p>\n"},{"tags":["java","grails","groovy"],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1376092480,"creation_date":1376091998,"answer_id":18157247,"question_id":18157217,"body_markdown":"Regexes will do. There are simple ones and more complex. A simple one is this regex:\r\n\r\n    \\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\r\n\r\nUse it like this:\r\n\r\n    boolean isIP = someIP.maches(&quot;\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}&quot;);\r\n\r\nBut this will match 999.999.999.999 as well, which is not a valid IP address. There is a huge regex available on [regular-expressions.info][1]:\r\n\r\n    (25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\r\n\r\nThis one will take care of the job correctly. If you use this one, don&#39;t forget to escape every `\\` with another `\\`.\r\n\r\n---\r\n\r\nIf you are not a fan of huge regexes, you can use this code:\r\n\r\n    public static boolean isIP(String str)\r\n    {\r\n        try\r\n        {\r\n             String[] parts = str.split(&quot;\\\\.&quot;);\r\n             if (parts.length != 4) return false;\r\n             for (int i = 0; i &lt; 4; ++i)\r\n             {\r\n                 int p = Integer.parseInt(parts[i]);\r\n                 if (p &gt; 255 || p &lt; 0) return false;\r\n             }\r\n             return true;\r\n        } catch (Exception e)\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n  [1]: http://www.regular-expressions.info/examples.html","title":"How can I check if a String is an IP in Groovy?","body":"<p>Regexes will do. There are simple ones and more complex. A simple one is this regex:</p>\n\n<pre><code>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>boolean isIP = someIP.maches(\"\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\");\n</code></pre>\n\n<p>But this will match 999.999.999.999 as well, which is not a valid IP address. There is a huge regex available on <a href=\"http://www.regular-expressions.info/examples.html\" rel=\"nofollow\">regular-expressions.info</a>:</p>\n\n<pre><code>(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\n</code></pre>\n\n<p>This one will take care of the job correctly. If you use this one, don't forget to escape every <code>\\</code> with another <code>\\</code>.</p>\n\n<hr>\n\n<p>If you are not a fan of huge regexes, you can use this code:</p>\n\n<pre><code>public static boolean isIP(String str)\n{\n    try\n    {\n         String[] parts = str.split(\"\\\\.\");\n         if (parts.length != 4) return false;\n         for (int i = 0; i &lt; 4; ++i)\n         {\n             int p = Integer.parseInt(parts[i]);\n             if (p &gt; 255 || p &lt; 0) return false;\n         }\n         return true;\n    } catch (Exception e)\n    {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1376122767,"creation_date":1376122360,"answer_id":18160005,"question_id":18157217,"body_markdown":"You can use [InetAddressValidator][1] class to check and validate weather a string is a valid ip or not.\r\n\r\n    import org.codehaus.groovy.grails.validation.routines.InetAddressValidator\r\n\r\n    ...\r\n    String someIp = // some String\r\n    if(InetAddressValidator.getInstance().isValidInet4Address(someIp)){\r\n        println &quot;Valid Ip&quot;\r\n    } else {\r\n        println &quot;Invalid Ip&quot;\r\n    }\r\n    ...\r\n\r\nTry this..,.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html","title":"How can I check if a String is an IP in Groovy?","body":"<p>You can use <a href=\"http://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/InetAddressValidator.html\" rel=\"noreferrer\">InetAddressValidator</a> class to check and validate weather a string is a valid ip or not.</p>\n\n<pre><code>import org.codehaus.groovy.grails.validation.routines.InetAddressValidator\n\n...\nString someIp = // some String\nif(InetAddressValidator.getInstance().isValidInet4Address(someIp)){\n    println \"Valid Ip\"\n} else {\n    println \"Invalid Ip\"\n}\n...\n</code></pre>\n\n<p>Try this..,.</p>\n"},{"tags":[],"owner":{"account_id":388570,"reputation":88646,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401266918,"creation_date":1401266918,"answer_id":23906847,"question_id":18157217,"body_markdown":"An oriented object way:  \r\n\r\n    String myIp =&quot;192.168.43.32&quot;\r\n    myIp.isIp();\r\n\r\n\r\nKnown that , you must add this to **BootStrap.groovy**:\r\n\r\n    String.metaClass.isIp={\r\n       if(org.codehaus.groovy.grails.validation.routines.InetAddressValidator.getInstance().isValidInet4Address(delegate)){\r\n        return true;\r\n       } else {\r\n        return false;\r\n        } \r\n       \r\n      \r\n    }\r\n\r\n","title":"How can I check if a String is an IP in Groovy?","body":"<p>An oriented object way:  </p>\n\n<pre><code>String myIp =\"192.168.43.32\"\nmyIp.isIp();\n</code></pre>\n\n<p>Known that , you must add this to <strong>BootStrap.groovy</strong>:</p>\n\n<pre><code>String.metaClass.isIp={\n   if(org.codehaus.groovy.grails.validation.routines.InetAddressValidator.getInstance().isValidInet4Address(delegate)){\n    return true;\n   } else {\n    return false;\n    } \n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663854128,"creation_date":1663854128,"answer_id":73815736,"question_id":18157217,"body_markdown":"#### Use a validator like Apache&#39;s `commons-validator`:\r\n\r\n```groovy\r\n@Grab(&#39;commons-validator:commons-validator:1.7&#39;)\r\nimport org.apache.commons.validator.routines.InetAddressValidator\r\n\r\nboolean isIpV4(String ip) {\r\n    InetAddressValidator.instance.isValidInet4Address(ip)\r\n}\r\n\r\nisIpV4(&quot;8.8.8.8&quot;)\r\n```\r\n\r\n#### Or regex: \r\n\r\n```groovy\r\nimport java.util.regex.Pattern\r\n\r\nclass RegexValidationConstants {\r\n    private final static String IPV4_OCT = /(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/\r\n    final static Pattern IPV4 = ~/^${IPV4_OCT}(\\.${IPV4_OCT}){3}$/.toString()\r\n}\r\n\r\nboolean isIpV4(String ip) {\r\n    ip ==~ RegexValidationConstants.IPV4\r\n}\r\n\r\nisIpV4(&quot;8.8.8.8&quot;)\r\n```\r\n\r\nIf you are using Grails, see [my answer in this other thread][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73814640/15016163","title":"How can I check if a String is an IP in Groovy?","body":"<h4>Use a validator like Apache's <code>commons-validator</code>:</h4>\n<pre><code>@Grab('commons-validator:commons-validator:1.7')\nimport org.apache.commons.validator.routines.InetAddressValidator\n\nboolean isIpV4(String ip) {\n    InetAddressValidator.instance.isValidInet4Address(ip)\n}\n\nisIpV4(&quot;8.8.8.8&quot;)\n</code></pre>\n<h4>Or regex:</h4>\n<pre><code>import java.util.regex.Pattern\n\nclass RegexValidationConstants {\n    private final static String IPV4_OCT = /(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/\n    final static Pattern IPV4 = ~/^${IPV4_OCT}(\\.${IPV4_OCT}){3}$/.toString()\n}\n\nboolean isIpV4(String ip) {\n    ip ==~ RegexValidationConstants.IPV4\n}\n\nisIpV4(&quot;8.8.8.8&quot;)\n</code></pre>\n<p>If you are using Grails, see <a href=\"https://stackoverflow.com/a/73814640/15016163\">my answer in this other thread</a>.</p>\n"}],"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5616,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":18160005,"answer_count":4,"score":8,"last_activity_date":1663854128,"creation_date":1376091680,"question_id":18157217,"body_markdown":"From a given String: \r\n\r\n    String someIp = // some String\r\n\r\nHow can I check, if someIp is a valid Ip format?","title":"How can I check if a String is an IP in Groovy?","body":"<p>From a given String: </p>\n\n<pre><code>String someIp = // some String\n</code></pre>\n\n<p>How can I check, if someIp is a valid Ip format?</p>\n"},{"tags":["java","web-scraping","web-crawler","jsoup"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1663854308,"post_id":73815687,"comment_id":130341121,"body_markdown":"It looks like that page is generated dynamically via JavaScript. Jsoup is not browser emulator so it doesn&#39;t have support for JS. More info: [Page content is loaded with JavaScript and Jsoup doesn&#39;t see it](https://stackoverflow.com/q/7488872), [Jsoup Java HTML parser : Executing Javascript events](https://stackoverflow.com/q/7344258)","body":"It looks like that page is generated dynamically via JavaScript. Jsoup is not browser emulator so it doesn&#39;t have support for JS. More info: <a href=\"https://stackoverflow.com/q/7488872\">Page content is loaded with JavaScript and Jsoup doesn&#39;t see it</a>, <a href=\"https://stackoverflow.com/q/7344258\">Jsoup Java HTML parser : Executing Javascript events</a>"},{"owner":{"account_id":10932135,"reputation":61,"user_id":8034896,"display_name":"Alex Park"},"score":2,"creation_date":1663855197,"post_id":73815687,"comment_id":130341486,"body_markdown":"it seems webpage is using AJAX to handle dynamic content. Use Network tab on your devtools to inspect AJAX requests queried by JavaScript.\n\nFor the webpage you requested, It is accessing: https://www.ilan.gov.tr/api/api/services/app/Ad/AdsByFilter with POST Method with Payload `{&quot;keys&quot;:{&quot;txv&quot;:[9]},&quot;skipCount&quot;:0,&quot;maxResultCount&quot;:12}`","body":"it seems webpage is using AJAX to handle dynamic content. Use Network tab on your devtools to inspect AJAX requests queried by JavaScript.  For the webpage you requested, It is accessing: <a href=\"https://www.ilan.gov.tr/api/api/services/app/Ad/AdsByFilter\" rel=\"nofollow noreferrer\">ilan.gov.tr/api/api/services/app/Ad/AdsByFilter</a> with POST Method with Payload <code>{&quot;keys&quot;:{&quot;txv&quot;:[9]},&quot;skipCount&quot;:0,&quot;maxResultCount&quot;:12}</code>"},{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":0,"creation_date":1663918044,"post_id":73815687,"comment_id":130356438,"body_markdown":"@AlexPark I think that your comment answers the question, so you can post it as an answer.","body":"@AlexPark I think that your comment answers the question, so you can post it as an answer."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664318756,"post_id":73815687,"comment_id":130443260,"body_markdown":"Does this answer your question? [Page content is loaded with JavaScript and Jsoup doesn&#39;t see it](https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it\">Page content is loaded with JavaScript and Jsoup doesn&#39;t see it</a>"}],"owner":{"account_id":21194480,"reputation":21,"user_id":15586338,"display_name":"Furkan Uğurlu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663853950,"creation_date":1663853950,"question_id":73815687,"body_markdown":"I want to pull the four data I marked in the table in the picture and the following data with jsoup. But I couldn&#39;t find which HTML codes to use.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G2jQe.png\r\n\r\nHere is my code and website\r\n\r\nhttps://www.ilan.gov.tr/ilan/kategori/9/ihale-duyurulari\r\n\r\n\r\n\r\n\t\t\r\n\r\n\t\t\tDocument doc = Jsoup.connect(&quot;https://www.ilan.gov.tr/ilan/kategori/9/ihale-duyurulari&quot;).get();\r\n\t\t\t\t\t\r\n\t\t//System.out.println(doc.outerHtml());\r\n\t\tfor(Element row: doc.select(&quot;search-results-content row ng-tns-c146-3&quot;)) {\r\n\t\t\t\r\n\t\t\tfinal String title = row.select(&quot;.list-desc ng-tns-c152-3&quot;).text();\r\n\t\t\tfinal String title1 = row.select(&quot;.col col-4 col-lg-4 col-border ng-star-inserted&quot;).text();\r\n\t\t\t\r\n\t\t\tSystem.out.println(title);\t\t\r\n\t\t}\r\n\t\r\n","title":"I cant use Jsoup on Java","body":"<p>I want to pull the four data I marked in the table in the picture and the following data with jsoup. But I couldn't find which HTML codes to use.</p>\n<p><a href=\"https://i.stack.imgur.com/G2jQe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2jQe.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code and website</p>\n<p><a href=\"https://www.ilan.gov.tr/ilan/kategori/9/ihale-duyurulari\" rel=\"nofollow noreferrer\">https://www.ilan.gov.tr/ilan/kategori/9/ihale-duyurulari</a></p>\n<pre><code>        Document doc = Jsoup.connect(&quot;https://www.ilan.gov.tr/ilan/kategori/9/ihale-duyurulari&quot;).get();\n                \n    //System.out.println(doc.outerHtml());\n    for(Element row: doc.select(&quot;search-results-content row ng-tns-c146-3&quot;)) {\n        \n        final String title = row.select(&quot;.list-desc ng-tns-c152-3&quot;).text();\n        final String title1 = row.select(&quot;.col col-4 col-lg-4 col-border ng-star-inserted&quot;).text();\n        \n        System.out.println(title);      \n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1552051327,"post_id":55064074,"comment_id":96876115,"body_markdown":"Annotate your `UserRepository` with `@Repository`","body":"Annotate your <code>UserRepository</code> with <code>@Repository</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1552051334,"post_id":55064074,"comment_id":96876121,"body_markdown":"because it&#39;s not a bean. add @Repository to it.","body":"because it&#39;s not a bean. add @Repository to it."},{"owner":{"account_id":378737,"reputation":4024,"user_id":731650,"accept_rate":75,"display_name":"damian"},"score":0,"creation_date":1552052627,"post_id":55064074,"comment_id":96876836,"body_markdown":"i read Spring Boot in the title and thought you were actually using Spring Boot","body":"i read Spring Boot in the title and thought you were actually using Spring Boot"},{"owner":{"account_id":15423571,"reputation":153,"user_id":11126957,"display_name":"NaN"},"score":0,"creation_date":1552052755,"post_id":55064074,"comment_id":96876897,"body_markdown":"I use @SpringBootApplication to run my application","body":"I use @SpringBootApplication to run my application"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1552053034,"post_id":55064074,"comment_id":96877048,"body_markdown":"What package is the @SpringBootApplication annotated class in?","body":"What package is the @SpringBootApplication annotated class in?"},{"owner":{"account_id":15423571,"reputation":153,"user_id":11126957,"display_name":"NaN"},"score":0,"creation_date":1552053482,"post_id":55064074,"comment_id":96877290,"body_markdown":"I have added the code of my Application Class above. Take a look at it.","body":"I have added the code of my Application Class above. Take a look at it."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1552053880,"post_id":55064074,"comment_id":96877513,"body_markdown":"Repository class needs to be in a *sub package* of “Spring”. Like “Spring.DAO”, not just DAO","body":"Repository class needs to be in a <i>sub package</i> of “Spring”. Like “Spring.DAO”, not just DAO"}],"answers":[{"tags":[],"owner":{"account_id":2298536,"reputation":920,"user_id":2019399,"accept_rate":100,"display_name":"Emre Acar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552051361,"creation_date":1552051361,"answer_id":55064127,"question_id":55064074,"body_markdown":"You&#39;ve forgot to put an annotation on your repository class. That&#39;s why Spring cannot find that bean.\r\n\r\nTry adding `@Repository` on top of your class definition.\r\n\r\n","title":"Why is bean not found during Spring Boot?","body":"<p>You've forgot to put an annotation on your repository class. That's why Spring cannot find that bean.</p>\n\n<p>Try adding <code>@Repository</code> on top of your class definition.</p>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552053421,"creation_date":1552051769,"answer_id":55064237,"question_id":55064074,"body_markdown":"Add @Repository annotation then bean will created and autowired in service.\r\n\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User , Integer&gt;\r\n    {\r\n    }\r\n\r\nAnd don&#39;t need to create bean in service\r\n\r\n    @Bean\r\n    public void setUserRepository(UserRepository userRepository)\r\n    {\r\n        this.userRepository = userRepository;\r\n    }\r\n","title":"Why is bean not found during Spring Boot?","body":"<p>Add @Repository annotation then bean will created and autowired in service.</p>\n\n<pre><code>import org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User , Integer&gt;\n{\n}\n</code></pre>\n\n<p>And don't need to create bean in service</p>\n\n<pre><code>@Bean\npublic void setUserRepository(UserRepository userRepository)\n{\n    this.userRepository = userRepository;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8422075,"reputation":11,"user_id":6320576,"display_name":"Mrixs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663853630,"creation_date":1552053536,"answer_id":55064756,"question_id":55064074,"body_markdown":"1) Make sure that you have your repository class in a sub-package of the `ApplicationConfiguration` class.\r\n\r\n2) Annotate the repository class with `@Repository`.\r\n","title":"Why is bean not found during Spring Boot?","body":"<ol>\n<li><p>Make sure that you have your repository class in a sub-package of the <code>ApplicationConfiguration</code> class.</p>\n</li>\n<li><p>Annotate the repository class with <code>@Repository</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15423571,"reputation":153,"user_id":11126957,"display_name":"NaN"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1552172384,"creation_date":1552172384,"answer_id":55082814,"question_id":55064074,"body_markdown":"SOLUTION: Just create sub-packages in the same package where you have your Spring appliciation located.\r\n\r\nEXAMPLE OF SOLUTION CAN BE FOUND HERE: https://stackoverflow.com/questions/42907553/field-required-a-bean-of-type-that-could-not-be-found-error-spring-restful-ap?noredirect=1&amp;lq=1","title":"Why is bean not found during Spring Boot?","body":"<p>SOLUTION: Just create sub-packages in the same package where you have your Spring appliciation located.</p>\n\n<p>EXAMPLE OF SOLUTION CAN BE FOUND HERE: <a href=\"https://stackoverflow.com/questions/42907553/field-required-a-bean-of-type-that-could-not-be-found-error-spring-restful-ap?noredirect=1&amp;lq=1\">&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb</a></p>\n"},{"tags":[],"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631195417,"creation_date":1631195417,"answer_id":69119432,"question_id":55064074,"body_markdown":"In addition to the previous answers, the IDE can often suggests you the wrong import for the annotation of the Bean class, for example for a @Service annoted bean, be sure that you import:\r\n\r\n    import org.springframework.stereotype.Service;\r\n\r\nand not something like:\r\n\r\n    import org.jvnet.hk2.annotations.Service","title":"Why is bean not found during Spring Boot?","body":"<p>In addition to the previous answers, the IDE can often suggests you the wrong import for the annotation of the Bean class, for example for a @Service annoted bean, be sure that you import:</p>\n<pre><code>import org.springframework.stereotype.Service;\n</code></pre>\n<p>and not something like:</p>\n<pre><code>import org.jvnet.hk2.annotations.Service\n</code></pre>\n"}],"owner":{"account_id":15423571,"reputation":153,"user_id":11126957,"display_name":"NaN"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26140,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":55082814,"answer_count":5,"score":1,"last_activity_date":1663853630,"creation_date":1552051164,"question_id":55064074,"body_markdown":"I reconfigured my DAOs to a more convenient way (by using JpaRepository) instead of doing all that boilerplate code manually. But now everytime I start the Spring Application it gives me the following error:           \r\n\r\n```\r\nAPPLICATION FAILED TO START  \r\nDescription:  \r\nField userRepository in DAO.UserDAOService required a bean of type &#39;DAO.UserRepository&#39; that could not be found.\r\n    \r\nThe injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\nAction:\r\nConsider defining a bean of type &#39;DAO.UserRepository&#39; in your configuration.\r\nProcess finished with exit code 1\r\n    \r\n```\r\n\r\n\r\n\r\n\r\n","title":"Why is bean not found during Spring Boot?","body":"<p>I reconfigured my DAOs to a more convenient way (by using JpaRepository) instead of doing all that boilerplate code manually. But now everytime I start the Spring Application it gives me the following error:</p>\n<pre><code>APPLICATION FAILED TO START  \nDescription:  \nField userRepository in DAO.UserDAOService required a bean of type 'DAO.UserRepository' that could not be found.\n    \nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n    \nAction:\nConsider defining a bean of type 'DAO.UserRepository' in your configuration.\nProcess finished with exit code 1\n    \n</code></pre>\n"},{"tags":["java","security","tomcat","filter"],"comments":[{"owner":{"account_id":17324638,"reputation":21,"user_id":12549136,"display_name":"7575 mohan"},"score":0,"creation_date":1665488079,"post_id":73815557,"comment_id":130707270,"body_markdown":"dead stackoverflow","body":"dead stackoverflow"}],"owner":{"account_id":17324638,"reputation":21,"user_id":12549136,"display_name":"7575 mohan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663853411,"creation_date":1663853411,"question_id":73815557,"body_markdown":"i am running Tomcat application with following HttpHeaderSecurityFilter filter configuration\r\n\r\n```\r\n &lt;filter&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.catalina.filters.HttpHeaderSecurityFilter&lt;/filter-class&gt;\r\n        &lt;async-supported&gt;true&lt;/async-supported&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;blockContentTypeSniffingEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;antiClickJackingEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;antiClickJackingOption&lt;/param-name&gt;\r\n            &lt;param-value&gt;SAMEORIGIN&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;xssProtectionEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;hstsEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;hstsMaxAgeSeconds&lt;/param-name&gt;\r\n            &lt;param-value&gt;60&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n```\r\n       \r\nis it mandatory or required to add INCLUDE , FORWARD dispatcher ?\r\n```\r\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n```\r\n\r\nwithout adding these dispatchers application running fine , \r\n\r\nbut following exception throws after configuring FORWARD , INCLUDE dispatcher in httpHeaderSecurity filter\r\n\r\n```\r\n[14:33:52:923]|[09-22-2022]|[org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/event].[org.apache.jsp.WEB_002dINF.jsp.index2_jsp]]|[SEVERE]|[81]: Servlet.service() for servlet [org.apache.jsp.WEB_002dINF.jsp.index2_jsp] threw exception| \r\njavax.servlet.ServletException: Unable to add HTTP headers since response is already committed on entry to the HTTP header security Filter\r\n\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:101)\r\n```\r\ndoes it is required to add these dispatchers , shall i remove FORWARD , INCLUDE dispatcher entries ?","title":"does org.apache.catalina.filters.HttpHeaderSecurityFilter needs INCLUDE,FORWARD dispatcher","body":"<p>i am running Tomcat application with following HttpHeaderSecurityFilter filter configuration</p>\n<pre><code> &lt;filter&gt;\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.catalina.filters.HttpHeaderSecurityFilter&lt;/filter-class&gt;\n        &lt;async-supported&gt;true&lt;/async-supported&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;blockContentTypeSniffingEnabled&lt;/param-name&gt;\n            &lt;param-value&gt;false&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;antiClickJackingEnabled&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;antiClickJackingOption&lt;/param-name&gt;\n            &lt;param-value&gt;SAMEORIGIN&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;xssProtectionEnabled&lt;/param-name&gt;\n            &lt;param-value&gt;false&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;hstsEnabled&lt;/param-name&gt;\n            &lt;param-value&gt;false&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;hstsMaxAgeSeconds&lt;/param-name&gt;\n            &lt;param-value&gt;60&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>is it mandatory or required to add INCLUDE , FORWARD dispatcher ?</p>\n<pre><code>        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n</code></pre>\n<p>without adding these dispatchers application running fine ,</p>\n<p>but following exception throws after configuring FORWARD , INCLUDE dispatcher in httpHeaderSecurity filter</p>\n<pre><code>[14:33:52:923]|[09-22-2022]|[org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/event].[org.apache.jsp.WEB_002dINF.jsp.index2_jsp]]|[SEVERE]|[81]: Servlet.service() for servlet [org.apache.jsp.WEB_002dINF.jsp.index2_jsp] threw exception| \njavax.servlet.ServletException: Unable to add HTTP headers since response is already committed on entry to the HTTP header security Filter\n    at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:101)\n</code></pre>\n<p>does it is required to add these dispatchers , shall i remove FORWARD , INCLUDE dispatcher entries ?</p>\n"},{"tags":["java","android","image-gallery"],"comments":[{"owner":{"account_id":7441167,"reputation":1764,"user_id":5658915,"display_name":"Jonathan Aste"},"score":0,"creation_date":1496779226,"post_id":44398675,"comment_id":75797450,"body_markdown":"Have you set the Storage permissions on AndroidManifest?","body":"Have you set the Storage permissions on AndroidManifest?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1496780084,"post_id":44398675,"comment_id":75797937,"body_markdown":"Well, if nothing else, you have `Photo Location Note` twice in your `Uri` (once in the `File` and once via `withAppendedPath()`), and no file extension, neither of which seem correct. Make sure that the `Uri` that you put in the `Intent` makes sense.","body":"Well, if nothing else, you have <code>Photo Location Note</code> twice in your <code>Uri</code> (once in the <code>File</code> and once via <code>withAppendedPath()</code>), and no file extension, neither of which seem correct. Make sure that the <code>Uri</code> that you put in the <code>Intent</code> makes sense."},{"owner":{"account_id":412458,"reputation":4567,"user_id":785535,"accept_rate":73,"display_name":"masiboo"},"score":0,"creation_date":1496791464,"post_id":44398675,"comment_id":75802117,"body_markdown":"@CommonsWare Could you please explain with source code?","body":"@CommonsWare Could you please explain with source code?"}],"answers":[{"tags":[],"owner":{"account_id":23937595,"reputation":26,"user_id":17931149,"display_name":"Borys Draus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663853362,"creation_date":1663853295,"answer_id":73815515,"question_id":44398675,"body_markdown":"It works for me on Android 11 and earlier versions:\r\n\r\n        public void openPhoto(Context context, String directory){\r\n\r\n        File file = new File(directory);\r\n        if(!file.exists()){\r\n            return;\r\n        }\r\n\r\n        Intent intent = new Intent(Intent.ACTION_VIEW);\r\n        intent.setDataAndType(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N ?\r\n                        FileProvider.getUriForFile(context,context.getPackageName() + &quot;.provider&quot;, file) : Uri.fromFile(file),&quot;image/*&quot;);\r\n\r\n        intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        intent = Intent.createChooser(intent, &quot;Open File&quot;);\r\n        context.startActivity(intent);\r\n\r\n\r\n    }\r\n\r\nThis fragment is important:\r\n`intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);`","title":"Android open gallery is not working in my code","body":"<p>It works for me on Android 11 and earlier versions:</p>\n<pre><code>    public void openPhoto(Context context, String directory){\n\n    File file = new File(directory);\n    if(!file.exists()){\n        return;\n    }\n\n    Intent intent = new Intent(Intent.ACTION_VIEW);\n    intent.setDataAndType(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N ?\n                    FileProvider.getUriForFile(context,context.getPackageName() + &quot;.provider&quot;, file) : Uri.fromFile(file),&quot;image/*&quot;);\n\n    intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    intent = Intent.createChooser(intent, &quot;Open File&quot;);\n    context.startActivity(intent);\n\n\n}\n</code></pre>\n<p>This fragment is important:\n<code>intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);</code></p>\n"}],"owner":{"account_id":412458,"reputation":4567,"user_id":785535,"accept_rate":73,"display_name":"masiboo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73815515,"answer_count":1,"score":1,"last_activity_date":1663853362,"creation_date":1496778677,"question_id":44398675,"body_markdown":"I&#39;m trying this code to open the gallery. My app makes a directory in the gallery. I can see my directory in the gallery. I&#39;m trying to open it from my app by this code:-\r\n\r\n            File sdDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n            File f = new File(sdDir, &quot;Photo Location Note&quot;);\r\n            Intent i = new Intent();\r\n            i.setAction(Intent.ACTION_VIEW);\r\n            i.setDataAndType(Uri.withAppendedPath(Uri.fromFile(f), &quot;Photo Location Note&quot;), &quot;image/*&quot;);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(i);\r\n\r\n\r\nIt opens the gallery and shows a toast message as &quot;Unable to find item&quot;. It doesn&#39;t open my directory &quot;Photo Location Note&quot; in the gallery.        \r\n      \r\nHow can I open my directory &quot;Photo Location Note&quot; in the gallery? ","title":"Android open gallery is not working in my code","body":"<p>I'm trying this code to open the gallery. My app makes a directory in the gallery. I can see my directory in the gallery. I'm trying to open it from my app by this code:-</p>\n\n<pre><code>        File sdDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        File f = new File(sdDir, \"Photo Location Note\");\n        Intent i = new Intent();\n        i.setAction(Intent.ACTION_VIEW);\n        i.setDataAndType(Uri.withAppendedPath(Uri.fromFile(f), \"Photo Location Note\"), \"image/*\");\n        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(i);\n</code></pre>\n\n<p>It opens the gallery and shows a toast message as \"Unable to find item\". It doesn't open my directory \"Photo Location Note\" in the gallery.        </p>\n\n<p>How can I open my directory \"Photo Location Note\" in the gallery? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1485671588,"post_id":41918287,"comment_id":71017589,"body_markdown":"It would help if you explained the puzzle first.","body":"It would help if you explained the puzzle first."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1485671666,"post_id":41918287,"comment_id":71017608,"body_markdown":"Did you step through the code one line at a time in your debugger? If not, that is the place to start.  Then, when you identify the exact place where it doesn&#39;t behave the way you expect, if you still have a question, [edit] your post and include details on what you don&#39;t understand.","body":"Did you step through the code one line at a time in your debugger? If not, that is the place to start.  Then, when you identify the exact place where it doesn&#39;t behave the way you expect, if you still have a question, <a href=\"https://stackoverflow.com/posts/41918287/edit\">edit</a> your post and include details on what you don&#39;t understand."},{"owner":{"account_id":10132047,"reputation":1,"user_id":7485050,"display_name":"Boris"},"score":0,"creation_date":1485671884,"post_id":41918287,"comment_id":71017643,"body_markdown":"1.  It&#39;s just an exercise that asks the reader to fill in some blanks with code from a pool of possibilities.  Not really a puzzle.","body":"1.  It&#39;s just an exercise that asks the reader to fill in some blanks with code from a pool of possibilities.  Not really a puzzle."},{"owner":{"account_id":10132047,"reputation":1,"user_id":7485050,"display_name":"Boris"},"score":0,"creation_date":1485671942,"post_id":41918287,"comment_id":71017656,"body_markdown":"2.  Looks like I&#39;ll need a debugger!  Will follow up if I&#39;m still confused after doing what you suggested. Thanks.","body":"2.  Looks like I&#39;ll need a debugger!  Will follow up if I&#39;m still confused after doing what you suggested. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":10437410,"reputation":41,"user_id":7695286,"display_name":"covans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491668895,"creation_date":1491601925,"answer_id":43287590,"question_id":41918287,"body_markdown":"this piece of code ` \r\n\r\n     obs[x].ivar = y;\r\n          y = y*10;\r\n\r\nwill cause first ivar = y = 1  then multiple y \r\nso it&#39;ll be {1 - 10 - 100 - 1,000 - 10,000 - 100,000}\r\n\r\nthe second loop x will be   { 5 , 4 , 3 , 2 , 1 , 0 }\r\nso it&#39;ll start like this    result = result+obs[5].doStuff[5];\r\n\r\ni guess all the misunderstanding that x in element 1 will equal y in element 5 \r\nand x in element 2 will equal y in element 4 and so on &quot; because x is incrementing   and y is decrementing \r\n\r\nso it will go like this \r\n \r\n      (ivar &gt; 100 ) \r\n       ivar * (5-factor)\r\n      x[3] * y[2] = 1000 * (5-2) = 3000\r\n      x[4] * y[1] = 10000 * (5-1) = 40000\r\n      x[5] * y [0] = 100000 * (5-0) = 500000\r\n      \r\n    then (ivar &lt; 100)\r\n      ivar * factor \r\n     x[1] * y [5] = 1 * 5 = 5 \r\n     x[2] * y [4] = 10 * 4 = 40\r\n     x[3] * y [3] = 100 * 3= 300\r\n\r\nthen if you add all the numbers together you&#39;ll have your output \r\n","title":"Head First Java Puzzle4 (Chapter 4, pg 91) Explanation","body":"<p>this piece of code ` </p>\n\n<pre><code> obs[x].ivar = y;\n      y = y*10;\n</code></pre>\n\n<p>will cause first ivar = y = 1  then multiple y \nso it'll be {1 - 10 - 100 - 1,000 - 10,000 - 100,000}</p>\n\n<p>the second loop x will be   { 5 , 4 , 3 , 2 , 1 , 0 }\nso it'll start like this    result = result+obs[5].doStuff[5];</p>\n\n<p>i guess all the misunderstanding that x in element 1 will equal y in element 5 \nand x in element 2 will equal y in element 4 and so on \" because x is incrementing   and y is decrementing </p>\n\n<p>so it will go like this </p>\n\n<pre><code>  (ivar &gt; 100 ) \n   ivar * (5-factor)\n  x[3] * y[2] = 1000 * (5-2) = 3000\n  x[4] * y[1] = 10000 * (5-1) = 40000\n  x[5] * y [0] = 100000 * (5-0) = 500000\n\nthen (ivar &lt; 100)\n  ivar * factor \n x[1] * y [5] = 1 * 5 = 5 \n x[2] * y [4] = 10 * 4 = 40\n x[3] * y [3] = 100 * 3= 300\n</code></pre>\n\n<p>then if you add all the numbers together you'll have your output </p>\n"},{"tags":[],"owner":{"account_id":8348070,"reputation":583,"user_id":6271175,"accept_rate":78,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491604625,"creation_date":1491604156,"answer_id":43287973,"question_id":41918287,"body_markdown":"For me an easy way to break this down is stepping through and seeing exactly where the values are coming from.  I&#39;ve done this below and commented it into the code.\n\n    public class Puzzle4 {\n      public static void main(String[] args) {\n    \n      Puzzle4b[] obs = new Puzzle4b[6];\n      int y = 1;\n      int x = 0;\n      int result = 0;\n\n        // let&#39;s break out of the loops\n        obs[0] = new Puzzle4b();\n        obs[0].ivar = 1;\n        obs[1] = new Puzzle4b();\n        obs[1].ivar = 10;\n        obs[2] = new Puzzle4b();\n        obs[2].ivar = 100;\n        obs[3] = new Puzzle4b();\n        obs[3].ivar = 1000;\n        obs[4] = new Puzzle4b();\n        obs[4].ivar = 10000;\n        obs[5] = new Puzzle4b();\n        obs[5].ivar = 100000;\n        // ivar&#39;s = 1, 10, 100, 1000, 10000, 100000\n        \n        result = result + obs[5].doStuff(5); // 0 + (5 * 100000)\n        result = result + obs[4].doStuff(4); // 500000 + (4 * 10000)\n        result = result + obs[3].doStuff(3); // 540000 + (3 * 1000)\n        result = result + obs[2].doStuff(2); // 543000 + ((5 - 2) * 100)\n        result = result + obs[1].doStuff(1); // 543300 + ((5-1) * 10)\n        result = result + obs[0].doStuff(0); // 543340 + ((5-0) * 1)\n        // result = 543345\n        }\n    \n        System.out.println(&quot;result &quot; + result);\n       }\n      }\n    \n      class Puzzle4b {\n    \n      int ivar;\n    \n      public int doStuff(int factor) {\n    \n        if (ivar&gt;100) {\n          return ivar*factor;\n          } else {\n          return ivar*(5-factor);\n        }\n       }\n      }\n\nHope this has helped you understand the example.","title":"Head First Java Puzzle4 (Chapter 4, pg 91) Explanation","body":"<p>For me an easy way to break this down is stepping through and seeing exactly where the values are coming from.  I've done this below and commented it into the code.</p>\n\n<pre><code>public class Puzzle4 {\n  public static void main(String[] args) {\n\n  Puzzle4b[] obs = new Puzzle4b[6];\n  int y = 1;\n  int x = 0;\n  int result = 0;\n\n    // let's break out of the loops\n    obs[0] = new Puzzle4b();\n    obs[0].ivar = 1;\n    obs[1] = new Puzzle4b();\n    obs[1].ivar = 10;\n    obs[2] = new Puzzle4b();\n    obs[2].ivar = 100;\n    obs[3] = new Puzzle4b();\n    obs[3].ivar = 1000;\n    obs[4] = new Puzzle4b();\n    obs[4].ivar = 10000;\n    obs[5] = new Puzzle4b();\n    obs[5].ivar = 100000;\n    // ivar's = 1, 10, 100, 1000, 10000, 100000\n\n    result = result + obs[5].doStuff(5); // 0 + (5 * 100000)\n    result = result + obs[4].doStuff(4); // 500000 + (4 * 10000)\n    result = result + obs[3].doStuff(3); // 540000 + (3 * 1000)\n    result = result + obs[2].doStuff(2); // 543000 + ((5 - 2) * 100)\n    result = result + obs[1].doStuff(1); // 543300 + ((5-1) * 10)\n    result = result + obs[0].doStuff(0); // 543340 + ((5-0) * 1)\n    // result = 543345\n    }\n\n    System.out.println(\"result \" + result);\n   }\n  }\n\n  class Puzzle4b {\n\n  int ivar;\n\n  public int doStuff(int factor) {\n\n    if (ivar&gt;100) {\n      return ivar*factor;\n      } else {\n      return ivar*(5-factor);\n    }\n   }\n  }\n</code></pre>\n\n<p>Hope this has helped you understand the example.</p>\n"},{"tags":[],"owner":{"account_id":18263398,"reputation":11,"user_id":13295705,"display_name":"Parajuli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586713728,"creation_date":1586713728,"answer_id":61175726,"question_id":41918287,"body_markdown":"In the second while loop,\r\n while(x&gt;0) will give 543340\r\nInstead While (x&gt;=0) should give the required output\r\nIf I&#39;m not wrong","title":"Head First Java Puzzle4 (Chapter 4, pg 91) Explanation","body":"<p>In the second while loop,\n while(x>0) will give 543340\nInstead While (x>=0) should give the required output\nIf I'm not wrong</p>\n"},{"tags":[],"owner":{"account_id":26412651,"reputation":1,"user_id":20061539,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663853035,"creation_date":1663853035,"answer_id":73815457,"question_id":41918287,"body_markdown":"The key is to understand what each loop does.\r\n1st one is nothing but just assigning values to ivar variable of each array object. You do it with &quot;x&quot; value as index.\r\n\r\n2nd one you still get indices from what &quot;x&quot; variable currently is. And then you need to remember what ivar value is for exactly this index. With that in mind you will be able to understand what condition of doStuff method is true and what expression you should use respectively.\r\n\r\nAlso, you have to remember of what value &quot;result&quot; variable get on each loop iteration. Like 1st iteration result = 500 000. then 2nd one will be result = 500 000 + doStuff.\r\n\r\nAnd last but not least, not without reason the book calls you to do exercises on paper. It leads to a lot of writing but also to understanding what code does on each and every line.","title":"Head First Java Puzzle4 (Chapter 4, pg 91) Explanation","body":"<p>The key is to understand what each loop does.\n1st one is nothing but just assigning values to ivar variable of each array object. You do it with &quot;x&quot; value as index.</p>\n<p>2nd one you still get indices from what &quot;x&quot; variable currently is. And then you need to remember what ivar value is for exactly this index. With that in mind you will be able to understand what condition of doStuff method is true and what expression you should use respectively.</p>\n<p>Also, you have to remember of what value &quot;result&quot; variable get on each loop iteration. Like 1st iteration result = 500 000. then 2nd one will be result = 500 000 + doStuff.</p>\n<p>And last but not least, not without reason the book calls you to do exercises on paper. It leads to a lot of writing but also to understanding what code does on each and every line.</p>\n"}],"owner":{"account_id":10132047,"reputation":1,"user_id":7485050,"display_name":"Boris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1663853035,"creation_date":1485671532,"question_id":41918287,"body_markdown":"Below is the solution to, and output of,the subject puzzle, and I&#39;m having trouble understanding how it works.\r\n\r\n    public class Puzzle4 {\r\n      public static void main(String[] args) {\r\n\r\n      Puzzle4b[] obs = new Puzzle4b[6];\r\n      int y = 1;\r\n      int x = 0;\r\n      int result = 0;\r\n    \r\n        while (x&lt;6) {\r\n          obs[x] = new Puzzle4b();\r\n          obs[x].ivar = y;\r\n          y = y*10;\r\n          x = x+1;\r\n        }\r\n    \r\n        x = 6;\r\n    \r\n        while (x&gt;0) {\r\n          x = x-1;\r\n          result = result + obs[x].doStuff(x);\r\n        }\r\n    \r\n        System.out.println(&quot;result &quot; + result);\r\n       }\r\n      }\r\n\r\n      class Puzzle4b {\r\n  \r\n      int ivar;\r\n  \r\n      public int doStuff(int factor) {\r\n    \r\n        if (ivar&gt;100) {\r\n          return ivar*factor;\r\n          } else {\r\n          return ivar*(5-factor);\r\n        }\r\n       }\r\n      }\r\n\r\nOutput:\r\n    \r\n    result 543345\r\n\r\nFrom my understanding, the first While loop will run through 6 times (from x==0 to x==5).  The y variable, and in turn &#39;ivar&#39;, will have a value of 1,000,000 (I think this is where I&#39;m going wrong, but I&#39;ll continue in hopes of being corrected).\r\n\r\nThe second While loop is a bit confusing to me.  It&#39;ll run through 6 times, with the second line of the loop passing the &#39;x&#39; values to the doStuff method for it to return a value.  The numbers I&#39;m coming up with for the result don&#39;t match the actual result.  \r\n\r\nAny help here would be appreciated.  Please let me know if I&#39;m thinking about it the wrong way.  If someone wants to reformat my code to align more closely with industry standards, it would be great to learn good habits from the start! ","title":"Head First Java Puzzle4 (Chapter 4, pg 91) Explanation","body":"<p>Below is the solution to, and output of,the subject puzzle, and I'm having trouble understanding how it works.</p>\n\n<pre><code>public class Puzzle4 {\n  public static void main(String[] args) {\n\n  Puzzle4b[] obs = new Puzzle4b[6];\n  int y = 1;\n  int x = 0;\n  int result = 0;\n\n    while (x&lt;6) {\n      obs[x] = new Puzzle4b();\n      obs[x].ivar = y;\n      y = y*10;\n      x = x+1;\n    }\n\n    x = 6;\n\n    while (x&gt;0) {\n      x = x-1;\n      result = result + obs[x].doStuff(x);\n    }\n\n    System.out.println(\"result \" + result);\n   }\n  }\n\n  class Puzzle4b {\n\n  int ivar;\n\n  public int doStuff(int factor) {\n\n    if (ivar&gt;100) {\n      return ivar*factor;\n      } else {\n      return ivar*(5-factor);\n    }\n   }\n  }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>result 543345\n</code></pre>\n\n<p>From my understanding, the first While loop will run through 6 times (from x==0 to x==5).  The y variable, and in turn 'ivar', will have a value of 1,000,000 (I think this is where I'm going wrong, but I'll continue in hopes of being corrected).</p>\n\n<p>The second While loop is a bit confusing to me.  It'll run through 6 times, with the second line of the loop passing the 'x' values to the doStuff method for it to return a value.  The numbers I'm coming up with for the result don't match the actual result.  </p>\n\n<p>Any help here would be appreciated.  Please let me know if I'm thinking about it the wrong way.  If someone wants to reformat my code to align more closely with industry standards, it would be great to learn good habits from the start! </p>\n"},{"tags":["java","android","android-audiomanager"],"comments":[{"owner":{"account_id":2437979,"reputation":1980,"user_id":2127357,"accept_rate":90,"display_name":"CAPS LOCK"},"score":0,"creation_date":1590504467,"post_id":58044974,"comment_id":109700685,"body_markdown":"Any new updates about this glitch?","body":"Any new updates about this glitch?"},{"owner":{"account_id":10455387,"reputation":1093,"user_id":8387076,"display_name":"Wrichik Basu"},"score":0,"creation_date":1593555156,"post_id":58044974,"comment_id":110821947,"body_markdown":"@CAPSLOCK Nope, silent mode still triggers DND in Android N+.","body":"@CAPSLOCK Nope, silent mode still triggers DND in Android N+."}],"answers":[{"tags":[],"owner":{"account_id":10588045,"reputation":303,"user_id":7799676,"display_name":"biqqles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571609458,"creation_date":1571609458,"answer_id":58477760,"question_id":58044974,"body_markdown":"This indeed appears to be another all too familiar bug in Android, in that setting `RINGER_MODE_SILENT` doesn&#39;t do what the documentation says it should do. I got the desired behaviour by:\r\n\r\n* First setting `RINGER_MODE_NORMAL`\r\n* _Then_ setting `RINGER_MODE_SILENT`\r\n* Then setting `INTERRUPTION_FILTER_ALL` to override the erroneously set Do Not Disturb state.\r\n\r\ni.e.\r\n\r\n```Java\r\naudioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\r\naudioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\r\nnotificationManager.setInterruptionFilter(NotificationManager.INTERRUPTION_FILTER_ALL);\r\n```\r\n\r\nHope this helps.","title":"Enable Silent Mode in android without triggering Do Not Disturb","body":"<p>This indeed appears to be another all too familiar bug in Android, in that setting <code>RINGER_MODE_SILENT</code> doesn't do what the documentation says it should do. I got the desired behaviour by:</p>\n\n<ul>\n<li>First setting <code>RINGER_MODE_NORMAL</code></li>\n<li><em>Then</em> setting <code>RINGER_MODE_SILENT</code></li>\n<li>Then setting <code>INTERRUPTION_FILTER_ALL</code> to override the erroneously set Do Not Disturb state.</li>\n</ul>\n\n<p>i.e.</p>\n\n<pre><code>audioManager.setRingerMode(AudioManager.RINGER_MODE_NORMAL);\naudioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\nnotificationManager.setInterruptionFilter(NotificationManager.INTERRUPTION_FILTER_ALL);\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":16337042,"reputation":974,"user_id":11798929,"display_name":"Isai Damier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574274459,"creation_date":1574200122,"answer_id":58943336,"question_id":58044974,"body_markdown":"There are two views of the world when it comes to DnD: Before Android N and after Android N. Before Android N you could use `AudioMamnager.setRingerMode(RINGER_MODE_SILENT)` if you&#39;re only interested in the ringer. But since Android N, the public api AudioMamnager.setRingerMode(silent) == DND. Therefore, for complete silence, you&#39;d have to toggle DnD.\r\n\r\nAlso if you want to proceed with toggling DnD, you would also need NotificationPolicyAccess.\r\n\r\n\r\n**UPDATE TO ADDRESS COMMENTS**\r\n\r\nAndroid users have a lot of latitude. Latitudes that apps do not have.\r\n\r\nFor your situation there is **good** news and there is bad news.\r\n\r\n**The bad news:**\r\n \r\nUnfortunately there&#39;s no workaround that I can recommend. It is a longstanding, CTS tested behavior that silence == DND.\r\n(M -&gt; any app could set MODE_SILENT and DND would turn on) (N+ -&gt; using MODE_SILENT first checks in the app has permission to change DND).\r\n\r\n\r\n\r\n**THE GOOD NEWS**\r\n\r\nFirst, thanks for sharing your use case. As it turns out, Google&#39;s camera app has a recording feature as well. And it uses DND during recording. So DND should be a viable option for your situation. You should be able to check this (I am using a Pixel device). \r\n\r\n1. Start recording a video.\r\n2. Pull down the quick settings to see the DND tile while the recording is on going.","title":"Enable Silent Mode in android without triggering Do Not Disturb","body":"<p>There are two views of the world when it comes to DnD: Before Android N and after Android N. Before Android N you could use <code>AudioMamnager.setRingerMode(RINGER_MODE_SILENT)</code> if you're only interested in the ringer. But since Android N, the public api AudioMamnager.setRingerMode(silent) == DND. Therefore, for complete silence, you'd have to toggle DnD.</p>\n\n<p>Also if you want to proceed with toggling DnD, you would also need NotificationPolicyAccess.</p>\n\n<p><strong>UPDATE TO ADDRESS COMMENTS</strong></p>\n\n<p>Android users have a lot of latitude. Latitudes that apps do not have.</p>\n\n<p>For your situation there is <strong>good</strong> news and there is bad news.</p>\n\n<p><strong>The bad news:</strong></p>\n\n<p>Unfortunately there's no workaround that I can recommend. It is a longstanding, CTS tested behavior that silence == DND.\n(M -> any app could set MODE_SILENT and DND would turn on) (N+ -> using MODE_SILENT first checks in the app has permission to change DND).</p>\n\n<p><strong>THE GOOD NEWS</strong></p>\n\n<p>First, thanks for sharing your use case. As it turns out, Google's camera app has a recording feature as well. And it uses DND during recording. So DND should be a viable option for your situation. You should be able to check this (I am using a Pixel device). </p>\n\n<ol>\n<li>Start recording a video.</li>\n<li>Pull down the quick settings to see the DND tile while the recording is on going.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4683696,"reputation":31,"user_id":3791713,"display_name":"user3791713"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580241927,"creation_date":1580232029,"answer_id":59953990,"question_id":58044974,"body_markdown":"... but DND is *not* silent. DND can be configured to to allow priority callers to ring, but silent allows no callers to ring. So users and apps should have the choice.\r\n\r\nThis code appears to successfully mute the ringer for me (on emulator running API 28) and does not set do-not-disturb mode:-\r\n\r\n    audio.adjustStreamVolume(AudioManager.STREAM_RING,\r\n\t\t\t\t\t\t\tAudioManager.ADJUST_MUTE, 0);\r\n\r\nTo reinstate the ringer, do \r\n\r\n    enter audio.adjustStreamVolume(AudioManager.STREAM_RING,\r\n\t\t\t\t\t\t\tAudioManager.ADJUST_UNMUTE, 0); ","title":"Enable Silent Mode in android without triggering Do Not Disturb","body":"<p>... but DND is <em>not</em> silent. DND can be configured to to allow priority callers to ring, but silent allows no callers to ring. So users and apps should have the choice.</p>\n\n<p>This code appears to successfully mute the ringer for me (on emulator running API 28) and does not set do-not-disturb mode:-</p>\n\n<pre><code>audio.adjustStreamVolume(AudioManager.STREAM_RING,\n                        AudioManager.ADJUST_MUTE, 0);\n</code></pre>\n\n<p>To reinstate the ringer, do </p>\n\n<pre><code>enter audio.adjustStreamVolume(AudioManager.STREAM_RING,\n                        AudioManager.ADJUST_UNMUTE, 0); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":242097,"reputation":6263,"user_id":513393,"accept_rate":81,"display_name":"Skip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663852534,"creation_date":1657175164,"answer_id":72893144,"question_id":58044974,"body_markdown":"Let me also agree here.\r\nI would argue, that DnD is more than just Silence.\r\nE.g. there is a potential side effect on notifications.\r\n\r\nNow as a user of the phone, just silencing devices, without hiding the notifications is what I want, when traveling, when I am in the meeting.\r\n\r\nSo as a dev I want to be able to implement such a behavior, but right now DND and silent-mode are merged.\r\n\r\nHence I filed a bug for Android https://issuetracker.google.com/issues/237819541","title":"Enable Silent Mode in android without triggering Do Not Disturb","body":"<p>Let me also agree here.\nI would argue, that DnD is more than just Silence.\nE.g. there is a potential side effect on notifications.</p>\n<p>Now as a user of the phone, just silencing devices, without hiding the notifications is what I want, when traveling, when I am in the meeting.</p>\n<p>So as a dev I want to be able to implement such a behavior, but right now DND and silent-mode are merged.</p>\n<p>Hence I filed a bug for Android <a href=\"https://issuetracker.google.com/issues/237819541\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/237819541</a></p>\n"}],"owner":{"account_id":10752065,"reputation":251,"user_id":7911106,"display_name":"Lee Bailey - LeeDrOiD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4613,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1663852534,"creation_date":1569109596,"question_id":58044974,"body_markdown":"Having a little trouble bending my head around this one.\r\n\r\nIn my volume control app I am trying to set the system sound profile to SILENT ONLY without triggering do not disturb, my app has access to modify DND settings and notification access, no issues there.\r\n\r\nSystem Settings has a silent profile that leaves DND off but I cannot find a way to do it using audio manager?\r\n\r\nI have attempted to set the mode to silent and then change DND settings using NotificationManager, disabling DND after setting the system to silent sets vibrate, disabling dnd and then setting silent re-activates DND.\r\n\r\nCode for reference:\r\n\r\n```\r\nint current = audioManager.getRingerMode();\r\nif (current == AudioManager.RINGER_MODE_VIBRATE) {\r\n         newIcon = Icon.createWithResource(this, R.drawable.silent);\r\n         //ENABLES DND WHEN IT SHOULD ENABLE SILENT\r\n         audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\r\n}\r\n```\r\n\r\nAny assistance would be appreciated as this is driving me a little insane.\r\n\r\n","title":"Enable Silent Mode in android without triggering Do Not Disturb","body":"<p>Having a little trouble bending my head around this one.</p>\n\n<p>In my volume control app I am trying to set the system sound profile to SILENT ONLY without triggering do not disturb, my app has access to modify DND settings and notification access, no issues there.</p>\n\n<p>System Settings has a silent profile that leaves DND off but I cannot find a way to do it using audio manager?</p>\n\n<p>I have attempted to set the mode to silent and then change DND settings using NotificationManager, disabling DND after setting the system to silent sets vibrate, disabling dnd and then setting silent re-activates DND.</p>\n\n<p>Code for reference:</p>\n\n<pre><code>int current = audioManager.getRingerMode();\nif (current == AudioManager.RINGER_MODE_VIBRATE) {\n         newIcon = Icon.createWithResource(this, R.drawable.silent);\n         //ENABLES DND WHEN IT SHOULD ENABLE SILENT\n         audioManager.setRingerMode(AudioManager.RINGER_MODE_SILENT);\n}\n</code></pre>\n\n<p>Any assistance would be appreciated as this is driving me a little insane.</p>\n"},{"tags":["java","hibernate","testing","junit","repository"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663852381,"creation_date":1663852381,"answer_id":73815287,"question_id":73707636,"body_markdown":"Q1: You can test it anywhere you like I guess.\r\n\r\nQ2: Use `saveAndFlush` to trigger the exception.","title":"Testing JdbcSQLIntegrityConstraintViolationException on repository layer","body":"<p>Q1: You can test it anywhere you like I guess.</p>\n<p>Q2: Use <code>saveAndFlush</code> to trigger the exception.</p>\n"}],"owner":{"account_id":16249042,"reputation":86,"user_id":11733458,"display_name":"Deyvid Dimitrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73815287,"answer_count":1,"score":0,"last_activity_date":1663852381,"creation_date":1663093259,"question_id":73707636,"body_markdown":"I have the following Entity:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = DbConstants.TBL_REVIEWS, schema = DbConstants.SCHEMA_PUBLIC)\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Review {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = DbConstants.SEQ_REVIEWS_ID,\r\n            sequenceName = DbConstants.SEQ_REVIEWS_ID,\r\n            allocationSize = DbConstants.ALLOCATION_SIZE\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = DbConstants.SEQ_REVIEWS_ID\r\n    )\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;author_id&quot;, nullable = false)\r\n    private Long authorId;\r\n\r\n    @Column(name = &quot;comment&quot;)\r\n    private String comment;\r\n\r\n    @Column(name = &quot;rating&quot;)\r\n    private Integer rating;\r\n\r\n    @Column(name = &quot;created_at&quot;, nullable = false)\r\n    private LocalDateTime createdAt;\r\n}\r\n\r\n```\r\nand the following test:\r\n```\r\n\r\n    @Test\r\n    void testCreateRecipe_FailNameIsBlank() {\r\n        Review review = new Review();\r\n        review.setComment(&quot;Comment New&quot;);\r\n        review.setRating(4);\r\n        review.setCreatedAt(LocalDateTime.now());\r\n            assertThrows(\r\n                    ConstraintViolationException.class,\r\n                    () -&gt; {\r\n                        reviewRepository.save(review);}\r\n            );\r\n    }\r\n```\r\n\r\nI want to test if exception will be thrown when no *authorId* is provided.\r\n\r\nQuestion 1 - should it be tested in the repository layer tests.\r\nQuestion 2 - I&#39;m getting :\r\n```\r\n\r\norg.opentest4j.AssertionFailedError: Expected org.hibernate.exception.ConstraintViolationException to be thrown, but nothing was thrown.\r\n...\r\nSuppressed: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n```\r\nNote - tried changing the exception which I try assert is thrown to *org.opentest4j.AssertionFailedError: Expected org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException to be thrown, but nothing was thrown.* but didn&#39;t work out also.\r\n\r\nAny help is well welcomed.","title":"Testing JdbcSQLIntegrityConstraintViolationException on repository layer","body":"<p>I have the following Entity:</p>\n<pre><code>@Data\n@Entity\n@Table(name = DbConstants.TBL_REVIEWS, schema = DbConstants.SCHEMA_PUBLIC)\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Review {\n\n    @Id\n    @SequenceGenerator(\n            name = DbConstants.SEQ_REVIEWS_ID,\n            sequenceName = DbConstants.SEQ_REVIEWS_ID,\n            allocationSize = DbConstants.ALLOCATION_SIZE\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = DbConstants.SEQ_REVIEWS_ID\n    )\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;author_id&quot;, nullable = false)\n    private Long authorId;\n\n    @Column(name = &quot;comment&quot;)\n    private String comment;\n\n    @Column(name = &quot;rating&quot;)\n    private Integer rating;\n\n    @Column(name = &quot;created_at&quot;, nullable = false)\n    private LocalDateTime createdAt;\n}\n\n</code></pre>\n<p>and the following test:</p>\n<pre><code>\n    @Test\n    void testCreateRecipe_FailNameIsBlank() {\n        Review review = new Review();\n        review.setComment(&quot;Comment New&quot;);\n        review.setRating(4);\n        review.setCreatedAt(LocalDateTime.now());\n            assertThrows(\n                    ConstraintViolationException.class,\n                    () -&gt; {\n                        reviewRepository.save(review);}\n            );\n    }\n</code></pre>\n<p>I want to test if exception will be thrown when no <em>authorId</em> is provided.</p>\n<p>Question 1 - should it be tested in the repository layer tests.\nQuestion 2 - I'm getting :</p>\n<pre><code>\norg.opentest4j.AssertionFailedError: Expected org.hibernate.exception.ConstraintViolationException to be thrown, but nothing was thrown.\n...\nSuppressed: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n<p>Note - tried changing the exception which I try assert is thrown to <em>org.opentest4j.AssertionFailedError: Expected org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException to be thrown, but nothing was thrown.</em> but didn't work out also.</p>\n<p>Any help is well welcomed.</p>\n"},{"tags":["python","java","php","c++","memgraphdb"],"answers":[{"tags":[],"owner":{"account_id":24911843,"reputation":1056,"user_id":18781306,"display_name":"KWriter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662545381,"creation_date":1662545381,"answer_id":73633683,"question_id":73633682,"body_markdown":"f you want to query Memgraph programmatically, you can do so using the&#160;[Bolt protocol](https://7687.org/). The Bolt protocol was designed for efficient communication with graph databases and&#160;Memgraph supports versions 1 and 4&#160;of the protocol. You can use the Bolt protocol drivers for the following programming languages:\r\n\r\n-   [Python](https://github.com/memgraph/pymgclient)\r\n-   [C/C++](https://github.com/memgraph/mgclient)\r\n-   [Rust](https://github.com/memgraph/rsmgclient)\r\n-   [Node.js](https://github.com/neo4j/neo4j-javascript-driver)\r\n-   [C#](https://github.com/neo4j/neo4j-dotnet-driver)\r\n-   [Go](https://github.com/neo4j/neo4j-go-driver)\r\n-   [Haskell](https://github.com/zmactep/hasbolt)\r\n-   [Java](https://github.com/neo4j/neo4j-java-driver)\r\n-   [JavaScript](https://github.com/neo4j/neo4j-javascript-driver)\r\n-   [PHP](https://github.com/neo4j-php/Bolt)\r\n-   [Ruby](https://github.com/neo4jrb/neo4j)","title":"What programing languages does Memgraph support?","body":"<p>f you want to query Memgraph programmatically, you can do so using the <a href=\"https://7687.org/\" rel=\"nofollow noreferrer\">Bolt protocol</a>. The Bolt protocol was designed for efficient communication with graph databases and Memgraph supports versions 1 and 4 of the protocol. You can use the Bolt protocol drivers for the following programming languages:</p>\n<ul>\n<li><a href=\"https://github.com/memgraph/pymgclient\" rel=\"nofollow noreferrer\">Python</a></li>\n<li><a href=\"https://github.com/memgraph/mgclient\" rel=\"nofollow noreferrer\">C/C++</a></li>\n<li><a href=\"https://github.com/memgraph/rsmgclient\" rel=\"nofollow noreferrer\">Rust</a></li>\n<li><a href=\"https://github.com/neo4j/neo4j-javascript-driver\" rel=\"nofollow noreferrer\">Node.js</a></li>\n<li><a href=\"https://github.com/neo4j/neo4j-dotnet-driver\" rel=\"nofollow noreferrer\">C#</a></li>\n<li><a href=\"https://github.com/neo4j/neo4j-go-driver\" rel=\"nofollow noreferrer\">Go</a></li>\n<li><a href=\"https://github.com/zmactep/hasbolt\" rel=\"nofollow noreferrer\">Haskell</a></li>\n<li><a href=\"https://github.com/neo4j/neo4j-java-driver\" rel=\"nofollow noreferrer\">Java</a></li>\n<li><a href=\"https://github.com/neo4j/neo4j-javascript-driver\" rel=\"nofollow noreferrer\">JavaScript</a></li>\n<li><a href=\"https://github.com/neo4j-php/Bolt\" rel=\"nofollow noreferrer\">PHP</a></li>\n<li><a href=\"https://github.com/neo4jrb/neo4j\" rel=\"nofollow noreferrer\">Ruby</a></li>\n</ul>\n"}],"owner":{"account_id":24911843,"reputation":1056,"user_id":18781306,"display_name":"KWriter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73633683,"answer_count":1,"score":1,"last_activity_date":1663852045,"creation_date":1662545381,"question_id":73633682,"body_markdown":"From which programming languages can I connect to Memgraph? Which protocol is used? I know that Python is for sure supported since there is [GQLAlchemy][1] (a fully open-source Python library). What about other languages?\r\n\r\n\r\n  [1]: https://memgraph.com/gqlalchemy","title":"What programing languages does Memgraph support?","body":"<p>From which programming languages can I connect to Memgraph? Which protocol is used? I know that Python is for sure supported since there is <a href=\"https://memgraph.com/gqlalchemy\" rel=\"nofollow noreferrer\">GQLAlchemy</a> (a fully open-source Python library). What about other languages?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1437801363,"post_id":31623214,"comment_id":51194767,"body_markdown":"What is _Array Utils_?","body":"What is <i>Array Utils</i>?"},{"owner":{"account_id":6681718,"reputation":101,"user_id":5154612,"accept_rate":20,"display_name":"Nithyn. K"},"score":0,"creation_date":1437801509,"post_id":31623214,"comment_id":51194786,"body_markdown":"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html","body":"<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":237972,"reputation":4709,"user_id":506544,"accept_rate":46,"display_name":"Prahalad Deshpande"},"score":0,"creation_date":1437802085,"post_id":31623214,"comment_id":51194904,"body_markdown":"@SotiriosDelimanolis Oops ... Dangling reference to a term :(.","body":"@SotiriosDelimanolis Oops ... Dangling reference to a term :(."},{"owner":{"account_id":237972,"reputation":4709,"user_id":506544,"accept_rate":46,"display_name":"Prahalad Deshpande"},"score":0,"creation_date":1437802211,"post_id":31623214,"comment_id":51194928,"body_markdown":"@Nithyn.K ArrayUtils will help to create a new array from two input arrays. However you can easily do it using the technique suggested by laune below.","body":"@Nithyn.K ArrayUtils will help to create a new array from two input arrays. However you can easily do it using the technique suggested by laune below."},{"owner":{"account_id":3692458,"reputation":11794,"user_id":3074750,"accept_rate":70,"display_name":"Vishnu"},"score":0,"creation_date":1437802466,"post_id":31623214,"comment_id":51194978,"body_markdown":"@Nithyn.K try to google or search in stackoverflow before asking question.","body":"@Nithyn.K try to google or search in stackoverflow before asking question."}],"answers":[{"tags":[],"owner":{"account_id":3692458,"reputation":11794,"user_id":3074750,"accept_rate":70,"display_name":"Vishnu"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1437801996,"creation_date":1437801996,"answer_id":31623269,"question_id":31623214,"body_markdown":"Use join\r\n\r\n    String joined2 = String.join(&quot;,&quot;, test );","title":"Convert a List of Strings into a single String using ArrayUtils in java","body":"<p>Use join</p>\n\n<pre><code>String joined2 = String.join(\",\", test );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437802536,"creation_date":1437802040,"answer_id":31623276,"question_id":31623214,"body_markdown":"If you must use [`ArrayUtils`](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html) then you could use [`List.toArray(T[])`](http://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray-T:A-) (because `ArrayUtils` is for *arrays*) and a regular expression to remove `{` and `}` on one line like\r\n\r\n\tList&lt;String&gt; test = new ArrayList&lt;&gt;(Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\r\n\tSystem.out.println(ArrayUtils.toString(test.toArray(new String[0]))\r\n\t\t\t.replaceAll(&quot;[{|}]&quot;, &quot;&quot;));\r\n\r\nOutput is (as requested)\r\n\r\n&gt; one,two,three\r\n\r\nThe [`String.join(CharSequence, Iterable&lt;? extends CharSequence&gt;)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-) suggested by [@Vishnu](https://stackoverflow.com/users/3074750/vishnu)&#39;s [answer](https://stackoverflow.com/a/31623269/2970947) offers a solution that eschews `ArrayUtils` (but is arguable *better*, assuming you can use it) with\r\n\r\n\tString joined2 = String.join(&quot;,&quot;, test);\r\n\tSystem.out.println(joined2);\r\n\r\nwhich outputs the same.","title":"Convert a List of Strings into a single String using ArrayUtils in java","body":"<p>If you must use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\" rel=\"nofollow noreferrer\"><code>ArrayUtils</code></a> then you could use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/List.html#toArray-T:A-\" rel=\"nofollow noreferrer\"><code>List.toArray(T[])</code></a> (because <code>ArrayUtils</code> is for <em>arrays</em>) and a regular expression to remove <code>{</code> and <code>}</code> on one line like</p>\n\n<pre><code>List&lt;String&gt; test = new ArrayList&lt;&gt;(Arrays.asList(\"one\", \"two\", \"three\"));\nSystem.out.println(ArrayUtils.toString(test.toArray(new String[0]))\n        .replaceAll(\"[{|}]\", \"\"));\n</code></pre>\n\n<p>Output is (as requested)</p>\n\n<blockquote>\n  <p>one,two,three</p>\n</blockquote>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"nofollow noreferrer\"><code>String.join(CharSequence, Iterable&lt;? extends CharSequence&gt;)</code></a> suggested by <a href=\"https://stackoverflow.com/users/3074750/vishnu\">@Vishnu</a>'s <a href=\"https://stackoverflow.com/a/31623269/2970947\">answer</a> offers a solution that eschews <code>ArrayUtils</code> (but is arguable <em>better</em>, assuming you can use it) with</p>\n\n<pre><code>String joined2 = String.join(\",\", test);\nSystem.out.println(joined2);\n</code></pre>\n\n<p>which outputs the same.</p>\n"},{"tags":[],"owner":{"account_id":1137492,"reputation":1822,"user_id":1122229,"accept_rate":56,"display_name":"Algorithmatic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542656121,"creation_date":1437802936,"answer_id":31623366,"question_id":31623214,"body_markdown":"You can&#39;t do this with ArrayUtils. You can use [Apache&#39;s StringUtils join function][1] to get the result you want.\r\n\r\n    // result is &quot;one,two,three&quot;\r\n    StringUtils.join(test, &#39;,&#39;);\r\n\r\nIf you don&#39;t want to use a library, you can create this function:\r\n\r\n    public static String joiner(List&lt;String&gt; list, String separator){\r\n        StringBuilder result = new StringBuilder();\r\n        for(String term : list) result.append(term + separator);\r\n        return result.deleteCharAt(result.length()-separator.length()).toString();\r\n    } \r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#join(java.lang.Iterable,%20char)","title":"Convert a List of Strings into a single String using ArrayUtils in java","body":"<p>You can't do this with ArrayUtils. You can use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#join(java.lang.Iterable,%20char)\" rel=\"nofollow noreferrer\">Apache's StringUtils join function</a> to get the result you want.</p>\n\n<pre><code>// result is \"one,two,three\"\nStringUtils.join(test, ',');\n</code></pre>\n\n<p>If you don't want to use a library, you can create this function:</p>\n\n<pre><code>public static String joiner(List&lt;String&gt; list, String separator){\n    StringBuilder result = new StringBuilder();\n    for(String term : list) result.append(term + separator);\n    return result.deleteCharAt(result.length()-separator.length()).toString();\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12459300,"reputation":1,"user_id":9071433,"display_name":"vishnu pp"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512720719,"creation_date":1512720719,"answer_id":47710184,"question_id":31623214,"body_markdown":"     \r\n    \r\n           List&lt;String&gt; test = new ArrayList&lt;String&gt;();\r\n            test.add(&quot;one&quot;);\r\n            test.add(&quot;two&quot;);\r\n            test.add(&quot;three&quot;);\r\n           Iterator it = test.iterator();\r\n            \r\n           while(it.hasNext()){\r\n           \r\n          String s=it.next();\r\n          StringBuilder sb = new StringBuilder();\r\n          \r\n         sb.append(s);\r\n    }\r\n\r\n","title":"Convert a List of Strings into a single String using ArrayUtils in java","body":"<pre><code>       List&lt;String&gt; test = new ArrayList&lt;String&gt;();\n        test.add(\"one\");\n        test.add(\"two\");\n        test.add(\"three\");\n       Iterator it = test.iterator();\n\n       while(it.hasNext()){\n\n      String s=it.next();\n      StringBuilder sb = new StringBuilder();\n\n     sb.append(s);\n}\n</code></pre>\n"}],"owner":{"account_id":6681718,"reputation":101,"user_id":5154612,"accept_rate":20,"display_name":"Nithyn. K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21948,"favorite_count":0,"down_vote_count":4,"up_vote_count":9,"answer_count":4,"score":5,"last_activity_date":1663851871,"creation_date":1437801315,"question_id":31623214,"body_markdown":" I have below code\r\n\r\n    List&lt;String&gt; test = new ArrayList&lt;String&gt;();\r\n    test.add(&quot;one&quot;);\r\n    test.add(&quot;two&quot;);\r\n    test.add(&quot;three&quot;);\r\n\r\nNeed output as `&quot;one,two,three&quot;` in a single string using Array Utils. Need a single line solution.","title":"Convert a List of Strings into a single String using ArrayUtils in java","body":"<p>I have below code</p>\n\n<pre><code>List&lt;String&gt; test = new ArrayList&lt;String&gt;();\ntest.add(\"one\");\ntest.add(\"two\");\ntest.add(\"three\");\n</code></pre>\n\n<p>Need output as <code>\"one,two,three\"</code> in a single string using Array Utils. Need a single line solution.</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":23939518,"reputation":11,"user_id":17932828,"display_name":"Der Dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846617,"creation_date":1663846617,"answer_id":73813936,"question_id":73813328,"body_markdown":"You print directly after the if presence.\r\nYou would have to add another query after the first if. Something like this should solve the problem\r\n\r\n                                                     \r\n    `for (int i = 0; i &lt; lines.size(); i++) { //iterate over array  \r\n    // System.out.println(lines.get(i) + &quot; &quot;);                 \r\n    if (i == 9){                                               \r\n        break;                                                 \r\n    }else if (lines.get(i) &lt; lines.get(i + 1)){\r\n\t\t\t\tif(lines.get(i) &gt; lines.get(i+1){                 \r\n        System.out.println((i) + &quot;-&quot; + (i+1));\r\n\t\t\t\t}                 \r\n    }else {                                                    \r\n        continue;                                              \r\n    }                                                          \r\n}`","title":"find the range over a incline","body":"<p>You print directly after the if presence.\nYou would have to add another query after the first if. Something like this should solve the problem</p>\n<pre><code>`for (int i = 0; i &lt; lines.size(); i++) { //iterate over array  \n// System.out.println(lines.get(i) + &quot; &quot;);                 \nif (i == 9){                                               \n    break;                                                 \n}else if (lines.get(i) &lt; lines.get(i + 1)){\n            if(lines.get(i) &gt; lines.get(i+1){                 \n    System.out.println((i) + &quot;-&quot; + (i+1));\n            }                 \n}else {                                                    \n    continue;                                              \n}                                                          \n</code></pre>\n<p>}`</p>\n"},{"tags":[],"owner":{"account_id":26400487,"reputation":1,"user_id":20051027,"display_name":"Miguel Ara&#250;jo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846745,"creation_date":1663846685,"answer_id":73813951,"question_id":73813328,"body_markdown":"You are printing every line, so it is expected the output is moving unit by unit.\r\n\r\nWhat you can do is create a boolean that is initially set to false. Then, it will be set to true if the condition lines.get(i) &lt; lines.get(i + 1) is true, and store the index i.\r\n\r\nIt will then change to false again whenever the condition lines.get(i) &lt; lines.get(i + 1) is not true. Store the index again and only then print.","title":"find the range over a incline","body":"<p>You are printing every line, so it is expected the output is moving unit by unit.</p>\n<p>What you can do is create a boolean that is initially set to false. Then, it will be set to true if the condition lines.get(i) &lt; lines.get(i + 1) is true, and store the index i.</p>\n<p>It will then change to false again whenever the condition lines.get(i) &lt; lines.get(i + 1) is not true. Store the index again and only then print.</p>\n"},{"tags":[],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846840,"creation_date":1663846840,"answer_id":73813998,"question_id":73813328,"body_markdown":"Trivial solution:\r\n\r\n```\r\nprivate static void compare( int start, int end )\r\n{\r\n  if( start != end )\r\n  {\r\n    System.out.println( start + &quot; - &quot; + end );\r\n  }\r\n}\r\n    \r\npublic static void main(String args[]) {\r\n  int[] lines = { 5, 7, 10, 11, 8, 6, 5, 4, 7, 8 };\r\n      \r\n  int start = 0;\r\n  for( int i = 0; i &lt; lines.length - 1; i++ )\r\n  {\r\n    if( lines[i] &gt;= lines[i + 1] )\r\n    {\r\n      compare( start, i );                \r\n      start = i + 1;\r\n    }\r\n  }\r\n  compare( start, lines.length - 1 );\r\n}\r\n    \r\n```\r\n\r\nThis can very likely be further optimized.","title":"find the range over a incline","body":"<p>Trivial solution:</p>\n<pre><code>private static void compare( int start, int end )\n{\n  if( start != end )\n  {\n    System.out.println( start + &quot; - &quot; + end );\n  }\n}\n    \npublic static void main(String args[]) {\n  int[] lines = { 5, 7, 10, 11, 8, 6, 5, 4, 7, 8 };\n      \n  int start = 0;\n  for( int i = 0; i &lt; lines.length - 1; i++ )\n  {\n    if( lines[i] &gt;= lines[i + 1] )\n    {\n      compare( start, i );                \n      start = i + 1;\n    }\n  }\n  compare( start, lines.length - 1 );\n}\n    \n</code></pre>\n<p>This can very likely be further optimized.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663847667,"creation_date":1663847667,"answer_id":73814206,"question_id":73813328,"body_markdown":"The code in your question is not a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) so I understand that `lines` is a [List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html). However you are accessing it as if it were an array so in the code, below, I used an array of `int` rather than a list of `Integer`.\r\n\r\nThe best way to understand how the code works is to run it through a debugger. If you are using an IDE, like [IntelliJ](https://www.jetbrains.com/idea/) or [Eclipse](https://www.eclipse.org/), then it has a debugger.\r\n\r\nAlternatively do a walk through of the code and write down the values of the variables as they change. This is known as debugging by hand.\r\n```java\r\nint[] lines = new int[]{5, 7, 10, 11, 8, 6, 5, 4, 7, 8};\r\nint end = lines.length - 1;\r\nint lower = 0;\r\nint upper = 0;\r\nfor (int i = 0; i &lt; end; i++) { // iterate over array\r\n    if (lines[i] &lt; lines[i + 1]) {\r\n        if (lower == upper) {\r\n            lower = i;\r\n        }\r\n        upper = i + 1;\r\n    }\r\n    else {\r\n        if (upper &gt; lower) {\r\n            System.out.println(lower + &quot;-&quot; + upper);\r\n        }\r\n        lower = upper = i;\r\n    }\r\n}\r\nif (upper &gt; lower) {\r\n    System.out.println(lower + &quot;-&quot; + upper);\r\n}\r\n```\r\nThe limit of the `for` loop must be one less than the size of the array, otherwise the `lines[i + 1]`, on the last iteration of the loop, will be greater than the index of the last element in `lines` and that will cause an [exception](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html) to be thrown.\r\n\r\nAfter the `for` loop terminates, you need to check the values of `lower` and `upper` to see whether the last elements of `lines` are increasing. Hence the `if` statement after the `for` loop.\r\n\r\nWhen I run the above code I get the following output:\r\n```none\r\n0-3\r\n7-9\r\n```\r\nI understand that this is your desired output.\r\n","title":"find the range over a incline","body":"<p>The code in your question is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> so I understand that <code>lines</code> is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a>. However you are accessing it as if it were an array so in the code, below, I used an array of <code>int</code> rather than a list of <code>Integer</code>.</p>\n<p>The best way to understand how the code works is to run it through a debugger. If you are using an IDE, like <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ</a> or <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse</a>, then it has a debugger.</p>\n<p>Alternatively do a walk through of the code and write down the values of the variables as they change. This is known as debugging by hand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] lines = new int[]{5, 7, 10, 11, 8, 6, 5, 4, 7, 8};\nint end = lines.length - 1;\nint lower = 0;\nint upper = 0;\nfor (int i = 0; i &lt; end; i++) { // iterate over array\n    if (lines[i] &lt; lines[i + 1]) {\n        if (lower == upper) {\n            lower = i;\n        }\n        upper = i + 1;\n    }\n    else {\n        if (upper &gt; lower) {\n            System.out.println(lower + &quot;-&quot; + upper);\n        }\n        lower = upper = i;\n    }\n}\nif (upper &gt; lower) {\n    System.out.println(lower + &quot;-&quot; + upper);\n}\n</code></pre>\n<p>The limit of the <code>for</code> loop must be one less than the size of the array, otherwise the <code>lines[i + 1]</code>, on the last iteration of the loop, will be greater than the index of the last element in <code>lines</code> and that will cause an <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">exception</a> to be thrown.</p>\n<p>After the <code>for</code> loop terminates, you need to check the values of <code>lower</code> and <code>upper</code> to see whether the last elements of <code>lines</code> are increasing. Hence the <code>if</code> statement after the <code>for</code> loop.</p>\n<p>When I run the above code I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0-3\n7-9\n</code></pre>\n<p>I understand that this is your desired output.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663851764,"creation_date":1663851764,"answer_id":73815137,"question_id":73813328,"body_markdown":"Although you are working in Java this is more of an algorithm question than something specific to the language.\r\n\r\nYou&#39;ll need to keep track of the beginning of an incline as an independent variable.  This is initially null because you do not know if the ArrayList begins with an incline or decline (or steady?).  Since you want to keep track of the indexes, you&#39;ll need to iterate via the index - which you&#39;re already doing.\r\n\r\nYou are iterating from 1.  This makes sense as it allows you to compare the current with the previous.  Remove the break on the index `9` - this will cripple your algorithm if the number of elements varies.  You should not make assumptions that the data your instructor will test with will be the same as the sample provided.  They will look for edge cases that break a naive algorithm.\r\n\r\nOn a given iteration there are four possible states\r\n 1. you were on an incline and it continues through index\r\n 1. you were on an incline but it ended at previous index\r\n 1. you were not on an incline but you incline from previous index to index\r\n 1. you were not on an incline and you are not incling from previous index to index\r\n\r\nThere are only two cases where you do something - when you either begin or end an incline.  Note that the List may end on an incline so you need to check for that case after completing the iteration.  This has the distinct odor of a class assignment so I&#39;m not going to provide Java code but the follow pseudocode describes the general algorithm.\r\n\r\n    let beginning-of-incline be null\r\n    for each index starting with 1\r\n      let inclining = is there an incline from the previous element to this element\r\n      if inclining and beginning-of-incline is null\r\n        capture beginning-of-incline\r\n      else if not-inclining and beginning-of-incline is not null\r\n        record incline from beginning-of-incline to previous index\r\n        clear beginning-of-incline\r\n      end-if-else\r\n    end for-each-index\r\n    if beginning-of-incline is not null\r\n      record incline from beginning-of-incline to final index of ArrayList\r\n    endif\r\n\r\n    \r\n\r\n","title":"find the range over a incline","body":"<p>Although you are working in Java this is more of an algorithm question than something specific to the language.</p>\n<p>You'll need to keep track of the beginning of an incline as an independent variable.  This is initially null because you do not know if the ArrayList begins with an incline or decline (or steady?).  Since you want to keep track of the indexes, you'll need to iterate via the index - which you're already doing.</p>\n<p>You are iterating from 1.  This makes sense as it allows you to compare the current with the previous.  Remove the break on the index <code>9</code> - this will cripple your algorithm if the number of elements varies.  You should not make assumptions that the data your instructor will test with will be the same as the sample provided.  They will look for edge cases that break a naive algorithm.</p>\n<p>On a given iteration there are four possible states</p>\n<ol>\n<li>you were on an incline and it continues through index</li>\n<li>you were on an incline but it ended at previous index</li>\n<li>you were not on an incline but you incline from previous index to index</li>\n<li>you were not on an incline and you are not incling from previous index to index</li>\n</ol>\n<p>There are only two cases where you do something - when you either begin or end an incline.  Note that the List may end on an incline so you need to check for that case after completing the iteration.  This has the distinct odor of a class assignment so I'm not going to provide Java code but the follow pseudocode describes the general algorithm.</p>\n<pre><code>let beginning-of-incline be null\nfor each index starting with 1\n  let inclining = is there an incline from the previous element to this element\n  if inclining and beginning-of-incline is null\n    capture beginning-of-incline\n  else if not-inclining and beginning-of-incline is not null\n    record incline from beginning-of-incline to previous index\n    clear beginning-of-incline\n  end-if-else\nend for-each-index\nif beginning-of-incline is not null\n  record incline from beginning-of-incline to final index of ArrayList\nendif\n</code></pre>\n"}],"owner":{"account_id":25276206,"reputation":1,"user_id":19104795,"display_name":"Marie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1663851764,"creation_date":1663843761,"question_id":73813328,"body_markdown":"goodday i am having an issue with my code. i am trying to iterate over an arraylist and see for which indices the values are increasing.\r\nlines = [5, 7, 10, 11, 8, 6, 5, 4, 7, 8]\r\n\r\n```\r\nfor (int i = 0; i &lt; lines.size(); i++) { //iterate over array  \r\n    // System.out.println(lines.get(i) + &quot; &quot;);                 \r\n    if (i == 9){                                               \r\n        break;                                                 \r\n    }else if (lines.get(i) &lt; lines.get(i + 1)){                \r\n        System.out.println((i) + &quot;-&quot; + (i+1));                 \r\n    }else {                                                    \r\n        continue;                                              \r\n    }                                                          \r\n}                                                              \r\n```\r\nand my output produces this:\r\n```\r\n0-1\r\n1-2\r\n2-3\r\n7-8\r\n8-9\r\n```\r\nhowever i want my output to look like this:\r\n```\r\n0-3\r\n7-9\r\n```","title":"find the range over a incline","body":"<p>goodday i am having an issue with my code. i am trying to iterate over an arraylist and see for which indices the values are increasing.\nlines = [5, 7, 10, 11, 8, 6, 5, 4, 7, 8]</p>\n<pre><code>for (int i = 0; i &lt; lines.size(); i++) { //iterate over array  \n    // System.out.println(lines.get(i) + &quot; &quot;);                 \n    if (i == 9){                                               \n        break;                                                 \n    }else if (lines.get(i) &lt; lines.get(i + 1)){                \n        System.out.println((i) + &quot;-&quot; + (i+1));                 \n    }else {                                                    \n        continue;                                              \n    }                                                          \n}                                                              \n</code></pre>\n<p>and my output produces this:</p>\n<pre><code>0-1\n1-2\n2-3\n7-8\n8-9\n</code></pre>\n<p>however i want my output to look like this:</p>\n<pre><code>0-3\n7-9\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","singlestore"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1663846708,"post_id":73813830,"comment_id":130338064,"body_markdown":"According to [single store](https://www.singlestore.com/forum/t/which-spring-boot-dependency-should-i-use-to-integrate-with-a-singlestore-database/2911/3), you only need (spring-boot-data-starter-jpa and) maria db driver in your classpath.. (+ connection string, &quot;authentication&quot;,...)","body":"According to <a href=\"https://www.singlestore.com/forum/t/which-spring-boot-dependency-should-i-use-to-integrate-with-a-singlestore-database/2911/3\" rel=\"nofollow noreferrer\">single store</a>, you only need (spring-boot-data-starter-jpa and) maria db driver in your classpath.. (+ connection string, &quot;authentication&quot;,...)"}],"answers":[{"tags":[],"owner":{"account_id":26412750,"reputation":21,"user_id":20061623,"display_name":"gkafity"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663851341,"creation_date":1663851341,"answer_id":73815028,"question_id":73813830,"body_markdown":"To leverage SingleStoreDB with Spring Boot, you would use the JDBC connectors for both technologies - [Spring][1] + [SingleStore][2]. If you are using some ORM style features, use the mysql dialect. If you run into issues you can raise them here, on the [forum][3] or to support if you&#39;re an active customer. \r\n\r\n\r\n  [1]: https://spring.io/projects/spring-data-jdbc\r\n  [2]: https://docs.singlestore.com/db/v7.6/en/developer-resources/connect-with-application-development-tools/connect-with-java-jdbc/the-singlestore-jdbc-driver.html\r\n  [3]: https://www.singlestore.com/forum/","title":"Is it possible to use memSQL/SingleStore with Spring Data JPA?","body":"<p>To leverage SingleStoreDB with Spring Boot, you would use the JDBC connectors for both technologies - <a href=\"https://spring.io/projects/spring-data-jdbc\" rel=\"nofollow noreferrer\">Spring</a> + <a href=\"https://docs.singlestore.com/db/v7.6/en/developer-resources/connect-with-application-development-tools/connect-with-java-jdbc/the-singlestore-jdbc-driver.html\" rel=\"nofollow noreferrer\">SingleStore</a>. If you are using some ORM style features, use the mysql dialect. If you run into issues you can raise them here, on the <a href=\"https://www.singlestore.com/forum/\" rel=\"nofollow noreferrer\">forum</a> or to support if you're an active customer.</p>\n"}],"owner":{"account_id":18615449,"reputation":111,"user_id":13566854,"display_name":"Supriya Shelar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663851341,"creation_date":1663846196,"question_id":73813830,"body_markdown":"I want to use SingleStore database with my Spring Boot Application which uses Spring Data JPA. How it can be achieved?","title":"Is it possible to use memSQL/SingleStore with Spring Data JPA?","body":"<p>I want to use SingleStore database with my Spring Boot Application which uses Spring Data JPA. How it can be achieved?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16865861,"reputation":372,"user_id":12195587,"display_name":"Fuzail"},"score":0,"creation_date":1663402364,"post_id":73753201,"comment_id":130235061,"body_markdown":"When using the static method makeText(), why are you using the new keyword with the class name. simply try Toast.makeText();","body":"When using the static method makeText(), why are you using the new keyword with the class name. simply try Toast.makeText();"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663402352,"creation_date":1663402352,"answer_id":73753251,"question_id":73753201,"body_markdown":"`Toast.makeText` is a method, not a class. Remove the `new` to call the method rather than trying to instantiate a class.","title":"Cannot find symbol for makeText method in the Toast class?","body":"<p><code>Toast.makeText</code> is a method, not a class. Remove the <code>new</code> to call the method rather than trying to instantiate a class.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663402385,"creation_date":1663402385,"answer_id":73753256,"question_id":73753201,"body_markdown":"The problem is `new Toast.makeText(..)`. This is a constructor invocation for a **class** `makeText` nested in `Toast`, such a class does not exist. You need to call the **method** [`makeText` of `Toast`][1]:\r\n```java\r\nToast toast = Toast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT);\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/Toast#makeText(android.content.Context,%20int,%20int)","title":"Cannot find symbol for makeText method in the Toast class?","body":"<p>The problem is <code>new Toast.makeText(..)</code>. This is a constructor invocation for a <strong>class</strong> <code>makeText</code> nested in <code>Toast</code>, such a class does not exist. You need to call the <strong>method</strong> <a href=\"https://developer.android.com/reference/android/widget/Toast#makeText(android.content.Context,%20int,%20int)\" rel=\"nofollow noreferrer\"><code>makeText</code> of <code>Toast</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Toast toast = Toast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663850996,"creation_date":1663410408,"answer_id":73754058,"question_id":73753201,"body_markdown":"`Toast toast = new Toast.makeText(...);`\r\nIt is a constructor invocation, and `Toast` class doesn&#39;t exist. So it won&#39;t work.\r\n\r\nYou need to write only\r\n```java\r\nToast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT).show();\r\n``` \r\n\r\nFor more information you may visit [android docs][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/notifiers/toasts","title":"Cannot find symbol for makeText method in the Toast class?","body":"<p><code>Toast toast = new Toast.makeText(...);</code>\nIt is a constructor invocation, and <code>Toast</code> class doesn't exist. So it won't work.</p>\n<p>You need to write only</p>\n<pre class=\"lang-java prettyprint-override\"><code>Toast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>For more information you may visit <a href=\"https://developer.android.com/guide/topics/ui/notifiers/toasts\" rel=\"nofollow noreferrer\">android docs</a></p>\n"}],"owner":{"account_id":26362177,"reputation":1,"user_id":20018211,"display_name":"willTheThrill777"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1663850996,"creation_date":1663401871,"question_id":73753201,"body_markdown":"```java\r\npublic void showToast(View view) {\r\n    Toast toast = new Toast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT);\r\n    toast.show();\r\n}\r\n```\r\n```none\r\nerror: cannot find symbol\r\n        Toast toast = new Toast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT);\r\n                               ^\r\n  symbol:   class makeText\r\n  location: class Toast\r\n```\r\n\r\nAs far as I can tell everything looks right, but for some reason I still keep getting this error.","title":"Cannot find symbol for makeText method in the Toast class?","body":"<pre class=\"lang-java prettyprint-override\"><code>public void showToast(View view) {\n    Toast toast = new Toast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT);\n    toast.show();\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>error: cannot find symbol\n        Toast toast = new Toast.makeText(this, R.string.toast_message, Toast.LENGTH_SHORT);\n                               ^\n  symbol:   class makeText\n  location: class Toast\n</code></pre>\n<p>As far as I can tell everything looks right, but for some reason I still keep getting this error.</p>\n"},{"tags":["java","eclipse-plugin","comparator","collectors"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1663786860,"post_id":73805594,"comment_id":130323950,"body_markdown":"You should try with version `Comparator.comparing(function to element, comparator for that element)`. Something like `Comparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile, String.CASE_INSENSITIVE_ORDER);`. Take a look at example in documentation: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)","body":"You should try with version <code>Comparator.comparing(function to element, comparator for that element)</code>. Something like <code>Comparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile, String.CASE_INSENSITIVE_ORDER);</code>. Take a look at example in documentation: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":1989735,"reputation":57,"user_id":1784049,"display_name":"MELS"},"score":1,"creation_date":1663787611,"post_id":73805594,"comment_id":130324205,"body_markdown":"@Pshemo that was exactly it, I followed your recommendation and it works now. You could post as an answer to the question so I could check your answer as the correct one.","body":"@Pshemo that was exactly it, I followed your recommendation and it works now. You could post as an answer to the question so I could check your answer as the correct one."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663850952,"creation_date":1663788189,"answer_id":73805966,"question_id":73805594,"body_markdown":"#### Problem\r\n\r\nWhen we use [`Comparator.comparing(Function&lt;? super T,? extends U&gt; keyExtractor)`][1] elements are ordered based on value of key (object property) pointed out by `keyExtractor`. Sorting algorithm here uses the *natural* order defined by class of selected *key*.  \r\nSuch class (or its ancestor) needs to implement `Comparable&lt;T&gt;` interface which forces implementation of `public int compareTo(T other)` method where comparison mechanism for sorting algorithms is defined.\r\n\r\nSince your *keyExtractor* was extracting key of type String, the natural order defined in String class was applied, and that order is case-sensitive. \r\n\r\n\r\n\r\n#### Solution\r\nTo build `Comparator` which will compare element based on its key (object property), but at the same time use different order than natural one for that key, we can use overloaded version of previous method, specifically [`Comparator.comparing(Function&lt;? super T,? extends U&gt; keyExtractor, Comparator&lt;? super U&gt; keyComparator)`][2]. Here the additiona/second parameter `keyComparator` allows us to pass different Comparator for selected key.\r\n\r\nSince you claimed that \r\n\r\n``` lang-java\r\nComparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile)\r\n``` \r\n\r\nworked but in case-sensitive way, all you need to do is add `String.CASE_INSENSITIVE_ORDER` as *second* argument - the `keyComparator` \r\n\r\n``` lang-java\r\nComparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile, String.CASE_INSENSITIVE_ORDER)\r\n                                                      // add this  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```\r\n\r\n---\r\n#### Extra\r\nBTW you don&#39;t need to use angle brackets with method references since type inference should be able to figure out correct generic type parameter based on context, so \r\n\r\n```\r\nComparator.comparing(Pair::getPathToFile, String.CASE_INSENSITIVE_ORDER)\r\n```\r\n\r\nshould also work fine.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)","title":"Sort elements based on their String property in case insensitive way","body":"<h4>Problem</h4>\n<p>When we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing(Function&lt;? super T,? extends U&gt; keyExtractor)</code></a> elements are ordered based on value of key (object property) pointed out by <code>keyExtractor</code>. Sorting algorithm here uses the <em>natural</em> order defined by class of selected <em>key</em>.<br />\nSuch class (or its ancestor) needs to implement <code>Comparable&lt;T&gt;</code> interface which forces implementation of <code>public int compareTo(T other)</code> method where comparison mechanism for sorting algorithms is defined.</p>\n<p>Since your <em>keyExtractor</em> was extracting key of type String, the natural order defined in String class was applied, and that order is case-sensitive.</p>\n<h4>Solution</h4>\n<p>To build <code>Comparator</code> which will compare element based on its key (object property), but at the same time use different order than natural one for that key, we can use overloaded version of previous method, specifically <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing(Function&lt;? super T,? extends U&gt; keyExtractor, Comparator&lt;? super U&gt; keyComparator)</code></a>. Here the additiona/second parameter <code>keyComparator</code> allows us to pass different Comparator for selected key.</p>\n<p>Since you claimed that</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile)\n</code></pre>\n<p>worked but in case-sensitive way, all you need to do is add <code>String.CASE_INSENSITIVE_ORDER</code> as <em>second</em> argument - the <code>keyComparator</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile, String.CASE_INSENSITIVE_ORDER)\n                                                      // add this  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n</code></pre>\n<hr />\n<h4>Extra</h4>\n<p>BTW you don't need to use angle brackets with method references since type inference should be able to figure out correct generic type parameter based on context, so</p>\n<pre><code>Comparator.comparing(Pair::getPathToFile, String.CASE_INSENSITIVE_ORDER)\n</code></pre>\n<p>should also work fine.</p>\n"}],"owner":{"account_id":1989735,"reputation":57,"user_id":1784049,"display_name":"MELS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73805966,"answer_count":1,"score":0,"last_activity_date":1663850952,"creation_date":1663786118,"question_id":73805594,"body_markdown":"The following code works but it does take into account upper or lower case, and the result is a non alphabetically ordered list:\t\r\n\t\r\n```\r\nList&lt;Pair&lt;IContributionItem, String&gt;&gt; itemsList = new ArrayList&lt;&gt;();\r\n\r\nComparator&lt;Pair&lt;IContributionItem, String&gt;&gt; filePathComparator = Comparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile);\r\n\t\titemsList = itemsList.stream().sorted(filePathComparator).collect(Collectors.toList()); \r\n```\r\n\r\nThen I came across ```String.CASE_INSENSITIVE_ORDER``` so I tried to add it to it:\r\n\r\n``` \r\nComparator&lt;Pair&lt;IContributionItem, String&gt;&gt; filePathComparator = Comparator.comparing(Pair&lt;IContributionItem, String.CASE_INSENSITIVE_ORDER&gt;::getPathToFile);\r\n\t\titemsList = itemsList.stream().sorted(filePathComparator).collect(Collectors.toList()); \r\n```\r\n\r\n\r\nBut it gives an error:\r\n```String.CASE_INSENSITIVE_ORDER cannot be resolved to a type.```\r\n\r\nWhat would be solution or workaround to accommodate the code?","title":"Sort elements based on their String property in case insensitive way","body":"<p>The following code works but it does take into account upper or lower case, and the result is a non alphabetically ordered list:</p>\n<pre><code>List&lt;Pair&lt;IContributionItem, String&gt;&gt; itemsList = new ArrayList&lt;&gt;();\n\nComparator&lt;Pair&lt;IContributionItem, String&gt;&gt; filePathComparator = Comparator.comparing(Pair&lt;IContributionItem, String&gt;::getPathToFile);\n        itemsList = itemsList.stream().sorted(filePathComparator).collect(Collectors.toList()); \n</code></pre>\n<p>Then I came across <code>String.CASE_INSENSITIVE_ORDER</code> so I tried to add it to it:</p>\n<pre><code>Comparator&lt;Pair&lt;IContributionItem, String&gt;&gt; filePathComparator = Comparator.comparing(Pair&lt;IContributionItem, String.CASE_INSENSITIVE_ORDER&gt;::getPathToFile);\n        itemsList = itemsList.stream().sorted(filePathComparator).collect(Collectors.toList()); \n</code></pre>\n<p>But it gives an error:\n<code>String.CASE_INSENSITIVE_ORDER cannot be resolved to a type.</code></p>\n<p>What would be solution or workaround to accommodate the code?</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":14415879,"reputation":768,"user_id":10413348,"display_name":"Barkha Jain"},"score":0,"creation_date":1618719772,"post_id":67137784,"comment_id":118685045,"body_markdown":"Can you add a field that denotes the type of document(may be a string value) in each index and when you fetch the results, check the value of this field and map it to a class accordingly?","body":"Can you add a field that denotes the type of document(may be a string value) in each index and when you fetch the results, check the value of this field and map it to a class accordingly?"},{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1618734528,"post_id":67137784,"comment_id":118687389,"body_markdown":"I could but there&#39;s already a lot of data there that would need to be changed. I&#39;ve seen something like this but I cant find a Java equivalent  https://stackoverflow.com/questions/56478093/full-text-search-with-multiple-index-in-elastic-search-using-nest-c-sharp","body":"I could but there&#39;s already a lot of data there that would need to be changed. I&#39;ve seen something like this but I cant find a Java equivalent  <a href=\"https://stackoverflow.com/questions/56478093/full-text-search-with-multiple-index-in-elastic-search-using-nest-c-sharp\" title=\"full text search with multiple index in elastic search using nest c sharp\">stackoverflow.com/questions/56478093/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16968808,"reputation":1,"user_id":12273983,"display_name":"ilyukou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619081481,"creation_date":1619035926,"answer_id":67202867,"question_id":67137784,"body_markdown":"Do you know a MultiSearchRequest ? \r\n\r\nLet&#39;s say we have a class Request with such a structure:\r\n\r\n    class Request {\r\n        private String index;\r\n        private String field;\r\n        private String value;\r\n    }\r\n\r\n - index - ElasticSearch index\r\n- field - field by which we are looking\r\n- value - field value\r\n\r\n\r\na search across multiple indices would look like this\r\n\r\n       public MultiSearchResponse find(List&lt;Request&gt; requests) throws IOException {\r\n        \r\n        MultiSearchRequest multiSearchRequest = new MultiSearchRequest();\r\n\r\n        for (Request req : requests){\r\n            QueryBuilder queryBuilder = QueryBuilders.boolQuery()\r\n                    .must(QueryBuilders.matchBoolPrefixQuery(req.field, req.value));\r\n\r\n            SearchSourceBuilder builder = new SearchSourceBuilder();\r\n            builder.size(1);\r\n            builder.query(queryBuilder);\r\n\r\n            SearchRequest searchRequest = new SearchRequest();\r\n            searchRequest.searchType(SearchType.DFS_QUERY_THEN_FETCH);\r\n            searchRequest.indices(req.index);\r\n            searchRequest.source(builder);\r\n\r\n            multiSearchRequest.add(searchRequest);\r\n        }\r\n\r\n        return restHighLevelClient.msearch(multiSearchRequest, RequestOptions.DEFAULT);\r\n    }\r\n\r\nI don&#39;t know if my solution will help, but still\r\n\r\n--UPD--\r\n\r\nIn my pet project i&#39;m converter like this\r\n\r\n    public static List&lt;SensorValueElasticsearch&gt; parse(MultiSearchResponse response) {\r\n\r\n        List&lt;SensorValueElasticsearch&gt; values = new ArrayList&lt;&gt;();\r\n        \r\n        for (MultiSearchResponse.Item item : response.getResponses()){\r\n            if (item.getResponse().getHits().getTotalHits().value &gt; 0){\r\n                values.addAll(convertToList(item.getResponse()));\r\n            }\r\n        }\r\n        return values;\r\n    }\r\n\r\n    public static List&lt;SensorValueElasticsearch&gt; convertToList(SearchResponse response) {\r\n        SearchHit[] res = response.getHits().getHits();\r\n\r\n        List&lt;SensorValueElasticsearch&gt; list = new LinkedList&lt;&gt;();\r\n\r\n        for (SearchHit sh : res) {\r\n\r\n            SensorValueElasticsearch object = null;\r\n            try {\r\n                object = OBJECT_MAPPER.readValue(sh.getSourceAsString(), SensorValueElasticsearch.class);\r\n            } catch (JsonProcessingException e) {\r\n                LOGGER.warn(&quot;Error while convert SearchResponse to SensorValueElasticsearch&quot;, e);\r\n            }\r\n\r\n            list.add(object);\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n\r\nIn you case before `OBJECT_MAPPER.readValue` you must be check what kind of object came to you or write return with try-catch block like this:\r\n\r\n            ObjectA a = null;\r\n            ObjectB b = null;\r\n\r\n            try {\r\n                return OBJECT_MAPPER.readValue(sh.getSourceAsString(), ObjectA.class);\r\n            } catch (JsonProcessingException e) {\r\n                // ignore\r\n            }\r\n\r\n            try {\r\n                return OBJECT_MAPPER.readValue(sh.getSourceAsString(), ObjectB.class);\r\n            } catch (JsonProcessingException e) {\r\n                // ignore\r\n            }\r\n\r\n            throw new IllegalArgumentException(&quot;Unknown class&quot;);\r\n\r\n","title":"Spring Elastic Search: Howto search across multiple indexes with mappings to different objects","body":"<p>Do you know a MultiSearchRequest ?</p>\n<p>Let's say we have a class Request with such a structure:</p>\n<pre><code>class Request {\n    private String index;\n    private String field;\n    private String value;\n}\n</code></pre>\n<ul>\n<li>index - ElasticSearch index</li>\n<li>field - field by which we are looking</li>\n<li>value - field value</li>\n</ul>\n<p>a search across multiple indices would look like this</p>\n<pre><code>   public MultiSearchResponse find(List&lt;Request&gt; requests) throws IOException {\n    \n    MultiSearchRequest multiSearchRequest = new MultiSearchRequest();\n\n    for (Request req : requests){\n        QueryBuilder queryBuilder = QueryBuilders.boolQuery()\n                .must(QueryBuilders.matchBoolPrefixQuery(req.field, req.value));\n\n        SearchSourceBuilder builder = new SearchSourceBuilder();\n        builder.size(1);\n        builder.query(queryBuilder);\n\n        SearchRequest searchRequest = new SearchRequest();\n        searchRequest.searchType(SearchType.DFS_QUERY_THEN_FETCH);\n        searchRequest.indices(req.index);\n        searchRequest.source(builder);\n\n        multiSearchRequest.add(searchRequest);\n    }\n\n    return restHighLevelClient.msearch(multiSearchRequest, RequestOptions.DEFAULT);\n}\n</code></pre>\n<p>I don't know if my solution will help, but still</p>\n<p>--UPD--</p>\n<p>In my pet project i'm converter like this</p>\n<pre><code>public static List&lt;SensorValueElasticsearch&gt; parse(MultiSearchResponse response) {\n\n    List&lt;SensorValueElasticsearch&gt; values = new ArrayList&lt;&gt;();\n    \n    for (MultiSearchResponse.Item item : response.getResponses()){\n        if (item.getResponse().getHits().getTotalHits().value &gt; 0){\n            values.addAll(convertToList(item.getResponse()));\n        }\n    }\n    return values;\n}\n\npublic static List&lt;SensorValueElasticsearch&gt; convertToList(SearchResponse response) {\n    SearchHit[] res = response.getHits().getHits();\n\n    List&lt;SensorValueElasticsearch&gt; list = new LinkedList&lt;&gt;();\n\n    for (SearchHit sh : res) {\n\n        SensorValueElasticsearch object = null;\n        try {\n            object = OBJECT_MAPPER.readValue(sh.getSourceAsString(), SensorValueElasticsearch.class);\n        } catch (JsonProcessingException e) {\n            LOGGER.warn(&quot;Error while convert SearchResponse to SensorValueElasticsearch&quot;, e);\n        }\n\n        list.add(object);\n    }\n\n    return list;\n}\n</code></pre>\n<p>In you case before <code>OBJECT_MAPPER.readValue</code> you must be check what kind of object came to you or write return with try-catch block like this:</p>\n<pre><code>        ObjectA a = null;\n        ObjectB b = null;\n\n        try {\n            return OBJECT_MAPPER.readValue(sh.getSourceAsString(), ObjectA.class);\n        } catch (JsonProcessingException e) {\n            // ignore\n        }\n\n        try {\n            return OBJECT_MAPPER.readValue(sh.getSourceAsString(), ObjectB.class);\n        } catch (JsonProcessingException e) {\n            // ignore\n        }\n\n        throw new IllegalArgumentException(&quot;Unknown class&quot;);\n</code></pre>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663850921,"creation_date":1618659902,"question_id":67137784,"body_markdown":"Firstly sorry if this has been asked somewhere, I&#39;ve searched high and low with no result.\r\n\r\nBasically I have an ES instance which has 3 indices. The data / mapping of the indices are generated from my java POJOs. Now I can search each index individually and map it back to a given Pojo / class. \r\n\r\nHowever I&#39;m completely at a loss when I want to do a search across the 3 indices in one go and map the search hit to the correct Pojo. \r\n\r\nFor instance here is how I currently search on a single index which maps to a UserProfile object I have:\r\n\r\n```\r\n    public Iterable&lt;UserProfile&gt; fetchUserSearchSuggestions(String query, Integer page, Integer size) {\r\n\r\n        PageRequest pageRequest = PageRequest.of(page, size);\r\n\r\n        QueryBuilder queryBuilder = QueryBuilders.boolQuery().should(new WildcardQueryBuilder(&quot;displayName&quot;, query + &quot;*&quot;))\r\n                .should(new WildcardQueryBuilder(&quot;name&quot;, query + &quot;*&quot;));\r\n\r\n        Query searchQuery = new NativeSearchQueryBuilder()\r\n                .withFilter(queryBuilder)\r\n                .withPageable(pageRequest)\r\n                .build();\r\n\r\n        SearchHits&lt;UserProfile&gt; searchSuggestions =\r\n                elasticsearchOperations.search(searchQuery,\r\n                        UserProfile.class,\r\n                        IndexCoordinates.of(elasticUserIndex));\r\n\r\n        List&lt;UserProfile&gt; suggestions = new ArrayList&lt;&gt;();\r\n\r\n        searchSuggestions.getSearchHits().forEach(searchHit -&gt; {\r\n            suggestions.add(searchHit.getContent());\r\n        });\r\n        long totalCount = searchSuggestions.getTotalHits();\r\n        Page&lt;UserProfile&gt; resultPage = PageableExecutionUtils.getPage(\r\n                suggestions,\r\n                pageRequest,\r\n                () -&gt; totalCount);\r\n        return resultPage;\r\n    }\r\n```\r\nAgain my problem is if I want to search across all indices in one go, like a universal search and map a user result to the UserProfile class and so on for each different objects I have, how do I do this. \r\n\r\nMany thanks for reading","title":"Spring Elastic Search: Howto search across multiple indexes with mappings to different objects","body":"<p>Firstly sorry if this has been asked somewhere, I've searched high and low with no result.</p>\n<p>Basically I have an ES instance which has 3 indices. The data / mapping of the indices are generated from my java POJOs. Now I can search each index individually and map it back to a given Pojo / class.</p>\n<p>However I'm completely at a loss when I want to do a search across the 3 indices in one go and map the search hit to the correct Pojo.</p>\n<p>For instance here is how I currently search on a single index which maps to a UserProfile object I have:</p>\n<pre><code>    public Iterable&lt;UserProfile&gt; fetchUserSearchSuggestions(String query, Integer page, Integer size) {\n\n        PageRequest pageRequest = PageRequest.of(page, size);\n\n        QueryBuilder queryBuilder = QueryBuilders.boolQuery().should(new WildcardQueryBuilder(&quot;displayName&quot;, query + &quot;*&quot;))\n                .should(new WildcardQueryBuilder(&quot;name&quot;, query + &quot;*&quot;));\n\n        Query searchQuery = new NativeSearchQueryBuilder()\n                .withFilter(queryBuilder)\n                .withPageable(pageRequest)\n                .build();\n\n        SearchHits&lt;UserProfile&gt; searchSuggestions =\n                elasticsearchOperations.search(searchQuery,\n                        UserProfile.class,\n                        IndexCoordinates.of(elasticUserIndex));\n\n        List&lt;UserProfile&gt; suggestions = new ArrayList&lt;&gt;();\n\n        searchSuggestions.getSearchHits().forEach(searchHit -&gt; {\n            suggestions.add(searchHit.getContent());\n        });\n        long totalCount = searchSuggestions.getTotalHits();\n        Page&lt;UserProfile&gt; resultPage = PageableExecutionUtils.getPage(\n                suggestions,\n                pageRequest,\n                () -&gt; totalCount);\n        return resultPage;\n    }\n</code></pre>\n<p>Again my problem is if I want to search across all indices in one go, like a universal search and map a user result to the UserProfile class and so on for each different objects I have, how do I do this.</p>\n<p>Many thanks for reading</p>\n"},{"tags":["java","string","security","jwt"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1663850570,"post_id":73813786,"comment_id":130339478,"body_markdown":"&quot;It depends&quot; – What is your threat model? Also, how do you fetch the AT currently? If you have it already as String, it is in memory and you have no control over when the GC will remove it from memory.","body":"&quot;It depends&quot; – What is your threat model? Also, how do you fetch the AT currently? If you have it already as String, it is in memory and you have no control over when the GC will remove it from memory."}],"answers":[{"tags":[],"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663850838,"creation_date":1663850838,"answer_id":73814908,"question_id":73813786,"body_markdown":"We (devs) are so not used to think about threat modeling at all. That&#39;s why we end up asking questions like these all the time. The proper question is: what are you afraid of? \r\n\r\nAre you trying to protect the application from the remote attacker with no access to the client machine? Store the token any way you like and make sure you protect the channel over TLS. \r\n\r\nDo you want to protect the app from the attacker that has physical access to the device? Impossible. We sometimes tend to encrypt secrets when they are in memory to protect from dumping memory and analyzing them but this only makes sense with passwords and other static secrets. Tokens usually get rotated to often to have significant amount of time to perform such attack.\r\n\r\nThe problem arises, when you want to store the secrets physically on the drive somewhere to be available for many user sessions. In this case encryption might be the answer. But guess what? Once you encrypt now you have the problem with protecting the encryption key! So you did not solve the problem, you just shifted it somewhere else.\r\n\r\nYou can also play the game otherwise. Go and ask the security department (assuming you work for a company) which security requirements are to be fulfilled when dealing with secrets like tokens.","title":"Is it safe to store Access Token as a String during application&#39;s runtime","body":"<p>We (devs) are so not used to think about threat modeling at all. That's why we end up asking questions like these all the time. The proper question is: what are you afraid of?</p>\n<p>Are you trying to protect the application from the remote attacker with no access to the client machine? Store the token any way you like and make sure you protect the channel over TLS.</p>\n<p>Do you want to protect the app from the attacker that has physical access to the device? Impossible. We sometimes tend to encrypt secrets when they are in memory to protect from dumping memory and analyzing them but this only makes sense with passwords and other static secrets. Tokens usually get rotated to often to have significant amount of time to perform such attack.</p>\n<p>The problem arises, when you want to store the secrets physically on the drive somewhere to be available for many user sessions. In this case encryption might be the answer. But guess what? Once you encrypt now you have the problem with protecting the encryption key! So you did not solve the problem, you just shifted it somewhere else.</p>\n<p>You can also play the game otherwise. Go and ask the security department (assuming you work for a company) which security requirements are to be fulfilled when dealing with secrets like tokens.</p>\n"}],"owner":{"account_id":22500078,"reputation":151,"user_id":16696520,"display_name":"Nitin Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663850838,"creation_date":1663846011,"question_id":73813786,"body_markdown":"I am working on an integration, where I need to make repetitive calls to another system.\r\nAs of now, I fetch the Access Token for every call, which is extremely bad, as I make more than 300 calls. Fetching token for each call is expensive.\r\n\r\nI wanted to get the access token first and store it till the time the sync is not completed, and afterward, I don&#39;t want it to be in the memory.\r\n\r\nWhat would the best and secure way to store the token during this time.\r\n\r\nI am thinking of using the below dependency to check whether the token has expired or not, if it is expired then only I want to fetch it again.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIs this approach correct? If not could someone please tell me what would be the best way to do it?\r\n","title":"Is it safe to store Access Token as a String during application&#39;s runtime","body":"<p>I am working on an integration, where I need to make repetitive calls to another system.\nAs of now, I fetch the Access Token for every call, which is extremely bad, as I make more than 300 calls. Fetching token for each call is expensive.</p>\n<p>I wanted to get the access token first and store it till the time the sync is not completed, and afterward, I don't want it to be in the memory.</p>\n<p>What would the best and secure way to store the token during this time.</p>\n<p>I am thinking of using the below dependency to check whether the token has expired or not, if it is expired then only I want to fetch it again.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n    &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is this approach correct? If not could someone please tell me what would be the best way to do it?</p>\n"},{"tags":["java","caching","guava"],"answers":[{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663850642,"creation_date":1663850339,"answer_id":73814781,"question_id":73814549,"body_markdown":"Simple answer: just throw an exception. See [`CacheLoader` docs][1]:\r\n\r\n```\r\nReturns:\r\n  the value associated with key; must not be null\r\nThrows:\r\n  Exception - if unable to load the result\r\n```\r\n\r\nIn your case it would be something like:\r\n\r\n        myCache = CacheBuilder.newBuilder()\r\n            .build(new CacheLoader&lt;Result, String&gt;() {\r\n                       @Override\r\n                       public Result load(String s) throws Exception {\r\n                          Result result = getResult(s);\r\n                          if (result == Result.INVALID) {\r\n                              throw new InvalidResultException();\r\n                          }\r\n                          return result;\r\n                       }\r\n                   }\r\n            );\r\n\r\nand you should use `get(K)` or `getUnchecked(K)` to handle the exception accordingly, see [Guava wiki about caches][2].\r\n\r\nPlease note that in [Caffeine][3], a Guava cache successor, you can return null from a [`CacheLoader#load(K)`][4] to indicate the value was not loaded:\r\n```\r\nReturns:\r\nthe value associated with key or null if not found\r\nThrows:\r\nException - or Error, in which case the mapping is unchanged\r\n```\r\nFor more info, [see Caffeine wiki about cache population][5].\r\n\r\n\r\n  [1]: https://guava.dev/releases/31.1-jre/api/docs/com/google/common/cache/CacheLoader.html#load%28K%29\r\n  [2]: https://github.com/google/guava/wiki/CachesExplained#population\r\n  [3]: https://github.com/ben-manes/caffeine\r\n  [4]: https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/CacheLoader.html\r\n  [5]: https://github.com/ben-manes/caffeine/wiki/Population","title":"Guava CacheBuilder prevent load for specific values","body":"<p>Simple answer: just throw an exception. See <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/cache/CacheLoader.html#load%28K%29\" rel=\"nofollow noreferrer\"><code>CacheLoader</code> docs</a>:</p>\n<pre><code>Returns:\n  the value associated with key; must not be null\nThrows:\n  Exception - if unable to load the result\n</code></pre>\n<p>In your case it would be something like:</p>\n<pre><code>    myCache = CacheBuilder.newBuilder()\n        .build(new CacheLoader&lt;Result, String&gt;() {\n                   @Override\n                   public Result load(String s) throws Exception {\n                      Result result = getResult(s);\n                      if (result == Result.INVALID) {\n                          throw new InvalidResultException();\n                      }\n                      return result;\n                   }\n               }\n        );\n</code></pre>\n<p>and you should use <code>get(K)</code> or <code>getUnchecked(K)</code> to handle the exception accordingly, see <a href=\"https://github.com/google/guava/wiki/CachesExplained#population\" rel=\"nofollow noreferrer\">Guava wiki about caches</a>.</p>\n<p>Please note that in <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>, a Guava cache successor, you can return null from a <a href=\"https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/CacheLoader.html\" rel=\"nofollow noreferrer\"><code>CacheLoader#load(K)</code></a> to indicate the value was not loaded:</p>\n<pre><code>Returns:\nthe value associated with key or null if not found\nThrows:\nException - or Error, in which case the mapping is unchanged\n</code></pre>\n<p>For more info, <a href=\"https://github.com/ben-manes/caffeine/wiki/Population\" rel=\"nofollow noreferrer\">see Caffeine wiki about cache population</a>.</p>\n"}],"owner":{"account_id":986686,"reputation":868,"user_id":1005007,"accept_rate":63,"display_name":"Gep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73814781,"answer_count":1,"score":1,"last_activity_date":1663850642,"creation_date":1663849321,"question_id":73814549,"body_markdown":"I have the following java code to build a Guava cache:\r\n\r\n    myCache = CacheBuilder.newBuilder()\r\n                .build(new CacheLoader&lt;Result, String&gt;() {\r\n                           @Override\r\n                           public Result load(String s) throws Exception {\r\n                              Result result = getResult(s);\r\n\r\n                              // if (result == Result.INVALID) return ???\r\n   \r\n                              return result;\r\n                           }\r\n                       }\r\n                );\r\n\r\nI would like to add some code whereby if the result is a specific value then nothing is loaded into the cache.\r\nNot sure how to do it.\r\nAny suggestions?\r\nMany thanks!\r\n\r\n","title":"Guava CacheBuilder prevent load for specific values","body":"<p>I have the following java code to build a Guava cache:</p>\n<pre><code>myCache = CacheBuilder.newBuilder()\n            .build(new CacheLoader&lt;Result, String&gt;() {\n                       @Override\n                       public Result load(String s) throws Exception {\n                          Result result = getResult(s);\n\n                          // if (result == Result.INVALID) return ???\n\n                          return result;\n                       }\n                   }\n            );\n</code></pre>\n<p>I would like to add some code whereby if the result is a specific value then nothing is loaded into the cache.\nNot sure how to do it.\nAny suggestions?\nMany thanks!</p>\n"},{"tags":["java","spring-boot","docker","request-mapping"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1663830438,"post_id":73807878,"comment_id":130332284,"body_markdown":"Are you mapping your external and internal port in Docker when starting your container?","body":"Are you mapping your external and internal port in Docker when starting your container?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663850806,"post_id":73807878,"comment_id":130339588,"body_markdown":"Your URL in the request mapping should start with a `/` now it doesn&#39;t.","body":"Your URL in the request mapping should start with a <code>&#47;</code> now it doesn&#39;t."},{"owner":{"account_id":26407033,"reputation":11,"user_id":20056657,"display_name":"Leonardo Hana"},"score":0,"creation_date":1664227152,"post_id":73807878,"comment_id":130418887,"body_markdown":"Yes, I&#39;m mapping my ports when starting the container","body":"Yes, I&#39;m mapping my ports when starting the container"},{"owner":{"account_id":26407033,"reputation":11,"user_id":20056657,"display_name":"Leonardo Hana"},"score":0,"creation_date":1664227455,"post_id":73807878,"comment_id":130418948,"body_markdown":"I tried to put / in the start, but it still doesn&#39;t work","body":"I tried to put / in the start, but it still doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":18652127,"reputation":11,"user_id":13595353,"display_name":"BigRocket"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663850502,"creation_date":1663850502,"answer_id":73814825,"question_id":73807878,"body_markdown":"Try to add &quot;EXPOSE yourPortHere&quot; to your Dockerfile like so:\r\n\r\n    FROM openjdk:18-jdk-alpine\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n    EXPOSE 8080\r\n\r\nAnd start your container with a port mapping:\r\n\r\n    docker run -d -p 8080:8080 yourImage/yourTag\r\n\r\nIf this doesn&#39;t work check your container port mapping by running: \r\n\r\n    docker port yourContainerName\r\n\r\nSee: \r\n\r\n - https://docs.docker.com/engine/reference/builder/#expose   \r\n - https://docs.docker.com/engine/reference/run/#expose-incoming-ports\r\n - https://docs.docker.com/engine/reference/commandline/port/","title":"RequestMapping not working in Spring with Docker","body":"<p>Try to add &quot;EXPOSE yourPortHere&quot; to your Dockerfile like so:</p>\n<pre><code>FROM openjdk:18-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\nEXPOSE 8080\n</code></pre>\n<p>And start your container with a port mapping:</p>\n<pre><code>docker run -d -p 8080:8080 yourImage/yourTag\n</code></pre>\n<p>If this doesn't work check your container port mapping by running:</p>\n<pre><code>docker port yourContainerName\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.docker.com/engine/reference/builder/#expose\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/reference/builder/#expose</a></li>\n<li><a href=\"https://docs.docker.com/engine/reference/run/#expose-incoming-ports\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/reference/run/#expose-incoming-ports</a></li>\n<li><a href=\"https://docs.docker.com/engine/reference/commandline/port/\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/reference/commandline/port/</a></li>\n</ul>\n"}],"owner":{"account_id":26407033,"reputation":11,"user_id":20056657,"display_name":"Leonardo Hana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663850502,"creation_date":1663802855,"question_id":73807878,"body_markdown":"I&#39;m trying to make a simple CRUD of Students using Spring Boot. I am storing data in a class inside Spring, and not in files or a DB. So my changes are lost everytime I run it again. I&#39;m planning to use MongoDB, but now I&#39;m just trying this simple example.\r\n\r\nWhen I first tested it, *it worked fine*.\r\nThe problem was when I tried to run it on an image on Docker. Although my container is running, my requests don&#39;t work anymore. \r\n\r\nI set the mapping to be in **localhost:8080/api/v1/person**\r\n\r\nThis is an example of a working POST method before the Docker:\r\n\r\nBody:\r\n\r\n    {\r\n        &quot;ra&quot;: &quot;20124987&quot;,\r\n        &quot;name&quot;: &quot;Norman&quot;\r\n    }\r\n\r\nResponse: \r\n\r\n    {\r\n        &quot;status&quot;: &quot;Success&quot;,\r\n        &quot;message&quot;: &quot;Succesfully added student Norman&quot;,\r\n        &quot;code&quot;: 200\r\n    }\r\n\r\nAnd now this is what I get in the response:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-09-21T23:19:39.296+00:00&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;path&quot;: &quot;/api/v1/person&quot;\r\n    }\r\n\r\nIt also doesn&#39;t work with any method that I created, and they used to work before.\r\n\r\nThis is my Controller Class:\r\n\r\n    package br.com.qtivate.server.api;\r\n    \r\n    import br.com.qtivate.server.model.Response;\r\n    import br.com.qtivate.server.model.Student;\r\n    import br.com.qtivate.server.service.StudentService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    @RequestMapping(&quot;api/v1/person&quot;)\r\n    @RestController\r\n    public class StudentController {\r\n        private final StudentService studentService;\r\n    \r\n        @Autowired\r\n        public StudentController(StudentService studentService) {\r\n            this.studentService = studentService;\r\n        }\r\n    \r\n        @PostMapping\r\n        public Response addStudent(@RequestBody Student student) {\r\n            studentService.addStudent(student);\r\n            return new Response(&quot;Success&quot;, &quot;Succesfully added student &quot; + student.getName(), 200);\r\n        }\r\n    \r\n        @GetMapping\r\n        public List&lt;Student&gt; getAllStudents() {\r\n            return studentService.getAllStudents();\r\n        }\r\n    \r\n        @GetMapping(path = &quot;{id}&quot;)\r\n        public Student getStudentById(@PathVariable(&quot;id&quot;) UUID id) {\r\n            return studentService.getStudentById(id)\r\n                    .orElse(null);\r\n        }\r\n    \r\n        @PutMapping(path = &quot;{id}&quot;)\r\n        public Response updateStudentById(@PathVariable(&quot;id&quot;) UUID id, @RequestBody Student student) {\r\n            if (studentService.updateStudentById(id, student) == 0)\r\n                return new Response(&quot;Error&quot;, &quot;Student not found&quot;, 400);\r\n            return new Response(&quot;Success&quot;, &quot;Successfully updated student&quot;, 200);\r\n        }\r\n    \r\n        @DeleteMapping(path = &quot;{id}&quot;)\r\n        public Response deleteStudentById(@PathVariable(&quot;id&quot;) UUID id) {\r\n            if (studentService.deleteStudentById(id) == 0)\r\n                return new Response(&quot;Error&quot;, &quot;Student not found&quot;, 400);\r\n            return new Response(&quot;Success&quot;, &quot;Successfully deleted student&quot;, 200);\r\n        }\r\n    }\r\n\r\nAnd this is my Dockerfile:\r\n\r\n    FROM openjdk:18-jdk-alpine\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n","title":"RequestMapping not working in Spring with Docker","body":"<p>I'm trying to make a simple CRUD of Students using Spring Boot. I am storing data in a class inside Spring, and not in files or a DB. So my changes are lost everytime I run it again. I'm planning to use MongoDB, but now I'm just trying this simple example.</p>\n<p>When I first tested it, <em>it worked fine</em>.\nThe problem was when I tried to run it on an image on Docker. Although my container is running, my requests don't work anymore.</p>\n<p>I set the mapping to be in <strong>localhost:8080/api/v1/person</strong></p>\n<p>This is an example of a working POST method before the Docker:</p>\n<p>Body:</p>\n<pre><code>{\n    &quot;ra&quot;: &quot;20124987&quot;,\n    &quot;name&quot;: &quot;Norman&quot;\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>{\n    &quot;status&quot;: &quot;Success&quot;,\n    &quot;message&quot;: &quot;Succesfully added student Norman&quot;,\n    &quot;code&quot;: 200\n}\n</code></pre>\n<p>And now this is what I get in the response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-09-21T23:19:39.296+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/api/v1/person&quot;\n}\n</code></pre>\n<p>It also doesn't work with any method that I created, and they used to work before.</p>\n<p>This is my Controller Class:</p>\n<pre><code>package br.com.qtivate.server.api;\n\nimport br.com.qtivate.server.model.Response;\nimport br.com.qtivate.server.model.Student;\nimport br.com.qtivate.server.service.StudentService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@RequestMapping(&quot;api/v1/person&quot;)\n@RestController\npublic class StudentController {\n    private final StudentService studentService;\n\n    @Autowired\n    public StudentController(StudentService studentService) {\n        this.studentService = studentService;\n    }\n\n    @PostMapping\n    public Response addStudent(@RequestBody Student student) {\n        studentService.addStudent(student);\n        return new Response(&quot;Success&quot;, &quot;Succesfully added student &quot; + student.getName(), 200);\n    }\n\n    @GetMapping\n    public List&lt;Student&gt; getAllStudents() {\n        return studentService.getAllStudents();\n    }\n\n    @GetMapping(path = &quot;{id}&quot;)\n    public Student getStudentById(@PathVariable(&quot;id&quot;) UUID id) {\n        return studentService.getStudentById(id)\n                .orElse(null);\n    }\n\n    @PutMapping(path = &quot;{id}&quot;)\n    public Response updateStudentById(@PathVariable(&quot;id&quot;) UUID id, @RequestBody Student student) {\n        if (studentService.updateStudentById(id, student) == 0)\n            return new Response(&quot;Error&quot;, &quot;Student not found&quot;, 400);\n        return new Response(&quot;Success&quot;, &quot;Successfully updated student&quot;, 200);\n    }\n\n    @DeleteMapping(path = &quot;{id}&quot;)\n    public Response deleteStudentById(@PathVariable(&quot;id&quot;) UUID id) {\n        if (studentService.deleteStudentById(id) == 0)\n            return new Response(&quot;Error&quot;, &quot;Student not found&quot;, 400);\n        return new Response(&quot;Success&quot;, &quot;Successfully deleted student&quot;, 200);\n    }\n}\n</code></pre>\n<p>And this is my Dockerfile:</p>\n<pre><code>FROM openjdk:18-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"},{"tags":["java","kotlin","jvm","noclassdeffounderror"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1663836444,"post_id":73810876,"comment_id":130334311,"body_markdown":"Where is the file containing the kotlin class located? In src/main/java/com/xxx/xxx?","body":"Where is the file containing the kotlin class located? In src/main/java/com/xxx/xxx?"},{"owner":{"account_id":15729608,"reputation":9,"user_id":11532743,"display_name":"Prasanna Pandiyan"},"score":0,"creation_date":1663841914,"post_id":73810876,"comment_id":130336389,"body_markdown":"This is location of java file - src/main/java/com/company/team/project/service and the \nlocation of kotlin file - src/main/java/com/company/team/project/service/encryption","body":"This is location of java file - src/main/java/com/company/team/project/service and the  location of kotlin file - src/main/java/com/company/team/project/service/encryption"}],"owner":{"account_id":15729608,"reputation":9,"user_id":11532743,"display_name":"Prasanna Pandiyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663850011,"creation_date":1663832020,"question_id":73810876,"body_markdown":"I need to use an existing Kotlin encryption file in a java class. While trying to do that getting `NoClassDefFoundError` Exception. The import statements are proper no issues with that.\r\nIf I run this application from intellij its working, but when I run via terminal with `./gradlew clean build` its throwing the error.\r\n\r\n     java.lang.NoClassDefFoundError: Could not initialize class com.xxx.xxx.Email\r\n\r\nLocation of java file - src/main/java/com/company/team/project/service\r\n\r\nLocation of kotlin file - src/main/java/com/company/team/project/service/encryption\r\n\r\nKotlin class\r\n  \r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator \r\n    import com.fasterxml.jackson.annotation.JsonValue \r\n    import org.springframework.security.crypto.encrypt.Encryptors \r\n    import org.springframework.security.crypto.encrypt.TextEncryptor\r\n    \r\n    private const val EMAIL_ENCRYPTION_SECRET = &quot;EMAIL_ENCRYPTION_SECRET&quot;\r\n    \r\n    class Email constructor(emailValue: String) : Comparable&lt;Email&gt; {\r\n    \r\n        val emailId: String = emailValue\r\n        val encryptedValue = encrypt(emailId)\r\n        val decryptedValue = decrypt(encryptedValue)\r\n    \r\n        override fun compareTo(other: Email): Int = emailId.compareTo(other.emailId)\r\n    \r\n        @JsonValue\r\n        override fun toString(): String = emailId\r\n    \r\n        override fun hashCode(): Int = emailId.hashCode()\r\n    \r\n        companion object {\r\n    \r\n            private var aesCipher: TextEncryptor\r\n    \r\n            init {\r\n                val encryptionKey = System.getenv(EMAIL_ENCRYPTION_SECRET)\r\n                aesCipher = Encryptors.queryableText(encryptionKey, encryptionKey)\r\n            }\r\n    \r\n            @JsonCreator\r\n            fun of(value: String?): Email? = if (value == null) null else Email(value)\r\n    \r\n            fun value(e: Email?): String? = e?.emailId\r\n    \r\n            fun encrypt(plaintextEmail: String): String = &quot;EEA:${aesCipher.encrypt(plaintextEmail)}&quot;\r\n    \r\n            fun decrypt(encryptedEmail: String): String {\r\n                if (!encryptedEmail.startsWith(&quot;EEA:&quot;)) {\r\n                    throw IllegalArgumentException(&quot;Encrypted text does not have expected EEA prefix.&quot;)\r\n                }\r\n                val cipherTextWithoutEEA = encryptedEmail.replaceFirst(&quot;^EEA:&quot;.toRegex(), &quot;&quot;)\r\n                return aesCipher.decrypt(cipherTextWithoutEEA)  \r\n\r\n              }\r\n         } \r\n    }\r\n\r\nJava class\r\n\r\n    @Component\r\n    @AllArgsConstructor\r\n    @Slf4j\r\n    public class FindUserData extends TaskHandler&lt;Void&gt; {\r\n    --- some codes and other methods ---\r\n       private ExecutionResult doExecute(ExecutionContext&lt;Void&gt; context) {\r\n           --- properly working code ---- \r\n           Email email = new Email(userData.get().toString());\r\n           String emailId = email.getEncryptedValue();\r\n           log.info(context.format(&quot;Found user data: %s&quot;, emailId));\r\n           --- Other working code ---\r\n       }\r\n    }\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class com.xxx.xxx.Email, while initializing kotlin class from java class","body":"<p>I need to use an existing Kotlin encryption file in a java class. While trying to do that getting <code>NoClassDefFoundError</code> Exception. The import statements are proper no issues with that.\nIf I run this application from intellij its working, but when I run via terminal with <code>./gradlew clean build</code> its throwing the error.</p>\n<pre><code> java.lang.NoClassDefFoundError: Could not initialize class com.xxx.xxx.Email\n</code></pre>\n<p>Location of java file - src/main/java/com/company/team/project/service</p>\n<p>Location of kotlin file - src/main/java/com/company/team/project/service/encryption</p>\n<p>Kotlin class</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator \nimport com.fasterxml.jackson.annotation.JsonValue \nimport org.springframework.security.crypto.encrypt.Encryptors \nimport org.springframework.security.crypto.encrypt.TextEncryptor\n\nprivate const val EMAIL_ENCRYPTION_SECRET = &quot;EMAIL_ENCRYPTION_SECRET&quot;\n\nclass Email constructor(emailValue: String) : Comparable&lt;Email&gt; {\n\n    val emailId: String = emailValue\n    val encryptedValue = encrypt(emailId)\n    val decryptedValue = decrypt(encryptedValue)\n\n    override fun compareTo(other: Email): Int = emailId.compareTo(other.emailId)\n\n    @JsonValue\n    override fun toString(): String = emailId\n\n    override fun hashCode(): Int = emailId.hashCode()\n\n    companion object {\n\n        private var aesCipher: TextEncryptor\n\n        init {\n            val encryptionKey = System.getenv(EMAIL_ENCRYPTION_SECRET)\n            aesCipher = Encryptors.queryableText(encryptionKey, encryptionKey)\n        }\n\n        @JsonCreator\n        fun of(value: String?): Email? = if (value == null) null else Email(value)\n\n        fun value(e: Email?): String? = e?.emailId\n\n        fun encrypt(plaintextEmail: String): String = &quot;EEA:${aesCipher.encrypt(plaintextEmail)}&quot;\n\n        fun decrypt(encryptedEmail: String): String {\n            if (!encryptedEmail.startsWith(&quot;EEA:&quot;)) {\n                throw IllegalArgumentException(&quot;Encrypted text does not have expected EEA prefix.&quot;)\n            }\n            val cipherTextWithoutEEA = encryptedEmail.replaceFirst(&quot;^EEA:&quot;.toRegex(), &quot;&quot;)\n            return aesCipher.decrypt(cipherTextWithoutEEA)  \n\n          }\n     } \n}\n</code></pre>\n<p>Java class</p>\n<pre><code>@Component\n@AllArgsConstructor\n@Slf4j\npublic class FindUserData extends TaskHandler&lt;Void&gt; {\n--- some codes and other methods ---\n   private ExecutionResult doExecute(ExecutionContext&lt;Void&gt; context) {\n       --- properly working code ---- \n       Email email = new Email(userData.get().toString());\n       String emailId = email.getEncryptedValue();\n       log.info(context.format(&quot;Found user data: %s&quot;, emailId));\n       --- Other working code ---\n   }\n}\n</code></pre>\n"},{"tags":["java","maven-2","maven"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1584659255,"creation_date":1288174538,"answer_id":4032097,"question_id":4031987,"body_markdown":"This snippet automatically installs / deploys a source jar from any install / deploy:\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;[whatever version is current]&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;attach-sources&lt;/id&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nUse this link to check for the [current version of the `maven-source-plugin`][1]\r\n\r\nOr from command line:\r\n\r\n    mvn clean source:jar install\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-source-plugin","title":"How to upload sources to local Maven repository","body":"<p>This snippet automatically installs / deploys a source jar from any install / deploy:</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n        &lt;version&gt;[whatever version is current]&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;attach-sources&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>Use this link to check for the <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-source-plugin\" rel=\"noreferrer\">current version of the <code>maven-source-plugin</code></a></p>\n\n<p>Or from command line:</p>\n\n<pre><code>mvn clean source:jar install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3502577,"reputation":640,"user_id":2928992,"display_name":"Vokail"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533281953,"creation_date":1533281953,"answer_id":51667576,"question_id":4031987,"body_markdown":"I have found a better answer, just add this on your pom.xml\r\n\r\n     &lt;build&gt;\r\n    \t  &lt;plugins&gt;\r\n    \t    &lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;id&gt;attach-sources&lt;/id&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t   &lt;/plugin&gt;\r\n    \t &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nAnd run from command line:\r\n\r\n    mvn install\r\n\r\nNow maven install on your local repository jar and sources\r\n\r\nSolution found on: https://www.mkyong.com/maven/generate-source-code-jar-for-maven-based-project/ (I&#39;m not affiliated in any way)","title":"How to upload sources to local Maven repository","body":"<p>I have found a better answer, just add this on your pom.xml</p>\n\n<pre><code> &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;attach-sources&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;jar&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n       &lt;/plugin&gt;\n     &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>And run from command line:</p>\n\n<pre><code>mvn install\n</code></pre>\n\n<p>Now maven install on your local repository jar and sources</p>\n\n<p>Solution found on: <a href=\"https://www.mkyong.com/maven/generate-source-code-jar-for-maven-based-project/\" rel=\"noreferrer\">https://www.mkyong.com/maven/generate-source-code-jar-for-maven-based-project/</a> (I'm not affiliated in any way)</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559900143,"creation_date":1559900143,"answer_id":56491771,"question_id":4031987,"body_markdown":"One addition to the above answer:\r\n\r\nIt still wasn&#39;t working correctly for me. The sources.jar was generated and available in the target folder but not in the local repository. The reason for that was that I specified the phase differently: `&lt;phase&gt;install&lt;/phase&gt;` In this case the maven install plugin is executed first and copies the jar files into the local repo. Afterwards the source.jar is generated (and thus not copied).\r\n\r\n\r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ foo ---\r\n    [INFO] Installing foo.jar into local repo\r\n    [INFO] Installing pom.xml into local repo\r\n    [INFO] Installing javadoc.jar into local repo\r\n    [INFO]\r\n    [INFO] --- maven-source-plugin:3.0.1:jar-no-fork (attach-sources) @ foo ---\r\n    [INFO] Building jar: foo-sources.jar\r\n\r\nSo it is important to specify an earlier phase than install (like it is correctly mentioned in the accepted answer).","title":"How to upload sources to local Maven repository","body":"<p>One addition to the above answer:</p>\n\n<p>It still wasn't working correctly for me. The sources.jar was generated and available in the target folder but not in the local repository. The reason for that was that I specified the phase differently: <code>&lt;phase&gt;install&lt;/phase&gt;</code> In this case the maven install plugin is executed first and copies the jar files into the local repo. Afterwards the source.jar is generated (and thus not copied).</p>\n\n<pre><code>[INFO] --- maven-install-plugin:2.4:install (default-install) @ foo ---\n[INFO] Installing foo.jar into local repo\n[INFO] Installing pom.xml into local repo\n[INFO] Installing javadoc.jar into local repo\n[INFO]\n[INFO] --- maven-source-plugin:3.0.1:jar-no-fork (attach-sources) @ foo ---\n[INFO] Building jar: foo-sources.jar\n</code></pre>\n\n<p>So it is important to specify an earlier phase than install (like it is correctly mentioned in the accepted answer).</p>\n"},{"tags":[],"owner":{"account_id":3155278,"reputation":197,"user_id":2667819,"display_name":"bence of outer space"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663849260,"creation_date":1663849260,"answer_id":73814537,"question_id":4031987,"body_markdown":"    mvn install:install-file -Dfile=hello-world-1.0.0.jar -Dsources=hello-world-1.0.0-sources.jar -DpomFile=hello-world-1.0.0.pom","title":"How to upload sources to local Maven repository","body":"<pre><code>mvn install:install-file -Dfile=hello-world-1.0.0.jar -Dsources=hello-world-1.0.0-sources.jar -DpomFile=hello-world-1.0.0.pom\n</code></pre>\n"}],"owner":{"account_id":116743,"reputation":7386,"user_id":306025,"accept_rate":53,"display_name":"Andriy Kopachevskyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21973,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":4032097,"answer_count":4,"score":61,"last_activity_date":1663849260,"creation_date":1288173876,"question_id":4031987,"body_markdown":"Suppose I have a Maven 2 Java project on my local machine. I build the project `.jar` file and push it to my local Maven repo, using `mvn install`. \r\n\r\n**Question:**\r\n\r\nHow can I force Maven to also push the project sources `jar` to the local repo? \r\n\r\nThis is useful if I&#39;ll use the above mentioned project as dependency while developing a new project, and can use the `mvn eclipse:eclipse -DdownloadSources` feature.","title":"How to upload sources to local Maven repository","body":"<p>Suppose I have a Maven 2 Java project on my local machine. I build the project <code>.jar</code> file and push it to my local Maven repo, using <code>mvn install</code>. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>How can I force Maven to also push the project sources <code>jar</code> to the local repo? </p>\n\n<p>This is useful if I'll use the above mentioned project as dependency while developing a new project, and can use the <code>mvn eclipse:eclipse -DdownloadSources</code> feature.</p>\n"},{"tags":["java","android","android-studio","gps","location"],"comments":[{"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"score":0,"creation_date":1663849780,"post_id":73814535,"comment_id":130339196,"body_markdown":"Does this answer your question? [FusedLocationProvider gives wrong location sometimes](https://stackoverflow.com/questions/55413441/fusedlocationprovider-gives-wrong-location-sometimes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55413441/fusedlocationprovider-gives-wrong-location-sometimes\">FusedLocationProvider gives wrong location sometimes</a>"},{"owner":{"account_id":13365674,"reputation":145,"user_id":9646048,"display_name":"Snakehater"},"score":0,"creation_date":1663850875,"post_id":73814535,"comment_id":130339619,"body_markdown":"It kind of does yes","body":"It kind of does yes"}],"owner":{"account_id":13365674,"reputation":145,"user_id":9646048,"display_name":"Snakehater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663849251,"creation_date":1663849251,"question_id":73814535,"body_markdown":"I have made a simple sample of the FusedLocationProviderClient according to this: https://developer.android.com/training/location/request-updates#java\r\n\r\nThe issue is that I get a location every now and then (waaaay above an interval of 4000ms) and the accuracy is 2000 meters. I need a more precise location and more often. I get the feeling that the location client is not set up properly but at the same time, when using the locationmanager I also get a slow update rate on gps when using the gps provider, network provider also gives me an accuracy of 2000 meters.\r\n\r\nHere is my code:\r\n```\r\npublic class MainActivity extends Activity implements ActivityCompat.OnRequestPermissionsResultCallback {\r\n    Context context;\r\n\r\n    private LocationCallback locationCallback;\r\n    private FusedLocationProviderClient fusedLocationClient;\r\n    private LocationRequest locationRequest;\r\n\r\n    @Override\r\n    protected void onCreate(final Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        context = this;\r\n\r\n        locationRequest = new LocationRequest();\r\n        locationRequest.setFastestInterval(2000);\r\n        locationRequest.setInterval(4000);\r\n        locationRequest.setMaxWaitTime(5000);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n\r\n\r\n        fusedLocationClient = new FusedLocationProviderClient(this);\r\n\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                for (Location location : locationResult.getLocations()) {\r\n                    Log.e(&quot;Got location from provider &quot; + location.getProvider(), location.getLatitude() + &quot;, &quot; + location.getLongitude());\r\n                    Log.e(&quot;getAccuracy&quot;, String.valueOf(location.getAccuracy()));\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\r\n                super.onLocationAvailability(locationAvailability);\r\n                Log.e(&quot;asdf&quot;, &quot;available&quot;);\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n    private void startLocationUpdates() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            String[] PERMISSIONS = {android.Manifest.permission.ACCESS_COARSE_LOCATION, android.Manifest.permission.ACCESS_FINE_LOCATION};\r\n            ActivityCompat.requestPermissions(this, PERMISSIONS, 112);\r\n            return;\r\n        }\r\n\r\n        fusedLocationClient.requestLocationUpdates(locationRequest,\r\n                locationCallback,\r\n                Looper.getMainLooper());\r\n    }\r\n\r\n    private void stopLocationUpdates() {\r\n        fusedLocationClient.removeLocationUpdates(locationCallback);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int i, @NonNull String[] strings, @NonNull int[] ints) {\r\n        Intent intent = getIntent();\r\n        finish();\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        startLocationUpdates();\r\n    }\r\n\r\n    public void onPause() {\r\n        super.onPause();\r\n        stopLocationUpdates();\r\n    }\r\n}\r\n```\r\nHow can I resolve this?","title":"FusedLocationProviderClient gives inaccurate location","body":"<p>I have made a simple sample of the FusedLocationProviderClient according to this: <a href=\"https://developer.android.com/training/location/request-updates#java\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/request-updates#java</a></p>\n<p>The issue is that I get a location every now and then (waaaay above an interval of 4000ms) and the accuracy is 2000 meters. I need a more precise location and more often. I get the feeling that the location client is not set up properly but at the same time, when using the locationmanager I also get a slow update rate on gps when using the gps provider, network provider also gives me an accuracy of 2000 meters.</p>\n<p>Here is my code:</p>\n<pre><code>public class MainActivity extends Activity implements ActivityCompat.OnRequestPermissionsResultCallback {\n    Context context;\n\n    private LocationCallback locationCallback;\n    private FusedLocationProviderClient fusedLocationClient;\n    private LocationRequest locationRequest;\n\n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        context = this;\n\n        locationRequest = new LocationRequest();\n        locationRequest.setFastestInterval(2000);\n        locationRequest.setInterval(4000);\n        locationRequest.setMaxWaitTime(5000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n\n        fusedLocationClient = new FusedLocationProviderClient(this);\n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                for (Location location : locationResult.getLocations()) {\n                    Log.e(&quot;Got location from provider &quot; + location.getProvider(), location.getLatitude() + &quot;, &quot; + location.getLongitude());\n                    Log.e(&quot;getAccuracy&quot;, String.valueOf(location.getAccuracy()));\n                }\n            }\n\n            @Override\n            public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\n                super.onLocationAvailability(locationAvailability);\n                Log.e(&quot;asdf&quot;, &quot;available&quot;);\n            }\n        };\n\n    }\n\n    private void startLocationUpdates() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            String[] PERMISSIONS = {android.Manifest.permission.ACCESS_COARSE_LOCATION, android.Manifest.permission.ACCESS_FINE_LOCATION};\n            ActivityCompat.requestPermissions(this, PERMISSIONS, 112);\n            return;\n        }\n\n        fusedLocationClient.requestLocationUpdates(locationRequest,\n                locationCallback,\n                Looper.getMainLooper());\n    }\n\n    private void stopLocationUpdates() {\n        fusedLocationClient.removeLocationUpdates(locationCallback);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int i, @NonNull String[] strings, @NonNull int[] ints) {\n        Intent intent = getIntent();\n        finish();\n        startActivity(intent);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        startLocationUpdates();\n    }\n\n    public void onPause() {\n        super.onPause();\n        stopLocationUpdates();\n    }\n}\n</code></pre>\n<p>How can I resolve this?</p>\n"},{"tags":["java","arraylist","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663849028,"creation_date":1663849028,"answer_id":73814485,"question_id":73808453,"body_markdown":"You want a `Map`. The key is the user id (as a `long`) and the value is your number:\r\n\r\n```java\r\nprivate final Map&lt;Long, Long&gt; map = new HashMap&lt;&gt;();\r\n\r\n@Override\r\npublic void onMessageReceived(MessageReceivedEvent event) {\r\n  ...\r\n  map.put(id, base);\r\n  ...\r\n}\r\n```\r\n\r\nYou can then simply access the value by using `map.get(id)`. Instead of using lists, I would recommend using proper objects with defined fields for whatever data you want to store.\r\n\r\nFor the case of persistence, instead of just writing your data to some file, use a relational database like [PostgreSQL](https://www.postgresql.org/) or [SQLite](https://www.sqlite.org/index.html). This way you can easily update them at runtime without having to read/write the entire map every time you want to access it.\r\n\r\nA very helpful thing to use for this is the [Java Persistence API (JPA)](https://www.tutorialspoint.com/jpa/index.htm).\r\n\r\n```java\r\n@Entity\r\n@Table\r\npublic class UserInfo {\r\n  @Id\r\n  private long id;\r\n  private long base;\r\n\r\n  public UserInfo(long id, long base) {\r\n    this.id = id;\r\n    this.base = base;\r\n  }\r\n\r\n  public void setId(long id) {\r\n    this.id = id;\r\n  }\r\n\r\n  public long getId() { return this.id; }\r\n\r\n  public void setBase(long base) {\r\n    this.base = base;\r\n  }\r\n\r\n  public long getBase() { return this.base; }\r\n}\r\n```","title":"Discord JDA IdLong Arraylist&lt;Arraylist&lt;Long&gt;","body":"<p>You want a <code>Map</code>. The key is the user id (as a <code>long</code>) and the value is your number:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;Long, Long&gt; map = new HashMap&lt;&gt;();\n\n@Override\npublic void onMessageReceived(MessageReceivedEvent event) {\n  ...\n  map.put(id, base);\n  ...\n}\n</code></pre>\n<p>You can then simply access the value by using <code>map.get(id)</code>. Instead of using lists, I would recommend using proper objects with defined fields for whatever data you want to store.</p>\n<p>For the case of persistence, instead of just writing your data to some file, use a relational database like <a href=\"https://www.postgresql.org/\" rel=\"nofollow noreferrer\">PostgreSQL</a> or <a href=\"https://www.sqlite.org/index.html\" rel=\"nofollow noreferrer\">SQLite</a>. This way you can easily update them at runtime without having to read/write the entire map every time you want to access it.</p>\n<p>A very helpful thing to use for this is the <a href=\"https://www.tutorialspoint.com/jpa/index.htm\" rel=\"nofollow noreferrer\">Java Persistence API (JPA)</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class UserInfo {\n  @Id\n  private long id;\n  private long base;\n\n  public UserInfo(long id, long base) {\n    this.id = id;\n    this.base = base;\n  }\n\n  public void setId(long id) {\n    this.id = id;\n  }\n\n  public long getId() { return this.id; }\n\n  public void setBase(long base) {\n    this.base = base;\n  }\n\n  public long getBase() { return this.base; }\n}\n</code></pre>\n"}],"owner":{"account_id":26286747,"reputation":11,"user_id":19954327,"display_name":"Marvel Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663849028,"creation_date":1663810498,"question_id":73808453,"body_markdown":"I&#39;m trying to figure out how can i store Long info about a Discord user in an array.\r\n\r\nTommy on discord type: ;create\r\nthen\r\nMike on discord type : ;create\r\n\r\n    public class Create extends ListenerAdapter {\r\n      public void onMessageReceived(MessageReceivedEvent event) {\r\n        if (!event.isFromGuild()) return;\r\n        String[] messageSent = event.getMessage().getContentRaw().split(&quot; &quot;); //for further code\r\n        String name = event.getMember().getUser().getName();\r\n        long idLong = event.getMember().getUser().getIdLong();\r\n        String idString = event.getMember().getUser().getId(); //not for Stackoverflow question\r\n        long base = 1L; //everyone start with 1 (L is because we are using Long version of int value)\r\n        if (messageSent[0].equalsIgnoreCase(&quot;;Create&quot;)) {\r\n            ArrayList&lt;Long&gt; dcbase = new ArrayList&lt;&gt;(); //Long is used to store getIdLong value\r\n            dcbase.add(idLong); //\r\n            dcbase.add(base); // 1L is default value\r\n            event.getChannel().sendMessage(&quot;Here is the array &quot;+ dcbase).queue();}}\r\n\r\n\r\n\r\nNow the problem is if i want my ArrayList to be for many user I would need an ArrayList of ArrayList. `Arraylist&lt;ArrayList&lt;Long&gt;&gt;`\r\nBut to search through them I would like to do search using the `IdLong` value.\r\nI tried to replace `dcbase` as `idLong` but its already defined.\r\n\r\nIs there any way i can do that?\r\n\r\nBecause what i want to do next is have a method that goes to the idLong of Tommy and pull out the [1] of the Tommy ArrayList.\r\n\r\nI plan to store the info to a file that way and will have longer Arrays:\r\n\r\n    177877878787 1 0 0 //Tommy IdLong, base Long, stuff i&#39;ll add, stuff i&#39;ll add \r\n    121244777778 1 //Mike IdLong, base Long\r\n    //New line for new member.\r\n\r\n\r\n\r\nSince I don&#39;t know on which line the required IdLong will be stored in the file, i need a reference to search it. \r\nI am self-thaught, I hope I am clear enough.","title":"Discord JDA IdLong Arraylist&lt;Arraylist&lt;Long&gt;","body":"<p>I'm trying to figure out how can i store Long info about a Discord user in an array.</p>\n<p>Tommy on discord type: ;create\nthen\nMike on discord type : ;create</p>\n<pre><code>public class Create extends ListenerAdapter {\n  public void onMessageReceived(MessageReceivedEvent event) {\n    if (!event.isFromGuild()) return;\n    String[] messageSent = event.getMessage().getContentRaw().split(&quot; &quot;); //for further code\n    String name = event.getMember().getUser().getName();\n    long idLong = event.getMember().getUser().getIdLong();\n    String idString = event.getMember().getUser().getId(); //not for Stackoverflow question\n    long base = 1L; //everyone start with 1 (L is because we are using Long version of int value)\n    if (messageSent[0].equalsIgnoreCase(&quot;;Create&quot;)) {\n        ArrayList&lt;Long&gt; dcbase = new ArrayList&lt;&gt;(); //Long is used to store getIdLong value\n        dcbase.add(idLong); //\n        dcbase.add(base); // 1L is default value\n        event.getChannel().sendMessage(&quot;Here is the array &quot;+ dcbase).queue();}}\n</code></pre>\n<p>Now the problem is if i want my ArrayList to be for many user I would need an ArrayList of ArrayList. <code>Arraylist&lt;ArrayList&lt;Long&gt;&gt;</code>\nBut to search through them I would like to do search using the <code>IdLong</code> value.\nI tried to replace <code>dcbase</code> as <code>idLong</code> but its already defined.</p>\n<p>Is there any way i can do that?</p>\n<p>Because what i want to do next is have a method that goes to the idLong of Tommy and pull out the [1] of the Tommy ArrayList.</p>\n<p>I plan to store the info to a file that way and will have longer Arrays:</p>\n<pre><code>177877878787 1 0 0 //Tommy IdLong, base Long, stuff i'll add, stuff i'll add \n121244777778 1 //Mike IdLong, base Long\n//New line for new member.\n</code></pre>\n<p>Since I don't know on which line the required IdLong will be stored in the file, i need a reference to search it.\nI am self-thaught, I hope I am clear enough.</p>\n"},{"tags":["java","jsp","taglib"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":1,"creation_date":1663771037,"post_id":73801856,"comment_id":130318330,"body_markdown":"As you have shown, JSP is a specification.  Tomcat is one implementation. If you look in Tomcat&#39;s lib folder, then you will find jsp-api.jar. In that jar, is the file jspxml.xsd.  That  XSD file specifies the schema. See https://wiki.metawerx.net/wiki/TLDFilesDTDAndXSD","body":"As you have shown, JSP is a specification.  Tomcat is one implementation. If you look in Tomcat&#39;s lib folder, then you will find jsp-api.jar. In that jar, is the file jspxml.xsd.  That  XSD file specifies the schema. See <a href=\"https://wiki.metawerx.net/wiki/TLDFilesDTDAndXSD\" rel=\"nofollow noreferrer\">wiki.metawerx.net/wiki/TLDFilesDTDAndXSD</a>"},{"owner":{"account_id":1515815,"reputation":155,"user_id":1416845,"accept_rate":50,"display_name":"pierreonthenet"},"score":0,"creation_date":1663837921,"post_id":73801856,"comment_id":130334918,"body_markdown":"Thank you very much ! I searched in this JAR but for a TLD.\nYour comment could have been a valid answer, by the way. ;-)","body":"Thank you very much ! I searched in this JAR but for a TLD. Your comment could have been a valid answer, by the way. ;-)"}],"answers":[{"tags":[],"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663777948,"creation_date":1663769856,"answer_id":73802335,"question_id":73801856,"body_markdown":"`&lt;jsp:useBean&gt;` is an action tag and not part of a tag library, cf. https://en.wikipedia.org/wiki/Jakarta_Server_Pages#Syntax, scroll down to &quot;Additional Tags&quot;.\r\n\r\nThe code probably was part of J2EE back in the day or is in the servlet containers. Today it apparently is an eclipse project: https://projects.eclipse.org/projects/ee4j.jsp.\r\n","title":"Where is the &quot;jsp&quot; taglib TLD?","body":"<p><code>&lt;jsp:useBean&gt;</code> is an action tag and not part of a tag library, cf. <a href=\"https://en.wikipedia.org/wiki/Jakarta_Server_Pages#Syntax\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Jakarta_Server_Pages#Syntax</a>, scroll down to &quot;Additional Tags&quot;.</p>\n<p>The code probably was part of J2EE back in the day or is in the servlet containers. Today it apparently is an eclipse project: <a href=\"https://projects.eclipse.org/projects/ee4j.jsp\" rel=\"nofollow noreferrer\">https://projects.eclipse.org/projects/ee4j.jsp</a>.</p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663782542,"creation_date":1663777789,"answer_id":73804169,"question_id":73801856,"body_markdown":"`&lt;jsp:useBean&gt;` is actually &quot;a JSP server markup tag&quot; &quot;the server knows in a JSP specification server&quot;, *the &quot;tags&quot; you are thinking of are standard tag library c: f: are resources that use a TLD Tag Library Descriptor (stored in a jar package to be loaded as a resource)* and are from *the original &quot;custom tag&quot; API system*. \r\n\r\nCustom tags do not need to be in a .jar, unjared they must be put in */webapplication/WEB-INF/tags/* often associated with non programmatic tags that operate like an include markup file. jar packaged tags are in a folder structure /webapplication*/META-INF/tags/* any tags wherever they reside require to be named to their full path in an XML markup like .tld file in the top directory of the package.","title":"Where is the &quot;jsp&quot; taglib TLD?","body":"<p><code>&lt;jsp:useBean&gt;</code> is actually &quot;a JSP server markup tag&quot; &quot;the server knows in a JSP specification server&quot;, <em>the &quot;tags&quot; you are thinking of are standard tag library c: f: are resources that use a TLD Tag Library Descriptor (stored in a jar package to be loaded as a resource)</em> and are from <em>the original &quot;custom tag&quot; API system</em>.</p>\n<p>Custom tags do not need to be in a .jar, unjared they must be put in <em>/webapplication/WEB-INF/tags/</em> often associated with non programmatic tags that operate like an include markup file. jar packaged tags are in a folder structure /webapplication*/META-INF/tags/* any tags wherever they reside require to be named to their full path in an XML markup like .tld file in the top directory of the package.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663781691,"creation_date":1663781349,"answer_id":73804816,"question_id":73801856,"body_markdown":"There&#39;s no TLD for `&lt;jsp:` elements in the JSP page. These elements are part of the JSP language. With this language you can create JSP pages but if you need to use custom TLDs like JSTL then you should use `taglib` directive.\r\n\r\nWhat is interesting in JSP: it&#39;s called now Jakarta Server Pages. You can read more about this in the article [What is JSP? Introduction to Jakarta Server Pages][1].\r\n\r\n&gt;One of the original Java web technologies, JSP is still widely used with servlets and JSTL. Here&#39;s how to use Jakarta Server Pages to build dynamic web pages that connect to the Java back end.\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/3336161/what-is-jsp-introduction-to-javaserver-pages.html","title":"Where is the &quot;jsp&quot; taglib TLD?","body":"<p>There's no TLD for <code>&lt;jsp:</code> elements in the JSP page. These elements are part of the JSP language. With this language you can create JSP pages but if you need to use custom TLDs like JSTL then you should use <code>taglib</code> directive.</p>\n<p>What is interesting in JSP: it's called now Jakarta Server Pages. You can read more about this in the article <a href=\"https://www.infoworld.com/article/3336161/what-is-jsp-introduction-to-javaserver-pages.html\" rel=\"nofollow noreferrer\">What is JSP? Introduction to Jakarta Server Pages</a>.</p>\n<blockquote>\n<p>One of the original Java web technologies, JSP is still widely used with servlets and JSTL. Here's how to use Jakarta Server Pages to build dynamic web pages that connect to the Java back end.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663808383,"creation_date":1663802797,"answer_id":73807875,"question_id":73801856,"body_markdown":"If your needs are simple for the bean, then you can just add code directly to your JSP. To see what I mean, look at the Servlet that was generated from your JSP. Every JSP is translated to a Servlet. For example, consider the following JSP. \r\n\r\n\t\t&lt;jsp:useBean id=&quot;myList&quot; class=&quot;java.util.ArrayList&quot;/&gt;\r\n\t\t${myList.add(&quot;My first element&quot;)}\r\n\t\t&lt;%myList.add(&quot;My second element&quot;);%&gt;\r\n\t\t${myList}\r\n\r\nThe translation(in Tomcat&#39;s work folder) is \r\n\r\n\t      java.util.ArrayList myList = null;\r\n      myList = (java.util.ArrayList) _jspx_page_context.getAttribute(&quot;myList&quot;, jakarta.servlet.jsp.PageContext.PAGE_SCOPE);\r\n      if (myList == null){\r\n        myList = new java.util.ArrayList();\r\n        _jspx_page_context.setAttribute(&quot;myList&quot;, myList, jakarta.servlet.jsp.PageContext.PAGE_SCOPE);\r\n      }\r\n      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(&quot;${myList.add(\\&quot;My first element\\&quot;)}&quot;, java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));\r\n\t\tmyList.add(&quot;My second element&quot;);\r\n      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(&quot;${myList}&quot;, java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));\r\n\r\nThe useBean action tag just creates a scripting variable and sets a scoped variable. You can do that without any special tag. The following JSP does the same thing.\r\n\r\n\t&lt;%@ page import=&quot;java.util.ArrayList&quot;%&gt;\r\n\t&lt;%\r\n\t\tArrayList myList2 = new ArrayList();\r\n\t\tmyList2.add(&quot;one&quot;);\r\n\t\tpageContext.setAttribute(&quot;myList2&quot;, myList2);\r\n\t%&gt;\r\n\t${myList2}\r\n\t&lt;%=myList2%&gt;\r\n\r\n","title":"Where is the &quot;jsp&quot; taglib TLD?","body":"<p>If your needs are simple for the bean, then you can just add code directly to your JSP. To see what I mean, look at the Servlet that was generated from your JSP. Every JSP is translated to a Servlet. For example, consider the following JSP.</p>\n<pre><code>    &lt;jsp:useBean id=&quot;myList&quot; class=&quot;java.util.ArrayList&quot;/&gt;\n    ${myList.add(&quot;My first element&quot;)}\n    &lt;%myList.add(&quot;My second element&quot;);%&gt;\n    ${myList}\n</code></pre>\n<p>The translation(in Tomcat's work folder) is</p>\n<pre><code>      java.util.ArrayList myList = null;\n  myList = (java.util.ArrayList) _jspx_page_context.getAttribute(&quot;myList&quot;, jakarta.servlet.jsp.PageContext.PAGE_SCOPE);\n  if (myList == null){\n    myList = new java.util.ArrayList();\n    _jspx_page_context.setAttribute(&quot;myList&quot;, myList, jakarta.servlet.jsp.PageContext.PAGE_SCOPE);\n  }\n  out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(&quot;${myList.add(\\&quot;My first element\\&quot;)}&quot;, java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));\n    myList.add(&quot;My second element&quot;);\n  out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(&quot;${myList}&quot;, java.lang.String.class, (jakarta.servlet.jsp.PageContext)_jspx_page_context, null));\n</code></pre>\n<p>The useBean action tag just creates a scripting variable and sets a scoped variable. You can do that without any special tag. The following JSP does the same thing.</p>\n<pre><code>&lt;%@ page import=&quot;java.util.ArrayList&quot;%&gt;\n&lt;%\n    ArrayList myList2 = new ArrayList();\n    myList2.add(&quot;one&quot;);\n    pageContext.setAttribute(&quot;myList2&quot;, myList2);\n%&gt;\n${myList2}\n&lt;%=myList2%&gt;\n</code></pre>\n"}],"owner":{"account_id":1515815,"reputation":155,"user_id":1416845,"accept_rate":50,"display_name":"pierreonthenet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73804816,"answer_count":4,"score":1,"last_activity_date":1663848754,"creation_date":1663767997,"question_id":73801856,"body_markdown":"In a special case, I need to make the same as `&lt;jsp:useBean` in Java class.\r\n\r\nIt sounds like using [`org.apache.commons.beanutils.BeanUtils.cloneBean(Object bean`)][1] will do the work.\r\n\r\nBut what is driving me crazy is that I can&#39;t find the TLD associated to `&lt;jsp:` tags, nor the class used by `&lt;jsp:useBean`.\r\n\r\nEven `&lt;short-name&gt;jsp&lt;/short-name&gt;` on Google gives me nothing.\r\nThe [JSP specs I found][2] makes me believe that it&#39;s not a tag like the others and that the code behind `&lt;jsp:useBean` is in Java&#39;s core.\r\n\r\nAm I right? Have I missed something?\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean-java.lang.Object-\r\n  [2]: https://john.cs.olemiss.edu/~hcc/distObj/notes/jsp1_1-spec.pdf","title":"Where is the &quot;jsp&quot; taglib TLD?","body":"<p>In a special case, I need to make the same as <code>&lt;jsp:useBean</code> in Java class.</p>\n<p>It sounds like using <a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>org.apache.commons.beanutils.BeanUtils.cloneBean(Object bean</code>)</a> will do the work.</p>\n<p>But what is driving me crazy is that I can't find the TLD associated to <code>&lt;jsp:</code> tags, nor the class used by <code>&lt;jsp:useBean</code>.</p>\n<p>Even <code>&lt;short-name&gt;jsp&lt;/short-name&gt;</code> on Google gives me nothing.\nThe <a href=\"https://john.cs.olemiss.edu/%7Ehcc/distObj/notes/jsp1_1-spec.pdf\" rel=\"nofollow noreferrer\">JSP specs I found</a> makes me believe that it's not a tag like the others and that the code behind <code>&lt;jsp:useBean</code> is in Java's core.</p>\n<p>Am I right? Have I missed something?</p>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663850008,"post_id":73814333,"comment_id":130339282,"body_markdown":"What do you think `@ResponseBody` does...","body":"What do you think <code>@ResponseBody</code> does..."},{"owner":{"account_id":18130353,"reputation":65,"user_id":13185519,"display_name":"Mathew Pius"},"score":0,"creation_date":1663850931,"post_id":73814333,"comment_id":130339652,"body_markdown":"sorry im still new to this, I have removed the @ResponseBody annotation.","body":"sorry im still new to this, I have removed the @ResponseBody annotation."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663850964,"post_id":73814333,"comment_id":130339670,"body_markdown":"Yes as that is to be used for REST services, also don&#39;t use `@RestController` but a regular `@Controller` annotation.","body":"Yes as that is to be used for REST services, also don&#39;t use <code>@RestController</code> but a regular <code>@Controller</code> annotation."}],"owner":{"account_id":18130353,"reputation":65,"user_id":13185519,"display_name":"Mathew Pius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663848282,"creation_date":1663848282,"question_id":73814333,"body_markdown":"I have this controller file code. This accepts data from the frontend in the form of @RequestParams. Once I have received the values, I am trying to call another html file called cart .html by adding an attribute using the addAttribute function in models.\r\n```\r\n@GetMapping(&quot;/cart&quot;)\r\n\t@ResponseBody\r\n\tpublic String getIfBorrowedBook(Model model, @RequestParam List&lt;Integer&gt; bookIds) {\r\n\t\tSystem.out.println(bookIds);\r\n//\t\tif(ifBorrowed.equals(&quot;on&quot;)) {\r\n//\t\t\tBooks book = booksService.findById(bookId);\r\n//\t\t\tbook.setIfBorrowed(true);\r\n\t\t\t\r\n//\t\t\tbooksService.save(book); \r\n\t\tList&lt;Books&gt; booksInCart = new ArrayList&lt;&gt;();\r\n\t\tfor(Integer id:bookIds) {\r\n\t\t\t\r\n\t\tbooksInCart.add(booksService.findById(id));\r\n\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(booksInCart);\r\n\tmodel.addAttribute(&quot;booksInCart&quot;, booksInCart);\r\n\r\n\t\treturn &quot;cart&quot;;\t\r\n\t\t\r\n\t}\r\n```\r\n\r\nThis is my cart.html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;List Books&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; /&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container text-center&quot;&gt;\r\n\t&lt;h1&gt;\r\n\t\tCart\r\n\t&lt;/h1&gt;\r\n     \r\n    &lt;div&gt;\r\n   \r\n        &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n            &lt;thead class=&quot;thead-dark&quot;&gt;\r\n                &lt;tr&gt;\r\n             \r\n                    &lt;th&gt;Title&lt;/th&gt;\r\n                    &lt;th&gt;Genre&lt;/th&gt;\r\n                    &lt;th&gt;Author&lt;/th&gt;\r\n                    &lt;th&gt;Edition&lt;/th&gt;\r\n                    \r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;book: ${booksInCart}&quot;&gt;\r\n                   \r\n                    &lt;td th:text=&quot;${book.title}&quot;&gt;Title&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${book.genre}&quot;&gt;Genre&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${book.author}&quot;&gt;Author&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${book.edition}&quot;&gt;Edition&lt;/td&gt;\r\n                    &lt;td&gt;\r\n                    \t\r\n                    \t\r\n                    \t\r\n                    \t\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n             &lt;div&gt;\r\n               \r\n            &lt;/div&gt;\r\n        &lt;/table&gt;\r\n       \r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThis is the show_filtered books file that has a form which is submitted to the controller get request once a buttom is clicked.\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;List Books&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; /&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container text-center&quot;&gt;\r\n\t&lt;div&gt;\r\n        &lt;h1&gt;\r\n        &lt;div th:text=&quot;&#39;Books on &#39;+${filteredBooks[0].genre}&quot;&gt;&lt;/div&gt;\r\n        &lt;/h1&gt;\r\n    &lt;/div&gt;\r\n     \r\n    &lt;div&gt;\r\n    &lt;form th:action=&quot;@{/cart}&quot;&gt;\r\n        &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n            &lt;thead class=&quot;thead-dark&quot;&gt;\r\n                &lt;tr&gt;\r\n             \r\n                    &lt;th&gt;Title&lt;/th&gt;\r\n                    &lt;th&gt;Genre&lt;/th&gt;\r\n                    &lt;th&gt;Author&lt;/th&gt;\r\n                    &lt;th&gt;Edition&lt;/th&gt;\r\n                    &lt;th&gt;Borrow Book&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr th:each=&quot;book: ${filteredBooks}&quot;&gt;\r\n                   \r\n                    &lt;td th:text=&quot;${book.title}&quot;&gt;Title&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${book.genre}&quot;&gt;Genre&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${book.author}&quot;&gt;Author&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${book.edition}&quot;&gt;Edition&lt;/td&gt;\r\n                    &lt;td&gt;\r\n                    \t\r\n                    \t&lt;input type=&quot;checkbox&quot; name=&quot;bookIds&quot; th:value=&quot;${book.bookId}&quot; th:checked=&quot;${book.ifBorrowed}&quot;/&gt;\r\n                    \t\r\n                    \t\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n             &lt;div&gt;\r\n               &lt;a href=&quot;cart&quot;&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add to Cart&lt;/button&gt;\r\n                &lt;/a&gt;\r\n            &lt;/div&gt;\r\n        &lt;/table&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nBut when I try to return the cart string at the end of getIfBorrowed() method, I am not getting the cart.html file. I am just getting a string that says cart on the webpage. This cart.html file is location in src/main/resources/templates. Therefore spring mvc should automatically be able to recognize the file but it does not do so.","title":"HTML page not displaying when called from backend using springboot and thymeleaf","body":"<p>I have this controller file code. This accepts data from the frontend in the form of @RequestParams. Once I have received the values, I am trying to call another html file called cart .html by adding an attribute using the addAttribute function in models.</p>\n<pre><code>@GetMapping(&quot;/cart&quot;)\n    @ResponseBody\n    public String getIfBorrowedBook(Model model, @RequestParam List&lt;Integer&gt; bookIds) {\n        System.out.println(bookIds);\n//      if(ifBorrowed.equals(&quot;on&quot;)) {\n//          Books book = booksService.findById(bookId);\n//          book.setIfBorrowed(true);\n            \n//          booksService.save(book); \n        List&lt;Books&gt; booksInCart = new ArrayList&lt;&gt;();\n        for(Integer id:bookIds) {\n            \n        booksInCart.add(booksService.findById(id));\n        \n            \n        }\n        System.out.println(booksInCart);\n    model.addAttribute(&quot;booksInCart&quot;, booksInCart);\n\n        return &quot;cart&quot;;  \n        \n    }\n</code></pre>\n<p>This is my cart.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;List Books&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; /&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container text-center&quot;&gt;\n    &lt;h1&gt;\n        Cart\n    &lt;/h1&gt;\n     \n    &lt;div&gt;\n   \n        &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n            &lt;thead class=&quot;thead-dark&quot;&gt;\n                &lt;tr&gt;\n             \n                    &lt;th&gt;Title&lt;/th&gt;\n                    &lt;th&gt;Genre&lt;/th&gt;\n                    &lt;th&gt;Author&lt;/th&gt;\n                    &lt;th&gt;Edition&lt;/th&gt;\n                    \n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;book: ${booksInCart}&quot;&gt;\n                   \n                    &lt;td th:text=&quot;${book.title}&quot;&gt;Title&lt;/td&gt;\n                    &lt;td th:text=&quot;${book.genre}&quot;&gt;Genre&lt;/td&gt;\n                    &lt;td th:text=&quot;${book.author}&quot;&gt;Author&lt;/td&gt;\n                    &lt;td th:text=&quot;${book.edition}&quot;&gt;Edition&lt;/td&gt;\n                    &lt;td&gt;\n                        \n                        \n                        \n                        \n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n             &lt;div&gt;\n               \n            &lt;/div&gt;\n        &lt;/table&gt;\n       \n    &lt;/div&gt;\n\n&lt;/div&gt;\n    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is the show_filtered books file that has a form which is submitted to the controller get request once a buttom is clicked.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;List Books&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; /&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/webjars/bootstrap/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container text-center&quot;&gt;\n    &lt;div&gt;\n        &lt;h1&gt;\n        &lt;div th:text=&quot;'Books on '+${filteredBooks[0].genre}&quot;&gt;&lt;/div&gt;\n        &lt;/h1&gt;\n    &lt;/div&gt;\n     \n    &lt;div&gt;\n    &lt;form th:action=&quot;@{/cart}&quot;&gt;\n        &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n            &lt;thead class=&quot;thead-dark&quot;&gt;\n                &lt;tr&gt;\n             \n                    &lt;th&gt;Title&lt;/th&gt;\n                    &lt;th&gt;Genre&lt;/th&gt;\n                    &lt;th&gt;Author&lt;/th&gt;\n                    &lt;th&gt;Edition&lt;/th&gt;\n                    &lt;th&gt;Borrow Book&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;book: ${filteredBooks}&quot;&gt;\n                   \n                    &lt;td th:text=&quot;${book.title}&quot;&gt;Title&lt;/td&gt;\n                    &lt;td th:text=&quot;${book.genre}&quot;&gt;Genre&lt;/td&gt;\n                    &lt;td th:text=&quot;${book.author}&quot;&gt;Author&lt;/td&gt;\n                    &lt;td th:text=&quot;${book.edition}&quot;&gt;Edition&lt;/td&gt;\n                    &lt;td&gt;\n                        \n                        &lt;input type=&quot;checkbox&quot; name=&quot;bookIds&quot; th:value=&quot;${book.bookId}&quot; th:checked=&quot;${book.ifBorrowed}&quot;/&gt;\n                        \n                        \n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n             &lt;div&gt;\n               &lt;a href=&quot;cart&quot;&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add to Cart&lt;/button&gt;\n                &lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/table&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>But when I try to return the cart string at the end of getIfBorrowed() method, I am not getting the cart.html file. I am just getting a string that says cart on the webpage. This cart.html file is location in src/main/resources/templates. Therefore spring mvc should automatically be able to recognize the file but it does not do so.</p>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1663847497,"post_id":73814153,"comment_id":130338327,"body_markdown":"You need a `Map`.","body":"You need a <code>Map</code>."},{"owner":{"account_id":20599367,"reputation":190,"user_id":15120975,"display_name":"Jeffplays2005"},"score":0,"creation_date":1663847629,"post_id":73814153,"comment_id":130338371,"body_markdown":"Hi, could you please comment your comment as an answer so I may flag it as correct, thank you very much.","body":"Hi, could you please comment your comment as an answer so I may flag it as correct, thank you very much."},{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1663848231,"post_id":73814153,"comment_id":130338621,"body_markdown":"https://stackoverflow.com/questions/2050470/php-call-equivalent-for-java","body":"<a href=\"https://stackoverflow.com/questions/2050470/php-call-equivalent-for-java\" title=\"php call equivalent for java\">stackoverflow.com/questions/2050470/&hellip;</a>"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":2,"creation_date":1663848365,"post_id":73814153,"comment_id":130338662,"body_markdown":"Does this answer your question? [What&#39;s the Java equivalent of defining a classless object in JavaScript?](https://stackoverflow.com/questions/65624689/whats-the-java-equivalent-of-defining-a-classless-object-in-javascript)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65624689/whats-the-java-equivalent-of-defining-a-classless-object-in-javascript\">What&#39;s the Java equivalent of defining a classless object in JavaScript?</a>"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663848024,"creation_date":1663848024,"answer_id":73814287,"question_id":73814153,"body_markdown":"In Java, the `Map` interface provides similar functionality. One such implementation is [`HashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html). Its base class `AbstractMap` defines `#toString` in a way very similar to JavaScript:\r\n\r\n```\r\nfinal Map&lt;String, Object&gt; arr = new HashMap&lt;&gt;();\r\narr.put(&quot;foo&quot;, &quot;bar&quot;);\r\nSystem.out.println(arr);\r\narr.remove(&quot;foo&quot;);\r\nSystem.out.println(arr);\r\n```","title":"Java alternative of javascript dynamically constructed object","body":"<p>In Java, the <code>Map</code> interface provides similar functionality. One such implementation is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>. Its base class <code>AbstractMap</code> defines <code>#toString</code> in a way very similar to JavaScript:</p>\n<pre><code>final Map&lt;String, Object&gt; arr = new HashMap&lt;&gt;();\narr.put(&quot;foo&quot;, &quot;bar&quot;);\nSystem.out.println(arr);\narr.remove(&quot;foo&quot;);\nSystem.out.println(arr);\n</code></pre>\n"}],"owner":{"account_id":20599367,"reputation":190,"user_id":15120975,"display_name":"Jeffplays2005"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73814287,"answer_count":1,"score":0,"last_activity_date":1663848024,"creation_date":1663847464,"question_id":73814153,"body_markdown":"I&#39;ve been trying to build an object of some sort which allows dynamic key adding/removing, similar to javascript objects.\r\n\r\nI&#39;m trying to do something like this in java(code below is javascript):\r\n```js\r\nconst object = {};\r\nobject[&quot;foo&quot;] = &quot;bar&quot;;\r\nconsole.log(object);\r\n// { &quot;foo&quot;: &quot;bar&quot; };\r\ndelete object[&quot;foo&quot;];\r\nconsole.log(object);\r\n// {};\r\n```\r\n\r\nI&#39;ve tried doing:\r\n```js\r\nString[] arr;\r\narr[&quot;foo&quot;]=&quot;bar&quot;;\r\n```\r\nAlthough that definitely won&#39;t work as &quot;String cannot be converted to int&quot;.\r\n","title":"Java alternative of javascript dynamically constructed object","body":"<p>I've been trying to build an object of some sort which allows dynamic key adding/removing, similar to javascript objects.</p>\n<p>I'm trying to do something like this in java(code below is javascript):</p>\n<pre class=\"lang-js prettyprint-override\"><code>const object = {};\nobject[&quot;foo&quot;] = &quot;bar&quot;;\nconsole.log(object);\n// { &quot;foo&quot;: &quot;bar&quot; };\ndelete object[&quot;foo&quot;];\nconsole.log(object);\n// {};\n</code></pre>\n<p>I've tried doing:</p>\n<pre class=\"lang-js prettyprint-override\"><code>String[] arr;\narr[&quot;foo&quot;]=&quot;bar&quot;;\n</code></pre>\n<p>Although that definitely won't work as &quot;String cannot be converted to int&quot;.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriverwait","staleelementreferenceexception"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662926634,"creation_date":1662926634,"answer_id":73682311,"question_id":73682024,"body_markdown":"I guess you are using a page factory?  \r\nAnyway, when you back to the `InviteToCompany` page and need to click `Add Candidate` Button again you will need to get that element again.   \r\nI mean to pass the locator or `By` of that element and get the `WebElement` object again with `driver.findElement()` method.  \r\nThis causes by the fact that `WebElement` is actually a reference (pointer) to the actual Web Element on the page. And when you navigating from the page to other page the references to the objects on the previous page becoming invalid, Stale. When you open the previous page again it is rendered again, so you need to get the references (pointers) to elements on that page again.","title":"Stale Element Reference appears when navigating back to a page, how to write a neat code","body":"<p>I guess you are using a page factory?<br />\nAnyway, when you back to the <code>InviteToCompany</code> page and need to click <code>Add Candidate</code> Button again you will need to get that element again.<br />\nI mean to pass the locator or <code>By</code> of that element and get the <code>WebElement</code> object again with <code>driver.findElement()</code> method.<br />\nThis causes by the fact that <code>WebElement</code> is actually a reference (pointer) to the actual Web Element on the page. And when you navigating from the page to other page the references to the objects on the previous page becoming invalid, Stale. When you open the previous page again it is rendered again, so you need to get the references (pointers) to elements on that page again.</p>\n"}],"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663847683,"creation_date":1662923644,"question_id":73682024,"body_markdown":"I am automating in Java Selenium, without using Page Factory.\r\n\r\nI have an *Add Candidate Button* element that is clicked in two tests. One is straightforward, after entering *InviteToCompany* page I click this button and proceed. However, another requires me to go past *InviteToCompany* page, but then use *Go Back Arrow* to go back to &#39;InviteToCompany&#39; page and click *Add Candidate Button* again. This is when `StaleElementReferenceException` appears.\r\n\r\nI have written such a piece of code to deal with this issue, however I am wondering, if there is a cleaner and neater way, than catching exception for second test, to proceed.\r\n\r\n```\r\n    public InviteToCompanyPO clickAddCandidateBtn() {\r\n        try {\r\n            getClickableElement(addCandidateBtn).click();\r\n        } catch (StaleElementReferenceException e) {\r\n            log.warn(&quot;StaleElementReferenceException caught, retrying...&quot;, e);\r\n            getClickableElement(addCandidateBtn).click();\r\n        }\r\n        return new InviteToCompanyPO(driver);\r\n    }\r\n```\r\n\r\nBefore I had to write second test (the one causing staleness), this method simply looked like this:\r\n\r\n```\r\n    public InviteToCompanyPO clickAddCandidateBtn() {\r\n        getClickableElement(addCandidateBtn).click();\r\n        return new InviteToCompanyPO(driver);\r\n    }\r\n```\r\n\r\nI tried writing something like this:\r\n\r\n```\r\n    public InviteToCompanyPO clickAddCandidateBtn() {\r\n        wait\r\n                .ignoring(StaleElementReferenceException.class)\r\n                .until(ExpectedConditions.elementToBeClickable(addCandidateBtn))\r\n                .click();\r\n        return new InviteToCompanyPO(driver);\r\n    }\r\n```\r\nbut it doesn&#39;t work.","title":"Stale Element Reference appears when navigating back to a page, how to write a neat code","body":"<p>I am automating in Java Selenium, without using Page Factory.</p>\n<p>I have an <em>Add Candidate Button</em> element that is clicked in two tests. One is straightforward, after entering <em>InviteToCompany</em> page I click this button and proceed. However, another requires me to go past <em>InviteToCompany</em> page, but then use <em>Go Back Arrow</em> to go back to 'InviteToCompany' page and click <em>Add Candidate Button</em> again. This is when <code>StaleElementReferenceException</code> appears.</p>\n<p>I have written such a piece of code to deal with this issue, however I am wondering, if there is a cleaner and neater way, than catching exception for second test, to proceed.</p>\n<pre><code>    public InviteToCompanyPO clickAddCandidateBtn() {\n        try {\n            getClickableElement(addCandidateBtn).click();\n        } catch (StaleElementReferenceException e) {\n            log.warn(&quot;StaleElementReferenceException caught, retrying...&quot;, e);\n            getClickableElement(addCandidateBtn).click();\n        }\n        return new InviteToCompanyPO(driver);\n    }\n</code></pre>\n<p>Before I had to write second test (the one causing staleness), this method simply looked like this:</p>\n<pre><code>    public InviteToCompanyPO clickAddCandidateBtn() {\n        getClickableElement(addCandidateBtn).click();\n        return new InviteToCompanyPO(driver);\n    }\n</code></pre>\n<p>I tried writing something like this:</p>\n<pre><code>    public InviteToCompanyPO clickAddCandidateBtn() {\n        wait\n                .ignoring(StaleElementReferenceException.class)\n                .until(ExpectedConditions.elementToBeClickable(addCandidateBtn))\n                .click();\n        return new InviteToCompanyPO(driver);\n    }\n</code></pre>\n<p>but it doesn't work.</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1436302504,"post_id":31279009,"comment_id":50551899,"body_markdown":"Try comparing the two files to see the difference.","body":"Try comparing the two files to see the difference."},{"owner":{"account_id":6362681,"reputation":146,"user_id":4937689,"display_name":"floh"},"score":1,"creation_date":1436302708,"post_id":31279009,"comment_id":50552005,"body_markdown":"Take a look at this questioon:\r\n\r\n[Image comparison][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/843972/image-comparison-fast-algorithm","body":"Take a look at this questioon:    [Image comparison][1]        [1]: <a href=\"http://stackoverflow.com/questions/843972/image-comparison-fast-algorithm\" title=\"image comparison fast algorithm\">stackoverflow.com/questions/843972/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1436317729,"creation_date":1436317729,"answer_id":31281918,"question_id":31279009,"body_markdown":"I would guess there&#39;s a difference in the metadata being written out?  The image data is probably the same.  If you only care about the image data and not the metadata for the image file you can just pull out the pixel data as a byte array.\r\n\r\nthis is probably a good idea anyway since comparing the entire file will be problematic since the metadata may have timestamps of the file generation which will break the tests.\r\n\r\n\r\n   If you already have the image as a `BufferedImage` you can just do this on the `expected` and `actual` variables.\r\n\r\n    //this gets the actual Raster data as a byte array\r\n    byte[] byteArray = ((DataBufferByte) bufferedImage.getData().getDataBuffer()).getData();\r\n\r\nThen just compare the byte arrays for equality\r\n\r\n    assertArrayEqual(expectedArray, actualArray);\r\n\r\nIf you don&#39;t have the data as a bufferedImage yet it&#39;s easy to get it from a file\r\n\r\n    BufferedImage originalImage = \r\n                              ImageIO.read(new File(&quot;path/to/my.jpg&quot;));\r\n\r\nor `InputStream`\r\n\r\n      try{\r\n      BufferedImage originalImage = \r\n                              ImageIO.read(inputStream));\r\n      }finally{\r\n          //close inputstream\r\n          inputStream.close();\r\n      }","title":"Testing image files with JUnit","body":"<p>I would guess there's a difference in the metadata being written out?  The image data is probably the same.  If you only care about the image data and not the metadata for the image file you can just pull out the pixel data as a byte array.</p>\n\n<p>this is probably a good idea anyway since comparing the entire file will be problematic since the metadata may have timestamps of the file generation which will break the tests.</p>\n\n<p>If you already have the image as a <code>BufferedImage</code> you can just do this on the <code>expected</code> and <code>actual</code> variables.</p>\n\n<pre><code>//this gets the actual Raster data as a byte array\nbyte[] byteArray = ((DataBufferByte) bufferedImage.getData().getDataBuffer()).getData();\n</code></pre>\n\n<p>Then just compare the byte arrays for equality</p>\n\n<pre><code>assertArrayEqual(expectedArray, actualArray);\n</code></pre>\n\n<p>If you don't have the data as a bufferedImage yet it's easy to get it from a file</p>\n\n<pre><code>BufferedImage originalImage = \n                          ImageIO.read(new File(\"path/to/my.jpg\"));\n</code></pre>\n\n<p>or <code>InputStream</code></p>\n\n<pre><code>  try{\n  BufferedImage originalImage = \n                          ImageIO.read(inputStream));\n  }finally{\n      //close inputstream\n      inputStream.close();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6576261,"reputation":618,"user_id":5082182,"display_name":"Gediminas Rimsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663847518,"creation_date":1663847518,"answer_id":73814169,"question_id":31279009,"body_markdown":"We had a similar problem and were able to use [this `image-comparison` library](https://github.com/romankh3/image-comparison) with success.\r\n\r\nTests look similar to this:\r\n```\r\nBufferedImage expected = /* */;\r\nBufferedImage actual   = /* */;\r\n\r\nImageComparisonResult result = new ImageComparison(expected, actual).compareImages();\r\n\r\nassertEquals(ImageComparisonState.MATCH, result.getImageComparisonState());\r\n```\r\n\r\nThe latest version of the library at the time of writing this comment was:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.romankh3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;image-comparison&lt;/artifactId&gt;\r\n    &lt;version&gt;4.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Testing image files with JUnit","body":"<p>We had a similar problem and were able to use <a href=\"https://github.com/romankh3/image-comparison\" rel=\"nofollow noreferrer\">this <code>image-comparison</code> library</a> with success.</p>\n<p>Tests look similar to this:</p>\n<pre><code>BufferedImage expected = /* */;\nBufferedImage actual   = /* */;\n\nImageComparisonResult result = new ImageComparison(expected, actual).compareImages();\n\nassertEquals(ImageComparisonState.MATCH, result.getImageComparisonState());\n</code></pre>\n<p>The latest version of the library at the time of writing this comment was:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.romankh3&lt;/groupId&gt;\n    &lt;artifactId&gt;image-comparison&lt;/artifactId&gt;\n    &lt;version&gt;4.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1369143,"reputation":963,"user_id":1304862,"accept_rate":88,"display_name":"adchilds"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14531,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":31281918,"answer_count":2,"score":8,"last_activity_date":1663847518,"creation_date":1436302225,"question_id":31279009,"body_markdown":"I&#39;m looking for direction on how to test that a dynamically generated image is the expected image with JUnit. A bit of background:\r\n\r\nI have code that generates thumbnail images as java.awt.image.BufferedImage&#39;s and stores those BufferedImages into a java.io.File object.\r\n\r\nI wrote a simple unit test to check a few key items in order to gain confidence that the generated image was correct:\r\n\r\n    @Test\r\n    public void testGenerateDefaultThumbnail() {\r\n        File file = // someGeneratedFile.jpg\r\n\r\n        assertNotNull(file);\r\n        assertEquals(10211l, file.length());\r\n    }\r\n\r\nBasically, I&#39;m just confirming that the file size is what I expect.\r\n\r\nThis works fine locally on my machine (Mac OSX), but as soon as our tests run on our build server (Ubuntu), one of the tests is failing with the following:\r\n\r\n    java.lang.AssertionError: expected:&lt;10211&gt; but was:&lt;10158&gt;\r\n\t  at org.junit.Assert.fail(Assert.java:88)\r\n\t  at org.junit.Assert.failNotEquals(Assert.java:743)\r\n\t  at org.junit.Assert.assertEquals(Assert.java:118)\r\n\t  at org.junit.Assert.assertEquals(Assert.java:555)\r\n\t  at org.junit.Assert.assertEquals(Assert.java:542)\r\n\t  at c.v.t.ThumbnailTest.testGenerateDefaultThumbnail(ThumbnailTest.java:53)\r\n\r\nThree part question:\r\n\r\n* Why may the file size be different for an image across OS&#39;s?\r\n* Is there a standard approach to unit testing image generation?\r\n* Should I change my approach to compare two File objects (where a pre-generated file exists as a resource in the project)?\r\n\r\nThanks!","title":"Testing image files with JUnit","body":"<p>I'm looking for direction on how to test that a dynamically generated image is the expected image with JUnit. A bit of background:</p>\n\n<p>I have code that generates thumbnail images as java.awt.image.BufferedImage's and stores those BufferedImages into a java.io.File object.</p>\n\n<p>I wrote a simple unit test to check a few key items in order to gain confidence that the generated image was correct:</p>\n\n<pre><code>@Test\npublic void testGenerateDefaultThumbnail() {\n    File file = // someGeneratedFile.jpg\n\n    assertNotNull(file);\n    assertEquals(10211l, file.length());\n}\n</code></pre>\n\n<p>Basically, I'm just confirming that the file size is what I expect.</p>\n\n<p>This works fine locally on my machine (Mac OSX), but as soon as our tests run on our build server (Ubuntu), one of the tests is failing with the following:</p>\n\n<pre><code>java.lang.AssertionError: expected:&lt;10211&gt; but was:&lt;10158&gt;\n  at org.junit.Assert.fail(Assert.java:88)\n  at org.junit.Assert.failNotEquals(Assert.java:743)\n  at org.junit.Assert.assertEquals(Assert.java:118)\n  at org.junit.Assert.assertEquals(Assert.java:555)\n  at org.junit.Assert.assertEquals(Assert.java:542)\n  at c.v.t.ThumbnailTest.testGenerateDefaultThumbnail(ThumbnailTest.java:53)\n</code></pre>\n\n<p>Three part question:</p>\n\n<ul>\n<li>Why may the file size be different for an image across OS's?</li>\n<li>Is there a standard approach to unit testing image generation?</li>\n<li>Should I change my approach to compare two File objects (where a pre-generated file exists as a resource in the project)?</li>\n</ul>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1663769109,"post_id":73801451,"comment_id":130317533,"body_markdown":"There does not appear to be such a class as org.hibernate.metamodel.model.domain.AllowableFunctionReturnType , hazard a guess it probably means something else such as  https://xy2401.com/local-docs/jboss/hibernate-5.4.9/javadocs/org/hibernate/metamodel/model/domain/package-tree.html nb- not much use without seeing the cast the error refers to.","body":"There does not appear to be such a class as org.hibernate.metamodel.model.domain.AllowableFunctionReturn&zwnj;&#8203;Type , hazard a guess it probably means something else such as  <a href=\"https://xy2401.com/local-docs/jboss/hibernate-5.4.9/javadocs/org/hibernate/metamodel/model/domain/package-tree.html\" rel=\"nofollow noreferrer\">xy2401.com/local-docs/jboss/hibernate-5.4.9/javadocs/org/&hellip;</a> nb- not much use without seeing the cast the error refers to."},{"owner":{"account_id":26401161,"reputation":1,"user_id":20051607,"display_name":"tanri"},"score":0,"creation_date":1663771518,"post_id":73801451,"comment_id":130318534,"body_markdown":"I found out that I was using &#39;org.hibernate:hibernate-entitymanager:6.0.0.Alpha6&#39; version by mistake, when I used &#39;org.hibernate:hibernate-entitymanager:5.6.11.Final&#39;, the problem got Solution","body":"I found out that I was using &#39;org.hibernate:hibernate-entitymanager:6.0.0.Alpha6&#39; version by mistake, when I used &#39;org.hibernate:hibernate-entitymanager:5.6.11.Final&#39;, the problem got Solution"}],"owner":{"account_id":26401161,"reputation":1,"user_id":20051607,"display_name":"tanri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663847486,"creation_date":1663766332,"question_id":73801451,"body_markdown":"I am learning Spring Data JPA, but I encountered the following error using `ExampleMatcher.matching().withIgnoreCase()` and this is the error I have got: \r\n```\r\njava.lang.ClassCastException: class org.hibernate.metamodel.model.domain.internal.SingularAttributeImpl cannot be cast to class org.hibernate.metamodel.model.domain.AllowableFunctionReturnType (org.hibernate.metamodel.model.domain.internal.SingularAttributeImpl and org.hibernate.metamodel.model.domain.AllowableFunctionReturnType are in unnamed module of loader &#39;app&#39;)\r\n\r\n\tat org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.lower(SqmCriteriaNodeBuilder.java:1109)\r\n\tat org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.lower(SqmCriteriaNodeBuilder.java:132)\r\n\tat org.springframework.data.jpa.convert.QueryByExamplePredicateBuilder.getPredicates(QueryByExamplePredicateBuilder.java:177)\r\n\tat org.springframework.data.jpa.convert.QueryByExamplePredicateBuilder.getPredicate(QueryByExamplePredicateBuilder.java:102)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository$ExampleSpecification.toPredicate(SimpleJpaRepository.java:980)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:860)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:794)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:567)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:87)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy55.findAll(Unknown Source)\r\n\tat com.tli.test.QEBTest.Test(QEBTest.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n```\r\nI searched the internet about the error that I wrote as the title for my question, but I found nothing useful.\r\n\r\nThis is my entity\r\n-----------------\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;jpa_customer&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Customer {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;customer_id&quot;)\r\n\tprivate Long customerId;\r\n\t\r\n\t@Column(name = &quot;customer_name&quot;)\r\n\tprivate String custName;\r\n\t\r\n\t@Column(name = &quot;customer_address&quot;)\r\n\tprivate String custAddress;\r\n}\r\n```\r\n\r\nThis is my test class:\r\n----------------------\r\n\r\n```\r\n@ContextConfiguration(classes = ApplicationConfig.class)\r\n@ExtendWith(SpringExtension.class)\r\npublic class QEBTest {\r\n\t\r\n\t@Autowired\r\n\tQBERepositories qbeRepositories;\r\n\t\r\n\t@Test\r\n\tvoid Test() {\r\n\t\tCustomer customer = new Customer();\r\n\t\tcustomer.setCustName(&quot;SAN&quot;);\r\n\t\tExampleMatcher exampleMatcher = ExampleMatcher.matching().withIgnoreCase(&quot;custName&quot;);\r\n\t\tExample&lt;Customer&gt; example = Example.of(customer, exampleMatcher);\r\n\t\tSystem.out.println(qbeRepositories.findAll(example));\r\n\t}\r\n}\r\n```\r\nSpring Data JPA version is **2.6.7**\r\nDatabase is **MySQL** **8.0.26**","title":"Spring Data JPA using ExampleMatcher.matching().withIgnoreCase() has an unsolvable error","body":"<p>I am learning Spring Data JPA, but I encountered the following error using <code>ExampleMatcher.matching().withIgnoreCase()</code> and this is the error I have got:</p>\n<pre><code>java.lang.ClassCastException: class org.hibernate.metamodel.model.domain.internal.SingularAttributeImpl cannot be cast to class org.hibernate.metamodel.model.domain.AllowableFunctionReturnType (org.hibernate.metamodel.model.domain.internal.SingularAttributeImpl and org.hibernate.metamodel.model.domain.AllowableFunctionReturnType are in unnamed module of loader 'app')\n\n    at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.lower(SqmCriteriaNodeBuilder.java:1109)\n    at org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder.lower(SqmCriteriaNodeBuilder.java:132)\n    at org.springframework.data.jpa.convert.QueryByExamplePredicateBuilder.getPredicates(QueryByExamplePredicateBuilder.java:177)\n    at org.springframework.data.jpa.convert.QueryByExamplePredicateBuilder.getPredicate(QueryByExamplePredicateBuilder.java:102)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository$ExampleSpecification.toPredicate(SimpleJpaRepository.java:980)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:860)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:794)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:567)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:87)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy55.findAll(Unknown Source)\n    at com.tli.test.QEBTest.Test(QEBTest.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n</code></pre>\n<p>I searched the internet about the error that I wrote as the title for my question, but I found nothing useful.</p>\n<h2>This is my entity</h2>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;jpa_customer&quot;)\n@Getter\n@Setter\n@ToString\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;customer_id&quot;)\n    private Long customerId;\n    \n    @Column(name = &quot;customer_name&quot;)\n    private String custName;\n    \n    @Column(name = &quot;customer_address&quot;)\n    private String custAddress;\n}\n</code></pre>\n<h2>This is my test class:</h2>\n<pre><code>@ContextConfiguration(classes = ApplicationConfig.class)\n@ExtendWith(SpringExtension.class)\npublic class QEBTest {\n    \n    @Autowired\n    QBERepositories qbeRepositories;\n    \n    @Test\n    void Test() {\n        Customer customer = new Customer();\n        customer.setCustName(&quot;SAN&quot;);\n        ExampleMatcher exampleMatcher = ExampleMatcher.matching().withIgnoreCase(&quot;custName&quot;);\n        Example&lt;Customer&gt; example = Example.of(customer, exampleMatcher);\n        System.out.println(qbeRepositories.findAll(example));\n    }\n}\n</code></pre>\n<p>Spring Data JPA version is <strong>2.6.7</strong>\nDatabase is <strong>MySQL</strong> <strong>8.0.26</strong></p>\n"},{"tags":["java","docker","selenium","maven","automated-tests"],"comments":[{"owner":{"account_id":17263784,"reputation":1860,"user_id":12501050,"display_name":"Muhammadzohir Rustamov"},"score":0,"creation_date":1663708481,"post_id":73788490,"comment_id":130302764,"body_markdown":"Is your source code (i.e. tests) on github, so that I can pull and try it locally?","body":"Is your source code (i.e. tests) on github, so that I can pull and try it locally?"},{"owner":{"account_id":18687135,"reputation":31,"user_id":13622373,"display_name":"Kytelex"},"score":0,"creation_date":1663777072,"post_id":73788490,"comment_id":130320783,"body_markdown":"Sorry, I don&#39;t have it on GitHub. Maybe you could solve it this way. On local works fine but when I change it to Linux doesn&#39;t work.","body":"Sorry, I don&#39;t have it on GitHub. Maybe you could solve it this way. On local works fine but when I change it to Linux doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663842391,"creation_date":1663842391,"answer_id":73813073,"question_id":73788490,"body_markdown":"You can try increasing the windows size, as it might not be in the viewport , I was facing the same Issue and was able to solve it\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n            chromeOptions.addArguments(&quot;disable-infobars&quot;);\r\n            chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\r\n            chromeOptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n            chromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n            chromeOptions.addArguments(&quot;--disable-extensions&quot;);\r\n            chromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n            chromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n            chromeOptions.addArguments(&quot;--headless&quot;);\r\n            chromeOptions.addArguments(&quot;--window-size=1580,1280&quot;);\r\n\r\nYou could also try scrolling to element first if you think its not visible in viewport using actions class or JavascriptExecutor\r\n\r\nUsing Actions Class\r\n  \r\n\r\n      WebElement element = driver.findElement(By.id(&quot;my-id&quot;));\r\n        Actions actions = new Actions(driver);\r\n        actions.moveToElement(element);\r\n        actions.perform();\r\n\r\nUsing JavascriptExecutor\r\n  \r\n\r\n      WebElement element = driver.findElement(By.id(&quot;id_of_element&quot;));\r\n        ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n\r\n","title":"Java maven selenium not working in a docker container","body":"<p>You can try increasing the windows size, as it might not be in the viewport , I was facing the same Issue and was able to solve it</p>\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;disable-infobars&quot;);\n        chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\n        chromeOptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n        chromeOptions.addArguments(&quot;--disable-gpu&quot;);\n        chromeOptions.addArguments(&quot;--disable-extensions&quot;);\n        chromeOptions.addArguments(&quot;--no-sandbox&quot;);\n        chromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        chromeOptions.addArguments(&quot;--headless&quot;);\n        chromeOptions.addArguments(&quot;--window-size=1580,1280&quot;);\n</code></pre>\n<p>You could also try scrolling to element first if you think its not visible in viewport using actions class or JavascriptExecutor</p>\n<p>Using Actions Class</p>\n<pre><code>  WebElement element = driver.findElement(By.id(&quot;my-id&quot;));\n    Actions actions = new Actions(driver);\n    actions.moveToElement(element);\n    actions.perform();\n</code></pre>\n<p>Using JavascriptExecutor</p>\n<pre><code>  WebElement element = driver.findElement(By.id(&quot;id_of_element&quot;));\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n"}],"owner":{"account_id":18687135,"reputation":31,"user_id":13622373,"display_name":"Kytelex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663847288,"creation_date":1663684589,"question_id":73788490,"body_markdown":"I am new with docker containers and testing and have no idea how to solve this, been having a hard time these days. My tests are working in windows but when I create the docker container, my tests are not working, so I want to run a maven project in a docker container. The thing is I have been solving a lot of errors but still lots of them.\r\nBefore I start, I use openstax/selenium-chrome image with java, maven,chromedriver already installed and JAVA_HOME already set. Java version is 17 on the container and the project has 1.8.\r\n\r\n&gt; Chromedriver version is ChromeDriver 88.0.4324.96 \r\n&gt; \r\n&gt; Google-chrome version is Google Chrome 88.0.4324.96\r\n\r\n\r\n1- I create the docker container from the image I already created with everything installed passing the maven project inside.\r\n\r\n    docker run -it -d -v C:\\Users\\user\\Projects\\TestAutomation:/app --name=testsel maven-selenium/selenium\r\n\r\n2- I enter with the user \r\n\r\n    docker exec -it testsel /bin/bash\r\n\r\n3- I switch to the directory that I have the mvn project \r\n\r\n4- I execute the maven project with mvn test\r\n5- this is my pom.xml\r\n\r\n     &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.10.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;17&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.4&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;org/nameofproject/tests/Test.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n6- Setting chrome options for linux\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n            options.addArguments(&quot;--window-size=1920,1080&quot;);\r\n            options.addArguments(&quot;--disable-gpu&quot;);\r\n            options.addArguments(&quot;--disable-extensions&quot;);\r\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n            options.addArguments(&quot;--proxy-server=&#39;direct://&#39;&quot;);\r\n            options.addArguments(&quot;--proxy-bypass-list=*&quot;);\r\n            options.addArguments(&quot;--start-maximized&quot;);\r\n            options.addArguments(&quot;--headless&quot;);\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/usr/bin/chromedriver&quot;);\r\n            driver = new ChromeDriver(options);\r\n\r\n7- The errors I am getting \r\n[![enter image description here][1]][1]  \r\n \r\n [![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nand at the end another error\r\n\r\n     Expected condition failed: waiting for visibility of element located by By.id: username (tried for 60 second(s) with 500 milliseconds interval)(..)\r\n\r\nI am using explicit wait in locating the elements \r\n\r\n     wait = new WebDriverWait(driver, Duration.ofSeconds(60));\r\n\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;username&quot;))).sendKeys(Const.user);\r\n\r\n\r\nbut still not working. \r\n\r\nEdit:\r\nThis is the complete error at the end of test execution.\r\n[![enter image description here][4]][4]\r\nIt fails at CBLogin because it&#39;s not finding the username element.\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7lleK.png\r\n  [2]: https://i.stack.imgur.com/Vtmys.png\r\n  [3]: https://i.stack.imgur.com/ArSYe.png\r\n  [4]: https://i.stack.imgur.com/kw51r.png","title":"Java maven selenium not working in a docker container","body":"<p>I am new with docker containers and testing and have no idea how to solve this, been having a hard time these days. My tests are working in windows but when I create the docker container, my tests are not working, so I want to run a maven project in a docker container. The thing is I have been solving a lot of errors but still lots of them.\nBefore I start, I use openstax/selenium-chrome image with java, maven,chromedriver already installed and JAVA_HOME already set. Java version is 17 on the container and the project has 1.8.</p>\n<blockquote>\n<p>Chromedriver version is ChromeDriver 88.0.4324.96</p>\n<p>Google-chrome version is Google Chrome 88.0.4324.96</p>\n</blockquote>\n<p>1- I create the docker container from the image I already created with everything installed passing the maven project inside.</p>\n<pre><code>docker run -it -d -v C:\\Users\\user\\Projects\\TestAutomation:/app --name=testsel maven-selenium/selenium\n</code></pre>\n<p>2- I enter with the user</p>\n<pre><code>docker exec -it testsel /bin/bash\n</code></pre>\n<p>3- I switch to the directory that I have the mvn project</p>\n<p>4- I execute the maven project with mvn test\n5- this is my pom.xml</p>\n<pre><code> &lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.10.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.8&lt;/source&gt;\n      &lt;target&gt;17&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.12.4&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;includes&gt;\n        &lt;include&gt;org/nameofproject/tests/Test.java&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n  \n<p>6- Setting chrome options for linux</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--window-size=1920,1080&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n        options.addArguments(&quot;--disable-extensions&quot;);\n        options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n        options.addArguments(&quot;--proxy-server='direct://'&quot;);\n        options.addArguments(&quot;--proxy-bypass-list=*&quot;);\n        options.addArguments(&quot;--start-maximized&quot;);\n        options.addArguments(&quot;--headless&quot;);\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/usr/bin/chromedriver&quot;);\n        driver = new ChromeDriver(options);\n</code></pre>\n<p>7- The errors I am getting\n<a href=\"https://i.stack.imgur.com/7lleK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lleK.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Vtmys.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vtmys.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ArSYe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ArSYe.png\" alt=\"enter image description here\" /></a></p>\n<p>and at the end another error</p>\n<pre><code> Expected condition failed: waiting for visibility of element located by By.id: username (tried for 60 second(s) with 500 milliseconds interval)(..)\n</code></pre>\n<p>I am using explicit wait in locating the elements</p>\n<pre><code> wait = new WebDriverWait(driver, Duration.ofSeconds(60));\n\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;username&quot;))).sendKeys(Const.user);\n</code></pre>\n<p>but still not working.</p>\n<p>Edit:\nThis is the complete error at the end of test execution.\n<a href=\"https://i.stack.imgur.com/kw51r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kw51r.png\" alt=\"enter image description here\" /></a>\nIt fails at CBLogin because it's not finding the username element.</p>\n"},{"tags":["java","postgresql","enums","integration-testing","dbunit"],"comments":[{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":0,"creation_date":1467014615,"post_id":37989786,"comment_id":63536623,"body_markdown":"Does your dataset `badges` contain a column `TRACK_TYPES`?","body":"Does your dataset <code>badges</code> contain a column <code>TRACK_TYPES</code>?"},{"owner":{"account_id":1555458,"reputation":3321,"user_id":1446725,"accept_rate":30,"display_name":"Ivan Ursul"},"score":0,"creation_date":1467015100,"post_id":37989786,"comment_id":63536867,"body_markdown":"Can you send me your source code ? I&#39;ll try to dig into it.","body":"Can you send me your source code ? I&#39;ll try to dig into it."},{"owner":{"account_id":281995,"reputation":158,"user_id":578632,"accept_rate":86,"display_name":"alfizqu"},"score":0,"creation_date":1467038268,"post_id":37989786,"comment_id":63552148,"body_markdown":"@KevinWallis I just updated the question so you can see the dataset row. Yes, it contains that column, but it&#39;s ignored as the error states.","body":"@KevinWallis I just updated the question so you can see the dataset row. Yes, it contains that column, but it&#39;s ignored as the error states."},{"owner":{"account_id":281995,"reputation":158,"user_id":578632,"accept_rate":86,"display_name":"alfizqu"},"score":0,"creation_date":1467038357,"post_id":37989786,"comment_id":63552194,"body_markdown":"@IvanUrsul What do you need exactly? That&#39;s the source code involved in the problem, I have no problem in sharing it, but just let me know the part you need so I don&#39;t make the question so big. Thanks a lot!","body":"@IvanUrsul What do you need exactly? That&#39;s the source code involved in the problem, I have no problem in sharing it, but just let me know the part you need so I don&#39;t make the question so big. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":6004627,"reputation":301,"user_id":4716937,"display_name":"Irazza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467019989,"creation_date":1467019989,"answer_id":38050420,"question_id":37989786,"body_markdown":"Try to persist the enum with its value \r\n \r\n\r\n    enum.values();\r\nit return an array than you save this element","title":"DBUnit PostgresqlDataTypeFactory does not recognizes enum list","body":"<p>Try to persist the enum with its value </p>\n\n<pre><code>enum.values();\n</code></pre>\n\n<p>it return an array than you save this element</p>\n"},{"tags":[],"owner":{"account_id":281995,"reputation":158,"user_id":578632,"accept_rate":86,"display_name":"alfizqu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1467802486,"creation_date":1467802486,"answer_id":38222300,"question_id":37989786,"body_markdown":"Well... I wasn&#39;t able to solve this exactly but managed to solve it by a workaround.\r\n\r\nThis error comes because of the @DatabaseSetup annotation. If I did this process without using it, it still throws a &#39;column not recognized&#39; error, because it doesn&#39;t recognize postgres arrays (that was the root cause that I have) but I could solve it by creating a new DataTypeFactory that extends from the default one:\r\n\r\n    public class PsqlArrayDataTypeFactory extends DefaultDataTypeFactory {\r\n            public DataType createDataType(int sqlType, String sqlTypeName) throws DataTypeException {\r\n                if (sqlType == Types.ARRAY)\r\n                {\r\n                    return DataType.VARCHAR;\r\n                }\r\n        \r\n                return super.createDataType(sqlType, sqlTypeName);\r\n            }\r\n        }","title":"DBUnit PostgresqlDataTypeFactory does not recognizes enum list","body":"<p>Well... I wasn't able to solve this exactly but managed to solve it by a workaround.</p>\n\n<p>This error comes because of the @DatabaseSetup annotation. If I did this process without using it, it still throws a 'column not recognized' error, because it doesn't recognize postgres arrays (that was the root cause that I have) but I could solve it by creating a new DataTypeFactory that extends from the default one:</p>\n\n<pre><code>public class PsqlArrayDataTypeFactory extends DefaultDataTypeFactory {\n        public DataType createDataType(int sqlType, String sqlTypeName) throws DataTypeException {\n            if (sqlType == Types.ARRAY)\n            {\n                return DataType.VARCHAR;\n            }\n\n            return super.createDataType(sqlType, sqlTypeName);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1305468,"reputation":446,"user_id":1254552,"display_name":"Yaroslav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481710625,"creation_date":1481710625,"answer_id":41140024,"question_id":37989786,"body_markdown":"There is limited support for postgresql enums because only reading and writing strings is supported since dbunit 2.4.6. To do so you have to override the method &quot;isEnumType&quot; in the PostgresqlDataTypeFactory like this: \r\n\r\n    PostgresqlDataTypeFactory factory = new PostgresqlDataTypeFactory(){\r\n      public boolean isEnumType(String sqlTypeName) {\r\n        if(sqlTypeName.equalsIgnoreCase(&quot;abc_enum&quot;)){\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    }; ","title":"DBUnit PostgresqlDataTypeFactory does not recognizes enum list","body":"<p>There is limited support for postgresql enums because only reading and writing strings is supported since dbunit 2.4.6. To do so you have to override the method \"isEnumType\" in the PostgresqlDataTypeFactory like this: </p>\n\n<pre><code>PostgresqlDataTypeFactory factory = new PostgresqlDataTypeFactory(){\n  public boolean isEnumType(String sqlTypeName) {\n    if(sqlTypeName.equalsIgnoreCase(\"abc_enum\")){\n      return true;\n    }\n    return false;\n  }\n}; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1037589,"reputation":3772,"user_id":1160933,"display_name":"dlopatin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504893928,"creation_date":1504893928,"answer_id":46122266,"question_id":37989786,"body_markdown":"I had next error:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;status&quot; is of type topic_status but expression is of type character varying\r\n      Hint: You will need to rewrite or cast the expression.\r\n\r\n`DbUnit` requests meta for table and receives a type `VARCHAR` for enums from PostgreSQL. But PostgreSQL won&#39;t accept this type back.\r\n\r\nI overrode methods from `PostgresqlDataTypeFactory` in next way:\r\n\r\n    config.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, \r\n        new PostgresqlDataTypeFactory() {\r\n            @Override\r\n            public boolean isEnumType(String sqlTypeName) {\r\n                return &quot;topic_status&quot;.equalsIgnoreCase(sqlTypeName);\r\n            }\r\n        \r\n            @Override\r\n            public DataType createDataType(int sqlType, String sqlTypeName) throws DataTypeException {\r\n                if (isEnumType(sqlTypeName)) {\r\n                    sqlType = Types.OTHER;\r\n                }\r\n                return super.createDataType(sqlType, sqlTypeName);\r\n            }\r\n        });\r\n    );\r\n\r\nThis sets type for enum as `OTHER` and parent method `super.createDataType(sqlType, sqlTypeName)` creates `DataType` in proper way.\r\n\r\nPostgreSQL version: 9.6.5  \r\nDbUnit version: 2.5.4\r\n\r\nMore information could be found on [discussion][1].\r\n\r\n\r\n  [1]: http://www.postgresql-archive.org/sql-type-reported-for-enum-td5862561.html","title":"DBUnit PostgresqlDataTypeFactory does not recognizes enum list","body":"<p>I had next error:</p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: column \"status\" is of type topic_status but expression is of type character varying\n  Hint: You will need to rewrite or cast the expression.\n</code></pre>\n\n<p><code>DbUnit</code> requests meta for table and receives a type <code>VARCHAR</code> for enums from PostgreSQL. But PostgreSQL won't accept this type back.</p>\n\n<p>I overrode methods from <code>PostgresqlDataTypeFactory</code> in next way:</p>\n\n<pre><code>config.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, \n    new PostgresqlDataTypeFactory() {\n        @Override\n        public boolean isEnumType(String sqlTypeName) {\n            return \"topic_status\".equalsIgnoreCase(sqlTypeName);\n        }\n\n        @Override\n        public DataType createDataType(int sqlType, String sqlTypeName) throws DataTypeException {\n            if (isEnumType(sqlTypeName)) {\n                sqlType = Types.OTHER;\n            }\n            return super.createDataType(sqlType, sqlTypeName);\n        }\n    });\n);\n</code></pre>\n\n<p>This sets type for enum as <code>OTHER</code> and parent method <code>super.createDataType(sqlType, sqlTypeName)</code> creates <code>DataType</code> in proper way.</p>\n\n<p>PostgreSQL version: 9.6.5<br>\nDbUnit version: 2.5.4</p>\n\n<p>More information could be found on <a href=\"http://www.postgresql-archive.org/sql-type-reported-for-enum-td5862561.html\" rel=\"nofollow noreferrer\">discussion</a>.</p>\n"}],"owner":{"account_id":281995,"reputation":158,"user_id":578632,"accept_rate":86,"display_name":"alfizqu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2148,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38222300,"answer_count":4,"score":9,"last_activity_date":1663846752,"creation_date":1466679829,"question_id":37989786,"body_markdown":"I&#39;m using DBUnit for an integration test, and before executing the test code I&#39;m running into this error:\r\n\r\n    badges.track_types data type (2003, &#39;_text&#39;) not recognized and will be ignored. See FAQ for more information.\r\n    \r\n    org.dbunit.dataset.NoSuchColumnException: badges.TRACK_TYPES -  (Non-uppercase input column: track_types) in ColumnNameToIndexes cache map. Note that the map&#39;s column names are NOT case sensitive.\r\n\r\nthe column that is ignored is a list of enums.\r\nIn the dataset it&#39;s written like this : \r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;dataset&gt;\r\n      // More info ...\r\n      &lt;badges name=&quot;30&amp;apos;000&quot; description=&quot;30k a day&quot; image_name=&quot;30000.png&quot; threshold_val=&quot;30000.00000000&quot; has_many=&quot;true&quot; id=&quot;45&quot; track_types=&quot;{TRACK_GENERIC}&quot; &quot;/&gt; \r\n    &lt;/dataset&gt; \r\n\r\nI looked in the DBUnit FAQ and saw [this issue][1] , that says that I have to override the isEnumType() method to support my enum is Postgresql, so I did this:\r\n\r\n    /**\r\n     * Override method to set custom properties/features\r\n     */\r\n    protected void setUpDatabaseConfig(DatabaseConfig config) {\r\n\r\n        config.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, new PostgresqlDataTypeFactory(){\r\n            public boolean isEnumType(String sqlTypeName) {\r\n                if(sqlTypeName.equalsIgnoreCase(&quot;track_types&quot;)){\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        config.setProperty(DatabaseConfig.PROPERTY_METADATA_HANDLER, new DefaultMetadataHandler());\r\n    }\r\n\r\nBut I still get the same error, and I don&#39;t know why. Maybe I&#39;m not overriding well the method? Maybe it&#39;s not even the cause of my problem?\r\nIf you need any other code just ask, thanks!\r\n\r\n  [1]: http://dbunit.sourceforge.net/dbunit/faq.html#postgresqlEnumTypes","title":"DBUnit PostgresqlDataTypeFactory does not recognizes enum list","body":"<p>I'm using DBUnit for an integration test, and before executing the test code I'm running into this error:</p>\n<pre><code>badges.track_types data type (2003, '_text') not recognized and will be ignored. See FAQ for more information.\n\norg.dbunit.dataset.NoSuchColumnException: badges.TRACK_TYPES -  (Non-uppercase input column: track_types) in ColumnNameToIndexes cache map. Note that the map's column names are NOT case sensitive.\n</code></pre>\n<p>the column that is ignored is a list of enums.\nIn the dataset it's written like this :</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;dataset&gt;\n  // More info ...\n  &lt;badges name=&quot;30&amp;apos;000&quot; description=&quot;30k a day&quot; image_name=&quot;30000.png&quot; threshold_val=&quot;30000.00000000&quot; has_many=&quot;true&quot; id=&quot;45&quot; track_types=&quot;{TRACK_GENERIC}&quot; &quot;/&gt; \n&lt;/dataset&gt; \n</code></pre>\n<p>I looked in the DBUnit FAQ and saw <a href=\"http://dbunit.sourceforge.net/dbunit/faq.html#postgresqlEnumTypes\" rel=\"nofollow noreferrer\">this issue</a> , that says that I have to override the isEnumType() method to support my enum is Postgresql, so I did this:</p>\n<pre><code>/**\n * Override method to set custom properties/features\n */\nprotected void setUpDatabaseConfig(DatabaseConfig config) {\n\n    config.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, new PostgresqlDataTypeFactory(){\n        public boolean isEnumType(String sqlTypeName) {\n            if(sqlTypeName.equalsIgnoreCase(&quot;track_types&quot;)){\n                return true;\n            }\n            return false;\n        }\n    });\n    config.setProperty(DatabaseConfig.PROPERTY_METADATA_HANDLER, new DefaultMetadataHandler());\n}\n</code></pre>\n<p>But I still get the same error, and I don't know why. Maybe I'm not overriding well the method? Maybe it's not even the cause of my problem?\nIf you need any other code just ask, thanks!</p>\n"},{"tags":["java","css","styles","vaadin7"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":2,"creation_date":1663847857,"post_id":73813949,"comment_id":130338464,"body_markdown":"It has been a while, so I do not remember whether the `.v-table-cell-content` is a `div` wrapped in table cell or the cell itself. But if it is a div inside the cell, you need to add probably `width: 100%`, so that the div occupies the whole cell and you actually see the text right aligned. You can inspect this easily with Chrome dev tools.","body":"It has been a while, so I do not remember whether the <code>.v-table-cell-content</code> is a <code>div</code> wrapped in table cell or the cell itself. But if it is a div inside the cell, you need to add probably <code>width: 100%</code>, so that the div occupies the whole cell and you actually see the text right aligned. You can inspect this easily with Chrome dev tools."},{"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"score":0,"creation_date":1663927736,"post_id":73813949,"comment_id":130359618,"body_markdown":"It could make sense. Thanks for help. After tests, i will write if it helped. Regards","body":"It could make sense. Thanks for help. After tests, i will write if it helped. Regards"},{"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"score":0,"creation_date":1663932118,"post_id":73813949,"comment_id":130360971,"body_markdown":"In chrome i see style names like:\n\n[enter image description here][1]\n\n\n  [1]: https://i.stack.imgur.com/9yxFe.png\n\n\nIn css i have style:\n```\n.v-table-cell-content-wrapper {\n        width: 100%;\n        text-align: right;\n        font-weight: bold;\n   }\n   \n   .v-table-cell-wrapper {\n        width: 100%;\n        text-align: right;\n        font-weight: bold;\n   }\n```\n\nTo my style generator i add:\n\n```\n    public String getStyle(Table source, Object itemId, Object propertyId) {\n           return &quot;wrapper&quot;;\n    }\n```\n\nI see bold rows, but still not allign right.","body":"In chrome i see style names like:  [enter image description here][1]     [1]: <a href=\"https://i.stack.imgur.com/9yxFe.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/9yxFe.png</a>   In css i have style: ``` .v-table-cell-content-wrapper {         width: 100%;         text-align: right;         font-weight: bold;    }        .v-table-cell-wrapper {         width: 100%;         text-align: right;         font-weight: bold;    } ```  To my style generator i add:  ```     public String getStyle(Table source, Object itemId, Object propertyId) {            return &quot;wrapper&quot;;     } ```  I see bold rows, but still not allign right."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1663938165,"post_id":73813949,"comment_id":130363153,"body_markdown":"Yes, it looks to me that you should set the style to `.v-table-cell-wrapper` instead.","body":"Yes, it looks to me that you should set the style to <code>.v-table-cell-wrapper</code> instead."}],"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663846674,"creation_date":1663846674,"question_id":73813949,"body_markdown":"i have problem to set aligment right in rows in table.\r\n\r\nI need to keep aligment left in all headers. But i want aligment right only in specific columns. In rows not in headers. \r\n\r\nAll elements in table are String.\r\n\r\nI know there is method:\r\n\r\n```\r\ntable.setColumnAlignment(&quot;Address&quot;, Table.Align.RIGHT);\r\n```\r\n\r\nBut it makes headers and rows aligment right. I need to keep headers aligment left.\r\n\r\n```\r\ntable.addContainerProperty(&quot;Name&quot;, String.class, null);\r\n\r\ntable.addContainerProperty(&quot;Age&quot;, String.class, null);\r\n\r\ntable.addContainerProperty(&quot;Address&quot;, String.class, null);\r\n```\r\nI try resolve my problem by css.\r\n```\r\ntable.setCellStyleGenerator(new Table.CellStyleGenerator() {\r\n    @Override\r\n    public String getStyle(Table source, Object itemId, Object propertyId) {\r\n           return &quot;numeric&quot;;\r\n    }\r\n});\r\n```\r\n\r\nAnd my style in CSS is:\r\n```\r\n .v-table-cell-content-numeric {\r\n        text-align: right;\r\n   }\r\n```\r\n\r\nBut it dont work.\r\n\r\nAny advice? \r\n\r\nRegards\r\n","title":"Vaadin 7 - Table, how to set right aligment in rows","body":"<p>i have problem to set aligment right in rows in table.</p>\n<p>I need to keep aligment left in all headers. But i want aligment right only in specific columns. In rows not in headers.</p>\n<p>All elements in table are String.</p>\n<p>I know there is method:</p>\n<pre><code>table.setColumnAlignment(&quot;Address&quot;, Table.Align.RIGHT);\n</code></pre>\n<p>But it makes headers and rows aligment right. I need to keep headers aligment left.</p>\n<pre><code>table.addContainerProperty(&quot;Name&quot;, String.class, null);\n\ntable.addContainerProperty(&quot;Age&quot;, String.class, null);\n\ntable.addContainerProperty(&quot;Address&quot;, String.class, null);\n</code></pre>\n<p>I try resolve my problem by css.</p>\n<pre><code>table.setCellStyleGenerator(new Table.CellStyleGenerator() {\n    @Override\n    public String getStyle(Table source, Object itemId, Object propertyId) {\n           return &quot;numeric&quot;;\n    }\n});\n</code></pre>\n<p>And my style in CSS is:</p>\n<pre><code> .v-table-cell-content-numeric {\n        text-align: right;\n   }\n</code></pre>\n<p>But it dont work.</p>\n<p>Any advice?</p>\n<p>Regards</p>\n"},{"tags":["java","sorting","collections","java-8","comparator"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1663773046,"post_id":73803054,"comment_id":130319136,"body_markdown":"You need to parse out the numeric part *as* a number and use that for comparison with a custom ```Comparator```","body":"You need to parse out the numeric part <i>as</i> a number and use that for comparison with a custom <code>Comparator</code>"},{"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"score":0,"creation_date":1663773840,"post_id":73803054,"comment_id":130319465,"body_markdown":"@g00se But the number is the part of the string which also contains alpha characters. How would I parse it?","body":"@g00se But the number is the part of the string which also contains alpha characters. How would I parse it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663774307,"post_id":73803054,"comment_id":130319677,"body_markdown":"Something like ```Integer.parseInt(s.replaceAll(\\\\&quot;D&quot;,&quot;&quot;))```","body":"Something like <code>Integer.parseInt(s.replaceAll(\\\\&quot;D&quot;,&quot;&quot;))</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663787413,"creation_date":1663774268,"answer_id":73803424,"question_id":73803054,"body_markdown":"Assuming that all the valid values of the property `rollNo` have the format `&quot;PREFIX-DIGITS&quot;`, i.e. it starts from an *optional prefix*, containing non-digit characters followed by a dash, and end with a mandatory numeric part, you construct a following *comparator*, which deals with *numeric* and *non-numeric* parts separately.\r\n\r\n```\r\nComparator&lt;AreaModel&gt; lastThenFirst =\r\n    Comparator.comparing(AreaModel::getPinCode)\r\n        .thenComparing(Comparator\r\n            .&lt;AreaModel, String&gt;comparing(area -&gt; area.getRollNo().replaceAll(&quot;\\\\d&quot;, &quot;&quot;), Comparator.reverseOrder())\r\n            .thenComparing(area -&gt; Integer.parseInt(area.getRollNo().replaceAll(&quot;\\\\D&quot;,&quot;&quot;)), Comparator.reverseOrder())\r\n        );\r\n```\r\n\r\n**Note** that when there are several instances of `AreaModel` having the same `pinCode` and one of them has no non-numeric part in its `rollNo` value, then this instance would be the last after sorting (*in a group having identical pin code*). If the opposite behavior is required, you can check this case separately by adding one more comparator to the chain:\r\n\r\n```\r\nComparator&lt;AreaModel&gt; lastThenFirst =\r\n    Comparator.comparing(AreaModel::getPinCode)\r\n        .thenComparing(\r\n            Comparator.&lt;AreaModel, Boolean&gt;comparing(area -&gt; area.getRollNo().matches(&quot;\\\\d&quot;))\r\n                .thenComparing(area -&gt; area.getRollNo().replaceAll(&quot;\\\\d&quot;, &quot;&quot;), Comparator.reverseOrder())\r\n                .thenComparing(area -&gt; Integer.parseInt(area.getRollNo().replaceAll(&quot;\\\\D&quot;, &quot;&quot;)), Comparator.reverseOrder())\r\n        );\r\n```","title":"How to sort strings where a string contains alpha numeric characters like ROLL-10 &gt; ROLL-2","body":"<p>Assuming that all the valid values of the property <code>rollNo</code> have the format <code>&quot;PREFIX-DIGITS&quot;</code>, i.e. it starts from an <em>optional prefix</em>, containing non-digit characters followed by a dash, and end with a mandatory numeric part, you construct a following <em>comparator</em>, which deals with <em>numeric</em> and <em>non-numeric</em> parts separately.</p>\n<pre><code>Comparator&lt;AreaModel&gt; lastThenFirst =\n    Comparator.comparing(AreaModel::getPinCode)\n        .thenComparing(Comparator\n            .&lt;AreaModel, String&gt;comparing(area -&gt; area.getRollNo().replaceAll(&quot;\\\\d&quot;, &quot;&quot;), Comparator.reverseOrder())\n            .thenComparing(area -&gt; Integer.parseInt(area.getRollNo().replaceAll(&quot;\\\\D&quot;,&quot;&quot;)), Comparator.reverseOrder())\n        );\n</code></pre>\n<p><strong>Note</strong> that when there are several instances of <code>AreaModel</code> having the same <code>pinCode</code> and one of them has no non-numeric part in its <code>rollNo</code> value, then this instance would be the last after sorting (<em>in a group having identical pin code</em>). If the opposite behavior is required, you can check this case separately by adding one more comparator to the chain:</p>\n<pre><code>Comparator&lt;AreaModel&gt; lastThenFirst =\n    Comparator.comparing(AreaModel::getPinCode)\n        .thenComparing(\n            Comparator.&lt;AreaModel, Boolean&gt;comparing(area -&gt; area.getRollNo().matches(&quot;\\\\d&quot;))\n                .thenComparing(area -&gt; area.getRollNo().replaceAll(&quot;\\\\d&quot;, &quot;&quot;), Comparator.reverseOrder())\n                .thenComparing(area -&gt; Integer.parseInt(area.getRollNo().replaceAll(&quot;\\\\D&quot;, &quot;&quot;)), Comparator.reverseOrder())\n        );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846369,"creation_date":1663846369,"answer_id":73813876,"question_id":73803054,"body_markdown":"As @g00se mentioned, the integer value in role should be parsed and used in the comparator.\r\n\r\nAlso, `ToLongFunction` could be used to handle `pinCode` and default `List::sort` should be used to sort current list.\r\n```java\r\nToLongFunction&lt;AreaModel&gt; pinCode = AreaModel::getPinCode;\r\nToIntFunction&lt;AreaModel&gt; roleToInt = am -&gt; Integer.parseInt(am.getRollNo().replaceAll(&quot;\\\\D&quot;, &quot;&quot;));\r\nComparator&lt;AreaModel&gt; byRoleDesc = Comparator.comparingInt(roleToInt).reversed();\r\n\r\n// sort area by pincode, then by role\r\nComparator&lt;AreaModel&gt; byPinAndReversedRole = Comparator\r\n        .comparingLong(pinCode)\r\n        .thenComparing(byRoleDesc);\r\n\r\nlist.sort(byPinAndReversedRole);\r\n// -&gt; [[535005 70], [535005 ROLE-45], [535005 13], [535005 ROLE-10], [535005 2], [535006 100], [535007 30]]\r\n```","title":"How to sort strings where a string contains alpha numeric characters like ROLL-10 &gt; ROLL-2","body":"<p>As @g00se mentioned, the integer value in role should be parsed and used in the comparator.</p>\n<p>Also, <code>ToLongFunction</code> could be used to handle <code>pinCode</code> and default <code>List::sort</code> should be used to sort current list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ToLongFunction&lt;AreaModel&gt; pinCode = AreaModel::getPinCode;\nToIntFunction&lt;AreaModel&gt; roleToInt = am -&gt; Integer.parseInt(am.getRollNo().replaceAll(&quot;\\\\D&quot;, &quot;&quot;));\nComparator&lt;AreaModel&gt; byRoleDesc = Comparator.comparingInt(roleToInt).reversed();\n\n// sort area by pincode, then by role\nComparator&lt;AreaModel&gt; byPinAndReversedRole = Comparator\n        .comparingLong(pinCode)\n        .thenComparing(byRoleDesc);\n\nlist.sort(byPinAndReversedRole);\n// -&gt; [[535005 70], [535005 ROLE-45], [535005 13], [535005 ROLE-10], [535005 2], [535006 100], [535007 30]]\n</code></pre>\n"}],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1663846369,"creation_date":1663772616,"question_id":73803054,"body_markdown":"&lt;br&gt;\r\nI want to sort my custom object where it has two fields. 1) Pincode(Long) and 2) Roll(Alphanumeric).\r\nI wanted to sort Pincode as in natural ordering but when they are same, then I want to sort them by roll number in descending order. \r\n\r\nI&#39;m using Java 8 Comparators and I&#39;ve the following code. &lt;br&gt;\r\nModel:\r\n\r\n    public class AreaModel {\r\n\t\r\n\t   public long pinCode;\r\n\t   public String rollNo;\r\n\t\r\n\t   public AreaModel(long pinCode, String rollNo) {\r\n\t\t  super();\r\n\t\t  this.pinCode = pinCode;\r\n\t\t  this.rollNo = rollNo;\r\n\t   }\r\n\t   public long getPinCode() {\r\n\t\t return pinCode;\r\n\t   }\r\n\t   public void setPinCode(long pinCode) {\r\n\t\t  this.pinCode = pinCode;\r\n\t   }\r\n\t   public String getRollNo() {\r\n\t\t return rollNo;\r\n\t   }\r\n\t   public void setRollNo(String rollNo) {\r\n\t\t  this.rollNo = rollNo;\r\n\t   }\r\n\t\r\n\t   @Override\r\n\t   public String toString() {\r\n\t\t  return &quot;[&quot;+pinCode+&quot; &quot;+rollNo+&quot;]&quot;;\r\n\t   }\r\n    }\r\nMain:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    import com.javainuse.model.AreaModel;\r\n\r\n    public class MainClass {\r\n\t public static void main(String[] args) {\r\n\t\tList&lt;AreaModel&gt; list = new ArrayList&lt;AreaModel&gt;();\r\n\t\tlist.add(new AreaModel(535005, &quot;2&quot;));\r\n\t\tlist.add(new AreaModel(535006, &quot;100&quot;));\r\n\t\tlist.add(new AreaModel(535007, &quot;30&quot;));\r\n\t\tlist.add(new AreaModel(535005, &quot;ROLE-45&quot;));\r\n\t\tlist.add(new AreaModel(535005, &quot;ROLE-10&quot;));\r\n\t\tlist.add(new AreaModel(535005,&quot;13&quot;));\r\n\t\tlist.add(new AreaModel(535005,&quot;70&quot;));\r\n\t\t\r\n\t\tFunction&lt;AreaModel, Long&gt; retentionCodeSequence = AreaModel::getPinCode;\r\n\t\tFunction&lt;AreaModel, String&gt; retentionDuration = AreaModel::getRollNo;\r\n\r\n\t\t// sort area by pincode, then by role \r\n\t\tComparator&lt;AreaModel&gt; lastThenFirst = Comparator.comparing(retentionCodeSequence).thenComparing(retentionDuration,Comparator.reverseOrder());\r\n\r\n\t\tlist= list.stream().sorted(lastThenFirst).collect(Collectors.toList());\r\n\t\t\r\n\t\tSystem.out.println(&quot;***&quot;);\r\n\t\tSystem.out.println(list);\r\n\t\t\r\n\t}\r\n    }\r\n\r\nWith that, the output what I&#39;m getting is this&lt;br&gt;\r\n***\r\n**[[535005 ROLE-45], [535005 ROLE-10], [535005 70], [535005 2], [535005 13], [535006 100], [535007 30]]**\r\n\r\nAnd what I&#39;m expecting is the following&lt;br&gt;\r\n**[[535005 70], [535005 ROLE-45], [535005 13], [535005 ROLE-10], [535005 2], [535006 100], [535007 30]]**\r\n\r\n\r\nAs you can see, even though pincodes have been sorted, roles haven&#39;t. And a role can contain whole number as a string or a number which is suffixed to a text.\r\nHow do I resolve it?\r\n\r\nEdit: updated question with possible values in the string\r\n\r\n","title":"How to sort strings where a string contains alpha numeric characters like ROLL-10 &gt; ROLL-2","body":"<br>\nI want to sort my custom object where it has two fields. 1) Pincode(Long) and 2) Roll(Alphanumeric).\nI wanted to sort Pincode as in natural ordering but when they are same, then I want to sort them by roll number in descending order. \n<p>I'm using Java 8 Comparators and I've the following code. <br>\nModel:</p>\n<pre><code>public class AreaModel {\n\n   public long pinCode;\n   public String rollNo;\n\n   public AreaModel(long pinCode, String rollNo) {\n      super();\n      this.pinCode = pinCode;\n      this.rollNo = rollNo;\n   }\n   public long getPinCode() {\n     return pinCode;\n   }\n   public void setPinCode(long pinCode) {\n      this.pinCode = pinCode;\n   }\n   public String getRollNo() {\n     return rollNo;\n   }\n   public void setRollNo(String rollNo) {\n      this.rollNo = rollNo;\n   }\n\n   @Override\n   public String toString() {\n      return &quot;[&quot;+pinCode+&quot; &quot;+rollNo+&quot;]&quot;;\n   }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport com.javainuse.model.AreaModel;\n\npublic class MainClass {\n public static void main(String[] args) {\n    List&lt;AreaModel&gt; list = new ArrayList&lt;AreaModel&gt;();\n    list.add(new AreaModel(535005, &quot;2&quot;));\n    list.add(new AreaModel(535006, &quot;100&quot;));\n    list.add(new AreaModel(535007, &quot;30&quot;));\n    list.add(new AreaModel(535005, &quot;ROLE-45&quot;));\n    list.add(new AreaModel(535005, &quot;ROLE-10&quot;));\n    list.add(new AreaModel(535005,&quot;13&quot;));\n    list.add(new AreaModel(535005,&quot;70&quot;));\n    \n    Function&lt;AreaModel, Long&gt; retentionCodeSequence = AreaModel::getPinCode;\n    Function&lt;AreaModel, String&gt; retentionDuration = AreaModel::getRollNo;\n\n    // sort area by pincode, then by role \n    Comparator&lt;AreaModel&gt; lastThenFirst = Comparator.comparing(retentionCodeSequence).thenComparing(retentionDuration,Comparator.reverseOrder());\n\n    list= list.stream().sorted(lastThenFirst).collect(Collectors.toList());\n    \n    System.out.println(&quot;***&quot;);\n    System.out.println(list);\n    \n}\n}\n</code></pre>\n<p>With that, the output what I'm getting is this<br></p>\n<hr />\n<p><strong>[[535005 ROLE-45], [535005 ROLE-10], [535005 70], [535005 2], [535005 13], [535006 100], [535007 30]]</strong></p>\n<p>And what I'm expecting is the following<br>\n<strong>[[535005 70], [535005 ROLE-45], [535005 13], [535005 ROLE-10], [535005 2], [535006 100], [535007 30]]</strong></p>\n<p>As you can see, even though pincodes have been sorted, roles haven't. And a role can contain whole number as a string or a number which is suffixed to a text.\nHow do I resolve it?</p>\n<p>Edit: updated question with possible values in the string</p>\n"},{"tags":["java","apache-kafka","scaling"],"comments":[{"owner":{"account_id":175700,"reputation":167,"user_id":405889,"display_name":"themoah"},"score":0,"creation_date":1663831405,"post_id":73810153,"comment_id":130332597,"body_markdown":"Well, I&#39;m sorry to say it this way - but are you sure that Kafka is right tool for your job? Generally it&#39;s applied in architectures where the scale is way bigger than 300 per minute. In this cases Kafka is cost effective. \nMaybe some simpler choices like SQS/RabbitMQ/NSQ is the right tool? They will also hold 10x of your current scale.","body":"Well, I&#39;m sorry to say it this way - but are you sure that Kafka is right tool for your job? Generally it&#39;s applied in architectures where the scale is way bigger than 300 per minute. In this cases Kafka is cost effective.  Maybe some simpler choices like SQS/RabbitMQ/NSQ is the right tool? They will also hold 10x of your current scale."},{"owner":{"account_id":1536460,"reputation":301,"user_id":1432380,"accept_rate":0,"display_name":"anand"},"score":0,"creation_date":1663834242,"post_id":73810153,"comment_id":130333516,"body_markdown":"I understand. And yes, with kafka, we can handle billions of messages in a day. We were using Amazon SNS before for this. We are migrating this to kafka as part of a bigger initiative. The problem is, using kafka, I am at a place where we cant handle even 300 per minute and I really want to understand how kafka can be scaled for such usecases.","body":"I understand. And yes, with kafka, we can handle billions of messages in a day. We were using Amazon SNS before for this. We are migrating this to kafka as part of a bigger initiative. The problem is, using kafka, I am at a place where we cant handle even 300 per minute and I really want to understand how kafka can be scaled for such usecases."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663855596,"post_id":73810153,"comment_id":130341682,"body_markdown":"Why are you only polling 2 records, and waiting up to 1 second for only those 2? The default poll amount is 500 records. Also, do you really need 10 pods vs multi-thread your consumers? e.g. 2 consumers in 5 pods, or 5 threads and 2 pods - that&#39;ll address your utilization issues","body":"Why are you only polling 2 records, and waiting up to 1 second for only those 2? The default poll amount is 500 records. Also, do you really need 10 pods vs multi-thread your consumers? e.g. 2 consumers in 5 pods, or 5 threads and 2 pods - that&#39;ll address your utilization issues"},{"owner":{"account_id":1536460,"reputation":301,"user_id":1432380,"accept_rate":0,"display_name":"anand"},"score":0,"creation_date":1663907231,"post_id":73810153,"comment_id":130354057,"body_markdown":"The problem with polling more records is that max.poll.interval.ms has a default value of 5 minutes. If a consumer polls 100 records, it will take 20*100 s (~33 mins) to process them before which the group will rebalance. Hence kept the poll size less.\n\nEven if we run multiple consumers in a pod, it will solve utilization issue, but it wont solve for the consumer lag that keeps building.","body":"The problem with polling more records is that max.poll.interval.ms has a default value of 5 minutes. If a consumer polls 100 records, it will take 20*100 s (~33 mins) to process them before which the group will rebalance. Hence kept the poll size less.  Even if we run multiple consumers in a pod, it will solve utilization issue, but it wont solve for the consumer lag that keeps building."}],"answers":[{"tags":[],"owner":{"account_id":175700,"reputation":167,"user_id":405889,"display_name":"themoah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846218,"creation_date":1663846218,"answer_id":73813838,"question_id":73810153,"body_markdown":"I&#39;d rather suggest &quot;semi-lambda&quot; architecture approach. If you are already running on k8s, use openfaas/knative to decouple handling of these messages:\r\n\r\n 1. First service that consumes messages, verifies them and spins up lambdas to handle those.\r\n2. Actually lambdas, managed by openfaas or etc, this is classic use case when handling of message is higher than 500ms and not more than couple minutes. When this lambda finishes handling it will return response to first service. If it&#39;s okay - commit the offset, if not - also commit, but re-send to the dead queue. ","title":"How to scale kafka message consumption when consumers create bottleneck (high message processing time)?","body":"<p>I'd rather suggest &quot;semi-lambda&quot; architecture approach. If you are already running on k8s, use openfaas/knative to decouple handling of these messages:</p>\n<ol>\n<li>First service that consumes messages, verifies them and spins up lambdas to handle those.</li>\n<li>Actually lambdas, managed by openfaas or etc, this is classic use case when handling of message is higher than 500ms and not more than couple minutes. When this lambda finishes handling it will return response to first service. If it's okay - commit the offset, if not - also commit, but re-send to the dead queue.</li>\n</ol>\n"}],"owner":{"account_id":1536460,"reputation":301,"user_id":1432380,"accept_rate":0,"display_name":"anand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663846218,"creation_date":1663827662,"question_id":73810153,"body_markdown":"We have a kafka sdk written over apache-kafka (2.7.0) that we use to produce and consume messages to kafka topics.\r\n\r\nBy default the configuration is like this -\r\n- Auto commit is set to false\r\n- We use commitSync() for offsets\r\n- poll frequency for consumers is 1000 ms\r\n- max.poll.records is set to 2\r\n- Consumers are single threaded and single consumer runs per instance/pod (we use EKS)\r\n\r\nNow, there is a ```order service``` that produces ```order-created``` message to order topic and it is consumed by another service that fulfils the order ```fulfil service```. The fulfilment logic takes on an average 20s to process this message (too high!).\r\n\r\nBecause of this even if we have 10 partitions in the topic and 10 application pods / consumers running (they all belong to same consumer group), we can only process 3 messages per minute per consumer (30 messages per minute overall). \r\n\r\nThe problem in rate of message production at peak is around 300 per minute. Even if we scale to 50 partitions with 50 consumers, we can only process 150 per minute. And even here, each consumer remains underutilized in terms of cpu and memory usage.\r\n\r\nBecause of this, over time, there is a huge build up in consumer lag.\r\n\r\nHow do we scale to solve this problem? We can&#39;t have 100s of underutilized consumers running as that is not cost effective. Please help with any pointers to solve this.\r\n\r\nPS. : We are looking into how to optimize the consumer that is taking 20s on average, but it will take time and we need a short term solution for this that is cost effective as well.","title":"How to scale kafka message consumption when consumers create bottleneck (high message processing time)?","body":"<p>We have a kafka sdk written over apache-kafka (2.7.0) that we use to produce and consume messages to kafka topics.</p>\n<p>By default the configuration is like this -</p>\n<ul>\n<li>Auto commit is set to false</li>\n<li>We use commitSync() for offsets</li>\n<li>poll frequency for consumers is 1000 ms</li>\n<li>max.poll.records is set to 2</li>\n<li>Consumers are single threaded and single consumer runs per instance/pod (we use EKS)</li>\n</ul>\n<p>Now, there is a <code>order service</code> that produces <code>order-created</code> message to order topic and it is consumed by another service that fulfils the order <code>fulfil service</code>. The fulfilment logic takes on an average 20s to process this message (too high!).</p>\n<p>Because of this even if we have 10 partitions in the topic and 10 application pods / consumers running (they all belong to same consumer group), we can only process 3 messages per minute per consumer (30 messages per minute overall).</p>\n<p>The problem in rate of message production at peak is around 300 per minute. Even if we scale to 50 partitions with 50 consumers, we can only process 150 per minute. And even here, each consumer remains underutilized in terms of cpu and memory usage.</p>\n<p>Because of this, over time, there is a huge build up in consumer lag.</p>\n<p>How do we scale to solve this problem? We can't have 100s of underutilized consumers running as that is not cost effective. Please help with any pointers to solve this.</p>\n<p>PS. : We are looking into how to optimize the consumer that is taking 20s on average, but it will take time and we need a short term solution for this that is cost effective as well.</p>\n"},{"tags":["java","elasticsearch","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663846037,"creation_date":1663846037,"answer_id":73813793,"question_id":73813684,"body_markdown":"You can always upgrade your client without upgrading the server so long as both are compatible with each other.\r\n\r\nLooks like 7.17.0 -&gt; 7.17.1 is a patch upgrade, it should not have any breaking changes.\r\n\r\nFrom the [documentation][1]\r\n\r\n\r\n&gt; The 7.0 client is able to communicate with any 7.x Elasticsearch node,\r\n&gt; while the 7.1 client is for sure able to communicate with 7.1, 7.2 and\r\n&gt; any later 7.x version, but there may be incompatibility issues when\r\n&gt; communicating with a previous Elasticsearch node version, for instance\r\n&gt; between 7.1 and 7.0, in case the 7.1 client supports new request body\r\n&gt; fields for some APIs that are not known by the 7.0 node(s).\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html","title":"How to update elastic search in spring boot without changing the elastic server","body":"<p>You can always upgrade your client without upgrading the server so long as both are compatible with each other.</p>\n<p>Looks like 7.17.0 -&gt; 7.17.1 is a patch upgrade, it should not have any breaking changes.</p>\n<p>From the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>The 7.0 client is able to communicate with any 7.x Elasticsearch node,\nwhile the 7.1 client is for sure able to communicate with 7.1, 7.2 and\nany later 7.x version, but there may be incompatibility issues when\ncommunicating with a previous Elasticsearch node version, for instance\nbetween 7.1 and 7.0, in case the 7.1 client supports new request body\nfields for some APIs that are not known by the 7.0 node(s).</p>\n</blockquote>\n"}],"owner":{"account_id":22976721,"reputation":37,"user_id":17104228,"display_name":"pradeep3009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663846037,"creation_date":1663845541,"question_id":73813684,"body_markdown":"I am using elastic search server 7.17.0 in my java project and i am using maven version for elastic as 7.17.0 but i found some security vulnerability in this version, so i want to update the maven version to 7.17.1 or higher but i can&#39;t upgrade elastic server. So is there a way to achieve this?\r\n\r\nAny help is highly appreciated.\r\n","title":"How to update elastic search in spring boot without changing the elastic server","body":"<p>I am using elastic search server 7.17.0 in my java project and i am using maven version for elastic as 7.17.0 but i found some security vulnerability in this version, so i want to update the maven version to 7.17.1 or higher but i can't upgrade elastic server. So is there a way to achieve this?</p>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1663836088,"post_id":73811679,"comment_id":130334172,"body_markdown":"you only `dismiss` that dialog `if (dataSnapshot.child(editPhone.getText().toString()).exists())`. Debug your application and see if that ever turns out to be `true`.","body":"you only <code>dismiss</code> that dialog <code>if (dataSnapshot.child(editPhone.getText().toString()).exists()&zwnj;&#8203;)</code>. Debug your application and see if that ever turns out to be <code>true</code>."},{"owner":{"account_id":25686286,"reputation":21,"user_id":19448324,"display_name":"Đo&#224;n Thanh Thảo"},"score":0,"creation_date":1663836488,"post_id":73811679,"comment_id":130334331,"body_markdown":"hmmm it not work for me.","body":"hmmm it not work for me."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1663837185,"post_id":73811679,"comment_id":130334622,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400** (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400</b> (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."}],"owner":{"account_id":25686286,"reputation":21,"user_id":19448324,"display_name":"Đo&#224;n Thanh Thảo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663845838,"creation_date":1663835960,"question_id":73811679,"body_markdown":"\r\nI&#39;m working with firebase and  i&#39;m trying to click the login button but the home page doesn&#39;t show up it just says &quot;please waiting!!!&quot; run forever like: \r\n[![enter image description here][1]][1]\r\n. I can&#39;t find a solution to fix it. Help me please.\r\nMy realtime Database:\r\nhttps://drive.google.com/file/d/1ckzM7NitXdPKGdIG6dbAv0IWhl1WgtZk/view?usp=sharing\r\n\r\nIn SignIn Class: \r\n```\r\npackage com.example.eatit_new;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport com.example.eatit_new.Common.Common;\r\nimport com.example.eatit_new.Model.User;\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.example.eatit_new.databinding.ActivitySignInBinding;\r\nimport com.google.firebase.auth.OAuthCredential;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.rengwuxian.materialedittext.MaterialEditText;\r\n\r\npublic class SignIn extends AppCompatActivity {\r\n    EditText editPhone, editPassword;\r\n    Button btnSignIn;\r\n@Override\r\n    protected void onCreate (Bundle saveInstanceState) {\r\n        super.onCreate(saveInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n\r\n\r\n        editPassword=(MaterialEditText)findViewById(R.id.editPassword);\r\n\r\n        editPhone= (MaterialEditText)findViewById(R.id.editPhone);\r\n        btnSignIn = (Button) findViewById(R.id.btnSignIn);\r\n\r\n        //init Database\r\n    final FirebaseDatabase database= FirebaseDatabase.getInstance();\r\n    final DatabaseReference table_user=database.getReference(&quot;User&quot;);\r\n\r\n    btnSignIn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n\r\n            final ProgressDialog mDialog = new ProgressDialog(SignIn.this);\r\n            mDialog.setMessage(&quot;Please waiting....&quot;);\r\n            mDialog.show();\r\n\r\n            table_user.addValueEventListener( new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    //Check if user not exist in database\r\n\r\n                    if (dataSnapshot.child(editPhone.getText().toString()).exists()) {\r\n\r\n                        //Get User Information\r\n                        mDialog.dismiss();\r\n                        User user = dataSnapshot.child(editPhone.getText().toString()).getValue(User.class);\r\n                        if (user.getPassword().equals(editPassword.getText().toString())) {\r\n\r\n                            Intent homeIntent= new Intent(SignIn.this,Home.class);\r\n                            Common.currentUser= user;\r\n                            startActivity(homeIntent);\r\n                            finish();\r\n                        } else {\r\n                            Toast.makeText(SignIn.this, &quot;Wrong password!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    } else {\r\n                        Toast.makeText(SignIn.this, &quot;User not exists!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                }\r\n            });\r\n        }\r\n    });\r\n    }\r\n}\r\n```\r\n\r\nError In Run: \r\n```\r\n\r\n \r\nW/Parcel: Expecting binder but got null!\r\nE/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 324)\r\nW/GmsClient: IGmsServiceBroker.getService failed\r\n    android.os.DeadObjectException: Transaction failed on small parcel; remote process probably died, but this could also be caused by running out of binder buffe\r\n        at android.os.BinderProxy.transactNative(Native Method)\r\n        at android.os.BinderProxy.transact(BinderProxy.java:584)\r\n        at com.google.android.gms.common.internal.zzac.getService(com.google.android.gms:play-services-basement@@18.1.0:8)\r\n        at com.google.android.gms.common.internal.BaseGmsClient.getRemoteService(com.google.android.gms:play-services-basement@@18.1.0:14)\r\n        at com.google.android.gms.common.internal.BaseGmsClient$LegacyClientCallbackAdapter.onReportServiceBinding(com.google.android.gms:play-services-basement@@18.1.0:2)\r\n        at com.google.android.gms.common.internal.zzg.zzd(com.google.android.gms:play-services-basement@@18.1.0:1)\r\n        at com.google.android.gms.common.internal.zza.zza(com.google.android.gms:play-services-basement@@18.1.0:4)\r\n        at com.google.android.gms.common.internal.zzc.zze(com.google.android.gms:play-services-basement@@18.1.0:3)\r\n        at com.google.android.gms.common.internal.zzb.handleMessage(com.google.android.gms:play-services-basement@@18.1.0:31)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7898)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\nD/FA: Service connection suspended\r\nV/FA: Recording user engagement, ms: 6704\r\nV/FA: onActivityCreated\r\nV/FA: Connection attempt already in progress\r\nV/FA: Connection attempt already in progress\r\nV/FA: Activity paused, time: 31916685\r\nD/AutofillManager: Fill dialog is enabled:false, hints=[]\r\nV/FA: Activity resumed, time: 31916803\r\nV/FA: Connection attempt already in progress\r\nV/FA: Connection attempt already in progress\r\nW/Parcel: Expecting binder but got null!\r\nD/TrafficStats: tagSocket(107) with statsTag=0xffffffff, statsUid=-1\r\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10157; state: ENABLED\r\nW/Parcel: Expecting binder but got null!\r\nD/EGL_emulation: app_time_stats: avg=30.81ms min=2.94ms max=450.90ms count=28\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/6zOD4.png","title":"E/JavaBinder: !!! FAILED BINDER TRANSACTION !!! (parcel size = 324)","body":"<p>I'm working with firebase and  i'm trying to click the login button but the home page doesn't show up it just says &quot;please waiting!!!&quot; run forever like:\n<a href=\"https://i.stack.imgur.com/6zOD4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zOD4.png\" alt=\"enter image description here\" /></a>\n. I can't find a solution to fix it. Help me please.\nMy realtime Database:\n<a href=\"https://drive.google.com/file/d/1ckzM7NitXdPKGdIG6dbAv0IWhl1WgtZk/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1ckzM7NitXdPKGdIG6dbAv0IWhl1WgtZk/view?usp=sharing</a></p>\n<p>In SignIn Class:</p>\n<pre><code>package com.example.eatit_new;\n\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport com.example.eatit_new.Common.Common;\nimport com.example.eatit_new.Model.User;\nimport com.google.android.material.snackbar.Snackbar;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport com.example.eatit_new.databinding.ActivitySignInBinding;\nimport com.google.firebase.auth.OAuthCredential;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.rengwuxian.materialedittext.MaterialEditText;\n\npublic class SignIn extends AppCompatActivity {\n    EditText editPhone, editPassword;\n    Button btnSignIn;\n@Override\n    protected void onCreate (Bundle saveInstanceState) {\n        super.onCreate(saveInstanceState);\n        setContentView(R.layout.activity_sign_in);\n\n\n        editPassword=(MaterialEditText)findViewById(R.id.editPassword);\n\n        editPhone= (MaterialEditText)findViewById(R.id.editPhone);\n        btnSignIn = (Button) findViewById(R.id.btnSignIn);\n\n        //init Database\n    final FirebaseDatabase database= FirebaseDatabase.getInstance();\n    final DatabaseReference table_user=database.getReference(&quot;User&quot;);\n\n    btnSignIn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            final ProgressDialog mDialog = new ProgressDialog(SignIn.this);\n            mDialog.setMessage(&quot;Please waiting....&quot;);\n            mDialog.show();\n\n            table_user.addValueEventListener( new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    //Check if user not exist in database\n\n                    if (dataSnapshot.child(editPhone.getText().toString()).exists()) {\n\n                        //Get User Information\n                        mDialog.dismiss();\n                        User user = dataSnapshot.child(editPhone.getText().toString()).getValue(User.class);\n                        if (user.getPassword().equals(editPassword.getText().toString())) {\n\n                            Intent homeIntent= new Intent(SignIn.this,Home.class);\n                            Common.currentUser= user;\n                            startActivity(homeIntent);\n                            finish();\n                        } else {\n                            Toast.makeText(SignIn.this, &quot;Wrong password!&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    } else {\n                        Toast.makeText(SignIn.this, &quot;User not exists!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                }\n            });\n        }\n    });\n    }\n}\n</code></pre>\n<p>Error In Run:</p>\n<pre><code>\n \nW/Parcel: Expecting binder but got null!\nE/JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 324)\nW/GmsClient: IGmsServiceBroker.getService failed\n    android.os.DeadObjectException: Transaction failed on small parcel; remote process probably died, but this could also be caused by running out of binder buffe\n        at android.os.BinderProxy.transactNative(Native Method)\n        at android.os.BinderProxy.transact(BinderProxy.java:584)\n        at com.google.android.gms.common.internal.zzac.getService(com.google.android.gms:play-services-basement@@18.1.0:8)\n        at com.google.android.gms.common.internal.BaseGmsClient.getRemoteService(com.google.android.gms:play-services-basement@@18.1.0:14)\n        at com.google.android.gms.common.internal.BaseGmsClient$LegacyClientCallbackAdapter.onReportServiceBinding(com.google.android.gms:play-services-basement@@18.1.0:2)\n        at com.google.android.gms.common.internal.zzg.zzd(com.google.android.gms:play-services-basement@@18.1.0:1)\n        at com.google.android.gms.common.internal.zza.zza(com.google.android.gms:play-services-basement@@18.1.0:4)\n        at com.google.android.gms.common.internal.zzc.zze(com.google.android.gms:play-services-basement@@18.1.0:3)\n        at com.google.android.gms.common.internal.zzb.handleMessage(com.google.android.gms:play-services-basement@@18.1.0:31)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7898)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\nD/FA: Service connection suspended\nV/FA: Recording user engagement, ms: 6704\nV/FA: onActivityCreated\nV/FA: Connection attempt already in progress\nV/FA: Connection attempt already in progress\nV/FA: Activity paused, time: 31916685\nD/AutofillManager: Fill dialog is enabled:false, hints=[]\nV/FA: Activity resumed, time: 31916803\nV/FA: Connection attempt already in progress\nV/FA: Connection attempt already in progress\nW/Parcel: Expecting binder but got null!\nD/TrafficStats: tagSocket(107) with statsTag=0xffffffff, statsUid=-1\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10157; state: ENABLED\nW/Parcel: Expecting binder but got null!\nD/EGL_emulation: app_time_stats: avg=30.81ms min=2.94ms max=450.90ms count=28\n\n</code></pre>\n"},{"tags":["java","function","java-stream","reduce","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663841368,"creation_date":1663841368,"answer_id":73812870,"question_id":73812649,"body_markdown":"I just tried out to create such a reusable function and I think I found a way to do it. I used the `BiFunction` interface that defines a function with two inputs. In your case it would be the list as well as a function to extract the needed `BigDecimal` from the `Amount` object. \r\n\r\nThe result should be the same as with your original code:\r\n\r\n```\r\nBiFunction&lt;List&lt;Line&gt;, Function&lt;Line, BigDecimal&gt;, BigDecimal&gt; function =\r\n        (list, extractor) -&gt; list.stream().map(extractor)\r\n            .reduce(BigDecimal.ZERO, BigDecimal::add)\r\n            .setScale(2, RoundingMode.HALF_UP);\r\n\r\nnew Amount().withVatAmount(function\r\n        .apply(invoiceLines, line -&gt; line.getAmount().getVatAmount()));\r\n```","title":"Improve Map/Reduce lambda expression by using a different BigDecimal attribute each time","body":"<p>I just tried out to create such a reusable function and I think I found a way to do it. I used the <code>BiFunction</code> interface that defines a function with two inputs. In your case it would be the list as well as a function to extract the needed <code>BigDecimal</code> from the <code>Amount</code> object.</p>\n<p>The result should be the same as with your original code:</p>\n<pre><code>BiFunction&lt;List&lt;Line&gt;, Function&lt;Line, BigDecimal&gt;, BigDecimal&gt; function =\n        (list, extractor) -&gt; list.stream().map(extractor)\n            .reduce(BigDecimal.ZERO, BigDecimal::add)\n            .setScale(2, RoundingMode.HALF_UP);\n\nnew Amount().withVatAmount(function\n        .apply(invoiceLines, line -&gt; line.getAmount().getVatAmount()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663844519,"creation_date":1663843329,"answer_id":73813250,"question_id":73812649,"body_markdown":"Since operations, you perform in these stream-pipelines differs only with a function extracting `BigDecimal` value, to avoid redundancy you can introduce a method expecting a source `List` and a *function* as its arguments.\r\n\r\n**Note** that keeping your *functions* small and well-readable makes the code more maintainable. And it&#39;s also better to have a code that *consumes* a *function* and uses it internally than invoking `Function.apply()` manually.\r\n\r\nThat&#39;s how the method containing your stream logic might be implemented:\r\n\r\n    public static &lt;T&gt; BigDecimal reduce(List&lt;T&gt; list,\r\n                                        Function&lt;T, BigDecimal&gt; mapper) {\r\n        return list.stream()\r\n            .map(mapper)\r\n            .reduce(BigDecimal.ZERO, BigDecimal::add)\r\n            .setScale(2, RoundingMode.HALF_UP);\r\n    }\r\n\r\nThe code responsible for instantiation and infantilization of the `Amount` would look like that:\r\n\r\n```\r\nnew Amount()\r\n    .withAmountIncVat(reduce(invoiceLines, line -&gt; line.getAmount().getAmountIncVat()))\r\n    .withAmount(reduce(invoiceLines, line -&gt; line.getAmount().getAmount()))\r\n    .withVatAmount(reduce(invoiceLines, line -&gt; line.getAmount());\r\n```","title":"Improve Map/Reduce lambda expression by using a different BigDecimal attribute each time","body":"<p>Since operations, you perform in these stream-pipelines differs only with a function extracting <code>BigDecimal</code> value, to avoid redundancy you can introduce a method expecting a source <code>List</code> and a <em>function</em> as its arguments.</p>\n<p><strong>Note</strong> that keeping your <em>functions</em> small and well-readable makes the code more maintainable. And it's also better to have a code that <em>consumes</em> a <em>function</em> and uses it internally than invoking <code>Function.apply()</code> manually.</p>\n<p>That's how the method containing your stream logic might be implemented:</p>\n<pre><code>public static &lt;T&gt; BigDecimal reduce(List&lt;T&gt; list,\n                                    Function&lt;T, BigDecimal&gt; mapper) {\n    return list.stream()\n        .map(mapper)\n        .reduce(BigDecimal.ZERO, BigDecimal::add)\n        .setScale(2, RoundingMode.HALF_UP);\n}\n</code></pre>\n<p>The code responsible for instantiation and infantilization of the <code>Amount</code> would look like that:</p>\n<pre><code>new Amount()\n    .withAmountIncVat(reduce(invoiceLines, line -&gt; line.getAmount().getAmountIncVat()))\n    .withAmount(reduce(invoiceLines, line -&gt; line.getAmount().getAmount()))\n    .withVatAmount(reduce(invoiceLines, line -&gt; line.getAmount());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663845606,"creation_date":1663845606,"answer_id":73813698,"question_id":73812649,"body_markdown":"[Alexander Ivanchenko&#39;s answer][1] can be made a bit simpler by making it less generic.\r\nAssuming that `line` is an instance of `Line` and its `getAmount()` method returns an `Amount` (replace these as necessary):\r\n\r\n```java\r\nprivate static BigDecimal reduce(List&lt;Line&gt; lines, Function&lt;Amount, BigDecimal&gt; mapper) {\r\n    return lines.stream()\r\n            .map(Line::getAmount)\r\n            .map(mapper)\r\n            .reduce(BigDecimal.ZERO, BigDecimal::add)\r\n            .setScale(2, RoundingMode.HALF_UP);\r\n}\r\n```\r\n```java\r\nnew Amount()\r\n        .withAmountIncVat(reduce(invoiceLines, Amount::getAmountIncVat))\r\n        .withAmount(reduce(invoiceLines, Amount::.getAmount))\r\n        .withVatAmount(reduce(invoiceLines, Amount::getVatAmount);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73813250/1180351","title":"Improve Map/Reduce lambda expression by using a different BigDecimal attribute each time","body":"<p><a href=\"https://stackoverflow.com/a/73813250/1180351\">Alexander Ivanchenko's answer</a> can be made a bit simpler by making it less generic.\nAssuming that <code>line</code> is an instance of <code>Line</code> and its <code>getAmount()</code> method returns an <code>Amount</code> (replace these as necessary):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static BigDecimal reduce(List&lt;Line&gt; lines, Function&lt;Amount, BigDecimal&gt; mapper) {\n    return lines.stream()\n            .map(Line::getAmount)\n            .map(mapper)\n            .reduce(BigDecimal.ZERO, BigDecimal::add)\n            .setScale(2, RoundingMode.HALF_UP);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>new Amount()\n        .withAmountIncVat(reduce(invoiceLines, Amount::getAmountIncVat))\n        .withAmount(reduce(invoiceLines, Amount::.getAmount))\n        .withVatAmount(reduce(invoiceLines, Amount::getVatAmount);\n</code></pre>\n"}],"owner":{"account_id":13497285,"reputation":127,"user_id":9737735,"display_name":"Joselo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1663845606,"creation_date":1663840384,"question_id":73812649,"body_markdown":"I have a list of objects and each element of that list is an object that contains several BigDecimal parameters. I&#39;m generating a new Amount object based on some calculations made on the list. It works fine but looks kind of repetitive.\r\n\r\n    new Amount()\r\n                .withAmountIncVat(invoiceLines.stream().map(line -&gt; line.getAmount().getAmountIncVat()).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP))\r\n                .withAmount(invoiceLines.stream().map(line -&gt; line.getAmount().getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP))\r\n                .withVatAmount(invoiceLines.stream().map(line -&gt; line.getAmount().getVatAmount()).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP))\r\n\r\nIs there a better way to deal with the lambda expression in order to replace the &quot;repeated&quot; code? You know, improve this function:\r\n\r\n    invoiceLines.stream().map(line -&gt; line.getAmount().XXX).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP)\r\n\r\nIn which XXX should be a different BigDecimal attribute from the object each time, and i can use this function for each assignment:\r\n\r\n    new Amount()\r\n        .withVatAmount(function.apply(invoiceLines,&lt;PERHAPS AN ADDITIONAL PARAM&gt;))\r\n        .withAmountIncVat(function.apply(invoiceLines,&lt;PERHAPS AN ADDITIONAL PARAM&gt;))\r\n        .withAmount(function.apply(invoiceLines,&lt;PERHAPS AN ADDITIONAL PARAM&gt;))\r\n\r\n","title":"Improve Map/Reduce lambda expression by using a different BigDecimal attribute each time","body":"<p>I have a list of objects and each element of that list is an object that contains several BigDecimal parameters. I'm generating a new Amount object based on some calculations made on the list. It works fine but looks kind of repetitive.</p>\n<pre><code>new Amount()\n            .withAmountIncVat(invoiceLines.stream().map(line -&gt; line.getAmount().getAmountIncVat()).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP))\n            .withAmount(invoiceLines.stream().map(line -&gt; line.getAmount().getAmount()).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP))\n            .withVatAmount(invoiceLines.stream().map(line -&gt; line.getAmount().getVatAmount()).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP))\n</code></pre>\n<p>Is there a better way to deal with the lambda expression in order to replace the &quot;repeated&quot; code? You know, improve this function:</p>\n<pre><code>invoiceLines.stream().map(line -&gt; line.getAmount().XXX).reduce(BigDecimal.ZERO, BigDecimal::add).setScale(2, RoundingMode.HALF_UP)\n</code></pre>\n<p>In which XXX should be a different BigDecimal attribute from the object each time, and i can use this function for each assignment:</p>\n<pre><code>new Amount()\n    .withVatAmount(function.apply(invoiceLines,&lt;PERHAPS AN ADDITIONAL PARAM&gt;))\n    .withAmountIncVat(function.apply(invoiceLines,&lt;PERHAPS AN ADDITIONAL PARAM&gt;))\n    .withAmount(function.apply(invoiceLines,&lt;PERHAPS AN ADDITIONAL PARAM&gt;))\n</code></pre>\n"},{"tags":["java","mysql","spring","model-view-controller","hibernate-mapping"],"comments":[{"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"score":0,"creation_date":1663825334,"post_id":73809528,"comment_id":130330962,"body_markdown":"did you try and inspect the call that is throwing 405? try using inspect section of your browser.","body":"did you try and inspect the call that is throwing 405? try using inspect section of your browser."},{"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"score":0,"creation_date":1663825445,"post_id":73809528,"comment_id":130330984,"body_markdown":"your html form is making a POST call to index.html while your backend code has a request mapping of type GET with index.html","body":"your html form is making a POST call to index.html while your backend code has a request mapping of type GET with index.html"}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663840757,"creation_date":1663840757,"answer_id":73812735,"question_id":73809528,"body_markdown":"As @Lalit Mehra mentioned in the comments, HTML is sending a POST request and the controller is expecting a GET:\r\n```HTML\r\n&lt;form id=&quot;studentevent&quot; name=&quot;studentevent&quot; action=&quot;/index.htm&quot; method=&quot;post&quot;&gt;     \r\n```\r\n\r\n```Java\r\n@RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\r\n```\r\n\r\nMake them match with the same request method and it will work.","title":"shows error HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.ConstraintViolationException:","body":"<p>As @Lalit Mehra mentioned in the comments, HTML is sending a POST request and the controller is expecting a GET:</p>\n<pre><code>&lt;form id=&quot;studentevent&quot; name=&quot;studentevent&quot; action=&quot;/index.htm&quot; method=&quot;post&quot;&gt;     \n</code></pre>\n<pre><code>@RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\n</code></pre>\n<p>Make them match with the same request method and it will work.</p>\n"}],"owner":{"account_id":20826939,"reputation":3,"user_id":15297193,"display_name":"manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663845384,"creation_date":1663822589,"question_id":73809528,"body_markdown":"I have problem with Spring MVC project. I want to insert in to values to database but when I click the submit button  shows error HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.ConstraintViolationException: could not insert: [sample.entity.Details]\r\n\r\n I don&#39;t know what&#39;s the problem. \r\nplease help me?\r\nthe program given below\r\n    \r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Student Event Co-Ordinators/Organizer Details&lt;/title&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n                   &lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css&quot;&gt;\r\n                          \r\n    &lt;style&gt;\r\n    body{\r\n    display: flex;\r\n    }\r\n    #submit\r\n    {\r\n        background-color: orange;\r\n        color:white;\r\n        height: 30px;\r\n            width:200px;\r\n            border: none;\r\n    }\r\n    input[type=text] input[type=email] input[type=number]{\r\n         transition: width 0.4s ease-in-out;\r\n    }\r\n    table {\r\n      border-collapse: collapse;\r\n      border: 1px solid black;\r\n       table-layout: auto;\r\n      width: 100%;  \r\n    } \r\n    \r\n    th,td {\r\n      border: 1px solid black;\r\n      width:16%\r\n    }\r\n    .btn {\r\n      border: none;\r\n      background-color: inherit;\r\n      padding: 14px 28px;\r\n      font-size: 16px;\r\n      cursor: pointer;\r\n      display: inline-block;\r\n    }\r\n    .btn-add\r\n    {\r\n        background-color: orange;\r\n        color:white;\r\n        height: 40px;\r\n            width:200px;\r\n            border: none;\r\n            font-size: 12px;\r\n    }\r\n    /* On mouse-over */\r\n    .btn:hover {background: #eee;}\r\n    \r\n    .btn-warning {color: orange;}\r\n    .btn-danger {color: red;}\r\n    .btn-info{\r\n        color:blue;\r\n    }\r\n    \r\n             &lt;/style&gt;\r\n    \r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;div class=&quot;container&quot;&gt;\r\n            &lt;h3&gt;Student Event Co-Ordinators/Organizer Details&lt;/h3&gt;\r\n           \r\n            &lt;form id=&quot;studentevent&quot; name=&quot;studentevent&quot; action=&quot;/index.htm&quot; method=&quot;post&quot;&gt;     \r\n                    &lt;input type=&quot;hidden&quot; id=&quot;id&quot; name=&quot;id&quot; &gt;\r\n                             &lt;div&gt; \r\n                        &lt;div&gt;\r\n                              &lt;input type=&quot;text&quot;  placeholder=&quot;Event name&quot;  name=&quot;name&quot; required=&quot;&quot; id=&quot;name&quot;&gt;                    \r\n                              &lt;input type=&quot;email&quot;  placeholder=&quot;Event email id&quot;  name=&quot;email&quot; required=&quot;&quot; id=&quot;email&quot;&gt; \r\n                              &lt;input type=&quot;number&quot;  placeholder=&quot;Registration fee&quot;  name=&quot;fee&quot; required=&quot;&quot; id=&quot;fee&quot;&gt;  \r\n                              &lt;input type=&quot;text&quot;  placeholder=&quot;Student name&quot;  name=&quot;sname&quot; required=&quot;&quot; id=&quot;sname&quot;&gt;  \r\n                              &lt;input type=&quot;number&quot;  placeholder=&quot;Student contact no&quot;  name=&quot;contactno&quot; required=&quot;&quot; id=&quot;contactno&quot;&gt;  \r\n                       &lt;/div&gt;\r\n            &lt;br&gt;\r\n            &lt;div&gt;\r\n                &lt;input type=&quot;button&quot; id=&quot;submit&quot; value=&quot;submit&quot; onclick=&quot;return addstudentevent();&quot;&gt;\r\n                       &lt;/form&gt;\r\n            &lt;br&gt;\r\n            &lt;br&gt;\r\n                     &lt;table class=&quot;data-table&quot; id=&quot;data-table&quot;&gt;\r\n                    &lt;thead&gt;\r\n                        &lt;th&gt;Event Name&lt;/th&gt;\r\n                        &lt;th&gt;Email Id&lt;/th&gt;\r\n                        &lt;th&gt;Registration Fee&lt;/th&gt;\r\n                        &lt;th&gt;Student Name&lt;/th&gt;\r\n                        &lt;th&gt;Contact No&lt;/th&gt;\r\n                        &lt;th&gt; &lt;/th&gt;\r\n                    &lt;/thead&gt;\r\n                    &lt;tbody id=&quot;displayBody&quot;&gt;\r\n                        \r\n    &lt;/tbody&gt;\r\n                &lt;/table&gt;\r\n            &lt;/div&gt;\r\n            &lt;/div&gt;\r\n    \r\n             \r\n              &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n            &lt;script src=&quot;https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n            \r\n            &lt;script&gt;\r\n            \r\n                         getall();\r\n                            var isNew = true;\r\n                        var    studentid= null;\r\n                    \r\n                            function addstudentevent()\r\n                            {\r\n                                    var addId = $(&quot;#id&quot;).val();\r\n                                     var url = &quot;&quot;;\r\n                                    var data = &quot;&quot;;\r\n                                    var method;\r\n                                    if (isNew===true)\r\n                                        {\r\n                                            url = &#39;insert.htm&#39;;\r\n                                            data = $(&quot;#studentevent&quot;).serialize()+ &quot;&amp;Id=&quot; + addId;\r\n                                            method = &#39;POST&#39;;\r\n                                        }\r\n                                   else\r\n                                        {\r\n                                            url = &#39;update.htm&#39;;\r\n                                            data = $(&quot;#studentevent&quot;).serialize()  + &quot;&amp;Id=&quot; + addId;\r\n                                            method = &#39;POST&#39;;\r\n                                        }\r\n                                        $.ajax({\r\n                                            type: method,\r\n                                            url : url,\r\n                                           dataType: &#39;JSON&#39;,\r\n                                            data : data,\r\n                                            \r\n                                            success:function(data)\r\n                                            {\r\n                                             getall();\r\n                                               // $(&#39;id&#39;).val(&quot;&quot;);\r\n                                               $(&#39;#name&#39;).val(&quot;&quot;);\r\n                                                $(&#39;#email&#39;).val(&quot;&quot;);\r\n                                                $(&#39;#fee&#39;).val(&quot;&quot;);\r\n                                                $(&#39;#sname&#39;).val(&quot;&quot;);\r\n                                                $(&#39;#contactno&#39;).val(&quot;&quot;);\r\n                                                \r\n                                                    if(isNew === true)\r\n                                                        {\r\n                                                            alert(&quot;Data Inserted&quot;);\r\n                                                        }\r\n                                     else\r\n                                                        {\r\n                                                            alert(&quot;Data Updated&quot;);\r\n                                                        }\r\n                                                }\r\n                                        });\r\n                                }\r\n                            \r\n                            \r\n    \r\n    function getall()\r\n    {\r\n        $(&#39;#data-table&#39;).dataTable().fnDestroy();\r\n                                $.ajax ({\r\n                                    url: &quot;fetch.htm&quot;,\r\n                                    type: &quot;GET&quot;,\r\n                                    dataType:&quot;JSON&quot;,\r\n                                    \r\n                                    success: function(data)\r\n                                    {\r\n                                        $(&quot;#data-table&quot;).dataTable({\r\n                                            &quot;aaData&quot;:data,\r\n                               &quot;scrollX&quot;: true,\r\n                               &quot;aoColumns&quot;:\r\n                                       [\r\n                         \r\n                                     {&quot;mData&quot;: &quot;name&quot;},\r\n                                        {&quot;mData&quot;: &quot;email&quot;},\r\n                                        {&quot;mData&quot;: &quot;fee&quot;},\r\n                                        {&quot;mData&quot;: &quot;sname&quot;},    \r\n                                         {&quot;mData&quot;: &quot;contactno&quot;}   ,                                                      \r\n                                         {               //   &quot; mData&quot;: &quot;id&quot;,  \r\n                                                      mData:&quot;id&quot;,\r\n                                                            &quot;render&quot; : function(mData,type,row,meta)\r\n                                                            {\r\n                                                                return &#39;&lt;button class=&quot;btn btn-warning&quot; onclick=&quot;get_details(&#39;+ mData +&#39;)&quot;&gt;Edit&lt;/button&gt;&lt;button class=&quot;btn btn-danger&quot; onclick=&quot;get_delete(&#39;+ mData +&#39;)&quot;&gt;Delete&lt;/button&gt;&#39;;\r\n                                                            }}                                                \r\n                                       ]   \r\n                                   });     }   \r\n                                    });\r\n                                }\r\n       \r\n                            \r\n                            function get_details(id)\r\n                            {\r\n                                $.ajax({\r\n                                    type: &quot;POST&quot;,\r\n                                    url: &quot;edit.htm&quot;,\r\n                                    data: {&quot;id&quot;: id},\r\n                                    \r\n                                    success: function(data)\r\n                                    {\r\n                                        isNew = false;\r\n                                        var obj = JSON.parse(data);\r\n                                          studentid = obj[0].id;\r\n                                        $(&#39;#name&#39;).val(obj[0].name);\r\n                                        $(&#39;#email&#39;).val(obj[0].email);\r\n                                        $(&#39;#fee&#39;).val(obj[0].fee);\r\n                                            $(&#39;#sname&#39;).val(obj[0].sname);\r\n                                                $(&#39;#contactno&#39;).val(obj[0].contactno);\r\n                                                                       }\r\n                                });\r\n                            }\r\n                     \r\n                            function get_delete(id)\r\n                            {\r\n                                $.ajax({\r\n                                    type:&#39;POST&#39;,\r\n                                    url: &#39;delete.htm&#39;,\r\n                                    dataType: &#39;JSON&#39;,\r\n                                    data:{&#39;id&#39;:id},\r\n                                    \r\n                                    success:function (data)\r\n                                    {\r\n                                        alert(&quot;Data deleted&quot;);\r\n                                       getall();\r\n                                    }\r\n                                });\r\n                            }\r\n    \r\n        &lt;/script&gt;\r\n    \r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nstudentcontroller.java\r\n\r\n\r\n\r\n    package sample.controller;\r\n    \r\n    import com.google.gson.Gson;\r\n    import java.util.List;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import sample.dao.studentDao;\r\n    import sample.entity.Details;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author admin\r\n     */\r\n    \r\n    @Controller\r\n    public class studentController {\r\n          @Autowired\r\n        studentDao stDao;\r\n         @RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\r\n        public String index()\r\n        {\r\n            System.out.println(&quot;at index&quot;);\r\n            return &quot;index&quot;;\r\n        }\r\n        \r\n        @RequestMapping(value =&quot;insert.htm&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody String insert\r\n            (\r\n                @RequestParam(&quot;id&quot;) Integer id,\r\n                @RequestParam(&quot;name&quot;) String name,\r\n                @RequestParam(&quot;email&quot;) String email,\r\n                @RequestParam(&quot;fee&quot;) String fee,\r\n                  @RequestParam(&quot;sname&quot;) String sname,\r\n                  @RequestParam(&quot;contactno&quot;) String contactno\r\n            )\r\n      \r\n            {\r\n    \r\n            Details ei= new Details();\r\n            ei.setName(name);\r\n            ei.setEmail(email);\r\n            ei.setFee(fee);\r\n            ei.setSname(sname);\r\n            ei.setContactno(contactno);\r\n            \r\n            stDao.save(ei);\r\n            \r\n            Gson ob = new Gson();\r\n            return &quot;success&quot;;\r\n       }\r\n        \r\n     @RequestMapping(value=&quot;fetch.htm&quot;, method = RequestMethod.GET)\r\n        public @ResponseBody String display() \r\n        {\r\n            List&lt;Details&gt; listdetails = (List&lt;Details&gt;) stDao.display();\r\n            return new Gson().toJson(listdetails);\r\n        }\r\n    \r\n        \r\n        @RequestMapping(value = &quot;delete.htm&quot;)\r\n        public @ResponseBody  String delete(@RequestParam(&quot;id&quot;) Integer id)\r\n        {\r\n            stDao.delete(id);\r\n            return &quot;successful&quot;;\r\n        }\r\n        \r\n        @RequestMapping(value = &quot;edit.htm&quot;)\r\n        public @ResponseBody  String edit(@RequestParam(&quot;id&quot;) Integer id)\r\n        {\r\n            List editlist;\r\n            editlist = stDao.getDetailsForEdit(id);\r\n            return new Gson().toJson(editlist);\r\n        }\r\n        \r\n        \r\n        @RequestMapping(value = &quot;update.htm&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody String update\r\n            (\r\n                @RequestParam(value=&quot;id&quot;,required=false) Integer id,\r\n                @RequestParam(&quot;name&quot;) String name,\r\n                @RequestParam(&quot;email&quot;) String email,\r\n                @RequestParam(&quot;fee&quot;) String fee,\r\n                @RequestParam(&quot;sname&quot;) String sname,\r\n                @RequestParam(&quot;contactno&quot;) String contactno\r\n           )\r\n            {\r\n                \r\n            Details st = new Details();\r\n            st.setName(name);\r\n            st.setEmail(email);\r\n            st.setFee(fee);\r\n            st.setSname(sname);\r\n            st.setContactno(contactno);\r\n            System.out.println(&quot;st&quot;);\r\n            stDao.update(st);\r\n            Gson ob = new Gson();\r\n            return &quot;success&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nstudentDao.java\r\n\r\n\r\n    package sample.dao;\r\n    \r\n    import java.util.List;\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.criterion.Projections;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import sample.entity.Details;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author admin\r\n     */\r\n    @Transactional\r\n    @Repository\r\n    public class studentDao {\r\n    \r\n       @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n    \r\n        public void save(Details stdinfo) {\r\n            Session session = sessionFactory.openSession();\r\n            session.save(stdinfo);\r\n            session.close();\r\n        }\r\n    public List display() {\r\n            Session session = sessionFactory.openSession();\r\n            Criteria criteria = session.createCriteria(Details.class);\r\n            criteria.setProjection(Projections.projectionList().add(Projections.property(&quot;id&quot;), &quot;id&quot;)\r\n                    .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\r\n                    .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\r\n                    .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;) \r\n                    .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;) \r\n                    .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;));\r\n            criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\r\n            List list = criteria.list();\r\n            session.close();\r\n            return list;\r\n        }\r\n    \r\n        \r\n         public void delete(Integer id){\r\n            Session session = sessionFactory.openSession();\r\n            Transaction trx = session.beginTransaction();\r\n            Details stdtl = new Details(id);\r\n            session.delete(stdtl);\r\n            trx.commit();\r\n            session.close();\r\n        }\r\n      \r\n         \r\n         \r\n         public List getDetailsForEdit(Integer id) {\r\n            Session session = sessionFactory.openSession();\r\n            Criteria criteria = session.createCriteria(Details.class);\r\n            criteria.setProjection(Projections.projectionList()\r\n                    .add(Projections.property(&quot;id&quot;), &quot;id&quot;)\r\n                    .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\r\n                    .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\r\n                           .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;)\r\n                           .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;)\r\n                    .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;)\r\n            );\r\n            criteria.add(Restrictions.eq(&quot;id&quot;, id));\r\n            criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\r\n            List list = criteria.list();\r\n            session.close();\r\n            return list;\r\n        }\r\n    \r\n        public void update(Details Stdinfo){\r\n            Session session = sessionFactory.openSession();\r\n            Transaction trx = session.beginTransaction();\r\n            \r\n            session.update(Stdinfo);\r\n            trx.commit();\r\n            session.close();\r\n        }\r\n       \r\n       \r\n    }\r\n\r\n\r\n\r\nDetails.java\r\n\r\n\r\n\r\n    package sample.entity;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.Basic;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import org.hibernate.annotations.NamedQueries;\r\n    import org.hibernate.annotations.NamedQuery;\r\n    \r\n    /**\r\n     *\r\n     * @author admin\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;studentevent&quot;)\r\n    @NamedQueries({\r\n        @NamedQuery(name = &quot;studentevent.findAll&quot;, query = &quot;SELECT d FROM studentevent d&quot;)})\r\n    public class Details implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String[] name;\r\n        @Column(name = &quot;email&quot;)\r\n        private String mail;\r\n           @Column(name = &quot;fee&quot;)\r\n        private String fee;\r\n       @Column(name = &quot;sname&quot;)\r\n        private String sname;\r\n        @Column(name = &quot;contactno&quot;)\r\n     private String contactno;\r\n       \r\n       \r\n       \r\n       \r\n        public Details() {\r\n        }\r\n    \r\n        public Details(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String[] getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String stdname) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            String email = null;\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.mail = email;\r\n        }\r\n    \r\n         public String getFee() {\r\n            String fee = null;\r\n            return fee;\r\n        }\r\n    \r\n        public void setFee(String fee) {\r\n            this.fee= fee;\r\n        }\r\n         public String getSname() {\r\n            String sname = null;\r\n            return sname;\r\n        }\r\n    \r\n        public void setSname(String sname) {\r\n            this.sname= sname;\r\n        }\r\n        public String getContactno() {\r\n            return contactno;\r\n        }\r\n    \r\n        public void setContactno(String contactno) {\r\n            this.contactno = contactno;\r\n        }\r\n    \r\n       }\r\n\r\n","title":"shows error HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.ConstraintViolationException:","body":"<p>I have problem with Spring MVC project. I want to insert in to values to database but when I click the submit button  shows error HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.ConstraintViolationException: could not insert: [sample.entity.Details]</p>\n<p>I don't know what's the problem.\nplease help me?\nthe program given below</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Student Event Co-Ordinators/Organizer Details&lt;/title&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n               &lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css&quot;&gt;\n                      \n&lt;style&gt;\nbody{\ndisplay: flex;\n}\n#submit\n{\n    background-color: orange;\n    color:white;\n    height: 30px;\n        width:200px;\n        border: none;\n}\ninput[type=text] input[type=email] input[type=number]{\n     transition: width 0.4s ease-in-out;\n}\ntable {\n  border-collapse: collapse;\n  border: 1px solid black;\n   table-layout: auto;\n  width: 100%;  \n} \n\nth,td {\n  border: 1px solid black;\n  width:16%\n}\n.btn {\n  border: none;\n  background-color: inherit;\n  padding: 14px 28px;\n  font-size: 16px;\n  cursor: pointer;\n  display: inline-block;\n}\n.btn-add\n{\n    background-color: orange;\n    color:white;\n    height: 40px;\n        width:200px;\n        border: none;\n        font-size: 12px;\n}\n/* On mouse-over */\n.btn:hover {background: #eee;}\n\n.btn-warning {color: orange;}\n.btn-danger {color: red;}\n.btn-info{\n    color:blue;\n}\n\n         &lt;/style&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=&quot;container&quot;&gt;\n        &lt;h3&gt;Student Event Co-Ordinators/Organizer Details&lt;/h3&gt;\n       \n        &lt;form id=&quot;studentevent&quot; name=&quot;studentevent&quot; action=&quot;/index.htm&quot; method=&quot;post&quot;&gt;     \n                &lt;input type=&quot;hidden&quot; id=&quot;id&quot; name=&quot;id&quot; &gt;\n                         &lt;div&gt; \n                    &lt;div&gt;\n                          &lt;input type=&quot;text&quot;  placeholder=&quot;Event name&quot;  name=&quot;name&quot; required=&quot;&quot; id=&quot;name&quot;&gt;                    \n                          &lt;input type=&quot;email&quot;  placeholder=&quot;Event email id&quot;  name=&quot;email&quot; required=&quot;&quot; id=&quot;email&quot;&gt; \n                          &lt;input type=&quot;number&quot;  placeholder=&quot;Registration fee&quot;  name=&quot;fee&quot; required=&quot;&quot; id=&quot;fee&quot;&gt;  \n                          &lt;input type=&quot;text&quot;  placeholder=&quot;Student name&quot;  name=&quot;sname&quot; required=&quot;&quot; id=&quot;sname&quot;&gt;  \n                          &lt;input type=&quot;number&quot;  placeholder=&quot;Student contact no&quot;  name=&quot;contactno&quot; required=&quot;&quot; id=&quot;contactno&quot;&gt;  \n                   &lt;/div&gt;\n        &lt;br&gt;\n        &lt;div&gt;\n            &lt;input type=&quot;button&quot; id=&quot;submit&quot; value=&quot;submit&quot; onclick=&quot;return addstudentevent();&quot;&gt;\n                   &lt;/form&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n                 &lt;table class=&quot;data-table&quot; id=&quot;data-table&quot;&gt;\n                &lt;thead&gt;\n                    &lt;th&gt;Event Name&lt;/th&gt;\n                    &lt;th&gt;Email Id&lt;/th&gt;\n                    &lt;th&gt;Registration Fee&lt;/th&gt;\n                    &lt;th&gt;Student Name&lt;/th&gt;\n                    &lt;th&gt;Contact No&lt;/th&gt;\n                    &lt;th&gt; &lt;/th&gt;\n                &lt;/thead&gt;\n                &lt;tbody id=&quot;displayBody&quot;&gt;\n                    \n&lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;/div&gt;\n\n         \n          &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\n        \n        &lt;script&gt;\n        \n                     getall();\n                        var isNew = true;\n                    var    studentid= null;\n                \n                        function addstudentevent()\n                        {\n                                var addId = $(&quot;#id&quot;).val();\n                                 var url = &quot;&quot;;\n                                var data = &quot;&quot;;\n                                var method;\n                                if (isNew===true)\n                                    {\n                                        url = 'insert.htm';\n                                        data = $(&quot;#studentevent&quot;).serialize()+ &quot;&amp;Id=&quot; + addId;\n                                        method = 'POST';\n                                    }\n                               else\n                                    {\n                                        url = 'update.htm';\n                                        data = $(&quot;#studentevent&quot;).serialize()  + &quot;&amp;Id=&quot; + addId;\n                                        method = 'POST';\n                                    }\n                                    $.ajax({\n                                        type: method,\n                                        url : url,\n                                       dataType: 'JSON',\n                                        data : data,\n                                        \n                                        success:function(data)\n                                        {\n                                         getall();\n                                           // $('id').val(&quot;&quot;);\n                                           $('#name').val(&quot;&quot;);\n                                            $('#email').val(&quot;&quot;);\n                                            $('#fee').val(&quot;&quot;);\n                                            $('#sname').val(&quot;&quot;);\n                                            $('#contactno').val(&quot;&quot;);\n                                            \n                                                if(isNew === true)\n                                                    {\n                                                        alert(&quot;Data Inserted&quot;);\n                                                    }\n                                 else\n                                                    {\n                                                        alert(&quot;Data Updated&quot;);\n                                                    }\n                                            }\n                                    });\n                            }\n                        \n                        \n\nfunction getall()\n{\n    $('#data-table').dataTable().fnDestroy();\n                            $.ajax ({\n                                url: &quot;fetch.htm&quot;,\n                                type: &quot;GET&quot;,\n                                dataType:&quot;JSON&quot;,\n                                \n                                success: function(data)\n                                {\n                                    $(&quot;#data-table&quot;).dataTable({\n                                        &quot;aaData&quot;:data,\n                           &quot;scrollX&quot;: true,\n                           &quot;aoColumns&quot;:\n                                   [\n                     \n                                 {&quot;mData&quot;: &quot;name&quot;},\n                                    {&quot;mData&quot;: &quot;email&quot;},\n                                    {&quot;mData&quot;: &quot;fee&quot;},\n                                    {&quot;mData&quot;: &quot;sname&quot;},    \n                                     {&quot;mData&quot;: &quot;contactno&quot;}   ,                                                      \n                                     {               //   &quot; mData&quot;: &quot;id&quot;,  \n                                                  mData:&quot;id&quot;,\n                                                        &quot;render&quot; : function(mData,type,row,meta)\n                                                        {\n                                                            return '&lt;button class=&quot;btn btn-warning&quot; onclick=&quot;get_details('+ mData +')&quot;&gt;Edit&lt;/button&gt;&lt;button class=&quot;btn btn-danger&quot; onclick=&quot;get_delete('+ mData +')&quot;&gt;Delete&lt;/button&gt;';\n                                                        }}                                                \n                                   ]   \n                               });     }   \n                                });\n                            }\n   \n                        \n                        function get_details(id)\n                        {\n                            $.ajax({\n                                type: &quot;POST&quot;,\n                                url: &quot;edit.htm&quot;,\n                                data: {&quot;id&quot;: id},\n                                \n                                success: function(data)\n                                {\n                                    isNew = false;\n                                    var obj = JSON.parse(data);\n                                      studentid = obj[0].id;\n                                    $('#name').val(obj[0].name);\n                                    $('#email').val(obj[0].email);\n                                    $('#fee').val(obj[0].fee);\n                                        $('#sname').val(obj[0].sname);\n                                            $('#contactno').val(obj[0].contactno);\n                                                                   }\n                            });\n                        }\n                 \n                        function get_delete(id)\n                        {\n                            $.ajax({\n                                type:'POST',\n                                url: 'delete.htm',\n                                dataType: 'JSON',\n                                data:{'id':id},\n                                \n                                success:function (data)\n                                {\n                                    alert(&quot;Data deleted&quot;);\n                                   getall();\n                                }\n                            });\n                        }\n\n    &lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>studentcontroller.java</p>\n<pre><code>package sample.controller;\n\nimport com.google.gson.Gson;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport sample.dao.studentDao;\nimport sample.entity.Details;\n\n\n/**\n *\n * @author admin\n */\n\n@Controller\npublic class studentController {\n      @Autowired\n    studentDao stDao;\n     @RequestMapping(value =&quot;index.htm&quot;, method = RequestMethod.GET)\n    public String index()\n    {\n        System.out.println(&quot;at index&quot;);\n        return &quot;index&quot;;\n    }\n    \n    @RequestMapping(value =&quot;insert.htm&quot;, method = RequestMethod.POST)\n    public @ResponseBody String insert\n        (\n            @RequestParam(&quot;id&quot;) Integer id,\n            @RequestParam(&quot;name&quot;) String name,\n            @RequestParam(&quot;email&quot;) String email,\n            @RequestParam(&quot;fee&quot;) String fee,\n              @RequestParam(&quot;sname&quot;) String sname,\n              @RequestParam(&quot;contactno&quot;) String contactno\n        )\n  \n        {\n\n        Details ei= new Details();\n        ei.setName(name);\n        ei.setEmail(email);\n        ei.setFee(fee);\n        ei.setSname(sname);\n        ei.setContactno(contactno);\n        \n        stDao.save(ei);\n        \n        Gson ob = new Gson();\n        return &quot;success&quot;;\n   }\n    \n @RequestMapping(value=&quot;fetch.htm&quot;, method = RequestMethod.GET)\n    public @ResponseBody String display() \n    {\n        List&lt;Details&gt; listdetails = (List&lt;Details&gt;) stDao.display();\n        return new Gson().toJson(listdetails);\n    }\n\n    \n    @RequestMapping(value = &quot;delete.htm&quot;)\n    public @ResponseBody  String delete(@RequestParam(&quot;id&quot;) Integer id)\n    {\n        stDao.delete(id);\n        return &quot;successful&quot;;\n    }\n    \n    @RequestMapping(value = &quot;edit.htm&quot;)\n    public @ResponseBody  String edit(@RequestParam(&quot;id&quot;) Integer id)\n    {\n        List editlist;\n        editlist = stDao.getDetailsForEdit(id);\n        return new Gson().toJson(editlist);\n    }\n    \n    \n    @RequestMapping(value = &quot;update.htm&quot;, method = RequestMethod.POST)\n    public @ResponseBody String update\n        (\n            @RequestParam(value=&quot;id&quot;,required=false) Integer id,\n            @RequestParam(&quot;name&quot;) String name,\n            @RequestParam(&quot;email&quot;) String email,\n            @RequestParam(&quot;fee&quot;) String fee,\n            @RequestParam(&quot;sname&quot;) String sname,\n            @RequestParam(&quot;contactno&quot;) String contactno\n       )\n        {\n            \n        Details st = new Details();\n        st.setName(name);\n        st.setEmail(email);\n        st.setFee(fee);\n        st.setSname(sname);\n        st.setContactno(contactno);\n        System.out.println(&quot;st&quot;);\n        stDao.update(st);\n        Gson ob = new Gson();\n        return &quot;success&quot;;\n    }\n\n}\n</code></pre>\n<p>studentDao.java</p>\n<pre><code>package sample.dao;\n\nimport java.util.List;\nimport org.hibernate.Criteria;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.criterion.Projections;\nimport org.hibernate.criterion.Restrictions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\nimport sample.entity.Details;\n\n\n/**\n *\n * @author admin\n */\n@Transactional\n@Repository\npublic class studentDao {\n\n   @Autowired\n    private SessionFactory sessionFactory;\n\n\n    public void save(Details stdinfo) {\n        Session session = sessionFactory.openSession();\n        session.save(stdinfo);\n        session.close();\n    }\npublic List display() {\n        Session session = sessionFactory.openSession();\n        Criteria criteria = session.createCriteria(Details.class);\n        criteria.setProjection(Projections.projectionList().add(Projections.property(&quot;id&quot;), &quot;id&quot;)\n                .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\n                .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\n                .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;) \n                .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;) \n                .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;));\n        criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\n        List list = criteria.list();\n        session.close();\n        return list;\n    }\n\n    \n     public void delete(Integer id){\n        Session session = sessionFactory.openSession();\n        Transaction trx = session.beginTransaction();\n        Details stdtl = new Details(id);\n        session.delete(stdtl);\n        trx.commit();\n        session.close();\n    }\n  \n     \n     \n     public List getDetailsForEdit(Integer id) {\n        Session session = sessionFactory.openSession();\n        Criteria criteria = session.createCriteria(Details.class);\n        criteria.setProjection(Projections.projectionList()\n                .add(Projections.property(&quot;id&quot;), &quot;id&quot;)\n                .add(Projections.property(&quot;name&quot;), &quot;name&quot;)\n                .add(Projections.property(&quot;email&quot;), &quot;email&quot;)\n                       .add(Projections.property(&quot;fee&quot;), &quot;fee&quot;)\n                       .add(Projections.property(&quot;sname&quot;), &quot;sname&quot;)\n                .add(Projections.property(&quot;contactno&quot;), &quot;contactno&quot;)\n        );\n        criteria.add(Restrictions.eq(&quot;id&quot;, id));\n        criteria.setResultTransformer(Criteria.ALIAS_TO_ENTITY_MAP);\n        List list = criteria.list();\n        session.close();\n        return list;\n    }\n\n    public void update(Details Stdinfo){\n        Session session = sessionFactory.openSession();\n        Transaction trx = session.beginTransaction();\n        \n        session.update(Stdinfo);\n        trx.commit();\n        session.close();\n    }\n   \n   \n}\n</code></pre>\n<p>Details.java</p>\n<pre><code>package sample.entity;\n\nimport java.io.Serializable;\nimport javax.persistence.Basic;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport org.hibernate.annotations.NamedQueries;\nimport org.hibernate.annotations.NamedQuery;\n\n/**\n *\n * @author admin\n */\n@Entity\n@Table(name = &quot;studentevent&quot;)\n@NamedQueries({\n    @NamedQuery(name = &quot;studentevent.findAll&quot;, query = &quot;SELECT d FROM studentevent d&quot;)})\npublic class Details implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    @Column(name = &quot;name&quot;)\n    private String[] name;\n    @Column(name = &quot;email&quot;)\n    private String mail;\n       @Column(name = &quot;fee&quot;)\n    private String fee;\n   @Column(name = &quot;sname&quot;)\n    private String sname;\n    @Column(name = &quot;contactno&quot;)\n private String contactno;\n   \n   \n   \n   \n    public Details() {\n    }\n\n    public Details(Integer id) {\n        this.id = id;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String[] getName() {\n        return name;\n    }\n\n    public void setName(String stdname) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        String email = null;\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.mail = email;\n    }\n\n     public String getFee() {\n        String fee = null;\n        return fee;\n    }\n\n    public void setFee(String fee) {\n        this.fee= fee;\n    }\n     public String getSname() {\n        String sname = null;\n        return sname;\n    }\n\n    public void setSname(String sname) {\n        this.sname= sname;\n    }\n    public String getContactno() {\n        return contactno;\n    }\n\n    public void setContactno(String contactno) {\n        this.contactno = contactno;\n    }\n\n   }\n</code></pre>\n"},{"tags":["java","azure","azure-servicebus-queues"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1663832447,"post_id":73810874,"comment_id":130332932,"body_markdown":"The message is already there in the queue. Right?","body":"The message is already there in the queue. Right?"},{"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"score":0,"creation_date":1663833204,"post_id":73810874,"comment_id":130333175,"body_markdown":"@GauravMantri  Yes the message is already there in the queue","body":"@GauravMantri  Yes the message is already there in the queue"}],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663845319,"creation_date":1663845319,"answer_id":73813627,"question_id":73810874,"body_markdown":"AFAIK, it is not possible to add delay to a message that is already present in a Service Bus Queue. \r\n\r\nEach Service Bus Message has a [`ScheduledEnqueueTimeUtc`][1] property that can be set when a message is sent to the Queue which will ensure that the message will appear in the Queue at that time only so that it can be consumed.\r\n\r\nHowever you cannot change this property for an existing message. What you can do is resubmit a message (essentially create a copy of the original message) with a desired value set for `ScheduledEnqueueTimeUtc` property. Please take a look at [`public CompletableFuture scheduleMessageAsync(IMessage message, Instant scheduledEnqueueTimeUtc)`][2] for more details.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/azure.messaging.servicebus.servicebusmessage.scheduledenqueuetime?view=azure-dotnet#azure-messaging-servicebus-servicebusmessage-scheduledenqueuetime\r\n  [2]: https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.servicebus.queueclient?view=azure-java-stable#com-microsoft-azure-servicebus-queueclient-schedulemessageasync(com-microsoft-azure-servicebus-imessage-java-time-instant)","title":"How can we add a delay on the message which is present in azure service bus queue using java?","body":"<p>AFAIK, it is not possible to add delay to a message that is already present in a Service Bus Queue.</p>\n<p>Each Service Bus Message has a <a href=\"https://learn.microsoft.com/en-us/dotnet/api/azure.messaging.servicebus.servicebusmessage.scheduledenqueuetime?view=azure-dotnet#azure-messaging-servicebus-servicebusmessage-scheduledenqueuetime\" rel=\"nofollow noreferrer\"><code>ScheduledEnqueueTimeUtc</code></a> property that can be set when a message is sent to the Queue which will ensure that the message will appear in the Queue at that time only so that it can be consumed.</p>\n<p>However you cannot change this property for an existing message. What you can do is resubmit a message (essentially create a copy of the original message) with a desired value set for <code>ScheduledEnqueueTimeUtc</code> property. Please take a look at <a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.servicebus.queueclient?view=azure-java-stable#com-microsoft-azure-servicebus-queueclient-schedulemessageasync(com-microsoft-azure-servicebus-imessage-java-time-instant)\" rel=\"nofollow noreferrer\"><code>public CompletableFuture scheduleMessageAsync(IMessage message, Instant scheduledEnqueueTimeUtc)</code></a> for more details.</p>\n"}],"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73813627,"answer_count":1,"score":1,"last_activity_date":1663845319,"creation_date":1663832007,"question_id":73810874,"body_markdown":"I&#39;m trying to add a delay on the message which is present on the service bus queue using java .So that after the delay the same message can be consumed for processing by the function app.\r\n\r\nCan anyone suggest me the sample code or links for the same ?","title":"How can we add a delay on the message which is present in azure service bus queue using java?","body":"<p>I'm trying to add a delay on the message which is present on the service bus queue using java .So that after the delay the same message can be consumed for processing by the function app.</p>\n<p>Can anyone suggest me the sample code or links for the same ?</p>\n"},{"tags":["java","apache-spark","pyspark"],"comments":[{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1654942529,"post_id":72582913,"comment_id":128215749,"body_markdown":"header with parquet? why?","body":"header with parquet? why?"},{"owner":{"account_id":16271106,"reputation":1214,"user_id":11749651,"display_name":"mvasyliv"},"score":0,"creation_date":1654946876,"post_id":72582913,"comment_id":128216487,"body_markdown":"1. option(&quot;header&quot;,True)   ?\n2. format(csvName,epochNow)  ?","body":"1. option(&quot;header&quot;,True)   ? 2. format(csvName,epochNow)  ?"},{"owner":{"account_id":5945891,"reputation":468,"user_id":4675403,"accept_rate":88,"display_name":"aurelius"},"score":0,"creation_date":1654982831,"post_id":72582913,"comment_id":128223327,"body_markdown":"Changing header to False didn&#39;t make any difference.","body":"Changing header to False didn&#39;t make any difference."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1655032329,"post_id":72582913,"comment_id":128229465,"body_markdown":"Spark ignores nonsense at times, true. But why would you?","body":"Spark ignores nonsense at times, true. But why would you?"},{"owner":{"account_id":5945891,"reputation":468,"user_id":4675403,"accept_rate":88,"display_name":"aurelius"},"score":0,"creation_date":1655041783,"post_id":72582913,"comment_id":128231406,"body_markdown":"I execute as per your suggestion but I still get the same error, thank you for the input. I also get the same error when saving as table, see edit above.","body":"I execute as per your suggestion but I still get the same error, thank you for the input. I also get the same error when saving as table, see edit above."}],"answers":[{"tags":[],"owner":{"account_id":1160864,"reputation":101,"user_id":1140390,"accept_rate":0,"display_name":"Pınar G&#246;&#231;ebe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663845056,"creation_date":1663845056,"answer_id":73813575,"question_id":72582913,"body_markdown":"I also had same error. Solution and error message too irrelevant, but following worked for me.\r\n\r\nIn my case java temp directory &quot;/tmp&quot; mounted to the server with noexec flag.\r\nsnappy-java library could not able to extract and execute its native library in temp directory and throws the mentioned stack trace because of the temp directory rights. \r\n\r\nSolution is providing another directory which has execution right by using **&quot;-Dorg.xerial.snappy.tempdir&quot;** configuration property. \r\n\r\n    spark-submit --conf &quot;spark.driver.extraJavaOptions=-Dorg.xerial.snappy.tempdir=/my_user/temp_folder&quot; my_app.py\r\n \r\nNoexec flag also can be checked by using following command:\r\n\r\n    findmnt -l\r\n\r\n","title":"Buffer/Capacity error saving dataframe as parquet in Spark","body":"<p>I also had same error. Solution and error message too irrelevant, but following worked for me.</p>\n<p>In my case java temp directory &quot;/tmp&quot; mounted to the server with noexec flag.\nsnappy-java library could not able to extract and execute its native library in temp directory and throws the mentioned stack trace because of the temp directory rights.</p>\n<p>Solution is providing another directory which has execution right by using <strong>&quot;-Dorg.xerial.snappy.tempdir&quot;</strong> configuration property.</p>\n<pre><code>spark-submit --conf &quot;spark.driver.extraJavaOptions=-Dorg.xerial.snappy.tempdir=/my_user/temp_folder&quot; my_app.py\n</code></pre>\n<p>Noexec flag also can be checked by using following command:</p>\n<pre><code>findmnt -l\n</code></pre>\n"}],"owner":{"account_id":5945891,"reputation":468,"user_id":4675403,"accept_rate":88,"display_name":"aurelius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663845056,"creation_date":1654937238,"question_id":72582913,"body_markdown":"I&#39;m having issues with PySpark writing a dataframe to Hadoop as partitioned parquet files.\r\n\r\nThis works well:\r\n\r\n    salesDfSpark.write.option(&quot;header&quot;,True) \\\r\n            .partitionBy(&quot;Country&quot;) \\\r\n            .mode(&quot;overwrite&quot;) \\\r\n            .csv(&quot;hdfs://master:9000/sales/{}_{}.csv&quot;.format(csvName,epochNow)) #Hadoop Namenode at port 9000\r\n    print(&quot;Sales Dataframe stored in Hadoop.&quot;)\r\n\r\nThis doesn&#39;t work:\r\n\r\n    salesDfSpark.write.option(&quot;header&quot;,True) \\\r\n            .partitionBy(&quot;Country&quot;) \\\r\n            .mode(&quot;overwrite&quot;) \\\r\n            .parquet(&quot;hdfs://master:9000/sales/{}_{}.parquet&quot;.format(csvName,epochNow)) #Hadoop Namenode at port 9000\r\n    print(&quot;Sales Dataframe stored in Hadoop.&quot;)\r\n\r\nerror using openjdk8:\r\n\r\n    Caused by: java.lang.IllegalArgumentException\r\n    \tat java.nio.Buffer.limit(Buffer.java:275)\r\n    \tat org.xerial.snappy.Snappy.compress(Snappy.java:156)\r\n\r\nerror using openjdk11:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: newLimit &gt; capacity: (80 &gt; 76)\r\n    \tat java.base/java.nio.Buffer.createLimitException(Buffer.java:372)\r\n\r\nApart from changing java version I&#39;ve tested both snappy-java-1.1.8.4 and snappy-java-1.1.4 with same result.\r\nAnyone having any experience with this issue?\r\n\r\n\r\n\r\n\r\nEdit:\r\n\r\nThis gives me the same error:\r\n\r\n    salesDfSpark.write.saveAsTable(&#39;salesDfSpark&#39;)\r\n\r\nOutput:\r\n\r\n    2022-06-12 10:35:29,468 WARN scheduler.TaskSetManager: Lost task 0.0 in stage 7.0 (TID 1184) (worker2 executor 0): org.apache.spark.SparkException: Task failed while writing rows.\r\n    \tat org.apache.spark.sql.errors.QueryExecutionErrors$.taskFailedWhileWritingRowsError(QueryExecutionErrors.scala:500)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:321)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$16(FileFormatWriter.scala:229)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.IllegalArgumentException: newLimit &gt; capacity: (144 &gt; 112)\r\n    \tat java.base/java.nio.Buffer.createLimitException(Buffer.java:372)\r\n    \tat java.base/java.nio.Buffer.limit(Buffer.java:346)\r\n    \tat java.base/java.nio.ByteBuffer.limit(ByteBuffer.java:1107)\r\n    \tat java.base/java.nio.MappedByteBuffer.limit(MappedByteBuffer.java:235)\r\n    \tat java.base/java.nio.MappedByteBuffer.limit(MappedByteBuffer.java:67)\r\n    \tat org.xerial.snappy.Snappy.compress(Snappy.java:156)\r\n    \tat org.apache.parquet.hadoop.codec.SnappyCompressor.compress(SnappyCompressor.java:78)\r\n    \tat org.apache.hadoop.io.compress.CompressorStream.compress(CompressorStream.java:81)\r\n    \tat org.apache.hadoop.io.compress.CompressorStream.finish(CompressorStream.java:92)\r\n    \tat org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:167)\r\n    \tat org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\r\n    \tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\r\n    \tat org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\r\n    \tat org.apache.parquet.column.impl.ColumnWriteStoreBase.flush(ColumnWriteStoreBase.java:186)\r\n    \tat org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:29)\r\n    \tat org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:185)\r\n    \tat org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:124)\r\n    \tat org.apache.parquet.hadoop.ParquetRecordWriter.close(ParquetRecordWriter.java:164)\r\n    \tat org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.close(ParquetOutputWriter.scala:41)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatDataWriter.releaseCurrentWriter(FileFormatDataWriter.scala:64)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatDataWriter.releaseResources(FileFormatDataWriter.scala:75)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatDataWriter.commit(FileFormatDataWriter.scala:105)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$executeTask$1(FileFormatWriter.scala:305)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinallyAndFailureCallbacks(Utils.scala:1496)\r\n    \tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:311)\r\n    \t... 9 more","title":"Buffer/Capacity error saving dataframe as parquet in Spark","body":"<p>I'm having issues with PySpark writing a dataframe to Hadoop as partitioned parquet files.</p>\n<p>This works well:</p>\n<pre><code>salesDfSpark.write.option(&quot;header&quot;,True) \\\n        .partitionBy(&quot;Country&quot;) \\\n        .mode(&quot;overwrite&quot;) \\\n        .csv(&quot;hdfs://master:9000/sales/{}_{}.csv&quot;.format(csvName,epochNow)) #Hadoop Namenode at port 9000\nprint(&quot;Sales Dataframe stored in Hadoop.&quot;)\n</code></pre>\n<p>This doesn't work:</p>\n<pre><code>salesDfSpark.write.option(&quot;header&quot;,True) \\\n        .partitionBy(&quot;Country&quot;) \\\n        .mode(&quot;overwrite&quot;) \\\n        .parquet(&quot;hdfs://master:9000/sales/{}_{}.parquet&quot;.format(csvName,epochNow)) #Hadoop Namenode at port 9000\nprint(&quot;Sales Dataframe stored in Hadoop.&quot;)\n</code></pre>\n<p>error using openjdk8:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException\n    at java.nio.Buffer.limit(Buffer.java:275)\n    at org.xerial.snappy.Snappy.compress(Snappy.java:156)\n</code></pre>\n<p>error using openjdk11:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: newLimit &gt; capacity: (80 &gt; 76)\n    at java.base/java.nio.Buffer.createLimitException(Buffer.java:372)\n</code></pre>\n<p>Apart from changing java version I've tested both snappy-java-1.1.8.4 and snappy-java-1.1.4 with same result.\nAnyone having any experience with this issue?</p>\n<p>Edit:</p>\n<p>This gives me the same error:</p>\n<pre><code>salesDfSpark.write.saveAsTable('salesDfSpark')\n</code></pre>\n<p>Output:</p>\n<pre><code>2022-06-12 10:35:29,468 WARN scheduler.TaskSetManager: Lost task 0.0 in stage 7.0 (TID 1184) (worker2 executor 0): org.apache.spark.SparkException: Task failed while writing rows.\n    at org.apache.spark.sql.errors.QueryExecutionErrors$.taskFailedWhileWritingRowsError(QueryExecutionErrors.scala:500)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:321)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$write$16(FileFormatWriter.scala:229)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:131)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:506)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1462)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:509)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalArgumentException: newLimit &gt; capacity: (144 &gt; 112)\n    at java.base/java.nio.Buffer.createLimitException(Buffer.java:372)\n    at java.base/java.nio.Buffer.limit(Buffer.java:346)\n    at java.base/java.nio.ByteBuffer.limit(ByteBuffer.java:1107)\n    at java.base/java.nio.MappedByteBuffer.limit(MappedByteBuffer.java:235)\n    at java.base/java.nio.MappedByteBuffer.limit(MappedByteBuffer.java:67)\n    at org.xerial.snappy.Snappy.compress(Snappy.java:156)\n    at org.apache.parquet.hadoop.codec.SnappyCompressor.compress(SnappyCompressor.java:78)\n    at org.apache.hadoop.io.compress.CompressorStream.compress(CompressorStream.java:81)\n    at org.apache.hadoop.io.compress.CompressorStream.finish(CompressorStream.java:92)\n    at org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:167)\n    at org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\n    at org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.flush(ColumnWriteStoreBase.java:186)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:29)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:185)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:124)\n    at org.apache.parquet.hadoop.ParquetRecordWriter.close(ParquetRecordWriter.java:164)\n    at org.apache.spark.sql.execution.datasources.parquet.ParquetOutputWriter.close(ParquetOutputWriter.scala:41)\n    at org.apache.spark.sql.execution.datasources.FileFormatDataWriter.releaseCurrentWriter(FileFormatDataWriter.scala:64)\n    at org.apache.spark.sql.execution.datasources.FileFormatDataWriter.releaseResources(FileFormatDataWriter.scala:75)\n    at org.apache.spark.sql.execution.datasources.FileFormatDataWriter.commit(FileFormatDataWriter.scala:105)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.$anonfun$executeTask$1(FileFormatWriter.scala:305)\n    at org.apache.spark.util.Utils$.tryWithSafeFinallyAndFailureCallbacks(Utils.scala:1496)\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.executeTask(FileFormatWriter.scala:311)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-aggregation"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663844779,"creation_date":1663844779,"answer_id":73813513,"question_id":73809237,"body_markdown":"You need to change data type of field `custom_metadata` from `object` to `nested` and you can achive your desire output easily.\r\n\r\n**Mapping**\r\n```\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;custom_metadata&quot;:{\r\n        &quot;type&quot;: &quot;nested&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n**Query**\r\n\r\n```\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;data&quot;: {\r\n      &quot;nested&quot;: {\r\n        &quot;path&quot;: &quot;custom_metadata&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;custom_metadata_key&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;custom_metadata.key.keyword&quot;,\r\n            &quot;size&quot;: 10\r\n          },\r\n          &quot;aggs&quot;: {\r\n            &quot;custom_metadata_value&quot;: {\r\n              &quot;terms&quot;: {\r\n                &quot;field&quot;: &quot;custom_metadata.value.keyword&quot;,\r\n                &quot;size&quot;: 10\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n**Output**\r\n```\r\n&quot;aggregations&quot;: {\r\n    &quot;data&quot;: {\r\n      &quot;doc_count&quot;: 4,\r\n      &quot;custom_metadata_key&quot;: {\r\n        &quot;doc_count_error_upper_bound&quot;: 0,\r\n        &quot;sum_other_doc_count&quot;: 0,\r\n        &quot;buckets&quot;: [\r\n          {\r\n            &quot;key&quot;: &quot;schema&quot;,\r\n            &quot;doc_count&quot;: 2,\r\n            &quot;custom_metadata_value&quot;: {\r\n              &quot;doc_count_error_upper_bound&quot;: 0,\r\n              &quot;sum_other_doc_count&quot;: 0,\r\n              &quot;buckets&quot;: [\r\n                {\r\n                  &quot;key&quot;: &quot;NPL&quot;,\r\n                  &quot;doc_count&quot;: 1\r\n                },\r\n                {\r\n                  &quot;key&quot;: &quot;trial&quot;,\r\n                  &quot;doc_count&quot;: 1\r\n                }\r\n              ]\r\n            }\r\n          },\r\n          {\r\n            &quot;key&quot;: &quot;system&quot;,\r\n            &quot;doc_count&quot;: 2,\r\n            &quot;custom_metadata_value&quot;: {\r\n              &quot;doc_count_error_upper_bound&quot;: 0,\r\n              &quot;sum_other_doc_count&quot;: 0,\r\n              &quot;buckets&quot;: [\r\n                {\r\n                  &quot;key&quot;: &quot;Oracle&quot;,\r\n                  &quot;doc_count&quot;: 1\r\n                },\r\n                {\r\n                  &quot;key&quot;: &quot;SAPERP&quot;,\r\n                  &quot;doc_count&quot;: 1\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n```","title":"Getting Unique results for Objects inside List in Elasticsearch","body":"<p>You need to change data type of field <code>custom_metadata</code> from <code>object</code> to <code>nested</code> and you can achive your desire output easily.</p>\n<p><strong>Mapping</strong></p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;custom_metadata&quot;:{\n        &quot;type&quot;: &quot;nested&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>Query</strong></p>\n<pre><code>{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;data&quot;: {\n      &quot;nested&quot;: {\n        &quot;path&quot;: &quot;custom_metadata&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;custom_metadata_key&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;custom_metadata.key.keyword&quot;,\n            &quot;size&quot;: 10\n          },\n          &quot;aggs&quot;: {\n            &quot;custom_metadata_value&quot;: {\n              &quot;terms&quot;: {\n                &quot;field&quot;: &quot;custom_metadata.value.keyword&quot;,\n                &quot;size&quot;: 10\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>&quot;aggregations&quot;: {\n    &quot;data&quot;: {\n      &quot;doc_count&quot;: 4,\n      &quot;custom_metadata_key&quot;: {\n        &quot;doc_count_error_upper_bound&quot;: 0,\n        &quot;sum_other_doc_count&quot;: 0,\n        &quot;buckets&quot;: [\n          {\n            &quot;key&quot;: &quot;schema&quot;,\n            &quot;doc_count&quot;: 2,\n            &quot;custom_metadata_value&quot;: {\n              &quot;doc_count_error_upper_bound&quot;: 0,\n              &quot;sum_other_doc_count&quot;: 0,\n              &quot;buckets&quot;: [\n                {\n                  &quot;key&quot;: &quot;NPL&quot;,\n                  &quot;doc_count&quot;: 1\n                },\n                {\n                  &quot;key&quot;: &quot;trial&quot;,\n                  &quot;doc_count&quot;: 1\n                }\n              ]\n            }\n          },\n          {\n            &quot;key&quot;: &quot;system&quot;,\n            &quot;doc_count&quot;: 2,\n            &quot;custom_metadata_value&quot;: {\n              &quot;doc_count_error_upper_bound&quot;: 0,\n              &quot;sum_other_doc_count&quot;: 0,\n              &quot;buckets&quot;: [\n                {\n                  &quot;key&quot;: &quot;Oracle&quot;,\n                  &quot;doc_count&quot;: 1\n                },\n                {\n                  &quot;key&quot;: &quot;SAPERP&quot;,\n                  &quot;doc_count&quot;: 1\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":10920928,"reputation":85,"user_id":8027254,"display_name":"Ashwini Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73813513,"answer_count":1,"score":0,"last_activity_date":1663844779,"creation_date":1663819586,"question_id":73809237,"body_markdown":"I have mapping like this\r\n```json\r\n  &quot;custom_metadata&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;key&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n      },\r\n      &quot;value&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nThe ingested data looks like this\r\n\r\n```json\r\n// data in document 1\r\n&quot;custom_metadata&quot;: [\r\n    {\r\n      &quot;value&quot;: &quot;NPL&quot;,\r\n      &quot;key&quot;: &quot;schema&quot;\r\n    },\r\n    {\r\n      &quot;value&quot;: &quot;SAPERP&quot;,\r\n      &quot;key&quot;: &quot;system&quot;\r\n    }\r\n  ]\r\n```\r\n```json\r\n// data in document 2\r\n&quot;custom_metadata&quot;: [\r\n    {\r\n      &quot;value&quot;: &quot;trial&quot;,\r\n      &quot;key&quot;: &quot;schema&quot;\r\n    },\r\n    {\r\n      &quot;value&quot;: &quot;Oracle&quot;,\r\n      &quot;key&quot;: &quot;system&quot;\r\n    }\r\n  ]\r\n```\r\n\r\nI want to aggregate on each key and get relevant value in search results, like this\r\n```json\r\n&quot;schema&quot;: [\r\n  {&quot;value&quot;: &quot;NPL&quot;},\r\n  { &quot;value&quot;: &quot;trial&quot;,}\r\n],\r\n&quot;system&quot;:[\r\n  {&quot;value&quot;: &quot;SAPERP&quot;},\r\n  { &quot;value&quot;: &quot;Oracle&quot;,}\r\n]\r\n```\r\nNote: Above output is for representation.If I get something like in ES then I can parse and get desired result on service side\r\n\r\nWhat I have tried:\r\n```json\r\n&quot;custom_metadata_key&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;custom_metadata.key&quot;\r\n      },\r\n      &quot;aggregations&quot;: {\r\n        &quot;custom_metadata_value&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;custom_metadata.value&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n```\r\nAbove nested agg , aggregates each key and give all the values in results.\r\n\r\n```json\r\n{\r\n          &quot;key&quot; : &quot;schema&quot;,\r\n          &quot;doc_count&quot; : 2,\r\n          &quot;custom_metadata_value&quot; : {\r\n            &quot;doc_count_error_upper_bound&quot; : 0,\r\n            &quot;sum_other_doc_count&quot; : 0,\r\n            &quot;buckets&quot; : [\r\n              {\r\n                &quot;key&quot; : &quot;Oracle&quot;,\r\n                &quot;doc_count&quot; : 2\r\n              },\r\n              {\r\n                &quot;key&quot; : &quot;NPL&quot;,\r\n                &quot;doc_count&quot; : 1\r\n              },\r\n              {\r\n                &quot;key&quot; : &quot;SAPERP&quot;,\r\n                &quot;doc_count&quot; : 1\r\n              },\r\n              {\r\n                &quot;key&quot; : &quot;trial&quot;,\r\n                &quot;doc_count&quot; : 1\r\n              }\r\n            ]\r\n          }\r\n        }\r\n```\r\nAbove output repeats for all key and gives same aggregation for all.","title":"Getting Unique results for Objects inside List in Elasticsearch","body":"<p>I have mapping like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>  &quot;custom_metadata&quot;: {\n    &quot;properties&quot;: {\n      &quot;key&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n      },\n      &quot;value&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n      }\n    }\n  }\n</code></pre>\n<p>The ingested data looks like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>// data in document 1\n&quot;custom_metadata&quot;: [\n    {\n      &quot;value&quot;: &quot;NPL&quot;,\n      &quot;key&quot;: &quot;schema&quot;\n    },\n    {\n      &quot;value&quot;: &quot;SAPERP&quot;,\n      &quot;key&quot;: &quot;system&quot;\n    }\n  ]\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>// data in document 2\n&quot;custom_metadata&quot;: [\n    {\n      &quot;value&quot;: &quot;trial&quot;,\n      &quot;key&quot;: &quot;schema&quot;\n    },\n    {\n      &quot;value&quot;: &quot;Oracle&quot;,\n      &quot;key&quot;: &quot;system&quot;\n    }\n  ]\n</code></pre>\n<p>I want to aggregate on each key and get relevant value in search results, like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;schema&quot;: [\n  {&quot;value&quot;: &quot;NPL&quot;},\n  { &quot;value&quot;: &quot;trial&quot;,}\n],\n&quot;system&quot;:[\n  {&quot;value&quot;: &quot;SAPERP&quot;},\n  { &quot;value&quot;: &quot;Oracle&quot;,}\n]\n</code></pre>\n<p>Note: Above output is for representation.If I get something like in ES then I can parse and get desired result on service side</p>\n<p>What I have tried:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;custom_metadata_key&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;custom_metadata.key&quot;\n      },\n      &quot;aggregations&quot;: {\n        &quot;custom_metadata_value&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;custom_metadata.value&quot;\n          }\n        }\n      }\n    }\n</code></pre>\n<p>Above nested agg , aggregates each key and give all the values in results.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n          &quot;key&quot; : &quot;schema&quot;,\n          &quot;doc_count&quot; : 2,\n          &quot;custom_metadata_value&quot; : {\n            &quot;doc_count_error_upper_bound&quot; : 0,\n            &quot;sum_other_doc_count&quot; : 0,\n            &quot;buckets&quot; : [\n              {\n                &quot;key&quot; : &quot;Oracle&quot;,\n                &quot;doc_count&quot; : 2\n              },\n              {\n                &quot;key&quot; : &quot;NPL&quot;,\n                &quot;doc_count&quot; : 1\n              },\n              {\n                &quot;key&quot; : &quot;SAPERP&quot;,\n                &quot;doc_count&quot; : 1\n              },\n              {\n                &quot;key&quot; : &quot;trial&quot;,\n                &quot;doc_count&quot; : 1\n              }\n            ]\n          }\n        }\n</code></pre>\n<p>Above output repeats for all key and gives same aggregation for all.</p>\n"},{"tags":["java","javabeans","lombok","pojo"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1663856632,"post_id":73813458,"comment_id":130342161,"body_markdown":"There is an [issue](https://github.com/projectlombok/lombok/issues/836) related to this, but seems the team is not going to implement this. Seems the easiest way is to add `getMajorIndustryIdentifier` manually","body":"There is an <a href=\"https://github.com/projectlombok/lombok/issues/836\" rel=\"nofollow noreferrer\">issue</a> related to this, but seems the team is not going to implement this. Seems the easiest way is to add <code>getMajorIndustryIdentifier</code> manually"}],"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663844697,"creation_date":1663844529,"question_id":73813458,"body_markdown":"I am defining some the components of the ICCID in the field of telecommunications. Show my code:\r\n\r\n``` Java\r\n@Data\r\npublic class IssuerIdentificationNumber {\r\n\r\n    private MajorIndustryIdentifier mii;\r\n\r\n    private CountryCallingCode countryCode;\r\n\r\n    private IssuerIdentifier issuerId;\r\n\r\n}\r\n\r\n```\r\n\r\nLombok generated the ```getMii()``` method for me, but I want two equivalent getter methods named ```getMII()``` and ```getMajorIndustryIdentifier()```. Is there a way to make Lombok do this?\r\n\r\nlike:\r\n``` Java\r\n    ...\r\n\r\n    @Getter(methodNames = [&quot;getMII&quot;, &quot;getMajorIndustryIdentifier&quot;])\r\n    private MajorIndustryIdentifier mii;\r\n\r\n    ...\r\n```\r\n\r\nThanks in advance :)","title":"How to make Lombok generate multiple alias getters and fully capitalize abbreviated words?","body":"<p>I am defining some the components of the ICCID in the field of telecommunications. Show my code:</p>\n<pre><code>@Data\npublic class IssuerIdentificationNumber {\n\n    private MajorIndustryIdentifier mii;\n\n    private CountryCallingCode countryCode;\n\n    private IssuerIdentifier issuerId;\n\n}\n\n</code></pre>\n<p>Lombok generated the <code>getMii()</code> method for me, but I want two equivalent getter methods named <code>getMII()</code> and <code>getMajorIndustryIdentifier()</code>. Is there a way to make Lombok do this?</p>\n<p>like:</p>\n<pre><code>    ...\n\n    @Getter(methodNames = [&quot;getMII&quot;, &quot;getMajorIndustryIdentifier&quot;])\n    private MajorIndustryIdentifier mii;\n\n    ...\n</code></pre>\n<p>Thanks in advance :)</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663843746,"creation_date":1663842732,"answer_id":73813134,"question_id":73802883,"body_markdown":"Do not call `onFinish()` yourself.\r\n\r\nIt will automatically be called when... all has finished..","title":"How to use onActivityResult in Android","body":"<p>Do not call <code>onFinish()</code> yourself.</p>\n<p>It will automatically be called when... all has finished..</p>\n"},{"tags":[],"owner":{"account_id":26372939,"reputation":1,"user_id":20027337,"display_name":"Ubaid Ullah Shoukat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663844213,"creation_date":1663844213,"answer_id":73813415,"question_id":73802883,"body_markdown":"its calling it first time when your condition is returning true and second time when its actually finished by itself , Means the timer is not being stopped or cancelled when your condition is true, to make it call once you need to stop the timer under the `onFinish();` method there is method called `cancel()` to stop the timer try with your object name in your case its `countDownTimer` so it should look something like `countDownTimer.cancel()` under the `onFinish()`\r\n\r\nlet me know if that solved the issue.","title":"How to use onActivityResult in Android","body":"<p>its calling it first time when your condition is returning true and second time when its actually finished by itself , Means the timer is not being stopped or cancelled when your condition is true, to make it call once you need to stop the timer under the <code>onFinish();</code> method there is method called <code>cancel()</code> to stop the timer try with your object name in your case its <code>countDownTimer</code> so it should look something like <code>countDownTimer.cancel()</code> under the <code>onFinish()</code></p>\n<p>let me know if that solved the issue.</p>\n"}],"owner":{"account_id":23273813,"reputation":628,"user_id":17358267,"display_name":"Dr.KeyOk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663844213,"creation_date":1663771943,"question_id":73802883,"body_markdown":"In my application I want to use **onActivityResult** in Activity and for this I write below codes.&lt;br&gt;\r\nBut after call **onActivityResult** show me logs for **2 times** and show error result!&lt;br&gt;\r\nI used **MediaProjectionManager** and click on Allow permission, but why show cancel request code?&lt;br&gt;\r\n**My codes :** \r\n\r\n        private CountDownTimer reverseTimer() {\r\n            return countDownTimer = new CountDownTimer(2 * 1000, 1000) {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    int second = (int) (millisUntilFinished / 1000);\r\n                    if (millisUntilFinished &lt; 1100) {\r\n                        onFinish();\r\n                    } else {\r\n                        txtTesterCounter.setText(App.enToFa(second + &quot;&quot;));\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n    \t        MediaProjectionManager mediaProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n                    Intent permissionIntent = mediaProjectionManager != null ? mediaProjectionManager.createScreenCaptureIntent() : null;\r\n                    startActivityForResult(permissionIntent, ConstKeys.SCREEN_RECORD_REQUEST_CODE);\r\n                    Log.e(&quot;ResultLog&quot;, &quot;Request : &quot; + ConstKeys.SCREEN_RECORD_REQUEST_CODE);\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            //The user has denied permission for screen mirroring. Let&#39;s notify the user\r\n            Log.e(&quot;ResultLog&quot;, &quot;Request : &quot; + resultCode + &quot;---&quot; + &quot;Request : &quot; + requestCode);\r\n            if (resultCode == RESULT_CANCELED &amp;&amp; requestCode == ConstKeys.SCREEN_RECORD_REQUEST_CODE) {\r\n                Toast.makeText(this, &quot;Access failed!&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n                return;\r\n            }\r\n    }\r\n\r\n**Logcat messages :** \r\n\r\n    2022-09-21 19:16:46.948 10083-10083/com.myapp E/ResultLog: Request : 1003\r\n    2022-09-21 19:16:47.908 10083-10083/com.myapp E/ResultLog: Request : 1003\r\n    2022-09-21 19:16:48.276 10083-10083/com.myapp E/ResultLog: Request : 0---Request : 1003\r\n    2022-09-21 19:16:48.349 10083-10083/com.myapp E/ResultLog: Request : -1---Request : 1003\r\n\r\n\r\nWhy call log codes 2 times and not allow permission ?","title":"How to use onActivityResult in Android","body":"<p>In my application I want to use <strong>onActivityResult</strong> in Activity and for this I write below codes.<br>\nBut after call <strong>onActivityResult</strong> show me logs for <strong>2 times</strong> and show error result!<br>\nI used <strong>MediaProjectionManager</strong> and click on Allow permission, but why show cancel request code?<br>\n<strong>My codes :</strong></p>\n<pre><code>    private CountDownTimer reverseTimer() {\n        return countDownTimer = new CountDownTimer(2 * 1000, 1000) {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onTick(long millisUntilFinished) {\n                int second = (int) (millisUntilFinished / 1000);\n                if (millisUntilFinished &lt; 1100) {\n                    onFinish();\n                } else {\n                    txtTesterCounter.setText(App.enToFa(second + &quot;&quot;));\n                }\n            }\n\n            @Override\n            public void onFinish() {\n            MediaProjectionManager mediaProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n                Intent permissionIntent = mediaProjectionManager != null ? mediaProjectionManager.createScreenCaptureIntent() : null;\n                startActivityForResult(permissionIntent, ConstKeys.SCREEN_RECORD_REQUEST_CODE);\n                Log.e(&quot;ResultLog&quot;, &quot;Request : &quot; + ConstKeys.SCREEN_RECORD_REQUEST_CODE);\n            }\n        };\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        //The user has denied permission for screen mirroring. Let's notify the user\n        Log.e(&quot;ResultLog&quot;, &quot;Request : &quot; + resultCode + &quot;---&quot; + &quot;Request : &quot; + requestCode);\n        if (resultCode == RESULT_CANCELED &amp;&amp; requestCode == ConstKeys.SCREEN_RECORD_REQUEST_CODE) {\n            Toast.makeText(this, &quot;Access failed!&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n            return;\n        }\n}\n</code></pre>\n<p><strong>Logcat messages :</strong></p>\n<pre><code>2022-09-21 19:16:46.948 10083-10083/com.myapp E/ResultLog: Request : 1003\n2022-09-21 19:16:47.908 10083-10083/com.myapp E/ResultLog: Request : 1003\n2022-09-21 19:16:48.276 10083-10083/com.myapp E/ResultLog: Request : 0---Request : 1003\n2022-09-21 19:16:48.349 10083-10083/com.myapp E/ResultLog: Request : -1---Request : 1003\n</code></pre>\n<p>Why call log codes 2 times and not allow permission ?</p>\n"},{"tags":["java","android","kotlin","mobile","android-listview"],"answers":[{"tags":[],"owner":{"account_id":23236999,"reputation":744,"user_id":17326889,"display_name":"flyakite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663843798,"creation_date":1663843798,"answer_id":73813337,"question_id":72430660,"body_markdown":"The Google Calendar API allows to set multiple events e.g. by starting a list of intents.\r\n```\r\nimport androidx.core.content.ContextCompat.startActivities\r\n\r\nstartActivities(context, arrayOf(intent, intent2))\r\n```\r\n\r\nLikewise, startActivity starts a single intent\r\n```\r\nimport androidx.core.content.ContextCompat.startActivity\r\n\r\nstartActivity(context, intent, null)\r\n```\r\n\r\nAs described in the [Android Developer Guide](https://developer.android.com/guide/topics/providers/calendar-provider), an intent itself can look as follows.\r\n\r\n```\r\nimport android.content.Intent\r\n\r\nval startMillis: Long = Calendar.getInstance().run {\r\n    set(2012, 0, 19, 7, 30)\r\n    timeInMillis\r\n}\r\nval endMillis: Long = Calendar.getInstance().run {\r\n    set(2012, 0, 19, 8, 30)\r\n    timeInMillis\r\n}\r\nval intent = Intent(Intent.ACTION_INSERT)\r\n        .setData(CalendarContract.Events.CONTENT_URI)\r\n        .putExtra(CalendarContract.EXTRA_EVENT_BEGIN_TIME, startMillis)\r\n        .putExtra(CalendarContract.EXTRA_EVENT_END_TIME, endMillis)\r\n        .putExtra(CalendarContract.Events.TITLE, &quot;Yoga&quot;)\r\n        .putExtra(CalendarContract.Events.DESCRIPTION, &quot;Group class&quot;)\r\n        .putExtra(CalendarContract.Events.EVENT_LOCATION, &quot;The gym&quot;)\r\n        .putExtra(CalendarContract.Events.AVAILABILITY, CalendarContract.Events.AVAILABILITY_BUSY)\r\n```","title":"how to add multiple events in google calendar android Kotlin?","body":"<p>The Google Calendar API allows to set multiple events e.g. by starting a list of intents.</p>\n<pre><code>import androidx.core.content.ContextCompat.startActivities\n\nstartActivities(context, arrayOf(intent, intent2))\n</code></pre>\n<p>Likewise, startActivity starts a single intent</p>\n<pre><code>import androidx.core.content.ContextCompat.startActivity\n\nstartActivity(context, intent, null)\n</code></pre>\n<p>As described in the <a href=\"https://developer.android.com/guide/topics/providers/calendar-provider\" rel=\"nofollow noreferrer\">Android Developer Guide</a>, an intent itself can look as follows.</p>\n<pre><code>import android.content.Intent\n\nval startMillis: Long = Calendar.getInstance().run {\n    set(2012, 0, 19, 7, 30)\n    timeInMillis\n}\nval endMillis: Long = Calendar.getInstance().run {\n    set(2012, 0, 19, 8, 30)\n    timeInMillis\n}\nval intent = Intent(Intent.ACTION_INSERT)\n        .setData(CalendarContract.Events.CONTENT_URI)\n        .putExtra(CalendarContract.EXTRA_EVENT_BEGIN_TIME, startMillis)\n        .putExtra(CalendarContract.EXTRA_EVENT_END_TIME, endMillis)\n        .putExtra(CalendarContract.Events.TITLE, &quot;Yoga&quot;)\n        .putExtra(CalendarContract.Events.DESCRIPTION, &quot;Group class&quot;)\n        .putExtra(CalendarContract.Events.EVENT_LOCATION, &quot;The gym&quot;)\n        .putExtra(CalendarContract.Events.AVAILABILITY, CalendarContract.Events.AVAILABILITY_BUSY)\n</code></pre>\n"}],"owner":{"account_id":25320523,"reputation":1,"user_id":19141853,"display_name":"Rj Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663843798,"creation_date":1653896148,"question_id":72430660,"body_markdown":"For calendar, we want to show multiple events in calendar view on android.\r\nEvents coming from the API\r\n`https://myfarmapp1.herokuapp.com/api/v1/upcoming/actions/dates?userId=61efd161be38db6f4ab23fe7`.\r\nUsing the above API I want to show multiple events on Calendar view. \r\nWhat is the Problem?\r\nWhen we set event date on calendar its show latest event on the calendar and previous events are not showing.  \r\n   \r\n\r\n\r\n\r\n    \r\n\r\n    val call: Call&lt;com.android.farmist.model.dateCalender.Date&gt; =\r\n       \r\n    \r\n                     Api_Controller().getInstacne().getDates(userId)\r\n                    call.enqueue(object : \r\n            Callback&lt;com.android.farmist.model.dateCalender.Date&gt; {\r\n    \r\n                        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n                        override fun onResponse(\r\n                            call: Call&lt;com.android.farmist.model.dateCalender.Date&gt;,\r\n                            response: Response&lt;com.android.farmist.model.dateCalender.Date&gt;\r\n                        )\r\n                        {\r\n    \r\n                            val respo = response.body()\r\n                            if (respo ?.allDates!= null) {\r\n    \r\n    \r\n                                for (i in respo.allDates)\r\n                                {\r\n    \r\n                                    val y = i.value.year\r\n                                    val m = i.value.day\r\n                                    val d = i.value.date\r\n    \r\n                                    val  events: MutableList&lt;EventDay&gt; = ArrayList()\r\n                                    val  calendar = Calendar.getInstance()\r\n                                    val  calendar2=Calendar.getInstance()\r\n                                    val  calendar3 = Calendar.getInstance()\r\n    \r\n                                   calendar.set(y,m-1,d)\r\n    //                                Toast.makeText(requireActivity(),\r\n    //                                    &quot;${calendar2}&quot;,\r\n    //                                    Toast.LENGTH_SHORT).show()\r\n                                    calendar2.set(y,m-1,d-1)\r\n                                    calendar3.set(y,m-1,d-2)\r\n    \r\n                                   events.add(EventDay(calendar, R.drawable.dot))\r\n                                    Log.d(&quot;editDate&quot;,&quot;${(y ).toString() + (m-1 ).toString() + (d ).toString()}&quot;)\r\n                                    events.add(EventDay(calendar2, R.drawable.dot))\r\n                                    events.add(EventDay(calendar3, R.drawable.dot))\r\n                                    binding.calendar.setEvents(events)\r\n                                }\r\n                            }\r\n                          }\r\n    \r\n                        override fun onFailure(\r\n                            call: Call&lt;com.android.farmist.model.dateCalender.Date&gt;,\r\n                            t: Throwable\r\n                        ) {\r\n                            Log.d(&quot;userId&quot;, t.toString())\r\n    \r\n    \r\n                        }\r\n                    })","title":"how to add multiple events in google calendar android Kotlin?","body":"<p>For calendar, we want to show multiple events in calendar view on android.\nEvents coming from the API\n<code>https://myfarmapp1.herokuapp.com/api/v1/upcoming/actions/dates?userId=61efd161be38db6f4ab23fe7</code>.\nUsing the above API I want to show multiple events on Calendar view.\nWhat is the Problem?\nWhen we set event date on calendar its show latest event on the calendar and previous events are not showing.</p>\n<pre><code>val call: Call&lt;com.android.farmist.model.dateCalender.Date&gt; =\n   \n\n                 Api_Controller().getInstacne().getDates(userId)\n                call.enqueue(object : \n        Callback&lt;com.android.farmist.model.dateCalender.Date&gt; {\n\n                    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n                    override fun onResponse(\n                        call: Call&lt;com.android.farmist.model.dateCalender.Date&gt;,\n                        response: Response&lt;com.android.farmist.model.dateCalender.Date&gt;\n                    )\n                    {\n\n                        val respo = response.body()\n                        if (respo ?.allDates!= null) {\n\n\n                            for (i in respo.allDates)\n                            {\n\n                                val y = i.value.year\n                                val m = i.value.day\n                                val d = i.value.date\n\n                                val  events: MutableList&lt;EventDay&gt; = ArrayList()\n                                val  calendar = Calendar.getInstance()\n                                val  calendar2=Calendar.getInstance()\n                                val  calendar3 = Calendar.getInstance()\n\n                               calendar.set(y,m-1,d)\n//                                Toast.makeText(requireActivity(),\n//                                    &quot;${calendar2}&quot;,\n//                                    Toast.LENGTH_SHORT).show()\n                                calendar2.set(y,m-1,d-1)\n                                calendar3.set(y,m-1,d-2)\n\n                               events.add(EventDay(calendar, R.drawable.dot))\n                                Log.d(&quot;editDate&quot;,&quot;${(y ).toString() + (m-1 ).toString() + (d ).toString()}&quot;)\n                                events.add(EventDay(calendar2, R.drawable.dot))\n                                events.add(EventDay(calendar3, R.drawable.dot))\n                                binding.calendar.setEvents(events)\n                            }\n                        }\n                      }\n\n                    override fun onFailure(\n                        call: Call&lt;com.android.farmist.model.dateCalender.Date&gt;,\n                        t: Throwable\n                    ) {\n                        Log.d(&quot;userId&quot;, t.toString())\n\n\n                    }\n                })\n</code></pre>\n"},{"tags":["java","database","optimization"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1663522771,"post_id":73765020,"comment_id":130254973,"body_markdown":"`But when I measured, fetching data from db only takes few milliseconds.`  Always go with the measured result, don&#39;t try to guess at what needs to be optimized.  Plus I think a delay here is the wrong implementation, you want something that invalidates the cache only on writes.  (Assuming of course, you *measure* a performance bottleneck and decide that database reads are the root cause.)","body":"<code>But when I measured, fetching data from db only takes few milliseconds.</code>  Always go with the measured result, don&#39;t try to guess at what needs to be optimized.  Plus I think a delay here is the wrong implementation, you want something that invalidates the cache only on writes.  (Assuming of course, you <i>measure</i> a performance bottleneck and decide that database reads are the root cause.)"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1663524847,"post_id":73765020,"comment_id":130255479,"body_markdown":"And if you _do_ decide caching is worthwhile, use Caffeine instead of writing your own logic. It&#39;s transparent to your business code, and you can tweak the cache policy externally. (Finally, of course, use a framework to do most of the work for you instead of hand-writing servlets.)","body":"And if you <i>do</i> decide caching is worthwhile, use Caffeine instead of writing your own logic. It&#39;s transparent to your business code, and you can tweak the cache policy externally. (Finally, of course, use a framework to do most of the work for you instead of hand-writing servlets.)"},{"owner":{"account_id":4085192,"reputation":481,"user_id":3354638,"accept_rate":50,"display_name":"lazyCoding"},"score":0,"creation_date":1663841580,"post_id":73765020,"comment_id":130336288,"body_markdown":"@chrylis-cautiouslyoptimistic- In my case plain servlet is more than enaugh. It just turns a database table into json and prints it.  there is also restfull stuff and json libraries for these but hand-generating json code is simple enaugh in this case","body":"@chrylis-cautiouslyoptimistic- In my case plain servlet is more than enaugh. It just turns a database table into json and prints it.  there is also restfull stuff and json libraries for these but hand-generating json code is simple enaugh in this case"}],"answers":[{"tags":[],"owner":{"account_id":26372773,"reputation":11,"user_id":20027185,"display_name":"Dragan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663529513,"creation_date":1663529198,"answer_id":73765834,"question_id":73765020,"body_markdown":"From architecture point of view in your case caching is good idea - you have data which is not changing constantly, does not make sense to bother the DB - is expensive resource so caching makes a lot of sense.\r\nThis is very important regarding scalability - if you have hundreds requests is OK, but what if your app gets millions of requests, this could lead to many problems without caching.\r\n\r\nImplementing cache properly is good question, the code which you provided is the simplest, I would probably implement separate caching mechanism which will take care about updating in separate thread and share it on application level - servlets dont need to care about update period. \r\n\r\nActually you can determine in your app when the changing happened - first compare new data and old data with cache turned off, and when you see change you can start waiting for 13 seconds, then turn cache off until you see data change again. In this case you wouldnt have wrong data.","title":"Is it worth trying not to hit database as much as possible?","body":"<p>From architecture point of view in your case caching is good idea - you have data which is not changing constantly, does not make sense to bother the DB - is expensive resource so caching makes a lot of sense.\nThis is very important regarding scalability - if you have hundreds requests is OK, but what if your app gets millions of requests, this could lead to many problems without caching.</p>\n<p>Implementing cache properly is good question, the code which you provided is the simplest, I would probably implement separate caching mechanism which will take care about updating in separate thread and share it on application level - servlets dont need to care about update period.</p>\n<p>Actually you can determine in your app when the changing happened - first compare new data and old data with cache turned off, and when you see change you can start waiting for 13 seconds, then turn cache off until you see data change again. In this case you wouldnt have wrong data.</p>\n"}],"owner":{"account_id":4085192,"reputation":481,"user_id":3354638,"accept_rate":50,"display_name":"lazyCoding"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663843535,"creation_date":1663522581,"question_id":73765020,"body_markdown":"The data in db changes every 14 seconds but there may be many calls from clients to fetch same data in that duration. So, in ```Servlet``` I implemented a logic like \r\n```\r\nif(fetchedDataMoreThan3SecondsAgo) \r\n /*a servlet field */ lastFetchedData=fetchData();\r\n\r\nreturn  lastFetchedData;     \r\n```\r\nBut when I measured, fetching data from db only takes few milliseconds. So the thing I did is probably already done by ```MySql```. \r\nIs this an unnecasary optimization? Because with my &quot;optimazation&quot;,in some rare cases a client may recieve data 2-3 seconds longer than it should. ","title":"Is it worth trying not to hit database as much as possible?","body":"<p>The data in db changes every 14 seconds but there may be many calls from clients to fetch same data in that duration. So, in <code>Servlet</code> I implemented a logic like</p>\n<pre><code>if(fetchedDataMoreThan3SecondsAgo) \n /*a servlet field */ lastFetchedData=fetchData();\n\nreturn  lastFetchedData;     \n</code></pre>\n<p>But when I measured, fetching data from db only takes few milliseconds. So the thing I did is probably already done by <code>MySql</code>.\nIs this an unnecasary optimization? Because with my &quot;optimazation&quot;,in some rare cases a client may recieve data 2-3 seconds longer than it should.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1663838590,"post_id":73812077,"comment_id":130335179,"body_markdown":"This looks like the local repository path in some Windows encoding was read as UTF-8, and hence not a correct path. You could somewhere edited the path in the current Windows encoding on your PC. Look [here](https://howtodoinjava.com/maven/change-local-repository-location/)  for changing the local repo in a settings XML but maybe that one is not found also. Search for &quot;Users&quot;.","body":"This looks like the local repository path in some Windows encoding was read as UTF-8, and hence not a correct path. You could somewhere edited the path in the current Windows encoding on your PC. Look <a href=\"https://howtodoinjava.com/maven/change-local-repository-location/\" rel=\"nofollow noreferrer\">here</a>  for changing the local repo in a settings XML but maybe that one is not found also. Search for &quot;Users&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663839083,"post_id":73812077,"comment_id":130335380,"body_markdown":"Do you get a similar error with ```mvn -X``` ? Or rather, does *that* have a problem with your home directory and/or paths thereoff?","body":"Do you get a similar error with <code>mvn -X</code> ? Or rather, does <i>that</i> have a problem with your home directory and/or paths thereoff?"},{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1663839235,"post_id":73812077,"comment_id":130335444,"body_markdown":"Where should I run that command? in cmd, project folder? @g00se","body":"Where should I run that command? in cmd, project folder? @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663839339,"post_id":73812077,"comment_id":130335499,"body_markdown":"In the same directory as your pom.xml. Is the name in your home dir Meri&#231; ?","body":"In the same directory as your pom.xml. Is the name in your home dir Meri&#231; ?"},{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1663839912,"post_id":73812077,"comment_id":130335681,"body_markdown":"I got a different error &quot;No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or ..&quot; Yes my home dir has chars as &quot;&#231;, &#246;&quot; etc @g00se","body":"I got a different error &quot;No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or ..&quot; Yes my home dir has chars as &quot;&#231;, &#246;&quot; etc @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663840264,"post_id":73812077,"comment_id":130335818,"body_markdown":"Yes that&#39;s expected. Actually I&#39;d be interested to see it modified to ```mvn -X 2&gt;&amp;1 | find /I &quot;Maven home&quot;```","body":"Yes that&#39;s expected. Actually I&#39;d be interested to see it modified to <code>mvn -X 2&gt;&amp;1 | find &#47;I &quot;Maven home&quot;</code>"},{"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"score":0,"creation_date":1663840639,"post_id":73812077,"comment_id":130335965,"body_markdown":"@g00se &quot;C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.8.4&quot;","body":"@g00se &quot;C:\\ProgramData\\chocolatey\\lib\\maven\\apache-maven-3.8.4&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663840665,"post_id":73812077,"comment_id":130335979,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248251/discussion-between-g00se-and-meric-ozcan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248251/discussion-between-g00se-and-meric-ozcan\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663842967,"creation_date":1663842967,"answer_id":73813181,"question_id":73812077,"body_markdown":"Your problem is likely caused by a schizophrenic character encoding situation, typical of some Windows installations. It&#39;s having a problem with the Unicode/native encoding in the area of the &#39;complex&#39; characters in your home directory path. If you find out the DOS name of your home dir by ```dir C:\\Users /ad/x```  then you can try something like ```mvn -Duser.home=C:\\Users\\MYNAME~1 compile```. ","title":"java.io.FileNotFoundException while building Maven project","body":"<p>Your problem is likely caused by a schizophrenic character encoding situation, typical of some Windows installations. It's having a problem with the Unicode/native encoding in the area of the 'complex' characters in your home directory path. If you find out the DOS name of your home dir by <code>dir C:\\Users /ad/x</code>  then you can try something like <code>mvn -Duser.home=C:\\Users\\MYNAME~1 compile</code>.</p>\n"},{"tags":[],"owner":{"account_id":7553986,"reputation":21,"user_id":5734407,"display_name":"Tim Kilian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663843159,"creation_date":1663843159,"answer_id":73813215,"question_id":73812077,"body_markdown":"Move the project out of your home directory.","title":"java.io.FileNotFoundException while building Maven project","body":"<p>Move the project out of your home directory.</p>\n"}],"owner":{"account_id":6003126,"reputation":678,"user_id":5384988,"accept_rate":67,"display_name":"Meric Ozcan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73813181,"answer_count":2,"score":0,"last_activity_date":1663843159,"creation_date":1663837958,"question_id":73812077,"body_markdown":"   \r\nI am facing below problem. I thought it is because of the some special chars in the following path as *&quot;C:\\Users\\Meri�\\.m2\\r&quot;*. I changed the encoding type as in the most upvoted answer [UTF8 Encoding][1] but error still persist. I check the file path and I can see that there is a jar file called, *maven-antrun-plugin-1.7.jar*.\r\n \r\n\r\n    --- maven-antrun-plugin:1.7:run (generate-status-code-file) @ bla_bla ---\r\n        [WARNING] Parameter tasks is deprecated, use target instead\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] BUILD FAILURE\r\n        [INFO] ------------------------------------------------------------------------\r\n        [INFO] Total time:  6.015 s\r\n        [INFO] Finished at: 2022-09-22T12:01:52+03:00\r\n        [INFO] ------------------------------------------------------------------------\r\n        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (generate-status-code-file) on project bla_bla: An Ant BuildException has occured: The following error occurred while executing this line:\r\n        [ERROR] java.io.FileNotFoundException: C:\\Users\\Meri�\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-antrun-plugin\\1.7\\maven-antrun-plugin-1.7.jar \r\n        [ERROR] -&gt; [Help 1]\r\n\r\nWhat can I do to fix this error?\r\n\r\n**Note: I imported a maven project from a repo, to my eclipse. I added specific settings.xml file added to maven settings. Then tried to build the project.**\r\n\r\n  [1]: https://stackoverflow.com/questions/9180981/how-to-support-utf-8-encoding-in-eclipse","title":"java.io.FileNotFoundException while building Maven project","body":"<p>I am facing below problem. I thought it is because of the some special chars in the following path as <em>&quot;C:\\Users\\Meri�.m2\\r&quot;</em>. I changed the encoding type as in the most upvoted answer <a href=\"https://stackoverflow.com/questions/9180981/how-to-support-utf-8-encoding-in-eclipse\">UTF8 Encoding</a> but error still persist. I check the file path and I can see that there is a jar file called, <em>maven-antrun-plugin-1.7.jar</em>.</p>\n<pre><code>--- maven-antrun-plugin:1.7:run (generate-status-code-file) @ bla_bla ---\n    [WARNING] Parameter tasks is deprecated, use target instead\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time:  6.015 s\n    [INFO] Finished at: 2022-09-22T12:01:52+03:00\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (generate-status-code-file) on project bla_bla: An Ant BuildException has occured: The following error occurred while executing this line:\n    [ERROR] java.io.FileNotFoundException: C:\\Users\\Meri�\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-antrun-plugin\\1.7\\maven-antrun-plugin-1.7.jar \n    [ERROR] -&gt; [Help 1]\n</code></pre>\n<p>What can I do to fix this error?</p>\n<p><strong>Note: I imported a maven project from a repo, to my eclipse. I added specific settings.xml file added to maven settings. Then tried to build the project.</strong></p>\n"},{"tags":["java","osmdroid"],"answers":[{"tags":[],"owner":{"account_id":3796657,"reputation":3430,"user_id":3151518,"display_name":"MKer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663843120,"creation_date":1663843120,"answer_id":73813208,"question_id":73298534,"body_markdown":"Usage of CompassOverlay is shown in the sample app OpenStreetMapViewer:\r\n\r\nhttps://github.com/osmdroid/osmdroid/blob/master/OpenStreetMapViewer/src/main/java/org/osmdroid/samplefragments/location/CompassRoseSample.java","title":"osmdroid: Follow map north on rotation","body":"<p>Usage of CompassOverlay is shown in the sample app OpenStreetMapViewer:</p>\n<p><a href=\"https://github.com/osmdroid/osmdroid/blob/master/OpenStreetMapViewer/src/main/java/org/osmdroid/samplefragments/location/CompassRoseSample.java\" rel=\"nofollow noreferrer\">https://github.com/osmdroid/osmdroid/blob/master/OpenStreetMapViewer/src/main/java/org/osmdroid/samplefragments/location/CompassRoseSample.java</a></p>\n"}],"owner":{"account_id":8700262,"reputation":638,"user_id":6510411,"display_name":"Nekomajin42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663843120,"creation_date":1660082334,"question_id":73298534,"body_markdown":"I want to integrate OSM into my application to show the map of a given location. I want to show the north direction on the map, even when the user rotates the map. The OsmAnd app has a compass mode exactly like this, but the osmdroid API does not seem to have it.\r\n\r\n**Relevant code**\r\n```\r\npublic class MapFragment extends Fragment {\r\n    FragmentMapBinding binding;\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        binding = FragmentMapBinding.inflate(inflater);\r\n\r\n        Configuration.getInstance().load(getContext(), PreferenceManager.getDefaultSharedPreferences(getContext()));\r\n\r\n        binding.map.setTileSource(TileSourceFactory.MAPNIK);\r\n        binding.map.setMultiTouchControls(true);\r\n\r\n        CompassOverlay compassOverlay = new CompassOverlay(getContext(), new InternalCompassOrientationProvider(getContext()), binding.map);\r\n        compassOverlay.enableCompass();\r\n        binding.map.getOverlays().add(compassOverlay);\r\n\r\n        RotationGestureOverlay rotationOverlay = new RotationGestureOverlay(binding.map);\r\n        rotationOverlay.setEnabled(true);\r\n        binding.map.getOverlays().add(rotationOverlay);\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        binding.map.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        binding.map.onPause();\r\n    }\r\n}\r\n```\r\n\r\nIs there any built in solution I miss, or I have to implement something on my own?","title":"osmdroid: Follow map north on rotation","body":"<p>I want to integrate OSM into my application to show the map of a given location. I want to show the north direction on the map, even when the user rotates the map. The OsmAnd app has a compass mode exactly like this, but the osmdroid API does not seem to have it.</p>\n<p><strong>Relevant code</strong></p>\n<pre><code>public class MapFragment extends Fragment {\n    FragmentMapBinding binding;\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        binding = FragmentMapBinding.inflate(inflater);\n\n        Configuration.getInstance().load(getContext(), PreferenceManager.getDefaultSharedPreferences(getContext()));\n\n        binding.map.setTileSource(TileSourceFactory.MAPNIK);\n        binding.map.setMultiTouchControls(true);\n\n        CompassOverlay compassOverlay = new CompassOverlay(getContext(), new InternalCompassOrientationProvider(getContext()), binding.map);\n        compassOverlay.enableCompass();\n        binding.map.getOverlays().add(compassOverlay);\n\n        RotationGestureOverlay rotationOverlay = new RotationGestureOverlay(binding.map);\n        rotationOverlay.setEnabled(true);\n        binding.map.getOverlays().add(rotationOverlay);\n\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        binding.map.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        binding.map.onPause();\n    }\n}\n</code></pre>\n<p>Is there any built in solution I miss, or I have to implement something on my own?</p>\n"},{"tags":["java","outputstream","stringtemplate","stringtemplate-4"],"answers":[{"tags":[],"owner":{"account_id":387326,"reputation":922,"user_id":745619,"accept_rate":80,"display_name":"Chuck Lowery"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1398453970,"creation_date":1398453970,"answer_id":23301394,"question_id":14792992,"body_markdown":"You can use the `AutoIndentWriter` if you want to maintain the standard formatting.\r\n\r\n    ST template = group.getInstanceOf(&quot;YourTemplate&quot;);\r\n    OutputStreamWriter osWriter = new OutputStreamWriter(stream);\r\n    STWriter stWriter = new AutoIndentWriter(osWriter);\r\n    template.write(stWriter);\r\n    osWriter.flush();","title":"How to write to an OutputStream directly using Stringtemplate 4.x?","body":"<p>You can use the <code>AutoIndentWriter</code> if you want to maintain the standard formatting.</p>\n\n<pre><code>ST template = group.getInstanceOf(\"YourTemplate\");\nOutputStreamWriter osWriter = new OutputStreamWriter(stream);\nSTWriter stWriter = new AutoIndentWriter(osWriter);\ntemplate.write(stWriter);\nosWriter.flush();\n</code></pre>\n"}],"owner":{"display_name":"user177800"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23301394,"answer_count":1,"score":4,"last_activity_date":1663842697,"creation_date":1360453890,"question_id":14792992,"body_markdown":"I don&#39;t want to call `.render()` and build extremely large `Strings` from some of my templates. In previous versions you could write to an `OutputStream` directly instead of having to render the entire template to a `String` and then write that out.\r\n\r\nI tried using `ST.write()` with an instance of `NoIndentWriter` but that produces no output.\r\n\r\nHow do you write directly to an `OutputStream` using the latest version of `Stringtemplate`?","title":"How to write to an OutputStream directly using Stringtemplate 4.x?","body":"<p>I don't want to call <code>.render()</code> and build extremely large <code>Strings</code> from some of my templates. In previous versions you could write to an <code>OutputStream</code> directly instead of having to render the entire template to a <code>String</code> and then write that out.</p>\n<p>I tried using <code>ST.write()</code> with an instance of <code>NoIndentWriter</code> but that produces no output.</p>\n<p>How do you write directly to an <code>OutputStream</code> using the latest version of <code>Stringtemplate</code>?</p>\n"},{"tags":["java","azure-functions","azure-blob-storage","azure-storage"],"comments":[{"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"score":0,"creation_date":1663853913,"post_id":73813119,"comment_id":130340944,"body_markdown":"https://stackoverflow.com/questions/35708355/java-azure-storage-client-deleting-blobs","body":"<a href=\"https://stackoverflow.com/questions/35708355/java-azure-storage-client-deleting-blobs\" title=\"java azure storage client deleting blobs\">stackoverflow.com/questions/35708355/&hellip;</a>"},{"owner":{"account_id":11159122,"reputation":2112,"user_id":8189867,"display_name":"SumanthMarigowda-MSFT"},"score":0,"creation_date":1666760518,"post_id":73813119,"comment_id":131009848,"body_markdown":"Can you use the Java SDK from within the Azure Function to make a connection to the storage account and delete the object?","body":"Can you use the Java SDK from within the Azure Function to make a connection to the storage account and delete the object?"}],"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663842627,"creation_date":1663842627,"question_id":73813119,"body_markdown":"I am using AzureFunctions, AzureStorageExplorer and Java.\r\nAfter uploading a blob file it activates the blob trigger and runs code.\r\n\r\nAfter it runs, I wish for the file that I uploaded to be deleted.\r\nHow do I delete the passed blob file from the storage container.\r\n\r\n    @FunctionName(&quot;import-import&quot;)\r\n    public void run(\r\n            @BlobTrigger(\r\n                    name = &quot;import&quot;,\r\n                    dataType = &quot;binary&quot;,\r\n                    path = &quot;import/containers/{name}&quot;,\r\n                    connection = &quot;SourceStorage&quot;\r\n            ) final byte[] content,\r\n            @BindingName(&quot;name&quot;) final String filename,\r\n            final ExecutionContext context\r\n    ) {\r\n        final Logger logger = context.getLogger();","title":"Java, delete blob file after it passes through BlobTrigger","body":"<p>I am using AzureFunctions, AzureStorageExplorer and Java.\nAfter uploading a blob file it activates the blob trigger and runs code.</p>\n<p>After it runs, I wish for the file that I uploaded to be deleted.\nHow do I delete the passed blob file from the storage container.</p>\n<pre><code>@FunctionName(&quot;import-import&quot;)\npublic void run(\n        @BlobTrigger(\n                name = &quot;import&quot;,\n                dataType = &quot;binary&quot;,\n                path = &quot;import/containers/{name}&quot;,\n                connection = &quot;SourceStorage&quot;\n        ) final byte[] content,\n        @BindingName(&quot;name&quot;) final String filename,\n        final ExecutionContext context\n) {\n    final Logger logger = context.getLogger();\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":3043203,"reputation":1034,"user_id":2579652,"accept_rate":77,"display_name":"Dhru &#39;soni"},"score":1,"creation_date":1663663765,"post_id":73783927,"comment_id":130287245,"body_markdown":"@Test(invocationCount = 10) you can use. It will execute your same test case 10 times.","body":"@Test(invocationCount = 10) you can use. It will execute your same test case 10 times."}],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663665022,"creation_date":1663665022,"answer_id":73784224,"question_id":73783927,"body_markdown":"You can call your function using any iterator such as *while* or *for* loops and set your calling limit.","title":"Is there a way to write a function to call multiple times in java selenium webdriver","body":"<p>You can call your function using any iterator such as <em>while</em> or <em>for</em> loops and set your calling limit.</p>\n"},{"tags":[],"owner":{"account_id":12265690,"reputation":3,"user_id":8952288,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663666105,"creation_date":1663666105,"answer_id":73784456,"question_id":73783927,"body_markdown":"You can call your function with a time duration using the java scheduler \r\n[schedulers-in-java][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/schedulers-in-java-and-spring","title":"Is there a way to write a function to call multiple times in java selenium webdriver","body":"<p>You can call your function with a time duration using the java scheduler\n<a href=\"https://dzone.com/articles/schedulers-in-java-and-spring\" rel=\"nofollow noreferrer\">schedulers-in-java</a></p>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663842622,"creation_date":1663842622,"answer_id":73813118,"question_id":73783927,"body_markdown":"Write method like this below with name as &quot;logOut&quot;, then in you Test function you can call this method when you want script to logout\r\n\r\n    public void logOut(){\r\n            Thread.sleep(500);\r\n            driver.findElement(By.id(&quot;headerIconLogout&quot;)).click();\r\n            driver.findElement(By.id(&quot;logOutYesIcon&quot;)).click();\r\n    \r\n    }\r\n    @Test(priority = 0)\r\n    public void platformAdminLogin() {\r\n        // login as platform admin with correct credentials\r\n        try {\r\n            driver.findElement(By.id(&quot;emailId&quot;)).sendKeys(&quot;platform.admin@rotic.com&quot;);\r\n            driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Test@123&quot;);\r\n            driver.findElement(By.className(&quot;loginButton&quot;)).click();\r\n            System.out.println(&quot;Sucessful login as Platform admin&quot;);\r\n            \r\n    //Calling Logout method Here       \r\n           logOut();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error while login as Platform admin = &quot; + e);\r\n        }","title":"Is there a way to write a function to call multiple times in java selenium webdriver","body":"<p>Write method like this below with name as &quot;logOut&quot;, then in you Test function you can call this method when you want script to logout</p>\n<pre><code>public void logOut(){\n        Thread.sleep(500);\n        driver.findElement(By.id(&quot;headerIconLogout&quot;)).click();\n        driver.findElement(By.id(&quot;logOutYesIcon&quot;)).click();\n\n}\n@Test(priority = 0)\npublic void platformAdminLogin() {\n    // login as platform admin with correct credentials\n    try {\n        driver.findElement(By.id(&quot;emailId&quot;)).sendKeys(&quot;platform.admin@rotic.com&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Test@123&quot;);\n        driver.findElement(By.className(&quot;loginButton&quot;)).click();\n        System.out.println(&quot;Sucessful login as Platform admin&quot;);\n        \n//Calling Logout method Here       \n       logOut();\n\n    } catch (Exception e) {\n        System.out.println(&quot;Error while login as Platform admin = &quot; + e);\n    }\n</code></pre>\n"}],"owner":{"account_id":23995114,"reputation":17,"user_id":17980717,"display_name":"Vishanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1663842622,"creation_date":1663663507,"question_id":73783927,"body_markdown":"    @Test(priority = 0)\r\n\tpublic void platformAdminLogin() {\r\n\t\t// login as platform admin with correct credentials\r\n\t\ttry {\r\n\t\t\tdriver.findElement(By.id(&quot;emailId&quot;)).sendKeys(&quot;platform.admin@rotic.com&quot;);\r\n\t\t\tdriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Test@123&quot;);\r\n\t\t\tdriver.findElement(By.className(&quot;loginButton&quot;)).click();\r\n\t\t\tSystem.out.println(&quot;Sucessful login as Platform admin&quot;);\r\n\t\t\t//Logout\r\n\t\t\tThread.sleep(500);\r\n\t\t\tdriver.findElement(By.id(&quot;headerIconLogout&quot;)).click();\r\n\t\t\tdriver.findElement(By.id(&quot;logOutYesIcon&quot;)).click();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error while login as Platform admin = &quot; + e);\r\n\t\t}\r\n\r\n\r\nHow to write a function for logout and how to call multiple times","title":"Is there a way to write a function to call multiple times in java selenium webdriver","body":"<pre><code>@Test(priority = 0)\npublic void platformAdminLogin() {\n    // login as platform admin with correct credentials\n    try {\n        driver.findElement(By.id(&quot;emailId&quot;)).sendKeys(&quot;platform.admin@rotic.com&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Test@123&quot;);\n        driver.findElement(By.className(&quot;loginButton&quot;)).click();\n        System.out.println(&quot;Sucessful login as Platform admin&quot;);\n        //Logout\n        Thread.sleep(500);\n        driver.findElement(By.id(&quot;headerIconLogout&quot;)).click();\n        driver.findElement(By.id(&quot;logOutYesIcon&quot;)).click();\n    } catch (Exception e) {\n        System.out.println(&quot;Error while login as Platform admin = &quot; + e);\n    }\n</code></pre>\n<p>How to write a function for logout and how to call multiple times</p>\n"},{"tags":["java","html","selenium","attributes"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1495791569,"post_id":44198187,"comment_id":75409534,"body_markdown":"Can you consider sharing your work with us? Thanks","body":"Can you consider sharing your work with us? Thanks"},{"owner":{"account_id":6719388,"reputation":5065,"user_id":5180017,"display_name":"Shashanth"},"score":3,"creation_date":1495797580,"post_id":44198187,"comment_id":75413130,"body_markdown":"Please don&#39;t (mis)use comments section to post the code instead of the [edit] your question post it there.","body":"Please don&#39;t (mis)use comments section to post the code instead of the <a href=\"https://stackoverflow.com/posts/44198187/edit\">edit</a> your question post it there."}],"answers":[{"tags":[],"owner":{"account_id":6573901,"reputation":1797,"user_id":5080787,"accept_rate":83,"display_name":"Maciej Kozieja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663842601,"creation_date":1495791388,"answer_id":44198254,"question_id":44198187,"body_markdown":"Just check if attributre value is not null.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const hasAttr = (el, attr) =&gt; el.getAttribute(attr) != null\r\n    \r\n    console.log(hasAttr(rdo, &#39;checked&#39;))\r\n    console.log(hasAttr(rdo2, &#39;checked&#39;))\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input id=&quot;rdo&quot; type=&quot;radio&quot; name=&quot;nrdo&quot; value=&quot;1&quot; checked&gt;\r\n    &lt;input id=&quot;rdo2&quot; type=&quot;radio&quot; name=&quot;nrdo&quot; value=&quot;1&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to find attribute without value is present or not in HTML tag using Selenium?","body":"<p>Just check if attributre value is not null.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const hasAttr = (el, attr) =&gt; el.getAttribute(attr) != null\n\nconsole.log(hasAttr(rdo, 'checked'))\nconsole.log(hasAttr(rdo2, 'checked'))</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input id=\"rdo\" type=\"radio\" name=\"nrdo\" value=\"1\" checked&gt;\n&lt;input id=\"rdo2\" type=\"radio\" name=\"nrdo\" value=\"1\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":10979662,"reputation":1,"user_id":8067218,"display_name":"farvher"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1495816208,"creation_date":1495816208,"answer_id":44206231,"question_id":44198187,"body_markdown":"Use Jquery attr\r\n\r\nhttp://api.jquery.com/attr/\r\n\r\n    $.each($( &quot;:input&quot; ),function(i,o){\r\n     alert($(this).attr(&quot;value&quot;)==undefined);\r\n    })\r\n\r\n","title":"How to find attribute without value is present or not in HTML tag using Selenium?","body":"<p>Use Jquery attr</p>\n\n<p><a href=\"http://api.jquery.com/attr/\" rel=\"nofollow noreferrer\">http://api.jquery.com/attr/</a></p>\n\n<pre><code>$.each($( \":input\" ),function(i,o){\n alert($(this).attr(\"value\")==undefined);\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4134480,"reputation":67,"user_id":3391424,"display_name":"Jayanath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552392397,"creation_date":1552392397,"answer_id":55121094,"question_id":44198187,"body_markdown":"The element.getAttribute(attributeName) returns null for both\r\n1. Attribute without value\r\n2. Attribute is not present\r\n\r\n ","title":"How to find attribute without value is present or not in HTML tag using Selenium?","body":"<p>The element.getAttribute(attributeName) returns null for both\n1. Attribute without value\n2. Attribute is not present</p>\n"}],"owner":{"account_id":5177700,"reputation":113,"user_id":4144251,"accept_rate":67,"display_name":"Karthik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1663842601,"creation_date":1495791153,"question_id":44198187,"body_markdown":"Ex: Radio - checked \r\n\r\n&lt;!-- language: html --&gt;\r\n\r\n    &lt;input id=&quot;rdo&quot; type=&quot;radio&quot; name=&quot;nrdo&quot; value=&quot;1&quot; checked&gt;\r\n\r\nEx: Radio - unchecked \r\n\r\n&lt;!-- language: html --&gt;\r\n\r\n    &lt;input id=&quot;rdo&quot; type=&quot;radio&quot; name=&quot;nrdo&quot; value=&quot;1&quot;&gt; \r\n\r\nNeed to find attribute without value is present on HTML tag or not using Selenium.\r\n\r\nThis code works only if attribute has value:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public boolean isAttribtuePresent(String element, String attribute) { \r\n        Boolean result = false; \r\n        String value = &quot;vvv&quot;; \r\n        // element = &quot;Month &#39;&#39;May&#39;&#39; @xpath=//button[text()=&#39;Jun&#39;]&quot;; \r\n        try { \r\n            value = webElement.getAttribute(attribute); \r\n            if (value != null) { \r\n                result = true; \r\n            } \r\n        } catch (Exception e) {  \r\n            System.out.print(e.toString()); \r\n        } \r\n        System.out.print(&quot;***&quot;+value+&quot;*****&quot;); \r\n        return result; \r\n    }","title":"How to find attribute without value is present or not in HTML tag using Selenium?","body":"<p>Ex: Radio - checked </p>\n\n<pre><code>&lt;input id=\"rdo\" type=\"radio\" name=\"nrdo\" value=\"1\" checked&gt;\n</code></pre>\n\n<p>Ex: Radio - unchecked </p>\n\n<pre><code>&lt;input id=\"rdo\" type=\"radio\" name=\"nrdo\" value=\"1\"&gt; \n</code></pre>\n\n<p>Need to find attribute without value is present on HTML tag or not using Selenium.</p>\n\n<p>This code works only if attribute has value:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isAttribtuePresent(String element, String attribute) { \n    Boolean result = false; \n    String value = \"vvv\"; \n    // element = \"Month ''May'' @xpath=//button[text()='Jun']\"; \n    try { \n        value = webElement.getAttribute(attribute); \n        if (value != null) { \n            result = true; \n        } \n    } catch (Exception e) {  \n        System.out.print(e.toString()); \n    } \n    System.out.print(\"***\"+value+\"*****\"); \n    return result; \n}\n</code></pre>\n"},{"tags":["java","selenium","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1631365403,"post_id":69140570,"comment_id":122205261,"body_markdown":"Make sure that the pdfbox jar files are in your classpath a runtime.","body":"Make sure that the pdfbox jar files are in your classpath a runtime."}],"answers":[{"tags":[],"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631345901,"creation_date":1631341890,"answer_id":69140613,"question_id":69140570,"body_markdown":"maybe you import wrong library.\r\nIf you have a `maven` project, add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand `imported` libraries:\r\n\r\n    import java.net.URL;\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.text.PDFTextStripper;\r\n    import java.io.InputStream;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.IOException;\r\n","title":"Unable to load PDF from url","body":"<p>maybe you import wrong library.\nIf you have a <code>maven</code> project, add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n    &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n    &lt;version&gt;2.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and <code>imported</code> libraries:</p>\n<pre><code>import java.net.URL;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.text.PDFTextStripper;\nimport java.io.InputStream;\nimport java.io.BufferedInputStream;\nimport java.io.IOException;\n</code></pre>\n"}],"owner":{"account_id":17888127,"reputation":39,"user_id":12995285,"display_name":"ankush singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1663842169,"creation_date":1631341367,"question_id":69140570,"body_markdown":"I am using selenium and i want to read a content from pdf which is open in url\r\n\r\n\r\n    String url=https://dms.careerbuilder.com/viewer?Token=e6c1c73dfd2e4e42b806f414f41ae6cd&amp;key=574dda953a7bd92e0ab217d1a637d88b41926aab6033dee85660d385b335ac86\r\n\r\n    try {\r\n\t\t\tString pdfContent = readPdfContent(url);\r\n\t\t\tAssert.assertTrue(pdfContent.contains(&quot;Test Kumar&quot;));\r\n\t\t\tAssert.assertTrue(pdfContent.contains(&quot;XXXXX&quot;));\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n[![][1]][1]\r\n\r\nbelow is the function which is call above  error coming-&#39;The method load(BufferedInputStream) is undefined for the type PDDocument&#39;\r\n\r\n    public static  String readPdfContent(String url) throws IOException {\r\n\t\t\r\n\t\tURL pdfUrl = new URL(url);\r\n\t\tInputStream in = pdfUrl.openStream();\r\n\t\tBufferedInputStream bf = new BufferedInputStream(in);\r\n\t\tPDDocument doc = PDDocument.load(bf);\r\n\t\tint numberOfPages = getPageCount(doc);\r\n\t\tSystem.out.println(&quot;The total number of pages &quot;+numberOfPages);\r\n\t\tString content = new PDFTextStripper().getText(doc);\r\n\t\tdoc.close();\t\r\n\treturn content;\r\n}\r\n\r\n\r\n\r\n    public static int getPageCount(PDDocument doc) {\r\n\t//get the total number of pages in the pdf document\r\n\tint pageCount = doc.getNumberOfPages();\r\n\treturn pageCount;\r\n}\r\n\r\n\r\nhelp me for this. Thanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DfT4E.png","title":"Unable to load PDF from url","body":"<p>I am using selenium and i want to read a content from pdf which is open in url</p>\n<pre><code>String url=https://dms.careerbuilder.com/viewer?Token=e6c1c73dfd2e4e42b806f414f41ae6cd&amp;key=574dda953a7bd92e0ab217d1a637d88b41926aab6033dee85660d385b335ac86\n\ntry {\n        String pdfContent = readPdfContent(url);\n        Assert.assertTrue(pdfContent.contains(&quot;Test Kumar&quot;));\n        Assert.assertTrue(pdfContent.contains(&quot;XXXXX&quot;));\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DfT4E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DfT4E.png\" alt=\"\" /></a></p>\n<p>below is the function which is call above  error coming-'The method load(BufferedInputStream) is undefined for the type PDDocument'</p>\n<pre><code>public static  String readPdfContent(String url) throws IOException {\n    \n    URL pdfUrl = new URL(url);\n    InputStream in = pdfUrl.openStream();\n    BufferedInputStream bf = new BufferedInputStream(in);\n    PDDocument doc = PDDocument.load(bf);\n    int numberOfPages = getPageCount(doc);\n    System.out.println(&quot;The total number of pages &quot;+numberOfPages);\n    String content = new PDFTextStripper().getText(doc);\n    doc.close();    \nreturn content;\n</code></pre>\n<p>}</p>\n<pre><code>public static int getPageCount(PDDocument doc) {\n//get the total number of pages in the pdf document\nint pageCount = doc.getNumberOfPages();\nreturn pageCount;\n</code></pre>\n<p>}</p>\n<p>help me for this. Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","mybatis"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663841914,"creation_date":1663838656,"answer_id":73812239,"question_id":73811913,"body_markdown":"Based on question above, you can modify your `registration` method in `RegistrationController` something like below, along with using Autowired annotation in controller : \r\n\r\n\r\n   \r\n    public class RegistrationController {\r\n    ..\r\n    @Autowired\r\n    RegistrationService registrationService;\r\n    ...\r\n\r\n    public Result registration(@RequestBody NewUser user) {\r\n            System.out.println(user.toString());\r\n            if(user!=null &amp;&amp; user.getCompanyName()!=null) {\r\n              int insert = registrationService.addAcctAppl(user.getCompanyName());\r\n              return insert&gt;0 ? new Result(200) : new Result(500);\r\n            }\r\n            else {\r\n              return new Result(400);\r\n           }\r\n        }\r\n  \r\n\r\nhere based on input data, calling service method &amp; returning appropriate httpStatus code as argument to `Result`.\r\n\r\n","title":"Insert spring boot data to database","body":"<p>Based on question above, you can modify your <code>registration</code> method in <code>RegistrationController</code> something like below, along with using Autowired annotation in controller :</p>\n<pre><code>public class RegistrationController {\n..\n@Autowired\nRegistrationService registrationService;\n...\n\npublic Result registration(@RequestBody NewUser user) {\n        System.out.println(user.toString());\n        if(user!=null &amp;&amp; user.getCompanyName()!=null) {\n          int insert = registrationService.addAcctAppl(user.getCompanyName());\n          return insert&gt;0 ? new Result(200) : new Result(500);\n        }\n        else {\n          return new Result(400);\n       }\n    }\n</code></pre>\n<p>here based on input data, calling service method &amp; returning appropriate httpStatus code as argument to <code>Result</code>.</p>\n"},{"tags":[],"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663838730,"creation_date":1663838730,"answer_id":73812258,"question_id":73811913,"body_markdown":"Hello friend I suggest you use Spring Data JPA dependency, it makes alot easier to perform any database operation.\r\n\r\n&gt; Spring Data JPA provides repository support for the Java Persistence\r\n&gt; API (JPA). It eases development of applications that need to access\r\n&gt; JPA data sources.\r\n\r\nHere are some good reference links\r\n\r\n[Spring Data JPA - Reference Documentation][1]\r\n\r\n[Introduction to Spring Data JPA][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\r\n  [2]: https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa","title":"Insert spring boot data to database","body":"<p>Hello friend I suggest you use Spring Data JPA dependency, it makes alot easier to perform any database operation.</p>\n<blockquote>\n<p>Spring Data JPA provides repository support for the Java Persistence\nAPI (JPA). It eases development of applications that need to access\nJPA data sources.</p>\n</blockquote>\n<p>Here are some good reference links</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring Data JPA - Reference Documentation</a></p>\n<p><a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">Introduction to Spring Data JPA</a></p>\n"}],"owner":{"account_id":19544495,"reputation":39,"user_id":14301623,"display_name":"Ka hei Tong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73812239,"answer_count":2,"score":1,"last_activity_date":1663841914,"creation_date":1663837223,"question_id":73811913,"body_markdown":"I am completely new to spring boot and I am now trying to insert some data to my database from spring boot. What is the correct way to do this?\r\n[file structure][1]&lt;br/&gt;\r\nNewUser.java\r\n```\r\npackage com.example.demo.pojo;\r\npublic class NewUser {\r\n    private String CompanyName;\r\n\r\n    public String getCompanyName() {\r\n        return CompanyName;\r\n    }\r\n\r\n    public void setCompanyName(String CompanyName) {\r\n        this.CompanyName = CompanyName;\r\n    }\r\n}\r\n```\r\n\r\nRegistrationController.java\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport com.example.demo.result.Result;\r\nimport com.example.demo.pojo.NewUser;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport com.example.demo.service.RegistrationService;\r\n\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class RegistrationController {\r\n\t@CrossOrigin\r\n    @PostMapping(value = &quot;api/registration&quot;)\r\n\r\n\t@ResponseBody\r\n\tpublic Result registration(@RequestBody NewUser user) {\r\n\t\tSystem.out.println(user.toString());\r\n\t\treturn new Result(200);\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nAbove is how I get data from frontend and below is what I tried to insert data. How should I call the service to insert data?&lt;br/&gt;&lt;br/&gt;\r\nAccApplMapper.java\r\n```\r\npackage com.example.demo.mapper;\r\n\r\nimport org.apache.ibatis.annotations.Insert;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Param;\r\n\r\n@Mapper\r\npublic interface AccApplMapper {\r\n    @Insert(&quot;INSERT INTO ACCT_APPL(ENG_COMP_NAME) VALUES(#{CompanyName}&quot;)\r\n    public int addAcctAppl(@Param(&quot;CompanyName&quot;) String CompanyName);\r\n}\r\n \r\n```\r\n\r\nRegistrationService.java\r\n```\r\npackage com.example.demo.service;\r\n\r\nimport com.example.demo.mapper.AccApplMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class RegistrationService {\r\n    \r\n\r\n    private AccApplMapper accApplMapper;\r\n    public int addAcctAppl(String CompanyName) {\r\n        return accApplMapper.addAcctAppl(CompanyName);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xBJnb.png","title":"Insert spring boot data to database","body":"<p>I am completely new to spring boot and I am now trying to insert some data to my database from spring boot. What is the correct way to do this?\n<a href=\"https://i.stack.imgur.com/xBJnb.png\" rel=\"nofollow noreferrer\">file structure</a><br/>\nNewUser.java</p>\n<pre><code>package com.example.demo.pojo;\npublic class NewUser {\n    private String CompanyName;\n\n    public String getCompanyName() {\n        return CompanyName;\n    }\n\n    public void setCompanyName(String CompanyName) {\n        this.CompanyName = CompanyName;\n    }\n}\n</code></pre>\n<p>RegistrationController.java</p>\n<pre><code>package com.example.demo.controller;\n\nimport com.example.demo.result.Result;\nimport com.example.demo.pojo.NewUser;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport com.example.demo.service.RegistrationService;\n\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class RegistrationController {\n    @CrossOrigin\n    @PostMapping(value = &quot;api/registration&quot;)\n\n    @ResponseBody\n    public Result registration(@RequestBody NewUser user) {\n        System.out.println(user.toString());\n        return new Result(200);\n    }\n\n\n}\n</code></pre>\n<p>Above is how I get data from frontend and below is what I tried to insert data. How should I call the service to insert data?<br/><br/>\nAccApplMapper.java</p>\n<pre><code>package com.example.demo.mapper;\n\nimport org.apache.ibatis.annotations.Insert;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Param;\n\n@Mapper\npublic interface AccApplMapper {\n    @Insert(&quot;INSERT INTO ACCT_APPL(ENG_COMP_NAME) VALUES(#{CompanyName}&quot;)\n    public int addAcctAppl(@Param(&quot;CompanyName&quot;) String CompanyName);\n}\n \n</code></pre>\n<p>RegistrationService.java</p>\n<pre><code>package com.example.demo.service;\n\nimport com.example.demo.mapper.AccApplMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class RegistrationService {\n    \n\n    private AccApplMapper accApplMapper;\n    public int addAcctAppl(String CompanyName) {\n        return accApplMapper.addAcctAppl(CompanyName);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","complex-event-processing","esper","nesper"],"answers":[{"tags":[],"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663712143,"creation_date":1663712143,"answer_id":73793169,"question_id":73793024,"body_markdown":"https://www.espertech.com/2018/10/23/esper-8-migrating-api-uses-from-older-versions/ provide the solution. Need to call this -\r\n\r\nruntime.initialize();","title":"Esper Engine : Same table created again when running JUNIT test cases","body":"<p><a href=\"https://www.espertech.com/2018/10/23/esper-8-migrating-api-uses-from-older-versions/\" rel=\"nofollow noreferrer\">https://www.espertech.com/2018/10/23/esper-8-migrating-api-uses-from-older-versions/</a> provide the solution. Need to call this -</p>\n<p>runtime.initialize();</p>\n"},{"tags":[],"owner":{"account_id":212491,"reputation":1324,"user_id":465342,"accept_rate":53,"display_name":"Dakotah North"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663841800,"creation_date":1663719325,"answer_id":73793797,"question_id":73793024,"body_markdown":"A substantially faster alternative to run unit test suite with Esper is to use a context. \r\n\r\nSet up the Esper engine statically within the test class or in the `initAll` and use a context. For example \r\n\r\n    create context SingleDayContext start @now end EndOfDayEvent;\r\n\r\nand then send `EndOfDayEvent` events after each test to clear out all the events between each test\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n        epEventService.sendEvent(new EndOfDayEvent());\r\n\r\n    }\r\n\r\nDestroy the runtime in `@AfterAll`\r\n\r\n    @AfterAll\r\n    static void tearDownAll() {\r\n        runtime.destroy();\r\n\r\n    }\r\n\r\nto properly isolate the runtime between each test suite defined as part of each class.  ","title":"Esper Engine : Same table created again when running JUNIT test cases","body":"<p>A substantially faster alternative to run unit test suite with Esper is to use a context.</p>\n<p>Set up the Esper engine statically within the test class or in the <code>initAll</code> and use a context. For example</p>\n<pre><code>create context SingleDayContext start @now end EndOfDayEvent;\n</code></pre>\n<p>and then send <code>EndOfDayEvent</code> events after each test to clear out all the events between each test</p>\n<pre><code>@AfterEach\nvoid tearDown() {\n    epEventService.sendEvent(new EndOfDayEvent());\n\n}\n</code></pre>\n<p>Destroy the runtime in <code>@AfterAll</code></p>\n<pre><code>@AfterAll\nstatic void tearDownAll() {\n    runtime.destroy();\n\n}\n</code></pre>\n<p>to properly isolate the runtime between each test suite defined as part of each class.</p>\n"}],"owner":{"account_id":890118,"reputation":335,"user_id":928563,"accept_rate":90,"display_name":"Sushil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663841800,"creation_date":1663710865,"question_id":73793024,"body_markdown":"I am using Esper 8.8. The following code is used to initialize SQL and register all events -\r\n\r\n        EPCompiler compiler = EPCompilerProvider.getCompiler();\r\n        Configuration configuration = new Configuration();\r\n        configuration.getCommon().addEventType(Employee.class);\r\n        configuration.getCompiler().getByteCode().setAllowSubscriber(true);\r\n\r\n        CompilerArguments arguments = new CompilerArguments(configuration);\r\n        EPCompiled epCompiled = compiler.compile(&quot;@public create table EmployeeTable(empId string primary key, age integer);&quot;, arguments);\r\n\r\n\r\n        EPRuntime runtime = EPRuntimeProvider.getDefaultRuntime(configuration);\r\n        arguments.getPath().add(runtime.getRuntimePath());\r\n        arguments.getPath().add(epCompiled);\r\n\r\n        EPDeploymentService deploymentService = runtime.getDeploymentService();\r\n        EPDeployment deployment = deploymentService.deploy(epCompiled);\r\n        EPEventService eventService = runtime.getEventService();\r\n\r\n\r\nWhen test cases run, each test executes the above code and reports the following error. The above code is present in a Spring Bean and initialized once in the application. However, test cases are initializing bean with each test and Engine should not remember any table creation  -  \r\n\r\n&gt;Caused by: com.espertech.esper.runtime.client.EPDeployPreconditionException: A precondition is not satisfied: A table by name &#39;EmployeeTable&#39; has already been created for module &#39;(unnamed)&#39;\r\n\tat com.espertech.esper.runtime.internal.kernel.service.DeployerHelperUpdatePath.updatePath(DeployerHelperUpdatePath.java:67)\r\n\tat com.espertech.esper.runtime.internal.kernel.service.Deployer.deploySafe(Deployer.java:97)\r\n\tat com.espertech.esper.runtime.internal.kernel.service.Deployer.deploy(Deployer.java:60)\r\n\tat com.espertech.esper.runtime.internal.kernel.service.Deployer.deployFresh(Deployer.java:48)\r\n\tat com.espertech.esper.runtime.internal.kernel.service.EPDeploymentServiceImpl.deploy(EPDeploymentServiceImpl.java:119)\r\n\tat com.espertech.esper.runtime.internal.kernel.service.EPDeploymentServiceImpl.deploy(EPDeploymentServiceImpl.java:94)\r\n\tat com.rbccm.gdm.aps.algo.esper.EsperEngine.init(EsperEngine.java:91)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\r\n\r\nIs there a way to clear Esper Engine in version 8.8.0. I found in Esper version 0.6.1 \r\n however these classes no more available in version 8.8.0 http://esper.espertech.com/release-6.0.1/esper-reference/html/api.html#api-engine-instances  -\r\n\r\n    // Obtain an engine instance\r\n    EPServiceProvider epService = EPServiceProviderManager.getDefaultProvider(config);\r\n    \r\n    // Optionally, use initialize if the same engine instance has been used before to start clean\r\n    epService.initialize();\r\n","title":"Esper Engine : Same table created again when running JUNIT test cases","body":"<p>I am using Esper 8.8. The following code is used to initialize SQL and register all events -</p>\n<pre><code>    EPCompiler compiler = EPCompilerProvider.getCompiler();\n    Configuration configuration = new Configuration();\n    configuration.getCommon().addEventType(Employee.class);\n    configuration.getCompiler().getByteCode().setAllowSubscriber(true);\n\n    CompilerArguments arguments = new CompilerArguments(configuration);\n    EPCompiled epCompiled = compiler.compile(&quot;@public create table EmployeeTable(empId string primary key, age integer);&quot;, arguments);\n\n\n    EPRuntime runtime = EPRuntimeProvider.getDefaultRuntime(configuration);\n    arguments.getPath().add(runtime.getRuntimePath());\n    arguments.getPath().add(epCompiled);\n\n    EPDeploymentService deploymentService = runtime.getDeploymentService();\n    EPDeployment deployment = deploymentService.deploy(epCompiled);\n    EPEventService eventService = runtime.getEventService();\n</code></pre>\n<p>When test cases run, each test executes the above code and reports the following error. The above code is present in a Spring Bean and initialized once in the application. However, test cases are initializing bean with each test and Engine should not remember any table creation  -</p>\n<blockquote>\n<p>Caused by: com.espertech.esper.runtime.client.EPDeployPreconditionException: A precondition is not satisfied: A table by name 'EmployeeTable' has already been created for module '(unnamed)'\nat com.espertech.esper.runtime.internal.kernel.service.DeployerHelperUpdatePath.updatePath(DeployerHelperUpdatePath.java:67)\nat com.espertech.esper.runtime.internal.kernel.service.Deployer.deploySafe(Deployer.java:97)\nat com.espertech.esper.runtime.internal.kernel.service.Deployer.deploy(Deployer.java:60)\nat com.espertech.esper.runtime.internal.kernel.service.Deployer.deployFresh(Deployer.java:48)\nat com.espertech.esper.runtime.internal.kernel.service.EPDeploymentServiceImpl.deploy(EPDeploymentServiceImpl.java:119)\nat com.espertech.esper.runtime.internal.kernel.service.EPDeploymentServiceImpl.deploy(EPDeploymentServiceImpl.java:94)\nat com.rbccm.gdm.aps.algo.esper.EsperEngine.init(EsperEngine.java:91)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)</p>\n</blockquote>\n<p>Is there a way to clear Esper Engine in version 8.8.0. I found in Esper version 0.6.1\nhowever these classes no more available in version 8.8.0 <a href=\"http://esper.espertech.com/release-6.0.1/esper-reference/html/api.html#api-engine-instances\" rel=\"nofollow noreferrer\">http://esper.espertech.com/release-6.0.1/esper-reference/html/api.html#api-engine-instances</a>  -</p>\n<pre><code>// Obtain an engine instance\nEPServiceProvider epService = EPServiceProviderManager.getDefaultProvider(config);\n\n// Optionally, use initialize if the same engine instance has been used before to start clean\nepService.initialize();\n</code></pre>\n"},{"tags":["java","spring","hibernate","inheritance","repository"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663841320,"creation_date":1663841320,"answer_id":73812859,"question_id":73802248,"body_markdown":"If you create a `ShapeEntityRepository` for the ShapeEntity class you don&#39;t need if-else blocks.\r\n\r\n```java\r\npublic interface ShapeEntityRepository\r\n        extends JpaRepository&lt;ShapeEntity, String&gt;, \r\n        JpaSpecificationExecutor&lt;ShapeEntity&gt; {}\r\n```\r\n\r\n`ShapeEntityRepository` is useable for all classes that are extended from the `ShapeEntity` class.\r\n\r\n```java\r\nShapeEntity circleEntity = new CircleEntity();\r\nShapeEntity squareEntity = new SquareEntity();\r\n\r\nshapeEntityRepository.save(circleEntity);\r\nshapeEntityRepository.save(squareEntity);\r\n```\r\n\r\nAlternatively, if there must be different repositories, you can use Spring&#39;s [GenericTypeResolver](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html) to get the repository of the class.\r\n\r\n```java\r\n@Component\r\npublic class RepositoryHolder {\r\n\r\n    private final List&lt;JpaRepository&gt; jpaRepositories;\r\n\r\n    public RepositoryHolder(List&lt;JpaRepository&gt; jpaRepositories) {\r\n        this.jpaRepositories = jpaRepositories;\r\n    }\r\n\r\n    public JpaRepository getRepositoryBy(Class&lt;?&gt; domainClass) {\r\n        Optional&lt;JpaRepository&gt; optionalRepository = jpaRepositories.stream()\r\n                .filter(repository -&gt; GenericTypeResolver\r\n                        .resolveTypeArguments(\r\n                                repository.getClass(),\r\n                                Repository.class\r\n                        )[0]\r\n                        .equals(domainClass))\r\n                .findFirst();\r\n        if (optionalRepository.isPresent()) {\r\n            return optionalRepository.get();\r\n        } else throw new IllegalArgumentException();\r\n    }\r\n}\r\n```\r\n\r\nIf you want to use it, your `save(...)` method will be something like this:\r\n\r\n```java\r\npublic void save(ShapeEntity shapeEntity) {\r\n    JpaRepository repository = repositoryHolder\r\n            .getRepositoryBy(shapeEntity.getClass());\r\n    repository.save(shapeEntity);\r\n}\r\n```\r\n\r\nNote: `JPA Repository` allows to use default CRUD functions, you can add an intermediate repository bean [like here](https://stackoverflow.com/a/43351269/2039546) and reduce these codes to that intermediate repository.","title":"One method to save entity which extand abstract class in repository","body":"<p>If you create a <code>ShapeEntityRepository</code> for the ShapeEntity class you don't need if-else blocks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ShapeEntityRepository\n        extends JpaRepository&lt;ShapeEntity, String&gt;, \n        JpaSpecificationExecutor&lt;ShapeEntity&gt; {}\n</code></pre>\n<p><code>ShapeEntityRepository</code> is useable for all classes that are extended from the <code>ShapeEntity</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ShapeEntity circleEntity = new CircleEntity();\nShapeEntity squareEntity = new SquareEntity();\n\nshapeEntityRepository.save(circleEntity);\nshapeEntityRepository.save(squareEntity);\n</code></pre>\n<p>Alternatively, if there must be different repositories, you can use Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html\" rel=\"nofollow noreferrer\">GenericTypeResolver</a> to get the repository of the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class RepositoryHolder {\n\n    private final List&lt;JpaRepository&gt; jpaRepositories;\n\n    public RepositoryHolder(List&lt;JpaRepository&gt; jpaRepositories) {\n        this.jpaRepositories = jpaRepositories;\n    }\n\n    public JpaRepository getRepositoryBy(Class&lt;?&gt; domainClass) {\n        Optional&lt;JpaRepository&gt; optionalRepository = jpaRepositories.stream()\n                .filter(repository -&gt; GenericTypeResolver\n                        .resolveTypeArguments(\n                                repository.getClass(),\n                                Repository.class\n                        )[0]\n                        .equals(domainClass))\n                .findFirst();\n        if (optionalRepository.isPresent()) {\n            return optionalRepository.get();\n        } else throw new IllegalArgumentException();\n    }\n}\n</code></pre>\n<p>If you want to use it, your <code>save(...)</code> method will be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void save(ShapeEntity shapeEntity) {\n    JpaRepository repository = repositoryHolder\n            .getRepositoryBy(shapeEntity.getClass());\n    repository.save(shapeEntity);\n}\n</code></pre>\n<p>Note: <code>JPA Repository</code> allows to use default CRUD functions, you can add an intermediate repository bean <a href=\"https://stackoverflow.com/a/43351269/2039546\">like here</a> and reduce these codes to that intermediate repository.</p>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73812859,"answer_count":1,"score":0,"last_activity_date":1663841320,"creation_date":1663769547,"question_id":73802248,"body_markdown":"I am new at abstract class as Entity so for training I created abstract class \r\n\r\n    @Entity\r\n    @Inheritance(strategy = TABLE_PER_CLASS)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public abstract class ShapeEntity {\r\n         @Id\r\n         @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n         @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n         private String id = UUID.randomUUID().toString();\r\n    }\r\n\r\nand classes which extand Shape:\r\n\r\n    public class SquareEntity extends ShapeEntity {\r\n        ...\r\n    }\r\n    public class CircleEntity extends ShapeEntity {\r\n        ...\r\n    }\r\nevery entity has repostiory like that:\r\n\r\n    public interface CircleEntityRepository extends JpaRepository&lt;CircleEntity, String&gt; {\r\n    }\r\n\r\n\r\nWhen I want to update entity I am searching it in every repository, next (if entity was found) map parameters and finnaly have to save that entity in database.\r\nHow can I easy decide which repository should be used for it? I created method save with if else which now works:\r\n\r\n    public ShapeEntity save(ShapeEntity shapeEntity) {\r\n        if (shapeEntity.getClass().getName().contains(&quot;CircleEntity&quot;)) {\r\n            return circleEntityRepository.save((CircleEntity) shapeEntity);\r\n        } else if (shapeEntity.getClass().getName().contains(&quot;SquareEntity&quot;)) {\r\n            return squareEntityRepository.save((SquareEntity) shapeEntity);\r\n        } else {\r\n            throw new EntityNotFoundException();\r\n        }\r\n    }\r\n\r\nbut it is a bit uncomfortable becouse when I will have 20 entities I will have to create 20 else if loops. Can I do any interface for this or something like that?","title":"One method to save entity which extand abstract class in repository","body":"<p>I am new at abstract class as Entity so for training I created abstract class</p>\n<pre><code>@Entity\n@Inheritance(strategy = TABLE_PER_CLASS)\n@Getter\n@Setter\n@NoArgsConstructor\npublic abstract class ShapeEntity {\n     @Id\n     @GeneratedValue(generator = &quot;system-uuid&quot;)\n     @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n     private String id = UUID.randomUUID().toString();\n}\n</code></pre>\n<p>and classes which extand Shape:</p>\n<pre><code>public class SquareEntity extends ShapeEntity {\n    ...\n}\npublic class CircleEntity extends ShapeEntity {\n    ...\n}\n</code></pre>\n<p>every entity has repostiory like that:</p>\n<pre><code>public interface CircleEntityRepository extends JpaRepository&lt;CircleEntity, String&gt; {\n}\n</code></pre>\n<p>When I want to update entity I am searching it in every repository, next (if entity was found) map parameters and finnaly have to save that entity in database.\nHow can I easy decide which repository should be used for it? I created method save with if else which now works:</p>\n<pre><code>public ShapeEntity save(ShapeEntity shapeEntity) {\n    if (shapeEntity.getClass().getName().contains(&quot;CircleEntity&quot;)) {\n        return circleEntityRepository.save((CircleEntity) shapeEntity);\n    } else if (shapeEntity.getClass().getName().contains(&quot;SquareEntity&quot;)) {\n        return squareEntityRepository.save((SquareEntity) shapeEntity);\n    } else {\n        throw new EntityNotFoundException();\n    }\n}\n</code></pre>\n<p>but it is a bit uncomfortable becouse when I will have 20 entities I will have to create 20 else if loops. Can I do any interface for this or something like that?</p>\n"},{"tags":["java","python","ruby","docker","locale"],"answers":[{"tags":[],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1663841316,"creation_date":1421183808,"answer_id":27931669,"question_id":27931668,"body_markdown":"You need to set the **locale** correct.\r\n\r\nThis is the minimal correct Dockerfile:\r\n\r\n    FROM ubuntu\r\n    \r\n    RUN apt update &amp;&amp; apt -y install locales &amp;&amp; locale-gen en_US.UTF-8\r\n    ENV LANG en_US.UTF-8\r\n    ENV LANGUAGE en_US:en\r\n    ENV LC_ALL en_US.UTF-8\r\n\r\nThe usual docker images don&#39;t specify a locales. You see it if you bash into it and execute `locale`:\r\n\r\n    sudo docker exec -i -t yowsup3 bash\r\n\r\n\r\nSources: \r\n\r\n* http://jaredmarkell.com/docker-and-locales/\r\n* https://github.com/docker-library/python/issues/13","title":"Encoding Problems when running an app in docker (Python, Java, Ruby, ...) with Ubuntu Containers (ascii, utf-8)","body":"<p>You need to set the <strong>locale</strong> correct.</p>\n<p>This is the minimal correct Dockerfile:</p>\n<pre><code>FROM ubuntu\n\nRUN apt update &amp;&amp; apt -y install locales &amp;&amp; locale-gen en_US.UTF-8\nENV LANG en_US.UTF-8\nENV LANGUAGE en_US:en\nENV LC_ALL en_US.UTF-8\n</code></pre>\n<p>The usual docker images don't specify a locales. You see it if you bash into it and execute <code>locale</code>:</p>\n<pre><code>sudo docker exec -i -t yowsup3 bash\n</code></pre>\n<p>Sources:</p>\n<ul>\n<li><a href=\"http://jaredmarkell.com/docker-and-locales/\" rel=\"nofollow noreferrer\">http://jaredmarkell.com/docker-and-locales/</a></li>\n<li><a href=\"https://github.com/docker-library/python/issues/13\" rel=\"nofollow noreferrer\">https://github.com/docker-library/python/issues/13</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13493770,"reputation":446,"user_id":9735196,"display_name":"Mayank Jain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566196361,"creation_date":1566196361,"answer_id":57551511,"question_id":27931668,"body_markdown":"I tried the above solution and found that the locale-gen command is not available inside my docker.\r\n\r\nso add this line above the RUN command or add it in.\r\n\r\n    RUN apt-get update &amp;&amp; apt-get install -y locales &amp;&amp; locale-gen en_US.UTF-8\r\n\r\nthis will now work.\r\n\r\nand second ENV LC_ALL en_US.UTF-8 is enough to set most of the variable but it left with the two vacant so that&#39;s why we need all 3 to set. ","title":"Encoding Problems when running an app in docker (Python, Java, Ruby, ...) with Ubuntu Containers (ascii, utf-8)","body":"<p>I tried the above solution and found that the locale-gen command is not available inside my docker.</p>\n\n<p>so add this line above the RUN command or add it in.</p>\n\n<pre><code>RUN apt-get update &amp;&amp; apt-get install -y locales &amp;&amp; locale-gen en_US.UTF-8\n</code></pre>\n\n<p>this will now work.</p>\n\n<p>and second ENV LC_ALL en_US.UTF-8 is enough to set most of the variable but it left with the two vacant so that's why we need all 3 to set. </p>\n"},{"tags":[],"owner":{"account_id":7953776,"reputation":91,"user_id":6003799,"display_name":"akhil kailasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621560112,"creation_date":1590112005,"answer_id":61946581,"question_id":27931668,"body_markdown":"```\r\nFROM centos:7 \r\n\r\nENV LANG=en_US.UTF-8\r\n```\r\nAdding the above one line in docker file worked for me","title":"Encoding Problems when running an app in docker (Python, Java, Ruby, ...) with Ubuntu Containers (ascii, utf-8)","body":"<pre><code>FROM centos:7 \n\nENV LANG=en_US.UTF-8\n</code></pre>\n<p>Adding the above one line in docker file worked for me</p>\n"},{"tags":[],"owner":{"account_id":16657407,"reputation":141,"user_id":12038380,"display_name":"THAVASI.T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663757356,"creation_date":1663757356,"answer_id":73799482,"question_id":27931668,"body_markdown":"docker ubuntu 18.04 image use Unicode fix\r\n\r\n```docker\r\nFROM ubuntu:18.04\r\n\r\nENV LANG=C.UTF-8\r\n```\r\n\r\nadd this env variable to docker file ","title":"Encoding Problems when running an app in docker (Python, Java, Ruby, ...) with Ubuntu Containers (ascii, utf-8)","body":"<p>docker ubuntu 18.04 image use Unicode fix</p>\n<pre><code>FROM ubuntu:18.04\n\nENV LANG=C.UTF-8\n</code></pre>\n<p>add this env variable to docker file</p>\n"}],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35184,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":27931669,"answer_count":4,"score":29,"last_activity_date":1663841316,"creation_date":1421183808,"question_id":27931668,"body_markdown":"On my own PC the application runs nice, but when it gets deployed into docker, it fails because of invalid characters.\r\n\r\nI am using the `ubuntu:latest` container and `python3`, `java` and `ruby`.","title":"Encoding Problems when running an app in docker (Python, Java, Ruby, ...) with Ubuntu Containers (ascii, utf-8)","body":"<p>On my own PC the application runs nice, but when it gets deployed into docker, it fails because of invalid characters.</p>\n<p>I am using the <code>ubuntu:latest</code> container and <code>python3</code>, <code>java</code> and <code>ruby</code>.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","testng"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1663765742,"post_id":73801111,"comment_id":130316146,"body_markdown":"In the xml file, put the UserManagement file as the last entry and try.","body":"In the xml file, put the UserManagement file as the last entry and try."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663841172,"creation_date":1663841172,"answer_id":73812825,"question_id":73801111,"body_markdown":"Create a testNG xml like below , replace the class names with your class files. \r\nWe have added a parameter in this xml called &quot;preserve-order&quot; which will preserve the Test execution order in class when set to true\r\nTo run using XMl if you are using eclipse , you need to install TestNG plugin, right click on the xml file and run as TestNgSuite\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Preserve order test runs&quot;&gt;\r\n      &lt;test name=&quot;Regression 1&quot; preserve-order=&quot;true&quot;&gt;\r\n        &lt;classes&gt;\r\n          &lt;class name=&quot;com.pack.preserve.ClassOne&quot;/&gt;\r\n          &lt;class name=&quot;com.pack.preserve.ClassTwo&quot;/&gt;\r\n        &lt;/classes&gt;\r\n      &lt;/test&gt;\r\n    &lt;/suite&gt;","title":"How to run a Selenium two diffrent file in order","body":"<p>Create a testNG xml like below , replace the class names with your class files.\nWe have added a parameter in this xml called &quot;preserve-order&quot; which will preserve the Test execution order in class when set to true\nTo run using XMl if you are using eclipse , you need to install TestNG plugin, right click on the xml file and run as TestNgSuite</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Preserve order test runs&quot;&gt;\n  &lt;test name=&quot;Regression 1&quot; preserve-order=&quot;true&quot;&gt;\n    &lt;classes&gt;\n      &lt;class name=&quot;com.pack.preserve.ClassOne&quot;/&gt;\n      &lt;class name=&quot;com.pack.preserve.ClassTwo&quot;/&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"}],"owner":{"account_id":23995114,"reputation":17,"user_id":17980717,"display_name":"Vishanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663841172,"creation_date":1663764889,"question_id":73801111,"body_markdown":"**[![enter image description here][1]][1]I have two different files in a same package named as UserManagement and VerifyLogin. In this case if i try to run this project in TestNg Server it runs the UserMangement as first but I need VerifyLogin to run as first. What is the solution? ** \r\n\r\nI Priorities the Test Case as 1,2,3,4 in VerifyLogin Class file and Test case 5 in UserManagement in next file but it runs the file Usermanagement as first file and throwing error as nullpointException \r\n\r\n**I need to run VerifyLogin as first file**\r\n\r\n  [1]: https://i.stack.imgur.com/6QlVk.png","title":"How to run a Selenium two diffrent file in order","body":"<p>**<a href=\"https://i.stack.imgur.com/6QlVk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6QlVk.png\" alt=\"enter image description here\" /></a>I have two different files in a same package named as UserManagement and VerifyLogin. In this case if i try to run this project in TestNg Server it runs the UserMangement as first but I need VerifyLogin to run as first. What is the solution? **</p>\n<p>I Priorities the Test Case as 1,2,3,4 in VerifyLogin Class file and Test case 5 in UserManagement in next file but it runs the file Usermanagement as first file and throwing error as nullpointException</p>\n<p><strong>I need to run VerifyLogin as first file</strong></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663833061,"creation_date":1663811712,"answer_id":73808531,"question_id":73807373,"body_markdown":"That is a push notification. You can disable that using `ChromeOptions()`:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Selenium\\\\Drivers\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n    WebDriver driver= new ChromeDriver(options);\r\n\r\n------------------------------\r\n\r\nIf you decide to use WebDriverManager:\r\n\r\nAdd the following WebDriverManager dependency in your pom.xml (if you are using Maven project):\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOtherwise download &#39;webdrivermanager-5.3.0.jar&#39; file from the below path and add it to your project&#39;s build path:\r\n\r\n\r\nhttps://repo1.maven.org/maven2/io/github/bonigarcia/webdrivermanager/5.3.0/webdrivermanager-5.3.0.jar\r\n\r\nThen, use the below code:\r\n\r\n\r\n    import java.time.Duration;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class DisableNotifications {\r\n    \tpublic static WebDriver driver;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\toptions.addArguments(&quot;--disable-notifications&quot;);\r\n    \t\tdriver = new ChromeDriver(options);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    \t\tdriver.get(&quot;https://www.nvidia.com/en-us/geforce-now/&quot;);\r\n    \t}\r\n    }\r\n\r\nIf you are working with any frameworks, modify this code according to that.\r\n\r\n","title":"element click intercepted in Selenium wedriver","body":"<p>That is a push notification. You can disable that using <code>ChromeOptions()</code>:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--disable-notifications&quot;);\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Selenium\\\\Drivers\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\nWebDriver driver= new ChromeDriver(options);\n</code></pre>\n<hr />\n<p>If you decide to use WebDriverManager:</p>\n<p>Add the following WebDriverManager dependency in your pom.xml (if you are using Maven project):</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;5.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Otherwise download 'webdrivermanager-5.3.0.jar' file from the below path and add it to your project's build path:</p>\n<p><a href=\"https://repo1.maven.org/maven2/io/github/bonigarcia/webdrivermanager/5.3.0/webdrivermanager-5.3.0.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/io/github/bonigarcia/webdrivermanager/5.3.0/webdrivermanager-5.3.0.jar</a></p>\n<p>Then, use the below code:</p>\n<pre><code>import java.time.Duration;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class DisableNotifications {\n    public static WebDriver driver;\n    \n    public static void main(String[] args) {\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--disable-notifications&quot;);\n        driver = new ChromeDriver(options);\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n        driver.get(&quot;https://www.nvidia.com/en-us/geforce-now/&quot;);\n    }\n}\n</code></pre>\n<p>If you are working with any frameworks, modify this code according to that.</p>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663840790,"creation_date":1663840790,"answer_id":73812743,"question_id":73807373,"body_markdown":"You can use the JavascriptExecutor class to do this. Assuming that even if we don&#39;t close the window popup we are still able to proceed, this should solve your issue\r\nThis method of clicking sends the click event directly to Element.\r\n\r\n\r\n    // Assume driver is a valid WebDriver instance that\r\n    // has been properly instantiated elsewhere.\r\n    WebElement element = driver.findElement(By.id(&quot;elementiD&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);","title":"element click intercepted in Selenium wedriver","body":"<p>You can use the JavascriptExecutor class to do this. Assuming that even if we don't close the window popup we are still able to proceed, this should solve your issue\nThis method of clicking sends the click event directly to Element.</p>\n<pre><code>// Assume driver is a valid WebDriver instance that\n// has been properly instantiated elsewhere.\nWebElement element = driver.findElement(By.id(&quot;elementiD&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n"}],"owner":{"account_id":24863742,"reputation":43,"user_id":18739132,"display_name":"Niharika Tangella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73812743,"answer_count":2,"score":0,"last_activity_date":1663840790,"creation_date":1663797689,"question_id":73807373,"body_markdown":"[1]**trying to execute the below code**\r\n\r\nI was writing script where I used mouse hover code to click on join and then it would show membership screen with 3 different panels, I wrote code to click &quot;join button&quot; on free panel, but this isnt working as there is a window popup showing up and not letting the code run. please help\r\n```````````\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Selenium\\\\Drivers\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver= new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.nvidia.com/en-us/geforce-now/&quot;);\r\n\t\tThread.sleep(3500);\r\n\t\tActions ac= new Actions(driver);\r\n\t\tac.moveToElement(driver.findElement(By.linkText(&quot;Join Now&quot;))).perform();\r\n\t\tdriver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[11]/section/div/div/div/div/div[1]/div/div/div/section/div/div[1]/a/div[2]/div[3]/div/div/button&quot;)).click();\r\n\t\tdriver.close();\r\n`````````````````````````````````````\r\nGetting the exception :\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;button class=&quot;button css-136hfb2&quot; style=&quot;min-width: 230px;&quot;&gt;...&lt;/button&gt; is not clickable at point (259, 649). Other element would receive the click: &lt;div class=&quot;messageContainer fontSmall&quot;&gt;...&lt;/div&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aKqYC.png","title":"element click intercepted in Selenium wedriver","body":"<p><a href=\"https://i.stack.imgur.com/aKqYC.png\" rel=\"nofollow noreferrer\">1</a><strong>trying to execute the below code</strong></p>\n<p>I was writing script where I used mouse hover code to click on join and then it would show membership screen with 3 different panels, I wrote code to click &quot;join button&quot; on free panel, but this isnt working as there is a window popup showing up and not letting the code run. please help</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Selenium\\\\Drivers\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        WebDriver driver= new ChromeDriver();\n        driver.get(&quot;https://www.nvidia.com/en-us/geforce-now/&quot;);\n        Thread.sleep(3500);\n        Actions ac= new Actions(driver);\n        ac.moveToElement(driver.findElement(By.linkText(&quot;Join Now&quot;))).perform();\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[11]/section/div/div/div/div/div[1]/div/div/div/section/div/div[1]/a/div[2]/div[3]/div/div/button&quot;)).click();\n        driver.close();\n</code></pre>\n<p>Getting the exception :</p>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element ... is not clickable at point (259, 649). Other element would receive the click: ...</p>\n"},{"tags":["java","spring","jsp","tomcat"],"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663840601,"creation_date":1663834801,"question_id":73811421,"body_markdown":"I am using jsp with spring mvc without springboot along with plain css, bootstrap4 and jquery. The java application has several pages, each mapped to a backend route and the application works without errors sometimes but other times I get **net::ERR_EMPTY_RESPONSE** on 1 or 2 files or even the backend url that serves the web page. **The same error appears on firefox, chrome and edge randomly. In chrome, i have already tried deleting history and cache, running on incognito mode**. Attached the error snippets below for reference:\r\n\r\n**1. Failed URL**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**2. Failed resource (css)**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrs1q.png\r\n  [2]: https://i.stack.imgur.com/HSUYM.png\r\n\r\n\r\nThis does not seem like an application level issue but likely a server issue as tomcat server does not send few file but this is my speculation and can&#39;t base it on actual facts.\r\n \r\nThe application is deployed on **tomcat 8.5**. There are more applications that are deployed on the same windows server with tomcat service. I am not knowledgeable in web service configuration so do I need to change some configuration for tomcat or can it be another issue entirely?\r\n\r\nAny help or suggestion is greatly appreciated.\r\n\r\n\r\n","title":"Getting net::ERR_EMPTY_RESPONSE randomly at times","body":"<p>I am using jsp with spring mvc without springboot along with plain css, bootstrap4 and jquery. The java application has several pages, each mapped to a backend route and the application works without errors sometimes but other times I get <strong>net::ERR_EMPTY_RESPONSE</strong> on 1 or 2 files or even the backend url that serves the web page. <strong>The same error appears on firefox, chrome and edge randomly. In chrome, i have already tried deleting history and cache, running on incognito mode</strong>. Attached the error snippets below for reference:</p>\n<p><strong>1. Failed URL</strong></p>\n<p><a href=\"https://i.stack.imgur.com/hrs1q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrs1q.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2. Failed resource (css)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/HSUYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HSUYM.png\" alt=\"enter image description here\" /></a></p>\n<p>This does not seem like an application level issue but likely a server issue as tomcat server does not send few file but this is my speculation and can't base it on actual facts.</p>\n<p>The application is deployed on <strong>tomcat 8.5</strong>. There are more applications that are deployed on the same windows server with tomcat service. I am not knowledgeable in web service configuration so do I need to change some configuration for tomcat or can it be another issue entirely?</p>\n<p>Any help or suggestion is greatly appreciated.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663836566,"post_id":73811297,"comment_id":130334363,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663840505,"creation_date":1663840505,"answer_id":73812680,"question_id":73811297,"body_markdown":"You can Inherit the common page Class in Internal employee class, External employee class such that you can Access methods of common class aka (base Class) in children classes","title":"Create two-way connection between pages in Selenium Java","body":"<p>You can Inherit the common page Class in Internal employee class, External employee class such that you can Access methods of common class aka (base Class) in children classes</p>\n"}],"owner":{"account_id":18018290,"reputation":13,"user_id":13096242,"display_name":"jamesp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663840505,"creation_date":1663834264,"question_id":73811297,"body_markdown":"I wonder if there is possibility to create two-way connection between pages. I want to write tests which references to method in both a specific pages and the common class at any time.\r\nSample diagram:\r\n\r\n[![Create two-way connection between pages in Selenium Java][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3ooTG.jpg","title":"Create two-way connection between pages in Selenium Java","body":"<p>I wonder if there is possibility to create two-way connection between pages. I want to write tests which references to method in both a specific pages and the common class at any time.\nSample diagram:</p>\n<p><a href=\"https://i.stack.imgur.com/3ooTG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ooTG.jpg\" alt=\"Create two-way connection between pages in Selenium Java\" /></a></p>\n"},{"tags":["java","performance","for-loop","primes"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1663839435,"post_id":73812413,"comment_id":130335532,"body_markdown":"Have you checked if the sum that you are trying to calculate is maybe to large for the int data type you are using?","body":"Have you checked if the sum that you are trying to calculate is maybe to large for the int data type you are using?"},{"owner":{"account_id":85671,"reputation":40848,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1663846135,"post_id":73812413,"comment_id":130337864,"body_markdown":"Also it&#39;s going to be way too slow for large numbers as you basically have an O(n^2) algorithm. You&#39;re going to need a better algorithm. Hint: sieve.","body":"Also it&#39;s going to be way too slow for large numbers as you basically have an O(n^2) algorithm. You&#39;re going to need a better algorithm. Hint: sieve."}],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663840007,"creation_date":1663840007,"answer_id":73812550,"question_id":73812413,"body_markdown":"Seems, int total = 0; is not able to hold such large number.\r\n\r\n`int` type which is size in `4 bytes` that stores whole numbers from `-2,147,483,648 to 2,147,483,647`\r\n\r\n`long` type which is size in `8 bytes` that stores whole numbers from `-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807`\r\n\r\nNow, see yourself which suitable for you.","title":"Any ideas on why my program to calculate the sum of all the primes les than a certain number is breaking when I input large numbers Java","body":"<p>Seems, int total = 0; is not able to hold such large number.</p>\n<p><code>int</code> type which is size in <code>4 bytes</code> that stores whole numbers from <code>-2,147,483,648 to 2,147,483,647</code></p>\n<p><code>long</code> type which is size in <code>8 bytes</code> that stores whole numbers from <code>-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807</code></p>\n<p>Now, see yourself which suitable for you.</p>\n"},{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663840213,"creation_date":1663840213,"answer_id":73812601,"question_id":73812413,"body_markdown":"Once you reach 225287, the sum is 2147431330. The max value of int is 2147483647, so adding the next prime number leaves you out of bounds of int, which causes the the binary data to roll over to the negative side.\r\n\r\nIf you want your method to produce higher sums, you will need to change data type.\r\n\r\nAs a side note, you can optimize isPrime(int i) by only looping up to Math.sqrt(i).","title":"Any ideas on why my program to calculate the sum of all the primes les than a certain number is breaking when I input large numbers Java","body":"<p>Once you reach 225287, the sum is 2147431330. The max value of int is 2147483647, so adding the next prime number leaves you out of bounds of int, which causes the the binary data to roll over to the negative side.</p>\n<p>If you want your method to produce higher sums, you will need to change data type.</p>\n<p>As a side note, you can optimize isPrime(int i) by only looping up to Math.sqrt(i).</p>\n"}],"owner":{"account_id":24013415,"reputation":11,"user_id":17996701,"display_name":"F_martn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1663840213,"creation_date":1663839383,"question_id":73812413,"body_markdown":"I am trying to find the sum of all the primes below 2000000,  and my program works fine until I enter any number larger than 225287, after which it starts giving incorrect answers. Any ideas? \r\n\r\n    public class PrimeSum {\r\n    \r\n        \r\n        public static void main(String[] args) {\r\n            PrimeSum is = new PrimeSum();\r\n            int total = 0;\r\n            \r\n            for(int i = 2; i &lt; 225287; i ++){\r\n                if(is.isPrime(i)){\r\n                    total += i;\r\n                    System.out.println(i);\r\n                }\r\n            }\r\n            System.out.println(total);\r\n        }\r\n        boolean isPrime(int i ){\r\n            Boolean prime = true;\r\n            \r\n            for(int n = 2; n&lt; i; n++){\r\n                if(i % n == 0){\r\n                    prime = false;\r\n                    break;\r\n                }\r\n            }\r\n            return prime;\r\n        }\r\n    }\r\n\r\n","title":"Any ideas on why my program to calculate the sum of all the primes les than a certain number is breaking when I input large numbers Java","body":"<p>I am trying to find the sum of all the primes below 2000000,  and my program works fine until I enter any number larger than 225287, after which it starts giving incorrect answers. Any ideas?</p>\n<pre><code>public class PrimeSum {\n\n    \n    public static void main(String[] args) {\n        PrimeSum is = new PrimeSum();\n        int total = 0;\n        \n        for(int i = 2; i &lt; 225287; i ++){\n            if(is.isPrime(i)){\n                total += i;\n                System.out.println(i);\n            }\n        }\n        System.out.println(total);\n    }\n    boolean isPrime(int i ){\n        Boolean prime = true;\n        \n        for(int n = 2; n&lt; i; n++){\n            if(i % n == 0){\n                prime = false;\n                break;\n            }\n        }\n        return prime;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663840139,"creation_date":1663840139,"answer_id":73812586,"question_id":73808955,"body_markdown":"The simplest way is to rename the PUBLIC schema. Just use the correct syntax from http://hsqldb.org/doc/2.0/guide/databaseobjects-chapt.html#dbc_renaming\r\n\r\n    ALTER SCHEMA PUBLIC RENAME TO ABC\r\n\r\nYou can always rename the schema or change to a different schema that you create.","title":"HSQL DB in Spring/Hibernate/JPA - unable to change schema","body":"<p>The simplest way is to rename the PUBLIC schema. Just use the correct syntax from <a href=\"http://hsqldb.org/doc/2.0/guide/databaseobjects-chapt.html#dbc_renaming\" rel=\"nofollow noreferrer\">http://hsqldb.org/doc/2.0/guide/databaseobjects-chapt.html#dbc_renaming</a></p>\n<pre><code>ALTER SCHEMA PUBLIC RENAME TO ABC\n</code></pre>\n<p>You can always rename the schema or change to a different schema that you create.</p>\n"}],"owner":{"account_id":4146429,"reputation":167,"user_id":3400001,"display_name":"pratapan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73812586,"answer_count":1,"score":0,"last_activity_date":1663840139,"creation_date":1663816505,"question_id":73808955,"body_markdown":"I am using HSQL in memory Db for unit testing Java code. Its configured and brought up using Hibernate/JPA/Spring\r\nBy default its schema is PUBLIC. However the code I am testing has hardcoded schema. So I need to change the schema from PUBLIC to say ABC\r\n\r\nI just figure out how to do it. I tried below approaches\r\n1) CRATE SCHEMA ABC, SET INITIAL SCHEMA ABC\r\n\r\n2) ALTER CATALOG RENAME PUBLIC TO ABC\r\n\r\nI get the error &#39;Schema not found&#39;\r\n\r\nThat led me to conclude that once setup and started, we cant change the schema. So I tried with configuring schema as a Entity Manager JPA property at env setup. I started getting &#39;Dependent Bean not found&#39; error for one of the classes in &quot;domain.packages.to.scan&quot;\r\n\r\nI searched a lot on the web, I couldnt find definitive answers on how to accomplish this ?","title":"HSQL DB in Spring/Hibernate/JPA - unable to change schema","body":"<p>I am using HSQL in memory Db for unit testing Java code. Its configured and brought up using Hibernate/JPA/Spring\nBy default its schema is PUBLIC. However the code I am testing has hardcoded schema. So I need to change the schema from PUBLIC to say ABC</p>\n<p>I just figure out how to do it. I tried below approaches</p>\n<ol>\n<li><p>CRATE SCHEMA ABC, SET INITIAL SCHEMA ABC</p>\n</li>\n<li><p>ALTER CATALOG RENAME PUBLIC TO ABC</p>\n</li>\n</ol>\n<p>I get the error 'Schema not found'</p>\n<p>That led me to conclude that once setup and started, we cant change the schema. So I tried with configuring schema as a Entity Manager JPA property at env setup. I started getting 'Dependent Bean not found' error for one of the classes in &quot;domain.packages.to.scan&quot;</p>\n<p>I searched a lot on the web, I couldnt find definitive answers on how to accomplish this ?</p>\n"},{"tags":["java","selenium","jar"],"comments":[{"owner":{"account_id":439808,"reputation":6070,"user_id":828983,"accept_rate":91,"display_name":"Ank"},"score":0,"creation_date":1391637336,"post_id":21589278,"comment_id":32615433,"body_markdown":"why does the tag have Selenium","body":"why does the tag have Selenium"},{"owner":{"account_id":434103,"reputation":815,"user_id":819847,"accept_rate":72,"display_name":"Andrew"},"score":0,"creation_date":1391637510,"post_id":21589278,"comment_id":32615528,"body_markdown":"This is to launch the Selenium server.  I thought someone may have encountered this if they were automating launching their Selenium server.","body":"This is to launch the Selenium server.  I thought someone may have encountered this if they were automating launching their Selenium server."},{"owner":{"account_id":157039,"reputation":27241,"user_id":374693,"accept_rate":79,"display_name":"JimEvans"},"score":0,"creation_date":1391645890,"post_id":21589278,"comment_id":32619092,"body_markdown":"Why not rename the .jar when you download it to a name that remains constant? There&#39;s nothing in Selenium that requires the .jar to have the name `selenium-server-standalone-x.xx.jar`","body":"Why not rename the .jar when you download it to a name that remains constant? There&#39;s nothing in Selenium that requires the .jar to have the name <code>selenium-server-standalone-x.xx.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1391637140,"creation_date":1391637140,"answer_id":21589324,"question_id":21589278,"body_markdown":"Not sure about windows, the best you can do here is to write a minimal batch file that greps the file name and puts it right there\r\n\r\n**for unix**: you could do something like\r\n\r\n    java -jar *.jar\r\n\r\nthis works well in unix\r\n\r\n","title":"Execute a Jar with Wildcard in Path","body":"<p>Not sure about windows, the best you can do here is to write a minimal batch file that greps the file name and puts it right there</p>\n\n<p><strong>for unix</strong>: you could do something like</p>\n\n<pre><code>java -jar *.jar\n</code></pre>\n\n<p>this works well in unix</p>\n"},{"tags":[],"owner":{"account_id":401234,"reputation":3433,"user_id":767676,"accept_rate":80,"display_name":"Acapulco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391653617,"creation_date":1391640468,"answer_id":21590254,"question_id":21589278,"body_markdown":"I think a very simple way of doing this, and have it working in Windows and Unix is by setting an environment variable with the version you want to execute, and just like Jigar says, create a simple batch file that executes the correct version.\r\n\r\nSo if you set \r\n\r\n    $VERSION=1.0 and\r\n    $JARPATH = C:\\\\Selenium\\\\vendor\r\n\r\nyou could easily make a batch file that does\r\n\r\n    java -jar $JARPATH\\\\selenium-server-standalone-$VERSION.jar\r\n\r\nYou can then have many versions of the JAR file, in the same directory, and just by changing the variable you can execute the version you want.\r\n","title":"Execute a Jar with Wildcard in Path","body":"<p>I think a very simple way of doing this, and have it working in Windows and Unix is by setting an environment variable with the version you want to execute, and just like Jigar says, create a simple batch file that executes the correct version.</p>\n\n<p>So if you set </p>\n\n<pre><code>$VERSION=1.0 and\n$JARPATH = C:\\\\Selenium\\\\vendor\n</code></pre>\n\n<p>you could easily make a batch file that does</p>\n\n<pre><code>java -jar $JARPATH\\\\selenium-server-standalone-$VERSION.jar\n</code></pre>\n\n<p>You can then have many versions of the JAR file, in the same directory, and just by changing the variable you can execute the version you want.</p>\n"},{"tags":[],"owner":{"account_id":970899,"reputation":13942,"user_id":993494,"accept_rate":34,"display_name":"Thorsten Niehues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663840061,"creation_date":1663840061,"answer_id":73812567,"question_id":21589278,"body_markdown":"You may add all jars from a specific folder:&lt;br&gt;\r\n\r\n - replace -jar with -cp\r\n - replace file-name with *\r\n\r\nIn your example that would be : \r\n\r\n`java -cp C:\\\\Selenium\\\\vendor\\\\*`\r\n","title":"Execute a Jar with Wildcard in Path","body":"<p>You may add all jars from a specific folder:<br></p>\n<ul>\n<li>replace -jar with -cp</li>\n<li>replace file-name with *</li>\n</ul>\n<p>In your example that would be :</p>\n<p><code>java -cp C:\\\\Selenium\\\\vendor\\\\*</code></p>\n"}],"owner":{"account_id":434103,"reputation":815,"user_id":819847,"accept_rate":72,"display_name":"Andrew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4904,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1663840061,"creation_date":1391637004,"question_id":21589278,"body_markdown":"I have an application that launches a jar file.  However, the jar has the version number in the name and will change every few months.  I&#39;m looking to write this so I don&#39;t have to update the application&#39;s code every time the jar is changed.  I&#39;ve tried using * for a wildcard, but I get:\r\n\r\n    Error: Unable to access jarfile C:\\Selenium\\vendor\\selenium-server-standalone-\\*.jar\r\n\r\nThe command I&#39;m running is: \r\n\r\n    java -jar C:\\\\Selenium\\\\vendor\\\\selenium-server-standalone-*.jar\r\n\r\nWhen I put in the version number, the jar launches successfully.  Is there anyway to use a wildcard here?","title":"Execute a Jar with Wildcard in Path","body":"<p>I have an application that launches a jar file.  However, the jar has the version number in the name and will change every few months.  I'm looking to write this so I don't have to update the application's code every time the jar is changed.  I've tried using * for a wildcard, but I get:</p>\n\n<pre><code>Error: Unable to access jarfile C:\\Selenium\\vendor\\selenium-server-standalone-\\*.jar\n</code></pre>\n\n<p>The command I'm running is: </p>\n\n<pre><code>java -jar C:\\\\Selenium\\\\vendor\\\\selenium-server-standalone-*.jar\n</code></pre>\n\n<p>When I put in the version number, the jar launches successfully.  Is there anyway to use a wildcard here?</p>\n"},{"tags":["java","hibernate","orm"],"answers":[{"tags":[],"owner":{"account_id":7102719,"reputation":1304,"user_id":5473627,"accept_rate":91,"display_name":"Yoshua Nahar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663839814,"creation_date":1506429587,"answer_id":46426842,"question_id":46425395,"body_markdown":"It is implied. Removing the owning entity would also remove all data on the `@ElementCollection`. Setting the `Collection` to null or changing elements in the `Collection` would cause an update if `Session` isn&#39;t already closed.\r\n\r\nThe official documentation [here][1] says this:\r\n\r\n&gt; 2.8.1. Collections as a value type\r\n&gt; \r\n&gt; Value and embeddable type collections have a similar behavior as\r\n&gt; simple value types because they are automatically persisted when\r\n&gt; referenced by a persistent object and automatically deleted when\r\n&gt; unreferenced. If a collection is passed from one persistent object to\r\n&gt; another, its elements might be moved from one table to another.\r\n&gt; &lt;br&gt;...\r\n&gt; &lt;br&gt;\r\n&gt; For collections of value types, JPA 2.0 defines the @ElementCollection\r\n&gt; annotation. The lifecycle of the value-type collection is entirely\r\n&gt; controlled by its owning entity.\r\n\r\n\r\nI ran these three tests to test it out:\r\n  \r\n\r\n      @Test\r\n      public void selectStudentAndSetBooksCollectionToNull() {\r\n        Student student = studentDao.getById(3L);\r\n        List&lt;String&gt; books = student.getBooks();\r\n    \r\n        books.forEach(System.out::println);\r\n    \r\n        student.setBooks(null);\r\n    \r\n        em.flush(); // delete from student_book where student_id = ?\r\n      }\r\n\r\n      @Test\r\n      public void selectStudentAndAddBookInCollection() {\r\n        Student student = studentDao.getById(3L);\r\n        List&lt;String&gt; books = student.getBooks();\r\n    \r\n        books.add(&quot;PHP Book&quot;);\r\n    \r\n        books.forEach(System.out::println);\r\n    \r\n        em.flush(); // insert into student_book(student_id, book) values(?, ?)\r\n      }\r\n\r\n      @Test\r\n      public void selectStudentAndChangeCollection() {\r\n        Student student = studentDao.getById(3L);\r\n        List&lt;String&gt; newBooks = new ArrayList&lt;&gt;();\r\n    \r\n        newBooks.add(&quot;Rocket Engineering&quot;);\r\n    \r\n        newBooks.forEach(System.out::println);\r\n    \r\n        student.setBooks(newBooks);\r\n    \r\n        em.flush(); // delete from student_book where student_id = ?\r\n        // insert into student_book(student_id, book) values(?, ?)\r\n      } \r\n\r\nThis is the `Student` class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;student_id&quot;, nullable = false, insertable = false, updatable = false)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;name&quot;, nullable = false)\r\n      private String name;\r\n    \r\n      @ElementCollection\r\n      @CollectionTable(\r\n          name = &quot;student_books&quot;,\r\n          joinColumns = @JoinColumn(name = &quot;student_id&quot;, referencedColumnName = &quot;student_id&quot;))\r\n      @Column(name = &quot;book&quot;)\r\n      private List&lt;String&gt; books = new ArrayList&lt;&gt;();\r\n\r\n      // Getters &amp; Setters\r\n\r\n    }\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#collections-synopsis","title":"Does @ElementCollection imply orphanRemoval?","body":"<p>It is implied. Removing the owning entity would also remove all data on the <code>@ElementCollection</code>. Setting the <code>Collection</code> to null or changing elements in the <code>Collection</code> would cause an update if <code>Session</code> isn't already closed.</p>\n<p>The official documentation <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#collections-synopsis\" rel=\"nofollow noreferrer\">here</a> says this:</p>\n<blockquote>\n<p>2.8.1. Collections as a value type</p>\n<p>Value and embeddable type collections have a similar behavior as\nsimple value types because they are automatically persisted when\nreferenced by a persistent object and automatically deleted when\nunreferenced. If a collection is passed from one persistent object to\nanother, its elements might be moved from one table to another.\n<br>...\n<br>\nFor collections of value types, JPA 2.0 defines the @ElementCollection\nannotation. The lifecycle of the value-type collection is entirely\ncontrolled by its owning entity.</p>\n</blockquote>\n<p>I ran these three tests to test it out:</p>\n<pre><code>  @Test\n  public void selectStudentAndSetBooksCollectionToNull() {\n    Student student = studentDao.getById(3L);\n    List&lt;String&gt; books = student.getBooks();\n\n    books.forEach(System.out::println);\n\n    student.setBooks(null);\n\n    em.flush(); // delete from student_book where student_id = ?\n  }\n\n  @Test\n  public void selectStudentAndAddBookInCollection() {\n    Student student = studentDao.getById(3L);\n    List&lt;String&gt; books = student.getBooks();\n\n    books.add(&quot;PHP Book&quot;);\n\n    books.forEach(System.out::println);\n\n    em.flush(); // insert into student_book(student_id, book) values(?, ?)\n  }\n\n  @Test\n  public void selectStudentAndChangeCollection() {\n    Student student = studentDao.getById(3L);\n    List&lt;String&gt; newBooks = new ArrayList&lt;&gt;();\n\n    newBooks.add(&quot;Rocket Engineering&quot;);\n\n    newBooks.forEach(System.out::println);\n\n    student.setBooks(newBooks);\n\n    em.flush(); // delete from student_book where student_id = ?\n    // insert into student_book(student_id, book) values(?, ?)\n  } \n</code></pre>\n<p>This is the <code>Student</code> class:</p>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;student_id&quot;, nullable = false, insertable = false, updatable = false)\n  private Long id;\n\n  @Column(name = &quot;name&quot;, nullable = false)\n  private String name;\n\n  @ElementCollection\n  @CollectionTable(\n      name = &quot;student_books&quot;,\n      joinColumns = @JoinColumn(name = &quot;student_id&quot;, referencedColumnName = &quot;student_id&quot;))\n  @Column(name = &quot;book&quot;)\n  private List&lt;String&gt; books = new ArrayList&lt;&gt;();\n\n  // Getters &amp; Setters\n\n}\n</code></pre>\n"}],"owner":{"account_id":9490046,"reputation":4121,"user_id":7055206,"accept_rate":56,"display_name":"k13i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4817,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1663839814,"creation_date":1506425618,"question_id":46425395,"body_markdown":"According to this post [https://stackoverflow.com/questions/8969059/difference-between-onetomany-and-elementcollection][1] I should prefer `@ElementCollection` for embeddable types and `@OneToMany` for entities. But using `@OneToMany` I can  additionaly set option `orphanRemoval=true`. How can I do this with `@ElementCollection`? It it implied?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8969059/difference-between-onetomany-and-elementcollection","title":"Does @ElementCollection imply orphanRemoval?","body":"<p>According to this post <a href=\"https://stackoverflow.com/questions/8969059/difference-between-onetomany-and-elementcollection\">Difference between @OneToMany and @ElementCollection?</a> I should prefer <code>@ElementCollection</code> for embeddable types and <code>@OneToMany</code> for entities. But using <code>@OneToMany</code> I can  additionaly set option <code>orphanRemoval=true</code>. How can I do this with <code>@ElementCollection</code>? It it implied?</p>\n"},{"tags":["java","sql","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663839783,"creation_date":1663787205,"answer_id":73805776,"question_id":73804986,"body_markdown":"Check this one:\r\n```sql\r\nSELECT d FROM Doctor d,\r\nLEFT JOIN Patient p ON d.id = p.doctor.id\r\nGROUP BY d\r\nORDER BY COUNT(p.id)\r\n```","title":"Query to sort data based on another entity","body":"<p>Check this one:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT d FROM Doctor d,\nLEFT JOIN Patient p ON d.id = p.doctor.id\nGROUP BY d\nORDER BY COUNT(p.id)\n</code></pre>\n"}],"owner":{"account_id":15803505,"reputation":5,"user_id":11402600,"display_name":"Vladyslav Chobotok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73805776,"answer_count":1,"score":0,"last_activity_date":1663839783,"creation_date":1663782471,"question_id":73804986,"body_markdown":"I&#39;m writing a site of a hospital. This is an MVC application with database. Database contains data about patients, doctors etc.  \r\n\r\nI need to get List of doctors which should be sorted by patient count. I have already tried to do this with Comparator inside Java code like this example: &lt;p&gt;\r\n\r\n    Page&lt;Doctor&gt; pageDoctor = doctorRepository.findAll(pageable);\r\n    List&lt;Doctor&gt; doctorList = pageDoctor.getContent();\r\n    doctorList.sort(Comparator.comparing(o -&gt; patientRepository.findAllByDoctor(o).size()));\r\nbut I need the sorted list inside Page content. I don&#39;t really understand how to make the query equivalent to this example, because I&#39;m new to SQL. Here are my entity and repository classes.&lt;p&gt;\r\n**Doctor.java** \r\n\r\n    @Entity\r\n    @Table(name = &quot;doctors&quot;)\r\n    public class Doctor {\r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n        @SequenceGenerator(name=&quot;doctors_generator&quot;, sequenceName = &quot;doctors_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;doctors_generator&quot;)\r\n        private Long id;\r\n        @OneToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;doctors_type_id&quot;)\r\n        private DoctorsType doctorsType;\r\n    \r\n        public Doctor(User user, DoctorsType doctorsType) {\r\n            this.user = user;\r\n            this.doctorsType = doctorsType;\r\n        }\r\n    \r\n        public Doctor() {\r\n        }\r\n    \r\n        public User getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(User user) {\r\n            this.user = user;\r\n        }\r\n    \r\n        public DoctorsType getDoctorsType() {\r\n            return doctorsType;\r\n        }\r\n    \r\n        public void setDoctorsType(DoctorsType doctorsType) {\r\n            this.doctorsType = doctorsType;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\n**Patient.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;patients&quot;)\r\n    public class Patient {\r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n        @SequenceGenerator(name=&quot;patients_generator&quot;, sequenceName = &quot;patients_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;patients_generator&quot;)\r\n        private Long id;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;doctor_id&quot;)\r\n        private Doctor doctor;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;treatment_id&quot;)\r\n        private Treatment treatment;\r\n    \r\n        public Patient(User user, Doctor doctor, Treatment treatment) {\r\n            this.user = user;\r\n            this.doctor = doctor;\r\n            this.treatment = treatment;\r\n        }\r\n    \r\n        public Patient() {\r\n        }\r\n    \r\n        public User getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(User user) {\r\n            this.user = user;\r\n        }\r\n    \r\n        public Doctor getDoctor() {\r\n            return doctor;\r\n        }\r\n    \r\n        public void setDoctor(Doctor doctor) {\r\n            this.doctor = doctor;\r\n        }\r\n    \r\n        public Treatment getTreatment() {\r\n            return treatment;\r\n        }\r\n    \r\n        public void setTreatment(Treatment treatment) {\r\n            this.treatment = treatment;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\n**PatientRepository.java**\r\n\r\n    @Repository\r\n    public interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\r\n        Patient findPatientByUser(User user);\r\n    \r\n        List&lt;Patient&gt; findAllByDoctor(Doctor doctor);\r\n        Patient findPatientById(long id);\r\n        Page&lt;Patient&gt; findAllByOrderByIdAsc(Pageable pageable);\r\n        List&lt;Patient&gt; findAllByOrderByIdAsc();\r\n    }\r\n\r\n**DoctorRepository.java**\r\n\r\n    @Repository\r\n    public interface DoctorRepository extends JpaRepository&lt;Doctor, Long&gt; {\r\n        Doctor findDoctorById(long id);\r\n        Doctor findDoctorByUser(User user);\r\n    \r\n        @Query(\r\n                //sql query there\r\n        )\r\n        Page&lt;Doctor&gt; findAllByPatientCountAsc(Pageable pageable);\r\n        Page&lt;Doctor&gt; findAll(Pageable pageable);\r\n    \r\n        List&lt;Doctor&gt; findAllByOrderByIdAsc();\r\n        List&lt;Doctor&gt; findAllByDoctorsTypeNot(DoctorsType doctorsType);\r\n        List&lt;Doctor&gt; findAllByDoctorsType(DoctorsType doctorsType);\r\n    }\r\n\r\nThanks for your answers in advance.","title":"Query to sort data based on another entity","body":"<p>I'm writing a site of a hospital. This is an MVC application with database. Database contains data about patients, doctors etc.</p>\n<p>I need to get List of doctors which should be sorted by patient count. I have already tried to do this with Comparator inside Java code like this example: <p></p>\n<pre><code>Page&lt;Doctor&gt; pageDoctor = doctorRepository.findAll(pageable);\nList&lt;Doctor&gt; doctorList = pageDoctor.getContent();\ndoctorList.sort(Comparator.comparing(o -&gt; patientRepository.findAllByDoctor(o).size()));\n</code></pre>\n<p>but I need the sorted list inside Page content. I don't really understand how to make the query equivalent to this example, because I'm new to SQL. Here are my entity and repository classes.<p>\n<strong>Doctor.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;doctors&quot;)\npublic class Doctor {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    @SequenceGenerator(name=&quot;doctors_generator&quot;, sequenceName = &quot;doctors_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;doctors_generator&quot;)\n    private Long id;\n    @OneToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;doctors_type_id&quot;)\n    private DoctorsType doctorsType;\n\n    public Doctor(User user, DoctorsType doctorsType) {\n        this.user = user;\n        this.doctorsType = doctorsType;\n    }\n\n    public Doctor() {\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public DoctorsType getDoctorsType() {\n        return doctorsType;\n    }\n\n    public void setDoctorsType(DoctorsType doctorsType) {\n        this.doctorsType = doctorsType;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p><strong>Patient.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;patients&quot;)\npublic class Patient {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    @SequenceGenerator(name=&quot;patients_generator&quot;, sequenceName = &quot;patients_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;patients_generator&quot;)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;doctor_id&quot;)\n    private Doctor doctor;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;treatment_id&quot;)\n    private Treatment treatment;\n\n    public Patient(User user, Doctor doctor, Treatment treatment) {\n        this.user = user;\n        this.doctor = doctor;\n        this.treatment = treatment;\n    }\n\n    public Patient() {\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Doctor getDoctor() {\n        return doctor;\n    }\n\n    public void setDoctor(Doctor doctor) {\n        this.doctor = doctor;\n    }\n\n    public Treatment getTreatment() {\n        return treatment;\n    }\n\n    public void setTreatment(Treatment treatment) {\n        this.treatment = treatment;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p><strong>PatientRepository.java</strong></p>\n<pre><code>@Repository\npublic interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\n    Patient findPatientByUser(User user);\n\n    List&lt;Patient&gt; findAllByDoctor(Doctor doctor);\n    Patient findPatientById(long id);\n    Page&lt;Patient&gt; findAllByOrderByIdAsc(Pageable pageable);\n    List&lt;Patient&gt; findAllByOrderByIdAsc();\n}\n</code></pre>\n<p><strong>DoctorRepository.java</strong></p>\n<pre><code>@Repository\npublic interface DoctorRepository extends JpaRepository&lt;Doctor, Long&gt; {\n    Doctor findDoctorById(long id);\n    Doctor findDoctorByUser(User user);\n\n    @Query(\n            //sql query there\n    )\n    Page&lt;Doctor&gt; findAllByPatientCountAsc(Pageable pageable);\n    Page&lt;Doctor&gt; findAll(Pageable pageable);\n\n    List&lt;Doctor&gt; findAllByOrderByIdAsc();\n    List&lt;Doctor&gt; findAllByDoctorsTypeNot(DoctorsType doctorsType);\n    List&lt;Doctor&gt; findAllByDoctorsType(DoctorsType doctorsType);\n}\n</code></pre>\n<p>Thanks for your answers in advance.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1663840014,"post_id":73812414,"comment_id":130335721,"body_markdown":"You can specify a custom location for the local repo, or put a fast company repo in the middle.","body":"You can specify a custom location for the local repo, or put a fast company repo in the middle."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1663840396,"post_id":73812414,"comment_id":130335874,"body_markdown":"You can try doing an initial build when creating the docker container, followed by a `mvn clean`. That should download all the dependencies while the container is built. Of course you need to rebuild the container when the dependencies change.","body":"You can try doing an initial build when creating the docker container, followed by a <code>mvn clean</code>. That should download all the dependencies while the container is built. Of course you need to rebuild the container when the dependencies change."},{"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"score":0,"creation_date":1663841393,"post_id":73812414,"comment_id":130336235,"body_markdown":"@JoopEggen just to clarify, the idea is to have a custom local repo where the jar files already reside (in the same structure as m2) and point to that repo while building using `maven.repo.local` parameter? Feel like that might work.","body":"@JoopEggen just to clarify, the idea is to have a custom local repo where the jar files already reside (in the same structure as m2) and point to that repo while building using <code>maven.repo.local</code> parameter? Feel like that might work."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1663847454,"post_id":73812414,"comment_id":130338313,"body_markdown":"And then there are individual settings.xml (per user) and with further customizable with diiferent profiles.","body":"And then there are individual settings.xml (per user) and with further customizable with diiferent profiles."}],"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663839384,"creation_date":1663839384,"question_id":73812414,"body_markdown":"## Problem\r\n\r\nI am building a Maven project inside a Docker container. I want the initial build to be quick. However, since during the first build, the ~/.m2 folder is empty, Maven downloads all the specified dependencies, and this process takes a while. \r\n\r\n## Question\r\n\r\nIs there a way to somehow bundle all the dependencies in one jar file ( or something similar), and simply use that while building the project? \r\n\r\n## Notes\r\n\r\nNote 1. The dependencies of this project will probably not change frequently.\r\n\r\nNote 2. The reason the build happens inside the container is that depending on some user actions, the resource files are dynamically changed, thus each build generates a JAR file with a different set of resource files. This is the reason why I cannot just build the JAR beforehand, and simply use it inside the container.\r\n\r\nNote 3. This container will be run by people other than me, so I cannot simply try mounting the local ./m2 directory to the container to speed up the process.\r\n\r\nThanks, and let me know if there are any questions.","title":"Is it possible to save project dependencies using Maven to prevent redownloading?","body":"<h2>Problem</h2>\n<p>I am building a Maven project inside a Docker container. I want the initial build to be quick. However, since during the first build, the ~/.m2 folder is empty, Maven downloads all the specified dependencies, and this process takes a while.</p>\n<h2>Question</h2>\n<p>Is there a way to somehow bundle all the dependencies in one jar file ( or something similar), and simply use that while building the project?</p>\n<h2>Notes</h2>\n<p>Note 1. The dependencies of this project will probably not change frequently.</p>\n<p>Note 2. The reason the build happens inside the container is that depending on some user actions, the resource files are dynamically changed, thus each build generates a JAR file with a different set of resource files. This is the reason why I cannot just build the JAR beforehand, and simply use it inside the container.</p>\n<p>Note 3. This container will be run by people other than me, so I cannot simply try mounting the local ./m2 directory to the container to speed up the process.</p>\n<p>Thanks, and let me know if there are any questions.</p>\n"},{"tags":["java","arrays","object","oop","constructor"],"comments":[{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":4,"creation_date":1663226191,"post_id":73726961,"comment_id":130190117,"body_markdown":"It would help tremendously — and increase the chance of getting a good answer! — if you could reduce the long code you posted to an [mcve] (MCVE) by removing everything that’s irrelevant. The MCVE should also be properly formatted at a minimum.","body":"It would help tremendously — and increase the chance of getting a good answer! — if you could reduce the long code you posted to an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (MCVE) by removing everything that’s irrelevant. The MCVE should also be properly formatted at a minimum."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1663226272,"post_id":73726961,"comment_id":130190140,"body_markdown":"this should explain (at least) the crashing: https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it","body":"this should explain (at least) the crashing: <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1663226345,"post_id":73726961,"comment_id":130190167,"body_markdown":"You are missing `break;` in all your switch/case. Right now, you have fall-trough and all cases will be executed.","body":"You are missing <code>break;</code> in all your switch/case. Right now, you have fall-trough and all cases will be executed."}],"answers":[{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663226722,"creation_date":1663226722,"answer_id":73727111,"question_id":73726961,"body_markdown":"this is because some of your obj[i] is null. \r\nYou need to check for null when iterating obj. e.g:\r\n\r\n```\r\nfor(int i=0;i&lt;obj.length;i++){\r\n  if(obj[i]==null){\r\n    // do something here; either skip it or simply break.\r\n  }\r\n```","title":"Java: after constructor method is run, method for finding an object is run as well despite not being called?","body":"<p>this is because some of your obj[i] is null.\nYou need to check for null when iterating obj. e.g:</p>\n<pre><code>for(int i=0;i&lt;obj.length;i++){\n  if(obj[i]==null){\n    // do something here; either skip it or simply break.\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663227127,"creation_date":1663227127,"answer_id":73727205,"question_id":73726961,"body_markdown":"Your case statement will run createDog immediately followed by deleteDog.\r\nIt would be evident if you changed your prompts to \r\n&#39;Enter dog name to be created&#39; or &#39;Enter dog name to be deleted&#39;.\r\n\r\nModify your case statement by adding breaks:\r\n\r\n    switch(volba){\r\n        case(&quot;1&quot;):\r\n            NewGame.CreateDog();\r\n            break;\r\n        case(&quot;2&quot;):\r\n            NewGame.DeleteDog();\r\n            break;\r\n        case(&quot;3&quot;):\r\n            NewGame.ShowDogs();\r\n            break;\r\n        case(&quot;4&quot;):\r\n            thegame(NewGame);\r\n            break; // not really required here\r\n    }","title":"Java: after constructor method is run, method for finding an object is run as well despite not being called?","body":"<p>Your case statement will run createDog immediately followed by deleteDog.\nIt would be evident if you changed your prompts to\n'Enter dog name to be created' or 'Enter dog name to be deleted'.</p>\n<p>Modify your case statement by adding breaks:</p>\n<pre><code>switch(volba){\n    case(&quot;1&quot;):\n        NewGame.CreateDog();\n        break;\n    case(&quot;2&quot;):\n        NewGame.DeleteDog();\n        break;\n    case(&quot;3&quot;):\n        NewGame.ShowDogs();\n        break;\n    case(&quot;4&quot;):\n        thegame(NewGame);\n        break; // not really required here\n}\n</code></pre>\n"}],"owner":{"account_id":26341973,"reputation":13,"user_id":20000934,"display_name":"Tobukus Biblius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73727205,"answer_count":2,"score":1,"last_activity_date":1663839190,"creation_date":1663226044,"question_id":73726961,"body_markdown":"I have created a program, where I have the class dog, with many attributes, together with methods for creating an instance of the class, constructor and getting  and setting the attributes.\r\nThen I have class CPanel, which is supposed to work as a control panel for the user to access this class, it has array of objects dog and it lets the user allocate the objects into said array and find them, delete them and so on.\r\n\r\nHowever I am having a problem with just said allocation as when creating a dog through said panel, one is supposedly created but right after its done the program continues to start the method Find/CheckDog via the dialogue &quot;Choose dogs name&quot;\r\nI understand my code is rather imperfect however I have no clue as to how does the code continue there, also why does it crash right after providing the name of the dog\r\n\r\n    \r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class friendlycode2 {\r\n      Scanner scan = new Scanner(System.in);\r\n    \r\n      public class Dog{\r\n        int id;\r\n        boolean deleted;\r\n        String name;\r\n        String breed;\r\n        int age;\r\n        String color; //+standart get/set methods for these atributes\r\n        \r\n        public int GetId(){\r\n            return id;\r\n          }\r\n        public boolean getDeleted(){\r\n            return deleted;\r\n          }\r\n        public void setDeleted(boolean x){\r\n            this.deleted = x;\r\n          }\r\n          public String getName(){\r\n            return name;\r\n          }  \r\n    \r\n      public Dog(int id, String name, String breed, int age, String color){\r\n      this.name = name; this.breed = breed; this.age = age; this.color=color; this.deleted = false; \r\n      } \r\n    \r\n      }\r\n      public class CPanel{\r\n          int nu2m;\r\n          int Selected;\r\n          Dog obj[ ]= new Dog[10];\r\n      \r\n          public CPanel(){\r\n            System.out.println(&quot;Welcome to the dog games&quot;);       \r\n            nu2m =0;\r\n      }\r\n      public void SetSelected(int x){\r\n        this.Selected = x;\r\n        }\r\n        public int GetSelected(){ \r\n          return this.Selected;\r\n        }\r\n        public void CreateDog(){    //the important constructor method\r\n            \r\n            System.out.println(&quot;Choose dogs name, breed, age and color \\n&quot;); \r\n            String userInput = scan.nextLine(); \r\n            String[] InputArray = userInput.split(&quot;,&quot;, 0);        \r\n            obj[nu2m] = new Dog(nu2m, InputArray[0],InputArray[1],Integer.parseInt(InputArray[2]),InputArray[3]);        \r\n            nu2m ++;   \r\n            System.out.println(&quot;New dog created \\n&quot;);       \r\n            }\r\n      public void DeleteDog(){\r\n        CheckDog();\r\n        obj[Selected].setDeleted(true); \r\n      }\r\n      public void ShowDogs(){\r\n        for(int i=0;i&lt;obj.length;i++)\r\n        {\r\n          if(obj[i].getDeleted()==false){\r\n            obj[i].toString();}\r\n           else{};\r\n          }\r\n        }  \r\n      public int FindDog(){\r\n        System.out.println(&quot;Choose dogs name\\n&quot;);\r\n        String name = scan.nextLine();\r\n        for(int i=0;i&lt;obj.length;i++)\r\n          {\r\n            if(name ==obj[i].getName()){\r\n              if(obj[i].getDeleted()==false){\r\n            return obj[i].GetId();}\r\n            }\r\n            else{};\r\n        }     \r\n          return -1;\r\n      }\r\n      public void CheckDog(){\r\n        int check = FindDog();\r\n        if(check&lt;0){System.out.println(&quot;Dog doesnt exist\\n&quot;);}\r\n        else{this.SetSelected(check);}    \r\n          }\r\n      }\r\n        public void  mainn()  \r\n      { \r\n        CPanel NewGame =new CPanel();\r\n        String volba=&quot;0&quot;;\r\n        System.out.println(&quot;Welcome to the dog game\\n1: Create new dog\\n2: Delete a dogy\\n3:Show all dogs\\n4:Play the game dogs\\n5: Exit\\n&quot;);\r\n        while(volba!=&quot;5&quot;){\r\n        volba = scan.nextLine();\r\n        switch(volba){\r\n        case(&quot;1&quot;):\r\n        NewGame.CreateDog();\r\n        case(&quot;2&quot;):\r\n        NewGame.DeleteDog();\r\n        case(&quot;3&quot;):\r\n        NewGame.ShowDogs();\r\n        case(&quot;4&quot;):\r\n        System.out.println(&quot;Ending program\\n&quot;);\r\n        //thegame(NewGame);\r\n        }\r\n        System.out.println(&quot;Welcome to the dog game\\n1: Create new dog\\n2: Delete a dogy\\n3:Show all dogs\\n4:Play the game dogs\\n5: Exit\\n&quot;);\r\n                        }\r\n       }   \r\n       public static void main(String[] args) {\r\n     friendlycode2 o = new friendlycode2();\r\n     //o.test();\r\n     o.mainn();\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nhere is the output\r\n&gt;     Welcome to the dog game\r\n&gt;     1: Create new dog\r\n&gt;     2: Delete a dogy\r\n&gt;     3:Show all dogs\r\n&gt;     4:Play the game dogs\r\n&gt;     5: Exit\r\n&gt;     \r\n&gt;     1\r\n&gt;     Choose dogs name, breed, age and color \r\n&gt;     \r\n&gt;     d,e,11,d\r\n&gt;     New dog created \r\n&gt;     \r\n&gt;     Choose dogs name\r\n&gt;     \r\n&gt;     d\r\n&gt;     Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n&gt;             at friendlycode$CPanel.FindDog(friendlycode.java:104)\r\n&gt;             at friendlycode$CPanel.CheckDog(friendlycode.java:114)\r\n&gt;             at friendlycode$CPanel.DeleteDog(friendlycode.java:87)\r\n&gt;             at friendlycode.mainn(friendlycode.java:159)\r\n&gt;             at friendlycode.main(friendlycode.java:172)\r\n\r\n\r\n","title":"Java: after constructor method is run, method for finding an object is run as well despite not being called?","body":"<p>I have created a program, where I have the class dog, with many attributes, together with methods for creating an instance of the class, constructor and getting  and setting the attributes.\nThen I have class CPanel, which is supposed to work as a control panel for the user to access this class, it has array of objects dog and it lets the user allocate the objects into said array and find them, delete them and so on.</p>\n<p>However I am having a problem with just said allocation as when creating a dog through said panel, one is supposedly created but right after its done the program continues to start the method Find/CheckDog via the dialogue &quot;Choose dogs name&quot;\nI understand my code is rather imperfect however I have no clue as to how does the code continue there, also why does it crash right after providing the name of the dog</p>\n<pre><code>import java.util.Scanner;\n\npublic class friendlycode2 {\n  Scanner scan = new Scanner(System.in);\n\n  public class Dog{\n    int id;\n    boolean deleted;\n    String name;\n    String breed;\n    int age;\n    String color; //+standart get/set methods for these atributes\n    \n    public int GetId(){\n        return id;\n      }\n    public boolean getDeleted(){\n        return deleted;\n      }\n    public void setDeleted(boolean x){\n        this.deleted = x;\n      }\n      public String getName(){\n        return name;\n      }  \n\n  public Dog(int id, String name, String breed, int age, String color){\n  this.name = name; this.breed = breed; this.age = age; this.color=color; this.deleted = false; \n  } \n\n  }\n  public class CPanel{\n      int nu2m;\n      int Selected;\n      Dog obj[ ]= new Dog[10];\n  \n      public CPanel(){\n        System.out.println(&quot;Welcome to the dog games&quot;);       \n        nu2m =0;\n  }\n  public void SetSelected(int x){\n    this.Selected = x;\n    }\n    public int GetSelected(){ \n      return this.Selected;\n    }\n    public void CreateDog(){    //the important constructor method\n        \n        System.out.println(&quot;Choose dogs name, breed, age and color \\n&quot;); \n        String userInput = scan.nextLine(); \n        String[] InputArray = userInput.split(&quot;,&quot;, 0);        \n        obj[nu2m] = new Dog(nu2m, InputArray[0],InputArray[1],Integer.parseInt(InputArray[2]),InputArray[3]);        \n        nu2m ++;   \n        System.out.println(&quot;New dog created \\n&quot;);       \n        }\n  public void DeleteDog(){\n    CheckDog();\n    obj[Selected].setDeleted(true); \n  }\n  public void ShowDogs(){\n    for(int i=0;i&lt;obj.length;i++)\n    {\n      if(obj[i].getDeleted()==false){\n        obj[i].toString();}\n       else{};\n      }\n    }  \n  public int FindDog(){\n    System.out.println(&quot;Choose dogs name\\n&quot;);\n    String name = scan.nextLine();\n    for(int i=0;i&lt;obj.length;i++)\n      {\n        if(name ==obj[i].getName()){\n          if(obj[i].getDeleted()==false){\n        return obj[i].GetId();}\n        }\n        else{};\n    }     \n      return -1;\n  }\n  public void CheckDog(){\n    int check = FindDog();\n    if(check&lt;0){System.out.println(&quot;Dog doesnt exist\\n&quot;);}\n    else{this.SetSelected(check);}    \n      }\n  }\n    public void  mainn()  \n  { \n    CPanel NewGame =new CPanel();\n    String volba=&quot;0&quot;;\n    System.out.println(&quot;Welcome to the dog game\\n1: Create new dog\\n2: Delete a dogy\\n3:Show all dogs\\n4:Play the game dogs\\n5: Exit\\n&quot;);\n    while(volba!=&quot;5&quot;){\n    volba = scan.nextLine();\n    switch(volba){\n    case(&quot;1&quot;):\n    NewGame.CreateDog();\n    case(&quot;2&quot;):\n    NewGame.DeleteDog();\n    case(&quot;3&quot;):\n    NewGame.ShowDogs();\n    case(&quot;4&quot;):\n    System.out.println(&quot;Ending program\\n&quot;);\n    //thegame(NewGame);\n    }\n    System.out.println(&quot;Welcome to the dog game\\n1: Create new dog\\n2: Delete a dogy\\n3:Show all dogs\\n4:Play the game dogs\\n5: Exit\\n&quot;);\n                    }\n   }   \n   public static void main(String[] args) {\n friendlycode2 o = new friendlycode2();\n //o.test();\n o.mainn();\n  }\n}\n</code></pre>\n<p>here is the output</p>\n<blockquote>\n<pre><code>Welcome to the dog game\n1: Create new dog\n2: Delete a dogy\n3:Show all dogs\n4:Play the game dogs\n5: Exit\n\n1\nChoose dogs name, breed, age and color \n\nd,e,11,d\nNew dog created \n\nChoose dogs name\n\nd\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at friendlycode$CPanel.FindDog(friendlycode.java:104)\n        at friendlycode$CPanel.CheckDog(friendlycode.java:114)\n        at friendlycode$CPanel.DeleteDog(friendlycode.java:87)\n        at friendlycode.mainn(friendlycode.java:159)\n        at friendlycode.main(friendlycode.java:172)\n</code></pre>\n</blockquote>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":4225251,"reputation":2272,"user_id":3458919,"accept_rate":55,"display_name":"Balwinder Singh"},"score":2,"creation_date":1396868764,"post_id":22910467,"comment_id":34966500,"body_markdown":"Just change the return type of findAverage method to int. Right now, the return type is void.","body":"Just change the return type of findAverage method to int. Right now, the return type is void."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1592062226,"post_id":22910467,"comment_id":110292369,"body_markdown":"You can also get this message for when combining a long string in System,out.println.. when you have two successive + .. For me it was tail end of one line, and beginning of the next.","body":"You can also get this message for when combining a long string in System,out.println.. when you have two successive + .. For me it was tail end of one line, and beginning of the next."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1396949397,"creation_date":1396868494,"answer_id":22910505,"question_id":22910467,"body_markdown":"`findAverage` has a void return type. Change the return type for the method to return an `int` value\r\n\r\n    public static int findAverage(int[] array) {\r\n     ...\r\n     return total / array.length;\r\n    }","title":"The operator + is undefined for the argument type(s) String, void","body":"<p><code>findAverage</code> has a void return type. Change the return type for the method to return an <code>int</code> value</p>\n\n<pre><code>public static int findAverage(int[] array) {\n ...\n return total / array.length;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396868521,"creation_date":1396868521,"answer_id":22910513,"question_id":22910467,"body_markdown":"Your method  `findAverage(heights)` has to return a value to be applicaable for the binary operator `+`, which takes two operants.","title":"The operator + is undefined for the argument type(s) String, void","body":"<p>Your method  <code>findAverage(heights)</code> has to return a value to be applicaable for the binary operator <code>+</code>, which takes two operants.</p>\n"},{"tags":[],"owner":{"account_id":3922468,"reputation":6689,"user_id":3244185,"display_name":"Harshal Patil"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1397038433,"creation_date":1396868604,"answer_id":22910543,"question_id":22910467,"body_markdown":"Change return type of your `findAverage()` method,\r\n\r\ni.e `void findAverage` to `int findAverage`\r\n\r\n    public static int findAverage(int[] array) {\r\n        int total = 0;\r\n        for (int i = 0; i &lt;= array.length; i++) {\r\n            total = total + array[i];\r\n        }\r\n        return total / array.length;\r\n    }","title":"The operator + is undefined for the argument type(s) String, void","body":"<p>Change return type of your <code>findAverage()</code> method,</p>\n\n<p>i.e <code>void findAverage</code> to <code>int findAverage</code></p>\n\n<pre><code>public static int findAverage(int[] array) {\n    int total = 0;\n    for (int i = 0; i &lt;= array.length; i++) {\n        total = total + array[i];\n    }\n    return total / array.length;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396868770,"creation_date":1396868770,"answer_id":22910595,"question_id":22910467,"body_markdown":"you cannot make\r\n\r\n`String` + `void`\r\n\r\n\r\n`findAverage` method returns `void`","title":"The operator + is undefined for the argument type(s) String, void","body":"<p>you cannot make</p>\n\n<p><code>String</code> + <code>void</code></p>\n\n<p><code>findAverage</code> method returns <code>void</code></p>\n"},{"tags":[],"owner":{"display_name":"user3516539"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397068651,"creation_date":1397068651,"answer_id":22971219,"question_id":22910467,"body_markdown":"`Return` type of `findAverage` method should not be void it should be integer for your code.\r\nYou should not print the value of average in same method as you are calling in main method.","title":"The operator + is undefined for the argument type(s) String, void","body":"<p><code>Return</code> type of <code>findAverage</code> method should not be void it should be integer for your code.\nYou should not print the value of average in same method as you are calling in main method.</p>\n"},{"tags":[],"owner":{"account_id":11068488,"reputation":1,"user_id":8127513,"display_name":"user8127513"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496861025,"creation_date":1496861025,"answer_id":44420506,"question_id":22910467,"body_markdown":"Also here argument is of type int, and Operators like(*,+,..) won&#39;t work for argument type void and int so either change argument type or return type as mentioned above.","title":"The operator + is undefined for the argument type(s) String, void","body":"<p>Also here argument is of type int, and Operators like(*,+,..) won't work for argument type void and int so either change argument type or return type as mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":19514495,"reputation":11,"user_id":14277705,"display_name":"Md Farhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663839173,"creation_date":1663839173,"answer_id":73812360,"question_id":22910467,"body_markdown":"Change the return type of &quot;findAverage&quot; function from void to int.","title":"The operator + is undefined for the argument type(s) String, void","body":"<p>Change the return type of &quot;findAverage&quot; function from void to int.</p>\n"}],"owner":{"account_id":4289473,"reputation":11,"user_id":3506231,"display_name":"NedNarb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40735,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":22910505,"answer_count":7,"score":-2,"last_activity_date":1663839173,"creation_date":1396868393,"question_id":22910467,"body_markdown":"\tpublic class chap7p4 {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint[] heights = { 33, 45, 23, 43, 48, 32, 35, 46, 48, 39, 41, };\r\n\t\t\tprintArray(heights);\r\n\t\t\tSystem.out.println(&quot;Average is &quot; + findAverage(heights)); // this is where I get the error\r\n\t\t}\r\n\t\r\n\t\tpublic static void printArray(int[] array) {\r\n\t\t\tfor (int eachNum : array) {\r\n\t\t\t\tSystem.out.println(eachNum + &quot;  &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void findAverage(int[] array) {\r\n\t\t\tint average = 0;\r\n\t\t\tint total = 0;\r\n\t\t\tfor (int i = 0; i &lt;= array.length; i++) {\r\n\t\t\t\ttotal = total + array[i];\r\n\t\t\t}\r\n\t\t\taverage = total / array.length;\r\n\t\t\tSystem.out.println(average);\r\n\t\r\n\t\t}\r\n\t}\r\n\r\nI get this error \r\n\r\n    &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: The operator + is undefined for the argument type(s) String, void&quot;  \r\n\r\n\r\n","title":"The operator + is undefined for the argument type(s) String, void","body":"<pre><code>public class chap7p4 {\n    public static void main(String[] args) {\n        int[] heights = { 33, 45, 23, 43, 48, 32, 35, 46, 48, 39, 41, };\n        printArray(heights);\n        System.out.println(\"Average is \" + findAverage(heights)); // this is where I get the error\n    }\n\n    public static void printArray(int[] array) {\n        for (int eachNum : array) {\n            System.out.println(eachNum + \"  \");\n        }\n    }\n\n    public static void findAverage(int[] array) {\n        int average = 0;\n        int total = 0;\n        for (int i = 0; i &lt;= array.length; i++) {\n            total = total + array[i];\n        }\n        average = total / array.length;\n        System.out.println(average);\n\n    }\n}\n</code></pre>\n\n<p>I get this error </p>\n\n<pre><code>\"Exception in thread \"main\" java.lang.Error: Unresolved compilation problem: The operator + is undefined for the argument type(s) String, void\"  \n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663801290,"post_id":73807212,"comment_id":130327557,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663825155,"post_id":73807212,"comment_id":130330932,"body_markdown":"You either use `spring-boot-starter-web` or `spring-boot-starter-webflux` but not both. If you need both you need to specify to the application what it needs to run SERVLET or REACTIVE (or NONE but I doubt that applies). Add `spring.main.web-application-type=SERVLET` if you want to use servlet (blocking) or `REACTIVE` otherwise).","body":"You either use <code>spring-boot-starter-web</code> or <code>spring-boot-starter-webflux</code> but not both. If you need both you need to specify to the application what it needs to run SERVLET or REACTIVE (or NONE but I doubt that applies). Add <code>spring.main.web-application-type=SERVLET</code> if you want to use servlet (blocking) or <code>REACTIVE</code> otherwise)."},{"owner":{"account_id":8996694,"reputation":20,"user_id":17482918,"display_name":"Bart"},"score":0,"creation_date":1663838723,"post_id":73807212,"comment_id":130335234,"body_markdown":"@M.Deinum thanks for hint, yeah that was a case and as well the fact that I forgot to add package scan for the module containing controller....\nYou should add your comment as answear otherwise I can&#39;t mark it as solution.\n\nThank you for your imput, any advice how I should approach learning Spring or what materials to go through? (except documentation ofc)","body":"@M.Deinum thanks for hint, yeah that was a case and as well the fact that I forgot to add package scan for the module containing controller.... You should add your comment as answear otherwise I can&#39;t mark it as solution.  Thank you for your imput, any advice how I should approach learning Spring or what materials to go through? (except documentation ofc)"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663839088,"creation_date":1663839088,"answer_id":73812336,"question_id":73807212,"body_markdown":"I can see 2 things &quot;wrong&quot; with your setup\r\n\r\n1. You have both `spring-boot-starter-web` and `spring-boot-starter-webflux in your dependencies. You generally use 1 or the other not both. \r\n\r\nTo fix remove one of the dependencies and decide what you want, or specify what Spring should start. For this you can use the `spring.main.web-application-type` in your properties and set it to either `SERVLET` or `REACTIVE`. \r\n\r\n2. Your `@SpringBootApplication` is in the `com.calculate.calories.start` and it will, by default, scan only in the package it is defined in (and its subpackages). Your controller is in `com.calculate.calories.web.controller` which doesn&#39;t match. \r\n\r\nThe best practice is to put your `@SpringBootApplication` in a top level package, in your case `com.calculate.calories`. If you don&#39;t you endup with a class with a lot of additional `@ComponentScan`/`@IMport`/`@Enable*` annotations, which kind of beats the purpose of auto configuration and detection. \r\n\r\nSo in short move your `@SpringBootApplication` class to `com.calculate.calories` instead of a sub-package. ","title":"Why I can&#39;t access the endpoint I&#39;ve set up on my @RestController","body":"<p>I can see 2 things &quot;wrong&quot; with your setup</p>\n<ol>\n<li>You have both <code>spring-boot-starter-web</code> and `spring-boot-starter-webflux in your dependencies. You generally use 1 or the other not both.</li>\n</ol>\n<p>To fix remove one of the dependencies and decide what you want, or specify what Spring should start. For this you can use the <code>spring.main.web-application-type</code> in your properties and set it to either <code>SERVLET</code> or <code>REACTIVE</code>.</p>\n<ol start=\"2\">\n<li>Your <code>@SpringBootApplication</code> is in the <code>com.calculate.calories.start</code> and it will, by default, scan only in the package it is defined in (and its subpackages). Your controller is in <code>com.calculate.calories.web.controller</code> which doesn't match.</li>\n</ol>\n<p>The best practice is to put your <code>@SpringBootApplication</code> in a top level package, in your case <code>com.calculate.calories</code>. If you don't you endup with a class with a lot of additional <code>@ComponentScan</code>/<code>@IMport</code>/<code>@Enable*</code> annotations, which kind of beats the purpose of auto configuration and detection.</p>\n<p>So in short move your <code>@SpringBootApplication</code> class to <code>com.calculate.calories</code> instead of a sub-package.</p>\n"}],"owner":{"account_id":8996694,"reputation":20,"user_id":17482918,"display_name":"Bart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73812336,"answer_count":1,"score":0,"last_activity_date":1663839088,"creation_date":1663796411,"question_id":73807212,"body_markdown":"I&#39;ve recently started learning Spring and wanted to exercise a bit.\r\nI&#39;ve created a simple spring boot application, so far it contains only 1 controller with single @GetMapping, but when I try to test it in my browser I only get Whitelabel error. Could someone hint me in the right direction?\r\n\r\nController: \r\n\r\n    package com.calculate.calories.web.controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.time.Duration;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    @RestController\r\n    public class RecipeController {\r\n    \r\n        @GetMapping(&quot;/recipe&quot;)\r\n        public String getRecipes() {\r\n            HttpRequest request = HttpRequest.newBuilder(URI.create(&quot;https://api.aniagotuje.pl/client/posts/search?categories=ciasta-i-torty&amp;diets=&amp;occasions=&amp;tags=&amp;page=0&amp;sort=publish,desc&quot;))\r\n                    .GET()\r\n                    .timeout(Duration.of(10, ChronoUnit.SECONDS))\r\n                    .build();\r\n    \r\n            HttpClient client = HttpClient.newBuilder().connectTimeout(Duration.of(15, ChronoUnit.SECONDS)).build();\r\n            try {\r\n                HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n                return response.body();\r\n            } catch (IOException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;e&quot;;\r\n        }\r\n    }\r\n\r\nMain:\r\n\r\n    package com.calculate.calories.start;\r\n    \r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\n    public class SlimChefApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SlimChefApplication.class, args);\r\n        }\r\n    }\r\n\r\nMain POM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;config&lt;/module&gt;\r\n            &lt;module&gt;persistence&lt;/module&gt;\r\n            &lt;module&gt;common&lt;/module&gt;\r\n            &lt;module&gt;application&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slimchef&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;SlimChef&lt;/name&gt;\r\n        &lt;description&gt;SlimChef&lt;/description&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;project.version&gt;0.0.1-SNAPSHOT&lt;/project.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nPOM of application module (where controller is):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;slimchef&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;application&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nPOM of config module (start point of Spring application):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;slimchef&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;config&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\r\n                &lt;artifactId&gt;application&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\r\n                &lt;artifactId&gt;persistence&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n[Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qK44Y.png","title":"Why I can&#39;t access the endpoint I&#39;ve set up on my @RestController","body":"<p>I've recently started learning Spring and wanted to exercise a bit.\nI've created a simple spring boot application, so far it contains only 1 controller with single @GetMapping, but when I try to test it in my browser I only get Whitelabel error. Could someone hint me in the right direction?</p>\n<p>Controller:</p>\n<pre><code>package com.calculate.calories.web.controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.time.Duration;\nimport java.time.temporal.ChronoUnit;\n\n@RestController\npublic class RecipeController {\n\n    @GetMapping(&quot;/recipe&quot;)\n    public String getRecipes() {\n        HttpRequest request = HttpRequest.newBuilder(URI.create(&quot;https://api.aniagotuje.pl/client/posts/search?categories=ciasta-i-torty&amp;diets=&amp;occasions=&amp;tags=&amp;page=0&amp;sort=publish,desc&quot;))\n                .GET()\n                .timeout(Duration.of(10, ChronoUnit.SECONDS))\n                .build();\n\n        HttpClient client = HttpClient.newBuilder().connectTimeout(Duration.of(15, ChronoUnit.SECONDS)).build();\n        try {\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n            return response.body();\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n        return &quot;e&quot;;\n    }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>package com.calculate.calories.start;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class SlimChefApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SlimChefApplication.class, args);\n    }\n}\n</code></pre>\n<p>Main POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;modules&gt;\n        &lt;module&gt;config&lt;/module&gt;\n        &lt;module&gt;persistence&lt;/module&gt;\n        &lt;module&gt;common&lt;/module&gt;\n        &lt;module&gt;application&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\n    &lt;artifactId&gt;slimchef&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SlimChef&lt;/name&gt;\n    &lt;description&gt;SlimChef&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.version&gt;0.0.1-SNAPSHOT&lt;/project.version&gt;\n    &lt;/properties&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>POM of application module (where controller is):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;slimchef&lt;/artifactId&gt;\n        &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>POM of config module (start point of Spring application):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;slimchef&lt;/artifactId&gt;\n        &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;config&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\n            &lt;artifactId&gt;application&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.calculate.calories&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qK44Y.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"},{"tags":["java","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":301682,"reputation":724,"user_id":609579,"accept_rate":25,"display_name":"Mads"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334359102,"creation_date":1334359102,"answer_id":10149483,"question_id":10149463,"body_markdown":"Normally you would have to specify which class within the jar file has the main method. If you check the bat file which works, you&#39;d probably see what you are missing in order to run it.","title":"JAR file: Could not find main class","body":"<p>Normally you would have to specify which class within the jar file has the main method. If you check the bat file which works, you'd probably see what you are missing in order to run it.</p>\n"},{"tags":[],"owner":{"account_id":1398005,"reputation":3053,"user_id":1327386,"accept_rate":100,"display_name":"hgrey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1334359210,"creation_date":1334359210,"answer_id":10149499,"question_id":10149463,"body_markdown":"When java runs the jar it will look at manifest.mf file inside the jar&#39;s META-INF directory and will read MainClass attribute in there. If it is not specified you will get the message you describe. So, try to include correct manifest.mf into the jar. Generation of manifest.mf is supported by popular java build tools like Ant or Maven.","title":"JAR file: Could not find main class","body":"<p>When java runs the jar it will look at manifest.mf file inside the jar's META-INF directory and will read MainClass attribute in there. If it is not specified you will get the message you describe. So, try to include correct manifest.mf into the jar. Generation of manifest.mf is supported by popular java build tools like Ant or Maven.</p>\n"},{"tags":[],"owner":{"account_id":1379751,"reputation":303,"user_id":1313023,"accept_rate":33,"display_name":"scorpdaddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334359357,"creation_date":1334359357,"answer_id":10149524,"question_id":10149463,"body_markdown":"Suggest checking your manifest.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\r\n","title":"JAR file: Could not find main class","body":"<p>Suggest checking your manifest.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/deployment/jar/appman.html</a></p>\n"},{"tags":[],"owner":{"account_id":1383130,"reputation":370,"user_id":1315719,"display_name":"haskovec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334366184,"creation_date":1334366184,"answer_id":10150191,"question_id":10149463,"body_markdown":"Does your program use any external jar files?  If so you need to set the classpath attribute inside of the manifest file as well as the main-class.","title":"JAR file: Could not find main class","body":"<p>Does your program use any external jar files?  If so you need to set the classpath attribute inside of the manifest file as well as the main-class.</p>\n"},{"tags":[],"owner":{"account_id":1753863,"reputation":168,"user_id":1602334,"display_name":"Amila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439384907,"creation_date":1346686189,"answer_id":12250653,"question_id":10149463,"body_markdown":"The manifest text file must end with a new line or carriage return. The last line will not be parsed properly if it does not end with a new line or carriage return.","title":"JAR file: Could not find main class","body":"<p>The manifest text file must end with a new line or carriage return. The last line will not be parsed properly if it does not end with a new line or carriage return.</p>\n"},{"tags":[],"owner":{"account_id":1189606,"reputation":1,"user_id":1162758,"display_name":"ihaxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375218627,"creation_date":1375218627,"answer_id":17957458,"question_id":10149463,"body_markdown":"Also add a classpath attribute to the manifest and put a dot for the value. This will tell the v.m to look at the current directory for classes.","title":"JAR file: Could not find main class","body":"<p>Also add a classpath attribute to the manifest and put a dot for the value. This will tell the v.m to look at the current directory for classes.</p>\n"}],"owner":{"account_id":1404547,"reputation":63,"user_id":1332617,"display_name":"FR24601"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62779,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10149499,"answer_count":6,"score":6,"last_activity_date":1663839066,"creation_date":1334358936,"question_id":10149463,"body_markdown":"Okay, I have a strange problem. I wanted to run one of my programs as a .jar file, but when I open it by double-clicking it, I get an error message like &quot;Could not find main class, program is shutting down&quot;. I&#39;m pretty sure I did everything right, the jar should work afaik. I also tried other programs, it&#39;s the same with every single one. (I&#39;m creating the .jar&#39;s through BlueJ) There is no problem when I run them through a .bat . And here comes the strangest thing of all: The .jar&#39;s have worked some time ago (one or two months I guess), and I don&#39;t remember doing anything different. It&#39;s the same BlueJ-Version. Okay, maybe Java updated and something got messed up... I googled, but I couldn&#39;t find a solution. (some people seem to have a similar problem, and it seems to be only them who can&#39;t run their .jar&#39;s; they uploaded them and other people say the .jar&#39;s run fine.) What could be the problem? How can I solve it?\r\n\r\nI&#39;d really appreciate some help here. \r\nThank you :)\r\n\r\nEDIT: okay guys, you&#39;re making me unsure here. Imma check the manifest again, at this unholy time ( 1:34 am ) :P\r\n\r\nEDIT2: This is my MANIFEST.MF\r\nManifest-Version: 1.0\r\nClass-Path:\r\nMain-Class: LocalChatClientGUI\r\n[empty line]\r\n[empty line]\r\n\r\nThe Main class is correct.\r\n\r\nEDIT3: Thanks to hgrey: There is nothing wrong with the jar. I can run it from a bat file, which actually should not be different from double-clicking the jar, right? Yet I get the error when clicking it, and it works fine through the bat.\r\n\r\nEDIT4: I finally solved the problem. I re-installed the JRE and now it works, although I can&#39;t see any version differences. \r\n\r\nThanks to everyone!","title":"JAR file: Could not find main class","body":"<p>Okay, I have a strange problem. I wanted to run one of my programs as a .jar file, but when I open it by double-clicking it, I get an error message like &quot;Could not find main class, program is shutting down&quot;. I'm pretty sure I did everything right, the jar should work afaik. I also tried other programs, it's the same with every single one. (I'm creating the .jar's through BlueJ) There is no problem when I run them through a .bat . And here comes the strangest thing of all: The .jar's have worked some time ago (one or two months I guess), and I don't remember doing anything different. It's the same BlueJ-Version. Okay, maybe Java updated and something got messed up... I googled, but I couldn't find a solution. (some people seem to have a similar problem, and it seems to be only them who can't run their .jar's; they uploaded them and other people say the .jar's run fine.) What could be the problem? How can I solve it?</p>\n<p>I'd really appreciate some help here.\nThank you :)</p>\n<p>EDIT: okay guys, you're making me unsure here. Imma check the manifest again, at this unholy time ( 1:34 am ) :P</p>\n<p>EDIT2: This is my MANIFEST.MF\nManifest-Version: 1.0\nClass-Path:\nMain-Class: LocalChatClientGUI\n[empty line]\n[empty line]</p>\n<p>The Main class is correct.</p>\n<p>EDIT3: Thanks to hgrey: There is nothing wrong with the jar. I can run it from a bat file, which actually should not be different from double-clicking the jar, right? Yet I get the error when clicking it, and it works fine through the bat.</p>\n<p>EDIT4: I finally solved the problem. I re-installed the JRE and now it works, although I can't see any version differences.</p>\n<p>Thanks to everyone!</p>\n"},{"tags":["java","mongodb","mongodb-query","mongo-java-driver","mongo-java"],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663838744,"creation_date":1663838744,"answer_id":73812264,"question_id":73808287,"body_markdown":"I think you need to provide a projection as well, to pick on the matched array element, like this:\r\n\r\n    @Override\r\n    public Mono&lt;SubCategoryModel&gt; find(String categoryId, String id) {\r\n        Bson query = filters.add(and(eq(&quot;_id&quot;, new ObjectId(categoryId)),eq(&quot;subCategory._id&quot;, new ObjectId(id))));\r\n        Bson projectionFields = Projections.fields(Projections.include(&quot;name&quot;, &quot;description&quot;, &quot;subCategory.$&quot;));\r\n        return Mono.from(iMongoRepository.getCollection(ConstantValues.PRODUCT_CATEGORY_COLLECTION_NAME, Category.class)\r\n                        .find(query).projection(projectionFields))\r\n                .map(item -&gt; {\r\n                    var element = item.getSubCategory().stream().findFirst().get();\r\n                    return new SubCategoryModel(element.get(&quot;_id&quot;).toString(), element.get(&quot;name&quot;).toString(), element.get(&quot;description&quot;).toString());\r\n                });\r\n    }","title":"Filter embedded Array object in mongodb document using Java driver","body":"<p>I think you need to provide a projection as well, to pick on the matched array element, like this:</p>\n<pre><code>@Override\npublic Mono&lt;SubCategoryModel&gt; find(String categoryId, String id) {\n    Bson query = filters.add(and(eq(&quot;_id&quot;, new ObjectId(categoryId)),eq(&quot;subCategory._id&quot;, new ObjectId(id))));\n    Bson projectionFields = Projections.fields(Projections.include(&quot;name&quot;, &quot;description&quot;, &quot;subCategory.$&quot;));\n    return Mono.from(iMongoRepository.getCollection(ConstantValues.PRODUCT_CATEGORY_COLLECTION_NAME, Category.class)\n                    .find(query).projection(projectionFields))\n            .map(item -&gt; {\n                var element = item.getSubCategory().stream().findFirst().get();\n                return new SubCategoryModel(element.get(&quot;_id&quot;).toString(), element.get(&quot;name&quot;).toString(), element.get(&quot;description&quot;).toString());\n            });\n}\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663838744,"creation_date":1663808315,"question_id":73808287,"body_markdown":"I have the below data, and I want to filter the data for `_id = &quot;63283dd5777142017baa763b&quot;` and `subCategory._id = &quot;63283e25777142017baa7641&quot;`\r\n\r\n    {\r\n    \t&quot;_id&quot;: ObjectId(&quot;63283dd5777142017baa763b&quot;),\r\n    \t&quot;name&quot;: &quot;Men&quot;,\r\n    \t&quot;description&quot;: &quot;Men&quot;,\r\n    \t&quot;subCategory&quot;: [{\r\n    \t\t\t&quot;name&quot;: &quot;ssss&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;ss&quot;,\r\n    \t\t\t&quot;_id&quot;: ObjectId(&quot;63283e1f777142017baa7640&quot;)\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;aa&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;aa&quot;,\r\n    \t\t\t&quot;_id&quot;: ObjectId(&quot;63283e25777142017baa7641&quot;)\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nUsing the MongoClient as below\r\n\r\n    @Singleton\r\n    public record MongoDbRepository(MongoClient mongoClient, MongodbConfiguration mongodbConfiguration) implements IMongoRepository {\r\n        @Override\r\n        public &lt;T&gt; MongoCollection&lt;T&gt; getCollection(String collectionName, Class&lt;T&gt; typeParameterClass) {\r\n            return mongoClient\r\n                    .getDatabase(mongodbConfiguration.database())\r\n                    .getCollection(collectionName, typeParameterClass);\r\n        }\r\n    }\r\n\r\nAnd fetching the data from MongoClient\r\n\r\n    @Override\r\n    public Mono&lt;SubCategoryModel&gt; find(String categoryId, String id) {\r\n        Bson query = filters.add(and(eq(&quot;_id&quot;, new ObjectId(categoryId)),eq(&quot;subCategory._id&quot;, new ObjectId(id))));\r\n        return Mono.from(iMongoRepository.getCollection(ConstantValues.PRODUCT_CATEGORY_COLLECTION_NAME, Category.class)\r\n                        .find(query))\r\n                .map(item -&gt; {\r\n                    var element = item.getSubCategory().stream().findFirst().get();\r\n                    return new SubCategoryModel(element.get(&quot;_id&quot;).toString(), element.get(&quot;name&quot;).toString(), element.get(&quot;description&quot;).toString());\r\n                });\r\n    }\r\n\r\nWith the filter `filters.add(and(eq(&quot;_id&quot;, new ObjectId(categoryId)),eq(&quot;subCategory._id&quot;, new ObjectId(id))))`, its returning both the value. Its not filtering `subCategory._id = ObjectId(&quot;63283e25777142017baa7641&quot;)`","title":"Filter embedded Array object in mongodb document using Java driver","body":"<p>I have the below data, and I want to filter the data for <code>_id = &quot;63283dd5777142017baa763b&quot;</code> and <code>subCategory._id = &quot;63283e25777142017baa7641&quot;</code></p>\n<pre><code>{\n    &quot;_id&quot;: ObjectId(&quot;63283dd5777142017baa763b&quot;),\n    &quot;name&quot;: &quot;Men&quot;,\n    &quot;description&quot;: &quot;Men&quot;,\n    &quot;subCategory&quot;: [{\n            &quot;name&quot;: &quot;ssss&quot;,\n            &quot;description&quot;: &quot;ss&quot;,\n            &quot;_id&quot;: ObjectId(&quot;63283e1f777142017baa7640&quot;)\n        },\n        {\n            &quot;name&quot;: &quot;aa&quot;,\n            &quot;description&quot;: &quot;aa&quot;,\n            &quot;_id&quot;: ObjectId(&quot;63283e25777142017baa7641&quot;)\n        }\n    ]\n}\n</code></pre>\n<p>Using the MongoClient as below</p>\n<pre><code>@Singleton\npublic record MongoDbRepository(MongoClient mongoClient, MongodbConfiguration mongodbConfiguration) implements IMongoRepository {\n    @Override\n    public &lt;T&gt; MongoCollection&lt;T&gt; getCollection(String collectionName, Class&lt;T&gt; typeParameterClass) {\n        return mongoClient\n                .getDatabase(mongodbConfiguration.database())\n                .getCollection(collectionName, typeParameterClass);\n    }\n}\n</code></pre>\n<p>And fetching the data from MongoClient</p>\n<pre><code>@Override\npublic Mono&lt;SubCategoryModel&gt; find(String categoryId, String id) {\n    Bson query = filters.add(and(eq(&quot;_id&quot;, new ObjectId(categoryId)),eq(&quot;subCategory._id&quot;, new ObjectId(id))));\n    return Mono.from(iMongoRepository.getCollection(ConstantValues.PRODUCT_CATEGORY_COLLECTION_NAME, Category.class)\n                    .find(query))\n            .map(item -&gt; {\n                var element = item.getSubCategory().stream().findFirst().get();\n                return new SubCategoryModel(element.get(&quot;_id&quot;).toString(), element.get(&quot;name&quot;).toString(), element.get(&quot;description&quot;).toString());\n            });\n}\n</code></pre>\n<p>With the filter <code>filters.add(and(eq(&quot;_id&quot;, new ObjectId(categoryId)),eq(&quot;subCategory._id&quot;, new ObjectId(id))))</code>, its returning both the value. Its not filtering <code>subCategory._id = ObjectId(&quot;63283e25777142017baa7641&quot;)</code></p>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":18509041,"reputation":945,"user_id":13484707,"display_name":"abel1502"},"score":0,"creation_date":1663783669,"post_id":73805023,"comment_id":130322999,"body_markdown":"Are you sure you&#39;re not getting the event with `event.getAction().equals(Action.PHYSICAL)` one of the times? It would be sent from stepping onto pressure plates &amp; etc. ([see here](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/Action.html#PHYSICAL)). Otherwise there should be only a single RIGHT_CLICK_BLOCK/_AIR per click, I believe","body":"Are you sure you&#39;re not getting the event with <code>event.getAction().equals(Action.PHYSICAL)</code> one of the times? It would be sent from stepping onto pressure plates &amp; etc. (<a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/Action.html#PHYSICAL\" rel=\"nofollow noreferrer\">see here</a>). Otherwise there should be only a single RIGHT_CLICK_BLOCK/_AIR per click, I believe"}],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663838687,"creation_date":1663838687,"answer_id":73812247,"question_id":73805023,"body_markdown":"It&#39;s firing twice because it does so once for `HAND` and then `OFF_HAND`. Your hand check doesn&#39;t work because you&#39;re checking for reference equality with `!=`. Read [this answer](https://stackoverflow.com/a/513839/11916773) for more information.\r\n\r\nYou should check the hand like so:\r\n```java\r\nif(e.getHand() != EquipmentSlot.HAND)\r\n    return;\r\n```\r\n\r\nBut if you insisted on string comparison, you would do:\r\n```java\r\nif(!e.getHand().name().equals(&quot;HAND&quot;))\r\n    return;\r\n```","title":"PlayerInteractEvent is running twice in Bukkit when clicking a block even when I check for offhand","body":"<p>It's firing twice because it does so once for <code>HAND</code> and then <code>OFF_HAND</code>. Your hand check doesn't work because you're checking for reference equality with <code>!=</code>. Read <a href=\"https://stackoverflow.com/a/513839/11916773\">this answer</a> for more information.</p>\n<p>You should check the hand like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(e.getHand() != EquipmentSlot.HAND)\n    return;\n</code></pre>\n<p>But if you insisted on string comparison, you would do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(!e.getHand().name().equals(&quot;HAND&quot;))\n    return;\n</code></pre>\n"}],"owner":{"account_id":23801045,"reputation":1,"user_id":17811244,"display_name":"Ron Caspi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663838687,"creation_date":1663782643,"question_id":73805023,"body_markdown":"My event handler is running twice when clicking a block event when I check for off hand. I tried to check many of the values that could screw this up but they are always the same. There&#39;s my code: \r\n\r\n    package me.ronking159.jtest.handlers;\r\n    \r\n    import me.ronking159.jtest.items.ItemManager;\r\n    import org.bukkit.Bukkit;\r\n    import org.bukkit.entity.Player;\r\n    import org.bukkit.event.EventHandler;\r\n    import org.bukkit.event.Listener;\r\n    import org.bukkit.event.player.PlayerInteractEvent;\r\n    import org.bukkit.plugin.Plugin;\r\n    \r\n    public class WandHandler implements Listener {\r\n        public WandHandler(Plugin Jtest) {\r\n            Bukkit.getPluginManager().registerEvents(this, Jtest);\r\n        }\r\n    \r\n        @EventHandler\r\n        public void WandHandler(PlayerInteractEvent event) {\r\n            if (event.getHand().name() != &quot;HAND&quot;) return;\r\n    //        if (event.getAction().equals(Action.RIGHT_CLICK_BLOCK)) return;\r\n            if (event.getItem() == null) return;\r\n            if (!(event.getItem().getItemMeta().equals(ItemManager.wand.getItemMeta()))) return;\r\n    \r\n            Player p = event.getPlayer();\r\n            p.getWorld().createExplosion(p.getLocation(), 2.0f);\r\n            p.sendMessage(&quot;You don&#39;t know how to use a wand yet!&quot;);\r\n            p.sendMessage(event.getAction().name());\r\n            p.sendMessage(event.getHand().name());\r\n            p.sendMessage(event.getMaterial().name());\r\n        }\r\n    }\r\n\r\nIs the answer obvious and I don&#39;t get it?","title":"PlayerInteractEvent is running twice in Bukkit when clicking a block even when I check for offhand","body":"<p>My event handler is running twice when clicking a block event when I check for off hand. I tried to check many of the values that could screw this up but they are always the same. There's my code:</p>\n<pre><code>package me.ronking159.jtest.handlers;\n\nimport me.ronking159.jtest.items.ItemManager;\nimport org.bukkit.Bukkit;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerInteractEvent;\nimport org.bukkit.plugin.Plugin;\n\npublic class WandHandler implements Listener {\n    public WandHandler(Plugin Jtest) {\n        Bukkit.getPluginManager().registerEvents(this, Jtest);\n    }\n\n    @EventHandler\n    public void WandHandler(PlayerInteractEvent event) {\n        if (event.getHand().name() != &quot;HAND&quot;) return;\n//        if (event.getAction().equals(Action.RIGHT_CLICK_BLOCK)) return;\n        if (event.getItem() == null) return;\n        if (!(event.getItem().getItemMeta().equals(ItemManager.wand.getItemMeta()))) return;\n\n        Player p = event.getPlayer();\n        p.getWorld().createExplosion(p.getLocation(), 2.0f);\n        p.sendMessage(&quot;You don't know how to use a wand yet!&quot;);\n        p.sendMessage(event.getAction().name());\n        p.sendMessage(event.getHand().name());\n        p.sendMessage(event.getMaterial().name());\n    }\n}\n</code></pre>\n<p>Is the answer obvious and I don't get it?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18048218,"reputation":1,"user_id":13118604,"display_name":"mtomek95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663838629,"creation_date":1663838629,"answer_id":73812231,"question_id":73774518,"body_markdown":"Here is the answer:\r\n\r\n    public void buttonAnimation(){\r\n        if(buttonBoolean){\r\n            if (!imageButtonNext.isEnabled()) {\r\n                imageButtonNext.setAnimation(pulse);\r\n                imageButtonNext.setColorFilter(ContextCompat.getColor(this, R.color.accent));\r\n                imageButtonNext.setEnabled(true);\r\n            }\r\n        } else {\r\n            imageButtonNext.clearAnimation();\r\n            imageButtonNext.setColorFilter(ContextCompat.getColor(this, R.color.gray));\r\n            imageButtonNext.setEnabled(false);\r\n        }\r\n    }\r\n\r\nWe need to add if statement in animation method. Program check animation is currently enabled, when yes, program do nothing. Result is animation triggered once live his own life until we modify edittext to length less than 3.  ","title":"How to set constant animation after EditText reach target length?","body":"<p>Here is the answer:</p>\n<pre><code>public void buttonAnimation(){\n    if(buttonBoolean){\n        if (!imageButtonNext.isEnabled()) {\n            imageButtonNext.setAnimation(pulse);\n            imageButtonNext.setColorFilter(ContextCompat.getColor(this, R.color.accent));\n            imageButtonNext.setEnabled(true);\n        }\n    } else {\n        imageButtonNext.clearAnimation();\n        imageButtonNext.setColorFilter(ContextCompat.getColor(this, R.color.gray));\n        imageButtonNext.setEnabled(false);\n    }\n}\n</code></pre>\n<p>We need to add if statement in animation method. Program check animation is currently enabled, when yes, program do nothing. Result is animation triggered once live his own life until we modify edittext to length less than 3.</p>\n"}],"owner":{"account_id":18048218,"reputation":1,"user_id":13118604,"display_name":"mtomek95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663838629,"creation_date":1663595612,"question_id":73774518,"body_markdown":"I want to set animation on ImageView when user put more than 3 characters. I wrote a code to do this. Main problem is when I keep putting more than 3 characters the animation starts again from 0 position always when new character is added, so it doesn&#39;t looks good. \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_user_first);\r\n\r\n        initViews();\r\n        imageButtonNext.setEnabled(false);\r\n\r\n        horizontalScrollView.post(() -&gt; horizontalScrollView.scrollTo(0, 0));\r\n        horizontalScrollView.setOnTouchListener((v, event) -&gt; true);\r\n\r\n        editTextEnterName.addTextChangedListener(nameTextWatcher);\r\n\r\n        pulse = AnimationUtils.loadAnimation(NewUserFirst.this, R.anim.pulse);\r\n\r\n        imageButtonNext.setOnClickListener(view -&gt; {\r\n            intent = new Intent(this, NewUserSecond.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    public void buttonAnimation(){\r\n        if(buttonBoolean){\r\n            imageButtonNext.setAnimation(pulse);\r\n            imageButtonNext.setColorFilter(ContextCompat.getColor(NewUserFirst.this, R.color.accent));\r\n            imageButtonNext.setEnabled(true);\r\n        } else {\r\n            imageButtonNext.clearAnimation();\r\n            imageButtonNext.setColorFilter(ContextCompat.getColor(NewUserFirst.this, R.color.gray));\r\n            imageButtonNext.setEnabled(false);\r\n        }\r\n    }\r\n\r\n    private final TextWatcher nameTextWatcher = new TextWatcher() {\r\n\r\n        @Override\r\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            nameInput = editTextEnterName.getText().toString().trim();\r\n\r\n            if (nameInput.length() &gt;= 3) {\r\n                buttonBoolean = true;\r\n            } else {\r\n                buttonBoolean = false;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable editable) {\r\n            buttonAnimation();\r\n        }\r\n\r\n    };\r\n\r\nSo the question is, what changes I need to make in my code to set animation, and do not renew it every time when add next character. \r\n","title":"How to set constant animation after EditText reach target length?","body":"<p>I want to set animation on ImageView when user put more than 3 characters. I wrote a code to do this. Main problem is when I keep putting more than 3 characters the animation starts again from 0 position always when new character is added, so it doesn't looks good.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_new_user_first);\n\n    initViews();\n    imageButtonNext.setEnabled(false);\n\n    horizontalScrollView.post(() -&gt; horizontalScrollView.scrollTo(0, 0));\n    horizontalScrollView.setOnTouchListener((v, event) -&gt; true);\n\n    editTextEnterName.addTextChangedListener(nameTextWatcher);\n\n    pulse = AnimationUtils.loadAnimation(NewUserFirst.this, R.anim.pulse);\n\n    imageButtonNext.setOnClickListener(view -&gt; {\n        intent = new Intent(this, NewUserSecond.class);\n        startActivity(intent);\n    });\n}\n\npublic void buttonAnimation(){\n    if(buttonBoolean){\n        imageButtonNext.setAnimation(pulse);\n        imageButtonNext.setColorFilter(ContextCompat.getColor(NewUserFirst.this, R.color.accent));\n        imageButtonNext.setEnabled(true);\n    } else {\n        imageButtonNext.clearAnimation();\n        imageButtonNext.setColorFilter(ContextCompat.getColor(NewUserFirst.this, R.color.gray));\n        imageButtonNext.setEnabled(false);\n    }\n}\n\nprivate final TextWatcher nameTextWatcher = new TextWatcher() {\n\n    @Override\n    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n    }\n\n    @Override\n    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        nameInput = editTextEnterName.getText().toString().trim();\n\n        if (nameInput.length() &gt;= 3) {\n            buttonBoolean = true;\n        } else {\n            buttonBoolean = false;\n        }\n    }\n\n    @Override\n    public void afterTextChanged(Editable editable) {\n        buttonAnimation();\n    }\n\n};\n</code></pre>\n<p>So the question is, what changes I need to make in my code to set animation, and do not renew it every time when add next character.</p>\n"},{"tags":["java","spring-boot","rest","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663838407,"creation_date":1663757590,"answer_id":73799545,"question_id":73790725,"body_markdown":"Instead of trying to define new routes inside a processor you should store collection of the numbers to body and use split to call [dynamic producer endpoint](https://camel.apache.org/components/latest/eips/toD-eip.html) `toD` which can use simple language to construct the uri with values from body, headers, properties etc.\r\n\r\nIf you later need to collect all the responses to say list you can create custom [AggregationStrategy](https://camel.apache.org/components/latest/eips/aggregate-eip.html) or use Flexible ones. \r\n\r\n**Simple example with Camel 3.18.2 using unit tests**\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.apache.camel.AggregationStrategy;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.RoutesBuilder;\r\nimport org.apache.camel.builder.AdviceWith;\r\nimport org.apache.camel.builder.AggregationStrategies;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.apache.camel.component.mock.MockEndpoint;\r\nimport org.apache.camel.model.dataformat.JsonLibrary;\r\nimport org.apache.camel.test.junit5.CamelTestSupport;\r\nimport org.junit.jupiter.api.Test;\r\n\r\n\r\npublic class NumbersAPITests extends CamelTestSupport {\r\n    \r\n    @Test\r\n    public void testAPILogic() throws Exception {\r\n        \r\n        replaceHttpEndpointWithSimpleResponse(&quot;requestNumbersFromAPI&quot;, \r\n            &quot;[1,2,3,4,5]&quot;);\r\n        replaceHttpEndpointWithSimpleResponse(&quot;requestDataWithIdFromAPI&quot;, \r\n            &quot;{ \\&quot;id\\&quot;=\\&quot;${body}\\&quot;, \\&quot;data\\&quot;:\\&quot;some data\\&quot; }&quot;);\r\n        weaveAddMockendpointAsLast(&quot;requestNumbersFromAPI&quot;, &quot;result&quot;);\r\n        weaveAddMockendpointAsLast(&quot;requestDataWithIdFromAPI&quot;, &quot;splitResult&quot;);\r\n\r\n        MockEndpoint mockResultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n        mockResultEndpoint.expectedMessageCount(1);\r\n\r\n        MockEndpoint mockSplitResultEndpoint = getMockEndpoint(&quot;mock:splitResult&quot;);\r\n        mockSplitResultEndpoint.expectedMessageCount(5);\r\n\r\n        startCamelContext();\r\n\r\n        template.sendBodyAndHeader(&quot;direct:requestNumbersFromAPI&quot;, null, &quot;jwt&quot;, &quot;not-valid-jwt&quot;);\r\n\r\n        mockResultEndpoint.assertIsSatisfied();\r\n        mockSplitResultEndpoint.assertIsSatisfied();\r\n    }\r\n\r\n    @Override\r\n    protected RoutesBuilder createRouteBuilder() throws Exception {\r\n        \r\n        return new RouteBuilder(){\r\n\r\n            @Override\r\n            public void configure() throws Exception {\r\n\r\n               \r\n                AggregationStrategy aggregationStrategy = AggregationStrategies\r\n                    .flexible()\r\n                    .accumulateInCollection(ArrayList.class);\r\n\r\n                from(&quot;direct:requestNumbersFromAPI&quot;)\r\n                    .routeId(&quot;requestNumbersFromAPI&quot;)\r\n                    .setBody().constant(null)\r\n                    .setHeader(&quot;Authorization&quot;)\r\n                    .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\r\n                    .to(&quot;http://localhost:3001/api/numbers&quot;)\r\n                    .unmarshal().json(JsonLibrary.Jackson, Integer[].class)\r\n                    .split(body(), aggregationStrategy)\r\n                        .to(&quot;direct:requestDataWithIdFromAPI&quot;)\r\n                    .end()\r\n                    .to(&quot;log:loggerName?showAll=true&quot;)\r\n                ;\r\n\r\n                from(&quot;direct:requestDataWithIdFromAPI&quot;)\r\n                    .routeId(&quot;requestDataWithIdFromAPI&quot;)\r\n                    .setHeader(&quot;Authorization&quot;)\r\n                    .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\r\n                    .convertBodyTo(String.class)\r\n                    .log(&quot;Calling API http://localhost:3001/api/data/${body} with number: ${body}&quot;)\r\n                    .toD(&quot;http://localhost:3001/api/data/${body}&quot;)\r\n                    .convertBodyTo(String.class)\r\n                ;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public boolean isUseAdviceWith() {\r\n        return true;\r\n    }\r\n\r\n    private void replaceHttpEndpointWithSimpleResponse(String routeId, String simpleResponse) throws Exception {\r\n\r\n        AdviceWith.adviceWith(context(), routeId, a -&gt; {\r\n\r\n            a.weaveByToUri(&quot;http*&quot;)\r\n                .replace()\r\n                .setHeader(Exchange.HTTP_RESPONSE_CODE).constant(200)\r\n                .setBody().simple(simpleResponse);\r\n        });\r\n    }\r\n\r\n    private void weaveAddMockendpointAsLast(String routeId, String mockName) throws Exception {\r\n\r\n        AdviceWith.adviceWith(context(), routeId, a -&gt; {\r\n\r\n            a.weaveAddLast()\r\n                .to(&quot;mock:&quot; + mockName);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n&gt; The request is getting generated with additional %22 at the beginning and the end of body parameter. So it is showing failed invoking status- For example - call/another/api/with/number/%228767%22= How can I avoid the %22 to get attached to the body parameter?\r\n&gt; Jeet\r\n\r\nIf your data has extra quotation marks that should not get sent to the api you can remove them before calling toD html endpoint:\r\n\r\n```java\r\nsetBody().exchange(ex -&gt; { \r\n    return ex.getMessage().getBody(String.class)\r\n        .replace(&quot;\\&quot;&quot;, &quot;&quot;); \r\n})\r\n```","title":"How call an api with the parameters obtained from another api in apache camel?","body":"<p>Instead of trying to define new routes inside a processor you should store collection of the numbers to body and use split to call <a href=\"https://camel.apache.org/components/latest/eips/toD-eip.html\" rel=\"nofollow noreferrer\">dynamic producer endpoint</a> <code>toD</code> which can use simple language to construct the uri with values from body, headers, properties etc.</p>\n<p>If you later need to collect all the responses to say list you can create custom <a href=\"https://camel.apache.org/components/latest/eips/aggregate-eip.html\" rel=\"nofollow noreferrer\">AggregationStrategy</a> or use Flexible ones.</p>\n<p><strong>Simple example with Camel 3.18.2 using unit tests</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.ArrayList;\n\nimport org.apache.camel.AggregationStrategy;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.RoutesBuilder;\nimport org.apache.camel.builder.AdviceWith;\nimport org.apache.camel.builder.AggregationStrategies;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.model.dataformat.JsonLibrary;\nimport org.apache.camel.test.junit5.CamelTestSupport;\nimport org.junit.jupiter.api.Test;\n\n\npublic class NumbersAPITests extends CamelTestSupport {\n    \n    @Test\n    public void testAPILogic() throws Exception {\n        \n        replaceHttpEndpointWithSimpleResponse(&quot;requestNumbersFromAPI&quot;, \n            &quot;[1,2,3,4,5]&quot;);\n        replaceHttpEndpointWithSimpleResponse(&quot;requestDataWithIdFromAPI&quot;, \n            &quot;{ \\&quot;id\\&quot;=\\&quot;${body}\\&quot;, \\&quot;data\\&quot;:\\&quot;some data\\&quot; }&quot;);\n        weaveAddMockendpointAsLast(&quot;requestNumbersFromAPI&quot;, &quot;result&quot;);\n        weaveAddMockendpointAsLast(&quot;requestDataWithIdFromAPI&quot;, &quot;splitResult&quot;);\n\n        MockEndpoint mockResultEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n        mockResultEndpoint.expectedMessageCount(1);\n\n        MockEndpoint mockSplitResultEndpoint = getMockEndpoint(&quot;mock:splitResult&quot;);\n        mockSplitResultEndpoint.expectedMessageCount(5);\n\n        startCamelContext();\n\n        template.sendBodyAndHeader(&quot;direct:requestNumbersFromAPI&quot;, null, &quot;jwt&quot;, &quot;not-valid-jwt&quot;);\n\n        mockResultEndpoint.assertIsSatisfied();\n        mockSplitResultEndpoint.assertIsSatisfied();\n    }\n\n    @Override\n    protected RoutesBuilder createRouteBuilder() throws Exception {\n        \n        return new RouteBuilder(){\n\n            @Override\n            public void configure() throws Exception {\n\n               \n                AggregationStrategy aggregationStrategy = AggregationStrategies\n                    .flexible()\n                    .accumulateInCollection(ArrayList.class);\n\n                from(&quot;direct:requestNumbersFromAPI&quot;)\n                    .routeId(&quot;requestNumbersFromAPI&quot;)\n                    .setBody().constant(null)\n                    .setHeader(&quot;Authorization&quot;)\n                    .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\n                    .to(&quot;http://localhost:3001/api/numbers&quot;)\n                    .unmarshal().json(JsonLibrary.Jackson, Integer[].class)\n                    .split(body(), aggregationStrategy)\n                        .to(&quot;direct:requestDataWithIdFromAPI&quot;)\n                    .end()\n                    .to(&quot;log:loggerName?showAll=true&quot;)\n                ;\n\n                from(&quot;direct:requestDataWithIdFromAPI&quot;)\n                    .routeId(&quot;requestDataWithIdFromAPI&quot;)\n                    .setHeader(&quot;Authorization&quot;)\n                    .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\n                    .convertBodyTo(String.class)\n                    .log(&quot;Calling API http://localhost:3001/api/data/${body} with number: ${body}&quot;)\n                    .toD(&quot;http://localhost:3001/api/data/${body}&quot;)\n                    .convertBodyTo(String.class)\n                ;\n            }\n        };\n    }\n\n    @Override\n    public boolean isUseAdviceWith() {\n        return true;\n    }\n\n    private void replaceHttpEndpointWithSimpleResponse(String routeId, String simpleResponse) throws Exception {\n\n        AdviceWith.adviceWith(context(), routeId, a -&gt; {\n\n            a.weaveByToUri(&quot;http*&quot;)\n                .replace()\n                .setHeader(Exchange.HTTP_RESPONSE_CODE).constant(200)\n                .setBody().simple(simpleResponse);\n        });\n    }\n\n    private void weaveAddMockendpointAsLast(String routeId, String mockName) throws Exception {\n\n        AdviceWith.adviceWith(context(), routeId, a -&gt; {\n\n            a.weaveAddLast()\n                .to(&quot;mock:&quot; + mockName);\n        });\n    }\n}\n</code></pre>\n<blockquote>\n<p>The request is getting generated with additional %22 at the beginning and the end of body parameter. So it is showing failed invoking status- For example - call/another/api/with/number/%228767%22= How can I avoid the %22 to get attached to the body parameter?\nJeet</p>\n</blockquote>\n<p>If your data has extra quotation marks that should not get sent to the api you can remove them before calling toD html endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setBody().exchange(ex -&gt; { \n    return ex.getMessage().getBody(String.class)\n        .replace(&quot;\\&quot;&quot;, &quot;&quot;); \n})\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73799545,"answer_count":1,"score":0,"last_activity_date":1663838407,"creation_date":1663695817,"question_id":73790725,"body_markdown":"I have called a REST api through apache camel and deserialized the same. I need to call another API with the number as the parameter that I have received from calling the previous api. I did it in the following way -\r\n```\r\n\r\n    public Collection&lt;String&gt; nos;\r\n    \r\n     from(&quot;direct:further&quot;).tracing()\r\n            .log(&quot;body: &quot; + body().toString())\r\n            .setBody().constant(null)\r\n            .setHeader(&quot;CamelHttpMethod&quot;)\r\n            .simple(&quot;GET&quot;)\r\n            .setHeader(&quot;Authorization&quot;)\r\n            .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\r\n            .to(&quot;https://call/api/that/returns/numbers&quot;)\r\n            .choice()\r\n            .when().simple(&quot;${header.CamelHttpResponseCode} == 200&quot;).unmarshal().json(JsonLibrary.Jackson, Abc.class)\r\n    .process(\r\n                ex-&gt;{\r\n                  Quantity quantity = ex.getIn().getBody(Abc.class);\r\n                  List&lt;Variations&gt; variationsList = Arrays.stream(quantity.getResources().getVariations()).toList();\r\n                  nos=variationsList.stream().map(Variations::getNo).collect(\r\n                      Collectors.toList());\r\n     nos.forEach(s -&gt; { //Since nos is a collection of String I would like to iterate through it\r\n         \r\n          String url=&quot;https://call/another/api/with/number&quot;+&quot;?&quot;+s;//the link with the number as the parameter \r\n                    from(&quot;direct:start&quot;)   //This is not working. I not able to call the url\r\n                        .setHeader(&quot;CamelHttpHeader&quot;)\r\n                          .simple(&quot;GET&quot;)\r\n                          .setHeader(&quot;Authorization&quot;)\r\n                          .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\r\n                          .log(&quot;I did call the numbers&quot;) //This is also not getting printed\r\n                        .to(url);\r\n    });\r\n     }).log(&quot;I am out of the loop&quot; + body())\r\n            .otherwise()\r\n            .log(&quot;Error!!!&quot;);\r\n\r\n```\r\n\r\nI am unable to call another api with the number that I received adter calling the first api. How should I do it? I also tried to call it like\r\n```\r\n                from(&quot;rest:get:&quot;+url).tracing()\r\n                    .setHeader(&quot;CamelHttpHeader&quot;)\r\n                    .simple(&quot;GET&quot;)\r\n                    .setHeader(&quot;Authorization&quot;)\r\n                    .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\r\n                    .log(&quot;I did call the numbers&quot;).to(url);\r\n\r\n```\r\n\r\nBut unfortunately the above code also did not work inside the loop. I declared the collection nos outside the method definition. How should I call another API from the numbers stored in nos collection? Should I call another Api outside the lambda function or inside?\r\n\r\n","title":"How call an api with the parameters obtained from another api in apache camel?","body":"<p>I have called a REST api through apache camel and deserialized the same. I need to call another API with the number as the parameter that I have received from calling the previous api. I did it in the following way -</p>\n<pre><code>\n    public Collection&lt;String&gt; nos;\n    \n     from(&quot;direct:further&quot;).tracing()\n            .log(&quot;body: &quot; + body().toString())\n            .setBody().constant(null)\n            .setHeader(&quot;CamelHttpMethod&quot;)\n            .simple(&quot;GET&quot;)\n            .setHeader(&quot;Authorization&quot;)\n            .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\n            .to(&quot;https://call/api/that/returns/numbers&quot;)\n            .choice()\n            .when().simple(&quot;${header.CamelHttpResponseCode} == 200&quot;).unmarshal().json(JsonLibrary.Jackson, Abc.class)\n    .process(\n                ex-&gt;{\n                  Quantity quantity = ex.getIn().getBody(Abc.class);\n                  List&lt;Variations&gt; variationsList = Arrays.stream(quantity.getResources().getVariations()).toList();\n                  nos=variationsList.stream().map(Variations::getNo).collect(\n                      Collectors.toList());\n     nos.forEach(s -&gt; { //Since nos is a collection of String I would like to iterate through it\n         \n          String url=&quot;https://call/another/api/with/number&quot;+&quot;?&quot;+s;//the link with the number as the parameter \n                    from(&quot;direct:start&quot;)   //This is not working. I not able to call the url\n                        .setHeader(&quot;CamelHttpHeader&quot;)\n                          .simple(&quot;GET&quot;)\n                          .setHeader(&quot;Authorization&quot;)\n                          .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\n                          .log(&quot;I did call the numbers&quot;) //This is also not getting printed\n                        .to(url);\n    });\n     }).log(&quot;I am out of the loop&quot; + body())\n            .otherwise()\n            .log(&quot;Error!!!&quot;);\n\n</code></pre>\n<p>I am unable to call another api with the number that I received adter calling the first api. How should I do it? I also tried to call it like</p>\n<pre><code>                from(&quot;rest:get:&quot;+url).tracing()\n                    .setHeader(&quot;CamelHttpHeader&quot;)\n                    .simple(&quot;GET&quot;)\n                    .setHeader(&quot;Authorization&quot;)\n                    .simple(&quot;Bearer &quot;+&quot;${header.jwt}&quot;)\n                    .log(&quot;I did call the numbers&quot;).to(url);\n\n</code></pre>\n<p>But unfortunately the above code also did not work inside the loop. I declared the collection nos outside the method definition. How should I call another API from the numbers stored in nos collection? Should I call another Api outside the lambda function or inside?</p>\n"},{"tags":["java","animation","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1647279076,"post_id":71471546,"comment_id":126326420,"body_markdown":"If all you want to do is animate moving something, use a [TranslateTransition](https://openjfx.io/javadoc/17/javafx.graphics/javafx/animation/TranslateTransition.html).  Looking at your code though maybe this isn’t all you want to do (I don’t know what is).","body":"If all you want to do is animate moving something, use a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/animation/TranslateTransition.html\" rel=\"nofollow noreferrer\">TranslateTransition</a>.  Looking at your code though maybe this isn’t all you want to do (I don’t know what is)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1647279708,"post_id":71471546,"comment_id":126326634,"body_markdown":"This works fine for me.","body":"This works fine for me."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1647280225,"post_id":71471546,"comment_id":126326800,"body_markdown":"What is your environment?  Hardware, OS, Java and JavaFX versions?","body":"What is your environment?  Hardware, OS, Java and JavaFX versions?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1647280404,"post_id":71471546,"comment_id":126326875,"body_markdown":"Some info on [frame rate cap and pulse logging](https://stackoverflow.com/a/28820370/1155209).","body":"Some info on <a href=\"https://stackoverflow.com/a/28820370/1155209\">frame rate cap and pulse logging</a>."},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1647338400,"post_id":71471546,"comment_id":126340419,"body_markdown":"Thank you guys. All I want to do for now is have smooth animation of a shape using JFX. This is just a preliminary test for a project. @jewelsea Platform : JDK temurin 17.0.1_12 and JavaFX 17.0.1 on Windows 10 19044.1586 / Xeon E3-1271 v3 / 2x GeForce GTX 1050Ti. I&#39;ll try and run this on another machine to see what it does","body":"Thank you guys. All I want to do for now is have smooth animation of a shape using JFX. This is just a preliminary test for a project. @jewelsea Platform : JDK temurin 17.0.1_12 and JavaFX 17.0.1 on Windows 10 19044.1586 / Xeon E3-1271 v3 / 2x GeForce GTX 1050Ti. I&#39;ll try and run this on another machine to see what it does"},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1647338642,"post_id":71471546,"comment_id":126340509,"body_markdown":"@jewelsea, to be clear no: my project requires being able to animate more objects in different manners at once. The `TranslateTransition` won&#39;t do it for me","body":"@jewelsea, to be clear no: my project requires being able to animate more objects in different manners at once. The <code>TranslateTransition</code> won&#39;t do it for me"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1647363123,"post_id":71471546,"comment_id":126350248,"body_markdown":"The JavaScript version is irrelevant IMO. What was the result of your analysis of the pulse log?","body":"The JavaScript version is irrelevant IMO. What was the result of your analysis of the pulse log?"},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1647418318,"post_id":71471546,"comment_id":126363023,"body_markdown":"@jewelsea I kind of skipped that part :). Trying now, and let you know the results","body":"@jewelsea I kind of skipped that part :). Trying now, and let you know the results"},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1647421018,"post_id":71471546,"comment_id":126363976,"body_markdown":"@jewelsea TBH, I&#39;m not sure how to read this log. I have some idea, but not sure what is relevant. I&#39;ve done a few tests changing the value of `javafx.animation.pulse`, which does seem to have some effect on this log&#39;s presentation, even if nothing is visible in animation. Log files are there : https://www.ahpc-services.com/fileshare/JFX_test_pulses/ the number before the extension represents the value used for the property. There seems to sometimes be a lot of &quot;Waiting for previous rendering&quot;. It&#39;s about all I can see for now.","body":"@jewelsea TBH, I&#39;m not sure how to read this log. I have some idea, but not sure what is relevant. I&#39;ve done a few tests changing the value of <code>javafx.animation.pulse</code>, which does seem to have some effect on this log&#39;s presentation, even if nothing is visible in animation. Log files are there : <a href=\"https://www.ahpc-services.com/fileshare/JFX_test_pulses/\" rel=\"nofollow noreferrer\">ahpc-services.com/fileshare/JFX_test_pulses</a> the number before the extension represents the value used for the property. There seems to sometimes be a lot of &quot;Waiting for previous rendering&quot;. It&#39;s about all I can see for now."},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1647426540,"post_id":71471546,"comment_id":126366139,"body_markdown":"Some more information looking those files: https://www.ahpc-services.com/fileshare/JFX_test_pulses/loggedframes/\nI&#39;ve recorded a session, logged all the frames&#39; lengths in frames.log, converted this log to Excel, highlighting shorter and longer frames, saved the pulse log into pulse.log.\nSome chaos can be seen at frames 120 -&gt; 132. If you take a look at the recording frame by frame, you can see that no frame is skipped, but the square moves at different rates between the frames. Pulse log is consistent with frames.log.","body":"Some more information looking those files: <a href=\"https://www.ahpc-services.com/fileshare/JFX_test_pulses/loggedframes/\" rel=\"nofollow noreferrer\">ahpc-services.com/fileshare/JFX_test_pulses/loggedframes</a> I&#39;ve recorded a session, logged all the frames&#39; lengths in frames.log, converted this log to Excel, highlighting shorter and longer frames, saved the pulse log into pulse.log. Some chaos can be seen at frames 120 -&gt; 132. If you take a look at the recording frame by frame, you can see that no frame is skipped, but the square moves at different rates between the frames. Pulse log is consistent with frames.log."},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1647426546,"post_id":71471546,"comment_id":126366141,"body_markdown":"So it looks to me like the timestamp passed to each AnimationTimer.handle loop is wrong, and I still don&#39;t know what&#39;s wrong with my code","body":"So it looks to me like the timestamp passed to each AnimationTimer.handle loop is wrong, and I still don&#39;t know what&#39;s wrong with my code"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1647441138,"post_id":71471546,"comment_id":126372238,"body_markdown":"Easier to edit the question and put extra info in it.","body":"Easier to edit the question and put extra info in it."},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1647441430,"post_id":71471546,"comment_id":126372378,"body_markdown":"@jewelsea just figured it out : JFX frames (inconsistent at about 67 FPS average) are out of sync with monitor refresh rate ( about 60Hz). This causes some calculated frames to be dispalyed at intervals different from the ones reported by `AnimationTimer.handle`. If I account for that, then the animation appears smooth, event if the calculated framerate rate goes on a rollercoaster. I&#39;ll answer myself. Thanks for asking the right questions and motivating me to put more effort in this !","body":"@jewelsea just figured it out : JFX frames (inconsistent at about 67 FPS average) are out of sync with monitor refresh rate ( about 60Hz). This causes some calculated frames to be dispalyed at intervals different from the ones reported by <code>AnimationTimer.handle</code>. If I account for that, then the animation appears smooth, event if the calculated framerate rate goes on a rollercoaster. I&#39;ll answer myself. Thanks for asking the right questions and motivating me to put more effort in this !"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1647442083,"post_id":71471546,"comment_id":126372657,"body_markdown":"According to this [blog](http://werner.yellowcouch.org/log/javafx-8-command-line-options/), there is a prism.vsync switch that defaults to true.  What that effectively means though I am not sure.  vsync is a complicated and opaque thing with many inputs such as the monitor. the graphics driver, the OS, the graphics hardware, the JavaFX framework and your code.  There is also tech like gsync and freesync.  Generally though, it usually just works OK with the defaults.  But I guess in your case it didn’t.  If you have worked out a solution that works for you that’s great.","body":"According to this <a href=\"http://werner.yellowcouch.org/log/javafx-8-command-line-options/\" rel=\"nofollow noreferrer\">blog</a>, there is a prism.vsync switch that defaults to true.  What that effectively means though I am not sure.  vsync is a complicated and opaque thing with many inputs such as the monitor. the graphics driver, the OS, the graphics hardware, the JavaFX framework and your code.  There is also tech like gsync and freesync.  Generally though, it usually just works OK with the defaults.  But I guess in your case it didn’t.  If you have worked out a solution that works for you that’s great."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1647442326,"post_id":71471546,"comment_id":126372772,"body_markdown":"One additional thing you might want to do is create the same animation with a TranslateTransition, as well as your custom AnimationTimer, then run the two side by side to observe any difference.  Probably behavior will be identical.","body":"One additional thing you might want to do is create the same animation with a TranslateTransition, as well as your custom AnimationTimer, then run the two side by side to observe any difference.  Probably behavior will be identical."}],"answers":[{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647511028,"creation_date":1647446388,"answer_id":71500331,"question_id":71471546,"body_markdown":"I figured this out myself. As it turns out, JavaFX takes no account of the actual refresh rate of the display. It calls `AnimationTimer.handle` with an average rate of about 67Hz (though varying quite widely), while the typical monitor refreshes at around 60Hz.\r\n\r\nThis causes some frames to be rendered with a delay (the call being quite offset from the screen display frame), and some frames to be reported with a wide variety of lengths whereas the screen will actually display them at a contant rate, thus the inconsistent movement I observed.\r\n\r\nI can compensate for that by measuring the screen&#39;s refresh rate, and calculating my rectangle&#39;s moving rate based on the next frame to be displayed (I won&#39;t know the exact timing, but a constant offset will be OK).\r\n\r\nSo here are the code parts:\r\n\r\n**1. Get screen refresh rate**\r\n```lang-java\r\nstage.setOnShown(e -&gt; {\r\n  Screen screen = Screen.getScreensForRectangle(stage.getX(), stage.getY(), stage.getWidth(), stage.getHeight())\r\n      .get(0);\r\n  GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n  GraphicsDevice d = ge.getScreenDevices()[Screen.getScreens().indexOf(screen)];\r\n\r\n  int r = d.getDisplayMode().getRefreshRate();\r\n  System.out.println(&quot;Screen refresh rate : &quot; + r);\r\n  //Calculate frame duration in nanoseconds\r\n  this.frameNs = 1_000_000_000L / refreshRate; //Store it as it better suits you\r\n});\r\n```\r\n*Note that this method gives an `int` for refresh rate, whereas screen refresh rates are often not exactly integers (mine is currently 60.008 Hz). But this seems like a good enough approximation, judging by the results*\r\n\r\n*Also it&#39;s relying on `awt` where I&#39;d rather have a pure JavaFX solution, and I&#39;m assuming that screens are reported in the same order by both systems which is far from guaranteed: So use this with caution in production!*\r\n\r\n**2. Alter the animation loop to account for this refresh rate**\r\n```lang-java\r\nAnimationTimer anim = new AnimationTimer() {\r\n  private long lastRun = 0;\r\n\r\n  @Override\r\n  public void handle(long now) {\r\n    // Skip first frame but record its timing\r\n    if (lastRun == 0) {\r\n      lastRun = now;\r\n      return;\r\n    }\r\n    // If we had 2 JFX frames for 1 screen frame, save a cycle\r\n    if (now &lt;= lastRun)\r\n      return;\r\n    // Calculate remaining time until next screen frame (next multiple of frameNs)\r\n    long rest = now % frameNs;\r\n    long nextFrame = now;\r\n    if (rest != 0) //Fix timing to next screen frame\r\n      nextFrame += frameNs - rest;\r\n    // Animate\r\n    double elapsed = (nextFrame - lastRun) / 1e9;\r\n    // Reverse when hitting borders\r\n    if (hitsBorders())\r\n      speed = speed.multiply(-1.);\r\n    // Update position according to speed\r\n    oldPos = recPos;\r\n    recPos = recPos.add(speed.multiply(elapsed));\r\n    log.println(String.format(&quot;%d\\t: %d&quot;, frameCount, (now - lastRun) / 1_000_000));\r\n    lastRun = nextFrame;\r\n    draw();\r\n  }\r\n};\r\n```\r\n\r\nAnd with these alterations, the animation runs smoothly\r\n\r\n***Full code (improved a bit)***\r\n```lang-java\r\nimport java.awt.GraphicsDevice;\r\nimport java.awt.GraphicsEnvironment;\r\nimport java.io.IOException;\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Point2D;\r\nimport javafx.geometry.Rectangle2D;\r\nimport javafx.geometry.VPos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.paint.Paint;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.TextAlignment;\r\nimport javafx.stage.Screen;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.WindowEvent;\r\n\r\npublic class TestFxAnimationCanvas extends Application {\r\n\r\n  // Set your panel size here\r\n  private static final int FRAME_WIDTH = 1024;\r\n  private static final int FRAME_HEIGHT = 480;\r\n\r\n  public static void main(String[] args) {\r\n    launch(args);\r\n  }\r\n\r\n  @Override\r\n  public void start(Stage stage) throws Exception {\r\n    BorderPane root = new BorderPane();\r\n    SmootherAnimation myAnimation = new SmootherAnimation();\r\n    myAnimation.widthProperty().bind(root.widthProperty());\r\n    myAnimation.heightProperty().bind(root.heightProperty());\r\n    root.setCenter(myAnimation);\r\n    Scene scene = new Scene(root);\r\n    stage.setScene(scene);\r\n    stage.setWidth(FRAME_WIDTH);\r\n    stage.setHeight(FRAME_HEIGHT);\r\n\r\n    // Get screen refresh rate and apply it to animation\r\n    stage.addEventHandler(WindowEvent.WINDOW_SHOWN, e -&gt; {\r\n      Screen screen = Screen.getScreensForRectangle(\r\n    \t  stage.getX(), stage.getY(), stage.getWidth(), stage.getHeight()\r\n    \t  ).get(0);\r\n      if (screen == null)\r\n        return;\r\n      GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n      // /!\\ Does ge.getScreenDevices really return same order as Screen.getScreens?\r\n      GraphicsDevice d = ge.getScreenDevices()[Screen.getScreens().indexOf(screen)];\r\n      int r = d.getDisplayMode().getRefreshRate(); // /!\\ r is an int whereas screen refresh rate is often not an integer\r\n      myAnimation.setRefreshRate(r);\r\n      //TODO: re-assess when window is moved to other screen\r\n    });\r\n\r\n    stage.show();\r\n  }\r\n}\r\n\r\nclass SmootherAnimation extends Canvas {\r\n\r\n  private static final double SPEED = 500; // Speed value to be applied in either direction in px/s\r\n  private static final Point2D RECT_DIMS = new Point2D(50, 50); // rectangle size\r\n  // Canvas painting colors\r\n  private static final Paint BLACK = Paint.valueOf(&quot;black&quot;);\r\n  private static final Paint RED = Paint.valueOf(&quot;red&quot;);\r\n  private static final Paint GREEN = Paint.valueOf(&quot;ForestGreen&quot;);\r\n  private static final Paint BLUE = Paint.valueOf(&quot;SteelBlue&quot;);\r\n\r\n  // Defines rectangle start position, stores current position\r\n  private Point2D recPos = new Point2D(0, 50);\r\n  // Defines initial speed, stores current speed\r\n  private Point2D speed = new Point2D(SPEED, 0);\r\n\r\n  //Frame rate measurement\r\n  private long frameCount = 0;\r\n  private BigDecimal fps = null;\r\n  long[] frameTimes = new long[120]; //length defines number of rendered frames to average over\r\n  //Frame duration in nanoseconds according to screen refresh rate\r\n  private long frameNs = 1_000_000_000L / 60; //Default to 60Hz\r\n\r\n  public SmootherAnimation() throws IOException {\r\n\r\n    AnimationTimer anim = new AnimationTimer() {\r\n      private long previousFrame = 0;\r\n\r\n      @Override\r\n      public void handle(long now) {\r\n        // Skip first frame but record its timing\r\n        if (previousFrame == 0) {\r\n          previousFrame = now;\r\n          frameTimes[0] = now;\r\n          frameCount++;\r\n          return;\r\n        }\r\n        \r\n        // If we had 2 JFX frames for 1 screen frame, save a cycle by skipping render\r\n        if (now &lt;= previousFrame)\r\n          return;\r\n        \r\n        // Measure FPS\r\n        int frameIndex = (int) (frameCount % frameTimes.length);\r\n        frameTimes[frameIndex] = now;\r\n        if (frameCount &gt; frameTimes.length) {\r\n          int prev = (int) ((frameCount + 1) % frameTimes.length);\r\n          long delta = now - frameTimes[prev];\r\n          double fr = 1e9 / (delta / frameTimes.length);\r\n          fps = new BigDecimal(fr).setScale(2, RoundingMode.HALF_UP);\r\n        }\r\n        frameCount++;\r\n        \r\n        // Calculate remaining time until next screen frame (next multiple of frameNs)\r\n        long rest = now % frameNs;\r\n        long nextFrame = now;\r\n        if (rest != 0) //Fix timing to next screen frame\r\n          nextFrame += frameNs - rest;\r\n        \r\n        // Animate\r\n        updateWorld(previousFrame, nextFrame);\r\n        previousFrame = nextFrame; //Saving last execution\r\n        draw();\r\n      }\r\n    };\r\n\r\n    // Start\r\n    anim.start();\r\n  }\r\n\r\n  /**\r\n   * Save frame interval in nanoseconds given passed refresh rate\r\n   * @param refreshRate in Hz\r\n   */\r\n  public void setRefreshRate(int refreshRate) {\r\n    this.frameNs = 1_000_000_000L / refreshRate;\r\n  }\r\n  \r\n  /**\r\n   * Perform animation (calculate object positions)\r\n   * @param previousFrame previous animation frame execution time in ns\r\n   * @param nextFrame next animation frame execution time in ns\r\n   */\r\n  private void updateWorld(long previousFrame, long nextFrame) {\r\n    double elapsed = (nextFrame - previousFrame) / 1e9; //Interval in seconds\r\n    // Reverse when hitting borders\r\n    if ( rectHitsBorders(\trecPos.getX(), recPos.getY(),\r\n    \t\t\t\t\t\tRECT_DIMS.getX(), RECT_DIMS.getY(),\r\n    \t\t\t\t\t\tspeed.getX(), speed.getY()) ) {\r\n      speed = speed.multiply(-1.);\r\n    }\r\n    // Update position according to speed\r\n    recPos = recPos.add(speed.multiply(elapsed));\r\n  }\r\n\r\n  /**\r\n   * Draw world onto canvas. Also display calculated frame rate and frame count\r\n   */\r\n  private void draw() {\r\n    GraphicsContext gfx = this.getGraphicsContext2D();\r\n    // Clear and draw border\r\n    gfx.setStroke(BLACK);\r\n    gfx.setLineWidth(1);\r\n    gfx.clearRect(0, 0, getWidth(), getHeight());\r\n    gfx.strokeRect(0, 0, getWidth(), getHeight());\r\n    // Draw moving shape\r\n    gfx.setFill(RED);\r\n    gfx.fillRect(recPos.getX(), recPos.getY(), RECT_DIMS.getX(), RECT_DIMS.getY());\r\n    // Draw FPS meter\r\n    String fpsText = fps == null ? &quot;FPS&quot; : fps.toString();\r\n    gfx.setTextAlign(TextAlignment.RIGHT);\r\n    gfx.setTextBaseline(VPos.TOP);\r\n    gfx.setFill(GREEN);\r\n    gfx.setFont(Font.font(24));\r\n    gfx.fillText(fpsText, getWidth() - 5, 5);\r\n    // Draw frame counter\r\n    gfx.setTextAlign(TextAlignment.LEFT);\r\n    gfx.setFill(BLUE);\r\n    gfx.fillText(&quot;&quot; + frameCount, 5, 5);\r\n  }\r\n\r\n  /**\r\n   * Tells whether moving rectangle is hitting canvas borders\r\n   * @param x considered rectangle horizontal coordinate (top-left from left)\r\n   * @param y considered rectangle vertical coordinate (top-left from top)\r\n   * @param width considered rectangle width\r\n   * @param height considered rectangle height\r\n   * @param speedX speed component in x direction\r\n   * @param speedY speed component in y direction\r\n   * @return true if a canvas border is crossed in the direction of movement\r\n   */\r\n  private boolean rectHitsBorders(double x, double y, double width, double height, double speedX, double speedY) {\r\n    Rectangle2D frame = new Rectangle2D(0, 0, getWidth(), getHeight());\r\n    Rectangle2D rect = new Rectangle2D(x, y, width, height);\r\n    if (speedX &lt; 0 &amp;&amp; rect.getMinX() &lt; frame.getMinX())\r\n      return true;\r\n    else if (speedX &gt; 0 &amp;&amp; rect.getMaxX() &gt; frame.getMaxX())\r\n      return true;\r\n    else if (speedY &lt; 0 &amp;&amp; rect.getMinY() &lt; frame.getMinY())\r\n      return true;\r\n    else if (speedY &gt; 0 &amp;&amp; rect.getMaxY() &gt; frame.getMaxY())\r\n      return true;\r\n    return false;\r\n  }\r\n\r\n}\r\n```","title":"How to make a smooth time-based animation with JavaFx AnimationTimer?","body":"<p>I figured this out myself. As it turns out, JavaFX takes no account of the actual refresh rate of the display. It calls <code>AnimationTimer.handle</code> with an average rate of about 67Hz (though varying quite widely), while the typical monitor refreshes at around 60Hz.</p>\n<p>This causes some frames to be rendered with a delay (the call being quite offset from the screen display frame), and some frames to be reported with a wide variety of lengths whereas the screen will actually display them at a contant rate, thus the inconsistent movement I observed.</p>\n<p>I can compensate for that by measuring the screen's refresh rate, and calculating my rectangle's moving rate based on the next frame to be displayed (I won't know the exact timing, but a constant offset will be OK).</p>\n<p>So here are the code parts:</p>\n<p><strong>1. Get screen refresh rate</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.setOnShown(e -&gt; {\n  Screen screen = Screen.getScreensForRectangle(stage.getX(), stage.getY(), stage.getWidth(), stage.getHeight())\n      .get(0);\n  GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n  GraphicsDevice d = ge.getScreenDevices()[Screen.getScreens().indexOf(screen)];\n\n  int r = d.getDisplayMode().getRefreshRate();\n  System.out.println(&quot;Screen refresh rate : &quot; + r);\n  //Calculate frame duration in nanoseconds\n  this.frameNs = 1_000_000_000L / refreshRate; //Store it as it better suits you\n});\n</code></pre>\n<p><em>Note that this method gives an <code>int</code> for refresh rate, whereas screen refresh rates are often not exactly integers (mine is currently 60.008 Hz). But this seems like a good enough approximation, judging by the results</em></p>\n<p><em>Also it's relying on <code>awt</code> where I'd rather have a pure JavaFX solution, and I'm assuming that screens are reported in the same order by both systems which is far from guaranteed: So use this with caution in production!</em></p>\n<p><strong>2. Alter the animation loop to account for this refresh rate</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>AnimationTimer anim = new AnimationTimer() {\n  private long lastRun = 0;\n\n  @Override\n  public void handle(long now) {\n    // Skip first frame but record its timing\n    if (lastRun == 0) {\n      lastRun = now;\n      return;\n    }\n    // If we had 2 JFX frames for 1 screen frame, save a cycle\n    if (now &lt;= lastRun)\n      return;\n    // Calculate remaining time until next screen frame (next multiple of frameNs)\n    long rest = now % frameNs;\n    long nextFrame = now;\n    if (rest != 0) //Fix timing to next screen frame\n      nextFrame += frameNs - rest;\n    // Animate\n    double elapsed = (nextFrame - lastRun) / 1e9;\n    // Reverse when hitting borders\n    if (hitsBorders())\n      speed = speed.multiply(-1.);\n    // Update position according to speed\n    oldPos = recPos;\n    recPos = recPos.add(speed.multiply(elapsed));\n    log.println(String.format(&quot;%d\\t: %d&quot;, frameCount, (now - lastRun) / 1_000_000));\n    lastRun = nextFrame;\n    draw();\n  }\n};\n</code></pre>\n<p>And with these alterations, the animation runs smoothly</p>\n<p><em><strong>Full code (improved a bit)</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.io.IOException;\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.geometry.Point2D;\nimport javafx.geometry.Rectangle2D;\nimport javafx.geometry.VPos;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Paint;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.TextAlignment;\nimport javafx.stage.Screen;\nimport javafx.stage.Stage;\nimport javafx.stage.WindowEvent;\n\npublic class TestFxAnimationCanvas extends Application {\n\n  // Set your panel size here\n  private static final int FRAME_WIDTH = 1024;\n  private static final int FRAME_HEIGHT = 480;\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  @Override\n  public void start(Stage stage) throws Exception {\n    BorderPane root = new BorderPane();\n    SmootherAnimation myAnimation = new SmootherAnimation();\n    myAnimation.widthProperty().bind(root.widthProperty());\n    myAnimation.heightProperty().bind(root.heightProperty());\n    root.setCenter(myAnimation);\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setWidth(FRAME_WIDTH);\n    stage.setHeight(FRAME_HEIGHT);\n\n    // Get screen refresh rate and apply it to animation\n    stage.addEventHandler(WindowEvent.WINDOW_SHOWN, e -&gt; {\n      Screen screen = Screen.getScreensForRectangle(\n          stage.getX(), stage.getY(), stage.getWidth(), stage.getHeight()\n          ).get(0);\n      if (screen == null)\n        return;\n      GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n      // /!\\ Does ge.getScreenDevices really return same order as Screen.getScreens?\n      GraphicsDevice d = ge.getScreenDevices()[Screen.getScreens().indexOf(screen)];\n      int r = d.getDisplayMode().getRefreshRate(); // /!\\ r is an int whereas screen refresh rate is often not an integer\n      myAnimation.setRefreshRate(r);\n      //TODO: re-assess when window is moved to other screen\n    });\n\n    stage.show();\n  }\n}\n\nclass SmootherAnimation extends Canvas {\n\n  private static final double SPEED = 500; // Speed value to be applied in either direction in px/s\n  private static final Point2D RECT_DIMS = new Point2D(50, 50); // rectangle size\n  // Canvas painting colors\n  private static final Paint BLACK = Paint.valueOf(&quot;black&quot;);\n  private static final Paint RED = Paint.valueOf(&quot;red&quot;);\n  private static final Paint GREEN = Paint.valueOf(&quot;ForestGreen&quot;);\n  private static final Paint BLUE = Paint.valueOf(&quot;SteelBlue&quot;);\n\n  // Defines rectangle start position, stores current position\n  private Point2D recPos = new Point2D(0, 50);\n  // Defines initial speed, stores current speed\n  private Point2D speed = new Point2D(SPEED, 0);\n\n  //Frame rate measurement\n  private long frameCount = 0;\n  private BigDecimal fps = null;\n  long[] frameTimes = new long[120]; //length defines number of rendered frames to average over\n  //Frame duration in nanoseconds according to screen refresh rate\n  private long frameNs = 1_000_000_000L / 60; //Default to 60Hz\n\n  public SmootherAnimation() throws IOException {\n\n    AnimationTimer anim = new AnimationTimer() {\n      private long previousFrame = 0;\n\n      @Override\n      public void handle(long now) {\n        // Skip first frame but record its timing\n        if (previousFrame == 0) {\n          previousFrame = now;\n          frameTimes[0] = now;\n          frameCount++;\n          return;\n        }\n        \n        // If we had 2 JFX frames for 1 screen frame, save a cycle by skipping render\n        if (now &lt;= previousFrame)\n          return;\n        \n        // Measure FPS\n        int frameIndex = (int) (frameCount % frameTimes.length);\n        frameTimes[frameIndex] = now;\n        if (frameCount &gt; frameTimes.length) {\n          int prev = (int) ((frameCount + 1) % frameTimes.length);\n          long delta = now - frameTimes[prev];\n          double fr = 1e9 / (delta / frameTimes.length);\n          fps = new BigDecimal(fr).setScale(2, RoundingMode.HALF_UP);\n        }\n        frameCount++;\n        \n        // Calculate remaining time until next screen frame (next multiple of frameNs)\n        long rest = now % frameNs;\n        long nextFrame = now;\n        if (rest != 0) //Fix timing to next screen frame\n          nextFrame += frameNs - rest;\n        \n        // Animate\n        updateWorld(previousFrame, nextFrame);\n        previousFrame = nextFrame; //Saving last execution\n        draw();\n      }\n    };\n\n    // Start\n    anim.start();\n  }\n\n  /**\n   * Save frame interval in nanoseconds given passed refresh rate\n   * @param refreshRate in Hz\n   */\n  public void setRefreshRate(int refreshRate) {\n    this.frameNs = 1_000_000_000L / refreshRate;\n  }\n  \n  /**\n   * Perform animation (calculate object positions)\n   * @param previousFrame previous animation frame execution time in ns\n   * @param nextFrame next animation frame execution time in ns\n   */\n  private void updateWorld(long previousFrame, long nextFrame) {\n    double elapsed = (nextFrame - previousFrame) / 1e9; //Interval in seconds\n    // Reverse when hitting borders\n    if ( rectHitsBorders(   recPos.getX(), recPos.getY(),\n                            RECT_DIMS.getX(), RECT_DIMS.getY(),\n                            speed.getX(), speed.getY()) ) {\n      speed = speed.multiply(-1.);\n    }\n    // Update position according to speed\n    recPos = recPos.add(speed.multiply(elapsed));\n  }\n\n  /**\n   * Draw world onto canvas. Also display calculated frame rate and frame count\n   */\n  private void draw() {\n    GraphicsContext gfx = this.getGraphicsContext2D();\n    // Clear and draw border\n    gfx.setStroke(BLACK);\n    gfx.setLineWidth(1);\n    gfx.clearRect(0, 0, getWidth(), getHeight());\n    gfx.strokeRect(0, 0, getWidth(), getHeight());\n    // Draw moving shape\n    gfx.setFill(RED);\n    gfx.fillRect(recPos.getX(), recPos.getY(), RECT_DIMS.getX(), RECT_DIMS.getY());\n    // Draw FPS meter\n    String fpsText = fps == null ? &quot;FPS&quot; : fps.toString();\n    gfx.setTextAlign(TextAlignment.RIGHT);\n    gfx.setTextBaseline(VPos.TOP);\n    gfx.setFill(GREEN);\n    gfx.setFont(Font.font(24));\n    gfx.fillText(fpsText, getWidth() - 5, 5);\n    // Draw frame counter\n    gfx.setTextAlign(TextAlignment.LEFT);\n    gfx.setFill(BLUE);\n    gfx.fillText(&quot;&quot; + frameCount, 5, 5);\n  }\n\n  /**\n   * Tells whether moving rectangle is hitting canvas borders\n   * @param x considered rectangle horizontal coordinate (top-left from left)\n   * @param y considered rectangle vertical coordinate (top-left from top)\n   * @param width considered rectangle width\n   * @param height considered rectangle height\n   * @param speedX speed component in x direction\n   * @param speedY speed component in y direction\n   * @return true if a canvas border is crossed in the direction of movement\n   */\n  private boolean rectHitsBorders(double x, double y, double width, double height, double speedX, double speedY) {\n    Rectangle2D frame = new Rectangle2D(0, 0, getWidth(), getHeight());\n    Rectangle2D rect = new Rectangle2D(x, y, width, height);\n    if (speedX &lt; 0 &amp;&amp; rect.getMinX() &lt; frame.getMinX())\n      return true;\n    else if (speedX &gt; 0 &amp;&amp; rect.getMaxX() &gt; frame.getMaxX())\n      return true;\n    else if (speedY &lt; 0 &amp;&amp; rect.getMinY() &lt; frame.getMinY())\n      return true;\n    else if (speedY &gt; 0 &amp;&amp; rect.getMaxY() &gt; frame.getMaxY())\n      return true;\n    return false;\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71500331,"answer_count":1,"score":0,"last_activity_date":1663837841,"creation_date":1647277300,"question_id":71471546,"body_markdown":"I&#39;m making a very simple animation using JavaFX. My goal here is just to have a rectangle move smoothly across the window.\r\n\r\nI&#39;m trying to achieve this using `AnimationTimer`, which seems fit for the task. I&#39;ve tried different ways of rendering, such as a `Rectangle` in an `AnchorPane`, or simply drawing onto a `Canvas`, but in the end it always boils down to the same thing, with the same results.\r\n\r\nI basically store the position of my rectangle, and apply a moving rate to it at each frame.\r\n\r\nIn fact, when I use a constant moving rate in the `handle` method of my `AnimationTimer`, animation is perfectly smooth. However, there are 2 problems with this technique:\r\n1. Frame rate seems to be platform-dependent, with no easy way to control it. So the animation would render differently on different machines.\r\n2. Frame rate sometimes varies, for instance when resizing the window, it can sometimes drop by half, or sometimes even double up, which changes the animation speed accordingly.\r\n\r\nSo I tried to make the animation time-based, by using the argument of `AnimationTimer.handle(long now)`. It solved the inconsistency issues, but the animation is now jittery! A few times per second, the rectangle seems to &quot;jump&quot; a few pixels ahead and then stall for a frame or two to recover it&#39;s expected position. It becomes more and more obvious as I increase the speed.\r\n\r\nHere&#39;s the relevant piece of code (simplified):\r\n```lang-java\r\nAnimationTimer anim = new AnimationTimer() {\r\n  private long lastRun = 0;\r\n  \r\n  @Override\r\n  public void handle(long now) {\r\n    //Ignore first frame as I&#39;m not sure of the timing here\r\n    if (lastRun == 0) {\r\n      lastRun = now;\r\n      return;\r\n    }\r\n    //Now we&#39;ve got a reference, so let&#39;s animate\r\n    double elapsed = (now - lastRun) / 1e9; //Convert to seconds\r\n    //Update position according to speed\r\n    position = position.add(speed.multiply(elapsed)); //Apply speed in pixels/second\r\n    lastRun = now; //Store current time for next loop\r\n    draw();\r\n  }\r\n};\r\n```\r\nI&#39;ve tried to log time differences, frame rate and position. Tried a few different fixes, making my code always more complex but with no result whatsoever.\r\n\r\n***Edit 2022-03-15 following your comments (thanks)***\r\n\r\n*I&#39;ve tried this on my usual computer (Win 10, Xeon processor, 2 Geforce 1050Ti GPUs), and also on a Microsoft Surface Go 3 tablet under Windows 11. I&#39;ve tried it using Java 17.0.1 (Temurin) and JavaFX 17.0.1, as well as JDK 8u211 with the same results.*\r\n\r\n*Using JVM argument `-Djavafx.animation.pulse=10` has no effect whatsoever other than showing &quot;Setting PULSE_DURATION to 10 hz&quot; in stderr. `-Djavafx.animation.framerate=10` doesn&#39;t do a thing.*\r\n\r\n***End of edit***\r\n\r\nI can&#39;t figure out what I&#39;m doing wrong here. Can you please help me out ?\r\n\r\nHere&#39;s my entire code :\r\n***(Edited on 2022-03-15 to include FPS-meter)***\r\n```lang-java\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Point2D;\r\nimport javafx.geometry.Rectangle2D;\r\nimport javafx.geometry.VPos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.paint.Paint;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.TextAlignment;\r\nimport javafx.stage.Stage;\r\n\r\npublic class TestFxCanvas2 extends Application {\r\n\r\n  // Set your panel size here\r\n  private static final int FRAME_WIDTH = 800;\r\n  private static final int FRAME_HEIGHT = 800;\r\n\r\n  public static void main(String[] args) {\r\n\tlaunch(args);\r\n  }\r\n\r\n  @Override\r\n  public void start(Stage stage) throws Exception {\r\n\tBorderPane root = new BorderPane();\r\n\tMyAnimation2 myAnimation = new MyAnimation2();\r\n\tmyAnimation.widthProperty().bind(root.widthProperty());\r\n\tmyAnimation.heightProperty().bind(root.heightProperty());\r\n\troot.setCenter(myAnimation);\r\n\tScene scene = new Scene(root);\r\n\tstage.setScene(scene);\r\n\tstage.setWidth(FRAME_WIDTH);\r\n\tstage.setHeight(FRAME_HEIGHT);\r\n\r\n\tstage.show();\r\n  }\r\n}\r\n\r\nclass MyAnimation2 extends Canvas {\r\n\r\n  private static final double SPEED = 500; // Speed value to be applied in either direction in px/s\r\n  private static final Point2D RECT_DIMS = new Point2D(50, 50); // rectangle size\r\n  // Canvas painting colors\r\n  private static final Paint BLACK = Paint.valueOf(&quot;black&quot;);\r\n  private static final Paint RED = Paint.valueOf(&quot;red&quot;);\r\n  private static final Paint GREEN = Paint.valueOf(&quot;ForestGreen&quot;);\r\n\r\n  // Defines rectangle start position\r\n  private Point2D recPos = new Point2D(0, 300);\r\n  // Stores previous position\r\n  private Point2D oldPos = new Point2D(0, 0);\r\n\r\n  // Current speed\r\n  private Point2D speed = new Point2D(SPEED, 0);\r\n\r\n  public MyAnimation2() {\r\n\r\n\tAnimationTimer anim = new AnimationTimer() {\r\n\t  private long lastRun = 0;\r\n\r\n\t  long[] frameTimes = new long[10];\r\n\t  long frameCount = 0;\r\n\r\n\t  @Override\r\n\t  public void handle(long now) {\r\n\t\t// Measure FPS\r\n\t\tBigDecimal fps = null;\r\n\t\tint frameIndex = (int) (frameCount % frameTimes.length);\r\n\t\tframeTimes[frameIndex] = now;\r\n\t\tif (frameCount &gt; frameTimes.length) {\r\n\t\t  int prev = (int) ((frameCount + 1) % frameTimes.length);\r\n\t\t  long delta = now - frameTimes[prev];\r\n\t\t  double fr = 1e9 / (delta / frameTimes.length);\r\n\t\t  fps = new BigDecimal(fr).setScale(2, RoundingMode.HALF_UP);\r\n\t\t}\r\n\t\tframeCount++;\r\n\t\t// Skip first frame but record its timing\r\n\t\tif (lastRun == 0) {\r\n\t\t  lastRun = now;\r\n\t\t  return;\r\n\t\t}\r\n\t\t// Animate\r\n\t\tdouble elapsed = (now - lastRun) / 1e9;\r\n\t\t// Reverse when hitting borders\r\n\t\tif (hitsBorders())\r\n\t\t  speed = speed.multiply(-1.);\r\n\t\t// Update position according to speed\r\n\t\toldPos = recPos;\r\n\t\trecPos = recPos.add(speed.multiply(elapsed));\r\n\t\tlastRun = now;\r\n\t\tdraw(oldPos, recPos, fps);\r\n\t  }\r\n\t};\r\n\r\n\t// Start\r\n\tanim.start();\r\n  }\r\n\r\n  private void draw(Point2D oldPos, Point2D recPos, BigDecimal fps) {\r\n\tGraphicsContext gfx = this.getGraphicsContext2D();\r\n\t// Clear and draw border\r\n\tgfx.setStroke(BLACK);\r\n\tgfx.setLineWidth(1);\r\n\tgfx.clearRect(0, 0, getWidth(), getHeight());\r\n\tgfx.strokeRect(0, 0, getWidth(), getHeight());\r\n\t// Draw moving shape\r\n\tgfx.setFill(RED);\r\n\tgfx.fillRect(recPos.getX(), recPos.getY(), RECT_DIMS.getX(), RECT_DIMS.getY());\r\n\t// Draw FPS meter\r\n\tString fpsText = fps == null ? &quot;FPS&quot; : fps.toString();\r\n\tgfx.setTextAlign(TextAlignment.RIGHT);\r\n\tgfx.setFill(GREEN);\r\n\tgfx.setFont(Font.font(24));\r\n\tgfx.setTextBaseline(VPos.TOP);\r\n\tgfx.fillText(fpsText, getWidth() - 5, 5);\r\n  }\r\n\r\n  private boolean hitsBorders() {\r\n\tRectangle2D frame = new Rectangle2D(0, 0, getWidth(), getHeight());\r\n\tRectangle2D rect = new Rectangle2D(recPos.getX(), recPos.getY(), RECT_DIMS.getX(), RECT_DIMS.getY());\r\n\tif (speed.getX() &lt; 0 &amp;&amp; rect.getMinX() &lt; frame.getMinX())\r\n\t  return true;\r\n\telse if (speed.getX() &gt; 0 &amp;&amp; rect.getMaxX() &gt; frame.getMaxX())\r\n\t  return true;\r\n\telse if (speed.getY() &lt; 0 &amp;&amp; rect.getMinY() &lt; frame.getMinY())\r\n\t  return true;\r\n\telse if (speed.getY() &gt; 0 &amp;&amp; rect.getMaxY() &gt; frame.getMaxY())\r\n\t  return true;\r\n\treturn false;\r\n  }\r\n}\r\n```\r\n\r\n**Addition after testing same program in JavaScript**\r\n\r\nThis JavaScript version runs smoothly on my devices\r\n\r\nSee a video comparing both versions (JavaScript at the top, JavaFX at the bottom) here: https://www.ahpc-services.com/fileshare/JFX_test_pulses/20220315_150431_edit1.mp4\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const RED = &#39;red&#39;;\r\n    const GREEN = &#39;ForestGreen&#39;;\r\n    const BLACK = &#39;black&#39;;\r\n\r\n    window.addEventListener(&#39;DOMContentLoaded&#39;, e =&gt; {\r\n      const animArea = document.querySelector(&#39;#anim-area&#39;);\r\n      const ctx = animArea.getContext(&#39;2d&#39;);\r\n      const cWidth = animArea.clientWidth;\r\n      const cHeight = animArea.clientHeight;\r\n      adjustCanvasSize();\r\n      window.addEventListener(&#39;resize&#39;, adjustCanvasSize);\r\n\r\n      const rect = {\r\n        x: 0,\r\n        y: 50,\r\n        width: 50,\r\n        height: 50\r\n      }\r\n      const speed = {\r\n        x: 500,\r\n        y: 0\r\n      }\r\n\r\n      const frameTiming = {\r\n        frameCount: 0,\r\n        frameTimes: Array(10),\r\n        lastRun: 0,\r\n      }\r\n\r\n      requestAnimationFrame(animate);\r\n\r\n      function animate() {\r\n        const now = Date.now();\r\n\r\n        requestAnimationFrame(animate);\r\n\r\n        //Count FPS\r\n        let fps;\r\n        const frameIndex = frameTiming.frameCount % frameTiming.frameTimes.length;\r\n        frameTiming.frameTimes[frameIndex] = now;\r\n        if (frameTiming.frameCount &gt; frameTiming.frameTimes.length) {\r\n          const prev = (frameTiming.frameCount + 1) % frameTiming.frameTimes.length;\r\n          const delta = now - frameTiming.frameTimes[prev];\r\n          fps = Math.round(100 * 1000 * frameTiming.frameTimes.length / delta) / 100;\r\n        }\r\n        frameTiming.frameCount++;\r\n        //Ignore first frame\r\n        if (frameTiming.lastRun == 0) {\r\n          frameTiming.lastRun = now;\r\n          return;\r\n        }\r\n        //Animate\r\n        const elapsed = (now - frameTiming.lastRun) / 1e3;\r\n        // Reverse when hitting borders\r\n        if (hitsBorders()) {\r\n          speed.x *= -1;\r\n          speed.y *= -1;\r\n        }\r\n        // Update position according to speed\r\n        const oldRect = Object.assign({}, rect);\r\n        rect.x += speed.x * elapsed;\r\n        rect.y += speed.y * elapsed;\r\n        frameTiming.lastRun = now;\r\n        draw();\r\n\r\n        function draw() {\r\n          // Clear and draw border\r\n          ctx.clearRect(0, 0, animArea.width, animArea.height);\r\n          ctx.strokeStyle = BLACK;\r\n          ctx.strokeRect(0, 0, animArea.width, animArea.height);\r\n          // Draw moving shape\r\n          ctx.fillStyle = RED;\r\n          ctx.fillRect(rect.x, rect.y, rect.width, rect.height);\r\n          // Draw FPS meter\r\n          const fpsText = fps == undefined ? &quot;FPS&quot; : `${fps}`;\r\n          ctx.textAlign = &#39;right&#39;;\r\n          ctx.fillStyle = GREEN;\r\n          ctx.font = &quot;24px sans-serif&quot;;\r\n          ctx.textBaseline = &#39;top&#39;;\r\n          ctx.fillText(fpsText, animArea.width - 5, 5);\r\n        }\r\n\r\n        function hitsBorders() {\r\n          if (speed.x &lt; 0 &amp;&amp; rect.x &lt; 0)\r\n            return true;\r\n          else if (speed.x &gt; 0 &amp;&amp; rect.x + rect.width &gt; animArea.width)\r\n            return true;\r\n          else if (speed.y &lt; 0 &amp;&amp; rect.y &lt; 0)\r\n            return true;\r\n          else if (speed.y &gt; 0 &amp;&amp; rect.y + rect.height &gt; animArea.height)\r\n            return true;\r\n          return false;\r\n        }\r\n      }\r\n\r\n      function adjustCanvasSize() {\r\n        if (window.innerWidth &lt; cWidth + 30)\r\n          animArea.style.width = (window.innerWidth - 30) + &quot;px&quot;;\r\n        else\r\n          animArea.style.width = &quot;&quot;;\r\n        if (window.innerHeight &lt; cHeight + 30)\r\n          animArea.style.height = (window.innerHeight - 30) + &quot;px&quot;;\r\n        else\r\n          animArea.style.height = &quot;&quot;;\r\n        animArea.width = animArea.clientWidth;\r\n        animArea.height = animArea.clientHeight;\r\n      }\r\n\r\n    });\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    html,\r\n    body {\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n\r\n    #anim-area {\r\n      width: 800px;\r\n      height: 800px;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n      &lt;title&gt;Moving square&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n      &lt;div class=&quot;content-wrapper&quot;&gt;\r\n        &lt;canvas id=&quot;anim-area&quot;&gt;&lt;/canvas&gt;\r\n      &lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to make a smooth time-based animation with JavaFx AnimationTimer?","body":"<p>I'm making a very simple animation using JavaFX. My goal here is just to have a rectangle move smoothly across the window.</p>\n<p>I'm trying to achieve this using <code>AnimationTimer</code>, which seems fit for the task. I've tried different ways of rendering, such as a <code>Rectangle</code> in an <code>AnchorPane</code>, or simply drawing onto a <code>Canvas</code>, but in the end it always boils down to the same thing, with the same results.</p>\n<p>I basically store the position of my rectangle, and apply a moving rate to it at each frame.</p>\n<p>In fact, when I use a constant moving rate in the <code>handle</code> method of my <code>AnimationTimer</code>, animation is perfectly smooth. However, there are 2 problems with this technique:</p>\n<ol>\n<li>Frame rate seems to be platform-dependent, with no easy way to control it. So the animation would render differently on different machines.</li>\n<li>Frame rate sometimes varies, for instance when resizing the window, it can sometimes drop by half, or sometimes even double up, which changes the animation speed accordingly.</li>\n</ol>\n<p>So I tried to make the animation time-based, by using the argument of <code>AnimationTimer.handle(long now)</code>. It solved the inconsistency issues, but the animation is now jittery! A few times per second, the rectangle seems to &quot;jump&quot; a few pixels ahead and then stall for a frame or two to recover it's expected position. It becomes more and more obvious as I increase the speed.</p>\n<p>Here's the relevant piece of code (simplified):</p>\n<pre class=\"lang-java prettyprint-override\"><code>AnimationTimer anim = new AnimationTimer() {\n  private long lastRun = 0;\n  \n  @Override\n  public void handle(long now) {\n    //Ignore first frame as I'm not sure of the timing here\n    if (lastRun == 0) {\n      lastRun = now;\n      return;\n    }\n    //Now we've got a reference, so let's animate\n    double elapsed = (now - lastRun) / 1e9; //Convert to seconds\n    //Update position according to speed\n    position = position.add(speed.multiply(elapsed)); //Apply speed in pixels/second\n    lastRun = now; //Store current time for next loop\n    draw();\n  }\n};\n</code></pre>\n<p>I've tried to log time differences, frame rate and position. Tried a few different fixes, making my code always more complex but with no result whatsoever.</p>\n<p><em><strong>Edit 2022-03-15 following your comments (thanks)</strong></em></p>\n<p><em>I've tried this on my usual computer (Win 10, Xeon processor, 2 Geforce 1050Ti GPUs), and also on a Microsoft Surface Go 3 tablet under Windows 11. I've tried it using Java 17.0.1 (Temurin) and JavaFX 17.0.1, as well as JDK 8u211 with the same results.</em></p>\n<p><em>Using JVM argument <code>-Djavafx.animation.pulse=10</code> has no effect whatsoever other than showing &quot;Setting PULSE_DURATION to 10 hz&quot; in stderr. <code>-Djavafx.animation.framerate=10</code> doesn't do a thing.</em></p>\n<p><em><strong>End of edit</strong></em></p>\n<p>I can't figure out what I'm doing wrong here. Can you please help me out ?</p>\n<p>Here's my entire code :\n<em><strong>(Edited on 2022-03-15 to include FPS-meter)</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigDecimal;\nimport java.math.RoundingMode;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.geometry.Point2D;\nimport javafx.geometry.Rectangle2D;\nimport javafx.geometry.VPos;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Paint;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.TextAlignment;\nimport javafx.stage.Stage;\n\npublic class TestFxCanvas2 extends Application {\n\n  // Set your panel size here\n  private static final int FRAME_WIDTH = 800;\n  private static final int FRAME_HEIGHT = 800;\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  @Override\n  public void start(Stage stage) throws Exception {\n    BorderPane root = new BorderPane();\n    MyAnimation2 myAnimation = new MyAnimation2();\n    myAnimation.widthProperty().bind(root.widthProperty());\n    myAnimation.heightProperty().bind(root.heightProperty());\n    root.setCenter(myAnimation);\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setWidth(FRAME_WIDTH);\n    stage.setHeight(FRAME_HEIGHT);\n\n    stage.show();\n  }\n}\n\nclass MyAnimation2 extends Canvas {\n\n  private static final double SPEED = 500; // Speed value to be applied in either direction in px/s\n  private static final Point2D RECT_DIMS = new Point2D(50, 50); // rectangle size\n  // Canvas painting colors\n  private static final Paint BLACK = Paint.valueOf(&quot;black&quot;);\n  private static final Paint RED = Paint.valueOf(&quot;red&quot;);\n  private static final Paint GREEN = Paint.valueOf(&quot;ForestGreen&quot;);\n\n  // Defines rectangle start position\n  private Point2D recPos = new Point2D(0, 300);\n  // Stores previous position\n  private Point2D oldPos = new Point2D(0, 0);\n\n  // Current speed\n  private Point2D speed = new Point2D(SPEED, 0);\n\n  public MyAnimation2() {\n\n    AnimationTimer anim = new AnimationTimer() {\n      private long lastRun = 0;\n\n      long[] frameTimes = new long[10];\n      long frameCount = 0;\n\n      @Override\n      public void handle(long now) {\n        // Measure FPS\n        BigDecimal fps = null;\n        int frameIndex = (int) (frameCount % frameTimes.length);\n        frameTimes[frameIndex] = now;\n        if (frameCount &gt; frameTimes.length) {\n          int prev = (int) ((frameCount + 1) % frameTimes.length);\n          long delta = now - frameTimes[prev];\n          double fr = 1e9 / (delta / frameTimes.length);\n          fps = new BigDecimal(fr).setScale(2, RoundingMode.HALF_UP);\n        }\n        frameCount++;\n        // Skip first frame but record its timing\n        if (lastRun == 0) {\n          lastRun = now;\n          return;\n        }\n        // Animate\n        double elapsed = (now - lastRun) / 1e9;\n        // Reverse when hitting borders\n        if (hitsBorders())\n          speed = speed.multiply(-1.);\n        // Update position according to speed\n        oldPos = recPos;\n        recPos = recPos.add(speed.multiply(elapsed));\n        lastRun = now;\n        draw(oldPos, recPos, fps);\n      }\n    };\n\n    // Start\n    anim.start();\n  }\n\n  private void draw(Point2D oldPos, Point2D recPos, BigDecimal fps) {\n    GraphicsContext gfx = this.getGraphicsContext2D();\n    // Clear and draw border\n    gfx.setStroke(BLACK);\n    gfx.setLineWidth(1);\n    gfx.clearRect(0, 0, getWidth(), getHeight());\n    gfx.strokeRect(0, 0, getWidth(), getHeight());\n    // Draw moving shape\n    gfx.setFill(RED);\n    gfx.fillRect(recPos.getX(), recPos.getY(), RECT_DIMS.getX(), RECT_DIMS.getY());\n    // Draw FPS meter\n    String fpsText = fps == null ? &quot;FPS&quot; : fps.toString();\n    gfx.setTextAlign(TextAlignment.RIGHT);\n    gfx.setFill(GREEN);\n    gfx.setFont(Font.font(24));\n    gfx.setTextBaseline(VPos.TOP);\n    gfx.fillText(fpsText, getWidth() - 5, 5);\n  }\n\n  private boolean hitsBorders() {\n    Rectangle2D frame = new Rectangle2D(0, 0, getWidth(), getHeight());\n    Rectangle2D rect = new Rectangle2D(recPos.getX(), recPos.getY(), RECT_DIMS.getX(), RECT_DIMS.getY());\n    if (speed.getX() &lt; 0 &amp;&amp; rect.getMinX() &lt; frame.getMinX())\n      return true;\n    else if (speed.getX() &gt; 0 &amp;&amp; rect.getMaxX() &gt; frame.getMaxX())\n      return true;\n    else if (speed.getY() &lt; 0 &amp;&amp; rect.getMinY() &lt; frame.getMinY())\n      return true;\n    else if (speed.getY() &gt; 0 &amp;&amp; rect.getMaxY() &gt; frame.getMaxY())\n      return true;\n    return false;\n  }\n}\n</code></pre>\n<p><strong>Addition after testing same program in JavaScript</strong></p>\n<p>This JavaScript version runs smoothly on my devices</p>\n<p>See a video comparing both versions (JavaScript at the top, JavaFX at the bottom) here: <a href=\"https://www.ahpc-services.com/fileshare/JFX_test_pulses/20220315_150431_edit1.mp4\" rel=\"nofollow noreferrer\">https://www.ahpc-services.com/fileshare/JFX_test_pulses/20220315_150431_edit1.mp4</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const RED = 'red';\nconst GREEN = 'ForestGreen';\nconst BLACK = 'black';\n\nwindow.addEventListener('DOMContentLoaded', e =&gt; {\n  const animArea = document.querySelector('#anim-area');\n  const ctx = animArea.getContext('2d');\n  const cWidth = animArea.clientWidth;\n  const cHeight = animArea.clientHeight;\n  adjustCanvasSize();\n  window.addEventListener('resize', adjustCanvasSize);\n\n  const rect = {\n    x: 0,\n    y: 50,\n    width: 50,\n    height: 50\n  }\n  const speed = {\n    x: 500,\n    y: 0\n  }\n\n  const frameTiming = {\n    frameCount: 0,\n    frameTimes: Array(10),\n    lastRun: 0,\n  }\n\n  requestAnimationFrame(animate);\n\n  function animate() {\n    const now = Date.now();\n\n    requestAnimationFrame(animate);\n\n    //Count FPS\n    let fps;\n    const frameIndex = frameTiming.frameCount % frameTiming.frameTimes.length;\n    frameTiming.frameTimes[frameIndex] = now;\n    if (frameTiming.frameCount &gt; frameTiming.frameTimes.length) {\n      const prev = (frameTiming.frameCount + 1) % frameTiming.frameTimes.length;\n      const delta = now - frameTiming.frameTimes[prev];\n      fps = Math.round(100 * 1000 * frameTiming.frameTimes.length / delta) / 100;\n    }\n    frameTiming.frameCount++;\n    //Ignore first frame\n    if (frameTiming.lastRun == 0) {\n      frameTiming.lastRun = now;\n      return;\n    }\n    //Animate\n    const elapsed = (now - frameTiming.lastRun) / 1e3;\n    // Reverse when hitting borders\n    if (hitsBorders()) {\n      speed.x *= -1;\n      speed.y *= -1;\n    }\n    // Update position according to speed\n    const oldRect = Object.assign({}, rect);\n    rect.x += speed.x * elapsed;\n    rect.y += speed.y * elapsed;\n    frameTiming.lastRun = now;\n    draw();\n\n    function draw() {\n      // Clear and draw border\n      ctx.clearRect(0, 0, animArea.width, animArea.height);\n      ctx.strokeStyle = BLACK;\n      ctx.strokeRect(0, 0, animArea.width, animArea.height);\n      // Draw moving shape\n      ctx.fillStyle = RED;\n      ctx.fillRect(rect.x, rect.y, rect.width, rect.height);\n      // Draw FPS meter\n      const fpsText = fps == undefined ? \"FPS\" : `${fps}`;\n      ctx.textAlign = 'right';\n      ctx.fillStyle = GREEN;\n      ctx.font = \"24px sans-serif\";\n      ctx.textBaseline = 'top';\n      ctx.fillText(fpsText, animArea.width - 5, 5);\n    }\n\n    function hitsBorders() {\n      if (speed.x &lt; 0 &amp;&amp; rect.x &lt; 0)\n        return true;\n      else if (speed.x &gt; 0 &amp;&amp; rect.x + rect.width &gt; animArea.width)\n        return true;\n      else if (speed.y &lt; 0 &amp;&amp; rect.y &lt; 0)\n        return true;\n      else if (speed.y &gt; 0 &amp;&amp; rect.y + rect.height &gt; animArea.height)\n        return true;\n      return false;\n    }\n  }\n\n  function adjustCanvasSize() {\n    if (window.innerWidth &lt; cWidth + 30)\n      animArea.style.width = (window.innerWidth - 30) + \"px\";\n    else\n      animArea.style.width = \"\";\n    if (window.innerHeight &lt; cHeight + 30)\n      animArea.style.height = (window.innerHeight - 30) + \"px\";\n    else\n      animArea.style.height = \"\";\n    animArea.width = animArea.clientWidth;\n    animArea.height = animArea.clientHeight;\n  }\n\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n#anim-area {\n  width: 800px;\n  height: 800px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n  &lt;title&gt;Moving square&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div class=\"content-wrapper\"&gt;\n    &lt;canvas id=\"anim-area\"&gt;&lt;/canvas&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","file","intentfilter"],"comments":[{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":1,"creation_date":1646195452,"post_id":71317353,"comment_id":126060947,"body_markdown":"Try to read about Implicit intent, read [here](https://developer.android.com/guide/components/intents-filters)","body":"Try to read about Implicit intent, read <a href=\"https://developer.android.com/guide/components/intents-filters\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":2,"creation_date":1646199844,"post_id":71317353,"comment_id":126061669,"body_markdown":"if you think my answer will help futures devs then you can upvote it &#128316;","body":"if you think my answer will help futures devs then you can upvote it 🔼"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663837592,"creation_date":1646196498,"answer_id":71317584,"question_id":71317353,"body_markdown":"Go to the `Manifest` file and search for your `LAUNCHER` activity for example `SplashActivity`\r\n\r\nlike this \r\n\r\n      &lt;activity\r\n        android:name=&quot;.SplashActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n          //this below code help you to get image from other apps if shared\r\n         &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n\r\n    &lt;/activity&gt;\r\n\r\n\r\nAnd To get that data in your **SplashActivity** do this :\r\n\r\n        \r\n     Intent intent = getIntent();\r\n     String action = intent.getAction();\r\n     String type = intent.getType();\r\n     //this will check that you are getting only image type not text\r\n     boolean isImage = Intent.ACTION_SEND.equals(action) &amp;&amp; &quot;image/*&quot;.equals(type);\r\n\r\n    if(getIntent().getData() != null &amp;&amp; isImage){\r\n     // here you got the data and you can send this data or uri \r\n     // to your image editor activity\r\n     Uri imageUri = intent.getData();\r\n    }\r\n\r\n\r\nAnd you can send that image to the next activity by doing this\r\n\r\nyou can store the URI as a string \r\n\r\n    Intent nextIntent = new Intent(this, EditorActivity.java);\r\n    nextIntent.putExtra(&quot;imageUri&quot;, imageUri.toString());\r\n    startActivity(nextIntent)\r\n\r\nand then just convert the string back to URI like this in your (**EditorActivity**)\r\n\r\n    Uri myUri = Uri.parse(getIntent().getStringExtra(&quot;imageUri&quot;));\r\n\r\n\r\n","title":"Java How to launch myapp by opening an image?","body":"<p>Go to the <code>Manifest</code> file and search for your <code>LAUNCHER</code> activity for example <code>SplashActivity</code></p>\n<p>like this</p>\n<pre><code>  &lt;activity\n    android:name=&quot;.SplashActivity&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n      //this below code help you to get image from other apps if shared\n     &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n    &lt;/intent-filter&gt;\n\n&lt;/activity&gt;\n</code></pre>\n<p>And To get that data in your <strong>SplashActivity</strong> do this :</p>\n<pre><code> Intent intent = getIntent();\n String action = intent.getAction();\n String type = intent.getType();\n //this will check that you are getting only image type not text\n boolean isImage = Intent.ACTION_SEND.equals(action) &amp;&amp; &quot;image/*&quot;.equals(type);\n\nif(getIntent().getData() != null &amp;&amp; isImage){\n // here you got the data and you can send this data or uri \n // to your image editor activity\n Uri imageUri = intent.getData();\n}\n</code></pre>\n<p>And you can send that image to the next activity by doing this</p>\n<p>you can store the URI as a string</p>\n<pre><code>Intent nextIntent = new Intent(this, EditorActivity.java);\nnextIntent.putExtra(&quot;imageUri&quot;, imageUri.toString());\nstartActivity(nextIntent)\n</code></pre>\n<p>and then just convert the string back to URI like this in your (<strong>EditorActivity</strong>)</p>\n<pre><code>Uri myUri = Uri.parse(getIntent().getStringExtra(&quot;imageUri&quot;));\n</code></pre>\n"}],"owner":{"account_id":22618727,"reputation":31,"user_id":16797859,"display_name":"Erfan Games"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71317584,"answer_count":1,"score":2,"last_activity_date":1663837592,"creation_date":1646194095,"question_id":71317353,"body_markdown":"I&#39;m working on an image editor app and I want to have my app being in the &#39;Open With ...&#39; list when the user clicks on an image from file manager or ... (Like how &#39;Photo Editor&#39; app did) :\r\n\r\n[Click to see the example (Edited)][1]\r\n\r\nAnd the problem is that I don&#39;t know how to do such a thing.\r\n\r\nI have researched in youtube and I found that it&#39;s about the `intent filter` in the `Manifest.xml` file.\r\n\r\nI already tried adding some `&lt;action/&gt;` to my intent filter by random but it  didn&#39;t worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OQy1E.png","title":"Java How to launch myapp by opening an image?","body":"<p>I'm working on an image editor app and I want to have my app being in the 'Open With ...' list when the user clicks on an image from file manager or ... (Like how 'Photo Editor' app did) :</p>\n<p><a href=\"https://i.stack.imgur.com/OQy1E.png\" rel=\"nofollow noreferrer\">Click to see the example (Edited)</a></p>\n<p>And the problem is that I don't know how to do such a thing.</p>\n<p>I have researched in youtube and I found that it's about the <code>intent filter</code> in the <code>Manifest.xml</code> file.</p>\n<p>I already tried adding some <code>&lt;action/&gt;</code> to my intent filter by random but it  didn't worked.</p>\n"},{"tags":["java","android","build.gradle","androidx"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1663281049,"post_id":73737568,"comment_id":130208962,"body_markdown":"I am not familiar with AndroidX, but it is not at all uncommon for classes to be moved between components during version updates, and you&#39;re trying to mix 2.3.1 and 2.5.0. If updating both of those to a consistent version fixes the problem, I see no reason that&#39;s a botch.","body":"I am not familiar with AndroidX, but it is not at all uncommon for classes to be moved between components during version updates, and you&#39;re trying to mix 2.3.1 and 2.5.0. If updating both of those to a consistent version fixes the problem, I see no reason that&#39;s a botch."},{"owner":{"account_id":9115426,"reputation":25155,"user_id":6782707,"accept_rate":100,"display_name":"Edric"},"score":0,"creation_date":1663837347,"post_id":73737568,"comment_id":130334691,"body_markdown":"Does this answer your question? [Problem duplicate class androidx.lifecycle.viewmodel found in modules](https://stackoverflow.com/questions/69817925/problem-duplicate-class-androidx-lifecycle-viewmodel-found-in-modules)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69817925/problem-duplicate-class-androidx-lifecycle-viewmodel-found-in-modules\">Problem duplicate class androidx.lifecycle.viewmodel found in modules</a>"}],"owner":{"account_id":25929375,"reputation":69,"user_id":19650731,"display_name":"Eldestornillador"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663837356,"creation_date":1663276920,"question_id":73737568,"body_markdown":"In my build.gradle (app) I have added this dependency: `implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n`\r\n\r\nWhen I compile and build my project with the previous dependency these errors are shown: \r\n``` Execution failed for task :app:checkDebugDulicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class androidx.lifecycle.ViewModelLazy found in modules jetified-lifecycle-viewmodel-ktx-2.3.1-runtime (androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1) and lifecycle-viewmodel-2.5.0-runtime (androidx.lifecycle:lifecycle-viewmodel:2.5.0)\r\n     Duplicate class androidx.lifecycle.ViewTreeViewModelKt found in modules jetified-lifecycle-viewmodel-ktx-2.3.1-runtime (androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1) and lifecycle-viewmodel-2.5.0-runtime (androidx.lifecycle:lifecycle-viewmodel:2.5.0)\r\n```\r\n\r\n\r\nI have been searching for information to solve it and adding these both dependencies has solved it but I think that this solution is a botched solution and maybe it can be solved in a really better way.  \r\n```\r\ndef lifecycle_version = &quot;2.5.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot; \r\n\r\n```\r\n\r\nDoes it exist a better solution to solve it? Thanks for the help","title":"How to deal with &quot;Duplicate class error&quot; correctly","body":"<p>In my build.gradle (app) I have added this dependency: <code>implementation 'androidx.preference:preference:1.2.0' </code></p>\n<p>When I compile and build my project with the previous dependency these errors are shown:</p>\n<pre><code>&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class androidx.lifecycle.ViewModelLazy found in modules jetified-lifecycle-viewmodel-ktx-2.3.1-runtime (androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1) and lifecycle-viewmodel-2.5.0-runtime (androidx.lifecycle:lifecycle-viewmodel:2.5.0)\n     Duplicate class androidx.lifecycle.ViewTreeViewModelKt found in modules jetified-lifecycle-viewmodel-ktx-2.3.1-runtime (androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1) and lifecycle-viewmodel-2.5.0-runtime (androidx.lifecycle:lifecycle-viewmodel:2.5.0)\n</code></pre>\n<p>I have been searching for information to solve it and adding these both dependencies has solved it but I think that this solution is a botched solution and maybe it can be solved in a really better way.</p>\n<pre><code>def lifecycle_version = &quot;2.5.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot; \n\n</code></pre>\n<p>Does it exist a better solution to solve it? Thanks for the help</p>\n"},{"tags":["javascript","java","google-chrome","applet"],"comments":[{"owner":{"account_id":154905,"reputation":32061,"user_id":371184,"accept_rate":100,"display_name":"Mike Cluck"},"score":3,"creation_date":1465406838,"post_id":37709095,"comment_id":62892208,"body_markdown":"Web apps don&#39;t have access to the file system. You can&#39;t copy files from a browser-bound application with the possible exception of browser extensions.","body":"Web apps don&#39;t have access to the file system. You can&#39;t copy files from a browser-bound application with the possible exception of browser extensions."},{"owner":{"account_id":6905090,"reputation":485,"user_id":5303291,"accept_rate":8,"display_name":"Harry"},"score":0,"creation_date":1465407276,"post_id":37709095,"comment_id":62892436,"body_markdown":"I can add a applet and it will give me permission to read and write from usb drive, but applet is no longer supported in chrome. so any alternative to it? Can I use webstart?","body":"I can add a applet and it will give me permission to read and write from usb drive, but applet is no longer supported in chrome. so any alternative to it? Can I use webstart?"},{"owner":{"account_id":154905,"reputation":32061,"user_id":371184,"accept_rate":100,"display_name":"Mike Cluck"},"score":0,"creation_date":1465411675,"post_id":37709095,"comment_id":62894992,"body_markdown":"No, Web Start uses the same thing. In short, it&#39;s impossible to directly access the users machine from inside of Chrome anymore. You would need to have the user install an extension or some other external program.","body":"No, Web Start uses the same thing. In short, it&#39;s impossible to directly access the users machine from inside of Chrome anymore. You would need to have the user install an extension or some other external program."},{"owner":{"account_id":6905090,"reputation":485,"user_id":5303291,"accept_rate":8,"display_name":"Harry"},"score":0,"creation_date":1465628679,"post_id":37709095,"comment_id":62990781,"body_markdown":"As per the oracle, it still supports webstart. https://java.com/en/download/faq/chrome.xml. . This change does not affect Web Start applications, it only impacts applets. Is it not true?","body":"As per the oracle, it still supports webstart. <a href=\"https://java.com/en/download/faq/chrome.xml\" rel=\"nofollow noreferrer\">java.com/en/download/faq/chrome.xml</a>. . This change does not affect Web Start applications, it only impacts applets. Is it not true?"}],"answers":[{"tags":[],"owner":{"account_id":6265817,"reputation":3183,"user_id":4871598,"display_name":"KpTheConstructor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1465407529,"creation_date":1465407529,"answer_id":37709294,"question_id":37709095,"body_markdown":"I&#39;d recommend using node.js , its cross platform and can access usb ports from web browser..\r\n\r\n**Usb Library:** https://www.npmjs.com/package/usb\r\n\r\n**Proof :** https://stackoverflow.com/questions/22695614/how-to-send-data-to-usb-device-in-node-js-using-libusb\r\n\r\nHope this helps","title":"How to access USB device in chrome?","body":"<p>I'd recommend using node.js , its cross platform and can access usb ports from web browser..</p>\n\n<p><strong>Usb Library:</strong> <a href=\"https://www.npmjs.com/package/usb\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/usb</a></p>\n\n<p><strong>Proof :</strong> <a href=\"https://stackoverflow.com/questions/22695614/how-to-send-data-to-usb-device-in-node-js-using-libusb\">How to send data to USB device in node.js using libusb</a></p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":390840,"reputation":2011,"user_id":751151,"display_name":"Colin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547601319,"creation_date":1547601319,"answer_id":54209126,"question_id":37709095,"body_markdown":" Chrome 61+ has an [implementation][1] of the [WebUSB API][2]\r\n\r\nThis **would not** let you issue a command to the OS/File system to, for example: \r\n\r\ncopy `file://some_file_location/myfile.txt` to  `file://USB_DRIVE/some_folder/myfile.txt`\r\n\r\nChrome would need to read the files and write to the device directly. In other words the browser would be copying the files by *reading them* (see below) and then writing to the USB device. This would probably be quite slow and unfeasible for large files.\r\n\r\nYour options to read local files are:\r\n\r\n - To run chrome with the `--allow-file-access-from-files` flag. This is a security issue/risk, and users would need to visit your site/application with this already on.\r\n - Use the [File][3] and [FileReader][4], or the [non-standard FileSystem][5] APIs along with a `input type=&quot;file&quot;` or drag &amp; drop\r\n\r\nNeither of these may be applicable to your problem/solution.\r\n\r\n  [1]: https://developers.google.com/web/updates/2016/03/access-usb-devices-on-the-web\r\n  [2]: https://wicg.github.io/webusb/\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/API/File\r\n  [4]: https://developer.mozilla.org/en-US/docs/Web/API/FileReader\r\n  [5]: https://developer.mozilla.org/en-US/docs/Web/API/File_and_Directory_Entries_API#Browser_compatibility","title":"How to access USB device in chrome?","body":"<p>Chrome 61+ has an <a href=\"https://developers.google.com/web/updates/2016/03/access-usb-devices-on-the-web\" rel=\"nofollow noreferrer\">implementation</a> of the <a href=\"https://wicg.github.io/webusb/\" rel=\"nofollow noreferrer\">WebUSB API</a></p>\n\n<p>This <strong>would not</strong> let you issue a command to the OS/File system to, for example: </p>\n\n<p>copy <code>file://some_file_location/myfile.txt</code> to  <code>file://USB_DRIVE/some_folder/myfile.txt</code></p>\n\n<p>Chrome would need to read the files and write to the device directly. In other words the browser would be copying the files by <em>reading them</em> (see below) and then writing to the USB device. This would probably be quite slow and unfeasible for large files.</p>\n\n<p>Your options to read local files are:</p>\n\n<ul>\n<li>To run chrome with the <code>--allow-file-access-from-files</code> flag. This is a security issue/risk, and users would need to visit your site/application with this already on.</li>\n<li>Use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/File\" rel=\"nofollow noreferrer\">File</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader\" rel=\"nofollow noreferrer\">FileReader</a>, or the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/File_and_Directory_Entries_API#Browser_compatibility\" rel=\"nofollow noreferrer\">non-standard FileSystem</a> APIs along with a <code>input type=\"file\"</code> or drag &amp; drop</li>\n</ul>\n\n<p>Neither of these may be applicable to your problem/solution.</p>\n"}],"owner":{"account_id":6905090,"reputation":485,"user_id":5303291,"accept_rate":8,"display_name":"Harry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663837340,"creation_date":1465406792,"question_id":37709095,"body_markdown":"I need a web application which is used to copy the files from usb drive. I can write a java applet to copy the files from usb drive, but chrome will not support applet any more. Could you please suggest any alternative to this?\r\nI need a web application not a chrome app.","title":"How to access USB device in chrome?","body":"<p>I need a web application which is used to copy the files from usb drive. I can write a java applet to copy the files from usb drive, but chrome will not support applet any more. Could you please suggest any alternative to this?\nI need a web application not a chrome app.</p>\n"},{"tags":["java","multithreading","stampedlock"],"answers":[{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663837024,"creation_date":1662603220,"answer_id":73643096,"question_id":73643095,"body_markdown":"Here is my personal attempt at solving this problem. I hope you find it helpful.\r\n\r\nReentrantStampedLock:\r\n\r\n    import WrappedCheckedException.CallableWithoutReturnValue;\r\n    \r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.locks.StampedLock;\r\n    \r\n    /**\r\n     * A reentrant implementation of a StampedLock that can be used with try-with-resources.\r\n     */\r\n    public final class ReentrantStampedLock\r\n    {\r\n    \t// Excellent overview of StampedLock:\r\n    \t// https://www.javaspecialists.eu/talks/pdfs/2014%20JavaLand%20in%20Germany%20-%20%22Java%208%20From%20Smile%20To%20Tears%20-%20Emotional%20StampedLock%22%20by%20Heinz%20Kabutz.pdf\r\n    \tprivate final StampedLock lock = new StampedLock();\r\n    \t/**\r\n    \t * The stamp associated with the current thread. {@code null} if none.\r\n    \t */\r\n    \tprivate final ThreadLocal&lt;Long&gt; stamp = new ThreadLocal&lt;&gt;();\r\n    \r\n    \t/**\r\n    \t * Creates a new lock.\r\n    \t */\r\n    \tpublic ReentrantStampedLock()\r\n    \t{\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @return true if the caller is holding an optimistic read lock\r\n    \t */\r\n    \tpublic boolean isOptimisticRead()\r\n    \t{\r\n    \t\tLong existingStamp = this.stamp.get();\r\n    \t\treturn existingStamp != null &amp;&amp; StampedLock.isOptimisticReadStamp(existingStamp);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Acquires an optimistic read-lock and runs a task. If an optimistic read-lock cannot be acquired,\r\n    \t * invokes {@link #read(Callable) readLock(task)} instead.\r\n    \t * &lt;p&gt;\r\n    \t * {@code task} is guaranteed to be invoked &lt;i&gt;at least&lt;/i&gt; once, but must be safe to invoke multiple\r\n    \t * times as well. The return value must correspond to a local copy of the fields being read as there is\r\n    \t * no guarantee that state won&#39;t change between the time the lock is released and the time that the value\r\n    \t * is returned.\r\n    \t *\r\n    \t * @param &lt;V&gt;  the type of value returned by the task\r\n    \t * @param task the task to run while holding the lock\r\n    \t * @return the value returned by the task\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if any checked exceptions are thrown\r\n    \t */\r\n    \tpublic &lt;V&gt; V optimisticRead(Callable&lt;V&gt; task)\r\n    \t{\r\n    \t\tLong existingStamp = this.stamp.get();\r\n    \t\tif (existingStamp != null)\r\n    \t\t{\r\n    \t\t\tif (StampedLock.isOptimisticReadStamp(existingStamp))\r\n    \t\t\t\treturn runWithOptimisticRead(task, existingStamp);\r\n    \t\t\tif (StampedLock.isLockStamp(existingStamp))\r\n    \t\t\t\treturn runTask(task);\r\n    \t\t}\r\n    \t\tlong stamp = lock.tryOptimisticRead();\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tthis.stamp.set(stamp);\r\n    \t\t\treturn runWithOptimisticRead(task, stamp);\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\t// There is nothing to unlock for optimistic reads\r\n    \t\t\tthis.stamp.set(existingStamp);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Acquires an optimistic read-lock and runs a task. If an optimistic read-lock cannot be acquired,\r\n    \t * invokes {@link #read(CallableWithoutReturnValue) readLock(task)} instead.\r\n    \t * &lt;p&gt;\r\n    \t * {@code task} is guaranteed to be invoked &lt;i&gt;at least&lt;/i&gt; once, but must be safe to invoke multiple\r\n    \t * times as well. The return value must correspond to a local copy of the fields being read as there is\r\n    \t * no guarantee that state won&#39;t change between the time the lock is released and the time that the value\r\n    \t * is returned.\r\n    \t *\r\n    \t * @param task the task to run while holding the lock\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if any checked exceptions are thrown\r\n    \t */\r\n    \tpublic void optimisticRead(CallableWithoutReturnValue task)\r\n    \t{\r\n    \t\toptimisticRead(() -&gt;\r\n    \t\t{\r\n    \t\t\ttask.run();\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Acquires an optimistic read-lock and runs a task. If an optimistic read-lock cannot be acquired,\r\n    \t * invokes {@link #read(Callable) readLock(task)} instead.\r\n    \t * &lt;p&gt;\r\n    \t * {@code task} is guaranteed to be invoked &lt;i&gt;at least&lt;/i&gt; once, but must be safe to invoke multiple\r\n    \t * times as well. The return value must correspond to a local copy of the fields being read as there is\r\n    \t * no guarantee that state won&#39;t change between the time the lock is released and the time that the value\r\n    \t * is returned.\r\n    \t *\r\n    \t * @param &lt;V&gt;   the type of value returned by the task\r\n    \t * @param task  the task to run while holding the lock\r\n    \t * @param stamp the optimistic read-lock to use\r\n    \t * @return the value returned by the task\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if any checked exceptions are thrown\r\n    \t */\r\n    \tprivate &lt;V&gt; V runWithOptimisticRead(Callable&lt;V&gt; task, long stamp)\r\n    \t{\r\n    \t\tif (stamp != 0)\r\n    \t\t{\r\n    \t\t\tV result = runTask(task);\r\n    \t\t\tif (lock.validate(stamp))\r\n    \t\t\t\treturn result;\r\n    \t\t}\r\n    \t\treturn read(task);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Acquires a read-lock, unless the caller already holds a read or write-lock. If the caller already\r\n    \t * holds a lock, no lock is acquired or released.\r\n    \t *\r\n    \t * @return a read-lock as a resource\r\n    \t */\r\n    \tpublic CloseableLock read()\r\n    \t{\r\n    \t\tLong existingStamp = this.stamp.get();\r\n    \t\tif (existingStamp != null &amp;&amp; StampedLock.isLockStamp(existingStamp))\r\n    \t\t{\r\n    \t\t\t// Pre-existing read-lock or write-lock\r\n    \t\t\treturn ReentrantStampedLock::doNotUnlock;\r\n    \t\t}\r\n    \t\t// No lock, or optimistic read-lock\r\n    \t\tlong stamp = lock.readLock();\r\n    \t\tthis.stamp.set(stamp);\r\n    \t\treturn () -&gt;\r\n    \t\t{\r\n    \t\t\t// Must re-read stamp value from ThreadLocal because tasks that invoke writeLock() may modify the\r\n    \t\t\t// stamp value\r\n    \t\t\tlock.unlockRead(this.stamp.get());\r\n    \t\t\tthis.stamp.set(existingStamp);\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Runs a task while holding a read-lock. If the caller already holds a read or write-lock, no lock is\r\n    \t * acquired or released.\r\n    \t *\r\n    \t * @param &lt;V&gt;  the type of value returned by the task\r\n    \t * @param task the task to run while holding the lock\r\n    \t * @return the value returned by the task\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if {@code task} throws a checked exception\r\n    \t */\r\n    \tpublic &lt;V&gt; V read(Callable&lt;V&gt; task)\r\n    \t{\r\n    \t\ttry (CloseableLock ignored = read())\r\n    \t\t{\r\n    \t\t\treturn runTask(task);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Runs a task while holding a read-lock. If the caller already holds a read or write-lock, no lock is\r\n    \t * acquired or released.\r\n    \t *\r\n    \t * @param task the task to run while holding the lock\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if {@code task} throws a checked exception\r\n    \t */\r\n    \tpublic void read(CallableWithoutReturnValue task)\r\n    \t{\r\n    \t\tread(() -&gt;\r\n    \t\t{\r\n    \t\t\ttask.run();\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Acquires a write-lock, unless the caller already holds one. If the caller already holds a lock, no\r\n    \t * lock is acquired or released.\r\n    \t * &lt;p&gt;\r\n    \t * If the caller holds a read-lock, an attempt is made to convert it into a write-lock. Conversions are not\r\n    \t * guaranteed to be atomic; consequently, there is no guarantee that state won&#39;t change between the time\r\n    \t * the read-lock is released and the write-lock is acquired. Callers must repeat any state checks to\r\n    \t * ensure that they still hold.\r\n    \t *\r\n    \t * @return a write-lock as a resource\r\n    \t */\r\n    \tpublic CloseableLock write()\r\n    \t{\r\n    \t\tLong existingStamp = this.stamp.get();\r\n    \t\tif (existingStamp == null)\r\n    \t\t\treturn noLockToWriteLock(null);\r\n    \t\tif (StampedLock.isWriteLockStamp(existingStamp))\r\n    \t\t\treturn ReentrantStampedLock::doNotUnlock;\r\n    \t\tif (!StampedLock.isReadLockStamp(existingStamp))\r\n    \t\t{\r\n    \t\t\t// optimistic read-lock\r\n    \t\t\treturn noLockToWriteLock(existingStamp);\r\n    \t\t}\r\n    \t\t// read-lock\r\n    \t\tlong writeLock = lock.tryConvertToWriteLock(existingStamp);\r\n    \t\tif (writeLock == 0)\r\n    \t\t{\r\n    \t\t\tlock.unlockRead(existingStamp);\r\n    \t\t\twriteLock = lock.writeLock();\r\n    \t\t}\r\n    \t\tthis.stamp.set(writeLock);\r\n    \t\tlong finalWriteLock = writeLock;\r\n    \t\treturn () -&gt;\r\n    \t\t{\r\n    \t\t\t// The returned stamp value is guaranteed to be a read-lock, but the stamp value may change.\r\n    \t\t\tlong readStamp = lock.tryConvertToReadLock(finalWriteLock);\r\n    \t\t\tassert (readStamp != 0);\r\n    \t\t\tthis.stamp.set(readStamp);\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Acquires a write-lock with no pre-existing lock.\r\n    \t *\r\n    \t * @param existingStamp the existing stamp\r\n    \t * @return a write-lock as a resource\r\n    \t */\r\n    \tprivate CloseableLock noLockToWriteLock(Long existingStamp)\r\n    \t{\r\n    \t\tthis.stamp.set(lock.writeLock());\r\n    \t\treturn () -&gt;\r\n    \t\t{\r\n    \t\t\tlock.unlock(this.stamp.get());\r\n    \t\t\tthis.stamp.set(existingStamp);\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Runs a task while holding a write-lock. If the caller already holds a lock, no lock is acquired or\r\n    \t * released.\r\n    \t * &lt;p&gt;\r\n    \t * If the caller holds a read-lock, an attempt is made to convert it into a write-lock. Conversions are not\r\n    \t * guaranteed to be atomic; consequently, there is no guarantee that state won&#39;t change between the time\r\n    \t * the read-lock is released and the write-lock is acquired. Callers must repeat any state checks to\r\n    \t * ensure that they still hold.\r\n    \t *\r\n    \t * @param &lt;V&gt;  the type of value returned by the task\r\n    \t * @param task the task to run while holding the lock\r\n    \t * @return the value returned by the task\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if {@code task} throws a checked exception\r\n    \t */\r\n    \tpublic &lt;V&gt; V write(Callable&lt;V&gt; task)\r\n    \t{\r\n    \t\ttry (CloseableLock ignored = write())\r\n    \t\t{\r\n    \t\t\treturn runTask(task);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Runs a task while holding a write-lock. If the caller already holds a lock, no lock is acquired or\r\n    \t * released.\r\n    \t * &lt;p&gt;\r\n    \t * If the caller holds a read-lock, an attempt is made to convert it into a write-lock. Conversions are not\r\n    \t * guaranteed to be atomic; consequently, there is no guarantee that state won&#39;t change between the time\r\n    \t * the read-lock is released and the write-lock is acquired. Callers must repeat any state checks to\r\n    \t * ensure that they still hold.\r\n    \t *\r\n    \t * @param task the task to run while holding the lock\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if {@code task} throws a checked exception\r\n    \t */\r\n    \tpublic void write(CallableWithoutReturnValue task)\r\n    \t{\r\n    \t\twrite(() -&gt;\r\n    \t\t{\r\n    \t\t\ttask.run();\r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Runs a task.\r\n    \t *\r\n    \t * @param &lt;V&gt;  the type of value returned by the task\r\n    \t * @param task the task to run while holding the lock\r\n    \t * @return the value returned by the task\r\n    \t * @throws NullPointerException    if {@code task} is null\r\n    \t * @throws WrappedCheckedException if {@code task} throws a checked exception\r\n    \t */\r\n    \tprivate &lt;V&gt; V runTask(Callable&lt;V&gt; task)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\treturn task.call();\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\tthrow WrappedCheckedException.wrap(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void doNotUnlock()\r\n    \t{\r\n    \t}\r\n    }\r\n\r\nWrappedCheckedException:\r\n\r\n    import java.io.Serial;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    /**\r\n     * A runtime exception dedicated to wrapping checked exceptions.\r\n     */\r\n    public class WrappedCheckedException extends RuntimeException\r\n    {\r\n    \t@Serial\r\n    \tprivate static final long serialVersionUID = 0L;\r\n    \r\n    \t/**\r\n    \t * Wraps an exception.\r\n    \t *\r\n    \t * @param message the detail message\r\n    \t * @param cause   the exception to wrap\r\n    \t * @throws NullPointerException if any of the arguments are null\r\n    \t */\r\n    \tprivate WrappedCheckedException(String message, Throwable cause)\r\n    \t{\r\n    \t\tsuper(message, cause);\r\n    \t\tif (message == null)\r\n    \t\t\tthrow new NullPointerException(&quot;message may not be null&quot;);\r\n    \t\tif (cause == null)\r\n    \t\t\tthrow new NullPointerException(&quot;cause may not be null&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Wraps an exception.\r\n    \t *\r\n    \t * @param cause the exception to wrap\r\n    \t * @throws NullPointerException if {@code cause} is null\r\n    \t */\r\n    \tprivate WrappedCheckedException(Throwable cause)\r\n    \t{\r\n    \t\tsuper(cause);\r\n    \t\tif (cause == null)\r\n    \t\t\tthrow new NullPointerException(&quot;cause may not be null&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Wraps any checked exceptions thrown by a callable.\r\n    \t *\r\n    \t * @param callable the task to execute\r\n    \t * @param &lt;V&gt;      the type of value returned by {@code callable}\r\n    \t * @return the value returned by {@code callable}\r\n    \t * @throws NullPointerException if {@code callable} is null\r\n    \t */\r\n    \tpublic static &lt;V&gt; V wrap(Callable&lt;V&gt; callable)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\treturn callable.call();\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\tthrow WrappedCheckedException.wrap(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Wraps any checked exceptions thrown by a task.\r\n    \t *\r\n    \t * @param callableWithoutReturnValue the task to execute\r\n    \t * @throws NullPointerException if {@code task} is null\r\n    \t */\r\n    \tpublic static void wrap(CallableWithoutReturnValue callableWithoutReturnValue)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tcallableWithoutReturnValue.run();\r\n    \t\t}\r\n    \t\tcatch (RuntimeException e)\r\n    \t\t{\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\tthrow WrappedCheckedException.wrap(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Wraps an exception, unless it is a {@code RuntimeException}.\r\n    \t *\r\n    \t * @param t the exception to wrap\r\n    \t * @return the updated exception\r\n    \t * @throws NullPointerException if {@code t} is null\r\n    \t */\r\n    \tpublic static RuntimeException wrap(Throwable t)\r\n    \t{\r\n    \t\tif (t instanceof RuntimeException re)\r\n    \t\t\treturn re;\r\n    \t\tif (t instanceof ExecutionException ee)\r\n    \t\t\treturn wrap(ee.getCause());\r\n    \t\treturn new WrappedCheckedException(t);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * A {@link Callable} without a return value. {@link Runnable} cannot be used because it does not throw\r\n    \t * checked exceptions.\r\n    \t */\r\n    \t@FunctionalInterface\r\n    \tpublic interface CallableWithoutReturnValue\r\n    \t{\r\n    \t\t/**\r\n    \t\t * Runs the task.\r\n    \t\t *\r\n    \t\t * @throws Exception if unable to compute a result\r\n    \t\t */\r\n    \t\tvoid run() throws Exception;\r\n    \t}\r\n    }\r\n\r\nSample usage:\r\n\r\n    ReentrantStampedLock lock = new ReentrantStampedLock();\r\n\r\n    // try-with-resource syntax\r\n    try (CloseableLock ignored = lock.readLock())\r\n    {\r\n      doSomething();\r\n      // read-lock automatically released\r\n    }\r\n\r\n    // Lambda syntax\r\n    lock.optimisticReadLock(() -&gt; doSomething());\r\n\r\n\r\n","title":"Reentrant StampedLock","body":"<p>Here is my personal attempt at solving this problem. I hope you find it helpful.</p>\n<p>ReentrantStampedLock:</p>\n<pre><code>import WrappedCheckedException.CallableWithoutReturnValue;\n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.locks.StampedLock;\n\n/**\n * A reentrant implementation of a StampedLock that can be used with try-with-resources.\n */\npublic final class ReentrantStampedLock\n{\n    // Excellent overview of StampedLock:\n    // https://www.javaspecialists.eu/talks/pdfs/2014%20JavaLand%20in%20Germany%20-%20%22Java%208%20From%20Smile%20To%20Tears%20-%20Emotional%20StampedLock%22%20by%20Heinz%20Kabutz.pdf\n    private final StampedLock lock = new StampedLock();\n    /**\n     * The stamp associated with the current thread. {@code null} if none.\n     */\n    private final ThreadLocal&lt;Long&gt; stamp = new ThreadLocal&lt;&gt;();\n\n    /**\n     * Creates a new lock.\n     */\n    public ReentrantStampedLock()\n    {\n    }\n\n    /**\n     * @return true if the caller is holding an optimistic read lock\n     */\n    public boolean isOptimisticRead()\n    {\n        Long existingStamp = this.stamp.get();\n        return existingStamp != null &amp;&amp; StampedLock.isOptimisticReadStamp(existingStamp);\n    }\n\n    /**\n     * Acquires an optimistic read-lock and runs a task. If an optimistic read-lock cannot be acquired,\n     * invokes {@link #read(Callable) readLock(task)} instead.\n     * &lt;p&gt;\n     * {@code task} is guaranteed to be invoked &lt;i&gt;at least&lt;/i&gt; once, but must be safe to invoke multiple\n     * times as well. The return value must correspond to a local copy of the fields being read as there is\n     * no guarantee that state won't change between the time the lock is released and the time that the value\n     * is returned.\n     *\n     * @param &lt;V&gt;  the type of value returned by the task\n     * @param task the task to run while holding the lock\n     * @return the value returned by the task\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if any checked exceptions are thrown\n     */\n    public &lt;V&gt; V optimisticRead(Callable&lt;V&gt; task)\n    {\n        Long existingStamp = this.stamp.get();\n        if (existingStamp != null)\n        {\n            if (StampedLock.isOptimisticReadStamp(existingStamp))\n                return runWithOptimisticRead(task, existingStamp);\n            if (StampedLock.isLockStamp(existingStamp))\n                return runTask(task);\n        }\n        long stamp = lock.tryOptimisticRead();\n        try\n        {\n            this.stamp.set(stamp);\n            return runWithOptimisticRead(task, stamp);\n        }\n        finally\n        {\n            // There is nothing to unlock for optimistic reads\n            this.stamp.set(existingStamp);\n        }\n    }\n\n    /**\n     * Acquires an optimistic read-lock and runs a task. If an optimistic read-lock cannot be acquired,\n     * invokes {@link #read(CallableWithoutReturnValue) readLock(task)} instead.\n     * &lt;p&gt;\n     * {@code task} is guaranteed to be invoked &lt;i&gt;at least&lt;/i&gt; once, but must be safe to invoke multiple\n     * times as well. The return value must correspond to a local copy of the fields being read as there is\n     * no guarantee that state won't change between the time the lock is released and the time that the value\n     * is returned.\n     *\n     * @param task the task to run while holding the lock\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if any checked exceptions are thrown\n     */\n    public void optimisticRead(CallableWithoutReturnValue task)\n    {\n        optimisticRead(() -&gt;\n        {\n            task.run();\n            return null;\n        });\n    }\n\n    /**\n     * Acquires an optimistic read-lock and runs a task. If an optimistic read-lock cannot be acquired,\n     * invokes {@link #read(Callable) readLock(task)} instead.\n     * &lt;p&gt;\n     * {@code task} is guaranteed to be invoked &lt;i&gt;at least&lt;/i&gt; once, but must be safe to invoke multiple\n     * times as well. The return value must correspond to a local copy of the fields being read as there is\n     * no guarantee that state won't change between the time the lock is released and the time that the value\n     * is returned.\n     *\n     * @param &lt;V&gt;   the type of value returned by the task\n     * @param task  the task to run while holding the lock\n     * @param stamp the optimistic read-lock to use\n     * @return the value returned by the task\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if any checked exceptions are thrown\n     */\n    private &lt;V&gt; V runWithOptimisticRead(Callable&lt;V&gt; task, long stamp)\n    {\n        if (stamp != 0)\n        {\n            V result = runTask(task);\n            if (lock.validate(stamp))\n                return result;\n        }\n        return read(task);\n    }\n\n    /**\n     * Acquires a read-lock, unless the caller already holds a read or write-lock. If the caller already\n     * holds a lock, no lock is acquired or released.\n     *\n     * @return a read-lock as a resource\n     */\n    public CloseableLock read()\n    {\n        Long existingStamp = this.stamp.get();\n        if (existingStamp != null &amp;&amp; StampedLock.isLockStamp(existingStamp))\n        {\n            // Pre-existing read-lock or write-lock\n            return ReentrantStampedLock::doNotUnlock;\n        }\n        // No lock, or optimistic read-lock\n        long stamp = lock.readLock();\n        this.stamp.set(stamp);\n        return () -&gt;\n        {\n            // Must re-read stamp value from ThreadLocal because tasks that invoke writeLock() may modify the\n            // stamp value\n            lock.unlockRead(this.stamp.get());\n            this.stamp.set(existingStamp);\n        };\n    }\n\n    /**\n     * Runs a task while holding a read-lock. If the caller already holds a read or write-lock, no lock is\n     * acquired or released.\n     *\n     * @param &lt;V&gt;  the type of value returned by the task\n     * @param task the task to run while holding the lock\n     * @return the value returned by the task\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if {@code task} throws a checked exception\n     */\n    public &lt;V&gt; V read(Callable&lt;V&gt; task)\n    {\n        try (CloseableLock ignored = read())\n        {\n            return runTask(task);\n        }\n    }\n\n    /**\n     * Runs a task while holding a read-lock. If the caller already holds a read or write-lock, no lock is\n     * acquired or released.\n     *\n     * @param task the task to run while holding the lock\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if {@code task} throws a checked exception\n     */\n    public void read(CallableWithoutReturnValue task)\n    {\n        read(() -&gt;\n        {\n            task.run();\n            return null;\n        });\n    }\n\n    /**\n     * Acquires a write-lock, unless the caller already holds one. If the caller already holds a lock, no\n     * lock is acquired or released.\n     * &lt;p&gt;\n     * If the caller holds a read-lock, an attempt is made to convert it into a write-lock. Conversions are not\n     * guaranteed to be atomic; consequently, there is no guarantee that state won't change between the time\n     * the read-lock is released and the write-lock is acquired. Callers must repeat any state checks to\n     * ensure that they still hold.\n     *\n     * @return a write-lock as a resource\n     */\n    public CloseableLock write()\n    {\n        Long existingStamp = this.stamp.get();\n        if (existingStamp == null)\n            return noLockToWriteLock(null);\n        if (StampedLock.isWriteLockStamp(existingStamp))\n            return ReentrantStampedLock::doNotUnlock;\n        if (!StampedLock.isReadLockStamp(existingStamp))\n        {\n            // optimistic read-lock\n            return noLockToWriteLock(existingStamp);\n        }\n        // read-lock\n        long writeLock = lock.tryConvertToWriteLock(existingStamp);\n        if (writeLock == 0)\n        {\n            lock.unlockRead(existingStamp);\n            writeLock = lock.writeLock();\n        }\n        this.stamp.set(writeLock);\n        long finalWriteLock = writeLock;\n        return () -&gt;\n        {\n            // The returned stamp value is guaranteed to be a read-lock, but the stamp value may change.\n            long readStamp = lock.tryConvertToReadLock(finalWriteLock);\n            assert (readStamp != 0);\n            this.stamp.set(readStamp);\n        };\n    }\n\n    /**\n     * Acquires a write-lock with no pre-existing lock.\n     *\n     * @param existingStamp the existing stamp\n     * @return a write-lock as a resource\n     */\n    private CloseableLock noLockToWriteLock(Long existingStamp)\n    {\n        this.stamp.set(lock.writeLock());\n        return () -&gt;\n        {\n            lock.unlock(this.stamp.get());\n            this.stamp.set(existingStamp);\n        };\n    }\n\n    /**\n     * Runs a task while holding a write-lock. If the caller already holds a lock, no lock is acquired or\n     * released.\n     * &lt;p&gt;\n     * If the caller holds a read-lock, an attempt is made to convert it into a write-lock. Conversions are not\n     * guaranteed to be atomic; consequently, there is no guarantee that state won't change between the time\n     * the read-lock is released and the write-lock is acquired. Callers must repeat any state checks to\n     * ensure that they still hold.\n     *\n     * @param &lt;V&gt;  the type of value returned by the task\n     * @param task the task to run while holding the lock\n     * @return the value returned by the task\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if {@code task} throws a checked exception\n     */\n    public &lt;V&gt; V write(Callable&lt;V&gt; task)\n    {\n        try (CloseableLock ignored = write())\n        {\n            return runTask(task);\n        }\n    }\n\n    /**\n     * Runs a task while holding a write-lock. If the caller already holds a lock, no lock is acquired or\n     * released.\n     * &lt;p&gt;\n     * If the caller holds a read-lock, an attempt is made to convert it into a write-lock. Conversions are not\n     * guaranteed to be atomic; consequently, there is no guarantee that state won't change between the time\n     * the read-lock is released and the write-lock is acquired. Callers must repeat any state checks to\n     * ensure that they still hold.\n     *\n     * @param task the task to run while holding the lock\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if {@code task} throws a checked exception\n     */\n    public void write(CallableWithoutReturnValue task)\n    {\n        write(() -&gt;\n        {\n            task.run();\n            return null;\n        });\n    }\n\n    /**\n     * Runs a task.\n     *\n     * @param &lt;V&gt;  the type of value returned by the task\n     * @param task the task to run while holding the lock\n     * @return the value returned by the task\n     * @throws NullPointerException    if {@code task} is null\n     * @throws WrappedCheckedException if {@code task} throws a checked exception\n     */\n    private &lt;V&gt; V runTask(Callable&lt;V&gt; task)\n    {\n        try\n        {\n            return task.call();\n        }\n        catch (Exception e)\n        {\n            throw WrappedCheckedException.wrap(e);\n        }\n    }\n\n    private static void doNotUnlock()\n    {\n    }\n}\n</code></pre>\n<p>WrappedCheckedException:</p>\n<pre><code>import java.io.Serial;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * A runtime exception dedicated to wrapping checked exceptions.\n */\npublic class WrappedCheckedException extends RuntimeException\n{\n    @Serial\n    private static final long serialVersionUID = 0L;\n\n    /**\n     * Wraps an exception.\n     *\n     * @param message the detail message\n     * @param cause   the exception to wrap\n     * @throws NullPointerException if any of the arguments are null\n     */\n    private WrappedCheckedException(String message, Throwable cause)\n    {\n        super(message, cause);\n        if (message == null)\n            throw new NullPointerException(&quot;message may not be null&quot;);\n        if (cause == null)\n            throw new NullPointerException(&quot;cause may not be null&quot;);\n    }\n\n    /**\n     * Wraps an exception.\n     *\n     * @param cause the exception to wrap\n     * @throws NullPointerException if {@code cause} is null\n     */\n    private WrappedCheckedException(Throwable cause)\n    {\n        super(cause);\n        if (cause == null)\n            throw new NullPointerException(&quot;cause may not be null&quot;);\n    }\n\n    /**\n     * Wraps any checked exceptions thrown by a callable.\n     *\n     * @param callable the task to execute\n     * @param &lt;V&gt;      the type of value returned by {@code callable}\n     * @return the value returned by {@code callable}\n     * @throws NullPointerException if {@code callable} is null\n     */\n    public static &lt;V&gt; V wrap(Callable&lt;V&gt; callable)\n    {\n        try\n        {\n            return callable.call();\n        }\n        catch (Exception e)\n        {\n            throw WrappedCheckedException.wrap(e);\n        }\n    }\n\n    /**\n     * Wraps any checked exceptions thrown by a task.\n     *\n     * @param callableWithoutReturnValue the task to execute\n     * @throws NullPointerException if {@code task} is null\n     */\n    public static void wrap(CallableWithoutReturnValue callableWithoutReturnValue)\n    {\n        try\n        {\n            callableWithoutReturnValue.run();\n        }\n        catch (RuntimeException e)\n        {\n            throw e;\n        }\n        catch (Exception e)\n        {\n            throw WrappedCheckedException.wrap(e);\n        }\n    }\n\n    /**\n     * Wraps an exception, unless it is a {@code RuntimeException}.\n     *\n     * @param t the exception to wrap\n     * @return the updated exception\n     * @throws NullPointerException if {@code t} is null\n     */\n    public static RuntimeException wrap(Throwable t)\n    {\n        if (t instanceof RuntimeException re)\n            return re;\n        if (t instanceof ExecutionException ee)\n            return wrap(ee.getCause());\n        return new WrappedCheckedException(t);\n    }\n\n    /**\n     * A {@link Callable} without a return value. {@link Runnable} cannot be used because it does not throw\n     * checked exceptions.\n     */\n    @FunctionalInterface\n    public interface CallableWithoutReturnValue\n    {\n        /**\n         * Runs the task.\n         *\n         * @throws Exception if unable to compute a result\n         */\n        void run() throws Exception;\n    }\n}\n</code></pre>\n<p>Sample usage:</p>\n<pre><code>ReentrantStampedLock lock = new ReentrantStampedLock();\n\n// try-with-resource syntax\ntry (CloseableLock ignored = lock.readLock())\n{\n  doSomething();\n  // read-lock automatically released\n}\n\n// Lambda syntax\nlock.optimisticReadLock(() -&gt; doSomething());\n</code></pre>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663837024,"creation_date":1662603220,"question_id":73643095,"body_markdown":"Is there a reentrant implementation of `StampedLock`?\r\n\r\nSpecifically, I want the implementation to be smart enough to use an existing write-lock when I invoke a method that expects (and tries to acquire) a read-lock.\r\n\r\nWhy a reentrant implementation? I find the resulting code easier to read and less error-prone.","title":"Reentrant StampedLock","body":"<p>Is there a reentrant implementation of <code>StampedLock</code>?</p>\n<p>Specifically, I want the implementation to be smart enough to use an existing write-lock when I invoke a method that expects (and tries to acquire) a read-lock.</p>\n<p>Why a reentrant implementation? I find the resulting code easier to read and less error-prone.</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1663762944,"post_id":73800430,"comment_id":130315020,"body_markdown":"**0.** Stop using `Date` and `SimpleDateFormat`, for they are obsolete. **1.** Psrse using `DateTimeFormatter`, with format `uuuu-MM-dd HH:mm:ss.SXXXX`. **2.** Use `ChronoUnit.DAYS.between(backThen, now)`.","body":"<b>0.</b> Stop using <code>Date</code> and <code>SimpleDateFormat</code>, for they are obsolete. <b>1.</b> Psrse using <code>DateTimeFormatter</code>, with format <code>uuuu-MM-dd HH:mm:ss.SXXXX</code>. <b>2.</b> Use <code>ChronoUnit.DAYS.between(backThen, now)</code>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1663769013,"post_id":73800430,"comment_id":130317494,"body_markdown":"@MCEmperor The pattern you&#39;ve provided would fail to parse the string specified in the question. Because ***1.*** The number of characters in the fractional part doesn&#39;t match, it should be `SSS`, not `S`. ***2.*** Offset contains `:` therefore according to the documentation it needs to be represent by `XXX` (or `zzz`), i.e. three characters, not four. See the correct pattern [here](https://stackoverflow.com/a/73801432/17949945).","body":"@MCEmperor The pattern you&#39;ve provided would fail to parse the string specified in the question. Because <b><i>1.</i></b> The number of characters in the fractional part doesn&#39;t match, it should be <code>SSS</code>, not <code>S</code>. <b><i>2.</i></b> Offset contains <code>:</code> therefore according to the documentation it needs to be represent by <code>XXX</code> (or <code>zzz</code>), i.e. three characters, not four. See the correct pattern <a href=\"https://stackoverflow.com/a/73801432/17949945\">here</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663832725,"post_id":73800430,"comment_id":130333009,"body_markdown":"In which time zone do you want to count the days? It matters. The time from yesterday at 23:00 until today at 09:00, does that count as 0 days or 1 day? That is, do the dates count or only full days?","body":"In which time zone do you want to count the days? It matters. The time from yesterday at 23:00 until today at 09:00, does that count as 0 days or 1 day? That is, do the dates count or only full days?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663833566,"post_id":73800430,"comment_id":130333303,"body_markdown":"It’s a wonderful demonstration of the trouble with `SimpleDateFormat`. Less than half of your format pattern string is correct (sorry to say), and yet `SimpleDateFormat` just pretends all is well and gives you absolute garbage as a result. It’s not a behaviour you would want from any class.","body":"It’s a wonderful demonstration of the trouble with <code>SimpleDateFormat</code>. Less than half of your format pattern string is correct (sorry to say), and yet <code>SimpleDateFormat</code> just pretends all is well and gives you absolute garbage as a result. It’s not a behaviour you would want from any class."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663868086,"post_id":73800430,"comment_id":130346432,"body_markdown":"BTW `2021-01-14 16:23:46.217-06:00` is not ISO format. [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) requires a `T` between date and time, not a space, as in `2021-01-14T16:23:46.217-06:00`.","body":"BTW <code>2021-01-14 16:23:46.217-06:00</code> is not ISO format. <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> requires a <code>T</code> between date and time, not a space, as in <code>2021-01-14T16:23:46.217-06:00</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663836771,"creation_date":1663766255,"answer_id":73801432,"question_id":73800430,"body_markdown":"# Use java.time API\r\n\r\nClasses `Date` and `SimpleDateFormat` are legacy.\r\n\r\nSince Java 8 (which was released **10** years ago) we have a new Time API, represented by classes from the `java.time` package.\r\n\r\nTo parse and format the data, you can use [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html). An instance of `DateTimeFormatter` can be obtained via static method `ofPattern()`, or using `DateTimeFormatterBuilder`.\r\n\r\n* `ofPattern()`:\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSXXX&quot;);\r\n```\r\n\r\n* `DateTimeFormatterBuilder`:\r\n```\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;yyyy-MM-dd HH:mm:ss.&quot;)       // main date-time part\r\n    .appendValue(ChronoField.MILLI_OF_SECOND, 3) // fraction part of second\r\n    .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)            // can be substituted with appendPattern(&quot;zzz&quot;) or appendPattern(&quot;XXX&quot;)\r\n    .toFormatter();\r\n```\r\nThe string `&quot;2021-01-14 16:23:46.217-06:00&quot;`, which you&#39;ve provided as an example, contains date-time information and UTC offset. Such data can be represented by [`OffsetDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html).\r\n\r\nTo get the number of days between two temporal objects, you can use [`ChronoUnit.between()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/ChronoUnit.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)) as *@MC Emperor* has mentioned in the comments.\r\n\r\nThat&#39;s how the whole code might look like:\r\n\r\n```\r\nString toParse = &quot;2021-01-14 16:23:46.217-06:00&quot;;\r\n\r\n\r\n    \r\nOffsetDateTime dateTime = OffsetDateTime.parse(toParse, formatter);\r\nSystem.out.println(&quot;parsed date-time: &quot; + dateTime);\r\n        \r\nInstant now = Instant.now();\r\n        \r\nlong days = ChronoUnit.DAYS.between(dateTime.toInstant(), now);\r\nSystem.out.println(&quot;days: &quot; + days);\r\n```\r\n*Output:*\r\n```\r\nparsed date-time: 2021-01-14T16:23:46.217-06:00\r\ndays: 615\r\n```\r\n\r\n**Note** that since in this case you need only difference in days between the current date instead of `OffsetDateTime` you can use `LocalDateTime`, UTC offset would be ignored while parsing a string. If you decide to do so, then the second argument passed to `ChronoUnit.between()` should be also of type `LocalDateTime`.","title":"Calculate Number of Days between Given time in ISO format and Current time","body":"<h1>Use java.time API</h1>\n<p>Classes <code>Date</code> and <code>SimpleDateFormat</code> are legacy.</p>\n<p>Since Java 8 (which was released <strong>10</strong> years ago) we have a new Time API, represented by classes from the <code>java.time</code> package.</p>\n<p>To parse and format the data, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>. An instance of <code>DateTimeFormatter</code> can be obtained via static method <code>ofPattern()</code>, or using <code>DateTimeFormatterBuilder</code>.</p>\n<ul>\n<li><code>ofPattern()</code>:</li>\n</ul>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSXXX&quot;);\n</code></pre>\n<ul>\n<li><code>DateTimeFormatterBuilder</code>:</li>\n</ul>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(&quot;yyyy-MM-dd HH:mm:ss.&quot;)       // main date-time part\n    .appendValue(ChronoField.MILLI_OF_SECOND, 3) // fraction part of second\n    .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;)            // can be substituted with appendPattern(&quot;zzz&quot;) or appendPattern(&quot;XXX&quot;)\n    .toFormatter();\n</code></pre>\n<p>The string <code>&quot;2021-01-14 16:23:46.217-06:00&quot;</code>, which you've provided as an example, contains date-time information and UTC offset. Such data can be represented by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<p>To get the number of days between two temporal objects, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/ChronoUnit.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\"><code>ChronoUnit.between()</code></a> as <em>@MC Emperor</em> has mentioned in the comments.</p>\n<p>That's how the whole code might look like:</p>\n<pre><code>String toParse = &quot;2021-01-14 16:23:46.217-06:00&quot;;\n\n\n    \nOffsetDateTime dateTime = OffsetDateTime.parse(toParse, formatter);\nSystem.out.println(&quot;parsed date-time: &quot; + dateTime);\n        \nInstant now = Instant.now();\n        \nlong days = ChronoUnit.DAYS.between(dateTime.toInstant(), now);\nSystem.out.println(&quot;days: &quot; + days);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>parsed date-time: 2021-01-14T16:23:46.217-06:00\ndays: 615\n</code></pre>\n<p><strong>Note</strong> that since in this case you need only difference in days between the current date instead of <code>OffsetDateTime</code> you can use <code>LocalDateTime</code>, UTC offset would be ignored while parsing a string. If you decide to do so, then the second argument passed to <code>ChronoUnit.between()</code> should be also of type <code>LocalDateTime</code>.</p>\n"}],"owner":{"account_id":26401536,"reputation":3,"user_id":20051916,"display_name":"saket kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73801432,"answer_count":1,"score":0,"last_activity_date":1663836771,"creation_date":1663761989,"question_id":73800430,"body_markdown":"I have to find out number of days between a given Time and current time. Given time is in **ISO format** and one example is &quot;2021-01-14 16:23:46.217-06:00&quot;.\r\n\r\nI have tried it using &quot;java.text.SimpleDateFormat&quot; but it&#39;s not giving me accurate results.  \r\nIn Below Given date, for today&#39;s time I am getting output as &quot;633&quot; Days which isn&#39;t correct. somehow after parsing it is taking date as &quot;21 december 2020&quot; which isn&#39;t correct\r\n\r\n    String TIMESTAMP_FORMAT = &quot;YYYY-MM-DD hh:mm:ss.s-hh:mm&quot; ;  \r\n    int noOfDays = Utility.getTimeDifferenceInDays(&quot;2021-01-14 16:23:46.217-06:00&quot;, TIMESTAMP_FORMAT);\r\n                  \r\n    public static int getTimeDifferenceInDays(String timestamp, String TIMESTAMP_FORMAT) {\r\n    \r\n            DateFormat df = new SimpleDateFormat(TIMESTAMP_FORMAT);\r\n            try {\r\n                Date date = df.parse(timestamp);\r\n                long timeDifference = (System.currentTimeMillis() - date.getTime());\r\n                return (int) (timeDifference / (1000*60*60*24));\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return 0;\r\n        }  \r\n\r\nLooking for a better solution which gives me correct number of days. Thanks","title":"Calculate Number of Days between Given time in ISO format and Current time","body":"<p>I have to find out number of days between a given Time and current time. Given time is in <strong>ISO format</strong> and one example is &quot;2021-01-14 16:23:46.217-06:00&quot;.</p>\n<p>I have tried it using &quot;java.text.SimpleDateFormat&quot; but it's not giving me accurate results.<br />\nIn Below Given date, for today's time I am getting output as &quot;633&quot; Days which isn't correct. somehow after parsing it is taking date as &quot;21 december 2020&quot; which isn't correct</p>\n<pre><code>String TIMESTAMP_FORMAT = &quot;YYYY-MM-DD hh:mm:ss.s-hh:mm&quot; ;  \nint noOfDays = Utility.getTimeDifferenceInDays(&quot;2021-01-14 16:23:46.217-06:00&quot;, TIMESTAMP_FORMAT);\n              \npublic static int getTimeDifferenceInDays(String timestamp, String TIMESTAMP_FORMAT) {\n\n        DateFormat df = new SimpleDateFormat(TIMESTAMP_FORMAT);\n        try {\n            Date date = df.parse(timestamp);\n            long timeDifference = (System.currentTimeMillis() - date.getTime());\n            return (int) (timeDifference / (1000*60*60*24));\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return 0;\n    }  \n</code></pre>\n<p>Looking for a better solution which gives me correct number of days. Thanks</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":2,"creation_date":1663750534,"post_id":73797865,"comment_id":130310634,"body_markdown":"You can try adding @EnableJpaRepositories(basePackageClasses = { LocationRepository.class}","body":"You can try adding @EnableJpaRepositories(basePackageClasses = { LocationRepository.class}"},{"owner":{"account_id":26353186,"reputation":13,"user_id":20010534,"display_name":"Kado"},"score":0,"creation_date":1663752221,"post_id":73797865,"comment_id":130311228,"body_markdown":"johhnyutts  That worked.  Thanks!","body":"johhnyutts  That worked.  Thanks!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663757892,"post_id":73797865,"comment_id":130313249,"body_markdown":"The problem is that you are probably mixing Junit4 and JUnit5 in your unit test which breaks things. I would remove the `@RunWith` and `@ExtendWIth` (the latter is already available on the `@SpringBootTest` annotation). I assume you want to use JUnit5 here and not JUnit4. Also make sure the `@Test` annotation is from the proper package.You should inject the `TestRestTemplate` and remove your `@Before` method (constructing the controller in this test doesn&#39;t add anything).","body":"The problem is that you are probably mixing Junit4 and JUnit5 in your unit test which breaks things. I would remove the <code>@RunWith</code> and <code>@ExtendWIth</code> (the latter is already available on the <code>@SpringBootTest</code> annotation). I assume you want to use JUnit5 here and not JUnit4. Also make sure the <code>@Test</code> annotation is from the proper package.You should inject the <code>TestRestTemplate</code> and remove your <code>@Before</code> method (constructing the controller in this test doesn&#39;t add anything)."},{"owner":{"account_id":26353186,"reputation":13,"user_id":20010534,"display_name":"Kado"},"score":0,"creation_date":1663834631,"post_id":73797865,"comment_id":130333644,"body_markdown":"@M.Deinum I tried removing the EnableJPARepositories.  I changed the test to be jupiter, removed runwith, and extendwith.  I still get the error for repository without the EnableJPARepositories.","body":"@M.Deinum I tried removing the EnableJPARepositories.  I changed the test to be jupiter, removed runwith, and extendwith.  I still get the error for repository without the EnableJPARepositories."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663834863,"post_id":73797865,"comment_id":130333729,"body_markdown":"You should also remove the `@TestPropertySource` as you cannot load yml files with it. Please update the question with what you have now. Basically when you  need to put configuration anntations on your test (those `@Enable*` or `@Import`) you are generally doing it wrong. Hence adding `@EnableJpaRepositories` isn&#39;t the solution. On a different note I see no use of injecting that repository in your test (as I also mentioned the `@Before` is useless). So you either aren&#39;t showing the full test or it really contains things that aren&#39;t useful.","body":"You should also remove the <code>@TestPropertySource</code> as you cannot load yml files with it. Please update the question with what you have now. Basically when you  need to put configuration anntations on your test (those <code>@Enable*</code> or <code>@Import</code>) you are generally doing it wrong. Hence adding <code>@EnableJpaRepositories</code> isn&#39;t the solution. On a different note I see no use of injecting that repository in your test (as I also mentioned the <code>@Before</code> is useless). So you either aren&#39;t showing the full test or it really contains things that aren&#39;t useful."},{"owner":{"account_id":26353186,"reputation":13,"user_id":20010534,"display_name":"Kado"},"score":0,"creation_date":1663836090,"post_id":73797865,"comment_id":130334174,"body_markdown":"@M.Deinum It&#39;s working now.  Thanks!  I think just ran clean a couple times and it worked, so I will make those changes.  The Before is useless.  I was just trying to test something.","body":"@M.Deinum It&#39;s working now.  Thanks!  I think just ran clean a couple times and it worked, so I will make those changes.  The Before is useless.  I was just trying to test something."}],"answers":[{"tags":[],"owner":{"account_id":26353186,"reputation":13,"user_id":20010534,"display_name":"Kado"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663752362,"creation_date":1663752362,"answer_id":73798399,"question_id":73797865,"body_markdown":"Johhnyutts answered the question.  The answer was to add @EnableJpaRepositories(basePackageClasses = { LocationRepository.class}","title":"How do I use spring @SpringBootTest instead of DataJPATest","body":"<p>Johhnyutts answered the question.  The answer was to add @EnableJpaRepositories(basePackageClasses = { LocationRepository.class}</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663835633,"creation_date":1663835633,"answer_id":73811602,"question_id":73797865,"body_markdown":"If the test case you are running is the actual one in your post you are doing things wrong\r\n\r\n1. You are mixing JUnit4 and JUnit5, that won&#39;t work in a single class.\r\n2. The `@TestPropertySource` is for property files not yaml files\r\n3. You should autowire the `TestRestTemplate` not create it (this also allows you to remove the `@LocalServerPort` as that is setup already as a base URL.\r\n4. Your `@Before` doesn&#39;t really make sense, constructing the service and controller don&#39;t add anything in your test, it only takes up memory and execution time. \r\n5. The `ObjectMapper` inside your test method isn&#39;t used, so why construct it.\r\n6. The `@SpringBootTest` can figure out the application class itself. \r\n7. The `@AutoConfigureTestDatabase` isn&#39;t needed, that is only for sliced tests like `@DataJpaTest`, `@DataJdbcTest` etc. \r\n\r\nThat all being said I would expect something like the following to work\r\n\r\n**Assuming** you configured a proper datasource in your `application.yml` in your `src/test/resources`. \r\n\r\n```java\r\n\r\nimport org.junit.jupiter.api.Test\r\n\r\n@SpringBootTest(\r\n        webEnvironment= SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n        )\r\nclass LocationIT {\r\n\r\n    @MockBean\r\n    private CompanyRepository companyRepository;\r\n    @MockBean\r\n    private ShipmentRepository shipmentRepository;\r\n    @MockBean\r\n    private ContactRepository contactRepository;\r\n    \r\n    @Autowired\r\n    private TestRestTemplate restTemplate;\r\n\r\n    @Test\r\n    void testAddLocation() {       \r\n        Location location = Location.builder()\r\n                .id(Long.valueOf(7))\r\n                .city(&quot;Fayetteville&quot;)\r\n                .lat(32.33)\r\n                .lon(37.49)\r\n                .name(&quot;Big place&quot;)\r\n                .State(&quot;Arkansas&quot;).build();\r\n\r\n        ResponseEntity&lt;String&gt; responseEntity = this.restTemplate\r\n                .postForEntity(&quot;/api/location/save&quot;, location, String.class);\r\n\r\n        ResponseEntity&lt;List&lt;Location&gt;&gt; results = restTemplate.exchange(&quot;/api/location/list&quot;,\r\n                HttpMethod.GET,\r\n                null,\r\n                new ParameterizedTypeReference&lt;List&lt;Location&gt;&gt;(){});\r\n\r\n        assertEquals(HttpStatus.OK, responseEntity.getStatusCode());\r\n        assertEquals(HttpStatus.OK, results.getStatusCode());\r\n        assertEquals(Collections.singletonList(location), results.getBody());\r\n    }\r\n}\r\n```","title":"How do I use spring @SpringBootTest instead of DataJPATest","body":"<p>If the test case you are running is the actual one in your post you are doing things wrong</p>\n<ol>\n<li>You are mixing JUnit4 and JUnit5, that won't work in a single class.</li>\n<li>The <code>@TestPropertySource</code> is for property files not yaml files</li>\n<li>You should autowire the <code>TestRestTemplate</code> not create it (this also allows you to remove the <code>@LocalServerPort</code> as that is setup already as a base URL.</li>\n<li>Your <code>@Before</code> doesn't really make sense, constructing the service and controller don't add anything in your test, it only takes up memory and execution time.</li>\n<li>The <code>ObjectMapper</code> inside your test method isn't used, so why construct it.</li>\n<li>The <code>@SpringBootTest</code> can figure out the application class itself.</li>\n<li>The <code>@AutoConfigureTestDatabase</code> isn't needed, that is only for sliced tests like <code>@DataJpaTest</code>, <code>@DataJdbcTest</code> etc.</li>\n</ol>\n<p>That all being said I would expect something like the following to work</p>\n<p><strong>Assuming</strong> you configured a proper datasource in your <code>application.yml</code> in your <code>src/test/resources</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.junit.jupiter.api.Test\n\n@SpringBootTest(\n        webEnvironment= SpringBootTest.WebEnvironment.RANDOM_PORT,\n        )\nclass LocationIT {\n\n    @MockBean\n    private CompanyRepository companyRepository;\n    @MockBean\n    private ShipmentRepository shipmentRepository;\n    @MockBean\n    private ContactRepository contactRepository;\n    \n    @Autowired\n    private TestRestTemplate restTemplate;\n\n    @Test\n    void testAddLocation() {       \n        Location location = Location.builder()\n                .id(Long.valueOf(7))\n                .city(&quot;Fayetteville&quot;)\n                .lat(32.33)\n                .lon(37.49)\n                .name(&quot;Big place&quot;)\n                .State(&quot;Arkansas&quot;).build();\n\n        ResponseEntity&lt;String&gt; responseEntity = this.restTemplate\n                .postForEntity(&quot;/api/location/save&quot;, location, String.class);\n\n        ResponseEntity&lt;List&lt;Location&gt;&gt; results = restTemplate.exchange(&quot;/api/location/list&quot;,\n                HttpMethod.GET,\n                null,\n                new ParameterizedTypeReference&lt;List&lt;Location&gt;&gt;(){});\n\n        assertEquals(HttpStatus.OK, responseEntity.getStatusCode());\n        assertEquals(HttpStatus.OK, results.getStatusCode());\n        assertEquals(Collections.singletonList(location), results.getBody());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26353186,"reputation":13,"user_id":20010534,"display_name":"Kado"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73811602,"answer_count":2,"score":0,"last_activity_date":1663836296,"creation_date":1663750054,"question_id":73797865,"body_markdown":"I have this code.\r\n\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(\r\n            webEnvironment= SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n            classes = ApiDbApplication.class)\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @TestPropertySource(\r\n            locations = &quot;classpath:application.yml&quot;)\r\n    @ExtendWith(SpringExtension.class)\r\n    @Transactional\r\n    public class LocationIT {\r\n\r\n        @MockBean\r\n        CompanyRepository companyRepository;\r\n        @MockBean\r\n        ShipmentRepository shipmentRepository;\r\n        @MockBean\r\n        ContactRepository contactRepository;\r\n\r\n        private LocationController locationController;\r\n        private LocationService locationService;\r\n\r\n        @Autowired\r\n        LocationRepository locationRepository;\r\n\r\n        @LocalServerPort\r\n        private int port;\r\n        TestRestTemplate restTemplate = new TestRestTemplate();\r\n        HttpHeaders headers = new HttpHeaders();\r\n\r\n        @Before\r\n        public void setup() {\r\n            locationService = new LocationService(locationRepository);\r\n            this.locationController = new LocationController(locationService);\r\n        }\r\n\r\n\r\n\r\n        @Test\r\n        public void testAddLocation() {\r\n            ObjectMapper mapper = new ObjectMapper()\r\n                    .registerModule(new JavaTimeModule());\r\n            ;\r\n            Location location = Location.builder()\r\n                    .id(Long.valueOf(7))\r\n                    .city(&quot;Fayetteville&quot;)\r\n                    .lat(32.33)\r\n                    .lon(37.49)\r\n                    .name(&quot;Big place&quot;)\r\n                    .State(&quot;Arkansas&quot;).build();\r\n\r\n            ResponseEntity&lt;String&gt; responseEntity = this.restTemplate\r\n                    .postForEntity(&quot;http://localhost:&quot; + port + &quot;/api/location/save&quot;, location, String.class);\r\n\r\n            ResponseEntity&lt;List&lt;Location&gt;&gt; results = restTemplate.exchange(&quot;http://localhost:&quot; + port + &quot;/api/location/list&quot;,\r\n                    HttpMethod.GET,\r\n                    null,\r\n                    new ParameterizedTypeReference&lt;List&lt;Location&gt;&gt;(){});\r\n\r\n\r\n            assertEquals(HttpStatus.OK, responseEntity.getStatusCode());\r\n            assertEquals(HttpStatus.OK, results.getStatusCode());\r\n            assertEquals(Collections.singletonList(location), results.getBody());\r\n\r\n        }\r\n    }\r\n\r\n\r\nWhenever I run the test. My location repository is null and I have the @Repository annotation.\r\nThis is the error I get:\r\n No qualifying bean of type &#39;com.example.apidb.location.LocationRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nI want to hit the endpoint using restTemplate, so I would rather not use `@DataJPATest`.\r\n\r\nThis question is similar: https://stackoverflow.com/questions/57609818/how-can-i-use-springboottestwebenvironment-with-datajpatest\r\n\r\n","title":"How do I use spring @SpringBootTest instead of DataJPATest","body":"<p>I have this code.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(\n        webEnvironment= SpringBootTest.WebEnvironment.RANDOM_PORT,\n        classes = ApiDbApplication.class)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@TestPropertySource(\n        locations = &quot;classpath:application.yml&quot;)\n@ExtendWith(SpringExtension.class)\n@Transactional\npublic class LocationIT {\n\n    @MockBean\n    CompanyRepository companyRepository;\n    @MockBean\n    ShipmentRepository shipmentRepository;\n    @MockBean\n    ContactRepository contactRepository;\n\n    private LocationController locationController;\n    private LocationService locationService;\n\n    @Autowired\n    LocationRepository locationRepository;\n\n    @LocalServerPort\n    private int port;\n    TestRestTemplate restTemplate = new TestRestTemplate();\n    HttpHeaders headers = new HttpHeaders();\n\n    @Before\n    public void setup() {\n        locationService = new LocationService(locationRepository);\n        this.locationController = new LocationController(locationService);\n    }\n\n\n\n    @Test\n    public void testAddLocation() {\n        ObjectMapper mapper = new ObjectMapper()\n                .registerModule(new JavaTimeModule());\n        ;\n        Location location = Location.builder()\n                .id(Long.valueOf(7))\n                .city(&quot;Fayetteville&quot;)\n                .lat(32.33)\n                .lon(37.49)\n                .name(&quot;Big place&quot;)\n                .State(&quot;Arkansas&quot;).build();\n\n        ResponseEntity&lt;String&gt; responseEntity = this.restTemplate\n                .postForEntity(&quot;http://localhost:&quot; + port + &quot;/api/location/save&quot;, location, String.class);\n\n        ResponseEntity&lt;List&lt;Location&gt;&gt; results = restTemplate.exchange(&quot;http://localhost:&quot; + port + &quot;/api/location/list&quot;,\n                HttpMethod.GET,\n                null,\n                new ParameterizedTypeReference&lt;List&lt;Location&gt;&gt;(){});\n\n\n        assertEquals(HttpStatus.OK, responseEntity.getStatusCode());\n        assertEquals(HttpStatus.OK, results.getStatusCode());\n        assertEquals(Collections.singletonList(location), results.getBody());\n\n    }\n}\n</code></pre>\n<p>Whenever I run the test. My location repository is null and I have the @Repository annotation.\nThis is the error I get:\nNo qualifying bean of type 'com.example.apidb.location.LocationRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n<p>I want to hit the endpoint using restTemplate, so I would rather not use <code>@DataJPATest</code>.</p>\n<p>This question is similar: <a href=\"https://stackoverflow.com/questions/57609818/how-can-i-use-springboottestwebenvironment-with-datajpatest\">How can I use @SpringBootTest(webEnvironment) with @DataJpaTest?</a></p>\n"},{"tags":["java","spring","rest","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1503476665,"post_id":45834393,"comment_id":78625927,"body_markdown":"unclear what you are asking - you don&#39;t want someone to see something then encrypt it","body":"unclear what you are asking - you don&#39;t want someone to see something then encrypt it"},{"owner":{"account_id":8247721,"reputation":1779,"user_id":6203305,"accept_rate":39,"display_name":"shabenda"},"score":1,"creation_date":1503476686,"post_id":45834393,"comment_id":78625943,"body_markdown":"I want to exclude it from the response. I am planning to encrypt it (I am only in the beginning) but I don&#39;t it is good idea to have sensitive information in responses.","body":"I want to exclude it from the response. I am planning to encrypt it (I am only in the beginning) but I don&#39;t it is good idea to have sensitive information in responses."},{"owner":{"account_id":1141520,"reputation":2369,"user_id":1125284,"display_name":"Zico"},"score":1,"creation_date":1503476968,"post_id":45834393,"comment_id":78626134,"body_markdown":"Is your response JSON?","body":"Is your response JSON?"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1666701598,"post_id":45834393,"comment_id":130995211,"body_markdown":"As an aside: &quot;User has a password field&quot; - does this contain the password in plain text? I hope you realize that storing a plaingext password is a very unsafe practice. See for example [What are all of the issues with storing a cleartext password?](https://security.stackexchange.com/questions/12641/what-are-all-of-the-issues-with-storing-a-cleartext-password).","body":"As an aside: &quot;User has a password field&quot; - does this contain the password in plain text? I hope you realize that storing a plaingext password is a very unsafe practice. See for example <a href=\"https://security.stackexchange.com/questions/12641/what-are-all-of-the-issues-with-storing-a-cleartext-password\">What are all of the issues with storing a cleartext password?</a>."}],"answers":[{"tags":[],"owner":{"account_id":2288711,"reputation":5650,"user_id":2012163,"accept_rate":69,"display_name":"Abhijeet Ahuja"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1663835678,"creation_date":1503476895,"answer_id":45834512,"question_id":45834393,"body_markdown":"Make the field &#39;password&#39; as null while sending the response and [Jackson][1] will not show that in response. Don&#39;t remove it completely from the model class.\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n","title":"Hiding sensitive information in response","body":"<p>Make the field 'password' as null while sending the response and <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> will not show that in response. Don't remove it completely from the model class.</p>\n"},{"tags":[],"owner":{"account_id":2779345,"reputation":145,"user_id":2392189,"accept_rate":43,"display_name":"theUnicycleGuy"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1663835804,"creation_date":1503476969,"answer_id":45834544,"question_id":45834393,"body_markdown":"If you are using [Jackson][1] to serialize your response objects,  you can annotate the property in question with @JsonIgnore and it will not be included in the response.\r\n\r\n    public User {\r\n        private String email;\r\n\r\n        @JsonIgnore\r\n        private String password\r\n\r\n        ...getters and setters\r\n\r\n    }\r\n\r\nIt might also be a good idea to create separate response objects that only include the fields you want in case you add sensitive fields down the road and forget to hide them.  Likewise, you would also have separate request objects for creating users that would include a password field.  Business entities, like a User, are probably best to use only internally, so you can control what information goes public.\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n\r\n\r\n","title":"Hiding sensitive information in response","body":"<p>If you are using <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> to serialize your response objects,  you can annotate the property in question with @JsonIgnore and it will not be included in the response.</p>\n<pre><code>public User {\n    private String email;\n\n    @JsonIgnore\n    private String password\n\n    ...getters and setters\n\n}\n</code></pre>\n<p>It might also be a good idea to create separate response objects that only include the fields you want in case you add sensitive fields down the road and forget to hide them.  Likewise, you would also have separate request objects for creating users that would include a password field.  Business entities, like a User, are probably best to use only internally, so you can control what information goes public.</p>\n"},{"tags":[],"owner":{"account_id":1141520,"reputation":2369,"user_id":1125284,"display_name":"Zico"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1663835833,"creation_date":1503477309,"answer_id":45834649,"question_id":45834393,"body_markdown":"Use `@JsonIgnore` with `Access.WRITE_ONLY` for getter methods only.\r\n\r\nExample \r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private String password;\r\n","title":"Hiding sensitive information in response","body":"<p>Use <code>@JsonIgnore</code> with <code>Access.WRITE_ONLY</code> for getter methods only.</p>\n<p>Example</p>\n<pre><code>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\nprivate String password;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679263,"reputation":459,"user_id":4491130,"display_name":"Rafal"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1663835893,"creation_date":1503485853,"answer_id":45837779,"question_id":45834393,"body_markdown":"To avoid using *@JsonIgnore*, you can use [json-view library][1].\r\nFor example, in your controller you can do something like this:\r\n\r\nAt first, declare this in your controller variable:\r\n\r\n    private JsonResult json = JsonResult.instance();\r\n\r\nAnd then use this method:\r\n\r\n    @RequestMapping(&quot;/get/{id}&quot;)\r\n    public void getUserById(@PathVariable(value = &quot;id&quot;) long id) {\r\n        User user = usersService.findOne(id);\r\n        json.use(JsonView.with(user)\r\n                .onClass(User.class, Match.match()\r\n                        .exclude(&quot;password&quot;).exclude(&quot;yetAnothertopSecretField&quot;)));\r\n    }\r\n\r\nIt returns JSON without excluded fields.\r\n\r\nThe JsonView and JsonResult classes are imported from the json-view library.\r\n\r\n  [1]: https://github.com/monitorjbl/json-view\r\n\r\n\r\n","title":"Hiding sensitive information in response","body":"<p>To avoid using <em>@JsonIgnore</em>, you can use <a href=\"https://github.com/monitorjbl/json-view\" rel=\"nofollow noreferrer\">json-view library</a>.\nFor example, in your controller you can do something like this:</p>\n<p>At first, declare this in your controller variable:</p>\n<pre><code>private JsonResult json = JsonResult.instance();\n</code></pre>\n<p>And then use this method:</p>\n<pre><code>@RequestMapping(&quot;/get/{id}&quot;)\npublic void getUserById(@PathVariable(value = &quot;id&quot;) long id) {\n    User user = usersService.findOne(id);\n    json.use(JsonView.with(user)\n            .onClass(User.class, Match.match()\n                    .exclude(&quot;password&quot;).exclude(&quot;yetAnothertopSecretField&quot;)));\n}\n</code></pre>\n<p>It returns JSON without excluded fields.</p>\n<p>The JsonView and JsonResult classes are imported from the json-view library.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1663835974,"creation_date":1573238542,"answer_id":58772164,"question_id":45834393,"body_markdown":"I&#39;m tried this `JsonProperty.Access.WRITE_ONLY` and it&#39;s working with me. \r\n\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n\r\n\r\n","title":"Hiding sensitive information in response","body":"<p>I'm tried this <code>JsonProperty.Access.WRITE_ONLY</code> and it's working with me.</p>\n<pre><code>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n</code></pre>\n"}],"owner":{"account_id":8247721,"reputation":1779,"user_id":6203305,"accept_rate":39,"display_name":"shabenda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18268,"favorite_count":0,"down_vote_count":5,"up_vote_count":11,"answer_count":5,"score":6,"last_activity_date":1663835974,"creation_date":1503476556,"question_id":45834393,"body_markdown":"I am currently working in a project where I have a User model and am using a [REST][1] API to fetch a list of users. (I have more entities.)\r\n\r\nUser has a password field. I do not want to include the password field in the result. So I excluded it in the [DTO][2]. But when I want to create a User, I want to include the password in the request. So Spring MVC gets the User entity (not the DTO).\r\n\r\nI don&#39;t think it is good to do so.... For example, I have Event model which is connected to user with a many-to-many relationship. I don&#39;t want that in the request. I want *only* the user. So what do you suggest me to do? Have another kind-of DTO?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Representational_state_transfer\r\n  [2]: https://en.wikipedia.org/wiki/Data_transfer_object\r\n\r\n","title":"Hiding sensitive information in response","body":"<p>I am currently working in a project where I have a User model and am using a <a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow noreferrer\">REST</a> API to fetch a list of users. (I have more entities.)</p>\n<p>User has a password field. I do not want to include the password field in the result. So I excluded it in the <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">DTO</a>. But when I want to create a User, I want to include the password in the request. So Spring MVC gets the User entity (not the DTO).</p>\n<p>I don't think it is good to do so.... For example, I have Event model which is connected to user with a many-to-many relationship. I don't want that in the request. I want <em>only</em> the user. So what do you suggest me to do? Have another kind-of DTO?</p>\n"},{"tags":["java","jaxb","outputstream","dataoutputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663832613,"post_id":73810814,"comment_id":130332981,"body_markdown":"Use `ByteArrayOutputStream` and use its array twice","body":"Use <code>ByteArrayOutputStream</code> and use its array twice"},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":0,"creation_date":1663841890,"post_id":73810814,"comment_id":130336381,"body_markdown":"Can you show me an example to how instanciate it ?","body":"Can you show me an example to how instanciate it ?"},{"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"score":0,"creation_date":1663841920,"post_id":73810814,"comment_id":130336390,"body_markdown":"I was thinking of using header location to send an other request with one parameter to tell if i want my file or my xml","body":"I was thinking of using header location to send an other request with one parameter to tell if i want my file or my xml"}],"owner":{"account_id":19576477,"reputation":85,"user_id":14326456,"display_name":"Fab83i"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663835913,"creation_date":1663831611,"question_id":73810814,"body_markdown":"I want to return two distinct data using one outputStream in java. \r\n\r\nI want to return xml response and download a file. \r\n\r\nI am using JAXB to write my xml response,\r\n\r\n    DataOutputStream dos = new DataOutputStream(request.getResponseStream());\r\n    JAXBContext newInstance = JAXBContext.newInstance(GetCoverageType.class);\r\n    Marshaller marshaller = newInstance.createMarshaller();\r\n    marshaller.marshal(responseData.getCoverage(), dos);\r\n    \r\n    File file = new File(responseData.getLocation());\r\n    response.addHeader(&quot;ContentDisposition&quot;, &quot;attachment; filename=test&quot;);\r\n    response.setContentType(&quot;application/netcdf&quot;);\r\n    Files.copy(file, dos);\r\n\r\nWith my code, the file is downloaded but the xml generated by JAXB does not appear.\r\n\r\nI have tried to use `response.flushBuffer()` after that, but the xml response is written in my downloaded file. \r\n\r\nIf someone has an idea to download my file and return xml response on the browser\r\n\r\nThanks","title":"How to use one outputstream to return multiple data?","body":"<p>I want to return two distinct data using one outputStream in java.</p>\n<p>I want to return xml response and download a file.</p>\n<p>I am using JAXB to write my xml response,</p>\n<pre><code>DataOutputStream dos = new DataOutputStream(request.getResponseStream());\nJAXBContext newInstance = JAXBContext.newInstance(GetCoverageType.class);\nMarshaller marshaller = newInstance.createMarshaller();\nmarshaller.marshal(responseData.getCoverage(), dos);\n\nFile file = new File(responseData.getLocation());\nresponse.addHeader(&quot;ContentDisposition&quot;, &quot;attachment; filename=test&quot;);\nresponse.setContentType(&quot;application/netcdf&quot;);\nFiles.copy(file, dos);\n</code></pre>\n<p>With my code, the file is downloaded but the xml generated by JAXB does not appear.</p>\n<p>I have tried to use <code>response.flushBuffer()</code> after that, but the xml response is written in my downloaded file.</p>\n<p>If someone has an idea to download my file and return xml response on the browser</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign","feign","pkcs#7"],"owner":{"account_id":1211914,"reputation":931,"user_id":1180302,"accept_rate":60,"display_name":"neoerol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663835819,"creation_date":1663835819,"question_id":73811645,"body_markdown":"I need to implement a service. On documentation, there is a part for signing procedure request message, but I didn&#39;t get it.\r\n\r\nHere is a detail.\r\n``Sign the complete XML message using PKCS7 Standard algorithm with attachment mode which produce the signed content. This signed content should be converted to BASE64 format as it shown below.``\r\n\r\nI am using feign client for that implementation. How can I sign the XML message?","title":"How can I sign the complete XML message using PKCS7 Standard","body":"<p>I need to implement a service. On documentation, there is a part for signing procedure request message, but I didn't get it.</p>\n<p>Here is a detail.\n<code>Sign the complete XML message using PKCS7 Standard algorithm with attachment mode which produce the signed content. This signed content should be converted to BASE64 format as it shown below.</code></p>\n<p>I am using feign client for that implementation. How can I sign the XML message?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663835274,"creation_date":1663835274,"answer_id":73811525,"question_id":73811085,"body_markdown":"You can used `File renameTo()` to rename your file\r\n\r\nsuch as \r\n\r\n    File file=new File(&quot;../path/Req_250: a Req_6497: b Sysreq_234.docx&quot;);\r\n    boolean renameResult = file.renameTo(new File(file.getParent()+&quot;/&quot;+file.getName().replace(&quot;:&quot;, &quot;COLON&quot;).replace(&quot; &quot;, &quot;_&quot;)));","title":"I have 30 docx file with the different name in that I want to to replace the some letters without affecting the inside content how do I that?","body":"<p>You can used <code>File renameTo()</code> to rename your file</p>\n<p>such as</p>\n<pre><code>File file=new File(&quot;../path/Req_250: a Req_6497: b Sysreq_234.docx&quot;);\nboolean renameResult = file.renameTo(new File(file.getParent()+&quot;/&quot;+file.getName().replace(&quot;:&quot;, &quot;COLON&quot;).replace(&quot; &quot;, &quot;_&quot;)));\n</code></pre>\n"}],"owner":{"account_id":26409816,"reputation":1,"user_id":20059031,"display_name":"Sathish Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663835274,"creation_date":1663833187,"question_id":73811085,"body_markdown":"Like I am having \r\nReq_250: a\r\nReq_6497: b\r\nSysreq_234 a\r\nHere I want to put-&gt; &quot;COLON&quot; instead of &quot;:&quot; and &quot;_&quot; instead of &quot; &quot;\r\nHow to that please give idea ","title":"I have 30 docx file with the different name in that I want to to replace the some letters without affecting the inside content how do I that?","body":"<p>Like I am having\nReq_250: a\nReq_6497: b\nSysreq_234 a\nHere I want to put-&gt; &quot;COLON&quot; instead of &quot;:&quot; and &quot;_&quot; instead of &quot; &quot;\nHow to that please give idea</p>\n"},{"tags":["java","android","text-to-speech"],"comments":[{"owner":{"account_id":10715125,"reputation":477,"user_id":8228163,"display_name":"Edw590"},"score":0,"creation_date":1619200812,"post_id":55380816,"comment_id":118842825,"body_markdown":"Did you ever figure out how to do it?","body":"Did you ever figure out how to do it?"}],"answers":[{"tags":[],"owner":{"account_id":10715125,"reputation":477,"user_id":8228163,"display_name":"Edw590"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619634636,"creation_date":1619634636,"answer_id":67305964,"question_id":55380816,"body_markdown":"According to this  https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/PlayerBase.java#614, `STREAM_ACCESSIBILITY` seems not to be supposed to be used, aside from the use of volume control.","title":"TextToSpeech crash when using Accessibility Stream","body":"<p>According to this  <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/PlayerBase.java#614\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/master/media/java/android/media/PlayerBase.java#614</a>, <code>STREAM_ACCESSIBILITY</code> seems not to be supposed to be used, aside from the use of volume control.</p>\n"},{"tags":[],"owner":{"account_id":1973247,"reputation":135,"user_id":1771652,"display_name":"Nalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663835234,"creation_date":1663834275,"answer_id":73811300,"question_id":55380816,"body_markdown":"If you are using `AccessibilityService` then do following steps\r\n\r\nStep 1 : add [`flagEnableAccessibilityVolume`][1] in [AccessibilityServiceInfo][2]\r\n\r\nNote 1 : This flag requests that all audio tracks system-wide with `AudioAttributes.USAGE_ASSISTANCE_ACCESSIBILITY` be controlled by the `AudioManager.STREAM_ACCESSIBILITY` volume.\r\n\r\nStep 2 : set `AudioAttributes` to `TextToSpeech` object \r\n\r\n    mTextToSpeech.setAudioAttributes( new AudioAttributes.Builder()\r\n                            .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)\r\n                            .setUsage(AudioAttributes.USAGE_ASSISTANCE_ACCESSIBILITY)\r\n                            .build());\r\n\r\n[`AudioAttributes.USAGE_ASSISTANCE_ACCESSIBILITY`][3] - Usage value to use when the usage is for accessibility, such as with a screen reader.\r\n\r\nNote 2 : You don&#39;t have to use TextToSpeech.Engine.KEY_PARAM_STREAM \r\n\r\n  [1]: https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo#FLAG_ENABLE_ACCESSIBILITY_VOLUME\r\n  [2]: https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo\r\n  [3]: https://developer.android.com/reference/android/media/AudioAttributes#USAGE_ASSISTANCE_ACCESSIBILITY","title":"TextToSpeech crash when using Accessibility Stream","body":"<p>If you are using <code>AccessibilityService</code> then do following steps</p>\n<p>Step 1 : add <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo#FLAG_ENABLE_ACCESSIBILITY_VOLUME\" rel=\"nofollow noreferrer\"><code>flagEnableAccessibilityVolume</code></a> in <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo\" rel=\"nofollow noreferrer\">AccessibilityServiceInfo</a></p>\n<p>Note 1 : This flag requests that all audio tracks system-wide with <code>AudioAttributes.USAGE_ASSISTANCE_ACCESSIBILITY</code> be controlled by the <code>AudioManager.STREAM_ACCESSIBILITY</code> volume.</p>\n<p>Step 2 : set <code>AudioAttributes</code> to <code>TextToSpeech</code> object</p>\n<pre><code>mTextToSpeech.setAudioAttributes( new AudioAttributes.Builder()\n                        .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)\n                        .setUsage(AudioAttributes.USAGE_ASSISTANCE_ACCESSIBILITY)\n                        .build());\n</code></pre>\n<p><a href=\"https://developer.android.com/reference/android/media/AudioAttributes#USAGE_ASSISTANCE_ACCESSIBILITY\" rel=\"nofollow noreferrer\"><code>AudioAttributes.USAGE_ASSISTANCE_ACCESSIBILITY</code></a> - Usage value to use when the usage is for accessibility, such as with a screen reader.</p>\n<p>Note 2 : You don't have to use TextToSpeech.Engine.KEY_PARAM_STREAM</p>\n"}],"owner":{"account_id":3103485,"reputation":559,"user_id":2626963,"display_name":"Karim Aly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663835234,"creation_date":1553700202,"question_id":55380816,"body_markdown":"Hello I&#39;m trying to make TextToSpeech work through Accessibility Stream added in API 26.\r\nI&#39;ve tried to use the bundle parameters as stated in docs but the code crashes the TTS Engine.\r\n\r\nHere&#39;s the code:\r\n\r\n    Bundle mParamsBundle = new Bundle();\r\n    if (Build.VERSION.SDK_INT &gt;= 26) {\r\n\t\t\tmParamsBundle.putString(TextToSpeech.Engine.KEY_PARAM_STREAM,\r\n\t\t\t\t\tString.valueOf(AudioManager.STREAM_ACCESSIBILITY));\r\n\t}\r\n\r\n    mTextToSpeech.speak(sentence,\r\n\t\t\t\t\tmodeAddToQueue ? TextToSpeech.QUEUE_ADD : TextToSpeech.QUEUE_FLUSH,\r\n\t\t\t\t\tmParamsBundle, null);\r\n\r\nTTS always crash an this log shows:\r\n\r\n    I/TextToSpeech: Asked to disconnect from ComponentInfo{com.google.android.tts/com.google.android.tts.service.GoogleTTSService}\r\n\r\n    I/TextToSpeech: Connected to ComponentInfo{com.google.android.tts/com.google.android.tts.service.GoogleTTSService}\r\n\r\n    I/TextToSpeech: Set up connection to ComponentInfo{com.google.android.tts/com.google.android.tts.service.GoogleTTSService}\r\n\r\nWhat am i doing wrong here? Help would be appreciated\r\n\r\nFull Code:\r\n    \r\n    import android.content.Context;\r\n    import android.media.AudioManager;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.speech.tts.TextToSpeech;\r\n    \r\n    import java.util.Locale;\r\n    \r\n    public class TextToSpeechHelper implements TextToSpeech.OnInitListener {\r\n    \r\n    \tfinal private static float SPEECH_RATE = 0.9f;\r\n    \tprivate TextToSpeech mTextToSpeech;\r\n    \tprivate Bundle mParamsBundle;\r\n    \tprivate Locale mLocale;\r\n    \r\n    \tpublic TextToSpeechHelper(Context context, Locale locale) {\r\n    \t\tmTextToSpeech = new TextToSpeech(context, this);\r\n    \t\tmLocale = locale;\r\n    \t\tmParamsBundle = new Bundle();\r\n    \r\n    \t\tif (Build.VERSION.SDK_INT &gt;= 26) {\r\n    \t\t\tmParamsBundle.putString(TextToSpeech.Engine.KEY_PARAM_STREAM,\r\n    \t\t\t\t\tString.valueOf(AudioManager.STREAM_ACCESSIBILITY));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void speak(String sentence) {\r\n    \t\tspeak(sentence, true);\r\n    \t}\r\n    \r\n    \tpublic void speak(String sentence, boolean modeAddToQueue) {\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= 21) {\r\n    \t\t\tmTextToSpeech.speak(sentence,\r\n    \t\t\t\t\tmodeAddToQueue ? TextToSpeech.QUEUE_ADD : TextToSpeech.QUEUE_FLUSH,\r\n    \t\t\t\t\tmParamsBundle, null);\r\n    \t\t} else {\r\n    \t\t\tmTextToSpeech.speak(sentence,\r\n    \t\t\t\t\tmodeAddToQueue ? TextToSpeech.QUEUE_ADD : TextToSpeech.QUEUE_FLUSH,null);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic boolean isSpeaking() {\r\n    \t\treturn mTextToSpeech.isSpeaking();\r\n    \t}\r\n    \r\n    \tpublic void release() {\r\n    \t\tmTextToSpeech.shutdown();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onInit(int status) {\r\n    \t\tif(status != TextToSpeech.ERROR) {\r\n    \t\t\tmTextToSpeech.setLanguage(mLocale);\r\n    \t\t\t//mTextToSpeech.setSpeechRate(SPEECH_RATE);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"TextToSpeech crash when using Accessibility Stream","body":"<p>Hello I'm trying to make TextToSpeech work through Accessibility Stream added in API 26.\nI've tried to use the bundle parameters as stated in docs but the code crashes the TTS Engine.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>Bundle mParamsBundle = new Bundle();\nif (Build.VERSION.SDK_INT &gt;= 26) {\n        mParamsBundle.putString(TextToSpeech.Engine.KEY_PARAM_STREAM,\n                String.valueOf(AudioManager.STREAM_ACCESSIBILITY));\n}\n\nmTextToSpeech.speak(sentence,\n                modeAddToQueue ? TextToSpeech.QUEUE_ADD : TextToSpeech.QUEUE_FLUSH,\n                mParamsBundle, null);\n</code></pre>\n\n<p>TTS always crash an this log shows:</p>\n\n<pre><code>I/TextToSpeech: Asked to disconnect from ComponentInfo{com.google.android.tts/com.google.android.tts.service.GoogleTTSService}\n\nI/TextToSpeech: Connected to ComponentInfo{com.google.android.tts/com.google.android.tts.service.GoogleTTSService}\n\nI/TextToSpeech: Set up connection to ComponentInfo{com.google.android.tts/com.google.android.tts.service.GoogleTTSService}\n</code></pre>\n\n<p>What am i doing wrong here? Help would be appreciated</p>\n\n<p>Full Code:</p>\n\n<pre><code>import android.content.Context;\nimport android.media.AudioManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.speech.tts.TextToSpeech;\n\nimport java.util.Locale;\n\npublic class TextToSpeechHelper implements TextToSpeech.OnInitListener {\n\n    final private static float SPEECH_RATE = 0.9f;\n    private TextToSpeech mTextToSpeech;\n    private Bundle mParamsBundle;\n    private Locale mLocale;\n\n    public TextToSpeechHelper(Context context, Locale locale) {\n        mTextToSpeech = new TextToSpeech(context, this);\n        mLocale = locale;\n        mParamsBundle = new Bundle();\n\n        if (Build.VERSION.SDK_INT &gt;= 26) {\n            mParamsBundle.putString(TextToSpeech.Engine.KEY_PARAM_STREAM,\n                    String.valueOf(AudioManager.STREAM_ACCESSIBILITY));\n        }\n    }\n\n    public void speak(String sentence) {\n        speak(sentence, true);\n    }\n\n    public void speak(String sentence, boolean modeAddToQueue) {\n        if (Build.VERSION.SDK_INT &gt;= 21) {\n            mTextToSpeech.speak(sentence,\n                    modeAddToQueue ? TextToSpeech.QUEUE_ADD : TextToSpeech.QUEUE_FLUSH,\n                    mParamsBundle, null);\n        } else {\n            mTextToSpeech.speak(sentence,\n                    modeAddToQueue ? TextToSpeech.QUEUE_ADD : TextToSpeech.QUEUE_FLUSH,null);\n        }\n    }\n\n    public boolean isSpeaking() {\n        return mTextToSpeech.isSpeaking();\n    }\n\n    public void release() {\n        mTextToSpeech.shutdown();\n    }\n\n    @Override\n    public void onInit(int status) {\n        if(status != TextToSpeech.ERROR) {\n            mTextToSpeech.setLanguage(mLocale);\n            //mTextToSpeech.setSpeechRate(SPEECH_RATE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1663792270,"post_id":73786091,"comment_id":130325592,"body_markdown":"Are you acutally interested in the callers - ie instances of classes - or the calling classes - classes where instances exist that call the methods in question? If you are trying to find the latter isn&#39;t this what any IDE can tell you with features like &quot;Find References&quot; or &quot;Find Usages&quot; or however it is called in your IDE. If you are interested in the first than having a test to create such lists won&#39;t help you because there will be different instances once your application runs at a later time.","body":"Are you acutally interested in the callers - ie instances of classes - or the calling classes - classes where instances exist that call the methods in question? If you are trying to find the latter isn&#39;t this what any IDE can tell you with features like &quot;Find References&quot; or &quot;Find Usages&quot; or however it is called in your IDE. If you are interested in the first than having a test to create such lists won&#39;t help you because there will be different instances once your application runs at a later time."},{"owner":{"account_id":10405563,"reputation":33,"user_id":7672614,"display_name":"pitrisss"},"score":0,"creation_date":1663820194,"post_id":73786091,"comment_id":130330146,"body_markdown":"@SpaceTrucker I&#39;m interested in the latter. Yes, it&#39;s actually the same functionality that the IDEs give you. But I need it in file, and to be done automatically.","body":"@SpaceTrucker I&#39;m interested in the latter. Yes, it&#39;s actually the same functionality that the IDEs give you. But I need it in file, and to be done automatically."}],"answers":[{"tags":[],"owner":{"account_id":5248284,"reputation":2046,"user_id":4193280,"accept_rate":31,"display_name":"Saurabh Chaturvedi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663677455,"creation_date":1663677455,"answer_id":73786834,"question_id":73786091,"body_markdown":"You can achieve something like above in your question by making use of `JavaAssist` library as given here : [Java Assist - Java bytecode engineering toolkit][1]\r\n\r\n\r\n This Jar file provides you with methods that can help you inspect your classes and its methods much more deeply to fetch that kind of information (i.e , methods in a given class are invoking method from which particular class) . For example , lets take example of this class `A` as below :\r\n\r\n    public class A {\r\n    \r\n    \r\n    \r\n        void meth1()\r\n        {\r\n            System.out.println(&quot;meth1 A&quot;);\r\n        }\r\n    \r\n        void meth2()\r\n        {\r\n            System.out.println(&quot;meth2 A&quot;);\r\n        }\r\n    \r\n        void meth3()\r\n        {\r\n            System.out.println(&quot;meth3 A&quot;);\r\n        }\r\n    }\r\n\r\nNow , let&#39;s take another class `B` , which has also 3 methods . Inside each of these 3 methods , methods of A are being called as below :\r\n\r\n    public class B {\r\n    \r\n        A a =new A();\r\n        void meth1()\r\n        {\r\n            System.out.println(&quot;meth1 B&quot;);\r\n            a.meth1();\r\n        }\r\n    \r\n        void meth2()\r\n        {\r\n            System.out.println(&quot;meth2 B&quot;);\r\n            a.meth2();\r\n        }\r\n    \r\n        void meth3()\r\n        {\r\n            System.out.println(&quot;meth3 B&quot;);\r\n            a.meth3();\r\n        }\r\n    }\r\n\r\nAs you can see , methods in class `B` are invoking methods of class `A` from inside them . Now, we can make use of methods of JavaAssist library as shown below , to fetch the information that from each method of class `B` , which method of `A` has been called ? The `method.instrument` construct from the JavaAssist library allows you to build a bytecode manipulation expression , which helps you to list methods invoked per method and the classes to which those method belong . As a demo for your problem , i am adding the mapping to the method invocations in the `methodToInvokedMethodMap` , where key is the source class method from where method is being invoked , and value is the method which class information that is being invoked from inside method B , just like you asked in your question :) . Adding the code for the class `C` , which displays this mapping as below :\r\n\r\n    import javassist.*;\r\n    import javassist.expr.ExprEditor;\r\n    import javassist.expr.MethodCall;\r\n    \r\n    import java.lang.reflect.Method;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class C {\r\n    \r\n        static Map&lt;String, String&gt; methodToInvokedMethodMap = new HashMap&lt;&gt;();\r\n    \r\n        public static void main(String[] args) throws NotFoundException, CannotCompileException {\r\n    \r\n    \r\n            Class thisClass = B.class;\r\n            Method[] methods = thisClass.getDeclaredMethods();\r\n    \r\n            for (int i = 0; i &lt; methods.length; i++) {\r\n    \r\n    \r\n                ClassPool cp = ClassPool.getDefault();\r\n                CtClass ctClass = cp.get(&quot;B&quot;);\r\n    \r\n    \r\n                String currentMethod = methods[i].getName().toString();\r\n                CtMethod method = ctClass.getDeclaredMethod(methods[i].getName().toString());\r\n                method.instrument(new ExprEditor() {\r\n                    public void edit(MethodCall m) throws CannotCompileException {\r\n    \r\n                        if (m.getClassName().equals(&quot;A&quot;)) {\r\n                            methodToInvokedMethodMap.put(&quot;Class B method &quot; + currentMethod, m.getClassName() + &quot; with name as : &quot; + m.getMethodName());\r\n                        }\r\n                    }\r\n                });\r\n    \r\n    \r\n                methodToInvokedMethodMap.forEach((key, value) -&gt; {\r\n                    System.out.println(key + &quot; invokes method from class &quot; + value);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nYou can further explore JavaAssist library to find out different methods to serve your usecase . Also , in your Spring Boot project you can use this Jar as it is , or you can convert this jar as a Maven Dependency in your project and use it as a dependency via your `pom.xml` file . Hope this helps you resolve the problem you asked for :) .\r\n\r\nAlso , i&#39;m attaching here how the output looks like for this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://%20https://github.com/jboss-javassist/javassist/blob/master/javassist.jar\r\n  [2]: https://i.stack.imgur.com/vrde2.png","title":"How to find all callers of all methods in a specified class?","body":"<p>You can achieve something like above in your question by making use of <code>JavaAssist</code> library as given here : <a href=\"https://%20https://github.com/jboss-javassist/javassist/blob/master/javassist.jar\" rel=\"nofollow noreferrer\">Java Assist - Java bytecode engineering toolkit</a></p>\n<p>This Jar file provides you with methods that can help you inspect your classes and its methods much more deeply to fetch that kind of information (i.e , methods in a given class are invoking method from which particular class) . For example , lets take example of this class <code>A</code> as below :</p>\n<pre><code>public class A {\n\n\n\n    void meth1()\n    {\n        System.out.println(&quot;meth1 A&quot;);\n    }\n\n    void meth2()\n    {\n        System.out.println(&quot;meth2 A&quot;);\n    }\n\n    void meth3()\n    {\n        System.out.println(&quot;meth3 A&quot;);\n    }\n}\n</code></pre>\n<p>Now , let's take another class <code>B</code> , which has also 3 methods . Inside each of these 3 methods , methods of A are being called as below :</p>\n<pre><code>public class B {\n\n    A a =new A();\n    void meth1()\n    {\n        System.out.println(&quot;meth1 B&quot;);\n        a.meth1();\n    }\n\n    void meth2()\n    {\n        System.out.println(&quot;meth2 B&quot;);\n        a.meth2();\n    }\n\n    void meth3()\n    {\n        System.out.println(&quot;meth3 B&quot;);\n        a.meth3();\n    }\n}\n</code></pre>\n<p>As you can see , methods in class <code>B</code> are invoking methods of class <code>A</code> from inside them . Now, we can make use of methods of JavaAssist library as shown below , to fetch the information that from each method of class <code>B</code> , which method of <code>A</code> has been called ? The <code>method.instrument</code> construct from the JavaAssist library allows you to build a bytecode manipulation expression , which helps you to list methods invoked per method and the classes to which those method belong . As a demo for your problem , i am adding the mapping to the method invocations in the <code>methodToInvokedMethodMap</code> , where key is the source class method from where method is being invoked , and value is the method which class information that is being invoked from inside method B , just like you asked in your question :) . Adding the code for the class <code>C</code> , which displays this mapping as below :</p>\n<pre><code>import javassist.*;\nimport javassist.expr.ExprEditor;\nimport javassist.expr.MethodCall;\n\nimport java.lang.reflect.Method;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class C {\n\n    static Map&lt;String, String&gt; methodToInvokedMethodMap = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) throws NotFoundException, CannotCompileException {\n\n\n        Class thisClass = B.class;\n        Method[] methods = thisClass.getDeclaredMethods();\n\n        for (int i = 0; i &lt; methods.length; i++) {\n\n\n            ClassPool cp = ClassPool.getDefault();\n            CtClass ctClass = cp.get(&quot;B&quot;);\n\n\n            String currentMethod = methods[i].getName().toString();\n            CtMethod method = ctClass.getDeclaredMethod(methods[i].getName().toString());\n            method.instrument(new ExprEditor() {\n                public void edit(MethodCall m) throws CannotCompileException {\n\n                    if (m.getClassName().equals(&quot;A&quot;)) {\n                        methodToInvokedMethodMap.put(&quot;Class B method &quot; + currentMethod, m.getClassName() + &quot; with name as : &quot; + m.getMethodName());\n                    }\n                }\n            });\n\n\n            methodToInvokedMethodMap.forEach((key, value) -&gt; {\n                System.out.println(key + &quot; invokes method from class &quot; + value);\n            });\n        }\n    }\n}\n</code></pre>\n<p>You can further explore JavaAssist library to find out different methods to serve your usecase . Also , in your Spring Boot project you can use this Jar as it is , or you can convert this jar as a Maven Dependency in your project and use it as a dependency via your <code>pom.xml</code> file . Hope this helps you resolve the problem you asked for :) .</p>\n<p>Also , i'm attaching here how the output looks like for this :</p>\n<p><a href=\"https://i.stack.imgur.com/vrde2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vrde2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663834226,"creation_date":1663834226,"answer_id":73811287,"question_id":73786091,"body_markdown":"Attach a debugger to your running application and set some breakpoints using your IDE to the methods where you want to know the calling classes of. Then configure these breakpoint to log/write the information you want to some file (In eclipse you can find this under &quot;Conditional&quot; in the breakpoint properties, in IntelliJ the breakpoint properties have an &quot;Evaluate and Log&quot; section for example).\r\n\r\nIn these breakpoints you can for example use `Thread.currentThread().getStackTrace()` to access the stack trace and collect the information you want from the result.","title":"How to find all callers of all methods in a specified class?","body":"<p>Attach a debugger to your running application and set some breakpoints using your IDE to the methods where you want to know the calling classes of. Then configure these breakpoint to log/write the information you want to some file (In eclipse you can find this under &quot;Conditional&quot; in the breakpoint properties, in IntelliJ the breakpoint properties have an &quot;Evaluate and Log&quot; section for example).</p>\n<p>In these breakpoints you can for example use <code>Thread.currentThread().getStackTrace()</code> to access the stack trace and collect the information you want from the result.</p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663835074,"creation_date":1663835074,"answer_id":73811483,"question_id":73786091,"body_markdown":"Here is a variant that doesn&#39;t need a running application.\r\n\r\nOpen the project in eclipse. If you don&#39;t have a project for your application create a new java project and add everything from the classpath of your application to the new java project.\r\n\r\nThen search for the methods you want to collect the callers. Then for each of those use &quot;References&quot; -&gt; &quot;Project&quot; to find those. In the resulting search view select &quot;Show as List&quot; from the view options and adopt search preferences and filters to adapt the result to your needs. Then select every match in the view and just copy this to a file. \r\n\r\nThe file will look something like this (shown are references to `java.lang.Thread#interrupt()`):\r\n```\r\nacquireRead(boolean, long) (4 matches) - java.util.concurrent.locks.StampedLock\r\nafterReadLine() - jline.console.ConsoleReader\r\nappend(LoggingEvent) - org.apache.log4j.AsyncAppender\r\nappend(LoggingEvent) - org.apache.log4j.net.SocketAppender\r\napply(Source, Target, List&lt;? extends Factory&gt;) - net.bytebuddy.build.Plugin.Engine.Default\r\nawaitTermination(ExecutorService) - org.apache.solr.common.util.ExecutorUtil\r\ncleanUp() - org.apache.log4j.net.SocketHubAppender\r\nclose() - com.mchange.v1.util.SimpleRunnableQueue\r\nclose() - com.zaxxer.hikari.HikariDataSource\r\nclose() - org.apache.solr.client.solrj.impl.ConcurrentUpdateHttp2SolrClient\r\ncloseKeeper(SolrZooKeeper) - org.apache.solr.common.cloud.SolrZkClient\r\ncreateTimeoutException(Thread) - org.junit.internal.runners.statements.FailOnTimeout\r\ndoConfigure(ParseAction, LoggerRepository) - org.apache.log4j.xml.DOMConfigurator\r\n```\r\n\r\nThis method won&#39;t find reflection based calls.","title":"How to find all callers of all methods in a specified class?","body":"<p>Here is a variant that doesn't need a running application.</p>\n<p>Open the project in eclipse. If you don't have a project for your application create a new java project and add everything from the classpath of your application to the new java project.</p>\n<p>Then search for the methods you want to collect the callers. Then for each of those use &quot;References&quot; -&gt; &quot;Project&quot; to find those. In the resulting search view select &quot;Show as List&quot; from the view options and adopt search preferences and filters to adapt the result to your needs. Then select every match in the view and just copy this to a file.</p>\n<p>The file will look something like this (shown are references to <code>java.lang.Thread#interrupt()</code>):</p>\n<pre><code>acquireRead(boolean, long) (4 matches) - java.util.concurrent.locks.StampedLock\nafterReadLine() - jline.console.ConsoleReader\nappend(LoggingEvent) - org.apache.log4j.AsyncAppender\nappend(LoggingEvent) - org.apache.log4j.net.SocketAppender\napply(Source, Target, List&lt;? extends Factory&gt;) - net.bytebuddy.build.Plugin.Engine.Default\nawaitTermination(ExecutorService) - org.apache.solr.common.util.ExecutorUtil\ncleanUp() - org.apache.log4j.net.SocketHubAppender\nclose() - com.mchange.v1.util.SimpleRunnableQueue\nclose() - com.zaxxer.hikari.HikariDataSource\nclose() - org.apache.solr.client.solrj.impl.ConcurrentUpdateHttp2SolrClient\ncloseKeeper(SolrZooKeeper) - org.apache.solr.common.cloud.SolrZkClient\ncreateTimeoutException(Thread) - org.junit.internal.runners.statements.FailOnTimeout\ndoConfigure(ParseAction, LoggerRepository) - org.apache.log4j.xml.DOMConfigurator\n</code></pre>\n<p>This method won't find reflection based calls.</p>\n"}],"owner":{"account_id":10405563,"reputation":33,"user_id":7672614,"display_name":"pitrisss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73786834,"answer_count":3,"score":1,"last_activity_date":1663835074,"creation_date":1663673948,"question_id":73786091,"body_markdown":"I&#39;m looking for a way to output into file all methods, that are calling all methods in a specified class. I see that I could use ASM for this, but I cannot figure it out.\r\n\r\nExample:\r\nclass A has methods aA, bA, cA.\r\nclass B calls methods aB -&gt; aA, bB -&gt; bA, cB -&gt; cA.\r\n\r\nI want to output &quot;aB -&gt; aA, bB -&gt; bA, cB -&gt; cA&quot; into file. \r\n\r\nMy main goal is to trace all these calls from ExceptionFactory to service layer, and then output which service methods can throw specific exceptions.\r\n\r\nThe most suitable way for me would be, that it would run as a test, the file would be created during test phase.\r\n\r\nEDIT: I actually don&#39;t know what class B is, I need to find out which class/classes calls class A.","title":"How to find all callers of all methods in a specified class?","body":"<p>I'm looking for a way to output into file all methods, that are calling all methods in a specified class. I see that I could use ASM for this, but I cannot figure it out.</p>\n<p>Example:\nclass A has methods aA, bA, cA.\nclass B calls methods aB -&gt; aA, bB -&gt; bA, cB -&gt; cA.</p>\n<p>I want to output &quot;aB -&gt; aA, bB -&gt; bA, cB -&gt; cA&quot; into file.</p>\n<p>My main goal is to trace all these calls from ExceptionFactory to service layer, and then output which service methods can throw specific exceptions.</p>\n<p>The most suitable way for me would be, that it would run as a test, the file would be created during test phase.</p>\n<p>EDIT: I actually don't know what class B is, I need to find out which class/classes calls class A.</p>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":1543502,"reputation":1118,"user_id":1437593,"display_name":"Ryan Skraba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663690515,"creation_date":1663690515,"answer_id":73789727,"question_id":73784337,"body_markdown":"The type of the union is definitely kept.  It&#39;s maintained in the schema and in the serialized data.\r\n\r\nIn your example schema, I added a long `id1` field to `PersonEventDto`, and `id2` field to `CustomerEventDto`.  The following test case works on the generated code (Avro 1.11.1):\r\n\r\n    @Test\r\n    public void testBasic() throws IOException {\r\n        // both null\r\n        EventWrapper ew = EventWrapper.newBuilder().setDelta(null).setData(null).build();\r\n        EventWrapper roundTrip = EventWrapper.fromByteBuffer(ew.toByteBuffer());\r\n        assertThat(roundTrip.getDelta(), nullValue());\r\n        assertThat(roundTrip.getData(), nullValue());\r\n\r\n        // With a person\r\n        EventWrapper ewPerson = EventWrapper.newBuilder().setDelta(null).setData(\r\n                PersonEventDto.newBuilder().setId1(123L).build()).build();\r\n\r\n        roundTrip = EventWrapper.fromByteBuffer(ewPerson.toByteBuffer());\r\n        assertThat(roundTrip.getDelta(), nullValue());\r\n        assertThat(roundTrip.getData(), instanceOf(PersonEventDto.class));\r\n        assertThat(roundTrip.getData(), hasProperty(&quot;id1&quot;, is(123L)));\r\n        assertThat(((PersonEventDto)roundTrip.getData()).getId1(), is(123L));\r\n\r\n        // With a customer event\r\n        EventWrapper ewCustomer = EventWrapper.newBuilder().setDelta(null).setData(\r\n                CustomerEventDto.newBuilder().setId2(234L).build()).build();\r\n\r\n        roundTrip = EventWrapper.fromByteBuffer(ewCustomer.toByteBuffer());\r\n        assertThat(roundTrip.getDelta(), nullValue());\r\n        assertThat(roundTrip.getData(), instanceOf(CustomerEventDto.class));\r\n        assertThat(roundTrip.getData(), hasProperty(&quot;id2&quot;, is(234L)));\r\n    }\r\n\r\n\r\nBecause `data` is a union of two different types, `Object` is the common parent used to represent it.  You can still use Java&#39;s `instanceof` to distinguish between the two of them, and cast the deserialized value as appropriate.","title":"Problems to deserialise a Record type from avro in Java when is inside a union of two Records","body":"<p>The type of the union is definitely kept.  It's maintained in the schema and in the serialized data.</p>\n<p>In your example schema, I added a long <code>id1</code> field to <code>PersonEventDto</code>, and <code>id2</code> field to <code>CustomerEventDto</code>.  The following test case works on the generated code (Avro 1.11.1):</p>\n<pre><code>@Test\npublic void testBasic() throws IOException {\n    // both null\n    EventWrapper ew = EventWrapper.newBuilder().setDelta(null).setData(null).build();\n    EventWrapper roundTrip = EventWrapper.fromByteBuffer(ew.toByteBuffer());\n    assertThat(roundTrip.getDelta(), nullValue());\n    assertThat(roundTrip.getData(), nullValue());\n\n    // With a person\n    EventWrapper ewPerson = EventWrapper.newBuilder().setDelta(null).setData(\n            PersonEventDto.newBuilder().setId1(123L).build()).build();\n\n    roundTrip = EventWrapper.fromByteBuffer(ewPerson.toByteBuffer());\n    assertThat(roundTrip.getDelta(), nullValue());\n    assertThat(roundTrip.getData(), instanceOf(PersonEventDto.class));\n    assertThat(roundTrip.getData(), hasProperty(&quot;id1&quot;, is(123L)));\n    assertThat(((PersonEventDto)roundTrip.getData()).getId1(), is(123L));\n\n    // With a customer event\n    EventWrapper ewCustomer = EventWrapper.newBuilder().setDelta(null).setData(\n            CustomerEventDto.newBuilder().setId2(234L).build()).build();\n\n    roundTrip = EventWrapper.fromByteBuffer(ewCustomer.toByteBuffer());\n    assertThat(roundTrip.getDelta(), nullValue());\n    assertThat(roundTrip.getData(), instanceOf(CustomerEventDto.class));\n    assertThat(roundTrip.getData(), hasProperty(&quot;id2&quot;, is(234L)));\n}\n</code></pre>\n<p>Because <code>data</code> is a union of two different types, <code>Object</code> is the common parent used to represent it.  You can still use Java's <code>instanceof</code> to distinguish between the two of them, and cast the deserialized value as appropriate.</p>\n"},{"tags":[],"owner":{"account_id":21317405,"reputation":49,"user_id":15691054,"display_name":"Gerard Puig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663834816,"creation_date":1663759448,"answer_id":73799925,"question_id":73784337,"body_markdown":"Solved! The problem was in the consumer side not in the avro schema!\r\n\r\nI needed to add this configuration in the consumer’s  yml:\r\n\r\n`spring.cloud.stream.kafka.binder.consumer-properties.specific.avro.reader: true`\r\n\r\nand now it converts the object to the specific type instead the LinkedHashMap!!(I&#39;m using **spring-cloud-stream-binder-kafka** but I sure there is te equivalent with a regular spring kafka library)\r\n\r\nAnd now the deserilizer convert correctly the data with the specific type and I can convert the Object just doing this:\r\n\r\n`CustomerEventDto customer = (CustomerEventDto) event.getPayload().getData();`\r\n\r\n\r\nThanks Ryan Skraba!!! Your comment make me think outside the box and check the consumer and not the avro-maven-plugin!","title":"Problems to deserialise a Record type from avro in Java when is inside a union of two Records","body":"<p>Solved! The problem was in the consumer side not in the avro schema!</p>\n<p>I needed to add this configuration in the consumer’s  yml:</p>\n<p><code>spring.cloud.stream.kafka.binder.consumer-properties.specific.avro.reader: true</code></p>\n<p>and now it converts the object to the specific type instead the LinkedHashMap!!(I'm using <strong>spring-cloud-stream-binder-kafka</strong> but I sure there is te equivalent with a regular spring kafka library)</p>\n<p>And now the deserilizer convert correctly the data with the specific type and I can convert the Object just doing this:</p>\n<p><code>CustomerEventDto customer = (CustomerEventDto) event.getPayload().getData();</code></p>\n<p>Thanks Ryan Skraba!!! Your comment make me think outside the box and check the consumer and not the avro-maven-plugin!</p>\n"}],"owner":{"account_id":21317405,"reputation":49,"user_id":15691054,"display_name":"Gerard Puig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73799925,"answer_count":2,"score":1,"last_activity_date":1663834816,"creation_date":1663665483,"question_id":73784337,"body_markdown":"I write here as I&#39;m having problems to deserialise a Record type in Java when is inside a union of two Records and I didn&#39;t find any similar post.\r\n\r\nI would like to ask, is anyone of you face this problem and/or can help me to find a solution??\r\n\r\nThe avro schema that we defined is with a EventWrapper like this:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;EventWrapper&quot;,\r\n      &quot;namespace&quot;: &quot;com.my.spec.avro.wrapper&quot;,\r\n      &quot;fields&quot;: [{\r\n          &quot;name&quot;: &quot;delta&quot;,\r\n          &quot;type&quot;: &quot;null&quot;, \r\n          &quot;default&quot;: null\r\n        },{\r\n          &quot;name&quot;: &quot;data&quot;,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            {\r\n              &quot;type&quot;: &quot;record&quot;,\r\n              &quot;name&quot;: &quot;PersonEventDto&quot;,\r\n              &quot;namespace&quot;: &quot;com.my.spec.avro.entity&quot;,\r\n              &quot;fields&quot;:[\r\n                .....\r\n              ]\r\n            },{\r\n              &quot;type&quot;: &quot;record&quot;,\r\n              &quot;name&quot;: &quot;CustomerEventDto&quot;,\r\n              &quot;namespace&quot;: &quot;com.my.spec.avro.entity&quot;,\r\n              &quot;fields&quot;: [\r\n                .....\r\n              ]\r\n            }\r\n          ],\r\n          &quot;default&quot;: null\r\n        }\r\n      ]\r\n    }\r\n\r\nThe idea is to have delta and data, both of them nullable and, by the moment, we defined two records in the field of data. PersonEventDto and CustomerEventDto.\r\n\r\nThe problem is that the plugin avro-maven-plugin converts this union data to Object in java and it doesn’t keep the type anywhere.\r\n\r\n    private java.lang.Object data;\r\n\r\nAnd when we want to deserialise it using this EventWrapper object generated from the avro maven plugin and we can’t get the data object with its real type. (PersonEventDto and CustomerEventDto.)\r\n\r\nAnyone faced this problem with record and unions?  Is there a way that avro or maven plugin keeps the types to have it in the serialization or deserialization?\r\n\r\nThanks you in advance!","title":"Problems to deserialise a Record type from avro in Java when is inside a union of two Records","body":"<p>I write here as I'm having problems to deserialise a Record type in Java when is inside a union of two Records and I didn't find any similar post.</p>\n<p>I would like to ask, is anyone of you face this problem and/or can help me to find a solution??</p>\n<p>The avro schema that we defined is with a EventWrapper like this:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;EventWrapper&quot;,\n  &quot;namespace&quot;: &quot;com.my.spec.avro.wrapper&quot;,\n  &quot;fields&quot;: [{\n      &quot;name&quot;: &quot;delta&quot;,\n      &quot;type&quot;: &quot;null&quot;, \n      &quot;default&quot;: null\n    },{\n      &quot;name&quot;: &quot;data&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n          &quot;type&quot;: &quot;record&quot;,\n          &quot;name&quot;: &quot;PersonEventDto&quot;,\n          &quot;namespace&quot;: &quot;com.my.spec.avro.entity&quot;,\n          &quot;fields&quot;:[\n            .....\n          ]\n        },{\n          &quot;type&quot;: &quot;record&quot;,\n          &quot;name&quot;: &quot;CustomerEventDto&quot;,\n          &quot;namespace&quot;: &quot;com.my.spec.avro.entity&quot;,\n          &quot;fields&quot;: [\n            .....\n          ]\n        }\n      ],\n      &quot;default&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>The idea is to have delta and data, both of them nullable and, by the moment, we defined two records in the field of data. PersonEventDto and CustomerEventDto.</p>\n<p>The problem is that the plugin avro-maven-plugin converts this union data to Object in java and it doesn’t keep the type anywhere.</p>\n<pre><code>private java.lang.Object data;\n</code></pre>\n<p>And when we want to deserialise it using this EventWrapper object generated from the avro maven plugin and we can’t get the data object with its real type. (PersonEventDto and CustomerEventDto.)</p>\n<p>Anyone faced this problem with record and unions?  Is there a way that avro or maven plugin keeps the types to have it in the serialization or deserialization?</p>\n<p>Thanks you in advance!</p>\n"},{"tags":["java","solr"],"answers":[{"tags":[],"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595512507,"creation_date":1595510336,"answer_id":63055267,"question_id":63055242,"body_markdown":"You need to use the `string` as `fieldtype` for your field `programLocation`.\r\n\r\nApply the String as `fieldtype` and reindex the data.\r\n\r\n    &lt;field name=&quot;programLocation&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;true&quot; required=&quot;true&quot; multiValued=&quot;false&quot; /&gt;\r\n\r\n`String` stores the word/sentence as an exact string without performing any tokenization on it.\r\nIts useful in cases for storing exact matches, e.g, for faceting, sorting.\r\n\r\nOpposite of `string` type is `text`.\r\n`Text` does the tokenization of data, performs processing such as lower-casing etc. It is helpful in case when we want to match part of a sentence.\r\n\r\nIf you want achieve the lowercase search then use the below fieldtype for you field.\r\n\r\n    &lt;fieldType name=&quot;forExactMatch&quot; class=&quot;solr.TextField&quot; sortMissingLast=&quot;true&quot; omitNorms=&quot;true&quot;&gt;\r\n          &lt;analyzer&gt;\r\n            &lt;!-- KeywordTokenizer does no actual tokenizing, so the entire\r\n                 input string is preserved as a single token\r\n              --&gt;\r\n            &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot;/&gt;\r\n            &lt;!-- The LowerCase TokenFilter does what you expect, which can be\r\n                 when you want your sorting to be case insensitive\r\n              --&gt;\r\n            &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot; /&gt;\r\n          &lt;/analyzer&gt;\r\n        &lt;/fieldType&gt;\r\n\r\nIf you have spaces the you can also use the below filter after the lowercase filter factory.\r\n\r\n&lt;!-- The TrimFilter removes any leading or trailing whitespace --&gt;\r\n\r\n    &lt;filter class=&quot;solr.TrimFilterFactory&quot; /&gt;\r\n\r\nThen your field defination will look like below \r\n\r\n    &lt;field name=&quot;programLocation&quot; type=&quot;forExactMatch&quot; indexed=&quot;true&quot; stored=&quot;true&quot;/&gt;","title":"How to match exact Search in Solr with space","body":"<p>You need to use the <code>string</code> as <code>fieldtype</code> for your field <code>programLocation</code>.</p>\n<p>Apply the String as <code>fieldtype</code> and reindex the data.</p>\n<pre><code>&lt;field name=&quot;programLocation&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;true&quot; required=&quot;true&quot; multiValued=&quot;false&quot; /&gt;\n</code></pre>\n<p><code>String</code> stores the word/sentence as an exact string without performing any tokenization on it.\nIts useful in cases for storing exact matches, e.g, for faceting, sorting.</p>\n<p>Opposite of <code>string</code> type is <code>text</code>.\n<code>Text</code> does the tokenization of data, performs processing such as lower-casing etc. It is helpful in case when we want to match part of a sentence.</p>\n<p>If you want achieve the lowercase search then use the below fieldtype for you field.</p>\n<pre><code>&lt;fieldType name=&quot;forExactMatch&quot; class=&quot;solr.TextField&quot; sortMissingLast=&quot;true&quot; omitNorms=&quot;true&quot;&gt;\n      &lt;analyzer&gt;\n        &lt;!-- KeywordTokenizer does no actual tokenizing, so the entire\n             input string is preserved as a single token\n          --&gt;\n        &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot;/&gt;\n        &lt;!-- The LowerCase TokenFilter does what you expect, which can be\n             when you want your sorting to be case insensitive\n          --&gt;\n        &lt;filter class=&quot;solr.LowerCaseFilterFactory&quot; /&gt;\n      &lt;/analyzer&gt;\n    &lt;/fieldType&gt;\n</code></pre>\n<p>If you have spaces the you can also use the below filter after the lowercase filter factory.</p>\n\n<pre><code>&lt;filter class=&quot;solr.TrimFilterFactory&quot; /&gt;\n</code></pre>\n<p>Then your field defination will look like below</p>\n<pre><code>&lt;field name=&quot;programLocation&quot; type=&quot;forExactMatch&quot; indexed=&quot;true&quot; stored=&quot;true&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3077118,"reputation":3050,"user_id":2606178,"accept_rate":71,"display_name":"amdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663834723,"creation_date":1663834723,"answer_id":73811409,"question_id":63055242,"body_markdown":"For an exact match with lucene search in java\r\n\r\n`?q=&quot;Your search&quot;~0`\r\n\r\nYour can play with the integer to define the max distance between words\r\n\r\n`?q=&quot;Your search&quot;~2`\r\n\r\nExemple : &quot;This is an awesome exemple of exact match&quot;\r\n\r\n- `?q=&quot;awesome exemple&quot;~0` will match\r\n- `?q=&quot;awesome exact match&quot;~0` won&#39;t match\r\n- `?q=&quot;awesome exact match&quot;~2` will match\r\n\r\n","title":"How to match exact Search in Solr with space","body":"<p>For an exact match with lucene search in java</p>\n<p><code>?q=&quot;Your search&quot;~0</code></p>\n<p>Your can play with the integer to define the max distance between words</p>\n<p><code>?q=&quot;Your search&quot;~2</code></p>\n<p>Exemple : &quot;This is an awesome exemple of exact match&quot;</p>\n<ul>\n<li><code>?q=&quot;awesome exemple&quot;~0</code> will match</li>\n<li><code>?q=&quot;awesome exact match&quot;~0</code> won't match</li>\n<li><code>?q=&quot;awesome exact match&quot;~2</code> will match</li>\n</ul>\n"}],"owner":{"account_id":11147313,"reputation":13,"user_id":8181605,"display_name":"Shabarish Poojary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63055267,"answer_count":2,"score":0,"last_activity_date":1663834723,"creation_date":1595510251,"question_id":63055242,"body_markdown":"How to search a part of the word when space is present between two words. My query this like below\r\n\r\n    /select?q=*:*&amp;fq=pageType:program&amp;fl=programLocation&amp;rows=100&amp;fq=programLocation:&quot;Mohali&quot;\r\n\r\nThe result I am getting is as below\r\n\r\n \r\n\r\n    &quot;response&quot;:{&quot;numFound&quot;:3,&quot;start&quot;:0,&quot;docs&quot;:[\r\n          {\r\n            &quot;programLocation&quot;:[&quot;Mohali&quot;]},\r\n          {\r\n            &quot;programLocation&quot;:[&quot;Mohali&quot;]},\r\n          {\r\n            &quot;programLocation&quot;:[&quot;Mohali and Hyderabad&quot;]}]\r\n\r\nI want to retrieve only &quot;Mohali&quot;, but now I am getting both  &quot;Mohali&quot; and &quot;Mohali and Hyderabad&quot;. How to form a query to only fetch Mohali?","title":"How to match exact Search in Solr with space","body":"<p>How to search a part of the word when space is present between two words. My query this like below</p>\n<pre><code>/select?q=*:*&amp;fq=pageType:program&amp;fl=programLocation&amp;rows=100&amp;fq=programLocation:&quot;Mohali&quot;\n</code></pre>\n<p>The result I am getting is as below</p>\n<pre><code>&quot;response&quot;:{&quot;numFound&quot;:3,&quot;start&quot;:0,&quot;docs&quot;:[\n      {\n        &quot;programLocation&quot;:[&quot;Mohali&quot;]},\n      {\n        &quot;programLocation&quot;:[&quot;Mohali&quot;]},\n      {\n        &quot;programLocation&quot;:[&quot;Mohali and Hyderabad&quot;]}]\n</code></pre>\n<p>I want to retrieve only &quot;Mohali&quot;, but now I am getting both  &quot;Mohali&quot; and &quot;Mohali and Hyderabad&quot;. How to form a query to only fetch Mohali?</p>\n"},{"tags":["java","spring","spring-boot","docker","gradle"],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648751990,"creation_date":1648751647,"answer_id":71697541,"question_id":71697307,"body_markdown":"After almost 7 years of building Docker images from Gradle, long before Docker became a commonplace thing, I’ve never done option 2. I’ve done options 1 and 3, primarily 3.\r\n\r\nThe problem with #1 is that you lose the information from your Gradle project that can be used to build the image, like the location of the jar file and the project name (there are several others). You end up redefining them on the command line, and the result could be very different.\r\n\r\nThe problem with #2 is the loss of developer productivity and conflating responsibilities. I can’t imagine building a Docker image every time I made a change to the code. Gradle is a build tool, Docker is a delivery mechanism, and they have different goals.\r\n\r\n\r\nThere are many articles that you can find online for building Docker images that apply equally well to Spring applications. Most notably:\r\n 1. Use layers to avoid rebuilding code not changed.\r\n 2. Use a Gradle Docker plugin to integrate Docker build within Gradle. I’m not sure if the Spring Boot plugin has integrated Docker build task now, if so, use that.\r\n 3. Use a JRE as base instead of JDK if your code can live with that. Many projects don’t need JDK to run.","title":"Best practices while building docker images for spring boot app via gradle","body":"<p>After almost 7 years of building Docker images from Gradle, long before Docker became a commonplace thing, I’ve never done option 2. I’ve done options 1 and 3, primarily 3.</p>\n<p>The problem with #1 is that you lose the information from your Gradle project that can be used to build the image, like the location of the jar file and the project name (there are several others). You end up redefining them on the command line, and the result could be very different.</p>\n<p>The problem with #2 is the loss of developer productivity and conflating responsibilities. I can’t imagine building a Docker image every time I made a change to the code. Gradle is a build tool, Docker is a delivery mechanism, and they have different goals.</p>\n<p>There are many articles that you can find online for building Docker images that apply equally well to Spring applications. Most notably:</p>\n<ol>\n<li>Use layers to avoid rebuilding code not changed.</li>\n<li>Use a Gradle Docker plugin to integrate Docker build within Gradle. I’m not sure if the Spring Boot plugin has integrated Docker build task now, if so, use that.</li>\n<li>Use a JRE as base instead of JDK if your code can live with that. Many projects don’t need JDK to run.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663834580,"creation_date":1663834580,"answer_id":73811373,"question_id":71697307,"body_markdown":"After a lot of thought and research I have switched to buildpacks.\r\n\r\nAlso, I have included image build process in build with maven plugin.\r\n\r\nBuildpacks are mature way of building docker images with all best practices and security in mind.\r\n\r\nDockerfile is good option if you have a really really custom requirement that does not fit in ideal scenarios and requires custom development.\r\n\r\nExample of buildpacks:\r\nhttps://paketo.io/docs/howto/java/\r\n\r\n**For this java buildpack you can configure:**\r\n1. you can configure your ssl certificates\r\n2. jvm options\r\n3. remote debugging options\r\n4. JVM vendor switching\r\n5. Custom command launch\r\n6. and list goes on...\r\n\r\nAlso you do not need to worry for all best practices (https://docs.docker.com/develop/develop-images/dockerfile_best-practices/), buildpacks handle that for you.\r\n\r\nIn case of dockerfile, you might forget to apply standard practices to your docker image(when we are dealing with lot of services/images).\r\n\r\nSo its another piece of code to maintain and ensure you follow all practices correctly.\r\n\r\n\r\nAlso you can include buildpack in your builds as well,\r\neg: you can use spring boot gradle or maven plugin\r\nref: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#build-image \r\n\r\nRef: https://tanzu.vmware.com/developer/blog/understanding-the-differences-between-dockerfile-and-cloud-native-buildpacks/\r\n\r\nref: https://cloud.google.com/blog/topics/developers-practitioners/comparing-containerization-methods-buildpacks-jib-and-dockerfile","title":"Best practices while building docker images for spring boot app via gradle","body":"<p>After a lot of thought and research I have switched to buildpacks.</p>\n<p>Also, I have included image build process in build with maven plugin.</p>\n<p>Buildpacks are mature way of building docker images with all best practices and security in mind.</p>\n<p>Dockerfile is good option if you have a really really custom requirement that does not fit in ideal scenarios and requires custom development.</p>\n<p>Example of buildpacks:\n<a href=\"https://paketo.io/docs/howto/java/\" rel=\"nofollow noreferrer\">https://paketo.io/docs/howto/java/</a></p>\n<p><strong>For this java buildpack you can configure:</strong></p>\n<ol>\n<li>you can configure your ssl certificates</li>\n<li>jvm options</li>\n<li>remote debugging options</li>\n<li>JVM vendor switching</li>\n<li>Custom command launch</li>\n<li>and list goes on...</li>\n</ol>\n<p>Also you do not need to worry for all best practices (<a href=\"https://docs.docker.com/develop/develop-images/dockerfile_best-practices/\" rel=\"nofollow noreferrer\">https://docs.docker.com/develop/develop-images/dockerfile_best-practices/</a>), buildpacks handle that for you.</p>\n<p>In case of dockerfile, you might forget to apply standard practices to your docker image(when we are dealing with lot of services/images).</p>\n<p>So its another piece of code to maintain and ensure you follow all practices correctly.</p>\n<p>Also you can include buildpack in your builds as well,\neg: you can use spring boot gradle or maven plugin\nref: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#build-image\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#build-image</a></p>\n<p>Ref: <a href=\"https://tanzu.vmware.com/developer/blog/understanding-the-differences-between-dockerfile-and-cloud-native-buildpacks/\" rel=\"nofollow noreferrer\">https://tanzu.vmware.com/developer/blog/understanding-the-differences-between-dockerfile-and-cloud-native-buildpacks/</a></p>\n<p>ref: <a href=\"https://cloud.google.com/blog/topics/developers-practitioners/comparing-containerization-methods-buildpacks-jib-and-dockerfile\" rel=\"nofollow noreferrer\">https://cloud.google.com/blog/topics/developers-practitioners/comparing-containerization-methods-buildpacks-jib-and-dockerfile</a></p>\n"}],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73811373,"answer_count":2,"score":3,"last_activity_date":1663834580,"creation_date":1648750197,"question_id":71697307,"body_markdown":"I am planning to use gradle as build tool with docker for containerizing spring boot applications.\r\n\r\nI currently have one question regarding best practices/pros/cons from:  \r\na. from general perspective as a best practice.  \r\nb. from CI /CD perspective.  \r\n\r\nI have understood that I can do it in three ways:\r\n\r\n## 1. Do gradle build by running command on your host machine + then dockerize your spring boot app\r\n\r\neg:\r\n\r\n    /.gradlew build\r\n    \r\n    docker build -f dockerfile...\r\n\r\n\r\n## 2. Do gradle build inside dockerfile itself.\r\n\r\nfor 2, I got inspiration from these guys at dockercon(https://www.docker.com/blog/intro-guide-to-dockerfile-best-practices/).\r\n\r\neg: \r\n\r\n    FROM gradle:4.7.0-jdk8-alpine AS build\r\n    COPY --chown=gradle:gradle . /home/gradle/src\r\n    WORKDIR /home/gradle/src\r\n    RUN gradle build --no-daemon \r\n    \r\n    FROM openjdk:8-jre-slim\r\n    \r\n    EXPOSE 8080\r\n    \r\n    RUN mkdir /app\r\n    \r\n    COPY --from=build /home/gradle/src/build/libs/*.jar /app/spring-boot-application.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;, &quot;-XX:+UnlockExperimentalVMOptions&quot;, &quot;-XX:+UseCGroupMemoryLimitForHeap&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app/spring-boot-application.jar&quot;]\r\n\r\nThere are other articles as well\r\n\r\nhttps://codefresh.io/docs/docs/learn-by-example/java/gradle/\r\n\r\nhttps://codefresh.io/docker-tutorial/java_docker_pipeline/\r\n\r\nhere I would also like to point that for option 2 that:\r\na. I plan to use mount option from docker instead of rebuilding image again and again to reflect local changes.   \r\n\r\nb. I plan to leverage multistage builds, so that we can just discard heavy gradle input and just focus on jar in final output.\r\n\r\n\r\n\r\n## 3. Use buildpacks, jib or spring boot build image command.\r\n\r\nany ideas? If anyone has experienced any pros cons in this area please share.\r\n\r\n\r\n\r\n\r\n","title":"Best practices while building docker images for spring boot app via gradle","body":"<p>I am planning to use gradle as build tool with docker for containerizing spring boot applications.</p>\n<p>I currently have one question regarding best practices/pros/cons from:<br />\na. from general perspective as a best practice.<br />\nb. from CI /CD perspective.</p>\n<p>I have understood that I can do it in three ways:</p>\n<h2>1. Do gradle build by running command on your host machine + then dockerize your spring boot app</h2>\n<p>eg:</p>\n<pre><code>/.gradlew build\n\ndocker build -f dockerfile...\n</code></pre>\n<h2>2. Do gradle build inside dockerfile itself.</h2>\n<p>for 2, I got inspiration from these guys at dockercon(<a href=\"https://www.docker.com/blog/intro-guide-to-dockerfile-best-practices/\" rel=\"nofollow noreferrer\">https://www.docker.com/blog/intro-guide-to-dockerfile-best-practices/</a>).</p>\n<p>eg:</p>\n<pre><code>FROM gradle:4.7.0-jdk8-alpine AS build\nCOPY --chown=gradle:gradle . /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle build --no-daemon \n\nFROM openjdk:8-jre-slim\n\nEXPOSE 8080\n\nRUN mkdir /app\n\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/spring-boot-application.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-XX:+UnlockExperimentalVMOptions&quot;, &quot;-XX:+UseCGroupMemoryLimitForHeap&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app/spring-boot-application.jar&quot;]\n</code></pre>\n<p>There are other articles as well</p>\n<p><a href=\"https://codefresh.io/docs/docs/learn-by-example/java/gradle/\" rel=\"nofollow noreferrer\">https://codefresh.io/docs/docs/learn-by-example/java/gradle/</a></p>\n<p><a href=\"https://codefresh.io/docker-tutorial/java_docker_pipeline/\" rel=\"nofollow noreferrer\">https://codefresh.io/docker-tutorial/java_docker_pipeline/</a></p>\n<p>here I would also like to point that for option 2 that:\na. I plan to use mount option from docker instead of rebuilding image again and again to reflect local changes.</p>\n<p>b. I plan to leverage multistage builds, so that we can just discard heavy gradle input and just focus on jar in final output.</p>\n<h2>3. Use buildpacks, jib or spring boot build image command.</h2>\n<p>any ideas? If anyone has experienced any pros cons in this area please share.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8975,"page":1017,"page_size":100}
