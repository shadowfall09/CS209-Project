{"items":[{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1408515924,"post_id":25397717,"comment_id":39613383,"body_markdown":"Have you tried simply `mvn clean`?","body":"Have you tried simply <code>mvn clean</code>?"},{"owner":{"account_id":4352529,"reputation":562,"user_id":3552348,"accept_rate":25,"display_name":"Narendran Solai Sridharan"},"score":0,"creation_date":1408516873,"post_id":25397717,"comment_id":39613812,"body_markdown":"I tried mvn clean, mvn clean install, mvn eclipse:eclipse, with settings.xml parameter and without it. Getting the same exception.","body":"I tried mvn clean, mvn clean install, mvn eclipse:eclipse, with settings.xml parameter and without it. Getting the same exception."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1408518650,"post_id":25397717,"comment_id":39614638,"body_markdown":"Ok. Please post your pom file! Which Maven version do you use?","body":"Ok. Please post your pom file! Which Maven version do you use?"},{"owner":{"account_id":4352529,"reputation":562,"user_id":3552348,"accept_rate":25,"display_name":"Narendran Solai Sridharan"},"score":0,"creation_date":1408533149,"post_id":25397717,"comment_id":39622572,"body_markdown":"Thanks for checking, got resolved, seems to be some issue with settings.xml","body":"Thanks for checking, got resolved, seems to be some issue with settings.xml"}],"answers":[{"tags":[],"owner":{"account_id":4352529,"reputation":562,"user_id":3552348,"accept_rate":25,"display_name":"Narendran Solai Sridharan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1408533207,"creation_date":1408533207,"answer_id":25403266,"question_id":25397717,"body_markdown":"Seems to be some issue with settings.xml. The issue got resolved after removing all commented sections of settings.xml","title":"Maven Life Cycle Exception","body":"<p>Seems to be some issue with settings.xml. The issue got resolved after removing all commented sections of settings.xml</p>\n"}],"owner":{"account_id":4352529,"reputation":562,"user_id":3552348,"accept_rate":25,"display_name":"Narendran Solai Sridharan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25403266,"answer_count":1,"score":2,"last_activity_date":1643828788,"creation_date":1408514600,"question_id":25397717,"body_markdown":"The below exception occurs in command prompt. Not able to resolve this exception and unable to understand it. Can someone explain what went wrong.\r\n\r\n    C:\\Projects\\POC2\\TestingAutomationReportingTool&gt;mvn -s settings.xml clean\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building TestingAutomationReportingTool 0.1.0.BUILD-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.088s\r\n    [INFO] Finished at: Wed Aug 20 11:22:25 IST 2014\r\n    [INFO] Final Memory: 2M/15M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Unknown lifecycle phase &quot;&#251;s&quot;. You must specify a valid lifecycle phase o\r\n    r a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artif\r\n    act-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, ini\r\n    tialize, generate-sources, process-sources, generate-resources, process-resource\r\n    s, compile, process-classes, generate-test-sources, process-test-sources, genera\r\n    te-test-resources, process-test-resources, test-compile, process-test-classes, t\r\n    est, prepare-package, package, pre-integration-test, integration-test, post-inte\r\n    gration-test, verify, install, deploy, pre-site, site, post-site, site-deploy, p\r\n    re-clean, clean, post-clean. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit\r\n    ch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please rea\r\n    d the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhase NotFoundException\r\n\r\n","title":"Maven Life Cycle Exception","body":"<p>The below exception occurs in command prompt. Not able to resolve this exception and unable to understand it. Can someone explain what went wrong.</p>\n\n<pre><code>C:\\Projects\\POC2\\TestingAutomationReportingTool&gt;mvn -s settings.xml clean\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building TestingAutomationReportingTool 0.1.0.BUILD-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.088s\n[INFO] Finished at: Wed Aug 20 11:22:25 IST 2014\n[INFO] Final Memory: 2M/15M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Unknown lifecycle phase \"Ã»s\". You must specify a valid lifecycle phase o\nr a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artif\nact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, ini\ntialize, generate-sources, process-sources, generate-resources, process-resource\ns, compile, process-classes, generate-test-sources, process-test-sources, genera\nte-test-resources, process-test-resources, test-compile, process-test-classes, t\nest, prepare-package, package, pre-integration-test, integration-test, post-inte\ngration-test, verify, install, deploy, pre-site, site, post-site, site-deploy, p\nre-clean, clean, post-clean. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e swit\nch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please rea\nd the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhase NotFoundException\n</code></pre>\n"},{"tags":["java","while-loop"],"answers":[{"tags":[],"owner":{"account_id":14509264,"reputation":41,"user_id":10480169,"display_name":"rachad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643828587,"creation_date":1643828587,"answer_id":70961342,"question_id":70960365,"body_markdown":"try this code\r\n\r\n    public static void main(String[] args) {\r\n        collatz(39);\r\n    }\r\n\r\n    public static void collatz(int n) {\r\n        while (n != 1) {\r\n            System.out.println(n);\r\n            if (n % 2 == 0) {\r\n                n /= 2;\r\n            } else {\r\n                n = 3 * n + 1;\r\n            }\r\n        }\r\n        System.out.println(n);\r\n\r\n    }","title":"How do I include the first initial number in the output?","body":"<p>try this code</p>\n<pre><code>public static void main(String[] args) {\n    collatz(39);\n}\n\npublic static void collatz(int n) {\n    while (n != 1) {\n        System.out.println(n);\n        if (n % 2 == 0) {\n            n /= 2;\n        } else {\n            n = 3 * n + 1;\n        }\n    }\n    System.out.println(n);\n\n}\n</code></pre>\n"}],"owner":{"account_id":24024412,"reputation":11,"user_id":18006226,"display_name":"Eduardom2002"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643828587,"creation_date":1643824046,"question_id":70960365,"body_markdown":"So I&#39;m trying to make a collatz sequence that runs until it reaches is 1 but, it doesn&#39;t include the number I entered as the argument.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      public static void main(String[] args) {\r\n\t\t\r\n           collatz(17);\r\n\t\t\r\n\t\t}\r\n\tpublic static void collatz(int n) {\r\n\t\twhile(n!=1) {\r\n\t\tif (n%2==0) {\r\n\t\t\tn/=2;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tn=3*n+1;\r\n\t\t}\r\n\t\tSystem.out.println(n);\r\n\t\t\r\n\t}\r\n\r\n\t}","title":"How do I include the first initial number in the output?","body":"<p>So I'm trying to make a collatz sequence that runs until it reaches is 1 but, it doesn't include the number I entered as the argument.</p>\n<pre><code>  public static void main(String[] args) {\n    \n       collatz(17);\n    \n    }\npublic static void collatz(int n) {\n    while(n!=1) {\n    if (n%2==0) {\n        n/=2;\n        \n    }\n    else {\n        n=3*n+1;\n    }\n    System.out.println(n);\n    \n}\n\n}\n</code></pre>\n"},{"tags":["java","numberformatexception"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1643824598,"post_id":70960464,"comment_id":125444169,"body_markdown":"`int decimal = Integer.parseInt(c, 2);` `c` will be something like `&quot;[1,0,1...]&quot;` Perhaps you meant to join the list into a string first (&quot;101...&quot;)","body":"<code>int decimal = Integer.parseInt(c, 2);</code> <code>c</code> will be something like <code>&quot;[1,0,1...]&quot;</code> Perhaps you meant to join the list into a string first (&quot;101...&quot;)"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1643825065,"post_id":70960464,"comment_id":125444348,"body_markdown":"Find some solutions here: [Java: join array of primitives with separator](https://stackoverflow.com/a/47501361) Except you don&#39;t want a separator. Just an empty string (`&quot;&quot;`). For example: `String c = IntStream.of(a).mapToObj(i -&gt; String.valueOf(i)).collect(Collectors.joining());`","body":"Find some solutions here: <a href=\"https://stackoverflow.com/a/47501361\">Java: join array of primitives with separator</a> Except you don&#39;t want a separator. Just an empty string (<code>&quot;&quot;</code>). For example: <code>String c = IntStream.of(a).mapToObj(i -&gt; String.valueOf(i)).collect(Collectors.joining());</code>"},{"owner":{"account_id":20373149,"reputation":13,"user_id":14944936,"display_name":"programmer"},"score":0,"creation_date":1643825336,"post_id":70960464,"comment_id":125444460,"body_markdown":"@JohnnyMopp , yeah that would be a nice idea, I can modify the string c  to `String c = a.toString();` but its showing this `[I@372f7a8d`","body":"@JohnnyMopp , yeah that would be a nice idea, I can modify the string c  to <code>String c = a.toString();</code> but its showing this <code>[I@372f7a8d</code>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1643825542,"post_id":70960464,"comment_id":125444554,"body_markdown":"You have to join the array into a string - see the link in my previous comment. _Or_, have `booleanToBinary()` return a string and not an array. For example using [`StringBuilder`](https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html) or just simple concatenation.","body":"You have to join the array into a string - see the link in my previous comment. <i>Or</i>, have <code>booleanToBinary()</code> return a string and not an array. For example using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> or just simple concatenation."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643826042,"creation_date":1643826042,"answer_id":70960810,"question_id":70960464,"body_markdown":"Upon converting the array of 0&#39;s and 1&#39;s to string using `Arrays.toString`, all the non-zeros and non-ones may be removed from the String using `String::replaceAll`:\r\n```java\r\npublic static int binaryToInt(boolean[] b) {\r\n    int[] a = booleanToBinary(b);\r\n    String c = Arrays.toString(a).replaceAll(&quot;[^01]&quot;, );\r\n    System.out.println(c);\r\n    int decimal = Integer.parseInt(c, 2);\r\n    \r\n    System.out.println(decimal);\r\n    return decimal;    \r\n}\r\n```\r\nThen the test:\r\n```java\r\n boolean[] test = {false, true, false, true};\r\nSystem.out.println(Arrays.toString(booleanToBinary(test)));\r\nSystem.out.println(binaryToInt(test));\r\n```\r\nprints:\r\n```\r\n[0, 1, 0, 1]\r\n0101\r\n5\r\n5\r\n```\r\nHowever, here the order of bits is inversed as the arrays are printed starting from 0 to n (from lower bits).","title":"Having trouble converting a string into an integer","body":"<p>Upon converting the array of 0's and 1's to string using <code>Arrays.toString</code>, all the non-zeros and non-ones may be removed from the String using <code>String::replaceAll</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int binaryToInt(boolean[] b) {\n    int[] a = booleanToBinary(b);\n    String c = Arrays.toString(a).replaceAll(&quot;[^01]&quot;, );\n    System.out.println(c);\n    int decimal = Integer.parseInt(c, 2);\n    \n    System.out.println(decimal);\n    return decimal;    \n}\n</code></pre>\n<p>Then the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code> boolean[] test = {false, true, false, true};\nSystem.out.println(Arrays.toString(booleanToBinary(test)));\nSystem.out.println(binaryToInt(test));\n</code></pre>\n<p>prints:</p>\n<pre><code>[0, 1, 0, 1]\n0101\n5\n5\n</code></pre>\n<p>However, here the order of bits is inversed as the arrays are printed starting from 0 to n (from lower bits).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643828561,"creation_date":1643826209,"answer_id":70960841,"question_id":70960464,"body_markdown":"To convert a list of booleans to an int equivalent, try it like this.  No need to use any strings or integer parsing methods.\r\n```\r\n// 100111 the value = 39\r\nboolean[] b = {true, false, false, true, true, true};\r\nint v = binaryToInt(b);\r\nSystem.out.println(v);\r\n```\r\nprints\r\n```\r\n39\r\n```\r\n- first multiply decimal by 2\r\n- then add 1 or 0 as appropriate.\r\n- continue, multiply and adding\r\n\r\n```\r\npublic static int binaryToInt(boolean[] bools) {\r\n    int decimal = 0;\r\n    for (boolean b : bools) {\r\n    \tdecimal = decimal * 2 + (b ? 1 : 0);\r\n    }\r\n    return decimal;\r\n}\r\n\r\n```\r\nSimilarly, to convert an array of booleans to an array of 1&#39;s or 0&#39;s.\r\n```\r\npublic static int[] booleanToBinary(boolean[] bools) {\r\n    int[] arr = new int[bools.length];\r\n    int i = 0;\r\n    for (boolean b : bools) {\r\n    \tarr[i++] = b ? 1 : 0;\r\n    }\r\n    return arr;\r\n}\r\n```\r\nNote if you want to just convert your boolean array into a binary string, this will work.\r\n```\r\npublic static String booleanToBinaryString(boolean[] bools) {\r\n    int[] arr = new int[bools.length];\r\n    String result = &quot;&quot;;\r\n    for (boolean b : bools) {\r\n    \tresult += b ? 1 : 0;\r\n    }\r\n    return result;\r\n}\r\n\r\nSystem.out.println(booleanToBinaryString(b));\r\n```\r\nprints\r\n```\r\n100111","title":"Having trouble converting a string into an integer","body":"<p>To convert a list of booleans to an int equivalent, try it like this.  No need to use any strings or integer parsing methods.</p>\n<pre><code>// 100111 the value = 39\nboolean[] b = {true, false, false, true, true, true};\nint v = binaryToInt(b);\nSystem.out.println(v);\n</code></pre>\n<p>prints</p>\n<pre><code>39\n</code></pre>\n<ul>\n<li>first multiply decimal by 2</li>\n<li>then add 1 or 0 as appropriate.</li>\n<li>continue, multiply and adding</li>\n</ul>\n<pre><code>public static int binaryToInt(boolean[] bools) {\n    int decimal = 0;\n    for (boolean b : bools) {\n        decimal = decimal * 2 + (b ? 1 : 0);\n    }\n    return decimal;\n}\n\n</code></pre>\n<p>Similarly, to convert an array of booleans to an array of 1's or 0's.</p>\n<pre><code>public static int[] booleanToBinary(boolean[] bools) {\n    int[] arr = new int[bools.length];\n    int i = 0;\n    for (boolean b : bools) {\n        arr[i++] = b ? 1 : 0;\n    }\n    return arr;\n}\n</code></pre>\n<p>Note if you want to just convert your boolean array into a binary string, this will work.</p>\n<pre><code>public static String booleanToBinaryString(boolean[] bools) {\n    int[] arr = new int[bools.length];\n    String result = &quot;&quot;;\n    for (boolean b : bools) {\n        result += b ? 1 : 0;\n    }\n    return result;\n}\n\nSystem.out.println(booleanToBinaryString(b));\n</code></pre>\n<p>prints</p>\n<pre><code>100111\n</code></pre>\n"}],"owner":{"account_id":20373149,"reputation":13,"user_id":14944936,"display_name":"programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70960841,"answer_count":2,"score":-1,"last_activity_date":1643828561,"creation_date":1643824402,"question_id":70960464,"body_markdown":"    public static int[] booleanToBinary(boolean[] b) {\r\n\t\tint[] arr = new int[b.length];\r\n\t\tfor(int i = 0; i &lt; b.length; i++) {\r\n \t\t\tif(b[i] == true) {\r\n\t\t\t\t arr[i] = 1;\r\n\t\t\t}\r\n \t\t\telse{arr[i] = 0;};\r\n\t\t\t}\r\n\t\t\r\n\t\treturn arr;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static int binaryToInt(boolean[] b) {\r\n\t\tint[] a = booleanToBinary(b);\r\n\t\tString c = Arrays.toString(a);\r\n\t\tSystem.out.println(c);\r\n\t\tint decimal = Integer.parseInt(c, 2);\r\n\t\t\r\n\t\t\tSystem.out.println(decimal);\r\n\t\t\r\n\r\n\t\t\r\n\t\treturn decimal;\r\n\t\t\r\n\t}\r\n\r\n     public static void main(String[] args) {\r\n\t\tboolean[] test = {false, true, false, true};\r\n\t\tSystem.out.println(Arrays.toString(booleanToBinary(test)));\r\n\t\tSystem.out.println(binaryToInt(test));\r\n\t\t\r\n \t}\r\n\r\n\r\n\r\n&gt; Blockquote\r\nI&#39;m trying to turn the binary value into an Integer value, and I&#39;m trying to do that using the binaryToInt method, and an NumberExceptionFormat is happening, I know that this error happens when java cannot convert a String into an Integer, can someone help me to fix this this error","title":"Having trouble converting a string into an integer","body":"<pre><code>public static int[] booleanToBinary(boolean[] b) {\n    int[] arr = new int[b.length];\n    for(int i = 0; i &lt; b.length; i++) {\n        if(b[i] == true) {\n             arr[i] = 1;\n        }\n        else{arr[i] = 0;};\n        }\n    \n    return arr;\n}\n\n\n\npublic static int binaryToInt(boolean[] b) {\n    int[] a = booleanToBinary(b);\n    String c = Arrays.toString(a);\n    System.out.println(c);\n    int decimal = Integer.parseInt(c, 2);\n    \n        System.out.println(decimal);\n    \n\n    \n    return decimal;\n    \n}\n\n public static void main(String[] args) {\n    boolean[] test = {false, true, false, true};\n    System.out.println(Arrays.toString(booleanToBinary(test)));\n    System.out.println(binaryToInt(test));\n    \n}\n</code></pre>\n<blockquote>\n<p>Blockquote\nI'm trying to turn the binary value into an Integer value, and I'm trying to do that using the binaryToInt method, and an NumberExceptionFormat is happening, I know that this error happens when java cannot convert a String into an Integer, can someone help me to fix this this error</p>\n</blockquote>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1643816630,"post_id":70958443,"comment_id":125440755,"body_markdown":"Possibly useful: https://stackoverflow.com/questions/754166/how-is-pattern-matching-in-scala-implemented-at-the-bytecode-level","body":"Possibly useful: <a href=\"https://stackoverflow.com/questions/754166/how-is-pattern-matching-in-scala-implemented-at-the-bytecode-level\" title=\"how is pattern matching in scala implemented at the bytecode level\">stackoverflow.com/questions/754166/&hellip;</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1643816653,"post_id":70958443,"comment_id":125440769,"body_markdown":"This is rather new in java.","body":"This is rather new in java."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1643816699,"post_id":70958443,"comment_id":125440790,"body_markdown":"https://typelevel.org/blog/2014/11/10/why_is_adt_pattern_matching_allowed.html","body":"<a href=\"https://typelevel.org/blog/2014/11/10/why_is_adt_pattern_matching_allowed.html\" rel=\"nofollow noreferrer\">typelevel.org/blog/2014/11/10/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1643827069,"creation_date":1643827069,"answer_id":70961031,"question_id":70958443,"body_markdown":"Under the hood, Scala pattern matching often boils down to code that&#39;s exactly like the `if (notification instanceof Email) { ... } else if (notification instanceof SMS)` Java code.\r\n\r\nThe particular example you give, of an `abstract class Notification` which isn&#39;t `sealed` is one where the Scala code is no better (except perhaps expressing overall intent more clearly) than the `if`/`instanceof` tree.\r\n\r\nThis is because the main benefit of pattern matching is the possibility of exhaustivity checking.  With the `if`/`instanceof` approach and the example of pattern matching you present, you aren&#39;t going to be alerted that you haven&#39;t handled every case (e.g. you left off the `VoiceRecording` case).\r\n\r\nBy making `Notification` `sealed` (e.g. `sealed abstract class Notification`), the Scala compiler will ensure that no Scala code in other files (technically, compilation units, which are for all intents and purposes files) can extend `Notification`; since it now knows all the possible `Notification`s, it can then raise a compiler error if you miss a case.  There&#39;s no reliable way to do this in the `if`/`instanceof` case because that&#39;s a lower level of abstraction.","title":"Why is pattern matching ok in scala but using instanceof is a sign of bad code in Java","body":"<p>Under the hood, Scala pattern matching often boils down to code that's exactly like the <code>if (notification instanceof Email) { ... } else if (notification instanceof SMS)</code> Java code.</p>\n<p>The particular example you give, of an <code>abstract class Notification</code> which isn't <code>sealed</code> is one where the Scala code is no better (except perhaps expressing overall intent more clearly) than the <code>if</code>/<code>instanceof</code> tree.</p>\n<p>This is because the main benefit of pattern matching is the possibility of exhaustivity checking.  With the <code>if</code>/<code>instanceof</code> approach and the example of pattern matching you present, you aren't going to be alerted that you haven't handled every case (e.g. you left off the <code>VoiceRecording</code> case).</p>\n<p>By making <code>Notification</code> <code>sealed</code> (e.g. <code>sealed abstract class Notification</code>), the Scala compiler will ensure that no Scala code in other files (technically, compilation units, which are for all intents and purposes files) can extend <code>Notification</code>; since it now knows all the possible <code>Notification</code>s, it can then raise a compiler error if you miss a case.  There's no reliable way to do this in the <code>if</code>/<code>instanceof</code> case because that's a lower level of abstraction.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643828338,"creation_date":1643828338,"answer_id":70961289,"question_id":70958443,"body_markdown":"The &quot;smell&quot; has been historic. Object oriented design suggests you should be able to let the type hierarchy dispatch your method call to the appropriate subtype, rather than checking for actual instances at the call site. There had been some bad designs related to overuse of inheritance, which had lead to such `instanceof` usage. The `instanceof` usage wasn&#39;t the bad thing, but it hinted at the type hierarchy possibly being bad.\r\n\r\nOn the other hand, [Java 17 now has Scala&#39;s pattern matching, too][1] (as a preview feature, soon to be finalised), so you can&#39;t really say that using `instanceof` is a bad thing in Java.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/language/pattern-matching-switch-expressions-and-statements.html","title":"Why is pattern matching ok in scala but using instanceof is a sign of bad code in Java","body":"<p>The &quot;smell&quot; has been historic. Object oriented design suggests you should be able to let the type hierarchy dispatch your method call to the appropriate subtype, rather than checking for actual instances at the call site. There had been some bad designs related to overuse of inheritance, which had lead to such <code>instanceof</code> usage. The <code>instanceof</code> usage wasn't the bad thing, but it hinted at the type hierarchy possibly being bad.</p>\n<p>On the other hand, <a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-switch-expressions-and-statements.html\" rel=\"nofollow noreferrer\">Java 17 now has Scala's pattern matching, too</a> (as a preview feature, soon to be finalised), so you can't really say that using <code>instanceof</code> is a bad thing in Java.</p>\n"}],"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":973,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70961031,"answer_count":2,"score":4,"last_activity_date":1643828338,"creation_date":1643816230,"question_id":70958443,"body_markdown":"There is an aspect of the pattern matching I don&#39;t understand.\r\n\r\nIn the documentation of the pattern matching they show an example such as :\r\n\r\nhttps://docs.scala-lang.org/tour/pattern-matching.html\r\n\r\n    abstract class Notification\r\n    \r\n    case class Email(sender: String, title: String, body: String) extends Notification\r\n    \r\n    case class SMS(caller: String, message: String) extends Notification\r\n    \r\n    case class VoiceRecording(contactName: String, link: String) extends Notification\r\n\r\n    def showNotification(notification: Notification): String = {\r\n      notification match {\r\n        case Email(sender, title, _) =&gt;\r\n          s&quot;You got an email from $sender with title: $title&quot;\r\n        case SMS(number, message) =&gt;\r\n          s&quot;You got an SMS from $number! Message: $message&quot;\r\n        case VoiceRecording(name, link) =&gt;\r\n          s&quot;You received a Voice Recording from $name! Click the link to hear it: $link&quot;\r\n      }\r\n    }\r\n    val someSms = SMS(&quot;12345&quot;, &quot;Are you there?&quot;)\r\n    val someVoiceRecording = VoiceRecording(&quot;Tom&quot;, &quot;voicerecording.org/id/123&quot;)\r\n\r\nWhich could be somewhat recoded in java such as :\r\n\r\n    Notification notification = /* Init a notification instance */\r\n    \r\n    if(notification instanceof Email) {\r\n        Email currentEmail = (Email) notification;\r\n        currentEmail.doSomething();\r\n    } else if (notification instanceof SMS) {\r\n        SMS currentSMS = (SMS) notification;\r\n        currentSMS.doSomething();\r\n    } else if {\r\n        /* ... */\r\n    }\r\n\r\nPattern matching seems to be very positively seen but on the opposite the java equivalent is seen as a &quot;code smell&quot; or a bad pattern.\r\n\r\nFrom my understand they are doing the same thing and maybe technically as well, it&#39;s just hidden for the scala pattern matching.\r\n\r\nYet such a double standard wouldn&#39;t stay unseen so I guess there is something wrong with my understanding.","title":"Why is pattern matching ok in scala but using instanceof is a sign of bad code in Java","body":"<p>There is an aspect of the pattern matching I don't understand.</p>\n<p>In the documentation of the pattern matching they show an example such as :</p>\n<p><a href=\"https://docs.scala-lang.org/tour/pattern-matching.html\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/tour/pattern-matching.html</a></p>\n<pre><code>abstract class Notification\n\ncase class Email(sender: String, title: String, body: String) extends Notification\n\ncase class SMS(caller: String, message: String) extends Notification\n\ncase class VoiceRecording(contactName: String, link: String) extends Notification\n\ndef showNotification(notification: Notification): String = {\n  notification match {\n    case Email(sender, title, _) =&gt;\n      s&quot;You got an email from $sender with title: $title&quot;\n    case SMS(number, message) =&gt;\n      s&quot;You got an SMS from $number! Message: $message&quot;\n    case VoiceRecording(name, link) =&gt;\n      s&quot;You received a Voice Recording from $name! Click the link to hear it: $link&quot;\n  }\n}\nval someSms = SMS(&quot;12345&quot;, &quot;Are you there?&quot;)\nval someVoiceRecording = VoiceRecording(&quot;Tom&quot;, &quot;voicerecording.org/id/123&quot;)\n</code></pre>\n<p>Which could be somewhat recoded in java such as :</p>\n<pre><code>Notification notification = /* Init a notification instance */\n\nif(notification instanceof Email) {\n    Email currentEmail = (Email) notification;\n    currentEmail.doSomething();\n} else if (notification instanceof SMS) {\n    SMS currentSMS = (SMS) notification;\n    currentSMS.doSomething();\n} else if {\n    /* ... */\n}\n</code></pre>\n<p>Pattern matching seems to be very positively seen but on the opposite the java equivalent is seen as a &quot;code smell&quot; or a bad pattern.</p>\n<p>From my understand they are doing the same thing and maybe technically as well, it's just hidden for the scala pattern matching.</p>\n<p>Yet such a double standard wouldn't stay unseen so I guess there is something wrong with my understanding.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1622317551,"post_id":67755024,"comment_id":119760472,"body_markdown":"What happens when using `Files.list(Path.of(path))`? Does this result in an exception? In that case, can you share the stack trace?","body":"What happens when using <code>Files.list(Path.of(path))</code>? Does this result in an exception? In that case, can you share the stack trace?"},{"owner":{"account_id":3827682,"reputation":601,"user_id":3174124,"display_name":"Slagt"},"score":0,"creation_date":1622318858,"post_id":67755024,"comment_id":119760768,"body_markdown":"Thanks, I get an error indeed. Looks like a permission issue, but it makes this problem even harder to understand...","body":"Thanks, I get an error indeed. Looks like a permission issue, but it makes this problem even harder to understand..."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1622319003,"post_id":67755024,"comment_id":119760795,"body_markdown":"What user does the application run under? Can you run `ls -la /Volumes/MyStorage`? What file system does the external storage use? What happens if you run the application as administrator/using `sudo`? Does it work with subdirectories? Can you access files?","body":"What user does the application run under? Can you run <code>ls -la &#47;Volumes&#47;MyStorage</code>? What file system does the external storage use? What happens if you run the application as administrator/using <code>sudo</code>? Does it work with subdirectories? Can you access files?"},{"owner":{"account_id":3827682,"reputation":601,"user_id":3174124,"display_name":"Slagt"},"score":1,"creation_date":1622319536,"post_id":67755024,"comment_id":119760915,"body_markdown":"Thank you for asking all these questions. It looks like it&#39;s working if I run the app outside of NetBeans (never thought it could be an issue). However, I don&#39;t understand why, within Netbeans (and within Netbeans only), the listing is not possible.","body":"Thank you for asking all these questions. It looks like it&#39;s working if I run the app outside of NetBeans (never thought it could be an issue). However, I don&#39;t understand why, within Netbeans (and within Netbeans only), the listing is not possible."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1622319757,"post_id":67755024,"comment_id":119760961,"body_markdown":"What happens with `ls -la` in NetBeans?","body":"What happens with <code>ls -la</code> in NetBeans?"},{"owner":{"account_id":3827682,"reputation":601,"user_id":3174124,"display_name":"Slagt"},"score":0,"creation_date":1622320676,"post_id":67755024,"comment_id":119761161,"body_markdown":"You mean with a subprocess? If yes, then I get nothing. The `ls -la` command ran within NetBeans yields nothing to stdout. Standard error shows `ls: MyStorage: Operation not Permitted`. It looks like a permission issue with the kind-of recent security system of macOS. See Edit #3","body":"You mean with a subprocess? If yes, then I get nothing. The <code>ls -la</code> command ran within NetBeans yields nothing to stdout. Standard error shows <code>ls: MyStorage: Operation not Permitted</code>. It looks like a permission issue with the kind-of recent security system of macOS. See Edit #3"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1622321037,"post_id":67755024,"comment_id":119761227,"body_markdown":"It might be related to https://developer.apple.com/forums/thread/124185.","body":"It might be related to <a href=\"https://developer.apple.com/forums/thread/124185\" rel=\"nofollow noreferrer\">developer.apple.com/forums/thread/124185</a>."},{"owner":{"account_id":3827682,"reputation":601,"user_id":3174124,"display_name":"Slagt"},"score":0,"creation_date":1622322426,"post_id":67755024,"comment_id":119761494,"body_markdown":"Running NetBeans via the Terminal seems to work for me (suggestions found via a link in a link in the link you have provided). I made an app using &quot;Automator&quot; that runs Netbeans via a shell script. This is not optimal, but at least it works for now. Until the dev team of Netbeans fine a solution for this. Thanks for your help!","body":"Running NetBeans via the Terminal seems to work for me (suggestions found via a link in a link in the link you have provided). I made an app using &quot;Automator&quot; that runs Netbeans via a shell script. This is not optimal, but at least it works for now. Until the dev team of Netbeans fine a solution for this. Thanks for your help!"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1622322521,"post_id":67755024,"comment_id":119761514,"body_markdown":"You could try to give NetBeans the permission to access files on removable drives (however that works).","body":"You could try to give NetBeans the permission to access files on removable drives (however that works)."},{"owner":{"account_id":3827682,"reputation":601,"user_id":3174124,"display_name":"Slagt"},"score":0,"creation_date":1622331403,"post_id":67755024,"comment_id":119762904,"body_markdown":"Yeah that&#39;s the issue. Apple does not let you do that manually, so I&#39;ll have to wait.","body":"Yeah that&#39;s the issue. Apple does not let you do that manually, so I&#39;ll have to wait."},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1631336772,"post_id":67755024,"comment_id":122199973,"body_markdown":"Going to Security and Privacy settings on Mac, and adding &quot;Files and Folders&quot; permission for these apps fixed the problem for me in my development workflow: java, Eclipse, IntelliJ and Terminal. So, I can avoid building the package each time.","body":"Going to Security and Privacy settings on Mac, and adding &quot;Files and Folders&quot; permission for these apps fixed the problem for me in my development workflow: java, Eclipse, IntelliJ and Terminal. So, I can avoid building the package each time."}],"answers":[{"tags":[],"owner":{"account_id":20213,"reputation":190000,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643828216,"creation_date":1643828216,"answer_id":70961271,"question_id":67755024,"body_markdown":"Works for me on MacOS Monterey: (Thanks @Teddy)  \r\n\r\nGo to Security and Privacy settings,   \r\n-&gt; Privacy  \r\n-&gt; scroll down to &quot;Files and Folders&quot; permission  \r\n-&gt; you may have to click the &quot;lock&quot; to permit changes   \r\n-&gt; add Java   \r\n-&gt; tick the &quot;Downloads&quot; box if you like  \r\n\r\nAfter this change, running my java app from the terminal, works.","title":"Java: list files returns null on external storage on MacOS","body":"<p>Works for me on MacOS Monterey: (Thanks @Teddy)</p>\n<p>Go to Security and Privacy settings,<br />\n-&gt; Privacy<br />\n-&gt; scroll down to &quot;Files and Folders&quot; permission<br />\n-&gt; you may have to click the &quot;lock&quot; to permit changes<br />\n-&gt; add Java<br />\n-&gt; tick the &quot;Downloads&quot; box if you like</p>\n<p>After this change, running my java app from the terminal, works.</p>\n"}],"owner":{"account_id":3827682,"reputation":601,"user_id":3174124,"display_name":"Slagt"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1643828216,"creation_date":1622316001,"question_id":67755024,"body_markdown":"When I try to list the content of a folder on an external storage with `file.list()`, the method always returns `null`. The doc does not really help. It says:\r\n&gt; Returns null if this abstract pathname does not denote a directory, or if an I/O error occurs.\r\n\r\nIn my case, the abstract pathname does denote a directory (according to Java itself) and the permissions seems fine.\r\n\r\nAny help would be appreciated. So far, I found solution only for Android. I am using macOS Big Sur 11.4 (I don&#39;t have a linux or a windows machine to test) with JDK 15.\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.util.Arrays;\r\n\r\nclass Main\r\n{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        var path = &quot;/Volumes/MyStorage&quot;;\r\n        var file = new File(path);\r\n\r\n        System.out.println(&quot;Username: &quot; + System.getProperty(&quot;user.name&quot;));\r\n        System.out.println(&quot;File exists: &quot; + file.exists());\r\n        System.out.println(&quot;File is a directory: &quot; + file.isDirectory());\r\n        System.out.println(&quot;List of files: &quot; + Arrays.toString(file.list()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nUsername: username\r\nFile exists: true\r\nFile is a directory: true\r\nList of files: null\r\n```\r\n\r\nThe permissions seems fine:\r\n```bash\r\n$ ls -la /Volumes/\r\ntotal 0\r\ndrwxr-xr-x   4 root      wheel  128 May 29 21:08 .\r\ndrwxr-xr-x  20 root      wheel  640 Jan  1  2020 ..\r\ndrwxrwxr-x  13 username  staff  510 May 29 20:52 MyStorage\r\nlrwxr-xr-x   1 root      wheel    1 May 26 10:15 Macintosh HD -&gt; /\r\n```\r\n\r\nAs `username`, I have access to the entire structure of MyStorage. I can list the content of the disk using `ls /Volumes/MyStorage`.\r\n\r\n## Edit:\r\nAs requested in comment, here is the stack trace of the error I get using `Files.list(Path.of(path))`:\r\n```\r\njava.nio.file.FileSystemException: /Volumes/MyStorage: Operation not permitted\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:100)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:411)\r\n\tat java.base/java.nio.file.Files.newDirectoryStream(Files.java:476)\r\n\tat java.base/java.nio.file.Files.list(Files.java:3765)\r\n\tat Main.main(Main.java:22)\r\n```\r\n\r\nWhich is very puzzling considering the permissions on the folder look fine. Also, other languages have no problem listing the folder (C, Python, and probably others). I tried running the working python script as a subprocess in Java, but it does not work (folder appears empty).\r\n\r\n## Edit 2:\r\nI have been running the java app within NetBeans so far. But if I run the java app via the shell (`java -jar myapp.jar`), then it works:\r\n```bash\r\n$ java -jar TestApplication.jar\r\nUsername: username\r\nFile exists: true\r\nFile is a directory: true\r\nList of files: [.DocumentRevisions-V100, .DS_Store, .fseventsd, .Spotlight-V100, .TemporaryItems, .Trashes, private, work]\r\n```\r\n\r\nIs it possible for NetBeans (and only netbeans?) to not have the permission to list a folder?\r\n\r\n## Edit 3:\r\nNarrowing down the problem thanks to dan1st. When I pack the app with `packr` and run the `.app` file, then macOS asks me to give my authorization to list removable storage (the black rectangle hides the name of my app):\r\n[![macOS asking for permission to list removable storage contente][1]][1]\r\n\r\nIf I click &quot;Ok&quot;, then it works as expected. Unfortunately, We cannot add these authorization for NetBeans manually. Perhaps this is a problem for &quot;Ask Different&quot;?\r\n\r\n  [1]: https://i.stack.imgur.com/aYKVL.png","title":"Java: list files returns null on external storage on MacOS","body":"<p>When I try to list the content of a folder on an external storage with <code>file.list()</code>, the method always returns <code>null</code>. The doc does not really help. It says:</p>\n<blockquote>\n<p>Returns null if this abstract pathname does not denote a directory, or if an I/O error occurs.</p>\n</blockquote>\n<p>In my case, the abstract pathname does denote a directory (according to Java itself) and the permissions seems fine.</p>\n<p>Any help would be appreciated. So far, I found solution only for Android. I am using macOS Big Sur 11.4 (I don't have a linux or a windows machine to test) with JDK 15.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.util.Arrays;\n\nclass Main\n{\n\n    public static void main(String[] args)\n    {\n        var path = &quot;/Volumes/MyStorage&quot;;\n        var file = new File(path);\n\n        System.out.println(&quot;Username: &quot; + System.getProperty(&quot;user.name&quot;));\n        System.out.println(&quot;File exists: &quot; + file.exists());\n        System.out.println(&quot;File is a directory: &quot; + file.isDirectory());\n        System.out.println(&quot;List of files: &quot; + Arrays.toString(file.list()));\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Username: username\nFile exists: true\nFile is a directory: true\nList of files: null\n</code></pre>\n<p>The permissions seems fine:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ ls -la /Volumes/\ntotal 0\ndrwxr-xr-x   4 root      wheel  128 May 29 21:08 .\ndrwxr-xr-x  20 root      wheel  640 Jan  1  2020 ..\ndrwxrwxr-x  13 username  staff  510 May 29 20:52 MyStorage\nlrwxr-xr-x   1 root      wheel    1 May 26 10:15 Macintosh HD -&gt; /\n</code></pre>\n<p>As <code>username</code>, I have access to the entire structure of MyStorage. I can list the content of the disk using <code>ls /Volumes/MyStorage</code>.</p>\n<h2>Edit:</h2>\n<p>As requested in comment, here is the stack trace of the error I get using <code>Files.list(Path.of(path))</code>:</p>\n<pre><code>java.nio.file.FileSystemException: /Volumes/MyStorage: Operation not permitted\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:100)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.newDirectoryStream(UnixFileSystemProvider.java:411)\n    at java.base/java.nio.file.Files.newDirectoryStream(Files.java:476)\n    at java.base/java.nio.file.Files.list(Files.java:3765)\n    at Main.main(Main.java:22)\n</code></pre>\n<p>Which is very puzzling considering the permissions on the folder look fine. Also, other languages have no problem listing the folder (C, Python, and probably others). I tried running the working python script as a subprocess in Java, but it does not work (folder appears empty).</p>\n<h2>Edit 2:</h2>\n<p>I have been running the java app within NetBeans so far. But if I run the java app via the shell (<code>java -jar myapp.jar</code>), then it works:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java -jar TestApplication.jar\nUsername: username\nFile exists: true\nFile is a directory: true\nList of files: [.DocumentRevisions-V100, .DS_Store, .fseventsd, .Spotlight-V100, .TemporaryItems, .Trashes, private, work]\n</code></pre>\n<p>Is it possible for NetBeans (and only netbeans?) to not have the permission to list a folder?</p>\n<h2>Edit 3:</h2>\n<p>Narrowing down the problem thanks to dan1st. When I pack the app with <code>packr</code> and run the <code>.app</code> file, then macOS asks me to give my authorization to list removable storage (the black rectangle hides the name of my app):\n<a href=\"https://i.stack.imgur.com/aYKVL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aYKVL.png\" alt=\"macOS asking for permission to list removable storage contente\" /></a></p>\n<p>If I click &quot;Ok&quot;, then it works as expected. Unfortunately, We cannot add these authorization for NetBeans manually. Perhaps this is a problem for &quot;Ask Different&quot;?</p>\n"},{"tags":["java","email","outlook","jakarta-mail","html-email"],"comments":[{"owner":{"account_id":235515,"reputation":32964,"user_id":502381,"accept_rate":75,"display_name":"JJJ"},"score":3,"creation_date":1400413236,"post_id":23721464,"comment_id":36459295,"body_markdown":"Have you ever received email with text formatting in the subject? If it were possible, don&#39;t you think someone would have done so by now?","body":"Have you ever received email with text formatting in the subject? If it were possible, don&#39;t you think someone would have done so by now?"}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1400414849,"creation_date":1400414849,"answer_id":23721703,"question_id":23721464,"body_markdown":"Coloring is not a email or SMTP feature. It is ability of client to show HTML documents. Clients that support HTML format parse email body only and show subject as-is. Therefore subject remains as it was created. \r\n\r\nSo, the bottom line: no you cannot send email with colored subject. I am sorry...","title":"Is it possible to set color to email subject?","body":"<p>Coloring is not a email or SMTP feature. It is ability of client to show HTML documents. Clients that support HTML format parse email body only and show subject as-is. Therefore subject remains as it was created. </p>\n\n<p>So, the bottom line: no you cannot send email with colored subject. I am sorry...</p>\n"},{"tags":[],"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400434541,"creation_date":1400434541,"answer_id":23724899,"question_id":23721464,"body_markdown":"The best you can do is create an Outlook view that colors the messages (subject, sender, etc.) in the Explorer (where Outlook shows the list of messages) based on a value of some property.\r\n\r\nThat is how Outlook shows overdue messages in red.","title":"Is it possible to set color to email subject?","body":"<p>The best you can do is create an Outlook view that colors the messages (subject, sender, etc.) in the Explorer (where Outlook shows the list of messages) based on a value of some property.</p>\n\n<p>That is how Outlook shows overdue messages in red.</p>\n"},{"tags":[],"owner":{"account_id":2792225,"reputation":360,"user_id":2402240,"accept_rate":75,"display_name":"AquaAlex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554995921,"creation_date":1554995921,"answer_id":55635953,"question_id":23721464,"body_markdown":"I have received many spam mails in gmail where there is images(?) and different fonts used in subject line. So colour may not be possible but it seems formatting is possible\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3akGk.png","title":"Is it possible to set color to email subject?","body":"<p>I have received many spam mails in gmail where there is images(?) and different fonts used in subject line. So colour may not be possible but it seems formatting is possible</p>\n\n<p><a href=\"https://i.stack.imgur.com/3akGk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3akGk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":30869,"reputation":20994,"user_id":84424,"accept_rate":84,"display_name":"Zachary Scott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643828093,"creation_date":1643814169,"answer_id":70957920,"question_id":23721464,"body_markdown":"This shows [Emogi characters][1] (Unicode characters) that happen to be colored in an email subject line.  This is more of a note to myself but it may apply here.  \r\n\r\nThis subject line (from NewEgg) shows text and colors:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe subject line looks like this:\r\n\r\n    Subject: =?utf-8?B?4p2X4p2X4p2XIDMgREFZUyBPTkxZIOKdl+Kdl+KdlyAkNTAgTmludGVuZG8gZVNob3AgR2lmdCBDYXJk?=\r\n\r\nI believe the technique is [Encoded-word Syntax][3].  In that link Derek Morgan describes the technique relating to RFC2822, RFC2047, RFC2045, and provides example Python code to encode and decode the text.\r\n\r\nThe format of the above subject content is:\r\n\r\n    =?&lt;charset&gt;?&lt;encoding&gt;?&lt;encoded-text&gt;?=\r\n\r\nHe also mentions this [Github link][4] that discusses the characters sets.\r\n\r\n\r\nI went to base64decode.net, pasted in the above, selected Utf-8, and this popped out:\r\n\r\nâââ 3 DAYS ONLY âââ $50 Nintendo eShop Gift Card\r\n\r\n\r\n  [1]: https://emojipedia.org/unicode-5.2/\r\n  [2]: https://i.stack.imgur.com/UM1Ro.png\r\n  [3]: https://dmorgan.info/posts/encoded-word-syntax/\r\n  [4]: https://github.com/buriy/python-readability/issues/42#issuecomment-26580084","title":"Is it possible to set color to email subject?","body":"<p>This shows <a href=\"https://emojipedia.org/unicode-5.2/\" rel=\"nofollow noreferrer\">Emogi characters</a> (Unicode characters) that happen to be colored in an email subject line.  This is more of a note to myself but it may apply here.</p>\n<p>This subject line (from NewEgg) shows text and colors:</p>\n<p><a href=\"https://i.stack.imgur.com/UM1Ro.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UM1Ro.png\" alt=\"enter image description here\" /></a></p>\n<p>The subject line looks like this:</p>\n<pre><code>Subject: =?utf-8?B?4p2X4p2X4p2XIDMgREFZUyBPTkxZIOKdl+Kdl+KdlyAkNTAgTmludGVuZG8gZVNob3AgR2lmdCBDYXJk?=\n</code></pre>\n<p>I believe the technique is <a href=\"https://dmorgan.info/posts/encoded-word-syntax/\" rel=\"nofollow noreferrer\">Encoded-word Syntax</a>.  In that link Derek Morgan describes the technique relating to RFC2822, RFC2047, RFC2045, and provides example Python code to encode and decode the text.</p>\n<p>The format of the above subject content is:</p>\n<pre><code>=?&lt;charset&gt;?&lt;encoding&gt;?&lt;encoded-text&gt;?=\n</code></pre>\n<p>He also mentions this <a href=\"https://github.com/buriy/python-readability/issues/42#issuecomment-26580084\" rel=\"nofollow noreferrer\">Github link</a> that discusses the characters sets.</p>\n<p>I went to base64decode.net, pasted in the above, selected Utf-8, and this popped out:</p>\n<p>âââ 3 DAYS ONLY âââ $50 Nintendo eShop Gift Card</p>\n"}],"owner":{"account_id":1502121,"reputation":45,"user_id":1406436,"display_name":"user1406436"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7474,"favorite_count":0,"down_vote_count":5,"up_vote_count":4,"accepted_answer_id":23721703,"answer_count":4,"score":-1,"last_activity_date":1643828093,"creation_date":1400413010,"question_id":23721464,"body_markdown":"Is it possible to set color to email subject? I tried this below which did not work.\r\n\r\n    //subject = &quot;&lt;FONT COLOR=\\&quot;#ff0000\\&quot;&gt;&quot; + subject + &quot;&lt;/FONT&gt;&quot;;\r\n    subject = &quot;&amp;lt;FONT COLOR=&amp;quot;#ff0000&amp;quot;&amp;gt;Test Subject&amp;lt;/FONT&amp;gt;&quot;;\r\n    String yourEncodedString = MimeUtility.encodeText(subject, &quot;UTF-8&quot;, &quot;B&quot;);\r\n    message.setHeader(&quot;Subject&quot;, yourEncodedString);\r\n    message.setSubject(yourEncodedString,  &quot;UTF-8&quot;);   \r\n","title":"Is it possible to set color to email subject?","body":"<p>Is it possible to set color to email subject? I tried this below which did not work.</p>\n\n<pre><code>//subject = \"&lt;FONT COLOR=\\\"#ff0000\\\"&gt;\" + subject + \"&lt;/FONT&gt;\";\nsubject = \"&amp;lt;FONT COLOR=&amp;quot;#ff0000&amp;quot;&amp;gt;Test Subject&amp;lt;/FONT&amp;gt;\";\nString yourEncodedString = MimeUtility.encodeText(subject, \"UTF-8\", \"B\");\nmessage.setHeader(\"Subject\", yourEncodedString);\nmessage.setSubject(yourEncodedString,  \"UTF-8\");   \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5464160,"reputation":447,"user_id":4345417,"display_name":"Bastis Programming Corner"},"score":0,"creation_date":1643749943,"post_id":70946016,"comment_id":125421744,"body_markdown":"Are you querying the correct endpoint? How does your REST request look like? Can you check which endpoints are actually created by Spring? E.g. like this: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#repository-resources.resource-discoverability","body":"Are you querying the correct endpoint? How does your REST request look like? Can you check which endpoints are actually created by Spring? E.g. like this: <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#repository-resources.resource-discoverability\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":21143048,"reputation":11,"user_id":15544991,"display_name":"michal_novolin"},"score":0,"creation_date":1643751772,"post_id":70946016,"comment_id":125422304,"body_markdown":"Yes, i am doing http://localhost:8080/search/updateBookPriceByUserId?id=1\nthis is the correct endpoint and is alive, the problem is that i get two errors.\nError for the HTTP request and the one for the EntityRepresentationModel not found.\nActually, the get is working and is executing the statement via Hibernate, but it&#39;s not good to do it like this and i do not understand why it doesnt accepts post methods.","body":"Yes, i am doing <a href=\"http://localhost:8080/search/updateBookPriceByUserId?id=1\" rel=\"nofollow noreferrer\">localhost:8080/search/updateBookPriceByUserId?id=1</a> this is the correct endpoint and is alive, the problem is that i get two errors. Error for the HTTP request and the one for the EntityRepresentationModel not found. Actually, the get is working and is executing the statement via Hibernate, but it&#39;s not good to do it like this and i do not understand why it doesnt accepts post methods."}],"answers":[{"tags":[],"owner":{"account_id":21143048,"reputation":11,"user_id":15544991,"display_name":"michal_novolin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643827742,"creation_date":1643827742,"answer_id":70961168,"question_id":70946016,"body_markdown":"If anyone face this issue, you should send a get request and the query is being executed.","title":"Update statement in Spring Data Rest with @Query throws EntityRepresentationModel not found","body":"<p>If anyone face this issue, you should send a get request and the query is being executed.</p>\n"}],"owner":{"account_id":21143048,"reputation":11,"user_id":15544991,"display_name":"michal_novolin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643827742,"creation_date":1643741748,"question_id":70946016,"body_markdown":"I&#39;m facing some strange issue with my latest project.\r\n\r\nI am using hibernate and spring data jpa + controller out of the box coming from @RepositoryRestResource.\r\n\r\nas it is mentioned in the Spring [documentation][1]\r\n\r\nyou can have delete and update methods when you annotate your method with @Query and @Modyfing.\r\n\r\nWell, i want to have a custom query which is updating an entities by a parent Id.\r\n\r\nFor example if we have :\r\n\r\n    {\r\n    @Entity\r\n    User\r\n    \r\n    @OneToMany\r\n    private Set&lt;Book&gt; books;\r\n    \r\n    }\r\n\r\nand as well the bookrepository:\r\n\r\n    {\r\n    @RepositoryRestResource\r\n    public interface BookRepository extends CrudRepository&lt;BookEntity, Long&gt;{\r\n    \r\n    @Modifying\r\n    @Query(UPDATE books SET books.price=0 where user_id=:userId&quot;,nativeQuery=true)\r\n    void updateBookPriceByUserId(@Param(&quot;userId&quot;) Long Id)\r\n    \r\n    }\r\n\r\n}\r\nhave in mind that i have the other classes implemented, that above is a pseudo code for the relation.\r\n\r\ni want to update them by the user id.\r\n\r\nWhen i reach the endpoint through postman, with @Param long id it says:\r\n\r\n&gt; ResourceNotFoundException: EntityRepresentationModel not found! at\r\n&gt; org.springframework.data.rest.webmvc\r\n\r\n\r\nAny ideas, guys?\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#reference\r\n  [2]: https://i.stack.imgur.com/MYzv2.png","title":"Update statement in Spring Data Rest with @Query throws EntityRepresentationModel not found","body":"<p>I'm facing some strange issue with my latest project.</p>\n<p>I am using hibernate and spring data jpa + controller out of the box coming from @RepositoryRestResource.</p>\n<p>as it is mentioned in the Spring <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>you can have delete and update methods when you annotate your method with @Query and @Modyfing.</p>\n<p>Well, i want to have a custom query which is updating an entities by a parent Id.</p>\n<p>For example if we have :</p>\n<pre><code>{\n@Entity\nUser\n\n@OneToMany\nprivate Set&lt;Book&gt; books;\n\n}\n</code></pre>\n<p>and as well the bookrepository:</p>\n<pre><code>{\n@RepositoryRestResource\npublic interface BookRepository extends CrudRepository&lt;BookEntity, Long&gt;{\n\n@Modifying\n@Query(UPDATE books SET books.price=0 where user_id=:userId&quot;,nativeQuery=true)\nvoid updateBookPriceByUserId(@Param(&quot;userId&quot;) Long Id)\n\n}\n</code></pre>\n<p>}\nhave in mind that i have the other classes implemented, that above is a pseudo code for the relation.</p>\n<p>i want to update them by the user id.</p>\n<p>When i reach the endpoint through postman, with @Param long id it says:</p>\n<blockquote>\n<p>ResourceNotFoundException: EntityRepresentationModel not found! at\norg.springframework.data.rest.webmvc</p>\n</blockquote>\n<p>Any ideas, guys?</p>\n<p><a href=\"https://i.stack.imgur.com/MYzv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYzv2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1382120580,"post_id":19456509,"comment_id":28850992,"body_markdown":"that&#39;s not the complete code.","body":"that&#39;s not the complete code."},{"owner":{"account_id":1383921,"reputation":25814,"user_id":1316346,"accept_rate":99,"display_name":"Kevin DiTraglia"},"score":2,"creation_date":1382120656,"post_id":19456509,"comment_id":28851031,"body_markdown":"What&#39;s the point of the `names` variable, and why does it consume the first `input.next()`?","body":"What&#39;s the point of the <code>names</code> variable, and why does it consume the first <code>input.next()</code>?"},{"owner":{"account_id":3295763,"reputation":2862,"user_id":2773060,"accept_rate":73,"display_name":"Tom Swifty"},"score":2,"creation_date":1382120770,"post_id":19456509,"comment_id":28851086,"body_markdown":"@RohitJain It&#39;s only lacking three closing brackets....","body":"@RohitJain It&#39;s only lacking three closing brackets...."},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":0,"creation_date":1382120916,"post_id":19456509,"comment_id":28851150,"body_markdown":"works fine for me, just remove the line that declares the names variable.","body":"works fine for me, just remove the line that declares the names variable."},{"owner":{"account_id":3429943,"reputation":35,"user_id":2874681,"display_name":"censortrip"},"score":0,"creation_date":1382121110,"post_id":19456509,"comment_id":28851235,"body_markdown":"Excuse me for not putting the closing brackets in my code above, I thought that would be understood. Anyway, this does work when the names variable is removed, however, they print after each input. I want them to be printed out all at once after the user types them all in.","body":"Excuse me for not putting the closing brackets in my code above, I thought that would be understood. Anyway, this does work when the names variable is removed, however, they print after each input. I want them to be printed out all at once after the user types them all in."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1382121393,"post_id":19456509,"comment_id":28851374,"body_markdown":"@Paul for how easy it is to include the 3 close braces, it&#39;s certainly worth it to avoid ambiguity.","body":"@Paul for how easy it is to include the 3 close braces, it&#39;s certainly worth it to avoid ambiguity."}],"answers":[{"tags":[],"owner":{"account_id":2983138,"reputation":1479,"user_id":2532674,"accept_rate":67,"display_name":"Embattled Swag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382120921,"creation_date":1382120921,"answer_id":19456646,"question_id":19456509,"body_markdown":"What&#39;s the purpose of \r\n\r\n    String names = input.next();\r\n\r\n?\r\n\r\nYou don&#39;t use `names` at all and are catching the next input after the number because of it.\r\n\r\nIt should work if you remove it... ","title":"How to create, populate, and print a string array in Java","body":"<p>What's the purpose of </p>\n\n<pre><code>String names = input.next();\n</code></pre>\n\n<p>?</p>\n\n<p>You don't use <code>names</code> at all and are catching the next input after the number because of it.</p>\n\n<p>It should work if you remove it... </p>\n"},{"tags":[],"owner":{"account_id":211794,"reputation":7413,"user_id":464188,"accept_rate":91,"display_name":"Bucket"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382121036,"creation_date":1382121036,"answer_id":19456675,"question_id":19456509,"body_markdown":"Your first `input.next()` call (after the prompt, &quot;Now enter X names&quot;) is skewing your data. Just remove it.\r\n\r\n    public class TestArray {\r\n        public static void main(String[] args){\r\n    \r\n           Scanner input = new Scanner(System.in);\r\n    \r\n           System.out.println(&quot;Enter a number between 1 and 5&quot;);\r\n           int number = input.nextInt();    \r\n    \r\n           System.out.println(&quot;Now enter &quot; + number +  &quot; names&quot;);\r\n    \r\n           String[] nameList = new String[number];\r\n    \r\n            for(int i = 0; i &lt; number; i++){\r\n                nameList[i] = input.next();\r\n                System.out.println(nameList[i]);\r\n            }\r\n        }\r\n    }","title":"How to create, populate, and print a string array in Java","body":"<p>Your first <code>input.next()</code> call (after the prompt, \"Now enter X names\") is skewing your data. Just remove it.</p>\n\n<pre><code>public class TestArray {\n    public static void main(String[] args){\n\n       Scanner input = new Scanner(System.in);\n\n       System.out.println(\"Enter a number between 1 and 5\");\n       int number = input.nextInt();    \n\n       System.out.println(\"Now enter \" + number +  \" names\");\n\n       String[] nameList = new String[number];\n\n        for(int i = 0; i &lt; number; i++){\n            nameList[i] = input.next();\n            System.out.println(nameList[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3295763,"reputation":2862,"user_id":2773060,"accept_rate":73,"display_name":"Tom Swifty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382121101,"creation_date":1382121101,"answer_id":19456689,"question_id":19456509,"body_markdown":"The line \r\n\r\n     String names = input.next();\r\n\r\nIs causing your problem. If you take that out, the program performs as you describe it should. Alternatively you could populate your array in one loop, and then loop through the list afterward printing them. This depends on what exactly you&#39;re looking to do. \r\n\r\n\r\n     import java.util.Scanner;\r\n    \r\n     public class test{\r\n      public static void main(String[] args){\r\n    \r\n          Scanner input = new Scanner(System.in);\r\n    \r\n          System.out.println(&quot;Enter a number between 1 and 5&quot;);\r\n          int number = input.nextInt();    \r\n    \r\n          System.out.println(&quot;Now enter &quot; + number +  &quot; names&quot;);      \r\n          //String names = input.next();\r\n    \r\n          String[] nameList = new String[number];\r\n    \r\n           for(int i = 0; i &lt; number; i++){\r\n                        nameList[i] = input.next();\r\n              System.out.println(nameList[i]);\r\n    \t}    \r\n      }\r\n    }","title":"How to create, populate, and print a string array in Java","body":"<p>The line </p>\n\n<pre><code> String names = input.next();\n</code></pre>\n\n<p>Is causing your problem. If you take that out, the program performs as you describe it should. Alternatively you could populate your array in one loop, and then loop through the list afterward printing them. This depends on what exactly you're looking to do. </p>\n\n<pre><code> import java.util.Scanner;\n\n public class test{\n  public static void main(String[] args){\n\n      Scanner input = new Scanner(System.in);\n\n      System.out.println(\"Enter a number between 1 and 5\");\n      int number = input.nextInt();    \n\n      System.out.println(\"Now enter \" + number +  \" names\");      \n      //String names = input.next();\n\n      String[] nameList = new String[number];\n\n       for(int i = 0; i &lt; number; i++){\n                    nameList[i] = input.next();\n          System.out.println(nameList[i]);\n    }    \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1382121252,"creation_date":1382121252,"answer_id":19456740,"question_id":19456509,"body_markdown":"Just have a seperate loop after entering names to print them all out:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class TestArray {\r\n        public static void main(String[] args){\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Enter a number between 1 and 5&quot;);\r\n            int number = input.nextInt();    \r\n    \r\n            System.out.println(&quot;Now enter &quot; + number +  &quot; names&quot;);    \r\n            //NOTE:  You may want to remove this line since it will mess up your data.\r\n            //String names = input.next();\r\n    \r\n            String[] nameList = new String[number];\r\n    \r\n            for(int i = 0; i &lt; number; i++){\r\n                nameList[i] = input.next();\r\n            }\r\n    \r\n            //print separate here.\r\n            System.out.println(&quot;Here are the names you entered:  &quot;);\r\n            for(int i = 0; i&lt;number; i++){\r\n                System.out.println(nameList[i]);\r\n            }\r\n        }\r\n    } ","title":"How to create, populate, and print a string array in Java","body":"<p>Just have a seperate loop after entering names to print them all out:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class TestArray {\n    public static void main(String[] args){\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Enter a number between 1 and 5\");\n        int number = input.nextInt();    \n\n        System.out.println(\"Now enter \" + number +  \" names\");    \n        //NOTE:  You may want to remove this line since it will mess up your data.\n        //String names = input.next();\n\n        String[] nameList = new String[number];\n\n        for(int i = 0; i &lt; number; i++){\n            nameList[i] = input.next();\n        }\n\n        //print separate here.\n        System.out.println(\"Here are the names you entered:  \");\n        for(int i = 0; i&lt;number; i++){\n            System.out.println(nameList[i]);\n        }\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24135948,"reputation":1,"user_id":18102864,"display_name":"Afreen Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643827475,"creation_date":1643827475,"answer_id":70961106,"question_id":19456509,"body_markdown":"After taking the integer input the cursor keeps waiting in straight line and when we input the string followed by int the &quot;\\n&quot; will be considered as one of the string ...To avoid this problem just consume that new line character with input.nextLine() line immediately after integer input and before string input.","title":"How to create, populate, and print a string array in Java","body":"<p>After taking the integer input the cursor keeps waiting in straight line and when we input the string followed by int the &quot;\\n&quot; will be considered as one of the string ...To avoid this problem just consume that new line character with input.nextLine() line immediately after integer input and before string input.</p>\n"}],"owner":{"account_id":3429943,"reputation":35,"user_id":2874681,"display_name":"censortrip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25697,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19456740,"answer_count":5,"score":2,"last_activity_date":1643827475,"creation_date":1382120496,"question_id":19456509,"body_markdown":"I&#39;m having trouble populating a `String` array from user input data. Here is a simple example of my issue:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class TestArray {\r\n        public static void main(String[] args){\r\n    \t  \r\n            Scanner input = new Scanner(System.in);\r\n    \t  \r\n    \t    System.out.println(&quot;Enter a number between 1 and 5&quot;);\r\n    \t    int number = input.nextInt();    \r\n    \t  \r\n    \t    System.out.println(&quot;Now enter &quot; + number +  &quot; names&quot;);\t  \r\n    \t    String names = input.next();\r\n    \r\n            String[] nameList = new String[number];\r\n    \t  \r\n    \t    for(int i = 0; i &lt; number; i++){\r\n    \t        nameList[i] = input.next();\r\n    \t        System.out.println(nameList[i]);\r\n            }\r\n        }\r\n    }\t  \r\n\r\nI do not know why this is only printing out the last name entered. What I ultimately am looking for is to print out every name. I have also tried using `input.nextLine()` which did not work.\r\n\r\nAny tips or pointers would be greatly appreciated.","title":"How to create, populate, and print a string array in Java","body":"<p>I'm having trouble populating a <code>String</code> array from user input data. Here is a simple example of my issue:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class TestArray {\n    public static void main(String[] args){\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Enter a number between 1 and 5\");\n        int number = input.nextInt();    \n\n        System.out.println(\"Now enter \" + number +  \" names\");    \n        String names = input.next();\n\n        String[] nameList = new String[number];\n\n        for(int i = 0; i &lt; number; i++){\n            nameList[i] = input.next();\n            System.out.println(nameList[i]);\n        }\n    }\n}     \n</code></pre>\n\n<p>I do not know why this is only printing out the last name entered. What I ultimately am looking for is to print out every name. I have also tried using <code>input.nextLine()</code> which did not work.</p>\n\n<p>Any tips or pointers would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8652808,"reputation":2482,"user_id":6477938,"accept_rate":78,"display_name":"Romit Kumar"},"score":1,"creation_date":1643827798,"post_id":70961091,"comment_id":125445401,"body_markdown":"Looks like you v=have already calculated the total sum of all five numbers in your code which is (sumNegative + sumPositive)","body":"Looks like you v=have already calculated the total sum of all five numbers in your code which is (sumNegative + sumPositive)"},{"owner":{"display_name":"user18085035"},"score":0,"creation_date":1643828084,"post_id":70961091,"comment_id":125445500,"body_markdown":"Ahhh, I see! Didn&#39;t realize that as it was where I got help. Thank you!","body":"Ahhh, I see! Didn&#39;t realize that as it was where I got help. Thank you!"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1643828131,"post_id":70961091,"comment_id":125445515,"body_markdown":"Or you add `number` in each iteration of that for loop to `overallSum`. After it looped over all numbers it will have created the sum of all numbers. Just like `sumPositive` or `sumNegative` but regardless positive / negative.","body":"Or you add <code>number</code> in each iteration of that for loop to <code>overallSum</code>. After it looped over all numbers it will have created the sum of all numbers. Just like <code>sumPositive</code> or <code>sumNegative</code> but regardless positive / negative."},{"owner":{"display_name":"user18085035"},"score":0,"creation_date":1643828520,"post_id":70961091,"comment_id":125445647,"body_markdown":"Awesome thanks!","body":"Awesome thanks!"}],"owner":{"display_name":"user18085035"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643827371,"creation_date":1643827371,"question_id":70961091,"body_markdown":"I&#39;m working on an assignment to write a program that reads in five whole numbers from the user. The program will calculate and output \r\nthe following statistics about the five numbers:\r\nThe sum of all of the positive numbers (greater than zero),\r\nThe sum of all of the non-positive numbers (less than or equal to zero),\r\nThe sum of all five numbers,\r\nThe average of all of the positive numbers (greater than zero),\r\nThe average of all of the non-positive numbers (less than or equal to zero),\r\nand the average of all five numbers.\r\n\r\n I got some help from my professor on the averages but I&#39;m not sure about finding the total sum of all five numbers. Any advice/help appreciated!\r\n\r\nHere&#39;s my code so far:\r\n```\r\n    import java.util.Scanner;\r\n\r\npublic class PA2b {\r\n\r\n   public static void main(String[] args) {\r\n       Scanner input = new Scanner(System.in);\r\n\r\n       System.out.print(&quot;Enter five whole numbers: &quot;);\r\n       String[] nums = input.nextLine().split(&quot; &quot;);\r\n       int[] numbers = new int[5];\r\n       int positiveCount = 0;\r\n       int countNegative = 0;\r\n       int sumPositive = 0;\r\n       int sumNegative = 0;\r\n       int overallSum = 0;\r\n\r\n       for (int i = 0; i &lt; 5; i++) {\r\n\r\n           int number = Integer.parseInt(nums[i]);\r\n           numbers[i] = number;\r\n           if (number &gt; 0) {\r\n               positiveCount++;\r\n               sumPositive += number;\r\n           } else {\r\n               countNegative++;\r\n               sumNegative += number; \r\n           }\r\n       }\r\n\r\n       if (positiveCount == 1) {\r\n           System.out.println(&quot;The sum of the &quot; + positiveCount + &quot; non-positive numbers: &quot; + sumPositive);\r\n       } else {\r\n           System.out.println(&quot;The sum of the &quot; + positiveCount + &quot; positive numbers: &quot; + sumPositive);\r\n       }\r\n       if (countNegative == 1) {\r\n           System.out.println(&quot;The sum of the &quot; + countNegative + &quot; negative number: &quot; + sumNegative);\r\n       } else {\r\n           System.out.println(&quot;The sum of the &quot; + countNegative + &quot; negative numbers: &quot; + sumNegative);\r\n       }\r\n       if (overallSum == 1) {\r\n    \t   System.out.println(&quot;The sum of the &quot; + positiveCount + &quot; non-positive numbers: &quot; + sumPositive);\r\n       }\r\n       double averagePositive = 0.00;\r\n       double averageNegative = 0.00;\r\n       double averageAll = 0.00;\r\n       \r\n       if (positiveCount &gt; 0) {\r\n           averagePositive = (double) sumPositive / positiveCount;\r\n       }\r\n       if (positiveCount &gt; 0) {\r\n           averageNegative = (double) sumNegative / countNegative;\r\n       }\r\n       averageAll = (double) (sumNegative + sumPositive) / 5;\r\n\r\n       if (positiveCount == 1) {\r\n           System.out.println(&quot;The average of the &quot; + positiveCount + &quot; positive number: &quot; + averagePositive);\r\n       } else {\r\n           System.out.println(&quot;The average of the &quot; + positiveCount + &quot; positive numbers: &quot; + averagePositive);\r\n       }\r\n       if (positiveCount == 1) {\r\n           System.out.println(&quot;The average of the &quot; + countNegative + &quot; negative number: &quot; + averageNegative);\r\n       } else {\r\n           System.out.println(&quot;The average of the &quot; + countNegative + &quot; negative numbers: &quot; + averageNegative);\r\n       }\r\n\r\n       System.out.println(&quot;The average of the 5 numbers: &quot; + averageAll);\r\n\r\n   }\r\n\r\n}\r\n```\r\n","title":"Find the sum of five numbers in Java","body":"<p>I'm working on an assignment to write a program that reads in five whole numbers from the user. The program will calculate and output\nthe following statistics about the five numbers:\nThe sum of all of the positive numbers (greater than zero),\nThe sum of all of the non-positive numbers (less than or equal to zero),\nThe sum of all five numbers,\nThe average of all of the positive numbers (greater than zero),\nThe average of all of the non-positive numbers (less than or equal to zero),\nand the average of all five numbers.</p>\n<p>I got some help from my professor on the averages but I'm not sure about finding the total sum of all five numbers. Any advice/help appreciated!</p>\n<p>Here's my code so far:</p>\n<pre><code>    import java.util.Scanner;\n\npublic class PA2b {\n\n   public static void main(String[] args) {\n       Scanner input = new Scanner(System.in);\n\n       System.out.print(&quot;Enter five whole numbers: &quot;);\n       String[] nums = input.nextLine().split(&quot; &quot;);\n       int[] numbers = new int[5];\n       int positiveCount = 0;\n       int countNegative = 0;\n       int sumPositive = 0;\n       int sumNegative = 0;\n       int overallSum = 0;\n\n       for (int i = 0; i &lt; 5; i++) {\n\n           int number = Integer.parseInt(nums[i]);\n           numbers[i] = number;\n           if (number &gt; 0) {\n               positiveCount++;\n               sumPositive += number;\n           } else {\n               countNegative++;\n               sumNegative += number; \n           }\n       }\n\n       if (positiveCount == 1) {\n           System.out.println(&quot;The sum of the &quot; + positiveCount + &quot; non-positive numbers: &quot; + sumPositive);\n       } else {\n           System.out.println(&quot;The sum of the &quot; + positiveCount + &quot; positive numbers: &quot; + sumPositive);\n       }\n       if (countNegative == 1) {\n           System.out.println(&quot;The sum of the &quot; + countNegative + &quot; negative number: &quot; + sumNegative);\n       } else {\n           System.out.println(&quot;The sum of the &quot; + countNegative + &quot; negative numbers: &quot; + sumNegative);\n       }\n       if (overallSum == 1) {\n           System.out.println(&quot;The sum of the &quot; + positiveCount + &quot; non-positive numbers: &quot; + sumPositive);\n       }\n       double averagePositive = 0.00;\n       double averageNegative = 0.00;\n       double averageAll = 0.00;\n       \n       if (positiveCount &gt; 0) {\n           averagePositive = (double) sumPositive / positiveCount;\n       }\n       if (positiveCount &gt; 0) {\n           averageNegative = (double) sumNegative / countNegative;\n       }\n       averageAll = (double) (sumNegative + sumPositive) / 5;\n\n       if (positiveCount == 1) {\n           System.out.println(&quot;The average of the &quot; + positiveCount + &quot; positive number: &quot; + averagePositive);\n       } else {\n           System.out.println(&quot;The average of the &quot; + positiveCount + &quot; positive numbers: &quot; + averagePositive);\n       }\n       if (positiveCount == 1) {\n           System.out.println(&quot;The average of the &quot; + countNegative + &quot; negative number: &quot; + averageNegative);\n       } else {\n           System.out.println(&quot;The average of the &quot; + countNegative + &quot; negative numbers: &quot; + averageNegative);\n       }\n\n       System.out.println(&quot;The average of the 5 numbers: &quot; + averageAll);\n\n   }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","button","android-linearlayout"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1643829116,"post_id":70960862,"comment_id":125445895,"body_markdown":"Why not use a `GridView` or a `RecyclerView`?","body":"Why not use a <code>GridView</code> or a <code>RecyclerView</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6344705,"reputation":855,"user_id":4925616,"display_name":"Gtomika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643826886,"creation_date":1643826886,"answer_id":70960990,"question_id":70960862,"body_markdown":"Instead of adding a `Button` for each file, add a whole `LinearLayout` for each of them, with horizontal orientation. Then, add to this inner linear layout first the button with the file name, then the delete button (they will appear in a row).\r\n\r\n    public void addButtons() {\r\n        LinearLayout linearLayout = findViewById(R.id.loadLinearLayout);\r\n\r\n        int i = 0;\r\n        for(File file : files) {\r\n            //create horizontal linear layout\r\n            LinearLayout innerLayout = new LinearLayout(this);\r\n            innerLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n\r\n            Button newButton = new Button(this); //button which shows file name\r\n            String filename = file.getName();\r\n            newButton.setId(i);\r\n            newButton.setText(filename);\r\n            newButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    loadGame(view.getId());\r\n                }\r\n            });\r\n            innerLayout.addView(newButton);\r\n\r\n            Button deleteButton = new Button(this);\r\n            deleteButton.setText(&quot;Delete&quot;); //use a string resource ideally\r\n            innerLayout.addView(deleteButton);\r\n\r\n            linearLayout.addView(innerLayout); //add the inner layout to the outer\r\n            i++;\r\n        }\r\n    }\r\n\r\nYou might need to do some additional styling, such as set the distance between the buttons, or align them in a way. You should also be able to do that programmatically somehow, but that is a different story.","title":"Programmatically create a scrollview with 2 columns of buttons Android Studio Java","body":"<p>Instead of adding a <code>Button</code> for each file, add a whole <code>LinearLayout</code> for each of them, with horizontal orientation. Then, add to this inner linear layout first the button with the file name, then the delete button (they will appear in a row).</p>\n<pre><code>public void addButtons() {\n    LinearLayout linearLayout = findViewById(R.id.loadLinearLayout);\n\n    int i = 0;\n    for(File file : files) {\n        //create horizontal linear layout\n        LinearLayout innerLayout = new LinearLayout(this);\n        innerLayout.setOrientation(LinearLayout.HORIZONTAL);\n\n        Button newButton = new Button(this); //button which shows file name\n        String filename = file.getName();\n        newButton.setId(i);\n        newButton.setText(filename);\n        newButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                loadGame(view.getId());\n            }\n        });\n        innerLayout.addView(newButton);\n\n        Button deleteButton = new Button(this);\n        deleteButton.setText(&quot;Delete&quot;); //use a string resource ideally\n        innerLayout.addView(deleteButton);\n\n        linearLayout.addView(innerLayout); //add the inner layout to the outer\n        i++;\n    }\n}\n</code></pre>\n<p>You might need to do some additional styling, such as set the distance between the buttons, or align them in a way. You should also be able to do that programmatically somehow, but that is a different story.</p>\n"}],"owner":{"account_id":17629222,"reputation":157,"user_id":12793646,"display_name":"Jadon Latta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70960990,"answer_count":1,"score":1,"last_activity_date":1643826886,"creation_date":1643826343,"question_id":70960862,"body_markdown":"I have a scrollview created that I add a variable amount of buttons to programmatically, but I now have to make it so that I have a second smaller button beside each of the buttons within the scrollview. Here is my screen now:\r\n[![!\\[Here is my scrollview now][1]][1]\r\n\r\n\r\n\r\nI would like there to be a small button beside each of those that would let me delete the option or something along those lines.\r\n\r\nHere is my code I have now to build the buttons\r\n\r\n```\r\n    public void addButtons() {\r\n        LinearLayout linearLayout = findViewById(R.id.loadLinearLayout);\r\n\r\n        int i = 0;\r\n        for(File file : files) {\r\n            Button newButton = new Button(this);\r\n            String filename = file.getName();\r\n            newButton.setId(i);\r\n            newButton.setText(filename);\r\n            newButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    loadGame(view.getId());\r\n                }\r\n            });\r\n            i++;\r\n\r\n            linearLayout.addView(newButton);\r\n        }\r\n    }\r\n```\r\n  [1]: https://i.stack.imgur.com/VXkno.png\r\n\r\nAny help would be greatly appreciated. ","title":"Programmatically create a scrollview with 2 columns of buttons Android Studio Java","body":"<p>I have a scrollview created that I add a variable amount of buttons to programmatically, but I now have to make it so that I have a second smaller button beside each of the buttons within the scrollview. Here is my screen now:\n<a href=\"https://i.stack.imgur.com/VXkno.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VXkno.png\" alt=\"![Here is my scrollview now\" /></a></p>\n<p>I would like there to be a small button beside each of those that would let me delete the option or something along those lines.</p>\n<p>Here is my code I have now to build the buttons</p>\n<pre><code>    public void addButtons() {\n        LinearLayout linearLayout = findViewById(R.id.loadLinearLayout);\n\n        int i = 0;\n        for(File file : files) {\n            Button newButton = new Button(this);\n            String filename = file.getName();\n            newButton.setId(i);\n            newButton.setText(filename);\n            newButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    loadGame(view.getId());\n                }\n            });\n            i++;\n\n            linearLayout.addView(newButton);\n        }\n    }\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","string","date","time"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1643824160,"post_id":70960368,"comment_id":125444002,"body_markdown":"Why are you subtracting 45 minutes _twice_?","body":"Why are you subtracting 45 minutes <i>twice</i>?"},{"owner":{"account_id":16497586,"reputation":11,"user_id":11919725,"display_name":"AndrewScott"},"score":0,"creation_date":1643824322,"post_id":70960368,"comment_id":125444062,"body_markdown":"Corrected, was an error on my part. Thank you","body":"Corrected, was an error on my part. Thank you"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1643824441,"post_id":70960368,"comment_id":125444111,"body_markdown":"_&quot;keep getting an Incomplete type error&quot;_ -- you need to clarify this statement, and include any stack trace or error message verbatim.  Please read [ask].","body":"<i>&quot;keep getting an Incomplete type error&quot;</i> -- you need to clarify this statement, and include any stack trace or error message verbatim.  Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":16497586,"reputation":11,"user_id":11919725,"display_name":"AndrewScott"},"score":0,"creation_date":1643824681,"post_id":70960368,"comment_id":125444206,"body_markdown":"My apologizes, added to error to post.","body":"My apologizes, added to error to post."}],"answers":[{"tags":[],"owner":{"account_id":4800197,"reputation":327,"user_id":3877042,"display_name":"PHolzwarth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643826697,"creation_date":1643826697,"answer_id":70960946,"question_id":70960368,"body_markdown":"You need to add a `toString()` to stringify the time object. Also, as you&#39;re only reading a time, use `LocalTime` instead of `LocalDateTime` Your last few lines would then look like:\r\n\r\n```\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n\tLocalTime datetime = LocalTime.parse(timeIn, formatter);\r\n\tString updatedTime = datetime.minusMinutes(45).toString();\r\n\tSystem.out.println(&quot;New time to wake up: &quot; + updatedTime);\r\n\r\n```\r\n","title":"Subtract 45 minutes from time that user provided","body":"<p>You need to add a <code>toString()</code> to stringify the time object. Also, as you're only reading a time, use <code>LocalTime</code> instead of <code>LocalDateTime</code> Your last few lines would then look like:</p>\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\n    LocalTime datetime = LocalTime.parse(timeIn, formatter);\n    String updatedTime = datetime.minusMinutes(45).toString();\n    System.out.println(&quot;New time to wake up: &quot; + updatedTime);\n\n</code></pre>\n"}],"owner":{"account_id":16497586,"reputation":11,"user_id":11919725,"display_name":"AndrewScott"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70960946,"answer_count":1,"score":-1,"last_activity_date":1643826697,"creation_date":1643824055,"question_id":70960368,"body_markdown":"I am trying to take in a string formatted as HH:mm (24 hr format) and then subtract 45 minutes from that given time to provide the user a new time. Here is the code I have completed so far but I keep getting an Incomplete type error. Am I using the minusMinutes() incorrectly?\r\n\r\n\r\nEdit adding error message:\r\n&quot;Incompatible types found: &#39;java.time.LocalDateTime&#39;, required: &#39;java.lang.String&#39;: 52&#39;\r\n\r\n    public static boolean validateTime(String timeStr)\r\n        {\r\n            //Regular expression logic to validate correct format:\r\n            // ( = start of group, [01]?[0-9] time can start with 0-9,1-9, 00-09,10-19\r\n            // | = or, 2[0-5] represents start time with 20-23, ) = end group\r\n            //\r\n            String regex = &quot;([01]?[0-9]|2[0-3]):[0-5][0-9]&quot;;\r\n            Pattern p = Pattern.compile(regex);\r\n    \r\n            //if time empty return false\r\n            if (timeStr == null)\r\n            {\r\n                return false;\r\n            }\r\n    \r\n            //matcher method attempts to find match between given time and regex\r\n            Matcher m = p.matcher(timeStr);\r\n            //if given time and Regular expression matches,return true.\r\n            return m.matches();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner myScanner = new Scanner(System.in);\r\n            System.out.println(&quot;Enter time in 24 hr format (HH:mm): &quot;);\r\n    \r\n            String timeIn = myScanner.nextLine(); // read user input\r\n            while(!(validateTime(timeIn)))\r\n            {\r\n                System.out.println(&quot;Please enter valid time: &quot;);\r\n                timeIn = myScanner.nextLine();\r\n            }\r\n    \r\n            System.out.println(&quot;Current Time is: &quot; + timeIn);\r\n            //String[] arrOfStr = timeIn.split(&quot;\\\\:&quot;);\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n            LocalDateTime datetime = LocalDateTime.parse(timeIn,formatter);\r\n            String updatedTime = datetime.minusMinutes(45);\r\n            System.out.println(&quot;New time to wake up: &quot; + updatedTime);","title":"Subtract 45 minutes from time that user provided","body":"<p>I am trying to take in a string formatted as HH:mm (24 hr format) and then subtract 45 minutes from that given time to provide the user a new time. Here is the code I have completed so far but I keep getting an Incomplete type error. Am I using the minusMinutes() incorrectly?</p>\n<p>Edit adding error message:\n&quot;Incompatible types found: 'java.time.LocalDateTime', required: 'java.lang.String': 52'</p>\n<pre><code>public static boolean validateTime(String timeStr)\n    {\n        //Regular expression logic to validate correct format:\n        // ( = start of group, [01]?[0-9] time can start with 0-9,1-9, 00-09,10-19\n        // | = or, 2[0-5] represents start time with 20-23, ) = end group\n        //\n        String regex = &quot;([01]?[0-9]|2[0-3]):[0-5][0-9]&quot;;\n        Pattern p = Pattern.compile(regex);\n\n        //if time empty return false\n        if (timeStr == null)\n        {\n            return false;\n        }\n\n        //matcher method attempts to find match between given time and regex\n        Matcher m = p.matcher(timeStr);\n        //if given time and Regular expression matches,return true.\n        return m.matches();\n\n    }\n\n    public static void main(String[] args) {\n\n        Scanner myScanner = new Scanner(System.in);\n        System.out.println(&quot;Enter time in 24 hr format (HH:mm): &quot;);\n\n        String timeIn = myScanner.nextLine(); // read user input\n        while(!(validateTime(timeIn)))\n        {\n            System.out.println(&quot;Please enter valid time: &quot;);\n            timeIn = myScanner.nextLine();\n        }\n\n        System.out.println(&quot;Current Time is: &quot; + timeIn);\n        //String[] arrOfStr = timeIn.split(&quot;\\\\:&quot;);\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\n        LocalDateTime datetime = LocalDateTime.parse(timeIn,formatter);\n        String updatedTime = datetime.minusMinutes(45);\n        System.out.println(&quot;New time to wake up: &quot; + updatedTime);\n</code></pre>\n"},{"tags":["java","azure","azure-web-app-service"],"answers":[{"tags":[],"owner":{"account_id":14374450,"reputation":13893,"user_id":10383250,"display_name":"George Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542618900,"creation_date":1542618900,"answer_id":53371445,"question_id":53349493,"body_markdown":"If you have java process in Kudu, you could check java process `PID` with `jps` then use `jmap -heap [pid]`  in jdk/bin directory and you will get the heap memory details.\r\n\r\nIf you don&#39;t have, you could create a `WebJob` to get the details.  I get the details and put it in the queue. Here is the sample code.\r\n\r\n     public static  final String storageConnectionString =\r\n            &quot;DefaultEndpointsProtocol=https;&quot; +\r\n                    &quot;AccountName=******;&quot; +\r\n                    &quot;AccountKey=*********;&quot; +\r\n                    &quot;EndpointSuffix=core.windows.net&quot;;\r\n\r\n    public static void main( String[] args )\r\n    {\r\n\r\n\r\n        MemoryMXBean memorymbean = ManagementFactory.getMemoryMXBean();\r\n        MemoryUsage usage = memorymbean.getHeapMemoryUsage();\r\n        System.out.println(&quot;INIT HEAP: &quot; + usage.getInit()/(1024*1024));\r\n        System.out.println(&quot;MAX HEAP: &quot; + usage.getMax()/(1024*1024));\r\n        System.out.println(&quot;USE HEAP: &quot; + usage.getUsed()/(1024*1024));\r\n        System.out.println(&quot;\\nFull Information:&quot;);\r\n        System.out.println(&quot;Heap Memory Usage: &quot;\r\n                + memorymbean.getHeapMemoryUsage());\r\n        System.out.println(&quot;Non-Heap Memory Usage: &quot;\r\n                + memorymbean.getNonHeapMemoryUsage());\r\n\r\n\r\n        CloudQueueMessage message=null;\r\n\r\n        try {\r\n            CloudStorageAccount storageAccount =\r\n                    CloudStorageAccount.parse(storageConnectionString);\r\n\r\n            // Create the queue client.\r\n            CloudQueueClient queueClient = storageAccount.createCloudQueueClient();\r\n\r\n            // Retrieve a reference to a queue.\r\n            CloudQueue queue = queueClient.getQueueReference(**queuename**);\r\n\r\n            // Create the queue if it doesn&#39;t already exist.\r\n            queue.createIfNotExists();\r\n\r\n            // Create a message and add it to the queue.\r\n            CloudQueueMessage errormessage = new CloudQueueMessage(&quot;INIT HEAP: &quot; + usage.getInit()+\r\n                                                                            &quot;MAX HEAP: &quot; + usage.getMax()+\r\n                                                                            &quot;USE HEAP: &quot; + usage.getUsed() +\r\n                                                                            &quot;Heap Memory Usage: &quot; + memorymbean.getHeapMemoryUsage()+\r\n                                                                            &quot;Non-Heap Memory Usage: &quot; + memorymbean.getNonHeapMemoryUsage());\r\n            queue.addMessage(errormessage);\r\n\r\n            // Download the approximate message count from the server.\r\n            queue.downloadAttributes();\r\n\r\n            // Retrieve the newly cached approximate message count.\r\n            long cachedMessageCount = queue.getApproximateMessageCount();\r\n\r\n            // Display the queue length.\r\n            System.out.println(String.format(&quot;Queue length: %d&quot;, cachedMessageCount));\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n        } catch (InvalidKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (StorageException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nIF you still have questions , please let me know.","title":"Setting JVM heap options in Azure App Service","body":"<p>If you have java process in Kudu, you could check java process <code>PID</code> with <code>jps</code> then use <code>jmap -heap [pid]</code>  in jdk/bin directory and you will get the heap memory details.</p>\n\n<p>If you don't have, you could create a <code>WebJob</code> to get the details.  I get the details and put it in the queue. Here is the sample code.</p>\n\n<pre><code> public static  final String storageConnectionString =\n        \"DefaultEndpointsProtocol=https;\" +\n                \"AccountName=******;\" +\n                \"AccountKey=*********;\" +\n                \"EndpointSuffix=core.windows.net\";\n\npublic static void main( String[] args )\n{\n\n\n    MemoryMXBean memorymbean = ManagementFactory.getMemoryMXBean();\n    MemoryUsage usage = memorymbean.getHeapMemoryUsage();\n    System.out.println(\"INIT HEAP: \" + usage.getInit()/(1024*1024));\n    System.out.println(\"MAX HEAP: \" + usage.getMax()/(1024*1024));\n    System.out.println(\"USE HEAP: \" + usage.getUsed()/(1024*1024));\n    System.out.println(\"\\nFull Information:\");\n    System.out.println(\"Heap Memory Usage: \"\n            + memorymbean.getHeapMemoryUsage());\n    System.out.println(\"Non-Heap Memory Usage: \"\n            + memorymbean.getNonHeapMemoryUsage());\n\n\n    CloudQueueMessage message=null;\n\n    try {\n        CloudStorageAccount storageAccount =\n                CloudStorageAccount.parse(storageConnectionString);\n\n        // Create the queue client.\n        CloudQueueClient queueClient = storageAccount.createCloudQueueClient();\n\n        // Retrieve a reference to a queue.\n        CloudQueue queue = queueClient.getQueueReference(**queuename**);\n\n        // Create the queue if it doesn't already exist.\n        queue.createIfNotExists();\n\n        // Create a message and add it to the queue.\n        CloudQueueMessage errormessage = new CloudQueueMessage(\"INIT HEAP: \" + usage.getInit()+\n                                                                        \"MAX HEAP: \" + usage.getMax()+\n                                                                        \"USE HEAP: \" + usage.getUsed() +\n                                                                        \"Heap Memory Usage: \" + memorymbean.getHeapMemoryUsage()+\n                                                                        \"Non-Heap Memory Usage: \" + memorymbean.getNonHeapMemoryUsage());\n        queue.addMessage(errormessage);\n\n        // Download the approximate message count from the server.\n        queue.downloadAttributes();\n\n        // Retrieve the newly cached approximate message count.\n        long cachedMessageCount = queue.getApproximateMessageCount();\n\n        // Display the queue length.\n        System.out.println(String.format(\"Queue length: %d\", cachedMessageCount));\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n    } catch (InvalidKeyException e) {\n        e.printStackTrace();\n    } catch (StorageException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>IF you still have questions , please let me know.</p>\n"},{"tags":[],"owner":{"account_id":2367471,"reputation":1,"user_id":17710500,"display_name":"Jason Weiand MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643826338,"creation_date":1643826338,"answer_id":70960861,"question_id":53349493,"body_markdown":"I realize this is an older thread, but just in case anyone stumbles upon this looking to fix this issue now, the answer depends on whether the app service is running under Dedicated/Premium or Consumption plans. \r\n\r\nFor app services running under dedicated or premium plans you use the JAVA_OPTS app settings.\r\nFor app services running under consumption plans you use âlanguageWorkers__java__argumentsâ app setting instead.\r\n\r\nYou can read more about that here as we are still waiting on the main doc to be updated for the difference regarding consumption plans.\r\n\r\nhttps://github.com/Azure/azure-functions-java-worker/wiki/How-to-customize-JVM-options-on-Azure-Functions\r\n\r\n","title":"Setting JVM heap options in Azure App Service","body":"<p>I realize this is an older thread, but just in case anyone stumbles upon this looking to fix this issue now, the answer depends on whether the app service is running under Dedicated/Premium or Consumption plans.</p>\n<p>For app services running under dedicated or premium plans you use the JAVA_OPTS app settings.\nFor app services running under consumption plans you use âlanguageWorkers__java__argumentsâ app setting instead.</p>\n<p>You can read more about that here as we are still waiting on the main doc to be updated for the difference regarding consumption plans.</p>\n<p><a href=\"https://github.com/Azure/azure-functions-java-worker/wiki/How-to-customize-JVM-options-on-Azure-Functions\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-functions-java-worker/wiki/How-to-customize-JVM-options-on-Azure-Functions</a></p>\n"}],"owner":{"account_id":237563,"reputation":1592,"user_id":505843,"accept_rate":94,"display_name":"Chris Browne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643826338,"creation_date":1542442664,"question_id":53349493,"body_markdown":"I&#39;ve been trying to deploy an app to the Azure App Service (free tier), and because of the memory limitations the app keeps getting killed as it uses too much memory.  Of course the easiest way to solve this is setting `-Xmx900m` on the JVM at startup, however none of the methods I&#39;ve tried have worked so far.\r\n\r\nWhat I have tried:\r\n\r\n1. Added `-Xmx900m` to the web.config `httpPlatform` tag, in the `arguments` attribute (at the start).\r\n2. Added `-Xmx900m` to the JAVA_OPTS environment variable (in the Application Settings)\r\n3. Added `-Xmx900m` to the JAVA_OPTS environment variable using the `web.config` file.\r\n\r\nThe problem is I can&#39;t verify if any of these actually worked, because in Kudu I can&#39;t see the command line that was used or really do much to inspect the process beyond seeing how much memory it is using at any given moment.  It certainly seems as though the setting is being ignored in each of these cases, since the memory usage climbs to 1024MB then the process crashes with a memory allocation failure.\r\n\r\nIs there anything I can do to set the max heap setting in Azure App Service Java applications?","title":"Setting JVM heap options in Azure App Service","body":"<p>I've been trying to deploy an app to the Azure App Service (free tier), and because of the memory limitations the app keeps getting killed as it uses too much memory.  Of course the easiest way to solve this is setting <code>-Xmx900m</code> on the JVM at startup, however none of the methods I've tried have worked so far.</p>\n\n<p>What I have tried:</p>\n\n<ol>\n<li>Added <code>-Xmx900m</code> to the web.config <code>httpPlatform</code> tag, in the <code>arguments</code> attribute (at the start).</li>\n<li>Added <code>-Xmx900m</code> to the JAVA_OPTS environment variable (in the Application Settings)</li>\n<li>Added <code>-Xmx900m</code> to the JAVA_OPTS environment variable using the <code>web.config</code> file.</li>\n</ol>\n\n<p>The problem is I can't verify if any of these actually worked, because in Kudu I can't see the command line that was used or really do much to inspect the process beyond seeing how much memory it is using at any given moment.  It certainly seems as though the setting is being ignored in each of these cases, since the memory usage climbs to 1024MB then the process crashes with a memory allocation failure.</p>\n\n<p>Is there anything I can do to set the max heap setting in Azure App Service Java applications?</p>\n"},{"tags":["java","actionevent"],"answers":[{"tags":[],"owner":{"account_id":203758,"reputation":14587,"user_id":451600,"accept_rate":91,"display_name":"Captain Giraffe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643825263,"creation_date":1643825263,"answer_id":70960635,"question_id":70960417,"body_markdown":"When you provide an `ActionListener` object to a buttons button.addActionListener(listener)\r\n\r\nYou have several ways to accomplish this. \r\n\r\n     button.addActionListener(this);\r\n\r\nIs only one way. This way says the the class implements ActionListener.\r\nIn effect it implements the \r\n\r\n    public void actionPerformed(ActionEvent e)\r\n\r\nmethod.\r\n\r\nYour \r\n\r\n    public void actionPerformed1(ActionEvent e)\r\ncan&#39;t be used by the button at all.\r\n\r\nFortunately there are many other ways to describe the code that should be executed when an action event is produced.\r\n\r\nAn inner class, static or not. Other class/object.\r\nA lambda expression.\r\n\r\nYou can find how to express a lambda [here][1]. \r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/44790907/451600","title":"Java doubts about ActionEvent","body":"<p>When you provide an <code>ActionListener</code> object to a buttons button.addActionListener(listener)</p>\n<p>You have several ways to accomplish this.</p>\n<pre><code> button.addActionListener(this);\n</code></pre>\n<p>Is only one way. This way says the the class implements ActionListener.\nIn effect it implements the</p>\n<pre><code>public void actionPerformed(ActionEvent e)\n</code></pre>\n<p>method.</p>\n<p>Your</p>\n<pre><code>public void actionPerformed1(ActionEvent e)\n</code></pre>\n<p>can't be used by the button at all.</p>\n<p>Fortunately there are many other ways to describe the code that should be executed when an action event is produced.</p>\n<p>An inner class, static or not. Other class/object.\nA lambda expression.</p>\n<p>You can find how to express a lambda <a href=\"https://stackoverflow.com/q/44790907/451600\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643825502,"creation_date":1643825502,"answer_id":70960687,"question_id":70960417,"body_markdown":"Remove ```public void actionPerformed1(ActionEvent e)``` method and add the body of that method in the else branch in the body of ```public void actionPerformed(ActionEvent e)```.\r\n\r\n```\r\n\r\n  public void actionPerformed(ActionEvent e) {\r\n\r\n    if (e.getSource() == boton) {\r\n      String nombreyapellidos, nombre1, apellidos1;\r\n      nombre1 = textfield.getText();\r\n      apellidos1 = textfield1.getText();\r\n\r\n      nombreyapellidos = nombre1 + apellidos1;\r\n\r\n      respondo.setText(nombreyapellidos);\r\n\r\n    } else if (e.getSource() == botonoff) {\r\n      System.exit(0);\r\n    }\r\n\r\n  }\r\n```","title":"Java doubts about ActionEvent","body":"<p>Remove <code>public void actionPerformed1(ActionEvent e)</code> method and add the body of that method in the else branch in the body of <code>public void actionPerformed(ActionEvent e)</code>.</p>\n<pre><code>\n  public void actionPerformed(ActionEvent e) {\n\n    if (e.getSource() == boton) {\n      String nombreyapellidos, nombre1, apellidos1;\n      nombre1 = textfield.getText();\n      apellidos1 = textfield1.getText();\n\n      nombreyapellidos = nombre1 + apellidos1;\n\n      respondo.setText(nombreyapellidos);\n\n    } else if (e.getSource() == botonoff) {\n      System.exit(0);\n    }\n\n  }\n</code></pre>\n"}],"owner":{"account_id":24135396,"reputation":3,"user_id":18102413,"display_name":"David Jr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70960635,"answer_count":2,"score":-1,"last_activity_date":1643825502,"creation_date":1643824238,"question_id":70960417,"body_markdown":"this is my first question on this website.\r\nI have this problem, in this class I have two buttons with two different functions, one to exit and another to put the first and last name in a text field.\r\nI can&#39;t get the second ActionEvent to work, please help me, thanks.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class Prueba1 extends JFrame implements ActionListener{\r\n    \t\r\n    \tprivate JLabel nombre, apellidos,respondo;\r\n    \tprivate JTextField textfield, textfield1;\r\n    \tprivate JButton boton,botonoff;\r\n    \t\r\n    \tpublic Prueba1() {\r\n    \t\tsetLayout(null);\r\n    \t\t\r\n    \t\tnombre = new JLabel(&quot;Nombre:&quot;);\r\n    \t\tnombre.setBounds(10, 10, 300, 30);\r\n    \t\tadd(nombre);\r\n    \t\t\r\n    \t\tapellidos = new JLabel(&quot;Apellidos&quot;);\r\n    \t\tapellidos.setBounds(10, 40, 300, 30);\r\n    \t\tadd(apellidos);\r\n    \t\t\r\n    \t\ttextfield = new JTextField();\r\n    \t\ttextfield.setBounds(100,10,150,20);\r\n    \t\tadd(textfield);\r\n    \t\t\r\n    \t\ttextfield1 = new JTextField();\r\n    \t\ttextfield1.setBounds(100,40,150,20);\r\n    \t\tadd(textfield1);\r\n    \t\t\r\n    \t\tboton = new JButton(&quot;&#191;Que saldr&#225;?&quot;);\r\n    \t\tboton.setBounds(10,80,120,30);\r\n    \t\tboton.addActionListener(this);\r\n    \t\tadd(boton);\r\n    \t\t\r\n    \t\tbotonoff = new JButton(&quot;Salir&quot;);\r\n    \t\tbotonoff.setBounds(10,120,120,30);\r\n    \t\tbotonoff.addActionListener(this);\r\n    \t\tadd(botonoff);\r\n    \t\t\r\n    \t\trespondo = new JLabel(&quot;UwU&quot;);\r\n    \t\trespondo.setBounds(160,80,300,30);\r\n    \t\tadd(respondo);\r\n    \t}\r\n    \t\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\r\n    \t\t\r\n    \t\tif(e.getSource() == boton) {\r\n    \t\t\tString nombreyapellidos, nombre1, apellidos1;\r\n    \t\t\tnombre1 = textfield.getText();\r\n    \t\t\tapellidos1 = textfield1.getText();\r\n    \t\t\t\r\n    \t\t\tnombreyapellidos = nombre1 + apellidos1;\r\n    \t\t\t\r\n    \t\t\trespondo.setText(nombreyapellidos);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\r\n    \t\r\n    \t}\r\n    \t\r\n    public void actionPerformed1(ActionEvent e) {\r\n    \t\t\r\n    \t\t\r\n    \t\tif(e.getSource() == botonoff) {\r\n    \t\t\tSystem.exit(0);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[]) {\r\n    \t\t\r\n    \t\tPrueba1 clase = new Prueba1();\r\n    \t\tclase.setVisible(true);\r\n    \t\tclase.setBounds(0, 0, 500, 500);\r\n    \t\tclase.setResizable(true);\r\n    \t\tclase.setLocationRelativeTo(null);\r\n    \t}\r\n    \t\r\n    }","title":"Java doubts about ActionEvent","body":"<p>this is my first question on this website.\nI have this problem, in this class I have two buttons with two different functions, one to exit and another to put the first and last name in a text field.\nI can't get the second ActionEvent to work, please help me, thanks.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\n\npublic class Prueba1 extends JFrame implements ActionListener{\n    \n    private JLabel nombre, apellidos,respondo;\n    private JTextField textfield, textfield1;\n    private JButton boton,botonoff;\n    \n    public Prueba1() {\n        setLayout(null);\n        \n        nombre = new JLabel(&quot;Nombre:&quot;);\n        nombre.setBounds(10, 10, 300, 30);\n        add(nombre);\n        \n        apellidos = new JLabel(&quot;Apellidos&quot;);\n        apellidos.setBounds(10, 40, 300, 30);\n        add(apellidos);\n        \n        textfield = new JTextField();\n        textfield.setBounds(100,10,150,20);\n        add(textfield);\n        \n        textfield1 = new JTextField();\n        textfield1.setBounds(100,40,150,20);\n        add(textfield1);\n        \n        boton = new JButton(&quot;Â¿Que saldrÃ¡?&quot;);\n        boton.setBounds(10,80,120,30);\n        boton.addActionListener(this);\n        add(boton);\n        \n        botonoff = new JButton(&quot;Salir&quot;);\n        botonoff.setBounds(10,120,120,30);\n        botonoff.addActionListener(this);\n        add(botonoff);\n        \n        respondo = new JLabel(&quot;UwU&quot;);\n        respondo.setBounds(160,80,300,30);\n        add(respondo);\n    }\n    \n    public void actionPerformed(ActionEvent e) {\n        \n        \n        if(e.getSource() == boton) {\n            String nombreyapellidos, nombre1, apellidos1;\n            nombre1 = textfield.getText();\n            apellidos1 = textfield1.getText();\n            \n            nombreyapellidos = nombre1 + apellidos1;\n            \n            respondo.setText(nombreyapellidos);\n            \n        }\n        \n    \n    \n    }\n    \npublic void actionPerformed1(ActionEvent e) {\n        \n        \n        if(e.getSource() == botonoff) {\n            System.exit(0);\n            \n            \n        }\n    \n    }\n    \n    public static void main(String args[]) {\n        \n        Prueba1 clase = new Prueba1();\n        clase.setVisible(true);\n        clase.setBounds(0, 0, 500, 500);\n        clase.setResizable(true);\n        clase.setLocationRelativeTo(null);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","r","dataframe","renjin"],"owner":{"account_id":6774394,"reputation":11,"user_id":5216709,"display_name":"Nikata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643824588,"creation_date":1643824588,"question_id":70960503,"body_markdown":"We have Java web application running in Tomcat. We want to integrate R scripts (code already exist) into our application and planning to use Renjin to accomplish that. We will crate simple UI where the User can select and upload couple of files (csv, excel) to the server and then we need to pass that data to R script. \r\nI am new to R and Renjin and evaluating some options:\r\nCan we pass binary data from Java to R using Vector raw data? \r\nor we have to create Data Frame for ex. in Java and pass that to R script? \r\nor is there another way to accomplish this? \r\n\r\nThanks.","title":"Calling R script from Java using Renjin and pass binary as parameter","body":"<p>We have Java web application running in Tomcat. We want to integrate R scripts (code already exist) into our application and planning to use Renjin to accomplish that. We will crate simple UI where the User can select and upload couple of files (csv, excel) to the server and then we need to pass that data to R script.\nI am new to R and Renjin and evaluating some options:\nCan we pass binary data from Java to R using Vector raw data?\nor we have to create Data Frame for ex. in Java and pass that to R script?\nor is there another way to accomplish this?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","heidisql"],"answers":[{"tags":[],"owner":{"account_id":3059088,"reputation":191,"user_id":2592155,"display_name":"Jonathan Cole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643823868,"creation_date":1643823868,"answer_id":70960321,"question_id":70957022,"body_markdown":"Looks like you are getting rejected using port 54015. Is that the port the SQL Server is listening to for JDBC connections? If not, you may need to append the port# to ConnectionClass.ip i.e. 127.0.0.1:[port number goes here] aka 127.0.0.1:12345","title":"Android Studio connecting to SQL Database","body":"<p>Looks like you are getting rejected using port 54015. Is that the port the SQL Server is listening to for JDBC connections? If not, you may need to append the port# to ConnectionClass.ip i.e. 127.0.0.1:[port number goes here] aka 127.0.0.1:12345</p>\n"}],"owner":{"account_id":22359600,"reputation":11,"user_id":16576305,"display_name":"JJjang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643823868,"creation_date":1643810627,"question_id":70957022,"body_markdown":"I am trying to connect Android studio app to SQL server (Heidi SQL) I have the jtds jars (jtds-1.2.7.jar) file inside the lib and added the dependency. It still doesnt read the data and show the result from the database and I have this error: \r\n\r\nE/Error: net.sourceforge.jtds.jdbc.Driver\r\n[enter image description here][1]\r\n\r\nThese are my codes.\r\n\r\n\r\n&gt; public class ConnectionHelper {\r\n&gt; \r\n&gt;     Connection con;\r\n&gt;     String uname, pass, ip, port, database;\r\n&gt; \r\n&gt;     @SuppressLint(&quot;NewApi&quot;)\r\n&gt;     public Connection connectionClass() {\r\n&gt;         ip = &quot;127.0.0.1&quot;;\r\n&gt;         database = &quot;eat&quot;;\r\n&gt;         uname = &quot;root&quot;;\r\n&gt;         pass = &quot;pass&quot;;\r\n&gt; \r\n&gt;         StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n&gt;         StrictMode.setThreadPolicy(policy);\r\n&gt;         Connection connection = null;\r\n&gt;         String ConnectionURL = null;\r\n&gt; \r\n&gt;         try{\r\n&gt;             Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n&gt;                 ConnectionURL = &quot;jdbc:jtds:mysqlserver://&quot; + ip + &quot;/&quot; + database + &quot;;user=&quot; + uname +\r\n&gt;                         &quot;;password=&quot; + pass +&quot;;&quot;;\r\n&gt; \r\n&gt;             connection = DriverManager.getConnection(ConnectionURL);\r\n&gt;         }\r\n&gt;         catch (Exception ex){\r\n&gt;             Log.e(&quot;Error&quot; , ex.getMessage());\r\n&gt;         }\r\n&gt;         return connection;\r\n&gt;     } }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JSzdM.png","title":"Android Studio connecting to SQL Database","body":"<p>I am trying to connect Android studio app to SQL server (Heidi SQL) I have the jtds jars (jtds-1.2.7.jar) file inside the lib and added the dependency. It still doesnt read the data and show the result from the database and I have this error:</p>\n<p>E/Error: net.sourceforge.jtds.jdbc.Driver\n<a href=\"https://i.stack.imgur.com/JSzdM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>These are my codes.</p>\n<blockquote>\n<p>public class ConnectionHelper {</p>\n<pre><code>Connection con;\nString uname, pass, ip, port, database;\n\n@SuppressLint(&quot;NewApi&quot;)\npublic Connection connectionClass() {\n    ip = &quot;127.0.0.1&quot;;\n    database = &quot;eat&quot;;\n    uname = &quot;root&quot;;\n    pass = &quot;pass&quot;;\n\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n    Connection connection = null;\n    String ConnectionURL = null;\n\n    try{\n        Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n            ConnectionURL = &quot;jdbc:jtds:mysqlserver://&quot; + ip + &quot;/&quot; + database + &quot;;user=&quot; + uname +\n                    &quot;;password=&quot; + pass +&quot;;&quot;;\n\n        connection = DriverManager.getConnection(ConnectionURL);\n    }\n    catch (Exception ex){\n        Log.e(&quot;Error&quot; , ex.getMessage());\n    }\n    return connection;\n} }\n</code></pre>\n</blockquote>\n"},{"tags":["java","jboss","rhel","restart"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643823760,"creation_date":1643823760,"answer_id":70960296,"question_id":70958470,"body_markdown":"You only need to redeploy the application. Of course if you change the server configuration that&#39;s a different story.","title":"Restart jboss service or redoploy when modifying application configurations?","body":"<p>You only need to redeploy the application. Of course if you change the server configuration that's a different story.</p>\n"}],"owner":{"account_id":15003355,"reputation":13,"user_id":10830244,"display_name":"miguel ramires"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70960296,"answer_count":1,"score":0,"last_activity_date":1643823760,"creation_date":1643816318,"question_id":70958470,"body_markdown":"When the properties or .xml of some application (ear) in jboss (RHEL) are modified, is it necessary to restart the jboss service or simply by doing a redeploy (mv .deployed .dodeploy) are the changes recognized?\r\nThanks","title":"Restart jboss service or redoploy when modifying application configurations?","body":"<p>When the properties or .xml of some application (ear) in jboss (RHEL) are modified, is it necessary to restart the jboss service or simply by doing a redeploy (mv .deployed .dodeploy) are the changes recognized?\nThanks</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1643823577,"post_id":70960059,"comment_id":125443767,"body_markdown":"Unless that class is contained in its own module, no. And you shouldn&#39;t: if you shield your clients from *everything else* in there, you should also wrap the exception into your own exception type and surface any necessary details.","body":"Unless that class is contained in its own module, no. And you shouldn&#39;t: if you shield your clients from <i>everything else</i> in there, you should also wrap the exception into your own exception type and surface any necessary details."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643823546,"creation_date":1643823546,"answer_id":70960247,"question_id":70960059,"body_markdown":"Not really, but your plan (&#39;include just this one thing&#39;) is the wrong solution.\r\n\r\nThe general principle you&#39;ve run into is &#39;transitive dependencies&#39;.\r\n\r\nProject A is dependent on project B. However, B in turn depends on C... so does A depend on C now?\r\n\r\ntransitive dependencies come in two &#39;flavours&#39;: Exported and non-exported.\r\n\r\nProject B is a whole bunch of code, but crucially, _some_ of that code is &#39;visible&#39;. Specifically, the _public signatures_.\r\n\r\nIf project B&#39;s API (which A can see) includes, say, `public List&lt;String&gt; getNames()`, that means that the List dependency is now something A also needs to have, otherwise it can&#39;t interact with this method at all. Fortunately, List is `java.util.List` which everybody always haves so that wouldn&#39;t be a problem, but imagine it&#39;s a type from something not in the `java.*` space. To make this work, you _export_. And, it means that anytime you use any type from one of your dependencies in one of your public signatures, __you have now forced that dependency to be exported__.\r\n\r\nThat&#39;s what you&#39;ve done here, by declaring `throws SomethingSpecificFromOpenSAML`, you must now export openSAML.\r\n\r\n## Solution: Just.. don&#39;t throw that\r\n\r\nIf that&#39;s the one and only thing you use in a public signature, the answer seems very obvious. Stop throwing that, your code is just wrong. You should not declare in your `throws` statement anything that&#39;s an implementation detail, and if you have no intention of &#39;exporting&#39; OpenSAML here, then _clearly_ it&#39;s an implementation detail.\r\n\r\nInstead, catch it and throw it as something else. Or, keep it as is, but declare to throw Exception:\r\n\r\n```java\r\n// Example 1\r\npublic void saveGame() throws OpenSamlException {\r\n  doSamlStuffHere();\r\n}\r\n\r\n// Example 2\r\npublic void saveGame() throws Exception {\r\n  doSamlStuffHere();\r\n}\r\n\r\n// Example 3\r\npublic class SaveException extends Exception {\r\n  public SaveException(String msg, Throwable cause) {\r\n    super(msg, cause);\r\n  }\r\n}\r\n\r\npublic void saveGame() throws SaveException {\r\n  try {\r\n    doSamlStuffHere();\r\n  } catch (OpenSamlException e) {\r\n    throw new SaveException(&quot;Saving game &quot; + getSaveName() + &quot; failed&quot;, e);\r\n  }\r\n}\r\n```\r\n\r\nExample 1 is what you have now and it exports the idea of OpenSaml conceptually by explicitly naming it in the &#39;visible&#39; part of the method (which is just its signature).\r\n\r\nExample 2 fixes that by naming `java.lang.Exception`. It also takes away the ability to meaningfully interact with the problem as thrown (`catch (Exception e)` catches rather a lot), so it&#39;s a bit ugly. But it solves the problem.\r\n\r\nExample 3 is &#39;correct&#39;: It fully hides SAML as an implementation detail (nothing publicly visible shows anything about SAML at all, just like Example 2), but it does let you interact specifically with the problem, by rethrowing it as an exception that is still specific. I&#39;m using &#39;save a game&#39; here just as example.\r\n\r\nExample 2 and 3 mean you no longer need to export your transitive dependency.\r\n\r\n## Transitive dependencies do need to be on the classpath\r\n\r\n__Exported__ transitive dependencies need to be available as you compile (and write) the code. And, of course, that dep needs to be on the classpath when you run the code.\r\n\r\nNon-exported transitive dependencies don&#39;t need to exist at all when you compile/write. But they __still__ need to be on the classpath when you run the code, obviously. After all, you need SAML to exist in order to _run_ your `saveGame()` method. You can&#39;t wish that away.\r\n","title":"How can I pass only Exceptions from my Java Library to the implementing application?","body":"<p>Not really, but your plan ('include just this one thing') is the wrong solution.</p>\n<p>The general principle you've run into is 'transitive dependencies'.</p>\n<p>Project A is dependent on project B. However, B in turn depends on C... so does A depend on C now?</p>\n<p>transitive dependencies come in two 'flavours': Exported and non-exported.</p>\n<p>Project B is a whole bunch of code, but crucially, <em>some</em> of that code is 'visible'. Specifically, the <em>public signatures</em>.</p>\n<p>If project B's API (which A can see) includes, say, <code>public List&lt;String&gt; getNames()</code>, that means that the List dependency is now something A also needs to have, otherwise it can't interact with this method at all. Fortunately, List is <code>java.util.List</code> which everybody always haves so that wouldn't be a problem, but imagine it's a type from something not in the <code>java.*</code> space. To make this work, you <em>export</em>. And, it means that anytime you use any type from one of your dependencies in one of your public signatures, <strong>you have now forced that dependency to be exported</strong>.</p>\n<p>That's what you've done here, by declaring <code>throws SomethingSpecificFromOpenSAML</code>, you must now export openSAML.</p>\n<h2>Solution: Just.. don't throw that</h2>\n<p>If that's the one and only thing you use in a public signature, the answer seems very obvious. Stop throwing that, your code is just wrong. You should not declare in your <code>throws</code> statement anything that's an implementation detail, and if you have no intention of 'exporting' OpenSAML here, then <em>clearly</em> it's an implementation detail.</p>\n<p>Instead, catch it and throw it as something else. Or, keep it as is, but declare to throw Exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example 1\npublic void saveGame() throws OpenSamlException {\n  doSamlStuffHere();\n}\n\n// Example 2\npublic void saveGame() throws Exception {\n  doSamlStuffHere();\n}\n\n// Example 3\npublic class SaveException extends Exception {\n  public SaveException(String msg, Throwable cause) {\n    super(msg, cause);\n  }\n}\n\npublic void saveGame() throws SaveException {\n  try {\n    doSamlStuffHere();\n  } catch (OpenSamlException e) {\n    throw new SaveException(&quot;Saving game &quot; + getSaveName() + &quot; failed&quot;, e);\n  }\n}\n</code></pre>\n<p>Example 1 is what you have now and it exports the idea of OpenSaml conceptually by explicitly naming it in the 'visible' part of the method (which is just its signature).</p>\n<p>Example 2 fixes that by naming <code>java.lang.Exception</code>. It also takes away the ability to meaningfully interact with the problem as thrown (<code>catch (Exception e)</code> catches rather a lot), so it's a bit ugly. But it solves the problem.</p>\n<p>Example 3 is 'correct': It fully hides SAML as an implementation detail (nothing publicly visible shows anything about SAML at all, just like Example 2), but it does let you interact specifically with the problem, by rethrowing it as an exception that is still specific. I'm using 'save a game' here just as example.</p>\n<p>Example 2 and 3 mean you no longer need to export your transitive dependency.</p>\n<h2>Transitive dependencies do need to be on the classpath</h2>\n<p><strong>Exported</strong> transitive dependencies need to be available as you compile (and write) the code. And, of course, that dep needs to be on the classpath when you run the code.</p>\n<p>Non-exported transitive dependencies don't need to exist at all when you compile/write. But they <strong>still</strong> need to be on the classpath when you run the code, obviously. After all, you need SAML to exist in order to <em>run</em> your <code>saveGame()</code> method. You can't wish that away.</p>\n"}],"owner":{"account_id":17265810,"reputation":579,"user_id":12502554,"display_name":"royka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70960247,"answer_count":1,"score":0,"last_activity_date":1643823546,"creation_date":1643822734,"question_id":70960059,"body_markdown":"According to the [Gradle Documentation][1] you can include a dependency as &quot;API&quot; meaning it will be passed on to the application implementing it&#39;s class path. Is there a way to pass only an individual class/exception instead of the entire dependency?\r\n\r\n## Example\r\n\r\nIn Library A (written by me) I am using Open SAML Core.\r\nThe Class CoolClass in the library throws Exception B (from Open SAML Core).\r\nThe `build.gradle` file includes:\r\n```gradle\r\ndependencies {\r\n\timplementation group: &#39;org.opensaml&#39;, name: &#39;opensaml-core&#39;, version: &quot;24.0.2&quot;\r\n```\r\n\r\nIn Java Application C, I am implementing Library A.\r\nIf I use CoolClass in my application, then `gradle build` gives me the following error:\r\n```java\r\n/ApplicationC/src/main/java/com/sorry/CoolClass.java:10: error: cannot access ExceptionB\r\n                                           .someMethod();\r\n                                                       ^\r\n  class file for org.opensaml.core.xml.io.ExceptionB not found\r\n```\r\n\r\nIs there a way to pass just that exception rather than including the entire library in the class path of my application?\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/samples/sample_building_java_libraries.html","title":"How can I pass only Exceptions from my Java Library to the implementing application?","body":"<p>According to the <a href=\"https://docs.gradle.org/current/samples/sample_building_java_libraries.html\" rel=\"nofollow noreferrer\">Gradle Documentation</a> you can include a dependency as &quot;API&quot; meaning it will be passed on to the application implementing it's class path. Is there a way to pass only an individual class/exception instead of the entire dependency?</p>\n<h2>Example</h2>\n<p>In Library A (written by me) I am using Open SAML Core.\nThe Class CoolClass in the library throws Exception B (from Open SAML Core).\nThe <code>build.gradle</code> file includes:</p>\n<pre><code>dependencies {\n    implementation group: 'org.opensaml', name: 'opensaml-core', version: &quot;24.0.2&quot;\n</code></pre>\n<p>In Java Application C, I am implementing Library A.\nIf I use CoolClass in my application, then <code>gradle build</code> gives me the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/ApplicationC/src/main/java/com/sorry/CoolClass.java:10: error: cannot access ExceptionB\n                                           .someMethod();\n                                                       ^\n  class file for org.opensaml.core.xml.io.ExceptionB not found\n</code></pre>\n<p>Is there a way to pass just that exception rather than including the entire library in the class path of my application?</p>\n"},{"tags":["java","javafx-2","jna","javafx-8","hwnd"],"comments":[{"owner":{"account_id":2209615,"reputation":3624,"user_id":1951882,"display_name":"Alexander Kirov"},"score":0,"creation_date":1361574698,"post_id":15034407,"comment_id":21130057,"body_markdown":"Could you look at this feature request, and say, does it contain things, which are interesting for you? http://javafx-jira.kenai.com/browse/RT-24249","body":"Could you look at this feature request, and say, does it contain things, which are interesting for you? <a href=\"http://javafx-jira.kenai.com/browse/RT-24249\" rel=\"nofollow noreferrer\">javafx-jira.kenai.com/browse/RT-24249</a>"},{"owner":{"account_id":70411,"reputation":1596,"user_id":204213,"accept_rate":80,"display_name":"Xanatos"},"score":0,"creation_date":1361576232,"post_id":15034407,"comment_id":21130611,"body_markdown":"@Alexander: this does seem to have the right idea, though I doubt they will implement anything that lets us do what we need to with the taskbar (we have a single application that needs to show up with several different icons in the taskbar.)  We really do need hWnd, I think.   Thanks for the link though, I&#39;ve added a comment to that RFE.","body":"@Alexander: this does seem to have the right idea, though I doubt they will implement anything that lets us do what we need to with the taskbar (we have a single application that needs to show up with several different icons in the taskbar.)  We really do need hWnd, I think.   Thanks for the link though, I&#39;ve added a comment to that RFE."},{"owner":{"account_id":2209615,"reputation":3624,"user_id":1951882,"display_name":"Alexander Kirov"},"score":1,"creation_date":1361576539,"post_id":15034407,"comment_id":21130715,"body_markdown":"You can vote up that feature, if you want to rise its possibility to be fixed.","body":"You can vote up that feature, if you want to rise its possibility to be fixed."}],"answers":[{"tags":[],"owner":{"account_id":70411,"reputation":1596,"user_id":204213,"accept_rate":80,"display_name":"Xanatos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526636889,"creation_date":1383342530,"answer_id":19735944,"question_id":15034407,"body_markdown":"The following method shows how you can get a native window handle (hWnd) for a JavaFX Stage (or [Window][1]) and then store it in a JNA [Pointer][2] object:\r\n\r\n    private static Pointer getWindowPointer(javafx.stage.Window window) {\r\n        Pointer retval = null;\r\n        try {\r\n            Method getPeer = window.getClass().getMethod(&quot;impl_getPeer&quot;);\r\n            final Object tkStage = getPeer.invoke(window);\r\n            Method getPlatformWindow = tkStage.getClass().getDeclaredMethod(&quot;getPlatformWindow&quot;);\r\n            getPlatformWindow.setAccessible(true);\r\n            final Object platformWindow = getPlatformWindow.invoke(tkStage);\r\n            Method getNativeHandle = platformWindow.getClass().getMethod(&quot;getNativeHandle&quot;);\r\n            retval = new Pointer((Long) getNativeHandle.invoke(platformWindow));\r\n        } catch (Throwable t) {\r\n            System.err.println(&quot;Error getting Window Pointer&quot;);\r\n            t.printStackTrace();\r\n        }\r\n        return retval;\r\n    }\r\n\r\nThis solution is fragile and generally undesirable, since it uses reflection to access a bunch of private methods.  But it gets the job done.  Hopefully Oracle will eventually give us direct access to native window handles so we don&#39;t have to do this.\r\n\r\nOf course, this code only works when you&#39;re running on MS Windows.  Also, I&#39;ve only tried it out with early release builds of JavaFX 8 (but I suspect it will work fine on JavaFX 2 as well. EDIT: looks like it doesn&#39;t work in JavaFX 2.)\r\n\r\n\r\n  [1]: http://download.java.net/jdk8/jfxdocs/javafx/stage/Window.html\r\n  [2]: http://twall.github.io/jna/4.0/javadoc/com/sun/jna/Pointer.html","title":"How can I get the window handle (hWnd) for a Stage in JavaFX?","body":"<p>The following method shows how you can get a native window handle (hWnd) for a JavaFX Stage (or <a href=\"http://download.java.net/jdk8/jfxdocs/javafx/stage/Window.html\" rel=\"nofollow noreferrer\">Window</a>) and then store it in a JNA <a href=\"http://twall.github.io/jna/4.0/javadoc/com/sun/jna/Pointer.html\" rel=\"nofollow noreferrer\">Pointer</a> object:</p>\n\n<pre><code>private static Pointer getWindowPointer(javafx.stage.Window window) {\n    Pointer retval = null;\n    try {\n        Method getPeer = window.getClass().getMethod(\"impl_getPeer\");\n        final Object tkStage = getPeer.invoke(window);\n        Method getPlatformWindow = tkStage.getClass().getDeclaredMethod(\"getPlatformWindow\");\n        getPlatformWindow.setAccessible(true);\n        final Object platformWindow = getPlatformWindow.invoke(tkStage);\n        Method getNativeHandle = platformWindow.getClass().getMethod(\"getNativeHandle\");\n        retval = new Pointer((Long) getNativeHandle.invoke(platformWindow));\n    } catch (Throwable t) {\n        System.err.println(\"Error getting Window Pointer\");\n        t.printStackTrace();\n    }\n    return retval;\n}\n</code></pre>\n\n<p>This solution is fragile and generally undesirable, since it uses reflection to access a bunch of private methods.  But it gets the job done.  Hopefully Oracle will eventually give us direct access to native window handles so we don't have to do this.</p>\n\n<p>Of course, this code only works when you're running on MS Windows.  Also, I've only tried it out with early release builds of JavaFX 8 (but I suspect it will work fine on JavaFX 2 as well. EDIT: looks like it doesn't work in JavaFX 2.)</p>\n"},{"tags":[],"owner":{"account_id":3594,"reputation":2525,"user_id":5193,"accept_rate":92,"display_name":"Craig Day"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1401241223,"creation_date":1401241223,"answer_id":23901581,"question_id":15034407,"body_markdown":"Here&#39;s a JavaFX2 version (uses Stage rather than Window):\r\n\r\n    private static Pointer getWindowPointer(Stage stage) {\r\n        try {\r\n            TKStage tkStage = stage.impl_getPeer();\r\n            Method getPlatformWindow = tkStage.getClass().getDeclaredMethod(&quot;getPlatformWindow&quot; );\r\n            getPlatformWindow.setAccessible(true);\r\n            Object platformWindow = getPlatformWindow.invoke(tkStage);\r\n            Method getNativeHandle = platformWindow.getClass().getMethod( &quot;getNativeHandle&quot; );\r\n            getNativeHandle.setAccessible(true);\r\n            Object nativeHandle = getNativeHandle.invoke(platformWindow);\r\n            return new Pointer((Long) nativeHandle);\r\n        } catch (Throwable e) {\r\n            System.err.println(&quot;Error getting Window Pointer&quot;);\r\n            return null;\r\n        }\r\n    }\r\n","title":"How can I get the window handle (hWnd) for a Stage in JavaFX?","body":"<p>Here's a JavaFX2 version (uses Stage rather than Window):</p>\n\n<pre><code>private static Pointer getWindowPointer(Stage stage) {\n    try {\n        TKStage tkStage = stage.impl_getPeer();\n        Method getPlatformWindow = tkStage.getClass().getDeclaredMethod(\"getPlatformWindow\" );\n        getPlatformWindow.setAccessible(true);\n        Object platformWindow = getPlatformWindow.invoke(tkStage);\n        Method getNativeHandle = platformWindow.getClass().getMethod( \"getNativeHandle\" );\n        getNativeHandle.setAccessible(true);\n        Object nativeHandle = getNativeHandle.invoke(platformWindow);\n        return new Pointer((Long) nativeHandle);\n    } catch (Throwable e) {\n        System.err.println(\"Error getting Window Pointer\");\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4737710,"reputation":11,"user_id":3831572,"display_name":"SwhGo_oN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405141262,"creation_date":1405141262,"answer_id":24709822,"question_id":15034407,"body_markdown":"    com.sun.glass.ui.Window.getWindows.get(0).getNativeWindow\r\n//\r\n\r\n    com.sun.glass.ui.Window.getFocusedWindow.getNativeWindow","title":"How can I get the window handle (hWnd) for a Stage in JavaFX?","body":"<pre><code>com.sun.glass.ui.Window.getWindows.get(0).getNativeWindow\n</code></pre>\n\n<p>//</p>\n\n<pre><code>com.sun.glass.ui.Window.getFocusedWindow.getNativeWindow\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1560636331,"creation_date":1560636331,"answer_id":56614505,"question_id":15034407,"body_markdown":"Add a dependency on JNA:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen give your `Stage` a distinct title (&quot;MyStage&quot; in this example), and then get the Window ID like this:\r\n\r\n    WinDef.HWND hwnd = User32.INSTANCE.FindWindow(null, &quot;MyStage&quot;);\r\n\r\n    long wid = Pointer.nativeValue(hwnd.getPointer());\r\n\r\nThis will work on Windows regardless of JavaFX version.","title":"How can I get the window handle (hWnd) for a Stage in JavaFX?","body":"<p>Add a dependency on JNA:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n  &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n  &lt;version&gt;5.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then give your <code>Stage</code> a distinct title (\"MyStage\" in this example), and then get the Window ID like this:</p>\n\n<pre><code>WinDef.HWND hwnd = User32.INSTANCE.FindWindow(null, \"MyStage\");\n\nlong wid = Pointer.nativeValue(hwnd.getPointer());\n</code></pre>\n\n<p>This will work on Windows regardless of JavaFX version.</p>\n"},{"tags":[],"owner":{"account_id":1454028,"reputation":1131,"user_id":1370154,"display_name":"Alex Suzuki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629313588,"creation_date":1629313588,"answer_id":68838043,"question_id":15034407,"body_markdown":"The following code works for me in JavaFX 11 on Windows (I only need it there). I haven&#39;t tested it in any other version.\r\n\r\nIt&#39;s quite brittle, but manageable in my case, as I bundle the Java Runtime with the application so I always know what&#39;s underneath.\r\n\r\nIf you use Java 9 modules, you also need to open up the packages to your calling module:\r\n\r\n`--add-opens javafx.graphics/javafx.stage=com.example` and `--add-opens javafx.graphics/com.sun.javafx.tk.quantum=com.example`\r\n\r\n\r\n```\r\npackage com.example;\r\n\r\nimport com.sun.jna.Pointer;\r\nimport com.sun.jna.platform.win32.WinDef;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.Window;\r\nimport java.lang.reflect.Method;\r\n\r\npublic class FXWinUtil {\r\n\r\n    public static WinDef.HWND getNativeHandleForStage(Stage stage) {\r\n        try {\r\n            final Method getPeer = Window.class.getDeclaredMethod(&quot;getPeer&quot;, null);\r\n            getPeer.setAccessible(true);\r\n            final Object tkStage = getPeer.invoke(stage);\r\n            final Method getRawHandle = tkStage.getClass().getMethod(&quot;getRawHandle&quot;);\r\n            getRawHandle.setAccessible(true);\r\n            final Pointer pointer = new Pointer((Long) getRawHandle.invoke(tkStage));\r\n            return new WinDef.HWND(pointer);\r\n        } catch (Exception ex) {\r\n            System.err.println(&quot;Unable to determine native handle for window&quot;);\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf you&#39;re using JNA (which is likely if you&#39;re doing hackish stuff like this), you can also profit from `WinDef.HWND`.","title":"How can I get the window handle (hWnd) for a Stage in JavaFX?","body":"<p>The following code works for me in JavaFX 11 on Windows (I only need it there). I haven't tested it in any other version.</p>\n<p>It's quite brittle, but manageable in my case, as I bundle the Java Runtime with the application so I always know what's underneath.</p>\n<p>If you use Java 9 modules, you also need to open up the packages to your calling module:</p>\n<p><code>--add-opens javafx.graphics/javafx.stage=com.example</code> and <code>--add-opens javafx.graphics/com.sun.javafx.tk.quantum=com.example</code></p>\n<pre><code>package com.example;\n\nimport com.sun.jna.Pointer;\nimport com.sun.jna.platform.win32.WinDef;\nimport javafx.stage.Stage;\nimport javafx.stage.Window;\nimport java.lang.reflect.Method;\n\npublic class FXWinUtil {\n\n    public static WinDef.HWND getNativeHandleForStage(Stage stage) {\n        try {\n            final Method getPeer = Window.class.getDeclaredMethod(&quot;getPeer&quot;, null);\n            getPeer.setAccessible(true);\n            final Object tkStage = getPeer.invoke(stage);\n            final Method getRawHandle = tkStage.getClass().getMethod(&quot;getRawHandle&quot;);\n            getRawHandle.setAccessible(true);\n            final Pointer pointer = new Pointer((Long) getRawHandle.invoke(tkStage));\n            return new WinDef.HWND(pointer);\n        } catch (Exception ex) {\n            System.err.println(&quot;Unable to determine native handle for window&quot;);\n            return null;\n        }\n    }\n}\n\n</code></pre>\n<p>If you're using JNA (which is likely if you're doing hackish stuff like this), you can also profit from <code>WinDef.HWND</code>.</p>\n"},{"tags":[],"owner":{"account_id":11900174,"reputation":380,"user_id":9193035,"display_name":"Husker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643823078,"creation_date":1639716353,"answer_id":70388537,"question_id":15034407,"body_markdown":"Solution for JavaFX 16, written on Kotlin (only Reflection)\r\n\r\n```kotlin\r\nfun getPointer(scene: Scene): Long {\r\n    val tkStage = SceneHelper.getPeer(scene)\r\n\r\n    val windowStage = tkStage.javaClass.getDeclaredMethod(&quot;getWindowStage&quot;)\r\n        .apply { isAccessible = true }\r\n        .invoke(tkStage)\r\n\r\n    val platformWindow = windowStage.javaClass.getDeclaredMethod(&quot;getPlatformWindow&quot;)\r\n        .apply { isAccessible = true }\r\n        .invoke(windowStage)\r\n    \r\n    // Use fields &#39;ptr&#39; and &#39;delegatePtr&#39; instead of getNativeHandle() to avoid Platform.runLater\r\n    val ptr = Window::class.java.getDeclaredField(&quot;ptr&quot;)\r\n        .apply { isAccessible = true }[platformWindow] as Long\r\n\r\n    val delegatePtr = Window::class.java.getDeclaredField(&quot;delegatePtr&quot;)\r\n        .apply { isAccessible = true }[platformWindow] as Long\r\n\r\n    return if (delegatePtr != 0L) delegatePtr else ptr\r\n}\r\n\r\n```","title":"How can I get the window handle (hWnd) for a Stage in JavaFX?","body":"<p>Solution for JavaFX 16, written on Kotlin (only Reflection)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getPointer(scene: Scene): Long {\n    val tkStage = SceneHelper.getPeer(scene)\n\n    val windowStage = tkStage.javaClass.getDeclaredMethod(&quot;getWindowStage&quot;)\n        .apply { isAccessible = true }\n        .invoke(tkStage)\n\n    val platformWindow = windowStage.javaClass.getDeclaredMethod(&quot;getPlatformWindow&quot;)\n        .apply { isAccessible = true }\n        .invoke(windowStage)\n    \n    // Use fields 'ptr' and 'delegatePtr' instead of getNativeHandle() to avoid Platform.runLater\n    val ptr = Window::class.java.getDeclaredField(&quot;ptr&quot;)\n        .apply { isAccessible = true }[platformWindow] as Long\n\n    val delegatePtr = Window::class.java.getDeclaredField(&quot;delegatePtr&quot;)\n        .apply { isAccessible = true }[platformWindow] as Long\n\n    return if (delegatePtr != 0L) delegatePtr else ptr\n}\n\n</code></pre>\n"}],"owner":{"account_id":70411,"reputation":1596,"user_id":204213,"accept_rate":80,"display_name":"Xanatos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7760,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":23901581,"answer_count":6,"score":6,"last_activity_date":1643823078,"creation_date":1361572752,"question_id":15034407,"body_markdown":"We&#39;re building a JavaFX application in Windows, and we want to be able to do some things to manipulate how our application appears in the Windows 7/8 taskbar.  This requires modifying a Windows variable called the &quot;[Application User Model ID][1]&quot;.\r\n\r\nWe&#39;ve already managed to do exactly what we want in Swing by using [JNA][2], and we&#39;d like to repeat our solution in JavaFX.  Unfortunately, to do this, we need to be able to retrieve the `hWnd` (window handle) for each window in our application.    This can be done in Swing/AWT via the JNA [Native.getWindowPointer()][3] method, which works with `java.awt.Window`, but I can&#39;t figure out a good way to do this with a `javafx.stage.Window`.\r\n\r\nDoes anyone know of any way to do get `hWnd` for a `Stage`?\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/windows/desktop/dd378459%28v=vs.85%29.aspx\r\n  [2]: https://github.com/twall/jna#readme\r\n  [3]: http://jna.java.net/javadoc/com/sun/jna/Native.html#getWindowPointer%28java.awt.Window%29","title":"How can I get the window handle (hWnd) for a Stage in JavaFX?","body":"<p>We're building a JavaFX application in Windows, and we want to be able to do some things to manipulate how our application appears in the Windows 7/8 taskbar.  This requires modifying a Windows variable called the \"<a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/dd378459%28v=vs.85%29.aspx\" rel=\"noreferrer\">Application User Model ID</a>\".</p>\n\n<p>We've already managed to do exactly what we want in Swing by using <a href=\"https://github.com/twall/jna#readme\" rel=\"noreferrer\">JNA</a>, and we'd like to repeat our solution in JavaFX.  Unfortunately, to do this, we need to be able to retrieve the <code>hWnd</code> (window handle) for each window in our application.    This can be done in Swing/AWT via the JNA <a href=\"http://jna.java.net/javadoc/com/sun/jna/Native.html#getWindowPointer%28java.awt.Window%29\" rel=\"noreferrer\">Native.getWindowPointer()</a> method, which works with <code>java.awt.Window</code>, but I can't figure out a good way to do this with a <code>javafx.stage.Window</code>.</p>\n\n<p>Does anyone know of any way to do get <code>hWnd</code> for a <code>Stage</code>?</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1643822949,"post_id":70960062,"comment_id":125443539,"body_markdown":"2000 threads will be counterproductive unless you have a system with hundreds of processors.","body":"2000 threads will be counterproductive unless you have a system with hundreds of processors."},{"owner":{"account_id":1895585,"reputation":199,"user_id":1712638,"accept_rate":33,"display_name":"user1712638"},"score":0,"creation_date":1643823232,"post_id":70960062,"comment_id":125443643,"body_markdown":"@JimGarrison Yeah, I&#39;m running it on a system that can support it, no worries :D","body":"@JimGarrison Yeah, I&#39;m running it on a system that can support it, no worries :D"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1643827939,"post_id":70960062,"comment_id":125445447,"body_markdown":"Sometimes, if you can&#39;t find a library that does what you want, you have to write the code yourself. If you want to wait for all of the threads to complete, then why not declare an `AtomicInteger&#160;numLiveThreads&#160;=&#160;new&#160;AtomicInteger(0);` that you increment just before creating each new thread, and have each thread decrement it just before it dies? Then, you can wait for them all to die by polling until `numLiveThreads` becomes zero.","body":"Sometimes, if you can&#39;t find a library that does what you want, you have to write the code yourself. If you want to wait for all of the threads to complete, then why not declare an <code>AtomicIntegerÂ numLiveThreadsÂ =Â newÂ AtomicInteger(0);</code> that you increment just before creating each new thread, and have each thread decrement it just before it dies? Then, you can wait for them all to die by polling until <code>numLiveThreads</code> becomes zero."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1643882352,"post_id":70960062,"comment_id":125459051,"body_markdown":"I don&#39;t see any call to submit, so question does not explain what &quot;first level&quot; and &quot;second level&quot; threads mean - that will be where you problem is. Do you have minimal code which reproduces this issue?","body":"I don&#39;t see any call to submit, so question does not explain what &quot;first level&quot; and &quot;second level&quot; threads mean - that will be where you problem is. Do you have minimal code which reproduces this issue?"}],"answers":[{"tags":[],"owner":{"account_id":4956891,"reputation":73,"user_id":3989216,"display_name":"MhnSkta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643822980,"creation_date":1643822980,"answer_id":70960118,"question_id":70960062,"body_markdown":"you can put  ` executorService.shutdown();`  inside finally block of exception","title":"How to make executerService.shutdown wait for nested threads invokation","body":"<p>you can put  <code> executorService.shutdown();</code>  inside finally block of exception</p>\n"}],"owner":{"account_id":1895585,"reputation":199,"user_id":1712638,"accept_rate":33,"display_name":"user1712638"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643822980,"creation_date":1643822744,"question_id":70960062,"body_markdown":"So I have a function which looks like this \r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(2000);\r\n    Boolean getMore = true;\r\n    try{\r\n        While (getMore) {\r\n           JSONObject response = getPaginatedResponse();\r\n           int[] ar = response.get(&quot;something&quot;);\r\n           if (ar.length &gt; 0) {\r\n               // loop through the array and invoke executorService.submit() for each\r\n           }\r\n           else { getMore = false; }\r\n        }\r\n        executorService.shutdown();\r\n        try {\r\n                System.out.println(&quot;waiting for tasks to complete, termination starting at : &quot;+java.time.LocalDateTime.now());\r\n                executorService.awaitTermination(15, TimeUnit.MINUTES);\r\n            } catch (InterruptedException e) {\r\n                throw new Exception(&quot;loading was interrupted... thread pool timed out!&quot;);\r\n            }\r\n\r\n    } catch (Exception) {\r\n       System.out.println(&quot;Fatal error&quot;);\r\n    }\r\n\r\nMy issue is that the each of these threads invoke x number of threads, which in turn each call an API and processes its response, the implementation stops execution after all the &quot;First-level&quot; threads gets fired, but not necessarily all the second level ones, which is crucial for my program, how or where can I invoke the executerService.shutdown() to make sure that all the threads were called.\r\n\r\n","title":"How to make executerService.shutdown wait for nested threads invokation","body":"<p>So I have a function which looks like this</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(2000);\nBoolean getMore = true;\ntry{\n    While (getMore) {\n       JSONObject response = getPaginatedResponse();\n       int[] ar = response.get(&quot;something&quot;);\n       if (ar.length &gt; 0) {\n           // loop through the array and invoke executorService.submit() for each\n       }\n       else { getMore = false; }\n    }\n    executorService.shutdown();\n    try {\n            System.out.println(&quot;waiting for tasks to complete, termination starting at : &quot;+java.time.LocalDateTime.now());\n            executorService.awaitTermination(15, TimeUnit.MINUTES);\n        } catch (InterruptedException e) {\n            throw new Exception(&quot;loading was interrupted... thread pool timed out!&quot;);\n        }\n\n} catch (Exception) {\n   System.out.println(&quot;Fatal error&quot;);\n}\n</code></pre>\n<p>My issue is that the each of these threads invoke x number of threads, which in turn each call an API and processes its response, the implementation stops execution after all the &quot;First-level&quot; threads gets fired, but not necessarily all the second level ones, which is crucial for my program, how or where can I invoke the executerService.shutdown() to make sure that all the threads were called.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643822252,"post_id":70959426,"comment_id":125443256,"body_markdown":"You could use Jackson or Gson or Jayway JSONPath, but they would do roughly the same thing as `JSONObject`, so what is wrong with that?","body":"You could use Jackson or Gson or Jayway JSONPath, but they would do roughly the same thing as <code>JSONObject</code>, so what is wrong with that?"}],"answers":[{"tags":[],"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643822720,"creation_date":1643822356,"answer_id":70959979,"question_id":70959426,"body_markdown":"If you want to generate a real object out of it you can use Gson. You need to describe the class first. There are online json to Java objects converters out there. And then you can just call:\r\n\r\n  \r\n\r\n    YourObject obj =  new Gson().fromJson(json,YourObject.class);\r\n    System.out.println(obj.getField4().getField41());\r\n\r\nAnd there you have it!","title":"How get just one value from json as string","body":"<p>If you want to generate a real object out of it you can use Gson. You need to describe the class first. There are online json to Java objects converters out there. And then you can just call:</p>\n<pre><code>YourObject obj =  new Gson().fromJson(json,YourObject.class);\nSystem.out.println(obj.getField4().getField41());\n</code></pre>\n<p>And there you have it!</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643822931,"creation_date":1643822931,"answer_id":70960101,"question_id":70959426,"body_markdown":"Try [JSONPath](https://github.com/json-path/JsonPath)\r\n\r\n\r\n```\r\nString json = &quot;...&quot;;\r\n\r\nString field41 = JsonPath.read(json, &quot;$.field4.field41&quot;);\r\n```\r\n\r\nYou can test it here - https://jsonpath.herokuapp.com/\r\n\r\n\r\n","title":"How get just one value from json as string","body":"<p>Try <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JSONPath</a></p>\n<pre><code>String json = &quot;...&quot;;\n\nString field41 = JsonPath.read(json, &quot;$.field4.field41&quot;);\n</code></pre>\n<p>You can test it here - <a href=\"https://jsonpath.herokuapp.com/\" rel=\"nofollow noreferrer\">https://jsonpath.herokuapp.com/</a></p>\n"}],"owner":{"account_id":23034067,"reputation":23,"user_id":17153096,"display_name":"Tomy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70960101,"answer_count":2,"score":1,"last_activity_date":1643822931,"creation_date":1643820130,"question_id":70959426,"body_markdown":"I have following json as string:\r\n\r\n```\r\n{\r\n   &quot;field1&quot;:&quot;value1&quot;,\r\n   &quot;field2&quot;:&quot;value2&quot;,\r\n   &quot;field3&quot;:{\r\n      &quot;field31&quot;:&quot;value31&quot;,\r\n      &quot;field32&quot;:&quot;value32&quot;\r\n   },\r\n   &quot;field4&quot;:{\r\n      &quot;field41&quot;:&quot;value41&quot;\r\n   }\r\n}\r\n```\r\nWhat is the best and the most modern way to get from this json just value from ```field41```, so I would return ```&quot;value41&quot;```. I know that I can use ```JSONObject``` but I&#39;m wondering weather we have any other better option?","title":"How get just one value from json as string","body":"<p>I have following json as string:</p>\n<pre><code>{\n   &quot;field1&quot;:&quot;value1&quot;,\n   &quot;field2&quot;:&quot;value2&quot;,\n   &quot;field3&quot;:{\n      &quot;field31&quot;:&quot;value31&quot;,\n      &quot;field32&quot;:&quot;value32&quot;\n   },\n   &quot;field4&quot;:{\n      &quot;field41&quot;:&quot;value41&quot;\n   }\n}\n</code></pre>\n<p>What is the best and the most modern way to get from this json just value from <code>field41</code>, so I would return <code>&quot;value41&quot;</code>. I know that I can use <code>JSONObject</code> but I'm wondering weather we have any other better option?</p>\n"},{"tags":["java","multithreading","concurrency","java-17"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1643821921,"post_id":70959807,"comment_id":125443123,"body_markdown":"&quot;need some way to send the packet to each thread&quot; This is the listener pattern","body":"&quot;need some way to send the packet to each thread&quot; This is the listener pattern"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1643822533,"post_id":70959807,"comment_id":125443383,"body_markdown":"Also, this is probably premature optimization.  Choose an approach and benchmark it.  If it doesn&#39;t scale the way you want, try a different one.  Nobody here will be able to tell you, since only you know the workload characteristics.","body":"Also, this is probably premature optimization.  Choose an approach and benchmark it.  If it doesn&#39;t scale the way you want, try a different one.  Nobody here will be able to tell you, since only you know the workload characteristics."},{"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"score":0,"creation_date":1643824101,"post_id":70959807,"comment_id":125443975,"body_markdown":"@ControlAltDel This is an excellent point! Didn&#39;t think to use observers as I haven&#39;t written them much in the past!","body":"@ControlAltDel This is an excellent point! Didn&#39;t think to use observers as I haven&#39;t written them much in the past!"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1643857197,"post_id":70959807,"comment_id":125453044,"body_markdown":"The java.util.Observable/Observer is deprecated since Java 9 and will not give you multi threading.","body":"The java.util.Observable/Observer is deprecated since Java 9 and will not give you multi threading."},{"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"score":0,"creation_date":1644015231,"post_id":70959807,"comment_id":125502032,"body_markdown":"The `Observer` design pattern fam :) @pveentjer","body":"The <code>Observer</code> design pattern fam :) @pveentjer"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643822883,"creation_date":1643822559,"answer_id":70960026,"question_id":70959807,"body_markdown":"I would start with something simple like an Executor. It manages a bunch of threads that receive work through a shared queue.\r\n\r\nAlso, I would set a set of (micro) benchmarks to confirm your design choices. \r\n\r\n[edit] Or do you need to packet to be processed by every thread? In that case, you could make a set of single-threaded executors and copy the packet to each executor.\r\n\r\nThese are just some suggestions on how to go about it. I have no clue of this is a proper solution in your design. ","title":"Sending a Packet to a Number of Threads?","body":"<p>I would start with something simple like an Executor. It manages a bunch of threads that receive work through a shared queue.</p>\n<p>Also, I would set a set of (micro) benchmarks to confirm your design choices.</p>\n<p>[edit] Or do you need to packet to be processed by every thread? In that case, you could make a set of single-threaded executors and copy the packet to each executor.</p>\n<p>These are just some suggestions on how to go about it. I have no clue of this is a proper solution in your design.</p>\n"}],"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643822883,"creation_date":1643821620,"question_id":70959807,"body_markdown":"I have a central information source (architecturally) and need some way to send the packet to each thread which does a fast operation and then waits for a new packet afterwards.\r\n\r\nI&#39;m weighing the pros and cons of a distributed system, as opposed to a hierarchical system.\r\n\r\nI could give each thread its own BlockingQueue, but then I would have to: \r\n\r\n&gt; a) make a blocking queue each class, and then make sure that it is\r\n&gt; populated from the central packet source (which I could automate with\r\n&gt; a method to do such a thing).\r\n\r\nOr the central queue method would be something like:\r\n\r\nA child class of blocking queue whose take method:\r\n\r\n&gt;     var result = topOfQueue\r\n&gt;     //wait on countdown latch static variable for ~7 threads\r\n&gt;     //latch released, immediatly wait on cyclic barrier for 8 threads (7 + 1 thread which is removes the topmost queue element then joins the barrier\r\n&gt; the cyclic barrier).\r\n&gt;     return result;\r\n\r\nIs this a good architecture given my objectives of sharing the packet with each thread? Or is there a far more efficient architecture that I&#39;m missing (or a class that already exists for this?)\r\n\r\nWhich would scale better?","title":"Sending a Packet to a Number of Threads?","body":"<p>I have a central information source (architecturally) and need some way to send the packet to each thread which does a fast operation and then waits for a new packet afterwards.</p>\n<p>I'm weighing the pros and cons of a distributed system, as opposed to a hierarchical system.</p>\n<p>I could give each thread its own BlockingQueue, but then I would have to:</p>\n<blockquote>\n<p>a) make a blocking queue each class, and then make sure that it is\npopulated from the central packet source (which I could automate with\na method to do such a thing).</p>\n</blockquote>\n<p>Or the central queue method would be something like:</p>\n<p>A child class of blocking queue whose take method:</p>\n<blockquote>\n<pre><code>var result = topOfQueue\n//wait on countdown latch static variable for ~7 threads\n//latch released, immediatly wait on cyclic barrier for 8 threads (7 + 1 thread which is removes the topmost queue element then joins the barrier\n</code></pre>\n<p>the cyclic barrier).\nreturn result;</p>\n</blockquote>\n<p>Is this a good architecture given my objectives of sharing the packet with each thread? Or is there a far more efficient architecture that I'm missing (or a class that already exists for this?)</p>\n<p>Which would scale better?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1584379310,"post_id":60710385,"comment_id":107413689,"body_markdown":"You may want to explain what `find_first_not_of` does, to begin with.","body":"You may want to explain what <code>find_first_not_of</code> does, to begin with."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1584379322,"post_id":60710385,"comment_id":107413693,"body_markdown":"I suspect including `^` after the opening of the character class in the regex would do what you want, but I don&#39;t really know what `find_first_not_of` does and I&#39;m only guessing based on the name.","body":"I suspect including <code>^</code> after the opening of the character class in the regex would do what you want, but I don&#39;t really know what <code>find_first_not_of</code> does and I&#39;m only guessing based on the name."},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1584379467,"post_id":60710385,"comment_id":107413746,"body_markdown":"To start off, your `findFirstOf` is buggy. Try `findFirstOf(&quot;x&quot;, &quot;^y&quot;, 0);`. You need to escape the `letters`. Furthermore, your `position` parameter is currently a bit useless and misleading.","body":"To start off, your <code>findFirstOf</code> is buggy. Try <code>findFirstOf(&quot;x&quot;, &quot;^y&quot;, 0);</code>. You need to escape the <code>letters</code>. Furthermore, your <code>position</code> parameter is currently a bit useless and misleading."},{"owner":{"account_id":16743115,"reputation":41,"user_id":12102199,"display_name":"Kenny Tutorials"},"score":0,"creation_date":1584379577,"post_id":60710385,"comment_id":107413789,"body_markdown":"@FedericoklezCulloca If i think in right way then ```std::find_first_not_of``` finds the first character that is not equal to any of the characters in the passed character sequence.","body":"@FedericoklezCulloca If i think in right way then <code>std::find_first_not_of</code> finds the first character that is not equal to any of the characters in the passed character sequence."},{"owner":{"account_id":16743115,"reputation":41,"user_id":12102199,"display_name":"Kenny Tutorials"},"score":0,"creation_date":1584379739,"post_id":60710385,"comment_id":107413848,"body_markdown":"Maybe Java has some lib like Apache Commons, or Google Guava to help with it?","body":"Maybe Java has some lib like Apache Commons, or Google Guava to help with it?"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1643794723,"post_id":60710385,"comment_id":125431332,"body_markdown":"I don&#39;t think there is an equivalent method in `java.lang.String`. How would you implement the same login in Java, though, depends more on which exact implementation you wish to have. Even in C++, as far as I looked up, method is overloaded.","body":"I don&#39;t think there is an equivalent method in <code>java.lang.String</code>. How would you implement the same login in Java, though, depends more on which exact implementation you wish to have. Even in C++, as far as I looked up, method is overloaded."}],"answers":[{"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1643822569,"creation_date":1584380767,"answer_id":60710788,"question_id":60710385,"body_markdown":"You can write that in a very straightforward way:\r\n\r\n```java\r\nstatic int findFirstNotOf(String in, String notOf, int from) {\r\n    for (int i = from; i &lt; in.length(); ++i) {\r\n        if (notOf.indexOf(in.charAt(i)) == -1) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n```\r\n\r\nI&#39;m referring to the function described [here](http://www.cplusplus.com/reference/string/string/find_first_not_of/).","title":"Java equivalent for C++&#39;s âstd::string::find_first_not_ofâ","body":"<p>You can write that in a very straightforward way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int findFirstNotOf(String in, String notOf, int from) {\n    for (int i = from; i &lt; in.length(); ++i) {\n        if (notOf.indexOf(in.charAt(i)) == -1) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n<p>I'm referring to the function described <a href=\"http://www.cplusplus.com/reference/string/string/find_first_not_of/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":18552345,"reputation":1,"user_id":13518323,"display_name":"Alex Korn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589205149,"creation_date":1589205149,"answer_id":61731332,"question_id":60710385,"body_markdown":"    static int findFirstNotOf(String searchIn, String searchFor, int searchFrom) {\r\n\t   // char[] chars = searchFor.toCharArray();\r\n\t    boolean found;\r\n\t    char c;\r\n\t    for (int i = searchFrom; i &lt; searchIn.length(); i++) {\r\n\t        found = true;\r\n\t       // for (char c : chars) {\r\n\t        c = searchIn.charAt(i);\r\n\t        \tSystem.out.printf(&quot;s=&#39;%s&#39;, idx=%d\\n&quot;,c,searchFor.indexOf(c));\r\n\t            if (searchFor.indexOf(c) == -1) {\r\n\t                found = false;\r\n\t            }\r\n\t      //  }\r\n\t        if (!found) {\r\n\t            return i;\r\n\t        }\r\n\t    }\r\n\t    return -1;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tString str =  &quot;look for non-alphabetic characters...&quot;;\r\n\r\n\t\t int  found = findFirstNotOf(str,&quot;abcdefghijklmnopqrstuvwxyz &quot;,0);\r\n\r\n\t\t  if (found!=str.length()) {\r\n\t\t    System.out.print(&quot;The first non-alphabetic character is &quot; + str.charAt(found));\r\n\t\t    System.out.print(&quot; at position &quot; + found + &#39;\\n&#39;);\r\n\t\t  }\r\n\t}","title":"Java equivalent for C++&#39;s âstd::string::find_first_not_ofâ","body":"<pre><code>static int findFirstNotOf(String searchIn, String searchFor, int searchFrom) {\n   // char[] chars = searchFor.toCharArray();\n    boolean found;\n    char c;\n    for (int i = searchFrom; i &lt; searchIn.length(); i++) {\n        found = true;\n       // for (char c : chars) {\n        c = searchIn.charAt(i);\n            System.out.printf(\"s='%s', idx=%d\\n\",c,searchFor.indexOf(c));\n            if (searchFor.indexOf(c) == -1) {\n                found = false;\n            }\n      //  }\n        if (!found) {\n            return i;\n        }\n    }\n    return -1;\n}\n\npublic static void main(String[] args){\n    String str =  \"look for non-alphabetic characters...\";\n\n     int  found = findFirstNotOf(str,\"abcdefghijklmnopqrstuvwxyz \",0);\n\n      if (found!=str.length()) {\n        System.out.print(\"The first non-alphabetic character is \" + str.charAt(found));\n        System.out.print(\" at position \" + found + '\\n');\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1195114,"reputation":848,"user_id":1167021,"display_name":"leftbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643794284,"creation_date":1643794284,"answer_id":70953245,"question_id":60710385,"body_markdown":"For what it&#39;s worth - here&#39;s my implementation.\r\n\r\n        static int findFirstNotOf(final String searchIn, final char[] chars, final int pos) {\r\n        if (pos &gt;= 0) {\r\n            for (int i = pos; i &lt; searchIn.length(); i++) {\r\n                final char current = searchIn.charAt(i);\r\n                boolean found = false;\r\n                for (final char c : chars) {\r\n                    found |= current == c;\r\n                }\r\n                if (!found) {\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n","title":"Java equivalent for C++&#39;s âstd::string::find_first_not_ofâ","body":"<p>For what it's worth - here's my implementation.</p>\n<pre><code>    static int findFirstNotOf(final String searchIn, final char[] chars, final int pos) {\n    if (pos &gt;= 0) {\n        for (int i = pos; i &lt; searchIn.length(); i++) {\n            final char current = searchIn.charAt(i);\n            boolean found = false;\n            for (final char c : chars) {\n                found |= current == c;\n            }\n            if (!found) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":16743115,"reputation":41,"user_id":12102199,"display_name":"Kenny Tutorials"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1643822569,"creation_date":1584379036,"question_id":60710385,"body_markdown":"Is there any Java equivalent for C++&#39;s &quot;std::string::find_first_not of&quot;?\r\n\r\nI have:\r\n```\r\nstd::string path = &quot;some path&quot;;\r\nstd::string eol = &quot;some text&quot;;\r\n\r\nsize_t nextLinePos = path.find_first_not_of(&quot;\\r\\n&quot;, eol);\r\n```\r\n\r\nHow i can do this on Java?\r\n\r\nPs: For ```std::find_first_of``` i use this function:\r\n```\r\n    public static int findFirstOf(String findIn, String letters, int position)\r\n\t{\r\n\t     Pattern pattern = Pattern.compile(&quot;[&quot; + letters + &quot;]&quot;);\r\n\t     Matcher matcher = pattern.matcher(findIn);\r\n\t     if (matcher.find()) \r\n\t     {\r\n\t         position = matcher.start();\r\n\t     }\r\n\t     \r\n\t     return position;\r\n\t}\r\n```\r\nMaybe here need change something?","title":"Java equivalent for C++&#39;s âstd::string::find_first_not_ofâ","body":"<p>Is there any Java equivalent for C++'s \"std::string::find_first_not of\"?</p>\n\n<p>I have:</p>\n\n<pre><code>std::string path = \"some path\";\nstd::string eol = \"some text\";\n\nsize_t nextLinePos = path.find_first_not_of(\"\\r\\n\", eol);\n</code></pre>\n\n<p>How i can do this on Java?</p>\n\n<p>Ps: For <code>std::find_first_of</code> i use this function:</p>\n\n<pre><code>    public static int findFirstOf(String findIn, String letters, int position)\n    {\n         Pattern pattern = Pattern.compile(\"[\" + letters + \"]\");\n         Matcher matcher = pattern.matcher(findIn);\n         if (matcher.find()) \n         {\n             position = matcher.start();\n         }\n\n         return position;\n    }\n</code></pre>\n\n<p>Maybe here need change something?</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":19620393,"reputation":11,"user_id":14360985,"display_name":"NateGold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601400643,"creation_date":1601386946,"answer_id":64120876,"question_id":63985044,"body_markdown":"I have had the exact same issue. I deployed my app to AWS ElasticBeanstalk, but I was unable to setup Keycloak to locate the themes folder correctly. \r\n\r\nI tried every variation I could think of: \r\n\r\n - under the /tmp folder\r\n - /BOOT-INF\r\n - and simply /themes\r\n\r\nI also explored the EBS EC2 instance to find the right folder (I&#39;ve found the folder, but it didn&#39;t work as well), so far no luck.\r\n\r\nI ended up uploading the themes folder separately to the home folder, manually changing the keycloak-server.json file as follows: \r\n\r\n````\r\n&quot;folder&quot;: { &quot;dir&quot;: &quot;/home/ec2-user/themes&quot; }\r\n````\r\nI couldn&#39;t manage though to have this value taken dynamically from the application.property file.","title":"How do I set up a theme inside embedded spring boot keycloak?","body":"<p>I have had the exact same issue. I deployed my app to AWS ElasticBeanstalk, but I was unable to setup Keycloak to locate the themes folder correctly.</p>\n<p>I tried every variation I could think of:</p>\n<ul>\n<li>under the /tmp folder</li>\n<li>/BOOT-INF</li>\n<li>and simply /themes</li>\n</ul>\n<p>I also explored the EBS EC2 instance to find the right folder (I've found the folder, but it didn't work as well), so far no luck.</p>\n<p>I ended up uploading the themes folder separately to the home folder, manually changing the keycloak-server.json file as follows:</p>\n<pre><code>&quot;folder&quot;: { &quot;dir&quot;: &quot;/home/ec2-user/themes&quot; }\n</code></pre>\n<p>I couldn't manage though to have this value taken dynamically from the application.property file.</p>\n"},{"tags":[],"owner":{"account_id":8525383,"reputation":301,"user_id":6391018,"display_name":"Chathura Madhushanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643822440,"creation_date":1643822440,"answer_id":70959994,"question_id":63985044,"body_markdown":"Create `keycloak-themes.json` file inside `src/main/resources/META-INF` and add below content.\r\n```json\r\n{\r\n  &quot;themes&quot;: [{\r\n    &quot;name&quot; : &quot;custom&quot;,\r\n    &quot;types&quot;: [ &quot;login&quot;, &quot;account&quot;, &quot;welcome&quot; ]\r\n  }]\r\n}\r\n```\r\n\r\ncompile using maven and run the jar. `java -jar &lt;jar name&gt;`.\r\n\r\nFor more information refer this\r\nhttps://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/themes.html","title":"How do I set up a theme inside embedded spring boot keycloak?","body":"<p>Create <code>keycloak-themes.json</code> file inside <code>src/main/resources/META-INF</code> and add below content.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;themes&quot;: [{\n    &quot;name&quot; : &quot;custom&quot;,\n    &quot;types&quot;: [ &quot;login&quot;, &quot;account&quot;, &quot;welcome&quot; ]\n  }]\n}\n</code></pre>\n<p>compile using maven and run the jar. <code>java -jar &lt;jar name&gt;</code>.</p>\n<p>For more information refer this\n<a href=\"https://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/themes.html\" rel=\"nofollow noreferrer\">https://wjw465150.gitbooks.io/keycloak-documentation/content/server_development/topics/themes.html</a></p>\n"}],"owner":{"account_id":19558063,"reputation":11,"user_id":14311885,"display_name":"Cary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643822440,"creation_date":1600650911,"question_id":63985044,"body_markdown":"currently using keycloak embedded in spring boot.\r\nI created themes under resources to create a custom theme. \r\nIt was registered in keycloak-server.json as follows.\r\n\r\n    &quot;theme&quot;: {\r\n\t\t&quot;staticMaxAge&quot;: &quot;${keycloak.theme.staticMaxAge:2592000}&quot;,\r\n\t\t&quot;cacheTemplates&quot;: &quot;${keycloak.theme.cacheTemplates:true}&quot;,\r\n\t\t&quot;cacheThemes&quot;: &quot;${keycloak.theme.cacheThemes:true}&quot;,\r\n\t\t&quot;folder&quot;: {\r\n\t\t\t&quot;dir&quot;: &quot;src/main/resources/themes&quot;\r\n\t\t}\r\n\t}\r\n\r\nAlthough this works fine in the local environment. It doesn&#39;t work when run with jar file.\r\nThe cause seems to be not finding the path properly. Is there any solution to this?","title":"How do I set up a theme inside embedded spring boot keycloak?","body":"<p>currently using keycloak embedded in spring boot.\nI created themes under resources to create a custom theme.\nIt was registered in keycloak-server.json as follows.</p>\n<pre><code>&quot;theme&quot;: {\n    &quot;staticMaxAge&quot;: &quot;${keycloak.theme.staticMaxAge:2592000}&quot;,\n    &quot;cacheTemplates&quot;: &quot;${keycloak.theme.cacheTemplates:true}&quot;,\n    &quot;cacheThemes&quot;: &quot;${keycloak.theme.cacheThemes:true}&quot;,\n    &quot;folder&quot;: {\n        &quot;dir&quot;: &quot;src/main/resources/themes&quot;\n    }\n}\n</code></pre>\n<p>Although this works fine in the local environment. It doesn't work when run with jar file.\nThe cause seems to be not finding the path properly. Is there any solution to this?</p>\n"},{"tags":["java","swing","jfilechooser","unsatisfiedlinkerror"],"comments":[{"owner":{"display_name":"user2575725"},"score":0,"creation_date":1540283752,"post_id":52944080,"comment_id":92797194,"body_markdown":"possibly you have missing `libattach.dll` or `libattach.so`","body":"possibly you have missing <code>libattach.dll</code> or <code>libattach.so</code>"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1540283996,"post_id":52944080,"comment_id":92797376,"body_markdown":"Possible, but I have never had the issue before on other computers. It shouldn&#39;t require anything other than a Standard File Chooser which should be available on the System (otherwise, how could I even select where to save a file I download)","body":"Possible, but I have never had the issue before on other computers. It shouldn&#39;t require anything other than a Standard File Chooser which should be available on the System (otherwise, how could I even select where to save a file I download)"}],"answers":[{"tags":[],"owner":{"account_id":12985038,"reputation":309,"user_id":9386181,"display_name":"Bleach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540282945,"creation_date":1540282945,"answer_id":52944339,"question_id":52944080,"body_markdown":"this piece of code seem to work to me. Can I ask where are you calling it from? What operating system are you on? ","title":"JFileChooser causes UnsatisfiedLinkError when showing dialog","body":"<p>this piece of code seem to work to me. Can I ask where are you calling it from? What operating system are you on? </p>\n"}],"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643822407,"creation_date":1540281984,"question_id":52944080,"body_markdown":"I have a method for opening a &lt;i&gt;JFileChooser&lt;/i&gt; and selecting a File. When calling the &lt;i&gt;showOpenDialog&lt;/i&gt; method I get an exception, but even so the Dialog opens, I can select a File, and move on with the program (though unless I call &lt;i&gt;System.exit(0)&lt;/i&gt; at the end the JVM will not stop running).\r\n\r\n    public static File selectFile() {\r\n\t\tJFileChooser fc = new JFileChooser(Paths.get(&quot;&quot;).toAbsolutePath().toFile());\r\n\t\tif(fc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) { //Exception on This Line!!\r\n\t\t\treturn fc.getSelectedFile();\r\n\t\t} else return null;\r\n\t}\r\n\r\nThe exception loks like this:\r\n\r\n    Exception in thread &quot;EventQueueMonitor-ComponentEvtDispatch&quot; java.lang.UnsatisfiedLinkError: no EnJavaJni in java.library.path\r\n\t  at java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\t  at java.lang.Runtime.loadLibrary0(Unknown Source)\r\n\t  at java.lang.System.loadLibrary(Unknown Source)\r\n\t  at com.encentuate.JNICall.&lt;clinit&gt;(JNICall.java:67)\r\n\t  at com.encentuate.EncentuateAWTHook.guiInitialized(EncentuateAWTHook.java:41)\r\n\t  at com.sun.java.accessibility.util.EventQueueMonitor.maybeNotifyAssistiveTechnologies(EventQueueMonitor.java:228)\r\n\t  at com.sun.java.accessibility.util.ComponentEvtDispatchThread.run(EventQueueMonitor.java:631)\r\n\r\nI don&#39;t quite understad what the issue is. From what I can find through Google it has something to do with the method calling a native function that can&#39;t be found, but it does still work as &quot;intended&quot; other than throwing the Exception.\r\n\r\nAny clues as to the issue?\r\n\r\nEDIT: The main problem I have is that the program will not stop executing even when it is done. If that can be solved it&#39;s not a huge problem if it keeps printing out the exception message","title":"JFileChooser causes UnsatisfiedLinkError when showing dialog","body":"<p>I have a method for opening a <i>JFileChooser</i> and selecting a File. When calling the <i>showOpenDialog</i> method I get an exception, but even so the Dialog opens, I can select a File, and move on with the program (though unless I call <i>System.exit(0)</i> at the end the JVM will not stop running).</p>\n\n<pre><code>public static File selectFile() {\n    JFileChooser fc = new JFileChooser(Paths.get(\"\").toAbsolutePath().toFile());\n    if(fc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) { //Exception on This Line!!\n        return fc.getSelectedFile();\n    } else return null;\n}\n</code></pre>\n\n<p>The exception loks like this:</p>\n\n<pre><code>Exception in thread \"EventQueueMonitor-ComponentEvtDispatch\" java.lang.UnsatisfiedLinkError: no EnJavaJni in java.library.path\n  at java.lang.ClassLoader.loadLibrary(Unknown Source)\n  at java.lang.Runtime.loadLibrary0(Unknown Source)\n  at java.lang.System.loadLibrary(Unknown Source)\n  at com.encentuate.JNICall.&lt;clinit&gt;(JNICall.java:67)\n  at com.encentuate.EncentuateAWTHook.guiInitialized(EncentuateAWTHook.java:41)\n  at com.sun.java.accessibility.util.EventQueueMonitor.maybeNotifyAssistiveTechnologies(EventQueueMonitor.java:228)\n  at com.sun.java.accessibility.util.ComponentEvtDispatchThread.run(EventQueueMonitor.java:631)\n</code></pre>\n\n<p>I don't quite understad what the issue is. From what I can find through Google it has something to do with the method calling a native function that can't be found, but it does still work as \"intended\" other than throwing the Exception.</p>\n\n<p>Any clues as to the issue?</p>\n\n<p>EDIT: The main problem I have is that the program will not stop executing even when it is done. If that can be solved it's not a huge problem if it keeps printing out the exception message</p>\n"},{"tags":["java","windows","swing","jfilechooser","network-share"],"answers":[{"tags":[],"owner":{"account_id":14692404,"reputation":101,"user_id":10610697,"display_name":"ToddWebb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554920375,"creation_date":1554920375,"answer_id":55618996,"question_id":53181364,"body_markdown":"Still looking for a better solution, but in the mean time, we decided to replace JFileChooser with JavaFX&#39;s DirectoryChooser in Java 11 because of network shares. DirectoryChooser is more than happy to allow the user to type in a root network share and it will display all the network share names.   The UI that is launching the DirectoryChooser is still a swing UI, but we aren&#39;t experiencing modality or focus problems, at least under Windows 10.\r\n\r\nHowever, there are significant drawbacks for us beyond having to carefully manage threads between JavaFX Platform.runLater() and SwingUtilities.invokeLater()\r\n\r\n1) DirectoryChooser does not allow multiple selection. JFileChooser does. \r\n\r\n2) DirectoryChooser ONLY allows selection of directories and not files.  *Shrugs* Who would need to allow selection of EITHER a directory or a file? Silly. Only that is exactly what our customers need to do in more than one instance. JFileChooser supports this. \r\n\r\n3) DirectoryChooser does not allow entry of a non valid path. Huh? Yes, in fact, one of our customers has a specific requirement to enter a path that does not yet exist (pre-configure), but will as soon as the mission drive is plugged in to the network. JFileChooser allows this and can be very handy to navigate to the root directory you     need, then simply type in the last portion of the path (directory or share name). \r\n\r\n4) DirectoryChooser does not match the application style.  In JavaFX, you can set your own CSS on the root node of your Scene, but not DirectoryChooser.  It seems DirectoryChooser is actually invoking the native file chooser, which should be using the system color scheme.  Unfortunately for our pilots operating at night with &quot;dark mode&quot;, Windows 10 File Explorer does NOT respect &quot;dark mode&quot; settings until version 1809, which almost none of our customers have.","title":"How to display network shares using JFileChooser in Java 9+?","body":"<p>Still looking for a better solution, but in the mean time, we decided to replace JFileChooser with JavaFX's DirectoryChooser in Java 11 because of network shares. DirectoryChooser is more than happy to allow the user to type in a root network share and it will display all the network share names.   The UI that is launching the DirectoryChooser is still a swing UI, but we aren't experiencing modality or focus problems, at least under Windows 10.</p>\n\n<p>However, there are significant drawbacks for us beyond having to carefully manage threads between JavaFX Platform.runLater() and SwingUtilities.invokeLater()</p>\n\n<p>1) DirectoryChooser does not allow multiple selection. JFileChooser does. </p>\n\n<p>2) DirectoryChooser ONLY allows selection of directories and not files.  <em>Shrugs</em> Who would need to allow selection of EITHER a directory or a file? Silly. Only that is exactly what our customers need to do in more than one instance. JFileChooser supports this. </p>\n\n<p>3) DirectoryChooser does not allow entry of a non valid path. Huh? Yes, in fact, one of our customers has a specific requirement to enter a path that does not yet exist (pre-configure), but will as soon as the mission drive is plugged in to the network. JFileChooser allows this and can be very handy to navigate to the root directory you     need, then simply type in the last portion of the path (directory or share name). </p>\n\n<p>4) DirectoryChooser does not match the application style.  In JavaFX, you can set your own CSS on the root node of your Scene, but not DirectoryChooser.  It seems DirectoryChooser is actually invoking the native file chooser, which should be using the system color scheme.  Unfortunately for our pilots operating at night with \"dark mode\", Windows 10 File Explorer does NOT respect \"dark mode\" settings until version 1809, which almost none of our customers have.</p>\n"}],"owner":{"account_id":14692404,"reputation":101,"user_id":10610697,"display_name":"ToddWebb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1643822383,"creation_date":1541545091,"question_id":53181364,"body_markdown":"The users of our software need to browse network shares on Windows 10 in our Java swing application, however swing&#39;s JFileChooser does not have this capability by default.\r\n\r\nIn this related post\r\n[https://stackoverflow.com/questions/33640908/how-to-navigate-to-a-network-host-in-jfilechooser][1]\r\nA decent solution is presented using a ShellFolder (sun private API) to set the JFileChooser&#39;s current directory, and we have been using this approach with a few modifications for that last couple years with no issues.\r\n\r\n    public static File getNetworkShareFolder( final File folder ) throws IllegalArgumentException {\r\n      final File file = new NonCanonicalizingFile( folder.getPath() );\r\n      if( isNetworkShareFolder( file ) ) { // assume Win32ShellFolderManager2 will be present\r\n         try {\r\n            // JRE-13272 -PRIVATE API that must eventually be swapped for Java 9 alternative\r\n            // Using reflection because Win32ShellFolderManager2 may not exist in rt.jar on Linux build server\r\n            final Class win32ShellMgr = Class.forName( &quot;sun.awt.shell.Win32ShellFolderManager2&quot; );\r\n            // get static creation method from class, execute it\r\n            final Method cfMethod = win32ShellMgr.getMethod( &quot;createShellFolder&quot;, File.class );\r\n            return (ShellFolder) cfMethod.invoke( win32ShellMgr.newInstance(), file );\r\n         } catch( final Exception xx ) {\r\n            xx.printStackTrace();\r\n         }\r\n      }\r\n      throw new IllegalArgumentException( &quot;Given path is not a Windows network share folder.&quot; ); \r\n    } \r\n\r\nHowever, we are moving to Java 11, and in Java 9 on, private APIs are encapsulated and we have been mandated to no longer use them. No worries, the replacement APIs in OpenJDK have gone into FileSystemView, in a subpackage of swing filechooser.\r\n\r\nsun.awt.shell.ShellFolder.isComputerNode( File ) -&gt; javax.swing.filechooser.FileSystemView.getFileSystemView().isComputerNode( File ) sun.awt.shell.ShellFolder.getShellFolder( File ) -&gt; javax.swing.filechooser.FileSystemView.getFileSystemView().getLinkLocation( File )\r\n\r\nso the previous code now becomes\r\n\r\n    public static File getNetworkShareFolder( final File folder ) throws IllegalArgumentException {\r\n       final File file = new NonCanonicalizingFile( folder.getPath() );\r\n       if( isNetworkShareFolder( file ) ) { \r\n          try {\r\n             return FileSystemView.getFileSystemView().getLinkLocation( file );\r\n          } catch( final Exception xx ) {\r\n             xx.printStackTrace();\r\n          }\r\n       }\r\n       throw new IllegalArgumentException( &quot;Given path is not a Windows network share folder.&quot; );\r\n    }\r\n\r\n    public static boolean isNetworkShareFolder( final File folder ) {\r\n       return FileSystemView.getFileSystemView().isComputerNode( new NonCanonicalizingFile( folder.getPath() ) );\r\n    }\r\n\r\nThis would be great, but unfortunately BOTH getShellFolder() and getLinkLocation() throw an Exception under Java 11 that was not thrown under Java 8. \r\n\r\n&gt; java.nio.file.InvalidPathException: UNC path is missing sharename:\r\n&gt; \\\\100.212.51.37 \tat\r\n&gt; java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:118)\r\n&gt; \tat\r\n&gt; java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n&gt; \tat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92) \tat\r\n&gt; java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\r\n&gt; \tat java.base/java.nio.file.Path.of(Path.java:147) \tat\r\n&gt; java.base/java.nio.file.Paths.get(Paths.java:69) \tat\r\n&gt; java.desktop/sun.awt.shell.ShellFolder.getShellFolder(ShellFolder.java:247)\r\n&gt; \tat\r\n&gt; java.desktop/javax.swing.filechooser.FileSystemView.getLinkLocation(FileSystemView.java:641)\r\n\r\nIt appears that it now considers UNC paths invalid unless it has the actual share name, ie &quot;\\\\\\\\100.212.51.37\\&quot; is invalid, but &quot;\\\\\\\\100.212.51.37\\myShare&quot; is ok.\r\n\r\nNow if you get the shell folder for the UNC path &quot;\\\\\\\\100.212.51.37\\myShare&quot; and then getParent(), you get the shell folder for &quot;\\\\\\\\100.212.51.37\\&quot; that we wanted in the first place. Unfortunately, this workaround isn&#39;t viable for our customers because of a chicken &amp; egg problem - the users often don&#39;t yet know any of the actual share names, this is what they wanted to browse in the first place!\r\n\r\nArgh - this worked well under Java 8, but in Java 11, even if you break encapsulation to use the original ShellFolder private API using\r\n\r\n&gt;     &#39;--add-exports&#39;, &#39;java.desktop/sun.awt.shell=ALL-UNNAMED&#39;\r\n\r\nIt doesn&#39;t help because the previous solution now throws the same Exception under Java 11 (9+).\r\n\r\nAnother solution we have seen on StackOverflow is to use the SmbFile class in [JCIFS][2], but due to security restrictions it is very difficult for us to use 3rd party code.  Especially if it is not updated for Java 11 JPMS with NO use of private APIs.\r\n\r\nInterestingly, the DirectoryChooser in JavaFX does NOT have this problem. If the user manually types in the network host, it will gladly display all of the share names for that host.  We will go this way if we have to, but dealing with modality between a FX Stage over a swing app is ugly and potentially an awful lot of work.\r\n\r\nStill hopeful for a simpler workaround to get JFileChooser to display network shares in Java 11 (Java 9+)!  Maybe someone knows the trick the FX DirectoryChooser is using and it can be applied to JFileChooser?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33640908/how-to-navigate-to-a-network-host-in-jfilechooser\r\n  [2]: http://www.jcifs.org/","title":"How to display network shares using JFileChooser in Java 9+?","body":"<p>The users of our software need to browse network shares on Windows 10 in our Java swing application, however swing's JFileChooser does not have this capability by default.</p>\n\n<p>In this related post\n<a href=\"https://stackoverflow.com/questions/33640908/how-to-navigate-to-a-network-host-in-jfilechooser\">How to navigate to a network host in JFileChooser?</a>\nA decent solution is presented using a ShellFolder (sun private API) to set the JFileChooser's current directory, and we have been using this approach with a few modifications for that last couple years with no issues.</p>\n\n<pre><code>public static File getNetworkShareFolder( final File folder ) throws IllegalArgumentException {\n  final File file = new NonCanonicalizingFile( folder.getPath() );\n  if( isNetworkShareFolder( file ) ) { // assume Win32ShellFolderManager2 will be present\n     try {\n        // JRE-13272 -PRIVATE API that must eventually be swapped for Java 9 alternative\n        // Using reflection because Win32ShellFolderManager2 may not exist in rt.jar on Linux build server\n        final Class win32ShellMgr = Class.forName( \"sun.awt.shell.Win32ShellFolderManager2\" );\n        // get static creation method from class, execute it\n        final Method cfMethod = win32ShellMgr.getMethod( \"createShellFolder\", File.class );\n        return (ShellFolder) cfMethod.invoke( win32ShellMgr.newInstance(), file );\n     } catch( final Exception xx ) {\n        xx.printStackTrace();\n     }\n  }\n  throw new IllegalArgumentException( \"Given path is not a Windows network share folder.\" ); \n} \n</code></pre>\n\n<p>However, we are moving to Java 11, and in Java 9 on, private APIs are encapsulated and we have been mandated to no longer use them. No worries, the replacement APIs in OpenJDK have gone into FileSystemView, in a subpackage of swing filechooser.</p>\n\n<p>sun.awt.shell.ShellFolder.isComputerNode( File ) -> javax.swing.filechooser.FileSystemView.getFileSystemView().isComputerNode( File ) sun.awt.shell.ShellFolder.getShellFolder( File ) -> javax.swing.filechooser.FileSystemView.getFileSystemView().getLinkLocation( File )</p>\n\n<p>so the previous code now becomes</p>\n\n<pre><code>public static File getNetworkShareFolder( final File folder ) throws IllegalArgumentException {\n   final File file = new NonCanonicalizingFile( folder.getPath() );\n   if( isNetworkShareFolder( file ) ) { \n      try {\n         return FileSystemView.getFileSystemView().getLinkLocation( file );\n      } catch( final Exception xx ) {\n         xx.printStackTrace();\n      }\n   }\n   throw new IllegalArgumentException( \"Given path is not a Windows network share folder.\" );\n}\n\npublic static boolean isNetworkShareFolder( final File folder ) {\n   return FileSystemView.getFileSystemView().isComputerNode( new NonCanonicalizingFile( folder.getPath() ) );\n}\n</code></pre>\n\n<p>This would be great, but unfortunately BOTH getShellFolder() and getLinkLocation() throw an Exception under Java 11 that was not thrown under Java 8. </p>\n\n<blockquote>\n  <p>java.nio.file.InvalidPathException: UNC path is missing sharename:\n  \\100.212.51.37   at\n  java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:118)\n    at\n  java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)  at\n  java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\n    at java.base/java.nio.file.Path.of(Path.java:147)   at\n  java.base/java.nio.file.Paths.get(Paths.java:69)  at\n  java.desktop/sun.awt.shell.ShellFolder.getShellFolder(ShellFolder.java:247)\n    at\n  java.desktop/javax.swing.filechooser.FileSystemView.getLinkLocation(FileSystemView.java:641)</p>\n</blockquote>\n\n<p>It appears that it now considers UNC paths invalid unless it has the actual share name, ie \"\\\\100.212.51.37\\\" is invalid, but \"\\\\100.212.51.37\\myShare\" is ok.</p>\n\n<p>Now if you get the shell folder for the UNC path \"\\\\100.212.51.37\\myShare\" and then getParent(), you get the shell folder for \"\\\\100.212.51.37\\\" that we wanted in the first place. Unfortunately, this workaround isn't viable for our customers because of a chicken &amp; egg problem - the users often don't yet know any of the actual share names, this is what they wanted to browse in the first place!</p>\n\n<p>Argh - this worked well under Java 8, but in Java 11, even if you break encapsulation to use the original ShellFolder private API using</p>\n\n<blockquote>\n<pre><code>'--add-exports', 'java.desktop/sun.awt.shell=ALL-UNNAMED'\n</code></pre>\n</blockquote>\n\n<p>It doesn't help because the previous solution now throws the same Exception under Java 11 (9+).</p>\n\n<p>Another solution we have seen on StackOverflow is to use the SmbFile class in <a href=\"http://www.jcifs.org/\" rel=\"nofollow noreferrer\">JCIFS</a>, but due to security restrictions it is very difficult for us to use 3rd party code.  Especially if it is not updated for Java 11 JPMS with NO use of private APIs.</p>\n\n<p>Interestingly, the DirectoryChooser in JavaFX does NOT have this problem. If the user manually types in the network host, it will gladly display all of the share names for that host.  We will go this way if we have to, but dealing with modality between a FX Stage over a swing app is ugly and potentially an awful lot of work.</p>\n\n<p>Still hopeful for a simpler workaround to get JFileChooser to display network shares in Java 11 (Java 9+)!  Maybe someone knows the trick the FX DirectoryChooser is using and it can be applied to JFileChooser?</p>\n"},{"tags":["java","protocol-buffers","protocols","protoc"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1643210914,"post_id":70857136,"comment_id":125279767,"body_markdown":"Could you clarify *why* you don&#39;t want to run the tool that is designed to give you exactly what you&#39;re looking for? (I can think of various *potential* reasons, but your *specific* reason would affect possible solutions.)","body":"Could you clarify <i>why</i> you don&#39;t want to run the tool that is designed to give you exactly what you&#39;re looking for? (I can think of various <i>potential</i> reasons, but your <i>specific</i> reason would affect possible solutions.)"},{"owner":{"account_id":14455833,"reputation":660,"user_id":10443925,"display_name":"Maana"},"score":0,"creation_date":1643643566,"post_id":70857136,"comment_id":125388352,"body_markdown":"@Jon Skeet- It is because I want to run this step in jenkins and we are not allowed to make any configuration changes there.","body":"@Jon Skeet- It is because I want to run this step in jenkins and we are not allowed to make any configuration changes there."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1643646641,"post_id":70857136,"comment_id":125389708,"body_markdown":"I would talk to the people who set those rules then. Requiring that no tools are available other than Java seems overly prohibitive to me. (Would you expect that &quot;something equivalent to protoc&quot; is available in *every* language just in case there&#39;s someone else with that requirement but for PHP, Ruby etc?)","body":"I would talk to the people who set those rules then. Requiring that no tools are available other than Java seems overly prohibitive to me. (Would you expect that &quot;something equivalent to protoc&quot; is available in <i>every</i> language just in case there&#39;s someone else with that requirement but for PHP, Ruby etc?)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1643737892,"post_id":70857136,"comment_id":125417629,"body_markdown":"@JonSkeet with multiple Jenkins workers, it can get cumbersome to have to install several tools. You could use tools like Puppet to do so, but if one tool is allowed, then others will ask for tools as well, and you end up with a system full of tools used for just one or two jobs.\n\nWhenever I want to do something in Jenkins that requires extra tools I try to find (or create) a Docker container, then run that. That way, only one tool (Docker) is needed. A quick Google search showed several candidates.","body":"@JonSkeet with multiple Jenkins workers, it can get cumbersome to have to install several tools. You could use tools like Puppet to do so, but if one tool is allowed, then others will ask for tools as well, and you end up with a system full of tools used for just one or two jobs.  Whenever I want to do something in Jenkins that requires extra tools I try to find (or create) a Docker container, then run that. That way, only one tool (Docker) is needed. A quick Google search showed several candidates."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1643737951,"post_id":70857136,"comment_id":125417668,"body_markdown":"@RobSpoor: Putting together a Docker container of useful tools or finding an existing one seems reasonable. Requiring that every possible tool is written in every language is not, IMO :)","body":"@RobSpoor: Putting together a Docker container of useful tools or finding an existing one seems reasonable. Requiring that every possible tool is written in every language is not, IMO :)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1643738123,"post_id":70857136,"comment_id":125417759,"body_markdown":"@JonSkeet I agree.","body":"@JonSkeet I agree."},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1643747964,"post_id":70857136,"comment_id":125421129,"body_markdown":"When you say &quot;parse a proto file&quot;, what do you mean - parse it into what exactly? Parsers typically produce an AST representation of the input - is that what you want?","body":"When you say &quot;parse a proto file&quot;, what do you mean - parse it into what exactly? Parsers typically produce an AST representation of the input - is that what you want?"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643750507,"post_id":70857136,"comment_id":125421923,"body_markdown":"@Maana, what build system do you use? Maven, Gradle, etc.? There are the corresponding build system plugins (`protobuf-maven-plugin`, `protobuf-gradle-plugin`) that generate the code as a part of the build process. Would using such a build system plugin be an acceptable solution for you?","body":"@Maana, what build system do you use? Maven, Gradle, etc.? There are the corresponding build system plugins (<code>protobuf-maven-plugin</code>, <code>protobuf-gradle-plugin</code>) that generate the code as a part of the build process. Would using such a build system plugin be an acceptable solution for you?"},{"owner":{"account_id":14455833,"reputation":660,"user_id":10443925,"display_name":"Maana"},"score":1,"creation_date":1643758357,"post_id":70857136,"comment_id":125423880,"body_markdown":"@jon-hanson\nSo, I writing a sonarqube custome plugin in java which will scan any application(java, go etc) and look for .proto file and parse it. I want that parser to give back details about all messages, fieldTypes etc..","body":"@jon-hanson So, I writing a sonarqube custome plugin in java which will scan any application(java, go etc) and look for .proto file and parse it. I want that parser to give back details about all messages, fieldTypes etc.."},{"owner":{"account_id":14455833,"reputation":660,"user_id":10443925,"display_name":"Maana"},"score":1,"creation_date":1643758669,"post_id":70857136,"comment_id":125423940,"body_markdown":"@Sergey Vyacheslavovich Brunov- I am writing sonarqube custom proto parser so I should be able to scan any application java or golang and read the proto file. The thing with generated code is that it is not consistent across different languages. In java we get .class file where in go we get pb.go","body":"@Sergey Vyacheslavovich Brunov- I am writing sonarqube custom proto parser so I should be able to scan any application java or golang and read the proto file. The thing with generated code is that it is not consistent across different languages. In java we get .class file where in go we get pb.go"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643822224,"creation_date":1643761509,"answer_id":70949266,"question_id":70857136,"body_markdown":"# Possible solution: `io.protostuff:protostuff-parser` library\r\nLet&#39;s consider the `3.1.38` version of the `io.protostuff:protostuff-parser` library as the current version.\r\n\r\n* Maven dependency: [Maven Repository: io.protostuff &#187; protostuff-parser &#187; 3.1.38](https://mvnrepository.com/artifact/io.protostuff/protostuff-parser/3.1.38).\r\n* `protostuff-parser` Maven module directory in GitHub repository: [protostuff-compiler/protostuff-parser at v3.1.38 &#183; protostuff/protostuff-compiler](https://github.com/protostuff/protostuff-compiler/tree/v3.1.38/protostuff-parser).\r\n* GitHub repository: [protostuff/protostuff-compiler at v3.1.38](https://github.com/protostuff/protostuff-compiler/tree/v3.1.38).\r\n\r\n## Example program\r\nPlease, consider the below example program as **a draft** to get started with the library.\r\n\r\n### Input file\r\nLet&#39;s assume the `/some/directory/data/test.proto` file exist with the following content:\r\n```proto\r\nmessage SearchRequest {\r\n  string query = 1;\r\n  int32 page_number = 2;\r\n  int32 result_per_page = 3;\r\n  enum ContentType {\r\n    WEB = 1;\r\n    IMAGES = 2;\r\n    VIDEO = 3;\r\n  }\r\n  ContentType content_type = 4;\r\n}\r\n```\r\n\r\n### `pom.xml`: Dependencies \r\n```xml\r\n&lt;project&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.protostuff&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protostuff-parser&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.38&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n### Program\r\n```java\r\nimport com.google.inject.Guice;\r\nimport com.google.inject.Injector;\r\nimport io.protostuff.compiler.ParserModule;\r\nimport io.protostuff.compiler.model.Message;\r\nimport io.protostuff.compiler.model.Proto;\r\nimport io.protostuff.compiler.parser.Importer;\r\nimport io.protostuff.compiler.parser.LocalFileReader;\r\nimport io.protostuff.compiler.parser.ProtoContext;\r\nimport java.nio.file.Path;\r\nimport java.util.List;\r\n\r\npublic final class Program {\r\n    public static void main(final String[] args) {\r\n        final Injector injector = Guice.createInjector(new ParserModule());\r\n        final Importer importer = injector.getInstance(Importer.class);\r\n        final ProtoContext protoContext = importer.importFile(\r\n            new LocalFileReader(Path.of(&quot;/some/directory/data&quot;)),\r\n            &quot;test.proto&quot;\r\n        );\r\n\r\n        final Proto proto = protoContext.getProto();\r\n\r\n        final List&lt;Message&gt; messages = proto.getMessages();\r\n        System.out.println(String.format(&quot;Messages: %s&quot;, messages));\r\n\r\n        final Message searchRequestMessage = proto.getMessage(&quot;SearchRequest&quot;);\r\n        System.out.println(String.format(&quot;SearchRequest message: %s&quot;, searchRequestMessage));\r\n\r\n        final List&lt;Enum&gt; searchRequestMessageEnums = searchRequestMessage.getEnums();\r\n        System.out.println(String.format(&quot;SearchRequest message enums: %s&quot;, searchRequestMessageEnums));\r\n    }\r\n}\r\n```\r\n\r\nThe program output:\r\n\r\n```\r\nMessages: [Message{name=SearchRequest, fullyQualifiedName=..SearchRequest, fields=[Field{name=query, typeName=string, tag=1, options=DynamicMessage{fields={}}}, Field{name=page_number, typeName=int32, tag=2, options=DynamicMessage{fields={}}}, Field{name=result_per_page, typeName=int32, tag=3, options=DynamicMessage{fields={}}}, Field{name=content_type, typeName=ContentType, tag=4, options=DynamicMessage{fields={}}}], enums=[Enum{name=ContentType, fullyQualifiedName=..SearchRequest.ContentType, constants=[EnumConstant{name=WEB, value=1, options=DynamicMessage{fields={}}}, EnumConstant{name=IMAGES, value=2, options=DynamicMessage{fields={}}}, EnumConstant{name=VIDEO, value=3, options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}]\r\nSearchRequest message: Message{name=SearchRequest, fullyQualifiedName=..SearchRequest, fields=[Field{name=query, typeName=string, tag=1, options=DynamicMessage{fields={}}}, Field{name=page_number, typeName=int32, tag=2, options=DynamicMessage{fields={}}}, Field{name=result_per_page, typeName=int32, tag=3, options=DynamicMessage{fields={}}}, Field{name=content_type, typeName=ContentType, tag=4, options=DynamicMessage{fields={}}}], enums=[Enum{name=ContentType, fullyQualifiedName=..SearchRequest.ContentType, constants=[EnumConstant{name=WEB, value=1, options=DynamicMessage{fields={}}}, EnumConstant{name=IMAGES, value=2, options=DynamicMessage{fields={}}}, EnumConstant{name=VIDEO, value=3, options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}\r\nSearchRequest message enums: [Enum{name=ContentType, fullyQualifiedName=..SearchRequest.ContentType, constants=[EnumConstant{name=WEB, value=1, options=DynamicMessage{fields={}}}, EnumConstant{name=IMAGES, value=2, options=DynamicMessage{fields={}}}, EnumConstant{name=VIDEO, value=3, options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}]\r\n```\r\n","title":"Java : Proto parser library","body":"<h1>Possible solution: <code>io.protostuff:protostuff-parser</code> library</h1>\n<p>Let's consider the <code>3.1.38</code> version of the <code>io.protostuff:protostuff-parser</code> library as the current version.</p>\n<ul>\n<li>Maven dependency: <a href=\"https://mvnrepository.com/artifact/io.protostuff/protostuff-parser/3.1.38\" rel=\"nofollow noreferrer\">Maven Repository: io.protostuff Â» protostuff-parser Â» 3.1.38</a>.</li>\n<li><code>protostuff-parser</code> Maven module directory in GitHub repository: <a href=\"https://github.com/protostuff/protostuff-compiler/tree/v3.1.38/protostuff-parser\" rel=\"nofollow noreferrer\">protostuff-compiler/protostuff-parser at v3.1.38 Â· protostuff/protostuff-compiler</a>.</li>\n<li>GitHub repository: <a href=\"https://github.com/protostuff/protostuff-compiler/tree/v3.1.38\" rel=\"nofollow noreferrer\">protostuff/protostuff-compiler at v3.1.38</a>.</li>\n</ul>\n<h2>Example program</h2>\n<p>Please, consider the below example program as <strong>a draft</strong> to get started with the library.</p>\n<h3>Input file</h3>\n<p>Let's assume the <code>/some/directory/data/test.proto</code> file exist with the following content:</p>\n<pre class=\"lang-proto prettyprint-override\"><code>message SearchRequest {\n  string query = 1;\n  int32 page_number = 2;\n  int32 result_per_page = 3;\n  enum ContentType {\n    WEB = 1;\n    IMAGES = 2;\n    VIDEO = 3;\n  }\n  ContentType content_type = 4;\n}\n</code></pre>\n<h3><code>pom.xml</code>: Dependencies</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.protostuff&lt;/groupId&gt;\n            &lt;artifactId&gt;protostuff-parser&lt;/artifactId&gt;\n            &lt;version&gt;3.1.38&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<h3>Program</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.inject.Guice;\nimport com.google.inject.Injector;\nimport io.protostuff.compiler.ParserModule;\nimport io.protostuff.compiler.model.Message;\nimport io.protostuff.compiler.model.Proto;\nimport io.protostuff.compiler.parser.Importer;\nimport io.protostuff.compiler.parser.LocalFileReader;\nimport io.protostuff.compiler.parser.ProtoContext;\nimport java.nio.file.Path;\nimport java.util.List;\n\npublic final class Program {\n    public static void main(final String[] args) {\n        final Injector injector = Guice.createInjector(new ParserModule());\n        final Importer importer = injector.getInstance(Importer.class);\n        final ProtoContext protoContext = importer.importFile(\n            new LocalFileReader(Path.of(&quot;/some/directory/data&quot;)),\n            &quot;test.proto&quot;\n        );\n\n        final Proto proto = protoContext.getProto();\n\n        final List&lt;Message&gt; messages = proto.getMessages();\n        System.out.println(String.format(&quot;Messages: %s&quot;, messages));\n\n        final Message searchRequestMessage = proto.getMessage(&quot;SearchRequest&quot;);\n        System.out.println(String.format(&quot;SearchRequest message: %s&quot;, searchRequestMessage));\n\n        final List&lt;Enum&gt; searchRequestMessageEnums = searchRequestMessage.getEnums();\n        System.out.println(String.format(&quot;SearchRequest message enums: %s&quot;, searchRequestMessageEnums));\n    }\n}\n</code></pre>\n<p>The program output:</p>\n<pre><code>Messages: [Message{name=SearchRequest, fullyQualifiedName=..SearchRequest, fields=[Field{name=query, typeName=string, tag=1, options=DynamicMessage{fields={}}}, Field{name=page_number, typeName=int32, tag=2, options=DynamicMessage{fields={}}}, Field{name=result_per_page, typeName=int32, tag=3, options=DynamicMessage{fields={}}}, Field{name=content_type, typeName=ContentType, tag=4, options=DynamicMessage{fields={}}}], enums=[Enum{name=ContentType, fullyQualifiedName=..SearchRequest.ContentType, constants=[EnumConstant{name=WEB, value=1, options=DynamicMessage{fields={}}}, EnumConstant{name=IMAGES, value=2, options=DynamicMessage{fields={}}}, EnumConstant{name=VIDEO, value=3, options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}]\nSearchRequest message: Message{name=SearchRequest, fullyQualifiedName=..SearchRequest, fields=[Field{name=query, typeName=string, tag=1, options=DynamicMessage{fields={}}}, Field{name=page_number, typeName=int32, tag=2, options=DynamicMessage{fields={}}}, Field{name=result_per_page, typeName=int32, tag=3, options=DynamicMessage{fields={}}}, Field{name=content_type, typeName=ContentType, tag=4, options=DynamicMessage{fields={}}}], enums=[Enum{name=ContentType, fullyQualifiedName=..SearchRequest.ContentType, constants=[EnumConstant{name=WEB, value=1, options=DynamicMessage{fields={}}}, EnumConstant{name=IMAGES, value=2, options=DynamicMessage{fields={}}}, EnumConstant{name=VIDEO, value=3, options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}\nSearchRequest message enums: [Enum{name=ContentType, fullyQualifiedName=..SearchRequest.ContentType, constants=[EnumConstant{name=WEB, value=1, options=DynamicMessage{fields={}}}, EnumConstant{name=IMAGES, value=2, options=DynamicMessage{fields={}}}, EnumConstant{name=VIDEO, value=3, options=DynamicMessage{fields={}}}], options=DynamicMessage{fields={}}}]\n</code></pre>\n"}],"owner":{"account_id":14455833,"reputation":660,"user_id":10443925,"display_name":"Maana"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70949266,"answer_count":1,"score":2,"last_activity_date":1643822224,"creation_date":1643154481,"question_id":70857136,"body_markdown":"I want to parse a proto file. Wanted to check is there any java library available which can parse proto files. Based on my requirement I **cannot use** **descriptor parseFrom method** or **protoc command**. Please suggest thanks in advance. \r\n```\r\n$ protoc --include_imports --descriptor_set_out temp *.proto // I don&#39;t want to do this manual step \r\nor \r\nDescriptorProtos.FileDescriptorProto descriptorProto = DescriptorProtos.FileDescriptorProto.parseFrom(proto.getBytes());\r\n\r\n```\r\n \r\nAppreciate suggestion thanks ","title":"Java : Proto parser library","body":"<p>I want to parse a proto file. Wanted to check is there any java library available which can parse proto files. Based on my requirement I <strong>cannot use</strong> <strong>descriptor parseFrom method</strong> or <strong>protoc command</strong>. Please suggest thanks in advance.</p>\n<pre><code>$ protoc --include_imports --descriptor_set_out temp *.proto // I don't want to do this manual step \nor \nDescriptorProtos.FileDescriptorProto descriptorProto = DescriptorProtos.FileDescriptorProto.parseFrom(proto.getBytes());\n\n</code></pre>\n<p>Appreciate suggestion thanks</p>\n"},{"tags":["java","android","bitmap","object-detection"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643822186,"creation_date":1643801878,"answer_id":70954933,"question_id":70954602,"body_markdown":"**Horizontal Screen**\r\n\r\nTo get the central square area of a screen, compare `height` and `width` of the screen in pixels. Usually for desktop systems `width` is bigger, and I will assume this is the case.\r\n\r\nGet the difference `width`-`height`, divide by two and call it `x`.\r\nFinally draw a rectangle from (x, 0) to (x+height, height).\r\n\r\n**More General**\r\n\r\nThe side length of the square will be `length = min(width,height)`\r\nThe coordinates of the square will be\r\n\r\n    x = (width-length)/2\r\n    y = (height-length)/2\r\n\r\nFinally draw a rectangle from (x, y) to (x+length, y+length).\r\n","title":"How to create a bitmap whose dimension is the central square of the screen?","body":"<p><strong>Horizontal Screen</strong></p>\n<p>To get the central square area of a screen, compare <code>height</code> and <code>width</code> of the screen in pixels. Usually for desktop systems <code>width</code> is bigger, and I will assume this is the case.</p>\n<p>Get the difference <code>width</code>-<code>height</code>, divide by two and call it <code>x</code>.\nFinally draw a rectangle from (x, 0) to (x+height, height).</p>\n<p><strong>More General</strong></p>\n<p>The side length of the square will be <code>length = min(width,height)</code>\nThe coordinates of the square will be</p>\n<pre><code>x = (width-length)/2\ny = (height-length)/2\n</code></pre>\n<p>Finally draw a rectangle from (x, y) to (x+length, y+length).</p>\n"},{"tags":[],"owner":{"account_id":18383054,"reputation":142,"user_id":13390747,"display_name":"Larvouu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643818482,"creation_date":1643818482,"answer_id":70959014,"question_id":70954602,"body_markdown":"## Self solved ##\r\n\r\nThere are two thing I misunderstood on the above code.\r\n\r\nFirst, I mixed up the `x` and the `y` parameters of the `rgbFrameBitmap.setPixels()` function, but in any case this was just adding some black space to the bitmap. To obtain the center of the screen, the parameter to change is the `offset`, like this :\r\n\r\n```java\r\nint x = (previewWidth-previewHeight)/2;\r\nrgbFrameBitmap.setPixels(getRgbBytes(), x, previewWidth, 0, 0, previewHeight, previewHeight);\r\n```\r\n\r\nBesides, as we send the `croppedBitmap` to the recognition algorithm, which is the `rgbFrameBitmap` cropped to 320x320 thanks to the matrix `frameToCropTransform`, I had to update this :\r\n\r\n```java\r\nframeToCropTransform =\r\n                ImageUtils.getTransformationMatrix(\r\n                        previewWidth, previewHeight,\r\n                        cropSize, cropSize,\r\n                        sensorOrientation, MAINTAIN_ASPECT);\r\n```\r\n\r\ninto this :\r\n\r\n```java\r\nframeToCropTransform =\r\n                ImageUtils.getTransformationMatrix(\r\n                        previewHeight, previewHeight,\r\n                        cropSize, cropSize,\r\n                        sensorOrientation, MAINTAIN_ASPECT);\r\n```\r\n\r\nas `rgbFrameBitmap` is now a square of dimensions `previewHeight`x`previewHeight`","title":"How to create a bitmap whose dimension is the central square of the screen?","body":"<h2>Self solved</h2>\n<p>There are two thing I misunderstood on the above code.</p>\n<p>First, I mixed up the <code>x</code> and the <code>y</code> parameters of the <code>rgbFrameBitmap.setPixels()</code> function, but in any case this was just adding some black space to the bitmap. To obtain the center of the screen, the parameter to change is the <code>offset</code>, like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = (previewWidth-previewHeight)/2;\nrgbFrameBitmap.setPixels(getRgbBytes(), x, previewWidth, 0, 0, previewHeight, previewHeight);\n</code></pre>\n<p>Besides, as we send the <code>croppedBitmap</code> to the recognition algorithm, which is the <code>rgbFrameBitmap</code> cropped to 320x320 thanks to the matrix <code>frameToCropTransform</code>, I had to update this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>frameToCropTransform =\n                ImageUtils.getTransformationMatrix(\n                        previewWidth, previewHeight,\n                        cropSize, cropSize,\n                        sensorOrientation, MAINTAIN_ASPECT);\n</code></pre>\n<p>into this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>frameToCropTransform =\n                ImageUtils.getTransformationMatrix(\n                        previewHeight, previewHeight,\n                        cropSize, cropSize,\n                        sensorOrientation, MAINTAIN_ASPECT);\n</code></pre>\n<p>as <code>rgbFrameBitmap</code> is now a square of dimensions <code>previewHeight</code>x<code>previewHeight</code></p>\n"}],"owner":{"account_id":18383054,"reputation":142,"user_id":13390747,"display_name":"Larvouu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70959014,"answer_count":2,"score":0,"last_activity_date":1643822186,"creation_date":1643800445,"question_id":70954602,"body_markdown":"Context &amp; Goal\r\n-------\r\n\r\nI&#39;m building a real-time object detection app. To achieve this, I need a `bitmap` to send to the recognition algorithm. I have an activity displaying the camera output in full screen, but I&#39;m trying to operate the recognition **only on the central square of the screen**. So I need a bitmap with those dimensions and position, corresponding to the the central square of the phone screen.\r\n\r\nWhat I have tried\r\n-----------------\r\n\r\n```java\r\n    @Override\r\n    public void onPreviewSizeChosen(final Size size, final int rotation) {\r\n\r\n        /* some code... */\r\n    \r\n        // Width of the screen (larger than the height), for my phone it&#39;s 4032\r\n        previewWidth    = size.getWidth();\r\n        // Height of the screen, for my phone it&#39;s 1980\r\n        previewHeight   = size.getHeight();\r\n\r\n        sensorOrientation = rotation - getScreenOrientation();\r\n\r\n        // The bitmap which will be used to the recognition, dimension : full screen of the phone\r\n        rgbFrameBitmap  = Bitmap.createBitmap(previewWidth, previewHeight, Config.ARGB_8888);\r\n\r\n        // squared bitmap 320x320, required size for the recognition algorithm\r\n        croppedBitmap   = Bitmap.createBitmap(cropSize, cropSize, Config.ARGB_8888);\r\n\r\n        // bitmap to croppedBitmap transform Matrix\r\n        frameToCropTransform =\r\n                ImageUtils.getTransformationMatrix(\r\n                        previewWidth, previewHeight,\r\n                        cropSize, cropSize,\r\n                        sensorOrientation, MAINTAIN_ASPECT);\r\n\r\n        cropToFrameTransform = new Matrix();\r\n        frameToCropTransform.invert(cropToFrameTransform);\r\n\r\n        trackingOverlay = (OverlayView) findViewById(R.id.tracking_overlay);\r\n        trackingOverlay.addCallback(\r\n                new DrawCallback() {\r\n                    @Override\r\n                    public void drawCallback(final Canvas canvas) {\r\n                        tracker.draw(canvas, isDebug());\r\n                    }\r\n                });\r\n        tracker.setFrameConfiguration(previewWidth, previewHeight, sensorOrientation);\r\n       \r\n    }\r\n\r\n@Override\r\n    protected void processImage() {\r\n\r\n        trackingOverlay.postInvalidate();\r\n\r\n        if (computingDetection) {\r\n            readyForNextImage();\r\n            return;\r\n        }\r\n        computingDetection = true;\r\n\r\n        // THE LINE I CAN&#39;T FIGURE OUT\r\n        // I try to set width and height = previewHeight (1980 for my phone so a square)\r\n        // and to move it down by (previewWidth-previewHeight)/2 so it goes in the middle of the screen\r\n        rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, (previewWidth-previewHeight)/2, previewHeight, previewHeight);\r\n\r\n        readyForNextImage();\r\n\r\n        final Canvas canvas = new Canvas(croppedBitmap);\r\n        canvas.drawBitmap(rgbFrameBitmap, frameToCropTransform, null);\r\n\r\n        // Saved set to true, so I can check what the bitmap sent to the recognition algorithm looks like\r\n        if (SAVE_PREVIEW_BITMAP) {\r\n            ImageUtils.saveBitmap(croppedBitmap);\r\n        }\r\n\r\n        runInBackground(\r\n                new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        // Here we send the bitmap to the recognition algorithm to perform real-time detection\r\n                        final List&lt;Classifier.Recognition&gt; results = detector.recognizeImage(croppedBitmap);\r\n\r\n\r\n/* some code ... */\r\n\r\n}\r\n```\r\n\r\nIf I replace the `(previewWidth-previewHeight)/2` by `0` as the `y` parameter of  `rgbFrameBitmap.setPixels()` function, I manage to perform real-time recognition in a square on top of the screen, as I want unless it&#39;s not centered. But as soon as I set the `y` parameter to `(previewWidth-previewHeight)/2`, this is the error I get when it tries to save the bitmap : \r\n\r\n```\r\nW/ImageReader_JNI: Unable to acquire a buffer item, very likely client tried to acquire more than maxImages buffers\r\n```\r\n\r\nHow can I get the bitmap to be centered in the middle of the screen ?","title":"How to create a bitmap whose dimension is the central square of the screen?","body":"<h2>Context &amp; Goal</h2>\n<p>I'm building a real-time object detection app. To achieve this, I need a <code>bitmap</code> to send to the recognition algorithm. I have an activity displaying the camera output in full screen, but I'm trying to operate the recognition <strong>only on the central square of the screen</strong>. So I need a bitmap with those dimensions and position, corresponding to the the central square of the phone screen.</p>\n<h2>What I have tried</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onPreviewSizeChosen(final Size size, final int rotation) {\n\n        /* some code... */\n    \n        // Width of the screen (larger than the height), for my phone it's 4032\n        previewWidth    = size.getWidth();\n        // Height of the screen, for my phone it's 1980\n        previewHeight   = size.getHeight();\n\n        sensorOrientation = rotation - getScreenOrientation();\n\n        // The bitmap which will be used to the recognition, dimension : full screen of the phone\n        rgbFrameBitmap  = Bitmap.createBitmap(previewWidth, previewHeight, Config.ARGB_8888);\n\n        // squared bitmap 320x320, required size for the recognition algorithm\n        croppedBitmap   = Bitmap.createBitmap(cropSize, cropSize, Config.ARGB_8888);\n\n        // bitmap to croppedBitmap transform Matrix\n        frameToCropTransform =\n                ImageUtils.getTransformationMatrix(\n                        previewWidth, previewHeight,\n                        cropSize, cropSize,\n                        sensorOrientation, MAINTAIN_ASPECT);\n\n        cropToFrameTransform = new Matrix();\n        frameToCropTransform.invert(cropToFrameTransform);\n\n        trackingOverlay = (OverlayView) findViewById(R.id.tracking_overlay);\n        trackingOverlay.addCallback(\n                new DrawCallback() {\n                    @Override\n                    public void drawCallback(final Canvas canvas) {\n                        tracker.draw(canvas, isDebug());\n                    }\n                });\n        tracker.setFrameConfiguration(previewWidth, previewHeight, sensorOrientation);\n       \n    }\n\n@Override\n    protected void processImage() {\n\n        trackingOverlay.postInvalidate();\n\n        if (computingDetection) {\n            readyForNextImage();\n            return;\n        }\n        computingDetection = true;\n\n        // THE LINE I CAN'T FIGURE OUT\n        // I try to set width and height = previewHeight (1980 for my phone so a square)\n        // and to move it down by (previewWidth-previewHeight)/2 so it goes in the middle of the screen\n        rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, (previewWidth-previewHeight)/2, previewHeight, previewHeight);\n\n        readyForNextImage();\n\n        final Canvas canvas = new Canvas(croppedBitmap);\n        canvas.drawBitmap(rgbFrameBitmap, frameToCropTransform, null);\n\n        // Saved set to true, so I can check what the bitmap sent to the recognition algorithm looks like\n        if (SAVE_PREVIEW_BITMAP) {\n            ImageUtils.saveBitmap(croppedBitmap);\n        }\n\n        runInBackground(\n                new Runnable() {\n                    @Override\n                    public void run() {\n                        // Here we send the bitmap to the recognition algorithm to perform real-time detection\n                        final List&lt;Classifier.Recognition&gt; results = detector.recognizeImage(croppedBitmap);\n\n\n/* some code ... */\n\n}\n</code></pre>\n<p>If I replace the <code>(previewWidth-previewHeight)/2</code> by <code>0</code> as the <code>y</code> parameter of  <code>rgbFrameBitmap.setPixels()</code> function, I manage to perform real-time recognition in a square on top of the screen, as I want unless it's not centered. But as soon as I set the <code>y</code> parameter to <code>(previewWidth-previewHeight)/2</code>, this is the error I get when it tries to save the bitmap :</p>\n<pre><code>W/ImageReader_JNI: Unable to acquire a buffer item, very likely client tried to acquire more than maxImages buffers\n</code></pre>\n<p>How can I get the bitmap to be centered in the middle of the screen ?</p>\n"},{"tags":["java","image","swing","panel","jfilechooser"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1641326683,"post_id":70584360,"comment_id":124775363,"body_markdown":"*it just create more confusion for me.* - well we have no idea why you are confused. The steps are basic: 1) get a file name 2) read the file 3) create an ImageIcon, 4) create a JLabel using the ImageIcon 5) add the label to the frame. So restart your program and solve one step at a time. That is first start with &quot;hard coding&quot; the file name and implement all the other steps. Only once that process is working to you attempt to use the file chooser to prompt for the file name. The point is you need to learn to walk before you run.","body":"<i>it just create more confusion for me.</i> - well we have no idea why you are confused. The steps are basic: 1) get a file name 2) read the file 3) create an ImageIcon, 4) create a JLabel using the ImageIcon 5) add the label to the frame. So restart your program and solve one step at a time. That is first start with &quot;hard coding&quot; the file name and implement all the other steps. Only once that process is working to you attempt to use the file chooser to prompt for the file name. The point is you need to learn to walk before you run."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641326744,"post_id":70584360,"comment_id":124775379,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) sections.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> sections."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1641326766,"post_id":70584360,"comment_id":124775389,"body_markdown":"Start by reading the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html). There are sections on `How to Use Icons` which is a complete example and `How to Use File Choosers`. Combine the code from both examples to implement your solution. 90% of the code posted is NOT related to your actual question which is why you need to simplify the code.","body":"Start by reading the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a>. There are sections on <code>How to Use Icons</code> which is a complete example and <code>How to Use File Choosers</code>. Combine the code from both examples to implement your solution. 90% of the code posted is NOT related to your actual question which is why you need to simplify the code."}],"owner":{"account_id":3754363,"reputation":109,"user_id":3121084,"display_name":"Zyaan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643822146,"creation_date":1641326136,"question_id":70584360,"body_markdown":"3 Classes - GUI, ImageLoader and Wizard\r\n\r\nGUI is the main frame whereas Wizard is just a popup that changes settings and imageloader is image handler\r\n\r\nWhat I want is to load image from wizard to Jlabel on my main GUI but I have no idea where to start and never had experience with loading images onto GUI. Searching for answer on here didn&#39;t really help, it just create more confusion for me. I would appreciate if you also can add explanations as well.  \r\n\r\nGUI - \r\n\r\n    public class GUI extends JPanel{\r\n       //variables\r\n       JFrame frame = new JFrame(&quot;All-in-one Application&quot;);\r\n       JMenuBar menuBar;\r\n       JMenu file, edit, help, about;\r\n       JMenuItem settings, startWizard, exit, save, load, readme;\r\n       JLabel imgLabel;\r\n       private Wizard wiz;\r\n       \r\n    \r\n       public void topMenuBar(){\r\n          \r\n       //creating the menubar\r\n       menuBar = new JMenuBar(); \r\n       //Menu\r\n        file = new JMenu(&quot;File&quot;);\r\n        edit = new JMenu(&quot;Edit&quot;);\r\n        help = new JMenu(&quot;Help&quot;);\r\n        about = new JMenu(&quot;About&quot;);\r\n        \r\n        //MenuItems \r\n        startWizard = new JMenuItem(&quot;Start Wizard&quot;);\r\n         //listener for wizard\r\n         Wizard wiz = new Wizard();\r\n       //  GUIListener gListener = new GUIListener();\r\n         startWizard.addActionListener(new ActionListener(){\r\n             public void actionPerformed(ActionEvent e){\r\n                wiz.startWizardd();\r\n             }\r\n         });\r\n        \r\n        settings = new JMenuItem(&quot;Settings&quot;);\r\n        readme = new JMenuItem(&quot;Read Me&quot;);\r\n        exit = new JMenuItem(&quot;Exit&quot;);\r\n        save = new JMenuItem(&quot;Save&quot;);\r\n        load = new JMenuItem(&quot;Load&quot;);\r\n        \r\n    \r\n        //jbutton\r\n       // test = new JButton(&quot;Test&quot;);\r\n    \r\n        //adding MenuItems to the Menu\r\n       \r\n        /**file**/\r\n        file.add(startWizard);\r\n        file.add(new JSeparator());\r\n        file.add(save);\r\n        file.add(load);\r\n        file.add(new JSeparator());\r\n        file.add(exit);\r\n        //end file \r\n    \r\n        //edit\r\n        edit.add(settings);\r\n        \r\n        //help\r\n        help.add(readme);\r\n        //about\r\n        \r\n       //Adding Menu to the menu bar \r\n       menuBar.add(file);\r\n       menuBar.add(edit);\r\n       menuBar.add(help);\r\n       menuBar.add(about);\r\n       \r\n     \r\n       //exit action listener \r\n       exit.addActionListener(new ActionListener(){\r\n          public void actionPerformed(ActionEvent e){\r\n             System.exit(0);\r\n          }\r\n       });\r\n      }\r\n      \r\n      public void mainPanel(){\r\n      \r\n        FlowLayout main = new FlowLayout();\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(main);  \r\n        \r\n        //jlabel\r\n        imgLabel = new JLabel(&quot;img&quot;);\r\n        \r\n        \r\n        mainPanel.add(imgLabel);\r\n        \r\n        frame.add(mainPanel, BorderLayout.CENTER);\r\n      \r\n      }\r\n       \r\n       \r\n        //intiate GUI\r\n       public void intGUI(){\r\n         \r\n          frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          frame.setLocation(300,0);\r\n          frame.setSize(1400,1000);\r\n          topMenuBar();\r\n          mainPanel();\r\n          frame.setJMenuBar(menuBar);\r\n        \r\n          frame.setVisible(true);\r\n       } \r\n    }\r\n\r\nWizard:\r\n\r\n    public class Wizard extends JPanel{\r\n    \r\n       //variables \r\n        private ImageLoader imgload = new ImageLoader(this);\r\n        private JButton applyButton, nextButton, backButton, cancelButton, openMapButton;\r\n        JDialog wizDialog;\r\n        JFrame wizFrame;\r\n        JLabel siteNameLabel, siteMapLabel, AisleNumLabel, laneNumLabel, label; \r\n        JTextField siteNameField, aisleNumField, laneNumField;\r\n        private JTextField mapURLField = new JTextField(20);\r\n        JFileChooser chooser;\r\n        private File file; \r\n        String fileName;\r\n        BufferedImage img;   // private JPanel addInfoPanel, controlPanel;\r\n         \r\n        public void startWizardd(){\r\n          System.out.println(&quot;Starting Wizard....&quot;);\r\n           wizardGUI();\r\n        }\r\n        \r\n        public void wizardCmpt()\r\n        {\r\n          \r\n          //setting the panel up with gridlayout settings\r\n          FlowLayout map = new FlowLayout();\r\n          JPanel mapPanel = new JPanel();\r\n          mapPanel.setLayout(map);\r\n          \r\n          FlowLayout grid = new FlowLayout();\r\n          JPanel addInfoPanel = new JPanel();\r\n          addInfoPanel.setLayout(grid);\r\n          \r\n          FlowLayout controls = new FlowLayout();\r\n          JPanel controlPanel = new JPanel();\r\n          controlPanel.setLayout(controls);\r\n          \r\n          \r\n          //buttons\r\n          JButton openMapButton = new JButton(&quot;Load Map&quot;);\r\n          openMapButton.addActionListener(new ActionListener(){\r\n             public void actionPerformed(ActionEvent e){\r\n                imgload.fileChooser();\r\n             }\r\n         });\r\n         \r\n          \r\n          JButton applyButton = new JButton(&quot;Apply&quot;);\r\n          applyButton.addActionListener(new ActionListener() {\r\n        \t  public void actionPerformed(ActionEvent e) {\r\n        \t\t  \r\n        \t  }\r\n          });\r\n          JButton nextButton = new JButton(&quot;Next&quot;);\r\n          JButton backButton = new JButton(&quot;Back&quot;);\r\n          JButton cancelButton = new JButton(&quot;Cancel&quot;);\r\n          cancelButton.addActionListener(new ActionListener(){\r\n             public void actionPerformed(ActionEvent e){            \r\n                wizFrame.setVisible(false);\r\n                wizFrame.dispose(); \r\n             }\r\n          });  \r\n          \r\n          //jlabels\r\n          JLabel siteNameLabel = new JLabel(&quot;Site Name :&quot;);\r\n          JLabel siteMapLabel = new JLabel(&quot;Site Map :&quot;);\r\n          JLabel AisleNumLabel = new JLabel(&quot;Number of Aisles :&quot;);\r\n          JLabel laneNumLabel = new JLabel(&quot;Number of Lanes :&quot;);\r\n          \r\n          //jtextfield\r\n          JTextField siteNameField = new JTextField(5);\r\n          JTextField aisleNumField = new JTextField(5);\r\n          JTextField laneNumField = new JTextField(5);\r\n          \r\n          \r\n          //adding to GUI  \r\n          addInfoPanel.add(siteNameLabel);\r\n          addInfoPanel.add(siteNameField);\r\n          \r\n          addInfoPanel.add(AisleNumLabel);\r\n          addInfoPanel.add(aisleNumField);\r\n          \r\n          addInfoPanel.add(laneNumLabel);\r\n          addInfoPanel.add(laneNumField);\r\n          \r\n         mapPanel.add(siteMapLabel);   \r\n         mapPanel.add(mapURLField);   \r\n         mapPanel.add(openMapButton);\r\n    \r\n          \r\n          controlPanel.add(applyButton);\r\n         // controlPanel.add(nextButton);\r\n        //  controlPanel.add(backButton);\r\n          controlPanel.add(cancelButton);\r\n          \r\n          wizFrame.add(addInfoPanel, BorderLayout.NORTH);\r\n          wizFrame.add(mapPanel, BorderLayout.CENTER);\r\n          wizFrame.add(controlPanel, BorderLayout.SOUTH);  \r\n          \r\n        }\r\n        \r\n     \r\n        public void setMapUrlField(String text){\r\n          mapURLField.setText(text);\r\n        }\r\n        \r\n        public File getFile(){\r\n          return file;\r\n        }\r\n              \r\n        private void wizardGUI(){\r\n                System.out.println(&quot;it&#39;s loading&quot;);\r\n                wizFrame = new JFrame(&quot;Wizard Operation&quot;);\r\n                wizFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                wizFrame.setSize(600,600);\r\n                wizardCmpt();\r\n                wizFrame.pack();\r\n                wizFrame.setVisible(true);          }  }\r\n\r\nImage Loader:\r\n\r\n    public class ImageLoader{\r\n    \r\n       private JLabel label; \r\n       JFileChooser chooser;\r\n       File file; \r\n       private BufferedImage img;\r\n       private Wizard wiz; \r\n       \r\n       public ImageLoader(Wizard wiz){\r\n          this.wiz = wiz;\r\n       }\r\n    \r\n       public File fileChooser(){\r\n            File file = null;\r\n            JFileChooser fileChooser = new JFileChooser();\r\n            FileFilter imageFilter = new FileNameExtensionFilter(&quot;Image files &quot;, ImageIO.getReaderFileSuffixes());\r\n            fileChooser.setFileFilter(imageFilter);\r\n            int retValue = fileChooser.showOpenDialog(wiz);\r\n            if(retValue == JFileChooser.APPROVE_OPTION){\r\n             file = fileChooser.getSelectedFile();\r\n             wiz.setMapUrlField(file.getAbsolutePath());\r\n            }else{\r\n             wiz.setMapUrlField(&quot;&quot;);\r\n          }\r\n          return file;\r\n        }\r\n    }\r\n\r\n","title":"Loading images via JFileChooser","body":"<p>3 Classes - GUI, ImageLoader and Wizard</p>\n<p>GUI is the main frame whereas Wizard is just a popup that changes settings and imageloader is image handler</p>\n<p>What I want is to load image from wizard to Jlabel on my main GUI but I have no idea where to start and never had experience with loading images onto GUI. Searching for answer on here didn't really help, it just create more confusion for me. I would appreciate if you also can add explanations as well.</p>\n<p>GUI -</p>\n<pre><code>public class GUI extends JPanel{\n   //variables\n   JFrame frame = new JFrame(&quot;All-in-one Application&quot;);\n   JMenuBar menuBar;\n   JMenu file, edit, help, about;\n   JMenuItem settings, startWizard, exit, save, load, readme;\n   JLabel imgLabel;\n   private Wizard wiz;\n   \n\n   public void topMenuBar(){\n      \n   //creating the menubar\n   menuBar = new JMenuBar(); \n   //Menu\n    file = new JMenu(&quot;File&quot;);\n    edit = new JMenu(&quot;Edit&quot;);\n    help = new JMenu(&quot;Help&quot;);\n    about = new JMenu(&quot;About&quot;);\n    \n    //MenuItems \n    startWizard = new JMenuItem(&quot;Start Wizard&quot;);\n     //listener for wizard\n     Wizard wiz = new Wizard();\n   //  GUIListener gListener = new GUIListener();\n     startWizard.addActionListener(new ActionListener(){\n         public void actionPerformed(ActionEvent e){\n            wiz.startWizardd();\n         }\n     });\n    \n    settings = new JMenuItem(&quot;Settings&quot;);\n    readme = new JMenuItem(&quot;Read Me&quot;);\n    exit = new JMenuItem(&quot;Exit&quot;);\n    save = new JMenuItem(&quot;Save&quot;);\n    load = new JMenuItem(&quot;Load&quot;);\n    \n\n    //jbutton\n   // test = new JButton(&quot;Test&quot;);\n\n    //adding MenuItems to the Menu\n   \n    /**file**/\n    file.add(startWizard);\n    file.add(new JSeparator());\n    file.add(save);\n    file.add(load);\n    file.add(new JSeparator());\n    file.add(exit);\n    //end file \n\n    //edit\n    edit.add(settings);\n    \n    //help\n    help.add(readme);\n    //about\n    \n   //Adding Menu to the menu bar \n   menuBar.add(file);\n   menuBar.add(edit);\n   menuBar.add(help);\n   menuBar.add(about);\n   \n \n   //exit action listener \n   exit.addActionListener(new ActionListener(){\n      public void actionPerformed(ActionEvent e){\n         System.exit(0);\n      }\n   });\n  }\n  \n  public void mainPanel(){\n  \n    FlowLayout main = new FlowLayout();\n    JPanel mainPanel = new JPanel();\n    mainPanel.setLayout(main);  \n    \n    //jlabel\n    imgLabel = new JLabel(&quot;img&quot;);\n    \n    \n    mainPanel.add(imgLabel);\n    \n    frame.add(mainPanel, BorderLayout.CENTER);\n  \n  }\n   \n   \n    //intiate GUI\n   public void intGUI(){\n     \n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.setLocation(300,0);\n      frame.setSize(1400,1000);\n      topMenuBar();\n      mainPanel();\n      frame.setJMenuBar(menuBar);\n    \n      frame.setVisible(true);\n   } \n}\n</code></pre>\n<p>Wizard:</p>\n<pre><code>public class Wizard extends JPanel{\n\n   //variables \n    private ImageLoader imgload = new ImageLoader(this);\n    private JButton applyButton, nextButton, backButton, cancelButton, openMapButton;\n    JDialog wizDialog;\n    JFrame wizFrame;\n    JLabel siteNameLabel, siteMapLabel, AisleNumLabel, laneNumLabel, label; \n    JTextField siteNameField, aisleNumField, laneNumField;\n    private JTextField mapURLField = new JTextField(20);\n    JFileChooser chooser;\n    private File file; \n    String fileName;\n    BufferedImage img;   // private JPanel addInfoPanel, controlPanel;\n     \n    public void startWizardd(){\n      System.out.println(&quot;Starting Wizard....&quot;);\n       wizardGUI();\n    }\n    \n    public void wizardCmpt()\n    {\n      \n      //setting the panel up with gridlayout settings\n      FlowLayout map = new FlowLayout();\n      JPanel mapPanel = new JPanel();\n      mapPanel.setLayout(map);\n      \n      FlowLayout grid = new FlowLayout();\n      JPanel addInfoPanel = new JPanel();\n      addInfoPanel.setLayout(grid);\n      \n      FlowLayout controls = new FlowLayout();\n      JPanel controlPanel = new JPanel();\n      controlPanel.setLayout(controls);\n      \n      \n      //buttons\n      JButton openMapButton = new JButton(&quot;Load Map&quot;);\n      openMapButton.addActionListener(new ActionListener(){\n         public void actionPerformed(ActionEvent e){\n            imgload.fileChooser();\n         }\n     });\n     \n      \n      JButton applyButton = new JButton(&quot;Apply&quot;);\n      applyButton.addActionListener(new ActionListener() {\n          public void actionPerformed(ActionEvent e) {\n              \n          }\n      });\n      JButton nextButton = new JButton(&quot;Next&quot;);\n      JButton backButton = new JButton(&quot;Back&quot;);\n      JButton cancelButton = new JButton(&quot;Cancel&quot;);\n      cancelButton.addActionListener(new ActionListener(){\n         public void actionPerformed(ActionEvent e){            \n            wizFrame.setVisible(false);\n            wizFrame.dispose(); \n         }\n      });  \n      \n      //jlabels\n      JLabel siteNameLabel = new JLabel(&quot;Site Name :&quot;);\n      JLabel siteMapLabel = new JLabel(&quot;Site Map :&quot;);\n      JLabel AisleNumLabel = new JLabel(&quot;Number of Aisles :&quot;);\n      JLabel laneNumLabel = new JLabel(&quot;Number of Lanes :&quot;);\n      \n      //jtextfield\n      JTextField siteNameField = new JTextField(5);\n      JTextField aisleNumField = new JTextField(5);\n      JTextField laneNumField = new JTextField(5);\n      \n      \n      //adding to GUI  \n      addInfoPanel.add(siteNameLabel);\n      addInfoPanel.add(siteNameField);\n      \n      addInfoPanel.add(AisleNumLabel);\n      addInfoPanel.add(aisleNumField);\n      \n      addInfoPanel.add(laneNumLabel);\n      addInfoPanel.add(laneNumField);\n      \n     mapPanel.add(siteMapLabel);   \n     mapPanel.add(mapURLField);   \n     mapPanel.add(openMapButton);\n\n      \n      controlPanel.add(applyButton);\n     // controlPanel.add(nextButton);\n    //  controlPanel.add(backButton);\n      controlPanel.add(cancelButton);\n      \n      wizFrame.add(addInfoPanel, BorderLayout.NORTH);\n      wizFrame.add(mapPanel, BorderLayout.CENTER);\n      wizFrame.add(controlPanel, BorderLayout.SOUTH);  \n      \n    }\n    \n \n    public void setMapUrlField(String text){\n      mapURLField.setText(text);\n    }\n    \n    public File getFile(){\n      return file;\n    }\n          \n    private void wizardGUI(){\n            System.out.println(&quot;it's loading&quot;);\n            wizFrame = new JFrame(&quot;Wizard Operation&quot;);\n            wizFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n            wizFrame.setSize(600,600);\n            wizardCmpt();\n            wizFrame.pack();\n            wizFrame.setVisible(true);          }  }\n</code></pre>\n<p>Image Loader:</p>\n<pre><code>public class ImageLoader{\n\n   private JLabel label; \n   JFileChooser chooser;\n   File file; \n   private BufferedImage img;\n   private Wizard wiz; \n   \n   public ImageLoader(Wizard wiz){\n      this.wiz = wiz;\n   }\n\n   public File fileChooser(){\n        File file = null;\n        JFileChooser fileChooser = new JFileChooser();\n        FileFilter imageFilter = new FileNameExtensionFilter(&quot;Image files &quot;, ImageIO.getReaderFileSuffixes());\n        fileChooser.setFileFilter(imageFilter);\n        int retValue = fileChooser.showOpenDialog(wiz);\n        if(retValue == JFileChooser.APPROVE_OPTION){\n         file = fileChooser.getSelectedFile();\n         wiz.setMapUrlField(file.getAbsolutePath());\n        }else{\n         wiz.setMapUrlField(&quot;&quot;);\n      }\n      return file;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","sorting","jtable"],"comments":[{"owner":{"account_id":1297739,"reputation":12185,"user_id":1248365,"accept_rate":62,"display_name":"Adi Inbar"},"score":1,"creation_date":1392546703,"post_id":21809959,"comment_id":33004875,"body_markdown":"Questions describing your requirements and asking someone to write the code for you or explain to you how to write the code are off-topic for Stack Overflow. Please identify a specific problem or question about programming. Include attempted solutions, an explanation of how the results differed from the expected results, and any error messages you received. Please read [this advice on how to ask good questions](http://stackoverflow.com/help/how-to-ask)","body":"Questions describing your requirements and asking someone to write the code for you or explain to you how to write the code are off-topic for Stack Overflow. Please identify a specific problem or question about programming. Include attempted solutions, an explanation of how the results differed from the expected results, and any error messages you received. Please read <a href=\"http://stackoverflow.com/help/how-to-ask\">this advice on how to ask good questions</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1392548239,"post_id":21809959,"comment_id":33005288,"body_markdown":"See `setSortKeys()` in [*How to Use Tables: Sorting and Filtering*](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting).","body":"See <code>setSortKeys()</code> in <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow noreferrer\"><i>How to Use Tables: Sorting and Filtering</i></a>."},{"owner":{"account_id":111356,"reputation":1379,"user_id":294214,"accept_rate":58,"display_name":"amertkara"},"score":0,"creation_date":1430399826,"post_id":21809959,"comment_id":48057145,"body_markdown":"@trashgod it is a good starting point, but soon you will realize that using `sortKeys.add()` method is not gonna solve the issue OP is having. Because, one of the core methods (toggleSortOrder) will reorganize the sortKeys list and destroy your modification.","body":"@trashgod it is a good starting point, but soon you will realize that using <code>sortKeys.add()</code> method is not gonna solve the issue OP is having. Because, one of the core methods (toggleSortOrder) will reorganize the sortKeys list and destroy your modification."}],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643822063,"creation_date":1392555007,"answer_id":21811336,"question_id":21809959,"body_markdown":"You made me look at really old code, but it still works:\r\n\r\n![Table Header Demo][1]\r\n\r\nThe demo app is [here](https://github.com/fwi/HVLayout/blob/master/swing-demo/src/main/java/nl/fw/swing/demo/TableSortDemo.java), you&#39;ll need to checkout the Git [HVLayout-master](https://github.com/fwi/HVLayout) to get it running. But you can also just [browse](https://github.com/fwi/HVLayout/tree/master/swing-util/src/main/java/nl/fw/swing/component) for the relevant source code.\r\nTo get it running (tested with Java 11):\r\n```bash\r\ngit clone https://github.com/fwi/HVLayout.git\r\ncd HVLayout\r\nmvn verify\r\ncd swing-demo/target/\r\n# For Windows use &#39;javaw&#39; instead of &#39;java&#39;\r\njava -cp swing-demo-lib.jar nl.fw.swing.demo.TableSortDemo\r\n```\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oKPZe.jpg","title":"Sorting Jtable by sort order(multi level sort)","body":"<p>You made me look at really old code, but it still works:</p>\n<p><img src=\"https://i.stack.imgur.com/oKPZe.jpg\" alt=\"Table Header Demo\" /></p>\n<p>The demo app is <a href=\"https://github.com/fwi/HVLayout/blob/master/swing-demo/src/main/java/nl/fw/swing/demo/TableSortDemo.java\" rel=\"nofollow noreferrer\">here</a>, you'll need to checkout the Git <a href=\"https://github.com/fwi/HVLayout\" rel=\"nofollow noreferrer\">HVLayout-master</a> to get it running. But you can also just <a href=\"https://github.com/fwi/HVLayout/tree/master/swing-util/src/main/java/nl/fw/swing/component\" rel=\"nofollow noreferrer\">browse</a> for the relevant source code.\nTo get it running (tested with Java 11):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>git clone https://github.com/fwi/HVLayout.git\ncd HVLayout\nmvn verify\ncd swing-demo/target/\n# For Windows use 'javaw' instead of 'java'\njava -cp swing-demo-lib.jar nl.fw.swing.demo.TableSortDemo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111356,"reputation":1379,"user_id":294214,"accept_rate":58,"display_name":"amertkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430401063,"creation_date":1430399357,"answer_id":29968650,"question_id":21809959,"body_markdown":"This is not hard to implement but it will require to use JXTable from [SwingX][1] to start with. JXTable extends JTable to provide some core grid functionalities out of the box. However, JXTable still maintains the same sort order which is not the expected multi column sorting (at least not for me). Take look at the following points:\r\n\r\nFirst have a good understanding of the sortKeys concept, which is the list that holds the who is sorted and in which column index order.\r\n\r\n 1. Extend `org.jdesktop.swingx.sort.TableSortController` and override `toggleSortOrder` method. This method organizes the sort order across the columns (sortKeys). Make sure that the sortKeys list is always in the `first clicked column remains first` order.\r\n \r\n 2. Another thing you will realize that removing a column doesn&#39;t remove its sorted state which means that when you add the column back, it will remain sorted (with sort icon in the header). It might be a personal thing, a UX expert would know better but I think it is not an expected behavior. To solve this, extend `javax.swing.event.TableColumnModelListener` and remove the sortKey of the column at `columnRemoved` event. \r\nTo bind the listener: `table.getColumnModel().addColumnModelListener(YourTableColumnModelListener(table));`\r\n\r\n 3. Also, make sure that maxSortKeys is also maintained because JXTable will only sort 3 columns by default. Either set this value to your initial column count or update it each time a column is added/removed (point 2).\r\n\r\n 4. Finally, if you need to show the sort order in the header, take a look at `javax.swing.table.DefaultTableCellRenderer`. You will need to extend it and override the `getTableCellRendererComponent` method for look&amp;feel stuff.\r\n\r\nPS. SwingX is at version 1.6.x at the time of writing, and there is not a good online documentation (not even hosted javadocs) so you will need to use the javadocs from the source code to find your way.\r\n\r\nOne last note; probably you can implement these without adding SwingX layer. It might just require more digging.\r\n\r\n\r\n  [1]: https://swingx.java.net/","title":"Sorting Jtable by sort order(multi level sort)","body":"<p>This is not hard to implement but it will require to use JXTable from <a href=\"https://swingx.java.net/\" rel=\"nofollow\">SwingX</a> to start with. JXTable extends JTable to provide some core grid functionalities out of the box. However, JXTable still maintains the same sort order which is not the expected multi column sorting (at least not for me). Take look at the following points:</p>\n\n<p>First have a good understanding of the sortKeys concept, which is the list that holds the who is sorted and in which column index order.</p>\n\n<ol>\n<li><p>Extend <code>org.jdesktop.swingx.sort.TableSortController</code> and override <code>toggleSortOrder</code> method. This method organizes the sort order across the columns (sortKeys). Make sure that the sortKeys list is always in the <code>first clicked column remains first</code> order.</p></li>\n<li><p>Another thing you will realize that removing a column doesn't remove its sorted state which means that when you add the column back, it will remain sorted (with sort icon in the header). It might be a personal thing, a UX expert would know better but I think it is not an expected behavior. To solve this, extend <code>javax.swing.event.TableColumnModelListener</code> and remove the sortKey of the column at <code>columnRemoved</code> event. \nTo bind the listener: <code>table.getColumnModel().addColumnModelListener(YourTableColumnModelListener(table));</code></p></li>\n<li><p>Also, make sure that maxSortKeys is also maintained because JXTable will only sort 3 columns by default. Either set this value to your initial column count or update it each time a column is added/removed (point 2).</p></li>\n<li><p>Finally, if you need to show the sort order in the header, take a look at <code>javax.swing.table.DefaultTableCellRenderer</code>. You will need to extend it and override the <code>getTableCellRendererComponent</code> method for look&amp;feel stuff.</p></li>\n</ol>\n\n<p>PS. SwingX is at version 1.6.x at the time of writing, and there is not a good online documentation (not even hosted javadocs) so you will need to use the javadocs from the source code to find your way.</p>\n\n<p>One last note; probably you can implement these without adding SwingX layer. It might just require more digging.</p>\n"}],"owner":{"account_id":4024635,"reputation":1,"user_id":3313484,"display_name":"user3313484"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643822063,"creation_date":1392546495,"question_id":21809959,"body_markdown":"I have a JTable and a TableRowSorter which I&#39;d like to sort columns by sorting order for example if i have this table&lt;br/&gt;\r\n\r\n&gt;  (3,3,1)&lt;br/&gt;  (4,3,2)&lt;br/&gt;  (2,4,3)&lt;br/&gt;  (1,2,4)&lt;br/&gt;  (5,2,1)&lt;br/&gt; \r\n&gt; (3,1,1)&lt;br/&gt;  (2,2,5)&lt;br/&gt;  (4,5,4)&lt;br/&gt;  (1,1,3)&lt;br/&gt;  (1,3,2)&lt;br/&gt;\r\n\r\n \r\nand when i click on A header it will be sort like\r\n\r\n&gt;  (1,2,4)&lt;br/&gt;  (1,1,3)&lt;br/&gt;  (1,3,2)&lt;br/&gt;  (2,4,3)&lt;br/&gt;  (2,2,5)&lt;br/&gt; \r\n&gt; (3,3,1)&lt;br/&gt;  (3,1,1)&lt;br/&gt;  (4,5,4)&lt;br/&gt;  (4,5,4)&lt;br/&gt;  (5,2,1)&lt;br/&gt;\r\n\r\nbut what i want is when i click on the B header for sorting this column,A column should be still sorted like this\r\n\r\n&gt;  (1,1,3)&lt;br/&gt;  (1,2,4)&lt;br/&gt;  (1,3,2)&lt;br/&gt;  (2,2,5)&lt;br/&gt;  (2,4,3)&lt;br/&gt; \r\n&gt; (3,1,1)&lt;br/&gt;  (3,3,1)&lt;br/&gt;  (4,3,2)&lt;br/&gt;  (4,5,4)&lt;br/&gt;  (5,2,1)&lt;br/&gt;\r\n\r\nand when i click column c it will be the same\r\n\r\n","title":"Sorting Jtable by sort order(multi level sort)","body":"<p>I have a JTable and a TableRowSorter which I'd like to sort columns by sorting order for example if i have this table<br/></p>\n\n<blockquote>\n  <p>(3,3,1)<br/>  (4,3,2)<br/>  (2,4,3)<br/>  (1,2,4)<br/>  (5,2,1)<br/> \n  (3,1,1)<br/>  (2,2,5)<br/>  (4,5,4)<br/>  (1,1,3)<br/>  (1,3,2)<br/></p>\n</blockquote>\n\n<p>and when i click on A header it will be sort like</p>\n\n<blockquote>\n  <p>(1,2,4)<br/>  (1,1,3)<br/>  (1,3,2)<br/>  (2,4,3)<br/>  (2,2,5)<br/> \n  (3,3,1)<br/>  (3,1,1)<br/>  (4,5,4)<br/>  (4,5,4)<br/>  (5,2,1)<br/></p>\n</blockquote>\n\n<p>but what i want is when i click on the B header for sorting this column,A column should be still sorted like this</p>\n\n<blockquote>\n  <p>(1,1,3)<br/>  (1,2,4)<br/>  (1,3,2)<br/>  (2,2,5)<br/>  (2,4,3)<br/> \n  (3,1,1)<br/>  (3,3,1)<br/>  (4,3,2)<br/>  (4,5,4)<br/>  (5,2,1)<br/></p>\n</blockquote>\n\n<p>and when i click column c it will be the same</p>\n"},{"tags":["java","docker","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":1,"creation_date":1643829185,"post_id":70959883,"comment_id":125445931,"body_markdown":"If you run 3-4 parallel threads, you have to set `shm_size: &#39;6gb&#39; ` \\ `shm_size: &#39;8gb&#39;` based on this doc. âhttps://github.com/SeleniumHQ/docker-selenium#--shm-size2g,  try this, (but I&#39;m not sure). Also available CPUs cout matters. At least 0.5 CPU per browser.","body":"If you run 3-4 parallel threads, you have to set <code>shm_size: &#39;6gb&#39; </code> \\ <code>shm_size: &#39;8gb&#39;</code> based on this doc. â<a href=\"https://github.com/SeleniumHQ/docker-selenium#--shm-size2g\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/docker-selenium#--shm-size2g</a>,  try this, (but I&#39;m not sure). Also available CPUs cout matters. At least 0.5 CPU per browser."},{"owner":{"account_id":14667707,"reputation":194,"user_id":10593076,"display_name":"IvanMikhalka"},"score":0,"creation_date":1643875894,"post_id":70959883,"comment_id":125456756,"body_markdown":"@MaxDaroshchanka thank you, I didn&#39;t notice that `shm_size: &#39;2gb&#39;` is only for single thread. Start testing, and now it looks good, I want test several times to assume, so, maybe, our 2-years issue will be resolved. I hope so be that and appreciate your comment","body":"@MaxDaroshchanka thank you, I didn&#39;t notice that <code>shm_size: &#39;2gb&#39;</code> is only for single thread. Start testing, and now it looks good, I want test several times to assume, so, maybe, our 2-years issue will be resolved. I hope so be that and appreciate your comment"},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1643885844,"post_id":70959883,"comment_id":125460470,"body_markdown":"Let me know if it helped, I&#39;ll move the comment to the answer if it really works. Since this might be useful also for someone else.","body":"Let me know if it helped, I&#39;ll move the comment to the answer if it really works. Since this might be useful also for someone else."},{"owner":{"account_id":14667707,"reputation":194,"user_id":10593076,"display_name":"IvanMikhalka"},"score":0,"creation_date":1643886217,"post_id":70959883,"comment_id":125460624,"body_markdown":"@MaxDaroshchanka I guess you could. I&#39;ve tested several most heavyweight suites with any crashes. Also I increased mem_limit: `mem_limit: 2500m`","body":"@MaxDaroshchanka I guess you could. I&#39;ve tested several most heavyweight suites with any crashes. Also I increased mem_limit: <code>mem_limit: 2500m</code>"},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1643886424,"post_id":70959883,"comment_id":125460708,"body_markdown":"Oh, I see it marked as duplicated and not accepting answers any more, but great that it helped you. Good luck!","body":"Oh, I see it marked as duplicated and not accepting answers any more, but great that it helped you. Good luck!"}],"owner":{"account_id":14667707,"reputation":194,"user_id":10593076,"display_name":"IvanMikhalka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1643831196,"answer_count":0,"score":1,"last_activity_date":1643821911,"creation_date":1643821911,"question_id":70959883,"body_markdown":"**Hi, all**\r\n\r\nIn our project we have one persistent problem - our UI tests very\r\nflaky and dependent on machine resources.\r\nSometimes tests passed perfect, sometimes fails, even when memory usage is low.\r\n\r\nMain reason - selenium/standalone-chrome container is dropping in the middle of execution.\r\n\r\nOur approximate docker configuration (docker-compose file):\r\n```\r\n    version: &quot;2.3&quot;\r\n    services:\r\n      tests:\r\n        mem_limit: 1500m\r\n        memswap_limit: 3g\r\n        oom_score_adj: -500\r\n        extends:\r\n          file: docker-compose.build.yml\r\n          service: jdk-mvn\r\n        depends_on:\r\n          - selenium\r\n        environment:\r\n          - SELENIUM_PORT_4444_TCP_ADDR=selenium\r\n          - SELENIUM_PORT_4444_TCP_PORT=4444\r\n        command: &gt;\r\n          sh -c &quot;mvn -B -U clean install -DskipTests -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn\r\n          &amp;&amp; mvn -B test -pl module -Pprofile -Denvironment=staging -Dbrowser.type=REMOTE_CHROME_LINUX&quot;\r\n    \r\n      selenium:\r\n        container_name: selenium\r\n        image: selenium/standalone-chrome:3.141.59\r\n        shm_size: &#39;2gb&#39;\r\n        mem_limit: 1100m\r\n        memswap_limit: 4g\r\n        oom_score_adj: -1000\r\n        oom_kill_disable: true\r\n        expose:\r\n          - 4444\r\n```\r\n\r\nTests is running by maven command from `tests` container. We use several forks (3-4) for parallel execution via `maven-surefire-plugin`, so tests is running in several JVMs.\r\n\r\nOften we get such error:\r\n```\r\norg.openqa.selenium.remote.UnreachableBrowserException: Error communicating with the remote browser. It may have died.\r\nBuild info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\r\nSystem info: host: &#39;58877d6015f7&#39;, ip: &#39;172.23.0.6&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;4.4.0-1128-aws&#39;, java.version: &#39;11.0.4&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [009beb8f09ce87a15690dd3cbe53ca77, getAlertText {}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 86.0.4240.75, chrome: {chromedriverVersion: 86.0.4240.22 (398b0743353ff..., userDataDir: /tmp/.com.google.Chrome.W5uYnf}, goog:chromeOptions: {debuggerAddress: localhost:44673}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:virtualAuthenticators: true, webdriver.remote.sessionid: 009beb8f09ce87a15690dd3cbe5...}\r\nSession ID: 009beb8f09ce87a15690dd3cbe53ca77\r\n...\r\nCaused by: java.io.UncheckedIOException: java.net.UnknownHostException: selenium: Try again\r\n```\r\n\r\nLine\r\n\r\n    java.net.UnknownHostException: selenium: Try again\r\nmeans that selenium container was dropped.\r\n\r\nAll this options: `shm-size`, `mem_limit` etc. was added to improve somehow current situation.\r\nIt helped, nut not so much. Even if we prevent container itself from dropping, browser sessions inside container start dropping.\r\n\r\nIn general, question is: how to improve this situation? I mean, any points are appreciated:\r\ndocker, selenium settings, JVM argument, code refactoring to reduce memory usage etc.\r\nMain, but not only point of this issue seems to be limited machine resources ","title":"selenium/standalone-chrome seems be dropped by oom_killer","body":"<p><strong>Hi, all</strong></p>\n<p>In our project we have one persistent problem - our UI tests very\nflaky and dependent on machine resources.\nSometimes tests passed perfect, sometimes fails, even when memory usage is low.</p>\n<p>Main reason - selenium/standalone-chrome container is dropping in the middle of execution.</p>\n<p>Our approximate docker configuration (docker-compose file):</p>\n<pre><code>    version: &quot;2.3&quot;\n    services:\n      tests:\n        mem_limit: 1500m\n        memswap_limit: 3g\n        oom_score_adj: -500\n        extends:\n          file: docker-compose.build.yml\n          service: jdk-mvn\n        depends_on:\n          - selenium\n        environment:\n          - SELENIUM_PORT_4444_TCP_ADDR=selenium\n          - SELENIUM_PORT_4444_TCP_PORT=4444\n        command: &gt;\n          sh -c &quot;mvn -B -U clean install -DskipTests -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn\n          &amp;&amp; mvn -B test -pl module -Pprofile -Denvironment=staging -Dbrowser.type=REMOTE_CHROME_LINUX&quot;\n    \n      selenium:\n        container_name: selenium\n        image: selenium/standalone-chrome:3.141.59\n        shm_size: '2gb'\n        mem_limit: 1100m\n        memswap_limit: 4g\n        oom_score_adj: -1000\n        oom_kill_disable: true\n        expose:\n          - 4444\n</code></pre>\n<p>Tests is running by maven command from <code>tests</code> container. We use several forks (3-4) for parallel execution via <code>maven-surefire-plugin</code>, so tests is running in several JVMs.</p>\n<p>Often we get such error:</p>\n<pre><code>org.openqa.selenium.remote.UnreachableBrowserException: Error communicating with the remote browser. It may have died.\nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'\nSystem info: host: '58877d6015f7', ip: '172.23.0.6', os.name: 'Linux', os.arch: 'amd64', os.version: '4.4.0-1128-aws', java.version: '11.0.4'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [009beb8f09ce87a15690dd3cbe53ca77, getAlertText {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 86.0.4240.75, chrome: {chromedriverVersion: 86.0.4240.22 (398b0743353ff..., userDataDir: /tmp/.com.google.Chrome.W5uYnf}, goog:chromeOptions: {debuggerAddress: localhost:44673}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:virtualAuthenticators: true, webdriver.remote.sessionid: 009beb8f09ce87a15690dd3cbe5...}\nSession ID: 009beb8f09ce87a15690dd3cbe53ca77\n...\nCaused by: java.io.UncheckedIOException: java.net.UnknownHostException: selenium: Try again\n</code></pre>\n<p>Line</p>\n<pre><code>java.net.UnknownHostException: selenium: Try again\n</code></pre>\n<p>means that selenium container was dropped.</p>\n<p>All this options: <code>shm-size</code>, <code>mem_limit</code> etc. was added to improve somehow current situation.\nIt helped, nut not so much. Even if we prevent container itself from dropping, browser sessions inside container start dropping.</p>\n<p>In general, question is: how to improve this situation? I mean, any points are appreciated:\ndocker, selenium settings, JVM argument, code refactoring to reduce memory usage etc.\nMain, but not only point of this issue seems to be limited machine resources</p>\n"},{"tags":["java","maven","cucumber-jvm","cucumber-junit"],"comments":[{"owner":{"account_id":242718,"reputation":11086,"user_id":514438,"accept_rate":78,"display_name":"Bala"},"score":0,"creation_date":1390571656,"post_id":21334207,"comment_id":32161193,"body_markdown":"http://stackoverflow.com/questions/11719898/how-to-rerun-the-failed-scenarios-using-cucumber","body":"<a href=\"http://stackoverflow.com/questions/11719898/how-to-rerun-the-failed-scenarios-using-cucumber\" title=\"how to rerun the failed scenarios using cucumber\">stackoverflow.com/questions/11719898/&hellip;</a>"},{"owner":{"account_id":1542822,"reputation":733,"user_id":1437046,"display_name":"shreyansp"},"score":1,"creation_date":1390573238,"post_id":21334207,"comment_id":32162166,"body_markdown":"@Bala - Yes I&#39;ve seen that. I believe those commands are for Cucumber Ruby, or at least I cannot see how to run those commands with Cucumber-JVM. Have you done this with Cucumber-JVM before?","body":"@Bala - Yes I&#39;ve seen that. I believe those commands are for Cucumber Ruby, or at least I cannot see how to run those commands with Cucumber-JVM. Have you done this with Cucumber-JVM before?"}],"answers":[{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1418217534,"creation_date":1418217534,"answer_id":27402055,"question_id":21334207,"body_markdown":"I don&#39;t have an executable example at hand, but you can do this also on the jvm. There is a `RerunFormatter` that writes a text file listing the file and line numbers of failed scenarios:\r\n\r\n    @CucumberOptions(format = {&quot;rerun:target/rerun.txt&quot;})\r\n\r\nYou should be able to specify this file as input for another test class by prefixing it with `@`:\r\n\r\n    @CucumberOptions(features = {&quot;@target/rerun.txt&quot;})\r\n","title":"Rerunning failed cucumber tests using cucumber-jvm","body":"<p>I don't have an executable example at hand, but you can do this also on the jvm. There is a <code>RerunFormatter</code> that writes a text file listing the file and line numbers of failed scenarios:</p>\n\n<pre><code>@CucumberOptions(format = {\"rerun:target/rerun.txt\"})\n</code></pre>\n\n<p>You should be able to specify this file as input for another test class by prefixing it with <code>@</code>:</p>\n\n<pre><code>@CucumberOptions(features = {\"@target/rerun.txt\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481839,"reputation":13673,"user_id":895876,"accept_rate":49,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418750848,"creation_date":1418750848,"answer_id":27510432,"question_id":21334207,"body_markdown":"I came up with another solution to rerun just failed test using maven &amp; cucumber.\r\n\r\n###1) Record test failures using a `RunNotifier`\r\n\r\n\r\n    public class RerunningCucumber extends Cucumber {\r\n        \r\n        private final String className;\r\n    \r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        public RerunningCucumber(Class clazz) throws InitializationError, IOException {\r\n            super(clazz);\r\n            className = clazz.getSimpleName();\r\n        }\r\n        \r\n    \r\n        @Override\r\n        public void run(RunNotifier notifier) {\r\n            notifier.addListener(new RunListener(){\r\n                \r\n                public void testFailure(Failure failure) throws Exception {\r\n                    \r\n                    Throwable error = failure.getException();\r\n                    if (error instanceof AssertionError){\r\n                        //Nothing. This is a normal failure. Continue\r\n                        return;\r\n                    }\r\n                    \r\n                    //No! A wild exception has appeared!\r\n                    //Let&#39;s run this test again.\r\n                    RerunningCucumber.addFile(className);\r\n                }\r\n    \r\n            });\r\n            super.run(notifier);\r\n        }\r\n        \r\n    \r\n        private static final String filename = &quot;target/rerun.properties&quot;;\r\n        private static final Set&lt;String&gt; addedClasses = new HashSet&lt;String&gt;();\r\n        public static synchronized void addFile(String className) throws IOException{\r\n            //First find the file\r\n            \r\n            if (addedClasses.contains(className)){\r\n                return;\r\n            }\r\n            \r\n            File file = new File(filename);\r\n            if (!file.exists()){\r\n                //Need to create the file\r\n                PrintWriter writer = new PrintWriter(file, &quot;UTF-8&quot;);\r\n                writer.print(&quot;retryclasses=**/&quot;+className+&quot;.class&quot;);\r\n                writer.close();\r\n            }\r\n            else {\r\n                PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(file, true)));\r\n                out.print(&quot;,**/&quot;+className+&quot;.class&quot;);\r\n                out.close();\r\n            }\r\n            \r\n            addedClasses.add(className);\r\n        }\r\n    }\r\n\r\n\r\n\r\n###2) Use custom class as a runner for the cucumber tests.\r\n\r\nThis will run the tests, and whenever there is a failure, output the failed class to a file. Trick is to keep features short and create a lot of test classes to avoid repeating tests.\r\n\r\n\r\n    @RunWith(RerunningCucumber.class)\r\n    @CucumberOptions(features = {&quot;classpath:features/testFeature.feature}, format = {\r\n            &quot;html:target/cucumber-html-report/testFeature.html&quot;,\r\n            &quot;json:target/cucumber-json-report/testFeature.json&quot;},\r\n            tags = {&quot;@testFeature&quot;})\r\n    \r\n    public class RunTestFeature {\r\n    }\r\n\r\n\r\n\r\n###3) Add a `Rerun` profile to maven.\r\n\r\nThis does three things: 1) it loads the failed classes into memory, 2) cleans JUST the failed classes properties file, and 3) reruns ONLY the failed tests as loaded from the properties file:\r\n\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;retry&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;!-- Associate the read-project-properties goal with the initialize \r\n                                phase, to read the properties file. --&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;pre-clean&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;files&gt;\r\n                                        &lt;file&gt;target/rerun.properties&lt;/file&gt;\r\n                                    &lt;/files&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.6.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filesets&gt;\r\n                                &lt;fileset&gt;\r\n                                    &lt;directory&gt;target&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;rerun.properties&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/fileset&gt;\r\n                            &lt;/filesets&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.6&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;target&gt;\r\n                                        &lt;echo&gt;Retrying the following classes: &quot;${retryclasses}&quot;&lt;/echo&gt;\r\n                                    &lt;/target&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.17&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;${retryclasses}&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;test&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n\r\n### 4) Usage\r\n\r\nFirst test run:\r\n\r\n    mvn clean test\r\n\r\nNext test runs:\r\n\r\n    mvn clean test -Pretry\r\n    mvn clean test -Pretry\r\n    mvn clean test -Pretry\r\n    ...\r\n\r\nYou can repeat as many times as you want until there are no errors.","title":"Rerunning failed cucumber tests using cucumber-jvm","body":"<p>I came up with another solution to rerun just failed test using maven &amp; cucumber.</p>\n\n<h3>1) Record test failures using a <code>RunNotifier</code></h3>\n\n<pre><code>public class RerunningCucumber extends Cucumber {\n\n    private final String className;\n\n    @SuppressWarnings(\"rawtypes\")\n    public RerunningCucumber(Class clazz) throws InitializationError, IOException {\n        super(clazz);\n        className = clazz.getSimpleName();\n    }\n\n\n    @Override\n    public void run(RunNotifier notifier) {\n        notifier.addListener(new RunListener(){\n\n            public void testFailure(Failure failure) throws Exception {\n\n                Throwable error = failure.getException();\n                if (error instanceof AssertionError){\n                    //Nothing. This is a normal failure. Continue\n                    return;\n                }\n\n                //No! A wild exception has appeared!\n                //Let's run this test again.\n                RerunningCucumber.addFile(className);\n            }\n\n        });\n        super.run(notifier);\n    }\n\n\n    private static final String filename = \"target/rerun.properties\";\n    private static final Set&lt;String&gt; addedClasses = new HashSet&lt;String&gt;();\n    public static synchronized void addFile(String className) throws IOException{\n        //First find the file\n\n        if (addedClasses.contains(className)){\n            return;\n        }\n\n        File file = new File(filename);\n        if (!file.exists()){\n            //Need to create the file\n            PrintWriter writer = new PrintWriter(file, \"UTF-8\");\n            writer.print(\"retryclasses=**/\"+className+\".class\");\n            writer.close();\n        }\n        else {\n            PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(file, true)));\n            out.print(\",**/\"+className+\".class\");\n            out.close();\n        }\n\n        addedClasses.add(className);\n    }\n}\n</code></pre>\n\n<h3>2) Use custom class as a runner for the cucumber tests.</h3>\n\n<p>This will run the tests, and whenever there is a failure, output the failed class to a file. Trick is to keep features short and create a lot of test classes to avoid repeating tests.</p>\n\n<pre><code>@RunWith(RerunningCucumber.class)\n@CucumberOptions(features = {\"classpath:features/testFeature.feature}, format = {\n        \"html:target/cucumber-html-report/testFeature.html\",\n        \"json:target/cucumber-json-report/testFeature.json\"},\n        tags = {\"@testFeature\"})\n\npublic class RunTestFeature {\n}\n</code></pre>\n\n<h3>3) Add a <code>Rerun</code> profile to maven.</h3>\n\n<p>This does three things: 1) it loads the failed classes into memory, 2) cleans JUST the failed classes properties file, and 3) reruns ONLY the failed tests as loaded from the properties file:</p>\n\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;retry&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;!-- Associate the read-project-properties goal with the initialize \n                            phase, to read the properties file. --&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;pre-clean&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;read-project-properties&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;files&gt;\n                                    &lt;file&gt;target/rerun.properties&lt;/file&gt;\n                                &lt;/files&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.6.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;filesets&gt;\n                            &lt;fileset&gt;\n                                &lt;directory&gt;target&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;rerun.properties&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/fileset&gt;\n                        &lt;/filesets&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.6&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;target&gt;\n                                    &lt;echo&gt;Retrying the following classes: \"${retryclasses}\"&lt;/echo&gt;\n                                &lt;/target&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.17&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;${retryclasses}&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n\n<h3>4) Usage</h3>\n\n<p>First test run:</p>\n\n<pre><code>mvn clean test\n</code></pre>\n\n<p>Next test runs:</p>\n\n<pre><code>mvn clean test -Pretry\nmvn clean test -Pretry\nmvn clean test -Pretry\n...\n</code></pre>\n\n<p>You can repeat as many times as you want until there are no errors.</p>\n"},{"tags":[],"owner":{"account_id":3164577,"reputation":478,"user_id":2895913,"display_name":"Sugat Mankar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481642227,"creation_date":1481543734,"answer_id":41100332,"question_id":21334207,"body_markdown":"You can use [cucumber-jvm-parallel-plugin][1] contributed code as a workaround until it goes live. Hit commands as shown below.\r\n\r\n 1. git clone -b tagwiseOutlinewiseIssueRerun https://github.com/sugatmankar/cucumber-jvm-parallel-plugin.git\r\n 2. mvn clean install.\r\n 3. Now edit you project pom file and use as stated [here][2].\r\n 4. Example for using this plugin is [here][3].\r\n\r\n\r\n  [1]: https://github.com/temyers/cucumber-jvm-parallel-plugin\r\n  [2]: https://github.com/sugatmankar/cucumber-jvm-parallel-plugin/tree/tagwiseOutlinewiseIssueRerun\r\n  [3]: https://github.com/sugatmankar/cucumber-jvm-parallel-plugin-rerun-example","title":"Rerunning failed cucumber tests using cucumber-jvm","body":"<p>You can use <a href=\"https://github.com/temyers/cucumber-jvm-parallel-plugin\" rel=\"nofollow noreferrer\">cucumber-jvm-parallel-plugin</a> contributed code as a workaround until it goes live. Hit commands as shown below.</p>\n\n<ol>\n<li>git clone -b tagwiseOutlinewiseIssueRerun <a href=\"https://github.com/sugatmankar/cucumber-jvm-parallel-plugin.git\" rel=\"nofollow noreferrer\">https://github.com/sugatmankar/cucumber-jvm-parallel-plugin.git</a></li>\n<li>mvn clean install.</li>\n<li>Now edit you project pom file and use as stated <a href=\"https://github.com/sugatmankar/cucumber-jvm-parallel-plugin/tree/tagwiseOutlinewiseIssueRerun\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>Example for using this plugin is <a href=\"https://github.com/sugatmankar/cucumber-jvm-parallel-plugin-rerun-example\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15004353,"reputation":174,"user_id":10830909,"display_name":"Wenzhong Hu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551908685,"creation_date":1551908119,"answer_id":55032527,"question_id":21334207,"body_markdown":"You can pass cucumber options to mvn as below\r\n```\r\n mvn clean verify  -Dcucumber.options=&quot;@rerun.txt&quot;\r\n```\r\n\r\nNote there is a tricky part here. If you are using the same test runner for both first run and rerun (and I believe that&#39;s what you want), then the test runner would contains something like\r\n```\r\n@CucumberOptions(plugin = { &quot;rerun:target/rerun.txt&quot;})\r\n```\r\n\r\nIf you fire your rerun with maven using the same rerun file name as below\r\n```\r\n mvn clean verify  -Dcucumber.options=&quot;@target/rerun.txt&quot;\r\n```\r\nthen cucumber will complain it could not find the rerun file. Why? Because the plugin &quot;rerun:target/rerun.txt&quot; will delete the file first with this test runner. \r\n\r\nWorkaround is copy/rename the file first, then kick off the mvn run like\r\n```\r\nmv target/rerun.txt rerun.txt &amp;&amp;  mvn clean verify  -Dcucumber.options=&quot;@rerun.txt&quot;\r\n```\r\n\r\nAnd this is actually what you want. Because say if there are 5 failed scenarios in file target/rerun.txt. And with the rerun after some fix, 2 of them passed. Now the target/rerun.txt will contain the remaining 3 failed scenarios only, which would be your new start point along the debugging way.  ","title":"Rerunning failed cucumber tests using cucumber-jvm","body":"<p>You can pass cucumber options to mvn as below</p>\n\n<pre><code> mvn clean verify  -Dcucumber.options=\"@rerun.txt\"\n</code></pre>\n\n<p>Note there is a tricky part here. If you are using the same test runner for both first run and rerun (and I believe that's what you want), then the test runner would contains something like</p>\n\n<pre><code>@CucumberOptions(plugin = { \"rerun:target/rerun.txt\"})\n</code></pre>\n\n<p>If you fire your rerun with maven using the same rerun file name as below</p>\n\n<pre><code> mvn clean verify  -Dcucumber.options=\"@target/rerun.txt\"\n</code></pre>\n\n<p>then cucumber will complain it could not find the rerun file. Why? Because the plugin \"rerun:target/rerun.txt\" will delete the file first with this test runner. </p>\n\n<p>Workaround is copy/rename the file first, then kick off the mvn run like</p>\n\n<pre><code>mv target/rerun.txt rerun.txt &amp;&amp;  mvn clean verify  -Dcucumber.options=\"@rerun.txt\"\n</code></pre>\n\n<p>And this is actually what you want. Because say if there are 5 failed scenarios in file target/rerun.txt. And with the rerun after some fix, 2 of them passed. Now the target/rerun.txt will contain the remaining 3 failed scenarios only, which would be your new start point along the debugging way.  </p>\n"},{"tags":[],"owner":{"account_id":24121704,"reputation":1,"user_id":18090777,"display_name":"Ivan Artuhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643738463,"creation_date":1643720923,"answer_id":70941126,"question_id":21334207,"body_markdown":"For cucumber + java on maven i found this command: \r\n\r\n    mvn clean test -Dsurefire.rerunFailingTestsCount=2\r\n\r\n  \r\nYou must have an actual version of surefire plugin, mine is &lt;version&gt;3.0.0-M5&lt;/version&gt;.\r\nAnd nothing else special u even need.\r\nFound solution here https://stackoverflow.com/questions/40785891/surefire-rerun-failing-tests-not-working ","title":"Rerunning failed cucumber tests using cucumber-jvm","body":"<p>For cucumber + java on maven i found this command:</p>\n<pre><code>mvn clean test -Dsurefire.rerunFailingTestsCount=2\n</code></pre>\n<p>You must have an actual version of surefire plugin, mine is 3.0.0-M5.\nAnd nothing else special u even need.\nFound solution here <a href=\"https://stackoverflow.com/questions/40785891/surefire-rerun-failing-tests-not-working\">Surefire rerun failing tests not working</a></p>\n"},{"tags":[],"owner":{"account_id":14667707,"reputation":194,"user_id":10593076,"display_name":"IvanMikhalka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643821824,"creation_date":1643821824,"answer_id":70959861,"question_id":21334207,"body_markdown":"**1)**\r\nWith junit4 (cucumber-junit engine) it can be done easily with `rerun` plugin\r\nand `features` cucumber option. Add another maven profile for runner for failed scenarios, for example RerunCucumber.class. \r\n\r\nRun your initial build with main test runner and pass `rerun` plugin:\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(tags = &quot;@wip&quot;,\r\n        monochrome = true,\r\n        plugin = {&quot;html:target/cucumber&quot;, &quot;json:target/wip.json&quot;, &quot;rerun:target/rerun_wip.txt&quot;})\r\npublic class RunCucumber {\r\n}\r\n```\r\n\r\nAfter build is finished, failed scenarios will be written to `target/rerun_wip.txt`. \r\n\r\nThen failed scenarios can be executed via rerunner:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = {&quot;@features = {&quot;@target/rerun_wip.txt&quot;}&quot;},\r\n            monochrome = true,\r\n            plugin = {&quot;html:target/rerun/failed_tests&quot;, &quot;json:target/rerun/failed_tests.json&quot;})\r\n    public class RerunCucumber {\r\n    }\r\n\r\nWill be executed tests from `target/rerun_wip.txt`.\r\n\r\n**2)**\r\nWith junit5 (cucumber-junit-platform-engine) there is no such approach (no `features` cucumber option). More read about rerun failed scenarios with junit5: https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine, in &#39;Rerunning failed scenarios&#39; section\r\n","title":"Rerunning failed cucumber tests using cucumber-jvm","body":"<p><strong>1)</strong>\nWith junit4 (cucumber-junit engine) it can be done easily with <code>rerun</code> plugin\nand <code>features</code> cucumber option. Add another maven profile for runner for failed scenarios, for example RerunCucumber.class.</p>\n<p>Run your initial build with main test runner and pass <code>rerun</code> plugin:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(tags = &quot;@wip&quot;,\n        monochrome = true,\n        plugin = {&quot;html:target/cucumber&quot;, &quot;json:target/wip.json&quot;, &quot;rerun:target/rerun_wip.txt&quot;})\npublic class RunCucumber {\n}\n</code></pre>\n<p>After build is finished, failed scenarios will be written to <code>target/rerun_wip.txt</code>.</p>\n<p>Then failed scenarios can be executed via rerunner:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(features = {&quot;@features = {&quot;@target/rerun_wip.txt&quot;}&quot;},\n        monochrome = true,\n        plugin = {&quot;html:target/rerun/failed_tests&quot;, &quot;json:target/rerun/failed_tests.json&quot;})\npublic class RerunCucumber {\n}\n</code></pre>\n<p>Will be executed tests from <code>target/rerun_wip.txt</code>.</p>\n<p><strong>2)</strong>\nWith junit5 (cucumber-junit-platform-engine) there is no such approach (no <code>features</code> cucumber option). More read about rerun failed scenarios with junit5: <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine</a>, in 'Rerunning failed scenarios' section</p>\n"}],"owner":{"account_id":1542822,"reputation":733,"user_id":1437046,"display_name":"shreyansp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16087,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1643821824,"creation_date":1390570793,"question_id":21334207,"body_markdown":"I have a Cucumber-JVM, JUnit, Selenium setup. I initiate the run by running `RunSmokeTests.java` using JUnit within Eclipse. I have also set up a maven profile to run the tests from command line, and possibly Jenkins in the future.\r\n\r\nWhen the tests are run then some of them may fail sometimes, mainly due to the application taking longer than expected. I would then have to re-run these scenarios. At the moment I run them by manually attaching `@rerun` tag to the ones that failed and then running `RunReruns.java`, which is similar to `RunSmokeTest.java` but with `@rerun` tag.\r\n\r\nWith the increasing number of automated tests it is time consuming to tag the tests and start the run and clear the tags. Is there a automated way with Cucumber-JVM to re-run failed tests?\r\n\r\n\r\n**RunSmokeTests.java**\r\n\r\n    package testGlueClasses;\r\n    import cucumber.api.junit.Cucumber;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @Cucumber.Options(features = &quot;src/test/java&quot;, strict = true, format = {\r\n    \t\t&quot;html:target/CucumberReport&quot;, &quot;json:target/JSON/Cucumber.json&quot;,\r\n    \t\t&quot;FrameworkCore.CustomTestReporter&quot; }, tags = { &quot;@SmokeTest&quot; }, glue = {\r\n    \t\t&quot;FrameworkCore&quot;, &quot;MyApp.Utils&quot;, &quot;MyApp.StepDefinitions&quot; })\r\n    public class RunSmokeTests {\r\n    \r\n    } \r\n\r\n\r\n**Maven snippet:**\r\n       &lt;profiles&gt;\r\n\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;smoke&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;include.tests&gt;\r\n\t\t\t\t\t**/RunSmokeTests.java\r\n\t\t\t\t&lt;/include.tests&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;","title":"Rerunning failed cucumber tests using cucumber-jvm","body":"<p>I have a Cucumber-JVM, JUnit, Selenium setup. I initiate the run by running <code>RunSmokeTests.java</code> using JUnit within Eclipse. I have also set up a maven profile to run the tests from command line, and possibly Jenkins in the future.</p>\n\n<p>When the tests are run then some of them may fail sometimes, mainly due to the application taking longer than expected. I would then have to re-run these scenarios. At the moment I run them by manually attaching <code>@rerun</code> tag to the ones that failed and then running <code>RunReruns.java</code>, which is similar to <code>RunSmokeTest.java</code> but with <code>@rerun</code> tag.</p>\n\n<p>With the increasing number of automated tests it is time consuming to tag the tests and start the run and clear the tags. Is there a automated way with Cucumber-JVM to re-run failed tests?</p>\n\n<p><strong>RunSmokeTests.java</strong></p>\n\n<pre><code>package testGlueClasses;\nimport cucumber.api.junit.Cucumber;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@Cucumber.Options(features = \"src/test/java\", strict = true, format = {\n        \"html:target/CucumberReport\", \"json:target/JSON/Cucumber.json\",\n        \"FrameworkCore.CustomTestReporter\" }, tags = { \"@SmokeTest\" }, glue = {\n        \"FrameworkCore\", \"MyApp.Utils\", \"MyApp.StepDefinitions\" })\npublic class RunSmokeTests {\n\n} \n</code></pre>\n\n<p><strong>Maven snippet:</strong>\n       </p>\n\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;smoke&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;include.tests&gt;\n                **/RunSmokeTests.java\n            &lt;/include.tests&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n</code></pre>\n"},{"tags":["java","java-stream","collectors"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643813092,"post_id":70957549,"comment_id":125439055,"body_markdown":"If you don&#39;t want to use `filter()`, you may have to loop through those values and apply another set of `if` statements.","body":"If you don&#39;t want to use <code>filter()</code>, you may have to loop through those values and apply another set of <code>if</code> statements."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1643813160,"post_id":70957549,"comment_id":125439095,"body_markdown":"If I understand correctly, you can&#39;t filter with `filter()` because you need the logic of said filter while grouping. Is that correct?","body":"If I understand correctly, you can&#39;t filter with <code>filter()</code> because you need the logic of said filter while grouping. Is that correct?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1643813384,"post_id":70957549,"comment_id":125439197,"body_markdown":"@JettoMart&#237;nez yet that&#39;s correct, because if I would want to apply a `filter()` before, I&#39;d have to run the `complexEvaluation` twice. Once for the filter to neglect everything from 0-1000, and once for the grouping/parititioning. And the operation is too expensive to be running twice (contains database calls).","body":"@JettoMart&#237;nez yet that&#39;s correct, because if I would want to apply a <code>filter()</code> before, I&#39;d have to run the <code>complexEvaluation</code> twice. Once for the filter to neglect everything from 0-1000, and once for the grouping/parititioning. And the operation is too expensive to be running twice (contains database calls)."}],"answers":[{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643814482,"creation_date":1643813614,"answer_id":70957786,"question_id":70957549,"body_markdown":"To reuse the result of complexEvaluation in both `filter` and `groupingBy`, you can call before filtering and store the result in a wrapper class.\r\n\r\n\r\n```\r\nfoos.stream()\r\n    .map(foo -&gt; {\r\n        int bar = complexEvaluation(foo);\r\n        if (bar &gt; 1000) Pair.of(foo, true);\r\n        if (bar &lt; 0) Pair.of(foo, false);\r\n        return Pair.of(foo, null);\r\n    )\r\n    .filter(fooPair -&gt; fooPair.getRight() != null)\r\n    .collect(Collectors.groupingBy(\r\n        Pair::getRight(),\r\n        Collectors.mapping(fooPair -&gt; fooPair.getLeft().id, Collectors.toSet()\r\n    );\r\n```\r\n\r\nHowever, this is only if you insist on using `groupingBy` for some reason. \r\n\r\nAn alternative with foreach would be much easier to read:\r\n\r\n```\r\nMap&lt;Boolean, Set&lt;Foo&gt;&gt; groups = new HashMap&lt;&gt;();\r\nfoos.stream()\r\n    .forEach(foo -&gt; {\r\n        int bar = complexEvaluation(foo);\r\n        if (bar &gt; 1000) groups.computeIfAbsent(true, k-&gt;new HashSet&lt;&gt;()).add(foo);\r\n        if (bar &lt; 0)    groups.computeIfAbsent(false, k-&gt;new HashSet&lt;&gt;()).add(foo);\r\n   })\r\n    \r\n```","title":"How to neglect objects during stream grouping or partitioning?","body":"<p>To reuse the result of complexEvaluation in both <code>filter</code> and <code>groupingBy</code>, you can call before filtering and store the result in a wrapper class.</p>\n<pre><code>foos.stream()\n    .map(foo -&gt; {\n        int bar = complexEvaluation(foo);\n        if (bar &gt; 1000) Pair.of(foo, true);\n        if (bar &lt; 0) Pair.of(foo, false);\n        return Pair.of(foo, null);\n    )\n    .filter(fooPair -&gt; fooPair.getRight() != null)\n    .collect(Collectors.groupingBy(\n        Pair::getRight(),\n        Collectors.mapping(fooPair -&gt; fooPair.getLeft().id, Collectors.toSet()\n    );\n</code></pre>\n<p>However, this is only if you insist on using <code>groupingBy</code> for some reason.</p>\n<p>An alternative with foreach would be much easier to read:</p>\n<pre><code>Map&lt;Boolean, Set&lt;Foo&gt;&gt; groups = new HashMap&lt;&gt;();\nfoos.stream()\n    .forEach(foo -&gt; {\n        int bar = complexEvaluation(foo);\n        if (bar &gt; 1000) groups.computeIfAbsent(true, k-&gt;new HashSet&lt;&gt;()).add(foo);\n        if (bar &lt; 0)    groups.computeIfAbsent(false, k-&gt;new HashSet&lt;&gt;()).add(foo);\n   })\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643821641,"creation_date":1643814121,"answer_id":70957912,"question_id":70957549,"body_markdown":"If I understand your intent correctly you want to filter out some values while collecting them. It&#39;s doable with [**`Collectors.filtering()`**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#filtering(java.util.function.Predicate,java.util.stream.Collector)). \r\n\r\nNote, that `filtering()` can eliminate all values for some buckets, but it&#39;ll not cause empty buckets to be removed. In the example below buckets for 1, 2, 3, 4, 5 will be empty.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        var foos = List.of(-100, 1, 2, 3, 4, 5, 1001, 1002, 1003);\r\n        \r\n        var map = foos.stream()\r\n                .collect(Collectors.groupingBy(\r\n                            UnaryOperator.identity(),\r\n                            Collectors.filtering(foo -&gt; foo &lt; 0 || foo &gt; 1000,\r\n                                    Collectors.toSet())));\r\n\r\n        System.out.println(map);\r\n    }\r\n```\r\n**map**\r\n```\r\n{1=[], 2=[], 3=[], -100=[-100], 4=[], 5=[], 1001=[1001], 1002=[1002], 1003=[1003]}\r\n```\r\n\r\n**UPDATE**\r\n\r\nI revised this problem and the solution provided below computes the values beforehand.\r\n\r\nIn this version, undesired entries are filtered out in the stream, which makes the code inside Collector easier to read. I hope that instead of `foo` objects integer is used isn&#39;t a problem.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; foos = List.of(-100, 1, 2, 3, 4, 5, 101, 102, 103);\r\n\r\n        Map&lt;Integer, Integer&gt; fooToValue = getFooToValueMap(foos);\r\n\r\n        Map&lt;Boolean, Set&lt;Integer&gt;&gt; map = getFoosMap(fooToValue);\r\n\r\n        System.out.println(map);\r\n    }\r\n```\r\n```\r\n    private static Map&lt;Boolean, Set&lt;Integer&gt;&gt; getFoosMap(Map&lt;Integer, Integer&gt; fooToValue) {\r\n        return fooToValue.entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue() &lt; 0 || entry.getValue() &gt; 1000)\r\n                .collect(Collectors.partitioningBy(\r\n                            entry -&gt; entry.getValue() &gt; 1000,\r\n                            Collectors.mapping(Map.Entry::getKey, Collectors.toSet())\r\n                ));\r\n    }\r\n```\r\n```\r\n    private static Map&lt;Integer, Integer&gt; getFooToValueMap(List&lt;Integer&gt; list) {\r\n        return list.stream()\r\n                .collect(Collectors.toMap(UnaryOperator.identity(), foo -&gt; complexEvaluation(foo)));\r\n    }\r\n```\r\n```\r\n    private static int complexEvaluation(int foo) {\r\n        return (int) Math.signum(foo) * foo * foo;\r\n    }\r\n```\r\n**map**\r\n```\r\n{false=[-100], true=[101, 102, 103]}\r\n```","title":"How to neglect objects during stream grouping or partitioning?","body":"<p>If I understand your intent correctly you want to filter out some values while collecting them. It's doable with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#filtering(java.util.function.Predicate,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><strong><code>Collectors.filtering()</code></strong></a>.</p>\n<p>Note, that <code>filtering()</code> can eliminate all values for some buckets, but it'll not cause empty buckets to be removed. In the example below buckets for 1, 2, 3, 4, 5 will be empty.</p>\n<pre><code>    public static void main(String[] args) {\n        var foos = List.of(-100, 1, 2, 3, 4, 5, 1001, 1002, 1003);\n        \n        var map = foos.stream()\n                .collect(Collectors.groupingBy(\n                            UnaryOperator.identity(),\n                            Collectors.filtering(foo -&gt; foo &lt; 0 || foo &gt; 1000,\n                                    Collectors.toSet())));\n\n        System.out.println(map);\n    }\n</code></pre>\n<p><strong>map</strong></p>\n<pre><code>{1=[], 2=[], 3=[], -100=[-100], 4=[], 5=[], 1001=[1001], 1002=[1002], 1003=[1003]}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>I revised this problem and the solution provided below computes the values beforehand.</p>\n<p>In this version, undesired entries are filtered out in the stream, which makes the code inside Collector easier to read. I hope that instead of <code>foo</code> objects integer is used isn't a problem.</p>\n<pre><code>    public static void main(String[] args) {\n        List&lt;Integer&gt; foos = List.of(-100, 1, 2, 3, 4, 5, 101, 102, 103);\n\n        Map&lt;Integer, Integer&gt; fooToValue = getFooToValueMap(foos);\n\n        Map&lt;Boolean, Set&lt;Integer&gt;&gt; map = getFoosMap(fooToValue);\n\n        System.out.println(map);\n    }\n</code></pre>\n<pre><code>    private static Map&lt;Boolean, Set&lt;Integer&gt;&gt; getFoosMap(Map&lt;Integer, Integer&gt; fooToValue) {\n        return fooToValue.entrySet().stream()\n                .filter(entry -&gt; entry.getValue() &lt; 0 || entry.getValue() &gt; 1000)\n                .collect(Collectors.partitioningBy(\n                            entry -&gt; entry.getValue() &gt; 1000,\n                            Collectors.mapping(Map.Entry::getKey, Collectors.toSet())\n                ));\n    }\n</code></pre>\n<pre><code>    private static Map&lt;Integer, Integer&gt; getFooToValueMap(List&lt;Integer&gt; list) {\n        return list.stream()\n                .collect(Collectors.toMap(UnaryOperator.identity(), foo -&gt; complexEvaluation(foo)));\n    }\n</code></pre>\n<pre><code>    private static int complexEvaluation(int foo) {\n        return (int) Math.signum(foo) * foo * foo;\n    }\n</code></pre>\n<p><strong>map</strong></p>\n<pre><code>{false=[-100], true=[101, 102, 103]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643814561,"creation_date":1643814561,"answer_id":70958031,"question_id":70957549,"body_markdown":"Just use an `enum` to define your 3 cases:\r\n\r\n```\r\nenum Categories {\r\n    HIGH, LOW, NEGATIVE\r\n}\r\n\r\nvar map = foos.stream().collect(Collectors.groupingBy(\r\n    foo -&gt; {\r\n        int bar = complexEvaluation(foo);\r\n        if (bar &gt; 1000) return HIGH;\r\n        if (bar &lt; 0) return NEGATIVE;\r\n        return LOW;\r\n    },\r\n    Collectors.mapping(foo -&gt; foo.id, Collectors.toSet())\r\n));\r\n```\r\nThen ignore or remove `LOW` if you donât need it. It also has the added benefits of giving more meaning to your categories instead of just naming them `true`/`false`, and making it easier to refactor if you need more categories in the future.\r\n\r\nOnly drawback is that it builds a useless `LOW` set, but thatâs only an issue if it is really big compared to the other sets and the `complexEvaluation()` operation.","title":"How to neglect objects during stream grouping or partitioning?","body":"<p>Just use an <code>enum</code> to define your 3 cases:</p>\n<pre><code>enum Categories {\n    HIGH, LOW, NEGATIVE\n}\n\nvar map = foos.stream().collect(Collectors.groupingBy(\n    foo -&gt; {\n        int bar = complexEvaluation(foo);\n        if (bar &gt; 1000) return HIGH;\n        if (bar &lt; 0) return NEGATIVE;\n        return LOW;\n    },\n    Collectors.mapping(foo -&gt; foo.id, Collectors.toSet())\n));\n</code></pre>\n<p>Then ignore or remove <code>LOW</code> if you donât need it. It also has the added benefits of giving more meaning to your categories instead of just naming them <code>true</code>/<code>false</code>, and making it easier to refactor if you need more categories in the future.</p>\n<p>Only drawback is that it builds a useless <code>LOW</code> set, but thatâs only an issue if it is really big compared to the other sets and the <code>complexEvaluation()</code> operation.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643815588,"creation_date":1643815588,"answer_id":70958292,"question_id":70957549,"body_markdown":"If you want to avoid temporary storage, you have to implement your own collector:\r\n\r\n```java\r\nvar map = foos.parallelStream().collect(\r\n    () -&gt; Map.of(true, new HashSet&lt;ID&gt;(), false, new HashSet&lt;ID&gt;()),\r\n    (o, foo) -&gt; {\r\n        int bar = complexEvaluation(foo);\r\n        ID id = foo.id;\r\n        if (bar &gt; 1000) o.get(true).add(id);\r\n        else if (bar &lt; 0) o.get(false).add(id);\r\n    },\r\n    (a, b) -&gt; { a.get(true).addAll(b.get(true)); a.get(false).addAll(b.get(false)); }\r\n);\r\n```\r\n\r\nThis example has the same behavior as `partitioningBy`, always creating entries for `true` and `false`.\r\n\r\n`ID` is a placeholder for the type of `foo.id` which you didnât include in the question.\r\n","title":"How to neglect objects during stream grouping or partitioning?","body":"<p>If you want to avoid temporary storage, you have to implement your own collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var map = foos.parallelStream().collect(\n    () -&gt; Map.of(true, new HashSet&lt;ID&gt;(), false, new HashSet&lt;ID&gt;()),\n    (o, foo) -&gt; {\n        int bar = complexEvaluation(foo);\n        ID id = foo.id;\n        if (bar &gt; 1000) o.get(true).add(id);\n        else if (bar &lt; 0) o.get(false).add(id);\n    },\n    (a, b) -&gt; { a.get(true).addAll(b.get(true)); a.get(false).addAll(b.get(false)); }\n);\n</code></pre>\n<p>This example has the same behavior as <code>partitioningBy</code>, always creating entries for <code>true</code> and <code>false</code>.</p>\n<p><code>ID</code> is a placeholder for the type of <code>foo.id</code> which you didnât include in the question.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70958031,"answer_count":4,"score":4,"last_activity_date":1643821641,"creation_date":1643812674,"question_id":70957549,"body_markdown":"It is possible to neglect some elements during `Collectors.groupingBy` or `Collectors.partitioningBy`?\r\n\r\nOf course I know I can place a `.filter()` anywhere in a stream. But my problem is that I have to run a rather complex and expensive evaluation, to decide in which &quot;group&quot; my objects should be divided into.\r\n\r\nMoreover, there are always many objects that I would want to neglect during collecting.\r\n\r\nExample: imagine a `List&lt;Foo&gt;`, that I want to split into 2 lists. That&#39;s easy, but how can I additionally neglect all objects that don&#39;t fit into my evaluated condition?\r\n\r\n    var map = foos.stream().collect(Collectors.groupingBy(\r\n        foo -&gt; {\r\n            int bar = complexEvaluation(foo);\r\n            if (bar &gt; 1000) return true;\r\n            if (bar &lt; 0) return false;\r\n            //TODO how to neglect the rest between 0-1000\r\n        },\r\n        Collectors.mapping(foo -&gt; foo.id, Collectors.toSet())\r\n    ));","title":"How to neglect objects during stream grouping or partitioning?","body":"<p>It is possible to neglect some elements during <code>Collectors.groupingBy</code> or <code>Collectors.partitioningBy</code>?</p>\n<p>Of course I know I can place a <code>.filter()</code> anywhere in a stream. But my problem is that I have to run a rather complex and expensive evaluation, to decide in which &quot;group&quot; my objects should be divided into.</p>\n<p>Moreover, there are always many objects that I would want to neglect during collecting.</p>\n<p>Example: imagine a <code>List&lt;Foo&gt;</code>, that I want to split into 2 lists. That's easy, but how can I additionally neglect all objects that don't fit into my evaluated condition?</p>\n<pre><code>var map = foos.stream().collect(Collectors.groupingBy(\n    foo -&gt; {\n        int bar = complexEvaluation(foo);\n        if (bar &gt; 1000) return true;\n        if (bar &lt; 0) return false;\n        //TODO how to neglect the rest between 0-1000\n    },\n    Collectors.mapping(foo -&gt; foo.id, Collectors.toSet())\n));\n</code></pre>\n"},{"tags":["java","javafx","canvas"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643821595,"creation_date":1643741245,"answer_id":70945900,"question_id":70943974,"body_markdown":"The method [`appendSVGPath()`][1] specifies: &quot;The coordinates are transformed by the current transform as they are added to the path and unaffected by subsequent changes to the transform.&quot; As an alternative, rotate the enclosing `Canvas` as shown below. Also consider this alternate approach to [scaling][2] `SVGPath`.\r\n\r\n[![image][3]][3]\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.layout.Background;\r\nimport javafx.scene.layout.BackgroundFill;\r\nimport javafx.scene.layout.CornerRadii;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\n/** @see https://stackoverflow.com/a/70945900/230513 */\r\npublic class CanvasSVG extends Application {\r\n\r\n    private static final double DIM = 400;\r\n    private static final Color BG = Color.GREEN;\r\n    private final Canvas canvas = new Canvas(DIM, DIM);\r\n    private final GraphicsContext gc = canvas.getGraphicsContext2D();\r\n    private Double angle = 0.0;\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        clear();\r\n        draw();\r\n        canvas.setOnMousePressed(e -&gt; {\r\n            if (e.getButton() == MouseButton.PRIMARY) {\r\n                draw();\r\n                angle += 50;\r\n                canvas.setRotate(angle);\r\n            } else if (e.getButton() == MouseButton.SECONDARY) {\r\n                clear();\r\n                angle = 50.0;\r\n            }\r\n        });\r\n\r\n        StackPane pane = new StackPane(canvas);\r\n        pane.setBackground(new Background(new BackgroundFill(\r\n            BG, CornerRadii.EMPTY, Insets.EMPTY)));\r\n        Scene scene = new Scene(pane);\r\n        stage.setTitle(&quot;Canvas Demo&quot;);\r\n        stage.setScene(scene);\r\n        stage.centerOnScreen();\r\n        stage.show();\r\n    }\r\n\r\n    private void draw() {\r\n        String svgPath = &quot;m 0 10 v -24 M 0 -14 L 8 -16 M -2 10 h 4 l -2 5 l -2 -5&quot;;\r\n        gc.save();\r\n        gc.setStroke(Color.BLUE);\r\n        gc.translate(DIM / 2, DIM / 2);\r\n        gc.scale(10, 10);\r\n        gc.appendSVGPath(svgPath);\r\n        gc.stroke();\r\n        gc.restore();\r\n    }\r\n\r\n    private void clear() {\r\n        gc.setFill(BG);\r\n        gc.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(CanvasSVG.class);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/GraphicsContext.html#appendSVGPath(java.lang.String)\r\n  [2]: https://stackoverflow.com/a/32116938/230513\r\n  [3]: https://i.stack.imgur.com/npN3j.png","title":"How to re-rotate the GC of a JavaFX Canvas?","body":"<p>The method <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/GraphicsContext.html#appendSVGPath(java.lang.String)\" rel=\"nofollow noreferrer\"><code>appendSVGPath()</code></a> specifies: &quot;The coordinates are transformed by the current transform as they are added to the path and unaffected by subsequent changes to the transform.&quot; As an alternative, rotate the enclosing <code>Canvas</code> as shown below. Also consider this alternate approach to <a href=\"https://stackoverflow.com/a/32116938/230513\">scaling</a> <code>SVGPath</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/npN3j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npN3j.png\" alt=\"image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.CornerRadii;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\n/** @see https://stackoverflow.com/a/70945900/230513 */\npublic class CanvasSVG extends Application {\n\n    private static final double DIM = 400;\n    private static final Color BG = Color.GREEN;\n    private final Canvas canvas = new Canvas(DIM, DIM);\n    private final GraphicsContext gc = canvas.getGraphicsContext2D();\n    private Double angle = 0.0;\n\n    @Override\n    public void start(Stage stage) {\n        clear();\n        draw();\n        canvas.setOnMousePressed(e -&gt; {\n            if (e.getButton() == MouseButton.PRIMARY) {\n                draw();\n                angle += 50;\n                canvas.setRotate(angle);\n            } else if (e.getButton() == MouseButton.SECONDARY) {\n                clear();\n                angle = 50.0;\n            }\n        });\n\n        StackPane pane = new StackPane(canvas);\n        pane.setBackground(new Background(new BackgroundFill(\n            BG, CornerRadii.EMPTY, Insets.EMPTY)));\n        Scene scene = new Scene(pane);\n        stage.setTitle(&quot;Canvas Demo&quot;);\n        stage.setScene(scene);\n        stage.centerOnScreen();\n        stage.show();\n    }\n\n    private void draw() {\n        String svgPath = &quot;m 0 10 v -24 M 0 -14 L 8 -16 M -2 10 h 4 l -2 5 l -2 -5&quot;;\n        gc.save();\n        gc.setStroke(Color.BLUE);\n        gc.translate(DIM / 2, DIM / 2);\n        gc.scale(10, 10);\n        gc.appendSVGPath(svgPath);\n        gc.stroke();\n        gc.restore();\n    }\n\n    private void clear() {\n        gc.setFill(BG);\n        gc.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\n    }\n\n    public static void main(String[] args) {\n        launch(CanvasSVG.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17549292,"reputation":11,"user_id":12730000,"display_name":"marcoma9023"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643821595,"creation_date":1643732613,"question_id":70943974,"body_markdown":"I have a question that as per object concerns the Canvas and its GraphiContext.\r\n\r\nIn the following code I have reported a JavaFX Application that has the Canvas as its main object.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.canvas.Canvas;\r\nimport javafx.scene.canvas.GraphicsContext;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class canvasSVG extends Application{\r\n\r\n\tprivate Double angle = 0.0;\r\n\r\n\t@Override\r\n\tpublic void start(Stage stage) {\r\n\t\tCanvas canvas = new Canvas(500, 500);\r\n\t\tGraphicsContext gc = canvas.getGraphicsContext2D();\r\n\r\n\t\tgc.setFill(Color.GREEN);\r\n\t\tgc.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n\r\n\t\tString svgPath = &quot;m 0 10 v -24 M 0 -14 L 8 -16 M -2 10 h 4 l -2 5 l -2 -5&quot;;\r\n\r\n\t\tcanvas.setOnMousePressed(e-&gt;{\r\n\t\t\tif(e.getButton()==MouseButton.PRIMARY) {\r\n\t\t\t\tSystem.out.println(&quot;PUT: &quot;+ angle);\r\n\r\n\t\t\t\tgc.save();\r\n\t\t\t\tgc.setStroke(Color.BLUE);\r\n\t\t\t\tgc.translate(250,250);\r\n\t\t\t\tgc.rotate(angle);\t\t\t\t\t\t\t\r\n\t\t\t\tgc.scale(10, 10);\r\n\r\n\t\t\t\tgc.appendSVGPath(svgPath);\r\n\t\t\t\tgc.stroke();\r\n\r\n\t\t\t\tangle = angle+50;\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tgc.restore();\t\t\t\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tcanvas.setOnMouseClicked(e-&gt;{\r\n\t\t\tif(e.getButton()==MouseButton.SECONDARY) {\r\n\t\t\t\tSystem.out.println(&quot;CLEAN &quot;+ angle);\r\n\r\n\t\t\t\tgc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n\t\t\t\tgc.setFill(Color.GREEN);\r\n\t\t\t\tgc.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tStackPane pane = new StackPane(canvas);\r\n\r\n\t\tScene scene = new Scene(pane);\r\n\t\tstage.setTitle(&quot;Canvas Demo&quot;);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.sizeToScene();\r\n\t\tstage.centerOnScreen();\r\n\t\tstage.show();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(canvasSVG.class);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nOn clicking with the left mouse button I add the SVG path to the canvas and on clicking with the right mouse button I remove it from the canvas.\r\n\r\nThe problem is that once the rotation has happened the first time, the angle of the geometric figure in the canvas doesn&#39;t change.\r\n","title":"How to re-rotate the GC of a JavaFX Canvas?","body":"<p>I have a question that as per object concerns the Canvas and its GraphiContext.</p>\n<p>In the following code I have reported a JavaFX Application that has the Canvas as its main object.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.canvas.GraphicsContext;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class canvasSVG extends Application{\n\n    private Double angle = 0.0;\n\n    @Override\n    public void start(Stage stage) {\n        Canvas canvas = new Canvas(500, 500);\n        GraphicsContext gc = canvas.getGraphicsContext2D();\n\n        gc.setFill(Color.GREEN);\n        gc.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\n\n        String svgPath = &quot;m 0 10 v -24 M 0 -14 L 8 -16 M -2 10 h 4 l -2 5 l -2 -5&quot;;\n\n        canvas.setOnMousePressed(e-&gt;{\n            if(e.getButton()==MouseButton.PRIMARY) {\n                System.out.println(&quot;PUT: &quot;+ angle);\n\n                gc.save();\n                gc.setStroke(Color.BLUE);\n                gc.translate(250,250);\n                gc.rotate(angle);                           \n                gc.scale(10, 10);\n\n                gc.appendSVGPath(svgPath);\n                gc.stroke();\n\n                angle = angle+50;                                               \n                gc.restore();           \n            }\n\n        });\n\n        canvas.setOnMouseClicked(e-&gt;{\n            if(e.getButton()==MouseButton.SECONDARY) {\n                System.out.println(&quot;CLEAN &quot;+ angle);\n\n                gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());\n                gc.setFill(Color.GREEN);\n                gc.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\n            }\n        });\n\n        StackPane pane = new StackPane(canvas);\n\n        Scene scene = new Scene(pane);\n        stage.setTitle(&quot;Canvas Demo&quot;);\n        stage.setScene(scene);\n        stage.sizeToScene();\n        stage.centerOnScreen();\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(canvasSVG.class);\n    }\n}\n\n</code></pre>\n<p>On clicking with the left mouse button I add the SVG path to the canvas and on clicking with the right mouse button I remove it from the canvas.</p>\n<p>The problem is that once the rotation has happened the first time, the angle of the geometric figure in the canvas doesn't change.</p>\n"},{"tags":["java","jcr","jackrabbit"],"owner":{"account_id":24134996,"reputation":11,"user_id":18102056,"display_name":"KeerthanaMaruthachalam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643821499,"creation_date":1643821499,"question_id":70959771,"body_markdown":"Currently I am trying to migrate the repository of the jackrabbit. Where I did a fresh installation setup and migrated the database contents also, post that tried to create folders inside jackrabbit . If any new upload is happening then the files are in jackrabbit folder, but the old data are not shown in the folders.\r\n\r\nWhen trying to access the particular file in the path it shown as **ItemDoesNotExist**.\r\n\r\nAny inputs will be helpful. Thanks in advance","title":"Jackrabbit Repository Migration issue","body":"<p>Currently I am trying to migrate the repository of the jackrabbit. Where I did a fresh installation setup and migrated the database contents also, post that tried to create folders inside jackrabbit . If any new upload is happening then the files are in jackrabbit folder, but the old data are not shown in the folders.</p>\n<p>When trying to access the particular file in the path it shown as <strong>ItemDoesNotExist</strong>.</p>\n<p>Any inputs will be helpful. Thanks in advance</p>\n"},{"tags":["java","sql","sql-server","jdbc"],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643821467,"creation_date":1643818613,"answer_id":70959049,"question_id":70958904,"body_markdown":"With JDBC there is no way to see what is the status of the query because the query is being executed by the database. So, the JDBC driver sends the query to database and waits for a response. JDBC is the one that get the results, it doesn&#39;t track the complexity of the query or the status of one. My suggestion for solving this problem is to get the total count of documents of being processed, then make a batch of queries. That&#39;s the way I made for a large set of results. Divide and conquer. ","title":"How to track progress of a large SQL Server query with JDBC?","body":"<p>With JDBC there is no way to see what is the status of the query because the query is being executed by the database. So, the JDBC driver sends the query to database and waits for a response. JDBC is the one that get the results, it doesn't track the complexity of the query or the status of one. My suggestion for solving this problem is to get the total count of documents of being processed, then make a batch of queries. That's the way I made for a large set of results. Divide and conquer.</p>\n"},{"tags":[],"owner":{"account_id":17462526,"reputation":4163,"user_id":12659872,"display_name":"SQLpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643819105,"creation_date":1643819105,"answer_id":70959184,"question_id":70958904,"body_markdown":"The anwser given by @Gatusko is good but does not solve your problem... \r\n\r\nActually you will see everywhere that progress bar is less and less used, because it is not adapted for SOA architectures (distant calls of processes).\r\n\r\nThe trick that replace the progress bar is a circle thats turns eternally until the result appear ! Which such a component, there is no needs to requests the state of progress of the process, that you really never can have in a RDBMS !","title":"How to track progress of a large SQL Server query with JDBC?","body":"<p>The anwser given by @Gatusko is good but does not solve your problem...</p>\n<p>Actually you will see everywhere that progress bar is less and less used, because it is not adapted for SOA architectures (distant calls of processes).</p>\n<p>The trick that replace the progress bar is a circle thats turns eternally until the result appear ! Which such a component, there is no needs to requests the state of progress of the process, that you really never can have in a RDBMS !</p>\n"}],"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643821467,"creation_date":1643818024,"question_id":70958904,"body_markdown":"My JavaFX application has a process that loads a very large amount of data from a single SQL Server query at startup. This can often take several minutes to complete.\r\n\r\nMy goal is to include a `ProgressBar` to show the current/total rows that have already been retrieved, but I can not find a way to retrieve the progress of a `SELECT` statement with JDBC.\r\n\r\nRight now, I am just executing the one query to get a single `ResultSet` in return when all data has been returned by the server.\r\n\r\nIs it possible to &quot;listen&quot; to the progress of a query in this way? Or some way to limit the query (ie: `SELECT TOP 100`) in a loop, picking up where the last iteration left off, until all results have been retrieved?\r\n\r\n","title":"How to track progress of a large SQL Server query with JDBC?","body":"<p>My JavaFX application has a process that loads a very large amount of data from a single SQL Server query at startup. This can often take several minutes to complete.</p>\n<p>My goal is to include a <code>ProgressBar</code> to show the current/total rows that have already been retrieved, but I can not find a way to retrieve the progress of a <code>SELECT</code> statement with JDBC.</p>\n<p>Right now, I am just executing the one query to get a single <code>ResultSet</code> in return when all data has been returned by the server.</p>\n<p>Is it possible to &quot;listen&quot; to the progress of a query in this way? Or some way to limit the query (ie: <code>SELECT TOP 100</code>) in a loop, picking up where the last iteration left off, until all results have been retrieved?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5145131,"reputation":5992,"user_id":4121347,"accept_rate":82,"display_name":"dryairship"},"score":4,"creation_date":1466854494,"post_id":38028039,"comment_id":63496240,"body_markdown":"use `scan.nextLine()` instead of `scan.next()`","body":"use <code>scan.nextLine()</code> instead of <code>scan.next()</code>"},{"owner":{"account_id":8649103,"reputation":305,"user_id":6475423,"display_name":"Sarthak Rana"},"score":0,"creation_date":1466855119,"post_id":38028039,"comment_id":63496421,"body_markdown":"Its not showing anything now...Plz help","body":"Its not showing anything now...Plz help"},{"owner":{"account_id":5145131,"reputation":5992,"user_id":4121347,"accept_rate":82,"display_name":"dryairship"},"score":0,"creation_date":1466855339,"post_id":38028039,"comment_id":63496500,"body_markdown":"Please see [this question](http://stackoverflow.com/q/13102045/4121347) for that.","body":"Please see <a href=\"http://stackoverflow.com/q/13102045/4121347\">this question</a> for that."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1521985138,"post_id":38028039,"comment_id":85955485,"body_markdown":"Your question does not contain the test cases. Make sure to always create a [mcve], emphasis on complete. Otherwise we can&#39;t help that much and, as you have seen, a discussion starts.","body":"Your question does not contain the test cases. Make sure to always create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, emphasis on complete. Otherwise we can&#39;t help that much and, as you have seen, a discussion starts."}],"answers":[{"tags":[],"owner":{"account_id":7015745,"reputation":535,"user_id":5377159,"display_name":"guru_001"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1466860201,"creation_date":1466854635,"answer_id":38028065,"question_id":38028039,"body_markdown":"you can use `scan.nextLine();` to read the entire line.","title":"How to input a sentence in Java","body":"<p>you can use <code>scan.nextLine();</code> to read the entire line.</p>\n"},{"tags":[],"owner":{"account_id":12180882,"reputation":368,"user_id":8892336,"display_name":"Arafat"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1578333666,"creation_date":1547091324,"answer_id":54121614,"question_id":38028039,"body_markdown":"you can try the following, it will work. \r\n\r\n \r\n\r\n    public static void main(String args[]) {    \r\n            // Create a new scanner object\r\n            Scanner scan = new Scanner(System.in); \r\n\r\n            // Scan the integer which is in the first line of the input\r\n            int i = scan.nextInt(); \r\n\r\n            // Scan the double which is on the second line\r\n            double d = scan.nextDouble(); \r\n\r\n            /* \r\n             * At this point, the scanner is still on the second line at the end\r\n             * of the double, so we need to move the scanner to the next line\r\n             * scans to the end of the previous line which contains the double. \r\n             */\r\n            scan.nextLine();    \r\n            \r\n            // reads the complete next line which contains the string sentence            \r\n            String s = scan.nextLine();    \r\n\r\n            System.out.println(&quot;String: &quot; + s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n      }","title":"How to input a sentence in Java","body":"<p>you can try the following, it will work. </p>\n\n<pre><code>public static void main(String args[]) {    \n        // Create a new scanner object\n        Scanner scan = new Scanner(System.in); \n\n        // Scan the integer which is in the first line of the input\n        int i = scan.nextInt(); \n\n        // Scan the double which is on the second line\n        double d = scan.nextDouble(); \n\n        /* \n         * At this point, the scanner is still on the second line at the end\n         * of the double, so we need to move the scanner to the next line\n         * scans to the end of the previous line which contains the double. \n         */\n        scan.nextLine();    \n\n        // reads the complete next line which contains the string sentence            \n        String s = scan.nextLine();    \n\n        System.out.println(\"String: \" + s);\n        System.out.println(\"Double: \" + d);\n        System.out.println(\"Int: \" + i);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14330274,"reputation":21,"user_id":10351176,"display_name":"Lakshan Savindu Rathnayake"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569244291,"creation_date":1569242539,"answer_id":58062713,"question_id":38028039,"body_markdown":"You should put a `scan.nextLine()` after the above integer scan and the double scan. Then use `String s = scan.nextLine()`. Like this,\r\n\r\n    int i = scan.nextInt();\r\n    scan.nextLine();\r\n    double d = scan.nextDouble();\r\n    scan.nextLine();\r\n    String s = scan.nextLine();","title":"How to input a sentence in Java","body":"<p>You should put a <code>scan.nextLine()</code> after the above integer scan and the double scan. Then use <code>String s = scan.nextLine()</code>. Like this,</p>\n\n<pre><code>int i = scan.nextInt();\nscan.nextLine();\ndouble d = scan.nextDouble();\nscan.nextLine();\nString s = scan.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4499530,"reputation":11,"user_id":3658459,"display_name":"Ankit Raghuvanshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632454487,"creation_date":1578849531,"answer_id":59706278,"question_id":38028039,"body_markdown":"Try below code, this is working code, I tried with IntelliJ and Online compilers Like Hacker Rank.\r\n```\r\n    public class Solution {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d = scan.nextDouble();\r\n            scan.nextLine();\r\n            String s = scan.nextLine();   \r\n\r\n            System.out.println(&quot;String: &quot; + s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n```\r\n","title":"How to input a sentence in Java","body":"<p>Try below code, this is working code, I tried with IntelliJ and Online compilers Like Hacker Rank.</p>\n<pre><code>    public class Solution {\n\n        public static void main(String[] args) {\n            Scanner scan = new Scanner(System.in);\n            int i = scan.nextInt();\n            double d = scan.nextDouble();\n            scan.nextLine();\n            String s = scan.nextLine();   \n\n            System.out.println(&quot;String: &quot; + s);\n            System.out.println(&quot;Double: &quot; + d);\n            System.out.println(&quot;Int: &quot; + i);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17511508,"reputation":21,"user_id":12699502,"display_name":"Dileepa Lakshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585450443,"creation_date":1585450443,"answer_id":60909626,"question_id":38028039,"body_markdown":"In your code you are using `next()` . This is use for input one **word**. \r\n\r\nYou can use `nextLine()` to input **sentence** in java.\r\n\r\nexample :\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        String s;\r\n        s=scan.nextLine();\r\n        System.out.println(&quot;String: &quot; + s);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut above code(question) you are taking three inputs. You use `nextLine()` after `nextDouble()`.\r\nIn this case `nextLine()` read input as a newline character of the **double input**.\r\nSo output String is empty. To avoid that use another `nextLine()` after the `nextDouble()`. This `nextLine()` read the newline character of the double input and next `nextLine()` read the **sentence**.\r\n\r\nSo try this out :\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int i = scan.nextInt();\r\n        double d = scan.nextDouble();\r\n        scan.nextLine();\r\n        String s = scan.nextLine();\r\n\r\n\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n}\r\n```\r\nThank You...!","title":"How to input a sentence in Java","body":"<p>In your code you are using <code>next()</code> . This is use for input one <strong>word</strong>. </p>\n\n<p>You can use <code>nextLine()</code> to input <strong>sentence</strong> in java.</p>\n\n<p>example :</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        String s;\n        s=scan.nextLine();\n        System.out.println(\"String: \" + s);\n    }\n}\n\n</code></pre>\n\n<p>But above code(question) you are taking three inputs. You use <code>nextLine()</code> after <code>nextDouble()</code>.\nIn this case <code>nextLine()</code> read input as a newline character of the <strong>double input</strong>.\nSo output String is empty. To avoid that use another <code>nextLine()</code> after the <code>nextDouble()</code>. This <code>nextLine()</code> read the newline character of the double input and next <code>nextLine()</code> read the <strong>sentence</strong>.</p>\n\n<p>So try this out :</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        scan.nextLine();\n        String s = scan.nextLine();\n\n\n        System.out.println(\"String: \" + s);\n        System.out.println(\"Double: \" + d);\n        System.out.println(\"Int: \" + i);\n    }\n}\n</code></pre>\n\n<p>Thank You...!</p>\n"},{"tags":[],"owner":{"account_id":19053591,"reputation":11,"user_id":13911257,"display_name":"Hafsa Sultana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597305995,"creation_date":1597260218,"answer_id":63383452,"question_id":38028039,"body_markdown":"    import java.util.*; \r\n    public class Solution {\r\n\r\n           public static void main(String[] args) {\r\n           Scanner scan = new Scanner(System.in);\r\n\r\n           //For input a Integer\r\n           int i = scan.nextInt(); \r\n\r\n           //For input a Double\r\n           double d = scan.nextDouble(); \r\n\r\n           //For input a String\r\n           scan.nextLine(); //For using to get the input string that was skipped of the Scanner object.(Use it when scan a string after scanning different type of  variables.)\r\n           String s = scan.nextLine();\r\n\r\n           //For print String, Double and Integer variable\r\n        \r\n           System.out.println(&quot;String: &quot; + s);\r\n           System.out.println(&quot;Double: &quot; + d);\r\n           System.out.println(&quot;Int: &quot; + i);\r\n       }\r\n    }","title":"How to input a sentence in Java","body":"<pre><code>import java.util.*; \npublic class Solution {\n\n       public static void main(String[] args) {\n       Scanner scan = new Scanner(System.in);\n\n       //For input a Integer\n       int i = scan.nextInt(); \n\n       //For input a Double\n       double d = scan.nextDouble(); \n\n       //For input a String\n       scan.nextLine(); //For using to get the input string that was skipped of the Scanner object.(Use it when scan a string after scanning different type of  variables.)\n       String s = scan.nextLine();\n\n       //For print String, Double and Integer variable\n    \n       System.out.println(&quot;String: &quot; + s);\n       System.out.println(&quot;Double: &quot; + d);\n       System.out.println(&quot;Int: &quot; + i);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19207679,"reputation":1,"user_id":14034194,"display_name":"Abhijeet Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619524497,"creation_date":1619506263,"answer_id":67278209,"question_id":38028039,"body_markdown":"```\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int i = scan.nextInt();\r\n\r\n        double d = scan.nextDouble();\r\n        scan.nextLine();\r\n        String s = scan.nextLine();\r\n\r\n        // Write your code here.\r\n\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n}\r\n```","title":"How to input a sentence in Java","body":"<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n\n        double d = scan.nextDouble();\n        scan.nextLine();\n        String s = scan.nextLine();\n\n        // Write your code here.\n\n        System.out.println(&quot;String: &quot; + s);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23878608,"reputation":1,"user_id":17879556,"display_name":"Mister Micron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643821413,"creation_date":1643821413,"answer_id":70959746,"question_id":38028039,"body_markdown":"This will work fine.\r\n```\r\npublic static void main(String[] args) {\r\n    \r\n        Scanner scan = new Scanner(System.in);\r\n        int c = scan.nextInt();\r\n        Double b = scan.nextDouble();\r\n        scan.nextLine();\r\n        String a = scan.nextLine();\r\n        System.out.println(&quot;String: &quot;+a);\r\n        System.out.println(&quot;Double: &quot;+b);\r\n        System.out.println(&quot;Int: &quot;+c);\r\n    }","title":"How to input a sentence in Java","body":"<p>This will work fine.</p>\n<pre><code>public static void main(String[] args) {\n    \n        Scanner scan = new Scanner(System.in);\n        int c = scan.nextInt();\n        Double b = scan.nextDouble();\n        scan.nextLine();\n        String a = scan.nextLine();\n        System.out.println(&quot;String: &quot;+a);\n        System.out.println(&quot;Double: &quot;+b);\n        System.out.println(&quot;Int: &quot;+c);\n    }\n</code></pre>\n"}],"owner":{"account_id":8649103,"reputation":305,"user_id":6475423,"display_name":"Sarthak Rana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42310,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":38028065,"answer_count":8,"score":14,"last_activity_date":1643821413,"creation_date":1466854440,"question_id":38028039,"body_markdown":"The code I have written takes as input just a single string and not a whole sentence and I want a whole sentence to be taken as input:\r\n``` java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int i; \r\n        i= scan.nextInt();\r\n        double d;\r\n        d=scan.nextDouble();\r\n        String s;\r\n        s=scan.next();\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n}\r\n```\r\n\r\nThe test case is &quot;Welcome to Java&quot; and it&#39;s just showing &quot;Welcome&quot; in the output. Everything else is working fine. Please help. \r\n","title":"How to input a sentence in Java","body":"<p>The code I have written takes as input just a single string and not a whole sentence and I want a whole sentence to be taken as input:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i; \n        i= scan.nextInt();\n        double d;\n        d=scan.nextDouble();\n        String s;\n        s=scan.next();\n        System.out.println(\"String: \" + s);\n        System.out.println(\"Double: \" + d);\n        System.out.println(\"Int: \" + i);\n    }\n}\n</code></pre>\n\n<p>The test case is \"Welcome to Java\" and it's just showing \"Welcome\" in the output. Everything else is working fine. Please help. </p>\n"},{"tags":["java","ubuntu","gradle"],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1467635019,"creation_date":1467635019,"answer_id":38184695,"question_id":38184232,"body_markdown":"There&#39;s multiple ways to locate where `gradle` is actually installed on your computer :\r\n\r\n - `locate` : will locate where the bin `gradle` is on your computer. Assuming, `gradle` is on your `PATH`. It will most likely locate gradle in `/usr/bin` or `/usr/share` directory. If it locates the symbolic link use either `ls -l` or `readlink` to see where the bin is actually located.\r\n - `which` : similar as `locate`\r\n - `find` : to use at end if neither `locate` neigher `which` worked. It&#39;s the &quot;brutal&quot; way. You can use `find / -name &quot;gradle&quot; 2&gt; /dev/null` to find all occurence of gradle (exact match) on your computer.","title":"Find gradle path on Ubuntu","body":"<p>There's multiple ways to locate where <code>gradle</code> is actually installed on your computer :</p>\n\n<ul>\n<li><code>locate</code> : will locate where the bin <code>gradle</code> is on your computer. Assuming, <code>gradle</code> is on your <code>PATH</code>. It will most likely locate gradle in <code>/usr/bin</code> or <code>/usr/share</code> directory. If it locates the symbolic link use either <code>ls -l</code> or <code>readlink</code> to see where the bin is actually located.</li>\n<li><code>which</code> : similar as <code>locate</code></li>\n<li><code>find</code> : to use at end if neither <code>locate</code> neigher <code>which</code> worked. It's the \"brutal\" way. You can use <code>find / -name \"gradle\" 2&gt; /dev/null</code> to find all occurence of gradle (exact match) on your computer.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11087309,"reputation":861,"user_id":8140523,"display_name":"NanoNova"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1555036567,"creation_date":1555036567,"answer_id":55643705,"question_id":38184232,"body_markdown":"`/usr/lib/gradle/default` -&gt; `/usr/lib/gradle/5.x.x`\r\nthe former is a link file targeted to actual directory which is the version you currently using.\r\n\r\napt install gradle in Ubuntu 18.10\r\n\r\n\r\n----------\r\n`which` will locate to `/usr/bin/gradle` which is gradle start up script.\r\n","title":"Find gradle path on Ubuntu","body":"<p><code>/usr/lib/gradle/default</code> -> <code>/usr/lib/gradle/5.x.x</code>\nthe former is a link file targeted to actual directory which is the version you currently using.</p>\n\n<p>apt install gradle in Ubuntu 18.10</p>\n\n<hr>\n\n<p><code>which</code> will locate to <code>/usr/bin/gradle</code> which is gradle start up script.</p>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628232517,"creation_date":1628232517,"answer_id":68677300,"question_id":38184232,"body_markdown":"in ubuntu 20+ \r\n\r\n     /home/[user]/.gradle","title":"Find gradle path on Ubuntu","body":"<p>in ubuntu 20+</p>\n<pre><code> /home/[user]/.gradle\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643821297,"creation_date":1641561850,"answer_id":70621923,"question_id":38184232,"body_markdown":"Ubuntu 20.04.3 LTS in WSL2 in Windows 10 Pro (10.0.19043 N/A Build 19043):\r\n\r\n```\r\n$ sudo apt install gradle\r\n\r\n$ which gradle\r\n/usr/bin/gradle\r\n\r\n$ readlink -f /usr/bin/gradle\r\n/usr/share/gradle/bin/gradle\r\n\r\n$ gradle --version\r\nGradle 4.4.1\r\nGroovy:       2.4.17\r\n```","title":"Find gradle path on Ubuntu","body":"<p>Ubuntu 20.04.3 LTS in WSL2 in Windows 10 Pro (10.0.19043 N/A Build 19043):</p>\n<pre><code>$ sudo apt install gradle\n\n$ which gradle\n/usr/bin/gradle\n\n$ readlink -f /usr/bin/gradle\n/usr/share/gradle/bin/gradle\n\n$ gradle --version\nGradle 4.4.1\nGroovy:       2.4.17\n</code></pre>\n"}],"owner":{"account_id":4297528,"reputation":243,"user_id":3512178,"display_name":"user3512178"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42833,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":38184695,"answer_count":4,"score":21,"last_activity_date":1643821297,"creation_date":1467633598,"question_id":38184232,"body_markdown":"\r\nI have gradle installed on my Ubuntu 15.10 System.I want to find the location where it is.  \r\nI am following [this article][1]. Here it is given that sample program can be found at `samples/java/quickstart`.  \r\nI want to open this sample program and for this I want to find location of gradle on my system, which I have downloaded from the  official gradle site, and installed using ubuntu terminal.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/tutorial_java_projects.html","title":"Find gradle path on Ubuntu","body":"<p>I have gradle installed on my Ubuntu 15.10 System.I want to find the location where it is.<br />\nI am following <a href=\"https://docs.gradle.org/current/userguide/tutorial_java_projects.html\" rel=\"nofollow noreferrer\">this article</a>. Here it is given that sample program can be found at <code>samples/java/quickstart</code>.<br />\nI want to open this sample program and for this I want to find location of gradle on my system, which I have downloaded from the  official gradle site, and installed using ubuntu terminal.</p>\n"},{"tags":["java","node.js","encryption","cryptography","cbc-mode"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1643823260,"post_id":70959675,"comment_id":125443662,"body_markdown":"In the NodeJS code a different IV is used. For converting a byte array to a `WordArray` s. [here](https://gist.github.com/artjomb/7ef1ee574a411ba0dd1933c1ef4690d1) or use a CryptoJS [encoder](https://cryptojs.gitbook.io/docs/#encoders), e.g. the `Hex` encoder. Note that a static IV is insecure as well as MD5 and a digest for key derivation.","body":"In the NodeJS code a different IV is used. For converting a byte array to a <code>WordArray</code> s. <a href=\"https://gist.github.com/artjomb/7ef1ee574a411ba0dd1933c1ef4690d1\" rel=\"nofollow noreferrer\">here</a> or use a CryptoJS <a href=\"https://cryptojs.gitbook.io/docs/#encoders\" rel=\"nofollow noreferrer\">encoder</a>, e.g. the <code>Hex</code> encoder. Note that a static IV is insecure as well as MD5 and a digest for key derivation."},{"owner":{"account_id":24134641,"reputation":41,"user_id":18101759,"display_name":"Dosank"},"score":0,"creation_date":1643829280,"post_id":70959675,"comment_id":125445970,"body_markdown":"Thanks , worked","body":"Thanks , worked"}],"owner":{"account_id":24134641,"reputation":41,"user_id":18101759,"display_name":"Dosank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643821061,"creation_date":1643821061,"question_id":70959675,"body_markdown":"I am trying to decipher an encrypted text (which is created in java) using typescript and crypto-js package but the result is malformed .\r\n\r\nExpected output: {&quot;someKey&quot;: &quot;someValue&quot;,&quot;someOtherKey&quot;:{&quot;innerKey&quot;:&quot;value&quot;}} \r\n\r\nActual output:  {#qweqsu*3(zynmiss&quot;,&quot;someOtherKey&quot;:{&quot;innerKey&quot;:&quot;value&quot;}}\r\n\r\n\r\nHere is the java code used for encryption: \r\n```\r\nSecretKeySpec keySpec = new SecretKeySpec(getMD5(painTextKey), &quot;AES&quot;); \r\nbyte[] iv = new byte[]{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}; \r\nAlgorithmParameterSpec ivSpec = new IvParameterSpec(iv); \r\nCipher encCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;); \r\nCipher decCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;); \r\n\r\nencCipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec); \r\ndecCipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec); \r\n\r\n//Encryption\r\nbyte[] ciphertext = encCipher.doFinal(plaintext.getBytes(&quot;UTF-8&quot;)); \r\nString encryptedHex = byteToHex(ciphertext); \r\n\r\n//Decryption \r\nplaintext = new String(decCipher.doFinal(hexToByte(hexCipherText)),&quot;UTF-8&quot;); \r\n```\r\n\r\nHere is my typescript implementation of the same :  \r\n\r\n```\r\nimport * as CryptoJS from &#39;crypto-js&#39;;\r\n\r\nconst SECRET = CryptoJS.MD5(&quot;45bd6682f7524e8aa7ce6c06de537a3d&quot;)\r\nconst iv = CryptoJS.lib.WordArray.create([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]);\r\n\r\n\r\nfunction encrypt(plainText){\r\n\tvar base64 = CryptoJS.AES.encrypt(plainText, SECRET, {iv: iv ,mode: CryptoJS.mode.CBC,keySize: 256}).toString();\r\n    var parsedVal = CryptoJS.enc.Base64.parse(base64);\r\n\treturn parsedVal.toString(CryptoJS.enc.Hex);\r\n}\r\n\r\nfunction decrypt(cipherText){\r\n   var parsedVal = CryptoJS.enc.Hex.parse(cipherText);\r\n   var bytesVal = parsedVal.toString(CryptoJS.enc.Base64);\r\n   var decrypt = CryptoJS.AES.decrypt(bytesVal, SECRET, {iv: iv ,mode: CryptoJS.mode.CBC,keySize: 256});\r\n   return CryptoJS.enc.Utf8.stringify(decrypt)\r\n}\r\n```\r\n\r\nPlease let me know if my implementation is right and the cause of this problem .\r\nThanks!\r\n","title":"Malformed plain text after decipher using crypto-js package in typescript for the text encrypted using Java","body":"<p>I am trying to decipher an encrypted text (which is created in java) using typescript and crypto-js package but the result is malformed .</p>\n<p>Expected output: {&quot;someKey&quot;: &quot;someValue&quot;,&quot;someOtherKey&quot;:{&quot;innerKey&quot;:&quot;value&quot;}}</p>\n<p>Actual output:  {#qweqsu*3(zynmiss&quot;,&quot;someOtherKey&quot;:{&quot;innerKey&quot;:&quot;value&quot;}}</p>\n<p>Here is the java code used for encryption:</p>\n<pre><code>SecretKeySpec keySpec = new SecretKeySpec(getMD5(painTextKey), &quot;AES&quot;); \nbyte[] iv = new byte[]{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}; \nAlgorithmParameterSpec ivSpec = new IvParameterSpec(iv); \nCipher encCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;); \nCipher decCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;); \n\nencCipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec); \ndecCipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec); \n\n//Encryption\nbyte[] ciphertext = encCipher.doFinal(plaintext.getBytes(&quot;UTF-8&quot;)); \nString encryptedHex = byteToHex(ciphertext); \n\n//Decryption \nplaintext = new String(decCipher.doFinal(hexToByte(hexCipherText)),&quot;UTF-8&quot;); \n</code></pre>\n<p>Here is my typescript implementation of the same :</p>\n<pre><code>import * as CryptoJS from 'crypto-js';\n\nconst SECRET = CryptoJS.MD5(&quot;45bd6682f7524e8aa7ce6c06de537a3d&quot;)\nconst iv = CryptoJS.lib.WordArray.create([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]);\n\n\nfunction encrypt(plainText){\n    var base64 = CryptoJS.AES.encrypt(plainText, SECRET, {iv: iv ,mode: CryptoJS.mode.CBC,keySize: 256}).toString();\n    var parsedVal = CryptoJS.enc.Base64.parse(base64);\n    return parsedVal.toString(CryptoJS.enc.Hex);\n}\n\nfunction decrypt(cipherText){\n   var parsedVal = CryptoJS.enc.Hex.parse(cipherText);\n   var bytesVal = parsedVal.toString(CryptoJS.enc.Base64);\n   var decrypt = CryptoJS.AES.decrypt(bytesVal, SECRET, {iv: iv ,mode: CryptoJS.mode.CBC,keySize: 256});\n   return CryptoJS.enc.Utf8.stringify(decrypt)\n}\n</code></pre>\n<p>Please let me know if my implementation is right and the cause of this problem .\nThanks!</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":2676787,"reputation":1076,"user_id":2352196,"accept_rate":67,"display_name":"Bojan Trajkovski"},"score":2,"creation_date":1643821305,"post_id":70959365,"comment_id":125442841,"body_markdown":"In case there is no out-of-the-box API from AWS S3, one option would always be to use multi threading in Java to download files. Example with `parallelStream`.","body":"In case there is no out-of-the-box API from AWS S3, one option would always be to use multi threading in Java to download files. Example with <code>parallelStream</code>."},{"owner":{"account_id":10568655,"reputation":337,"user_id":7786149,"display_name":"Joe"},"score":0,"creation_date":1643981330,"post_id":70959365,"comment_id":125489751,"body_markdown":"@BojanTrajkovski I was hoping to avoid streams as my application already has a lot of threads &amp; streams, but it seems like it is the only way forward. happy to accept your answer for now. Couldn&#39;t finding anything myself","body":"@BojanTrajkovski I was hoping to avoid streams as my application already has a lot of threads &amp; streams, but it seems like it is the only way forward. happy to accept your answer for now. Couldn&#39;t finding anything myself"},{"owner":{"account_id":10568655,"reputation":337,"user_id":7786149,"display_name":"Joe"},"score":0,"creation_date":1648725649,"post_id":70959365,"comment_id":126700360,"body_markdown":"Update: if you are using Spring framework, I would advise using @Async instead as parallelStream have certain drawbacks and was a bit of a nightmare to deal with for me. A good guide on how to implement this can be found here: https://spring.io/guides/gs/async-method/. The custom executor is nice but you may want to check out this resource to see if you need one: https://www.oodlestechnologies.com/blogs/ThreadPoolTaskExecutor-Configuration-with-Spring-Boot/","body":"Update: if you are using Spring framework, I would advise using @Async instead as parallelStream have certain drawbacks and was a bit of a nightmare to deal with for me. A good guide on how to implement this can be found here: <a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/async-method</a>. The custom executor is nice but you may want to check out this resource to see if you need one: <a href=\"https://www.oodlestechnologies.com/blogs/ThreadPoolTaskExecutor-Configuration-with-Spring-Boot/\" rel=\"nofollow noreferrer\">oodlestechnologies.com/blogs/&hellip;</a>"},{"owner":{"account_id":10568655,"reputation":337,"user_id":7786149,"display_name":"Joe"},"score":0,"creation_date":1648725739,"post_id":70959365,"comment_id":126700393,"body_markdown":"Additionally you can use reactive programming (but that may be a bit overkill and probably would require to change your app a bit if you already have a set up). Subject to your use case. A great set of videos about it: https://www.youtube.com/watch?v=IK26KdGRl48&amp;list=PLnXn1AViWyL70R5GuXt_nIDZytYBnvBdd&amp;index=1","body":"Additionally you can use reactive programming (but that may be a bit overkill and probably would require to change your app a bit if you already have a set up). Subject to your use case. A great set of videos about it: <a href=\"https://www.youtube.com/watch?v=IK26KdGRl48&amp;list=PLnXn1AViWyL70R5GuXt_nIDZytYBnvBdd&amp;index=1\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"}],"owner":{"account_id":10568655,"reputation":337,"user_id":7786149,"display_name":"Joe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643820871,"creation_date":1643819847,"question_id":70959365,"body_markdown":"I have a java application that works with files stored in a s3 bucket. At times I need to download multiple files for my application to do work. Currently I have a simple for loop for this job as bellow:\r\n\r\n    private List&lt;JSONObject&gt; getFilesFromS3(List&lt;String&gt; filenames) throws IOException {\r\n        List&lt;JSONObject&gt; output = new ArrayList&lt;&gt;();\r\n        for(String item : filenames) {\r\n            S3Object s3Object = s3Service.getFile(item);\r\n            S3ObjectInputStream is = s3Object.getObjectContent();\r\n            String str = new String(is.readAllBytes());\r\n            output.add(XML.toJSONObject(str));\r\n        }\r\n        return output;\r\n    }\r\n\r\nAs you can imagine for a few files it is manageable. But for 10,20,30 files that would make an app rather slow. I wonder if there is some s3 lib or method that can speed this up?\r\n\r\nI found [TransferManager][1] which almost does what I need - unfortunately it only offers to download the entire directory, which is not an option seeing as my s3 bucket has ~50k files. Downloading 50k files to find specific 10 seems not worth it.\r\n\r\nSo what else can I try? I have encountered methods like ```.listobjects()``` before but they all would require some sort of a loop so I assume they can&#39;t help me here.\r\n\r\nIs there something else that I missed, or simply what I want cannot be done/ has not been invented yet? I effectively would like something that would produce a list of S3Objects (which as you can see I would then make into a list of JSONObject items)\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/examples-s3-transfermanager.html","title":"How to optimally download a list of files from s3","body":"<p>I have a java application that works with files stored in a s3 bucket. At times I need to download multiple files for my application to do work. Currently I have a simple for loop for this job as bellow:</p>\n<pre><code>private List&lt;JSONObject&gt; getFilesFromS3(List&lt;String&gt; filenames) throws IOException {\n    List&lt;JSONObject&gt; output = new ArrayList&lt;&gt;();\n    for(String item : filenames) {\n        S3Object s3Object = s3Service.getFile(item);\n        S3ObjectInputStream is = s3Object.getObjectContent();\n        String str = new String(is.readAllBytes());\n        output.add(XML.toJSONObject(str));\n    }\n    return output;\n}\n</code></pre>\n<p>As you can imagine for a few files it is manageable. But for 10,20,30 files that would make an app rather slow. I wonder if there is some s3 lib or method that can speed this up?</p>\n<p>I found <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/examples-s3-transfermanager.html\" rel=\"nofollow noreferrer\">TransferManager</a> which almost does what I need - unfortunately it only offers to download the entire directory, which is not an option seeing as my s3 bucket has ~50k files. Downloading 50k files to find specific 10 seems not worth it.</p>\n<p>So what else can I try? I have encountered methods like <code>.listobjects()</code> before but they all would require some sort of a loop so I assume they can't help me here.</p>\n<p>Is there something else that I missed, or simply what I want cannot be done/ has not been invented yet? I effectively would like something that would produce a list of S3Objects (which as you can see I would then make into a list of JSONObject items)</p>\n"},{"tags":["java","spring","spring-boot","oracle10g","java-stored-procedures"],"comments":[{"owner":{"account_id":403862,"reputation":1278,"user_id":771861,"accept_rate":82,"display_name":"haju"},"score":1,"creation_date":1643732197,"post_id":66711275,"comment_id":125415179,"body_markdown":"Did you find a solution to this?","body":"Did you find a solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":12867824,"reputation":538,"user_id":9310852,"display_name":"63RMAN"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643820633,"creation_date":1643820633,"answer_id":70959567,"question_id":66711275,"body_markdown":"I fixed by adding @Transactional to the method that performs the call to repository. like [@Parawata][1] comments in [this answer][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/17551704/parawata\r\n  [2]: https://stackoverflow.com/a/70169083/9310852","title":"Spring Boot invalidDataAccessApiUsageException - OUT/INOUT Parameter is not available","body":"<p>I fixed by adding @Transactional to the method that performs the call to repository. like <a href=\"https://stackoverflow.com/users/17551704/parawata\">@Parawata</a> comments in <a href=\"https://stackoverflow.com/a/70169083/9310852\">this answer</a></p>\n"}],"owner":{"account_id":19863303,"reputation":43,"user_id":14551209,"display_name":"Daniel Fern&#225;ndez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643820633,"creation_date":1616168447,"question_id":66711275,"body_markdown":"i&#39;m using an Oracle stored procedure in Spring Boot which has some IN/OUT parameters.\r\n\r\nWhen i&#39;m getting an out parameter it throws an exception `invalidDataAccessApiUsageException: OUT/INOUT Parameter is not available: ent_mensaje.`\r\n\r\nThis is the stored procedure definition\r\n```\r\ncreate or replace PROCEDURE     fon_anula_programacion (\r\n   ent_numero_operacion   IN       NUMBER,\r\n   ent_numero_fisico      IN       VARCHAR2,\r\n   ent_mensaje            IN OUT   VARCHAR2,\r\n   ent_canal_origen       IN OUT   VARCHAR2,\r\n   ent_senal_proceso      IN OUT   VARCHAR2,\r\n   ent_senal_commit       IN OUT   VARCHAR2,\r\n   ent_sw_pos             IN OUT   NUMBER\r\n) IS\r\n...\r\n```\r\nEntity class whit its @NamedStoredProcedureQuery\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@NoArgsConstructor\r\n@NamedStoredProcedureQueries({\r\n        @NamedStoredProcedureQuery(name = &quot;Valores.AnularAdicionFondoSif&quot;,\r\n                procedureName = &quot;FON.FON_ANULA_PROGRAMACION&quot;,\r\n                resultClasses = DTOAnularAdicionSIF.class,\r\n                parameters = {\r\n                        @StoredProcedureParameter(name = &quot;ent_numero_operacion&quot;, type = BigDecimal.class, mode = ParameterMode.IN),\r\n                        @StoredProcedureParameter(name = &quot;ent_numero_fisico&quot;, type = String.class, mode = ParameterMode.IN),\r\n                        @StoredProcedureParameter(name = &quot;ent_mensaje&quot;, type = String.class, mode = ParameterMode.INOUT),\r\n                        @StoredProcedureParameter(name = &quot;ent_canal_origen&quot;, type = String.class, mode = ParameterMode.INOUT),\r\n                        @StoredProcedureParameter(name = &quot;ent_senal_proceso&quot;, type = String.class, mode = ParameterMode.INOUT),\r\n                        @StoredProcedureParameter(name = &quot;ent_senal_commit&quot;, type = String.class, mode = ParameterMode.INOUT),\r\n                        @StoredProcedureParameter(name = &quot;ent_sw_pos&quot;, type = BigDecimal.class, mode = ParameterMode.INOUT)\r\n                }\r\n        )\r\n})\r\npublic class DTOAnularAdicionSIF {\r\n    @Id\r\n    @Column\r\n    private BigDecimal Numero_operacion;\r\n    @Column\r\n    private String Numero_fisico;\r\n    @Column\r\n    private String Mensaje;\r\n    @Column\r\n    private String Canal_origen;\r\n    @Column\r\n    private String Senal_proceso;\r\n    @Column\r\n    private String Senal_commit;\r\n    @Column\r\n    private BigDecimal Sw_pos;\r\n}\r\n```\r\nMy Params class\r\n```\r\npublic class AnularAdicionSIFParameters {\r\n    @Params(name = &quot;ent_numero_operacion&quot;,direction = Params.Direction.IN)\r\n    private BigDecimal Numero_operacion;\r\n\r\n    @Params(name = &quot;ent_numero_fisico&quot;,direction = Params.Direction.IN)\r\n    private String Numero_fisico;\r\n\r\n    @Params(name = &quot;ent_mensaje&quot;,direction = Params.Direction.INOUT)\r\n    private String Mensaje;\r\n\r\n    @Params(name = &quot;ent_canal_origen&quot;,direction = Params.Direction.INOUT)\r\n    private String Canal_origen;\r\n\r\n    @Params(name = &quot;ent_senal_proceso&quot;,direction = Params.Direction.INOUT)\r\n    private String Senal_proceso;\r\n\r\n    @Params(name = &quot;ent_senal_commit&quot;,direction = Params.Direction.INOUT)\r\n    private String Senal_commit;\r\n\r\n    @Params(name = &quot;ent_sw_pos&quot;,direction = Params.Direction.INOUT)\r\n    private BigDecimal Sw_pos;\r\n}\r\n```\r\nSending parameters\r\n```\r\nAnularAdicionSIFParameters anularAdicionSIFParameters = AnularAdicionSIFParameters.builder()\r\n.Numero_operacion(BigDecimal.valueOf(Double.parseDouble(comprobante)))\r\n                .Numero_fisico(numerofisico)\r\n                .Senal_commit(&quot;S&quot;)\r\n                .Canal_origen(canal)\r\n                .Senal_proceso(&quot;S&quot;)\r\n                .Mensaje(&quot;&quot;)\r\n                .Sw_pos(BigDecimal.valueOf(0))\r\n                .build();\r\nString response = repository.AnularAdicionReturnMensaje(anularAdicionSIFParameters);\r\n```\r\nRepository method\r\n```\r\npublic String AnularAdicionReturnMensaje(AnularAdicionSIFParameters parameters) throws IllegalAccessException{\r\n        String name_procedure = &quot;Valores.AnularAdicionFondoSif&quot;;\r\n//super is the class who set the parameters and execute the procedure\r\n        ResponseProcedure&lt;AnularAdicionSIF&gt; respuestaSif = super.runNamedStoredProcedure(name_procedure,parameters);\r\n        return respuestaSif.getOutput().get(&quot;ent_mensaje&quot;).toString();\r\n    }\r\n```\r\nSetting the parameters and executing the procedure\r\n```\r\npublic ResponseProcedure&lt;E&gt; runNamedStoredProcedure(String nameProcedure, Object params) throws IllegalAccessException {\r\n        StoredProcedureQuery storedProcedureQuery = em.createNamedStoredProcedureQuery(nameProcedure);\r\n        Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\r\n\r\n        Class&lt;?&gt; objectClass = params.getClass();\r\n\r\n        Field[] extend = objectClass.getSuperclass().getDeclaredFields();\r\n        Field[] base = objectClass.getDeclaredFields();\r\n        Field[] allFields = new Field[extend.length + base.length];\r\n        Arrays.setAll(allFields, i -&gt;\r\n                (i &lt; extend.length ? extend[i] : base[i - extend.length]));\r\n\r\n\r\n        for (Field field: allFields) {\r\n            field.setAccessible(true);\r\n            if (field.isAnnotationPresent(Params.class)) {\r\n                Params param = field.getAnnotation(Params.class);\r\n                if(param.direction() == Params.Direction.IN || param.direction() == Params.Direction.INOUT)\r\n                    storedProcedureQuery.setParameter(param.name(), (field.get(params) != null ) ? field.get(params) : &quot;&quot;);\r\n            }\r\n        }\r\n\r\n        storedProcedureQuery.execute();\r\n\r\n        Arrays.stream(allFields).filter(field -&gt; (field.getAnnotation(Params.class).direction() == Params.Direction.OUT || field.getAnnotation(Params.class).direction() == Params.Direction.INOUT))\r\n                .forEach(ff -&gt;{\r\n                    Params param = ff.getAnnotation(Params.class);\r\n                    output.put(param.name(), storedProcedureQuery.getOutputParameterValue(param.name()));\r\n                });\r\n\r\n        return new ResponseProcedure&lt;E&gt;(toList(storedProcedureQuery.getResultList()), output);\r\n    }\r\n```\r\nAnd the error: `OUT/INOUT parameter not available: ent_mensaje; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: ent_mensaje`","title":"Spring Boot invalidDataAccessApiUsageException - OUT/INOUT Parameter is not available","body":"<p>i'm using an Oracle stored procedure in Spring Boot which has some IN/OUT parameters.</p>\n<p>When i'm getting an out parameter it throws an exception <code>invalidDataAccessApiUsageException: OUT/INOUT Parameter is not available: ent_mensaje.</code></p>\n<p>This is the stored procedure definition</p>\n<pre><code>create or replace PROCEDURE     fon_anula_programacion (\n   ent_numero_operacion   IN       NUMBER,\n   ent_numero_fisico      IN       VARCHAR2,\n   ent_mensaje            IN OUT   VARCHAR2,\n   ent_canal_origen       IN OUT   VARCHAR2,\n   ent_senal_proceso      IN OUT   VARCHAR2,\n   ent_senal_commit       IN OUT   VARCHAR2,\n   ent_sw_pos             IN OUT   NUMBER\n) IS\n...\n</code></pre>\n<p>Entity class whit its @NamedStoredProcedureQuery</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@NamedStoredProcedureQueries({\n        @NamedStoredProcedureQuery(name = &quot;Valores.AnularAdicionFondoSif&quot;,\n                procedureName = &quot;FON.FON_ANULA_PROGRAMACION&quot;,\n                resultClasses = DTOAnularAdicionSIF.class,\n                parameters = {\n                        @StoredProcedureParameter(name = &quot;ent_numero_operacion&quot;, type = BigDecimal.class, mode = ParameterMode.IN),\n                        @StoredProcedureParameter(name = &quot;ent_numero_fisico&quot;, type = String.class, mode = ParameterMode.IN),\n                        @StoredProcedureParameter(name = &quot;ent_mensaje&quot;, type = String.class, mode = ParameterMode.INOUT),\n                        @StoredProcedureParameter(name = &quot;ent_canal_origen&quot;, type = String.class, mode = ParameterMode.INOUT),\n                        @StoredProcedureParameter(name = &quot;ent_senal_proceso&quot;, type = String.class, mode = ParameterMode.INOUT),\n                        @StoredProcedureParameter(name = &quot;ent_senal_commit&quot;, type = String.class, mode = ParameterMode.INOUT),\n                        @StoredProcedureParameter(name = &quot;ent_sw_pos&quot;, type = BigDecimal.class, mode = ParameterMode.INOUT)\n                }\n        )\n})\npublic class DTOAnularAdicionSIF {\n    @Id\n    @Column\n    private BigDecimal Numero_operacion;\n    @Column\n    private String Numero_fisico;\n    @Column\n    private String Mensaje;\n    @Column\n    private String Canal_origen;\n    @Column\n    private String Senal_proceso;\n    @Column\n    private String Senal_commit;\n    @Column\n    private BigDecimal Sw_pos;\n}\n</code></pre>\n<p>My Params class</p>\n<pre><code>public class AnularAdicionSIFParameters {\n    @Params(name = &quot;ent_numero_operacion&quot;,direction = Params.Direction.IN)\n    private BigDecimal Numero_operacion;\n\n    @Params(name = &quot;ent_numero_fisico&quot;,direction = Params.Direction.IN)\n    private String Numero_fisico;\n\n    @Params(name = &quot;ent_mensaje&quot;,direction = Params.Direction.INOUT)\n    private String Mensaje;\n\n    @Params(name = &quot;ent_canal_origen&quot;,direction = Params.Direction.INOUT)\n    private String Canal_origen;\n\n    @Params(name = &quot;ent_senal_proceso&quot;,direction = Params.Direction.INOUT)\n    private String Senal_proceso;\n\n    @Params(name = &quot;ent_senal_commit&quot;,direction = Params.Direction.INOUT)\n    private String Senal_commit;\n\n    @Params(name = &quot;ent_sw_pos&quot;,direction = Params.Direction.INOUT)\n    private BigDecimal Sw_pos;\n}\n</code></pre>\n<p>Sending parameters</p>\n<pre><code>AnularAdicionSIFParameters anularAdicionSIFParameters = AnularAdicionSIFParameters.builder()\n.Numero_operacion(BigDecimal.valueOf(Double.parseDouble(comprobante)))\n                .Numero_fisico(numerofisico)\n                .Senal_commit(&quot;S&quot;)\n                .Canal_origen(canal)\n                .Senal_proceso(&quot;S&quot;)\n                .Mensaje(&quot;&quot;)\n                .Sw_pos(BigDecimal.valueOf(0))\n                .build();\nString response = repository.AnularAdicionReturnMensaje(anularAdicionSIFParameters);\n</code></pre>\n<p>Repository method</p>\n<pre><code>public String AnularAdicionReturnMensaje(AnularAdicionSIFParameters parameters) throws IllegalAccessException{\n        String name_procedure = &quot;Valores.AnularAdicionFondoSif&quot;;\n//super is the class who set the parameters and execute the procedure\n        ResponseProcedure&lt;AnularAdicionSIF&gt; respuestaSif = super.runNamedStoredProcedure(name_procedure,parameters);\n        return respuestaSif.getOutput().get(&quot;ent_mensaje&quot;).toString();\n    }\n</code></pre>\n<p>Setting the parameters and executing the procedure</p>\n<pre><code>public ResponseProcedure&lt;E&gt; runNamedStoredProcedure(String nameProcedure, Object params) throws IllegalAccessException {\n        StoredProcedureQuery storedProcedureQuery = em.createNamedStoredProcedureQuery(nameProcedure);\n        Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\n\n        Class&lt;?&gt; objectClass = params.getClass();\n\n        Field[] extend = objectClass.getSuperclass().getDeclaredFields();\n        Field[] base = objectClass.getDeclaredFields();\n        Field[] allFields = new Field[extend.length + base.length];\n        Arrays.setAll(allFields, i -&gt;\n                (i &lt; extend.length ? extend[i] : base[i - extend.length]));\n\n\n        for (Field field: allFields) {\n            field.setAccessible(true);\n            if (field.isAnnotationPresent(Params.class)) {\n                Params param = field.getAnnotation(Params.class);\n                if(param.direction() == Params.Direction.IN || param.direction() == Params.Direction.INOUT)\n                    storedProcedureQuery.setParameter(param.name(), (field.get(params) != null ) ? field.get(params) : &quot;&quot;);\n            }\n        }\n\n        storedProcedureQuery.execute();\n\n        Arrays.stream(allFields).filter(field -&gt; (field.getAnnotation(Params.class).direction() == Params.Direction.OUT || field.getAnnotation(Params.class).direction() == Params.Direction.INOUT))\n                .forEach(ff -&gt;{\n                    Params param = ff.getAnnotation(Params.class);\n                    output.put(param.name(), storedProcedureQuery.getOutputParameterValue(param.name()));\n                });\n\n        return new ResponseProcedure&lt;E&gt;(toList(storedProcedureQuery.getResultList()), output);\n    }\n</code></pre>\n<p>And the error: <code>OUT/INOUT parameter not available: ent_mensaje; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: ent_mensaje</code></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643820638,"post_id":70959504,"comment_id":125442549,"body_markdown":"If all items of type `T` are sortable, just sort the list and pick the first two elements.","body":"If all items of type <code>T</code> are sortable, just sort the list and pick the first two elements."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643821226,"post_id":70959504,"comment_id":125442811,"body_markdown":"I just ran your code with a list of integers and it worked.","body":"I just ran your code with a list of integers and it worked."},{"owner":{"account_id":23459604,"reputation":55,"user_id":17514621,"display_name":"reconov"},"score":1,"creation_date":1644788261,"post_id":70959504,"comment_id":125693121,"body_markdown":"I followed your first comment and did it in another way, `list.stream().distinct().sorted().limit(2).collect(Collectors.toList()).get(1);`\n\ninstead of picking the the element out of a list, one could also skip by using `skip` while streaming","body":"I followed your first comment and did it in another way, <code>list.stream().distinct().sorted().limit(2).collect(Collector&zwnj;&#8203;s.toList()).get(1);</code>  instead of picking the the element out of a list, one could also skip by using <code>skip</code> while streaming"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644813070,"post_id":70959504,"comment_id":125696700,"body_markdown":"The important thing here is that you figured it out. Good job! I&#39;m glad I was able to help you do that.","body":"The important thing here is that you figured it out. Good job! I&#39;m glad I was able to help you do that."}],"owner":{"account_id":23459604,"reputation":55,"user_id":17514621,"display_name":"reconov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643820401,"creation_date":1643820401,"question_id":70959504,"body_markdown":"    public static &lt;T extends Comparable&lt;T&gt;&gt; T secondSmallestGeneric(List&lt;T&gt; list) {\r\n    \t\tT smallest = list.get(0);  // ** buggy\r\n    \t\tT secondSmallest = null;\r\n    \t\tfor(T each : list) {\r\n    \t\t\tif(each.compareTo(smallest) &lt; 0) {\r\n    \t\t\t\tsecondSmallest = smallest;\r\n    \t\t\t\tsmallest = each;\r\n    \t\t\t}else if(secondSmallest != null &amp;&amp; each.compareTo(secondSmallest) &lt; 0) {\r\n    \t\t\t\tsecondSmallest = each;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif(secondSmallest != null)\r\n    \t\t\treturn secondSmallest;\r\n    \t\treturn null;\r\n    \t}\r\nIssue: If the fist entry in the list contains the least.\r\nIn the case of Comparing numbers, I used Integer.MAX_VALUE; to set an upper bound.\r\nBut here, I am working with custom classes.","title":"How to set upper limit in Generics comparison","body":"<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T secondSmallestGeneric(List&lt;T&gt; list) {\n        T smallest = list.get(0);  // ** buggy\n        T secondSmallest = null;\n        for(T each : list) {\n            if(each.compareTo(smallest) &lt; 0) {\n                secondSmallest = smallest;\n                smallest = each;\n            }else if(secondSmallest != null &amp;&amp; each.compareTo(secondSmallest) &lt; 0) {\n                secondSmallest = each;\n            }\n        }\n        if(secondSmallest != null)\n            return secondSmallest;\n        return null;\n    }\n</code></pre>\n<p>Issue: If the fist entry in the list contains the least.\nIn the case of Comparing numbers, I used Integer.MAX_VALUE; to set an upper bound.\nBut here, I am working with custom classes.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643819589,"creation_date":1643819589,"answer_id":70959300,"question_id":70959267,"body_markdown":"You should have a class that&#39;s annotated with `@Configuration` (a new one or an existing one). In that class, add a method that returns an instance of `ABC` and annotate that method with `@Bean`. This will turn the return value into a Spring bean that you can then inject anywhere.","title":"How to inject an interface non managed by spring into a spring component","body":"<p>You should have a class that's annotated with <code>@Configuration</code> (a new one or an existing one). In that class, add a method that returns an instance of <code>ABC</code> and annotate that method with <code>@Bean</code>. This will turn the return value into a Spring bean that you can then inject anywhere.</p>\n"}],"owner":{"account_id":7704217,"reputation":15,"user_id":5835642,"display_name":"Bharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70959300,"answer_count":1,"score":1,"last_activity_date":1643819589,"creation_date":1643819460,"question_id":70959267,"body_markdown":"im relatively new to spring framework and facing a challenge currently. \r\n\r\nI have an interface ABC from an external library with me and a class BCD.\r\nNow, i need to use ABC in my class. But when i autowire it, it always comes as null and throws NPE. ABC is not annotated.\r\n\r\n```\r\nConstructor in BCD required a bean of type ABC that could not be found.\r\n```\r\n\r\nPlease let me know if this is something that is poosible with spring &amp; guide me in the right direction!!\r\n\r\nNote - This is not inject spring bean in non-spring managed bean but the other way around.\r\nABC is not managed by spring and BCD is a @Component class.\r\n\r\nThanks in Advance!!\r\n\r\n```\r\nimport SampleInterface from from a maven dependency\r\n\r\n@Component\r\npublic class ABC {\r\n    \r\n    @Autowire\r\n    private SampleInterface SI;\r\n\r\n    // Do my stuff\r\n}\r\n```","title":"How to inject an interface non managed by spring into a spring component","body":"<p>im relatively new to spring framework and facing a challenge currently.</p>\n<p>I have an interface ABC from an external library with me and a class BCD.\nNow, i need to use ABC in my class. But when i autowire it, it always comes as null and throws NPE. ABC is not annotated.</p>\n<pre><code>Constructor in BCD required a bean of type ABC that could not be found.\n</code></pre>\n<p>Please let me know if this is something that is poosible with spring &amp; guide me in the right direction!!</p>\n<p>Note - This is not inject spring bean in non-spring managed bean but the other way around.\nABC is not managed by spring and BCD is a @Component class.</p>\n<p>Thanks in Advance!!</p>\n<pre><code>import SampleInterface from from a maven dependency\n\n@Component\npublic class ABC {\n    \n    @Autowire\n    private SampleInterface SI;\n\n    // Do my stuff\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":12836302,"reputation":2160,"user_id":9285802,"display_name":"Sukhpal Singh"},"score":1,"creation_date":1546957946,"post_id":54093777,"comment_id":95019929,"body_markdown":"I don&#39;t think that&#39;s possible. Can&#39;t you use `TaskExecutorBuilder` to build default configuration and mark it as `@Primary` and define yours also?","body":"I don&#39;t think that&#39;s possible. Can&#39;t you use <code>TaskExecutorBuilder</code> to build default configuration and mark it as <code>@Primary</code> and define yours also?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1546958034,"post_id":54093777,"comment_id":95019972,"body_markdown":"That would indeed be an option.","body":"That would indeed be an option."},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1546959826,"post_id":54093777,"comment_id":95021157,"body_markdown":"why didn&#39;t you put @Configuration on TaskExecutionAutoConfiguration?","body":"why didn&#39;t you put @Configuration on TaskExecutionAutoConfiguration?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547131260,"creation_date":1546962788,"answer_id":54095327,"question_id":54093777,"body_markdown":"The executor bean in `TaskExecutionAutoConfiguration` will only be created if no other executor beans exist (due to `@ConditionalOnMissingBean(Executor.class)`) at the moment when processing that auto-configuration . So , in order to create both of our executor and the one defined in `TaskExecutionAutoConfiguration` , we need to make sure our bean is processed after `TaskExecutionAutoConfiguration`\r\n\r\nAccording to [docs][1] , if we make our bean to be the auto-configuration candidates (which requires adding the `@Configuration` class in `META-INF/spring.factories`),  we can then use `@AutoConfigureAfter` to configure it to be processed after `TaskExecutionAutoConfiguration` :\r\n    \r\n    package foo.bar.baz.qux;\r\n\r\n    @Configuration\r\n    @AutoConfigureAfter(TaskExecutionAutoConfiguration.class)\r\n    public class Config {\r\n    \t@Bean\r\n    \tpublic ThreadPoolExecutor myRequestPool() {\r\n    \t\treturn (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n    \t}\r\n    }\r\n\r\nThen create `META-INF/spring.factories` which contains :\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n      foo.bar.baz.qux.Config\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html#boot-features-locating-auto-configuration-candidates","title":"How to create additional TaskExecutor beside TaskExecutionAutoConfiguration?","body":"<p>The executor bean in <code>TaskExecutionAutoConfiguration</code> will only be created if no other executor beans exist (due to <code>@ConditionalOnMissingBean(Executor.class)</code>) at the moment when processing that auto-configuration . So , in order to create both of our executor and the one defined in <code>TaskExecutionAutoConfiguration</code> , we need to make sure our bean is processed after <code>TaskExecutionAutoConfiguration</code></p>\n\n<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html#boot-features-locating-auto-configuration-candidates\" rel=\"nofollow noreferrer\">docs</a> , if we make our bean to be the auto-configuration candidates (which requires adding the <code>@Configuration</code> class in <code>META-INF/spring.factories</code>),  we can then use <code>@AutoConfigureAfter</code> to configure it to be processed after <code>TaskExecutionAutoConfiguration</code> :</p>\n\n<pre><code>package foo.bar.baz.qux;\n\n@Configuration\n@AutoConfigureAfter(TaskExecutionAutoConfiguration.class)\npublic class Config {\n    @Bean\n    public ThreadPoolExecutor myRequestPool() {\n        return (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n    }\n}\n</code></pre>\n\n<p>Then create <code>META-INF/spring.factories</code> which contains :</p>\n\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  foo.bar.baz.qux.Config\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643819406,"creation_date":1643819406,"answer_id":70959251,"question_id":54093777,"body_markdown":"Important: Without the following &quot;hack&quot;, Springs default behavior here is to simply hard **replace** the default executor with your custom one. And as a result, also execute any normal `@Async` methods with your custom executor. This may mostly have undesired results.\r\n\r\nThe solution is to provide the default `applicationTaskExecutor` explicit, like in `TaskExecutionAutoConfiguration`. But without the `@ConditionalOnMissingBean` annotation, as follows:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \t@Lazy\r\n    \t@Bean(name = { TaskExecutionAutoConfiguration.APPLICATION_TASK_EXECUTOR_BEAN_NAME,\r\n    \t\t\tAsyncAnnotationBeanPostProcessor.DEFAULT_TASK_EXECUTOR_BEAN_NAME })\r\n    \tpublic ThreadPoolTaskExecutor applicationTaskExecutor(TaskExecutorBuilder builder) {\r\n    \t\treturn builder.build();\r\n    \t}\r\n    }\r\n\r\nThis way, the default executor is always loaded, and additional custom executors can be added to the application without replacing it (which is the default behavior).\r\n\r\nAs a result, all `@Async` methods will still execute with the default `applicationTaskExecutor`, and all `@Async(&quot;customExecutor&quot;)` will use your custom one.\r\n\r\n","title":"How to create additional TaskExecutor beside TaskExecutionAutoConfiguration?","body":"<p>Important: Without the following &quot;hack&quot;, Springs default behavior here is to simply hard <strong>replace</strong> the default executor with your custom one. And as a result, also execute any normal <code>@Async</code> methods with your custom executor. This may mostly have undesired results.</p>\n<p>The solution is to provide the default <code>applicationTaskExecutor</code> explicit, like in <code>TaskExecutionAutoConfiguration</code>. But without the <code>@ConditionalOnMissingBean</code> annotation, as follows:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n    @Lazy\n    @Bean(name = { TaskExecutionAutoConfiguration.APPLICATION_TASK_EXECUTOR_BEAN_NAME,\n            AsyncAnnotationBeanPostProcessor.DEFAULT_TASK_EXECUTOR_BEAN_NAME })\n    public ThreadPoolTaskExecutor applicationTaskExecutor(TaskExecutorBuilder builder) {\n        return builder.build();\n    }\n}\n</code></pre>\n<p>This way, the default executor is always loaded, and additional custom executors can be added to the application without replacing it (which is the default behavior).</p>\n<p>As a result, all <code>@Async</code> methods will still execute with the default <code>applicationTaskExecutor</code>, and all <code>@Async(&quot;customExecutor&quot;)</code> will use your custom one.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3663,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70959251,"answer_count":2,"score":4,"last_activity_date":1643819406,"creation_date":1546957223,"question_id":54093777,"body_markdown":"I want spring to load the default `ThreadPoolTaskExecutor` from `TaskExecutionAutoConfiguration`. Though I want to provide may own additional executor for some explicit side-tasks:\r\n\r\n\t@Bean\r\n\tpublic ThreadPoolExecutor myRequestPool() {\r\n\t\treturn (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\r\n\t}\r\n\r\nProblem: adding the bean above, the `TaskExecutionAutoConfiguration` will not be executed anymore, and the spring-default executor will not be initialized, because `@ConditionalOnMissingBean(Executor.class)` does not match anymore:\r\n\r\n    package org.springframework.boot.autoconfigure.task;\r\n\r\n    public class TaskExecutionAutoConfiguration {\r\n    \r\n    \t@Lazy\r\n    \t@Bean(name = APPLICATION_TASK_EXECUTOR_BEAN_NAME)\r\n    \t@ConditionalOnMissingBean(Executor.class)\r\n    \tpublic ThreadPoolTaskExecutor applicationTaskExecutor(TaskExecutorBuilder builder) {\r\n    \t\treturn builder.build();\r\n    \t}\r\n\r\nQuestion: how can I still let spring create both beans?\r\n","title":"How to create additional TaskExecutor beside TaskExecutionAutoConfiguration?","body":"<p>I want spring to load the default <code>ThreadPoolTaskExecutor</code> from <code>TaskExecutionAutoConfiguration</code>. Though I want to provide may own additional executor for some explicit side-tasks:</p>\n\n<pre><code>@Bean\npublic ThreadPoolExecutor myRequestPool() {\n    return (ThreadPoolExecutor) Executors.newFixedThreadPool(10);\n}\n</code></pre>\n\n<p>Problem: adding the bean above, the <code>TaskExecutionAutoConfiguration</code> will not be executed anymore, and the spring-default executor will not be initialized, because <code>@ConditionalOnMissingBean(Executor.class)</code> does not match anymore:</p>\n\n<pre><code>package org.springframework.boot.autoconfigure.task;\n\npublic class TaskExecutionAutoConfiguration {\n\n    @Lazy\n    @Bean(name = APPLICATION_TASK_EXECUTOR_BEAN_NAME)\n    @ConditionalOnMissingBean(Executor.class)\n    public ThreadPoolTaskExecutor applicationTaskExecutor(TaskExecutorBuilder builder) {\n        return builder.build();\n    }\n</code></pre>\n\n<p>Question: how can I still let spring create both beans?</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1643780343,"post_id":70950583,"comment_id":125427282,"body_markdown":"It might be due to the runner you are using. Each runner may have specified way of dealing with it","body":"It might be due to the runner you are using. Each runner may have specified way of dealing with it"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643781528,"post_id":70950583,"comment_id":125427492,"body_markdown":"Does SQLStrategy have a default constructor? What annotations does itâs constructor have?","body":"Does SQLStrategy have a default constructor? What annotations does itâs constructor have?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643819266,"creation_date":1643819266,"answer_id":70959220,"question_id":70950583,"body_markdown":"First of all , `@InjectMocks` is a Mockito stuff and is nothing to do with Spring. It has no ideas about `@Autowired` and its existence will not affect `@InjectMocks` &#39;s behaviour.\r\n\r\nNormally you do not need to manually create the instance that you want to inject mocks into. If that instance has non no-arg constructor , Mockito will choose biggest constructors to create instance and inject the mocks through this constructor.\r\n\r\nBut in case the instance has a no-arg constructor or you instantiate it manually, Mockito will first use property setter injection , and then field injection to inject mocks.\r\n\r\nAnd one caveat is that for the final field , field injection will not happen . You can refer to the [docs][1] for more information.\r\n\r\nSo change to the following should inject both mocks into `SQLStrategy` :\r\n\r\n``` java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class SQLStrategyTest {\r\n\t\r\n\t@Mock\r\n\tOperationRepository repository;\r\n\r\n\t@Mock\r\n\tReneMetric reneMetric;\r\n\r\n\r\n\t@InjectMocks\r\n\tprivate SQLStrategy sqlStrategy;\r\n\r\n\r\n\t@Test\r\n\tpublic void test(){\r\n\t}\r\n\r\n\r\n}\r\n\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Component(&quot;sqlDb&quot;)\r\npublic class SQLStrategy extends StorageStrategy {\r\n\r\n\tpublic SQLStrategy(OperationRepository repo , Metric metric){\r\n\t\tthis.repo = repo;\r\n\t\tthis.metric = metric;\r\n\t}\r\n}\r\n```\r\n\r\nAnd the following explains why your example get such result : \r\n\r\n1. You manually instantiate `SQLStrategy` . But at the moment when it is instantiated , Mockito still not create a `ReneMetric` mock , so `new SQLStrategy(null)` is called to create  `SQLStrategy`\r\n\r\n2. Mockito create a mocked instance of `OperationRepository` and `ReneMetric`\r\n\r\n3. Since you manually create `SQLStrategy` , Mockito will try to use property setter injection , and then field injection to inject the mocks into it. For the `OperationRepository` , it is injected because of the field injection. For the `Metric` , it is not injected because it is a final field and `SQLStrategy` does not have any setter for it.\r\n\r\n4. So `OperationRepository` is not null and `Metric` is null\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html","title":"With InjectMocks, one of my mock become null, without it, an other Mock is null","body":"<p>First of all , <code>@InjectMocks</code> is a Mockito stuff and is nothing to do with Spring. It has no ideas about <code>@Autowired</code> and its existence will not affect <code>@InjectMocks</code> 's behaviour.</p>\n<p>Normally you do not need to manually create the instance that you want to inject mocks into. If that instance has non no-arg constructor , Mockito will choose biggest constructors to create instance and inject the mocks through this constructor.</p>\n<p>But in case the instance has a no-arg constructor or you instantiate it manually, Mockito will first use property setter injection , and then field injection to inject mocks.</p>\n<p>And one caveat is that for the final field , field injection will not happen . You can refer to the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html\" rel=\"nofollow noreferrer\">docs</a> for more information.</p>\n<p>So change to the following should inject both mocks into <code>SQLStrategy</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class SQLStrategyTest {\n    \n    @Mock\n    OperationRepository repository;\n\n    @Mock\n    ReneMetric reneMetric;\n\n\n    @InjectMocks\n    private SQLStrategy sqlStrategy;\n\n\n    @Test\n    public void test(){\n    }\n\n\n}\n\n@Slf4j\n@RequiredArgsConstructor\n@Component(&quot;sqlDb&quot;)\npublic class SQLStrategy extends StorageStrategy {\n\n    public SQLStrategy(OperationRepository repo , Metric metric){\n        this.repo = repo;\n        this.metric = metric;\n    }\n}\n</code></pre>\n<p>And the following explains why your example get such result :</p>\n<ol>\n<li><p>You manually instantiate <code>SQLStrategy</code> . But at the moment when it is instantiated , Mockito still not create a <code>ReneMetric</code> mock , so <code>new SQLStrategy(null)</code> is called to create  <code>SQLStrategy</code></p>\n</li>\n<li><p>Mockito create a mocked instance of <code>OperationRepository</code> and <code>ReneMetric</code></p>\n</li>\n<li><p>Since you manually create <code>SQLStrategy</code> , Mockito will try to use property setter injection , and then field injection to inject the mocks into it. For the <code>OperationRepository</code> , it is injected because of the field injection. For the <code>Metric</code> , it is not injected because it is a final field and <code>SQLStrategy</code> does not have any setter for it.</p>\n</li>\n<li><p>So <code>OperationRepository</code> is not null and <code>Metric</code> is null</p>\n</li>\n</ol>\n"}],"owner":{"account_id":12440742,"reputation":173,"user_id":9059082,"display_name":"dbJoker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643819266,"creation_date":1643776826,"question_id":70950583,"body_markdown":"So in this version, repository is null (and metric is not null) : \r\n\r\n\r\n    @Mock\r\n    OperationRepository repository;\r\n    @Mock\r\n    Metric metric;\r\n\r\n    SQLStrategy sqlStrategy;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n        sqlStrategy = new SQLStrategy(metric);\r\n    }\r\nIn this version, metric is null (and repository is not null) : \r\n\r\n\r\n    @Mock\r\n    OperationRepository repository;\r\n    @Mock\r\n    ReneMetric reneMetric;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @InjectMocks\r\n    private SQLStrategy sqlStrategy = new SQLStrategy(reneMetric);\r\n\r\n\r\nThis is how they are defined in the class : \r\n\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @Component(&quot;sqlDb&quot;)\r\n    public class SQLStrategy extends StorageStrategy {\r\n\r\n    @Autowired\r\n    private OperationRepository repository;\r\n\r\n    private final Metric metric;\r\n\r\nI was wondering what could be doing this behavior? \r\n\r\nI can understand the need for *@InjectMocks* for repository to not be null since its an *@autowired* But I really dont understand why metric become null when I use *@InjectMocks*.","title":"With InjectMocks, one of my mock become null, without it, an other Mock is null","body":"<p>So in this version, repository is null (and metric is not null) :</p>\n<pre><code>@Mock\nOperationRepository repository;\n@Mock\nMetric metric;\n\nSQLStrategy sqlStrategy;\n\n@BeforeEach\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n    sqlStrategy = new SQLStrategy(metric);\n}\n</code></pre>\n<p>In this version, metric is null (and repository is not null) :</p>\n<pre><code>@Mock\nOperationRepository repository;\n@Mock\nReneMetric reneMetric;\n\n@BeforeEach\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n}\n\n@InjectMocks\nprivate SQLStrategy sqlStrategy = new SQLStrategy(reneMetric);\n</code></pre>\n<p>This is how they are defined in the class :</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Component(&quot;sqlDb&quot;)\npublic class SQLStrategy extends StorageStrategy {\n\n@Autowired\nprivate OperationRepository repository;\n\nprivate final Metric metric;\n</code></pre>\n<p>I was wondering what could be doing this behavior?</p>\n<p>I can understand the need for <em>@InjectMocks</em> for repository to not be null since its an <em>@autowired</em> But I really dont understand why metric become null when I use <em>@InjectMocks</em>.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643821693,"post_id":70959212,"comment_id":125443025,"body_markdown":"1) `bin` folder doesn&#39;t contain Hadoop classpath libraries. 2) Please use Maven/Gradle instead","body":"1) <code>bin</code> folder doesn&#39;t contain Hadoop classpath libraries. 2) Please use Maven/Gradle instead"},{"owner":{"account_id":14246565,"reputation":1481,"user_id":10291435,"display_name":"Mee"},"score":0,"creation_date":1643821740,"post_id":70959212,"comment_id":125443041,"body_markdown":"thanks for your comment but what do u mean sorry? should I download something?","body":"thanks for your comment but what do u mean sorry? should I download something?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643821810,"post_id":70959212,"comment_id":125443077,"body_markdown":"I&#39;m talking about dependency management. Don&#39;t use `javac`. Use `maven` or `gradle`. For example, here is a repo of mine for running mapreduce apps https://github.com/OneCricketeer/mapreduce-sandbox/blob/master/build.gradle#L22","body":"I&#39;m talking about dependency management. Don&#39;t use <code>javac</code>. Use <code>maven</code> or <code>gradle</code>. For example, here is a repo of mine for running mapreduce apps <a href=\"https://github.com/OneCricketeer/mapreduce-sandbox/blob/master/build.gradle#L22\" rel=\"nofollow noreferrer\">github.com/OneCricketeer/mapreduce-sandbox/blob/master/&hellip;</a>"}],"owner":{"account_id":14246565,"reputation":1481,"user_id":10291435,"display_name":"Mee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643819245,"creation_date":1643819245,"question_id":70959212,"body_markdown":"I am new to java and hadoop, I am following a tutorial of simple code, but it works on linux, when I tried to compile the java hadoop class I get different errors, after some resolving I am stuck in some errors related to that the packages doesn&#39;t exist; I am using hadoop3.2.2, and I try to compile it using this command:\r\n```\r\njavac -classpath &quot;C:/Users/DELL/Downloads/hadoop-3.2.2/bin&quot; stubs/*.java\r\n```\r\nand I already added the hadoop location to the system env variables and I also added all the jar files in eclipse from share/commen and share/mapreduce, and share/yarn for ; here&#39;s some of the errors I got:\r\n```\r\nstubs\\FileSystemCat.java:10: error: package org.apache.hadoop.fs does not exist\r\nimport org.apache.hadoop.fs.Path;\r\n                           ^\r\nstubs\\FileSystemCat.java:11: error: package org.apache.hadoop.io does not exist\r\nimport org.apache.hadoop.io.IOUtils;\r\n                           ^\r\nstubs\\FileSystemCat.java:15: error: cannot find symbol\r\n                Configuration conf = new Configuration();\r\n                ^\r\n  symbol:   class Configuration\r\n  location: class FileSystemCat\r\nstubs\\FileSystemCat.java:15: error: cannot find symbol\r\n                Configuration conf = new Configuration();\r\n  symbol:   variable IOUtils\r\n  location: class FileSystemCat\r\n13 errors\r\n\r\n```\r\n\r\n\r\n","title":"compiling java hadoop classes on windows","body":"<p>I am new to java and hadoop, I am following a tutorial of simple code, but it works on linux, when I tried to compile the java hadoop class I get different errors, after some resolving I am stuck in some errors related to that the packages doesn't exist; I am using hadoop3.2.2, and I try to compile it using this command:</p>\n<pre><code>javac -classpath &quot;C:/Users/DELL/Downloads/hadoop-3.2.2/bin&quot; stubs/*.java\n</code></pre>\n<p>and I already added the hadoop location to the system env variables and I also added all the jar files in eclipse from share/commen and share/mapreduce, and share/yarn for ; here's some of the errors I got:</p>\n<pre><code>stubs\\FileSystemCat.java:10: error: package org.apache.hadoop.fs does not exist\nimport org.apache.hadoop.fs.Path;\n                           ^\nstubs\\FileSystemCat.java:11: error: package org.apache.hadoop.io does not exist\nimport org.apache.hadoop.io.IOUtils;\n                           ^\nstubs\\FileSystemCat.java:15: error: cannot find symbol\n                Configuration conf = new Configuration();\n                ^\n  symbol:   class Configuration\n  location: class FileSystemCat\nstubs\\FileSystemCat.java:15: error: cannot find symbol\n                Configuration conf = new Configuration();\n  symbol:   variable IOUtils\n  location: class FileSystemCat\n13 errors\n\n</code></pre>\n"},{"tags":["java","digital-signature","dss"],"comments":[{"owner":{"account_id":8976929,"reputation":109,"user_id":6693412,"display_name":"Mehdi"},"score":0,"creation_date":1643385038,"post_id":66993643,"comment_id":125333336,"body_markdown":"I still have the same problem ! does anyone have a solution for this ??","body":"I still have the same problem ! does anyone have a solution for this ??"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643797139,"post_id":66993643,"comment_id":125432355,"body_markdown":"Neither of the PDFs you attached in [PDFs.zip](https://www.grosfichiers.com/i4fmqCz43is) validates positively in Adobe Reader with a default configuration; for both one gets the *&quot;Signer&#39;s identity is unknown because it has not been included in your list of trusted certificates and none of its parent certificates are trusted certificates.&quot;* If you get something else, you have a non-default validation configuration of Adobe Reader. To discuss validation results, you have to disclose such non-standard settings. TARGER_SIGNATUREPDF.pdf is even worse, no certificate chain can be built.","body":"Neither of the PDFs you attached in <a href=\"https://www.grosfichiers.com/i4fmqCz43is\" rel=\"nofollow noreferrer\">PDFs.zip</a> validates positively in Adobe Reader with a default configuration; for both one gets the <i>&quot;Signer&#39;s identity is unknown because it has not been included in your list of trusted certificates and none of its parent certificates are trusted certificates.&quot;</i> If you get something else, you have a non-default validation configuration of Adobe Reader. To discuss validation results, you have to disclose such non-standard settings. TARGER_SIGNATUREPDF.pdf is even worse, no certificate chain can be built."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643797997,"post_id":66993643,"comment_id":125432725,"body_markdown":"For CURRENT_SIGNATURE.pdf, if I configure Adobe Reader to trust the root certificate &quot;Sunnystamp Root CA G2&quot; of the chain to the signer certificate, the signature becomes &quot;LTV enabled&quot; and the Revocation tabs for the signer and CA certificates say &quot;The selected certificate is considered valid because it does not appear in the Certificate Revocation List (CRL) that is embedded in the document.&quot; For TARGER_SIGNATUREPDF.pdf the situation is more difficult as the AIA extension of the signer certificate only has an _OCSP_ method but no _Certification Authority Issuer_\nmethod. Thus, no chain.","body":"For CURRENT_SIGNATURE.pdf, if I configure Adobe Reader to trust the root certificate &quot;Sunnystamp Root CA G2&quot; of the chain to the signer certificate, the signature becomes &quot;LTV enabled&quot; and the Revocation tabs for the signer and CA certificates say &quot;The selected certificate is considered valid because it does not appear in the Certificate Revocation List (CRL) that is embedded in the document.&quot; For TARGER_SIGNATUREPDF.pdf the situation is more difficult as the AIA extension of the signer certificate only has an <i>OCSP</i> method but no <i>Certification Authority Issuer</i> method. Thus, no chain."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643799990,"post_id":66993643,"comment_id":125433492,"body_markdown":"Another issue in the TARGER_SIGNATUREPDF.pdf signature: It claims to be a PAdES signature (using **ETSI.CAdES.detached** as **SubFilter**) but it embeds validation information in the Adobe _adbe-revocationInfoArchival_ signed attribute. That attribute is only specified for **adbe.pkcs7.detached** and **adbe.pkcs7.sha1** signatures. Adobe Reader uses revocation information from wherever it gets them but a strict validator may reject them.","body":"Another issue in the TARGER_SIGNATUREPDF.pdf signature: It claims to be a PAdES signature (using <b>ETSI.CAdES.detached</b> as <b>SubFilter</b>) but it embeds validation information in the Adobe <i>adbe-revocationInfoArchival</i> signed attribute. That attribute is only specified for <b>adbe.pkcs7.detached</b> and <b>adbe.pkcs7.sha1</b> signatures. Adobe Reader uses revocation information from wherever it gets them but a strict validator may reject them."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643800229,"post_id":66993643,"comment_id":125433579,"body_markdown":"The file TARGER_SIGNATUREPDF.pdf mentions that it has been created using &quot;iText-7.1.16-SNAPSHOT for .NET&quot;. Indeed, the iText API can be used to put an _adbe-revocationInfoArchival_ signed attribute into PAdES signatures. Nonetheless, this combination is questionable; when interpreting specifications strictly, it&#39;s forbidden. All told I really wonder why *the &quot;TARGER_SIGNATUREPDF.pdf&quot; is the target you want to have*...","body":"The file TARGER_SIGNATUREPDF.pdf mentions that it has been created using &quot;iText-7.1.16-SNAPSHOT for .NET&quot;. Indeed, the iText API can be used to put an <i>adbe-revocationInfoArchival</i> signed attribute into PAdES signatures. Nonetheless, this combination is questionable; when interpreting specifications strictly, it&#39;s forbidden. All told I really wonder why <i>the &quot;TARGER_SIGNATUREPDF.pdf&quot; is the target you want to have</i>..."},{"owner":{"account_id":8976929,"reputation":109,"user_id":6693412,"display_name":"Mehdi"},"score":0,"creation_date":1643800411,"post_id":66993643,"comment_id":125433648,"body_markdown":"and if i also want to embed the revocation validation in the signature like the TARGET_SIGNATURE.pdf how i can do ?","body":"and if i also want to embed the revocation validation in the signature like the TARGET_SIGNATURE.pdf how i can do ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643801006,"post_id":66993643,"comment_id":125433899,"body_markdown":"*&quot;if i also want to embed the revocation validation in the signature like the TARGET_SIGNATURE.pdf how i can do?&quot;* - eSig DSS aims for creating valid [CPX]AdES signatures. Thus, by default it does not support embedding that attribute. You can of course try to patch it. But it most likely is easier to not use DSS at all on Server B and build the signature container using the iText PdfPKCS7 class or plain BouncyCastle. Unfortunately embedding revocation information in the signature container will also invalidate DSS&#39; expectation of the size thereof, so you&#39;ll also have to adjust code on server A","body":"<i>&quot;if i also want to embed the revocation validation in the signature like the TARGET_SIGNATURE.pdf how i can do?&quot;</i> - eSig DSS aims for creating valid [CPX]AdES signatures. Thus, by default it does not support embedding that attribute. You can of course try to patch it. But it most likely is easier to not use DSS at all on Server B and build the signature container using the iText PdfPKCS7 class or plain BouncyCastle. Unfortunately embedding revocation information in the signature container will also invalidate DSS&#39; expectation of the size thereof, so you&#39;ll also have to adjust code on server A"},{"owner":{"account_id":8976929,"reputation":109,"user_id":6693412,"display_name":"Mehdi"},"score":0,"creation_date":1643804462,"post_id":66993643,"comment_id":125435238,"body_markdown":"if I understand correctly the **_CURRENT_SIGNATURE.pdf_** file is better than the **_TARGET_SIGNATURE.pdf_** ? \n\nHowever, can we avoid the revision that is added to the **_CURRENT_SIGNATURE.pdf_** because the signature will be already timestamped? If yes how can i do that ?","body":"if I understand correctly the <b><i>CURRENT_SIGNATURE.pdf</i></b> file is better than the <b><i>TARGET_SIGNATURE.pdf</i></b> ?   However, can we avoid the revision that is added to the <b><i>CURRENT_SIGNATURE.pdf</i></b> because the signature will be already timestamped? If yes how can i do that ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643811333,"post_id":66993643,"comment_id":125438204,"body_markdown":"*&quot;if I understand correctly the CURRENT_SIGNATURE.pdf file is better than the TARGET_SIGNATURE.pdf ?&quot;* - Yes. At least in respect to where the revocation information are put. I haven&#39;t checked other stuff yet. *However, can we avoid the revision that is added to the CURRENT_SIGNATURE.pdf because the signature will be already timestamped?* - No. At least not if you are trying to create PAdES BASELINE. There you first have a T type (timestamp either in signature container or as document timestamp) to which you add revocation information in an incremental update which forms a new revision.","body":"<i>&quot;if I understand correctly the CURRENT_SIGNATURE.pdf file is better than the TARGET_SIGNATURE.pdf ?&quot;</i> - Yes. At least in respect to where the revocation information are put. I haven&#39;t checked other stuff yet. <i>However, can we avoid the revision that is added to the CURRENT_SIGNATURE.pdf because the signature will be already timestamped?</i> - No. At least not if you are trying to create PAdES BASELINE. There you first have a T type (timestamp either in signature container or as document timestamp) to which you add revocation information in an incremental update which forms a new revision."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643728758,"creation_date":1643709545,"answer_id":70938583,"question_id":66993643,"body_markdown":"*In comments to [an answer to another question][1] a discussion started in which you pointed to this question and asked for help. In that discussion it became apparent that you do not exactly know yet what you are trying to achieve. Thus, let&#39;s clarify that a bit.*\r\n\r\n# LTV Verification\r\n\r\nYou say you want to add *LTV verification* to your signatures. Let&#39;s first take a look at what that means.\r\n\r\n**LTV** is short for **L**ong **T**erm **V**alidation. The goal it stands for is ensuring that a signature can still be verified in a number of years.\r\n\r\nThe challenges this goal tries to overcome are that information a verifier needs will not be available online in the long run and that algorithms used will eventually not be considered secure anymore.\r\n\r\nThe means are to retrieve the required information once and bundle them with the signature in a trustable way, and to apply digital time stamps to attest that a certain set of data, signature, and extra information existed and was bundled at a given time (e.g. when the used signing algorithm still was considered strong).\r\n\r\nSo far, so good.\r\n\r\nAdobe early on (before PDF had become an ISO standard) defined one mechanism to achieve LTV: They specified a specific signed attribute into which one should collect the data required for validation right before signing and they recommended applying a time stamp to the embedded signature container.\r\n\r\nSince then, though, this mechanism has turned out to be too simple and static. Depending on the validation model in use information collected _before_ signing are not good enough: To check whether a given certificate is valid at signing time, one strictly speaking needs information generated _after_ signing time. And to deal with algorithms getting weak one may need to time stamp the _whole document_ again and again.\r\n\r\nTo deal with this ETSI (an European norming organization) specified alternative ways to add validation related information to a document and a way to add extra time stamps covering the whole document (and not only the embedded signature container). These mechanisms do not change the original signature container but add the information in incremental updates to the original document. Meanwhile these mechanisms have been added to the international PDF standard in ISO 32000-2. They are subsumed under the term PAdES.\r\n\r\nETSI also defined standard schemes how to use these new mechanisms to enhance signatures in an interoperable way, the PAdES BASELINE profiles:\r\n\r\n* The **B** level only contains a basic signature container profiled to in particular include an ESS certificate ID attribute.\r\n* The **T** level is based on the **B** level but additionally requires an after-signing time stamp. This time stamp may be applied as signature time stamp to the original signature container or as document time stamp in an extra incremental update of the document.\r\n* The **LT** level is based on the **T** level and requires missing intermediate certificates and required revocation information to be added in a new incremental update.\r\n* The **LTA** level is based on the **LT** level and requires another document time stamp added in yet another incremental update.\r\n\r\nTo achieve long term validation the additions as for **LT** and **LTA** may be repeated to provide validation information for the previous time stamp and to document that the used algorithms were applied at a time when they were still strong.\r\n\r\nAdobe has established their own &quot;LTV-enabled&quot; profile which assumes less strict requirements on the validation data (no time stamps needed) and does not care about algorithms becoming weak. They essentially collect all the validation related information they find in the document and use them as-is. (More exactly this is the behavior for the _standard settings_ of Adobe Acrobat. You can configure Acrobat differently to change requirements, e.g. to make certain time stamps _do_ matter. Thus, when talking about &quot;LTV-enabled&quot; signatures always make sure you have the same set of settings in mind as your discussion partner...)\r\n\r\n# Extending Using eSig DSS\r\n\r\nIf you want to extend a PDF signature using eSig DSS on server A, simply take the `finalDoc` and\r\n\r\n```\r\nPAdESService service = new PAdESService(certificateVerifier);\r\nservice.setTspSource(tspSource);\r\nPAdESSignatureParameters extensionParameters = new PAdESSignatureParameters();\r\nextensionParameters.setSignatureLevel(extensionLevel);\r\n\r\nDSSDocument extendedDocument = service.extendDocument(finalDoc, extensionParameters);\r\n```\r\n\r\nwhere\r\n\r\n* `certificateVerifier` is a `CommonCertificateVerifier` initialized for online resources,\r\n* `tspSource` is a `OnlineTSPSource` initialized for your time stamp service of choice, and\r\n* `extensionLevel` is the desired level, e.g. `SignatureLevel.PAdES_BASELINE_LT`.\r\n\r\nThe result in `extendedDocument` should contain the required validation related information.\r\n\r\n  [1]: https://stackoverflow.com/a/60320998/1729265\r\n","title":"Ensure LTV verification using DSS (CMS Container)","body":"<p><em>In comments to <a href=\"https://stackoverflow.com/a/60320998/1729265\">an answer to another question</a> a discussion started in which you pointed to this question and asked for help. In that discussion it became apparent that you do not exactly know yet what you are trying to achieve. Thus, let's clarify that a bit.</em></p>\n<h1>LTV Verification</h1>\n<p>You say you want to add <em>LTV verification</em> to your signatures. Let's first take a look at what that means.</p>\n<p><strong>LTV</strong> is short for <strong>L</strong>ong <strong>T</strong>erm <strong>V</strong>alidation. The goal it stands for is ensuring that a signature can still be verified in a number of years.</p>\n<p>The challenges this goal tries to overcome are that information a verifier needs will not be available online in the long run and that algorithms used will eventually not be considered secure anymore.</p>\n<p>The means are to retrieve the required information once and bundle them with the signature in a trustable way, and to apply digital time stamps to attest that a certain set of data, signature, and extra information existed and was bundled at a given time (e.g. when the used signing algorithm still was considered strong).</p>\n<p>So far, so good.</p>\n<p>Adobe early on (before PDF had become an ISO standard) defined one mechanism to achieve LTV: They specified a specific signed attribute into which one should collect the data required for validation right before signing and they recommended applying a time stamp to the embedded signature container.</p>\n<p>Since then, though, this mechanism has turned out to be too simple and static. Depending on the validation model in use information collected <em>before</em> signing are not good enough: To check whether a given certificate is valid at signing time, one strictly speaking needs information generated <em>after</em> signing time. And to deal with algorithms getting weak one may need to time stamp the <em>whole document</em> again and again.</p>\n<p>To deal with this ETSI (an European norming organization) specified alternative ways to add validation related information to a document and a way to add extra time stamps covering the whole document (and not only the embedded signature container). These mechanisms do not change the original signature container but add the information in incremental updates to the original document. Meanwhile these mechanisms have been added to the international PDF standard in ISO 32000-2. They are subsumed under the term PAdES.</p>\n<p>ETSI also defined standard schemes how to use these new mechanisms to enhance signatures in an interoperable way, the PAdES BASELINE profiles:</p>\n<ul>\n<li>The <strong>B</strong> level only contains a basic signature container profiled to in particular include an ESS certificate ID attribute.</li>\n<li>The <strong>T</strong> level is based on the <strong>B</strong> level but additionally requires an after-signing time stamp. This time stamp may be applied as signature time stamp to the original signature container or as document time stamp in an extra incremental update of the document.</li>\n<li>The <strong>LT</strong> level is based on the <strong>T</strong> level and requires missing intermediate certificates and required revocation information to be added in a new incremental update.</li>\n<li>The <strong>LTA</strong> level is based on the <strong>LT</strong> level and requires another document time stamp added in yet another incremental update.</li>\n</ul>\n<p>To achieve long term validation the additions as for <strong>LT</strong> and <strong>LTA</strong> may be repeated to provide validation information for the previous time stamp and to document that the used algorithms were applied at a time when they were still strong.</p>\n<p>Adobe has established their own &quot;LTV-enabled&quot; profile which assumes less strict requirements on the validation data (no time stamps needed) and does not care about algorithms becoming weak. They essentially collect all the validation related information they find in the document and use them as-is. (More exactly this is the behavior for the <em>standard settings</em> of Adobe Acrobat. You can configure Acrobat differently to change requirements, e.g. to make certain time stamps <em>do</em> matter. Thus, when talking about &quot;LTV-enabled&quot; signatures always make sure you have the same set of settings in mind as your discussion partner...)</p>\n<h1>Extending Using eSig DSS</h1>\n<p>If you want to extend a PDF signature using eSig DSS on server A, simply take the <code>finalDoc</code> and</p>\n<pre><code>PAdESService service = new PAdESService(certificateVerifier);\nservice.setTspSource(tspSource);\nPAdESSignatureParameters extensionParameters = new PAdESSignatureParameters();\nextensionParameters.setSignatureLevel(extensionLevel);\n\nDSSDocument extendedDocument = service.extendDocument(finalDoc, extensionParameters);\n</code></pre>\n<p>where</p>\n<ul>\n<li><code>certificateVerifier</code> is a <code>CommonCertificateVerifier</code> initialized for online resources,</li>\n<li><code>tspSource</code> is a <code>OnlineTSPSource</code> initialized for your time stamp service of choice, and</li>\n<li><code>extensionLevel</code> is the desired level, e.g. <code>SignatureLevel.PAdES_BASELINE_LT</code>.</li>\n</ul>\n<p>The result in <code>extendedDocument</code> should contain the required validation related information.</p>\n"}],"owner":{"account_id":8976929,"reputation":109,"user_id":6693412,"display_name":"Mehdi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643819203,"creation_date":1617827127,"question_id":66993643,"body_markdown":"I am working on a solution that allows signing using p12 certificate on a remote server.\r\n\r\nFirst, I have the digest of the document which is calculated on a server and then I send it for signature on another server.\r\n\r\nHere are the PDF files, you will find two PDF versions. The **_&quot;CURRENT_SIGNATURE.pdf&quot;_** file is the result I got using the code below. And the **_&quot;TARGER_SIGNATUREPDF.pdf&quot;_** is the target I want to have. As you can see the difference the TARGET file says &quot;certificate revocation list embedded in signature.&quot; on the other hand the **CURRENT** indicates that &quot;the list of revocation of the certificates incorporated in the document.&quot; In addition, the **TARGET** file there is only one signature and no revision added\r\n : \r\nhttps://www.grosfichiers.com/i4fmqCz43is\r\n\r\nResult v&#233;rification : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy goal now is to add a LTV verification, knowing that I am signing on the server part using: PadesCMSSignedDataBuilder\r\n\r\n********************* ON SERVER A **********************\r\n\r\n        public class ServerA {\r\n        private static PAdESSignatureParameters signatureParameters;\r\n        private static DSSDocument documentToSign;\r\n        public static ExternalCMSPAdESService service;\r\n        private static final String TSA_URL = &quot;http://dss.nowina.lu/pki-factory/tsa/good-tsa&quot;;\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            documentToSign = new FileDocument(new File(&quot;Doc 2.pdf&quot;));\r\n    \r\n            signatureParameters = new PAdESSignatureParameters();\r\n            signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n            signatureParameters.setLocation(&quot;Luxembourg&quot;);\r\n            signatureParameters.setReason(&quot;DSS testing&quot;);\r\n            signatureParameters.setContactInfo(&quot;Jira&quot;);\r\n            signatureParameters.setGenerateTBSWithoutCertificate(true);\r\n            CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\r\n    \r\n            commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\r\n            commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\r\n            commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\r\n            service = new ExternalCMSPAdESService(commonCertificateVerifier);\r\n            byte[] documentDigest = computeDocumentDigest(documentToSign, signatureParameters);\r\n    \r\n            // Embedded CAdES is generated by a third party\r\n            byte[] cmsSignedData = ServerB.getSignedCMSignedData(documentDigest);\r\n    \r\n            service.setCmsSignedData(cmsSignedData);\r\n            DSSDocument finalDoc = service.signDocument(documentToSign, signatureParameters, null);\r\n    \r\n    \r\n            PAdESService service = new PAdESService(commonCertificateVerifier);\r\n            TimestampDataLoader timestampDataLoader = new TimestampDataLoader();// uses the specific content-type\r\n            OnlineTSPSource tsa1 = new OnlineTSPSource(&quot;http://dss.nowina.lu/pki-factory/tsa/ee-good-tsa&quot;);\r\n            tsa1.setDataLoader(timestampDataLoader);\r\n            service.setTspSource(tsa1);\r\n            PAdESSignatureParameters extensionParameters = new PAdESSignatureParameters();\r\n            extensionParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LT);\r\n    \r\n            DSSDocument extendedDocument = service.extendDocument(finalDoc, extensionParameters);\r\n    \r\n    \r\n            save(finalDoc);\r\n            save2(extendedDocument);\r\n        }\r\n    \r\n        private static void save(DSSDocument signedDocument) {\r\n            try (FileOutputStream fos = new FileOutputStream(&quot;DSS.pdf&quot;)) {\r\n                Utils.copy(signedDocument.openStream(), fos);\r\n            } catch (Exception e) {\r\n                Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\r\n                alert.showAndWait();\r\n                return;\r\n            }\r\n        }\r\n        private static void save2(DSSDocument signedDocument) {\r\n            try (FileOutputStream fos = new FileOutputStream(&quot;DSS-2.pdf&quot;)) {\r\n                Utils.copy(signedDocument.openStream(), fos);\r\n            } catch (Exception e) {\r\n                Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\r\n                alert.showAndWait();\r\n                return;\r\n            }\r\n        }\r\n    \r\n        public static CertificateVerifier getOfflineCertificateVerifier() {\r\n            CertificateVerifier cv = new CommonCertificateVerifier();\r\n            cv.setDataLoader(new IgnoreDataLoader());\r\n            return cv;\r\n        }\r\n    \r\n        protected static byte[] computeDocumentDigest(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters) {\r\n            IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\r\n            final PDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\r\n            return pdfSignatureService.digest(toSignDocument, parameters);\r\n        }\r\n    \r\n        private static class ExternalCMSPAdESService extends PAdESService {\r\n    \r\n            private static final long serialVersionUID = -2003453716888412577L;\r\n    \r\n            private byte[] cmsSignedData;\r\n    \r\n            public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\r\n                super(certificateVerifier);\r\n            }\r\n    \r\n            @Override\r\n            protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\r\n                                                   final SignatureValue signatureValue) {\r\n                if (this.cmsSignedData == null) {\r\n                    throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\r\n                }\r\n                return this.cmsSignedData;\r\n            }\r\n    \r\n            public void setCmsSignedData(final byte[] cmsSignedData) {\r\n                this.cmsSignedData = cmsSignedData;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nAnd to be able to sign the calculated hash :\r\n\r\n********************* ON SERVER B **********************\r\n\r\n    public class ServerB {\r\n    \r\n    private static PAdESSignatureParameters signatureParameters;\r\n    private static DSSDocument documentToSign;\r\n    public static ExternalCMSPAdESService service;\r\n    \r\n    /**\r\n     * Computes a CAdES with specific things for PAdES\r\n     */\r\n    public static byte[] getSignedCMSignedData(byte[] documentDigest) throws Exception {\r\n        signatureParameters = new PAdESSignatureParameters();\r\n        signatureParameters.setSigningCertificate(getSigningCert());\r\n        signatureParameters.setCertificateChain(getCertificateChain());\r\n        signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\r\n        signatureParameters.setLocation(&quot;Luxembourg&quot;);\r\n        signatureParameters.setReason(&quot;DSS testing&quot;);\r\n        signatureParameters.setContactInfo(&quot;Jira&quot;);\r\n    \r\n        CMSProcessableByteArray content = new CMSProcessableByteArray(documentDigest);\r\n    \r\n        PadesCMSSignedDataBuilder padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(getOfflineCertificateVerifier());\r\n        SignatureAlgorithm signatureAlgorithm = signatureParameters.getSignatureAlgorithm();\r\n    \r\n        CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\r\n        SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(signatureParameters, documentDigest);\r\n    \r\n        CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner,\r\n                signerInfoGeneratorBuilder, null);\r\n    \r\n        CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n    \r\n        SignatureTokenConnection signingToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\r\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\r\n        DSSPrivateKeyEntry privateKey = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;);\r\n    \r\n        SignatureValue signatureValue = signingToken.sign(new ToBeSigned(customContentSigner.getOutputStream().toByteArray()),\r\n                signatureParameters.getDigestAlgorithm(), privateKey);\r\n    \r\n        customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\r\n        generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner, signerInfoGeneratorBuilder, null);\r\n    \r\n        CMSSignedData cmsSignedData = CMSUtils.generateDetachedCMSSignedData(generator, content);\r\n        return DSSASN1Utils.getDEREncoded(cmsSignedData);\r\n    }\r\n    \r\n    public static CertificateVerifier getOfflineCertificateVerifier() {\r\n        CertificateVerifier cv = new CommonCertificateVerifier();\r\n        cv.setDataLoader(new IgnoreDataLoader());\r\n        return cv;\r\n    }\r\n    \r\n    public static List&lt;CertificateToken&gt; getCertificateChain() throws Exception {\r\n        List&lt;CertificateToken&gt; list = new ArrayList&lt;&gt;();\r\n        CertificateToken[] l = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificateChain();\r\n        for (int i = 0; i &lt; l.length; i++) {\r\n            list.add(l[i]);\r\n        }\r\n        return list;\r\n    }\r\n    \r\n    public static CertificateToken getSigningCert() throws Exception {\r\n        return getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificate();\r\n    }\r\n    \r\n    public static DSSPrivateKeyEntry getKey(String certificate, String pin) throws Exception {\r\n        try (Pkcs12SignatureToken signatureToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\r\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()))) {\r\n            List&lt;DSSPrivateKeyEntry&gt; keys = signatureToken.getKeys();\r\n            KSPrivateKeyEntry dssPrivateKeyEntry = (KSPrivateKeyEntry) keys.get(0);\r\n            DSSPrivateKeyEntry entry = signatureToken.getKey(dssPrivateKeyEntry.getAlias(),\r\n                    new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\r\n            return entry;\r\n        }\r\n    }\r\n    private static class ExternalCMSPAdESService extends PAdESService {\r\n    \r\n        private static final long serialVersionUID = -2003453716888412577L;\r\n    \r\n        private byte[] cmsSignedData;\r\n    \r\n        public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\r\n            super(certificateVerifier);\r\n        }\r\n    \r\n        @Override\r\n        protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\r\n                                               final SignatureValue signatureValue) {\r\n            if (this.cmsSignedData == null) {\r\n                throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\r\n            }\r\n            return this.cmsSignedData;\r\n        }\r\n    \r\n        public void setCmsSignedData(final byte[] cmsSignedData) {\r\n            this.cmsSignedData = cmsSignedData;\r\n        }\r\n    \r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NGT58.png","title":"Ensure LTV verification using DSS (CMS Container)","body":"<p>I am working on a solution that allows signing using p12 certificate on a remote server.</p>\n<p>First, I have the digest of the document which is calculated on a server and then I send it for signature on another server.</p>\n<p>Here are the PDF files, you will find two PDF versions. The <strong><em>&quot;CURRENT_SIGNATURE.pdf&quot;</em></strong> file is the result I got using the code below. And the <strong><em>&quot;TARGER_SIGNATUREPDF.pdf&quot;</em></strong> is the target I want to have. As you can see the difference the TARGET file says &quot;certificate revocation list embedded in signature.&quot; on the other hand the <strong>CURRENT</strong> indicates that &quot;the list of revocation of the certificates incorporated in the document.&quot; In addition, the <strong>TARGET</strong> file there is only one signature and no revision added\n:\n<a href=\"https://www.grosfichiers.com/i4fmqCz43is\" rel=\"nofollow noreferrer\">https://www.grosfichiers.com/i4fmqCz43is</a></p>\n<p>Result vÃ©rification :</p>\n<p><a href=\"https://i.stack.imgur.com/NGT58.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGT58.png\" alt=\"enter image description here\" /></a></p>\n<p>My goal now is to add a LTV verification, knowing that I am signing on the server part using: PadesCMSSignedDataBuilder</p>\n<p>********************* ON SERVER A **********************</p>\n<pre><code>    public class ServerA {\n    private static PAdESSignatureParameters signatureParameters;\n    private static DSSDocument documentToSign;\n    public static ExternalCMSPAdESService service;\n    private static final String TSA_URL = &quot;http://dss.nowina.lu/pki-factory/tsa/good-tsa&quot;;\n\n\n    public static void main(String[] args) throws Exception {\n        documentToSign = new FileDocument(new File(&quot;Doc 2.pdf&quot;));\n\n        signatureParameters = new PAdESSignatureParameters();\n        signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n        signatureParameters.setLocation(&quot;Luxembourg&quot;);\n        signatureParameters.setReason(&quot;DSS testing&quot;);\n        signatureParameters.setContactInfo(&quot;Jira&quot;);\n        signatureParameters.setGenerateTBSWithoutCertificate(true);\n        CommonCertificateVerifier commonCertificateVerifier = new CommonCertificateVerifier();\n\n        commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\n        commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\n        commonCertificateVerifier.setCheckRevocationForUntrustedChains(true);\n        service = new ExternalCMSPAdESService(commonCertificateVerifier);\n        byte[] documentDigest = computeDocumentDigest(documentToSign, signatureParameters);\n\n        // Embedded CAdES is generated by a third party\n        byte[] cmsSignedData = ServerB.getSignedCMSignedData(documentDigest);\n\n        service.setCmsSignedData(cmsSignedData);\n        DSSDocument finalDoc = service.signDocument(documentToSign, signatureParameters, null);\n\n\n        PAdESService service = new PAdESService(commonCertificateVerifier);\n        TimestampDataLoader timestampDataLoader = new TimestampDataLoader();// uses the specific content-type\n        OnlineTSPSource tsa1 = new OnlineTSPSource(&quot;http://dss.nowina.lu/pki-factory/tsa/ee-good-tsa&quot;);\n        tsa1.setDataLoader(timestampDataLoader);\n        service.setTspSource(tsa1);\n        PAdESSignatureParameters extensionParameters = new PAdESSignatureParameters();\n        extensionParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_LT);\n\n        DSSDocument extendedDocument = service.extendDocument(finalDoc, extensionParameters);\n\n\n        save(finalDoc);\n        save2(extendedDocument);\n    }\n\n    private static void save(DSSDocument signedDocument) {\n        try (FileOutputStream fos = new FileOutputStream(&quot;DSS.pdf&quot;)) {\n            Utils.copy(signedDocument.openStream(), fos);\n        } catch (Exception e) {\n            Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\n            alert.showAndWait();\n            return;\n        }\n    }\n    private static void save2(DSSDocument signedDocument) {\n        try (FileOutputStream fos = new FileOutputStream(&quot;DSS-2.pdf&quot;)) {\n            Utils.copy(signedDocument.openStream(), fos);\n        } catch (Exception e) {\n            Alert alert = new Alert(Alert.AlertType.ERROR, &quot;Unable to save file : &quot; + e.getMessage(), ButtonType.CLOSE);\n            alert.showAndWait();\n            return;\n        }\n    }\n\n    public static CertificateVerifier getOfflineCertificateVerifier() {\n        CertificateVerifier cv = new CommonCertificateVerifier();\n        cv.setDataLoader(new IgnoreDataLoader());\n        return cv;\n    }\n\n    protected static byte[] computeDocumentDigest(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters) {\n        IPdfObjFactory pdfObjFactory = new ServiceLoaderPdfObjFactory();\n        final PDFSignatureService pdfSignatureService = pdfObjFactory.newPAdESSignatureService();\n        return pdfSignatureService.digest(toSignDocument, parameters);\n    }\n\n    private static class ExternalCMSPAdESService extends PAdESService {\n\n        private static final long serialVersionUID = -2003453716888412577L;\n\n        private byte[] cmsSignedData;\n\n        public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\n            super(certificateVerifier);\n        }\n\n        @Override\n        protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\n                                               final SignatureValue signatureValue) {\n            if (this.cmsSignedData == null) {\n                throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\n            }\n            return this.cmsSignedData;\n        }\n\n        public void setCmsSignedData(final byte[] cmsSignedData) {\n            this.cmsSignedData = cmsSignedData;\n        }\n\n    }\n}\n</code></pre>\n<p>And to be able to sign the calculated hash :</p>\n<p>********************* ON SERVER B **********************</p>\n<pre><code>public class ServerB {\n\nprivate static PAdESSignatureParameters signatureParameters;\nprivate static DSSDocument documentToSign;\npublic static ExternalCMSPAdESService service;\n\n/**\n * Computes a CAdES with specific things for PAdES\n */\npublic static byte[] getSignedCMSignedData(byte[] documentDigest) throws Exception {\n    signatureParameters = new PAdESSignatureParameters();\n    signatureParameters.setSigningCertificate(getSigningCert());\n    signatureParameters.setCertificateChain(getCertificateChain());\n    signatureParameters.setSignatureLevel(SignatureLevel.PAdES_BASELINE_B);\n    signatureParameters.setLocation(&quot;Luxembourg&quot;);\n    signatureParameters.setReason(&quot;DSS testing&quot;);\n    signatureParameters.setContactInfo(&quot;Jira&quot;);\n\n    CMSProcessableByteArray content = new CMSProcessableByteArray(documentDigest);\n\n    PadesCMSSignedDataBuilder padesCMSSignedDataBuilder = new PadesCMSSignedDataBuilder(getOfflineCertificateVerifier());\n    SignatureAlgorithm signatureAlgorithm = signatureParameters.getSignatureAlgorithm();\n\n    CustomContentSigner customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId());\n    SignerInfoGeneratorBuilder signerInfoGeneratorBuilder = padesCMSSignedDataBuilder.getSignerInfoGeneratorBuilder(signatureParameters, documentDigest);\n\n    CMSSignedDataGenerator generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner,\n            signerInfoGeneratorBuilder, null);\n\n    CMSUtils.generateDetachedCMSSignedData(generator, content);\n\n    SignatureTokenConnection signingToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\n            new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\n    DSSPrivateKeyEntry privateKey = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;);\n\n    SignatureValue signatureValue = signingToken.sign(new ToBeSigned(customContentSigner.getOutputStream().toByteArray()),\n            signatureParameters.getDigestAlgorithm(), privateKey);\n\n    customContentSigner = new CustomContentSigner(signatureAlgorithm.getJCEId(), signatureValue.getValue());\n    generator = padesCMSSignedDataBuilder.createCMSSignedDataGenerator(signatureParameters, customContentSigner, signerInfoGeneratorBuilder, null);\n\n    CMSSignedData cmsSignedData = CMSUtils.generateDetachedCMSSignedData(generator, content);\n    return DSSASN1Utils.getDEREncoded(cmsSignedData);\n}\n\npublic static CertificateVerifier getOfflineCertificateVerifier() {\n    CertificateVerifier cv = new CommonCertificateVerifier();\n    cv.setDataLoader(new IgnoreDataLoader());\n    return cv;\n}\n\npublic static List&lt;CertificateToken&gt; getCertificateChain() throws Exception {\n    List&lt;CertificateToken&gt; list = new ArrayList&lt;&gt;();\n    CertificateToken[] l = getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificateChain();\n    for (int i = 0; i &lt; l.length; i++) {\n        list.add(l[i]);\n    }\n    return list;\n}\n\npublic static CertificateToken getSigningCert() throws Exception {\n    return getKey(&quot;certificate.p12&quot;,&quot;123456&quot;).getCertificate();\n}\n\npublic static DSSPrivateKeyEntry getKey(String certificate, String pin) throws Exception {\n    try (Pkcs12SignatureToken signatureToken = new Pkcs12SignatureToken(&quot;certificate.p12&quot;,\n            new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()))) {\n        List&lt;DSSPrivateKeyEntry&gt; keys = signatureToken.getKeys();\n        KSPrivateKeyEntry dssPrivateKeyEntry = (KSPrivateKeyEntry) keys.get(0);\n        DSSPrivateKeyEntry entry = signatureToken.getKey(dssPrivateKeyEntry.getAlias(),\n                new KeyStore.PasswordProtection(&quot;123456&quot;.toCharArray()));\n        return entry;\n    }\n}\nprivate static class ExternalCMSPAdESService extends PAdESService {\n\n    private static final long serialVersionUID = -2003453716888412577L;\n\n    private byte[] cmsSignedData;\n\n    public ExternalCMSPAdESService(CertificateVerifier certificateVerifier) {\n        super(certificateVerifier);\n    }\n\n    @Override\n    protected byte[] generateCMSSignedData(final DSSDocument toSignDocument, final PAdESSignatureParameters parameters,\n                                           final SignatureValue signatureValue) {\n        if (this.cmsSignedData == null) {\n            throw new NullPointerException(&quot;A CMS signed data must be provided&quot;);\n        }\n        return this.cmsSignedData;\n    }\n\n    public void setCmsSignedData(final byte[] cmsSignedData) {\n        this.cmsSignedData = cmsSignedData;\n    }\n\n}\n}\n</code></pre>\n"},{"tags":["java","spring","ssl"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1643826779,"post_id":70959185,"comment_id":125445056,"body_markdown":"Check your exact Java 8 version https://stackoverflow.com/questions/29437596/tlsv1-3-is-it-available-now-in-java-8","body":"Check your exact Java 8 version <a href=\"https://stackoverflow.com/questions/29437596/tlsv1-3-is-it-available-now-in-java-8\" title=\"tlsv1 3 is it available now in java 8\">stackoverflow.com/questions/29437596/&hellip;</a>"}],"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643819107,"creation_date":1643819107,"question_id":70959185,"body_markdown":"We have a spring boot app with an embedded Tomcat server. I started getting protocol version errors recently which I think could be due to an update. These errors originally surfaced locally after a spring boot upgrade so that is probably related. We are still on Java 8.\r\n\r\nI resolved this initially by adding -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2,TLSv1.3 to my app startup.\r\n\r\nHowever, whenever trying to call my app I now get the following error:\r\n\r\n    java.lang.IllegalArgumentException: TLSv1.3\r\n    \tat sun.security.ssl.ProtocolVersion.valueOf(ProtocolVersion.java:187)\r\n    \tat sun.security.ssl.ProtocolList.convert(ProtocolList.java:84)\r\n        ...\r\n    \tat\r\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nWith postman I tried forcing this by excluding TLSv1.3, With curl I tried using `--tls-max 1.2` combined with tlsv1.2 but the same error still happens. How can I determine where v1.3 is being used and prevent it from happening?","title":"TLSv1.3 Unsupported Issues in SpringBoot application","body":"<p>We have a spring boot app with an embedded Tomcat server. I started getting protocol version errors recently which I think could be due to an update. These errors originally surfaced locally after a spring boot upgrade so that is probably related. We are still on Java 8.</p>\n<p>I resolved this initially by adding -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2,TLSv1.3 to my app startup.</p>\n<p>However, whenever trying to call my app I now get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: TLSv1.3\n    at sun.security.ssl.ProtocolVersion.valueOf(ProtocolVersion.java:187)\n    at sun.security.ssl.ProtocolList.convert(ProtocolList.java:84)\n    ...\n    at\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>With postman I tried forcing this by excluding TLSv1.3, With curl I tried using <code>--tls-max 1.2</code> combined with tlsv1.2 but the same error still happens. How can I determine where v1.3 is being used and prevent it from happening?</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1643817741,"post_id":70958800,"comment_id":125441252,"body_markdown":"Hi and welcome ! Please post the code as a formatted snippet (Ctrl+K / CMD+K should help with that): it&#39;s easier for others to support/test (instead of retypying from a screenshot). An image that would be useful is that of an example sprite you&#39;re attempting to use in your game.","body":"Hi and welcome ! Please post the code as a formatted snippet (Ctrl+K / CMD+K should help with that): it&#39;s easier for others to support/test (instead of retypying from a screenshot). An image that would be useful is that of an example sprite you&#39;re attempting to use in your game."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643818825,"creation_date":1643818825,"answer_id":70959121,"question_id":70958800,"body_markdown":"If your game character is already nicely cutout and with a transparent background you should be able to load it the same way you load the background.\r\nIn terms of the file location it should be within the sketch folder or within a folder named `data` within your sketch folder:\r\n\r\n - `PImage sprite = loadImage(&quot;yourSpriteHere.png&quot;);` would load the one character image\r\n - `image(sprite, 0, 0);` would render it at the top left corner.\r\n - you can define and use `float x,y` variables it&#39;s position which you can update if a key is pressed\r\n\r\nLet&#39;s assume you have a sketch that contains `myAwesomeCharacter.png`, a basic test sketch would look like this:\r\n```\r\n// how many pixels per frame the character moves\r\nfloat charSpeed = 1.5;\r\n// current character position\r\nfloat charX, charY;\r\n// character image\r\nPImage charImage;\r\n\r\nvoid setup(){\r\n  size(300, 300);\r\n  // load image\r\n  charImage = loadImage(&quot;myAwesomeCharacter.png&quot;);\r\n}\r\n\r\nvoid draw(){\r\n  // update keys\r\n  if(keyPressed){\r\n    if(keyCode == UP &amp;&amp; charY &gt; 0){\r\n      charY -= charSpeed;\r\n    }\r\n    if(keyCode == DOWN &amp;&amp; charY &lt; height){\r\n      charY += charSpeed;\r\n    }\r\n    if(keyCode == LEFT &amp;&amp; charX &gt; 0){\r\n      charX -= charSpeed;\r\n    }\r\n    if(keyCode == RIGHT &amp;&amp; charX &lt; width){\r\n      charX += charSpeed;\r\n    }\r\n  }\r\n  // render\r\n  background(0);\r\n  image(charImage, charX, charY);\r\n}\r\n```\r\n\r\nIt&#39;s unclear if you&#39;re going for a top down, side view or other view: this might change how you update the character movement a bit.\r\n\r\nAdditionally it&#39;s unclear if you have a single static character image or a spritesheet image which in one image contains multiple poses such as a walk cycle animation. If this is the case you can find a [detailed answer on spritesheets here][1]: it is in p5.js, however it should be trivial to adapt the minor syntax changes from p5.js to Processing where needed:\r\n\r\n```java\r\n// full spritesheet\r\nPImage spriteSheet;\r\n// a sprite sampling from sprite sheet\r\nPImage mario;\r\n\r\n// 8 frames in the spritesheet\r\nint numSprites   = 8;\r\n// each sprite in the sheet has this bounding box\r\nint spriteWidth  = 18;\r\nint spriteHeight = 24; \r\n// start frame\r\nint spriteIndex  = 1;\r\n\r\nvoid setup(){\r\n  size(150,150);\r\n  frameRate(24);\r\n  noSmooth();\r\n  noFill();\r\n  spriteSheet = loadImage(&quot;mario.png&quot;);\r\n  // create an image to draw a single sprite into\r\n  mario = createImage(spriteWidth,spriteHeight, RGB);\r\n}\r\n// set all pixels (R,G,B,A) to the same value (e.g. clear image with a colour)\r\nvoid setAllPixels(PImage image,int brightness){\r\n  // prep. pixels for manipulation\r\n  image.loadPixels();\r\n  int numPixels = image.pixels.length;\r\n  // loop through all pixels (spriteWidth * spriteHeight * colourChannels(4))\r\n  for(int i = 0 ; i &lt; numPixels; i++){\r\n    image.pixels[i] = brightness;\r\n  }\r\n  // commit value changes to image: updates it all in one go, more efficient than set()\r\n  image.updatePixels();\r\n}\r\n\r\nvoid draw(){\r\n  // clear frame\r\n  background(255);\r\n  // display the whole sprite sheet\r\n  image(spriteSheet,0,0);\r\n  // increment sprite index\r\n  spriteIndex++;\r\n  // reset sprite index if out of bounds\r\n  if(spriteIndex &gt;= numSprites){\r\n    spriteIndex = 0;\r\n  }\r\n  // visualise sprite copy rect\r\n  rect(spriteIndex * spriteWidth,0,spriteWidth,spriteHeight);\r\n  \r\n  // clear mario image\r\n  setAllPixels(mario,color(255));\r\n  // copy pixels from sprite sheet into sprite\r\n  // copy (source image, source coordinates(x,y,w,h), destination coordiantes (x,y,w,h) )\r\n  mario.copy(spriteSheet,\r\n             spriteIndex * spriteWidth,0,spriteWidth,spriteHeight,\r\n             0                        ,0,spriteWidth,spriteHeight);\r\n             \r\n  // display mario sprite\r\n  image(mario,mouseX,mouseY+spriteHeight);\r\n}\r\n``` \r\n\r\nmario.png data:\r\n```\r\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAYCAYAAAAVpXQNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzE1ODI1MkNDQ0MzMTFFOEJFNjA5ODI5Q0U0NzlGOEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzE1ODI1MkRDQ0MzMTFFOEJFNjA5ODI5Q0U0NzlGOEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFM0U1NkY3RkNDQTMxMUU4QkU2MDk4MjlDRTQ3OUY4QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFM0U1NkY4MENDQTMxMUU4QkU2MDk4MjlDRTQ3OUY4QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PszND6MAAAXWSURBVHja7JstkKMwFIDDDgK5srISWVlZWVmJRFbiDrecQyIrK5HIypWVlcjKlStxXF5IaAj5IZDe7d5sZhjKFr6+/4QH67Vti36Gfni/f1udn9cnYtQ0PHqwb9/e/lvb+N/JYYcsG0V7lWUef8yc5YIxZ0DwJOd7dxCvWxZEpkB0odsc/ZawgOMvddoUYZY6jV1f7pLHH094OyIU4e9E1rMYVsGDB/mMgwihN+/ZcrnUz4blf3WnAYNdf/n4JPswrdEabfEfcoSCAv0NxpQsveItKgNUNs3ka13I5VI/W5b/lZ0GjDiMB4xDfcZZzdxFGeBERTC6YFgnR9AFURGvyTro1xPlcqnfHNbLVEgYX1EQFijAxqkYxFKQJQy4niijGhKWC4YuOWADLmz3+Np9CckBpsbBcy0/nqaba/3msnwTRDsA8jac32cxdBkmXN8kx9E5wetKn1kOGLZZWkHwmDJeYhuQLShOzDZGmfZljILNbnT9YD9Rtzks/xkCLWXwTmpu7z2LOD6OyDH7O+xR9f4UxpQstU0OnjEIaCxTf0w/BxqZSBXEchd59NCDcSAAuX2eR4O2gkvWiwoyUozbw90G63XoBJnDEAORZ/FGFu9+VCwXDJHHl3dWzfh9hQPkYKggwOkHCxga5Hzyace5HFZRWrl629N9kpZk0+o3k+WbIJANMkhn9Wh8izqDocqMEYtWi0XyzGFYZmn9EaHtZtWt8wxBrQsWsSE5mnZpNe8rF9Wll81izGX5rgVywSC399hhhxrNZrlgTMlS2+SoZgb1iEP1IzJwFbCvYmwdNZxSPZ2tbFm/+ABaAnGtFFsnVHiaYCyYEiBrxRKrkscF4ykZj/kBlm0Jp5+KolV3x/dR0cYlZ3NRN0XwLGX5oy+wcksE4hnJ6kCyzZrBDNs05JYfWFus4KPLu0apeIusYLlguEwO0q2mjUa41Z/CAR3Ejjbf8QZOgqfNAj0qW451PdUJuh8a4x3YEpYvU/pKs7fYVLMEgnPD235wvS1jfzv1xiNKCY8IwtsR7VevKHovkKqj7YIxyFSapZdLg+rNxTrBZI86OrnUnEbS1SbTGQ4onkV42PH7XUg+76IN6Syco/dWZ++lLF93qzpHIH5AEIGDilWJLmE2mbGljtINcOAZV5DbBhp3zVMYYplnRganiwlikxziYBWf5xzDgvweVE/Z1AqOT4OgZcl6QZ+oiLZdgKed//L7DdXXBIXbor3fUmVgsyBiPjOyOB1fVIaFDRzPIOl6032HIesqaE0dSsh+UgFoZ1bK6PokrUwhcBJzlriHRwXQ5d3UV6TLrKUMVZmHz6QC4QSDxICtySoUlzutbXiZ+OlCxoEgguBp6kTeRcbHOVu3YGczh8sGBI+Sw8kGv2liGaew4ToBehSgcDx1gdgrxRsJDJMolIJHG7KOtlha9/mZyoJQCYpmJTI9snTB0E6ztDrbZHy37upkAIddDq/9dyInCFIio7Vc+bmfNbAsnR9mcEQWyGVeA0mcfzFAnqUUMXB+FoxP3N/5JtwaF+I6Bgus7HDxbAKR2cWU8arkcDlAP1R3j1TWXDCibqlAZIGk7vU22OtefY448Ld3dCN74xpIB1ZBpErRTBcNPVUpmAp4ReB3+UUlPxWohonRL1TTtA3yXB9EXOUQdZqTHEkWoVM0dJiMY1zHYblooHqo+hxMT8RPNzT5lVM4n6z36qHexFeZ/Nmer1tQEaXqzAiRK9Wdu56pFATZMVw9nIdZzbVp+XVIGuqdbmL8k4zHxymuSmlZUPsErZj1hAN2OmDbszWLgdPbVnJXrWQoEoVfhrBK2u3Hz/Z8FxDnSkGjja5RZg8XjGdlPKczXMOCaMDRtAP6tzenTo2WUyjfHyO+hPZCKK+IHnupfvA6qum9GMUrra6G53mt7Ddhqhl0hiXTTv/e8ESGjCPq1NtmaiYL5/3PL9V7X/G/MnQverMAUK1Zprx4PpXxM75pAP2M7zP+CDAA39ndLOWkvxoAAAAASUVORK5CYII=\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55556823/how-do-you-work-with-sprites-and-why-were-they-used-so-widely-in-older-games/55559855#55559855\r\n  [2]: http://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAYCAYAAAAVpXQNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzE1ODI1MkNDQ0MzMTFFOEJFNjA5ODI5Q0U0NzlGOEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzE1ODI1MkRDQ0MzMTFFOEJFNjA5ODI5Q0U0NzlGOEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFM0U1NkY3RkNDQTMxMUU4QkU2MDk4MjlDRTQ3OUY4QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFM0U1NkY4MENDQTMxMUU4QkU2MDk4MjlDRTQ3OUY4QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PszND6MAAAXWSURBVHja7JstkKMwFIDDDgK5srISWVlZWVmJRFbiDrecQyIrK5HIypWVlcjKlStxXF5IaAj5IZDe7d5sZhjKFr6+/4QH67Vti36Gfni/f1udn9cnYtQ0PHqwb9/e/lvb+N/JYYcsG0V7lWUef8yc5YIxZ0DwJOd7dxCvWxZEpkB0odsc/ZawgOMvddoUYZY6jV1f7pLHH094OyIU4e9E1rMYVsGDB/mMgwihN+/ZcrnUz4blf3WnAYNdf/n4JPswrdEabfEfcoSCAv0NxpQsveItKgNUNs3ka13I5VI/W5b/lZ0GjDiMB4xDfcZZzdxFGeBERTC6YFgnR9AFURGvyTro1xPlcqnfHNbLVEgYX1EQFijAxqkYxFKQJQy4niijGhKWC4YuOWADLmz3+Np9CckBpsbBcy0/nqaba/3msnwTRDsA8jac32cxdBkmXN8kx9E5wetKn1kOGLZZWkHwmDJeYhuQLShOzDZGmfZljILNbnT9YD9Rtzks/xkCLWXwTmpu7z2LOD6OyDH7O+xR9f4UxpQstU0OnjEIaCxTf0w/BxqZSBXEchd59NCDcSAAuX2eR4O2gkvWiwoyUozbw90G63XoBJnDEAORZ/FGFu9+VCwXDJHHl3dWzfh9hQPkYKggwOkHCxga5Hzyace5HFZRWrl629N9kpZk0+o3k+WbIJANMkhn9Wh8izqDocqMEYtWi0XyzGFYZmn9EaHtZtWt8wxBrQsWsSE5mnZpNe8rF9Wll81izGX5rgVywSC399hhhxrNZrlgTMlS2+SoZgb1iEP1IzJwFbCvYmwdNZxSPZ2tbFm/+ABaAnGtFFsnVHiaYCyYEiBrxRKrkscF4ykZj/kBlm0Jp5+KolV3x/dR0cYlZ3NRN0XwLGX5oy+wcksE4hnJ6kCyzZrBDNs05JYfWFus4KPLu0apeIusYLlguEwO0q2mjUa41Z/CAR3Ejjbf8QZOgqfNAj0qW451PdUJuh8a4x3YEpYvU/pKs7fYVLMEgnPD235wvS1jfzv1xiNKCY8IwtsR7VevKHovkKqj7YIxyFSapZdLg+rNxTrBZI86OrnUnEbS1SbTGQ4onkV42PH7XUg+76IN6Syco/dWZ++lLF93qzpHIH5AEIGDilWJLmE2mbGljtINcOAZV5DbBhp3zVMYYplnRganiwlikxziYBWf5xzDgvweVE/Z1AqOT4OgZcl6QZ+oiLZdgKed//L7DdXXBIXbor3fUmVgsyBiPjOyOB1fVIaFDRzPIOl6032HIesqaE0dSsh+UgFoZ1bK6PokrUwhcBJzlriHRwXQ5d3UV6TLrKUMVZmHz6QC4QSDxICtySoUlzutbXiZ+OlCxoEgguBp6kTeRcbHOVu3YGczh8sGBI+Sw8kGv2liGaew4ToBehSgcDx1gdgrxRsJDJMolIJHG7KOtlha9/mZyoJQCYpmJTI9snTB0E6ztDrbZHy37upkAIddDq/9dyInCFIio7Vc+bmfNbAsnR9mcEQWyGVeA0mcfzFAnqUUMXB+FoxP3N/5JtwaF+I6Bgus7HDxbAKR2cWU8arkcDlAP1R3j1TWXDCibqlAZIGk7vU22OtefY448Ld3dCN74xpIB1ZBpErRTBcNPVUpmAp4ReB3+UUlPxWohonRL1TTtA3yXB9EXOUQdZqTHEkWoVM0dJiMY1zHYblooHqo+hxMT8RPNzT5lVM4n6z36qHexFeZ/Nmer1tQEaXqzAiRK9Wdu56pFATZMVw9nIdZzbVp+XVIGuqdbmL8k4zHxymuSmlZUPsErZj1hAN2OmDbszWLgdPbVnJXrWQoEoVfhrBK2u3Hz/Z8FxDnSkGjja5RZg8XjGdlPKczXMOCaMDRtAP6tzenTo2WUyjfHyO+hPZCKK+IHnupfvA6qum9GMUrra6G53mt7Ddhqhl0hiXTTv/e8ESGjCPq1NtmaiYL5/3PL9V7X/G/MnQverMAUK1Zprx4PpXxM75pAP2M7zP+CDAA39ndLOWkvxoAAAAASUVORK5CYII=","title":"Where should I insert the sprites of one single character in my sketch on Processing 3.5.4?","body":"<p>If your game character is already nicely cutout and with a transparent background you should be able to load it the same way you load the background.\nIn terms of the file location it should be within the sketch folder or within a folder named <code>data</code> within your sketch folder:</p>\n<ul>\n<li><code>PImage sprite = loadImage(&quot;yourSpriteHere.png&quot;);</code> would load the one character image</li>\n<li><code>image(sprite, 0, 0);</code> would render it at the top left corner.</li>\n<li>you can define and use <code>float x,y</code> variables it's position which you can update if a key is pressed</li>\n</ul>\n<p>Let's assume you have a sketch that contains <code>myAwesomeCharacter.png</code>, a basic test sketch would look like this:</p>\n<pre><code>// how many pixels per frame the character moves\nfloat charSpeed = 1.5;\n// current character position\nfloat charX, charY;\n// character image\nPImage charImage;\n\nvoid setup(){\n  size(300, 300);\n  // load image\n  charImage = loadImage(&quot;myAwesomeCharacter.png&quot;);\n}\n\nvoid draw(){\n  // update keys\n  if(keyPressed){\n    if(keyCode == UP &amp;&amp; charY &gt; 0){\n      charY -= charSpeed;\n    }\n    if(keyCode == DOWN &amp;&amp; charY &lt; height){\n      charY += charSpeed;\n    }\n    if(keyCode == LEFT &amp;&amp; charX &gt; 0){\n      charX -= charSpeed;\n    }\n    if(keyCode == RIGHT &amp;&amp; charX &lt; width){\n      charX += charSpeed;\n    }\n  }\n  // render\n  background(0);\n  image(charImage, charX, charY);\n}\n</code></pre>\n<p>It's unclear if you're going for a top down, side view or other view: this might change how you update the character movement a bit.</p>\n<p>Additionally it's unclear if you have a single static character image or a spritesheet image which in one image contains multiple poses such as a walk cycle animation. If this is the case you can find a <a href=\"https://stackoverflow.com/questions/55556823/how-do-you-work-with-sprites-and-why-were-they-used-so-widely-in-older-games/55559855#55559855\">detailed answer on spritesheets here</a>: it is in p5.js, however it should be trivial to adapt the minor syntax changes from p5.js to Processing where needed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// full spritesheet\nPImage spriteSheet;\n// a sprite sampling from sprite sheet\nPImage mario;\n\n// 8 frames in the spritesheet\nint numSprites   = 8;\n// each sprite in the sheet has this bounding box\nint spriteWidth  = 18;\nint spriteHeight = 24; \n// start frame\nint spriteIndex  = 1;\n\nvoid setup(){\n  size(150,150);\n  frameRate(24);\n  noSmooth();\n  noFill();\n  spriteSheet = loadImage(&quot;mario.png&quot;);\n  // create an image to draw a single sprite into\n  mario = createImage(spriteWidth,spriteHeight, RGB);\n}\n// set all pixels (R,G,B,A) to the same value (e.g. clear image with a colour)\nvoid setAllPixels(PImage image,int brightness){\n  // prep. pixels for manipulation\n  image.loadPixels();\n  int numPixels = image.pixels.length;\n  // loop through all pixels (spriteWidth * spriteHeight * colourChannels(4))\n  for(int i = 0 ; i &lt; numPixels; i++){\n    image.pixels[i] = brightness;\n  }\n  // commit value changes to image: updates it all in one go, more efficient than set()\n  image.updatePixels();\n}\n\nvoid draw(){\n  // clear frame\n  background(255);\n  // display the whole sprite sheet\n  image(spriteSheet,0,0);\n  // increment sprite index\n  spriteIndex++;\n  // reset sprite index if out of bounds\n  if(spriteIndex &gt;= numSprites){\n    spriteIndex = 0;\n  }\n  // visualise sprite copy rect\n  rect(spriteIndex * spriteWidth,0,spriteWidth,spriteHeight);\n  \n  // clear mario image\n  setAllPixels(mario,color(255));\n  // copy pixels from sprite sheet into sprite\n  // copy (source image, source coordinates(x,y,w,h), destination coordiantes (x,y,w,h) )\n  mario.copy(spriteSheet,\n             spriteIndex * spriteWidth,0,spriteWidth,spriteHeight,\n             0                        ,0,spriteWidth,spriteHeight);\n             \n  // display mario sprite\n  image(mario,mouseX,mouseY+spriteHeight);\n}\n</code></pre>\n<p>mario.png data:</p>\n<pre><code>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAYCAYAAAAVpXQNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzE1ODI1MkNDQ0MzMTFFOEJFNjA5ODI5Q0U0NzlGOEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzE1ODI1MkRDQ0MzMTFFOEJFNjA5ODI5Q0U0NzlGOEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFM0U1NkY3RkNDQTMxMUU4QkU2MDk4MjlDRTQ3OUY4QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFM0U1NkY4MENDQTMxMUU4QkU2MDk4MjlDRTQ3OUY4QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PszND6MAAAXWSURBVHja7JstkKMwFIDDDgK5srISWVlZWVmJRFbiDrecQyIrK5HIypWVlcjKlStxXF5IaAj5IZDe7d5sZhjKFr6+/4QH67Vti36Gfni/f1udn9cnYtQ0PHqwb9/e/lvb+N/JYYcsG0V7lWUef8yc5YIxZ0DwJOd7dxCvWxZEpkB0odsc/ZawgOMvddoUYZY6jV1f7pLHH094OyIU4e9E1rMYVsGDB/mMgwihN+/ZcrnUz4blf3WnAYNdf/n4JPswrdEabfEfcoSCAv0NxpQsveItKgNUNs3ka13I5VI/W5b/lZ0GjDiMB4xDfcZZzdxFGeBERTC6YFgnR9AFURGvyTro1xPlcqnfHNbLVEgYX1EQFijAxqkYxFKQJQy4niijGhKWC4YuOWADLmz3+Np9CckBpsbBcy0/nqaba/3msnwTRDsA8jac32cxdBkmXN8kx9E5wetKn1kOGLZZWkHwmDJeYhuQLShOzDZGmfZljILNbnT9YD9Rtzks/xkCLWXwTmpu7z2LOD6OyDH7O+xR9f4UxpQstU0OnjEIaCxTf0w/BxqZSBXEchd59NCDcSAAuX2eR4O2gkvWiwoyUozbw90G63XoBJnDEAORZ/FGFu9+VCwXDJHHl3dWzfh9hQPkYKggwOkHCxga5Hzyace5HFZRWrl629N9kpZk0+o3k+WbIJANMkhn9Wh8izqDocqMEYtWi0XyzGFYZmn9EaHtZtWt8wxBrQsWsSE5mnZpNe8rF9Wll81izGX5rgVywSC399hhhxrNZrlgTMlS2+SoZgb1iEP1IzJwFbCvYmwdNZxSPZ2tbFm/+ABaAnGtFFsnVHiaYCyYEiBrxRKrkscF4ykZj/kBlm0Jp5+KolV3x/dR0cYlZ3NRN0XwLGX5oy+wcksE4hnJ6kCyzZrBDNs05JYfWFus4KPLu0apeIusYLlguEwO0q2mjUa41Z/CAR3Ejjbf8QZOgqfNAj0qW451PdUJuh8a4x3YEpYvU/pKs7fYVLMEgnPD235wvS1jfzv1xiNKCY8IwtsR7VevKHovkKqj7YIxyFSapZdLg+rNxTrBZI86OrnUnEbS1SbTGQ4onkV42PH7XUg+76IN6Syco/dWZ++lLF93qzpHIH5AEIGDilWJLmE2mbGljtINcOAZV5DbBhp3zVMYYplnRganiwlikxziYBWf5xzDgvweVE/Z1AqOT4OgZcl6QZ+oiLZdgKed//L7DdXXBIXbor3fUmVgsyBiPjOyOB1fVIaFDRzPIOl6032HIesqaE0dSsh+UgFoZ1bK6PokrUwhcBJzlriHRwXQ5d3UV6TLrKUMVZmHz6QC4QSDxICtySoUlzutbXiZ+OlCxoEgguBp6kTeRcbHOVu3YGczh8sGBI+Sw8kGv2liGaew4ToBehSgcDx1gdgrxRsJDJMolIJHG7KOtlha9/mZyoJQCYpmJTI9snTB0E6ztDrbZHy37upkAIddDq/9dyInCFIio7Vc+bmfNbAsnR9mcEQWyGVeA0mcfzFAnqUUMXB+FoxP3N/5JtwaF+I6Bgus7HDxbAKR2cWU8arkcDlAP1R3j1TWXDCibqlAZIGk7vU22OtefY448Ld3dCN74xpIB1ZBpErRTBcNPVUpmAp4ReB3+UUlPxWohonRL1TTtA3yXB9EXOUQdZqTHEkWoVM0dJiMY1zHYblooHqo+hxMT8RPNzT5lVM4n6z36qHexFeZ/Nmer1tQEaXqzAiRK9Wdu56pFATZMVw9nIdZzbVp+XVIGuqdbmL8k4zHxymuSmlZUPsErZj1hAN2OmDbszWLgdPbVnJXrWQoEoVfhrBK2u3Hz/Z8FxDnSkGjja5RZg8XjGdlPKczXMOCaMDRtAP6tzenTo2WUyjfHyO+hPZCKK+IHnupfvA6qum9GMUrra6G53mt7Ddhqhl0hiXTTv/e8ESGjCPq1NtmaiYL5/3PL9V7X/G/MnQverMAUK1Zprx4PpXxM75pAP2M7zP+CDAA39ndLOWkvxoAAAAASUVORK5CYII=\n</code></pre>\n"}],"owner":{"account_id":22609679,"reputation":19,"user_id":16882869,"display_name":"Rafaelle Duarte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70959121,"answer_count":1,"score":0,"last_activity_date":1643818825,"creation_date":1643817583,"question_id":70958800,"body_markdown":"I need to build up a simple game for university purposes and I have downloaded some sprites in png of one single game character, however I&#39;m not sufficiently familiarised with where I should combine all the sprites to make the character move. Below there is a screenshot of my basic code, which places a background on the screen. I just need a bit of guidance towards the structure of the code. Where the sprites should be placed?\r\n\r\n[screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mqxnU.png","title":"Where should I insert the sprites of one single character in my sketch on Processing 3.5.4?","body":"<p>I need to build up a simple game for university purposes and I have downloaded some sprites in png of one single game character, however I'm not sufficiently familiarised with where I should combine all the sprites to make the character move. Below there is a screenshot of my basic code, which places a background on the screen. I just need a bit of guidance towards the structure of the code. Where the sprites should be placed?</p>\n<p><a href=\"https://i.stack.imgur.com/mqxnU.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"},{"tags":["javascript","java","nashorn","graalvm"],"comments":[{"owner":{"account_id":497130,"reputation":1166,"user_id":1885085,"display_name":"Gilles D."},"score":0,"creation_date":1512901014,"post_id":47725902,"comment_id":82435776,"body_markdown":"When you use `--jvm` you are still running with Graal.js. It&#39;s a mode where you run Graal.js inside the JVM which gives you access to all the JVM features. The default mode (`--native`) runs in a pre-compiled native binary that is faster to start-up but does not support loading Java classes.","body":"When you use <code>--jvm</code> you are still running with Graal.js. It&#39;s a mode where you run Graal.js inside the JVM which gives you access to all the JVM features. The default mode (<code>--native</code>) runs in a pre-compiled native binary that is faster to start-up but does not support loading Java classes."}],"answers":[{"tags":[],"owner":{"account_id":4132687,"reputation":1136,"user_id":3390117,"accept_rate":79,"display_name":"adamM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1513491830,"creation_date":1513491830,"answer_id":47852732,"question_id":47725902,"body_markdown":"add the --jvm arg to the JS command to run Graal.js on JVM, this will allow access to Java objects.","title":"Use java class in Graal.js","body":"<p>add the --jvm arg to the JS command to run Graal.js on JVM, this will allow access to Java objects.</p>\n"}],"owner":{"account_id":4132687,"reputation":1136,"user_id":3390117,"accept_rate":79,"display_name":"adamM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47852732,"answer_count":1,"score":3,"last_activity_date":1643818794,"creation_date":1512800203,"question_id":47725902,"body_markdown":"Using Graal.js, how can I import a java class to script within JS?\r\n\r\nThe following code works with Nashorn JJS, but does not work with Graal.js because there is no `Java.type()` in graal, do I need to invoke truffle at some point?\r\n\r\n    var ArrayList = Java.type(&quot;java.util.ArrayList&quot;);\r\n    var myList = new ArrayList();\r\n    myList.add(&quot;hello&quot;);\r\n    myList.add(&quot;world&quot;);\r\n    print(myList);\r\n\r\nEDIT: I was able to get it to import java types using the `--jvm` paramter, which seems to indicate that it runs it on the JVM.  So does this completely pas over the GraalVM and just use the JVM?","title":"Use java class in Graal.js","body":"<p>Using Graal.js, how can I import a java class to script within JS?</p>\n\n<p>The following code works with Nashorn JJS, but does not work with Graal.js because there is no <code>Java.type()</code> in graal, do I need to invoke truffle at some point?</p>\n\n<pre><code>var ArrayList = Java.type(\"java.util.ArrayList\");\nvar myList = new ArrayList();\nmyList.add(\"hello\");\nmyList.add(\"world\");\nprint(myList);\n</code></pre>\n\n<p>EDIT: I was able to get it to import java types using the <code>--jvm</code> paramter, which seems to indicate that it runs it on the JVM.  So does this completely pas over the GraalVM and just use the JVM?</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":10712859,"reputation":31,"user_id":7884576,"display_name":"Adam Golden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643818779,"creation_date":1643818779,"answer_id":70959106,"question_id":70565863,"body_markdown":"I think you need to add @Repository to the DiscordUserRepo1 class ","title":"Interface not recognized as a Bean by Spring Boot","body":"<p>I think you need to add @Repository to the DiscordUserRepo1 class</p>\n"}],"owner":{"account_id":12603860,"reputation":121,"user_id":9165579,"display_name":"Larry Teischwilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1220,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643818779,"creation_date":1641213317,"question_id":70565863,"body_markdown":"OK, before the downvotes come here is how this question is different from:\r\n[Repository Injection not been recognized as bean][1]: Annotating the main class to make it scan the base package does not work for me.\r\n\r\n[&#39;Field required a bean of type that could not be found.&#39; error spring restful API using mongodb][2]: well, I&#39;m not using MongoDB, but even if I was, the answers to that question do not solve my problem. My packages are set up correctly, I tried the `@Service` annotation, made sure IntelliJ imported the right `Service`, tried annotating the controller with `@Component`, made sure there&#39;s no 2 beans with the same name, renamed the Bean Spring refused to see, tried clearing the cache of IntelliJ, restarted my machine, nothing. \r\n\r\n```\r\nD:.\r\nâ   .classpath\r\nâ   .project\r\nâ   DiscordConfApplication.java\r\nâ\r\nââââbin\r\nââââcontroller\r\nâ       Controller.java\r\nâ       DiscordUserController.java\r\nâ\r\nââââentity\r\nâ       DiscordEntity.java\r\nâ       DiscordUser.java\r\nâ       Guild.java\r\nâ       Member.java\r\nâ       Permissions.java\r\nâ       Role.java\r\nâ       Settings.java\r\nâ\r\nââââservice\r\n        DiscordUserRepo1.java\r\n        DiscordUserService.java\r\n```\r\nThis is the structure of my project. `com.example.discordconf` is defined as package and it contains `bin`, `controller`, `entity` and `service`.\r\n\r\nWhen I try to run my Spring app I get this error:\r\n```***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField discordUserRepo1 in com.example.discordconf.service.DiscordUserService required a bean of type &#39;com.example.discordconf.service.DiscordUserRepo1&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.discordconf.service.DiscordUserRepo1&#39; in your configuration.\r\n```\r\n\r\nHere is `DiscordUserRepo1.java` itself:\r\n```javapackage com.example.discordconf.service;\r\n\r\nimport com.example.discordconf.entity.DiscordUser;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n\r\npublic interface DiscordUserRepo1 extends JpaRepository&lt;DiscordUser, Integer&gt; {\r\n    //Optional&lt;DiscordUser&gt; findById(Integer integer);\r\n}\r\n```\r\n`DiscordUserService.java`\r\n```javapackage com.example.discordconf.service;\r\n\r\nimport com.example.discordconf.entity.DiscordUser;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class DiscordUserService {\r\n    @Autowired\r\n    DiscordUserRepo1 discordUserRepo1;\r\n\r\n    public void addNewDiscordUser(DiscordUser discordUser) {\r\n        discordUserRepo1.save(discordUser);\r\n    }\r\n\r\n    public List&lt;DiscordUser&gt; getAllDiscordUsers() {\r\n        return discordUserRepo1.findAll();\r\n    }\r\n\r\n    public Optional&lt;DiscordUser&gt; getById(int id) {\r\n        return discordUserRepo1.findById(id);\r\n    }\r\n\r\n\r\n}\r\n```\r\n`Controller.java`\r\n```javapackage com.example.discordconf.controller;\r\n\r\nimport com.example.discordconf.entity.DiscordUser;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.example.discordconf.service.DiscordUserService;\r\n\r\n\r\n\r\n@RestController\r\npublic class Controller {\r\n    @Autowired\r\n    DiscordUserService discordUserService;\r\n\r\n    @PostMapping(&quot;/adduser&quot;)\r\n    public void addNewDiscordUSer(@RequestBody DiscordUser discordUser) {\r\n        discordUserService.addNewDiscordUser(discordUser);\r\n    }\r\n}\r\n```\r\n`DiscordUserController.java`\r\n```javapackage com.example.discordconf.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class DiscordUserController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home() {\r\n        return &quot;&lt;h1&gt;Welcome to Discord Conf!&lt;/h1&gt;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n`DiscordConfApplication.java`\r\n```javapackage com.example.discordconf;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages=&quot;com.example.discordconf&quot;)\r\n//@EnableJpaRepositories(basePackages = {&quot;com.example.discordconf.Service&quot;})\r\npublic class DiscordConfApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DiscordConfApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhat am I supposed to do? I&#39;ve been trying to solve this for days and it makes me wanna tear my hair out.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63301885/repository-injection-not-been-recognized-as-bean\r\n  [2]: https://stackoverflow.com/questions/42907553/field-required-a-bean-of-type-that-could-not-be-found-error-spring-restful-ap","title":"Interface not recognized as a Bean by Spring Boot","body":"<p>OK, before the downvotes come here is how this question is different from:\n<a href=\"https://stackoverflow.com/questions/63301885/repository-injection-not-been-recognized-as-bean\">Repository Injection not been recognized as bean</a>: Annotating the main class to make it scan the base package does not work for me.</p>\n<p><a href=\"https://stackoverflow.com/questions/42907553/field-required-a-bean-of-type-that-could-not-be-found-error-spring-restful-ap\">'Field required a bean of type that could not be found.' error spring restful API using mongodb</a>: well, I'm not using MongoDB, but even if I was, the answers to that question do not solve my problem. My packages are set up correctly, I tried the <code>@Service</code> annotation, made sure IntelliJ imported the right <code>Service</code>, tried annotating the controller with <code>@Component</code>, made sure there's no 2 beans with the same name, renamed the Bean Spring refused to see, tried clearing the cache of IntelliJ, restarted my machine, nothing.</p>\n<pre><code>D:.\nâ   .classpath\nâ   .project\nâ   DiscordConfApplication.java\nâ\nââââbin\nââââcontroller\nâ       Controller.java\nâ       DiscordUserController.java\nâ\nââââentity\nâ       DiscordEntity.java\nâ       DiscordUser.java\nâ       Guild.java\nâ       Member.java\nâ       Permissions.java\nâ       Role.java\nâ       Settings.java\nâ\nââââservice\n        DiscordUserRepo1.java\n        DiscordUserService.java\n</code></pre>\n<p>This is the structure of my project. <code>com.example.discordconf</code> is defined as package and it contains <code>bin</code>, <code>controller</code>, <code>entity</code> and <code>service</code>.</p>\n<p>When I try to run my Spring app I get this error:</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField discordUserRepo1 in com.example.discordconf.service.DiscordUserService required a bean of type 'com.example.discordconf.service.DiscordUserRepo1' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.discordconf.service.DiscordUserRepo1' in your configuration.\n</code></pre>\n<p>Here is <code>DiscordUserRepo1.java</code> itself:</p>\n<pre><code>\nimport com.example.discordconf.entity.DiscordUser;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n\npublic interface DiscordUserRepo1 extends JpaRepository&lt;DiscordUser, Integer&gt; {\n    //Optional&lt;DiscordUser&gt; findById(Integer integer);\n}\n</code></pre>\n<p><code>DiscordUserService.java</code></p>\n<pre><code>\nimport com.example.discordconf.entity.DiscordUser;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class DiscordUserService {\n    @Autowired\n    DiscordUserRepo1 discordUserRepo1;\n\n    public void addNewDiscordUser(DiscordUser discordUser) {\n        discordUserRepo1.save(discordUser);\n    }\n\n    public List&lt;DiscordUser&gt; getAllDiscordUsers() {\n        return discordUserRepo1.findAll();\n    }\n\n    public Optional&lt;DiscordUser&gt; getById(int id) {\n        return discordUserRepo1.findById(id);\n    }\n\n\n}\n</code></pre>\n<p><code>Controller.java</code></p>\n<pre><code>\nimport com.example.discordconf.entity.DiscordUser;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.example.discordconf.service.DiscordUserService;\n\n\n\n@RestController\npublic class Controller {\n    @Autowired\n    DiscordUserService discordUserService;\n\n    @PostMapping(&quot;/adduser&quot;)\n    public void addNewDiscordUSer(@RequestBody DiscordUser discordUser) {\n        discordUserService.addNewDiscordUser(discordUser);\n    }\n}\n</code></pre>\n<p><code>DiscordUserController.java</code></p>\n<pre><code>\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DiscordUserController {\n    @GetMapping(&quot;/&quot;)\n    public String home() {\n        return &quot;&lt;h1&gt;Welcome to Discord Conf!&lt;/h1&gt;&quot;;\n    }\n}\n</code></pre>\n<p><code>DiscordConfApplication.java</code></p>\n<pre><code>\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages=&quot;com.example.discordconf&quot;)\n//@EnableJpaRepositories(basePackages = {&quot;com.example.discordconf.Service&quot;})\npublic class DiscordConfApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DiscordConfApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>What am I supposed to do? I've been trying to solve this for days and it makes me wanna tear my hair out.</p>\n"},{"tags":["java","javafx","treetableview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1643818798,"post_id":70958481,"comment_id":125441750,"body_markdown":"*&quot;Do I have to use a class? Can I just use a string array&quot;*. In Java, arrays are represented by classes, i.e. `String[]` is a class. If you think of it like this, then you already know the solution: you are just creating a `TreeTableView&lt;String[]&gt;` and you can basically use it like a `TreeTableView&lt;T&gt;` for any other class `T`.","body":"<i>&quot;Do I have to use a class? Can I just use a string array&quot;</i>. In Java, arrays are represented by classes, i.e. <code>String[]</code> is a class. If you think of it like this, then you already know the solution: you are just creating a <code>TreeTableView&lt;String[]&gt;</code> and you can basically use it like a <code>TreeTableView&lt;T&gt;</code> for any other class <code>T</code>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643818623,"creation_date":1643818623,"answer_id":70959053,"question_id":70958481,"body_markdown":"Never use raw types: parameterize your types properly:\r\n\r\n    public class HelloController {\r\n        @FXML\r\n        private TreeTableView&lt;String[]&gt; mytree;\r\n        @FXML\r\n        private TreeTableColumn&lt;String[], String&gt; colFirst;\r\n        @FXML\r\n        private TreeTableColumn&lt;String[], String&gt; colSecond;\r\n    \r\n        // ...\r\n    }\r\n\r\nThen in the lambda expression, `p` is a `TreeTableColumn.CellDataFeatures&lt;String[], String&gt;`, so `p.getValue()` is a `TreeItem&lt;String[]&gt;` and `p.getValue().getValue()` is the `String[]` representing the row.\r\n\r\n\r\nSo you can do\r\n\r\n    @FXML\r\n    void initialize() {\r\n        TreeItem&lt;String[]&gt; item = new TreeItem&lt;String[]&gt;(new String[]{&quot;hello&quot;, &quot;world&quot;});\r\n        colFirst.setCellValueFactory(p\r\n            -&gt; new ReadOnlyStringWrapper(p.getValue().getValue()[0]));\r\n        mytree.setRoot(item);\r\n    }","title":"javafx TreeTableView string array columns","body":"<p>Never use raw types: parameterize your types properly:</p>\n<pre><code>public class HelloController {\n    @FXML\n    private TreeTableView&lt;String[]&gt; mytree;\n    @FXML\n    private TreeTableColumn&lt;String[], String&gt; colFirst;\n    @FXML\n    private TreeTableColumn&lt;String[], String&gt; colSecond;\n\n    // ...\n}\n</code></pre>\n<p>Then in the lambda expression, <code>p</code> is a <code>TreeTableColumn.CellDataFeatures&lt;String[], String&gt;</code>, so <code>p.getValue()</code> is a <code>TreeItem&lt;String[]&gt;</code> and <code>p.getValue().getValue()</code> is the <code>String[]</code> representing the row.</p>\n<p>So you can do</p>\n<pre><code>@FXML\nvoid initialize() {\n    TreeItem&lt;String[]&gt; item = new TreeItem&lt;String[]&gt;(new String[]{&quot;hello&quot;, &quot;world&quot;});\n    colFirst.setCellValueFactory(p\n        -&gt; new ReadOnlyStringWrapper(p.getValue().getValue()[0]));\n    mytree.setRoot(item);\n}\n</code></pre>\n"}],"owner":{"account_id":206479,"reputation":11668,"user_id":455796,"accept_rate":67,"display_name":"Damn Vegetables"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70959053,"answer_count":1,"score":1,"last_activity_date":1643818623,"creation_date":1643816349,"question_id":70958481,"body_markdown":"All existing answers were using a class object to display multiple columns. Do I have to use a class? Can I just use a string array like C#&#39;s ListViewItem? If I can, how? \r\n\r\nFor example, display &quot;hello&quot; in the first column and &quot;world&quot; in the second column.\r\n\r\n    public class HelloController {\r\n        @FXML\r\n        private TreeTableView mytree;\r\n        @FXML\r\n        private TreeTableColumn colFirst;\r\n        @FXML\r\n        private TreeTableColumn colSecond;\r\n    \r\n        @FXML\r\n        void initialize()\r\n        {\r\n            TreeItem&lt;String[]&gt; item = new TreeItem&lt;String[]&gt;(new String[]{&quot;hello&quot;, &quot;world&quot;});\r\n            colFirst.setCellValueFactory((CellDataFeatures&lt;Object, String[]&gt; p)\r\n                -&gt; new ReadOnlyStringWrapper(p.getValue().toString()));\r\n            mytree.setRoot(item);\r\n        }\r\n    }\r\n\r\nfxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.fx2.HelloController&quot;&gt;\r\n      &lt;TreeTableView fx:id=&quot;mytree&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n         &lt;columns&gt;\r\n            &lt;TreeTableColumn id=&quot;colFirst&quot; prefWidth=&quot;75.0&quot; text=&quot;First&quot; /&gt;\r\n            &lt;TreeTableColumn id=&quot;colSecond&quot; prefWidth=&quot;75.0&quot; text=&quot;Second&quot; /&gt;\r\n         &lt;/columns&gt;\r\n      &lt;/TreeTableView&gt;\r\n    &lt;/VBox&gt;\r\n\r\n","title":"javafx TreeTableView string array columns","body":"<p>All existing answers were using a class object to display multiple columns. Do I have to use a class? Can I just use a string array like C#'s ListViewItem? If I can, how?</p>\n<p>For example, display &quot;hello&quot; in the first column and &quot;world&quot; in the second column.</p>\n<pre><code>public class HelloController {\n    @FXML\n    private TreeTableView mytree;\n    @FXML\n    private TreeTableColumn colFirst;\n    @FXML\n    private TreeTableColumn colSecond;\n\n    @FXML\n    void initialize()\n    {\n        TreeItem&lt;String[]&gt; item = new TreeItem&lt;String[]&gt;(new String[]{&quot;hello&quot;, &quot;world&quot;});\n        colFirst.setCellValueFactory((CellDataFeatures&lt;Object, String[]&gt; p)\n            -&gt; new ReadOnlyStringWrapper(p.getValue().toString()));\n        mytree.setRoot(item);\n    }\n}\n</code></pre>\n<p>fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.fx2.HelloController&quot;&gt;\n  &lt;TreeTableView fx:id=&quot;mytree&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\n     &lt;columns&gt;\n        &lt;TreeTableColumn id=&quot;colFirst&quot; prefWidth=&quot;75.0&quot; text=&quot;First&quot; /&gt;\n        &lt;TreeTableColumn id=&quot;colSecond&quot; prefWidth=&quot;75.0&quot; text=&quot;Second&quot; /&gt;\n     &lt;/columns&gt;\n  &lt;/TreeTableView&gt;\n&lt;/VBox&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jsf","primefaces"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1643610982,"post_id":70920018,"comment_id":125376779,"body_markdown":"Are you indeed implying that it works completely fine when you use a plain HTML element instead of `&lt;f:selectItems&gt;` like so `&lt;p&gt;#{selectOneMenuView.pessoaLista}&lt;/p&gt;`? Or does it also fail the same way?","body":"Are you indeed implying that it works completely fine when you use a plain HTML element instead of <code>&lt;f:selectItems&gt;</code> like so <code>&lt;p&gt;#{selectOneMenuView.pessoaLista}&lt;&#47;p&gt;</code>? Or does it also fail the same way?"},{"owner":{"account_id":8153471,"reputation":899,"user_id":6139796,"display_name":"Holger"},"score":0,"creation_date":1643709767,"post_id":70920018,"comment_id":125406099,"body_markdown":"All items will get the same key? `itemValue=&quot;#&quot;`","body":"All items will get the same key? <code>itemValue=&quot;#&quot;</code>"},{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1666249323,"post_id":70920018,"comment_id":130892037,"body_markdown":"What does the picture represent? The tutorial or the component you created?","body":"What does the picture represent? The tutorial or the component you created?"}],"answers":[{"tags":[],"owner":{"account_id":13249309,"reputation":1,"user_id":16805838,"display_name":"Kendall"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643818621,"creation_date":1643818621,"answer_id":70959052,"question_id":70920018,"body_markdown":"Use `List&lt;Person&gt;` and add `itemValue=&quot;#{pessoa.id}&quot;` to your `&lt;f:selectItems&gt;`\r\n\r\n        &lt;p:selectOneMenu id=&quot;pessoa&quot; \r\n                         value=&quot;#{matriculaController.pessoa}&quot;&gt;\r\n            &lt;f:selectItem itemLabel=&quot;Selecione uma Pessoa&quot; \r\n                          itemValue=&quot;&quot; /&gt;\r\n            &lt;f:selectItems value=&quot;#{selectOneMenuView.pessoaLista}&quot;\r\n                           var=&quot;pessoa&quot;\r\n                           itemLabel=&quot;#{pessoa.nome}&quot;\r\n                           itemValue=&quot;#{pessoa.id}&quot;/&gt;\r\n        &lt;/p:selectOneMenu&gt;\r\n\r\n","title":"selectItems from PrimeFaces simply won&#39;t work","body":"<p>Use <code>List&lt;Person&gt;</code> and add <code>itemValue=&quot;#{pessoa.id}&quot;</code> to your <code>&lt;f:selectItems&gt;</code></p>\n<pre><code>    &lt;p:selectOneMenu id=&quot;pessoa&quot; \n                     value=&quot;#{matriculaController.pessoa}&quot;&gt;\n        &lt;f:selectItem itemLabel=&quot;Selecione uma Pessoa&quot; \n                      itemValue=&quot;&quot; /&gt;\n        &lt;f:selectItems value=&quot;#{selectOneMenuView.pessoaLista}&quot;\n                       var=&quot;pessoa&quot;\n                       itemLabel=&quot;#{pessoa.nome}&quot;\n                       itemValue=&quot;#{pessoa.id}&quot;/&gt;\n    &lt;/p:selectOneMenu&gt;\n</code></pre>\n"}],"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643818621,"creation_date":1643586794,"question_id":70920018,"body_markdown":"I&#39;m trying to a populate a selectItems from a query and It simply won&#39;t WORK. I&#39;ve tried with List&lt;Person&gt; list, List&lt;SelectItem&gt; list, Map&lt;Long,String&gt; list... None of then works... There&#39;s no error, the prime faces won&#39;t show the list. Simply as that.\r\n\r\n          &lt;p:selectOneMenu id=&quot;pessoa&quot; value=&quot;#{matriculaController.pessoa}&quot;&gt;\r\n            &lt;f:selectItem itemLabel=&quot;Selecione uma Pessoa&quot; itemValue=&quot;&quot; /&gt;\r\n            &lt;f:selectItems\r\n              value=&quot;#{selectOneMenuView.pessoaLista}&quot;\r\n              var=&quot;pessoa&quot;\r\n              itemLabel=&quot;#{pessoa.nome}&quot;\r\n              itemValue=&quot;#&quot;\r\n            /&gt;\r\n          &lt;/p:selectOneMenu&gt;\r\n\r\nController:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Autowired\r\n    private List&lt;Person&gt; pessoaLista;\r\n\r\n    public void findAllPersons() {\r\n        pessoaLista = matriculaService.carregarPessoas();\r\n    }\r\n\r\nMy query function is working, the `pessoaLista` is populated, the HTML doesn&#39;t break. It simply comes blank.\r\n\r\nAnd I&#39;ve copied from the PrimeFaces docs... ([docs][1])\r\n\r\n[![selectOneMenu List][2]][2]\r\n\r\n\r\n  [1]: https://www.primefaces.org/showcase/ui/input/oneMenu.xhtml?jfwid=51eeb\r\n  [2]: https://i.stack.imgur.com/K58kP.png","title":"selectItems from PrimeFaces simply won&#39;t work","body":"<p>I'm trying to a populate a selectItems from a query and It simply won't WORK. I've tried with List list, List list, Map&lt;Long,String&gt; list... None of then works... There's no error, the prime faces won't show the list. Simply as that.</p>\n<pre><code>      &lt;p:selectOneMenu id=&quot;pessoa&quot; value=&quot;#{matriculaController.pessoa}&quot;&gt;\n        &lt;f:selectItem itemLabel=&quot;Selecione uma Pessoa&quot; itemValue=&quot;&quot; /&gt;\n        &lt;f:selectItems\n          value=&quot;#{selectOneMenuView.pessoaLista}&quot;\n          var=&quot;pessoa&quot;\n          itemLabel=&quot;#{pessoa.nome}&quot;\n          itemValue=&quot;#&quot;\n        /&gt;\n      &lt;/p:selectOneMenu&gt;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Getter\n@Setter\n@Autowired\nprivate List&lt;Person&gt; pessoaLista;\n\npublic void findAllPersons() {\n    pessoaLista = matriculaService.carregarPessoas();\n}\n</code></pre>\n<p>My query function is working, the <code>pessoaLista</code> is populated, the HTML doesn't break. It simply comes blank.</p>\n<p>And I've copied from the PrimeFaces docs... (<a href=\"https://www.primefaces.org/showcase/ui/input/oneMenu.xhtml?jfwid=51eeb\" rel=\"nofollow noreferrer\">docs</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/K58kP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K58kP.png\" alt=\"selectOneMenu List\" /></a></p>\n"},{"tags":["java","enums","stream","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1643818204,"creation_date":1643817411,"answer_id":70958750,"question_id":70958085,"body_markdown":"When you can change the `enum` type to\r\n\r\n```java\r\npublic enum AggregationType {\r\n    MIN(DoubleStream::min),\r\n    MAX(DoubleStream::max),\r\n    AVERAGE(DoubleStream::average);\r\n\r\n    public final Function&lt;DoubleStream, OptionalDouble&gt; operation;\r\n\r\n    AggregationType(Function&lt;DoubleStream, OptionalDouble&gt; f) {\r\n        operation = f;\r\n    }\r\n}\r\n```\r\nyou can implement the method like\r\n\r\n```java\r\npublic Float someFunction(final AggregationType aType) {\r\n    return (float)aType.operation.apply(provides.stream().mapToDouble(this::someFunc))\r\n        .orElse(-1);\r\n}\r\n```\r\n\r\nIf changing the enum type is not an option, you have to handle the mapping to the actual operation at the place where you want to implement `someFunction`, e.g.\r\n\r\n```java\r\nprivate static final Map&lt;AggregationType,Function&lt;DoubleStream, OptionalDouble&gt;&gt; OPS;\r\nstatic {\r\n    EnumMap&lt;AggregationType,Function&lt;DoubleStream, OptionalDouble&gt;&gt;\r\n        m = new EnumMap&lt;&gt;(AggregationType.class);\r\n    m.put(AggregationType.MIN, DoubleStream::min);\r\n    m.put(AggregationType.MAX, DoubleStream::max);\r\n    m.put(AggregationType.AVERAGE, DoubleStream::average);\r\n    OPS = Collections.unmodifiableMap(m);\r\n}\r\n\r\npublic Float someFunction(final AggregationType aType) {\r\n    return (float)OPS.get(aType).apply(provides.stream().mapToDouble(this::someFunc))\r\n        .orElse(-1);\r\n}\r\n```\r\n\r\n---\r\n\r\nYou can also use a `switch` statement, but itâs rather clunky\r\n\r\n```java\r\npublic Float someFunction(final AggregationType aType) {\r\n    DoubleStream ds = provides.stream().mapToDouble(this::someFunc);\r\n    OptionalDouble d;\r\n    switch(aType) {\r\n        case MAX: d = ds.max(); break;\r\n        case MIN: d = ds.min(); break;\r\n        case AVERAGE: d = ds.average(); break;\r\n        default: throw new AssertionError();\r\n    }\r\n    return (float)d.orElse(-1);\r\n}\r\n```\r\n\r\nThings get better when youâre using a recent Java version, as then, you can use a `switch` expression:\r\n\r\n```java\r\npublic Float someFunction(final AggregationType aType) {\r\n    DoubleStream ds = provides.stream().mapToDouble(this::someFunc);\r\n    return (float)(switch(aType) {\r\n        case MAX -&gt; ds.max();\r\n        case MIN -&gt; ds.min();\r\n        case AVERAGE -&gt; ds.average();\r\n    }).orElse(-1);\r\n}\r\n```\r\n\r\nThis is only accepted by the compiler when all `enum` constants are handled. Then, it will generate an equivalent to `default -&gt; throw new AssertionError();` behind the scenes which will never be taken at runtime, as long as no-one changes the `enum` type after this code has been compiled.\r\n\r\nGenerally, only the first variant forces developers who consider adding new constants to `AggregationType` to also also consider handling the associated `operation`.\r\n","title":"Java 11 Select a method to apply on a stream based on enum value","body":"<p>When you can change the <code>enum</code> type to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AggregationType {\n    MIN(DoubleStream::min),\n    MAX(DoubleStream::max),\n    AVERAGE(DoubleStream::average);\n\n    public final Function&lt;DoubleStream, OptionalDouble&gt; operation;\n\n    AggregationType(Function&lt;DoubleStream, OptionalDouble&gt; f) {\n        operation = f;\n    }\n}\n</code></pre>\n<p>you can implement the method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Float someFunction(final AggregationType aType) {\n    return (float)aType.operation.apply(provides.stream().mapToDouble(this::someFunc))\n        .orElse(-1);\n}\n</code></pre>\n<p>If changing the enum type is not an option, you have to handle the mapping to the actual operation at the place where you want to implement <code>someFunction</code>, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;AggregationType,Function&lt;DoubleStream, OptionalDouble&gt;&gt; OPS;\nstatic {\n    EnumMap&lt;AggregationType,Function&lt;DoubleStream, OptionalDouble&gt;&gt;\n        m = new EnumMap&lt;&gt;(AggregationType.class);\n    m.put(AggregationType.MIN, DoubleStream::min);\n    m.put(AggregationType.MAX, DoubleStream::max);\n    m.put(AggregationType.AVERAGE, DoubleStream::average);\n    OPS = Collections.unmodifiableMap(m);\n}\n\npublic Float someFunction(final AggregationType aType) {\n    return (float)OPS.get(aType).apply(provides.stream().mapToDouble(this::someFunc))\n        .orElse(-1);\n}\n</code></pre>\n<hr />\n<p>You can also use a <code>switch</code> statement, but itâs rather clunky</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Float someFunction(final AggregationType aType) {\n    DoubleStream ds = provides.stream().mapToDouble(this::someFunc);\n    OptionalDouble d;\n    switch(aType) {\n        case MAX: d = ds.max(); break;\n        case MIN: d = ds.min(); break;\n        case AVERAGE: d = ds.average(); break;\n        default: throw new AssertionError();\n    }\n    return (float)d.orElse(-1);\n}\n</code></pre>\n<p>Things get better when youâre using a recent Java version, as then, you can use a <code>switch</code> expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Float someFunction(final AggregationType aType) {\n    DoubleStream ds = provides.stream().mapToDouble(this::someFunc);\n    return (float)(switch(aType) {\n        case MAX -&gt; ds.max();\n        case MIN -&gt; ds.min();\n        case AVERAGE -&gt; ds.average();\n    }).orElse(-1);\n}\n</code></pre>\n<p>This is only accepted by the compiler when all <code>enum</code> constants are handled. Then, it will generate an equivalent to <code>default -&gt; throw new AssertionError();</code> behind the scenes which will never be taken at runtime, as long as no-one changes the <code>enum</code> type after this code has been compiled.</p>\n<p>Generally, only the first variant forces developers who consider adding new constants to <code>AggregationType</code> to also also consider handling the associated <code>operation</code>.</p>\n"}],"owner":{"account_id":14066096,"reputation":43,"user_id":10160901,"display_name":"Khehron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70958750,"answer_count":1,"score":3,"last_activity_date":1643818541,"creation_date":1643814779,"question_id":70958085,"body_markdown":"I have the following enum.\r\n```\r\npublic enum AggregationType\r\n{\r\n\tMIN,\r\n\tMAX,\r\n\tAVERAGE\r\n}\r\n```\r\n\r\nlet&#39;s assume that i have a function where i pass enum value like \r\n```\r\npublic Float someFunction(final AggregationType enum) {\r\n\t\t\treturn (float) provides.stream()\r\n\t\t\t                          .mapToDouble(this::someFunc)\r\n\t\t\t                          .average()\r\n\t\t\t                          .orElse(-1);\r\n\t\t\r\n\r\n}\r\n```\r\n\r\nI want to apply this .average() .min() .max() methods on a stream based on enum value. \r\n\r\nHow i can achieve this? I don&#39;t want to use simply switch function inside someFunction but rather in this return statement.\r\n\r\nSo i want to have something like\r\n\r\n```\r\npublic Float someFunction(final AggregationType enum) {\r\n            return (float) provides.stream()\r\n                                      .mapToDouble(this::someFunc)\r\n                                      .decideWhichMethodShouldBeUsed()\r\n                                      .orElse(-1);\r\n\r\n\r\n}\r\n\r\n```\r\nwhere  decideWhichMethodShouldBeUsed()\r\ndecides which func to use based on enum.\r\n","title":"Java 11 Select a method to apply on a stream based on enum value","body":"<p>I have the following enum.</p>\n<pre><code>public enum AggregationType\n{\n    MIN,\n    MAX,\n    AVERAGE\n}\n</code></pre>\n<p>let's assume that i have a function where i pass enum value like</p>\n<pre><code>public Float someFunction(final AggregationType enum) {\n            return (float) provides.stream()\n                                      .mapToDouble(this::someFunc)\n                                      .average()\n                                      .orElse(-1);\n        \n\n}\n</code></pre>\n<p>I want to apply this .average() .min() .max() methods on a stream based on enum value.</p>\n<p>How i can achieve this? I don't want to use simply switch function inside someFunction but rather in this return statement.</p>\n<p>So i want to have something like</p>\n<pre><code>public Float someFunction(final AggregationType enum) {\n            return (float) provides.stream()\n                                      .mapToDouble(this::someFunc)\n                                      .decideWhichMethodShouldBeUsed()\n                                      .orElse(-1);\n\n\n}\n\n</code></pre>\n<p>where  decideWhichMethodShouldBeUsed()\ndecides which func to use based on enum.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","garbage-collection"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1643122155,"post_id":70850690,"comment_id":125252229,"body_markdown":"Maybe entity manager is not cleared? Maybe there is an attempt to lookup things in the cache. Is this done in single transaction?","body":"Maybe entity manager is not cleared? Maybe there is an attempt to lookup things in the cache. Is this done in single transaction?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1643122248,"post_id":70850690,"comment_id":125252284,"body_markdown":"How to figure that out? @Antoniossss","body":"How to figure that out? @Antoniossss"},{"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"score":0,"creation_date":1643122406,"post_id":70850690,"comment_id":125252370,"body_markdown":"You have not provided enough information, but based on your observation I would suspect that pagination actually reads and fetches all the prior records. To get a better understanding, enable logging of SQL statements and then try to run those statements directly with the database. There should be no rows returned before ones that you are actually asking for. Second thing to check is the design and health of indexes used for this query.","body":"You have not provided enough information, but based on your observation I would suspect that pagination actually reads and fetches all the prior records. To get a better understanding, enable logging of SQL statements and then try to run those statements directly with the database. There should be no rows returned before ones that you are actually asking for. Second thing to check is the design and health of indexes used for this query."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1643122613,"post_id":70850690,"comment_id":125252483,"body_markdown":"I printed and checked the queries and they seem to be working fine. Need to check health of the indexex @jurez","body":"I printed and checked the queries and they seem to be working fine. Need to check health of the indexex @jurez"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1643122695,"post_id":70850690,"comment_id":125252530,"body_markdown":"what happens when you loop backwards? (e -&gt; a)","body":"what happens when you loop backwards? (e -&gt; a)"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1643123836,"post_id":70850690,"comment_id":125253047,"body_markdown":"@xerx593 same result","body":"@xerx593 same result"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1643123967,"post_id":70850690,"comment_id":125253103,"body_markdown":"same: so E-to-C takes long, and A &lt;100ms? (...1. why use  pagination, when we (anyways) want to read all. 2. some (sql/jpa)indices could help/improve (updated_at, type, both,...)","body":"same: so E-to-C takes long, and A &lt;100ms? (...1. why use  pagination, when we (anyways) want to read all. 2. some (sql/jpa)indices could help/improve (updated_at, type, both,...)"},{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":2,"creation_date":1643126324,"post_id":70850690,"comment_id":125254197,"body_markdown":"2 more cents: what about comparing offset and keyset pagination? maybe that could also explain some of the slowdown? https://use-the-index-luke.com/no-offset","body":"2 more cents: what about comparing offset and keyset pagination? maybe that could also explain some of the slowdown? <a href=\"https://use-the-index-luke.com/no-offset\" rel=\"nofollow noreferrer\">use-the-index-luke.com/no-offset</a>"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1643126446,"post_id":70850690,"comment_id":125254258,"body_markdown":"@xerx593 E-C takes less time, A takes 3000ms","body":"@xerx593 E-C takes less time, A takes 3000ms"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1643128797,"post_id":70850690,"comment_id":125255423,"body_markdown":"Try profiling, but this will likely be a DB issue resulting from the query used and the amount of data. As the article fladdimir shows, offset allows the DB so skip to the end, but most DBs still have to process everything in the query to know where to skip to. Generic tools like &#39;PageRequest&#39; don&#39;t know about the entity or what was read so far, so must use offset. To get better performance, you&#39;d have to know something about the last entry read in, and use that data in skipping ahead in an ordered list. Not something easy to do in stateless REST environments though.","body":"Try profiling, but this will likely be a DB issue resulting from the query used and the amount of data. As the article fladdimir shows, offset allows the DB so skip to the end, but most DBs still have to process everything in the query to know where to skip to. Generic tools like &#39;PageRequest&#39; don&#39;t know about the entity or what was read so far, so must use offset. To get better performance, you&#39;d have to know something about the last entry read in, and use that data in skipping ahead in an ordered list. Not something easy to do in stateless REST environments though."},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1643131592,"post_id":70850690,"comment_id":125256569,"body_markdown":"@fladdimir I changed to code to work with WHERE type = ? AND id &gt; ? ORDER BY id LIMIT 1000 instead of WHERE type = ? ORDER BY updated_at LIMIT 1000 ORDER ?. But for some reason it is still behaving the same way. Is it possible that there is some kind of caching going on?","body":"@fladdimir I changed to code to work with WHERE type = ? AND id &gt; ? ORDER BY id LIMIT 1000 instead of WHERE type = ? ORDER BY updated_at LIMIT 1000 ORDER ?. But for some reason it is still behaving the same way. Is it possible that there is some kind of caching going on?"},{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1643146907,"post_id":70850690,"comment_id":125262141,"body_markdown":"@bob did you run the plain sql queries directly against the db, just to be certain whether the type of pagination does really not explain the observed performance differences?","body":"@bob did you run the plain sql queries directly against the db, just to be certain whether the type of pagination does really not explain the observed performance differences?"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1643222458,"post_id":70850690,"comment_id":125284890,"body_markdown":"I ran plain sequel queries against DB. Something like select * from vehicle where type = &#39;C&#39; ORDER BY updated_at ASC LIMIT 1000 OFFSET 95000. It takes less time 1500-2000ms compared to what it takes in JPA. In JPA, by the time pagination reaches  90000+ offset value, it takes 6000-7000ms @fladdimir","body":"I ran plain sequel queries against DB. Something like select * from vehicle where type = &#39;C&#39; ORDER BY updated_at ASC LIMIT 1000 OFFSET 95000. It takes less time 1500-2000ms compared to what it takes in JPA. In JPA, by the time pagination reaches  90000+ offset value, it takes 6000-7000ms @fladdimir"},{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":1,"creation_date":1643795356,"post_id":70850690,"comment_id":125431596,"body_markdown":"@Chris I tried profiling, the queries are running normally, do not take much time, always &lt; 200ms, even for high offsets (90,000+). Another thing I noticed during profiling was that after each iteration, the &quot;live objects&quot; count for VehicleRecord list increases by 1000. I expected it to stay at 1000, but it keeps increasing by 1000 everytime. Even if we perform Manual Garbage collection using profiler, it does not remove the collection from memory, until all the iterations are complete.","body":"@Chris I tried profiling, the queries are running normally, do not take much time, always &lt; 200ms, even for high offsets (90,000+). Another thing I noticed during profiling was that after each iteration, the &quot;live objects&quot; count for VehicleRecord list increases by 1000. I expected it to stay at 1000, but it keeps increasing by 1000 everytime. Even if we perform Manual Garbage collection using profiler, it does not remove the collection from memory, until all the iterations are complete."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1643817620,"post_id":70850690,"comment_id":125441197,"body_markdown":"I&#39;m not sure I understand what you are saying about your results - It sounds like you do not have a problem with the query itself. That sounds great! I don&#39;t know what live objects refers to, or your settings - is this the number of objects you&#39;ve read into the JVM, and it is being held onto after your query? Paging is great, but you might be using the same entityManager instance for all your pages - JPA requires they be &#39;managed&#39; by the persistence unit util the EM finishes. The loops you&#39;ve shown in the VehicleService doesn&#39;t make it clear what you are doing. Likely just need an em.clear()","body":"I&#39;m not sure I understand what you are saying about your results - It sounds like you do not have a problem with the query itself. That sounds great! I don&#39;t know what live objects refers to, or your settings - is this the number of objects you&#39;ve read into the JVM, and it is being held onto after your query? Paging is great, but you might be using the same entityManager instance for all your pages - JPA requires they be &#39;managed&#39; by the persistence unit util the EM finishes. The loops you&#39;ve shown in the VehicleService doesn&#39;t make it clear what you are doing. Likely just need an em.clear()"}],"answers":[{"tags":[],"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643296515,"creation_date":1643137692,"answer_id":70854309,"question_id":70850690,"body_markdown":"Chris said something correct: It could be that you application doesn&#39;t know where it left of last time querying for &quot;B&quot;, what happens is (pagesize 1000):\r\n\r\n**You request page 0:**\r\nFind matching entries and add them to the result set. Once the result set has a size of 1000, return it.\r\n\r\n**You request page 1:**\r\nFind (!) and skip the first 1000 matching entries. Take the matching entries 1001 to 2000, add them to the result set and ignore it.\r\n\r\n**You request page 2:**\r\nFind (!) and skip the first 2000 matching entries. Take the matching entries 2001 to 3000, add them to the result set and ignore it.\r\n\r\n... and so on.\r\n\r\nSo basically the database executes the query multiple times, each time increasing the total query time because the database doesn&#39;t know where it left of last time. A solution would be to somehow pass the last-fetched id (primary key) to the query and start from there (`... AND id &gt; :id`). Maybe you\r\n\r\nI compiled a sample application to test your findings. In my vehicle table are currently ~723k entries. Database and application ran on my local machine (pagesize 1000):\r\n\r\n 1. Querying for A (0 entries) took about 10ms.\r\n 2. Querying for B (0 entries) took about 2200ms.\r\n 3. Querying for C (0 entries) took about 10ms.\r\n 4. Querying for D (0 entries) took about 10ms.\r\n 5. Querying for E (0 entries) took about 10ms.\r\n\r\nSo, I **cannot** reproduce your problem. Maybe you can cut down your code to be **as simple as possible** and share it with us (or find the bottleneck yourself).\r\n\r\nI uploaded mine to [my Github repository.][1]\r\n\r\nThe results were:\r\n\r\n\r\n    A: 185ms\r\n    B: 2139ms\r\n    B: 2007ms\r\n    B: 1863ms\r\n    B: 1930ms\r\n    C: 2ms\r\n    D: 3ms\r\n    E: 2ms\r\n    A: 1ms\r\n    B: 2020ms\r\n    B: 2044ms\r\n    B: 2006ms\r\n    B: 2053ms\r\n    B: .. same average values all over\r\n\r\nAnd to mention one thing, if you have lots of records in your database but only a small amount of different types, the index won&#39;t help much. Some SQL optimizer might ignore the index and perform a full table scan as the index cardinality could be too low.\r\n\r\n\r\n  [1]: https://github.com/mschallar/stackoverflow70850690","title":"JPA pagination query becomes slower with every subsequent call","body":"<p>Chris said something correct: It could be that you application doesn't know where it left of last time querying for &quot;B&quot;, what happens is (pagesize 1000):</p>\n<p><strong>You request page 0:</strong>\nFind matching entries and add them to the result set. Once the result set has a size of 1000, return it.</p>\n<p><strong>You request page 1:</strong>\nFind (!) and skip the first 1000 matching entries. Take the matching entries 1001 to 2000, add them to the result set and ignore it.</p>\n<p><strong>You request page 2:</strong>\nFind (!) and skip the first 2000 matching entries. Take the matching entries 2001 to 3000, add them to the result set and ignore it.</p>\n<p>... and so on.</p>\n<p>So basically the database executes the query multiple times, each time increasing the total query time because the database doesn't know where it left of last time. A solution would be to somehow pass the last-fetched id (primary key) to the query and start from there (<code>... AND id &gt; :id</code>). Maybe you</p>\n<p>I compiled a sample application to test your findings. In my vehicle table are currently ~723k entries. Database and application ran on my local machine (pagesize 1000):</p>\n<ol>\n<li>Querying for A (0 entries) took about 10ms.</li>\n<li>Querying for B (0 entries) took about 2200ms.</li>\n<li>Querying for C (0 entries) took about 10ms.</li>\n<li>Querying for D (0 entries) took about 10ms.</li>\n<li>Querying for E (0 entries) took about 10ms.</li>\n</ol>\n<p>So, I <strong>cannot</strong> reproduce your problem. Maybe you can cut down your code to be <strong>as simple as possible</strong> and share it with us (or find the bottleneck yourself).</p>\n<p>I uploaded mine to <a href=\"https://github.com/mschallar/stackoverflow70850690\" rel=\"nofollow noreferrer\">my Github repository.</a></p>\n<p>The results were:</p>\n<pre><code>A: 185ms\nB: 2139ms\nB: 2007ms\nB: 1863ms\nB: 1930ms\nC: 2ms\nD: 3ms\nE: 2ms\nA: 1ms\nB: 2020ms\nB: 2044ms\nB: 2006ms\nB: 2053ms\nB: .. same average values all over\n</code></pre>\n<p>And to mention one thing, if you have lots of records in your database but only a small amount of different types, the index won't help much. Some SQL optimizer might ignore the index and perform a full table scan as the index cardinality could be too low.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643818215,"creation_date":1643818215,"answer_id":70958953,"question_id":70850690,"body_markdown":"From the comments, the issue does not seem to be with the paging query itself, but with how it is used and the amount of data affects the JVM. The code snippet provided suggests you are calling `vehicleRepository.findByType(type, pageable);` multiple times within the same VehicleService method, with the implication being they would be all within the same EntityManager/transactional context. JPA requires EntityManager contexts cache every entity read through them, so that they can monitor and serialize any changes made to the database. If you are reading in large batches of entities, that builds up - EntityManagers are meant to represent units of work and not be long lived like that.\r\n\r\nSolution(s) would be to break up each &#39;batch&#39; into its own transactional context, with a call for each vehicle type. \r\n\r\nAlternatively, you can get a handle on the EntityManager instance. After processing your entities, call EntityManager.clear() to have it release its references to all managed entities within it, and allow them to be garbage collected if you don&#39;t have application references to them.","title":"JPA pagination query becomes slower with every subsequent call","body":"<p>From the comments, the issue does not seem to be with the paging query itself, but with how it is used and the amount of data affects the JVM. The code snippet provided suggests you are calling <code>vehicleRepository.findByType(type, pageable);</code> multiple times within the same VehicleService method, with the implication being they would be all within the same EntityManager/transactional context. JPA requires EntityManager contexts cache every entity read through them, so that they can monitor and serialize any changes made to the database. If you are reading in large batches of entities, that builds up - EntityManagers are meant to represent units of work and not be long lived like that.</p>\n<p>Solution(s) would be to break up each 'batch' into its own transactional context, with a call for each vehicle type.</p>\n<p>Alternatively, you can get a handle on the EntityManager instance. After processing your entities, call EntityManager.clear() to have it release its references to all managed entities within it, and allow them to be garbage collected if you don't have application references to them.</p>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70958953,"answer_count":2,"score":2,"last_activity_date":1643818215,"creation_date":1643121976,"question_id":70850690,"body_markdown":"Project has Spring Boot with JPA. We have a table **vehicle** with 1m+ records. Table has an indexed field *type*.\r\n\r\nWe have a use case, where we want to fetch all the records by type. For each type, we get all the vehicle records, then for next type, then for next and so on.\r\n\r\nSince there are 1m+ records, we are fetching the records for each type with the batch size of 1000. We also apply a filter with type column.\r\n\r\n**VehicleRepository.java**\r\n\r\n    Page&lt;VehicleRecord&gt; findByType(String type, Pageable pageable);\r\n\r\n**VehicleService.java**\r\n\r\n    for (String type: vehicleTypes) {\r\n    \r\n      Pageable pageable = PageRequest.of(0, 1000, Sort.by(&quot;updated_at&quot;).ascending());\r\n      Page&lt;VehicleRecord&gt; vehicles = null;\r\n    \r\n      do {\r\n        vehicles = vehicleRepository.findByType(type, pageable);\r\n        // do something with vehicles\r\n        pageable = pageable.next();\r\n      } while (vehicles.hasNext());\r\n    \r\n    }\r\n\r\nFor the sake of understanding, assume there are 5 types of records:\r\n\r\n1. A - 0 vehicles\r\n2. B - 100000 vehicles\r\n3. C - 0 vehicles\r\n4. D - 0 vehicles\r\n5. E - 0 vehicles\r\n\r\nProblem:\r\n\r\n1. In this, when fetching data for A, findByType completes in &lt; 100ms. which is good.\r\n\r\n\r\n2. When fetching for B though, first fetch with LIMIT 1000 OFFSET 0 takes ~200ms. But it is downhill from here, with increase in OFFSET value, time also increases. By the time LIMIT is 1000 and OFFSET 90000, findByType takes 6000-7000ms.\r\n\r\n3. What is further confusing is that after data is fetched for B, rest of the types (C, D &amp; E) each take 3000-4000ms, when they have 0 data.\r\n\r\nI am not sure what is happening here. I read somewhere that it is because of high OFFSET value that the method is taking so much time. But that does not explain why the method would take so much time for C, D, and E.\r\n\r\nAny inputs would be helpful. Thanks\r\n\r\n**Edit 1: Profiling results (Visual VM)**\r\n\r\n1. SQL queries are executing normally, they take hardly 150-200ms, even for high offset values.\r\n2. This is unexpected, that the vehicles collection keeps adding vehicle records to it after each iteration (observed this in memory section of profiler). I expected &quot;live object&quot; count to remain to max 1000, because that&#39;s what our limit size is. But after each iteration, it keeps adding 1000 records to it. Even after performing manual GC from profiler, it won&#39;t free that memory, until all the iterations for for loop are complete.\r\n\r\n","title":"JPA pagination query becomes slower with every subsequent call","body":"<p>Project has Spring Boot with JPA. We have a table <strong>vehicle</strong> with 1m+ records. Table has an indexed field <em>type</em>.</p>\n<p>We have a use case, where we want to fetch all the records by type. For each type, we get all the vehicle records, then for next type, then for next and so on.</p>\n<p>Since there are 1m+ records, we are fetching the records for each type with the batch size of 1000. We also apply a filter with type column.</p>\n<p><strong>VehicleRepository.java</strong></p>\n<pre><code>Page&lt;VehicleRecord&gt; findByType(String type, Pageable pageable);\n</code></pre>\n<p><strong>VehicleService.java</strong></p>\n<pre><code>for (String type: vehicleTypes) {\n\n  Pageable pageable = PageRequest.of(0, 1000, Sort.by(&quot;updated_at&quot;).ascending());\n  Page&lt;VehicleRecord&gt; vehicles = null;\n\n  do {\n    vehicles = vehicleRepository.findByType(type, pageable);\n    // do something with vehicles\n    pageable = pageable.next();\n  } while (vehicles.hasNext());\n\n}\n</code></pre>\n<p>For the sake of understanding, assume there are 5 types of records:</p>\n<ol>\n<li>A - 0 vehicles</li>\n<li>B - 100000 vehicles</li>\n<li>C - 0 vehicles</li>\n<li>D - 0 vehicles</li>\n<li>E - 0 vehicles</li>\n</ol>\n<p>Problem:</p>\n<ol>\n<li><p>In this, when fetching data for A, findByType completes in &lt; 100ms. which is good.</p>\n</li>\n<li><p>When fetching for B though, first fetch with LIMIT 1000 OFFSET 0 takes ~200ms. But it is downhill from here, with increase in OFFSET value, time also increases. By the time LIMIT is 1000 and OFFSET 90000, findByType takes 6000-7000ms.</p>\n</li>\n<li><p>What is further confusing is that after data is fetched for B, rest of the types (C, D &amp; E) each take 3000-4000ms, when they have 0 data.</p>\n</li>\n</ol>\n<p>I am not sure what is happening here. I read somewhere that it is because of high OFFSET value that the method is taking so much time. But that does not explain why the method would take so much time for C, D, and E.</p>\n<p>Any inputs would be helpful. Thanks</p>\n<p><strong>Edit 1: Profiling results (Visual VM)</strong></p>\n<ol>\n<li>SQL queries are executing normally, they take hardly 150-200ms, even for high offset values.</li>\n<li>This is unexpected, that the vehicles collection keeps adding vehicle records to it after each iteration (observed this in memory section of profiler). I expected &quot;live object&quot; count to remain to max 1000, because that's what our limit size is. But after each iteration, it keeps adding 1000 records to it. Even after performing manual GC from profiler, it won't free that memory, until all the iterations for for loop are complete.</li>\n</ol>\n"},{"tags":["java","spring","named-parameters","batch-insert"],"answers":[{"tags":[],"owner":{"account_id":1417986,"reputation":4487,"user_id":1580892,"accept_rate":75,"display_name":"Mono Jamoon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1372762500,"creation_date":1372762500,"answer_id":17423727,"question_id":17422674,"body_markdown":"As per Spring `NamedParameterJDBCTemplate` docs, found [here][1], this method can be used for batch updating with maps. \r\n\r\n`int[] \tbatchUpdate(String sql, Map&lt;String,?&gt;[] batchValues)` \r\n\r\n\r\nThe real challange was to a get an array of `Map&lt;String, Object&gt;` from a corresponding `List&lt;Map&lt;String, Object&gt;&gt;`. I used the following code to get the array and perform the batch update.\r\n\r\n    public static Map&lt;String, Object&gt;[] getArrayData(List&lt;Map&lt;String, Object&gt;&gt; list){\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tMap&lt;String, Object&gt;[] maps = new HashMap[list.size()];\r\n    \t\t\r\n    \t\tIterator&lt;Map&lt;String, Object&gt;&gt; iterator = list.iterator();\r\n    \t\tint i = 0;\r\n    \t\twhile (iterator.hasNext()) {\r\n    \t\t\tMap&lt;java.lang.String, java.lang.Object&gt; map = (Map&lt;java.lang.String, java.lang.Object&gt;) iterator\r\n    \t\t\t\t\t.next();\r\n    \t\t\tmaps[i++] = map;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn maps;\r\n    \t}\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html","title":"How to perform batch update in Spring with a list of maps?","body":"<p>As per Spring <code>NamedParameterJDBCTemplate</code> docs, found <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html\" rel=\"noreferrer\">here</a>, this method can be used for batch updating with maps. </p>\n\n<p><code>int[]  batchUpdate(String sql, Map&lt;String,?&gt;[] batchValues)</code> </p>\n\n<p>The real challange was to a get an array of <code>Map&lt;String, Object&gt;</code> from a corresponding <code>List&lt;Map&lt;String, Object&gt;&gt;</code>. I used the following code to get the array and perform the batch update.</p>\n\n<pre><code>public static Map&lt;String, Object&gt;[] getArrayData(List&lt;Map&lt;String, Object&gt;&gt; list){\n        @SuppressWarnings(\"unchecked\")\n        Map&lt;String, Object&gt;[] maps = new HashMap[list.size()];\n\n        Iterator&lt;Map&lt;String, Object&gt;&gt; iterator = list.iterator();\n        int i = 0;\n        while (iterator.hasNext()) {\n            Map&lt;java.lang.String, java.lang.Object&gt; map = (Map&lt;java.lang.String, java.lang.Object&gt;) iterator\n                    .next();\n            maps[i++] = map;\n        }\n\n        return maps;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4070659,"reputation":457,"user_id":3343882,"display_name":"Tien Nguyen"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1547718757,"creation_date":1547718757,"answer_id":54233180,"question_id":17422674,"body_markdown":"I tested with code.\r\n\r\n```java\r\nMap&lt;String, Object&gt;[] rs = new Map&lt;String, Object&gt;[1];\r\n\r\nMap&lt;String, Object&gt; item1 = new HashMap&lt;&gt;();\r\nitem1.put(&quot;name&quot;, &quot;Tien Nguyen&quot;);\r\nitem1.put(&quot;age&quot;, 35);\r\nrs[0] = item1;\r\n\r\nNamedParameterJdbcTemplate jdbc = new NamedParameterJdbcTemplate(datasource); \r\n// datasource from JDBC.\r\njdbc.batchUpdate(&quot;call sp(:name, :age)&quot;, rs);\r\n```\r\n\r\nHope it is easy to know.\r\nThanks","title":"How to perform batch update in Spring with a list of maps?","body":"<p>I tested with code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt;[] rs = new Map&lt;String, Object&gt;[1];\n\nMap&lt;String, Object&gt; item1 = new HashMap&lt;&gt;();\nitem1.put(\"name\", \"Tien Nguyen\");\nitem1.put(\"age\", 35);\nrs[0] = item1;\n\nNamedParameterJdbcTemplate jdbc = new NamedParameterJdbcTemplate(datasource); \n// datasource from JDBC.\njdbc.batchUpdate(\"call sp(:name, :age)\", rs);\n</code></pre>\n\n<p>Hope it is easy to know.\nThanks</p>\n"},{"tags":[],"owner":{"account_id":16437163,"reputation":124,"user_id":11874466,"display_name":"Reynier Ramos Portieles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643818031,"creation_date":1583229436,"answer_id":60504563,"question_id":17422674,"body_markdown":"There is another way to avoid `@SuppressWarnings(&quot;unchecked&quot;)`.\r\n\r\n    public static final String INSERT_INTO = &quot;INSERT INTO {0} ({1}) VALUES ({2})&quot;;\r\n\r\n    private NamedParameterJdbcTemplate template;\r\n\r\n\r\n    template.batchUpdate(insertQuery(rowMaps.get(0)), batchArgs(mapRows));\r\n\r\n    /**\r\n     * Create SQL instruction INSERT from Map record\r\n     *\r\n     * @return literal INSERT INTO [schema].[prefix][table_name] (column1, column2, column3, ...)\r\n     * VALUES (value1, value2, value3, ...);\r\n     */\r\n    public String insertQuery(Map&lt;String, String&gt; rowMap) {\r\n        String schemaTable = Objects.isNull(getSchema()) ? table : getSchema() + &quot;.&quot; + table;\r\n        String splittedColumns = String.join(&quot;,&quot;, rowMap.keySet());\r\n        String splittedValues = rowMap.keySet().stream()\r\n                .map(s -&gt; &quot;:&quot; + s).collect(Collectors.joining(&quot;,&quot;));\r\n        return MessageFormat.format(INSERT_INTO, schemaTable, splittedColumns, splittedValues);\r\n    }\r\n\r\n    private MapSqlParameterSource[] batchArgs(List&lt;Map&lt;String, String&gt;&gt; mapRows) {\r\n        int size = mapRows.size();\r\n        MapSqlParameterSource[] batchArgs = new MapSqlParameterSource[size];\r\n        IntStream.range(0, size).forEach(i -&gt; {\r\n            MapSqlParameterSource args = new MapSqlParameterSource(mapRows.get(i));\r\n            batchArgs[i] = args;\r\n        });\r\n\r\n        return batchArgs;\r\n    }\r\n\r\nBest regards","title":"How to perform batch update in Spring with a list of maps?","body":"<p>There is another way to avoid <code>@SuppressWarnings(&quot;unchecked&quot;)</code>.</p>\n<pre><code>public static final String INSERT_INTO = &quot;INSERT INTO {0} ({1}) VALUES ({2})&quot;;\n\nprivate NamedParameterJdbcTemplate template;\n\n\ntemplate.batchUpdate(insertQuery(rowMaps.get(0)), batchArgs(mapRows));\n\n/**\n * Create SQL instruction INSERT from Map record\n *\n * @return literal INSERT INTO [schema].[prefix][table_name] (column1, column2, column3, ...)\n * VALUES (value1, value2, value3, ...);\n */\npublic String insertQuery(Map&lt;String, String&gt; rowMap) {\n    String schemaTable = Objects.isNull(getSchema()) ? table : getSchema() + &quot;.&quot; + table;\n    String splittedColumns = String.join(&quot;,&quot;, rowMap.keySet());\n    String splittedValues = rowMap.keySet().stream()\n            .map(s -&gt; &quot;:&quot; + s).collect(Collectors.joining(&quot;,&quot;));\n    return MessageFormat.format(INSERT_INTO, schemaTable, splittedColumns, splittedValues);\n}\n\nprivate MapSqlParameterSource[] batchArgs(List&lt;Map&lt;String, String&gt;&gt; mapRows) {\n    int size = mapRows.size();\n    MapSqlParameterSource[] batchArgs = new MapSqlParameterSource[size];\n    IntStream.range(0, size).forEach(i -&gt; {\n        MapSqlParameterSource args = new MapSqlParameterSource(mapRows.get(i));\n        batchArgs[i] = args;\n    });\n\n    return batchArgs;\n}\n</code></pre>\n<p>Best regards</p>\n"},{"tags":[],"owner":{"account_id":18892472,"reputation":41,"user_id":13782452,"display_name":"Ashique Nawaz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605858753,"creation_date":1605858753,"answer_id":64925683,"question_id":17422674,"body_markdown":"You can not directly use your bean in NamedParameterJdbcTemplate&#39;s batchUpdate, NamedParameterJdbcTemplate&#39;s batchUpdate accepts params in form of array only. Either an array of SqlParameterSource or an array of Map.\r\n\r\nHere I will demonstrate how you can use array of Map to achieve your goal.\r\n\r\nConsidering the above problem, convert your List of Bean into array of map, \r\nEach map corresponds to one row to be inserted or One Bean object, field and its value are stored as key-value pair inside the map where key is the field name and value is the value of the field under consideration. \r\n\r\n\r\n    @Autowired\r\n    private NamedParameterJDBCTemplate v2_template;\r\n\r\n    public int[] bulkInsertIntoSiteTable(List&lt;SiteBean&gt; list){\r\n            String yourQuery = &quot;insert into sitestatus (website, status, createdby) \r\n                   values (:website, :status, :username)&quot;\r\n            \r\n            Map&lt;String,Object&gt;[] batchOfInputs = new HashMap[list.size()];\r\n            int count = 0;\r\n            for(SiteBean sb : list.size()){\r\n               Map&lt;String,Object&gt; map = new HashMap();\r\n               map.put(&quot;website&quot;,sb.getWebsite());\r\n               map.put(&quot;status&quot;,sb.getStatus());\r\n               map.put(&quot;username&quot;,sb.getUsername());\r\n               batchOfInputs[count++]= map;\r\n            }\r\n            int[] updateCounts = v2_template.batchUpdate(yourQuery,batchOfInputs);\r\n\r\n            return updateCounts;\r\n\r\n        }","title":"How to perform batch update in Spring with a list of maps?","body":"<p>You can not directly use your bean in NamedParameterJdbcTemplate's batchUpdate, NamedParameterJdbcTemplate's batchUpdate accepts params in form of array only. Either an array of SqlParameterSource or an array of Map.</p>\n<p>Here I will demonstrate how you can use array of Map to achieve your goal.</p>\n<p>Considering the above problem, convert your List of Bean into array of map,\nEach map corresponds to one row to be inserted or One Bean object, field and its value are stored as key-value pair inside the map where key is the field name and value is the value of the field under consideration.</p>\n<pre><code>@Autowired\nprivate NamedParameterJDBCTemplate v2_template;\n\npublic int[] bulkInsertIntoSiteTable(List&lt;SiteBean&gt; list){\n        String yourQuery = &quot;insert into sitestatus (website, status, createdby) \n               values (:website, :status, :username)&quot;\n        \n        Map&lt;String,Object&gt;[] batchOfInputs = new HashMap[list.size()];\n        int count = 0;\n        for(SiteBean sb : list.size()){\n           Map&lt;String,Object&gt; map = new HashMap();\n           map.put(&quot;website&quot;,sb.getWebsite());\n           map.put(&quot;status&quot;,sb.getStatus());\n           map.put(&quot;username&quot;,sb.getUsername());\n           batchOfInputs[count++]= map;\n        }\n        int[] updateCounts = v2_template.batchUpdate(yourQuery,batchOfInputs);\n\n        return updateCounts;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10397558,"reputation":81,"user_id":7666913,"display_name":"Tilak Patil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612991073,"creation_date":1612991073,"answer_id":66145003,"question_id":17422674,"body_markdown":"One working snippet :\r\n\r\n   \r\n\r\n     public List builkInsert(String insert,List details) {\r\n\r\n            Map&lt;String, Object&gt;[] maps = new HashMap[details.size()];\r\n        \t\r\n            Map&lt;String, Object&gt;[] batchValues = (Map&lt;String, Object&gt;[]) details.toArray(maps);\r\n        \t\r\n        \tint[] response=\tnamedParameterJdbcTemplate.batchUpdate(insert, batchValues);\r\n        \r\n        \treturn Arrays.asList(response);\r\n        }","title":"How to perform batch update in Spring with a list of maps?","body":"<p>One working snippet :</p>\n<pre><code> public List builkInsert(String insert,List details) {\n\n        Map&lt;String, Object&gt;[] maps = new HashMap[details.size()];\n        \n        Map&lt;String, Object&gt;[] batchValues = (Map&lt;String, Object&gt;[]) details.toArray(maps);\n        \n        int[] response= namedParameterJdbcTemplate.batchUpdate(insert, batchValues);\n    \n        return Arrays.asList(response);\n    }\n</code></pre>\n"}],"owner":{"account_id":1417986,"reputation":4487,"user_id":1580892,"accept_rate":75,"display_name":"Mono Jamoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43500,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":17423727,"answer_count":5,"score":14,"last_activity_date":1643818031,"creation_date":1372759298,"question_id":17422674,"body_markdown":"New to Spring, I am trying to insert a `List&lt;Map&lt;String, Object&gt;&gt;` into a table. Until now I have been using the `SqlParameterSource` for batch update, which works fine when a java bean is supplied to them. Something like this:\r\n\r\n        @Autowired\r\n        private NamedParameterJDBCTemplate v2_template;\r\n\r\n        public int[] bulkInsertIntoSiteTable(List&lt;SiteBean&gt; list){\r\n        \t\tSqlParameterSource[] batch = SqlParameterSourceUtils\r\n        \t\t\t\t.createBatch(list.toArray());\r\n        \t\tint[] updateCounts = v2_template\r\n        \t\t\t\t.batchUpdate(\r\n        \t\t\t\t\t\t&quot;insert into sitestatus (website, status, createdby) values (:website, :status, :username)&quot;,\r\n        \t\t\t\t\t\tbatch);\r\n        \r\n        \t\treturn updateCounts;\r\n        \r\n        \t}\r\n\r\n\r\n\r\nHowever, I tried the same technique with a list of maps in place of a bean, it failed (rightly so).\r\n\r\n    public int[] bulkInsertIntoSiteTable(List&lt;Map&lt;String, Object&gt;&gt; list){\r\n    \t\tSqlParameterSource[] batch = SqlParameterSourceUtils\r\n    \t\t\t\t.createBatch(list.toArray());\r\n    \t\tint[] updateCounts = v2_template\r\n    \t\t\t\t.batchUpdate(\r\n    \t\t\t\t\t\t&quot;insert into sitestatus (website, status, createdby) values (:website, :status, :username)&quot;,\r\n    \t\t\t\t\t\tbatch);\r\n    \r\n    \t\treturn updateCounts;\r\n    \r\n    \t}\r\n\r\nThe above code failed with the following exception:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.dao.InvalidDataAccessApiUsageException: No value supplied for the SQL parameter &#39;website&#39;: Invalid property &#39;website&#39; of bean class [org.springframework.util.LinkedCaseInsensitiveMap]: Bean property &#39;website&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n    \tat org.springframework.jdbc.core.namedparam.NamedParameterUtils.buildValueArray(NamedParameterUtils.java:322)\r\n    \tat org.springframework.jdbc.core.namedparam.NamedParameterBatchUpdateUtils$1.setValues(NamedParameterBatchUpdateUtils.java:45)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate$4.doInPreparedStatement(JdbcTemplate.java:893)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate$4.doInPreparedStatement(JdbcTemplate.java:1)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:587)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.batchUpdate(JdbcTemplate.java:884)\r\n    \tat org.springframework.jdbc.core.namedparam.NamedParameterBatchUpdateUtils.executeBatchUpdateWithNamedParameters(NamedParameterBatchUpdateUtils.java:40)\r\n    \tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.batchUpdate(NamedParameterJdbcTemplate.java:303)\r\n    \tat tester.utitlies.dao.VersionTwoDao.bulkInsertIntoSites(VersionTwoDao.java:21)\r\n    \tat tester.utitlies.runner.Main.main(Main.java:28)\r\n\r\nIt fails as it considers the list to be a batch of beans, I guess. I cannot find a way to perform a batch update in Spring with **a list of maps** and using `NamedParameterJDBCTemplate`. Please advice.","title":"How to perform batch update in Spring with a list of maps?","body":"<p>New to Spring, I am trying to insert a <code>List&lt;Map&lt;String, Object&gt;&gt;</code> into a table. Until now I have been using the <code>SqlParameterSource</code> for batch update, which works fine when a java bean is supplied to them. Something like this:</p>\n\n<pre><code>    @Autowired\n    private NamedParameterJDBCTemplate v2_template;\n\n    public int[] bulkInsertIntoSiteTable(List&lt;SiteBean&gt; list){\n            SqlParameterSource[] batch = SqlParameterSourceUtils\n                    .createBatch(list.toArray());\n            int[] updateCounts = v2_template\n                    .batchUpdate(\n                            \"insert into sitestatus (website, status, createdby) values (:website, :status, :username)\",\n                            batch);\n\n            return updateCounts;\n\n        }\n</code></pre>\n\n<p>However, I tried the same technique with a list of maps in place of a bean, it failed (rightly so).</p>\n\n<pre><code>public int[] bulkInsertIntoSiteTable(List&lt;Map&lt;String, Object&gt;&gt; list){\n        SqlParameterSource[] batch = SqlParameterSourceUtils\n                .createBatch(list.toArray());\n        int[] updateCounts = v2_template\n                .batchUpdate(\n                        \"insert into sitestatus (website, status, createdby) values (:website, :status, :username)\",\n                        batch);\n\n        return updateCounts;\n\n    }\n</code></pre>\n\n<p>The above code failed with the following exception:</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.dao.InvalidDataAccessApiUsageException: No value supplied for the SQL parameter 'website': Invalid property 'website' of bean class [org.springframework.util.LinkedCaseInsensitiveMap]: Bean property 'website' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.jdbc.core.namedparam.NamedParameterUtils.buildValueArray(NamedParameterUtils.java:322)\n    at org.springframework.jdbc.core.namedparam.NamedParameterBatchUpdateUtils$1.setValues(NamedParameterBatchUpdateUtils.java:45)\n    at org.springframework.jdbc.core.JdbcTemplate$4.doInPreparedStatement(JdbcTemplate.java:893)\n    at org.springframework.jdbc.core.JdbcTemplate$4.doInPreparedStatement(JdbcTemplate.java:1)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:587)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:615)\n    at org.springframework.jdbc.core.JdbcTemplate.batchUpdate(JdbcTemplate.java:884)\n    at org.springframework.jdbc.core.namedparam.NamedParameterBatchUpdateUtils.executeBatchUpdateWithNamedParameters(NamedParameterBatchUpdateUtils.java:40)\n    at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.batchUpdate(NamedParameterJdbcTemplate.java:303)\n    at tester.utitlies.dao.VersionTwoDao.bulkInsertIntoSites(VersionTwoDao.java:21)\n    at tester.utitlies.runner.Main.main(Main.java:28)\n</code></pre>\n\n<p>It fails as it considers the list to be a batch of beans, I guess. I cannot find a way to perform a batch update in Spring with <strong>a list of maps</strong> and using <code>NamedParameterJDBCTemplate</code>. Please advice.</p>\n"},{"tags":["java","spring-boot","exception","interceptor","controller-advice"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643818803,"post_id":70958769,"comment_id":125441756,"body_markdown":"How is that implemented? A `HandlerInterceptor` a filter, or something else.","body":"How is that implemented? A <code>HandlerInterceptor</code> a filter, or something else."},{"owner":{"account_id":3738380,"reputation":428,"user_id":3108768,"display_name":"Dhiren"},"score":0,"creation_date":1643818891,"post_id":70958769,"comment_id":125441794,"body_markdown":"@M.Deinum as a HandlerInterceptor.","body":"@M.Deinum as a HandlerInterceptor."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643819281,"post_id":70958769,"comment_id":125441975,"body_markdown":"The only thing I can think of is because there is no mapped controller, there is no controlleradvice that is applicable. At least that would be my guess to start with.","body":"The only thing I can think of is because there is no mapped controller, there is no controlleradvice that is applicable. At least that would be my guess to start with."}],"owner":{"account_id":3738380,"reputation":428,"user_id":3108768,"display_name":"Dhiren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643817933,"creation_date":1643817495,"question_id":70958769,"body_markdown":"So we have implemented an interceptor middleware in java spring boot. The intention is to use this middleware in any client application (rest api clients) and validate all incoming http requests to prevent any CSRF attack. We are using this middleware inside one of our rest client, say java-demo. Everything works fine except the case when an invalid url i.e. the end point which does not exist, is hit. \r\n\r\n       For ex: localhost:8080/java-demo/doesnotexist\r\n\r\n In this case, when the interceptor logic raises CSRFException, it does not go to the ControllerAdvice where we have defined Exception handler for this particular exception. And in result, we get status 200 in postman, whereas we should get the exception with http status code as 403 which we throw with the response entity.\r\n\r\nBut when we hit a valid url,\r\n  \r\n\r\n    For ex: localhost:8080/java-demo/exists\r\n\r\n and if the exception is raised from the interceptor logic, then ControllerAdvice catches the exception and throws to the client, which is expected behaviour.\r\n\r\nWhat can be the possible reason ControllerAdvice is not able to catch the exception when the url is not valid.\r\n\r\n\r\n***For the sake of clarity:*** When invalid url is hit and interceptor does not throw any exception, we get 404 not found error in postman. \r\n\r\n\r\nExceptionHandler class code which is present inside csrf middleware\r\n\r\n        @ControllerAdvice\r\n    public class CSRFExceptionHandler {\r\n        @ExceptionHandler({CSRFException.class})\r\n        public ResponseEntity&lt;ErrorResponse&gt; handleCSRFException(CSRFException e) {\r\n            return new ResponseEntity&lt;&gt;(new ErrorResponse(e.getErrorCode(), e.getMessage()), HttpStatus.FORBIDDEN);\r\n        }\r\n    \r\n        @ExceptionHandler({ExpectedArgNotAvailableException.class})\r\n        public ResponseEntity&lt;ErrorResponse&gt; handleExpectedArgsNotAvailable(ExpectedArgNotAvailableException e) {\r\n            return new ResponseEntity&lt;&gt;(new ErrorResponse(e.getErrorCode(), e.getMessage()), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n\r\n","title":"ControllerAdvice is not able to catch exception being thrown from an interceptor middleware","body":"<p>So we have implemented an interceptor middleware in java spring boot. The intention is to use this middleware in any client application (rest api clients) and validate all incoming http requests to prevent any CSRF attack. We are using this middleware inside one of our rest client, say java-demo. Everything works fine except the case when an invalid url i.e. the end point which does not exist, is hit.</p>\n<pre><code>   For ex: localhost:8080/java-demo/doesnotexist\n</code></pre>\n<p>In this case, when the interceptor logic raises CSRFException, it does not go to the ControllerAdvice where we have defined Exception handler for this particular exception. And in result, we get status 200 in postman, whereas we should get the exception with http status code as 403 which we throw with the response entity.</p>\n<p>But when we hit a valid url,</p>\n<pre><code>For ex: localhost:8080/java-demo/exists\n</code></pre>\n<p>and if the exception is raised from the interceptor logic, then ControllerAdvice catches the exception and throws to the client, which is expected behaviour.</p>\n<p>What can be the possible reason ControllerAdvice is not able to catch the exception when the url is not valid.</p>\n<p><em><strong>For the sake of clarity:</strong></em> When invalid url is hit and interceptor does not throw any exception, we get 404 not found error in postman.</p>\n<p>ExceptionHandler class code which is present inside csrf middleware</p>\n<pre><code>    @ControllerAdvice\npublic class CSRFExceptionHandler {\n    @ExceptionHandler({CSRFException.class})\n    public ResponseEntity&lt;ErrorResponse&gt; handleCSRFException(CSRFException e) {\n        return new ResponseEntity&lt;&gt;(new ErrorResponse(e.getErrorCode(), e.getMessage()), HttpStatus.FORBIDDEN);\n    }\n\n    @ExceptionHandler({ExpectedArgNotAvailableException.class})\n    public ResponseEntity&lt;ErrorResponse&gt; handleExpectedArgsNotAvailable(ExpectedArgNotAvailableException e) {\n        return new ResponseEntity&lt;&gt;(new ErrorResponse(e.getErrorCode(), e.getMessage()), HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","android-studio","android-fragments","android-activity"],"comments":[{"owner":{"account_id":13321425,"reputation":127,"user_id":9615943,"display_name":"Francesco D&#39;Onorio De Meo"},"score":2,"creation_date":1643815979,"post_id":70958290,"comment_id":125440452,"body_markdown":"what about the Log ? Do you read ******** The button has been clicked ***** ?","body":"what about the Log ? Do you read ******** The button has been clicked ***** ?"},{"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"score":0,"creation_date":1643817220,"post_id":70958290,"comment_id":125441008,"body_markdown":"@Francesco D&#39;Onorio De Meo\nNo not even the long is appearing, i even searched fo the log with its tag but nothing.","body":"@Francesco D&#39;Onorio De Meo No not even the long is appearing, i even searched fo the log with its tag but nothing."}],"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643817723,"creation_date":1643815569,"question_id":70958290,"body_markdown":"I know this question has been asked several times but I could not find the answer for my specific situation.\r\n\r\nSo i have this fragment `BottomSheetFrag.java `that is inflated when a button in `DialogsActivity.jaja` is clicked, and in this fragment there is a button with the id of `ride` where when clicked i want to start another activity called MainRideActivity.class.\r\n\r\nHere in `DialogsActivity.jaja` is when the fragment is inflated:\r\n\r\n    floatingButtonContainer.setOnClickListener(v -&gt; {\r\n                LayoutInflater inflater = (LayoutInflater) context.getSystemService( Context.LAYOUT_INFLATER_SERVICE );\r\n               // LayoutInflater inflater = LayoutInflater.from(context);\r\n                View view = inflater.inflate(R.layout.fragment_bottom_sheet,null);\r\n                BottomSheetDialog dialog = new BottomSheetDialog(getParentActivity());\r\n                dialog.setContentView(view);\r\n                dialog.show();       \r\n            });\r\n\r\nAnd this is the BottomSheetFrag.java\r\n\r\n    public class BottomSheetFrag  extends BottomSheetDialogFragment implements View.OnClickListener{\r\n    \r\n        public BottomSheetFrag(){\r\n    \r\n        }\r\n        private Button mRideButton;\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater,ViewGroup container,Bundle savedInstanceState) {\r\n            //return super.onCreateView(inflater, container, savedInstanceState);\r\n            View rootView = inflater.inflate(R.layout.fragment_bottom_sheet, container, false);\r\n    \r\n            mRideButton = (Button) rootView.findViewById(R.id.ride);\r\n            mRideButton.setOnClickListener(this);\r\n            \r\n            return rootView;\r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View rootView) {\r\n            switch (rootView.getId()) {\r\n                case R.id.ride:\r\n                    Log.d(&quot;jojojo&quot;, &quot;**************** The button has been clicked *****************&quot;);\r\n                    Intent intent = new Intent(getActivity(), MainRideActivity.class);\r\n                    startActivity(intent);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\nNow the problem is that whenever I click the button in the fragment nothing happens.","title":"Button in fragment not doing anything onClick","body":"<p>I know this question has been asked several times but I could not find the answer for my specific situation.</p>\n<p>So i have this fragment <code>BottomSheetFrag.java </code>that is inflated when a button in <code>DialogsActivity.jaja</code> is clicked, and in this fragment there is a button with the id of <code>ride</code> where when clicked i want to start another activity called MainRideActivity.class.</p>\n<p>Here in <code>DialogsActivity.jaja</code> is when the fragment is inflated:</p>\n<pre><code>floatingButtonContainer.setOnClickListener(v -&gt; {\n            LayoutInflater inflater = (LayoutInflater) context.getSystemService( Context.LAYOUT_INFLATER_SERVICE );\n           // LayoutInflater inflater = LayoutInflater.from(context);\n            View view = inflater.inflate(R.layout.fragment_bottom_sheet,null);\n            BottomSheetDialog dialog = new BottomSheetDialog(getParentActivity());\n            dialog.setContentView(view);\n            dialog.show();       \n        });\n</code></pre>\n<p>And this is the BottomSheetFrag.java</p>\n<pre><code>public class BottomSheetFrag  extends BottomSheetDialogFragment implements View.OnClickListener{\n\n    public BottomSheetFrag(){\n\n    }\n    private Button mRideButton;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater,ViewGroup container,Bundle savedInstanceState) {\n        //return super.onCreateView(inflater, container, savedInstanceState);\n        View rootView = inflater.inflate(R.layout.fragment_bottom_sheet, container, false);\n\n        mRideButton = (Button) rootView.findViewById(R.id.ride);\n        mRideButton.setOnClickListener(this);\n        \n        return rootView;\n    }\n\n    @Override\n    public void onClick(View rootView) {\n        switch (rootView.getId()) {\n            case R.id.ride:\n                Log.d(&quot;jojojo&quot;, &quot;**************** The button has been clicked *****************&quot;);\n                Intent intent = new Intent(getActivity(), MainRideActivity.class);\n                startActivity(intent);\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Now the problem is that whenever I click the button in the fragment nothing happens.</p>\n"},{"tags":["java","reactjs","keycloak","keycloak-services","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":19370906,"reputation":51,"user_id":14325226,"display_name":"Milan Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601530875,"creation_date":1601530875,"answer_id":64149689,"question_id":64149366,"body_markdown":"Keycloak redirecting to login page because keycloak application url check user logged in or not before redirecting to application.\r\n\r\nTo debug your login page rendering without css need to know what changes you have done in that realm theme setting from admin and server themes folder because in default keycloak 11.0.2 it&#39;s rendering with css.\r\n\r\nTried to hit POST /authenticate from postman and browser it&#39;s working for me.\r\n\r\nAuthenticate working CURL REQUEST:\r\n\r\n`curl --location --request POST &#39;http://localhost:8080/auth/realms/test/login-actions/authenticate?session_code=pmE8VZtaYo4u5IN7vOQ_OLh9Ft_n-pftbBqzk9T2z-k&amp;execution=7d28dd8f-6436-4280-a1da-51cbca5084c1&amp;client_id=account&amp;tab_id=hdEKLv2DNPg&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--header &#39;Cookie: AUTH_SESSION_ID_LEGACY=16e87095-05df-4ca2-88c6-e0c7e2cf6199.milan-latitude-e5450; KEYCLOAK_SESSION_LEGACY=test/0805f781-d0e3-42cf-b34c-be110547d48c/16e87095-05df-4ca2-88c6-e0c7e2cf6199; KEYCLOAK_IDENTITY_LEGACY=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5YmMwNGZkOS1kZDQ3LTRhZmUtOWM1NC0wZWQ1NGFmMmU1MWIifQ.eyJleHAiOjE2MDE1NjYxMjksImlhdCI6MTYwMTUzMDEyOSwianRpIjoiYmJmNmE4ZmQtYzBjMi00MWQxLWJkMGEtY2MwZmVmNmViMzYxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL3Rlc3QiLCJzdWIiOiIwODA1Zjc4MS1kMGUzLTQyY2YtYjM0Yy1iZTExMDU0N2Q0OGMiLCJ0eXAiOiJTZXJpYWxpemVkLUlEIiwic2Vzc2lvbl9zdGF0ZSI6IjE2ZTg3MDk1LTA1ZGYtNGNhMi04OGM2LWUwYzdlMmNmNjE5OSIsInN0YXRlX2NoZWNrZXIiOiIxV0pWUUN5cDRfcEJJQzZpNENRWnZKMzk2aFBhREdoYmNjWXlDT3VTUm13In0.bteyEEAhIWzbi2MdJAwp9ndCXsTPtjHiGBtMYUglWR0; oauth2_authentication_csrf_insecure=MTYwMDc3ODA2MnxEdi1CQkFFQ180SUFBUkFCRUFBQVB2LUNBQUVHYzNSeWFXNW5EQVlBQkdOemNtWUdjM1J5YVc1bkRDSUFJRFZoTlRaaU1qWTJZVEF6TWpRMk1HUmhaV0pqWWpJNU5UbGtOekl5TURRMXwGvq0FY6TUmmWfUmzaDwnTBf9KC-1Ni5N5pc4IXVcBIQ==; oauth2_consent_csrf_insecure=MTYwMDc3ODIzNXxEdi1CQkFFQ180SUFBUkFCRUFBQVB2LUNBQUVHYzNSeWFXNW5EQVlBQkdOemNtWUdjM1J5YVc1bkRDSUFJRGt3T0RCaVlXSTFZVFJqTVRSbE5HTTVaREUxWldZMFptTTVaREl5TUdNeXxmdLHoVF_3zSxhHR8F2zez-Q37wde7ZnPkb_wt_o-T9g==&#39; \\\r\n--data-urlencode &#39;username=milan&#39; \\\r\n--data-urlencode &#39;password=password&#39;`","title":"Unable to authenticate the login of application user using Keycloak","body":"<p>Keycloak redirecting to login page because keycloak application url check user logged in or not before redirecting to application.</p>\n<p>To debug your login page rendering without css need to know what changes you have done in that realm theme setting from admin and server themes folder because in default keycloak 11.0.2 it's rendering with css.</p>\n<p>Tried to hit POST /authenticate from postman and browser it's working for me.</p>\n<p>Authenticate working CURL REQUEST:</p>\n<p><code>curl --location --request POST 'http://localhost:8080/auth/realms/test/login-actions/authenticate?session_code=pmE8VZtaYo4u5IN7vOQ_OLh9Ft_n-pftbBqzk9T2z-k&amp;execution=7d28dd8f-6436-4280-a1da-51cbca5084c1&amp;client_id=account&amp;tab_id=hdEKLv2DNPg' \\ --header 'Content-Type: application/x-www-form-urlencoded' \\ --header 'Cookie: AUTH_SESSION_ID_LEGACY=16e87095-05df-4ca2-88c6-e0c7e2cf6199.milan-latitude-e5450; KEYCLOAK_SESSION_LEGACY=test/0805f781-d0e3-42cf-b34c-be110547d48c/16e87095-05df-4ca2-88c6-e0c7e2cf6199; KEYCLOAK_IDENTITY_LEGACY=eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5YmMwNGZkOS1kZDQ3LTRhZmUtOWM1NC0wZWQ1NGFmMmU1MWIifQ.eyJleHAiOjE2MDE1NjYxMjksImlhdCI6MTYwMTUzMDEyOSwianRpIjoiYmJmNmE4ZmQtYzBjMi00MWQxLWJkMGEtY2MwZmVmNmViMzYxIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL3Rlc3QiLCJzdWIiOiIwODA1Zjc4MS1kMGUzLTQyY2YtYjM0Yy1iZTExMDU0N2Q0OGMiLCJ0eXAiOiJTZXJpYWxpemVkLUlEIiwic2Vzc2lvbl9zdGF0ZSI6IjE2ZTg3MDk1LTA1ZGYtNGNhMi04OGM2LWUwYzdlMmNmNjE5OSIsInN0YXRlX2NoZWNrZXIiOiIxV0pWUUN5cDRfcEJJQzZpNENRWnZKMzk2aFBhREdoYmNjWXlDT3VTUm13In0.bteyEEAhIWzbi2MdJAwp9ndCXsTPtjHiGBtMYUglWR0; oauth2_authentication_csrf_insecure=MTYwMDc3ODA2MnxEdi1CQkFFQ180SUFBUkFCRUFBQVB2LUNBQUVHYzNSeWFXNW5EQVlBQkdOemNtWUdjM1J5YVc1bkRDSUFJRFZoTlRaaU1qWTJZVEF6TWpRMk1HUmhaV0pqWWpJNU5UbGtOekl5TURRMXwGvq0FY6TUmmWfUmzaDwnTBf9KC-1Ni5N5pc4IXVcBIQ==; oauth2_consent_csrf_insecure=MTYwMDc3ODIzNXxEdi1CQkFFQ180SUFBUkFCRUFBQVB2LUNBQUVHYzNSeWFXNW5EQVlBQkdOemNtWUdjM1J5YVc1bkRDSUFJRGt3T0RCaVlXSTFZVFJqTVRSbE5HTTVaREUxWldZMFptTTVaREl5TUdNeXxmdLHoVF_3zSxhHR8F2zez-Q37wde7ZnPkb_wt_o-T9g==' \\ --data-urlencode 'username=milan' \\ --data-urlencode 'password=password'</code></p>\n"},{"tags":[],"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643817596,"creation_date":1643817596,"answer_id":70958804,"question_id":64149366,"body_markdown":"I made the mistake of setting &quot;Realm Settings&quot; -&gt; &quot;General&quot; -&gt; &quot;Frontend URL&quot; to the homepage URL of the application the realm was for.\r\n\r\nDon&#39;t do that.\r\n\r\nEmptying that field and saving it resolved the issue for me.","title":"Unable to authenticate the login of application user using Keycloak","body":"<p>I made the mistake of setting &quot;Realm Settings&quot; -&gt; &quot;General&quot; -&gt; &quot;Frontend URL&quot; to the homepage URL of the application the realm was for.</p>\n<p>Don't do that.</p>\n<p>Emptying that field and saving it resolved the issue for me.</p>\n"}],"owner":{"account_id":12637937,"reputation":1106,"user_id":9186499,"accept_rate":78,"display_name":"knowledge20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64149689,"answer_count":2,"score":2,"last_activity_date":1643817596,"creation_date":1601528659,"question_id":64149366,"body_markdown":"I am working over integration of React application with Keycloak. I have installed the Keycloak server version 11.0.2 over my local machine. I am able to access the administrative login and create the admin user. I have also created a custom client and user with credentials using the Keycloak. My react application is hosted over port 9000 of my machine and Keycloak over 8080 (default) port. Now, when I am redirecting to my application URL it is automatically redirecting to the below URL:\r\n\r\n```lang-none\r\nhttp://localhost:8080/auth/realms/{Custom_realm}/protocol/openid-connect/auth?client_id={Custom_Client}&amp;redirect_uri=http%3A%2F%2Flocalhost%3A9000%2F&amp;state=r8yy83fdgd-27f8-4aa9-a679-01sfdsgd9&amp;response_mode=fragment&amp;response_type=code&amp;scope=openid&amp;nonce=27fedfgf89-66be-4484-bbcc-aabb4saddc4\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nURL is rendering the login page without the CSS. Not sure why the CSS is not getting rendered.\r\nAlso it is not authenticating and giving error\r\n\r\n&gt; Cannot POST /realms/{Realm}/login-actions/authenticate\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jq0GA.png","title":"Unable to authenticate the login of application user using Keycloak","body":"<p>I am working over integration of React application with Keycloak. I have installed the Keycloak server version 11.0.2 over my local machine. I am able to access the administrative login and create the admin user. I have also created a custom client and user with credentials using the Keycloak. My react application is hosted over port 9000 of my machine and Keycloak over 8080 (default) port. Now, when I am redirecting to my application URL it is automatically redirecting to the below URL:</p>\n<pre class=\"lang-none prettyprint-override\"><code>http://localhost:8080/auth/realms/{Custom_realm}/protocol/openid-connect/auth?client_id={Custom_Client}&amp;redirect_uri=http%3A%2F%2Flocalhost%3A9000%2F&amp;state=r8yy83fdgd-27f8-4aa9-a679-01sfdsgd9&amp;response_mode=fragment&amp;response_type=code&amp;scope=openid&amp;nonce=27fedfgf89-66be-4484-bbcc-aabb4saddc4\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jq0GA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jq0GA.png\" alt=\"enter image description here\" /></a></p>\n<p>URL is rendering the login page without the CSS. Not sure why the CSS is not getting rendered.\nAlso it is not authenticating and giving error</p>\n<blockquote>\n<p>Cannot POST /realms/{Realm}/login-actions/authenticate</p>\n</blockquote>\n"},{"tags":["java","greatest-common-divisor"],"answers":[{"tags":[],"owner":{"account_id":13321425,"reputation":127,"user_id":9615943,"display_name":"Francesco D&#39;Onorio De Meo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643817163,"creation_date":1643816705,"answer_id":70958587,"question_id":70958406,"body_markdown":"You always enter in gcd = i;\r\n\r\nthe problem is that at the end of the statement you have\r\n\r\n```\r\nnum1\t1\r\nden1\t2\r\nnum2\t1\r\nden2\t2\r\nnum\t    2\r\ndum\t    2\r\ngcd\t    1\r\n```\r\n\r\nso `num = num/gcd` returns 2 and also `dum = dum/gcd` = 2.\r\nSo you cannot go out of the while cycle\r\n\r\nMaybe you can solve in the for cycle putting for (i =2  ... )","title":"Variable won&#39;t increment. - Greatest Common Divisor in java","body":"<p>You always enter in gcd = i;</p>\n<p>the problem is that at the end of the statement you have</p>\n<pre><code>num1    1\nden1    2\nnum2    1\nden2    2\nnum     2\ndum     2\ngcd     1\n</code></pre>\n<p>so <code>num = num/gcd</code> returns 2 and also <code>dum = dum/gcd</code> = 2.\nSo you cannot go out of the while cycle</p>\n<p>Maybe you can solve in the for cycle putting for (i =2  ... )</p>\n"}],"owner":{"account_id":24134109,"reputation":1,"user_id":18101307,"display_name":"aayushkap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643817530,"creation_date":1643816083,"question_id":70958406,"body_markdown":"My task is to accept 2 fractions and sum them and then return in the simplest form.\r\n\r\nFor some reason the line &quot;gcd = i;&quot; does not run while executing and hence my program enters an infinite loop when I run it.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass fraction {\r\n    public static void main(String[] args) {\r\n        int num1, den1, num2, den2;\r\n        Scanner sc = new Scanner(System.in);\r\n        /* System.out.print(&quot;Enter first numerator:&quot;);\r\n        num1 = sc.nextInt();\r\n        System.out.print(&quot;Enter first denominator:&quot;);\r\n        den1 = sc.nextInt();\r\n        System.out.print(&quot;Enter second numerator:&quot;);\r\n        num2 = sc.nextInt();\r\n        System.out.print(&quot;Enter second denominator:&quot;);\r\n        den2 = sc.nextInt(); */\r\n\r\n        num1 = 1;\r\n        den1 = 2;\r\n        num2 = 1;\r\n        den2 = 2;\r\n        System.out.print(num1 + &quot;/&quot; + den1 + &quot; + &quot; + num2 + &quot;/&quot; + den2 + &quot; is equal to &quot;);\r\n\r\n        int num = num1 * den2 + den1 * num2;\r\n        int dum = den1 + den2;\r\n        System.out.println(num + &quot;/&quot; + dum);\r\n        System.out.println(num % dum);\r\n\r\n        int gcd = 2;\r\n        while (num % dum == 0) {\r\n            for (int i = 1; i &lt; num &amp;&amp; i &lt; dum; ++i) {\r\n                if (num % i == 0 &amp;&amp; dum % i == 0) {\r\n                    gcd = i;//This line.\r\n                    System.out.println(gcd + &quot; &quot; + i);\r\n                }\r\n            }\r\n                \r\n            num = num / gcd;\r\n            dum = dum / gcd;\r\n        }\r\n\r\n        System.out.println(num + &quot;/&quot; + dum);\r\n    }\r\n}\r\n```","title":"Variable won&#39;t increment. - Greatest Common Divisor in java","body":"<p>My task is to accept 2 fractions and sum them and then return in the simplest form.</p>\n<p>For some reason the line &quot;gcd = i;&quot; does not run while executing and hence my program enters an infinite loop when I run it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass fraction {\n    public static void main(String[] args) {\n        int num1, den1, num2, den2;\n        Scanner sc = new Scanner(System.in);\n        /* System.out.print(&quot;Enter first numerator:&quot;);\n        num1 = sc.nextInt();\n        System.out.print(&quot;Enter first denominator:&quot;);\n        den1 = sc.nextInt();\n        System.out.print(&quot;Enter second numerator:&quot;);\n        num2 = sc.nextInt();\n        System.out.print(&quot;Enter second denominator:&quot;);\n        den2 = sc.nextInt(); */\n\n        num1 = 1;\n        den1 = 2;\n        num2 = 1;\n        den2 = 2;\n        System.out.print(num1 + &quot;/&quot; + den1 + &quot; + &quot; + num2 + &quot;/&quot; + den2 + &quot; is equal to &quot;);\n\n        int num = num1 * den2 + den1 * num2;\n        int dum = den1 + den2;\n        System.out.println(num + &quot;/&quot; + dum);\n        System.out.println(num % dum);\n\n        int gcd = 2;\n        while (num % dum == 0) {\n            for (int i = 1; i &lt; num &amp;&amp; i &lt; dum; ++i) {\n                if (num % i == 0 &amp;&amp; dum % i == 0) {\n                    gcd = i;//This line.\n                    System.out.println(gcd + &quot; &quot; + i);\n                }\n            }\n                \n            num = num / gcd;\n            dum = dum / gcd;\n        }\n\n        System.out.println(num + &quot;/&quot; + dum);\n    }\n}\n</code></pre>\n"},{"tags":["java","gwt","combobox","gxt"],"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1643812624,"post_id":70955749,"comment_id":125438828,"body_markdown":"Can you share some code of how the two ComboBox instances are made? It isn&#39;t quite clear what you are asking.","body":"Can you share some code of how the two ComboBox instances are made? It isn&#39;t quite clear what you are asking."}],"answers":[{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643817462,"creation_date":1643817462,"answer_id":70958759,"question_id":70955749,"body_markdown":"Seems using two storage is quite a simple solution. Other solutions that I tried look like a workaround. I just create copies and it works fine:\r\n\r\n    ListStore&lt;ComboBoxItemModel&lt;String&gt;&gt; store = new ListStore&lt;&gt;();\r\n    store.add(countryStore.getModels());\r\n    countriesComboBox.setStore(store);\r\n\r\n","title":"Search in one GWT ComboBox affects on other ComboBox with the same store","body":"<p>Seems using two storage is quite a simple solution. Other solutions that I tried look like a workaround. I just create copies and it works fine:</p>\n<pre><code>ListStore&lt;ComboBoxItemModel&lt;String&gt;&gt; store = new ListStore&lt;&gt;();\nstore.add(countryStore.getModels());\ncountriesComboBox.setStore(store);\n</code></pre>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643817462,"creation_date":1643805336,"question_id":70955749,"body_markdown":"I&#39;m using com.extjs.gxt.ui.client.widget.form.ComboBox GWT version 2.8.2 and gxt 2.3.1a .\r\nI have 2 comboboxes that have the same storage with many values. When I do search in one combobox I see in debug ComboBox lastquery value same as in search string and only single found value in the CombobBox store. But same value I see in other CombobBox which use same storage. So when I&#39;m trying to work with other comboboxes connected (by listener) to second combobox I get an error because I can&#39;t load the required values. \r\n\r\n&gt; com.google.gwt.core.client.JavaScriptException: (TypeError) : Cannot read properties of null (reading &#39;getValue__Ljava_lang_Object_2&#39;)\r\n\tat Unknown.TypeError: Cannot read properties of null(Unknown@-1)\r\n\r\nMaybe some option exists to allow to use of the same storage in several ComboBoxes without affecting each other, i.e. not limit storage with filtered by search string values? Using 2 storages by creating 2 copies is not preferable. Thanks in advance.\r\n\r\nUPD: combobox2.getValue() gives null when search was performed earlier. How I can reload storage in this case?\r\n\r\nUPD: I created 2 comboboxes with the same storage:\r\n\r\n    private final ListStore&lt;ComboBoxItemModel&lt;String&gt;&gt; countryStore;\r\n\r\n    public ComboBox&lt;ComboBoxItemModel&lt;String&gt;&gt; createCountryCombobox() {\r\n        ComboBox&lt;ComboBoxItemModel&lt;String&gt;&gt; countriesComboBox = new ComboBox&lt;&gt;();\r\n        countriesComboBox.setFieldLabel(&quot;Country&quot;);\r\n        countriesComboBox.setStore(countryStore);\r\n        countriesComboBox.setAllowBlank(false);\r\n        countriesComboBox.setTriggerAction(ComboBox.TriggerAction.ALL);\r\n        countriesComboBox.setDisplayField(ComboBoxItemModel.COMBO_BOX_ITEM_NAME);\r\n        countriesComboBox.setValue(countriesComboBox.getStore().getAt(0));\r\n        countriesComboBox.setForceSelection(true);\r\n        countriesComboBox.setEditable(true);\r\n\r\n        return countriesComboBox;\r\n    }\r\n\r\nsetEditable(true) option allows to search countries in the list, but it delete values in the storage as result. So I can&#39;t load values for other fields connected to second combobox without manual selection in combobox2. ","title":"Search in one GWT ComboBox affects on other ComboBox with the same store","body":"<p>I'm using com.extjs.gxt.ui.client.widget.form.ComboBox GWT version 2.8.2 and gxt 2.3.1a .\nI have 2 comboboxes that have the same storage with many values. When I do search in one combobox I see in debug ComboBox lastquery value same as in search string and only single found value in the CombobBox store. But same value I see in other CombobBox which use same storage. So when I'm trying to work with other comboboxes connected (by listener) to second combobox I get an error because I can't load the required values.</p>\n<blockquote>\n<p>com.google.gwt.core.client.JavaScriptException: (TypeError) : Cannot read properties of null (reading 'getValue__Ljava_lang_Object_2')\nat Unknown.TypeError: Cannot read properties of null(Unknown@-1)</p>\n</blockquote>\n<p>Maybe some option exists to allow to use of the same storage in several ComboBoxes without affecting each other, i.e. not limit storage with filtered by search string values? Using 2 storages by creating 2 copies is not preferable. Thanks in advance.</p>\n<p>UPD: combobox2.getValue() gives null when search was performed earlier. How I can reload storage in this case?</p>\n<p>UPD: I created 2 comboboxes with the same storage:</p>\n<pre><code>private final ListStore&lt;ComboBoxItemModel&lt;String&gt;&gt; countryStore;\n\npublic ComboBox&lt;ComboBoxItemModel&lt;String&gt;&gt; createCountryCombobox() {\n    ComboBox&lt;ComboBoxItemModel&lt;String&gt;&gt; countriesComboBox = new ComboBox&lt;&gt;();\n    countriesComboBox.setFieldLabel(&quot;Country&quot;);\n    countriesComboBox.setStore(countryStore);\n    countriesComboBox.setAllowBlank(false);\n    countriesComboBox.setTriggerAction(ComboBox.TriggerAction.ALL);\n    countriesComboBox.setDisplayField(ComboBoxItemModel.COMBO_BOX_ITEM_NAME);\n    countriesComboBox.setValue(countriesComboBox.getStore().getAt(0));\n    countriesComboBox.setForceSelection(true);\n    countriesComboBox.setEditable(true);\n\n    return countriesComboBox;\n}\n</code></pre>\n<p>setEditable(true) option allows to search countries in the list, but it delete values in the storage as result. So I can't load values for other fields connected to second combobox without manual selection in combobox2.</p>\n"},{"tags":["java","mysql","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642974184,"creation_date":1642974184,"answer_id":70826823,"question_id":70826297,"body_markdown":"The implementation of `getDisciplineSemestrId` in SemestrImpl looks fishy. You create select query, but then execute update on it, and return the query itself cast to List.\r\n\r\nTry this:\r\n \r\n\r\n        @Override\r\n        public List&lt;Discipline&gt; getDisciplineSemestrId(int semId) {\r\n            Session session = sessionFactory.getCurrentSession();\r\n            Query&lt;Discipline&gt;query = session.createQuery(&quot;select a.discipline from&quot; +\r\n                    &quot; Discipline a inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr =:semId&quot;);\r\n            query.setParameter(&quot;semId&quot;,semId);\r\n            return query.getResultList();\r\n        }\r\n`Query` getResultList() executes a select query and returns the result, while executeUpdate() executes update or delete statements.","title":"Can&#39;t create method to get data from database hibernate mySQL + Spring mvc","body":"<p>The implementation of <code>getDisciplineSemestrId</code> in SemestrImpl looks fishy. You create select query, but then execute update on it, and return the query itself cast to List.</p>\n<p>Try this:</p>\n<pre><code>    @Override\n    public List&lt;Discipline&gt; getDisciplineSemestrId(int semId) {\n        Session session = sessionFactory.getCurrentSession();\n        Query&lt;Discipline&gt;query = session.createQuery(&quot;select a.discipline from&quot; +\n                &quot; Discipline a inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr =:semId&quot;);\n        query.setParameter(&quot;semId&quot;,semId);\n        return query.getResultList();\n    }\n</code></pre>\n<p><code>Query</code> getResultList() executes a select query and returns the result, while executeUpdate() executes update or delete statements.</p>\n"},{"tags":[],"owner":{"account_id":19564760,"reputation":83,"user_id":18011833,"display_name":"MarkKush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643739165,"creation_date":1643734735,"answer_id":70944501,"question_id":70826297,"body_markdown":"It turned out to figure out the solution to this problem, they helped me to add the controller in this topic, after writing it, getting data from the database works correctly, it looks like this:\r\n\r\n```\r\n@Override\r\npublic List&lt;Discipline&gt; getDisciplineSemestrId(int id) {\r\n    Session session = sessionFactory.getCurrentSession();\r\n    Query&lt;Discipline&gt;query = session.createQuery(&quot;select a.discipline from&quot; +\r\n            &quot; Discipline a inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr =:semId&quot;);\r\n    query.setParameter(&quot;semId&quot;,id);\r\n    return query.getResultList();\r\n}\r\n```\r\n\r\nThere was also a problem with getting data from a jsp page, the correct code for getting it now looks like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form action=&quot;${pageContext.request.contextPath}/allSemestrsSem&quot; method=&quot;get&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;td style=&quot;font-size: large;&quot;&gt;Select semester&lt;/td&gt;\r\n            &lt;td style=&quot;padding-left: 50px&quot;&gt;\r\n                &lt;select name=&quot;selectSemestr&quot;&gt;\r\n                    &lt;c:forEach items=&quot;${semestr}&quot; var=&quot;semestr&quot;&gt;\r\n                        &lt;option value=&quot;${semestr.id}&quot;&gt;${semestr.name}&lt;/option&gt;\r\n                    &lt;/c:forEach&gt;\r\n                &lt;/select&gt;\r\n            &lt;/td&gt;\r\n            &lt;td style=&quot;padding-left: 20px&quot;&gt;\r\n                &lt;security:authorize access=&quot;hasRole(&#39;ADMIN&#39;)&quot;&gt;\r\n                &lt;input type=&quot;submit&quot; id=&quot;button&quot; value=&quot;select&quot;/&gt;\r\n            &lt;/td&gt;\r\n            &lt;/security:authorize&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThere was a lack of proper wrapping, but now everything works as it should. I hope that the solution of my problem can also be useful for someone, I&#39;ve been trying to figure it out for 10 days and now everything works\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is what my controller looks like:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        @RequestMapping(value = &quot;/allSemestrsSem&quot; , method = RequestMethod.GET)\r\n        public String allSemestrs(@RequestParam(name = &quot;selectSemestr&quot;)String selectSemestr, Model model) {\r\n            List&lt;Semestr&gt; semestr = service.getSemestr();\r\n            model.addAttribute(&quot;semestr&quot;, semestr);\r\n            List&lt;Discipline&gt; allDisciplines = service.getDisciplineSemestrId(Integer.valueOf(selectSemestr));\r\n            model.addAttribute(&quot;allDisc&quot;, allDisciplines);\r\n            return &quot;semestr&quot;;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can&#39;t create method to get data from database hibernate mySQL + Spring mvc","body":"<p>It turned out to figure out the solution to this problem, they helped me to add the controller in this topic, after writing it, getting data from the database works correctly, it looks like this:</p>\n<pre><code>@Override\npublic List&lt;Discipline&gt; getDisciplineSemestrId(int id) {\n    Session session = sessionFactory.getCurrentSession();\n    Query&lt;Discipline&gt;query = session.createQuery(&quot;select a.discipline from&quot; +\n            &quot; Discipline a inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr =:semId&quot;);\n    query.setParameter(&quot;semId&quot;,id);\n    return query.getResultList();\n}\n</code></pre>\n<p>There was also a problem with getting data from a jsp page, the correct code for getting it now looks like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"${pageContext.request.contextPath}/allSemestrsSem\" method=\"get\"&gt;\n    &lt;tr&gt;\n        &lt;td style=\"font-size: large;\"&gt;Select semester&lt;/td&gt;\n        &lt;td style=\"padding-left: 50px\"&gt;\n            &lt;select name=\"selectSemestr\"&gt;\n                &lt;c:forEach items=\"${semestr}\" var=\"semestr\"&gt;\n                    &lt;option value=\"${semestr.id}\"&gt;${semestr.name}&lt;/option&gt;\n                &lt;/c:forEach&gt;\n            &lt;/select&gt;\n        &lt;/td&gt;\n        &lt;td style=\"padding-left: 20px\"&gt;\n            &lt;security:authorize access=\"hasRole('ADMIN')\"&gt;\n            &lt;input type=\"submit\" id=\"button\" value=\"select\"/&gt;\n        &lt;/td&gt;\n        &lt;/security:authorize&gt;\n    &lt;/tr&gt;\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>There was a lack of proper wrapping, but now everything works as it should. I hope that the solution of my problem can also be useful for someone, I've been trying to figure it out for 10 days and now everything works</p>\n<p>This is what my controller looks like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>    @RequestMapping(value = &quot;/allSemestrsSem&quot; , method = RequestMethod.GET)\n    public String allSemestrs(@RequestParam(name = &quot;selectSemestr&quot;)String selectSemestr, Model model) {\n        List&lt;Semestr&gt; semestr = service.getSemestr();\n        model.addAttribute(&quot;semestr&quot;, semestr);\n        List&lt;Discipline&gt; allDisciplines = service.getDisciplineSemestrId(Integer.valueOf(selectSemestr));\n        model.addAttribute(&quot;allDisc&quot;, allDisciplines);\n        return &quot;semestr&quot;;\n    }\n</code></pre>\n\n"}],"owner":{"account_id":19564760,"reputation":83,"user_id":18011833,"display_name":"MarkKush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70826823,"answer_count":2,"score":0,"last_activity_date":1643817404,"creation_date":1642969864,"question_id":70826297,"body_markdown":"[my page][1]\r\n\r\nI really hope for your help! The situation is this: I&#39;m trying to get the value of my disciplines from the database, these disciplines are related to the semester. In the display page, the user must select the semester he needs, after which he clicks on the selection button and all disciplines associated with this semester should be displayed. But I always get the same error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot; I am attaching all the code that I wrote to perform this action.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;tr&gt;\r\n        &lt;td style=&quot;font-size: large;&quot;&gt;Select semester&lt;/td&gt;\r\n        &lt;td style=&quot;padding-left: 50px&quot;&gt;\r\n            &lt;select&gt;\r\n                &lt;c:forEach items=&quot;${semestr}&quot; var=&quot;semestr&quot;&gt;\r\n                    &lt;c:url var=&quot;chooseButton&quot; value=&quot;/chooseSemester&quot;&gt;\r\n                        &lt;c:param name=&quot;semId&quot; value=&quot;${semestr.id}&quot;/&gt;\r\n                    &lt;/c:url&gt;\r\n                    &lt;option value=&quot;${semestr.id}&quot;&gt;${semestr.name}&lt;/option&gt;\r\n                &lt;/c:forEach&gt;\r\n            &lt;/select&gt;\r\n        &lt;/td&gt;\r\n        \r\n        &lt;td style=&quot;padding-left: 20px&quot;&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Select&quot; id=&quot;button&quot; onclick=&quot;window.location.href = &#39;chooseButton&#39;&quot;&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n```\r\n@RequestMapping(&quot;chooseSemester&quot;)\r\npublic String chooseSemester(@RequestParam(&quot;semId&quot;)int semId,Model model){\r\n    List&lt;Discipline&gt; allDisciplines = service.getDisciplineSemestrId(semId);\r\n    model.addAttribute(&quot;allDisc&quot;, allDisciplines);\r\n    return &quot;semestr&quot;;\r\n}\r\n```\r\n\r\n```\r\npackage com.kushnirmark.spring.project.DAO;\r\n\r\nimport com.kushnirmark.spring.project.entity.Discipline;\r\nimport com.kushnirmark.spring.project.entity.Semestr;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.query.Query;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic class SemestrImpl implements SemestrDAO {\r\n\r\n    @Autowired\r\n    private SessionFactory sessionFactory;\r\n\r\n    @Override\r\n    public List&lt;Semestr&gt; getSemestr() {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        List&lt;Semestr&gt; semestrs = session.createQuery(&quot;from Semestr&quot;, Semestr.class).getResultList();\r\n        return semestrs;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Discipline&gt; getDisciplineSemestr() {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        List&lt;Discipline&gt; discSem = session.createQuery(&quot;select a.discipline from Discipline a&quot; +\r\n                &quot; inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr = 1 &quot;).getResultList();\r\n        return discSem;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Discipline&gt; getDisciplineSemestrId(int semId) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query&lt;Discipline&gt;query = session.createQuery(&quot;select a.discipline from&quot; +\r\n                &quot; Discipline a inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr =:semId&quot;);\r\n        query.setParameter(&quot;semId&quot;,semId);\r\n        query.executeUpdate();\r\n        return (List&lt;Discipline&gt;) query;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void saveNewSemester(Semestr semestr) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        session.saveOrUpdate(semestr);\r\n    }\r\n}\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/r2Sro.png","title":"Can&#39;t create method to get data from database hibernate mySQL + Spring mvc","body":"<p><a href=\"https://i.stack.imgur.com/r2Sro.png\" rel=\"nofollow noreferrer\">my page</a></p>\n<p>I really hope for your help! The situation is this: I'm trying to get the value of my disciplines from the database, these disciplines are related to the semester. In the display page, the user must select the semester he needs, after which he clicks on the selection button and all disciplines associated with this semester should be displayed. But I always get the same error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot; I am attaching all the code that I wrote to perform this action.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;tr&gt;\n    &lt;td style=\"font-size: large;\"&gt;Select semester&lt;/td&gt;\n    &lt;td style=\"padding-left: 50px\"&gt;\n        &lt;select&gt;\n            &lt;c:forEach items=\"${semestr}\" var=\"semestr\"&gt;\n                &lt;c:url var=\"chooseButton\" value=\"/chooseSemester\"&gt;\n                    &lt;c:param name=\"semId\" value=\"${semestr.id}\"/&gt;\n                &lt;/c:url&gt;\n                &lt;option value=\"${semestr.id}\"&gt;${semestr.name}&lt;/option&gt;\n            &lt;/c:forEach&gt;\n        &lt;/select&gt;\n    &lt;/td&gt;\n    \n    &lt;td style=\"padding-left: 20px\"&gt;\n        &lt;input type=\"submit\" value=\"Select\" id=\"button\" onclick=\"window.location.href = 'chooseButton'\"&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>@RequestMapping(&quot;chooseSemester&quot;)\npublic String chooseSemester(@RequestParam(&quot;semId&quot;)int semId,Model model){\n    List&lt;Discipline&gt; allDisciplines = service.getDisciplineSemestrId(semId);\n    model.addAttribute(&quot;allDisc&quot;, allDisciplines);\n    return &quot;semestr&quot;;\n}\n</code></pre>\n<pre><code>package com.kushnirmark.spring.project.DAO;\n\nimport com.kushnirmark.spring.project.entity.Discipline;\nimport com.kushnirmark.spring.project.entity.Semestr;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.query.Query;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic class SemestrImpl implements SemestrDAO {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Override\n    public List&lt;Semestr&gt; getSemestr() {\n        Session session = sessionFactory.getCurrentSession();\n        List&lt;Semestr&gt; semestrs = session.createQuery(&quot;from Semestr&quot;, Semestr.class).getResultList();\n        return semestrs;\n    }\n\n    @Override\n    public List&lt;Discipline&gt; getDisciplineSemestr() {\n        Session session = sessionFactory.getCurrentSession();\n        List&lt;Discipline&gt; discSem = session.createQuery(&quot;select a.discipline from Discipline a&quot; +\n                &quot; inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr = 1 &quot;).getResultList();\n        return discSem;\n    }\n\n    @Override\n    public List&lt;Discipline&gt; getDisciplineSemestrId(int semId) {\n        Session session = sessionFactory.getCurrentSession();\n        Query&lt;Discipline&gt;query = session.createQuery(&quot;select a.discipline from&quot; +\n                &quot; Discipline a inner join Semestr_Disc b on a.id=b.id_discipline where b.id_semestr =:semId&quot;);\n        query.setParameter(&quot;semId&quot;,semId);\n        query.executeUpdate();\n        return (List&lt;Discipline&gt;) query;\n    }\n\n\n    @Override\n    public void saveNewSemester(Semestr semestr) {\n        Session session = sessionFactory.getCurrentSession();\n        session.saveOrUpdate(semestr);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","netbeans","styles"],"comments":[{"owner":{"account_id":124488,"reputation":1431,"user_id":319604,"display_name":"JChap"},"score":0,"creation_date":1458952207,"post_id":36229514,"comment_id":60091510,"body_markdown":"All you need is to print a new line after printing the password.","body":"All you need is to print a new line after printing the password."},{"owner":{"account_id":124488,"reputation":1431,"user_id":319604,"display_name":"JChap"},"score":0,"creation_date":1458953290,"post_id":36229514,"comment_id":60091774,"body_markdown":"for (int i = 0; i &lt; answer; i++) {\n        System.out.print(randomPassword(answer));\n    }   \n    System.out.println(&quot;&quot;);","body":"for (int i = 0; i &lt; answer; i++) {         System.out.print(randomPassword(answer));     }        System.out.println(&quot;&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":21891512,"reputation":1,"user_id":16178436,"display_name":"Harry Challis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643817275,"creation_date":1643743782,"answer_id":70946424,"question_id":36229514,"body_markdown":"You can add another `System.out.println(&quot;&quot;);` to the last line of your code.","title":"How do I separate a &quot;println&quot; output from the &quot;BUILD SUCCESSFULL&quot; response from NetBeans?","body":"<p>You can add another <code>System.out.println(&quot;&quot;);</code> to the last line of your code.</p>\n"}],"owner":{"account_id":8118167,"reputation":269,"user_id":6115937,"accept_rate":50,"display_name":"shadewolf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643817275,"creation_date":1458947294,"question_id":36229514,"body_markdown":"I&#39;m drawing a blank on this one, and I know it has to be a relatively easy fix.\r\n\r\nI wrote a program for my java course that generates a random password of ASCII characters 33 - 126 at a user specified length.\r\n\r\nHere&#39;s an example:\r\nPlease enter password length: (input) 5\r\n(output would be something like...) nNd0r .\r\n\r\nThe program works fine and everything runs smoothly, except for one tiny detail:\r\nWhen the output is printed, the &quot;BUILD SUCCESSFUL&quot; indicator from NetBeans is directly connected to that output.\r\n\r\nMy real question is: How exactly can I make the &quot;BUILD SUCCESSFUL&quot; indicator to be printed *below* my output.\r\n\r\nHere is my code:\r\n\r\n    public static void main(String[] args) {\r\n            \r\n        //Create a Scanner to provide user input.\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        //Prompt the user for their input.\r\n        System.out.print(&quot;Please enter password length: &quot;);\r\n        int answer = input.nextInt();\r\n        \r\n        //Invoke the &quot;randomPassword&quot; method through a loop that was created below.\r\n        System.out.print(&quot;Password: &quot;);\r\n        \r\n        for (int i = 0; i &lt; answer; i++) {\r\n        System.out.print(randomPassword(answer));\r\n        }   \r\n    }\r\n        \r\n        \r\n        public static char randomPassword(int n) {\r\n        \r\n        //Create a random number generator.\r\n        int randomNumber = 33 + (int)(Math.random() * ((126 - 33) + 1));\r\n        \r\n        //Convert random number to random ASCII character between 33 - 126.\r\n        char randomChar = (char)randomNumber;\r\n        return randomChar;\r\n        }\r\n    \r\n    }","title":"How do I separate a &quot;println&quot; output from the &quot;BUILD SUCCESSFULL&quot; response from NetBeans?","body":"<p>I'm drawing a blank on this one, and I know it has to be a relatively easy fix.</p>\n\n<p>I wrote a program for my java course that generates a random password of ASCII characters 33 - 126 at a user specified length.</p>\n\n<p>Here's an example:\nPlease enter password length: (input) 5\n(output would be something like...) nNd0r .</p>\n\n<p>The program works fine and everything runs smoothly, except for one tiny detail:\nWhen the output is printed, the \"BUILD SUCCESSFUL\" indicator from NetBeans is directly connected to that output.</p>\n\n<p>My real question is: How exactly can I make the \"BUILD SUCCESSFUL\" indicator to be printed <em>below</em> my output.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    //Create a Scanner to provide user input.\n    Scanner input = new Scanner(System.in);\n\n    //Prompt the user for their input.\n    System.out.print(\"Please enter password length: \");\n    int answer = input.nextInt();\n\n    //Invoke the \"randomPassword\" method through a loop that was created below.\n    System.out.print(\"Password: \");\n\n    for (int i = 0; i &lt; answer; i++) {\n    System.out.print(randomPassword(answer));\n    }   \n}\n\n\n    public static char randomPassword(int n) {\n\n    //Create a random number generator.\n    int randomNumber = 33 + (int)(Math.random() * ((126 - 33) + 1));\n\n    //Convert random number to random ASCII character between 33 - 126.\n    char randomChar = (char)randomNumber;\n    return randomChar;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1643816652,"post_id":70958507,"comment_id":125440767,"body_markdown":"Well, `newFile` is obviously `null`.  Since you don&#39;t show us how `newFile` is initialized, we really can&#39;t say what went wrong.","body":"Well, <code>newFile</code> is obviously <code>null</code>.  Since you don&#39;t show us how <code>newFile</code> is initialized, we really can&#39;t say what went wrong."},{"owner":{"account_id":9224026,"reputation":411,"user_id":9853319,"display_name":"Amani Joseph"},"score":0,"creation_date":1643817304,"post_id":70958507,"comment_id":125441054,"body_markdown":"I update the Question with how the code works @markspace","body":"I update the Question with how the code works @markspace"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1643817953,"post_id":70958507,"comment_id":125441352,"body_markdown":"I can&#39;t post my answer explaining how to read the stacktrace since the question&#39;s been closed, so I&#39;ll just say the first line in the ``Caused by: java.lang.NullPointerException`` section is what threw it, and that&#39;s `at java.io.FileInputStream.&lt;init&gt;` which is the ``FileInputStream`` constructor. You only have one parameter for that, ``newFile``, so that&#39;s what&#39;s null (and shouldn&#39;t be). If you look at your code, you initialise ``newFile = null``, and then you set it in your ``if/else`` block. **But only** if your ``try`` block succeeds, and if ``saveBitmapToFile`` doesn&#39;t return null","body":"I can&#39;t post my answer explaining how to read the stacktrace since the question&#39;s been closed, so I&#39;ll just say the first line in the <code>Caused by: java.lang.NullPointerException</code> section is what threw it, and that&#39;s <code>at java.io.FileInputStream.&lt;init&gt;</code> which is the <code>FileInputStream</code> constructor. You only have one parameter for that, <code>newFile</code>, so that&#39;s what&#39;s null (and shouldn&#39;t be). If you look at your code, you initialise <code>newFile = null</code>, and then you set it in your <code>if&#47;else</code> block. <b>But only</b> if your <code>try</code> block succeeds, and if <code>saveBitmapToFile</code> doesn&#39;t return null"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1643824223,"post_id":70958507,"comment_id":125444023,"body_markdown":"Right.  If this code throws an exception in the first part (`FileNotFound` for example) then `newFile` won&#39;t be initialized.  This is why we should always *actually throw exceptions* and not just catch them and print them.  You&#39;re disguising the true problem (&quot;file not found&quot; or some such) because you continue execution and then get a second error after the exception.","body":"Right.  If this code throws an exception in the first part (<code>FileNotFound</code> for example) then <code>newFile</code> won&#39;t be initialized.  This is why we should always <i>actually throw exceptions</i> and not just catch them and print them.  You&#39;re disguising the true problem (&quot;file not found&quot; or some such) because you continue execution and then get a second error after the exception."}],"owner":{"account_id":9224026,"reputation":411,"user_id":9853319,"display_name":"Amani Joseph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643817342,"answer_count":0,"score":0,"last_activity_date":1643817253,"creation_date":1643816466,"question_id":70958507,"body_markdown":"I Get this error while try to upload a photo from gallery of my app \r\n&gt; java.lang.RuntimeException: \r\nAn error occurred while executing doInBackground()\r\n\r\nDebug Report\r\n\r\n    Process: com.app.name, PID: 1714\r\n        java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n            at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n            at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n            at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n            at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n            at java.lang.Thread.run(Thread.java:923)\r\n         Caused by: java.lang.NullPointerException\r\n            at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:152)\r\n            at com.app.name.AddProductDetail$UploadImageTask.doInBackground(AddProductDetail.java:1925)\r\n            at com.app.name.AddProductDetail$UploadImageTask.doInBackground(AddProductDetail.java:1852)\r\n\r\n   \r\n\r\nThis is my code line 1925 and 1852 is point out in a code below\r\n            \r\n\r\n        FileInputStream tempStream = null;\r\n        try {\r\n           **LINE 1925** tempStream = new FileInputStream(newFile);\r\n            bytesAvailable = tempStream.available();\r\n            if (bytesAvailable &gt; 1024000 &amp;&amp; bitmapImage != null) {\r\n                AppnameApplication.getResizedBitmap(bitmapImage, 1024);\r\n                if (newFile.exists()) newFile.delete();\r\n                FileOutputStream out = new FileOutputStream(newFile);\r\n                bitmapImage.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n                out.flush();\r\n                out.close();\r\n            }\r\n            tempStream.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nCan you show me how to do it and it seem error coming from FileInputStream tempStream = null; can anyone help me please am still learning Android Studio. \r\n\r\n\r\nMore information how the code works\r\n\r\n\r\n    @Override\r\n            protected Integer doInBackground(String... imgpath) {\r\n                for (int i = 0; i &lt; imageList.size(); i++) {\r\n                    if (!imageList.get(i).getType().equals(Constants.KEY_URL) &amp;&amp; !imageList.get(i).getType().equals(Constants.TAG_ADD)) {\r\n                        publishProgress(Math.min(i, count));\r\n    \r\n                        HttpURLConnection conn = null;\r\n                        String response = &quot;error&quot;;\r\n                        DataOutputStream dos = null;\r\n                        DataInputStream inStream = null;\r\n                        StringBuilder builder = new StringBuilder();\r\n                        String lineEnd = &quot;\\r\\n&quot;;\r\n                        String twoHyphens = &quot;--&quot;;\r\n                        String boundary = &quot;*****&quot;;\r\n                        int bytesRead, bytesAvailable, bufferSize;\r\n                        byte[] buffer;\r\n                        int maxBufferSize = 1 * 1024 * 1024;\r\n                        String urlString = Constants.API_UPLOAD_IMAGE;\r\n                        Bitmap bitmapImage = null;\r\n                        String exsistingFileName = imageList.get(i).getImage();\r\n                        File file = new File(exsistingFileName);\r\n                        File newFile = null;\r\n    \r\n                        if (imageList.get(i).getPathType().equals(Constants.TAG_GALLERY)) {\r\n                            try {\r\n                                BitmapFactory.Options options = new BitmapFactory.Options();\r\n                                //                        options.inSampleSize = 8;\r\n                                bitmapImage = BitmapFactory.decodeFile(file.getAbsolutePath(), options);\r\n    \r\n                                ExifInterface ei = new ExifInterface(file.getAbsolutePath());\r\n                                int orientation = ei.getAttributeInt(ExifInterface.TAG_ORIENTATION,\r\n                                        ExifInterface.ORIENTATION_UNDEFINED);\r\n    \r\n                                switch (orientation) {\r\n    \r\n                                    case ExifInterface.ORIENTATION_ROTATE_90:\r\n                                        bitmapImage = rotateImage(bitmapImage, 90);\r\n                                        break;\r\n    \r\n                                    case ExifInterface.ORIENTATION_ROTATE_180:\r\n                                        bitmapImage = rotateImage(bitmapImage, 180);\r\n                                        break;\r\n    \r\n                                    case ExifInterface.ORIENTATION_ROTATE_270:\r\n                                        bitmapImage = rotateImage(bitmapImage, 270);\r\n                                        break;\r\n    \r\n                                    case ExifInterface.ORIENTATION_NORMAL:\r\n                                    default:\r\n                                        bitmapImage = bitmapImage;\r\n                                }\r\n                                newFile = saveBitmapToFile(bitmapImage, file.getName());\r\n                            } catch (FileNotFoundException e) {\r\n                                e.printStackTrace();\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        } else {\r\n                            newFile = new File(imageList.get(i).getImage());\r\n                        }\r\n    \r\n                        FileInputStream tempStream = null;\r\n                        try {\r\n                            tempStream = new FileInputStream(newFile);\r\n                            bytesAvailable = tempStream.available();\r\n                            if (bytesAvailable &gt; 1024000 &amp;&amp; bitmapImage != null) {\r\n                                AppnameApplication.getResizedBitmap(bitmapImage, 1024);\r\n                                if (newFile.exists()) newFile.delete();\r\n                                FileOutputStream out = new FileOutputStream(newFile);\r\n                                bitmapImage.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n                                out.flush();\r\n                                out.close();\r\n                            }\r\n                            tempStream.close();\r\n                        } catch (FileNotFoundException e) {\r\n                            e.printStackTrace();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n    \r\n    \r\n                        try {\r\n                            refreshGallery(newFile);\r\n                            FileInputStream fileInputStream = new FileInputStream(newFile);\r\n                            URL url = new URL(urlString);\r\n                            conn = (HttpURLConnection) url.openConnection();\r\n                            conn.setDoInput(true);\r\n                            conn.setDoOutput(true);\r\n                            conn.setUseCaches(false);\r\n                            conn.setRequestMethod(&quot;POST&quot;);\r\n                            conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n                            conn.setRequestProperty(&quot;Content-Type&quot;,\r\n                                    &quot;multipart/form-data;boundary=&quot; + boundary);\r\n                            dos = new DataOutputStream(conn.getOutputStream());\r\n    \r\n                            dos.writeBytes(twoHyphens + boundary + lineEnd);\r\n                            dos.writeBytes(&quot;Content-Disposition: form-data;name=\\&quot;type\\&quot;&quot; + lineEnd);\r\n                            dos.writeBytes(lineEnd);\r\n                            dos.writeBytes(&quot;item&quot;);\r\n                            dos.writeBytes(lineEnd);\r\n    \r\n                            dos.writeBytes(twoHyphens + boundary + lineEnd);\r\n                            dos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;images\\&quot;;filename=\\&quot;&quot;\r\n                                    + exsistingFileName + &quot;\\&quot;&quot; + lineEnd);\r\n                            dos.writeBytes(lineEnd);\r\n                            Log.e(&quot;MediaPlayer&quot;, &quot;Headers are written&quot;);\r\n    \r\n                            bytesAvailable = fileInputStream.available();\r\n                            bufferSize = Math.min(bytesAvailable, maxBufferSize);\r\n                            buffer = new byte[bufferSize];\r\n    \r\n                            // Read file\r\n                            bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n                            System.out.println(TAG + &quot;: Image length &quot; + bytesAvailable);\r\n                            while (bytesRead &gt; 0) {\r\n                                try {\r\n                                    dos.write(buffer, 0, bufferSize);\r\n                                } catch (OutOfMemoryError e) {\r\n                                    e.printStackTrace();\r\n                                    Log.e(TAG, &quot;doInBackground: &quot; + e.getMessage());\r\n                                }\r\n                                bytesAvailable = fileInputStream.available();\r\n                                bufferSize = Math.min(bytesAvailable, maxBufferSize);\r\n                                bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n    \r\n                                Log.v(&quot;bytesRead&quot;, &quot;bytesRead&quot; + bytesRead);\r\n                            }\r\n                            dos.writeBytes(lineEnd);\r\n                            dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);","title":"I Get this error while try to upload a photo java.lang.RuntimeException: An error occurred while executing doInBackground()","body":"<p>I Get this error while try to upload a photo from gallery of my app</p>\n<blockquote>\n<p>java.lang.RuntimeException:\nAn error occurred while executing doInBackground()</p>\n</blockquote>\n<p>Debug Report</p>\n<pre><code>Process: com.app.name, PID: 1714\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.lang.NullPointerException\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:152)\n        at com.app.name.AddProductDetail$UploadImageTask.doInBackground(AddProductDetail.java:1925)\n        at com.app.name.AddProductDetail$UploadImageTask.doInBackground(AddProductDetail.java:1852)\n</code></pre>\n<p>This is my code line 1925 and 1852 is point out in a code below</p>\n<pre><code>    FileInputStream tempStream = null;\n    try {\n       **LINE 1925** tempStream = new FileInputStream(newFile);\n        bytesAvailable = tempStream.available();\n        if (bytesAvailable &gt; 1024000 &amp;&amp; bitmapImage != null) {\n            AppnameApplication.getResizedBitmap(bitmapImage, 1024);\n            if (newFile.exists()) newFile.delete();\n            FileOutputStream out = new FileOutputStream(newFile);\n            bitmapImage.compress(Bitmap.CompressFormat.JPEG, 90, out);\n            out.flush();\n            out.close();\n        }\n        tempStream.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Can you show me how to do it and it seem error coming from FileInputStream tempStream = null; can anyone help me please am still learning Android Studio.</p>\n<p>More information how the code works</p>\n<pre><code>@Override\n        protected Integer doInBackground(String... imgpath) {\n            for (int i = 0; i &lt; imageList.size(); i++) {\n                if (!imageList.get(i).getType().equals(Constants.KEY_URL) &amp;&amp; !imageList.get(i).getType().equals(Constants.TAG_ADD)) {\n                    publishProgress(Math.min(i, count));\n\n                    HttpURLConnection conn = null;\n                    String response = &quot;error&quot;;\n                    DataOutputStream dos = null;\n                    DataInputStream inStream = null;\n                    StringBuilder builder = new StringBuilder();\n                    String lineEnd = &quot;\\r\\n&quot;;\n                    String twoHyphens = &quot;--&quot;;\n                    String boundary = &quot;*****&quot;;\n                    int bytesRead, bytesAvailable, bufferSize;\n                    byte[] buffer;\n                    int maxBufferSize = 1 * 1024 * 1024;\n                    String urlString = Constants.API_UPLOAD_IMAGE;\n                    Bitmap bitmapImage = null;\n                    String exsistingFileName = imageList.get(i).getImage();\n                    File file = new File(exsistingFileName);\n                    File newFile = null;\n\n                    if (imageList.get(i).getPathType().equals(Constants.TAG_GALLERY)) {\n                        try {\n                            BitmapFactory.Options options = new BitmapFactory.Options();\n                            //                        options.inSampleSize = 8;\n                            bitmapImage = BitmapFactory.decodeFile(file.getAbsolutePath(), options);\n\n                            ExifInterface ei = new ExifInterface(file.getAbsolutePath());\n                            int orientation = ei.getAttributeInt(ExifInterface.TAG_ORIENTATION,\n                                    ExifInterface.ORIENTATION_UNDEFINED);\n\n                            switch (orientation) {\n\n                                case ExifInterface.ORIENTATION_ROTATE_90:\n                                    bitmapImage = rotateImage(bitmapImage, 90);\n                                    break;\n\n                                case ExifInterface.ORIENTATION_ROTATE_180:\n                                    bitmapImage = rotateImage(bitmapImage, 180);\n                                    break;\n\n                                case ExifInterface.ORIENTATION_ROTATE_270:\n                                    bitmapImage = rotateImage(bitmapImage, 270);\n                                    break;\n\n                                case ExifInterface.ORIENTATION_NORMAL:\n                                default:\n                                    bitmapImage = bitmapImage;\n                            }\n                            newFile = saveBitmapToFile(bitmapImage, file.getName());\n                        } catch (FileNotFoundException e) {\n                            e.printStackTrace();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    } else {\n                        newFile = new File(imageList.get(i).getImage());\n                    }\n\n                    FileInputStream tempStream = null;\n                    try {\n                        tempStream = new FileInputStream(newFile);\n                        bytesAvailable = tempStream.available();\n                        if (bytesAvailable &gt; 1024000 &amp;&amp; bitmapImage != null) {\n                            AppnameApplication.getResizedBitmap(bitmapImage, 1024);\n                            if (newFile.exists()) newFile.delete();\n                            FileOutputStream out = new FileOutputStream(newFile);\n                            bitmapImage.compress(Bitmap.CompressFormat.JPEG, 90, out);\n                            out.flush();\n                            out.close();\n                        }\n                        tempStream.close();\n                    } catch (FileNotFoundException e) {\n                        e.printStackTrace();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n\n                    try {\n                        refreshGallery(newFile);\n                        FileInputStream fileInputStream = new FileInputStream(newFile);\n                        URL url = new URL(urlString);\n                        conn = (HttpURLConnection) url.openConnection();\n                        conn.setDoInput(true);\n                        conn.setDoOutput(true);\n                        conn.setUseCaches(false);\n                        conn.setRequestMethod(&quot;POST&quot;);\n                        conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n                        conn.setRequestProperty(&quot;Content-Type&quot;,\n                                &quot;multipart/form-data;boundary=&quot; + boundary);\n                        dos = new DataOutputStream(conn.getOutputStream());\n\n                        dos.writeBytes(twoHyphens + boundary + lineEnd);\n                        dos.writeBytes(&quot;Content-Disposition: form-data;name=\\&quot;type\\&quot;&quot; + lineEnd);\n                        dos.writeBytes(lineEnd);\n                        dos.writeBytes(&quot;item&quot;);\n                        dos.writeBytes(lineEnd);\n\n                        dos.writeBytes(twoHyphens + boundary + lineEnd);\n                        dos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;images\\&quot;;filename=\\&quot;&quot;\n                                + exsistingFileName + &quot;\\&quot;&quot; + lineEnd);\n                        dos.writeBytes(lineEnd);\n                        Log.e(&quot;MediaPlayer&quot;, &quot;Headers are written&quot;);\n\n                        bytesAvailable = fileInputStream.available();\n                        bufferSize = Math.min(bytesAvailable, maxBufferSize);\n                        buffer = new byte[bufferSize];\n\n                        // Read file\n                        bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n                        System.out.println(TAG + &quot;: Image length &quot; + bytesAvailable);\n                        while (bytesRead &gt; 0) {\n                            try {\n                                dos.write(buffer, 0, bufferSize);\n                            } catch (OutOfMemoryError e) {\n                                e.printStackTrace();\n                                Log.e(TAG, &quot;doInBackground: &quot; + e.getMessage());\n                            }\n                            bytesAvailable = fileInputStream.available();\n                            bufferSize = Math.min(bytesAvailable, maxBufferSize);\n                            bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n\n                            Log.v(&quot;bytesRead&quot;, &quot;bytesRead&quot; + bytesRead);\n                        }\n                        dos.writeBytes(lineEnd);\n                        dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":1,"creation_date":1643817631,"post_id":70958705,"comment_id":125441203,"body_markdown":"is Internet permission given in your manifest file.","body":"is Internet permission given in your manifest file."},{"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"score":0,"creation_date":1643817977,"post_id":70958705,"comment_id":125441366,"body_markdown":"Of course. How you can see, i connected to the site","body":"Of course. How you can see, i connected to the site"}],"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643817164,"creation_date":1643817164,"question_id":70958705,"body_markdown":"I created a small program for one site using attribute WebView, but after opening app I saw an error net::connection_refused.\r\nHow I can fix it?[How you can see on the bottom of image error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SA5Qc.png\r\nThis is MainActivity file\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebResourceError;\r\n    import android.webkit.WebResourceRequest;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.Toast;\r\n    import android.annotation.TargetApi;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        WebView webView;\r\n    \r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            webView = new WebView(this);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n    \r\n            final Activity activity = this;\r\n    \r\n            webView.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n                    Toast.makeText(activity, description, Toast.LENGTH_SHORT).show();\r\n                }\r\n                @TargetApi(android.os.Build.VERSION_CODES.M)\r\n                @Override\r\n                public void onReceivedError(WebView view, WebResourceRequest req, WebResourceError rerr) {\r\n                    // Redirect to deprecated method, so you can use it in all SDK versions\r\n                    onReceivedError(view, rerr.getErrorCode(), rerr.getDescription().toString(), req.getUrl().toString());\r\n                }\r\n            });\r\n    \r\n            webView.loadUrl(&quot;https://black-minecraft.com/&quot;);\r\n    \r\n            setContentView(webView);\r\n        }\r\n    }\r\n\r\n","title":"How to fix error net::connection_refused in Android Studio","body":"<p>I created a small program for one site using attribute WebView, but after opening app I saw an error net::connection_refused.\nHow I can fix it?<a href=\"https://i.stack.imgur.com/SA5Qc.png\" rel=\"nofollow noreferrer\">How you can see on the bottom of image error</a></p>\n<p>This is MainActivity file</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.webkit.WebResourceError;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\nimport android.annotation.TargetApi;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        webView = new WebView(this);\n        webView.getSettings().setJavaScriptEnabled(true);\n\n        final Activity activity = this;\n\n        webView.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n                Toast.makeText(activity, description, Toast.LENGTH_SHORT).show();\n            }\n            @TargetApi(android.os.Build.VERSION_CODES.M)\n            @Override\n            public void onReceivedError(WebView view, WebResourceRequest req, WebResourceError rerr) {\n                // Redirect to deprecated method, so you can use it in all SDK versions\n                onReceivedError(view, rerr.getErrorCode(), rerr.getDescription().toString(), req.getUrl().toString());\n            }\n        });\n\n        webView.loadUrl(&quot;https://black-minecraft.com/&quot;);\n\n        setContentView(webView);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18276848,"reputation":94,"user_id":13306479,"display_name":"PuzzledScratch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643758950,"creation_date":1643758950,"answer_id":70949021,"question_id":70948837,"body_markdown":"The data is split with `&lt;,&gt;` and `;` so you should easily be able to split the string and collect the data. Java has a `String.split()` method. First split the string object that contains all the data into an array of strings by splitting on `;` and then loop over these and split them on `&lt;,&gt;`.\r\n\r\nAt this point you should be able to set your attributes according to the order of the data in the string (assuming these are ordered properly).","title":"How to unstructure a text string that has characters and convert it to an object","body":"<p>The data is split with <code>&lt;,&gt;</code> and <code>;</code> so you should easily be able to split the string and collect the data. Java has a <code>String.split()</code> method. First split the string object that contains all the data into an array of strings by splitting on <code>;</code> and then loop over these and split them on <code>&lt;,&gt;</code>.</p>\n<p>At this point you should be able to set your attributes according to the order of the data in the string (assuming these are ordered properly).</p>\n"},{"tags":[],"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643817015,"creation_date":1643810153,"answer_id":70956901,"question_id":70948837,"body_markdown":"You can count how many `;` exits in the String and then use `str.split()`\r\n\r\n    ...\r\n\r\n    int count = 0;\r\n    \r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        if (str.charAt(i) == &#39;;&#39;) {\r\n            count++;\r\n        }\r\n    }\r\n    String[] arrOfStr = str.split(&quot;;&quot;, count);// instead of 4\r\n    ...\r\n\r\nThis will solve you problem but there are better ways to do it, using a regular expression . Learn more [here](https://www.geeksforgeeks.org/split-string-java-examples/)\r\n\r\n## Edit :\r\nYou also need to do the same thing to every attribute of your object but the counting is a little bit different :\r\n\r\n    ...\r\n\r\n    count = 0;\r\n\r\n    for (int i = 1; i &lt; arrOfStr[0].length()-1; i++) {\r\n       if (arrOfStr.charAt(i-1) == &#39;&lt;&#39;arrOfStr.charAt(i) == &#39;,&#39; &amp;&amp; arrOfStr.charAt(i+1) == &#39;&gt;&#39;) {\r\n        count++;\r\n       }\r\n    }\r\n\r\n    List&lt;String&gt; listOfObjectsFromSQL = new ArrayList&lt;MyClass&gt;();\r\n    String[] attributes = new String[count];\r\n    \r\n      for (String strObj : arrOfStr) {\r\n          attributes = strObj.split(&quot;&lt;,&gt;&quot;, count);\r\n          //create you object\r\n          MyClass obj = new MyClass();\r\n\r\n          //fill your object with values from the query \r\n          obj.setNumber(attributes[0]);\r\n          obj.setText(attributes[1]);\r\n          obj.setNumber2(attributes[2]);\r\n          obj.setText2(attributes[3]);\r\n\r\n          //add them to your list to use them...\r\n          listOfObjectsFromSQL.add(obj);\r\n      }\r\n\r\n     ...\r\n\r\n\r\n\r\n","title":"How to unstructure a text string that has characters and convert it to an object","body":"<p>You can count how many <code>;</code> exits in the String and then use <code>str.split()</code></p>\n<pre><code>...\n\nint count = 0;\n\nfor (int i = 0; i &lt; str.length(); i++) {\n    if (str.charAt(i) == ';') {\n        count++;\n    }\n}\nString[] arrOfStr = str.split(&quot;;&quot;, count);// instead of 4\n...\n</code></pre>\n<p>This will solve you problem but there are better ways to do it, using a regular expression . Learn more <a href=\"https://www.geeksforgeeks.org/split-string-java-examples/\" rel=\"nofollow noreferrer\">here</a></p>\n<h2>Edit :</h2>\n<p>You also need to do the same thing to every attribute of your object but the counting is a little bit different :</p>\n<pre><code>...\n\ncount = 0;\n\nfor (int i = 1; i &lt; arrOfStr[0].length()-1; i++) {\n   if (arrOfStr.charAt(i-1) == '&lt;'arrOfStr.charAt(i) == ',' &amp;&amp; arrOfStr.charAt(i+1) == '&gt;') {\n    count++;\n   }\n}\n\nList&lt;String&gt; listOfObjectsFromSQL = new ArrayList&lt;MyClass&gt;();\nString[] attributes = new String[count];\n\n  for (String strObj : arrOfStr) {\n      attributes = strObj.split(&quot;&lt;,&gt;&quot;, count);\n      //create you object\n      MyClass obj = new MyClass();\n\n      //fill your object with values from the query \n      obj.setNumber(attributes[0]);\n      obj.setText(attributes[1]);\n      obj.setNumber2(attributes[2]);\n      obj.setText2(attributes[3]);\n\n      //add them to your list to use them...\n      listOfObjectsFromSQL.add(obj);\n  }\n\n ...\n</code></pre>\n"}],"owner":{"account_id":20469444,"reputation":1,"user_id":15020258,"display_name":"alexis "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70956901,"answer_count":2,"score":-2,"last_activity_date":1643817015,"creation_date":1643757468,"question_id":70948837,"body_markdown":"I have a text string that I receive from PL/SQL. I need to convert each object that is separated by a &#39;;&#39;.\r\nThis is my string [enter image description here][1]\r\nI need to get that information and create the objects that come in that string.\r\n```\r\n//all objects come in a single text string\r\n\r\nfirst object is 830114921-1&lt;,&gt;TIGO&lt;,&gt;13&lt;,&gt;RECARGA CELULAR TIGO;\r\nsecond object is 800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;426&lt;,&gt;PAQUECLARO 24HRS;\r\nthird object is   800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;7&lt;,&gt;PINES 2000;\r\nfourth object is  900102005-1&lt;,&gt;GLOBAL TV TELECOMUNICACIONES&lt;,&gt;92&lt;,&gt;JOHATRUJILLO;\r\n ```\r\n```\r\nExample:\r\nClass MyClass{\r\n\r\nInteger number;\r\nString text;\r\nInteger number2;\r\nString text;\r\n} \r\nList&lt;MyClass&gt; myList = new ArrayList&lt;&gt;();\r\nmyClass.SetNumber(830114921-1);\r\nmyClass.SetText(&quot;TIGO&quot;);\r\nmyClass.SetNumber2(13);\r\nmyClass.SetText2(&quot;RECARGA CELULAR TIGO&quot;);\r\nmyList.add(myClass); \r\n ```\r\n\r\n```\r\n//I can split the 4 objects but if more objects come in the text string, can //no longer be. \r\n   String str = &quot;830114921-1&lt;,&gt;TIGO&lt;,&gt;13&lt;,&gt;RECARGA CELULAR TIGO;&quot;\r\n\t\t\t   \t\t+ &quot; 800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;426&lt;,&gt;PAQUECLARO 24HRS; &quot;\r\n\t\t\t   \t\t+ &quot;800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;7&lt;,&gt;PINES 2000; &quot;\r\n\t\t\t   \t\t+ &quot;900102005-1&lt;,&gt;GLOBAL TV TELECOMUNICACIONES&lt;,&gt;92&lt;,&gt;JOHATRUJILLO;&quot;;\r\n\t\t   String[] arrOfStr = str.split(&quot;;&quot;, 4);\r\n\t\t   \t List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\t   \t for (String a : arrOfStr) {\t   \t\t \r\n\t\t   \t\t list.add(a);\r\n\t\t   \t }\r\n\t\t   \t \r\n\t\t   \t for (String data : list) {\r\n\t\t   \t\t \r\n\t\t   \t\tString result2 = data.replaceAll(&quot;\\\\&lt;,&gt;&quot;, &quot; &quot;);\r\n\t\t   \t\t \r\n\t\t   \t\t  System.out.println(result2);\r\n\t\t   \t }\r\n```\r\n  [1]: https://i.stack.imgur.com/EEqVQ.png","title":"How to unstructure a text string that has characters and convert it to an object","body":"<p>I have a text string that I receive from PL/SQL. I need to convert each object that is separated by a ';'.\nThis is my string <a href=\"https://i.stack.imgur.com/EEqVQ.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI need to get that information and create the objects that come in that string.</p>\n<pre><code>//all objects come in a single text string\n\nfirst object is 830114921-1&lt;,&gt;TIGO&lt;,&gt;13&lt;,&gt;RECARGA CELULAR TIGO;\nsecond object is 800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;426&lt;,&gt;PAQUECLARO 24HRS;\nthird object is   800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;7&lt;,&gt;PINES 2000;\nfourth object is  900102005-1&lt;,&gt;GLOBAL TV TELECOMUNICACIONES&lt;,&gt;92&lt;,&gt;JOHATRUJILLO;\n</code></pre>\n<pre><code>Example:\nClass MyClass{\n\nInteger number;\nString text;\nInteger number2;\nString text;\n} \nList&lt;MyClass&gt; myList = new ArrayList&lt;&gt;();\nmyClass.SetNumber(830114921-1);\nmyClass.SetText(&quot;TIGO&quot;);\nmyClass.SetNumber2(13);\nmyClass.SetText2(&quot;RECARGA CELULAR TIGO&quot;);\nmyList.add(myClass); \n</code></pre>\n<pre><code>//I can split the 4 objects but if more objects come in the text string, can //no longer be. \n   String str = &quot;830114921-1&lt;,&gt;TIGO&lt;,&gt;13&lt;,&gt;RECARGA CELULAR TIGO;&quot;\n                    + &quot; 800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;426&lt;,&gt;PAQUECLARO 24HRS; &quot;\n                    + &quot;800153993-7&lt;,&gt;PROTOCOLO CLARO&lt;,&gt;7&lt;,&gt;PINES 2000; &quot;\n                    + &quot;900102005-1&lt;,&gt;GLOBAL TV TELECOMUNICACIONES&lt;,&gt;92&lt;,&gt;JOHATRUJILLO;&quot;;\n           String[] arrOfStr = str.split(&quot;;&quot;, 4);\n             List&lt;String&gt; list = new ArrayList&lt;&gt;();\n             for (String a : arrOfStr) {             \n                 list.add(a);\n             }\n             \n             for (String data : list) {\n                 \n                String result2 = data.replaceAll(&quot;\\\\&lt;,&gt;&quot;, &quot; &quot;);\n                 \n                  System.out.println(result2);\n             }\n</code></pre>\n"},{"tags":["java","docker","mybatis","tomcat9","java-17"],"answers":[{"tags":[],"owner":{"account_id":9622619,"reputation":1,"user_id":7143320,"display_name":"meghanath reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643816972,"creation_date":1643816972,"answer_id":70958652,"question_id":70934256,"body_markdown":"OK I got it fixed by changing the maven version \r\n\r\nissue is with maven some how while building the war file it ignores the mybatis imports Once I downgraded my maven version it started working ","title":"Tomcat 9 unable find org.apache.ibatis inside docker container with java 17","body":"<p>OK I got it fixed by changing the maven version</p>\n<p>issue is with maven some how while building the war file it ignores the mybatis imports Once I downgraded my maven version it started working</p>\n"}],"owner":{"account_id":9622619,"reputation":1,"user_id":7143320,"display_name":"meghanath reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643816972,"creation_date":1643673699,"question_id":70934256,"body_markdown":"I am trying to rewrite the existing java application to upgrade it to java17 and tomcat 9 along with dockerization \r\nBut while I am trying to run it in the docker container I am seeing the error below \r\n\r\n    Caused by: java.lang.Error: Unresolved compilation problems: \r\n\tThe import org.apache.ibatis cannot be resolved\r\n\tThe import org.apache.ibatis cannot be resolved\r\n\tBaseTypeHandler cannot be resolved to a type\r\n\tThe method getNullableResult(ResultSet, String) of type StringBoolHandler must override or implement a supertype method\r\n\tThe method getNullableResult(ResultSet, int) of type StringBoolHandler must override or implement a supertype method\r\n\tThe method getNullableResult(CallableStatement, int) of type StringBoolHandler must override or implement a supertype method\r\n\tJdbcType cannot be resolved to a type\r\n\r\n\tat com.XXX.XXX.mybatis.typehandlers.StringBoolHandler.&lt;init&gt;(StringBoolHandler.java:11)\r\n\r\nBut StringBoolHandler class has the above-mentioned methods overridden and no compiler errors in IDE either \r\n\r\nI am able to successfully start and run the application in IDE \r\n\r\nThis is my docker file \r\n\r\n    FROM openjdk:17-jdk\r\n    FROM maven:3.8.4 as maven_builder\r\n    WORKDIR /app\r\n    ADD src /app/src\r\n    ADD war /app/war\r\n    #Prepare by downloading dependencies\r\n    ADD pom.xml /app/pom.xml\r\n    RUN [&quot;mvn&quot;, &quot;dependency:resolve&quot;]\r\n    RUN [&quot;mvn&quot;, &quot;verify&quot;]\r\n    #Adding source, compile and package into a fat jar\r\n    RUN [&quot;mvn&quot;,&quot;clean&quot;, &quot;install&quot;, &quot;-Dmaven.test.skip=true&quot;]\r\n    FROM tomcat:9.0-jdk17\r\n    # adding new relic config\r\n    RUN mkdir -p /usr/local/tomcat/newrelic\r\n    COPY war/WEB-INF/lib/newrelic.jar /usr/local/tomcat/newrelic/newrelic.jar\r\n    COPY war/WEB-INF/newrelic.yml /usr/local/tomcat/newrelic/newrelic.yml\r\n    ENV JAVA_OPTS=&quot;$JAVA_OPTS -javaagent:/usr/local/tomcat/newrelic/newrelic.jar&quot;\r\n    COPY --from=maven_builder /app/target/xxx-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/xxx.war\r\n\r\nI am able to find `mybatis-3.5.7.jar` in lib of deployed application in docker container\r\n  \r\nplease feel free to suggest me any type of modifications needed to make my Dockerfile better ","title":"Tomcat 9 unable find org.apache.ibatis inside docker container with java 17","body":"<p>I am trying to rewrite the existing java application to upgrade it to java17 and tomcat 9 along with dockerization\nBut while I am trying to run it in the docker container I am seeing the error below</p>\n<pre><code>Caused by: java.lang.Error: Unresolved compilation problems: \nThe import org.apache.ibatis cannot be resolved\nThe import org.apache.ibatis cannot be resolved\nBaseTypeHandler cannot be resolved to a type\nThe method getNullableResult(ResultSet, String) of type StringBoolHandler must override or implement a supertype method\nThe method getNullableResult(ResultSet, int) of type StringBoolHandler must override or implement a supertype method\nThe method getNullableResult(CallableStatement, int) of type StringBoolHandler must override or implement a supertype method\nJdbcType cannot be resolved to a type\n\nat com.XXX.XXX.mybatis.typehandlers.StringBoolHandler.&lt;init&gt;(StringBoolHandler.java:11)\n</code></pre>\n<p>But StringBoolHandler class has the above-mentioned methods overridden and no compiler errors in IDE either</p>\n<p>I am able to successfully start and run the application in IDE</p>\n<p>This is my docker file</p>\n<pre><code>FROM openjdk:17-jdk\nFROM maven:3.8.4 as maven_builder\nWORKDIR /app\nADD src /app/src\nADD war /app/war\n#Prepare by downloading dependencies\nADD pom.xml /app/pom.xml\nRUN [&quot;mvn&quot;, &quot;dependency:resolve&quot;]\nRUN [&quot;mvn&quot;, &quot;verify&quot;]\n#Adding source, compile and package into a fat jar\nRUN [&quot;mvn&quot;,&quot;clean&quot;, &quot;install&quot;, &quot;-Dmaven.test.skip=true&quot;]\nFROM tomcat:9.0-jdk17\n# adding new relic config\nRUN mkdir -p /usr/local/tomcat/newrelic\nCOPY war/WEB-INF/lib/newrelic.jar /usr/local/tomcat/newrelic/newrelic.jar\nCOPY war/WEB-INF/newrelic.yml /usr/local/tomcat/newrelic/newrelic.yml\nENV JAVA_OPTS=&quot;$JAVA_OPTS -javaagent:/usr/local/tomcat/newrelic/newrelic.jar&quot;\nCOPY --from=maven_builder /app/target/xxx-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/xxx.war\n</code></pre>\n<p>I am able to find <code>mybatis-3.5.7.jar</code> in lib of deployed application in docker container</p>\n<p>please feel free to suggest me any type of modifications needed to make my Dockerfile better</p>\n"},{"tags":["java","scala","azure-functions"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1643827361,"post_id":70958534,"comment_id":125445262,"body_markdown":"I&#39;m not sure of what you are asking exactly. It&#39;s possible to mix Java and Scala in a Maven project (more in the way of Scala calling Java but opposite is possible as well). Is it possible in the context of Azure functions? I have no idea.","body":"I&#39;m not sure of what you are asking exactly. It&#39;s possible to mix Java and Scala in a Maven project (more in the way of Scala calling Java but opposite is possible as well). Is it possible in the context of Azure functions? I have no idea."},{"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"score":0,"creation_date":1643837364,"post_id":70958534,"comment_id":125448791,"body_markdown":"Well I upload jar so azure is ready for that, but I dunno how to add to this project scala compiler. So it would work with java and additionally scala. It could be even spring boot app not azure.","body":"Well I upload jar so azure is ready for that, but I dunno how to add to this project scala compiler. So it would work with java and additionally scala. It could be even spring boot app not azure."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1643838575,"post_id":70958534,"comment_id":125449202,"body_markdown":"One possibility: https://davidb.github.io/scala-maven-plugin/example_java.html","body":"One possibility: <a href=\"https://davidb.github.io/scala-maven-plugin/example_java.html\" rel=\"nofollow noreferrer\">davidb.github.io/scala-maven-plugin/example_java.html</a>"},{"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"score":0,"creation_date":1643872352,"post_id":70958534,"comment_id":125455675,"body_markdown":"great - thanks !","body":"great - thanks !"},{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":1,"creation_date":1644309506,"post_id":70958534,"comment_id":125565664,"body_markdown":"If you have found the answer, you can post an answer so that it might be helpful to other community members who might face the same issue.","body":"If you have found the answer, you can post an answer so that it might be helpful to other community members who might face the same issue."}],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643816569,"creation_date":1643816569,"question_id":70958534,"body_markdown":"I just used autorest generator https://github.com/Azure/autorest.azure-functions:\r\n\r\n    autorest --azure-functions-java \\\r\n             --input-file:./petstore.yaml \\\r\n             --output-folder:./generated-azfunctions \\\r\n             --namespace:com.company \\\r\n             --version:3.0.6320\r\n\r\nwith petstore.yaml from [yaml][1]\r\n\r\nit generated code with pom.xml: [pom.xml][2]\r\n\r\nI would like to use it but in hybrid mode with scala, scala would contain logic and in java only http layer. \r\nHow to do that, is it possible ?\r\n\r\n  [1]: https://raw.githubusercontent.com/Azure/autorest/main/Samples/openapi-v3/1a-code-generation-minimal/petstore.yaml\r\n  [2]: https://gist.github.com/maciejbak85/69e9a8b7d2cc34478551f634c59cc28a","title":"Azure Functions Java auto generated with scala files","body":"<p>I just used autorest generator <a href=\"https://github.com/Azure/autorest.azure-functions\" rel=\"nofollow noreferrer\">https://github.com/Azure/autorest.azure-functions</a>:</p>\n<pre><code>autorest --azure-functions-java \\\n         --input-file:./petstore.yaml \\\n         --output-folder:./generated-azfunctions \\\n         --namespace:com.company \\\n         --version:3.0.6320\n</code></pre>\n<p>with petstore.yaml from <a href=\"https://raw.githubusercontent.com/Azure/autorest/main/Samples/openapi-v3/1a-code-generation-minimal/petstore.yaml\" rel=\"nofollow noreferrer\">yaml</a></p>\n<p>it generated code with pom.xml: <a href=\"https://gist.github.com/maciejbak85/69e9a8b7d2cc34478551f634c59cc28a\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<p>I would like to use it but in hybrid mode with scala, scala would contain logic and in java only http layer.\nHow to do that, is it possible ?</p>\n"},{"tags":["java","apache-spark","apache-kafka","spark-streaming"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643816491,"creation_date":1588278507,"answer_id":61532173,"question_id":61528682,"body_markdown":"I&#39;m not sure `run-example` sets up the classpath correctly for external libraries. \r\n\r\nYou need `kafka-clients` on the classpath (which should be included as part of `spark-sql-kafka-0-10`, which is **not** provided by Spark by default, so you must download it, and add it to the Spark libs directory). \r\n\r\nOr you can use `spark-submit --packages`, as is documented by Spark on submitting applications \r\n\r\n","title":"Running Spark example: ClassNotFoundException: org.apache.kafka.common.serialization.StringDeserializer","body":"<p>I'm not sure <code>run-example</code> sets up the classpath correctly for external libraries.</p>\n<p>You need <code>kafka-clients</code> on the classpath (which should be included as part of <code>spark-sql-kafka-0-10</code>, which is <strong>not</strong> provided by Spark by default, so you must download it, and add it to the Spark libs directory).</p>\n<p>Or you can use <code>spark-submit --packages</code>, as is documented by Spark on submitting applications</p>\n"}],"owner":{"account_id":18452925,"reputation":11,"user_id":13442532,"display_name":"Daniel Germain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643816491,"creation_date":1588265468,"question_id":61528682,"body_markdown":"I&#39;m new to spark, and yet to write my first spark application and still investigating whether that would be a good fit for our purpose. Currently just trying to run the sample example that come with spark that access kafka\r\n\r\nI tried to run kafka examples coming out of the box using two ways without success with same error.\r\n\r\n1. from spark using helm/kubernetes\r\n2. from manual local build\r\n\r\nI search existing post but don&#39;t quite understand why the out of box don&#39;t seem to be  working.\r\n\r\nhttps://stackoverflow.com/questions/54569033/spark-fails-with-noclassdeffounderror-for-org-apache-kafka-common-serialization\r\n\r\nhttps://stackoverflow.com/questions/48864032/apache-kafka-stringdeserializer-is-not-an-instance-of-deserializer\r\n\r\nhttps://stackoverflow.com/questions/44748924/why-does-spark-application-fail-with-exception-in-thread-main-java-lang-nocla\r\n\r\nHELM/Kubernetes\r\n================\r\n\r\n    Clone https://github.com/bitnami/charts.git bitnami/spark\r\n    using\r\n    registry: docker.io\r\n      repository: bitnami/spark\r\n      tag: 2.4.5-debian-10-r87\r\n      tag: 2.4.5-debian-10-r94\r\n    Got success with ./bin/run-example SparkPi 10\r\n    But got error with ./bin/run-example streaming.JavaDirectKafkaWordCount myBroker myConsumerGroup myTopic\r\n    \r\n        INFO StreamingExamples: Setting log level to [WARN] for streaming example. To override add a custom log4j.properties to the classpath.\r\n        Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/StringDeserializer\r\n        \tat org.apache.spark.examples.streaming.JavaDirectKafkaWordCount.main(JavaDirectKafkaWordCount.java:78)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        \tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\r\n        \tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n        \tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n        \tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n        \tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\r\n        \tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\r\n        \tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n        Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.StringDeserializer\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        \t... 13 more\r\n\r\n\r\nMANUAL LOCAL BUILD\r\n==================\r\n\r\n    Clone https://github.com/apache/spark.git\r\n    ./build/mvn -DskipTests clean package\r\n    [INFO] BUILD SUCCESS\r\n    \r\n    RAN EXAMPLE SUCCESSFULLY\r\n    ./bin/run-example SparkPi 10\r\n    Pi is roughly 3.1424111424111425\r\n    \r\n    RAN KAFKA EXAMPLE WITH ClassNotFoundException\r\n    ./bin/run-example streaming.JavaDirectKafkaWordCount myBroker myConsumerGroup myTopic\r\n    \r\n        INFO StreamingExamples: Setting log level to [WARN] for streaming example. To override add a custom log4j.properties to the classpath.\r\n        Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/StringDeserializer\r\n        \tat org.apache.spark.examples.streaming.JavaDirectKafkaWordCount.main(JavaDirectKafkaWordCount.java:78)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        \tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:934)\r\n        \tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n        \tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n        \tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n        \tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1013)\r\n        \tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1022)\r\n        \tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n        Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.StringDeserializer\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        \t... 13 more\r\n","title":"Running Spark example: ClassNotFoundException: org.apache.kafka.common.serialization.StringDeserializer","body":"<p>I'm new to spark, and yet to write my first spark application and still investigating whether that would be a good fit for our purpose. Currently just trying to run the sample example that come with spark that access kafka</p>\n\n<p>I tried to run kafka examples coming out of the box using two ways without success with same error.</p>\n\n<ol>\n<li>from spark using helm/kubernetes</li>\n<li>from manual local build</li>\n</ol>\n\n<p>I search existing post but don't quite understand why the out of box don't seem to be  working.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/54569033/spark-fails-with-noclassdeffounderror-for-org-apache-kafka-common-serialization\">Spark fails with NoClassDefFoundError for org.apache.kafka.common.serialization.StringDeserializer</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/48864032/apache-kafka-stringdeserializer-is-not-an-instance-of-deserializer\">Apache Kafka: ...StringDeserializer is not an instance of ...Deserializer</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/44748924/why-does-spark-application-fail-with-exception-in-thread-main-java-lang-nocla\">Why does Spark application fail with &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: ...StringDeserializer&quot;?</a></p>\n\n<h1>HELM/Kubernetes</h1>\n\n<pre><code>Clone https://github.com/bitnami/charts.git bitnami/spark\nusing\nregistry: docker.io\n  repository: bitnami/spark\n  tag: 2.4.5-debian-10-r87\n  tag: 2.4.5-debian-10-r94\nGot success with ./bin/run-example SparkPi 10\nBut got error with ./bin/run-example streaming.JavaDirectKafkaWordCount myBroker myConsumerGroup myTopic\n\n    INFO StreamingExamples: Setting log level to [WARN] for streaming example. To override add a custom log4j.properties to the classpath.\n    Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/StringDeserializer\n        at org.apache.spark.examples.streaming.JavaDirectKafkaWordCount.main(JavaDirectKafkaWordCount.java:78)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n    Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.StringDeserializer\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        ... 13 more\n</code></pre>\n\n<h1>MANUAL LOCAL BUILD</h1>\n\n<pre><code>Clone https://github.com/apache/spark.git\n./build/mvn -DskipTests clean package\n[INFO] BUILD SUCCESS\n\nRAN EXAMPLE SUCCESSFULLY\n./bin/run-example SparkPi 10\nPi is roughly 3.1424111424111425\n\nRAN KAFKA EXAMPLE WITH ClassNotFoundException\n./bin/run-example streaming.JavaDirectKafkaWordCount myBroker myConsumerGroup myTopic\n\n    INFO StreamingExamples: Setting log level to [WARN] for streaming example. To override add a custom log4j.properties to the classpath.\n    Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/StringDeserializer\n        at org.apache.spark.examples.streaming.JavaDirectKafkaWordCount.main(JavaDirectKafkaWordCount.java:78)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:934)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1013)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1022)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n    Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.StringDeserializer\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 13 more\n</code></pre>\n"},{"tags":["java","azure","tomcat","azure-web-app-service","geoserver"],"comments":[{"owner":{"account_id":11166237,"reputation":2917,"user_id":8194837,"display_name":"AjayKumar"},"score":0,"creation_date":1644406436,"post_id":70958505,"comment_id":125596966,"body_markdown":"App requiring a different path for unpacking. Requires the following at the end of the path. &quot;/api/wardeploy?name=newpath&quot;\n\n\nYou may check the `wardeploy`  - By default, `wardeploy` deploys to the ROOT app. As per your requirement, you may use the query parameter name to specify the name of the app you want to deploy to: /api/wardeploy?name=NAME_OF_APP. For example, /api/wardeploy?name=myapp will deploy to the /home/site/wwwroot/webapps/myapp directory instead of /home/site/wwwroot/webapps/ROOT. [see](https://github.com/projectkudu/kudu/wiki/Deploying-WAR-files-using-wardeploy)","body":"App requiring a different path for unpacking. Requires the following at the end of the path. &quot;/api/wardeploy?name=newpath&quot;   You may check the <code>wardeploy</code>  - By default, <code>wardeploy</code> deploys to the ROOT app. As per your requirement, you may use the query parameter name to specify the name of the app you want to deploy to: /api/wardeploy?name=NAME_OF_APP. For example, /api/wardeploy?name=myapp will deploy to the /home/site/wwwroot/webapps/myapp directory instead of /home/site/wwwroot/webapps/ROOT. <a href=\"https://github.com/projectkudu/kudu/wiki/Deploying-WAR-files-using-wardeploy\" rel=\"nofollow noreferrer\">see</a>"},{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1645779931,"post_id":70958505,"comment_id":125966266,"body_markdown":"@Vivendi - Any update regarding the issue ?","body":"@Vivendi - Any update regarding the issue ?"}],"owner":{"account_id":1205596,"reputation":20317,"user_id":1175327,"accept_rate":75,"display_name":"Vivendi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643816449,"creation_date":1643816449,"question_id":70958505,"body_markdown":"I have created a Linux App Service with Java8 and Tomcat 8.5 in Azure.\r\n\r\nTo that App Service I deploy a .war file using the following command:\r\n\r\n```\r\naz webapp deploy --resource-group &lt;group-name&gt; --name &lt;app-name&gt; --src-path ./geoserver.war\r\n```\r\n\r\nThis all works fine. This uploads my `.war` file to the `/home/site/wwwroot/` directory and gives the war file the name `app.war` by default.\r\n\r\nThen I can access: \r\n\r\n```\r\nhttps://[my-site].azurewebsites.net/web\r\n``` \r\nAnd it all works. The site loads.\r\n\r\nBut I need it to be in a subfolder, so I can navigate to something like: \r\n\r\n```\r\nhttps://[my-site].azurewebsites.net/geoserver/web/\r\n```` \r\n\r\nSo I changed my command a little by adding `--target-path` to it. But whatever path I try, I keep getting this error back:\r\n\r\n&gt; 502 - Web server received an invalid response while acting as a gateway or proxy server\r\n\r\nWhen I remove the `--target-path` command, then it works fine.\r\n\r\nMy command end up looking like this:\r\n\r\n```\r\naz webapp deploy --resource-group &lt;group-name&gt; --name &lt;app-name&gt; --src-path ./geoserver.war --target-path /home/site/wwwroot/geoserver/\r\n```\r\n\r\nBut, this gives me the error shown above. I&#39;ve tried the following things as `--target-path`, but all fail with the same error:\r\n\r\n```\r\n--target-path /home/site/wwwroot/geoserver/\r\n--target-path /home/site/wwwroot/geoserver\r\n--target-path /home/site/wwwroot/geoserver/app.war\r\n--target-path /geoserver/\r\n--target-path /geoserver/app.war\r\n--target-path home/site/wwwroot/geoserver/app.war\r\n--target-path /site/wwwroot/geoserver/\r\netc..\r\n```\r\n\r\nSo basically my goal is to deploy the `.war` file to a subfolder. What am I doing wrong here?","title":"Using &#39;az webapp deploy&#39; to deploy .war file to subfolder","body":"<p>I have created a Linux App Service with Java8 and Tomcat 8.5 in Azure.</p>\n<p>To that App Service I deploy a .war file using the following command:</p>\n<pre><code>az webapp deploy --resource-group &lt;group-name&gt; --name &lt;app-name&gt; --src-path ./geoserver.war\n</code></pre>\n<p>This all works fine. This uploads my <code>.war</code> file to the <code>/home/site/wwwroot/</code> directory and gives the war file the name <code>app.war</code> by default.</p>\n<p>Then I can access:</p>\n<pre><code>https://[my-site].azurewebsites.net/web\n</code></pre>\n<p>And it all works. The site loads.</p>\n<p>But I need it to be in a subfolder, so I can navigate to something like:</p>\n<pre><code>https://[my-site].azurewebsites.net/geoserver/web/\n</code></pre>\n<p>So I changed my command a little by adding <code>--target-path</code> to it. But whatever path I try, I keep getting this error back:</p>\n<blockquote>\n<p>502 - Web server received an invalid response while acting as a gateway or proxy server</p>\n</blockquote>\n<p>When I remove the <code>--target-path</code> command, then it works fine.</p>\n<p>My command end up looking like this:</p>\n<pre><code>az webapp deploy --resource-group &lt;group-name&gt; --name &lt;app-name&gt; --src-path ./geoserver.war --target-path /home/site/wwwroot/geoserver/\n</code></pre>\n<p>But, this gives me the error shown above. I've tried the following things as <code>--target-path</code>, but all fail with the same error:</p>\n<pre><code>--target-path /home/site/wwwroot/geoserver/\n--target-path /home/site/wwwroot/geoserver\n--target-path /home/site/wwwroot/geoserver/app.war\n--target-path /geoserver/\n--target-path /geoserver/app.war\n--target-path home/site/wwwroot/geoserver/app.war\n--target-path /site/wwwroot/geoserver/\netc..\n</code></pre>\n<p>So basically my goal is to deploy the <code>.war</code> file to a subfolder. What am I doing wrong here?</p>\n"},{"tags":["java","spring-boot","spring-batch","spring-batch-admin","spring-batch-stream"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643813397,"post_id":70842035,"comment_id":125439204,"body_markdown":"Don&#39;t. Use your database for this and write a SQL statement to do this, write a so-called UPSERT query (UPDATE or INSERT), that way this will all be done in 1 batched query instead of introducing an additional query per row (which will be slow).","body":"Don&#39;t. Use your database for this and write a SQL statement to do this, write a so-called UPSERT query (UPDATE or INSERT), that way this will all be done in 1 batched query instead of introducing an additional query per row (which will be slow)."}],"answers":[{"tags":[],"owner":{"account_id":21755605,"reputation":125,"user_id":16061021,"display_name":"Ankit Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643816277,"creation_date":1643816277,"answer_id":70958457,"question_id":70842035,"body_markdown":"From, the question it appeared that you are having problem in reading the List&lt;Item&gt; using your custom ItemReader (plz correct me if there is any other problem).First of all can you post the structure of ItemProcessor and ItemWriter that would be helpful to get more insight of the problem.\r\n\r\nJust to throw more light on how spring batch work, you read one item or multiple items at a time using reader .But, batch framework sends one item at a time to processor(even if it has prepared a list of item by reading in batch) and writer will receive list of output from processor to write in target(based on chunk size).If you are reading List&lt;Item&gt; from reader and returning same list from reader then processor will receive that List to process but writer should have List&lt;List&lt;Item&gt;&gt; to write. In a way , batch will consider List&lt;Item&gt; that you have read and passed to processor as 1 single item and based on chunk size, if it is 10 (lets say), it will add 10 List&lt;Item&gt; in other list and send that List&lt;List&lt;Item&gt;&gt; to writer.","title":"Spring Batch- how to pass list of multiple items from input to ItemReader, ItemProcessor and ItemWriter","body":"<p>From, the question it appeared that you are having problem in reading the List using your custom ItemReader (plz correct me if there is any other problem).First of all can you post the structure of ItemProcessor and ItemWriter that would be helpful to get more insight of the problem.</p>\n<p>Just to throw more light on how spring batch work, you read one item or multiple items at a time using reader .But, batch framework sends one item at a time to processor(even if it has prepared a list of item by reading in batch) and writer will receive list of output from processor to write in target(based on chunk size).If you are reading List from reader and returning same list from reader then processor will receive that List to process but writer should have List&lt;List&gt; to write. In a way , batch will consider List that you have read and passed to processor as 1 single item and based on chunk size, if it is 10 (lets say), it will add 10 List in other list and send that List&lt;List&gt; to writer.</p>\n"}],"owner":{"account_id":14309864,"reputation":23,"user_id":10336492,"display_name":"tryCatch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643816277,"creation_date":1643070026,"question_id":70842035,"body_markdown":"I have a simple csv file that i am reading in chunk of 1000, inserting to database. Now if i want to check if the row exists in db and is equal to input before insert, if exists and row is equal -ignore, else insert or update, I am using ItemProcessor.\r\nAfter implementing this, realized the jdbc call is too slow(120ms avg) and wanted to batch the ids before calling the db and check with input. In this stage ItemReader was passing to ItemProcessor one item at a time. Now I am trying to pass 1000 items at once to ItemProcessor so the jdbc call can be batched.\r\nWhile trying this, was able to check some example but unable to get reader work.\r\nThis is sample code.\r\n\r\n    public class customReader implements ItemReader&lt;List&lt;T&gt;&gt; {\r\n    private static List&lt;T&gt; records = null;\r\n    ItemReader&lt;String&gt; itemReader;\r\n\r\n    @Autowired customDao customDao; \r\n    private int index = 0; \r\n    @Override public List&lt;T&gt; read() throws Exception {\r\n    //reader logic\r\n    //while(records.size() &lt; 1000){\r\n          String record = itemReader.read();\r\n          if(Objects.isNull(record)){\r\n              break;\r\n          } \r\n          records.add(record);\r\n     }\r\n     return (List&lt;T&gt;) records;\r\n\r\n    }\r\n\r\nThis is config\r\n\r\n    @Bean\r\n        return stepBuilderFactory\r\n                .get(&quot;step&quot;)\r\n                .&lt;List&lt;String&gt;, List&lt;String&gt;&gt;chunk(1000)\r\n                .reader(reader())\r\n                .processor(processor())\r\n                .writer(writer())\r\n                .build();\r\n\r\n------------------------------------------------------------------------\r\nIf any one has a simple sample where they can pass a list of 1000 rows of csv file to processor, please share the example.\r\nChecked the example shared: https://stackoverflow.com/questions/11929641/making-a-item-reader-to-return-a-list-instead-single-object-spring-batch\r\nGetting exceptions, unchecked call to processor, writer etc with above.\r\n\r\nhttps://stackoverflow.com/questions/51338632/spring-batch-item-reader-and-itemprocessor-with-a-list\r\nChecked above as well but got exceptions like listed in the comment and unchecked type etc.\r\nPlease kindly share if you have working sample of reader, processor and writer with multiple rows in one transaction without multi-threading.\r\n\r\n","title":"Spring Batch- how to pass list of multiple items from input to ItemReader, ItemProcessor and ItemWriter","body":"<p>I have a simple csv file that i am reading in chunk of 1000, inserting to database. Now if i want to check if the row exists in db and is equal to input before insert, if exists and row is equal -ignore, else insert or update, I am using ItemProcessor.\nAfter implementing this, realized the jdbc call is too slow(120ms avg) and wanted to batch the ids before calling the db and check with input. In this stage ItemReader was passing to ItemProcessor one item at a time. Now I am trying to pass 1000 items at once to ItemProcessor so the jdbc call can be batched.\nWhile trying this, was able to check some example but unable to get reader work.\nThis is sample code.</p>\n<pre><code>public class customReader implements ItemReader&lt;List&lt;T&gt;&gt; {\nprivate static List&lt;T&gt; records = null;\nItemReader&lt;String&gt; itemReader;\n\n@Autowired customDao customDao; \nprivate int index = 0; \n@Override public List&lt;T&gt; read() throws Exception {\n//reader logic\n//while(records.size() &lt; 1000){\n      String record = itemReader.read();\n      if(Objects.isNull(record)){\n          break;\n      } \n      records.add(record);\n }\n return (List&lt;T&gt;) records;\n\n}\n</code></pre>\n<p>This is config</p>\n<pre><code>@Bean\n    return stepBuilderFactory\n            .get(&quot;step&quot;)\n            .&lt;List&lt;String&gt;, List&lt;String&gt;&gt;chunk(1000)\n            .reader(reader())\n            .processor(processor())\n            .writer(writer())\n            .build();\n</code></pre>\n<hr />\n<p>If any one has a simple sample where they can pass a list of 1000 rows of csv file to processor, please share the example.\nChecked the example shared: <a href=\"https://stackoverflow.com/questions/11929641/making-a-item-reader-to-return-a-list-instead-single-object-spring-batch\">Making a item reader to return a list instead single object - Spring batch</a>\nGetting exceptions, unchecked call to processor, writer etc with above.</p>\n<p><a href=\"https://stackoverflow.com/questions/51338632/spring-batch-item-reader-and-itemprocessor-with-a-list\">Spring Batch - Item Reader and ItemProcessor with a list</a>\nChecked above as well but got exceptions like listed in the comment and unchecked type etc.\nPlease kindly share if you have working sample of reader, processor and writer with multiple rows in one transaction without multi-threading.</p>\n"},{"tags":["java","methods","declaration","public"],"comments":[{"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"score":1,"creation_date":1404832571,"post_id":24635425,"comment_id":38182674,"body_markdown":"See the basic difference between [public and default](http://stackoverflow.com/questions/215497/in-java-whats-the-difference-between-public-default-protected-and-private) access specifiers","body":"See the basic difference between <a href=\"http://stackoverflow.com/questions/215497/in-java-whats-the-difference-between-public-default-protected-and-private\">public and default</a> access specifiers"}],"answers":[{"tags":[],"owner":{"account_id":2460181,"reputation":5795,"user_id":2748290,"display_name":"linguamachina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404832940,"creation_date":1404832426,"answer_id":24635497,"question_id":24635425,"body_markdown":"Member functions are package-private by default. See: [access modifiers][1]. There **is** a crucial difference (although to a beginner, the distinction between public and package-private may not be immediately obvious). Understanding access modifiers is crucial in any OO programming language.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"What is the difference of declaring a method public or not?","body":"<p>Member functions are package-private by default. See: <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow\">access modifiers</a>. There <strong>is</strong> a crucial difference (although to a beginner, the distinction between public and package-private may not be immediately obvious). Understanding access modifiers is crucial in any OO programming language.</p>\n"},{"tags":[],"owner":{"account_id":2577040,"reputation":697,"user_id":2234468,"accept_rate":71,"display_name":"William Thomas Waller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404832532,"creation_date":1404832532,"answer_id":24635534,"question_id":24635425,"body_markdown":"From java docs (http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html)\r\n\r\n&gt;    If a class has no modifier (the default, also known as package-private), \r\n&gt;    it is visible only within its own package (packages are named groups of \r\n&gt;    related classes ...)\r\n\r\nI believe this is called `package` if you explicitly state it","title":"What is the difference of declaring a method public or not?","body":"<p>From java docs (<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html</a>)</p>\n\n<blockquote>\n  <p>If a class has no modifier (the default, also known as package-private), \n     it is visible only within its own package (packages are named groups of \n     related classes ...)</p>\n</blockquote>\n\n<p>I believe this is called <code>package</code> if you explicitly state it</p>\n"},{"tags":[],"owner":{"account_id":1531328,"reputation":3720,"user_id":1428461,"display_name":"Jacob Raihle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404832963,"creation_date":1404832963,"answer_id":24635703,"question_id":24635425,"body_markdown":"A Java method can be declared with one of four different [access levels][1]: `public`, `protected`, `default` (i.e. no explicit access level, also called `package-private`), and `private`.\r\n\r\nA public method can be called by any object, while a package-private method can only be called by instances of classes which are defined in the same [package][2] as the receiving object&#39;s class.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/package/packages.html","title":"What is the difference of declaring a method public or not?","body":"<p>A Java method can be declared with one of four different <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow\">access levels</a>: <code>public</code>, <code>protected</code>, <code>default</code> (i.e. no explicit access level, also called <code>package-private</code>), and <code>private</code>.</p>\n\n<p>A public method can be called by any object, while a package-private method can only be called by instances of classes which are defined in the same <a href=\"http://docs.oracle.com/javase/tutorial/java/package/packages.html\" rel=\"nofollow\">package</a> as the receiving object's class.</p>\n"},{"tags":[],"owner":{"account_id":3016236,"reputation":15507,"user_id":4969827,"display_name":"Sergey Shustikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1404833174,"creation_date":1404833174,"answer_id":24635775,"question_id":24635425,"body_markdown":"**public** - anyone, everywhere &lt;br&gt;&lt;br&gt;\r\n**default(no modifiers)** - only in package and in this class\r\n&lt;hr&gt;\r\nYou can call method with *public* modifiers from another class / subclass(child-class) / another package / module (if dependency exist)\r\n\r\nOtherwise, *default* - you can call this method only from this class( inside calls) and from another package","title":"What is the difference of declaring a method public or not?","body":"<p><strong>public</strong> - anyone, everywhere <br><br>\n<strong>default(no modifiers)</strong> - only in package and in this class\n<hr>\nYou can call method with <em>public</em> modifiers from another class / subclass(child-class) / another package / module (if dependency exist)</p>\n\n<p>Otherwise, <em>default</em> - you can call this method only from this class( inside calls) and from another package</p>\n"}],"owner":{"account_id":4718354,"reputation":3,"user_id":3816950,"display_name":"Vladislav Proskurov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24635775,"answer_count":4,"score":0,"last_activity_date":1643816206,"creation_date":1404832237,"question_id":24635425,"body_markdown":"I wonder if there is any difference if I declare the method as public or leave it undeclared like that :\r\n\r\n```\r\nvoid eat() {\r\n  System.out.println(&quot;This food is great&quot;);\r\n}\r\n\r\npublic void eat() {\r\n  System.out.println(&quot;This food is great&quot;);\r\n}\r\n```\r\n\r\nDoes it have any crucial value to it?","title":"What is the difference of declaring a method public or not?","body":"<p>I wonder if there is any difference if I declare the method as public or leave it undeclared like that :</p>\n<pre><code>void eat() {\n  System.out.println(&quot;This food is great&quot;);\n}\n\npublic void eat() {\n  System.out.println(&quot;This food is great&quot;);\n}\n</code></pre>\n<p>Does it have any crucial value to it?</p>\n"},{"tags":["java","http-headers","apache-camel","jetty","apache-karaf"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1627993334,"post_id":68631381,"comment_id":121298529,"body_markdown":"Obvious question, why are you abusing HTTP and not using it properly (eg: don&#39;t make giant query strings, but use POST/PUT/etc with a request body instead)?  Large headers like that are often rejected by many intermediaries as well (firewalls, load balancers, etc).  And are discouraged with HTTP/2 and HTTP/3.  (Many implementations cannot actually handle the nuances of that kind of header with HTTP/2)","body":"Obvious question, why are you abusing HTTP and not using it properly (eg: don&#39;t make giant query strings, but use POST/PUT/etc with a request body instead)?  Large headers like that are often rejected by many intermediaries as well (firewalls, load balancers, etc).  And are discouraged with HTTP/2 and HTTP/3.  (Many implementations cannot actually handle the nuances of that kind of header with HTTP/2)"},{"owner":{"account_id":18646619,"reputation":3,"user_id":13591108,"display_name":"Resu"},"score":0,"creation_date":1627998241,"post_id":68631381,"comment_id":121300783,"body_markdown":"I can do nothing with it. It does not depend on me. There is always a get and always with large header.","body":"I can do nothing with it. It does not depend on me. There is always a get and always with large header."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1627998512,"post_id":68631381,"comment_id":121300930,"body_markdown":"Karaf + camel is a complicated combination.  Please edit your question and add any details of your particular setup.  Eg: who is in control of your Jetty instance in that scenario (karaf? pax? camel? jetty-home? osgi-http-server? jetty-osgi-boot? etc)  How have you deployed those Jetty components/bundles?","body":"Karaf + camel is a complicated combination.  Please edit your question and add any details of your particular setup.  Eg: who is in control of your Jetty instance in that scenario (karaf? pax? camel? jetty-home? osgi-http-server? jetty-osgi-boot? etc)  How have you deployed those Jetty components/bundles?"}],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628020902,"creation_date":1628020902,"answer_id":68642164,"question_id":68631381,"body_markdown":"You can configure the `requestHeaderSize` option on the Camel jetty component, to set a higher value. See the docs at: https://camel.apache.org/components/latest/jetty-component.html\r\n\r\nSince you use rest-dsl you can set component options via `componentProperty` on the `restConfiguration`. See the rest dsl docs at: https://camel.apache.org/manual/latest/rest-dsl.html","title":"Jetty Apache Camel - max headers size - 431 error","body":"<p>You can configure the <code>requestHeaderSize</code> option on the Camel jetty component, to set a higher value. See the docs at: <a href=\"https://camel.apache.org/components/latest/jetty-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/latest/jetty-component.html</a></p>\n<p>Since you use rest-dsl you can set component options via <code>componentProperty</code> on the <code>restConfiguration</code>. See the rest dsl docs at: <a href=\"https://camel.apache.org/manual/latest/rest-dsl.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/latest/rest-dsl.html</a></p>\n"},{"tags":[],"owner":{"account_id":6093255,"reputation":162,"user_id":5184887,"accept_rate":33,"display_name":"Zoltan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643816185,"creation_date":1643816185,"answer_id":70958436,"question_id":68631381,"body_markdown":"If needed directly in your route the easiest way to configure the request header size is: (although I think it will affect the whole &quot;jetty&quot; component)\r\n\r\n    camelContext.getComponent(&quot;jetty&quot;, JettyHttpComponent.class).setRequestHeaderSize(2000);","title":"Jetty Apache Camel - max headers size - 431 error","body":"<p>If needed directly in your route the easiest way to configure the request header size is: (although I think it will affect the whole &quot;jetty&quot; component)</p>\n<pre><code>camelContext.getComponent(&quot;jetty&quot;, JettyHttpComponent.class).setRequestHeaderSize(2000);\n</code></pre>\n"}],"owner":{"account_id":18646619,"reputation":3,"user_id":13591108,"display_name":"Resu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68642164,"answer_count":2,"score":0,"last_activity_date":1643816185,"creation_date":1627972573,"question_id":68631381,"body_markdown":"I have definied rest endpoint in apache camel (runs inside karaf) and I receive very large (&gt;8500) header. Jetty throws 431 status code (Request Header Fields Too Large). Is there any possibility to avoid checking headers size (just temporary) or to change the limit? I use jetty like this:\r\n\r\n    restConfiguration()\r\n            .component(&quot;jetty&quot;)\r\n            .port(&quot;7777&quot;);\r\n\r\n\r\n    RestDefinition restDefinition = rest(REST_PATH)\r\n        .consumes(&quot;application/json&quot;)\r\n        .produces(&quot;application/json&quot;);\r\n\r\n    restDefinition.get(&quot;view2&quot;).to(&quot;direct:getView2&quot;);\r\n\r\nThere is this method\r\n\r\n    .clientRequestValidation(false)\r\n...but it does not work","title":"Jetty Apache Camel - max headers size - 431 error","body":"<p>I have definied rest endpoint in apache camel (runs inside karaf) and I receive very large (&gt;8500) header. Jetty throws 431 status code (Request Header Fields Too Large). Is there any possibility to avoid checking headers size (just temporary) or to change the limit? I use jetty like this:</p>\n<pre><code>restConfiguration()\n        .component(&quot;jetty&quot;)\n        .port(&quot;7777&quot;);\n\n\nRestDefinition restDefinition = rest(REST_PATH)\n    .consumes(&quot;application/json&quot;)\n    .produces(&quot;application/json&quot;);\n\nrestDefinition.get(&quot;view2&quot;).to(&quot;direct:getView2&quot;);\n</code></pre>\n<p>There is this method</p>\n<pre><code>.clientRequestValidation(false)\n</code></pre>\n<p>...but it does not work</p>\n"},{"tags":["java","android","android-studio","android-virtual-device","apple-m1"],"comments":[{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1643600782,"post_id":70920624,"comment_id":125375181,"body_markdown":"Check these links It may help you - https://www.technipages.com/android-emulator-stuck-waiting-for-target-to-come-online,  https://stackoverflow.com/questions/36675654/error-while-waiting-for-device-time-out-after-300seconds-waiting-for-emulator-t","body":"Check these links It may help you - <a href=\"https://www.technipages.com/android-emulator-stuck-waiting-for-target-to-come-online\" rel=\"nofollow noreferrer\">technipages.com/&hellip;</a>,  <a href=\"https://stackoverflow.com/questions/36675654/error-while-waiting-for-device-time-out-after-300seconds-waiting-for-emulator-t\" title=\"error while waiting for device time out after 300seconds waiting for emulator t\">stackoverflow.com/questions/36675654/&hellip;</a>"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1643815946,"post_id":70920624,"comment_id":125440438,"body_markdown":"Why are you ignoring that &quot;Android Gradle Plugin can be updated&quot; notification?","body":"Why are you ignoring that &quot;Android Gradle Plugin can be updated&quot; notification?"}],"answers":[{"tags":[],"owner":{"account_id":1460545,"reputation":511,"user_id":1374991,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643816178,"creation_date":1643816178,"answer_id":70958430,"question_id":70920624,"body_markdown":"You have to update tools for AVD in the IDE. \r\nAndroid Emulator is **31.2.6**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PEvcZ.png","title":"Android Studio can&#39;t run AVD... times out","body":"<p>You have to update tools for AVD in the IDE.\nAndroid Emulator is <strong>31.2.6</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PEvcZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PEvcZ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1552547,"reputation":23103,"user_id":1444609,"accept_rate":99,"display_name":"I wrestled a bear once."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":941,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70958430,"answer_count":1,"score":3,"last_activity_date":1643816178,"creation_date":1643595058,"question_id":70920624,"body_markdown":"Just got a new M1 Mac Mini and I have been having trouble running my Android projects. \r\n\r\nI&#39;m using Android Studio (Bumblebee), JDK 11 (tried 17 as well), and Gradle 7.3.\r\n\r\nWhen I try to run the project from AS, it builds fine and then gets stuck on &quot;Waiting for target device to come online&quot; and eventually times out. \r\n\r\n[![Android Studio][1]][1]\r\n\r\nIf I try to run the emulator again I get a message that the device is already running, including a path to a lock file.\r\n\r\n[![AS Error Message][2]][2]\r\n\r\nHowever, I&#39;ve found that if I run the emulator manually from the CLI, the emulator *does* open, at which point I *can* get AS to run the app on said emulator. So the problem is apparently just that AS can&#39;t *open* the AVD.\r\n\r\nCommand line output when running emulator via `adelphia$ emulator -avd Pixel_3a_API_32_arm64-v8a`:\r\n\r\n```\r\nadelphia$ emulator -avd Pixel_3a_API_32_arm64-v8a\r\nINFO    | Android emulator version 31.2.6.0 (build_id 8100890) (CL:N/A)\r\nWARNING | unexpected system image feature string, emulator might not function correctly, please try updating the emulator.\r\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_new_posture_requested(int) ((null):0, (null))\r\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_dismiss_posture_selection_dialog() ((null):0, (null))\r\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_new_resizable_requested(PresetEmulatorSizeType) ((null):0, (null))\r\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_dismiss_resizable_dialog() ((null):0, (null))\r\nWARNING | cannot add library /Users/adelphia/Library/Android/sdk/emulator/qemu/darwin-aarch64/lib64/vulkan/libvulkan.dylib: failed\r\nINFO    | added library /Users/adelphia/Library/Android/sdk/emulator/lib64/vulkan/libvulkan.dylib\r\nINFO    | configAndStartRenderer: setting vsync to 60 hz\r\nINFO    | Sending adb public key [QAAAAG8XVkhVwEAAQA....= adelphia@unknown]\r\nINFO    | Rootcanal has  been activated.\r\nCould not initialize record - Unknown Audiodevice\r\nCould not initialize record - Unknown Audiodevice\r\nFailed to create voice `goldfish_audio_in&#39;\r\nqemu-system-aarch64: warning: opening audio input failed\r\nINFO    | Started GRPC server at 127.0.0.1:8556, security: Local\r\nINFO    | Advertising in: /Users/adelphia/Library/Caches/TemporaryItems/avd/running/pid_1469.ini\r\nCould not initialize record - Unknown Audiodevice\r\nCould not initialize record - Unknown Audiodevice\r\nFailed to create voice `adc&#39;\r\nCould not initialize record - Unknown Audiodevice\r\nCould not initialize record - Unknown Audiodevice\r\nFailed to create voice `adc&#39;\r\n```\r\n\r\nIf it&#39;s relevant, here&#39;s my `.bash_profile` (changed back to bash)\r\n\r\n```\r\nexport PATH=&quot;/opt/homebrew/bin:$PATH&quot;\r\nexport PATH=&quot;/opt/homebrew/sbin:$PATH&quot;\r\nexport PATH=&quot;/Users/adelphia/Scripts:$PATH&quot;\r\n\r\nexport NVM_DIR=~/.nvm\r\nsource $(brew --prefix nvm)/nvm.sh\r\n\r\nexport ANDROID_HOME=~/Library/Android/sdk\r\nexport ANDROID_SDK_ROOT=~/Library/Android/sdk\r\nexport PATH=${PATH}:${ANDROID_HOME}/emulator\r\nexport PATH=${PATH}:${ANDROID_HOME}/tools\r\nexport PATH=${PATH}:${ANDROID_HOME}/platform-tools\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.14.jdk/Contents/Home\r\n```\r\n\r\nSo, how do I get AS to be able to open the emulator from the GUI?\r\n\r\n  [1]: https://i.stack.imgur.com/bL0bP.png\r\n  [2]: https://i.stack.imgur.com/xcKzR.png","title":"Android Studio can&#39;t run AVD... times out","body":"<p>Just got a new M1 Mac Mini and I have been having trouble running my Android projects.</p>\n<p>I'm using Android Studio (Bumblebee), JDK 11 (tried 17 as well), and Gradle 7.3.</p>\n<p>When I try to run the project from AS, it builds fine and then gets stuck on &quot;Waiting for target device to come online&quot; and eventually times out.</p>\n<p><a href=\"https://i.stack.imgur.com/bL0bP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bL0bP.png\" alt=\"Android Studio\" /></a></p>\n<p>If I try to run the emulator again I get a message that the device is already running, including a path to a lock file.</p>\n<p><a href=\"https://i.stack.imgur.com/xcKzR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xcKzR.png\" alt=\"AS Error Message\" /></a></p>\n<p>However, I've found that if I run the emulator manually from the CLI, the emulator <em>does</em> open, at which point I <em>can</em> get AS to run the app on said emulator. So the problem is apparently just that AS can't <em>open</em> the AVD.</p>\n<p>Command line output when running emulator via <code>adelphia$ emulator -avd Pixel_3a_API_32_arm64-v8a</code>:</p>\n<pre><code>adelphia$ emulator -avd Pixel_3a_API_32_arm64-v8a\nINFO    | Android emulator version 31.2.6.0 (build_id 8100890) (CL:N/A)\nWARNING | unexpected system image feature string, emulator might not function correctly, please try updating the emulator.\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_new_posture_requested(int) ((null):0, (null))\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_dismiss_posture_selection_dialog() ((null):0, (null))\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_new_resizable_requested(PresetEmulatorSizeType) ((null):0, (null))\nINFO    | Warning: QMetaObject::connectSlotsByName: No matching signal for on_dismiss_resizable_dialog() ((null):0, (null))\nWARNING | cannot add library /Users/adelphia/Library/Android/sdk/emulator/qemu/darwin-aarch64/lib64/vulkan/libvulkan.dylib: failed\nINFO    | added library /Users/adelphia/Library/Android/sdk/emulator/lib64/vulkan/libvulkan.dylib\nINFO    | configAndStartRenderer: setting vsync to 60 hz\nINFO    | Sending adb public key [QAAAAG8XVkhVwEAAQA....= adelphia@unknown]\nINFO    | Rootcanal has  been activated.\nCould not initialize record - Unknown Audiodevice\nCould not initialize record - Unknown Audiodevice\nFailed to create voice `goldfish_audio_in'\nqemu-system-aarch64: warning: opening audio input failed\nINFO    | Started GRPC server at 127.0.0.1:8556, security: Local\nINFO    | Advertising in: /Users/adelphia/Library/Caches/TemporaryItems/avd/running/pid_1469.ini\nCould not initialize record - Unknown Audiodevice\nCould not initialize record - Unknown Audiodevice\nFailed to create voice `adc'\nCould not initialize record - Unknown Audiodevice\nCould not initialize record - Unknown Audiodevice\nFailed to create voice `adc'\n</code></pre>\n<p>If it's relevant, here's my <code>.bash_profile</code> (changed back to bash)</p>\n<pre><code>export PATH=&quot;/opt/homebrew/bin:$PATH&quot;\nexport PATH=&quot;/opt/homebrew/sbin:$PATH&quot;\nexport PATH=&quot;/Users/adelphia/Scripts:$PATH&quot;\n\nexport NVM_DIR=~/.nvm\nsource $(brew --prefix nvm)/nvm.sh\n\nexport ANDROID_HOME=~/Library/Android/sdk\nexport ANDROID_SDK_ROOT=~/Library/Android/sdk\nexport PATH=${PATH}:${ANDROID_HOME}/emulator\nexport PATH=${PATH}:${ANDROID_HOME}/tools\nexport PATH=${PATH}:${ANDROID_HOME}/platform-tools\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.14.jdk/Contents/Home\n</code></pre>\n<p>So, how do I get AS to be able to open the emulator from the GUI?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644571692,"post_id":70952976,"comment_id":125646992,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":2816205,"reputation":651,"user_id":2421204,"accept_rate":75,"display_name":"Artyom Rebrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643793431,"creation_date":1643793431,"answer_id":70953068,"question_id":70952976,"body_markdown":"I assume you want to use JUnit for validation: \r\n\r\n    final WebElement element = webDriver.findElement(By.id(&quot;id&quot;));\r\n    final Point location = element.getLocation();\r\n    final int x = location.getX();\r\n    final int y = location.getY();\r\n    assertThat(x, is(0));\r\n    assertThat(y, is(0));","title":"How to validate the location of an element","body":"<p>I assume you want to use JUnit for validation:</p>\n<pre><code>final WebElement element = webDriver.findElement(By.id(&quot;id&quot;));\nfinal Point location = element.getLocation();\nfinal int x = location.getX();\nfinal int y = location.getY();\nassertThat(x, is(0));\nassertThat(y, is(0));\n</code></pre>\n"}],"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643815890,"creation_date":1643793009,"question_id":70952976,"body_markdown":"Got the location of an element, but don&#39;t know how to validate it\r\n\r\nI assumed the ExpectedValue as (0, 0)\r\n\r\nWebElement element = common.getElement(object);\r\nPoint ActualValue = element.getLocation();\r\n\r\nHow to compare these ActualValue and the ExpectedValue","title":"How to validate the location of an element","body":"<p>Got the location of an element, but don't know how to validate it</p>\n<p>I assumed the ExpectedValue as (0, 0)</p>\n<p>WebElement element = common.getElement(object);\nPoint ActualValue = element.getLocation();</p>\n<p>How to compare these ActualValue and the ExpectedValue</p>\n"},{"tags":["java","spring","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1413926377,"post_id":26490967,"comment_id":41626134,"body_markdown":"What version of Spring Boot are you using?","body":"What version of Spring Boot are you using?"},{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1413938897,"post_id":26490967,"comment_id":41630100,"body_markdown":"1.2.0.M1\n\nI think I might have figured out how to set the properties to set things like maximumPoolSize for hikariCP. But I have been unable to get the configuration working using the hikariCP recommended way using dataSourceClassName and serverName instead of driverClassName and jdbc url. So I gave up on that part. If someone can figure that part, that&#39;d help","body":"1.2.0.M1  I think I might have figured out how to set the properties to set things like maximumPoolSize for hikariCP. But I have been unable to get the configuration working using the hikariCP recommended way using dataSourceClassName and serverName instead of driverClassName and jdbc url. So I gave up on that part. If someone can figure that part, that&#39;d help"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1413956841,"post_id":26490967,"comment_id":41634002,"body_markdown":"I&#39;ll give 1.2.0.M1 a try later on, and I find out anything I&#39;ll post it","body":"I&#39;ll give 1.2.0.M1 a try later on, and I find out anything I&#39;ll post it"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1413976366,"post_id":26490967,"comment_id":41642927,"body_markdown":"You can&#39;t use the dataSourceClassName approach with Spring Boot&#39;s auto-configuration of a DataSource as it requires that spring.datasource.url is set. Note that you don&#39;t need to specify driverClassName as Boot will infer it from jdbcUrl.","body":"You can&#39;t use the dataSourceClassName approach with Spring Boot&#39;s auto-configuration of a DataSource as it requires that spring.datasource.url is set. Note that you don&#39;t need to specify driverClassName as Boot will infer it from jdbcUrl."},{"owner":{"account_id":1853929,"reputation":6195,"user_id":1679903,"accept_rate":88,"display_name":"kinjelom"},"score":1,"creation_date":1502358770,"post_id":26490967,"comment_id":78179003,"body_markdown":"application.properties: `spring.datasource.hikari.*`, documentation: https://github.com/brettwooldridge/HikariCP","body":"application.properties: <code>spring.datasource.hikari.*</code>, documentation: <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/HikariCP</a>"},{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1502469832,"post_id":26490967,"comment_id":78239594,"body_markdown":"Thanks for updating. Originally, back in 2014, this was how they were specified.","body":"Thanks for updating. Originally, back in 2014, this was how they were specified."}],"answers":[{"tags":[],"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1414003444,"creation_date":1414003444,"answer_id":26514779,"question_id":26490967,"body_markdown":"So it turns out that almost all the default settings for HikariCP work for me except the number of DB connections. I set that property in my application.properties: \r\n\r\n    spring.datasource.maximumPoolSize=20\r\n\r\nAnd Andy Wilkinson is correct as far as I can tell in that you can&#39;t use the dataSourceClassName configuration approach for HikariCP with Spring Boot. ","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>So it turns out that almost all the default settings for HikariCP work for me except the number of DB connections. I set that property in my application.properties: </p>\n\n<pre><code>spring.datasource.maximumPoolSize=20\n</code></pre>\n\n<p>And Andy Wilkinson is correct as far as I can tell in that you can't use the dataSourceClassName configuration approach for HikariCP with Spring Boot. </p>\n"},{"tags":[],"owner":{"account_id":228687,"reputation":1182,"user_id":491160,"accept_rate":72,"display_name":"Jes&#250;s Zazueta"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1448392380,"creation_date":1423594880,"answer_id":28439685,"question_id":26490967,"body_markdown":"This works for my boot application in case it helps. This class tells you what properties the config object is looking for: \r\n\r\nhttps://github.com/brettwooldridge/HikariCP/blob/2.3.x/hikaricp-common/src/main/java/com/zaxxer/hikari/AbstractHikariConfig.java\r\n\r\nI think multiple datasources could be supporting by adding `datasource_whatever` to the property keys in the source config file. Cheers!\r\n\r\n    @Configuration\r\n    class DataSourceConfig {\r\n\r\n       @Value(&#39;${spring.datasource.username}&#39;)\r\n       private String user;\r\n\r\n       @Value(&#39;${spring.datasource.password}&#39;)\r\n       private String password;\r\n\r\n       @Value(&#39;${spring.datasource.url}&#39;)\r\n       private String dataSourceUrl;\r\n\r\n       @Value(&#39;${spring.datasource.dataSourceClassName}&#39;)\r\n       private String dataSourceClassName;\r\n\r\n       @Value(&#39;${spring.datasource.connectionTimeout}&#39;)\r\n       private int connectionTimeout;\r\n\r\n       @Value(&#39;${spring.datasource.maxLifetime}&#39;)\r\n       private int maxLifetime;\r\n\r\n       @Bean\r\n       public DataSource primaryDataSource() {\r\n          Properties dsProps = [url: dataSourceUrl, user: user, password: password]\r\n          Properties configProps = [\r\n                connectionTestQuery: &#39;select 1 from dual&#39;,\r\n                connectionTimeout: connectionTimeout,\r\n                dataSourceClassName: dataSourceClassName,\r\n                dataSourceProperties: dsProps,\r\n                maxLifetime: maxLifetime\r\n          ]\r\n\r\n          // A default max pool size of 10 seems reasonable for now, so no need to configure for now.\r\n          HikariConfig hc = new HikariConfig(configProps)\r\n          HikariDataSource ds = new HikariDataSource(hc)\r\n          ds\r\n       }\r\n    }","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>This works for my boot application in case it helps. This class tells you what properties the config object is looking for: </p>\n\n<p><a href=\"https://github.com/brettwooldridge/HikariCP/blob/2.3.x/hikaricp-common/src/main/java/com/zaxxer/hikari/AbstractHikariConfig.java\" rel=\"noreferrer\">https://github.com/brettwooldridge/HikariCP/blob/2.3.x/hikaricp-common/src/main/java/com/zaxxer/hikari/AbstractHikariConfig.java</a></p>\n\n<p>I think multiple datasources could be supporting by adding <code>datasource_whatever</code> to the property keys in the source config file. Cheers!</p>\n\n<pre><code>@Configuration\nclass DataSourceConfig {\n\n   @Value('${spring.datasource.username}')\n   private String user;\n\n   @Value('${spring.datasource.password}')\n   private String password;\n\n   @Value('${spring.datasource.url}')\n   private String dataSourceUrl;\n\n   @Value('${spring.datasource.dataSourceClassName}')\n   private String dataSourceClassName;\n\n   @Value('${spring.datasource.connectionTimeout}')\n   private int connectionTimeout;\n\n   @Value('${spring.datasource.maxLifetime}')\n   private int maxLifetime;\n\n   @Bean\n   public DataSource primaryDataSource() {\n      Properties dsProps = [url: dataSourceUrl, user: user, password: password]\n      Properties configProps = [\n            connectionTestQuery: 'select 1 from dual',\n            connectionTimeout: connectionTimeout,\n            dataSourceClassName: dataSourceClassName,\n            dataSourceProperties: dsProps,\n            maxLifetime: maxLifetime\n      ]\n\n      // A default max pool size of 10 seems reasonable for now, so no need to configure for now.\n      HikariConfig hc = new HikariConfig(configProps)\n      HikariDataSource ds = new HikariDataSource(hc)\n      ds\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6569918,"reputation":310,"user_id":5078335,"display_name":"Shahid Yousuf"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1523355926,"creation_date":1438410849,"answer_id":31759040,"question_id":26490967,"body_markdown":"you can&#39;t use dataSourceClassName approach in application.properties configurations as said by @Andy Wilkinson. if you want to have dataSourceClassName anyway you can use Java Config as:\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    class DataSourceConfig {\r\n\r\n     @Value(&quot;${spring.datasource.username}&quot;)\r\n    private String user;\r\n\r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String password;\r\n \r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String dataSourceUrl;\r\n\r\n    @Value(&quot;${spring.datasource.dataSourceClassName}&quot;)\r\n    private String dataSourceClassName;\r\n\r\n    @Value(&quot;${spring.datasource.poolName}&quot;)\r\n    private String poolName;\r\n   \r\n    @Value(&quot;${spring.datasource.connectionTimeout}&quot;)\r\n    private int connectionTimeout;\r\n\r\n    @Value(&quot;${spring.datasource.maxLifetime}&quot;)\r\n    private int maxLifetime;\r\n\r\n    @Value(&quot;${spring.datasource.maximumPoolSize}&quot;)\r\n    private int maximumPoolSize;\r\n   \r\n    @Value(&quot;${spring.datasource.minimumIdle}&quot;)\r\n    private int minimumIdle;\r\n    \r\n    @Value(&quot;${spring.datasource.idleTimeout}&quot;)\r\n    private int idleTimeout;\r\n   \r\n    @Bean\r\n    public DataSource primaryDataSource() {\r\n\t    Properties dsProps = new Properties();\r\n\t    dsProps.put(&quot;url&quot;, dataSourceUrl);\r\n\t    dsProps.put(&quot;user&quot;, user);\r\n\t    dsProps.put(&quot;password&quot;, password);\r\n\t    dsProps.put(&quot;prepStmtCacheSize&quot;,250);\r\n\t    dsProps.put(&quot;prepStmtCacheSqlLimit&quot;,2048);\r\n\t    dsProps.put(&quot;cachePrepStmts&quot;,Boolean.TRUE);\r\n\t    dsProps.put(&quot;useServerPrepStmts&quot;,Boolean.TRUE);\r\n\t   \r\n\t    Properties configProps = new Properties();\r\n\t       configProps.put(&quot;dataSourceClassName&quot;, dataSourceClassName);\r\n\t       configProps.put(&quot;poolName&quot;,poolName);\r\n\t       configProps.put(&quot;maximumPoolSize&quot;,maximumPoolSize);\r\n\t       configProps.put(&quot;minimumIdle&quot;,minimumIdle);\r\n\t       configProps.put(&quot;minimumIdle&quot;,minimumIdle);\r\n\t       configProps.put(&quot;connectionTimeout&quot;, connectionTimeout);\r\n\t       configProps.put(&quot;idleTimeout&quot;, idleTimeout);\r\n\t       configProps.put(&quot;dataSourceProperties&quot;, dsProps);\r\n\r\n       HikariConfig hc = new HikariConfig(configProps);\r\n       HikariDataSource ds = new HikariDataSource(hc);\r\n       return ds;\r\n       }\r\n      } \r\n\r\nreason you cannot use dataSourceClassName because it will throw and exception\r\n\r\n    Caused by: java.lang.IllegalStateException: both driverClassName and dataSourceClassName are specified, one or the other should be used.\r\n\r\nwhich mean spring boot infers from spring.datasource.url property the Driver and at the same time setting the dataSourceClassName creates this exception. To make it right your application.properties should look something like this for HikariCP datasource:\r\n\r\n    # hikariCP \r\n      spring.jpa.databasePlatform=org.hibernate.dialect.MySQLDialect\r\n      spring.datasource.url=jdbc:mysql://localhost:3306/exampledb\r\n      spring.datasource.username=root\r\n      spring.datasource.password=\r\n      spring.datasource.poolName=SpringBootHikariCP\r\n      spring.datasource.maximumPoolSize=5\r\n      spring.datasource.minimumIdle=3\r\n      spring.datasource.maxLifetime=2000000\r\n      spring.datasource.connectionTimeout=30000\r\n      spring.datasource.idleTimeout=30000\r\n      spring.datasource.pool-prepared-statements=true\r\n      spring.datasource.max-open-prepared-statements=250\r\n\r\nNote: Please check if there is any tomcat-jdbc.jar or commons-dbcp.jar in your classpath added most of the times by transitive dependency. If these are present in classpath Spring Boot will configure the Datasource using default connection pool which is tomcat. HikariCP will only be used to create the Datasource if there is no other provider in classpath. there is a fallback sequence from tomcat -&gt; to HikariCP -&gt; to Commons DBCP.\r\n\r\n\r\n ","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>you can't use dataSourceClassName approach in application.properties configurations as said by @Andy Wilkinson. if you want to have dataSourceClassName anyway you can use Java Config as:</p>\n\n<pre><code>@Configuration\n@ComponentScan\nclass DataSourceConfig {\n\n @Value(\"${spring.datasource.username}\")\nprivate String user;\n\n@Value(\"${spring.datasource.password}\")\nprivate String password;\n\n@Value(\"${spring.datasource.url}\")\nprivate String dataSourceUrl;\n\n@Value(\"${spring.datasource.dataSourceClassName}\")\nprivate String dataSourceClassName;\n\n@Value(\"${spring.datasource.poolName}\")\nprivate String poolName;\n\n@Value(\"${spring.datasource.connectionTimeout}\")\nprivate int connectionTimeout;\n\n@Value(\"${spring.datasource.maxLifetime}\")\nprivate int maxLifetime;\n\n@Value(\"${spring.datasource.maximumPoolSize}\")\nprivate int maximumPoolSize;\n\n@Value(\"${spring.datasource.minimumIdle}\")\nprivate int minimumIdle;\n\n@Value(\"${spring.datasource.idleTimeout}\")\nprivate int idleTimeout;\n\n@Bean\npublic DataSource primaryDataSource() {\n    Properties dsProps = new Properties();\n    dsProps.put(\"url\", dataSourceUrl);\n    dsProps.put(\"user\", user);\n    dsProps.put(\"password\", password);\n    dsProps.put(\"prepStmtCacheSize\",250);\n    dsProps.put(\"prepStmtCacheSqlLimit\",2048);\n    dsProps.put(\"cachePrepStmts\",Boolean.TRUE);\n    dsProps.put(\"useServerPrepStmts\",Boolean.TRUE);\n\n    Properties configProps = new Properties();\n       configProps.put(\"dataSourceClassName\", dataSourceClassName);\n       configProps.put(\"poolName\",poolName);\n       configProps.put(\"maximumPoolSize\",maximumPoolSize);\n       configProps.put(\"minimumIdle\",minimumIdle);\n       configProps.put(\"minimumIdle\",minimumIdle);\n       configProps.put(\"connectionTimeout\", connectionTimeout);\n       configProps.put(\"idleTimeout\", idleTimeout);\n       configProps.put(\"dataSourceProperties\", dsProps);\n\n   HikariConfig hc = new HikariConfig(configProps);\n   HikariDataSource ds = new HikariDataSource(hc);\n   return ds;\n   }\n  } \n</code></pre>\n\n<p>reason you cannot use dataSourceClassName because it will throw and exception</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: both driverClassName and dataSourceClassName are specified, one or the other should be used.\n</code></pre>\n\n<p>which mean spring boot infers from spring.datasource.url property the Driver and at the same time setting the dataSourceClassName creates this exception. To make it right your application.properties should look something like this for HikariCP datasource:</p>\n\n<pre><code># hikariCP \n  spring.jpa.databasePlatform=org.hibernate.dialect.MySQLDialect\n  spring.datasource.url=jdbc:mysql://localhost:3306/exampledb\n  spring.datasource.username=root\n  spring.datasource.password=\n  spring.datasource.poolName=SpringBootHikariCP\n  spring.datasource.maximumPoolSize=5\n  spring.datasource.minimumIdle=3\n  spring.datasource.maxLifetime=2000000\n  spring.datasource.connectionTimeout=30000\n  spring.datasource.idleTimeout=30000\n  spring.datasource.pool-prepared-statements=true\n  spring.datasource.max-open-prepared-statements=250\n</code></pre>\n\n<p>Note: Please check if there is any tomcat-jdbc.jar or commons-dbcp.jar in your classpath added most of the times by transitive dependency. If these are present in classpath Spring Boot will configure the Datasource using default connection pool which is tomcat. HikariCP will only be used to create the Datasource if there is no other provider in classpath. there is a fallback sequence from tomcat -> to HikariCP -> to Commons DBCP.</p>\n"},{"tags":[],"owner":{"account_id":248909,"reputation":21944,"user_id":524588,"accept_rate":78,"display_name":"Sanghyun Lee"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1439980358,"creation_date":1439980358,"answer_id":32093013,"question_id":26490967,"body_markdown":"You don&#39;t need redundant code for putting property values to variables. You can set properties with a properties file directly.\r\n\r\nPut `hikari.properties` file in the classpath.\r\n\r\n\r\n    driverClassName=com.mysql.jdbc.Driver\r\n    jdbcUrl=jdbc:mysql://localhost:3306/myDb\r\n    connectionTestQuery=SELECT 1\r\n    maximumPoolSize=20\r\n    username=...\r\n    password=...\r\n\r\nAnd make a datasource bean like this.\r\n\r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n    public DataSource dataSource() throws SQLException {\r\n        HikariConfig config = new HikariConfig(&quot;/hikari.properties&quot;);\r\n        HikariDataSource dataSource = new HikariDataSource(config);\r\n\r\n        return dataSource;\r\n    }","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>You don't need redundant code for putting property values to variables. You can set properties with a properties file directly.</p>\n\n<p>Put <code>hikari.properties</code> file in the classpath.</p>\n\n<pre><code>driverClassName=com.mysql.jdbc.Driver\njdbcUrl=jdbc:mysql://localhost:3306/myDb\nconnectionTestQuery=SELECT 1\nmaximumPoolSize=20\nusername=...\npassword=...\n</code></pre>\n\n<p>And make a datasource bean like this.</p>\n\n<pre><code>@Bean(destroyMethod = \"close\")\npublic DataSource dataSource() throws SQLException {\n    HikariConfig config = new HikariConfig(\"/hikari.properties\");\n    HikariDataSource dataSource = new HikariDataSource(config);\n\n    return dataSource;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3299085,"reputation":2335,"user_id":2775651,"accept_rate":75,"display_name":"Sergey  Bulavkin"},"down_vote_count":0,"up_vote_count":170,"is_accepted":true,"score":170,"last_activity_date":1543919002,"creation_date":1445255863,"answer_id":33213802,"question_id":26490967,"body_markdown":"    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;params.datasource&quot;)\r\n    public class JpaConfig extends HikariConfig {\r\n    \r\n        @Bean\r\n        public DataSource dataSource() throws SQLException {\r\n            return new HikariDataSource(this);\r\n        }\r\n    \r\n    }\r\n\r\n**application.yml**\r\n\r\n    params:\r\n      datasource:\r\n        driverClassName: com.mysql.jdbc.Driver\r\n        jdbcUrl: jdbc:mysql://localhost:3306/myDb\r\n        username: login\r\n        password: password\r\n        maximumPoolSize: 5\r\n\r\n\r\n\r\n****\r\n\r\n**UPDATED! Since version Spring Boot 1.3.0** :\r\n\r\n1. Just add HikariCP to dependencies\r\n2. Configure application.yml\r\n\r\n**application.yml**\r\n\r\n    spring:\r\n      datasource:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        url: jdbc:h2:mem:TEST\r\n        driver-class-name: org.h2.Driver\r\n        username: username\r\n        password: password\r\n        hikari:\r\n          idle-timeout: 10000\r\n\r\n****\r\n\r\n**UPDATED! Since version Spring Boot 2.0.0** :\r\n\r\nThe default connection pool has changed from Tomcat to Hikari :)","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"params.datasource\")\npublic class JpaConfig extends HikariConfig {\n\n    @Bean\n    public DataSource dataSource() throws SQLException {\n        return new HikariDataSource(this);\n    }\n\n}\n</code></pre>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>params:\n  datasource:\n    driverClassName: com.mysql.jdbc.Driver\n    jdbcUrl: jdbc:mysql://localhost:3306/myDb\n    username: login\n    password: password\n    maximumPoolSize: 5\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATED! Since version Spring Boot 1.3.0</strong> :</p>\n\n<ol>\n<li>Just add HikariCP to dependencies</li>\n<li>Configure application.yml</li>\n</ol>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>spring:\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    url: jdbc:h2:mem:TEST\n    driver-class-name: org.h2.Driver\n    username: username\n    password: password\n    hikari:\n      idle-timeout: 10000\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATED! Since version Spring Boot 2.0.0</strong> :</p>\n\n<p>The default connection pool has changed from Tomcat to Hikari :)</p>\n"},{"tags":[],"owner":{"account_id":4736288,"reputation":242,"user_id":3830596,"accept_rate":100,"display_name":"ydemartino"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1459261658,"creation_date":1459261658,"answer_id":36287225,"question_id":26490967,"body_markdown":"You can use the dataSourceClassName approach, here is an example with MySQL.\r\n(Tested with spring boot 1.3 and 1.4)\r\n\r\nFirst you need to exclude tomcat-jdbc from the classpath as it will be picked in favor of hikaricp.\r\n\r\npom.xml\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\napplication.properties\r\n\r\n\tspring.datasource.dataSourceClassName=com.mysql.jdbc.jdbc2.optional.MysqlDataSource\r\n\tspring.datasource.dataSourceProperties.serverName=localhost\r\n\tspring.datasource.dataSourceProperties.portNumber=3311\r\n\tspring.datasource.dataSourceProperties.databaseName=mydb\r\n\tspring.datasource.username=root\r\n\tspring.datasource.password=root\r\n\r\nThen just add\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\nI created a test project here: https://github.com/ydemartino/spring-boot-hikaricp","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>You can use the dataSourceClassName approach, here is an example with MySQL.\n(Tested with spring boot 1.3 and 1.4)</p>\n\n<p>First you need to exclude tomcat-jdbc from the classpath as it will be picked in favor of hikaricp.</p>\n\n<p>pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.datasource.dataSourceClassName=com.mysql.jdbc.jdbc2.optional.MysqlDataSource\nspring.datasource.dataSourceProperties.serverName=localhost\nspring.datasource.dataSourceProperties.portNumber=3311\nspring.datasource.dataSourceProperties.databaseName=mydb\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n\n<p>Then just add</p>\n\n<pre><code>@Bean\n@ConfigurationProperties(prefix = \"spring.datasource\")\npublic DataSource dataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n\n<p>I created a test project here: <a href=\"https://github.com/ydemartino/spring-boot-hikaricp\" rel=\"noreferrer\">https://github.com/ydemartino/spring-boot-hikaricp</a></p>\n"},{"tags":[],"owner":{"account_id":4341692,"reputation":456,"user_id":3544765,"accept_rate":33,"display_name":"user3544765"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1507795360,"creation_date":1470805570,"answer_id":38864646,"question_id":26490967,"body_markdown":"You could simply make use of application.yml/application.properties only. There is no need to explicitly create any `DataSource` Bean\r\n\r\nYou need to exclude tomcat-jdbc as mentioned by ydemartino\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAs you won&#39;t create `DataSource` bean, you have to explicitly specify using Hikari through `spring.datasource.type` with value `com.zaxxer.hikari.HikariDataSource` in application.yml / application.properties\r\n\r\n    spring:\r\n        datasource:\r\n            hikari:\r\n                connection-test-query: SELECT 1 FROM DUAL\r\n                minimum-idle: 1\r\n                maximum-pool-size: 5\r\n                pool-name: yourPoolName\r\n                auto-commit: false\r\n            driver-class-name: com.mysql.jdbc.Driver\r\n            url: jdbc:mysql://localhost:3306/myDb\r\n            username: login\r\n            password: password\r\n            type: com.zaxxer.hikari.HikariDataSource\r\n\r\nIn your application.yml / application.properties, you could configure Hikari specific parameters such as pool size etc in `spring.datasource.hikari.*` \r\n\r\n","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>You could simply make use of application.yml/application.properties only. There is no need to explicitly create any <code>DataSource</code> Bean</p>\n\n<p>You need to exclude tomcat-jdbc as mentioned by ydemartino</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>As you won't create <code>DataSource</code> bean, you have to explicitly specify using Hikari through <code>spring.datasource.type</code> with value <code>com.zaxxer.hikari.HikariDataSource</code> in application.yml / application.properties</p>\n\n<pre><code>spring:\n    datasource:\n        hikari:\n            connection-test-query: SELECT 1 FROM DUAL\n            minimum-idle: 1\n            maximum-pool-size: 5\n            pool-name: yourPoolName\n            auto-commit: false\n        driver-class-name: com.mysql.jdbc.Driver\n        url: jdbc:mysql://localhost:3306/myDb\n        username: login\n        password: password\n        type: com.zaxxer.hikari.HikariDataSource\n</code></pre>\n\n<p>In your application.yml / application.properties, you could configure Hikari specific parameters such as pool size etc in <code>spring.datasource.hikari.*</code> </p>\n"},{"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1511935283,"creation_date":1510467170,"answer_id":47246045,"question_id":26490967,"body_markdown":"I came across ```HikariCP``` and I was amazed by the benchmarks and I wanted to try it instead of my default choice ```C3P0``` and to my surprise I struggled to get the ```configurations``` right probably because the configurations differ based on what combination of tech stack you are using.\r\n\r\nI have setup ```Spring Boot``` project with ```JPA, Web, Security``` starters (Using [Spring Initializer][1]) to use ```PostgreSQL``` as a database with ```HikariCP``` as connection pooling. &lt;br&gt;\r\nI have used ```Gradle``` as build tool and I would like to share what worked for me for the following assumptions: \r\n\r\n 1. Spring Boot Starter JPA (Web &amp; Security - optional) \r\n 2. Gradle build too \r\n 3. PostgreSQL running and setup with a database (i.e. schema, user, db)\r\n\r\nYou need the following ```build.gradle``` if you are using ```Gradle``` or equivalent ```pom.xml``` if you are using maven\r\n\r\n    buildscript {\r\n    \text {\r\n    \t\tspringBootVersion = &#39;1.5.8.RELEASE&#39;\r\n    \t}\r\n    \trepositories {\r\n    \t\tmavenCentral()\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;war&#39;\r\n    \r\n    group = &#39;com&#39;\r\n    version = &#39;1.0&#39;\r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \tcompile(&#39;org.springframework.boot:spring-boot-starter-aop&#39;)\r\n    \t\r\n    \t// Exclude the tomcat-jdbc since it&#39;s used as default for connection pooling\r\n    \t// This can also be achieved by setting the spring.datasource.type to HikariCP \r\n        // datasource see application.properties below\r\n    \tcompile(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;) {\r\n    \t\texclude group: &#39;org.apache.tomcat&#39;, module: &#39;tomcat-jdbc&#39;\r\n    \t}\r\n    \tcompile(&#39;org.springframework.boot:spring-boot-starter-security&#39;)\r\n    \tcompile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \truntime(&#39;org.postgresql:postgresql&#39;)\r\n    \ttestCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    \ttestCompile(&#39;org.springframework.security:spring-security-test&#39;)\r\n    \t\r\n    \t// Download HikariCP but, exclude hibernate-core to avoid version conflicts\r\n    \tcompile(&#39;com.zaxxer:HikariCP:2.5.1&#39;) {\r\n    \t\texclude group: &#39;org.hibernate&#39;, module: &#39;hibernate-core&#39;\r\n    \t}\r\n    \t\r\n        // Need this in order to get the HikariCPConnectionProvider\r\n    \tcompile(&#39;org.hibernate:hibernate-hikaricp:5.2.11.Final&#39;) {\r\n    \t\texclude group: &#39;com.zaxxer&#39;, module: &#39;HikariCP&#39;\r\n    \t\texclude group: &#39;org.hibernate&#39;, module: &#39;hibernate-core&#39;\r\n    \t}\r\n    }\r\n\r\nThere are a bunch of excludes in the above ```build.gradle``` and that&#39;s because \r\n\r\n 1. First exclude, instructs gradle that exclude the ```jdbc-tomcat``` connection pool when downloading the ```spring-boot-starter-data-jpa``` dependencies. This can be achieved by setting up the ```spring.datasource.type=com.zaxxer.hikari.HikariDataSource``` also but, I don&#39;t want an extra dependency if I don&#39;t need it \r\n 2. Second exclude, instructs gradle to exclude ```hibernate-core``` when downloading ```com.zaxxer``` dependency and that&#39;s because ```hibernate-core``` is already downloaded by ```Spring Boot``` and we don&#39;t want to end up with different versions. \r\n 3. Third exclude, instructs gradle to exclude ```hibernate-core``` when downloading ```hibernate-hikaricp``` module which is needed in order to make HikariCP use ```org.hibernate.hikaricp.internal.HikariCPConnectionProvider``` as connection provider instead of deprecated ```com.zaxxer.hikari.hibernate.HikariConnectionProvider``` \r\n\r\nOnce I figured out the ```build.gradle``` and what to keep and what to not, I was ready to copy/paste a ```datasource``` configuration into my ```application.properties``` and expected everything to work with flying colors but, not really and I stumbled upon the following issues \r\n\r\n - Spring boot failing to find out database details (i.e. url, driver) hence, not able to setup jpa and hibernate (because I didn&#39;t name the property key values right) \r\n - HikariCP falling back to ```com.zaxxer.hikari.hibernate.HikariConnectionProvider``` \r\n - After instructing Spring to use new connection-provider for when auto-configuring hibernate/jpa then HikariCP failed because it was looking for some ```key/value``` in the ```application.properties``` and was complaining about ```dataSource, dataSourceClassName, jdbcUrl```. I had to debug into ```HikariConfig, HikariConfigurationUtil, HikariCPConnectionProvider``` and found out that ```HikariCP``` could not find the properties from ```application.properties``` because it was named differently. \r\n\r\nAnyway, this is where I had to rely on trial and error and make sure that ```HikariCP``` is able to pick the properties (i.e. data source that&#39;s db details, as well as pooling properties) as well as Sping Boot behave as expected and I ended up with the following ```application.properties``` file. \r\n\r\n    server.contextPath=/\r\n    debug=true\r\n    \r\n    # Spring data source needed for Spring boot to behave\r\n    # Pre Spring Boot v2.0.0.M6 without below Spring Boot defaults to tomcat-jdbc connection pool included \r\n    # in spring-boot-starter-jdbc and as compiled dependency under spring-boot-starter-data-jpa\r\n    spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/somedb\r\n    spring.datasource.username=dbuser\r\n    spring.datasource.password=dbpassword\r\n    \r\n    # Hikari will use the above plus the following to setup connection pooling\r\n    spring.datasource.hikari.minimumIdle=5\r\n    spring.datasource.hikari.maximumPoolSize=20\r\n    spring.datasource.hikari.idleTimeout=30000\r\n    spring.datasource.hikari.poolName=SpringBootJPAHikariCP\r\n    spring.datasource.hikari.maxLifetime=2000000\r\n    spring.datasource.hikari.connectionTimeout=30000\r\n    \r\n    # Without below HikariCP uses deprecated com.zaxxer.hikari.hibernate.HikariConnectionProvider\r\n    # Surprisingly enough below ConnectionProvider is in hibernate-hikaricp dependency and not hibernate-core\r\n    # So you need to pull that dependency but, make sure to exclude it&#39;s transitive dependencies or you will end up \r\n    # with different versions of hibernate-core \r\n    spring.jpa.hibernate.connection.provider_class=org.hibernate.hikaricp.internal.HikariCPConnectionProvider\r\n    \r\n    # JPA specific configs\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.use_sql=true\r\n    spring.jpa.properties.hibernate.id.new_generator_mappings=false\r\n    spring.jpa.properties.hibernate.default_schema=dbschema\r\n    spring.jpa.properties.hibernate.search.autoregister_listeners=false\r\n    spring.jpa.properties.hibernate.bytecode.use_reflection_optimizer=false\r\n    \r\n    # Enable logging to verify that HikariCP is used, the second entry is specific to HikariCP\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.com.zaxxer.hikari.HikariConfig=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE \r\n\r\nAs shown above the configurations are divided into categories based on following naming patterns \r\n\r\n - **spring.datasource.x** (Spring auto-configure will pick these, so will HikariCP)\r\n - **spring.datasource.hikari.x** (HikariCP picks these to setup the pool, make a note of the camelCase field names) \r\n - **spring.jpa.hibernate.connection.provider_class** (Instructs Spring to use new HibernateConnectionProvider) \r\n - **spring.jpa.properties.hibernate.x** (Used by Spring to auto-configure JPA, make a note of the field names with underscores) \r\n\r\nIt&#39;s hard to come across a tutorial or post or some resource that shows how the above properties file is used and how the properties should be named. Well, there you have it. \r\n\r\nThrowing the above ```application.properties``` with ```build.gradle``` (or at least similar) into a Spring Boot JPA project version (1.5.8) should work like a charm and connect to your pre-configured database (i.e. in my case it&#39;s PostgreSQL that both ```HikariCP &amp; Spring``` figure out from the ```spring.datasource.url``` on which database driver to use). \r\n\r\nI did not see the need to create a ```DataSource``` bean and that&#39;s because Spring Boot is capable of doing everything for me just by looking into ```application.properties``` and that&#39;s neat. \r\n\r\nThe [article][2] in HikariCP&#39;s github [wiki][3] shows how to setup Spring Boot with JPA but, lacks explanation and details. \r\n\r\nThe above two file is also availble as a public gist https://gist.github.com/rhamedy/b3cb936061cc03acdfe21358b86a5bc6 \r\n\r\n\r\n  [1]: https://start.spring.io/\r\n  [2]: https://www.3riverdev.com/tutorial-spring-hibernate-hikaricp/\r\n  [3]: https://github.com/brettwooldridge/HikariCP/wiki/HikariCP-Articles","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>I came across <code>HikariCP</code> and I was amazed by the benchmarks and I wanted to try it instead of my default choice <code>C3P0</code> and to my surprise I struggled to get the <code>configurations</code> right probably because the configurations differ based on what combination of tech stack you are using.</p>\n\n<p>I have setup <code>Spring Boot</code> project with <code>JPA, Web, Security</code> starters (Using <a href=\"https://start.spring.io/\" rel=\"noreferrer\">Spring Initializer</a>) to use <code>PostgreSQL</code> as a database with <code>HikariCP</code> as connection pooling. <br>\nI have used <code>Gradle</code> as build tool and I would like to share what worked for me for the following assumptions: </p>\n\n<ol>\n<li>Spring Boot Starter JPA (Web &amp; Security - optional) </li>\n<li>Gradle build too </li>\n<li>PostgreSQL running and setup with a database (i.e. schema, user, db)</li>\n</ol>\n\n<p>You need the following <code>build.gradle</code> if you are using <code>Gradle</code> or equivalent <code>pom.xml</code> if you are using maven</p>\n\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.5.8.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'war'\n\ngroup = 'com'\nversion = '1.0'\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-aop')\n\n    // Exclude the tomcat-jdbc since it's used as default for connection pooling\n    // This can also be achieved by setting the spring.datasource.type to HikariCP \n    // datasource see application.properties below\n    compile('org.springframework.boot:spring-boot-starter-data-jpa') {\n        exclude group: 'org.apache.tomcat', module: 'tomcat-jdbc'\n    }\n    compile('org.springframework.boot:spring-boot-starter-security')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    runtime('org.postgresql:postgresql')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n    testCompile('org.springframework.security:spring-security-test')\n\n    // Download HikariCP but, exclude hibernate-core to avoid version conflicts\n    compile('com.zaxxer:HikariCP:2.5.1') {\n        exclude group: 'org.hibernate', module: 'hibernate-core'\n    }\n\n    // Need this in order to get the HikariCPConnectionProvider\n    compile('org.hibernate:hibernate-hikaricp:5.2.11.Final') {\n        exclude group: 'com.zaxxer', module: 'HikariCP'\n        exclude group: 'org.hibernate', module: 'hibernate-core'\n    }\n}\n</code></pre>\n\n<p>There are a bunch of excludes in the above <code>build.gradle</code> and that's because </p>\n\n<ol>\n<li>First exclude, instructs gradle that exclude the <code>jdbc-tomcat</code> connection pool when downloading the <code>spring-boot-starter-data-jpa</code> dependencies. This can be achieved by setting up the <code>spring.datasource.type=com.zaxxer.hikari.HikariDataSource</code> also but, I don't want an extra dependency if I don't need it </li>\n<li>Second exclude, instructs gradle to exclude <code>hibernate-core</code> when downloading <code>com.zaxxer</code> dependency and that's because <code>hibernate-core</code> is already downloaded by <code>Spring Boot</code> and we don't want to end up with different versions. </li>\n<li>Third exclude, instructs gradle to exclude <code>hibernate-core</code> when downloading <code>hibernate-hikaricp</code> module which is needed in order to make HikariCP use <code>org.hibernate.hikaricp.internal.HikariCPConnectionProvider</code> as connection provider instead of deprecated <code>com.zaxxer.hikari.hibernate.HikariConnectionProvider</code> </li>\n</ol>\n\n<p>Once I figured out the <code>build.gradle</code> and what to keep and what to not, I was ready to copy/paste a <code>datasource</code> configuration into my <code>application.properties</code> and expected everything to work with flying colors but, not really and I stumbled upon the following issues </p>\n\n<ul>\n<li>Spring boot failing to find out database details (i.e. url, driver) hence, not able to setup jpa and hibernate (because I didn't name the property key values right) </li>\n<li>HikariCP falling back to <code>com.zaxxer.hikari.hibernate.HikariConnectionProvider</code> </li>\n<li>After instructing Spring to use new connection-provider for when auto-configuring hibernate/jpa then HikariCP failed because it was looking for some <code>key/value</code> in the <code>application.properties</code> and was complaining about <code>dataSource, dataSourceClassName, jdbcUrl</code>. I had to debug into <code>HikariConfig, HikariConfigurationUtil, HikariCPConnectionProvider</code> and found out that <code>HikariCP</code> could not find the properties from <code>application.properties</code> because it was named differently. </li>\n</ul>\n\n<p>Anyway, this is where I had to rely on trial and error and make sure that <code>HikariCP</code> is able to pick the properties (i.e. data source that's db details, as well as pooling properties) as well as Sping Boot behave as expected and I ended up with the following <code>application.properties</code> file. </p>\n\n<pre><code>server.contextPath=/\ndebug=true\n\n# Spring data source needed for Spring boot to behave\n# Pre Spring Boot v2.0.0.M6 without below Spring Boot defaults to tomcat-jdbc connection pool included \n# in spring-boot-starter-jdbc and as compiled dependency under spring-boot-starter-data-jpa\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\nspring.datasource.url=jdbc:postgresql://localhost:5432/somedb\nspring.datasource.username=dbuser\nspring.datasource.password=dbpassword\n\n# Hikari will use the above plus the following to setup connection pooling\nspring.datasource.hikari.minimumIdle=5\nspring.datasource.hikari.maximumPoolSize=20\nspring.datasource.hikari.idleTimeout=30000\nspring.datasource.hikari.poolName=SpringBootJPAHikariCP\nspring.datasource.hikari.maxLifetime=2000000\nspring.datasource.hikari.connectionTimeout=30000\n\n# Without below HikariCP uses deprecated com.zaxxer.hikari.hibernate.HikariConnectionProvider\n# Surprisingly enough below ConnectionProvider is in hibernate-hikaricp dependency and not hibernate-core\n# So you need to pull that dependency but, make sure to exclude it's transitive dependencies or you will end up \n# with different versions of hibernate-core \nspring.jpa.hibernate.connection.provider_class=org.hibernate.hikaricp.internal.HikariCPConnectionProvider\n\n# JPA specific configs\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.use_sql=true\nspring.jpa.properties.hibernate.id.new_generator_mappings=false\nspring.jpa.properties.hibernate.default_schema=dbschema\nspring.jpa.properties.hibernate.search.autoregister_listeners=false\nspring.jpa.properties.hibernate.bytecode.use_reflection_optimizer=false\n\n# Enable logging to verify that HikariCP is used, the second entry is specific to HikariCP\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE \n</code></pre>\n\n<p>As shown above the configurations are divided into categories based on following naming patterns </p>\n\n<ul>\n<li><strong>spring.datasource.x</strong> (Spring auto-configure will pick these, so will HikariCP)</li>\n<li><strong>spring.datasource.hikari.x</strong> (HikariCP picks these to setup the pool, make a note of the camelCase field names) </li>\n<li><strong>spring.jpa.hibernate.connection.provider_class</strong> (Instructs Spring to use new HibernateConnectionProvider) </li>\n<li><strong>spring.jpa.properties.hibernate.x</strong> (Used by Spring to auto-configure JPA, make a note of the field names with underscores) </li>\n</ul>\n\n<p>It's hard to come across a tutorial or post or some resource that shows how the above properties file is used and how the properties should be named. Well, there you have it. </p>\n\n<p>Throwing the above <code>application.properties</code> with <code>build.gradle</code> (or at least similar) into a Spring Boot JPA project version (1.5.8) should work like a charm and connect to your pre-configured database (i.e. in my case it's PostgreSQL that both <code>HikariCP &amp; Spring</code> figure out from the <code>spring.datasource.url</code> on which database driver to use). </p>\n\n<p>I did not see the need to create a <code>DataSource</code> bean and that's because Spring Boot is capable of doing everything for me just by looking into <code>application.properties</code> and that's neat. </p>\n\n<p>The <a href=\"https://www.3riverdev.com/tutorial-spring-hibernate-hikaricp/\" rel=\"noreferrer\">article</a> in HikariCP's github <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/HikariCP-Articles\" rel=\"noreferrer\">wiki</a> shows how to setup Spring Boot with JPA but, lacks explanation and details. </p>\n\n<p>The above two file is also availble as a public gist <a href=\"https://gist.github.com/rhamedy/b3cb936061cc03acdfe21358b86a5bc6\" rel=\"noreferrer\">https://gist.github.com/rhamedy/b3cb936061cc03acdfe21358b86a5bc6</a> </p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510938193,"creation_date":1510938193,"answer_id":47355799,"question_id":26490967,"body_markdown":"With the later spring-boot releases switching to Hikari can be done entirely in configuration. I&#39;m using `1.5.6.RELEASE` and this approach works.\r\n\r\n**build.gradle:**\r\n\r\n    compile &quot;com.zaxxer:HikariCP:2.7.3&quot;\r\n\r\n**application YAML**\r\n\r\n    spring:\r\n      datasource:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        hikari:\r\n          idleTimeout: 60000\r\n          minimumIdle: 2\r\n          maximumPoolSize: 20\r\n          connectionTimeout: 30000\r\n          poolName: MyPoolName\r\n          connectionTestQuery: SELECT 1\r\n\r\nChange `connectionTestQuery` to suit your underlying DB. That&#39;s it, no code required.","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>With the later spring-boot releases switching to Hikari can be done entirely in configuration. I'm using <code>1.5.6.RELEASE</code> and this approach works.</p>\n\n<p><strong>build.gradle:</strong></p>\n\n<pre><code>compile \"com.zaxxer:HikariCP:2.7.3\"\n</code></pre>\n\n<p><strong>application YAML</strong></p>\n\n<pre><code>spring:\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    hikari:\n      idleTimeout: 60000\n      minimumIdle: 2\n      maximumPoolSize: 20\n      connectionTimeout: 30000\n      poolName: MyPoolName\n      connectionTestQuery: SELECT 1\n</code></pre>\n\n<p>Change <code>connectionTestQuery</code> to suit your underlying DB. That's it, no code required.</p>\n"},{"tags":[],"owner":{"account_id":135268,"reputation":3309,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1520070946,"creation_date":1519846478,"answer_id":49037272,"question_id":26490967,"body_markdown":"Here is the good news. HikariCP is the default connection pool now with Spring Boot 2.0.0.\r\n\r\n[Spring Boot 2.0.0 Release Notes][1]\r\n\r\n&gt; \r\nThe default database pooling technology in Spring Boot 2.0 has been switched from Tomcat Pool to HikariCP. Weâve found that Hakari offers superior performance, and many of our users prefer it over Tomcat Pool.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#hikaricp","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>Here is the good news. HikariCP is the default connection pool now with Spring Boot 2.0.0.</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#hikaricp\" rel=\"noreferrer\">Spring Boot 2.0.0 Release Notes</a></p>\n\n<blockquote>\n  <p>The default database pooling technology in Spring Boot 2.0 has been switched from Tomcat Pool to HikariCP. Weâve found that Hakari offers superior performance, and many of our users prefer it over Tomcat Pool.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13715324,"reputation":191,"user_id":9896584,"display_name":"Philip Dilip"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529312566,"creation_date":1529311735,"answer_id":50905729,"question_id":26490967,"body_markdown":"My SetUp:&lt;br&gt; \r\nSpring Boot v1.5.10&lt;br&gt;\r\nHikari v.3.2.x (for evaluation)&lt;br&gt;\r\n\r\nTo really understand the configuration of Hikari Data Source, I recommend to disable Spring Boot&#39;s Auto-Configuration for Data Source.\r\n\r\nAdd following to application.properties:-\r\n\r\n&gt; spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\nThis will disable Spring Boot&#39;s capability to configure the DataSource on its own.\r\n\r\nNow is the chance for you to define your own Custom Configuration to create HikariDataSource bean and populate it with the desired properties.\r\n\r\n&gt; **NOTE :::**&lt;br&gt; public class HikariDataSource extends HikariConfig\r\n\r\nYou need to \r\n\r\n 1. populate HikariConfig Object using desired Hikari Properties\r\n 2. initialize HikariDataSource object with HikariConfig object passed as an argument to constructor.\r\n\r\n&gt; I believe in defining my own Custom Configuration class *(\r\n&gt; @Configuration )* to create the data source on my own and populate\r\n&gt; it with the data source properties defined in a separate file (than\r\n&gt; traditional: application.properties)&lt;br&gt;&lt;br&gt;\r\n&gt; In this manner I can define\r\n&gt; my own sessionFactory Bean using Hibernate recommended: \r\n&gt; &quot;LocalSessionFactoryBean&quot; class and populate it with your Hikari Data Source &gt; and other Hiberante-JPA based properties.\r\n\r\nSummary of Spring Boot based Hikari DataSource Properties:-\r\n\r\n&gt; spring.datasource.hikari.allow-pool-suspension=true&lt;br&gt;\r\n&gt; spring.datasource.hikari.auto-commit=false&lt;br&gt;\r\n&gt; spring.datasource.hikari.catalog=&lt;br&gt;\r\n&gt; spring.datasource.hikari.connection-init-sql=&lt;br&gt;\r\n&gt; spring.datasource.hikari.connection-test-query=&lt;br&gt;\r\n&gt; spring.datasource.hikari.connection-timeout=100&lt;br&gt;\r\n&gt; spring.datasource.hikari.data-source-class-name=&lt;br&gt;\r\n&gt; spring.datasource.hikari.data-source-j-n-d-i=&lt;br&gt;\r\n&gt; spring.datasource.hikari.driver-class-name=&lt;br&gt; \r\n&gt; spring.datasource.hikari.idle-timeout=50&lt;br&gt;\r\n&gt; spring.datasource.hikari.initialization-fail-fast=true&lt;br&gt;\r\n&gt; spring.datasource.hikari.isolate-internal-queries=true&lt;br&gt;\r\n&gt; spring.datasource.hikari.jdbc-url=&lt;br&gt;\r\n&gt; spring.datasource.hikari.leak-detection-threshold=&lt;br&gt;\r\n&gt; spring.datasource.hikari.login-timeout=60&lt;br&gt;\r\n&gt; spring.datasource.hikari.max-lifetime=&lt;br&gt;\r\n&gt; spring.datasource.hikari.maximum-pool-size=500&lt;br&gt;\r\n&gt; spring.datasource.hikari.minimum-idle=30&lt;br&gt;\r\n&gt; spring.datasource.hikari.password=&lt;br&gt; \r\n&gt; spring.datasource.hikari.pool-name=&lt;br&gt;\r\n&gt; spring.datasource.hikari.read-only=true&lt;br&gt;\r\n&gt; spring.datasource.hikari.register-mbeans=true&lt;br&gt;\r\n&gt; spring.datasource.hikari.transaction-isolation=&lt;br&gt;\r\n&gt; spring.datasource.hikari.username=&lt;br&gt;\r\n&gt; spring.datasource.hikari.validation-timeout=&lt;br&gt;","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>My SetUp:<br> \nSpring Boot v1.5.10<br>\nHikari v.3.2.x (for evaluation)<br></p>\n\n<p>To really understand the configuration of Hikari Data Source, I recommend to disable Spring Boot's Auto-Configuration for Data Source.</p>\n\n<p>Add following to application.properties:-</p>\n\n<blockquote>\n  <p>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</p>\n</blockquote>\n\n<p>This will disable Spring Boot's capability to configure the DataSource on its own.</p>\n\n<p>Now is the chance for you to define your own Custom Configuration to create HikariDataSource bean and populate it with the desired properties.</p>\n\n<blockquote>\n  <p><strong>NOTE :::</strong><br> public class HikariDataSource extends HikariConfig</p>\n</blockquote>\n\n<p>You need to </p>\n\n<ol>\n<li>populate HikariConfig Object using desired Hikari Properties</li>\n<li>initialize HikariDataSource object with HikariConfig object passed as an argument to constructor.</li>\n</ol>\n\n<blockquote>\n  <p>I believe in defining my own Custom Configuration class <em>(\n  @Configuration )</em> to create the data source on my own and populate\n  it with the data source properties defined in a separate file (than\n  traditional: application.properties)<br><br>\n  In this manner I can define\n  my own sessionFactory Bean using Hibernate recommended: \n  \"LocalSessionFactoryBean\" class and populate it with your Hikari Data Source > and other Hiberante-JPA based properties.</p>\n</blockquote>\n\n<p>Summary of Spring Boot based Hikari DataSource Properties:-</p>\n\n<blockquote>\n  <p>spring.datasource.hikari.allow-pool-suspension=true<br>\n  spring.datasource.hikari.auto-commit=false<br>\n  spring.datasource.hikari.catalog=<br>\n  spring.datasource.hikari.connection-init-sql=<br>\n  spring.datasource.hikari.connection-test-query=<br>\n  spring.datasource.hikari.connection-timeout=100<br>\n  spring.datasource.hikari.data-source-class-name=<br>\n  spring.datasource.hikari.data-source-j-n-d-i=<br>\n  spring.datasource.hikari.driver-class-name=<br> \n  spring.datasource.hikari.idle-timeout=50<br>\n  spring.datasource.hikari.initialization-fail-fast=true<br>\n  spring.datasource.hikari.isolate-internal-queries=true<br>\n  spring.datasource.hikari.jdbc-url=<br>\n  spring.datasource.hikari.leak-detection-threshold=<br>\n  spring.datasource.hikari.login-timeout=60<br>\n  spring.datasource.hikari.max-lifetime=<br>\n  spring.datasource.hikari.maximum-pool-size=500<br>\n  spring.datasource.hikari.minimum-idle=30<br>\n  spring.datasource.hikari.password=<br> \n  spring.datasource.hikari.pool-name=<br>\n  spring.datasource.hikari.read-only=true<br>\n  spring.datasource.hikari.register-mbeans=true<br>\n  spring.datasource.hikari.transaction-isolation=<br>\n  spring.datasource.hikari.username=<br>\n  spring.datasource.hikari.validation-timeout=<br></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1530177887,"creation_date":1530177887,"answer_id":51079239,"question_id":26490967,"body_markdown":"According to the documentation it is changed,\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\r\n\r\nExample :\r\n\r\n    spring:\r\n        datasource:\r\n            url: &#39;jdbc:mysql://localhost/db?useSSL=false&#39;\r\n            username: root\r\n            password: pass\r\n            driver: com.mysql.jdbc.Driver\r\n            hikari:\r\n                minIdle: 10\r\n                idle-timeout: 10000\r\n                maximumPoolSize: 30\r\n\r\nThese are the following configuration changes we can do on hikari, please add/update according to your need.\r\n\r\n    autoCommit\r\n    connectionTimeout\r\n    idleTimeout\r\n    maxLifetime\r\n    connectionTestQuery\r\n    connectionInitSql\r\n    validationTimeout\r\n    maximumPoolSize\r\n    poolName\r\n    allowPoolSuspension\r\n    readOnly\r\n    transactionIsolation\r\n    leakDetectionThreshold","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>According to the documentation it is changed,</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html</a></p>\n\n<p>Example :</p>\n\n<pre><code>spring:\n    datasource:\n        url: 'jdbc:mysql://localhost/db?useSSL=false'\n        username: root\n        password: pass\n        driver: com.mysql.jdbc.Driver\n        hikari:\n            minIdle: 10\n            idle-timeout: 10000\n            maximumPoolSize: 30\n</code></pre>\n\n<p>These are the following configuration changes we can do on hikari, please add/update according to your need.</p>\n\n<pre><code>autoCommit\nconnectionTimeout\nidleTimeout\nmaxLifetime\nconnectionTestQuery\nconnectionInitSql\nvalidationTimeout\nmaximumPoolSize\npoolName\nallowPoolSuspension\nreadOnly\ntransactionIsolation\nleakDetectionThreshold\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5293327,"reputation":550,"user_id":4225163,"display_name":"Water"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1543905500,"creation_date":1536909704,"answer_id":52326856,"question_id":26490967,"body_markdown":"I&#39;m using Spring Boot 2.0.4.RELEASE. Hikari is default connection pool and `.hikari` is no longer necessary.\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.datasource.jdbcUrl=jdbc:mysql://localhost:3306/myDB...\r\n    spring.datasource.username=xxx\r\n    spring.datasource.password=xxx\r\n    spring.datasource.poolname=myPool\r\n\r\n**application.yml**\r\n\r\n    spring:\r\n        datasource:\r\n            driverClassName: com.mysql.jdbc.Driver\r\n            jdbcUrl: jdbc:mysql://localhost:3306/myDB...\r\n            username: xxx\r\n            password: xxx\r\n            poolName: myPool\r\n\r\nAnd `configuration` does not need to extend `HikariConfig`, and `DataSourceBuilder` can be used as it was before.\r\n\r\n    @Configuration\r\n    public class DataSourceConfiguration {\r\n\r\n        @Bean(name=&quot;myDataSource&quot;)\r\n        @ConfigurationProperties(&quot;spring.datasource&quot;)\r\n        public DataSource myDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    }","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>I'm using Spring Boot 2.0.4.RELEASE. Hikari is default connection pool and <code>.hikari</code> is no longer necessary.</p>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>spring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.datasource.jdbcUrl=jdbc:mysql://localhost:3306/myDB...\nspring.datasource.username=xxx\nspring.datasource.password=xxx\nspring.datasource.poolname=myPool\n</code></pre>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>spring:\n    datasource:\n        driverClassName: com.mysql.jdbc.Driver\n        jdbcUrl: jdbc:mysql://localhost:3306/myDB...\n        username: xxx\n        password: xxx\n        poolName: myPool\n</code></pre>\n\n<p>And <code>configuration</code> does not need to extend <code>HikariConfig</code>, and <code>DataSourceBuilder</code> can be used as it was before.</p>\n\n<pre><code>@Configuration\npublic class DataSourceConfiguration {\n\n    @Bean(name=\"myDataSource\")\n    @ConfigurationProperties(\"spring.datasource\")\n    public DataSource myDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4006264,"reputation":2511,"user_id":3300856,"accept_rate":25,"display_name":"patelb"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1549665225,"creation_date":1549658294,"answer_id":54599849,"question_id":26490967,"body_markdown":"This will help anyone who wants to configure hikaricp for their application with spring auto configuration. For my project, im using spring boot 2 with hikaricp as the JDBC connection pool and mysql as the database. One thing I didn&#39;t see in other answers was the `data-source-properties` which can be used to set various properties that are not available at the `spring.datasource.hikari.*` path. This is equivalent to using the `HikariConfig` class. To configure the datasource and hikaricp connection pool for mysql specific properties I used the spring auto configure annotation and the following properties in the application.yml file.\r\n\r\nPlace `@EnableAutoConfiguration` on one of your configuration bean files.\r\n\r\n**application.yml** file can look like this.\r\n\r\n    spring:\r\n      datasource:\r\n        url: &#39;jdbc:mysql://127.0.0.1:3306/DATABASE?autoReconnect=true&amp;useSSL=false&#39;\r\n        username: user_name\r\n        password: password\r\n        hikari:\r\n          maximum-pool-size: 20\r\n          data-source-properties:\r\n            cachePrepStmts: true\r\n            prepStmtCacheSize: 250\r\n            prepStmtCacheSqlLimit: 2048\r\n            useServerPrepStmts: true\r\n            useLocalSessionState: true\r\n            rewriteBatchedStatements: true\r\n            cacheResultSetMetadata: true\r\n            cacheServerConfiguration: true\r\n            elideSetAutoCommits: true\r\n            maintainTimeStats: false\r\n","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>This will help anyone who wants to configure hikaricp for their application with spring auto configuration. For my project, im using spring boot 2 with hikaricp as the JDBC connection pool and mysql as the database. One thing I didn't see in other answers was the <code>data-source-properties</code> which can be used to set various properties that are not available at the <code>spring.datasource.hikari.*</code> path. This is equivalent to using the <code>HikariConfig</code> class. To configure the datasource and hikaricp connection pool for mysql specific properties I used the spring auto configure annotation and the following properties in the application.yml file.</p>\n\n<p>Place <code>@EnableAutoConfiguration</code> on one of your configuration bean files.</p>\n\n<p><strong>application.yml</strong> file can look like this.</p>\n\n<pre><code>spring:\n  datasource:\n    url: 'jdbc:mysql://127.0.0.1:3306/DATABASE?autoReconnect=true&amp;useSSL=false'\n    username: user_name\n    password: password\n    hikari:\n      maximum-pool-size: 20\n      data-source-properties:\n        cachePrepStmts: true\n        prepStmtCacheSize: 250\n        prepStmtCacheSqlLimit: 2048\n        useServerPrepStmts: true\n        useLocalSessionState: true\n        rewriteBatchedStatements: true\n        cacheResultSetMetadata: true\n        cacheServerConfiguration: true\n        elideSetAutoCommits: true\n        maintainTimeStats: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":167931,"reputation":1867,"user_id":393046,"accept_rate":43,"display_name":"CelinHC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579525007,"creation_date":1579525007,"answer_id":59823791,"question_id":26490967,"body_markdown":"I was facing issues and the problem was a **whitespace** at the end of `spring.datasource.type = com.zaxxer.hikari.HikariDataSource`","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>I was facing issues and the problem was a <strong>whitespace</strong> at the end of <code>spring.datasource.type = com.zaxxer.hikari.HikariDataSource</code></p>\n"},{"tags":[],"owner":{"account_id":11672274,"reputation":47,"user_id":8546971,"display_name":"nagendra babu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581229050,"creation_date":1581227417,"answer_id":60133852,"question_id":26490967,"body_markdown":"The code below can be used for a static datasource initialization.\r\n\r\n```java\r\npublic class MyDataSource {\r\n\tprivate static final String DB_USERNAME=&quot;spring.datasource.username&quot;;\r\n\tprivate static final String DB_PASSWORD=&quot;spring.datasource.password&quot;;\r\n\tprivate static final String DB_URL =&quot;spring.datasource.url&quot;;\r\n\tprivate static final String DB_DRIVER_CLASS=&quot;spring.datasource.driver-class-name&quot;;\r\n\t\r\n\tprivate static Properties properties = null;\r\n\tprivate static HikariDataSource dataSource;\r\n\r\n    static {\r\n\t\ttry {\r\n\t\t\tproperties = new Properties();\r\n\t\t\tproperties.load(new FileInputStream(&quot;src/main/resources/application.properties&quot;));\r\n\t\t\t\r\n\t\t\tdataSource = new HikariDataSource();\r\n\t\t\tdataSource.setDriverClassName(properties.getProperty(DB_DRIVER_CLASS));\r\n\t\t\t\r\n\t\t\tdataSource.setJdbcUrl(properties.getProperty(DB_URL));\r\n\t\t\tdataSource.setUsername(properties.getProperty(DB_USERNAME));\r\n\t\t\tdataSource.setPassword(properties.getProperty(DB_PASSWORD));\r\n\t\t\t\r\n\t\t\tdataSource.setMinimumIdle(100);\r\n\t\t\tdataSource.setMaximumPoolSize(2000);\r\n\t\t\tdataSource.setAutoCommit(false);\r\n\t\t\tdataSource.setLoginTimeout(3);\r\n\t\t\t\r\n\t\t} catch (IOException | SQLException e) {\r\n\t\t\t((Throwable) e).printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static DataSource getDataSource(){\r\n\t\treturn dataSource;\r\n\t}\r\n\t\r\n\tpublic static Connection getConnection() throws SQLException{\r\n\t\treturn getDataSource().getConnection();\r\n\t}\r\n}\r\n```\r\n","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>The code below can be used for a static datasource initialization.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDataSource {\n    private static final String DB_USERNAME=\"spring.datasource.username\";\n    private static final String DB_PASSWORD=\"spring.datasource.password\";\n    private static final String DB_URL =\"spring.datasource.url\";\n    private static final String DB_DRIVER_CLASS=\"spring.datasource.driver-class-name\";\n\n    private static Properties properties = null;\n    private static HikariDataSource dataSource;\n\n    static {\n        try {\n            properties = new Properties();\n            properties.load(new FileInputStream(\"src/main/resources/application.properties\"));\n\n            dataSource = new HikariDataSource();\n            dataSource.setDriverClassName(properties.getProperty(DB_DRIVER_CLASS));\n\n            dataSource.setJdbcUrl(properties.getProperty(DB_URL));\n            dataSource.setUsername(properties.getProperty(DB_USERNAME));\n            dataSource.setPassword(properties.getProperty(DB_PASSWORD));\n\n            dataSource.setMinimumIdle(100);\n            dataSource.setMaximumPoolSize(2000);\n            dataSource.setAutoCommit(false);\n            dataSource.setLoginTimeout(3);\n\n        } catch (IOException | SQLException e) {\n            ((Throwable) e).printStackTrace();\n        }\n    }\n\n    public static DataSource getDataSource(){\n        return dataSource;\n    }\n\n    public static Connection getConnection() throws SQLException{\n        return getDataSource().getConnection();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2890454,"reputation":412,"user_id":2479372,"accept_rate":55,"display_name":"unknown"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609306777,"creation_date":1609306777,"answer_id":65502527,"question_id":26490967,"body_markdown":"Now with HikcariCp as default connection pooling with new version of spring boot.It can be directly done as shown below.\r\n\r\n\r\n    @Configuration\r\n    public class PurchaseOrderDbConfig {\r\n    \t\r\n    \t@Bean\r\n    \t@ConfigurationProperties(prefix = &quot;com.sysco.purchaseorder.datasoure&quot;)\r\n    \tpublic DataSource dataSource() {\r\n    \t\treturn DataSourceBuilder.create().build();\r\n    \t}\r\n    \r\n    }\r\n\r\napplication.yml\r\n\r\n    com:\r\n      sysco:\r\n        purchaseorder:\r\n          datasoure:\r\n            driverClassName: com.mysql.jdbc.Driver\r\n            jdbcUrl: jdbc:mysql://localhost:3306/purchaseorder\r\n            username: root\r\n            password: root123\r\n            idleTimeout: 600000\r\n\r\nIf you will print the value of idle timeout value \r\n\r\n \r\n\r\n    ApplicationContext context=SpringApplication.run(ApiBluePrint.class, args);\r\n       HikariDataSource dataSource=(HikariDataSource) context.getBean(DataSource.class);\r\n       System.out.println(dataSource.getIdleTimeout());\r\n\r\nyou will get value as 600000 where as default value is 300000 if you dont define any custom value","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>Now with HikcariCp as default connection pooling with new version of spring boot.It can be directly done as shown below.</p>\n<pre><code>@Configuration\npublic class PurchaseOrderDbConfig {\n    \n    @Bean\n    @ConfigurationProperties(prefix = &quot;com.sysco.purchaseorder.datasoure&quot;)\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>com:\n  sysco:\n    purchaseorder:\n      datasoure:\n        driverClassName: com.mysql.jdbc.Driver\n        jdbcUrl: jdbc:mysql://localhost:3306/purchaseorder\n        username: root\n        password: root123\n        idleTimeout: 600000\n</code></pre>\n<p>If you will print the value of idle timeout value</p>\n<pre><code>ApplicationContext context=SpringApplication.run(ApiBluePrint.class, args);\n   HikariDataSource dataSource=(HikariDataSource) context.getBean(DataSource.class);\n   System.out.println(dataSource.getIdleTimeout());\n</code></pre>\n<p>you will get value as 600000 where as default value is 300000 if you dont define any custom value</p>\n"},{"tags":[],"owner":{"account_id":4954246,"reputation":41,"user_id":3987327,"display_name":"Sumant Shanbag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643815440,"creation_date":1643815098,"answer_id":70958176,"question_id":26490967,"body_markdown":"I am working with \r\n\r\n    HikariCP-4.0.3.jar\r\n    spring-boot-2.6.2.jar\r\n    spring-core-5.3.14.jar\r\n    spring-jdbc-5.3.14.jar\r\n    spring-web-5.3.14.jar\r\n    thymeleaf-3.0.14.RELEASE.jar\r\n\r\nLooks like spring-boot 2.x has default support for HikariCP out of the box, which is great news.\r\n\r\nI had to put in following configurations for 2 different DS in my resources/application.properties\r\n\r\n    spring.sid1.datasource.jdbcUrl=jdbc:oracle:thin:@XXX:1521:SID1\r\n    spring.sid1.datasource.username=&lt;user&gt;\r\n    spring.sid1.datasource.password=&lt;password&gt;\r\n    spring.sid1.datasource.driverClassName=oracle.jdbc.OracleDriver\r\n    spring.sid1.datasource.connectionTimeout=20000\r\n    spring.sid1.datasource.poolName=SID1Pool\r\n    spring.sid1.datasource.minimumIdle=5\r\n    spring.sid1.datasource.maximumPoolSize=10\r\n\r\n    spring.sid2.datasource.jdbcUrl=jdbc:oracle:thin:@XXX:1521:SID2\r\n    spring.sid2.datasource.username=&lt;user2&gt;\r\n    spring.sid2.datasource.password=&lt;password2&gt;\r\n    spring.sid2.datasource.driverClassName=oracle.jdbc.OracleDriver\r\n    spring.sid2.datasource.connectionTimeout=20000\r\n    spring.sid2.datasource.poolName=SID2Pool\r\n    spring.sid2.datasource.minimumIdle=5\r\n    spring.sid2.datasource.maximumPoolSize=10\r\n\r\nNote: spring.sid2.datasource.hikari.* configuration is not required as it is the default new.\r\n","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>I am working with</p>\n<pre><code>HikariCP-4.0.3.jar\nspring-boot-2.6.2.jar\nspring-core-5.3.14.jar\nspring-jdbc-5.3.14.jar\nspring-web-5.3.14.jar\nthymeleaf-3.0.14.RELEASE.jar\n</code></pre>\n<p>Looks like spring-boot 2.x has default support for HikariCP out of the box, which is great news.</p>\n<p>I had to put in following configurations for 2 different DS in my resources/application.properties</p>\n<pre><code>spring.sid1.datasource.jdbcUrl=jdbc:oracle:thin:@XXX:1521:SID1\nspring.sid1.datasource.username=&lt;user&gt;\nspring.sid1.datasource.password=&lt;password&gt;\nspring.sid1.datasource.driverClassName=oracle.jdbc.OracleDriver\nspring.sid1.datasource.connectionTimeout=20000\nspring.sid1.datasource.poolName=SID1Pool\nspring.sid1.datasource.minimumIdle=5\nspring.sid1.datasource.maximumPoolSize=10\n\nspring.sid2.datasource.jdbcUrl=jdbc:oracle:thin:@XXX:1521:SID2\nspring.sid2.datasource.username=&lt;user2&gt;\nspring.sid2.datasource.password=&lt;password2&gt;\nspring.sid2.datasource.driverClassName=oracle.jdbc.OracleDriver\nspring.sid2.datasource.connectionTimeout=20000\nspring.sid2.datasource.poolName=SID2Pool\nspring.sid2.datasource.minimumIdle=5\nspring.sid2.datasource.maximumPoolSize=10\n</code></pre>\n<p>Note: spring.sid2.datasource.hikari.* configuration is not required as it is the default new.</p>\n"}],"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378779,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"accepted_answer_id":33213802,"answer_count":18,"score":121,"last_activity_date":1643815440,"creation_date":1413906845,"question_id":26490967,"body_markdown":"I&#39;m trying to set up HikariCP in my Spring Boot (1.2.0.M1) app so I can test using it in place of Tomcat DBCP. I&#39;d like to configure the connection pool in my application.properties file like I was doing with Tomcat, but I can&#39;t figure out how I should be doing it. All examples I&#39;ve found show either JavaConfig style, or using a separate HikariCP properties file. Can someone help me figure out the property names to configure it in application.properties? I&#39;d like to also switch from using the driverClassName approach to the DataSourceClassName approach since it looks cleaner and is recommended. Is this also possible in my application.properties file(s)? \r\n\r\nHere&#39;s what I had for Tomcat DBCP (just some basic config, not fully flushed out)\r\n\r\n    spring.datasource.validation-query=SELECT 1\r\n    spring.datasource.max-active=10\r\n    spring.datasource.max-idle=8\r\n    spring.datasource.min-idle=8\r\n    spring.datasource.initial-size=5\r\n    spring.datasource.test-on-borrow=true\r\n    spring.datasource.test-on-return=true\r\n\r\nAnd I&#39;m currently using driverClassName and jdbc url to set up the connection: \r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/myDb\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver","title":"How do I configure HikariCP in my Spring Boot app in my application.properties files?","body":"<p>I'm trying to set up HikariCP in my Spring Boot (1.2.0.M1) app so I can test using it in place of Tomcat DBCP. I'd like to configure the connection pool in my application.properties file like I was doing with Tomcat, but I can't figure out how I should be doing it. All examples I've found show either JavaConfig style, or using a separate HikariCP properties file. Can someone help me figure out the property names to configure it in application.properties? I'd like to also switch from using the driverClassName approach to the DataSourceClassName approach since it looks cleaner and is recommended. Is this also possible in my application.properties file(s)? </p>\n\n<p>Here's what I had for Tomcat DBCP (just some basic config, not fully flushed out)</p>\n\n<pre><code>spring.datasource.validation-query=SELECT 1\nspring.datasource.max-active=10\nspring.datasource.max-idle=8\nspring.datasource.min-idle=8\nspring.datasource.initial-size=5\nspring.datasource.test-on-borrow=true\nspring.datasource.test-on-return=true\n</code></pre>\n\n<p>And I'm currently using driverClassName and jdbc url to set up the connection: </p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/myDb\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":["java","apache","maven"],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498147432,"creation_date":1498147432,"answer_id":44704426,"question_id":44704335,"body_markdown":"Try with this commands if an error ocurred in you maven realease.\r\n\r\n&gt; `mvn release:prepare -Dresume=false`\r\n&gt; \r\n&gt; Alternatively, you can use:\r\n&gt; \r\n&gt; `mvn release:clean release:prepare`\r\n\r\nCheck the [maven doc][1]\r\n\r\n\r\n  [1]: http://maven.apache.org/maven-release/maven-release-plugin/examples/prepare-release.html","title":"Unable to prepare a maven release with ERROR","body":"<p>Try with this commands if an error ocurred in you maven realease.</p>\n\n<blockquote>\n  <p><code>mvn release:prepare -Dresume=false</code></p>\n  \n  <p>Alternatively, you can use:</p>\n  \n  <p><code>mvn release:clean release:prepare</code></p>\n</blockquote>\n\n<p>Check the <a href=\"http://maven.apache.org/maven-release/maven-release-plugin/examples/prepare-release.html\" rel=\"nofollow noreferrer\">maven doc</a></p>\n"},{"tags":[],"owner":{"account_id":15770703,"reputation":135,"user_id":12100307,"display_name":"Denisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643815184,"creation_date":1643815184,"answer_id":70958195,"question_id":44704335,"body_markdown":"Add **checkModificationExclude** in **maven-release-plugin**            \r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;goals&gt;install&lt;/goals&gt;\r\n    \t\t\t\t&lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n    \t\t\t\t&lt;checkModificationExcludes&gt;\r\n    \t\t\t\t\t&lt;checkModificationExclude&gt;pom.xml&lt;/checkModificationExclude&gt;\r\n    \t\t\t\t\t&lt;checkModificationExclude&gt;**&lt;/checkModificationExclude&gt;\r\n    \t\t\t\t&lt;/checkModificationExcludes&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Unable to prepare a maven release with ERROR","body":"<p>Add <strong>checkModificationExclude</strong> in <strong>maven-release-plugin</strong></p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;goals&gt;install&lt;/goals&gt;\n                &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                &lt;checkModificationExcludes&gt;\n                    &lt;checkModificationExclude&gt;pom.xml&lt;/checkModificationExclude&gt;\n                    &lt;checkModificationExclude&gt;**&lt;/checkModificationExclude&gt;\n                &lt;/checkModificationExcludes&gt;\n            &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5293775,"reputation":11,"user_id":4225468,"display_name":"Akila Herath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643815184,"creation_date":1498147124,"question_id":44704335,"body_markdown":"Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.3:prepare (default-cli) on project SampleProject: Maven execution failed, exit code: &#39;1&#39;\r\n\r\n&lt;pre&gt;\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:318)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:153)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:555)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:414)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:357)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Maven execution failed, exit code: &#39;1&#39;\r\n        at org.apache.maven.plugins.release.PrepareReleaseMojo.prepareRelease(PrepareReleaseMojo.java:290)\r\n        at org.apache.maven.plugins.release.PrepareReleaseMojo.execute(PrepareReleaseMojo.java:240)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:106)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n        ... 19 more\r\nCaused by: org.apache.maven.shared.release.ReleaseExecutionException: Maven execution failed, exit code: &#39;1&#39;\r\n        at org.apache.maven.shared.release.phase.AbstractRunGoalsPhase.execute(AbstractRunGoalsPhase.java:91)\r\n        at org.apache.maven.shared.release.phase.RunPrepareGoalsPhase.execute(RunPrepareGoalsPhase.java:44)\r\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:234)\r\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:169)\r\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:146)\r\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:107)\r\n        at org.apache.maven.plugins.release.PrepareReleaseMojo.prepareRelease(PrepareReleaseMojo.java:286)\r\n        ... 22 more\r\nCaused by: org.apache.maven.shared.release.exec.MavenExecutorException: Maven execution failed, exit code: &#39;1&#39;\r\n        at org.apache.maven.shared.release.exec.InvokerMavenExecutor.executeGoals(InvokerMavenExecutor.java:433)\r\n        at org.apache.maven.shared.release.exec.AbstractMavenExecutor.executeGoals(AbstractMavenExecutor.java:114)\r\n        at org.apache.maven.shared.release.phase.AbstractRunGoalsPhase.execute(AbstractRunGoalsPhase.java:85)\r\n&lt;/pre&gt;\r\n\r\nHere is a code fragment of pom.xml\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;developer&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;modules&gt;\r\n                &lt;!-- Module dedicated for deployment activities. --&gt;\r\n                &lt;module&gt;deployment&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n            &lt;build&gt;\r\n                &lt;pluginManagement&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;skip&gt;true&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;skip&gt;true&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;source&gt;${jdk.version}&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;target&gt;${jdk.version}&lt;/target&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${release.plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;tagBase&gt;https://scm.mycompany.com/tags/test&lt;/tagBase&gt;\r\n\t\t\t\t\t\t\t&lt;tagNameFormat&gt;test-@{project.version}&lt;/tagNameFormat&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/pluginManagement&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\nHow to solve this issue?\r\n\r\n\r\n","title":"Unable to prepare a maven release with ERROR","body":"<p>Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.5.3:prepare (default-cli) on project SampleProject: Maven execution failed, exit code: '1'</p>\n\n<pre>\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:318)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:153)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:555)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:414)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:357)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Maven execution failed, exit code: '1'\n        at org.apache.maven.plugins.release.PrepareReleaseMojo.prepareRelease(PrepareReleaseMojo.java:290)\n        at org.apache.maven.plugins.release.PrepareReleaseMojo.execute(PrepareReleaseMojo.java:240)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:106)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n        ... 19 more\nCaused by: org.apache.maven.shared.release.ReleaseExecutionException: Maven execution failed, exit code: '1'\n        at org.apache.maven.shared.release.phase.AbstractRunGoalsPhase.execute(AbstractRunGoalsPhase.java:91)\n        at org.apache.maven.shared.release.phase.RunPrepareGoalsPhase.execute(RunPrepareGoalsPhase.java:44)\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:234)\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:169)\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:146)\n        at org.apache.maven.shared.release.DefaultReleaseManager.prepare(DefaultReleaseManager.java:107)\n        at org.apache.maven.plugins.release.PrepareReleaseMojo.prepareRelease(PrepareReleaseMojo.java:286)\n        ... 22 more\nCaused by: org.apache.maven.shared.release.exec.MavenExecutorException: Maven execution failed, exit code: '1'\n        at org.apache.maven.shared.release.exec.InvokerMavenExecutor.executeGoals(InvokerMavenExecutor.java:433)\n        at org.apache.maven.shared.release.exec.AbstractMavenExecutor.executeGoals(AbstractMavenExecutor.java:114)\n        at org.apache.maven.shared.release.phase.AbstractRunGoalsPhase.execute(AbstractRunGoalsPhase.java:85)\n</pre>\n\n<p>Here is a code fragment of pom.xml</p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;developer&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;modules&gt;\n            &lt;!-- Module dedicated for deployment activities. --&gt;\n            &lt;module&gt;deployment&lt;/module&gt;\n        &lt;/modules&gt;\n        &lt;build&gt;\n            &lt;pluginManagement&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                        &lt;source&gt;${jdk.version}&lt;/source&gt;\n                        &lt;target&gt;${jdk.version}&lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${release.plugin.version}&lt;/version&gt;\n                        &lt;configuration&gt;\n                        &lt;tagBase&gt;https://scm.mycompany.com/tags/test&lt;/tagBase&gt;\n                        &lt;tagNameFormat&gt;test-@{project.version}&lt;/tagNameFormat&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/pluginManagement&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n\n<p>How to solve this issue?</p>\n"},{"tags":["java","spring","maven","intellij-idea"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643813591,"post_id":70956786,"comment_id":125439319,"body_markdown":"Why are you using `${ZZZ_version_module}` ? Furthermore please try to build first on plain command line...","body":"Why are you using <code>${ZZZ_version_module}</code> ? Furthermore please try to build first on plain command line..."},{"owner":{"account_id":8767698,"reputation":1,"user_id":18100395,"display_name":"user18100395"},"score":0,"creation_date":1643814174,"post_id":70956786,"comment_id":125439604,"body_markdown":"The `${ZZZ_version_module}` is the version of the parent pom wich is also given to the child module so they have the same version.\nAbout building on plain command line, do you mean `mvn clean install` ?","body":"The <code>${ZZZ_version_module}</code> is the version of the parent pom wich is also given to the child module so they have the same version. About building on plain command line, do you mean <code>mvn clean install</code> ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643822398,"post_id":70956786,"comment_id":125443325,"body_markdown":"Does not work using a property. Put literal values in there...","body":"Does not work using a property. Put literal values in there..."},{"owner":{"account_id":8767698,"reputation":1,"user_id":18100395,"display_name":"user18100395"},"score":0,"creation_date":1643881178,"post_id":70956786,"comment_id":125458544,"body_markdown":"Yeah putting a literal value here works. I&#39;m gonna do that for now as I see no other way around","body":"Yeah putting a literal value here works. I&#39;m gonna do that for now as I see no other way around"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643882530,"post_id":70956786,"comment_id":125459124,"body_markdown":"See https://maven.apache.org/maven-ci-friendly.html","body":"See <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a>"}],"owner":{"account_id":8767698,"reputation":1,"user_id":18100395,"display_name":"user18100395"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643815015,"creation_date":1643809739,"question_id":70956786,"body_markdown":"I&#39;m working on a project with a parent maven module that contains no sources and 4 child modules.\r\nIt&#39;s supposed to be a Spring Application, the class having `SpringApplication.run(XXX.class, args);` is in a child module.\r\n\r\nAs I work with intelliJ community I don&#39;t have the spring plugin that could help me launch easely the application.\r\n\r\nIf I `clean install` the project everything builds correctly.\r\n\r\nTo start the application i try to right click on the class booting Spring and then click on run.\r\nAs intelliJ tries to build the app i get the following message : \r\n\r\n&gt; Failed to execute goal on project XXX : Could not resolve dependencies\r\n&gt; for project XXX:XXX:jar:0.0.28: Failed to collect dependencies at\r\n&gt; XXX:XXX:jar:0.0.28: Failed to read artifact descriptor for\r\n&gt; XXX:jar:0.0.28: Could not transfer artifact XXX:YYY:pom:${ZZZ_version_module} from/to\r\n&gt; releases (http://nexus...): Authorization failed for\r\n&gt; http://nexus.../.../.../$%257BZZZ_version_module%257D/...-$%257BZZZ_version_module%257D.pom\r\n&gt; 403 Forbidden\r\n\r\nFrom what i understand the problem is that when building, intelliJ only build the child module, so it cannot turn the variablized version in my pom.xml `${ZZZ_version_module}` into the right version using properties from the parent pom.\r\n\r\n\r\nBecause of my work, I cannot use any plugin in intelliJ or any other dependency in my pom that could help me.\r\n\r\nDo any one have any solution to run the SpringApplication ?\r\n\r\n\r\nParent pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;groupId&gt;ABC&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;XYZ&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${ZZZ_version_module}&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;...&lt;/name&gt;\r\n    \t&lt;description&gt;...&lt;/description&gt;\r\n    \t\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;ZZZ_version_module&gt;0.0.28&lt;/ZZZ_version_module&gt;\r\n    \t\t...\r\n    \t&lt;/properties&gt;\r\n    \t\r\n    &lt;/project&gt;\r\n\r\nChild pom.xml :\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;ABC&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;XYZ&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${ZZZ_version_module}&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;artifactId&gt;...&lt;/artifactId&gt;\r\n    \t&lt;name&gt;...&lt;/name&gt;\r\n    \t&lt;description&gt;...&lt;/description&gt;\r\n    \t\r\n    &lt;/project&gt;\r\n\r\n(Sorry for the broken english)\r\n","title":"Probleme with Spring application, maven multi module and intelliJ Comunity","body":"<p>I'm working on a project with a parent maven module that contains no sources and 4 child modules.\nIt's supposed to be a Spring Application, the class having <code>SpringApplication.run(XXX.class, args);</code> is in a child module.</p>\n<p>As I work with intelliJ community I don't have the spring plugin that could help me launch easely the application.</p>\n<p>If I <code>clean install</code> the project everything builds correctly.</p>\n<p>To start the application i try to right click on the class booting Spring and then click on run.\nAs intelliJ tries to build the app i get the following message :</p>\n<blockquote>\n<p>Failed to execute goal on project XXX : Could not resolve dependencies\nfor project XXX:XXX:jar:0.0.28: Failed to collect dependencies at\nXXX:XXX:jar:0.0.28: Failed to read artifact descriptor for\nXXX:jar:0.0.28: Could not transfer artifact XXX:YYY:pom:${ZZZ_version_module} from/to\nreleases (http://nexus...): Authorization failed for\nhttp://nexus.../.../.../$%257BZZZ_version_module%257D/...-$%257BZZZ_version_module%257D.pom\n403 Forbidden</p>\n</blockquote>\n<p>From what i understand the problem is that when building, intelliJ only build the child module, so it cannot turn the variablized version in my pom.xml <code>${ZZZ_version_module}</code> into the right version using properties from the parent pom.</p>\n<p>Because of my work, I cannot use any plugin in intelliJ or any other dependency in my pom that could help me.</p>\n<p>Do any one have any solution to run the SpringApplication ?</p>\n<p>Parent pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;ABC&lt;/groupId&gt;\n    &lt;artifactId&gt;XYZ&lt;/artifactId&gt;\n    &lt;version&gt;${ZZZ_version_module}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;...&lt;/name&gt;\n    &lt;description&gt;...&lt;/description&gt;\n    \n    &lt;properties&gt;\n        &lt;ZZZ_version_module&gt;0.0.28&lt;/ZZZ_version_module&gt;\n        ...\n    &lt;/properties&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>Child pom.xml :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;ABC&lt;/groupId&gt;\n        &lt;artifactId&gt;XYZ&lt;/artifactId&gt;\n        &lt;version&gt;${ZZZ_version_module}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;name&gt;...&lt;/name&gt;\n    &lt;description&gt;...&lt;/description&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>(Sorry for the broken english)</p>\n"},{"tags":["java","spring","spring-boot","multi-tenant"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643815345,"post_id":70958146,"comment_id":125440130,"body_markdown":"Use security. Add an authority to each functional part of your application and dynamically build the menu based on that.","body":"Use security. Add an authority to each functional part of your application and dynamically build the menu based on that."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1643815388,"post_id":70958146,"comment_id":125440156,"body_markdown":"Is `getMenueEntry(tenant);` an option ? Meaning add the required information to tenant or tenant model.","body":"Is <code>getMenueEntry(tenant);</code> an option ? Meaning add the required information to tenant or tenant model."},{"owner":{"account_id":12141574,"reputation":419,"user_id":8865176,"display_name":"sulox32"},"score":0,"creation_date":1643816170,"post_id":70958146,"comment_id":125440531,"body_markdown":"@M.Deinum and how does my tenant know if it has a authorization to each menu. Where can I store this authorization?","body":"@M.Deinum and how does my tenant know if it has a authorization to each menu. Where can I store this authorization?"},{"owner":{"account_id":12141574,"reputation":419,"user_id":8865176,"display_name":"sulox32"},"score":0,"creation_date":1643816250,"post_id":70958146,"comment_id":125440580,"body_markdown":"@c0der then i must store the required information in the database or?","body":"@c0der then i must store the required information in the database or?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643818538,"post_id":70958146,"comment_id":125441635,"body_markdown":"Database, files, mongo whatever you choose as your storage. Using Spring Security for this (I do assume and hope you have security on your mind) makes it relative easy to do.","body":"Database, files, mongo whatever you choose as your storage. Using Spring Security for this (I do assume and hope you have security on your mind) makes it relative easy to do."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643820137,"post_id":70958146,"comment_id":125442337,"body_markdown":"Will you release a new version of your software for each new tenant? Or will he same version of software continue running as you add tenants? Your question is not clear about your requirements.","body":"Will you release a new version of your software for each new tenant? Or will he same version of software continue running as you add tenants? Your question is not clear about your requirements."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1643820904,"post_id":70958146,"comment_id":125442652,"body_markdown":"_i must store the required information in the database_ you need to [persist](https://openclassrooms.com/en/courses/6031811-persist-your-java-applications-data-with-the-repository-pattern) the information","body":"<i>i must store the required information in the database</i> you need to <a href=\"https://openclassrooms.com/en/courses/6031811-persist-your-java-applications-data-with-the-repository-pattern\" rel=\"nofollow noreferrer\">persist</a> the information"},{"owner":{"account_id":12141574,"reputation":419,"user_id":8865176,"display_name":"sulox32"},"score":0,"creation_date":1643883372,"post_id":70958146,"comment_id":125459475,"body_markdown":"@BasilBorque they have all the same version. Only some Tenants has other Functions. But the Core functions are the same","body":"@BasilBorque they have all the same version. Only some Tenants has other Functions. But the Core functions are the same"}],"owner":{"account_id":12141574,"reputation":419,"user_id":8865176,"display_name":"sulox32"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643814987,"creation_date":1643814987,"question_id":70958146,"body_markdown":"i am developing a multi-tenancy application using java 17 and spring 2.6.3 for the backend and vue.js for the frontend. We have three tenants. These tenants all have different menus for the user. I have now a MenuService there i create the menues with if statement. \r\nLike:\r\n\r\n    if (tenant.a) {\r\n     getMenueEntry(enum.home, enum.setting, enum.support);\r\n    } else if (tenant.b) {\r\n     getMenueEntry(enum.home, enum.setting, enum.support, enum.notification, enum.jobs);\r\n    } else if (tenant.c) {\r\n     getMenueEntry(enum.home, enum.setting, enum.support, enum.jobs, enum.music);\r\n    }\r\n\r\nis there a better way to handle this? Because there will be more tenants in the future and that means more if statements. Can i handle this with a property file? or to load the menue from the db?\r\n\r\n","title":"How to manage different menues in a multi-tenancy application?","body":"<p>i am developing a multi-tenancy application using java 17 and spring 2.6.3 for the backend and vue.js for the frontend. We have three tenants. These tenants all have different menus for the user. I have now a MenuService there i create the menues with if statement.\nLike:</p>\n<pre><code>if (tenant.a) {\n getMenueEntry(enum.home, enum.setting, enum.support);\n} else if (tenant.b) {\n getMenueEntry(enum.home, enum.setting, enum.support, enum.notification, enum.jobs);\n} else if (tenant.c) {\n getMenueEntry(enum.home, enum.setting, enum.support, enum.jobs, enum.music);\n}\n</code></pre>\n<p>is there a better way to handle this? Because there will be more tenants in the future and that means more if statements. Can i handle this with a property file? or to load the menue from the db?</p>\n"},{"tags":["java","port"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643745661,"post_id":70946725,"comment_id":125420450,"body_markdown":"what does the data stream look like?","body":"what does the data stream look like?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643746139,"creation_date":1643746139,"answer_id":70946912,"question_id":70946725,"body_markdown":"&gt; &quot;*Is it possible to extract only certain information from this\r\n&gt; output?*&quot;\r\n\r\nOf course it is possible. You are already reading the data from the serial port. You can tokenize the data and store in a map.\r\n```\r\n// Get the data from serial port and tokenize it\r\nMap&lt;String, Whatever&gt; data = new HashMap&lt;&gt;();\r\ndata.put(&quot;D10&quot;, XXX);\r\ndata.put(&quot;D20&quot;, YYY);\r\n...\r\n```\r\n\r\nThen, you can set the text in the corresponding text box\r\n```\r\nd10TextField.setText(data.get(&quot;D10&quot;));\r\nd20TextField.setText(data.get(&quot;D20&quot;));\r\n...\r\n```\r\n\r\nAll you need is make this map accessible.","title":"Java - Serial port data extraction","body":"<blockquote>\n<p>&quot;<em>Is it possible to extract only certain information from this\noutput?</em>&quot;</p>\n</blockquote>\n<p>Of course it is possible. You are already reading the data from the serial port. You can tokenize the data and store in a map.</p>\n<pre><code>// Get the data from serial port and tokenize it\nMap&lt;String, Whatever&gt; data = new HashMap&lt;&gt;();\ndata.put(&quot;D10&quot;, XXX);\ndata.put(&quot;D20&quot;, YYY);\n...\n</code></pre>\n<p>Then, you can set the text in the corresponding text box</p>\n<pre><code>d10TextField.setText(data.get(&quot;D10&quot;));\nd20TextField.setText(data.get(&quot;D20&quot;));\n...\n</code></pre>\n<p>All you need is make this map accessible.</p>\n"},{"tags":[],"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643814978,"creation_date":1643814978,"answer_id":70958145,"question_id":70946725,"body_markdown":"    while (input.available() &gt; 0) {\r\n                    input = serialPort.getInputStream();\r\n                    int nBytes = input.available();\r\n                    int c = input.read();\r\n                    System.out.println(&quot;nBytes = &quot; + nBytes);\r\n                    System.out.println(&quot;read &quot; + (char) c);\r\n\r\n                    if (nBytes == 376) {\r\n                        data.put(&quot;D10&quot;, (char) c);\r\n                    } else if (nBytes == 344) {\r\n                        data.put(&quot;D20&quot;, (char) c);\r\n                    } else if (nBytes == 312) {\r\n                        data.put(&quot;D50&quot;, (char) c);\r\n                    } else if (nBytes == 280) {\r\n                        data.put(&quot;D100&quot;, (char) c);\r\n                    } else if (nBytes == 248) {\r\n                        data.put(&quot;D200&quot;, (char) c);\r\n                    } else if (nBytes == 216) {\r\n                        data.put(&quot;D500&quot;, (char) c);\r\n                    } else if (nBytes == 184) {\r\n                        data.put(&quot;D1000&quot;, (char) c);\r\n                    } else if (nBytes == 152) {\r\n                        data.put(&quot;D2000&quot;, (char) c);\r\n                    } else if (nBytes == 120) {\r\n                        data.put(&quot;D5000&quot;, (char) c);\r\n                    }\r\n\r\nI did it like this and got the wanted results.\r\n\r\nMy second question is how can I get the data if for example, D10 has more than 9pcs. In that situation, I have to take into consideration two bytes, or three if the number is 100 or more.\r\n\r\nAny ideas?\r\n\r\n","title":"Java - Serial port data extraction","body":"<pre><code>while (input.available() &gt; 0) {\n                input = serialPort.getInputStream();\n                int nBytes = input.available();\n                int c = input.read();\n                System.out.println(&quot;nBytes = &quot; + nBytes);\n                System.out.println(&quot;read &quot; + (char) c);\n\n                if (nBytes == 376) {\n                    data.put(&quot;D10&quot;, (char) c);\n                } else if (nBytes == 344) {\n                    data.put(&quot;D20&quot;, (char) c);\n                } else if (nBytes == 312) {\n                    data.put(&quot;D50&quot;, (char) c);\n                } else if (nBytes == 280) {\n                    data.put(&quot;D100&quot;, (char) c);\n                } else if (nBytes == 248) {\n                    data.put(&quot;D200&quot;, (char) c);\n                } else if (nBytes == 216) {\n                    data.put(&quot;D500&quot;, (char) c);\n                } else if (nBytes == 184) {\n                    data.put(&quot;D1000&quot;, (char) c);\n                } else if (nBytes == 152) {\n                    data.put(&quot;D2000&quot;, (char) c);\n                } else if (nBytes == 120) {\n                    data.put(&quot;D5000&quot;, (char) c);\n                }\n</code></pre>\n<p>I did it like this and got the wanted results.</p>\n<p>My second question is how can I get the data if for example, D10 has more than 9pcs. In that situation, I have to take into consideration two bytes, or three if the number is 100 or more.</p>\n<p>Any ideas?</p>\n"}],"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643814978,"creation_date":1643745222,"question_id":70946725,"body_markdown":"I&#39;m fairly new to Java and programming in general.\r\nI am making an app in Java Swing that reads the data from serial port that is connected to a money counter machine. When the machine counts something, it sends count data through RS232-USB converter to the PC. I managed to make an app that finds and opens a COM port, and reads the data from the machine. This is the data that I get:\r\n\r\n [![Machine output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GSFjB.jpg\r\n\r\n\r\n\r\n\r\nIs it possible to extract only certain information from this output?\r\nFor example only the unit count for D10? If so how can I do it?\r\n\r\nIdea is to write all the info separately into already defined `JTextfields`.\r\n\r\nI tried something like this:\r\n\r\n    while ((line = portReader.readLine()) != null) {\r\n                    //window.ta_logs.append(line + &quot;\\n&quot;);\r\n                    StringTokenizer st = new StringTokenizer(line);\r\n                    while (st.hasMoreElements()) {\r\n                        String token = st.nextToken();\r\n                        if (token.contains(&quot;D50&quot;)) {\r\n                            data.put(&quot;D50&quot;, token.substring(2));\r\n                        }\r\n                        window.ta_logs.append(token);\r\n                    }\r\n                    System.out.println(line);\r\n                    System.out.println(data);\r\n\r\n                }\r\n\r\nThanks in advance.","title":"Java - Serial port data extraction","body":"<p>I'm fairly new to Java and programming in general.\nI am making an app in Java Swing that reads the data from serial port that is connected to a money counter machine. When the machine counts something, it sends count data through RS232-USB converter to the PC. I managed to make an app that finds and opens a COM port, and reads the data from the machine. This is the data that I get:</p>\n<p><a href=\"https://i.stack.imgur.com/GSFjB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GSFjB.jpg\" alt=\"Machine output\" /></a></p>\n<p>Is it possible to extract only certain information from this output?\nFor example only the unit count for D10? If so how can I do it?</p>\n<p>Idea is to write all the info separately into already defined <code>JTextfields</code>.</p>\n<p>I tried something like this:</p>\n<pre><code>while ((line = portReader.readLine()) != null) {\n                //window.ta_logs.append(line + &quot;\\n&quot;);\n                StringTokenizer st = new StringTokenizer(line);\n                while (st.hasMoreElements()) {\n                    String token = st.nextToken();\n                    if (token.contains(&quot;D50&quot;)) {\n                        data.put(&quot;D50&quot;, token.substring(2));\n                    }\n                    window.ta_logs.append(token);\n                }\n                System.out.println(line);\n                System.out.println(data);\n\n            }\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","java","html","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Ð¡ÐµÑÐ³ÐµÐ¹"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643814936,"creation_date":1643814936,"answer_id":70958130,"question_id":70895712,"body_markdown":"The problem was solved. Here is a test code that displays in the message a link to the image of the button we clicked on.\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    \r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n      &lt;title&gt;Item name&lt;/title&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/resources/static/css/styles.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body style=&quot;margin: 0&quot;&gt;\r\n      &lt;div class=&quot;page&quot; style=&quot;margin: 0&quot;&gt;\r\n        &lt;div th:each=&quot;link, iStat : ${_links}&quot;&gt;\r\n          &lt;input type=&quot;image&quot; th:src=&quot;${link}&quot; value=&quot;Click me&quot; onclick=&quot;buttonClick(this)&quot;&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    \r\n      &lt;script type=&quot;text/javascript&quot;&gt;\r\n        function buttonClick(e) {\r\n          var att = e.getAttribute(&#39;src&#39;);\r\n          alert(att);\r\n        }\r\n      &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;","title":"How to use th:each to pass a string to JavaScript code embedded in html page","body":"<p>The problem was solved. Here is a test code that displays in the message a link to the image of the button we clicked on.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Item name&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/resources/static/css/styles.css&quot;&gt;\n&lt;/head&gt;\n\n&lt;body style=&quot;margin: 0&quot;&gt;\n  &lt;div class=&quot;page&quot; style=&quot;margin: 0&quot;&gt;\n    &lt;div th:each=&quot;link, iStat : ${_links}&quot;&gt;\n      &lt;input type=&quot;image&quot; th:src=&quot;${link}&quot; value=&quot;Click me&quot; onclick=&quot;buttonClick(this)&quot;&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;script type=&quot;text/javascript&quot;&gt;\n    function buttonClick(e) {\n      var att = e.getAttribute('src');\n      alert(att);\n    }\n  &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Ð¡ÐµÑÐ³ÐµÐ¹"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643814936,"creation_date":1643381683,"question_id":70895712,"body_markdown":"I start by creating a test list with links to an image.\r\nThen I pass it to the model under the name _links\r\n\r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public String showItem(@PathVariable int id, Model model)\r\n        {\r\n            List&lt;String&gt; imageLinks = new ArrayList&lt;&gt;();\r\n            imageLinks.add(&quot;/resources/static/images/products/1/product_test_image.jpg&quot;);\r\n            imageLinks.add(&quot;/resources/static/images/products/1/product_test_image2.jpg&quot;);\r\n            imageLinks.add(&quot;/resources/static/images/products/1/product_test_image3.jpg&quot;);\r\n            \r\n            model.addAttribute(&quot;_links&quot;, imageLinks);\r\n            return &quot;item/item&quot;;\r\n        }\r\n\r\nThen, at a certain place in the html code, I draw the number of buttons equal to the number of pictures in the **_links** list.  \r\nI can pass the cycle number to the **imgSrc** method. But I can&#39;t pass the **link** string itself. When I try to send it, the page stops displaying normally. Therefore, this line is commented out.\r\n\r\n   \r\n        &lt;div th:each=&quot;link, iStat : ${_links}&quot;&gt;\r\n            &lt;span id=&quot;current_img&quot; th:text=&quot;${link}&quot;&gt;&lt;/span&gt;\r\n            &lt;input type=&quot;image&quot; th:src=&quot;${link}&quot; alt=&quot;miniature&quot; th:onclick=&quot;&#39;imgSrc(\\&#39;&#39; + ${iStat.index} + &#39;\\&#39;);&#39;&quot; style=&quot;width: 80px; height: 80px; margin: 3px&quot;&gt;\r\n       &lt;!-- &lt;input type=&quot;image&quot; th:src=&quot;${link}&quot; alt=&quot;miniature&quot; th:onclick=&quot;&#39;imgSrc(\\&#39;&#39; + ${link} + &#39;\\&#39;);&#39;&quot; style=&quot;width: 80px; height: 80px; margin: 3px&quot;&gt; --&gt;\r\n        &lt;/div&gt;\r\n\r\nAnd finally the method I&#39;m calling. The last line is commented out but it shows what I want to achieve.\r\nNamely, by clicking on the picture in the list, I want to change the large picture to the new one selected in the loop.\r\n\r\n    &lt;script language=&quot;JavaScript&quot;&gt;\r\n    \r\n                var selectedImage = document.getElementById(&quot;current_img&quot;);\r\n    \r\n                var mainImage = document.getElementById(&quot;main_product_image&quot;);\r\n                var debug = document.getElementById(&quot;debug&quot;);\r\n                var debug2 = document.getElementById(&quot;debug2&quot;);\r\n                \r\n                function imgSrc(link)\r\n                {\r\n                    mainImage.src = selectedImage.innerHTML;\r\n                    debug.innerHTML = selectedImage.innerHTML;\r\n                    debug2.innerHTML = link;\r\n    //                mainImage.src = link;\r\n                }\r\n    \r\n            &lt;/script&gt;\r\n  \r\n\r\nIt is curious that **link** is normally passed to **th:text**.   \r\nThanks in advance to all who answer.","title":"How to use th:each to pass a string to JavaScript code embedded in html page","body":"<p>I start by creating a test list with links to an image.\nThen I pass it to the model under the name _links</p>\n<pre><code>    @GetMapping(&quot;/{id}&quot;)\n    public String showItem(@PathVariable int id, Model model)\n    {\n        List&lt;String&gt; imageLinks = new ArrayList&lt;&gt;();\n        imageLinks.add(&quot;/resources/static/images/products/1/product_test_image.jpg&quot;);\n        imageLinks.add(&quot;/resources/static/images/products/1/product_test_image2.jpg&quot;);\n        imageLinks.add(&quot;/resources/static/images/products/1/product_test_image3.jpg&quot;);\n        \n        model.addAttribute(&quot;_links&quot;, imageLinks);\n        return &quot;item/item&quot;;\n    }\n</code></pre>\n<p>Then, at a certain place in the html code, I draw the number of buttons equal to the number of pictures in the <strong>_links</strong> list.<br />\nI can pass the cycle number to the <strong>imgSrc</strong> method. But I can't pass the <strong>link</strong> string itself. When I try to send it, the page stops displaying normally. Therefore, this line is commented out.</p>\n<pre><code>    &lt;div th:each=&quot;link, iStat : ${_links}&quot;&gt;\n        &lt;span id=&quot;current_img&quot; th:text=&quot;${link}&quot;&gt;&lt;/span&gt;\n        &lt;input type=&quot;image&quot; th:src=&quot;${link}&quot; alt=&quot;miniature&quot; th:onclick=&quot;'imgSrc(\\'' + ${iStat.index} + '\\');'&quot; style=&quot;width: 80px; height: 80px; margin: 3px&quot;&gt;\n   &lt;!-- &lt;input type=&quot;image&quot; th:src=&quot;${link}&quot; alt=&quot;miniature&quot; th:onclick=&quot;'imgSrc(\\'' + ${link} + '\\');'&quot; style=&quot;width: 80px; height: 80px; margin: 3px&quot;&gt; --&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>And finally the method I'm calling. The last line is commented out but it shows what I want to achieve.\nNamely, by clicking on the picture in the list, I want to change the large picture to the new one selected in the loop.</p>\n<pre><code>&lt;script language=&quot;JavaScript&quot;&gt;\n\n            var selectedImage = document.getElementById(&quot;current_img&quot;);\n\n            var mainImage = document.getElementById(&quot;main_product_image&quot;);\n            var debug = document.getElementById(&quot;debug&quot;);\n            var debug2 = document.getElementById(&quot;debug2&quot;);\n            \n            function imgSrc(link)\n            {\n                mainImage.src = selectedImage.innerHTML;\n                debug.innerHTML = selectedImage.innerHTML;\n                debug2.innerHTML = link;\n//                mainImage.src = link;\n            }\n\n        &lt;/script&gt;\n</code></pre>\n<p>It is curious that <strong>link</strong> is normally passed to <strong>th:text</strong>.<br />\nThanks in advance to all who answer.</p>\n"},{"tags":["java","spring-rabbit"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1643645860,"post_id":70928961,"comment_id":125389353,"body_markdown":"You need to show your code and configuration. If you are using Spring (and its listener container), the container will reconnect and create a new consumer. If you are not using Spring, the amqp-client should automatically handle the outage. Edit the question, do not attempt to put code/config in a comment; comment that you have made the edit so I get a notification.","body":"You need to show your code and configuration. If you are using Spring (and its listener container), the container will reconnect and create a new consumer. If you are not using Spring, the amqp-client should automatically handle the outage. Edit the question, do not attempt to put code/config in a comment; comment that you have made the edit so I get a notification."},{"owner":{"account_id":24111851,"reputation":11,"user_id":18082341,"display_name":"Angelmalza"},"score":0,"creation_date":1643659191,"post_id":70928961,"comment_id":125394672,"body_markdown":"Made edit to question.","body":"Made edit to question."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1643660393,"post_id":70928961,"comment_id":125395091,"body_markdown":"There is no such Boot property `spring.rabbitmq.autoRecoveryEnabled` (and it should be false for Spring anyway because it has its own recovery mechanism), or some of the others `concurrentNumberOfConsumers`. You need to show the beans where those properties are being used and exactly how you are consuming messages.","body":"There is no such Boot property <code>spring.rabbitmq.autoRecoveryEnabled</code> (and it should be false for Spring anyway because it has its own recovery mechanism), or some of the others <code>concurrentNumberOfConsumers</code>. You need to show the beans where those properties are being used and exactly how you are consuming messages."},{"owner":{"account_id":24111851,"reputation":11,"user_id":18082341,"display_name":"Angelmalza"},"score":0,"creation_date":1643814980,"post_id":70928961,"comment_id":125439966,"body_markdown":"Added code representing how messages are being consumed.","body":"Added code representing how messages are being consumed."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1643818104,"post_id":70928961,"comment_id":125441417,"body_markdown":"You don&#39;t show any listeners and I don&#39;t see you using those properties - that container factory configuration will cause the containers to attempt to reconnect (and recreate consumers every 5 seconds). DEBUG logging should help; if you can&#39;t figure it out, post a minimal, complete, reproducible example someplace so I can see what you are doing wrong.  https://stackoverflow.com/help/minimal-reproducible-example","body":"You don&#39;t show any listeners and I don&#39;t see you using those properties - that container factory configuration will cause the containers to attempt to reconnect (and recreate consumers every 5 seconds). DEBUG logging should help; if you can&#39;t figure it out, post a minimal, complete, reproducible example someplace so I can see what you are doing wrong.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":24111851,"reputation":11,"user_id":18082341,"display_name":"Angelmalza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643814903,"creation_date":1643644703,"question_id":70928961,"body_markdown":"After the SocketTimeoutException the consumers from the queue disappear and they don&#39;t come back. The messages in the queue are not lost. Using spring configurations:\r\n\r\n    spring.rabbitmq.connectionTimeoutInMillis=2000\r\n    spring.rabbitmq.autoRecoveryEnabled=true\r\n    spring.rabbitmq.topologyRecoveryEnabled=false\r\n    spring.rabbitmq.networkRecoveryIntervalInMillis=10000\r\n    spring.rabbitmq.heartbeatTimeoutInSeconds=5\r\n    spring.rabbitmq.concurrentNumberOfConsumers=2\r\n    spring.rabbitmq.maxNumberOfConsumers=10\r\n   \r\nUsing default Connection Factory from Spring AMQP RabbitMQ connection. This is how the listener Bean is created.\r\n\r\n    //Listener Configuration\r\n    @Bean\r\n    public SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(ConnectionFactory connectionFactory) {\r\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n\t\tfactory.setConnectionFactory(connectionFactory);\r\n\t\tfactory.setConcurrentConsumers(2);\r\n\t\tfactory.setMaxConcurrentConsumers(10);\r\n\t\tConsumer&lt;SimpleMessageListenerContainer&gt; configurer = c -&gt; c.setShutdownTimeout(600); \r\n\t\tfactory.setContainerConfigurer(configurer);\r\n\t\tfactory.setAdviceChain(workMessagesRetryInterceptor());\r\n\t\treturn factory;\r\n    }\r\n\r\n    //Listener handler logic\r\n\r\n    try {\r\n\r\n    genericService.sendMessage(message);\r\n\r\n    } catch (Exception e) {\r\n\r\n    throw new CustomException();\r\n\r\n    } catch (RequeueableException e) {\r\n\r\n    throw new CustomException();\r\n\r\n    } catch (GenericException ge){\r\n\r\n    message.setRetry(Message.retry);\r\n\tretryService.sendMessageToRetryQueue(message);\r\n\r\n    } catch (Throwable e) {\r\n\r\n    throw new CustomException();\r\n    }\r\n\r\n    // genericService.sendMessage(message) logic\r\n\r\n    try {\r\n\r\n    doSomething();\r\n\r\n    } catch (RequeueableException re){\r\n\r\n    throw re;\r\n\r\n    } catch (NonRequeueableException nre){\r\n\r\n    throw nre;\r\n\r\n    } catch (Throwable t){\r\n\r\n    throw new NonRequeueableException(t);\r\n\r\n    } finally {\r\n\r\n    //Handle finally \r\n\r\n    }\r\n\r\n    //doSomething() logic\r\n\r\n    try  {\r\n\r\n    // This method call will cause SocketTimeoutException\r\n\t// Then it will come to catch block\r\n\txUtil.callAPI(message);\r\n\r\n    } catch(final Throwable t) {\r\n\r\n    throw new RequeueableException(t);\r\n\r\n    }\r\n\r\n \r\nIs there a way to make the consumers reappear? ","title":"RabbitMQ Consumers disappear due to SocketTimeoutException","body":"<p>After the SocketTimeoutException the consumers from the queue disappear and they don't come back. The messages in the queue are not lost. Using spring configurations:</p>\n<pre><code>spring.rabbitmq.connectionTimeoutInMillis=2000\nspring.rabbitmq.autoRecoveryEnabled=true\nspring.rabbitmq.topologyRecoveryEnabled=false\nspring.rabbitmq.networkRecoveryIntervalInMillis=10000\nspring.rabbitmq.heartbeatTimeoutInSeconds=5\nspring.rabbitmq.concurrentNumberOfConsumers=2\nspring.rabbitmq.maxNumberOfConsumers=10\n</code></pre>\n<p>Using default Connection Factory from Spring AMQP RabbitMQ connection. This is how the listener Bean is created.</p>\n<pre><code>//Listener Configuration\n@Bean\npublic SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(ConnectionFactory connectionFactory) {\nSimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory);\n    factory.setConcurrentConsumers(2);\n    factory.setMaxConcurrentConsumers(10);\n    Consumer&lt;SimpleMessageListenerContainer&gt; configurer = c -&gt; c.setShutdownTimeout(600); \n    factory.setContainerConfigurer(configurer);\n    factory.setAdviceChain(workMessagesRetryInterceptor());\n    return factory;\n}\n\n//Listener handler logic\n\ntry {\n\ngenericService.sendMessage(message);\n\n} catch (Exception e) {\n\nthrow new CustomException();\n\n} catch (RequeueableException e) {\n\nthrow new CustomException();\n\n} catch (GenericException ge){\n\nmessage.setRetry(Message.retry);\nretryService.sendMessageToRetryQueue(message);\n\n} catch (Throwable e) {\n\nthrow new CustomException();\n}\n\n// genericService.sendMessage(message) logic\n\ntry {\n\ndoSomething();\n\n} catch (RequeueableException re){\n\nthrow re;\n\n} catch (NonRequeueableException nre){\n\nthrow nre;\n\n} catch (Throwable t){\n\nthrow new NonRequeueableException(t);\n\n} finally {\n\n//Handle finally \n\n}\n\n//doSomething() logic\n\ntry  {\n\n// This method call will cause SocketTimeoutException\n// Then it will come to catch block\nxUtil.callAPI(message);\n\n} catch(final Throwable t) {\n\nthrow new RequeueableException(t);\n\n}\n</code></pre>\n<p>Is there a way to make the consumers reappear?</p>\n"},{"tags":["java","apache-kafka","kura"],"comments":[{"owner":{"account_id":4459563,"reputation":77,"user_id":3628865,"display_name":"Rusiru Adithya Samarasinghe"},"score":0,"creation_date":1643783271,"post_id":70950835,"comment_id":125427834,"body_markdown":"Inspect the stack trace and you might be able to pinpoint where the NullPointer is thrown. Link in @tgdavis&#39;s post has a the answer to how to pinpoint Exception.","body":"Inspect the stack trace and you might be able to pinpoint where the NullPointer is thrown. Link in @tgdavis&#39;s post has a the answer to how to pinpoint Exception."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643814829,"post_id":70950835,"comment_id":125439900,"body_markdown":"Kafka 2.8.2 should work fine on Java 8, but it officially supports 11, or maybe higher. That&#39;s also not the latest version","body":"Kafka 2.8.2 should work fine on Java 8, but it officially supports 11, or maybe higher. That&#39;s also not the latest version"}],"owner":{"account_id":24128863,"reputation":1,"user_id":18096733,"display_name":"rajimol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643814770,"answer_count":0,"score":0,"last_activity_date":1643814744,"creation_date":1643779364,"question_id":70950835,"body_markdown":"\r\n\r\nI am trying to run kafka producer on kura. While running same program with kafka 0.8.2 jar file in kura, it was successfully working. But when i tried everything in latest version(2.8.2) of kafka, it shows this error. &quot;Error occurred while initializing Kafka. Error: java.lang.NullPointerException&quot;.  I am trying to run with java version 8 in eclipse. Does kafka having any dependency on java version?\r\n\r\n\r\n    public class Kafka\r\n    {\r\n    KafkaProducer&lt; String, String &gt; producer;\r\n    Properties p = new Properties();\r\n    int gvolume=100000,inventorytracker=0, nvolume, \r\n\r\n    temperature=0,api=0,level=0,capacityfilled = 0, apisg=0, gvolumeusable =0, nvolumeusable =0;\r\n\r\n\r\n    public void config(String bootstrap, String topic)\r\n    {\r\n    try\r\n    {\r\n    p=new Properties();\r\n    p.setProperty(&quot;bootstrap.servers&quot;,bootstrap);\r\n    p.setProperty(&quot;kafka.topic.name&quot;, topic);\r\n    p.setProperty(&quot;transactional.id&quot;, &quot;1&quot;);\r\n    producer = new KafkaProducer &lt; String, String &gt; (p, new StringSerializer(), new StringSerializer());\r\n    SendData(bootstrap, topic);\r\n    }\r\n    catch(Exception e)\r\n    {\r\n    System.out.println(&quot;Error occured while initializing Kafka. Error: &quot;+e);\r\n    }\r\n    }\r\n    \r\n    \r\n    \r\n    public void publish(String message)\r\n    {\r\n    System.out.println(&quot;Sending message : &quot; + message);\r\n    try\r\n    {\r\n    ProducerRecord &lt; String, String &gt; record = new ProducerRecord &lt;String, String &gt; (p.getProperty(&quot;kafka.topic.name&quot;), message);\r\n    producer.send(record);\r\n    System.out.println(message + record);\r\n    }\r\n    catch (Exception e)\r\n    {\r\n    System.out.println(&quot;Error: &quot; + e);\r\n    }\r\n    \r\n    }\r\n    \r\n    public void SendData(String bootstrap, String topic)\r\n    {\r\n    Timer timer = new Timer();\r\n    TimerTask task = new TimerTask(){\r\n    public void run()\r\n    {\r\n    String message = &quot;{\\&quot;height\\&quot;:&quot;+56+&quot;, \\&quot;diameter\\&quot;:&quot;+115+&quot;, \\&quot;setpoint\\&quot;:&quot;+5.9+&quot;, \\&quot;usablelow\\&quot;:&quot;+5.9+&quot;, \\&quot;product\\&quot;:\\&quot;JET-A\\&quot;,\\&quot;tanknominalcapacity\\&quot;:&quot;+4200000+&quot;, \\&quot;year\\&quot;:&quot;+2003+&quot;, \\&quot;status\\&quot;:\\&quot;Online\\&quot;, \\&quot;gvolume\\&quot;:&quot;+gvolume+&quot;, \\&quot;nvolume\\&quot;:&quot;+nvolume+&quot;, \\&quot;level\\&quot;:&quot;+level+&quot;, &quot;\r\n    + &quot;\\&quot;temperature\\&quot;:&quot;+temperature+&quot;, \\&quot;capacityfilled\\&quot;:&quot;+capacityfilled+&quot;, \\&quot;inventorytracker\\&quot;:&quot;+inventorytracker+&quot;, \\&quot;apisg\\&quot;:&quot;+apisg+&quot;, \\&quot;gvolumeusable\\&quot;:&quot;+gvolumeusable+&quot;, \\&quot;nvolumeusable\\&quot;:&quot;+nvolumeusable+&quot;}&quot;;\r\n    publish(message);\r\n    level++;\r\n    temperature = temperature+2;\r\n    apisg = apisg+2;\r\n    gvolume = 100000+gvolume;\r\n    nvolume = 100000+nvolume;\r\n    gvolumeusable = gvolume-100000;\r\n    nvolumeusable = nvolume-100000;\r\n    inventorytracker = 100000+inventorytracker;\r\n    capacityfilled = 5 + capacityfilled;\r\n    if(capacityfilled &gt;= 100) capacityfilled=5;\r\n    if(gvolume &gt;= 10000000) gvolume=100000;\r\n    if(inventorytracker &gt;= 100000000) inventorytracker=100000;\r\n    if(level &gt;= 28) level=0;\r\n    if(apisg &gt;= 28) apisg=0;\r\n    if(nvolume &gt;= 10000000) nvolume=100000;\r\n    if(temperature &gt;= 180) temperature=42;\r\n    }\r\n    };\r\n    timer.schedule(task, 2000, 5000);\r\n    }\r\n    }\r\n\r\n","title":"Error occured while initializing Kafka. Error: java.lang.NullPointerException","body":"<p>I am trying to run kafka producer on kura. While running same program with kafka 0.8.2 jar file in kura, it was successfully working. But when i tried everything in latest version(2.8.2) of kafka, it shows this error. &quot;Error occurred while initializing Kafka. Error: java.lang.NullPointerException&quot;.  I am trying to run with java version 8 in eclipse. Does kafka having any dependency on java version?</p>\n<pre><code>public class Kafka\n{\nKafkaProducer&lt; String, String &gt; producer;\nProperties p = new Properties();\nint gvolume=100000,inventorytracker=0, nvolume, \n\ntemperature=0,api=0,level=0,capacityfilled = 0, apisg=0, gvolumeusable =0, nvolumeusable =0;\n\n\npublic void config(String bootstrap, String topic)\n{\ntry\n{\np=new Properties();\np.setProperty(&quot;bootstrap.servers&quot;,bootstrap);\np.setProperty(&quot;kafka.topic.name&quot;, topic);\np.setProperty(&quot;transactional.id&quot;, &quot;1&quot;);\nproducer = new KafkaProducer &lt; String, String &gt; (p, new StringSerializer(), new StringSerializer());\nSendData(bootstrap, topic);\n}\ncatch(Exception e)\n{\nSystem.out.println(&quot;Error occured while initializing Kafka. Error: &quot;+e);\n}\n}\n\n\n\npublic void publish(String message)\n{\nSystem.out.println(&quot;Sending message : &quot; + message);\ntry\n{\nProducerRecord &lt; String, String &gt; record = new ProducerRecord &lt;String, String &gt; (p.getProperty(&quot;kafka.topic.name&quot;), message);\nproducer.send(record);\nSystem.out.println(message + record);\n}\ncatch (Exception e)\n{\nSystem.out.println(&quot;Error: &quot; + e);\n}\n\n}\n\npublic void SendData(String bootstrap, String topic)\n{\nTimer timer = new Timer();\nTimerTask task = new TimerTask(){\npublic void run()\n{\nString message = &quot;{\\&quot;height\\&quot;:&quot;+56+&quot;, \\&quot;diameter\\&quot;:&quot;+115+&quot;, \\&quot;setpoint\\&quot;:&quot;+5.9+&quot;, \\&quot;usablelow\\&quot;:&quot;+5.9+&quot;, \\&quot;product\\&quot;:\\&quot;JET-A\\&quot;,\\&quot;tanknominalcapacity\\&quot;:&quot;+4200000+&quot;, \\&quot;year\\&quot;:&quot;+2003+&quot;, \\&quot;status\\&quot;:\\&quot;Online\\&quot;, \\&quot;gvolume\\&quot;:&quot;+gvolume+&quot;, \\&quot;nvolume\\&quot;:&quot;+nvolume+&quot;, \\&quot;level\\&quot;:&quot;+level+&quot;, &quot;\n+ &quot;\\&quot;temperature\\&quot;:&quot;+temperature+&quot;, \\&quot;capacityfilled\\&quot;:&quot;+capacityfilled+&quot;, \\&quot;inventorytracker\\&quot;:&quot;+inventorytracker+&quot;, \\&quot;apisg\\&quot;:&quot;+apisg+&quot;, \\&quot;gvolumeusable\\&quot;:&quot;+gvolumeusable+&quot;, \\&quot;nvolumeusable\\&quot;:&quot;+nvolumeusable+&quot;}&quot;;\npublish(message);\nlevel++;\ntemperature = temperature+2;\napisg = apisg+2;\ngvolume = 100000+gvolume;\nnvolume = 100000+nvolume;\ngvolumeusable = gvolume-100000;\nnvolumeusable = nvolume-100000;\ninventorytracker = 100000+inventorytracker;\ncapacityfilled = 5 + capacityfilled;\nif(capacityfilled &gt;= 100) capacityfilled=5;\nif(gvolume &gt;= 10000000) gvolume=100000;\nif(inventorytracker &gt;= 100000000) inventorytracker=100000;\nif(level &gt;= 28) level=0;\nif(apisg &gt;= 28) apisg=0;\nif(nvolume &gt;= 10000000) nvolume=100000;\nif(temperature &gt;= 180) temperature=42;\n}\n};\ntimer.schedule(task, 2000, 5000);\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","azure-aks","jprofiler","openjdk-11"],"owner":{"account_id":11669371,"reputation":96,"user_id":8545033,"display_name":"Alec Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643814619,"creation_date":1639653836,"question_id":70378163,"body_markdown":"We are trying to monitor a spring boot application that is deployed in the azure kubernetes cluster but the java profile can&#39;t monitor it since the JVM is not exposed. Also, I checked the running services in the pod/container but I did not see any JVM process that is listening to a port.\r\n\r\nPlease check the gradle steps we do when building the docker image:\r\n```\r\ndocker {\r\n    springBootApplication {\r\n        baseImage = &#39;openjdk:11-jdk-slim&#39;\r\n        ports = [8080]\r\n \t\timages= [&quot;docker_image&quot;]\r\n        jvmArgs = [&#39;-Djava.security.egd=file:/dev/./urandom&#39;]\r\n    }\r\n}\r\n```","title":"Is there any way to use a java profiler for spring boot application that is deployed in azure kubernetes service?","body":"<p>We are trying to monitor a spring boot application that is deployed in the azure kubernetes cluster but the java profile can't monitor it since the JVM is not exposed. Also, I checked the running services in the pod/container but I did not see any JVM process that is listening to a port.</p>\n<p>Please check the gradle steps we do when building the docker image:</p>\n<pre><code>docker {\n    springBootApplication {\n        baseImage = 'openjdk:11-jdk-slim'\n        ports = [8080]\n        images= [&quot;docker_image&quot;]\n        jvmArgs = ['-Djava.security.egd=file:/dev/./urandom']\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11860024,"reputation":1493,"user_id":8678978,"display_name":"chrisbyte"},"score":3,"creation_date":1643812926,"post_id":70957567,"comment_id":125438979,"body_markdown":"You don&#39;t need `break` in your final for loop after `System.out.println(ingredient)`, that will stop after only one iteration (your first item).","body":"You don&#39;t need <code>break</code> in your final for loop after <code>System.out.println(ingredient)</code>, that will stop after only one iteration (your first item)."},{"owner":{"account_id":21957568,"reputation":1,"user_id":16235909,"display_name":"ThatGuy"},"score":1,"creation_date":1643814164,"post_id":70957567,"comment_id":125439601,"body_markdown":"you are right i changed it to, System.out.println(&quot;Here is a list of the ingredients you entered: &quot;);\n        for (int i = 0; i &lt; ingredientList.size(); i++) {\n           \n            newIngredient = ingredientList.get(i);\n            System.out.println(newIngredient);\n            \n        }","body":"you are right i changed it to, System.out.println(&quot;Here is a list of the ingredients you entered: &quot;);         for (int i = 0; i &lt; ingredientList.size(); i++) {                         newIngredient = ingredientList.get(i);             System.out.println(newIngredient);                      }"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643814570,"creation_date":1643814570,"answer_id":70958034,"question_id":70957567,"body_markdown":"The `break` in the for-loop prematurely ends the loop.\r\n\r\n    for (int i = 0; i &lt; ingredientList.size(); i++) {\r\n        String ingredient = ingredientList.get(i);\r\n        System.out.println(ingredient);\r\n        break;\r\n    }\r\n\r\nRemove that `break` and it should iterate over all of the elements in the List.  Note that you can simplify the iteration with either a for-each loop...\r\n\r\n    for (String ingredient : ingredientList) {\r\n      System.out.println(ingredient);\r\n    }\r\n\r\n.. or using the Stream API ..\r\n\r\n    ingredientList.stream().forEach(ingredient -&gt; System.out.println(ingredient));","title":"I am having an issue getting my for loop to print all eements of my array in this program","body":"<p>The <code>break</code> in the for-loop prematurely ends the loop.</p>\n<pre><code>for (int i = 0; i &lt; ingredientList.size(); i++) {\n    String ingredient = ingredientList.get(i);\n    System.out.println(ingredient);\n    break;\n}\n</code></pre>\n<p>Remove that <code>break</code> and it should iterate over all of the elements in the List.  Note that you can simplify the iteration with either a for-each loop...</p>\n<pre><code>for (String ingredient : ingredientList) {\n  System.out.println(ingredient);\n}\n</code></pre>\n<p>.. or using the Stream API ..</p>\n<pre><code>ingredientList.stream().forEach(ingredient -&gt; System.out.println(ingredient));\n</code></pre>\n"}],"owner":{"account_id":21957568,"reputation":1,"user_id":16235909,"display_name":"ThatGuy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70958034,"answer_count":1,"score":0,"last_activity_date":1643814570,"creation_date":1643812763,"question_id":70957567,"body_markdown":"    \r\nI cant get my array for ingredients to print in the end where the for loop is, it only prints the first element which is the first ingredient entered.\r\n\r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&#39;\r\n\r\n    public static void main(String[] args) {\r\n       Scanner scnr = new Scanner(System.in);\r\n       String recipeName = &quot;&quot;;\r\n       ArrayList&lt;String&gt; ingredientList = new ArrayList();\r\n       //String newIngredient = &quot;&quot;;\r\n       boolean addMoreIngredients = true;\r\n       \r\n       System.out.println(&quot;Please enter the recipe name: &quot;);\r\n       recipeName = scnr.nextLine();\r\n    \r\n         OuterLoop:  \r\n         \r\n         do {\r\n             System.out.println(&quot;Would you like to enter an ingredient? (y or n)&quot;);\r\n            String reply = scnr.nextLine().toLowerCase();\r\n             switch (reply) \r\n                \r\n                case &quot;y&quot; :\r\n                    System.out.println(&quot;Please Enter Ingredient Name: &quot;);\r\n                    ingredientList.add(scnr.nextLine()); \r\n                   //Stores/add&#39;s user input in ingredient list array\r\n                    break; //Breaks to &quot;Would you like to enter more ingredients\r\n                \r\n                case &quot;yes&quot; :\r\n                    System.out.println(&quot;Please Enter Ingredient Name: &quot;);\r\n                    ingredientList.add(scnr.nextLine()); \r\n                       \r\n                    break; //Breaks to &quot;Would you like to enter more ingredients\r\n                \r\n                case &quot;no&quot;:\r\n                    break OuterLoop; //Break to end program if n selected \r\n                \r\n                case &quot;n&quot;:\r\n                    break OuterLoop; //Break to end program if n selected \r\n                \r\n                default:\r\n                    System.out.println(&quot;Invalid entry, please enter Y or N&quot;);\r\n                    break;  //Breaks to &quot;Would you like to enter more ingredients\r\n            }\r\n            \r\n            \r\n          } while (addMoreIngredients); \r\n         \r\n        \r\n       \r\n\r\n        for (int i = 0; i &lt; ingredientList.size(); i++) {\r\n           \r\n            String ingredient = ingredientList.get(i);\r\n            System.out.println(ingredient);\r\n            break;\r\n        }\r\n    }\r\n    }","title":"I am having an issue getting my for loop to print all eements of my array in this program","body":"<p>I cant get my array for ingredients to print in the end where the for loop is, it only prints the first element which is the first ingredient entered.</p>\n<p>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;'</p>\n<pre><code>public static void main(String[] args) {\n   Scanner scnr = new Scanner(System.in);\n   String recipeName = &quot;&quot;;\n   ArrayList&lt;String&gt; ingredientList = new ArrayList();\n   //String newIngredient = &quot;&quot;;\n   boolean addMoreIngredients = true;\n   \n   System.out.println(&quot;Please enter the recipe name: &quot;);\n   recipeName = scnr.nextLine();\n\n     OuterLoop:  \n     \n     do {\n         System.out.println(&quot;Would you like to enter an ingredient? (y or n)&quot;);\n        String reply = scnr.nextLine().toLowerCase();\n         switch (reply) \n            \n            case &quot;y&quot; :\n                System.out.println(&quot;Please Enter Ingredient Name: &quot;);\n                ingredientList.add(scnr.nextLine()); \n               //Stores/add's user input in ingredient list array\n                break; //Breaks to &quot;Would you like to enter more ingredients\n            \n            case &quot;yes&quot; :\n                System.out.println(&quot;Please Enter Ingredient Name: &quot;);\n                ingredientList.add(scnr.nextLine()); \n                   \n                break; //Breaks to &quot;Would you like to enter more ingredients\n            \n            case &quot;no&quot;:\n                break OuterLoop; //Break to end program if n selected \n            \n            case &quot;n&quot;:\n                break OuterLoop; //Break to end program if n selected \n            \n            default:\n                System.out.println(&quot;Invalid entry, please enter Y or N&quot;);\n                break;  //Breaks to &quot;Would you like to enter more ingredients\n        }\n        \n        \n      } while (addMoreIngredients); \n     \n    \n   \n\n    for (int i = 0; i &lt; ingredientList.size(); i++) {\n       \n        String ingredient = ingredientList.get(i);\n        System.out.println(ingredient);\n        break;\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","websphere"],"owner":{"account_id":21368164,"reputation":71,"user_id":15736063,"display_name":"ImiChau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3089,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1643814306,"creation_date":1643814306,"question_id":70957956,"body_markdown":"We are migrating a web app from log4j to log4j2.\r\n\r\nThe app was using SLF4J and including this dependencies:\r\n\r\n - log4j\r\n - slf4j-api\r\n - slf4j-log4j12\r\n - jcl-over-slf4j\r\n\r\nAnd excluding all possible reference to commons-logging.\r\n\r\nWe replaced the old log4j dependencies by:\r\n\r\n - log4j-api\r\n - log4j-core\r\n - log4j-slf4j-impl\r\n - log4j-web\r\n\r\nThe log configuration file is load using a servlet.\r\n\r\nDeploying de EAR file in Websphere we are having this exception:\r\n```\r\nERROR StatusLogger An exception occurred processing Appender rollingFileMijntoekomst\r\n java.lang.ClassCastException: java.lang.String incompatible with java.util.Map$Entry\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.appendMap(ParameterFormatter.java:563)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.appendPotentiallyRecursiveValue(ParameterFormatter.java:498)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:456)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:189)\r\n\tat org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:228)\r\n\tat org.apache.logging.log4j.core.pattern.MessagePatternConverter.format(MessagePatternConverter.java:120)\r\n\tat org.apache.logging.log4j.core.pattern.PatternFormatter.format(PatternFormatter.java:38)\r\n\tat org.apache.logging.log4j.core.layout.PatternLayout$PatternSerializer.toSerializable(PatternLayout.java:341)\r\n\tat org.apache.logging.log4j.core.layout.PatternLayout.toText(PatternLayout.java:240)\r\n\tat org.apache.logging.log4j.core.layout.PatternLayout.encode(PatternLayout.java:225)\r\n\tat org.apache.logging.log4j.core.layout.PatternLayout.encode(PatternLayout.java:59)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:197)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\r\n\tat org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:312)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:156)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:129)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:120)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:84)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:543)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:502)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:485)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:460)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:162)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2190)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2144)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2127)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2020)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1891)\r\n\tat org.apache.logging.slf4j.Log4jLogger.info(Log4jLogger.java:184)\r\n```\r\nThis is the log4j.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;debug&quot; strict=&quot;true&quot;\r\n\tname=&quot;XMLConfigTest&quot;&gt;\r\n\r\n\t&lt;Properties&gt;\r\n\t\t&lt;Property name=&quot;filenameApp&quot;&gt;${sys:wotap.app.logs}/app-${sys:SERVER_NAME}${sys:logfilenaam_aparte_contextroot}.AppNew.log&lt;/Property&gt;\r\n\t&lt;/Properties&gt;\r\n\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Appender type=&quot;Console&quot; name=&quot;STDOUT&quot;&gt;\r\n\t\t\t&lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;%d %p [%c] - %m%n&quot; /&gt;\r\n\t\t&lt;/Appender&gt;\r\n\r\n\t\t&lt;RollingFile name=&quot;rollingFileApp&quot; fileName=&quot;${filenameApp}&quot; filePattern=&quot;${filenameApp}.%d{yyyy-MM-dd}&quot; ignoreExceptions=&quot;false&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%d [%t] %-5p (%F:%L) - %m%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; /&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger\r\n\t\t\tname=&quot;org.apache.logging.log4j.core.appender.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;STDOUT&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\r\n\t\t&lt;Logger name=&quot;web.app.example&quot; level=&quot;debug&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;rollingFileApp&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t\r\n\t\t&lt;Logger name=&quot;org.springframework.ws.server.MessageTracing&quot; level=&quot;debug&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;rollingFileApp&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t\r\n\t\t&lt;Logger name=&quot;org.springframework.ws.client.MessageTracing&quot; level=&quot;debug&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;rollingFileApp&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\r\n\t\t&lt;Root level=&quot;debug&quot;&gt;\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n\r\n```\r\n\r\nAny idea bout where is the error?\r\n","title":"ERROR StatusLogger An exception occurred processing Appender","body":"<p>We are migrating a web app from log4j to log4j2.</p>\n<p>The app was using SLF4J and including this dependencies:</p>\n<ul>\n<li>log4j</li>\n<li>slf4j-api</li>\n<li>slf4j-log4j12</li>\n<li>jcl-over-slf4j</li>\n</ul>\n<p>And excluding all possible reference to commons-logging.</p>\n<p>We replaced the old log4j dependencies by:</p>\n<ul>\n<li>log4j-api</li>\n<li>log4j-core</li>\n<li>log4j-slf4j-impl</li>\n<li>log4j-web</li>\n</ul>\n<p>The log configuration file is load using a servlet.</p>\n<p>Deploying de EAR file in Websphere we are having this exception:</p>\n<pre><code>ERROR StatusLogger An exception occurred processing Appender rollingFileMijntoekomst\n java.lang.ClassCastException: java.lang.String incompatible with java.util.Map$Entry\n    at org.apache.logging.log4j.message.ParameterFormatter.appendMap(ParameterFormatter.java:563)\n    at org.apache.logging.log4j.message.ParameterFormatter.appendPotentiallyRecursiveValue(ParameterFormatter.java:498)\n    at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:456)\n    at org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:189)\n    at org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:228)\n    at org.apache.logging.log4j.core.pattern.MessagePatternConverter.format(MessagePatternConverter.java:120)\n    at org.apache.logging.log4j.core.pattern.PatternFormatter.format(PatternFormatter.java:38)\n    at org.apache.logging.log4j.core.layout.PatternLayout$PatternSerializer.toSerializable(PatternLayout.java:341)\n    at org.apache.logging.log4j.core.layout.PatternLayout.toText(PatternLayout.java:240)\n    at org.apache.logging.log4j.core.layout.PatternLayout.encode(PatternLayout.java:225)\n    at org.apache.logging.log4j.core.layout.PatternLayout.encode(PatternLayout.java:59)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:197)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\n    at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:312)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:156)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:129)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:120)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:84)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:543)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:502)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:485)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:460)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:162)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2190)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2144)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2127)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2020)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1891)\n    at org.apache.logging.slf4j.Log4jLogger.info(Log4jLogger.java:184)\n</code></pre>\n<p>This is the log4j.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;debug&quot; strict=&quot;true&quot;\n    name=&quot;XMLConfigTest&quot;&gt;\n\n    &lt;Properties&gt;\n        &lt;Property name=&quot;filenameApp&quot;&gt;${sys:wotap.app.logs}/app-${sys:SERVER_NAME}${sys:logfilenaam_aparte_contextroot}.AppNew.log&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;Appender type=&quot;Console&quot; name=&quot;STDOUT&quot;&gt;\n            &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;%d %p [%c] - %m%n&quot; /&gt;\n        &lt;/Appender&gt;\n\n        &lt;RollingFile name=&quot;rollingFileApp&quot; fileName=&quot;${filenameApp}&quot; filePattern=&quot;${filenameApp}.%d{yyyy-MM-dd}&quot; ignoreExceptions=&quot;false&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d [%t] %-5p (%F:%L) - %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger\n            name=&quot;org.apache.logging.log4j.core.appender.ConsoleAppender&quot;&gt;\n            &lt;AppenderRef ref=&quot;STDOUT&quot; /&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=&quot;web.app.example&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;rollingFileApp&quot; /&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Logger name=&quot;org.springframework.ws.server.MessageTracing&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;rollingFileApp&quot; /&gt;\n        &lt;/Logger&gt;\n        \n        &lt;Logger name=&quot;org.springframework.ws.client.MessageTracing&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;rollingFileApp&quot; /&gt;\n        &lt;/Logger&gt;\n\n        &lt;Root level=&quot;debug&quot;&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n\n</code></pre>\n<p>Any idea bout where is the error?</p>\n"},{"tags":["java","spring","spring-boot","properties-file"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643820526,"post_id":70957941,"comment_id":125442500,"body_markdown":"I would say that https://stackoverflow.com/questions/10783523/java-resourcebundle-leading-whitespace-in-values is a duplicate for this.","body":"I would say that <a href=\"https://stackoverflow.com/questions/10783523/java-resourcebundle-leading-whitespace-in-values\" title=\"java resourcebundle leading whitespace in values\">stackoverflow.com/questions/10783523/&hellip;</a> is a duplicate for this."}],"owner":{"account_id":8891916,"reputation":27,"user_id":6638166,"display_name":"nikhil2050"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643814229,"creation_date":1643814229,"question_id":70957941,"body_markdown":"Spring Boot application does not consider a space in prefix or suffix in the value for a key in application.properties file.\r\n\r\nBoth of the following are same for the Spring Boot:\r\n\r\n - app.my-key=[space]my value[space]\r\n - app.my-key=my value\r\n\r\nI tried enclosing the value in single quote and double quotes as follows but it doesn&#39;t work:\r\n - app.my-key=&#39; my value &#39;\r\n - app.my-key=&quot; my value &quot;\r\n\r\n","title":"How to add a space in prefix and suffix of the value in application.properties file in Spring Boot?","body":"<p>Spring Boot application does not consider a space in prefix or suffix in the value for a key in application.properties file.</p>\n<p>Both of the following are same for the Spring Boot:</p>\n<ul>\n<li>app.my-key=[space]my value[space]</li>\n<li>app.my-key=my value</li>\n</ul>\n<p>I tried enclosing the value in single quote and double quotes as follows but it doesn't work:</p>\n<ul>\n<li>app.my-key=' my value '</li>\n<li>app.my-key=&quot; my value &quot;</li>\n</ul>\n"},{"tags":["java","android","resources","warnings"],"comments":[{"owner":{"account_id":4626602,"reputation":3739,"user_id":3750257,"display_name":"pppery"},"score":2,"creation_date":1643839977,"post_id":70957685,"comment_id":125449613,"body_markdown":"[Don&#39;t post images of error messages](https://meta.stackoverflow.com/q/285551/3750257)","body":"<a href=\"https://meta.stackoverflow.com/q/285551/3750257\">Don&#39;t post images of error messages</a>"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643814200,"creation_date":1643814200,"answer_id":70957933,"question_id":70957685,"body_markdown":"If you override the layout resource, a new copy of it is created with configuration qualifiers. In this case, `layout-v26`. This version of the resource is used on API level 26 and above while the qualifier-free version in `layout` is the default.\r\n\r\nFor issues like this you probably don&#39;t want to do that as then you have one more version of the layout to maintain.\r\n\r\nUnknown XML attributes are ignored at runtime, so the problem is only that the attribute does nothing on pre-v26 runtimes. If that&#39;s fine, then you can just ignore the warning with `tools:ignore=&quot;UnusedAttribute&quot;`.","title":"Android: override Resource in layout","body":"<p>If you override the layout resource, a new copy of it is created with configuration qualifiers. In this case, <code>layout-v26</code>. This version of the resource is used on API level 26 and above while the qualifier-free version in <code>layout</code> is the default.</p>\n<p>For issues like this you probably don't want to do that as then you have one more version of the layout to maintain.</p>\n<p>Unknown XML attributes are ignored at runtime, so the problem is only that the attribute does nothing on pre-v26 runtimes. If that's fine, then you can just ignore the warning with <code>tools:ignore=&quot;UnusedAttribute&quot;</code>.</p>\n"}],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643814200,"creation_date":1643813203,"question_id":70957685,"body_markdown":"Sometimes I see a warning like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat happen if I override or not the layout Resource?\r\n\r\n  [1]: https://i.stack.imgur.com/9xrho.png","title":"Android: override Resource in layout","body":"<p>Sometimes I see a warning like this:</p>\n<p><a href=\"https://i.stack.imgur.com/9xrho.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9xrho.png\" alt=\"enter image description here\" /></a></p>\n<p>What happen if I override or not the layout Resource?</p>\n"},{"tags":["java","jprofiler"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643813913,"creation_date":1643813913,"answer_id":70957865,"question_id":70957026,"body_markdown":"The profiling data lives in the profiling agent that runs inside the JVM process. If that process dies, the profiling information is gone. There is no way to save a JProfiler snapshot when an OOME occurs. Things you can do are\r\n\r\n1) Pass the \r\n\r\n       -XX:+HeapDumpOnOutOfMemoryError\r\n\r\n   VM parameter to the JVM in order to capture a HPROF heap snapshot exactly when the OOME occurs. You can open HPROF snapshots in JProfiler.\r\n\r\n2) Add a &quot;Heap usage threshold trigger&quot; in JProfiler and set the threshold to something like 90%. A JProfiler snapshot will be saved at that threshold which should allow you to analyze a memory leak.","title":"JProfiler - losing results on JVM OOM","body":"<p>The profiling data lives in the profiling agent that runs inside the JVM process. If that process dies, the profiling information is gone. There is no way to save a JProfiler snapshot when an OOME occurs. Things you can do are</p>\n<ol>\n<li><p>Pass the</p>\n<pre><code>-XX:+HeapDumpOnOutOfMemoryError\n</code></pre>\n<p>VM parameter to the JVM in order to capture a HPROF heap snapshot exactly when the OOME occurs. You can open HPROF snapshots in JProfiler.</p>\n</li>\n<li><p>Add a &quot;Heap usage threshold trigger&quot; in JProfiler and set the threshold to something like 90%. A JProfiler snapshot will be saved at that threshold which should allow you to analyze a memory leak.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643813913,"creation_date":1643810631,"question_id":70957026,"body_markdown":"Is it possible to make JProfiler not loose results when JVM exits? I&#39;m trying to profile OOM, and as soon as JVM gets OOM, profiler looses all the data.","title":"JProfiler - losing results on JVM OOM","body":"<p>Is it possible to make JProfiler not loose results when JVM exits? I'm trying to profile OOM, and as soon as JVM gets OOM, profiler looses all the data.</p>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1643813609,"post_id":70956085,"comment_id":125439331,"body_markdown":"That sort of verification is called a captcha, or in this case it&#39;s re-captcha, so you might find an answer in: https://stackoverflow.com/search?q=%5Bfirebase-authentication%5D%5Bandroid%5D+recaptcha","body":"That sort of verification is called a captcha, or in this case it&#39;s re-captcha, so you might find an answer in: <a href=\"https://stackoverflow.com/search?q=%5Bfirebase-authentication%5D%5Bandroid%5D+recaptcha\">stackoverflow.com/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1643957929,"post_id":70956085,"comment_id":125481995,"body_markdown":"So you want to remove the re-captcha step?","body":"So you want to remove the re-captcha step?"},{"owner":{"account_id":15707570,"reputation":71,"user_id":11333898,"display_name":"Qadeer Muniry"},"score":0,"creation_date":1696315838,"post_id":70956085,"comment_id":136133673,"body_markdown":"Does this answer your question? [How to disable reCaptcha in firebase phone-auth (OTP) android?](https://stackoverflow.com/questions/64999106/how-to-disable-recaptcha-in-firebase-phone-auth-otp-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64999106/how-to-disable-recaptcha-in-firebase-phone-auth-otp-android\">How to disable reCaptcha in firebase phone-auth (OTP) android?</a>"}],"owner":{"account_id":18761197,"reputation":33,"user_id":13680116,"display_name":"Nimish Godbole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643813543,"creation_date":1643806811,"question_id":70956085,"body_markdown":"I did a code where if we enter mobile then a otp appears on our mobile phone. That code is running properly no doubt in that but everytime its opening verifying you are not a robot page. Can we avoid that page? By The Way the code is in java in android studio not kotlin or flutter.","title":"Can we avoid the verifying you are not a robot for firebase authentication?","body":"<p>I did a code where if we enter mobile then a otp appears on our mobile phone. That code is running properly no doubt in that but everytime its opening verifying you are not a robot page. Can we avoid that page? By The Way the code is in java in android studio not kotlin or flutter.</p>\n"},{"tags":["java","dictionary","functional-programming","java-stream"],"comments":[{"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"score":0,"creation_date":1643309952,"post_id":70884154,"comment_id":125312266,"body_markdown":"Hello and welcome! Please include what you&#39;ve tried, what results you are getting and examples of what you are expecting. I suggest [writing a unit test](https://junit.org/junit5/docs/current/user-guide/#overview) as its results will help you while you experiment with the `transcribe` method.","body":"Hello and welcome! Please include what you&#39;ve tried, what results you are getting and examples of what you are expecting. I suggest <a href=\"https://junit.org/junit5/docs/current/user-guide/#overview\" rel=\"nofollow noreferrer\">writing a unit test</a> as its results will help you while you experiment with the <code>transcribe</code> method."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":5,"creation_date":1643312840,"post_id":70884154,"comment_id":125313269,"body_markdown":"Please replace screenshot with text; images are not searchable.","body":"Please replace screenshot with text; images are not searchable."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1643316640,"post_id":70884154,"comment_id":125314482,"body_markdown":"That screen shot is very hard to read.  Please paste the entire stack trace as text instead.","body":"That screen shot is very hard to read.  Please paste the entire stack trace as text instead."},{"owner":{"account_id":8883706,"reputation":6969,"user_id":6632744,"display_name":"Joundill"},"score":1,"creation_date":1643342021,"post_id":70884154,"comment_id":125319703,"body_markdown":"Downvoting because the exception is provided as a screenshot instead of as text.","body":"Downvoting because the exception is provided as a screenshot instead of as text."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643474672,"creation_date":1643311996,"answer_id":70884661,"question_id":70884154,"body_markdown":"I think the problem is that you use the `String.chars()` method which returns a stream of `int`s but you cannot expect autoboxing of an `int` to a  `Character`.\r\n\r\nThe map doesn&#39;t contain `Integer` keys, so always will return `null` for the get.\r\n\r\nAs a solution you could try to cast c to a char or even create a `Character` instance manually:\r\n\r\n`.map(c -&gt; map.get((char)c))` or `.map(c -&gt; map.get(Character.valueof((char)c))`","title":"Get a Character Values from a Map and add all to a String","body":"<p>I think the problem is that you use the <code>String.chars()</code> method which returns a stream of <code>int</code>s but you cannot expect autoboxing of an <code>int</code> to a  <code>Character</code>.</p>\n<p>The map doesn't contain <code>Integer</code> keys, so always will return <code>null</code> for the get.</p>\n<p>As a solution you could try to cast c to a char or even create a <code>Character</code> instance manually:</p>\n<p><code>.map(c -&gt; map.get((char)c))</code> or <code>.map(c -&gt; map.get(Character.valueof((char)c))</code></p>\n"},{"tags":[],"owner":{"account_id":19608232,"reputation":25,"user_id":14351356,"display_name":"Petru Ciorba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643312193,"creation_date":1643312193,"answer_id":70884699,"question_id":70884154,"body_markdown":"If you want to obtain map value, you can not have a String like `&quot;AUGC&quot;`, may be `&quot;UAGC&quot;`?\r\nAnd you can read more about [Collection][1], `Map` and `LinkedHashMap`.\r\nIf you will try this code, all will be work. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26623129/when-to-use-linkedhashmap-over-hashmap-in-java\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n    \r\n            Map&lt;Character, Character&gt; map = new LinkedHashMap();\r\n                map.put(&#39;G&#39;, &#39;C&#39;);\r\n            map.put( &#39;C&#39;, &#39;G&#39;);\r\n                    map.put( &#39;T&#39;, &#39;A&#39;);\r\n                            map.put( &#39;A&#39;, &#39;U&#39;);\r\n    \r\n    \r\n    Test test = new Test();\r\n            System.out.println(test.transcribe(map));\r\n        }\r\n    }\r\n    public class Test {\r\n    \r\n        String transcribe(Map&lt;Character, Character&gt; map) {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            for (Character ch : map.values()) {\r\n                stringBuilder.append(ch);\r\n            }\r\n            return String.valueOf(stringBuilder.reverse());\r\n        }\r\n    }","title":"Get a Character Values from a Map and add all to a String","body":"<p>If you want to obtain map value, you can not have a String like <code>&quot;AUGC&quot;</code>, may be <code>&quot;UAGC&quot;</code>?\nAnd you can read more about <a href=\"https://stackoverflow.com/questions/26623129/when-to-use-linkedhashmap-over-hashmap-in-java\">Collection</a>, <code>Map</code> and <code>LinkedHashMap</code>.\nIf you will try this code, all will be work.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n\n        Map&lt;Character, Character&gt; map = new LinkedHashMap();\n            map.put('G', 'C');\n        map.put( 'C', 'G');\n                map.put( 'T', 'A');\n                        map.put( 'A', 'U');\n\n\nTest test = new Test();\n        System.out.println(test.transcribe(map));\n    }\n}\npublic class Test {\n\n    String transcribe(Map&lt;Character, Character&gt; map) {\n        StringBuilder stringBuilder = new StringBuilder();\n        for (Character ch : map.values()) {\n            stringBuilder.append(ch);\n        }\n        return String.valueOf(stringBuilder.reverse());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643314209,"creation_date":1643314209,"answer_id":70885090,"question_id":70884154,"body_markdown":"Here is one way to do it.  The method is called with a string of keys from your `base/pair` map. Any characters in that string map to `null` are filtered out. This presumes a map instance visible to the method.  Otherwise it will need to be provided as an argument.\r\n\r\n- `chars()` provides a stream of characters\r\n- get the mapping for current character and convert to String\r\n- filter out any null values.\r\n- join String characters into long strand and return.\r\n```\r\nstatic String transcribe(String dnaStrand) {\r\n\treturn dnaStrand.chars()\r\n\t\t\t.mapToObj(c -&gt; String.valueOf(map.get((char)c)))\r\n\t\t\t.filter(str-&gt;!str.equals(&quot;null&quot;))\r\n\t\t\t.collect(Collectors.joining());\r\n}\r\n\r\nSystem.out.println(transcribe(&quot;GCTA&quot;));\r\n```\r\nwill return and print\r\n```\r\nCGAU","title":"Get a Character Values from a Map and add all to a String","body":"<p>Here is one way to do it.  The method is called with a string of keys from your <code>base/pair</code> map. Any characters in that string map to <code>null</code> are filtered out. This presumes a map instance visible to the method.  Otherwise it will need to be provided as an argument.</p>\n<ul>\n<li><code>chars()</code> provides a stream of characters</li>\n<li>get the mapping for current character and convert to String</li>\n<li>filter out any null values.</li>\n<li>join String characters into long strand and return.</li>\n</ul>\n<pre><code>static String transcribe(String dnaStrand) {\n    return dnaStrand.chars()\n            .mapToObj(c -&gt; String.valueOf(map.get((char)c)))\n            .filter(str-&gt;!str.equals(&quot;null&quot;))\n            .collect(Collectors.joining());\n}\n\nSystem.out.println(transcribe(&quot;GCTA&quot;));\n</code></pre>\n<p>will return and print</p>\n<pre><code>CGAU\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643324125,"creation_date":1643322978,"answer_id":70886672,"question_id":70884154,"body_markdown":"# `char` obsolete \r\n\r\nThe `char` primitive type, and its wrapper class `Character`, have been legacy since Java 2. As a 16-bit value, these types are physically incapable of representing most characters. \r\n\r\nAvoid `char`/`Character` types. \r\n\r\n# Code points\r\n\r\nInstead, use [Unicode](https://en.wikipedia.org/wiki/Unicode) [code point](https://en.wikipedia.org/wiki/Code_point) integer numbers to work with individual characters. \r\n\r\nYour code is mixing `char` values with code point code. Do not mix the types. Avoid `char`, use only code points. \r\n\r\nUnfortunately, Java lacks a type for code points. So we use the `int`/`Integer` with several methods awkwardly spread out across various classes including `String`, `StringBuilder`, and `Character`. \r\n\r\n    Map&lt; Integer , Integer &gt; transMap = \r\n        Map.of(\r\n            &quot;G&quot;.codePointAt(0) , &quot;C&quot;.codePointAt(0) ,\r\n            &quot;C&quot;.codePointAt(0) , &quot;G&quot;.codePointAt(0) ,\r\n            &quot;T&quot;.codePointAt(0) , &quot;A&quot;.codePointAt(0) ,\r\n            &quot;A&quot;.codePointAt(0) , &quot;U&quot;.codePointAt(0) \r\n        )\r\n    ;\r\n\r\nThe transcription method swaps integers. Then collect these integers using `StringBuilder#appendCodePoints`.\r\n\r\nBy the way, your `transcribe` method could be made more general by taking an parameter of type `CharSequence` rather than `String`. `CharSequence` is an interface implemented by `String`.  The only method we need to call on the argument is `codePoints`. That method is required by `CharSequence`. \r\n\r\n\r\n    String transcribe( final CharSequence dnaStrand ) {\r\n        return \r\n            dnaStrand\r\n            .codePoints()\r\n            .map( codePoint -&gt; transMap.get( codePoint ) )\r\n            .collect(\r\n                StringBuilder :: new, \r\n                StringBuilder :: appendCodePoint, \r\n                StringBuilder :: append \r\n            )\r\n            .toString() ;\r\n    }\r\n\r\n    \r\n\r\n","title":"Get a Character Values from a Map and add all to a String","body":"<h1><code>char</code> obsolete</h1>\n<p>The <code>char</code> primitive type, and its wrapper class <code>Character</code>, have been legacy since Java 2. As a 16-bit value, these types are physically incapable of representing most characters.</p>\n<p>Avoid <code>char</code>/<code>Character</code> types.</p>\n<h1>Code points</h1>\n<p>Instead, use <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a> <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers to work with individual characters.</p>\n<p>Your code is mixing <code>char</code> values with code point code. Do not mix the types. Avoid <code>char</code>, use only code points.</p>\n<p>Unfortunately, Java lacks a type for code points. So we use the <code>int</code>/<code>Integer</code> with several methods awkwardly spread out across various classes including <code>String</code>, <code>StringBuilder</code>, and <code>Character</code>.</p>\n<pre><code>Map&lt; Integer , Integer &gt; transMap = \n    Map.of(\n        &quot;G&quot;.codePointAt(0) , &quot;C&quot;.codePointAt(0) ,\n        &quot;C&quot;.codePointAt(0) , &quot;G&quot;.codePointAt(0) ,\n        &quot;T&quot;.codePointAt(0) , &quot;A&quot;.codePointAt(0) ,\n        &quot;A&quot;.codePointAt(0) , &quot;U&quot;.codePointAt(0) \n    )\n;\n</code></pre>\n<p>The transcription method swaps integers. Then collect these integers using <code>StringBuilder#appendCodePoints</code>.</p>\n<p>By the way, your <code>transcribe</code> method could be made more general by taking an parameter of type <code>CharSequence</code> rather than <code>String</code>. <code>CharSequence</code> is an interface implemented by <code>String</code>.  The only method we need to call on the argument is <code>codePoints</code>. That method is required by <code>CharSequence</code>.</p>\n<pre><code>String transcribe( final CharSequence dnaStrand ) {\n    return \n        dnaStrand\n        .codePoints()\n        .map( codePoint -&gt; transMap.get( codePoint ) )\n        .collect(\n            StringBuilder :: new, \n            StringBuilder :: appendCodePoint, \n            StringBuilder :: append \n        )\n        .toString() ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643813516,"creation_date":1643325310,"answer_id":70887019,"question_id":70884154,"body_markdown":"Method **`get()`** of the **Map** interface accepts an argument of **Object** type as a parameter. Hence you can pass to it an instance of pretty much any type. Not necessarily of the type that matches the type the key. In such a case map will return **null**.\r\n\r\nAnd that&#39;s basically what you are doing. Method [**`chars()`**](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#chars()) of the String class returns **IntStream** a stream primitive `int` values (note there is **NO** such thing as `CharStream` in java). Attempt to get a value from a `Map&lt;Character, Character&gt;` result in **null** because the map will look for the object of type **`Integer`**, and obviously, there will be no match.\r\n\r\nInstead, you have to `cast` **`int`** to **`char`** `explicitly` and it&#39;ll be autoboxed into Character wrapper type.\r\n\r\nAlso, note that for any given string that contains any other character apart from uppercase `&#39;G&#39;, &#39;C&#39;, &#39;T&#39;, &#39;A&#39;` your code will fail with **`NullPointerException`**. \r\n\r\nIf a fail-fast implementation wasn&#39;t your intent as a workaround you can use [**`map.getOrDefault()`**](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)) instead of **`map.get()`**.\r\n\r\nMethod **`getOrDefault()`** returns a `default value` instead of **null** for any key that isn&#39;t represented in the map. \r\n\r\nFor instance, using `getOrDefault()` you can preserve only characters that are contained in the map and eliminate all others by providing a default value that will be removed from the final string (like that **`getOrDefault((char) c, &#39;!&#39;))`**, and then apply **`replace(&quot;!&quot;, &quot;&quot;)`** to the result).\r\n\r\nAnother possible option that can be achieved with `getOrDefault()`is to change only those characters in the string that are contained in the map whilst others will remain intact as it&#39;s shown in the example below.\r\n\r\n```\r\n    public String transcribe(String dnaStrand) {\r\n        return dnaStrand.chars()\r\n                .map(c -&gt; map.getOrDefault((char) c, (char) c))\r\n                .collect(StringBuilder::new, \r\n                        StringBuilder::appendCodePoint, \r\n                        StringBuilder::append)\r\n                .toString();\r\n    }\r\n```","title":"Get a Character Values from a Map and add all to a String","body":"<p>Method <strong><code>get()</code></strong> of the <strong>Map</strong> interface accepts an argument of <strong>Object</strong> type as a parameter. Hence you can pass to it an instance of pretty much any type. Not necessarily of the type that matches the type the key. In such a case map will return <strong>null</strong>.</p>\n<p>And that's basically what you are doing. Method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\"><strong><code>chars()</code></strong></a> of the String class returns <strong>IntStream</strong> a stream primitive <code>int</code> values (note there is <strong>NO</strong> such thing as <code>CharStream</code> in java). Attempt to get a value from a <code>Map&lt;Character, Character&gt;</code> result in <strong>null</strong> because the map will look for the object of type <strong><code>Integer</code></strong>, and obviously, there will be no match.</p>\n<p>Instead, you have to <code>cast</code> <strong><code>int</code></strong> to <strong><code>char</code></strong> <code>explicitly</code> and it'll be autoboxed into Character wrapper type.</p>\n<p>Also, note that for any given string that contains any other character apart from uppercase <code>'G', 'C', 'T', 'A'</code> your code will fail with <strong><code>NullPointerException</code></strong>.</p>\n<p>If a fail-fast implementation wasn't your intent as a workaround you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\"><strong><code>map.getOrDefault()</code></strong></a> instead of <strong><code>map.get()</code></strong>.</p>\n<p>Method <strong><code>getOrDefault()</code></strong> returns a <code>default value</code> instead of <strong>null</strong> for any key that isn't represented in the map.</p>\n<p>For instance, using <code>getOrDefault()</code> you can preserve only characters that are contained in the map and eliminate all others by providing a default value that will be removed from the final string (like that <strong><code>getOrDefault((char) c, '!'))</code></strong>, and then apply <strong><code>replace(&quot;!&quot;, &quot;&quot;)</code></strong> to the result).</p>\n<p>Another possible option that can be achieved with <code>getOrDefault()</code>is to change only those characters in the string that are contained in the map whilst others will remain intact as it's shown in the example below.</p>\n<pre><code>    public String transcribe(String dnaStrand) {\n        return dnaStrand.chars()\n                .map(c -&gt; map.getOrDefault((char) c, (char) c))\n                .collect(StringBuilder::new, \n                        StringBuilder::appendCodePoint, \n                        StringBuilder::append)\n                .toString();\n    }\n</code></pre>\n"}],"owner":{"account_id":23977319,"reputation":25,"user_id":17965249,"display_name":"mark882"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1643813516,"creation_date":1643309516,"question_id":70884154,"body_markdown":"I was wondering how i can get these values and put it together in a new String \r\n\r\n&lt;!-- language:lang-java --&gt;\r\n```\r\nclass Rna {\r\n\r\n\r\n    static Map&lt;Character, Character&gt; map = (Map&lt;Character, Character&gt;) Map.of(\r\n            &#39;G&#39;, &#39;C&#39;,\r\n            &#39;C&#39;, &#39;G&#39;,\r\n            &#39;T&#39;, &#39;A&#39;,\r\n            &#39;A&#39;, &#39;U&#39;\r\n    );\r\n\r\n    String transcribe(String dnaStrand) {\r\n        return dnaStrand.chars()\r\n                .map(c -&gt; map.get(c))\r\n                .collect(StringBuilder::new, StringBuilder::appendCodePoint ,StringBuilder::append)\r\n                .toString();\r\n    }\r\n}\r\n```\r\n\r\n transcribe should return an String like &quot;AUGC&quot;. Now i`m getting this exception.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/79UjF.png","title":"Get a Character Values from a Map and add all to a String","body":"<p>I was wondering how i can get these values and put it together in a new String</p>\n\n<pre><code>class Rna {\n\n\n    static Map&lt;Character, Character&gt; map = (Map&lt;Character, Character&gt;) Map.of(\n            'G', 'C',\n            'C', 'G',\n            'T', 'A',\n            'A', 'U'\n    );\n\n    String transcribe(String dnaStrand) {\n        return dnaStrand.chars()\n                .map(c -&gt; map.get(c))\n                .collect(StringBuilder::new, StringBuilder::appendCodePoint ,StringBuilder::append)\n                .toString();\n    }\n}\n</code></pre>\n<p>transcribe should return an String like &quot;AUGC&quot;. Now i`m getting this exception.\n<a href=\"https://i.stack.imgur.com/79UjF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/79UjF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","class","classnotfoundexception","dynamic-class-loaders","dynamic-class-creation"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1419826643,"post_id":27683319,"comment_id":43781169,"body_markdown":"`import java.net.URLClassLoader;`...","body":"<code>import java.net.URLClassLoader;</code>..."},{"owner":{"account_id":2816705,"reputation":3637,"user_id":2421561,"accept_rate":67,"display_name":"Ambrish"},"score":0,"creation_date":1419827333,"post_id":27683319,"comment_id":43781292,"body_markdown":"You should also change `for(int i=0 ; i&lt;names.size() ; ++i)` to `for(int i=0 ; i&lt;names.size() ; i++)`","body":"You should also change <code>for(int i=0 ; i&lt;names.size() ; ++i)</code> to <code>for(int i=0 ; i&lt;names.size() ; i++)</code>"},{"owner":{"account_id":2816705,"reputation":3637,"user_id":2421561,"accept_rate":67,"display_name":"Ambrish"},"score":0,"creation_date":1419827390,"post_id":27683319,"comment_id":43781297,"body_markdown":"Also provide the stack trace.","body":"Also provide the stack trace."},{"owner":{"account_id":5387047,"reputation":1,"user_id":4290603,"display_name":"Khaled Eltahan"},"score":0,"creation_date":1419829603,"post_id":27683319,"comment_id":43781734,"body_markdown":"I&#39;ve omitted the import part , but this code compiles correctly , it&#39;s a run time issue ..","body":"I&#39;ve omitted the import part , but this code compiles correctly , it&#39;s a run time issue .."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1432133283,"post_id":27683319,"comment_id":48798527,"body_markdown":"You donât obey the relationship between package names and directory structure. If your classes are expected to be in a package `Shapes`, they must be contained in a sub-directory named `Shapes`. Then, of course, your directory scanning must be able to scan the sub-directory to get the available classes.","body":"You donât obey the relationship between package names and directory structure. If your classes are expected to be in a package <code>Shapes</code>, they must be contained in a sub-directory named <code>Shapes</code>. Then, of course, your directory scanning must be able to scan the sub-directory to get the available classes."}],"answers":[{"tags":[],"owner":{"account_id":439098,"reputation":4236,"user_id":4274119,"accept_rate":83,"display_name":"justAbit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419830976,"creation_date":1419830976,"answer_id":27683843,"question_id":27683319,"body_markdown":"Problem seems to be with method `getClassNames()`. Can you please check fully qualified class name returned from `fixName()` before loading classes? It will give you better idea what&#39;s wrong with the code.\r\n\r\nI ran your sample code with hard coded values passed to `fixName()` (without using `getClassNames()`) and it was able to load the class file.","title":"URLClassLoader ClassNotFoundException","body":"<p>Problem seems to be with method <code>getClassNames()</code>. Can you please check fully qualified class name returned from <code>fixName()</code> before loading classes? It will give you better idea what's wrong with the code.</p>\n\n<p>I ran your sample code with hard coded values passed to <code>fixName()</code> (without using <code>getClassNames()</code>) and it was able to load the class file.</p>\n"},{"tags":[],"owner":{"account_id":4125100,"reputation":1014,"user_id":3384458,"accept_rate":45,"display_name":"Tempuslight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643813403,"creation_date":1643813403,"answer_id":70957732,"question_id":27683319,"body_markdown":"Stupid answer perhaps, but for me the issue was that my project was in a folder which was somehow admin protected.\r\n\r\nI tried so many &quot;solutions&quot;, but I remembered when I tried to unzip a file to my project folder (some .jar lib I thought could fix it), it kept saying it couldn&#39;t extract because of admin rights or something.\r\n\r\nWhenever I extracted it somewhere else and manually copy-pasted it, it asked for &quot;admin consent&quot; something, I clicked yes and I could copy the files.\r\n\r\nMy guess is, it&#39;s trying to find classes in a folder to which is does not have access to or something, and returns null. Which down the line, returns this error! \r\n\r\nSo if anyone ever stumbles upon issues like this with &quot;URLClassLoader&quot; and &quot;PolicyException&quot;(s), please also make sure it&#39;s in a correct folder!!!","title":"URLClassLoader ClassNotFoundException","body":"<p>Stupid answer perhaps, but for me the issue was that my project was in a folder which was somehow admin protected.</p>\n<p>I tried so many &quot;solutions&quot;, but I remembered when I tried to unzip a file to my project folder (some .jar lib I thought could fix it), it kept saying it couldn't extract because of admin rights or something.</p>\n<p>Whenever I extracted it somewhere else and manually copy-pasted it, it asked for &quot;admin consent&quot; something, I clicked yes and I could copy the files.</p>\n<p>My guess is, it's trying to find classes in a folder to which is does not have access to or something, and returns null. Which down the line, returns this error!</p>\n<p>So if anyone ever stumbles upon issues like this with &quot;URLClassLoader&quot; and &quot;PolicyException&quot;(s), please also make sure it's in a correct folder!!!</p>\n"}],"owner":{"account_id":5387047,"reputation":1,"user_id":4290603,"display_name":"Khaled Eltahan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643813403,"creation_date":1419826562,"question_id":27683319,"body_markdown":"I&#39;m trying to write a code that loads classes dynamically at run time \r\n\r\n\r\n\r\n\r\n    public class URLDynClassLoader {\r\n    \t\r\n    \tpublic URLDynClassLoader(){\r\n    \t\ttry{\r\n    \t\t\tloadclasses( new File(&quot;C:/Users/Miller/Desktop/test/&quot;) , &quot;Shapes.&quot; );\r\n    \t\t}\r\n    \t\tcatch(ClassNotFoundException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t\tcatch( Exception f ){\r\n    \t\t\tSystem.out.println(f.getMessage());\r\n    \t\t\tSystem.out.println(&quot;error&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate ArrayList&lt;String&gt; getClassNames( File folder ){\r\n    \t\tFile[] listOfFiles = folder.listFiles();\r\n    \t\tArrayList&lt;String&gt; fileNames = new ArrayList&lt;String&gt;() ;\r\n    \t\tfor (File file : listOfFiles) {\r\n    \t\t    if (file.isFile()) {\r\n    \t\t        if( accept(file.getName()) ){\r\n    \t\t        \tfileNames.add(file.getName());\r\n    \t\t        }\r\n    \t\t    }\r\n    \t\t}\r\n    \t\treturn fileNames ;\r\n    \t}\r\n    \t\r\n    \tArrayList&lt;Class&gt; loadclasses( File folder , String packageName ) throws MalformedURLException, ClassNotFoundException{\r\n    \r\n    \t\tURLClassLoader load = URLClassLoader.newInstance( new URL[] { folder.toURL() })  ;\r\n    \t\tArrayList&lt;Class&gt; data = new ArrayList&lt;Class&gt;();\r\n    \t\tArrayList&lt;String&gt; names = getClassNames(folder);\r\n    \r\n    \t\tfor(int i=0 ; i&lt;names.size() ; ++i){;\r\n    \t\t\tdata.add(load.loadClass( fixName( packageName , names.get(i) ) ));\r\n    \t\t\tSystem.out.println(&quot;i&quot;+i);\r\n    \t\t}\r\n    \r\n    \t\treturn data ;\r\n    \t}\r\n    \t\r\n        private String fixName(String packageName, String className ) {\r\n    \t\tclassName = className.replaceAll(&quot;.class&quot;, &quot;&quot;);\r\n    \t\treturn packageName+className;\r\n    \t}\r\n    \r\n    \tpublic boolean accept(String arg) { \r\n            return arg.endsWith(&quot;.class&quot;); \r\n        } \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew URLDynClassLoader();\r\n    \t}\r\n    \r\n    }\r\n\r\nthe problem is that this keeps giving me classNotFound exception , tho i&#39;m pretty sure files .class exist in that directory , another thing I&#39;ve tried loading already loaded classes and it worked , so it doesn&#39;t work only if my code doesn&#39;t have the class file !!","title":"URLClassLoader ClassNotFoundException","body":"<p>I'm trying to write a code that loads classes dynamically at run time </p>\n\n<pre><code>public class URLDynClassLoader {\n\n    public URLDynClassLoader(){\n        try{\n            loadclasses( new File(\"C:/Users/Miller/Desktop/test/\") , \"Shapes.\" );\n        }\n        catch(ClassNotFoundException e){\n            e.printStackTrace();\n            System.out.println(e.getMessage());\n        }\n        catch( Exception f ){\n            System.out.println(f.getMessage());\n            System.out.println(\"error\");\n        }\n    }\n\n    private ArrayList&lt;String&gt; getClassNames( File folder ){\n        File[] listOfFiles = folder.listFiles();\n        ArrayList&lt;String&gt; fileNames = new ArrayList&lt;String&gt;() ;\n        for (File file : listOfFiles) {\n            if (file.isFile()) {\n                if( accept(file.getName()) ){\n                    fileNames.add(file.getName());\n                }\n            }\n        }\n        return fileNames ;\n    }\n\n    ArrayList&lt;Class&gt; loadclasses( File folder , String packageName ) throws MalformedURLException, ClassNotFoundException{\n\n        URLClassLoader load = URLClassLoader.newInstance( new URL[] { folder.toURL() })  ;\n        ArrayList&lt;Class&gt; data = new ArrayList&lt;Class&gt;();\n        ArrayList&lt;String&gt; names = getClassNames(folder);\n\n        for(int i=0 ; i&lt;names.size() ; ++i){;\n            data.add(load.loadClass( fixName( packageName , names.get(i) ) ));\n            System.out.println(\"i\"+i);\n        }\n\n        return data ;\n    }\n\n    private String fixName(String packageName, String className ) {\n        className = className.replaceAll(\".class\", \"\");\n        return packageName+className;\n    }\n\n    public boolean accept(String arg) { \n        return arg.endsWith(\".class\"); \n    } \n\n    public static void main(String[] args) {\n        new URLDynClassLoader();\n    }\n\n}\n</code></pre>\n\n<p>the problem is that this keeps giving me classNotFound exception , tho i'm pretty sure files .class exist in that directory , another thing I've tried loading already loaded classes and it worked , so it doesn't work only if my code doesn't have the class file !!</p>\n"},{"tags":["java","netty","quic"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643813118,"creation_date":1643813118,"answer_id":70957658,"question_id":70944286,"body_markdown":"You want to intercept `QuicConnectionEvent`s. These events contain the address. Be aware that the address can change (in this case a new event is fired).\r\n\r\n```\r\nnew ChannelInboundHandlerAdapter() {\r\n\r\n    @Override\r\n    public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exception {\r\n        if (evt instanceof QuicConnectionEvent) {\r\n            QuicConnectionEvent event = (QuicConnectionEvent) evt;\r\n            System.out.println(event.newAddress());\r\n        }\r\n    }\r\n};\r\n```","title":"netty-incubator-codec-quic: How to get remoteAddress?","body":"<p>You want to intercept <code>QuicConnectionEvent</code>s. These events contain the address. Be aware that the address can change (in this case a new event is fired).</p>\n<pre><code>new ChannelInboundHandlerAdapter() {\n\n    @Override\n    public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exception {\n        if (evt instanceof QuicConnectionEvent) {\n            QuicConnectionEvent event = (QuicConnectionEvent) evt;\n            System.out.println(event.newAddress());\n        }\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":8742474,"reputation":377,"user_id":6868978,"accept_rate":85,"display_name":"zipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70957658,"answer_count":1,"score":0,"last_activity_date":1643813118,"creation_date":1643733779,"question_id":70944286,"body_markdown":"I need to know the remote address at the server side. I tried bellow ways and failed:\r\n1. `QuicStreamChannel.remoteAddress()` returns `QuicStreamAddress`, which cannot be casted to `InetSocketAddress`. `QuicStreamAddress` or `QuicConnectionAddress` does not contain remote IP address or port at all.\r\n2. class `io.netty.buffer.PooledUnsafeDirectByteBuf` cannot be cast to class `io.netty.channel.socket.DatagramPacket` so I cannot use `DatagramPacket.sender()` to get the sender address.\r\n2. `(QuicChannel) (ctx.channel().parent())).sslEngine().getPeerHost()` -- this returns null.","title":"netty-incubator-codec-quic: How to get remoteAddress?","body":"<p>I need to know the remote address at the server side. I tried bellow ways and failed:</p>\n<ol>\n<li><code>QuicStreamChannel.remoteAddress()</code> returns <code>QuicStreamAddress</code>, which cannot be casted to <code>InetSocketAddress</code>. <code>QuicStreamAddress</code> or <code>QuicConnectionAddress</code> does not contain remote IP address or port at all.</li>\n<li>class <code>io.netty.buffer.PooledUnsafeDirectByteBuf</code> cannot be cast to class <code>io.netty.channel.socket.DatagramPacket</code> so I cannot use <code>DatagramPacket.sender()</code> to get the sender address.</li>\n<li><code>(QuicChannel) (ctx.channel().parent())).sslEngine().getPeerHost()</code> -- this returns null.</li>\n</ol>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":0,"creation_date":1292098972,"post_id":4418739,"comment_id":4820615,"body_markdown":"What the heck this code is doing? Am I the only one who can&#39;t understand?","body":"What the heck this code is doing? Am I the only one who can&#39;t understand?"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":0,"creation_date":1292099196,"post_id":4418739,"comment_id":4820632,"body_markdown":"@Nikita Rybak,  Very good comment. I need such information - who&#39;ll understand this code and wouldn&#39;t. I&#39;ll try to explain it in updated post.","body":"@Nikita Rybak,  Very good comment. I need such information - who&#39;ll understand this code and wouldn&#39;t. I&#39;ll try to explain it in updated post."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1292099139,"creation_date":1292099139,"answer_id":4418772,"question_id":4418739,"body_markdown":"I think it&#39;s generally okay to combine multiple operations in one call (it&#39;s just a shame Java doesn&#39;t have extension methods to make it prettier), but I&#39;d advise you *not* to include the logic inline. With anonymous classes, it just gets messy.\r\n\r\nInstead, declare your predicates, orderings, projections etc as constants:\r\n\r\n    private static Function&lt;Shape, ModelBean&gt; MODEL_BEAN_PROJECTION =\r\n        new Function&lt;Shape, ModelBean&gt;() {\r\n        final ModelBeanCreator binder = new ModelBeanCreator();\r\n\r\n        @Override\r\n        public ModelBean apply(Shape input) {\r\n            return binder.createModelBean(input);\r\n        }\r\n    };\r\n\r\nthen you can use `MODEL_BEAN_PROJECTION` in your method call later on. That way you can get code which is actually reasonably easy to read, despite doing a lot.\r\n\r\nOn the other hand, the option of using a local variable to describe what you&#39;ve got so far at each stage of the transformation is also potentially useful. It&#39;s often worth trying some code both ways, and seeing which you find more readable - and ask a colleague, too. Also experiment with different whitespace options - I find that the readability difference between code using whitespace sensibly and not can be massive.","title":"Should I do things like this?","body":"<p>I think it's generally okay to combine multiple operations in one call (it's just a shame Java doesn't have extension methods to make it prettier), but I'd advise you <em>not</em> to include the logic inline. With anonymous classes, it just gets messy.</p>\n\n<p>Instead, declare your predicates, orderings, projections etc as constants:</p>\n\n<pre><code>private static Function&lt;Shape, ModelBean&gt; MODEL_BEAN_PROJECTION =\n    new Function&lt;Shape, ModelBean&gt;() {\n    final ModelBeanCreator binder = new ModelBeanCreator();\n\n    @Override\n    public ModelBean apply(Shape input) {\n        return binder.createModelBean(input);\n    }\n};\n</code></pre>\n\n<p>then you can use <code>MODEL_BEAN_PROJECTION</code> in your method call later on. That way you can get code which is actually reasonably easy to read, despite doing a lot.</p>\n\n<p>On the other hand, the option of using a local variable to describe what you've got so far at each stage of the transformation is also potentially useful. It's often worth trying some code both ways, and seeing which you find more readable - and ask a colleague, too. Also experiment with different whitespace options - I find that the readability difference between code using whitespace sensibly and not can be massive.</p>\n"},{"tags":[],"owner":{"account_id":26197,"reputation":2879,"user_id":67927,"display_name":"dhable"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292099389,"creation_date":1292099389,"answer_id":4418798,"question_id":4418739,"body_markdown":"As Jon Skeet pointed out, moving the anonymous objects into constants or separate declarations can make the code more readable. If you use the same anonymous objects elsewhere, they can be scoped at the class level but you could also scope them as final declarations in the method if you really wanted to prevent their reuse.\r\n\r\n    public ImmutableList&lt;ModelBean&gt; toBean(Collection&lt;Shape&gt; model) {\r\n        // I pulled out the first anonymous class object into a method scoped\r\n        // reference and gave it some meaningful name based on what it does.\r\n        final Comparator&lt;Shape&gt; shapeComparator = new Comparator&lt;Shape&gt;() {\r\n            @Override\r\n            public int compare(Shape o1, Shape o2) {\r\n                return 0; //here placed some one line logic\r\n            };\r\n    \r\n        // Also pulled out the second anonymous object into a method scoped\r\n        // reference with meaningful name.\r\n        final Function&lt;Shape, ModelBean&gt; sortFunc = new Function&lt;Shape, ModelBean&gt;() {\r\n            final ModelBeanCreator binder = new ModelBeanCreator();\r\n    \r\n            @Override\r\n            public ModelBean apply(Shape input) {\r\n                return binder.createModelBean(input);\r\n            }\r\n        }; \r\n    \r\n        // Now the transformation is much simpler without much work.\r\n        return ImmutableList.copyOf(Collections2.transform(Ordering.from( shapeComparator ).sortedCopy(model), sortFunc ));\r\n    }","title":"Should I do things like this?","body":"<p>As Jon Skeet pointed out, moving the anonymous objects into constants or separate declarations can make the code more readable. If you use the same anonymous objects elsewhere, they can be scoped at the class level but you could also scope them as final declarations in the method if you really wanted to prevent their reuse.</p>\n\n<pre><code>public ImmutableList&lt;ModelBean&gt; toBean(Collection&lt;Shape&gt; model) {\n    // I pulled out the first anonymous class object into a method scoped\n    // reference and gave it some meaningful name based on what it does.\n    final Comparator&lt;Shape&gt; shapeComparator = new Comparator&lt;Shape&gt;() {\n        @Override\n        public int compare(Shape o1, Shape o2) {\n            return 0; //here placed some one line logic\n        };\n\n    // Also pulled out the second anonymous object into a method scoped\n    // reference with meaningful name.\n    final Function&lt;Shape, ModelBean&gt; sortFunc = new Function&lt;Shape, ModelBean&gt;() {\n        final ModelBeanCreator binder = new ModelBeanCreator();\n\n        @Override\n        public ModelBean apply(Shape input) {\n            return binder.createModelBean(input);\n        }\n    }; \n\n    // Now the transformation is much simpler without much work.\n    return ImmutableList.copyOf(Collections2.transform(Ordering.from( shapeComparator ).sortedCopy(model), sortFunc ));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50088,"reputation":2016,"user_id":149282,"display_name":"Jared Levy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292138950,"creation_date":1292138950,"answer_id":4420708,"question_id":4418739,"body_markdown":"Another question is whether to use functional programming constructs, such as Collections2.transform(), at all. Instead, you could say\r\n\r\n    ImmutableList.Builder&lt;ModelBean&gt; builder = ImmutableList.builder();\r\n    for (Shape shape : sortedShapes) {\r\n      builder.add(binder.createModelBean(shape));\r\n    }\r\n    return builder.build();\r\n\r\nI prefer explicit iteration when you want to make a separate copy, since it&#39;s easier to read and write such code.","title":"Should I do things like this?","body":"<p>Another question is whether to use functional programming constructs, such as Collections2.transform(), at all. Instead, you could say</p>\n\n<pre><code>ImmutableList.Builder&lt;ModelBean&gt; builder = ImmutableList.builder();\nfor (Shape shape : sortedShapes) {\n  builder.add(binder.createModelBean(shape));\n}\nreturn builder.build();\n</code></pre>\n\n<p>I prefer explicit iteration when you want to make a separate copy, since it's easier to read and write such code.</p>\n"}],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4418772,"answer_count":3,"score":3,"last_activity_date":1643812237,"creation_date":1292098792,"question_id":4418739,"body_markdown":"I&#39;m only started learning guava. So I don&#39;t know best practices and etc.\r\nThese is code (it binding some classes and put in Order by input collection):\r\n\r\n\r\n\tpublic ImmutableList&lt;ModelBean&gt; toBean(Collection&lt;Shape&gt; model) {\r\n\t\treturn ImmutableList.copyOf(Collections2.transform(Ordering.from(new Comparator&lt;Shape&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Shape o1, Shape o2) {\r\n\t\t\t\treturn 0; //here placed some one line logic\r\n\t\t\t}\r\n\t\t}).sortedCopy(model), new Function&lt;Shape, ModelBean&gt;() {\r\n\t\t\tfinal ModelBeanCreator binder = new ModelBeanCreator();\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic ModelBean apply(Shape input) {\r\n\t\t\t\treturn binder.createModelBean(input);\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\nSo, should I separate it in several operations?\r\n\r\n**upd**\r\nwhat does it do?\r\nIt takes collection.\r\nSorts it.\r\nMaps each object to other one.\r\nCreates new ImmutableList and return it.","title":"Should I do things like this?","body":"<p>I'm only started learning guava. So I don't know best practices and etc.\nThese is code (it binding some classes and put in Order by input collection):</p>\n\n<pre><code>public ImmutableList&lt;ModelBean&gt; toBean(Collection&lt;Shape&gt; model) {\n    return ImmutableList.copyOf(Collections2.transform(Ordering.from(new Comparator&lt;Shape&gt;() {\n        @Override\n        public int compare(Shape o1, Shape o2) {\n            return 0; //here placed some one line logic\n        }\n    }).sortedCopy(model), new Function&lt;Shape, ModelBean&gt;() {\n        final ModelBeanCreator binder = new ModelBeanCreator();\n\n        @Override\n        public ModelBean apply(Shape input) {\n            return binder.createModelBean(input);\n        }\n    }));\n}\n</code></pre>\n\n<p>So, should I separate it in several operations?</p>\n\n<p><strong>upd</strong>\nwhat does it do?\nIt takes collection.\nSorts it.\nMaps each object to other one.\nCreates new ImmutableList and return it.</p>\n"},{"tags":["java","json","selenium","selenide"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":1,"creation_date":1643114653,"post_id":70848717,"comment_id":125249015,"body_markdown":"Welcome SO. Please share the code what you have tried and error trace.","body":"Welcome SO. Please share the code what you have tried and error trace."},{"owner":{"account_id":20308547,"reputation":1,"user_id":15099295,"display_name":"kropach"},"score":0,"creation_date":1643117828,"post_id":70848717,"comment_id":125250202,"body_markdown":"I think the problem is in the method JSON.stringify(value).\nError trace:\nUncaught TypeError: Converting circular structure to JSON\n    --&gt; starting at object with constructor &#39;HTMLInputElement&#39;\n    |     property &#39;inputmask&#39; -&gt; object with constructor &#39;Inputmask&#39;\n    --- property &#39;el&#39; closes the circle","body":"I think the problem is in the method JSON.stringify(value). Error trace: Uncaught TypeError: Converting circular structure to JSON     --&gt; starting at object with constructor &#39;HTMLInputElement&#39;     |     property &#39;inputmask&#39; -&gt; object with constructor &#39;Inputmask&#39;     --- property &#39;el&#39; closes the circle"}],"owner":{"account_id":20308547,"reputation":1,"user_id":15099295,"display_name":"kropach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643812236,"creation_date":1643114021,"question_id":70848717,"body_markdown":"My selenium tests are working correctly in mozilla and ie, but i need to adapt them for Edge. Selenium enters all fields, then clicks on continue button, but nothing happens and &quot;**Converting circular structure to JSON**&quot; error is displayed on the edge console. I tried to do the same steps by myself and it works correctly even in edge browser. This error is not displayed when i run these tests in another browsers.\r\nI realized the reason of my error is var **$cdc_asdjflasutopfhvcZLmcfl_** which collects my browser&#39;s cache. There is html code for buttons, datepickers and another elements of the web form inside this var. My datepicker is circular structure but now it doesn&#39;t matter, because browser doesn&#39;t have to collect cache. Firefox and IE don&#39;t collect. What can i do to prevent collecting cache by Edge? I don&#39;t have to do any changes in edge driver.","title":"Prevent collection browser&#39;s cache by Selenium","body":"<p>My selenium tests are working correctly in mozilla and ie, but i need to adapt them for Edge. Selenium enters all fields, then clicks on continue button, but nothing happens and &quot;<strong>Converting circular structure to JSON</strong>&quot; error is displayed on the edge console. I tried to do the same steps by myself and it works correctly even in edge browser. This error is not displayed when i run these tests in another browsers.\nI realized the reason of my error is var <strong>$cdc_asdjflasutopfhvcZLmcfl_</strong> which collects my browser's cache. There is html code for buttons, datepickers and another elements of the web form inside this var. My datepicker is circular structure but now it doesn't matter, because browser doesn't have to collect cache. Firefox and IE don't collect. What can i do to prevent collecting cache by Edge? I don't have to do any changes in edge driver.</p>\n"},{"tags":["java","android","kotlin","calendar","material-design"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1643811996,"post_id":70957045,"comment_id":125438518,"body_markdown":"It uses the current date as the initial selection by default, so you don&#39;t have to call `setSelection()` at all. You can also get the current date as a Long to pass to `setSelection` by using `MaterialDatePicker.todayInUtcMilliseconds()`","body":"It uses the current date as the initial selection by default, so you don&#39;t have to call <code>setSelection()</code> at all. You can also get the current date as a Long to pass to <code>setSelection</code> by using <code>MaterialDatePicker.todayInUtcMilliseconds()</code>"},{"owner":{"account_id":24133207,"reputation":3,"user_id":18100542,"display_name":"zEPH OP"},"score":0,"creation_date":1643833222,"post_id":70957045,"comment_id":125447407,"body_markdown":"I mean the initial selection not match with my real local date and the initial current date not match as well.","body":"I mean the initial selection not match with my real local date and the initial current date not match as well."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643833387,"post_id":70957045,"comment_id":125447454,"body_markdown":"Is it off by one day? Are you sure your device is set to the correct date? It uses UTC so your timeline should be irrelevant.","body":"Is it off by one day? Are you sure your device is set to the correct date? It uses UTC so your timeline should be irrelevant."},{"owner":{"account_id":24133207,"reputation":3,"user_id":18100542,"display_name":"zEPH OP"},"score":0,"creation_date":1643834784,"post_id":70957045,"comment_id":125447919,"body_markdown":"Yes, It off by one day. I&#39;m so confused my device setting absolutely correct. [link](https://sv1.picz.in.th/images/2022/02/03/ne34zb.png)","body":"Yes, It off by one day. I&#39;m so confused my device setting absolutely correct. <a href=\"https://sv1.picz.in.th/images/2022/02/03/ne34zb.png\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":24133207,"reputation":3,"user_id":18100542,"display_name":"zEPH OP"},"score":0,"creation_date":1643834971,"post_id":70957045,"comment_id":125447974,"body_markdown":"My current code (above code) it&#39;s correct date only selected date (green circle) but I want to set new black hollow circle date.","body":"My current code (above code) it&#39;s correct date only selected date (green circle) but I want to set new black hollow circle date."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643835572,"post_id":70957045,"comment_id":125448186,"body_markdown":"Sorry, I misunderstood your question. I donât think you can change the black circled date. It is on whatever the deviceâs current date is.","body":"Sorry, I misunderstood your question. I donât think you can change the black circled date. It is on whatever the deviceâs current date is."},{"owner":{"account_id":24133207,"reputation":3,"user_id":18100542,"display_name":"zEPH OP"},"score":0,"creation_date":1643835671,"post_id":70957045,"comment_id":125448220,"body_markdown":"Nevermind Thanks for the information.","body":"Nevermind Thanks for the information."}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643812026,"creation_date":1643812026,"answer_id":70957386,"question_id":70957045,"body_markdown":"I could be wrong, but I think you don&#39;t need to worry about timezone at all. It&#39;s all handled automatically. Remove all code regarding to your Calendar `c` and just do the selection with\r\n\r\n    materialDateBuilder.setSelection(Calendar.getInstance().timeInMillis)","title":"How can I set current date (Today&#39;s date) same as selected date in Material Date Picker Android","body":"<p>I could be wrong, but I think you don't need to worry about timezone at all. It's all handled automatically. Remove all code regarding to your Calendar <code>c</code> and just do the selection with</p>\n<pre><code>materialDateBuilder.setSelection(Calendar.getInstance().timeInMillis)\n</code></pre>\n"}],"owner":{"account_id":24133207,"reputation":3,"user_id":18100542,"display_name":"zEPH OP"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70957386,"answer_count":1,"score":0,"last_activity_date":1643812026,"creation_date":1643810715,"question_id":70957045,"body_markdown":"How can I set current date (Today&#39;s date) to my local date. My timezone is GMT+07:00. I can just set only setSelection() date but can&#39;t set current date.\r\n(Sorry for my any grammatical mistake and thank you in advance)\r\n[Calendar image][1]\r\n```\r\n  val c = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT+07:00&quot;))\r\n        val gmtTime: Long = c.getTime().getTime()\r\n        c.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Bangkok&quot;));\r\n        val timezoneThailand: Long = gmtTime + TimeZone.getTimeZone(&quot;Asia/Bangkok&quot;).rawOffset\r\n        c.setTimeInMillis(timezoneThailand)\r\n        val year = c.get(Calendar.YEAR)\r\n        val month = c.get(Calendar.MONTH)\r\n        val day = c.get(Calendar.DAY_OF_MONTH)\r\n\r\n//        view.chooseDateButton.text = c.toString()\r\n        val calendarConstraintBuilder = CalendarConstraints.Builder()\r\n        calendarConstraintBuilder.setStart(1640995200000)\r\n        calendarConstraintBuilder.setEnd(1646092800000)\r\n        calendarConstraintBuilder.setValidator(DateValidatorPointBackward.now());\r\n\r\n        val materialDateBuilder = MaterialDatePicker.Builder.datePicker()\r\n        materialDateBuilder.setTitleText(&quot;SELECT DATE TO SHOW IMAGES&quot;);\r\n\r\n        materialDateBuilder.setSelection(c.timeInMillis)\r\n\r\n//        materialDateBuilder.setTheme(R.style.DefaultDatePickerTheme)\r\n\r\n        materialDateBuilder.setCalendarConstraints(calendarConstraintBuilder.build())\r\n        val materialDatePicker : MaterialDatePicker&lt;*&gt; = materialDateBuilder.build()\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/yj6yR.png","title":"How can I set current date (Today&#39;s date) same as selected date in Material Date Picker Android","body":"<p>How can I set current date (Today's date) to my local date. My timezone is GMT+07:00. I can just set only setSelection() date but can't set current date.\n(Sorry for my any grammatical mistake and thank you in advance)\n<a href=\"https://i.stack.imgur.com/yj6yR.png\" rel=\"nofollow noreferrer\">Calendar image</a></p>\n<pre><code>  val c = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT+07:00&quot;))\n        val gmtTime: Long = c.getTime().getTime()\n        c.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Bangkok&quot;));\n        val timezoneThailand: Long = gmtTime + TimeZone.getTimeZone(&quot;Asia/Bangkok&quot;).rawOffset\n        c.setTimeInMillis(timezoneThailand)\n        val year = c.get(Calendar.YEAR)\n        val month = c.get(Calendar.MONTH)\n        val day = c.get(Calendar.DAY_OF_MONTH)\n\n//        view.chooseDateButton.text = c.toString()\n        val calendarConstraintBuilder = CalendarConstraints.Builder()\n        calendarConstraintBuilder.setStart(1640995200000)\n        calendarConstraintBuilder.setEnd(1646092800000)\n        calendarConstraintBuilder.setValidator(DateValidatorPointBackward.now());\n\n        val materialDateBuilder = MaterialDatePicker.Builder.datePicker()\n        materialDateBuilder.setTitleText(&quot;SELECT DATE TO SHOW IMAGES&quot;);\n\n        materialDateBuilder.setSelection(c.timeInMillis)\n\n//        materialDateBuilder.setTheme(R.style.DefaultDatePickerTheme)\n\n        materialDateBuilder.setCalendarConstraints(calendarConstraintBuilder.build())\n        val materialDatePicker : MaterialDatePicker&lt;*&gt; = materialDateBuilder.build()\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643811680,"post_id":70957196,"comment_id":125438361,"body_markdown":"Does this answer your question? [Java Stream: divide into two lists by boolean predicate](https://stackoverflow.com/questions/46958023/java-stream-divide-into-two-lists-by-boolean-predicate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46958023/java-stream-divide-into-two-lists-by-boolean-predicate\">Java Stream: divide into two lists by boolean predicate</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643811756,"post_id":70957196,"comment_id":125438400,"body_markdown":"Note that you can use [`partitioningBy(Predicate, Collector)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#partitioningBy-java.util.function.Predicate-java.util.stream.Collector-) in order to partition into sets instead of lists.","body":"Note that you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#partitioningBy-java.util.function.Predicate-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>partitioningBy(Predicate, Collector)</code></a> in order to partition into sets instead of lists."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1643818422,"post_id":70957196,"comment_id":125441577,"body_markdown":"Side note: conditional expressions work in this case too: `foos.forEach(f -&gt; (f.free &gt;= 0? positives: negatives).add(f.id));`","body":"Side note: conditional expressions work in this case too: <code>foos.forEach(f -&gt; (f.free &gt;= 0? positives: negatives).add(f.id));</code>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1643811756,"creation_date":1643811756,"answer_id":70957310,"question_id":70957196,"body_markdown":"You can indeed use `partitioningBy`. You can specify what to do with each partition in the second parameter.\r\n\r\n    var map = foos.stream().collect(Collectors.partitioningBy(\r\n        foo -&gt; foo.free &gt;= 0, // assuming no 0\r\n        // for each partition, map to id and collect to set\r\n        Collectors.mapping(foo -&gt; foo.id, Collectors.toSet())\r\n    ));\r\n\r\n`map.get(true)` will get you the set of `id`s with positive `free`s, and `map.get(false)` will get you the set of `ids` with negative `free`s.","title":"How to divide a stream by object fields into two sets?","body":"<p>You can indeed use <code>partitioningBy</code>. You can specify what to do with each partition in the second parameter.</p>\n<pre><code>var map = foos.stream().collect(Collectors.partitioningBy(\n    foo -&gt; foo.free &gt;= 0, // assuming no 0\n    // for each partition, map to id and collect to set\n    Collectors.mapping(foo -&gt; foo.id, Collectors.toSet())\n));\n</code></pre>\n<p><code>map.get(true)</code> will get you the set of <code>id</code>s with positive <code>free</code>s, and <code>map.get(false)</code> will get you the set of <code>ids</code> with negative <code>free</code>s.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70957310,"answer_count":1,"score":1,"last_activity_date":1643811756,"creation_date":1643811314,"question_id":70957196,"body_markdown":"I have a stream, where each object is identified by a unique id.\r\nMoreover, each object has a either positive or negative `Free` values.\r\n\r\nI want to divide this stream into two Sets, where one contains the `ids` whose `Free` values was positive, and one with the rest.\r\n\r\nBut I find the following not being the right way, as I&#39;m collecting into lists outside of the stream.\r\n\r\n    class Foo {\r\n        int free;\r\n        long id;\r\n    }\r\n\r\n\tpublic Tuple2&lt;Set&lt;Long&gt;, Set&lt;Long&gt;&gt; findPositiveAndNegativeIds() {\r\n\t\tSet&lt;Long&gt; positives = new HashSet&lt;&gt;();\r\n\t\tSet&lt;Long&gt; negatives = new HashSet&lt;&gt;();\r\n\r\n\t\tfoos.stream()\r\n\t\t\t\t.forEach(f -&gt; {\r\n\t\t\t\t\tif (f.free &gt;= 0) positigves.add(f.id);\r\n\t\t\t\t\telse negatives.add(f.id);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\treturn Tuple2.tuple(positives, negatives);\r\n    }\r\n\r\nCould this be done better, somehow with `partitionBy()` or similar?","title":"How to divide a stream by object fields into two sets?","body":"<p>I have a stream, where each object is identified by a unique id.\nMoreover, each object has a either positive or negative <code>Free</code> values.</p>\n<p>I want to divide this stream into two Sets, where one contains the <code>ids</code> whose <code>Free</code> values was positive, and one with the rest.</p>\n<p>But I find the following not being the right way, as I'm collecting into lists outside of the stream.</p>\n<pre><code>class Foo {\n    int free;\n    long id;\n}\n\npublic Tuple2&lt;Set&lt;Long&gt;, Set&lt;Long&gt;&gt; findPositiveAndNegativeIds() {\n    Set&lt;Long&gt; positives = new HashSet&lt;&gt;();\n    Set&lt;Long&gt; negatives = new HashSet&lt;&gt;();\n\n    foos.stream()\n            .forEach(f -&gt; {\n                if (f.free &gt;= 0) positigves.add(f.id);\n                else negatives.add(f.id);\n            });\n            \n    return Tuple2.tuple(positives, negatives);\n}\n</code></pre>\n<p>Could this be done better, somehow with <code>partitionBy()</code> or similar?</p>\n"},{"tags":["java","spring","active-directory","ldap"],"answers":[{"tags":[],"owner":{"account_id":6484433,"reputation":798,"user_id":5020462,"display_name":"Hazrelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643644717,"creation_date":1643644717,"answer_id":70928965,"question_id":70904620,"body_markdown":"Active Directory doesn&#39;t like empty string unless the search scope is set to base to discover the RootDSE. Nevertheless Active Directory supports the [LDAP_SERVER_SEARCH_OPTIONS_OID control](https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/782fa852-2aef-42cd-b3d7-3f7a85861289), especially the control value SERVER_SEARCH_FLAG_PHANTOM_ROO: \r\n\r\n&gt; This enables search bases such as the empty string, which would cause the server to search all of the NC replicas (except for application NCs on AD DS DCs) that it holds.\r\n\r\nUsing Spring for LDAP, you probably have to inherit from [AbstractRequestControlDirContextProcessor.java](https://github.com/spring-projects/spring-ldap/blob/main/core/src/main/java/org/springframework/ldap/control/AbstractRequestControlDirContextProcessor.java).\r\nYou may inspire from others controls already [defined](https://github.com/spring-projects/spring-ldap/tree/main/core/src/main/java/org/springframework/ldap/control) and include this new control in your search.","title":"Multiple CN groups authentication with Active Directory LDAP","body":"<p>Active Directory doesn't like empty string unless the search scope is set to base to discover the RootDSE. Nevertheless Active Directory supports the <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/782fa852-2aef-42cd-b3d7-3f7a85861289\" rel=\"nofollow noreferrer\">LDAP_SERVER_SEARCH_OPTIONS_OID control</a>, especially the control value SERVER_SEARCH_FLAG_PHANTOM_ROO:</p>\n<blockquote>\n<p>This enables search bases such as the empty string, which would cause the server to search all of the NC replicas (except for application NCs on AD DS DCs) that it holds.</p>\n</blockquote>\n<p>Using Spring for LDAP, you probably have to inherit from <a href=\"https://github.com/spring-projects/spring-ldap/blob/main/core/src/main/java/org/springframework/ldap/control/AbstractRequestControlDirContextProcessor.java\" rel=\"nofollow noreferrer\">AbstractRequestControlDirContextProcessor.java</a>.\nYou may inspire from others controls already <a href=\"https://github.com/spring-projects/spring-ldap/tree/main/core/src/main/java/org/springframework/ldap/control\" rel=\"nofollow noreferrer\">defined</a> and include this new control in your search.</p>\n"},{"tags":[],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643811737,"creation_date":1643811737,"answer_id":70957309,"question_id":70904620,"body_markdown":"I solved this issue by adding configuration to LdapTemplate. Now template finds users in AD without specifying the base.\r\n\r\n\r\nwas\r\n\r\n    @Bean\r\n    public LdapTemplate ldapTemplate() {\r\n        LdapTemplate ldapTemplate = new LdapTemplate(contextSource());\r\n        return ldapTemplate;\r\n    }\r\n\r\nnow\r\n\r\n    @Bean\r\n    public LdapTemplate ldapTemplate() {\r\n        LdapTemplate ldapTemplate = new LdapTemplate(contextSource());\r\n        ldapTemplate.setIgnorePartialResultException(true);\r\n        return ldapTemplate;\r\n    }","title":"Multiple CN groups authentication with Active Directory LDAP","body":"<p>I solved this issue by adding configuration to LdapTemplate. Now template finds users in AD without specifying the base.</p>\n<p>was</p>\n<pre><code>@Bean\npublic LdapTemplate ldapTemplate() {\n    LdapTemplate ldapTemplate = new LdapTemplate(contextSource());\n    return ldapTemplate;\n}\n</code></pre>\n<p>now</p>\n<pre><code>@Bean\npublic LdapTemplate ldapTemplate() {\n    LdapTemplate ldapTemplate = new LdapTemplate(contextSource());\n    ldapTemplate.setIgnorePartialResultException(true);\n    return ldapTemplate;\n}\n</code></pre>\n"}],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70957309,"answer_count":2,"score":0,"last_activity_date":1643811737,"creation_date":1643453863,"question_id":70904620,"body_markdown":"Using Active Directory with Spring for LDAP, If I specify the exact directory (base) of the search, for example `String base=&quot;CN=Administrators&quot;` search/authentication finds the user, but if passed to the method `.authenticate(String base=&quot;&quot;,  filter,  password)`, where base is an empty string, then it does not find it and gives an error\r\n\r\n    ldapTemplate.authenticate(&quot;&quot;, MessageFormat.format(&quot;(SamAccountName={0})&quot;, login), &quot;password&quot;)\r\n\r\n    //error\r\n    org.springframework.ldap.PartialResultException: Unprocessed Continuation Reference(s); \r\n    nested exception is javax.naming.PartialResultException: Unprocessed Continuation Reference(s);\r\n    remaining name &#39;/&#39;\r\n\r\nMoreover, if I connect to OpenLDAP and not to Active Directory, it allows me to specify an empty string `LdapTemplate.authenticate(String base=&quot;&quot;, filter, password)` and finds the user. As I understand it, OpenLDAP allows to search through all groups, which is what I need.\r\n\r\nFor example I have several CN Groups like `CN=Administrators`, `CN=FreeUsers`, `CN=System` etc with many CN users inside.\r\nHow to allow Active Directory search through all of them on authenticate?","title":"Multiple CN groups authentication with Active Directory LDAP","body":"<p>Using Active Directory with Spring for LDAP, If I specify the exact directory (base) of the search, for example <code>String base=&quot;CN=Administrators&quot;</code> search/authentication finds the user, but if passed to the method <code>.authenticate(String base=&quot;&quot;,  filter,  password)</code>, where base is an empty string, then it does not find it and gives an error</p>\n<pre><code>ldapTemplate.authenticate(&quot;&quot;, MessageFormat.format(&quot;(SamAccountName={0})&quot;, login), &quot;password&quot;)\n\n//error\norg.springframework.ldap.PartialResultException: Unprocessed Continuation Reference(s); \nnested exception is javax.naming.PartialResultException: Unprocessed Continuation Reference(s);\nremaining name '/'\n</code></pre>\n<p>Moreover, if I connect to OpenLDAP and not to Active Directory, it allows me to specify an empty string <code>LdapTemplate.authenticate(String base=&quot;&quot;, filter, password)</code> and finds the user. As I understand it, OpenLDAP allows to search through all groups, which is what I need.</p>\n<p>For example I have several CN Groups like <code>CN=Administrators</code>, <code>CN=FreeUsers</code>, <code>CN=System</code> etc with many CN users inside.\nHow to allow Active Directory search through all of them on authenticate?</p>\n"},{"tags":["java","xslt","fonts","apache-fop"],"owner":{"account_id":3324199,"reputation":380,"user_id":2794615,"accept_rate":50,"display_name":"ppysz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643811310,"creation_date":1381997430,"question_id":19421370,"body_markdown":"I want to make pdf stream. Without trying to add special characters it use to works, but with this part it doesn&#39;t streaming my pdf from third line\r\n\r\n    DefaultConfigurationBuilder cfgBuilder = new DefaultConfigurationBuilder();\r\n    File file1 = new File(&quot;fonts.xsl&quot;);\t  \r\n    Configuration cfg = cfgBuilder.buildFromFile(file1);\r\n    fopFactory.setUserConfig(cfg);\r\n\r\nHere is link to this  [fonts.xsl][1]\r\nAnd class with that code [FOPdpf][2]\r\n\r\n    \r\n    \r\n\r\n\r\n  [1]: http://pastebin.com/2pWkCNZ5\r\n  [2]: http://pastebin.com/kkuaVCht","title":"Fop - streaming PDF","body":"<p>I want to make pdf stream. Without trying to add special characters it use to works, but with this part it doesn't streaming my pdf from third line</p>\n\n<pre><code>DefaultConfigurationBuilder cfgBuilder = new DefaultConfigurationBuilder();\nFile file1 = new File(\"fonts.xsl\");   \nConfiguration cfg = cfgBuilder.buildFromFile(file1);\nfopFactory.setUserConfig(cfg);\n</code></pre>\n\n<p>Here is link to this  <a href=\"http://pastebin.com/2pWkCNZ5\" rel=\"nofollow\">fonts.xsl</a>\nAnd class with that code <a href=\"http://pastebin.com/kkuaVCht\" rel=\"nofollow\">FOPdpf</a></p>\n"},{"tags":["java","io","gzip"],"answers":[{"tags":[],"owner":{"account_id":10259245,"reputation":1507,"user_id":7571148,"display_name":"Markus Benko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1490471662,"creation_date":1490471662,"answer_id":43021237,"question_id":43020563,"body_markdown":"[According to the API doc for InputStream.read()](https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#read--) it does the following\r\n\r\n&gt; Reads the next byte of data from the input stream. The value byte is returned as an int in the range 0 to 255.\r\n\r\n[According to RFC 1952](https://www.rfc-editor.org/rfc/rfc1952#page-5) a GZIP file starts with ID1 and ID2 and\r\n\r\n&gt; have the fixed values ID1 = 31 (0x1f, \\037), ID2 = 139 (0x8b, \\213), to identify the file as being in gzip format.\r\n\r\nCalling `InputStream.read()` on a valid GZIP file will return 31 or 0x1f, a single byte and not the whole magic number that consists of two bytes. And as 31 is lower than `Byte.MAX_VALUE` (which is 127) the condition never resembles true in case of a valid GZIP file.\r\n\r\nYou should consider checking both ID1 and ID2 for being exactly the expected values for GZIP files.","title":"Distinguishing GZIP and non-GZIP format doesn&#39;t work","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#read--\" rel=\"nofollow noreferrer\">According to the API doc for InputStream.read()</a> it does the following</p>\n<blockquote>\n<p>Reads the next byte of data from the input stream. The value byte is returned as an int in the range 0 to 255.</p>\n</blockquote>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc1952#page-5\" rel=\"nofollow noreferrer\">According to RFC 1952</a> a GZIP file starts with ID1 and ID2 and</p>\n<blockquote>\n<p>have the fixed values ID1 = 31 (0x1f, \\037), ID2 = 139 (0x8b, \\213), to identify the file as being in gzip format.</p>\n</blockquote>\n<p>Calling <code>InputStream.read()</code> on a valid GZIP file will return 31 or 0x1f, a single byte and not the whole magic number that consists of two bytes. And as 31 is lower than <code>Byte.MAX_VALUE</code> (which is 127) the condition never resembles true in case of a valid GZIP file.</p>\n<p>You should consider checking both ID1 and ID2 for being exactly the expected values for GZIP files.</p>\n"}],"owner":{"account_id":7980699,"reputation":158,"user_id":6022167,"accept_rate":88,"display_name":"Gergely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43021237,"answer_count":1,"score":1,"last_activity_date":1643811308,"creation_date":1490468018,"question_id":43020563,"body_markdown":"I&#39;m working on an [NBT](http://wiki.vg/NBT &quot;A not too interesting format often compressed in GZIP&quot;) scanner software. It is supposed to read NBT data from files both with or without [GZIP](https://en.wikipedia.org/wiki/Gzip &quot;GZIP is a file format and a software application used for file compression and decompression.&quot;) compression. I use the following code to determine if the file is compressed in GZIP format. Assuming it is valid. (I&#39;m using a FileInputStream extension that supports mark/reset)\r\n\r\n\tpublic static InputStream GZIPCheck(InputStream in) throws IOException{\r\n\t\tin.mark(1);\r\n\t\tint header = in.read();\r\n\t\tin.reset();\r\n\t\tif(header &gt; Byte.MAX_VALUE){\r\n\t\t\treturn new GZIPInputStream(in);\r\n\t\t}\r\n\t\treturn in;\r\n\t}\r\n\r\nThe `NBT` format&#39;s prefix is a signed short (any value) that cannot be negative and the `GZIP` format starts with a negative short:\r\n\r\n    public final static int GZIP_MAGIC = 0x8b1f;\r\n\r\nThat makes it easy to distinguish between the two. I read the first byte, if it is negative, (unsigned version is bigger than Byte.MAX_VALUE) then it can&#39;t be `NBT`, so I try the GZIPInputStream. (If it fails, then the file is not valid.) If the first byte is positive, (or zero) then it can&#39;t be `GZIP` since it is inconsistent with `GZIP_MAGIC`, so I don&#39;t use it.\r\n\r\nHere&#39;s the thing: My method always returns the `in` parameter no matter what valid [file](http://minecraft.gamepedia.com/NBT_format &quot;I test on Minecraft&#39;s level.dat files. Thoose are NBT files encrypted with GZIP&quot;) I read. Why?","title":"Distinguishing GZIP and non-GZIP format doesn&#39;t work","body":"<p>I'm working on an <a href=\"http://wiki.vg/NBT\" rel=\"nofollow noreferrer\" title=\"A not too interesting format often compressed in GZIP\">NBT</a> scanner software. It is supposed to read NBT data from files both with or without <a href=\"https://en.wikipedia.org/wiki/Gzip\" rel=\"nofollow noreferrer\" title=\"GZIP is a file format and a software application used for file compression and decompression.\">GZIP</a> compression. I use the following code to determine if the file is compressed in GZIP format. Assuming it is valid. (I'm using a FileInputStream extension that supports mark/reset)</p>\n\n<pre><code>public static InputStream GZIPCheck(InputStream in) throws IOException{\n    in.mark(1);\n    int header = in.read();\n    in.reset();\n    if(header &gt; Byte.MAX_VALUE){\n        return new GZIPInputStream(in);\n    }\n    return in;\n}\n</code></pre>\n\n<p>The <code>NBT</code> format's prefix is a signed short (any value) that cannot be negative and the <code>GZIP</code> format starts with a negative short:</p>\n\n<pre><code>public final static int GZIP_MAGIC = 0x8b1f;\n</code></pre>\n\n<p>That makes it easy to distinguish between the two. I read the first byte, if it is negative, (unsigned version is bigger than Byte.MAX_VALUE) then it can't be <code>NBT</code>, so I try the GZIPInputStream. (If it fails, then the file is not valid.) If the first byte is positive, (or zero) then it can't be <code>GZIP</code> since it is inconsistent with <code>GZIP_MAGIC</code>, so I don't use it.</p>\n\n<p>Here's the thing: My method always returns the <code>in</code> parameter no matter what valid <a href=\"http://minecraft.gamepedia.com/NBT_format\" rel=\"nofollow noreferrer\" title=\"I test on Minecraft&#39;s level.dat files. Thoose are NBT files encrypted with GZIP\">file</a> I read. Why?</p>\n"},{"tags":["java","spring","spring-mvc","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643805724,"post_id":70955778,"comment_id":125435727,"body_markdown":"And how are you bootstrapping your Spring application? Where is your class registering the `DispatcherServlet` and web configuration? In short there is too little (relevant) information in your question to answer this.","body":"And how are you bootstrapping your Spring application? Where is your class registering the <code>DispatcherServlet</code> and web configuration? In short there is too little (relevant) information in your question to answer this."},{"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"score":0,"creation_date":1643806847,"post_id":70955778,"comment_id":125436214,"body_markdown":"I edited my question and added Config and Initializer classes.","body":"I edited my question and added Config and Initializer classes."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643807667,"post_id":70955778,"comment_id":125436579,"body_markdown":"Don&#39;t autowire the `ApplicationContext` into the configuration, the `SpringResourceTemplateResolver` is `ApplicationContextAware` and it will be automatically injected anyway. You also appear to be missing an `@EnableWebMvc` .","body":"Don&#39;t autowire the <code>ApplicationContext</code> into the configuration, the <code>SpringResourceTemplateResolver</code> is <code>ApplicationContextAware</code> and it will be automatically injected anyway. You also appear to be missing an <code>@EnableWebMvc</code> ."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643807765,"post_id":70955778,"comment_id":125436629,"body_markdown":"Another thing is you are using `@RestController` but your configuration makes me wonder if you intended to use `@Controller` as you are using Thymeleaf and don&#39;t have any other view related library in your dependencies, nor a serialization one like Jackson or Gson.","body":"Another thing is you are using <code>@RestController</code> but your configuration makes me wonder if you intended to use <code>@Controller</code> as you are using Thymeleaf and don&#39;t have any other view related library in your dependencies, nor a serialization one like Jackson or Gson."},{"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"score":0,"creation_date":1643809808,"post_id":70955778,"comment_id":125437536,"body_markdown":"I added ```@EnableWebMvc``` but that didn&#39;t help.\nI also had other setups for both Config and Initializer classes before but that didn&#39;t work, so I followed this tutorial. https://www.youtube.com/watch?v=A4iCQYoI4Cs \nBut even though I changed it still doesn&#39;t find the endpoint.","body":"I added <code>@EnableWebMvc</code> but that didn&#39;t help. I also had other setups for both Config and Initializer classes before but that didn&#39;t work, so I followed this tutorial. <a href=\"https://www.youtube.com/watch?v=A4iCQYoI4Cs\" rel=\"nofollow noreferrer\">youtube.com/watch?v=A4iCQYoI4Cs</a>  But even though I changed it still doesn&#39;t find the endpoint."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643811857,"post_id":70955778,"comment_id":125438457,"body_markdown":"As stated **what** are you trying to return? A view (as hinted on by your configuration) or the text `try`. As for the first to work you need `@Controller` instead of `@RestController`, for the latter you would need to add something like `Jackson` to your dependencies.","body":"As stated <b>what</b> are you trying to return? A view (as hinted on by your configuration) or the text <code>try</code>. As for the first to work you need <code>@Controller</code> instead of <code>@RestController</code>, for the latter you would need to add something like <code>Jackson</code> to your dependencies."},{"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"score":0,"creation_date":1643812496,"post_id":70955778,"comment_id":125438756,"body_markdown":"For this testing controller, I only return text, later in the program, I will return ResponceEntity.","body":"For this testing controller, I only return text, later in the program, I will return ResponceEntity."},{"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"score":0,"creation_date":1643812576,"post_id":70955778,"comment_id":125438802,"body_markdown":"As for the view, I cannot get it to return even if I change annotation to ```@Controller```","body":"As for the view, I cannot get it to return even if I change annotation to <code>@Controller</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643812580,"post_id":70955778,"comment_id":125438803,"body_markdown":"But you are requesting HTML (judging from the exception). Another thing which tomcat version are you deploying the application on? I do assume you actually build the application and deployed it? For the view you would need a `try.html` in your view directory.","body":"But you are requesting HTML (judging from the exception). Another thing which tomcat version are you deploying the application on? I do assume you actually build the application and deployed it? For the view you would need a <code>try.html</code> in your view directory."},{"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"score":0,"creation_date":1643812860,"post_id":70955778,"comment_id":125438943,"body_markdown":"I use tomcat 9.0.54, I add the war(exploded) artifact to the deployment section of server configurations.","body":"I use tomcat 9.0.54, I add the war(exploded) artifact to the deployment section of server configurations."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643813055,"post_id":70955778,"comment_id":125439040,"body_markdown":"Then it must be something you aren&#39;t explaining here. What you have should work, if it doesn&#39;t there is something that isn&#39;t in here. one thing is that the `servlet-api` dependency should have a different scope, but I doubt that that is the issue. Enable DEBUG logging, issue a request and figure out what is happening.","body":"Then it must be something you aren&#39;t explaining here. What you have should work, if it doesn&#39;t there is something that isn&#39;t in here. one thing is that the <code>servlet-api</code> dependency should have a different scope, but I doubt that that is the issue. Enable DEBUG logging, issue a request and figure out what is happening."},{"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"score":0,"creation_date":1643813095,"post_id":70955778,"comment_id":125439060,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/241654/discussion-between-judita-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/241654/discussion-between-judita-and-m-deinum\">continue this discussion in chat</a>."},{"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"score":0,"creation_date":1643813873,"post_id":70955778,"comment_id":125439474,"body_markdown":"And if I added something like this implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.1&#39;  would this be enough to return text or other stuff?","body":"And if I added something like this implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.1&#39;  would this be enough to return text or other stuff?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1643814084,"post_id":70955778,"comment_id":125439571,"body_markdown":"That depends on what content-type you are actually requesting and your browser is accepting. But as I stated, enable DEBUG logging and see what is going on when the request gets handled.","body":"That depends on what content-type you are actually requesting and your browser is accepting. But as I stated, enable DEBUG logging and see what is going on when the request gets handled."}],"owner":{"account_id":20078076,"reputation":119,"user_id":14721369,"display_name":"Judita "},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643811058,"creation_date":1643805463,"question_id":70955778,"body_markdown":"I am creating gradle Spring MVC project without Spring-Boot, and for some reason when I run Tomcat server doesn&#39;t see the endpoint in my controller class.\r\n\r\nMy controller is very simple just to test if it works:\r\n```\r\n@RestController\r\npublic class CertificateController {\r\n\r\n    @GetMapping(&quot;/home&quot;)\r\n    public String getAllCertificates() {\r\n        return &quot;try&quot;;\r\n    }\r\n}\r\n```\r\nMy Spring Configuration class:\r\n```\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;com.epam.esm&quot;)\r\n@EnableWebMvc\r\npublic class ApplicationConfig implements WebMvcConfigurer {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public ApplicationConfig(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(applicationContext);\r\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver());\r\n        templateEngine.setEnableSpringELCompiler(true);\r\n        return templateEngine;\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry) {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        registry.viewResolver(resolver);\r\n    }\r\n}\r\n```\r\nMy Initializer class:\r\n```\r\npublic class ApplicationInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[]{ApplicationConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[]{&quot;/&quot;};\r\n    }\r\n}\r\n```\r\nThe project itself is multi-module: API module for application configuration and controllers and CORE module for program logic which is currently empty. \r\n\r\nTo the server, I give the root project artifact. Root project gradle.build:\r\n\r\n```\r\nplugins {\r\n    id &#39;war&#39;\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\nsubprojects {\r\n    project(&#39;:api&#39;) {\r\n        apply plugin: &#39;application&#39;\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;war&#39;\r\n    }\r\n\r\n    project(&#39;:core&#39;) {\r\n        apply plugin: &#39;java&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    java {\r\n        sourceCompatibility(11)\r\n        targetCompatibility(11)\r\n    }\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework:spring-web:5.3.15&#39;\r\n        implementation &#39;org.springframework:spring-webmvc:5.3.15&#39;\r\n        implementation &#39;org.springframework:spring-context:5.3.15&#39;\r\n        implementation &#39;org.springframework:spring-jdbc:5.3.15&#39;\r\n\r\n        implementation &#39;org.thymeleaf:thymeleaf-spring5:3.0.13.RELEASE&#39;\r\n\r\n        implementation &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n\r\n        implementation &#39;org.postgresql:postgresql:42.1.4&#39;\r\n        implementation &#39;com.zaxxer:HikariCP:2.3.2&#39;\r\n\r\n        implementation &#39;org.apache.logging.log4j:log4j-api:2.16.0&#39;\r\n\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n        testImplementation &#39;org.mockito:mockito-core:2.1.0&#39;\r\n        testImplementation &#39;com.h2database:h2:1.3.148&#39;\r\n    }\r\n}\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\nThe server loads fine but when I try to access the endpoint it says:\r\n```\r\nThe origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n```\r\n","title":"Tomcat server not finding representations of endpoints","body":"<p>I am creating gradle Spring MVC project without Spring-Boot, and for some reason when I run Tomcat server doesn't see the endpoint in my controller class.</p>\n<p>My controller is very simple just to test if it works:</p>\n<pre><code>@RestController\npublic class CertificateController {\n\n    @GetMapping(&quot;/home&quot;)\n    public String getAllCertificates() {\n        return &quot;try&quot;;\n    }\n}\n</code></pre>\n<p>My Spring Configuration class:</p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = &quot;com.epam.esm&quot;)\n@EnableWebMvc\npublic class ApplicationConfig implements WebMvcConfigurer {\n\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public ApplicationConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n}\n</code></pre>\n<p>My Initializer class:</p>\n<pre><code>public class ApplicationInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[]{ApplicationConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{&quot;/&quot;};\n    }\n}\n</code></pre>\n<p>The project itself is multi-module: API module for application configuration and controllers and CORE module for program logic which is currently empty.</p>\n<p>To the server, I give the root project artifact. Root project gradle.build:</p>\n<pre><code>plugins {\n    id 'war'\n    id 'java'\n    id 'application'\n}\n\nsubprojects {\n    project(':api') {\n        apply plugin: 'application'\n        apply plugin: 'java'\n        apply plugin: 'war'\n    }\n\n    project(':core') {\n        apply plugin: 'java'\n    }\n\n    repositories {\n        mavenCentral()\n    }\n\n    java {\n        sourceCompatibility(11)\n        targetCompatibility(11)\n    }\n\n    dependencies {\n        implementation 'org.springframework:spring-web:5.3.15'\n        implementation 'org.springframework:spring-webmvc:5.3.15'\n        implementation 'org.springframework:spring-context:5.3.15'\n        implementation 'org.springframework:spring-jdbc:5.3.15'\n\n        implementation 'org.thymeleaf:thymeleaf-spring5:3.0.13.RELEASE'\n\n        implementation 'javax.servlet:javax.servlet-api:4.0.1'\n\n        implementation 'org.postgresql:postgresql:42.1.4'\n        implementation 'com.zaxxer:HikariCP:2.3.2'\n\n        implementation 'org.apache.logging.log4j:log4j-api:2.16.0'\n\n        testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n        testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n        testImplementation 'org.mockito:mockito-core:2.1.0'\n        testImplementation 'com.h2database:h2:1.3.148'\n    }\n}\n\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>The server loads fine but when I try to access the endpoint it says:</p>\n<pre><code>The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8366,"page":1626,"page_size":100}
