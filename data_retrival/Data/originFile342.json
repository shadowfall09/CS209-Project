{"items":[{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":4881564,"reputation":2243,"user_id":3935205,"accept_rate":100,"display_name":"alan7678"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1449566074,"creation_date":1449566074,"answer_id":34151968,"question_id":34070204,"body_markdown":"## TL;DR \nSimply replace the ${sys:value} lookup with the ${main:--value} lookup.\n\n## Explanation\nhttp://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup\n\nCombine this feature with configuration properties\n\nhttp://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\n\nAnd you can do some very powerful configuration with the arguments without ever touching code.\n\nPay close attention to this from the PropertySubstitution docs.\n\n&gt; If no value is found for the key in the Lookup associated with the\n&gt; prefix then the value associated with the key in the properties\n&gt; declaration in the configuration file will be used. If no value is\n&gt; found the variable declaration will be returned as the value. Default\n&gt; values may be declared in the configuration by doing:\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;Configuration&gt;\n      &lt;Properties&gt;\n        &lt;Property name=&quot;--file&quot;&gt;log_file_path&lt;/property&gt;\n      &lt;/Properties&gt;\n      ...\n    &lt;/Configuration&gt;\n\nThis means a configuration lookup like this `${main:--file}` would return the command line argument --file if it existed but if it did not would return the default value in the Properties declaration (im not sure if the name of the property would need to be &quot;file&quot; or &quot;--file&quot; for it to match correctly). There should be no need for code if your goal is to simply set the log file via argument upon startup.\n","title":"Log4j2 system property written as a file","body":"<h2>TL;DR</h2>\n<p>Simply replace the ${sys:value} lookup with the ${main:--value} lookup.</p>\n<h2>Explanation</h2>\n<p><a href=\"http://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup</a></p>\n<p>Combine this feature with configuration properties</p>\n<p><a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution</a></p>\n<p>And you can do some very powerful configuration with the arguments without ever touching code.</p>\n<p>Pay close attention to this from the PropertySubstitution docs.</p>\n<blockquote>\n<p>If no value is found for the key in the Lookup associated with the\nprefix then the value associated with the key in the properties\ndeclaration in the configuration file will be used. If no value is\nfound the variable declaration will be returned as the value. Default\nvalues may be declared in the configuration by doing:</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n  &lt;Properties&gt;\n    &lt;Property name=&quot;--file&quot;&gt;log_file_path&lt;/property&gt;\n  &lt;/Properties&gt;\n  ...\n&lt;/Configuration&gt;\n</code></pre>\n<p>This means a configuration lookup like this <code>${main:--file}</code> would return the command line argument --file if it existed but if it did not would return the default value in the Properties declaration (im not sure if the name of the property would need to be &quot;file&quot; or &quot;--file&quot; for it to match correctly). There should be no need for code if your goal is to simply set the log file via argument upon startup.</p>\n"}],"owner":{"account_id":3599861,"reputation":844,"user_id":3003393,"accept_rate":62,"display_name":"dmachop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10762,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":34151968,"answer_count":1,"score":5,"last_activity_date":1687949940,"creation_date":1449157515,"question_id":34070204,"body_markdown":"I use the following log4j2 configuration:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n    \t&lt;Appenders&gt;\r\n    \t\t&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    \t\t\t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %-5.5level %-60.60logger - %msg%n&quot; /&gt;\r\n    \t\t\t&lt;Filters&gt;\r\n    \t\t\t\t&lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot;\r\n    \t\t\t\t\tonMismatch=&quot;DENY&quot; /&gt;\r\n    \t\t\t&lt;/Filters&gt;\r\n    \t\t&lt;/Console&gt;\r\n    \t\t&lt;RollingFile name=&quot;RollingFile&quot;\r\n    \t\t\tfileName=&quot;${sys:log.file}&quot;\r\n    \t\t\tfilePattern=&quot;${sys:log.parent.path}\\$${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n    \t\t\t&lt;PatternLayout&gt;\r\n    \t\t\t\t&lt;Pattern&gt;\r\n    \t\t\t\t\t%d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n\r\n    \t\t\t\t&lt;/Pattern&gt;\r\n    \t\t\t&lt;/PatternLayout&gt;\r\n    \t\t\t&lt;Policies&gt;\r\n    \t\t\t\t&lt;TimeBasedTriggeringPolicy /&gt;\r\n    \t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;60 MB&quot; /&gt;\r\n    \t\t\t&lt;/Policies&gt;\r\n    \t\t&lt;/RollingFile&gt;\r\n    \t&lt;/Appenders&gt;\r\n    \t&lt;Loggers&gt;\r\n    \t\t&lt;Root level=&quot;trace&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n    \t\t&lt;/Root&gt;\r\n    \t&lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThe system parameters are set when the file location is passed as a command line parameter and then the function reconfigureLog() sets the properties\r\n\r\n    public static void reconfigureLog(String logPath)\r\n    \t{\r\n    \t\tFile logFile = new File(logPath);\r\n    \t\tSystem.setProperty(&quot;log.file&quot;, logPath);\r\n    \t\tSystem.setProperty(&quot;log.parent.path&quot;, logFile.getParent());\r\n    \t\tSystem.setProperty(&quot;log.file.name&quot;, FilenameUtils.getBaseName(logFile.getName()));\r\n    \r\n    \t\torg.apache.logging.log4j.core.Logger rootLogger = (org.apache.logging.log4j.core.Logger) LogManager\r\n    \t\t\t\t.getRootLogger();\r\n    \t\tLoggerContext context = rootLogger.getContext();\r\n    \t\tcontext.reconfigure();\r\n    \t}\r\n\r\nThis is the sample usage of the scenario where I read the parameters from the command line and then set it later.\r\n\r\n    if (cmd.hasOption(&quot;logFile&quot;))\r\n    \t\t{\r\n    \t\t\tString logPath = cmd.getOptionValue(&quot;logFile&quot;);\r\n    \t\t\tUtility.reconfigureLog(logPath);\r\n    \t\t\tlogger = LogManager.getLogger(Test.class);\r\n    \t\t}\r\n\r\nEvery class has a static logger initialization like this:\r\n\r\n    private final static Logger logger = LogManager.getLogger(Connector.class);\r\n\r\nThe issue is when I run the application, `${sys.log.file}` is being created and then the corresponding log file from the parameters is created. Prodding through the parameters it seems that the parameter fileName under the RolllingFile is automatically added. \r\n\r\nThe debug log for log4j2 is:\r\n\r\n    2015-12-03 11:07:19,204 main DEBUG Calling createAppender on class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile with params(fileName=&quot;${sys:log.file}&quot;, filePattern=&quot;${sys:log.parent.path}\\${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz&quot;, append=&quot;null&quot;, name=&quot;RollingFile&quot;, bufferedIO=&quot;null&quot;, bufferSize=&quot;null&quot;, immediateFlush=&quot;null&quot;, Policies(CompositeTriggeringPolicy(policies=[TimeBasedTriggeringPolicy(nextRolloverMillis=0, interval=1, modulate=false), SizeBasedTriggeringPolicy(size=62914560)])), null, PatternLayout(%d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n), null, ignoreExceptions=&quot;null&quot;, advertise=&quot;null&quot;, advertiseURI=&quot;null&quot;, Configuration(&lt;path&gt;\\Connector\\target\\classes\\log4j2.xml))\r\n    2015-12-03 11:07:19,207 main DEBUG Starting RollingFileManager ${sys:log.file}\r\n\r\nIt can be seen that the system parameter is literally picked instead of substitution. I need to avoid the early initialization and start this loading only after calling the reconfigureLog method.\r\nHow can I avoid `${sys.log.file}` being created when I can use system parameters as part of my application?","title":"Log4j2 system property written as a file","body":"<p>I use the following log4j2 configuration:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} %-5.5level %-60.60logger - %msg%n\" /&gt;\n            &lt;Filters&gt;\n                &lt;ThresholdFilter level=\"info\" onMatch=\"ACCEPT\"\n                    onMismatch=\"DENY\" /&gt;\n            &lt;/Filters&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=\"RollingFile\"\n            fileName=\"${sys:log.file}\"\n            filePattern=\"${sys:log.parent.path}\\$${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;\n                    %d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n\n                &lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"60 MB\" /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"trace\"&gt;\n            &lt;AppenderRef ref=\"RollingFile\" /&gt;\n            &lt;AppenderRef ref=\"Console\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>The system parameters are set when the file location is passed as a command line parameter and then the function reconfigureLog() sets the properties</p>\n\n<pre><code>public static void reconfigureLog(String logPath)\n    {\n        File logFile = new File(logPath);\n        System.setProperty(\"log.file\", logPath);\n        System.setProperty(\"log.parent.path\", logFile.getParent());\n        System.setProperty(\"log.file.name\", FilenameUtils.getBaseName(logFile.getName()));\n\n        org.apache.logging.log4j.core.Logger rootLogger = (org.apache.logging.log4j.core.Logger) LogManager\n                .getRootLogger();\n        LoggerContext context = rootLogger.getContext();\n        context.reconfigure();\n    }\n</code></pre>\n\n<p>This is the sample usage of the scenario where I read the parameters from the command line and then set it later.</p>\n\n<pre><code>if (cmd.hasOption(\"logFile\"))\n        {\n            String logPath = cmd.getOptionValue(\"logFile\");\n            Utility.reconfigureLog(logPath);\n            logger = LogManager.getLogger(Test.class);\n        }\n</code></pre>\n\n<p>Every class has a static logger initialization like this:</p>\n\n<pre><code>private final static Logger logger = LogManager.getLogger(Connector.class);\n</code></pre>\n\n<p>The issue is when I run the application, <code>${sys.log.file}</code> is being created and then the corresponding log file from the parameters is created. Prodding through the parameters it seems that the parameter fileName under the RolllingFile is automatically added. </p>\n\n<p>The debug log for log4j2 is:</p>\n\n<pre><code>2015-12-03 11:07:19,204 main DEBUG Calling createAppender on class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile with params(fileName=\"${sys:log.file}\", filePattern=\"${sys:log.parent.path}\\${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz\", append=\"null\", name=\"RollingFile\", bufferedIO=\"null\", bufferSize=\"null\", immediateFlush=\"null\", Policies(CompositeTriggeringPolicy(policies=[TimeBasedTriggeringPolicy(nextRolloverMillis=0, interval=1, modulate=false), SizeBasedTriggeringPolicy(size=62914560)])), null, PatternLayout(%d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n), null, ignoreExceptions=\"null\", advertise=\"null\", advertiseURI=\"null\", Configuration(&lt;path&gt;\\Connector\\target\\classes\\log4j2.xml))\n2015-12-03 11:07:19,207 main DEBUG Starting RollingFileManager ${sys:log.file}\n</code></pre>\n\n<p>It can be seen that the system parameter is literally picked instead of substitution. I need to avoid the early initialization and start this loading only after calling the reconfigureLog method.\nHow can I avoid <code>${sys.log.file}</code> being created when I can use system parameters as part of my application?</p>\n"},{"tags":["java","spring-boot","request"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":1,"creation_date":1687950850,"post_id":76572457,"comment_id":135007847,"body_markdown":"I am confused. How do you want to modify requests to third-party resources through your Spring-Boot-Backend when the frontend directly calls the third-party? That doesn&#39;t make sense.","body":"I am confused. How do you want to modify requests to third-party resources through your Spring-Boot-Backend when the frontend directly calls the third-party? That doesn&#39;t make sense."}],"owner":{"account_id":10018629,"reputation":149,"user_id":7409078,"display_name":"BenSV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687949533,"creation_date":1687949533,"question_id":76572457,"body_markdown":"I have a spring-boot application. A recent Qualys scan report shows following security threat \r\n\r\n        X-Content-Type-Options: Header missing\r\n\r\nIt has detected the following requests,\r\n\r\n - https://bat.bing.com/bat.js\r\n - https://cdn-pci.optimizely.com/js/199565681146.js\r\n - https://connect.facebook.net/en_US/fbevents.js\r\n\r\nBut when I check the code, this parameter is already added through Spring Security. And  `x-content-type-options:nosniff` can be seen in all of the responses except thrid party service like above detected by Qualys.\r\n\r\n**Rquests with `x-content-type-options:nosniff`**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Requests without it**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to add `x-content-type-options:nosniff` to above requests where it is missing. Please help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qZmes.png\r\n  [2]: https://i.stack.imgur.com/luPgB.png","title":"How to add X-Content-Type-Options:nosniff to every Response","body":"<p>I have a spring-boot application. A recent Qualys scan report shows following security threat</p>\n<pre><code>    X-Content-Type-Options: Header missing\n</code></pre>\n<p>It has detected the following requests,</p>\n<ul>\n<li><a href=\"https://bat.bing.com/bat.js\" rel=\"nofollow noreferrer\">https://bat.bing.com/bat.js</a></li>\n<li><a href=\"https://cdn-pci.optimizely.com/js/199565681146.js\" rel=\"nofollow noreferrer\">https://cdn-pci.optimizely.com/js/199565681146.js</a></li>\n<li><a href=\"https://connect.facebook.net/en_US/fbevents.js\" rel=\"nofollow noreferrer\">https://connect.facebook.net/en_US/fbevents.js</a></li>\n</ul>\n<p>But when I check the code, this parameter is already added through Spring Security. And  <code>x-content-type-options:nosniff</code> can be seen in all of the responses except thrid party service like above detected by Qualys.</p>\n<p><strong>Rquests with <code>x-content-type-options:nosniff</code></strong></p>\n<p><a href=\"https://i.stack.imgur.com/qZmes.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qZmes.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Requests without it</strong></p>\n<p><a href=\"https://i.stack.imgur.com/luPgB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luPgB.png\" alt=\"enter image description here\" /></a></p>\n<p>How to add <code>x-content-type-options:nosniff</code> to above requests where it is missing. Please help.</p>\n"},{"tags":["java","java-6"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1687949718,"post_id":76572420,"comment_id":135007606,"body_markdown":"Seems to be a SSL handshaking issue. You might not have the server signing certificate in your Java 6 installation, but it might be included in later Java versions (by default?). It might also depend on if the server certificate is self signed or not. Importing the certificates might do the trick.\nAnd then of course the obvious: Java 6 has gone end of life/end of support a long time ago. Don&#39;t trust it to run your server applications.","body":"Seems to be a SSL handshaking issue. You might not have the server signing certificate in your Java 6 installation, but it might be included in later Java versions (by default?). It might also depend on if the server certificate is self signed or not. Importing the certificates might do the trick. And then of course the obvious: Java 6 has gone end of life/end of support a long time ago. Don&#39;t trust it to run your server applications."},{"owner":{"account_id":1077457,"reputation":8074,"user_id":1075282,"display_name":"Renat"},"score":0,"creation_date":1687949747,"post_id":76572420,"comment_id":135007611,"body_markdown":"From this answer, it may work with `6.91 version of JDK` : https://stackoverflow.com/a/32220941/1075282","body":"From this answer, it may work with <code>6.91 version of JDK</code> : <a href=\"https://stackoverflow.com/a/32220941/1075282\">stackoverflow.com/a/32220941/1075282</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687960132,"post_id":76572420,"comment_id":135009953,"body_markdown":"You might just try `-Djavax.net.ssl.trustStore=&lt;path to Java 8 certs&gt;` (Usually `$JAVA_HOME/lib/security/jssecacerts` or `$JAVA_HOME/lib/security/cacerts`) Hacky but might work for testing","body":"You might just try <code>-Djavax.net.ssl.trustStore=&lt;path to Java 8 certs&gt;</code> (Usually <code>$JAVA_HOME&#47;lib&#47;security&#47;jssecacerts</code> or <code>$JAVA_HOME&#47;lib&#47;security&#47;cacerts</code>) Hacky but might work for testing"}],"owner":{"account_id":28421174,"reputation":1,"user_id":21743230,"display_name":"ANJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687949400,"creation_date":1687949209,"question_id":76572420,"body_markdown":" \r\n\r\n\r\n```\r\nimport com.sun.jersey.api.client.Client;\r\nimport com.sun.jersey.api.client.ClientResponse;\r\nimport com.sun.jersey.api.client.WebResource;\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static com.oxdeo.serviceclient.constants.*;\r\n\r\npublic class TokenService {\r\n    protected final Log logger = LogFactory.getLog(TokenService.class);\r\n    private static String bodyStr = &quot;grant_type=client_credentials&amp;client_id=&quot; + coreClientId + &quot;&amp;client_secret=&quot; + coreClientSecret;\r\n\r\n    private Client jerseyClient = new Client();\r\n\r\n    public String getToken() {\r\n        WebResource webResource = jerseyClient.resource(coreTokenURL);\r\n        ClientResponse clientResponse = webResource.type(&quot;application/x-www-form-urlencoded&quot;).post(ClientResponse.class, bodyStr);\r\n        logger.info(&quot;client response  token: &quot; + clientResponse.getStatus());\r\n        String token = null;\r\n        if (clientResponse.getStatus() == 200) {\r\n            token = parseToken(clientResponse);\r\n        } else {\r\n            logger.error(&quot;Unable to get  token. response:&quot; + clientResponse.getStatus());\r\n        }\r\n        return token;\r\n    }\r\n\r\n    private String parseToken(ClientResponse clientResponse) {\r\n        String accessToken=&quot;&quot;;\r\n        String responseStr = clientResponse.getEntity(String.class);\r\n        JSONObject jsonResponse = new JSONObject(responseStr);\r\n        if(clientResponse.getStatus() &gt;=200 &amp;&amp; clientResponse.getStatus()  &lt;=204) {\r\n             accessToken = jsonResponse.getString(&quot;access_token&quot;);\r\n        }\r\n        return accessToken;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nIn the above code I running the local server on Java 1.6 and  calling a API to get the token but I am getting the error like:\r\n\r\n&gt; javax.net.ssl.SSLPeerUnverifiedException peer not authenticated\r\n\r\nThe API which I am calling may running on Java 8 OR 11, but If I run this  code with Java 8 I am able to get the response. What do I need to change here or any configuration to make to return response with Java 6? I tested with the Apache library also but getting the same error with all.","title":"Able to call API with Java 8 but not with 6?","body":"<pre><code>import com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.client.WebResource;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\n\nimport static com.oxdeo.serviceclient.constants.*;\n\npublic class TokenService {\n    protected final Log logger = LogFactory.getLog(TokenService.class);\n    private static String bodyStr = &quot;grant_type=client_credentials&amp;client_id=&quot; + coreClientId + &quot;&amp;client_secret=&quot; + coreClientSecret;\n\n    private Client jerseyClient = new Client();\n\n    public String getToken() {\n        WebResource webResource = jerseyClient.resource(coreTokenURL);\n        ClientResponse clientResponse = webResource.type(&quot;application/x-www-form-urlencoded&quot;).post(ClientResponse.class, bodyStr);\n        logger.info(&quot;client response  token: &quot; + clientResponse.getStatus());\n        String token = null;\n        if (clientResponse.getStatus() == 200) {\n            token = parseToken(clientResponse);\n        } else {\n            logger.error(&quot;Unable to get  token. response:&quot; + clientResponse.getStatus());\n        }\n        return token;\n    }\n\n    private String parseToken(ClientResponse clientResponse) {\n        String accessToken=&quot;&quot;;\n        String responseStr = clientResponse.getEntity(String.class);\n        JSONObject jsonResponse = new JSONObject(responseStr);\n        if(clientResponse.getStatus() &gt;=200 &amp;&amp; clientResponse.getStatus()  &lt;=204) {\n             accessToken = jsonResponse.getString(&quot;access_token&quot;);\n        }\n        return accessToken;\n    }\n\n}\n</code></pre>\n<p>In the above code I running the local server on Java 1.6 and  calling a API to get the token but I am getting the error like:</p>\n<blockquote>\n<p>javax.net.ssl.SSLPeerUnverifiedException peer not authenticated</p>\n</blockquote>\n<p>The API which I am calling may running on Java 8 OR 11, but If I run this  code with Java 8 I am able to get the response. What do I need to change here or any configuration to make to return response with Java 6? I tested with the Apache library also but getting the same error with all.</p>\n"},{"tags":["java","hex","offset","radius","neighbours"],"owner":{"account_id":21031095,"reputation":1,"user_id":15455466,"display_name":"Katsuhige"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687949154,"creation_date":1687948734,"question_id":76572369,"body_markdown":"I hardcoded to get neighbors in a radius of 1 or 2. I could hardcode the radius 3 also, but I wonder how I can use some loop etc to have any radius I want?\r\nWhen the red Hex is the center, how can I get every Hex inside the radius?\r\n\r\n[Hexagon](https://i.stack.imgur.com/pWGRp.png)\r\n\r\nThats how I coded the directions for 1 and 2 radius:\r\n\r\n```java\r\n\r\nprivate static final Vector2[] directions2Even = {\r\n    new Vector2(1,-1), new Vector2(1,0), new Vector2(0,1),\r\n    new Vector2(-1,0), new Vector2(-1,-1), new Vector2(0,-1)\r\n};\r\n \r\nprivate static final Vector2[] directions2Odd = {\r\n    new Vector2(1,0), new Vector2(1,1), new Vector2(0,1),\r\n    new Vector2(-1,1), new Vector2(-1,0), new Vector2(0,-1)\r\n};\r\n\r\nprivate static final Vector2[] directions2BigEven = {\r\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,1),\r\n    new Vector2(0,2), new Vector2(-1,1), new Vector2(-2,1),\r\n         \r\n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-2),\r\n    new Vector2(0,-2), new Vector2(1,-2), new Vector2(2,-1)\r\n\r\n};\r\n\r\nprivate static final Vector2[] directions2BigOdd = {\r\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,2),\r\n    new Vector2(0,2), new Vector2(-1,2), new Vector2(-2,1),\r\n        \r\n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-1),\r\n    new Vector2(0,-2), new Vector2(1,-1), new Vector2(2,-1)\r\n};\r\n```\r\n\r\nI read https://www.redblobgames.com/ but he only shows some code for cubes.","title":"Offset Hexagon - Getting Neighbors in x Radius","body":"<p>I hardcoded to get neighbors in a radius of 1 or 2. I could hardcode the radius 3 also, but I wonder how I can use some loop etc to have any radius I want?\nWhen the red Hex is the center, how can I get every Hex inside the radius?</p>\n<p><a href=\"https://i.stack.imgur.com/pWGRp.png\" rel=\"nofollow noreferrer\">Hexagon</a></p>\n<p>Thats how I coded the directions for 1 and 2 radius:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate static final Vector2[] directions2Even = {\n    new Vector2(1,-1), new Vector2(1,0), new Vector2(0,1),\n    new Vector2(-1,0), new Vector2(-1,-1), new Vector2(0,-1)\n};\n \nprivate static final Vector2[] directions2Odd = {\n    new Vector2(1,0), new Vector2(1,1), new Vector2(0,1),\n    new Vector2(-1,1), new Vector2(-1,0), new Vector2(0,-1)\n};\n\nprivate static final Vector2[] directions2BigEven = {\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,1),\n    new Vector2(0,2), new Vector2(-1,1), new Vector2(-2,1),\n         \n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-2),\n    new Vector2(0,-2), new Vector2(1,-2), new Vector2(2,-1)\n\n};\n\nprivate static final Vector2[] directions2BigOdd = {\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,2),\n    new Vector2(0,2), new Vector2(-1,2), new Vector2(-2,1),\n        \n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-1),\n    new Vector2(0,-2), new Vector2(1,-1), new Vector2(2,-1)\n};\n</code></pre>\n<p>I read <a href=\"https://www.redblobgames.com/\" rel=\"nofollow noreferrer\">https://www.redblobgames.com/</a> but he only shows some code for cubes.</p>\n"},{"tags":["java","apache-kafka","openshift","quarkus","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687948862,"creation_date":1687948862,"answer_id":76572387,"question_id":76571989,"body_markdown":"Quarkus has not yet support for OpenTelemetry (OTel) Metrics and Logs. It is planned.\r\nYou have OTel Tracing and Micrometer metrics with the [Quarkiverse&#39;s OTLP registry][1]. \r\n\r\nPlease mind that the OTel Agent is not recommended to use with Quarkus because it doesn&#39;t properly handle context propagation between imperative and reactive code. \r\n\r\nYou have a demo app, with Micrometer and OTel tracing sending data with OTLP, as an example here: https://github.com/brunobat/quarkus-observability-demo/tree/main/quarkus-observability-demo-micrometer\r\n\r\n\r\n  [1]: https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp","title":"Quarkus Java logs are not retrieved in Opentelemetry receiver","body":"<p>Quarkus has not yet support for OpenTelemetry (OTel) Metrics and Logs. It is planned.\nYou have OTel Tracing and Micrometer metrics with the <a href=\"https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp\" rel=\"nofollow noreferrer\">Quarkiverse's OTLP registry</a>.</p>\n<p>Please mind that the OTel Agent is not recommended to use with Quarkus because it doesn't properly handle context propagation between imperative and reactive code.</p>\n<p>You have a demo app, with Micrometer and OTel tracing sending data with OTLP, as an example here: <a href=\"https://github.com/brunobat/quarkus-observability-demo/tree/main/quarkus-observability-demo-micrometer\" rel=\"nofollow noreferrer\">https://github.com/brunobat/quarkus-observability-demo/tree/main/quarkus-observability-demo-micrometer</a></p>\n"}],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687948862,"creation_date":1687945854,"question_id":76571989,"body_markdown":"I have deployed a quarkus application in openshift and annotated the deployment with \r\nopentelemetry auto-instrumentation.\r\n\r\nThe problem is that I can able to retrieve the metrics and traces. But logs are missing. \r\n\r\n\r\n**Annotation CLI command is**\r\n\r\n&gt; oc patch deployment.apps/quarkus-app -p &#39;{&quot;spec&quot;:\r\n&gt; {&quot;template&quot;: {&quot;metadata&quot;: {&quot;annotations&quot;:\r\n&gt; {&quot;instrumentation.opentelemetry.io/inject-java&quot;: &quot;true&quot;}}}}}&#39;\r\n\r\n\r\nThis is my auto-instrumentation yaml\r\n\r\n    apiVersion: opentelemetry.io/v1alpha1 kind: Instrumentation metadata:  name: demo-autoinst   namespace: opentele spec:   propagators:\r\n        - tracecontext\r\n        - baggage\r\n        - b3   sampler:\r\n        type: parentbased_traceidratio\r\n        argument: &quot;1&quot;   java:\r\n        image: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-java:latest\r\n        env:\r\n          - name: OTEL_EXPORTER_OTLP_ENDPOINT\r\n            value: &quot;http://url:4317&quot;\r\n\r\n\r\nThis is my collector yaml\r\n\r\n    apiVersion: opentelemetry.io/v1alpha1\r\n    kind: OpenTelemetryCollector\r\n    metadata:\r\n      name: demo\r\n      namepsace: opentele\r\n    spec:\r\n      image: ghcr.io/open-telemetry/opentelemetry-collector-releases/opentelemetry-collector-contrib:0.78.0\r\n      config: |\r\n        receivers:\r\n          otlp:\r\n            protocols:\r\n              grpc:\r\n              http:\r\n    \r\n        processors:\r\n          batch:\r\n        \r\n        exporters:\r\n          logging:\r\n            loglevel: info\r\n\r\n          kafka/logs:\r\n          brokers: \r\n            - url:9092\r\n          topic: all-logs-1\r\n          encoding: otlp_json\r\n          protocol_version: 3.4.0 \r\n\r\n        service:\r\n          pipelines:\r\n            traces:\r\n              receivers: [otlp]\r\n              processors: [batch]\r\n              exporters: [...]\r\n    \r\n            metrics:\r\n              receivers: [otlp]\r\n              processors: [batch]\r\n              exporters: [...]\r\n    \r\n            logs:\r\n              receivers: [otlp]\r\n              processors: [batch]\r\n              exporters: [logging,kafka/logs]\r\n              \r\n      mode: deployment\r\n      resources: {}\r\n      targetAllocator: {}\r\n\r\nCan anyone help me on this.","title":"Quarkus Java logs are not retrieved in Opentelemetry receiver","body":"<p>I have deployed a quarkus application in openshift and annotated the deployment with\nopentelemetry auto-instrumentation.</p>\n<p>The problem is that I can able to retrieve the metrics and traces. But logs are missing.</p>\n<p><strong>Annotation CLI command is</strong></p>\n<blockquote>\n<p>oc patch deployment.apps/quarkus-app -p '{&quot;spec&quot;:\n{&quot;template&quot;: {&quot;metadata&quot;: {&quot;annotations&quot;:\n{&quot;instrumentation.opentelemetry.io/inject-java&quot;: &quot;true&quot;}}}}}'</p>\n</blockquote>\n<p>This is my auto-instrumentation yaml</p>\n<pre><code>apiVersion: opentelemetry.io/v1alpha1 kind: Instrumentation metadata:  name: demo-autoinst   namespace: opentele spec:   propagators:\n    - tracecontext\n    - baggage\n    - b3   sampler:\n    type: parentbased_traceidratio\n    argument: &quot;1&quot;   java:\n    image: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-java:latest\n    env:\n      - name: OTEL_EXPORTER_OTLP_ENDPOINT\n        value: &quot;http://url:4317&quot;\n</code></pre>\n<p>This is my collector yaml</p>\n<pre><code>apiVersion: opentelemetry.io/v1alpha1\nkind: OpenTelemetryCollector\nmetadata:\n  name: demo\n  namepsace: opentele\nspec:\n  image: ghcr.io/open-telemetry/opentelemetry-collector-releases/opentelemetry-collector-contrib:0.78.0\n  config: |\n    receivers:\n      otlp:\n        protocols:\n          grpc:\n          http:\n\n    processors:\n      batch:\n    \n    exporters:\n      logging:\n        loglevel: info\n\n      kafka/logs:\n      brokers: \n        - url:9092\n      topic: all-logs-1\n      encoding: otlp_json\n      protocol_version: 3.4.0 \n\n    service:\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [...]\n\n        metrics:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [...]\n\n        logs:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [logging,kafka/logs]\n          \n  mode: deployment\n  resources: {}\n  targetAllocator: {}\n</code></pre>\n<p>Can anyone help me on this.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687948135,"creation_date":1687948135,"question_id":76572300,"body_markdown":"For example, I have an Article entity, that has @ManyToMany collection of Rubric entities:\r\n\r\n```\r\n@Entity\r\npublic class Article {\r\n...\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;article_rubrics&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;article_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;rubrics_id&quot;))\r\n    private Set&lt;Rubric&gt; rubrics;\r\n...\r\n```\r\nEntity Rubric doesn&#39;t have reference of Article.\r\nI need to get, for example, paginated collection of Articles:\r\n```\r\nPageRequest page = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;createdAt&quot;);\r\n```\r\n- If I will use ```postRepository.findAll(page)``` method, I will get N + 1 problem.\r\n- If I will use HQL join fetch query ```select p from Post p left join fetch p.rubrics where```, I Hibernate will take all posts &amp; rubrics and paginate them in memory, warning: &gt; HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory.\r\n\r\nSo what is the right way to get entities from DB? Maybe a way to paginate data in memory is not so bad?\r\nSpring Boot 3, Java, Hibernate\r\n\r\n","title":"How to get entity collection with connected entities from DB with pagination using Hibernate and Spring Data JPA?","body":"<p>For example, I have an Article entity, that has @ManyToMany collection of Rubric entities:</p>\n<pre><code>@Entity\npublic class Article {\n...\n    @ManyToMany\n    @JoinTable(name = &quot;article_rubrics&quot;,\n        joinColumns = @JoinColumn(name = &quot;article_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;rubrics_id&quot;))\n    private Set&lt;Rubric&gt; rubrics;\n...\n</code></pre>\n<p>Entity Rubric doesn't have reference of Article.\nI need to get, for example, paginated collection of Articles:</p>\n<pre><code>PageRequest page = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;createdAt&quot;);\n</code></pre>\n<ul>\n<li>If I will use <code>postRepository.findAll(page)</code> method, I will get N + 1 problem.</li>\n<li>If I will use HQL join fetch query <code>select p from Post p left join fetch p.rubrics where</code>, I Hibernate will take all posts &amp; rubrics and paginate them in memory, warning: &gt; HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory.</li>\n</ul>\n<p>So what is the right way to get entities from DB? Maybe a way to paginate data in memory is not so bad?\nSpring Boot 3, Java, Hibernate</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687947824,"creation_date":1687947824,"answer_id":76572256,"question_id":76570817,"body_markdown":"Okay so the solution to my problem was apparently an issue I don&#39;t understand with `postForEntity()` so instead I had to use `exchange()` like so:\r\n\r\n```lang-java\r\npublic ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\r\n        String ticket = authTicketService.getTicket(username, passwd);\r\n\r\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\r\n\r\n        HttpHeaders headers = buildHeaders(ticket);\r\n\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n\r\n        LOGGER.info(entity);\r\n\r\n        return restTemplate.exchange(url, HttpMethod.GET, entity, Users.class);\r\n    }\r\n```\r\n\r\nInside my `GetUsersService` class.\r\n\r\nI also renamed the field inside `Users` from `userList` to `users`.\r\n\r\nIt now works as expected. ","title":"Java HttpHeaders - Error Response Saying Custom Header Not In Request Despite Logs Showing The Custom Header","body":"<p>Okay so the solution to my problem was apparently an issue I don't understand with <code>postForEntity()</code> so instead I had to use <code>exchange()</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\n        String ticket = authTicketService.getTicket(username, passwd);\n\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\n\n        HttpHeaders headers = buildHeaders(ticket);\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\n\n        LOGGER.info(entity);\n\n        return restTemplate.exchange(url, HttpMethod.GET, entity, Users.class);\n    }\n</code></pre>\n<p>Inside my <code>GetUsersService</code> class.</p>\n<p>I also renamed the field inside <code>Users</code> from <code>userList</code> to <code>users</code>.</p>\n<p>It now works as expected.</p>\n"}],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76572256,"answer_count":1,"score":1,"last_activity_date":1687947824,"creation_date":1687936263,"question_id":76570817,"body_markdown":"I have a simple task, to update a set of users. To retrieve the set of users, I make a call to an endpoint, (not one I have touched, I just have the URL).\r\n\r\nI need to get an authentication ticket to pass through the header when I call the endpoint that returns me the list of users. When I test in Postman, my authentication ticket endpoint works fine, but when I then try to use the service as a helper method when I call `getUsers()`, I get an error saying &quot;no OTDSTicket&quot;.\r\n\r\nHere is my controller:\r\n```lang-java\r\npackage com.cybg.digitilisation.controller;\r\n\r\nimport com.cybg.digitilisation.entity.AuthUser;\r\nimport com.cybg.digitilisation.entity.Users;\r\nimport com.cybg.digitilisation.service.GetAuthTicketService;\r\nimport com.cybg.digitilisation.service.GetUsersService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@Configuration\r\npublic class DigitizationController {\r\n\r\n    private final GetAuthTicketService getAuthTicketService;\r\n    private final GetUsersService getUsersService;\r\n\r\n    @Autowired\r\n    public DigitizationController(GetAuthTicketService getAuthTicketService, GetUsersService getUsersService) {\r\n        this.getAuthTicketService = getAuthTicketService;\r\n        this.getUsersService = getUsersService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getTicket&quot;, produces = { &quot;application/json&quot; })\r\n    public ResponseEntity&lt;String&gt; geTicket(@RequestBody AuthUser user) {\r\n        String ticket = getAuthTicketService.getTicket(user.getUsername(), user.getPassword());\r\n        return ResponseEntity.ok(ticket);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getUsers&quot;, produces = { &quot;application/json&quot; })\r\n    public ResponseEntity&lt;Users&gt; getUsers(@RequestBody AuthUser user) {\r\n        return getUsersService.getUsers(user.getUsername(), user.getPassword());\r\n    }\r\n}\r\n```\r\n\r\nHere is the `GetAuthTicketService()` class:\r\n```lang-java\r\npackage com.cybg.digitilisation.service;\r\n\r\nimport com.cybg.digitilisation.entity.AuthTicket;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.util.Objects;\r\n\r\n@Service\r\npublic class GetAuthTicketService {\r\n    private static final Logger LOGGER = LogManager.getLogger();\r\n    private final RestTemplate restTemplate;\r\n\r\n    @Value(&quot;${endpoint.auth}&quot;)\r\n    private String url;\r\n\r\n    @Autowired\r\n    public GetAuthTicketService(RestTemplate restTemplate) {\r\n        super();\r\n        this.restTemplate = restTemplate;\r\n    }\r\n\r\n\r\n    public String getTicket(String username, String passwd) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        String request = &quot;{ \\&quot;userName\\&quot;: \\&quot;&quot; + username + &quot;\\&quot;, \\&quot;password\\&quot;: \\&quot;&quot; + passwd + &quot;\\&quot; }&quot;;\r\n        LOGGER.info(request);\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(request, headers);\r\n        LOGGER.info(entity);\r\n        AuthTicket ticket = restTemplate.postForObject(url, entity, AuthTicket.class);\r\n\r\n        if (Objects.nonNull(ticket)) {\r\n            LOGGER.info(&quot;Ticket is {}&quot;, ticket.getTicket());\r\n\r\n            return ticket.getTicket();\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my `GetUsersService()` class:\r\n```lang-java\r\npackage com.cybg.digitilisation.service;\r\n\r\nimport com.cybg.digitilisation.entity.Users;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Service\r\npublic class GetUsersService {\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger();\r\n\r\n    @Value(&quot;${endpoint.users}&quot;)\r\n    private String url;\r\n    private final RestTemplate restTemplate;\r\n    private final GetAuthTicketService authTicketService;\r\n\r\n    @Autowired\r\n    public GetUsersService(RestTemplate restTemplate, GetAuthTicketService authTicketService) {\r\n        super();\r\n        this.restTemplate = restTemplate;\r\n        this.authTicketService = authTicketService;\r\n    }\r\n\r\n    public ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\r\n        String ticket = authTicketService.getTicket(username, passwd);\r\n\r\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\r\n\r\n        HttpHeaders headers = buildHeaders(ticket);\r\n\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n\r\n        LOGGER.info(entity);\r\n\r\n        return restTemplate.getForEntity(url, Users.class, entity);\r\n    }\r\n\r\n    private HttpHeaders buildHeaders(String ticket) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        headers.set(&quot;OTDSTicket&quot;, ticket);\r\n        return headers;\r\n    }\r\n}\r\n```\r\n\r\nI am using `application.properties` to store the endpoint for the calls.\r\nWhen I call the `/getTicket` endpoint, everything works as expected, printing out the required String.\r\n\r\nWhen I then call `/getUsers` endpoint, passing in the OTDSTicket as a custom header, I get this error:\r\n```lang-json\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-06-28T07:06:09.076+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;\\n\\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\\n\\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\\n\\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)\\n\\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:367)\\n\\tat com.cybg.digitilisation.service.GetUsersService.getUsers(GetUsersService.java:43)\\n\\tat com.cybg.digitilisation.controller.DigitizationController.getUsers(DigitizationController.java:35)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\r\n    &quot;message&quot;: &quot;401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;&quot;,\r\n    &quot;path&quot;: &quot;/getUsers&quot;\r\n}\r\n```\r\n\r\nIs there something I am missing? \r\n\r\nThe logs show me the request containing the ticket:\r\n```\r\n&lt;[Content-Type:&quot;application/json&quot;, OTDSTicket:&quot;long_string_representing_token&quot;]&gt;\r\n```\r\n\r\n(I&#39;ve omitted the token for what I hope are obvious reasons).\r\n\r\nEDIT: I am using Spring 2.7.13","title":"Java HttpHeaders - Error Response Saying Custom Header Not In Request Despite Logs Showing The Custom Header","body":"<p>I have a simple task, to update a set of users. To retrieve the set of users, I make a call to an endpoint, (not one I have touched, I just have the URL).</p>\n<p>I need to get an authentication ticket to pass through the header when I call the endpoint that returns me the list of users. When I test in Postman, my authentication ticket endpoint works fine, but when I then try to use the service as a helper method when I call <code>getUsers()</code>, I get an error saying &quot;no OTDSTicket&quot;.</p>\n<p>Here is my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.cybg.digitilisation.controller;\n\nimport com.cybg.digitilisation.entity.AuthUser;\nimport com.cybg.digitilisation.entity.Users;\nimport com.cybg.digitilisation.service.GetAuthTicketService;\nimport com.cybg.digitilisation.service.GetUsersService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@Configuration\npublic class DigitizationController {\n\n    private final GetAuthTicketService getAuthTicketService;\n    private final GetUsersService getUsersService;\n\n    @Autowired\n    public DigitizationController(GetAuthTicketService getAuthTicketService, GetUsersService getUsersService) {\n        this.getAuthTicketService = getAuthTicketService;\n        this.getUsersService = getUsersService;\n    }\n\n    @GetMapping(value = &quot;/getTicket&quot;, produces = { &quot;application/json&quot; })\n    public ResponseEntity&lt;String&gt; geTicket(@RequestBody AuthUser user) {\n        String ticket = getAuthTicketService.getTicket(user.getUsername(), user.getPassword());\n        return ResponseEntity.ok(ticket);\n    }\n\n    @GetMapping(value = &quot;/getUsers&quot;, produces = { &quot;application/json&quot; })\n    public ResponseEntity&lt;Users&gt; getUsers(@RequestBody AuthUser user) {\n        return getUsersService.getUsers(user.getUsername(), user.getPassword());\n    }\n}\n</code></pre>\n<p>Here is the <code>GetAuthTicketService()</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.cybg.digitilisation.service;\n\nimport com.cybg.digitilisation.entity.AuthTicket;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.Objects;\n\n@Service\npublic class GetAuthTicketService {\n    private static final Logger LOGGER = LogManager.getLogger();\n    private final RestTemplate restTemplate;\n\n    @Value(&quot;${endpoint.auth}&quot;)\n    private String url;\n\n    @Autowired\n    public GetAuthTicketService(RestTemplate restTemplate) {\n        super();\n        this.restTemplate = restTemplate;\n    }\n\n\n    public String getTicket(String username, String passwd) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        String request = &quot;{ \\&quot;userName\\&quot;: \\&quot;&quot; + username + &quot;\\&quot;, \\&quot;password\\&quot;: \\&quot;&quot; + passwd + &quot;\\&quot; }&quot;;\n        LOGGER.info(request);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(request, headers);\n        LOGGER.info(entity);\n        AuthTicket ticket = restTemplate.postForObject(url, entity, AuthTicket.class);\n\n        if (Objects.nonNull(ticket)) {\n            LOGGER.info(&quot;Ticket is {}&quot;, ticket.getTicket());\n\n            return ticket.getTicket();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>And this is my <code>GetUsersService()</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.cybg.digitilisation.service;\n\nimport com.cybg.digitilisation.entity.Users;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.RestTemplate;\n\n@Service\npublic class GetUsersService {\n\n    private static final Logger LOGGER = LogManager.getLogger();\n\n    @Value(&quot;${endpoint.users}&quot;)\n    private String url;\n    private final RestTemplate restTemplate;\n    private final GetAuthTicketService authTicketService;\n\n    @Autowired\n    public GetUsersService(RestTemplate restTemplate, GetAuthTicketService authTicketService) {\n        super();\n        this.restTemplate = restTemplate;\n        this.authTicketService = authTicketService;\n    }\n\n    public ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\n        String ticket = authTicketService.getTicket(username, passwd);\n\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\n\n        HttpHeaders headers = buildHeaders(ticket);\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\n\n        LOGGER.info(entity);\n\n        return restTemplate.getForEntity(url, Users.class, entity);\n    }\n\n    private HttpHeaders buildHeaders(String ticket) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;OTDSTicket&quot;, ticket);\n        return headers;\n    }\n}\n</code></pre>\n<p>I am using <code>application.properties</code> to store the endpoint for the calls.\nWhen I call the <code>/getTicket</code> endpoint, everything works as expected, printing out the required String.</p>\n<p>When I then call <code>/getUsers</code> endpoint, passing in the OTDSTicket as a custom header, I get this error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2023-06-28T07:06:09.076+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;\\n\\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\\n\\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\\n\\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)\\n\\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:367)\\n\\tat com.cybg.digitilisation.service.GetUsersService.getUsers(GetUsersService.java:43)\\n\\tat com.cybg.digitilisation.controller.DigitizationController.getUsers(DigitizationController.java:35)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\n    &quot;message&quot;: &quot;401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;&quot;,\n    &quot;path&quot;: &quot;/getUsers&quot;\n}\n</code></pre>\n<p>Is there something I am missing?</p>\n<p>The logs show me the request containing the ticket:</p>\n<pre><code>&lt;[Content-Type:&quot;application/json&quot;, OTDSTicket:&quot;long_string_representing_token&quot;]&gt;\n</code></pre>\n<p>(I've omitted the token for what I hope are obvious reasons).</p>\n<p>EDIT: I am using Spring 2.7.13</p>\n"},{"tags":["java","graph","shortest-path","large-data"],"comments":[{"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"score":1,"creation_date":1333048573,"post_id":9930446,"comment_id":12678748,"body_markdown":"Just found some info on [JGraphT](http://jgrapht-users.107614.n3.nabble.com/Max-limit-of-vertices-td1194057.html). Apparently it should handle these graphs no problem...","body":"Just found some info on <a href=\"http://jgrapht-users.107614.n3.nabble.com/Max-limit-of-vertices-td1194057.html\" rel=\"nofollow noreferrer\">JGraphT</a>. Apparently it should handle these graphs no problem..."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1333042816,"creation_date":1333042816,"answer_id":9930542,"question_id":9930446,"body_markdown":"You should take a look at [Neo4J][1] which is a graphical database which might be a good solution for your problems.\r\n\r\n\r\n  [1]: http://neo4j.org/","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>You should take a look at <a href=\"http://neo4j.org/\" rel=\"nofollow\">Neo4J</a> which is a graphical database which might be a good solution for your problems.</p>\n"},{"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333048896,"creation_date":1333042976,"answer_id":9930579,"question_id":9930446,"body_markdown":"Checkout [JGraph][1] as well. However it is oriented towards visualization. \r\n\r\nAlso, maybe [Apache Hama][2] - a distributed computing framework for massive scientific computations e.g., matrix, graph and network algorithms.\r\n\r\n[Annas][3] may also interest you - open-source Java framework that was built for developers and researchers in the fields of Graph Theory - AI, Path finding, distributed systems, etc.\r\n\r\n\r\n  [1]: http://www.jgraph.com/\r\n  [2]: http://incubator.apache.org/hama/\r\n  [3]: http://code.google.com/p/annas/","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>Checkout <a href=\"http://www.jgraph.com/\" rel=\"nofollow\">JGraph</a> as well. However it is oriented towards visualization. </p>\n\n<p>Also, maybe <a href=\"http://incubator.apache.org/hama/\" rel=\"nofollow\">Apache Hama</a> - a distributed computing framework for massive scientific computations e.g., matrix, graph and network algorithms.</p>\n\n<p><a href=\"http://code.google.com/p/annas/\" rel=\"nofollow\">Annas</a> may also interest you - open-source Java framework that was built for developers and researchers in the fields of Graph Theory - AI, Path finding, distributed systems, etc.</p>\n"},{"tags":[],"owner":{"account_id":1713786,"reputation":1100,"user_id":1571315,"display_name":"Aapo Kyrola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345846814,"creation_date":1345846814,"answer_id":12117376,"question_id":9930446,"body_markdown":"Cassovary https://github.com/twitter/cassovary -project from Twitter can handle very big graphs with Scala (thus JVM) in memory.\r\n\r\nAlternatively, GraphChi&#39;s Java version can handle even bigger graphs, by using disk: http://code.google.com/p/graphchi-java/ \r\n\r\nHowever, GraphChi will not be efficient for exact shortest-path type algorithms, as they require fast random access. ","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>Cassovary <a href=\"https://github.com/twitter/cassovary\" rel=\"nofollow\">https://github.com/twitter/cassovary</a> -project from Twitter can handle very big graphs with Scala (thus JVM) in memory.</p>\n\n<p>Alternatively, GraphChi's Java version can handle even bigger graphs, by using disk: <a href=\"http://code.google.com/p/graphchi-java/\" rel=\"nofollow\">http://code.google.com/p/graphchi-java/</a> </p>\n\n<p>However, GraphChi will not be efficient for exact shortest-path type algorithms, as they require fast random access. </p>\n"},{"tags":[],"owner":{"account_id":28911132,"reputation":1,"user_id":22144106,"display_name":"Lei Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687946913,"creation_date":1687946913,"answer_id":76572144,"question_id":9930446,"body_markdown":"My answer may be a bit late for the you, but for others who have similar questions, I would recommend using **[GraphScope][1]**, a one-stop graph computing system developed by Alibaba. It will meet your **needs for large-scale graphs**.\r\n\r\nIf you want to write your graph algorithm in Java, then you&#39;re in luck. GraphScope provides comprehensive Java support. You can use **[GRAPE-JDK][2]**&#39;s user-friendly Java interface to write **your own graph algorithms**.\r\n\r\nIn addition to the ease of use of the interface, **GRAPE-JDK** also provides high query performance. Using the LLVM4JNI technology provided by **[FastFFI][3]**, it can accelerate JNI calls between Java and C++, thus reducing program execution time. According to [performance report][4] provided by GraphScope, GRAPE-JDK can even provide execution efficiency that is close to that of C++ programs.\r\n\r\nIf you would like to learn more about **GRAPE-JDK**, please visit this blog post: [Breaking the Language Barrier in Large Scale Graph Computing][5].\r\n\r\nDisclaimer: I&#39;m an author of GraphScope.\r\n\r\n  [1]: https://graphscope.io/\r\n  [2]: https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\r\n  [3]: https://github.com/alibaba/fastFFI\r\n  [4]: https://github.com/alibaba/GraphScope/blob/main/analytical_engine/java/performance.md\r\n  [5]: https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>My answer may be a bit late for the you, but for others who have similar questions, I would recommend using <strong><a href=\"https://graphscope.io/\" rel=\"nofollow noreferrer\">GraphScope</a></strong>, a one-stop graph computing system developed by Alibaba. It will meet your <strong>needs for large-scale graphs</strong>.</p>\n<p>If you want to write your graph algorithm in Java, then you're in luck. GraphScope provides comprehensive Java support. You can use <strong><a href=\"https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\" rel=\"nofollow noreferrer\">GRAPE-JDK</a></strong>'s user-friendly Java interface to write <strong>your own graph algorithms</strong>.</p>\n<p>In addition to the ease of use of the interface, <strong>GRAPE-JDK</strong> also provides high query performance. Using the LLVM4JNI technology provided by <strong><a href=\"https://github.com/alibaba/fastFFI\" rel=\"nofollow noreferrer\">FastFFI</a></strong>, it can accelerate JNI calls between Java and C++, thus reducing program execution time. According to <a href=\"https://github.com/alibaba/GraphScope/blob/main/analytical_engine/java/performance.md\" rel=\"nofollow noreferrer\">performance report</a> provided by GraphScope, GRAPE-JDK can even provide execution efficiency that is close to that of C++ programs.</p>\n<p>If you would like to learn more about <strong>GRAPE-JDK</strong>, please visit this blog post: <a href=\"https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing\" rel=\"nofollow noreferrer\">Breaking the Language Barrier in Large Scale Graph Computing</a>.</p>\n<p>Disclaimer: I'm an author of GraphScope.</p>\n"}],"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":9930542,"answer_count":4,"score":8,"last_activity_date":1687946913,"creation_date":1333042418,"question_id":9930446,"body_markdown":"I&#39;m working on a project which will involve running algorithms on large graphs.  The largest two have around 300k and 600k vertices (fairly sparse I think).  I&#39;m hoping to find a java library that can handle graphs that large, and also trees of a somewhat smaller size, as one of the algorithms I&#39;ll be using involves decomposing a graph into a tree.  Ideally the library would also include breadth first search and Dijkstra&#39;s or other shortest-path algorithms.\r\n\r\nBased on [another question][1], I&#39;ve been looking at a few libraries ([JGraphT][2], [JUNG][3], [jdsl][4], [yworks][5]) but I&#39;m having a hard time finding out how many vertices they can realistically handle.  Looking at their documentation, all I could find was a bit in the [JUNG FAQ][6] that said it could easily handle graphs of upwards of 150k vertices, which is still quite a bit smaller than my graphs...  I&#39;m hoping someone here has used one or more of these libraries and can tell me if it&#39;ll handle the graph sizes I need, or if there&#39;s some other library that would be better.\r\n\r\nFor the record I don&#39;t need any visualization tools; this is strictly about representing the graphs and trees in data structures and running algorithms on them.\r\n\r\nBackground if anyone really cares: for a class I&#39;m supposed to implement an algorithm described in a research paper, and run the experiments run in the paper as best I can.  The paper and datasets I&#39;ll be using can be found [here][7]. My professor says I can use any library I can find as long as I can tell what the time/space complexity of the algorithms/data structures are.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51574/good-java-graph-algorithm-library\r\n  [2]: http://jgrapht.sourceforge.net/\r\n  [3]: http://jung.sourceforge.net/\r\n  [4]: http://www.cs.brown.edu/cgc/jdsl/\r\n  [5]: http://docs.yworks.com/yfiles/doc/api/\r\n  [6]: http://jung.sourceforge.net/faq.html#graphsize\r\n  [7]: http://dbis.informatik.uni-freiburg.de/index.php?project=TEDI","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>I'm working on a project which will involve running algorithms on large graphs.  The largest two have around 300k and 600k vertices (fairly sparse I think).  I'm hoping to find a java library that can handle graphs that large, and also trees of a somewhat smaller size, as one of the algorithms I'll be using involves decomposing a graph into a tree.  Ideally the library would also include breadth first search and Dijkstra's or other shortest-path algorithms.</p>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/51574/good-java-graph-algorithm-library\">another question</a>, I've been looking at a few libraries (<a href=\"http://jgrapht.sourceforge.net/\" rel=\"nofollow noreferrer\">JGraphT</a>, <a href=\"http://jung.sourceforge.net/\" rel=\"nofollow noreferrer\">JUNG</a>, <a href=\"http://www.cs.brown.edu/cgc/jdsl/\" rel=\"nofollow noreferrer\">jdsl</a>, <a href=\"http://docs.yworks.com/yfiles/doc/api/\" rel=\"nofollow noreferrer\">yworks</a>) but I'm having a hard time finding out how many vertices they can realistically handle.  Looking at their documentation, all I could find was a bit in the <a href=\"http://jung.sourceforge.net/faq.html#graphsize\" rel=\"nofollow noreferrer\">JUNG FAQ</a> that said it could easily handle graphs of upwards of 150k vertices, which is still quite a bit smaller than my graphs...  I'm hoping someone here has used one or more of these libraries and can tell me if it'll handle the graph sizes I need, or if there's some other library that would be better.</p>\n\n<p>For the record I don't need any visualization tools; this is strictly about representing the graphs and trees in data structures and running algorithms on them.</p>\n\n<p>Background if anyone really cares: for a class I'm supposed to implement an algorithm described in a research paper, and run the experiments run in the paper as best I can.  The paper and datasets I'll be using can be found <a href=\"http://dbis.informatik.uni-freiburg.de/index.php?project=TEDI\" rel=\"nofollow noreferrer\">here</a>. My professor says I can use any library I can find as long as I can tell what the time/space complexity of the algorithms/data structures are.</p>\n"},{"tags":["java","docker","kubernetes","ssl-certificate"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687947179,"post_id":76572028,"comment_id":135007099,"body_markdown":"You could use a `Secret`, which basically is a `ConfigMap` with values encoded in base64.","body":"You could use a <code>Secret</code>, which basically is a <code>ConfigMap</code> with values encoded in base64."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687954236,"post_id":76572028,"comment_id":135008475,"body_markdown":"&quot;I need to provide the public key&quot;: no you don&#39;t. The public key by itself proves nothing. You need to provide the entire certificate, and you need to make the `*private* key accessible to the code that sends the certificate.","body":"&quot;I need to provide the public key&quot;: no you don&#39;t. The public key by itself proves nothing. You need to provide the entire certificate, and you need to make the `*private* key accessible to the code that sends the certificate."}],"owner":{"account_id":9213198,"reputation":97,"user_id":15110545,"display_name":"user15110545"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687946149,"creation_date":1687946149,"question_id":76572028,"body_markdown":"In my org we have services that use self-signed SSL certificates. When I want to connect to these services from a dockerized Java application running on Kubernetes I need to provide the public key of those services to the Java TrustStore, otherwise I get a `SSLHandshakeException`.\r\n\r\nI see two options to provide those public keys to the Java TrustStore:\r\n\r\n1. Incorporate the public key in the Dockerfile\r\n2. Provide the public key as ConfigMap and mount it as a volume to a container (see [this answer][1])\r\n\r\nAre there any other options? In my opinion option 2 would be more flexible as I wouldn&#39;t have to rebuild the docker image when I need to replace the public key and I wouldn&#39;t have to modify all Dockerfiles of services that connect to the services with the self-signed certificates, or am I missing something?\r\n\r\n  [1]: https://stackoverflow.com/a/66669396/15110545","title":"Where to put public key of self-signed certifcate for application running on Kubernetes?","body":"<p>In my org we have services that use self-signed SSL certificates. When I want to connect to these services from a dockerized Java application running on Kubernetes I need to provide the public key of those services to the Java TrustStore, otherwise I get a <code>SSLHandshakeException</code>.</p>\n<p>I see two options to provide those public keys to the Java TrustStore:</p>\n<ol>\n<li>Incorporate the public key in the Dockerfile</li>\n<li>Provide the public key as ConfigMap and mount it as a volume to a container (see <a href=\"https://stackoverflow.com/a/66669396/15110545\">this answer</a>)</li>\n</ol>\n<p>Are there any other options? In my opinion option 2 would be more flexible as I wouldn't have to rebuild the docker image when I need to replace the public key and I wouldn't have to modify all Dockerfiles of services that connect to the services with the self-signed certificates, or am I missing something?</p>\n"},{"tags":["java","memory","optimization","dijkstra"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1522949650,"post_id":49678201,"comment_id":86368010,"body_markdown":"&quot;*Would using adjacency list be enough?*&quot; - Why not try? Generally, different graph representations are optimized for different kind of graphs. An adjacency list has linear space in N iff. the degree of all node is limited by a constant (e.g. &quot;no node has more than five connections&quot;).","body":"&quot;<i>Would using adjacency list be enough?</i>&quot; - Why not try? Generally, different graph representations are optimized for different kind of graphs. An adjacency list has linear space in N iff. the degree of all node is limited by a constant (e.g. &quot;no node has more than five connections&quot;)."},{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":0,"creation_date":1522953263,"post_id":49678201,"comment_id":86370021,"body_markdown":"The max number of nodes vs. the max number of edges tells me that an adjacency list is probably going to be more efficient here.  An adjacency matrix requires memory equal to the number of nodes squared, but thanks to your problem constraints you know that you are guaranteed to have no more than 50000 edges, which is only 2.5 times the number of nodes in the worst case.","body":"The max number of nodes vs. the max number of edges tells me that an adjacency list is probably going to be more efficient here.  An adjacency matrix requires memory equal to the number of nodes squared, but thanks to your problem constraints you know that you are guaranteed to have no more than 50000 edges, which is only 2.5 times the number of nodes in the worst case."},{"owner":{"account_id":7259460,"reputation":9,"user_id":5536807,"display_name":"Miner123"},"score":0,"creation_date":1522999497,"post_id":49678201,"comment_id":86386155,"body_markdown":"Thanks! Using adjacency list actually worked.","body":"Thanks! Using adjacency list actually worked."}],"answers":[{"tags":[],"owner":{"account_id":11680025,"reputation":25,"user_id":8552102,"display_name":"drop table"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522952169,"creation_date":1522952169,"answer_id":49678936,"question_id":49678201,"body_markdown":"I think that you&#39;ll have to find a better way to hold the graph information. This line:\r\n\r\n    long[][] graph = new long[computers+1][computers+1]\r\n\r\ncould take up to 20001*20001*8 bytes, that is 3GB!\r\n\r\nAs your net has few connections per node I&#39;d suggest storing the graph as a HashMap of HashMaps of connections:\r\n\r\n    class Connection {\r\n        int nodeA, nodeB;\r\n        long time;\r\n    }\r\n\r\n    HashMap&lt;Integer, HashMap&lt;Integer, Connection&gt;&gt; graph;\r\n\r\nIt may sound less efficient, but you are saving all the blank edges. Then you add the Connection to the graph indexed by both nodes (nodeA and nodeB):\r\n\r\n    void addConnection(Connection c)\r\n    {\r\n       HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeA);\r\n       if(subgraph == null)\r\n           subgraph = new HashMap&lt;&gt;();\r\n       subgraph.put(c.nodeB, c);\r\n       \r\n       HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeB);\r\n       if(subgraph == null)\r\n           subgraph = new HashMap&lt;&gt;();\r\n       subgraph.put(c.nodeA, c);\r\n    }\r\n\r\nAnd retrieve the connection descriptor like:\r\n\r\n    long getConnection(int nodeA, int nodeB)\r\n    {\r\n        ArrayList&lt;Connection&gt; subgraph = graph.get(nodeA);\r\n        if(subgraph == null)\r\n            return 0L;\r\n        Connection c = subgraph.get(nodeB);\r\n        if(c == null)\r\n            return 0L;\r\n        return c.time;\r\n    }\r\n\r\nThis should make your program slower but much more memory efficient.\r\n\r\nWARNING: The code is not tested, it&#39;s just for clarification.","title":"Dijkstra algorithm in weighted graph in Java with big graph","body":"<p>I think that you'll have to find a better way to hold the graph information. This line:</p>\n\n<pre><code>long[][] graph = new long[computers+1][computers+1]\n</code></pre>\n\n<p>could take up to 20001*20001*8 bytes, that is 3GB!</p>\n\n<p>As your net has few connections per node I'd suggest storing the graph as a HashMap of HashMaps of connections:</p>\n\n<pre><code>class Connection {\n    int nodeA, nodeB;\n    long time;\n}\n\nHashMap&lt;Integer, HashMap&lt;Integer, Connection&gt;&gt; graph;\n</code></pre>\n\n<p>It may sound less efficient, but you are saving all the blank edges. Then you add the Connection to the graph indexed by both nodes (nodeA and nodeB):</p>\n\n<pre><code>void addConnection(Connection c)\n{\n   HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeA);\n   if(subgraph == null)\n       subgraph = new HashMap&lt;&gt;();\n   subgraph.put(c.nodeB, c);\n\n   HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeB);\n   if(subgraph == null)\n       subgraph = new HashMap&lt;&gt;();\n   subgraph.put(c.nodeA, c);\n}\n</code></pre>\n\n<p>And retrieve the connection descriptor like:</p>\n\n<pre><code>long getConnection(int nodeA, int nodeB)\n{\n    ArrayList&lt;Connection&gt; subgraph = graph.get(nodeA);\n    if(subgraph == null)\n        return 0L;\n    Connection c = subgraph.get(nodeB);\n    if(c == null)\n        return 0L;\n    return c.time;\n}\n</code></pre>\n\n<p>This should make your program slower but much more memory efficient.</p>\n\n<p>WARNING: The code is not tested, it's just for clarification.</p>\n"},{"tags":[],"owner":{"account_id":28911132,"reputation":1,"user_id":22144106,"display_name":"Lei Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687945483,"creation_date":1687945483,"answer_id":76571944,"question_id":49678201,"body_markdown":"When the size of the graph is large, in-memory single-machine computing methods often face **the embarrassment of OOM**. Instead of spending a lot of time on performance optimization, I recommend that you try some ready-made graph computing systems, such as **GraphScope**. GraphScope is a large-scale one-stop graph computing system open sourced by Alibaba, which can basically meet all your needs for graph computing。\r\n\r\nSince you are more familiar with Java, why not try using **[GRAPE-JDK][1]** provided by GraphScope？ It provide a user-friendly Java API, and achieves performance comparable to c++ implementations for many graph algorithms.\r\nYou can make use of [the sample implementation of SSSP][2]. \r\n\r\nFor more information about **GRAPE-JDK**, please check this blog[Breaking the Language Barrier in Large Scale Graph Computing][3].\r\n\r\nDisclaimer: I&#39;m an author of GraphScope.\r\n\r\n\r\n\r\n  [1]: https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\r\n  [2]: https://github.com/GraphScope/gs-algos\r\n  [3]: https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing","title":"Dijkstra algorithm in weighted graph in Java with big graph","body":"<p>When the size of the graph is large, in-memory single-machine computing methods often face <strong>the embarrassment of OOM</strong>. Instead of spending a lot of time on performance optimization, I recommend that you try some ready-made graph computing systems, such as <strong>GraphScope</strong>. GraphScope is a large-scale one-stop graph computing system open sourced by Alibaba, which can basically meet all your needs for graph computing。</p>\n<p>Since you are more familiar with Java, why not try using <strong><a href=\"https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\" rel=\"nofollow noreferrer\">GRAPE-JDK</a></strong> provided by GraphScope？ It provide a user-friendly Java API, and achieves performance comparable to c++ implementations for many graph algorithms.\nYou can make use of <a href=\"https://github.com/GraphScope/gs-algos\" rel=\"nofollow noreferrer\">the sample implementation of SSSP</a>.</p>\n<p>For more information about <strong>GRAPE-JDK</strong>, please check this blog<a href=\"https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing\" rel=\"nofollow noreferrer\">Breaking the Language Barrier in Large Scale Graph Computing</a>.</p>\n<p>Disclaimer: I'm an author of GraphScope.</p>\n"}],"owner":{"account_id":7259460,"reputation":9,"user_id":5536807,"display_name":"Miner123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687945483,"creation_date":1522949387,"question_id":49678201,"body_markdown":"My task is to write a program to calculate shortest time it takes to go from node A(start) to node B(end) on a weighted graph(I&#39;m using dijkstra algorithm). \r\nTime requirement is 2 seconds on memory limit is 64 MB and I can assume that entered data is valid  \r\nFirst line has 4 whole numbers:   \r\nAmount of nodes M(2 ≤ M ≤ 20000)  \r\nAmount of edges(connections) N(0 ≤  N ≤ 50000)  \r\nStart node A(0 ≤ A &lt; M) and end node O (0 ≤ O &lt; M).\r\n   \r\nNext N lines has connection info represented with three whole numbers:  \r\nconnected computers and the time between them in milliseconds(edge weight).\r\nMy code doesn&#39;t pass all the tests. If i test my code with a big graph then it fails as heap memory runs out(about 900MB on my machine).  \r\n**My problem**: How do i optimize my code so it fits into requirements?  \r\nWould using adjacency list be enough?  \r\nMy code is this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Route3 {\r\n      public static int minDistance(ArrayList&lt;Long&gt; mindist, ArrayList&lt;Boolean&gt; visited){\r\n        long min = Long.MAX_VALUE;\r\n        int minindex = -1;\r\n        for (int i = 0; i &lt; mindist.size(); i++) {\r\n            if(!visited.get(i) &amp;&amp; (mindist.get(i) &lt;= min)) {\r\n                min = mindist.get(i);\r\n                minindex = i;\r\n            }\r\n        }\r\n        return minindex;\r\n    }\r\n    public static long dijkstra(long[][] graph, int start, int end) {\r\n        int computers = graph.length;\r\n        ArrayList&lt;Boolean&gt; traversed = new ArrayList&lt;&gt;(); //Hold traversed nodes\r\n        for (int i = 0; i &lt; computers; i++) {\r\n            traversed.add(i,false);\r\n        }\r\n        ArrayList&lt;Long&gt; mindist = new ArrayList&lt;&gt;(); //Holds mindistances to nodes based on index\r\n        for (int i = 0; i &lt; computers; i++) {\r\n            mindist.add(i,Long.MAX_VALUE);\r\n        }\r\n        mindist.set(start,(long)0);\r\n\r\n        for (int i = 0; i &lt; computers; i++) {\r\n            int min = minDistance(mindist,traversed);\r\n            if(min == -1) return mindist.get(end);\r\n            traversed.set(min,true);\r\n            if(min == end) return mindist.get(min) == Long.MAX_VALUE ? -1 : mindist.get(min); //Error check\r\n            for (int j = 0; j &lt; computers; j++) {\r\n                if(!traversed.get(j) &amp;&amp; graph[min][j] != 0 &amp;&amp; mindist.get(min) + graph[min][j] &lt; mindist.get(j)) {\r\n                    mindist.set(j,(mindist.get(min) + graph[min][j]));\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        return mindist.get(end) == Long.MAX_VALUE ? -1 : mindist.get(end);\r\n    }\r\n    public static void main(String[] args){\r\n        Scanner in = new Scanner(System.in);\r\n        int computers = in.nextInt(); //nodes\r\n        int connections = in.nextInt(); //edges\r\n        int start = in.nextInt();\r\n        int end = in.nextInt();\r\n\r\n        long[][] graph = new long[computers+1][computers+1];\r\n\r\n        for (int i = 0; i &lt; connections; i++) {\r\n            int x = in.nextInt();\r\n            int y = in.nextInt();\r\n            long t = in.nextLong();\r\n            graph[x][y] = t;\r\n            graph[y][x] = t;\r\n        }\r\n        if(connections == 0) {\r\n            System.out.println(-1);\r\n            System.exit(0);\r\n        }\r\n        long dist = dijkstra(graph,start,end);\r\n        if(dist != -1) System.out.println(dist);\r\n        else System.out.println(-1);\r\n     }\r\n    }\r\n\r\nAll help is appreciated!","title":"Dijkstra algorithm in weighted graph in Java with big graph","body":"<p>My task is to write a program to calculate shortest time it takes to go from node A(start) to node B(end) on a weighted graph(I'm using dijkstra algorithm). \nTime requirement is 2 seconds on memory limit is 64 MB and I can assume that entered data is valid<br>\nFirst line has 4 whole numbers:<br>\nAmount of nodes M(2 ≤ M ≤ 20000)<br>\nAmount of edges(connections) N(0 ≤  N ≤ 50000)<br>\nStart node A(0 ≤ A &lt; M) and end node O (0 ≤ O &lt; M).</p>\n\n<p>Next N lines has connection info represented with three whole numbers:<br>\nconnected computers and the time between them in milliseconds(edge weight).\nMy code doesn't pass all the tests. If i test my code with a big graph then it fails as heap memory runs out(about 900MB on my machine).<br>\n<strong>My problem</strong>: How do i optimize my code so it fits into requirements?<br>\nWould using adjacency list be enough?<br>\nMy code is this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Route3 {\n  public static int minDistance(ArrayList&lt;Long&gt; mindist, ArrayList&lt;Boolean&gt; visited){\n    long min = Long.MAX_VALUE;\n    int minindex = -1;\n    for (int i = 0; i &lt; mindist.size(); i++) {\n        if(!visited.get(i) &amp;&amp; (mindist.get(i) &lt;= min)) {\n            min = mindist.get(i);\n            minindex = i;\n        }\n    }\n    return minindex;\n}\npublic static long dijkstra(long[][] graph, int start, int end) {\n    int computers = graph.length;\n    ArrayList&lt;Boolean&gt; traversed = new ArrayList&lt;&gt;(); //Hold traversed nodes\n    for (int i = 0; i &lt; computers; i++) {\n        traversed.add(i,false);\n    }\n    ArrayList&lt;Long&gt; mindist = new ArrayList&lt;&gt;(); //Holds mindistances to nodes based on index\n    for (int i = 0; i &lt; computers; i++) {\n        mindist.add(i,Long.MAX_VALUE);\n    }\n    mindist.set(start,(long)0);\n\n    for (int i = 0; i &lt; computers; i++) {\n        int min = minDistance(mindist,traversed);\n        if(min == -1) return mindist.get(end);\n        traversed.set(min,true);\n        if(min == end) return mindist.get(min) == Long.MAX_VALUE ? -1 : mindist.get(min); //Error check\n        for (int j = 0; j &lt; computers; j++) {\n            if(!traversed.get(j) &amp;&amp; graph[min][j] != 0 &amp;&amp; mindist.get(min) + graph[min][j] &lt; mindist.get(j)) {\n                mindist.set(j,(mindist.get(min) + graph[min][j]));\n            }\n\n        }\n\n    }\n    return mindist.get(end) == Long.MAX_VALUE ? -1 : mindist.get(end);\n}\npublic static void main(String[] args){\n    Scanner in = new Scanner(System.in);\n    int computers = in.nextInt(); //nodes\n    int connections = in.nextInt(); //edges\n    int start = in.nextInt();\n    int end = in.nextInt();\n\n    long[][] graph = new long[computers+1][computers+1];\n\n    for (int i = 0; i &lt; connections; i++) {\n        int x = in.nextInt();\n        int y = in.nextInt();\n        long t = in.nextLong();\n        graph[x][y] = t;\n        graph[y][x] = t;\n    }\n    if(connections == 0) {\n        System.out.println(-1);\n        System.exit(0);\n    }\n    long dist = dijkstra(graph,start,end);\n    if(dist != -1) System.out.println(dist);\n    else System.out.println(-1);\n }\n}\n</code></pre>\n\n<p>All help is appreciated!</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":5679156,"reputation":5433,"user_id":4491066,"display_name":"Adam"},"score":0,"creation_date":1688483665,"post_id":76571882,"comment_id":135078795,"body_markdown":"Do you need to have multiple links in one cell? If so, is the number of links the same in each cell?","body":"Do you need to have multiple links in one cell? If so, is the number of links the same in each cell?"},{"owner":{"account_id":27981118,"reputation":15,"user_id":21368845,"display_name":"Prafull Jain"},"score":0,"creation_date":1688576957,"post_id":76571882,"comment_id":135093366,"body_markdown":"yes in the same cell, links are going to be same throughout...its just that based on some condition need to disable enable links","body":"yes in the same cell, links are going to be same throughout...its just that based on some condition need to disable enable links"}],"owner":{"account_id":27981118,"reputation":15,"user_id":21368845,"display_name":"Prafull Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687945081,"creation_date":1687945081,"question_id":76571882,"body_markdown":"I want to enable a link inside a column which in turn a part of grid.\r\n\r\nthis is how code looks\r\n\r\n```\r\nprivate ColumnModel&lt;XYZ&gt; getmodel(String screen){\r\n    List&lt;ColumnConfig&lt;XYZ, ? &gt;&gt; columnList = new ArrayList&lt;&gt;();\r\n    columnList.add(date);\r\n    .\r\n    .\r\n    .\r\n    columnList.add(linkCol);\r\n    linkCol.setCell(new AbstractCell&lt;String&gt;() {\r\n    \t@Override\r\n    \tpublic void render(Context context, String value, SafeHtmlBuilder sb) {\r\n    \t\tfinal int index = context.getIndex();\r\n    \t\tXYZ audit = store.get(index);\r\n    \t\tif(audit!=null) {\r\n    \t\t\tAnchor hyperLink = new Anchor(&quot;Link l1&quot;);\r\n    \t\t\thyperLink.addStyleName(&quot;hyperLinkCursor&quot;);\r\n    \t\t\tsb.appendHtmlConstant(hyperLink.toString());\r\n    \t\t\t\r\n    \t\t\thyperLink.addClickHandler(new ClickHandler() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tPublic void onClick(ClickEvent event) {\r\n    \t\t\t\t\tLOG,Fine(&quot;clicked on link1&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    });\r\n    return new ColumnModel&lt;&gt;(colunList);\r\n}\r\n```\r\nplease help, and if any more info required please let me know.\r\ni have been stuck on this thing since long\r\n\r\n\r\n\r\ninitially had click handler on cell, tried removing that.\r\nthe flow is not even going inside the handler method....dont know if this is the correct way to invoke a hyperlink or not.\r\n\r\ncant use click handler on the cell level, as there are going to be multiple links in the same column, and want to perform different actions on each different link clicks.","title":"How to enable and attach clickHandler event on a link in GWT","body":"<p>I want to enable a link inside a column which in turn a part of grid.</p>\n<p>this is how code looks</p>\n<pre><code>private ColumnModel&lt;XYZ&gt; getmodel(String screen){\n    List&lt;ColumnConfig&lt;XYZ, ? &gt;&gt; columnList = new ArrayList&lt;&gt;();\n    columnList.add(date);\n    .\n    .\n    .\n    columnList.add(linkCol);\n    linkCol.setCell(new AbstractCell&lt;String&gt;() {\n        @Override\n        public void render(Context context, String value, SafeHtmlBuilder sb) {\n            final int index = context.getIndex();\n            XYZ audit = store.get(index);\n            if(audit!=null) {\n                Anchor hyperLink = new Anchor(&quot;Link l1&quot;);\n                hyperLink.addStyleName(&quot;hyperLinkCursor&quot;);\n                sb.appendHtmlConstant(hyperLink.toString());\n                \n                hyperLink.addClickHandler(new ClickHandler() {\n                    @Override\n                    Public void onClick(ClickEvent event) {\n                        LOG,Fine(&quot;clicked on link1&quot;);\n                    }\n                });\n                \n            }\n        }\n    });\n    return new ColumnModel&lt;&gt;(colunList);\n}\n</code></pre>\n<p>please help, and if any more info required please let me know.\ni have been stuck on this thing since long</p>\n<p>initially had click handler on cell, tried removing that.\nthe flow is not even going inside the handler method....dont know if this is the correct way to invoke a hyperlink or not.</p>\n<p>cant use click handler on the cell level, as there are going to be multiple links in the same column, and want to perform different actions on each different link clicks.</p>\n"},{"tags":["java","jvm","benchmarking","jvm-hotspot","microbenchmark"],"comments":[{"owner":{"account_id":22429,"reputation":9517,"user_id":55283,"accept_rate":100,"display_name":"Tiago"},"score":0,"creation_date":1296569230,"post_id":504103,"comment_id":5404785,"body_markdown":"See [this question][1] from a few minutes ago for some related info.\r\n\r\nedit: sorry, this is not supposed to be a answer. I should&#39;ve posted as a comment.\r\n\r\n  [1]: http://stackoverflow.com/questions/503877/how-can-i-measure-time-with-microsecond-precision-in-java","body":"See [this question][1] from a few minutes ago for some related info.    edit: sorry, this is not supposed to be a answer. I should&#39;ve posted as a comment.      [1]: <a href=\"http://stackoverflow.com/questions/503877/how-can-i-measure-time-with-microsecond-precision-in-java\" title=\"how can i measure time with microsecond precision in java\">stackoverflow.com/questions/503877/&hellip;</a>"},{"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"score":0,"creation_date":1296569230,"post_id":504103,"comment_id":5404786,"body_markdown":"It was after planning to refer the poster of that question to a question like this that I noted that this question didn&#39;t exists. So here it is, hopefully it will assemble some good tips over time.","body":"It was after planning to refer the poster of that question to a question like this that I noted that this question didn&#39;t exists. So here it is, hopefully it will assemble some good tips over time."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":6,"creation_date":1431509625,"post_id":504103,"comment_id":48526263,"body_markdown":"Java 9 might provide some features for micro-benchmarking: http://openjdk.java.net/jeps/230","body":"Java 9 might provide some features for micro-benchmarking: <a href=\"http://openjdk.java.net/jeps/230\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/230</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1448986296,"post_id":504103,"comment_id":55805039,"body_markdown":"@Raedwald I think that that JEP aims to add some micro benchmark to the JDK code, but I don&#39;t think that jmh will be included in the JDK...","body":"@Raedwald I think that that JEP aims to add some micro benchmark to the JDK code, but I don&#39;t think that jmh will be included in the JDK..."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1467413305,"post_id":504103,"comment_id":63738773,"body_markdown":"Likely duplicate: [How do I time a method&#39;s execution in Java?](http://stackoverflow.com/q/180158/642706)","body":"Likely duplicate: <a href=\"http://stackoverflow.com/q/180158/642706\">How do I time a method&#39;s execution in Java?</a>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1505318620,"post_id":504103,"comment_id":79367155,"body_markdown":"@Raedwald Hello from the future. [It didn&#39;t make the cut](http://openjdk.java.net/projects/jdk9/).","body":"@Raedwald Hello from the future. <a href=\"http://openjdk.java.net/projects/jdk9/\" rel=\"nofollow noreferrer\">It didn&#39;t make the cut</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1515476619,"post_id":504103,"comment_id":83303481,"body_markdown":"See: [*JMH, a Java harness for building, running, and analysing nano/micro/milli/macro benchmarks*](http://openjdk.java.net/projects/code-tools/jmh/) and [*JEP 230: Microbenchmark Suite*](http://openjdk.java.net/jeps/230) and duplicate Question [*Best approach for dealing with time measures?*](https://stackoverflow.com/q/37067929/642706).","body":"See: <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\"><i>JMH, a Java harness for building, running, and analysing nano/micro/milli/macro benchmarks</i></a> and <a href=\"http://openjdk.java.net/jeps/230\" rel=\"nofollow noreferrer\"><i>JEP 230: Microbenchmark Suite</i></a> and duplicate Question <a href=\"https://stackoverflow.com/q/37067929/642706\"><i>Best approach for dealing with time measures?</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1553324853,"creation_date":1233596819,"answer_id":504119,"question_id":504103,"body_markdown":"Important things for Java benchmarks are:\r\n\r\n - Warm up the JIT first by running the code several times **before timing** it\r\n - Make sure you run it for long enough to be able to measure the results in seconds or (better) tens of seconds\r\n - While you can&#39;t call `System.gc()` between iterations, it&#39;s a good idea to run it between tests, so that each test will hopefully get a &quot;clean&quot; memory space to work with. (Yes, `gc()` is more of a hint than a guarantee, but it&#39;s very *likely* that it really will garbage collect in my experience.)\r\n - I like to display iterations and time, and a score of time/iteration which can be scaled such that the &quot;best&quot; algorithm gets a score of 1.0 and others are scored in a relative fashion. This means you can run *all* algorithms for a longish time, varying both number of iterations and time, but still getting comparable results.\r\n\r\nI&#39;m just in the process of blogging about the design of a benchmarking framework in .NET. I&#39;ve got a [couple][1] of [earlier posts][2] which may be able to give you some ideas - not everything will be appropriate, of course, but some of it may be.\r\n\r\n\r\n  [1]: http://msmvps.com/blogs/jon_skeet/archive/2009/01/26/benchmarking-made-easy.aspx\r\n  [2]: http://msmvps.com/blogs/jon_skeet/archive/2009/01/29/for-vs-foreach-on-arrays-and-lists.aspx","title":"How do I write a correct micro-benchmark in Java?","body":"<p>Important things for Java benchmarks are:</p>\n\n<ul>\n<li>Warm up the JIT first by running the code several times <strong>before timing</strong> it</li>\n<li>Make sure you run it for long enough to be able to measure the results in seconds or (better) tens of seconds</li>\n<li>While you can't call <code>System.gc()</code> between iterations, it's a good idea to run it between tests, so that each test will hopefully get a \"clean\" memory space to work with. (Yes, <code>gc()</code> is more of a hint than a guarantee, but it's very <em>likely</em> that it really will garbage collect in my experience.)</li>\n<li>I like to display iterations and time, and a score of time/iteration which can be scaled such that the \"best\" algorithm gets a score of 1.0 and others are scored in a relative fashion. This means you can run <em>all</em> algorithms for a longish time, varying both number of iterations and time, but still getting comparable results.</li>\n</ul>\n\n<p>I'm just in the process of blogging about the design of a benchmarking framework in .NET. I've got a <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/01/26/benchmarking-made-easy.aspx\" rel=\"noreferrer\">couple</a> of <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/01/29/for-vs-foreach-on-arrays-and-lists.aspx\" rel=\"noreferrer\">earlier posts</a> which may be able to give you some ideas - not everything will be appropriate, of course, but some of it may be.</p>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1245756775,"creation_date":1233596819,"answer_id":504120,"question_id":504103,"body_markdown":"There are many possible pitfalls for writing micro-benchmarks in Java.\r\n\r\nFirst: You have to calculate with all sorts of events that take time more or less random: Garbage collection, caching effects (of OS for files and of CPU for memory), IO etc.\r\n\r\nSecond: You cannot trust the accuracy of the measured times for very short intervals.\r\n\r\nThird: The JVM optimizes your code while executing. So different runs in the same JVM-instance will become faster and faster.\r\n\r\nMy recommendations: Make your benchmark run some seconds, that is more reliable than a runtime over milliseconds. Warm up the JVM (means running the benchmark at least once without measuring, that the JVM can run optimizations). And run your benchmark multiple times (maybe 5 times) and take the median-value. Run every micro-benchmark in a new JVM-instance (call for every benchmark new Java) otherwise optimization effects of the JVM can influence later running tests. Don&#39;t execute things, that aren&#39;t executed in the warmup-phase (as this could trigger class-load and recompilation).","title":"How do I write a correct micro-benchmark in Java?","body":"<p>There are many possible pitfalls for writing micro-benchmarks in Java.</p>\n\n<p>First: You have to calculate with all sorts of events that take time more or less random: Garbage collection, caching effects (of OS for files and of CPU for memory), IO etc.</p>\n\n<p>Second: You cannot trust the accuracy of the measured times for very short intervals.</p>\n\n<p>Third: The JVM optimizes your code while executing. So different runs in the same JVM-instance will become faster and faster.</p>\n\n<p>My recommendations: Make your benchmark run some seconds, that is more reliable than a runtime over milliseconds. Warm up the JVM (means running the benchmark at least once without measuring, that the JVM can run optimizations). And run your benchmark multiple times (maybe 5 times) and take the median-value. Run every micro-benchmark in a new JVM-instance (call for every benchmark new Java) otherwise optimization effects of the JVM can influence later running tests. Don't execute things, that aren't executed in the warmup-phase (as this could trigger class-load and recompilation).</p>\n"},{"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1553325105,"creation_date":1233597421,"answer_id":504162,"question_id":504103,"body_markdown":"If you are trying to compare two algorithms, do at least two benchmarks for each, alternating the order.  i.e.:\r\n\r\n    for(i=1..n)\r\n      alg1();\r\n    for(i=1..n)\r\n      alg2();\r\n    for(i=1..n)\r\n      alg2();\r\n    for(i=1..n)\r\n      alg1();\r\n\r\nI have found some noticeable differences (5-10% sometimes) in the runtime of the same algorithm in different passes..\r\n\r\nAlso, make sure that *n* is very large, so that the runtime of each loop is at the very least 10 seconds or so.  The more iterations, the more significant figures in your benchmark time and the more reliable that data is.","title":"How do I write a correct micro-benchmark in Java?","body":"<p>If you are trying to compare two algorithms, do at least two benchmarks for each, alternating the order.  i.e.:</p>\n\n<pre><code>for(i=1..n)\n  alg1();\nfor(i=1..n)\n  alg2();\nfor(i=1..n)\n  alg2();\nfor(i=1..n)\n  alg1();\n</code></pre>\n\n<p>I have found some noticeable differences (5-10% sometimes) in the runtime of the same algorithm in different passes..</p>\n\n<p>Also, make sure that <em>n</em> is very large, so that the runtime of each loop is at the very least 10 seconds or so.  The more iterations, the more significant figures in your benchmark time and the more reliable that data is.</p>\n"},{"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1233597610,"creation_date":1233597610,"answer_id":504172,"question_id":504103,"body_markdown":"Make sure you somehow use results which are computed in benchmarked code. Otherwise your code can be optimized away.","title":"How do I write a correct micro-benchmark in Java?","body":"<p>Make sure you somehow use results which are computed in benchmarked code. Otherwise your code can be optimized away.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1553325051,"creation_date":1233604475,"answer_id":504632,"question_id":504103,"body_markdown":"&gt; Should the benchmark measure time/iteration or iterations/time, and why?\r\n\r\nIt depends on **what** you are trying to test.  \r\n\r\nIf you are interested in **latency**, use time/iteration and if you are interested in **throughput**, use iterations/time.","title":"How do I write a correct micro-benchmark in Java?","body":"<blockquote>\n  <p>Should the benchmark measure time/iteration or iterations/time, and why?</p>\n</blockquote>\n\n<p>It depends on <strong>what</strong> you are trying to test.  </p>\n\n<p>If you are interested in <strong>latency</strong>, use time/iteration and if you are interested in <strong>throughput</strong>, use iterations/time.</p>\n"},{"tags":[],"owner":{"display_name":"Eugene Kuleshov"},"down_vote_count":1,"up_vote_count":868,"is_accepted":true,"score":867,"last_activity_date":1687944975,"creation_date":1233780568,"answer_id":513259,"question_id":504103,"body_markdown":"Tips about writing micro benchmarks [from the creators of Java HotSpot][1]:\r\n\r\n**Rule 0:** Read a reputable paper on JVMs and micro-benchmarking. A good one is [Brian Goetz, 2005][2]. Do not expect too much from micro-benchmarks; they measure only a limited range of JVM performance characteristics.\r\n\r\n**Rule 1:** Always include a warmup phase which runs your test kernel all the way through, enough to trigger all initializations and compilations before timing phase(s). (Fewer iterations is OK on the warmup phase. The rule of thumb is several tens of thousands of inner loop iterations.)\r\n\r\n**Rule 2:** Always run with `-XX:+PrintCompilation`, `-verbose:gc`, etc., so you can verify that the compiler and other parts of the JVM are not doing unexpected work during your timing phase.\r\n\r\n**Rule 2.1:** Print messages at the beginning and end of timing and warmup phases, so you can verify that there is no output from Rule 2 during the timing phase.\r\n\r\n**Rule 3:** Be aware of the difference between `-client` and `-server`, and OSR and regular compilations. The `-XX:+PrintCompilation` flag reports OSR compilations with an at-sign to denote the non-initial entry point, for example: `Trouble$1::run @ 2 (41 bytes)`. Prefer server to client, and regular to OSR, if you are after best performance.\r\n\r\n**Rule 4:** Be aware of initialization effects. Do not print for the first time during your timing phase, since printing loads and initializes classes. Do not load new classes outside of the warmup phase (or final reporting phase), unless you are testing class loading specifically (and in that case load only the test classes). Rule 2 is your first line of defense against such effects.\r\n\r\n**Rule 5:** Be aware of deoptimization and recompilation effects. Do not take any code path for the first time in the timing phase, because the compiler may junk and recompile the code, based on an earlier optimistic assumption that the path was not going to be used at all. Rule 2 is your first line of defense against such effects.\r\n\r\n**Rule 6:** Use appropriate tools to read the compiler&#39;s mind, and expect to be surprised by the code it produces. Inspect the code yourself before forming theories about what makes something faster or slower.\r\n\r\n**Rule 7:** Reduce noise in your measurements. Run your benchmark on a quiet machine, and run it several times, discarding outliers. Use `-Xbatch` to serialize the compiler with the application, and consider setting `-XX:CICompilerCount=1` to prevent the compiler from running in parallel with itself. Try your best to reduce GC overhead, set `Xmx`(large enough) equals `Xms` and use [`UseEpsilonGC`][6] if it is available.\r\n\r\n**Rule 8:** Use a library for your benchmark as it is probably more efficient and was already debugged for this sole purpose. Such as [JMH][5], [Caliper][3] or [Bill and Paul&#39;s Excellent UCSD Benchmarks for Java][4].  \r\n\r\n\r\n  [1]: https://wiki.openjdk.java.net/display/HotSpot/Main\r\n  [2]: https://web.archive.org/web/20200606234821/https://www.ibm.com/developerworks/java/library/j-jtp02225/\r\n  [3]: https://github.com/google/caliper\r\n  [4]: http://cseweb.ucsd.edu/users/wgg/JavaProf/javaprof.html\r\n  [5]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [6]: http://openjdk.java.net/jeps/318\r\n","title":"How do I write a correct micro-benchmark in Java?","body":"<p>Tips about writing micro benchmarks <a href=\"https://wiki.openjdk.java.net/display/HotSpot/Main\" rel=\"nofollow noreferrer\">from the creators of Java HotSpot</a>:</p>\n<p><strong>Rule 0:</strong> Read a reputable paper on JVMs and micro-benchmarking. A good one is <a href=\"https://web.archive.org/web/20200606234821/https://www.ibm.com/developerworks/java/library/j-jtp02225/\" rel=\"nofollow noreferrer\">Brian Goetz, 2005</a>. Do not expect too much from micro-benchmarks; they measure only a limited range of JVM performance characteristics.</p>\n<p><strong>Rule 1:</strong> Always include a warmup phase which runs your test kernel all the way through, enough to trigger all initializations and compilations before timing phase(s). (Fewer iterations is OK on the warmup phase. The rule of thumb is several tens of thousands of inner loop iterations.)</p>\n<p><strong>Rule 2:</strong> Always run with <code>-XX:+PrintCompilation</code>, <code>-verbose:gc</code>, etc., so you can verify that the compiler and other parts of the JVM are not doing unexpected work during your timing phase.</p>\n<p><strong>Rule 2.1:</strong> Print messages at the beginning and end of timing and warmup phases, so you can verify that there is no output from Rule 2 during the timing phase.</p>\n<p><strong>Rule 3:</strong> Be aware of the difference between <code>-client</code> and <code>-server</code>, and OSR and regular compilations. The <code>-XX:+PrintCompilation</code> flag reports OSR compilations with an at-sign to denote the non-initial entry point, for example: <code>Trouble$1::run @ 2 (41 bytes)</code>. Prefer server to client, and regular to OSR, if you are after best performance.</p>\n<p><strong>Rule 4:</strong> Be aware of initialization effects. Do not print for the first time during your timing phase, since printing loads and initializes classes. Do not load new classes outside of the warmup phase (or final reporting phase), unless you are testing class loading specifically (and in that case load only the test classes). Rule 2 is your first line of defense against such effects.</p>\n<p><strong>Rule 5:</strong> Be aware of deoptimization and recompilation effects. Do not take any code path for the first time in the timing phase, because the compiler may junk and recompile the code, based on an earlier optimistic assumption that the path was not going to be used at all. Rule 2 is your first line of defense against such effects.</p>\n<p><strong>Rule 6:</strong> Use appropriate tools to read the compiler's mind, and expect to be surprised by the code it produces. Inspect the code yourself before forming theories about what makes something faster or slower.</p>\n<p><strong>Rule 7:</strong> Reduce noise in your measurements. Run your benchmark on a quiet machine, and run it several times, discarding outliers. Use <code>-Xbatch</code> to serialize the compiler with the application, and consider setting <code>-XX:CICompilerCount=1</code> to prevent the compiler from running in parallel with itself. Try your best to reduce GC overhead, set <code>Xmx</code>(large enough) equals <code>Xms</code> and use <a href=\"http://openjdk.java.net/jeps/318\" rel=\"nofollow noreferrer\"><code>UseEpsilonGC</code></a> if it is available.</p>\n<p><strong>Rule 8:</strong> Use a library for your benchmark as it is probably more efficient and was already debugged for this sole purpose. Such as <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a>, <a href=\"https://github.com/google/caliper\" rel=\"nofollow noreferrer\">Caliper</a> or <a href=\"http://cseweb.ucsd.edu/users/wgg/JavaProf/javaprof.html\" rel=\"nofollow noreferrer\">Bill and Paul's Excellent UCSD Benchmarks for Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":688916,"reputation":87,"user_id":547330,"display_name":"Yuriy"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1292714531,"creation_date":1292714531,"answer_id":4480713,"question_id":504103,"body_markdown":"http://opt.sourceforge.net/ Java Micro Benchmark - control tasks required to determine the comparative performance characteristics of the computer system on different platforms. Can be used to guide optimization decisions and to compare different Java implementations.","title":"How do I write a correct micro-benchmark in Java?","body":"<p><a href=\"http://opt.sourceforge.net/\" rel=\"noreferrer\">http://opt.sourceforge.net/</a> Java Micro Benchmark - control tasks required to determine the comparative performance characteristics of the computer system on different platforms. Can be used to guide optimization decisions and to compare different Java implementations.</p>\n"},{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":0,"up_vote_count":262,"is_accepted":false,"score":262,"last_activity_date":1601302998,"creation_date":1292715307,"answer_id":4480774,"question_id":504103,"body_markdown":"I know this question has been marked as answered but I wanted to mention two libraries that help us to write micro benchmarks\r\n\r\n**[Caliper from Google][1]**\r\n\r\n*Getting started tutorials*\r\n\r\n1. http://codingjunkie.net/micro-benchmarking-with-caliper/\r\n2. http://vertexlabs.co.uk/blog/caliper\r\n\r\n**[JMH from OpenJDK][2]**\r\n\r\n*Getting started tutorials*\r\n\r\n1. [Avoiding Benchmarking Pitfalls on the JVM][3]\r\n2. [Using JMH for Java Microbenchmarking][4]\r\n3. [Introduction to JMH][5]\r\n\r\n\r\n  [1]: https://github.com/google/caliper\r\n  [2]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [3]: http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\r\n  [4]: http://nitschinger.at/Using-JMH-for-Java-Microbenchmarking\r\n  [5]: https://web.archive.org/web/20181018130828/http://java-performance.info:80/jmh","title":"How do I write a correct micro-benchmark in Java?","body":"<p>I know this question has been marked as answered but I wanted to mention two libraries that help us to write micro benchmarks</p>\n<p><strong><a href=\"https://github.com/google/caliper\" rel=\"noreferrer\">Caliper from Google</a></strong></p>\n<p><em>Getting started tutorials</em></p>\n<ol>\n<li><a href=\"http://codingjunkie.net/micro-benchmarking-with-caliper/\" rel=\"noreferrer\">http://codingjunkie.net/micro-benchmarking-with-caliper/</a></li>\n<li><a href=\"http://vertexlabs.co.uk/blog/caliper\" rel=\"noreferrer\">http://vertexlabs.co.uk/blog/caliper</a></li>\n</ol>\n<p><strong><a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH from OpenJDK</a></strong></p>\n<p><em>Getting started tutorials</em></p>\n<ol>\n<li><a href=\"http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\" rel=\"noreferrer\">Avoiding Benchmarking Pitfalls on the JVM</a></li>\n<li><a href=\"http://nitschinger.at/Using-JMH-for-Java-Microbenchmarking\" rel=\"noreferrer\">Using JMH for Java Microbenchmarking</a></li>\n<li><a href=\"https://web.archive.org/web/20181018130828/http://java-performance.info:80/jmh\" rel=\"noreferrer\">Introduction to JMH</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1358777045,"creation_date":1358777045,"answer_id":14440319,"question_id":504103,"body_markdown":"It should also be noted that it might also be important to analyze the results of the micro benchmark when comparing different implementations. Therefore a [significance test][1] should be made.\r\n\r\nThis is because implementation `A` might be faster during most of the runs of the benchmark than implementation `B`. But `A` might also have a higher spread, so the measured performance benefit of `A` won&#39;t be of any significance when compared with `B`.\r\n\r\nSo it is also important to write and run a micro benchmark correctly, but also to analyze it correctly.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Significance_testing","title":"How do I write a correct micro-benchmark in Java?","body":"<p>It should also be noted that it might also be important to analyze the results of the micro benchmark when comparing different implementations. Therefore a <a href=\"http://en.wikipedia.org/wiki/Significance_testing\" rel=\"noreferrer\">significance test</a> should be made.</p>\n\n<p>This is because implementation <code>A</code> might be faster during most of the runs of the benchmark than implementation <code>B</code>. But <code>A</code> might also have a higher spread, so the measured performance benefit of <code>A</code> won't be of any significance when compared with <code>B</code>.</p>\n\n<p>So it is also important to write and run a micro benchmark correctly, but also to analyze it correctly.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1553324827,"creation_date":1364992369,"answer_id":15787478,"question_id":504103,"body_markdown":"[jmh][1] is a recent addition to OpenJDK and has been written by some performance engineers from Oracle. Certainly worth a look.\r\n\r\n&gt; The jmh is a Java harness for building, running, and analysing nano/micro/macro benchmarks written in Java and other languages targetting the JVM.\r\n\r\nVery interesting pieces of information buried in [the sample tests comments][4].\r\n\r\nSee also:\r\n\r\n- [Avoiding Benchmarking Pitfalls on the JVM][3]\r\n- [Discussion on the main strengths of jmh][2].\r\n\r\n [1]: http://openjdk.java.net/projects/code-tools/jmh/\r\n [2]: https://groups.google.com/forum/#!msg/mechanical-sympathy/m4opvy4xq3U/7lY8x8SvHgwJ\r\n [3]: http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\r\n [4]: http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/","title":"How do I write a correct micro-benchmark in Java?","body":"<p><a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">jmh</a> is a recent addition to OpenJDK and has been written by some performance engineers from Oracle. Certainly worth a look.</p>\n\n<blockquote>\n  <p>The jmh is a Java harness for building, running, and analysing nano/micro/macro benchmarks written in Java and other languages targetting the JVM.</p>\n</blockquote>\n\n<p>Very interesting pieces of information buried in <a href=\"http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/\" rel=\"nofollow noreferrer\">the sample tests comments</a>.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\" rel=\"nofollow noreferrer\">Avoiding Benchmarking Pitfalls on the JVM</a></li>\n<li><a href=\"https://groups.google.com/forum/#!msg/mechanical-sympathy/m4opvy4xq3U/7lY8x8SvHgwJ\" rel=\"nofollow noreferrer\">Discussion on the main strengths of jmh</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1489951283,"creation_date":1489951283,"answer_id":42891083,"question_id":504103,"body_markdown":"To add to the other excellent advice, I&#39;d also be mindful of the following:\r\n\r\nFor some CPUs (e.g. Intel Core i5 range with TurboBoost), the temperature (and number of cores currently being used, as well as thier utilisation percent) affects the clock speed. Since CPUs are dynamically clocked, this can affect your results. For example, if you have a single-threaded application, the maximum clock speed (with TurboBoost) is higher than for an application using all cores. This can therefore interfere with comparisons of single and multi-threaded performance on some systems. Bear in mind that the temperature and volatages also affect how long Turbo frequency is maintained.\r\n\r\nPerhaps a more fundamentally important aspect that you have direct control over: make sure you&#39;re measuring the right thing! For example, if you&#39;re using `System.nanoTime()` to benchmark a particular bit of code, put the calls to the assignment in places that make sense to avoid measuring things which you aren&#39;t interested in. For example, don&#39;t do:\r\n \r\n    long startTime = System.nanoTime();\r\n    //code here...\r\n    System.out.println(&quot;Code took &quot;+(System.nanoTime()-startTime)+&quot;nano seconds&quot;);\r\n\r\nProblem is you&#39;re not immediately getting the end time when the code has finished. Instead, try the following:\r\n\r\n    final long endTime, startTime = System.nanoTime();\r\n\t//code here...\r\n\tendTime = System.nanoTime();\r\n\tSystem.out.println(&quot;Code took &quot;+(endTime-startTime)+&quot;nano seconds&quot;);","title":"How do I write a correct micro-benchmark in Java?","body":"<p>To add to the other excellent advice, I'd also be mindful of the following:</p>\n\n<p>For some CPUs (e.g. Intel Core i5 range with TurboBoost), the temperature (and number of cores currently being used, as well as thier utilisation percent) affects the clock speed. Since CPUs are dynamically clocked, this can affect your results. For example, if you have a single-threaded application, the maximum clock speed (with TurboBoost) is higher than for an application using all cores. This can therefore interfere with comparisons of single and multi-threaded performance on some systems. Bear in mind that the temperature and volatages also affect how long Turbo frequency is maintained.</p>\n\n<p>Perhaps a more fundamentally important aspect that you have direct control over: make sure you're measuring the right thing! For example, if you're using <code>System.nanoTime()</code> to benchmark a particular bit of code, put the calls to the assignment in places that make sense to avoid measuring things which you aren't interested in. For example, don't do:</p>\n\n<pre><code>long startTime = System.nanoTime();\n//code here...\nSystem.out.println(\"Code took \"+(System.nanoTime()-startTime)+\"nano seconds\");\n</code></pre>\n\n<p>Problem is you're not immediately getting the end time when the code has finished. Instead, try the following:</p>\n\n<pre><code>final long endTime, startTime = System.nanoTime();\n//code here...\nendTime = System.nanoTime();\nSystem.out.println(\"Code took \"+(endTime-startTime)+\"nano seconds\");\n</code></pre>\n"}],"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142460,"favorite_count":0,"down_vote_count":1,"up_vote_count":977,"accepted_answer_id":513259,"answer_count":11,"score":976,"last_activity_date":1687944975,"creation_date":1233596381,"question_id":504103,"body_markdown":"How do you write (and run) a correct micro-benchmark in Java?\r\n\r\nI&#39;m looking for some code samples and comments illustrating various things to think about.\r\n\r\nExample: Should the benchmark measure time/iteration or iterations/time, and why?\r\n\r\nRelated: https://stackoverflow.com/questions/410437/is-stopwatch-benchmarking-acceptable","title":"How do I write a correct micro-benchmark in Java?","body":"<p>How do you write (and run) a correct micro-benchmark in Java?</p>\n\n<p>I'm looking for some code samples and comments illustrating various things to think about.</p>\n\n<p>Example: Should the benchmark measure time/iteration or iterations/time, and why?</p>\n\n<p>Related: <a href=\"https://stackoverflow.com/questions/410437/is-stopwatch-benchmarking-acceptable\">Is stopwatch benchmarking acceptable?</a></p>\n"},{"tags":["java","reflection","jol"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687865061,"post_id":76564204,"comment_id":134993441,"body_markdown":"What is the `Field` class here? `java.lang.reflect.Field`?","body":"What is the <code>Field</code> class here? <code>java.lang.reflect.Field</code>?"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687866071,"post_id":76564204,"comment_id":134993667,"body_markdown":"@Sweeper yes, u are right!","body":"@Sweeper yes, u are right!"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687869277,"post_id":76564204,"comment_id":134994460,"body_markdown":"_other ways to get the offset?_ - Can you provide more details how you plan on using this data?. Maybe that&#39;ll help if there are other ways to do what you want","body":"<i>other ways to get the offset?</i> - Can you provide more details how you plan on using this data?. Maybe that&#39;ll help if there are other ways to do what you want"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687869404,"post_id":76564204,"comment_id":134994491,"body_markdown":"@OneCricketeer I hv no plan on using this data. Just curious of it.","body":"@OneCricketeer I hv no plan on using this data. Just curious of it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687869472,"post_id":76564204,"comment_id":134994515,"body_markdown":"Doesn&#39;t JOL work on an object instance? Not a class definition itself?","body":"Doesn&#39;t JOL work on an object instance? Not a class definition itself?"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687869609,"post_id":76564204,"comment_id":134994553,"body_markdown":"@OneCricketeer JOL can work on both object instance and class but sometimes it will only show (object alignment), no any field offset.","body":"@OneCricketeer JOL can work on both object instance and class but sometimes it will only show (object alignment), no any field offset."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687896022,"post_id":76564204,"comment_id":135000629,"body_markdown":"So, what are you expecting to see? Member has fields, but [Field does not](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html)","body":"So, what are you expecting to see? Member has fields, but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html\" rel=\"nofollow noreferrer\">Field does not</a>"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687915497,"post_id":76564204,"comment_id":135002795,"body_markdown":"@OneCricketeer but when u clicked into the Field.class file, u would see a lot of fields there such as clazz, slot, name, type, modifiers, trustedFinal, isOverride...","body":"@OneCricketeer but when u clicked into the Field.class file, u would see a lot of fields there such as clazz, slot, name, type, modifiers, trustedFinal, isOverride..."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687944838,"creation_date":1687944838,"answer_id":76571854,"question_id":76564204,"body_markdown":"The [JOL IntelliJ Plugin][1] shows the offset information, apparently.\r\n\r\nInstall the plugin, use `Field` somewhere in your code, put the cursor on the text `Field`, then go to Code -&gt; Show Object Layout\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNote that there is also a selector for the JVM implementation to use.\r\n\r\nInterestingly, using `sudo` with the JOL command line tool report a different size for a `Field` object - 72 bytes for my JVM.\r\n\r\n```\r\n$ sudo java -jar jol-cli-latest.jar internals java.lang.reflect.Field\r\n```\r\n\r\nOutput excerpt:\r\n\r\n```\r\njava.lang.reflect.Field object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     0x0000000000000005 (biasable; age: 0)\r\n  8   4        (object header: class)    0x0006e918\r\n 12   4        (object alignment gap)    \r\nInstance size: 72 bytes\r\nSpace losses: 0 bytes internal + 4 bytes external = 4 bytes total\r\n```\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10953-jol-java-object-layout\r\n  [2]: https://i.stack.imgur.com/YuLpu.png","title":"Jol to find the offset of fields in the class","body":"<p>The <a href=\"https://plugins.jetbrains.com/plugin/10953-jol-java-object-layout\" rel=\"nofollow noreferrer\">JOL IntelliJ Plugin</a> shows the offset information, apparently.</p>\n<p>Install the plugin, use <code>Field</code> somewhere in your code, put the cursor on the text <code>Field</code>, then go to Code -&gt; Show Object Layout</p>\n<p><a href=\"https://i.stack.imgur.com/YuLpu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YuLpu.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that there is also a selector for the JVM implementation to use.</p>\n<p>Interestingly, using <code>sudo</code> with the JOL command line tool report a different size for a <code>Field</code> object - 72 bytes for my JVM.</p>\n<pre><code>$ sudo java -jar jol-cli-latest.jar internals java.lang.reflect.Field\n</code></pre>\n<p>Output excerpt:</p>\n<pre><code>java.lang.reflect.Field object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     0x0000000000000005 (biasable; age: 0)\n  8   4        (object header: class)    0x0006e918\n 12   4        (object alignment gap)    \nInstance size: 72 bytes\nSpace losses: 0 bytes internal + 4 bytes external = 4 bytes total\n</code></pre>\n"}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76571854,"answer_count":1,"score":0,"last_activity_date":1687944838,"creation_date":1687863760,"question_id":76564204,"body_markdown":"I use jol to find the offset of the fields as below:\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException {\r\n        System.out.println(ClassLayout.parseClass(Field.class).toPrintable());\r\n    }\r\n\r\nThe output:\r\n\r\n    OFF  SZ   TYPE DESCRIPTION               VALUE\r\n      0   8        (object header: mark)     N/A\r\n      8   4        (object header: class)    N/A\r\n     12   4        (object alignment gap)    \r\n    Instance size: 16 bytes\r\n    Space losses: 0 bytes internal + 4 bytes external = 4 bytes total\r\n\r\nThe 3rd row shows (object alignment gap) but didn&#39;t show the offset of the fields such as override, name, type and such on.\r\n\r\nHow can I get those field&#39;s offset? Or is there other ways to get the offset?","title":"Jol to find the offset of fields in the class","body":"<p>I use jol to find the offset of the fields as below:</p>\n<pre><code>import java.lang.reflect.Field;\n\npublic static void main(String[] args) throws NoSuchFieldException {\n    System.out.println(ClassLayout.parseClass(Field.class).toPrintable());\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>OFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (object alignment gap)    \nInstance size: 16 bytes\nSpace losses: 0 bytes internal + 4 bytes external = 4 bytes total\n</code></pre>\n<p>The 3rd row shows (object alignment gap) but didn't show the offset of the fields such as override, name, type and such on.</p>\n<p>How can I get those field's offset? Or is there other ways to get the offset?</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1368432127,"post_id":16517292,"comment_id":23714684,"body_markdown":"If you expand one of trees that were not executed, what do you see?","body":"If you expand one of trees that were not executed, what do you see?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1368432215,"post_id":16517292,"comment_id":23714730,"body_markdown":"the same, tests with the same icon, all is empty.","body":"the same, tests with the same icon, all is empty."},{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":0,"creation_date":1368432264,"post_id":16517292,"comment_id":23714755,"body_markdown":"The icon is not crossed out? So the test isn&#39;t annotated with `@Ignore`?","body":"The icon is not crossed out? So the test isn&#39;t annotated with <code>@Ignore</code>?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1368432302,"post_id":16517292,"comment_id":23714772,"body_markdown":"no, I will attach another picture","body":"no, I will attach another picture"},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1368432881,"post_id":16517292,"comment_id":23714999,"body_markdown":"You haven&#39;t converted from Junit3-&gt;4 and missed some `@Test` annotations?","body":"You haven&#39;t converted from Junit3-&gt;4 and missed some <code>@Test</code> annotations?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1368444944,"post_id":16517292,"comment_id":23721110,"body_markdown":"@DuncanJones - No, used junit 4 from beginning.","body":"@DuncanJones - No, used junit 4 from beginning."}],"answers":[{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368432518,"creation_date":1368432518,"answer_id":16517415,"question_id":16517292,"body_markdown":"Check if you are [excluding tests][1] from run by attributes and check under `Run &gt; Run Configurations` if your JUnit configuration are excluding any tests.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2383226/395659","title":"not all junit tests are running in eclipse","body":"<p>Check if you are <a href=\"https://stackoverflow.com/a/2383226/395659\">excluding tests</a> from run by attributes and check under <code>Run &gt; Run Configurations</code> if your JUnit configuration are excluding any tests.</p>\n"},{"tags":[],"owner":{"account_id":1748125,"reputation":4230,"user_id":1597838,"accept_rate":82,"display_name":"Mawia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368435705,"creation_date":1368435705,"answer_id":16518265,"question_id":16517292,"body_markdown":"In `jUnit 4`, a test case needs to have **@Test** annotation. The test case can be set to ignore with **@Ignore** annotation. The whole test class can also be set to ignore by placing the **@Ignore** annotation right above the class declaration. Note: In jUnit 4 , there is no need to extend Testcase class as in jUnit 3. Everything is in annotation.\r\n\r\nI have no idea about jUnit 3 since I use only 4.","title":"not all junit tests are running in eclipse","body":"<p>In <code>jUnit 4</code>, a test case needs to have <strong>@Test</strong> annotation. The test case can be set to ignore with <strong>@Ignore</strong> annotation. The whole test class can also be set to ignore by placing the <strong>@Ignore</strong> annotation right above the class declaration. Note: In jUnit 4 , there is no need to extend Testcase class as in jUnit 3. Everything is in annotation.</p>\n\n<p>I have no idea about jUnit 3 since I use only 4.</p>\n"},{"tags":[],"owner":{"account_id":425088,"reputation":314,"user_id":805473,"display_name":"CKuharski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376540125,"creation_date":1376540125,"answer_id":18246231,"question_id":16517292,"body_markdown":"I had a similar problem.  For some reason, the &quot;Run As -&gt; jUnit Test&quot; was always skiping the first test package.  I was on an older version of Eclipse and SpringSource.\r\n\r\nI moved back to Juno - Version: 4.2.1 and all my test run when I perform:  &quot;Run As -&gt; jUnit Test. &quot;","title":"not all junit tests are running in eclipse","body":"<p>I had a similar problem.  For some reason, the \"Run As -> jUnit Test\" was always skiping the first test package.  I was on an older version of Eclipse and SpringSource.</p>\n\n<p>I moved back to Juno - Version: 4.2.1 and all my test run when I perform:  \"Run As -> jUnit Test. \"</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377418605,"creation_date":1377418230,"answer_id":18426965,"question_id":16517292,"body_markdown":"I had the same problem. Eclipse would only recognize and run 5 out of my 9 tests.  After much troubleshooting I found this trick to convince Eclipse to recognize the remaining tests: just open each file, hit space and then backspace to mark it as changed, and save it. Then, Eclipse will recognize it as a test.","title":"not all junit tests are running in eclipse","body":"<p>I had the same problem. Eclipse would only recognize and run 5 out of my 9 tests.  After much troubleshooting I found this trick to convince Eclipse to recognize the remaining tests: just open each file, hit space and then backspace to mark it as changed, and save it. Then, Eclipse will recognize it as a test.</p>\n"},{"tags":[],"owner":{"account_id":3343567,"reputation":53,"user_id":2809223,"display_name":"Gondlar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1379985420,"creation_date":1379985420,"answer_id":18971466,"question_id":16517292,"body_markdown":"It&#39;s a bit late, but in case anyone finds this via a search engine:\r\n\r\nIf a Test is run multiple times the results provided by JUnit are indistinguishable for those Tests and thus the results are only displayed for one run. See also the following Eclipse bug report: https://bugs.eclipse.org/bugs/show_bug.cgi?id=172256","title":"not all junit tests are running in eclipse","body":"<p>It's a bit late, but in case anyone finds this via a search engine:</p>\n\n<p>If a Test is run multiple times the results provided by JUnit are indistinguishable for those Tests and thus the results are only displayed for one run. See also the following Eclipse bug report: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=172256\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=172256</a></p>\n"},{"tags":[],"owner":{"account_id":3237478,"reputation":186,"user_id":2767454,"display_name":"MTen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1412361297,"creation_date":1412361297,"answer_id":26184744,"question_id":16517292,"body_markdown":"Ran into the same problem, my error was that I wrote: `public void myMethodName(){ //assertions }` \r\n\r\ninstead of: `public void testMyMethodName() { //assertions }`\r\n\r\nthe test before the MyMethodName is important.","title":"not all junit tests are running in eclipse","body":"<p>Ran into the same problem, my error was that I wrote: <code>public void myMethodName(){ //assertions }</code> </p>\n\n<p>instead of: <code>public void testMyMethodName() { //assertions }</code></p>\n\n<p>the test before the MyMethodName is important.</p>\n"},{"tags":[],"owner":{"account_id":10045459,"reputation":255,"user_id":7427029,"accept_rate":100,"display_name":"user7427029"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687944728,"creation_date":1687944728,"answer_id":76571842,"question_id":16517292,"body_markdown":"in my case, it seems that cause was a combination of multiple factors. The right combination of properties was for me:\r\n- The test class is declared as public\r\n- The test methods are declared as public and NOT declared as static:\r\n\t\r\n\r\n    public void testToTeXTable() {\r\n\r\ndespite what Eclipse may [say][1].\r\n- Run as ... -&gt; Run configurations should declare that (All methods) are tested and that JUnit 5 is used.[![Correct run configuration][2]][2]\r\n- The imports in the test file contain the right source for the Annotation @Test, i.e:\r\n\r\n    import static org.junit.Assert.*;\r\n    import org.junit.Test;\r\n    //import org.junit.jupiter.api.Test;\r\n\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=353394\r\n  [2]: https://i.stack.imgur.com/TWKsy.png","title":"not all junit tests are running in eclipse","body":"<p>in my case, it seems that cause was a combination of multiple factors. The right combination of properties was for me:</p>\n<ul>\n<li><p>The test class is declared as public</p>\n</li>\n<li><p>The test methods are declared as public and NOT declared as static:</p>\n<p>public void testToTeXTable() {</p>\n</li>\n</ul>\n<p>despite what Eclipse may <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=353394\" rel=\"nofollow noreferrer\">say</a>.</p>\n<ul>\n<li><p>Run as ... -&gt; Run configurations should declare that (All methods) are tested and that JUnit 5 is used.<a href=\"https://i.stack.imgur.com/TWKsy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TWKsy.png\" alt=\"Correct run configuration\" /></a></p>\n</li>\n<li><p>The imports in the test file contain the right source for the Annotation @Test, i.e:</p>\n<p>import static org.junit.Assert.*;\nimport org.junit.Test;\n//import org.junit.jupiter.api.Test;</p>\n</li>\n</ul>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14809,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1687944728,"creation_date":1368431990,"question_id":16517292,"body_markdown":"I have a java project in eclipse, when I press the `project right click -&gt; run as junit` some tests do not run. I attached a picture, see `YamiMailSenderTest` for example.  \r\nWhen I try to run the tests directly they are running.  \r\nI am using eclipse 3.7.2.  \r\n\r\n![enter image description here][1]\r\n\r\n\r\nand expanded view:\r\n\r\n![enter image description here][2]\r\n\r\nAny idea?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BoKqd.png\r\n  [2]: http://i.stack.imgur.com/jQfKo.png","title":"not all junit tests are running in eclipse","body":"<p>I have a java project in eclipse, when I press the <code>project right click -&gt; run as junit</code> some tests do not run. I attached a picture, see <code>YamiMailSenderTest</code> for example.<br>\nWhen I try to run the tests directly they are running.<br>\nI am using eclipse 3.7.2.  </p>\n\n<p><img src=\"https://i.stack.imgur.com/BoKqd.png\" alt=\"enter image description here\"></p>\n\n<p>and expanded view:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jQfKo.png\" alt=\"enter image description here\"></p>\n\n<p>Any idea?</p>\n"},{"tags":["java","android","kotlin","android-permissions","android-13"],"comments":[{"owner":{"account_id":198620,"reputation":10364,"user_id":443387,"accept_rate":57,"display_name":"N-JOY"},"score":0,"creation_date":1692001298,"post_id":73414289,"comment_id":135561631,"body_markdown":"You can either choose PhotoPicker or go with the granular permission approach\nhttps://codewithninad.com/accessing-android-storage-on-android-13-above","body":"You can either choose PhotoPicker or go with the granular permission approach <a href=\"https://codewithninad.com/accessing-android-storage-on-android-13-above\" rel=\"nofollow noreferrer\">codewithninad.com/accessing-android-storage-on-android-13-ab&zwnj;&#8203;ove</a>"}],"answers":[{"tags":[],"owner":{"account_id":6705345,"reputation":106,"user_id":5170535,"display_name":"C&#233;sar Vargas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1661812034,"creation_date":1661812034,"answer_id":73535271,"question_id":73414289,"body_markdown":"According to Google storage documentation. It seems that for non-media files no permission is needed. https://developer.android.com/training/data-storage.","title":"Granular media permissions Android 13 API 33","body":"<p>According to Google storage documentation. It seems that for non-media files no permission is needed. <a href=\"https://developer.android.com/training/data-storage\" rel=\"noreferrer\">https://developer.android.com/training/data-storage</a>.</p>\n"}],"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12650,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":73535271,"answer_count":1,"score":10,"last_activity_date":1687944576,"creation_date":1660899483,"question_id":73414289,"body_markdown":"I&#39;ve been upgrading my project to SDK 33.\r\n\r\nI changed the permissions where I needed to access media files, such as photos, with the new permission READ_MEDIA_IMAGES and it is working fine.\r\n\r\nBut I need to access documents such as PDF files in order to upload them to the server, but I cannot find any information concerning android 13 and documents.\r\n\r\nBefore the upgrade I had READ_EXTERNAL_STORAGE permission and I accessed all the files.\r\n\r\nIn the andorid documentation on the link below, only these three permissions are provided READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO instead of using READ_EXTERNAL_STORAGE.\r\n\r\nhttps://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\r\n\r\n\r\nAny ideas on how to fix this and what steps to follow? ","title":"Granular media permissions Android 13 API 33","body":"<p>I've been upgrading my project to SDK 33.</p>\n<p>I changed the permissions where I needed to access media files, such as photos, with the new permission READ_MEDIA_IMAGES and it is working fine.</p>\n<p>But I need to access documents such as PDF files in order to upload them to the server, but I cannot find any information concerning android 13 and documents.</p>\n<p>Before the upgrade I had READ_EXTERNAL_STORAGE permission and I accessed all the files.</p>\n<p>In the andorid documentation on the link below, only these three permissions are provided READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO instead of using READ_EXTERNAL_STORAGE.</p>\n<p><a href=\"https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\" rel=\"noreferrer\">https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions</a></p>\n<p>Any ideas on how to fix this and what steps to follow?</p>\n"},{"tags":["java","json","spring","spring-boot","httprequest"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687959978,"post_id":76571234,"comment_id":135009920,"body_markdown":"I suspect the issue is with your return type. Have you tried `ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;` because in the end that is what it basically is. If you are certain it only contains single values you can also use `headers.toSingleValueMap`.","body":"I suspect the issue is with your return type. Have you tried <code>ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;</code> because in the end that is what it basically is. If you are certain it only contains single values you can also use <code>headers.toSingleValueMap</code>."},{"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1688066272,"post_id":76571234,"comment_id":135027704,"body_markdown":"Hi, I&#39;ve tried with ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;. But at then headers.toSingleValueMap() doesn&#39;t work. Because toSinglevalueMap() returns &lt;Map&lt;String,String&gt;&gt;. Any idea? @M. Deinum","body":"Hi, I&#39;ve tried with ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;. But at then headers.toSingleValueMap() doesn&#39;t work. Because toSinglevalueMap() returns &lt;Map&lt;String,String&gt;&gt;. Any idea? @M. Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688107692,"post_id":76571234,"comment_id":135032093,"body_markdown":"YOu don&#39;t need `toSingleValueMap` then as `HttpHeaders` is a `Map&lt;String, List&lt;String&gt;&gt;`.","body":"YOu don&#39;t need <code>toSingleValueMap</code> then as <code>HttpHeaders</code> is a <code>Map&lt;String, List&lt;String&gt;&gt;</code>."},{"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1688113920,"post_id":76571234,"comment_id":135033179,"body_markdown":"You are right @M.Deinum","body":"You are right @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":19373190,"reputation":411,"user_id":14166067,"display_name":"Hasan Raza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687940462,"creation_date":1687940462,"answer_id":76571300,"question_id":76571234,"body_markdown":"    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    @RestController\r\n    @RequestMapping(&quot;/employee&quot;)\r\n    public class Employee {\r\n        @GetMapping\r\n        public ResponseEntity&lt;Object&gt; hello(HttpHeaders headers) {\r\n            Map&lt;String, String&gt; headersMap = headers.entrySet().stream()\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().get(0)));\r\n            return ResponseEntity.ok().body(headersMap);\r\n        }\r\n    }\r\n\r\n","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<pre><code>import org.springframework.http.HttpHeaders;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class Employee {\n    @GetMapping\n    public ResponseEntity&lt;Object&gt; hello(HttpHeaders headers) {\n        Map&lt;String, String&gt; headersMap = headers.entrySet().stream()\n                .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().get(0)));\n        return ResponseEntity.ok().body(headersMap);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687940529,"creation_date":1687940529,"answer_id":76571307,"question_id":76571234,"body_markdown":"Do this:\r\n\r\n```\r\n@GetMapping\r\npublic ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers){\r\n\treturn ResponseEntity.ok().body(headers.toSingleValueMap());\r\n}\r\n```\r\n\r\nThough `HttpHeaders` is an implementation of `Map`, it is not well serialized into JSON. The method [`HttpHeaders#toSingleValueMap`][1] returns `Map&lt;String, String&gt;`.\r\n\r\n```shell\r\ncurl http://localhost:8080/employee --header &#39;foo: bar&#39;\r\n```\r\n&gt; ```json\r\n&gt; {\r\n&gt;\t&quot;foo&quot;: &quot;bar&quot;,\r\n&gt; }\r\n&gt; ```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#toSingleValueMap()","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<p>Do this:</p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers){\n    return ResponseEntity.ok().body(headers.toSingleValueMap());\n}\n</code></pre>\n<p>Though <code>HttpHeaders</code> is an implementation of <code>Map</code>, it is not well serialized into JSON. The method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#toSingleValueMap()\" rel=\"nofollow noreferrer\"><code>HttpHeaders#toSingleValueMap</code></a> returns <code>Map&lt;String, String&gt;</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl http://localhost:8080/employee --header 'foo: bar'\n</code></pre>\n<blockquote>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23235660,"reputation":72,"user_id":17325694,"display_name":"Xianghua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687944425,"creation_date":1687944425,"answer_id":76571805,"question_id":76571234,"body_markdown":"Provide another way to obtain the header information of the request using httpServletRequest\r\n```java\r\npackage com.mmd.look.web.api.common;\r\n\r\nimport com.mmd.look.common.response.Result;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.util.Enumeration;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/employee&quot;)\r\npublic class Employee {\r\n    @GetMapping\r\n    public Result&lt;Void&gt; hello(HttpServletRequest httpServletRequest) {\r\n        Enumeration&lt;String&gt; headerNames = httpServletRequest.getHeaderNames();\r\n        while (headerNames.hasMoreElements()) {\r\n            String name = headerNames.nextElement();\r\n            String header = httpServletRequest.getHeader(name);\r\n            System.out.println(name + &quot;:&quot; + header);\r\n        }\r\n        return Result.ok(&quot;&quot;);\r\n    }\r\n}\r\n```","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<p>Provide another way to obtain the header information of the request using httpServletRequest</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mmd.look.web.api.common;\n\nimport com.mmd.look.common.response.Result;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.util.Enumeration;\n\n@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class Employee {\n    @GetMapping\n    public Result&lt;Void&gt; hello(HttpServletRequest httpServletRequest) {\n        Enumeration&lt;String&gt; headerNames = httpServletRequest.getHeaderNames();\n        while (headerNames.hasMoreElements()) {\n            String name = headerNames.nextElement();\n            String header = httpServletRequest.getHeader(name);\n            System.out.println(name + &quot;:&quot; + header);\n        }\n        return Result.ok(&quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76571307,"answer_count":3,"score":1,"last_activity_date":1687944425,"creation_date":1687939903,"question_id":76571234,"body_markdown":"I need to get the all HttpHeaders and then need to back all of these as a key-value pair as a `ResponseBody`. How can I achieve this?\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/employee&quot;)\r\npublic class Employee {\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers) {\r\n        return ResponseEntity.ok().body(headers);\r\n    }\r\n}\r\n```","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<p>I need to get the all HttpHeaders and then need to back all of these as a key-value pair as a <code>ResponseBody</code>. How can I achieve this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class Employee {\n\n    @GetMapping\n    public ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers) {\n        return ResponseEntity.ok().body(headers);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","jackson","lombok"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1654848138,"post_id":72570822,"comment_id":128194485,"body_markdown":"Have a look here - https://stackoverflow.com/questions/70134597/how-to-configure-setter-and-getter-name-convention-in-jackson-for-a-particular-c","body":"Have a look here - <a href=\"https://stackoverflow.com/questions/70134597/how-to-configure-setter-and-getter-name-convention-in-jackson-for-a-particular-c\" title=\"how to configure setter and getter name convention in jackson for a particular c\">stackoverflow.com/questions/70134597/&hellip;</a>"},{"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"score":0,"creation_date":1654848771,"post_id":72570822,"comment_id":128194665,"body_markdown":"@Sam, What about @Accessors(fluent = true) annotation? your link doesn&#39;t mention anything about it.","body":"@Sam, What about @Accessors(fluent = true) annotation? your link doesn&#39;t mention anything about it."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1654849040,"post_id":72570822,"comment_id":128194734,"body_markdown":"@MeladBasilius try to use on class level the annotation `@JsonAutoDetect(fieldVisibility = Visibility.ANY)`. This would allow Jackson to access those properties through reflection as the custom setter names provided by `fluent = true` are not understood by jackson","body":"@MeladBasilius try to use on class level the annotation <code>@JsonAutoDetect(fieldVisibility = Visibility.ANY)</code>. This would allow Jackson to access those properties through reflection as the custom setter names provided by <code>fluent = true</code> are not understood by jackson"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":2,"creation_date":1654849158,"post_id":72570822,"comment_id":128194769,"body_markdown":"I haven&#39;t looked into the problem, so I&#39;m just guessing here. I suspect Jackson expects getters to be named getXyz. If not, then you will have problems like yours. The article I linked shows a way of making Jackson understand getters following other patterns.","body":"I haven&#39;t looked into the problem, so I&#39;m just guessing here. I suspect Jackson expects getters to be named getXyz. If not, then you will have problems like yours. The article I linked shows a way of making Jackson understand getters following other patterns."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1654849371,"post_id":72570822,"comment_id":128194843,"body_markdown":"Another option is to annotate the fields with `@JsonProperty`, although the class level annotation mentioned above probably is better for many fields.","body":"Another option is to annotate the fields with <code>@JsonProperty</code>, although the class level annotation mentioned above probably is better for many fields."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1654849773,"post_id":72570822,"comment_id":128194986,"body_markdown":"@MeladBasilius Please also try with `@JsonPOJOBuilder(withPrefix = &quot;&quot;)` . If this is working I can explain why","body":"@MeladBasilius Please also try with <code>@JsonPOJOBuilder(withPrefix = &quot;&quot;)</code> . If this is working I can explain why"},{"owner":{"account_id":6443778,"reputation":91,"user_id":4992896,"display_name":"shduke"},"score":2,"creation_date":1659714932,"post_id":72570822,"comment_id":129368186,"body_markdown":"Does not work with `@Jacksonized` either. i.e The combination of `@Accessors(fluent = true)`, `@Data` (or `@Value`), `@Builder` and `@Jacksonized` does not work. Removing the `Accessor` notation allows the serialization to succeed but loses the fluency. Interestingly the **de**serialization works just fine with these annotations.","body":"Does not work with <code>@Jacksonized</code> either. i.e The combination of <code>@Accessors(fluent = true)</code>, <code>@Data</code> (or <code>@Value</code>), <code>@Builder</code> and <code>@Jacksonized</code> does not work. Removing the <code>Accessor</code> notation allows the serialization to succeed but loses the fluency. Interestingly the <b>de</b>serialization works just fine with these annotations."}],"answers":[{"tags":[],"owner":{"account_id":302748,"reputation":476,"user_id":611287,"display_name":"Cristian Badila"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687944065,"creation_date":1668779432,"answer_id":74490672,"question_id":72570822,"body_markdown":"I stumbled on this question recently while encountering the same problem and the solution for me was to add an explicit `@JsonProperty` annotation on the getter generated by Lombok using:\r\n`@Getter(onMethod = @__(@JsonProperty))`.\r\n\r\nIn your case, the class would look like this:\r\n```\r\n@Data\r\n@Builder\r\n@Accessors(fluent = true)\r\n@Getter(onMethod = @__(@JsonProperty))\r\npublic class AccountDTO  implements Serializable {\r\n    private String identification;\r\n}\r\n```\r\n","title":"@Accessors(fluent = true) doesnot work with Jakson","body":"<p>I stumbled on this question recently while encountering the same problem and the solution for me was to add an explicit <code>@JsonProperty</code> annotation on the getter generated by Lombok using:\n<code>@Getter(onMethod = @__(@JsonProperty))</code>.</p>\n<p>In your case, the class would look like this:</p>\n<pre><code>@Data\n@Builder\n@Accessors(fluent = true)\n@Getter(onMethod = @__(@JsonProperty))\npublic class AccountDTO  implements Serializable {\n    private String identification;\n}\n</code></pre>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1687944065,"creation_date":1654847539,"question_id":72570822,"body_markdown":"In Spring boot application with Lombok, I have pojo class  `AccountDTO`\r\n\r\n    @Data\r\n    @Builder\r\n    @Accessors(fluent = true)\r\n    public class AccountDTO  implements Serializable {\r\n        private String identification;\r\n    }\r\n\r\nMy project compiles fine. However, it throws an exception in its execution\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\r\n&gt; serializer found for class AccountDTO  and no properties discovered to create\r\n&gt; BeanSerializer\r\n\r\n\r\nif I removed the annotation `@Accessors(fluent = true)`, then it will work fine without any problems.\r\n\r\nHow can i make `Lombok` `@Accessors(fluent = true)` and `Jackson` work together ?\r\n","title":"@Accessors(fluent = true) doesnot work with Jakson","body":"<p>In Spring boot application with Lombok, I have pojo class  <code>AccountDTO</code></p>\n<pre><code>@Data\n@Builder\n@Accessors(fluent = true)\npublic class AccountDTO  implements Serializable {\n    private String identification;\n}\n</code></pre>\n<p>My project compiles fine. However, it throws an exception in its execution</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\nserializer found for class AccountDTO  and no properties discovered to create\nBeanSerializer</p>\n</blockquote>\n<p>if I removed the annotation <code>@Accessors(fluent = true)</code>, then it will work fine without any problems.</p>\n<p>How can i make <code>Lombok</code> <code>@Accessors(fluent = true)</code> and <code>Jackson</code> work together ?</p>\n"},{"tags":["java","sql","spring","integration-testing","h2"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1534621529,"post_id":51909323,"comment_id":90774089,"body_markdown":"Is it possible to move the date-handling logic out of the database and into Java?  That way the SQL gets simpler, the testing gets easier and you&#39;re less likely to run into error messages from H2.","body":"Is it possible to move the date-handling logic out of the database and into Java?  That way the SQL gets simpler, the testing gets easier and you&#39;re less likely to run into error messages from H2."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1534625174,"post_id":51909323,"comment_id":90774905,"body_markdown":"Maybe you could create a function `SYSDATE()` that returns a date?","body":"Maybe you could create a function <code>SYSDATE()</code> that returns a date?"}],"answers":[{"tags":[],"owner":{"account_id":13546114,"reputation":73,"user_id":10944459,"display_name":"Jonathan Ferreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585221722,"creation_date":1585221722,"answer_id":60866082,"question_id":51909323,"body_markdown":"If you use two databases at once, you should avoid usage of vendor-specific syntax.\r\n\r\nYou can use SQL Standard-compliant\r\n\r\n```LOCALTIMESTAMP - INTERVAL &#39;30&#39; MINUTE```\r\n\r\nin recent versions of Oracle and H2.\r\n\r\nI already had this problem and that was the solution it worked.","title":"How can I set sysdate in H2? (for testing)","body":"<p>If you use two databases at once, you should avoid usage of vendor-specific syntax.</p>\n\n<p>You can use SQL Standard-compliant</p>\n\n<p><code>LOCALTIMESTAMP - INTERVAL '30' MINUTE</code></p>\n\n<p>in recent versions of Oracle and H2.</p>\n\n<p>I already had this problem and that was the solution it worked.</p>\n"}],"owner":{"account_id":6035248,"reputation":51,"user_id":8042359,"display_name":"kir55rus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2408,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1687943955,"creation_date":1534600007,"question_id":51909323,"body_markdown":"I use H2 for testing and I want to set `sysdate`.\r\n\r\nI tried to create an alias for `sysdate` to my own implementation, but then I couldn&#39;t use it with arithmetic like `sysdate - ?`. There was exception: `Unknown data type: &quot;?&quot;`\r\n\r\nI tried to replace `sysdate` string to smth like `timestamp &#39;2018-01-01 11:11:11.123&#39;` or `parsedatetime(&#39;2018-01-01 11:11:11.123&#39;, &#39;yyyy-MM-dd hh:mm:ss.SSS&#39;)` in runtime. There was same exception, like in previous attempt.\r\n\r\nYes, I can add `cast(? as number)` to all my sql, but it isn&#39;t a good solution for me.\r\n\r\nDo you have any idea, how can I do this?\r\n\r\nps: I also use Spring. Maybe it will help","title":"How can I set sysdate in H2? (for testing)","body":"<p>I use H2 for testing and I want to set <code>sysdate</code>.</p>\n\n<p>I tried to create an alias for <code>sysdate</code> to my own implementation, but then I couldn't use it with arithmetic like <code>sysdate - ?</code>. There was exception: <code>Unknown data type: \"?\"</code></p>\n\n<p>I tried to replace <code>sysdate</code> string to smth like <code>timestamp '2018-01-01 11:11:11.123'</code> or <code>parsedatetime('2018-01-01 11:11:11.123', 'yyyy-MM-dd hh:mm:ss.SSS')</code> in runtime. There was same exception, like in previous attempt.</p>\n\n<p>Yes, I can add <code>cast(? as number)</code> to all my sql, but it isn't a good solution for me.</p>\n\n<p>Do you have any idea, how can I do this?</p>\n\n<p>ps: I also use Spring. Maybe it will help</p>\n"},{"tags":["java","http","tomcat"],"comments":[{"owner":{"account_id":435735,"reputation":125,"user_id":3534982,"display_name":"Hus Mukh"},"score":0,"creation_date":1698805032,"post_id":76571738,"comment_id":136451081,"body_markdown":"I am facing same issue for Asynch rest api to download a file. Any one have any clue on this?","body":"I am facing same issue for Asynch rest api to download a file. Any one have any clue on this?"}],"owner":{"account_id":28911088,"reputation":11,"user_id":22144077,"display_name":"郭东洋"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687943927,"creation_date":1687943927,"question_id":76571738,"body_markdown":"org.apache.coyote. CloseNowException: Failed write\r\nat org.apache.coyote.http11.Http110utputBuffer$SocketOutputBuffer.doWrite(Http110utputBuffer.java:548)~[tomcat-embed-cor\r\ne-9.0.39.jar!/:9.0.391\r\nat org.apache.coyote.httpll.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110)~[tomcat-embed-core-9.0.39.\r\njar!/:9.0.39]\r\natorg.apache.coyote.http11.Http110utputBuffer.doWrite(Http110utputBuffer.java:193)~[tomcat-embed-core-9.0.39.jar!/:9.0.\r\n39]\r\nat org.apache.coyote.Response.doWrite(Response.java:601)~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\nat org.apache.catalina.connector.OutputBuffer.realwriteBytes(OutputBuffer.java:339)~[tomcat-embed-core-9.0.39.jar!/:9.0.\r\n39]\r\nat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:776)~[tomcat-embed-core-9.0.39.jar!/:9\r\n\r\ndont appear this error","title":"org.apache.coyote. CloseNowException: Failed write","body":"<p>org.apache.coyote. CloseNowException: Failed write\nat org.apache.coyote.http11.Http110utputBuffer$SocketOutputBuffer.doWrite(Http110utputBuffer.java:548)~[tomcat-embed-cor\ne-9.0.39.jar!/:9.0.391\nat org.apache.coyote.httpll.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110)~[tomcat-embed-core-9.0.39.\njar!/:9.0.39]\natorg.apache.coyote.http11.Http110utputBuffer.doWrite(Http110utputBuffer.java:193)~[tomcat-embed-core-9.0.39.jar!/:9.0.\n39]\nat org.apache.coyote.Response.doWrite(Response.java:601)~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\nat org.apache.catalina.connector.OutputBuffer.realwriteBytes(OutputBuffer.java:339)~[tomcat-embed-core-9.0.39.jar!/:9.0.\n39]\nat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:776)~[tomcat-embed-core-9.0.39.jar!/:9</p>\n<p>dont appear this error</p>\n"},{"tags":["java","android","kotlin","button","android-jetpack-compose"],"comments":[{"owner":{"account_id":6171837,"reputation":1578,"user_id":4809922,"display_name":"Eliza Camber"},"score":0,"creation_date":1687944911,"post_id":76571708,"comment_id":135006624,"body_markdown":"If you disable dynamicColor in the  Theme.kt does it change?","body":"If you disable dynamicColor in the  Theme.kt does it change?"},{"owner":{"account_id":11834347,"reputation":12390,"user_id":9636037,"display_name":"Abhimanyu"},"score":0,"creation_date":1687966868,"post_id":76571708,"comment_id":135011575,"body_markdown":"Is the Composable wrapped within the Theme? Provide a minimum reproducible example.","body":"Is the Composable wrapped within the Theme? Provide a minimum reproducible example."},{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700384887,"post_id":76571708,"comment_id":136646048,"body_markdown":"make sure you have theme configured correctly, disabled the dynamic color and last you are wrapping your composable with your theme. If all these 3 things are done, then you&#39;ll get the desired result.","body":"make sure you have theme configured correctly, disabled the dynamic color and last you are wrapping your composable with your theme. If all these 3 things are done, then you&#39;ll get the desired result."}],"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687943607,"creation_date":1687943607,"question_id":76571708,"body_markdown":"I have a project in XML and I m trying to add a specific feature to it using Jetpack Compose. I have been using Compose Navigation. The problem is that the button color is Purple(maybe the default color) and my UI Theme color is Green. How to make the button take the effect of the theme color?","title":"Button is not taking the theme effect in jetpack compose","body":"<p>I have a project in XML and I m trying to add a specific feature to it using Jetpack Compose. I have been using Compose Navigation. The problem is that the button color is Purple(maybe the default color) and my UI Theme color is Green. How to make the button take the effect of the theme color?</p>\n"},{"tags":["java","visual-studio-code","java-package"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687741613,"post_id":76546076,"comment_id":134974383,"body_markdown":"Hi there, please share the error message in the plain text format","body":"Hi there, please share the error message in the plain text format"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1687765638,"post_id":76546076,"comment_id":134976989,"body_markdown":"This is fine on my machine, please show more information, such as your personal settings and the way you execute code, etc.  \nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"This is fine on my machine, please show more information, such as your personal settings and the way you execute code, etc.   Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688693862,"post_id":76546076,"comment_id":135111540,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":28886267,"reputation":1,"user_id":22124531,"display_name":"Caesar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687941649,"creation_date":1687610381,"answer_id":76546098,"question_id":76546076,"body_markdown":"I would be much easier to help if you provided the code.\r\n\r\nWhat it comes to mind with this information is that you probably were writing a class without the main method, so when you didn&#39;t especified the package it used the default one wich has a main method, but when you compile in a package without a script with the main method you get that error.\r\n\r\nWhen you compile a program in a IDE it always search the main method, doesn&#39;t matter whether it is in the script you are editing or no. Si always have in mind that the core of a basic java program will have a main method that initialize all the stuff.","title":"how to fix java package problem in vs code","body":"<p>I would be much easier to help if you provided the code.</p>\n<p>What it comes to mind with this information is that you probably were writing a class without the main method, so when you didn't especified the package it used the default one wich has a main method, but when you compile in a package without a script with the main method you get that error.</p>\n<p>When you compile a program in a IDE it always search the main method, doesn't matter whether it is in the script you are editing or no. Si always have in mind that the core of a basic java program will have a main method that initialize all the stuff.</p>\n"}],"owner":{"account_id":26575919,"reputation":1,"user_id":20201320,"display_name":"Abhijeet Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687943428,"creation_date":1687609932,"question_id":76546076,"body_markdown":"![enter image description here][1]# please help me to fix such thing.\r\n\r\n\r\nwhen I make a directory and inside such try to write java code this problem occurs. some time it does not give any error but when I run this code, this thing come to me Error: Could not find or load main class Test.also when i remove &#39;package myPkg&#39; from my code it&#39;s works. why? is my code is wrong or any problem with vs code editor.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5bUeR.png","title":"how to fix java package problem in vs code","body":"<p><img src=\"https://i.stack.imgur.com/5bUeR.png\" alt=\"enter image description here\" /># please help me to fix such thing.</p>\n<p>when I make a directory and inside such try to write java code this problem occurs. some time it does not give any error but when I run this code, this thing come to me Error: Could not find or load main class Test.also when i remove 'package myPkg' from my code it's works. why? is my code is wrong or any problem with vs code editor.</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":1,"creation_date":1687936472,"post_id":76570703,"comment_id":135004953,"body_markdown":"Does this answer your question? [java.io.IOException: FIS\\_AUTH\\_ERROR in Android Firebase](https://stackoverflow.com/questions/60698622/java-io-ioexception-fis-auth-error-in-android-firebase)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60698622/java-io-ioexception-fis-auth-error-in-android-firebase\">java.io.IOException: FIS_AUTH_ERROR in Android Firebase</a>"}],"answers":[{"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687943191,"creation_date":1687943191,"answer_id":76571657,"question_id":76570703,"body_markdown":"try this one!\r\n\r\ngradle file(appLevel)\r\n\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.2&#39;\r\n\r\nManifest File Add:\r\n\r\n             &lt;service\r\n                android:name=&quot;.MyFirebaseService&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:stopWithTask=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n\r\nService codes:\r\n\r\n    public class MyFirebaseService extends FirebaseMessagingService {\r\n    \r\n    \r\n        @Override\r\n        public void onNewToken(@NonNull String token) {\r\n            super.onNewToken(token);\r\n            Log.e(Utils.TAG, token);\r\n        }\r\n    }\r\n\r\nMy Activity code:\r\n\r\n    FirebaseMessaging.getInstance().getToken().addOnSuccessListener(new OnSuccessListener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onSuccess(String s) {\r\n                            Log.e(&quot;fcmToken:=&gt;&quot;,s);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(MainActivity.this, &quot;Failed to get token&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n","title":"How to get token from FCM in Android","body":"<p>try this one!</p>\n<p>gradle file(appLevel)</p>\n<pre><code>implementation 'com.google.firebase:firebase-messaging:23.1.2'\n</code></pre>\n<p>Manifest File Add:</p>\n<pre><code>         &lt;service\n            android:name=&quot;.MyFirebaseService&quot;\n            android:exported=&quot;true&quot;\n            android:stopWithTask=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>Service codes:</p>\n<pre><code>public class MyFirebaseService extends FirebaseMessagingService {\n\n\n    @Override\n    public void onNewToken(@NonNull String token) {\n        super.onNewToken(token);\n        Log.e(Utils.TAG, token);\n    }\n}\n</code></pre>\n<p>My Activity code:</p>\n<pre><code>FirebaseMessaging.getInstance().getToken().addOnSuccessListener(new OnSuccessListener&lt;String&gt;() {\n                    @Override\n                    public void onSuccess(String s) {\n                        Log.e(&quot;fcmToken:=&gt;&quot;,s);\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(MainActivity.this, &quot;Failed to get token&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":28646746,"reputation":7,"user_id":21934585,"display_name":"Dali Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687943191,"creation_date":1687935150,"question_id":76570703,"body_markdown":"In my application I want use FCM and I added below dependencies in gradle file : &lt;br&gt;\r\n\r\n    //Firebase\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.1.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-messaging:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.3.0&#39;\r\n    //Analytics\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.3.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-analytics:18.0.3&#39;\r\n\r\nI write below codes but after run application not show me token and just show error in logcat! &lt;br&gt;\r\nIn FCM console I created json file for my application and paste it in my project! &lt;br&gt;\r\n**My Activity code:** &lt;br&gt;\r\n\r\n    //FCM\r\n    Log.e(&quot;FirebaseToken&quot;, &quot;1&quot;);\r\n    FirebaseMessaging.getInstance().getToken().addOnCompleteListener(task -&gt; {\r\n        Log.e(&quot;FirebaseToken&quot;, &quot;2&quot;);\r\n        if (!task.isSuccessful()) {\r\n            Log.e(&quot;FirebaseToken&quot;, &quot;Fetching FCM registration token failed&quot;, task.getException());\r\n            return;\r\n        }\r\n        String token = task.getResult();\r\n        Log.e(&quot;FirebaseToken&quot;, &quot;Token : &quot; + token);\r\n    });\r\n\r\n**Service codes:** &lt;br&gt;\r\n\r\n    public class MyFcmService extends FirebaseMessagingService {\r\n        @Override\r\n        public void onNewToken(@NonNull String token) {\r\n            Log.e(&quot;FirebaseToken&quot;, &quot;Refreshed token: &quot; + token);\r\n        }\r\n    }\r\n\r\nAfter run application show me this messages in logcat: &lt;br&gt;\r\n\r\n    1\r\n    2023-06-28 10:07:03.962 16810-16810 FirebaseToken           com.myapp                          E  2\r\n    2023-06-28 10:07:03.964 16810-16810 FirebaseToken           com.myapp                          E  Fetching FCM registration token failed\r\n        java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:625)\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392)\r\n        \tat com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4)\r\n        \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        \tat com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2)\r\n        \tat java.lang.Thread.run(Thread.java:920)\r\n        Caused by: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\r\n        \tat com.google.android.gms.tasks.Tasks.zza(com.google.android.gms:play-services-tasks@@18.0.1:5)\r\n        \tat com.google.android.gms.tasks.Tasks.await(com.google.android.gms:play-services-tasks@@18.0.1:8)\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:623)\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392)&#160;\r\n        \tat com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4)&#160;\r\n        \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)&#160;\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n        \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)&#160;\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        \tat com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2)&#160;\r\n        \tat java.lang.Thread.run(Thread.java:920)&#160;\r\n        Caused by: java.io.IOException: FIS_AUTH_ERROR\r\n        \tat com.google.firebase.messaging.GmsRpc.handleResponse(GmsRpc.java:309)\r\n        \tat com.google.firebase.messaging.GmsRpc.lambda$extractResponseWhenComplete$0$GmsRpc(GmsRpc.java:320)\r\n        \tat com.google.firebase.messaging.-$$Lambda$GmsRpc$tPjltVSAbk36mmkzOG1vcfMBmQo.then(Unknown Source:2)\r\n        \tat com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:3)\r\n        \tat com.google.firebase.messaging.-$$Lambda$_14QHG018Z6p13d3hzJuGTWnNeo.execute(Unknown Source:0)\r\n        \tat com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        \tat com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\r\n        \tat com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\r\n        \tat com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:8)\r\n        \tat com.google.android.gms.cloudmessaging.zzz.execute(Unknown Source:0)\r\n        \tat com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        \tat com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\r\n        \tat com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\r\n        \tat com.google.android.gms.tasks.TaskCompletionSource.setResult(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        \tat com.google.android.gms.cloudmessaging.zzp.zzd(com.google.android.gms:play-services-cloud-messaging@@17.0.0:3)\r\n        \tat com.google.android.gms.cloudmessaging.zzr.zza(com.google.android.gms:play-services-cloud-messaging@@17.0.0:2)\r\n        \tat com.google.android.gms.cloudmessaging.zzf.handleMessage(com.google.android.gms:play-services-cloud-messaging@@17.0.0:14)\r\n        \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n        \tat android.os.Looper.loopOnce(Looper.java:226)\r\n        \tat android.os.Looper.loop(Looper.java:313)\r\n        \tat android.app.ActivityThread.main(ActivityThread.java:8663)\r\n        \tat java.lang.reflect.Method.invoke(Native Method)\r\n        \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n        \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)","title":"How to get token from FCM in Android","body":"<p>In my application I want use FCM and I added below dependencies in gradle file : <br></p>\n<pre><code>//Firebase\nimplementation platform('com.google.firebase:firebase-bom:31.1.0')\nimplementation 'com.google.firebase:firebase-messaging:21.1.0'\nimplementation 'com.google.firebase:firebase-analytics:21.3.0'\n//Analytics\nimplementation 'com.google.firebase:firebase-analytics:21.3.0'\nimplementation 'com.google.android.gms:play-services-analytics:18.0.3'\n</code></pre>\n<p>I write below codes but after run application not show me token and just show error in logcat! <br>\nIn FCM console I created json file for my application and paste it in my project! <br>\n<strong>My Activity code:</strong> <br></p>\n<pre><code>//FCM\nLog.e(&quot;FirebaseToken&quot;, &quot;1&quot;);\nFirebaseMessaging.getInstance().getToken().addOnCompleteListener(task -&gt; {\n    Log.e(&quot;FirebaseToken&quot;, &quot;2&quot;);\n    if (!task.isSuccessful()) {\n        Log.e(&quot;FirebaseToken&quot;, &quot;Fetching FCM registration token failed&quot;, task.getException());\n        return;\n    }\n    String token = task.getResult();\n    Log.e(&quot;FirebaseToken&quot;, &quot;Token : &quot; + token);\n});\n</code></pre>\n<p><strong>Service codes:</strong> <br></p>\n<pre><code>public class MyFcmService extends FirebaseMessagingService {\n    @Override\n    public void onNewToken(@NonNull String token) {\n        Log.e(&quot;FirebaseToken&quot;, &quot;Refreshed token: &quot; + token);\n    }\n}\n</code></pre>\n<p>After run application show me this messages in logcat: <br></p>\n<pre><code>1\n2023-06-28 10:07:03.962 16810-16810 FirebaseToken           com.myapp                          E  2\n2023-06-28 10:07:03.964 16810-16810 FirebaseToken           com.myapp                          E  Fetching FCM registration token failed\n    java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\n        at com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:625)\n        at com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392)\n        at com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2)\n        at java.lang.Thread.run(Thread.java:920)\n    Caused by: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\n        at com.google.android.gms.tasks.Tasks.zza(com.google.android.gms:play-services-tasks@@18.0.1:5)\n        at com.google.android.gms.tasks.Tasks.await(com.google.android.gms:play-services-tasks@@18.0.1:8)\n        at com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:623)\n        at com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392) \n        at com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4) \n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462) \n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) \n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2) \n        at java.lang.Thread.run(Thread.java:920) \n    Caused by: java.io.IOException: FIS_AUTH_ERROR\n        at com.google.firebase.messaging.GmsRpc.handleResponse(GmsRpc.java:309)\n        at com.google.firebase.messaging.GmsRpc.lambda$extractResponseWhenComplete$0$GmsRpc(GmsRpc.java:320)\n        at com.google.firebase.messaging.-$$Lambda$GmsRpc$tPjltVSAbk36mmkzOG1vcfMBmQo.then(Unknown Source:2)\n        at com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:3)\n        at com.google.firebase.messaging.-$$Lambda$_14QHG018Z6p13d3hzJuGTWnNeo.execute(Unknown Source:0)\n        at com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\n        at com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\n        at com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\n        at com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:8)\n        at com.google.android.gms.cloudmessaging.zzz.execute(Unknown Source:0)\n        at com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\n        at com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\n        at com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\n        at com.google.android.gms.tasks.TaskCompletionSource.setResult(com.google.android.gms:play-services-tasks@@18.0.1:1)\n        at com.google.android.gms.cloudmessaging.zzp.zzd(com.google.android.gms:play-services-cloud-messaging@@17.0.0:3)\n        at com.google.android.gms.cloudmessaging.zzr.zza(com.google.android.gms:play-services-cloud-messaging@@17.0.0:2)\n        at com.google.android.gms.cloudmessaging.zzf.handleMessage(com.google.android.gms:play-services-cloud-messaging@@17.0.0:14)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loopOnce(Looper.java:226)\n        at android.os.Looper.loop(Looper.java:313)\n        at android.app.ActivityThread.main(ActivityThread.java:8663)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687942800,"creation_date":1687941432,"answer_id":76571425,"question_id":76571150,"body_markdown":"By default, Spring resolves autowired entries by type. If more than one bean of the same type is available in the container but it can&#39;t resolve using Qualifiers or other mechanism, the framework will throw `NoUniqueBeanDefinitionException`\r\n\r\nSo, for your question, it will look for implementations of `Reader`.\r\n\r\nI am not sure if you can use same qualifier names for different types but, if you want some similar functionality, you need to look at [Spring profiles][1] where each profile decides on the Bean that you want to inject for dependency\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html","title":"Does Spring @Qualifier resolves name among all beans or only among beans that share the qualified type","body":"<p>By default, Spring resolves autowired entries by type. If more than one bean of the same type is available in the container but it can't resolve using Qualifiers or other mechanism, the framework will throw <code>NoUniqueBeanDefinitionException</code></p>\n<p>So, for your question, it will look for implementations of <code>Reader</code>.</p>\n<p>I am not sure if you can use same qualifier names for different types but, if you want some similar functionality, you need to look at <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">Spring profiles</a> where each profile decides on the Bean that you want to inject for dependency</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687941559,"creation_date":1687941559,"answer_id":76571446,"question_id":76571150,"body_markdown":"&gt; When Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations?\r\n\r\nNope, the `@Autowired` annotation searches only for the beans of the required type. If there are multiple implementations, the `@Qualifier` annotation helps to select the particular one. In other words, if you have multiple beans sharing the same name but differ in type (i.e. only one of them is qualified by type), the `@Qualifier` annotation is not needed.\r\n\r\n&gt; In the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated beans, like implementations of Reader and implementations of Writer for example?\r\n\r\nOf course, you can.","title":"Does Spring @Qualifier resolves name among all beans or only among beans that share the qualified type","body":"<blockquote>\n<p>When Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations?</p>\n</blockquote>\n<p>Nope, the <code>@Autowired</code> annotation searches only for the beans of the required type. If there are multiple implementations, the <code>@Qualifier</code> annotation helps to select the particular one. In other words, if you have multiple beans sharing the same name but differ in type (i.e. only one of them is qualified by type), the <code>@Qualifier</code> annotation is not needed.</p>\n<blockquote>\n<p>In the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated beans, like implementations of Reader and implementations of Writer for example?</p>\n</blockquote>\n<p>Of course, you can.</p>\n"}],"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76571446,"answer_count":2,"score":1,"last_activity_date":1687942800,"creation_date":1687939135,"question_id":76571150,"body_markdown":"I am new to spring and was wondering how @Qualifier resolves for DI.\r\n\r\nIf I have an interface for Reading external data with implementations for reading local files (to read config files for example) and reading from database (reading the business data for example), hiding the actual technical detail from the caller (is it a DB or is a LocalFile or something else, doesnt matter interface contract is fullfilled).\r\n\r\n    public interface Reader { }\r\n\r\n    @Component\r\n    @Qualifier(&quot;LocalFileReader&quot;)\r\n    public class LocalFileReader implements Reader { }\r\n\r\n    @Component\r\n    @Qualifier(&quot;DbReader&quot;)\r\n    public class DbReader implements Reader { }\r\n\r\n\r\n\r\nWhen I want to inject a Reader implementation \r\n\r\n    public class MyService {    \r\n       @Autowired\r\n       @Qualifier(&quot;LocalFileReader&quot;)\r\n       private Reader reader;    \r\n    }\r\n\r\n\r\nWhen Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations ?\r\n\r\nIn the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated  beans, like implementations of `Reader` and implementations of `Writer` for example ? \r\n\r\n    public class MyService {    \r\n       @Autowired\r\n       @Qualifier(&quot;LocalFile&quot;)\r\n       private Reader reader;  \r\n\r\n       @Autowired\r\n       @Qualifier(&quot;LocalFile&quot;)\r\n       private Writer writer;  \r\n    }\r\n\r\nIt doesnt bring much gain over doing `@Qualifier(&quot;LocalFileReader&quot;)` and `@Qualifier(&quot;LocalFileWriter&quot;)` but it helps me understand how it works. And if I&#39;m right so far, is there a way to tell once &quot;for this entire object use the local file beans&quot; ?","title":"Does Spring @Qualifier resolves name among all beans or only among beans that share the qualified type","body":"<p>I am new to spring and was wondering how @Qualifier resolves for DI.</p>\n<p>If I have an interface for Reading external data with implementations for reading local files (to read config files for example) and reading from database (reading the business data for example), hiding the actual technical detail from the caller (is it a DB or is a LocalFile or something else, doesnt matter interface contract is fullfilled).</p>\n<pre><code>public interface Reader { }\n\n@Component\n@Qualifier(&quot;LocalFileReader&quot;)\npublic class LocalFileReader implements Reader { }\n\n@Component\n@Qualifier(&quot;DbReader&quot;)\npublic class DbReader implements Reader { }\n</code></pre>\n<p>When I want to inject a Reader implementation</p>\n<pre><code>public class MyService {    \n   @Autowired\n   @Qualifier(&quot;LocalFileReader&quot;)\n   private Reader reader;    \n}\n</code></pre>\n<p>When Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations ?</p>\n<p>In the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated  beans, like implementations of <code>Reader</code> and implementations of <code>Writer</code> for example ?</p>\n<pre><code>public class MyService {    \n   @Autowired\n   @Qualifier(&quot;LocalFile&quot;)\n   private Reader reader;  \n\n   @Autowired\n   @Qualifier(&quot;LocalFile&quot;)\n   private Writer writer;  \n}\n</code></pre>\n<p>It doesnt bring much gain over doing <code>@Qualifier(&quot;LocalFileReader&quot;)</code> and <code>@Qualifier(&quot;LocalFileWriter&quot;)</code> but it helps me understand how it works. And if I'm right so far, is there a way to tell once &quot;for this entire object use the local file beans&quot; ?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18467158,"reputation":31,"user_id":13453007,"display_name":"Benjamin Jenne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613720307,"creation_date":1590280972,"answer_id":61980301,"question_id":61979399,"body_markdown":"Add in app level build.gradle:\r\n\r\n```\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n\r\n    //Testing\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    androidTestImplementation(&#39;com.android.support.test.espresso:espresso-contrib:3.0.2&#39;){\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;appcompat&#39;\r\n        exclude module: &#39;recyclerview-v7&#39;\r\n        exclude module: &#39;appcompat-v7&#39;\r\n    }\r\n```","title":"Cannot Resolve Symbol RecyclerViewActions / RecyclerViewMatcher","body":"<p>Add in app level build.gradle:</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'com.google.android.material:material:1.0.0'\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n\n    //Testing\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation('com.android.support.test.espresso:espresso-contrib:3.0.2'){\n        exclude group: 'com.android.support', module: 'appcompat'\n        exclude module: 'recyclerview-v7'\n        exclude module: 'appcompat-v7'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095520,"reputation":329,"user_id":10894077,"display_name":"Marek Macko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687942680,"creation_date":1687942680,"answer_id":76571586,"question_id":61979399,"body_markdown":"`RecyclerViewActions` and `RecyclerViewMatcher` classes are placed under `espresso-contrib` dependency:\r\n```\r\ndependencies {\r\n    ...\r\n    androidTestImplementation( &quot;androidx.test.espresso:espresso-contrib:$espressoVersion&quot;)\r\n}\r\n```\r\n\r\nSource: [androidx-test-libraries/test-setup][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/testing/instrumented-tests/androidx-test-libraries/test-setup","title":"Cannot Resolve Symbol RecyclerViewActions / RecyclerViewMatcher","body":"<p><code>RecyclerViewActions</code> and <code>RecyclerViewMatcher</code> classes are placed under <code>espresso-contrib</code> dependency:</p>\n<pre><code>dependencies {\n    ...\n    androidTestImplementation( &quot;androidx.test.espresso:espresso-contrib:$espressoVersion&quot;)\n}\n</code></pre>\n<p>Source: <a href=\"https://developer.android.com/training/testing/instrumented-tests/androidx-test-libraries/test-setup\" rel=\"nofollow noreferrer\">androidx-test-libraries/test-setup</a></p>\n"}],"owner":{"account_id":18467158,"reputation":31,"user_id":13453007,"display_name":"Benjamin Jenne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687942680,"creation_date":1590273114,"question_id":61979399,"body_markdown":"I am trying to write tests for a recycler view in my android app. I am getting a cannot resolve symbol error for &quot;RecyclerViewActions&quot; and &quot;RecyclerViewMatcher.&quot;\r\n\r\nHere is the helper method in my test where the &quot;cannot resolve symbol&quot; error is being thrown.\r\n\r\n    ````// Convenience helper\r\n    public static RecyclerViewMatcher withRecyclerView(final int recyclerViewId) {\r\n        return new RecyclerViewMatcher(recyclerViewId);\r\n    }````\r\n\r\nHere is my import where the error is also being thrown\r\n\r\n````import static androidx.test.espresso.contrib.RecyclerViewActions;````\r\n\r\nHere is my app level build.gradle dependencies:\r\n\r\n````\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.0.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.0.0&#39;\r\n    implementation &#39;androidx.coordinatorlayout:coordinatorlayout:1.1.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    androidTestImplementation(&#39;androidx.test.espresso:espresso-contrib:3.2.0&#39;) {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;appcompat&#39;\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-v4&#39;\r\n    }\r\n}````\r\n","title":"Cannot Resolve Symbol RecyclerViewActions / RecyclerViewMatcher","body":"<p>I am trying to write tests for a recycler view in my android app. I am getting a cannot resolve symbol error for \"RecyclerViewActions\" and \"RecyclerViewMatcher.\"</p>\n\n<p>Here is the helper method in my test where the \"cannot resolve symbol\" error is being thrown.</p>\n\n<pre><code>````// Convenience helper\npublic static RecyclerViewMatcher withRecyclerView(final int recyclerViewId) {\n    return new RecyclerViewMatcher(recyclerViewId);\n}````\n</code></pre>\n\n<p>Here is my import where the error is also being thrown</p>\n\n<p><code>import static androidx.test.espresso.contrib.RecyclerViewActions;</code></p>\n\n<p>Here is my app level build.gradle dependencies:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.0.0'\n    implementation 'androidx.navigation:navigation-ui:2.0.0'\n    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:rules:1.1.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation('androidx.test.espresso:espresso-contrib:3.2.0') {\n        exclude group: 'com.android.support', module: 'appcompat'\n        exclude group: 'com.android.support', module: 'support-v4'\n    }\n}````\n\n</code></pre>\n"},{"tags":["java","client","ejb","wildfly","remote-access"],"answers":[{"tags":[],"owner":{"account_id":28266050,"reputation":11,"user_id":21609994,"display_name":"ranxero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687842008,"creation_date":1687624398,"answer_id":76547016,"question_id":76544034,"body_markdown":"Got it solved with the help of these tutorials:\r\n\r\nhttps://github.com/wildfly-security-incubator/elytron-examples/tree/main/ejb-http\r\n\r\nhttps://wildfly-security.github.io/wildfly-elytron/blog/ejb-over-http/\r\n\r\nThe issue lied within the details of the wildfly configuration.\r\nI was missing some of the settings and my wildfly conifg was imcomplete. The following is what worked.\r\n\r\nserver config:\r\n```\r\n/subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm-users, relative-to=jboss.server.config.dir)\r\n\r\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)\r\n/subsystem=elytron/filesystem-realm=fsRealm:set-password(clear={password=quickstartPwd1!},identity=quickstartUser)\r\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[guest])\r\n\r\n/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)\r\n\r\n/subsystem=elytron/security-domain=fsSD:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], default-realm=fsRealm,permission-mapper=default-permission-mapper)\r\n\r\n/subsystem=ejb3/application-security-domain=other:add(security-domain=fsSD)\r\n```\r\n\r\nhttp-transport:\r\n\r\n```\r\n/subsystem=elytron/http-authentication-factory=example-http-auth:add(http-server-mechanism-factory=global,security-domain=fsSD,mechanism-configurations=[{mechanism-name=BASIC,mechanism-realm-configurations=[{realm-name=fsRealm}]}])\r\n\r\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:undefine-attribute(name=security-realm)\r\n\r\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:write-attribute(name=http-authentication-factory, value=example-http-auth)\r\n```\r\n\r\nclient key store:\r\n\r\n```\r\nWILDFLY_HOME/bin/elytron-tool.bat credential-store --create --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword\r\n\r\nWILDFLY_HOME/bin/elytron-tool.bat credential-store --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword --add quickstartUser --secret quickstartPwd1!\r\n```\r\n\r\nwildfly-config.xml (in resources folder)\r\nthe path to the client key store would then be: \r\n \r\nsrc/main/resources/mycredstore.cs\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;authentication-client xmlns=&quot;urn:elytron:client:1.7&quot;&gt;\r\n        &lt;credential-stores&gt;\r\n            &lt;credential-store name=&quot;mycredstore&quot;&gt;\r\n                &lt;attributes&gt;\r\n                    &lt;attribute name=&quot;keyStoreType&quot; value=&quot;JCEKS&quot;/&gt;\r\n                    &lt;attribute name=&quot;location&quot; value=&quot;/PATH/TO/mycredstore.cs&quot;&gt;&lt;/attribute&gt;\r\n                &lt;/attributes&gt;\r\n                &lt;protection-parameter-credentials&gt;\r\n                    &lt;clear-password password=&quot;StorePassword&quot;/&gt;\r\n                &lt;/protection-parameter-credentials&gt;\r\n            &lt;/credential-store&gt;\r\n        &lt;/credential-stores&gt;\r\n\r\n        &lt;authentication-rules&gt;\r\n            &lt;rule use-configuration=&quot;default-config&quot;/&gt;\r\n        &lt;/authentication-rules&gt;\r\n        &lt;authentication-configurations&gt;\r\n            &lt;configuration name=&quot;default-config&quot;&gt;\r\n                &lt;set-user-name name=&quot;quickstartUser&quot;/&gt;\r\n                &lt;credentials&gt;\r\n                    &lt;credential-store-reference store=&quot;mycredstore&quot; alias=&quot;quickstartUser&quot;/&gt;\r\n                &lt;/credentials&gt;\r\n                &lt;providers&gt;\r\n                    &lt;use-service-loader /&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/authentication-configurations&gt;\r\n    &lt;/authentication-client&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nthe actual lookup\r\n\r\n    private static TokenServiceRemote lookup() throws NamingException {\r\n\t\tfinal Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\r\n        jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n        jndiProperties.put(Context.PROVIDER_URL, &quot;http://localhost:8080/wildfly-services&quot;);\r\n        final Context context = new InitialContext(jndiProperties);\r\n        return (TokenServiceRemote) context.lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\r\n \t}\r\n\r\n","title":"widfly 27 remote ejb lookup from external client app gives error : EJBCLIENT000409: No more destinations are available","body":"<p>Got it solved with the help of these tutorials:</p>\n<p><a href=\"https://github.com/wildfly-security-incubator/elytron-examples/tree/main/ejb-http\" rel=\"nofollow noreferrer\">https://github.com/wildfly-security-incubator/elytron-examples/tree/main/ejb-http</a></p>\n<p><a href=\"https://wildfly-security.github.io/wildfly-elytron/blog/ejb-over-http/\" rel=\"nofollow noreferrer\">https://wildfly-security.github.io/wildfly-elytron/blog/ejb-over-http/</a></p>\n<p>The issue lied within the details of the wildfly configuration.\nI was missing some of the settings and my wildfly conifg was imcomplete. The following is what worked.</p>\n<p>server config:</p>\n<pre><code>/subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm-users, relative-to=jboss.server.config.dir)\n\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)\n/subsystem=elytron/filesystem-realm=fsRealm:set-password(clear={password=quickstartPwd1!},identity=quickstartUser)\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[guest])\n\n/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)\n\n/subsystem=elytron/security-domain=fsSD:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], default-realm=fsRealm,permission-mapper=default-permission-mapper)\n\n/subsystem=ejb3/application-security-domain=other:add(security-domain=fsSD)\n</code></pre>\n<p>http-transport:</p>\n<pre><code>/subsystem=elytron/http-authentication-factory=example-http-auth:add(http-server-mechanism-factory=global,security-domain=fsSD,mechanism-configurations=[{mechanism-name=BASIC,mechanism-realm-configurations=[{realm-name=fsRealm}]}])\n\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:undefine-attribute(name=security-realm)\n\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:write-attribute(name=http-authentication-factory, value=example-http-auth)\n</code></pre>\n<p>client key store:</p>\n<pre><code>WILDFLY_HOME/bin/elytron-tool.bat credential-store --create --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword\n\nWILDFLY_HOME/bin/elytron-tool.bat credential-store --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword --add quickstartUser --secret quickstartPwd1!\n</code></pre>\n<p>wildfly-config.xml (in resources folder)\nthe path to the client key store would then be:</p>\n<p>src/main/resources/mycredstore.cs</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;authentication-client xmlns=&quot;urn:elytron:client:1.7&quot;&gt;\n        &lt;credential-stores&gt;\n            &lt;credential-store name=&quot;mycredstore&quot;&gt;\n                &lt;attributes&gt;\n                    &lt;attribute name=&quot;keyStoreType&quot; value=&quot;JCEKS&quot;/&gt;\n                    &lt;attribute name=&quot;location&quot; value=&quot;/PATH/TO/mycredstore.cs&quot;&gt;&lt;/attribute&gt;\n                &lt;/attributes&gt;\n                &lt;protection-parameter-credentials&gt;\n                    &lt;clear-password password=&quot;StorePassword&quot;/&gt;\n                &lt;/protection-parameter-credentials&gt;\n            &lt;/credential-store&gt;\n        &lt;/credential-stores&gt;\n\n        &lt;authentication-rules&gt;\n            &lt;rule use-configuration=&quot;default-config&quot;/&gt;\n        &lt;/authentication-rules&gt;\n        &lt;authentication-configurations&gt;\n            &lt;configuration name=&quot;default-config&quot;&gt;\n                &lt;set-user-name name=&quot;quickstartUser&quot;/&gt;\n                &lt;credentials&gt;\n                    &lt;credential-store-reference store=&quot;mycredstore&quot; alias=&quot;quickstartUser&quot;/&gt;\n                &lt;/credentials&gt;\n                &lt;providers&gt;\n                    &lt;use-service-loader /&gt;\n                &lt;/providers&gt;\n            &lt;/configuration&gt;\n        &lt;/authentication-configurations&gt;\n    &lt;/authentication-client&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>the actual lookup</p>\n<pre><code>private static TokenServiceRemote lookup() throws NamingException {\n    final Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\n    jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n    jndiProperties.put(Context.PROVIDER_URL, &quot;http://localhost:8080/wildfly-services&quot;);\n    final Context context = new InitialContext(jndiProperties);\n    return (TokenServiceRemote) context.lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":28266050,"reputation":11,"user_id":21609994,"display_name":"ranxero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687942567,"creation_date":1687564584,"question_id":76544034,"body_markdown":"Trying to look up a remote stateful EJB inside an EAR deployed on wildfly 27. I created a wildfly user for the `ApplicationRealm`.\r\nI followed this tutorial:\r\n \r\nhttps://www.mastertheboss.com/jbossas/jboss-as-7/jboss-as-7-remote-ejb-client-tutorial/\r\n\r\nI&#39;m aware that this is for jboss AS7 but I couldn&#39;t find anything more up to date.\r\nA link to a current tutorial would as well help heaps.\r\nI already reviewed other posts with the same error but no one seems to have a clue.\r\nOne even on the jboss.org site with no answer.\r\n\r\nThe application user was correctly added to \r\n`application-users.properties`\r\nin `standalone/configuration`.\r\nI&#39;m running wildfly with standalone-full config.\r\n\r\nI&#39;m getting these exceptions\r\n\r\n    INFO: JBoss EJB Client version 5.0.4.Final\r\n    javax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;\r\n    [Root exception is org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available]\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\r\n\tat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\r\n\tat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\r\n\tat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\r\n\tat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:55)\r\n\tat cs.edu.enterprise.client.Main.main(Main.java:41)\r\n\r\n\r\n    Caused by: org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\r\n\tat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:125)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\r\n\tat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\r\n\tat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\r\n\t... 5 more\r\n\r\nLookup code \r\n\r\n    private static TokenServiceRemote lookupTokenServiceRemoteEJB() throws NamingException {\r\n        final Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\r\n        jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n                jndiProperties.put(Context.PROVIDER_URL,&quot;http-remoting://localhost:8080&quot;);\r\n        final Context context = new InitialContext(jndiProperties);\r\n        return (TokenServiceRemote) context\r\n                .lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\r\n    }\r\n\r\nHost and port are correct, I can call a servlet deployed in the same EAR via `http://localhost:8080`\r\n\r\nWhen deploying the EAR the server log shows these JNDI names.\r\n\r\n    java:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\r\n\tjava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\r\n\tjava:module/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\r\n\tjava:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tjava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tjava:module/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tjava:jboss/exported/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful\r\n\r\nMaven dependencies\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-jakartaee8-with-tools-builder&lt;/artifactId&gt;\r\n        &lt;version&gt;26.1.3.Final&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-ejb-client-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;28.0.1.Final&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwildfly-config.xml\r\n\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;authentication-client xmlns=&quot;urn:elytron:1.0&quot;&gt;\r\n    \t\t&lt;authentication-rules&gt;\r\n    \t\t\t&lt;rule use-configuration=&quot;default&quot;/&gt;\r\n    \t\t&lt;/authentication-rules&gt;\r\n    \t\t&lt;authentication-configurations&gt;\r\n    \t\t\t&lt;configuration name=&quot;default&quot;&gt;\r\n    \t\t\t\t&lt;sasl-mechanism-selector selector=&quot;DIGEST-MD5&quot;/&gt;\r\n    \t\t\t\t&lt;set-user-name name=&quot;*****&quot;/&gt;\r\n    \t\t\t\t&lt;credentials&gt;\r\n    \t\t\t\t\t&lt;clear-password password=&quot;*****&quot;/&gt;\r\n    \t\t\t\t&lt;/credentials&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/authentication-configurations&gt;\r\n    \t&lt;/authentication-client&gt;    \r\n    &lt;/configuration&gt;\r\n\r\nI tried the second option mentonened in the tutorial as well, using http transport. \r\nI added the following two dependencies \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly.wildfly-http-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-http-client-common&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-naming-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd changed the url to following. \r\n````jndiProperties.put(Context.PROVIDER_URL,&quot;http://localhost:8080/wildfly-services````\r\n\r\nNow I&#39;m getting an authentication error.\r\n\r\n    Juni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\r\n    ERROR: WFHTTP000003: Failed to acquire session\r\n    javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], \r\n    set-cookie=[JSESSIONID=Fkxcqh8cki41m1gUD4FoIu5TKXFyljEZoqi9V1cB.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], \r\n    content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})\r\n\tat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    Juni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\r\n    ERROR: WFHTTP000003: Failed to acquire session\r\n    java.nio.channels.ClosedChannelException\r\n\tat io.undertow.client.http2.Http2ClientConnection.close(Http2ClientConnection.java:308)\r\n\tat io.undertow.client.http.HttpClientConnection.close(HttpClientConnection.java:485)\r\n\tat org.xnio.IoUtils.safeClose(IoUtils.java:152)\r\n\tat org.wildfly.httpclient.common.HttpConnectionPool$ClientConnectionHolder.done(HttpConnectionPool.java:302)\r\n\tat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:250)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    javax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot; [Root exception is java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})]\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\r\n\tat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\r\n\tat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\r\n\tat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\r\n\tat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:56)\r\n\tat cs.edu.enterprise.client.Main.main(Main.java:41)\r\n\r\n    Caused by: java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\r\n\tat org.wildfly.httpclient.ejb.HttpEJBReceiver.createSession(HttpEJBReceiver.java:314)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:74)\r\n\tat org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleSessionCreation(RemotingEJBClientInterceptor.java:67)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleSessionCreation(TransactionPostDiscoveryInterceptor.java:108)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleSessionCreation(DiscoveryEJBClientInterceptor.java:171)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:107)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\r\n\tat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\r\n\tat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\r\n\t... 5 more\r\n\r\n     Caused by: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})\r\n\tat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n","title":"widfly 27 remote ejb lookup from external client app gives error : EJBCLIENT000409: No more destinations are available","body":"<p>Trying to look up a remote stateful EJB inside an EAR deployed on wildfly 27. I created a wildfly user for the <code>ApplicationRealm</code>.\nI followed this tutorial:</p>\n<p><a href=\"https://www.mastertheboss.com/jbossas/jboss-as-7/jboss-as-7-remote-ejb-client-tutorial/\" rel=\"nofollow noreferrer\">https://www.mastertheboss.com/jbossas/jboss-as-7/jboss-as-7-remote-ejb-client-tutorial/</a></p>\n<p>I'm aware that this is for jboss AS7 but I couldn't find anything more up to date.\nA link to a current tutorial would as well help heaps.\nI already reviewed other posts with the same error but no one seems to have a clue.\nOne even on the jboss.org site with no answer.</p>\n<p>The application user was correctly added to\n<code>application-users.properties</code>\nin <code>standalone/configuration</code>.\nI'm running wildfly with standalone-full config.</p>\n<p>I'm getting these exceptions</p>\n<pre><code>INFO: JBoss EJB Client version 5.0.4.Final\njavax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;\n[Root exception is org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available]\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\nat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\nat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\nat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\nat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:55)\nat cs.edu.enterprise.client.Main.main(Main.java:41)\n\n\nCaused by: org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\nat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:125)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\nat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\nat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\n... 5 more\n</code></pre>\n<p>Lookup code</p>\n<pre><code>private static TokenServiceRemote lookupTokenServiceRemoteEJB() throws NamingException {\n    final Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\n    jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n            jndiProperties.put(Context.PROVIDER_URL,&quot;http-remoting://localhost:8080&quot;);\n    final Context context = new InitialContext(jndiProperties);\n    return (TokenServiceRemote) context\n            .lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\n}\n</code></pre>\n<p>Host and port are correct, I can call a servlet deployed in the same EAR via <code>http://localhost:8080</code></p>\n<p>When deploying the EAR the server log shows these JNDI names.</p>\n<pre><code>java:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\njava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\njava:module/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\njava:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\njava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\njava:module/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\njava:jboss/exported/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\nejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful\n</code></pre>\n<p>Maven dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-jakartaee8-with-tools-builder&lt;/artifactId&gt;\n    &lt;version&gt;26.1.3.Final&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-ejb-client-bom&lt;/artifactId&gt;\n    &lt;version&gt;28.0.1.Final&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>wildfly-config.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;authentication-client xmlns=&quot;urn:elytron:1.0&quot;&gt;\n        &lt;authentication-rules&gt;\n            &lt;rule use-configuration=&quot;default&quot;/&gt;\n        &lt;/authentication-rules&gt;\n        &lt;authentication-configurations&gt;\n            &lt;configuration name=&quot;default&quot;&gt;\n                &lt;sasl-mechanism-selector selector=&quot;DIGEST-MD5&quot;/&gt;\n                &lt;set-user-name name=&quot;*****&quot;/&gt;\n                &lt;credentials&gt;\n                    &lt;clear-password password=&quot;*****&quot;/&gt;\n                &lt;/credentials&gt;\n            &lt;/configuration&gt;\n        &lt;/authentication-configurations&gt;\n    &lt;/authentication-client&gt;    \n&lt;/configuration&gt;\n</code></pre>\n<p>I tried the second option mentonened in the tutorial as well, using http transport.\nI added the following two dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly.wildfly-http-client&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-http-client-common&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-naming-client&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And changed the url to following.\n<code>jndiProperties.put(Context.PROVIDER_URL,&quot;http://localhost:8080/wildfly-services</code></p>\n<p>Now I'm getting an authentication error.</p>\n<pre><code>Juni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\nERROR: WFHTTP000003: Failed to acquire session\njavax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], \nset-cookie=[JSESSIONID=Fkxcqh8cki41m1gUD4FoIu5TKXFyljEZoqi9V1cB.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], \ncontent-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})\nat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\nat java.base/java.lang.Thread.run(Thread.java:833)\n\nJuni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\nERROR: WFHTTP000003: Failed to acquire session\njava.nio.channels.ClosedChannelException\nat io.undertow.client.http2.Http2ClientConnection.close(Http2ClientConnection.java:308)\nat io.undertow.client.http.HttpClientConnection.close(HttpClientConnection.java:485)\nat org.xnio.IoUtils.safeClose(IoUtils.java:152)\nat org.wildfly.httpclient.common.HttpConnectionPool$ClientConnectionHolder.done(HttpConnectionPool.java:302)\nat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:250)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\nat java.base/java.lang.Thread.run(Thread.java:833)\n\njavax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot; [Root exception is java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})]\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\nat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\nat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\nat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\nat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:56)\nat cs.edu.enterprise.client.Main.main(Main.java:41)\n\nCaused by: java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})\nat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\nat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\nat org.wildfly.httpclient.ejb.HttpEJBReceiver.createSession(HttpEJBReceiver.java:314)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:74)\nat org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleSessionCreation(RemotingEJBClientInterceptor.java:67)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleSessionCreation(TransactionPostDiscoveryInterceptor.java:108)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleSessionCreation(DiscoveryEJBClientInterceptor.java:171)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:107)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\nat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\nat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\n... 5 more\n\n Caused by: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})\nat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","servlets","checkmarx","esapi"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1687948948,"post_id":76571565,"comment_id":135007450,"body_markdown":"esapi requires a number of other libraries including commons-fileupload. Make sure all dependencies are included (you can get a lot of help doing that using tools like Gradle or Maven). Apart from that it is hard to help as you have not included how you are defining dependencies in your question.","body":"esapi requires a number of other libraries including commons-fileupload. Make sure all dependencies are included (you can get a lot of help doing that using tools like Gradle or Maven). Apart from that it is hard to help as you have not included how you are defining dependencies in your question."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1687949251,"post_id":76571565,"comment_id":135007512,"body_markdown":"It could also possible be due to java version incompabilities with the jar file in question.","body":"It could also possible be due to java version incompabilities with the jar file in question."},{"owner":{"account_id":23128310,"reputation":11,"user_id":17233792,"display_name":"Prasad"},"score":0,"creation_date":1688044802,"post_id":76571565,"comment_id":135023053,"body_markdown":"Hello Daniel my application is old web application no maven or gradle it developed using servlets and Jsp and java only   I am adding jars(esapijar,commons file upload,commons io jar’s) in buildpath   But still application showing this error why i don’t know java 8 and 7 only using in that application","body":"Hello Daniel my application is old web application no maven or gradle it developed using servlets and Jsp and java only   I am adding jars(esapijar,commons file upload,commons io jar’s) in buildpath   But still application showing this error why i don’t know java 8 and 7 only using in that application"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1688098806,"post_id":76571565,"comment_id":135031165,"body_markdown":"Upgrade to ESAPI 2.5.2.0 (the latest release) and then we can revisit this. But the ESAPI team is so small (only 3 regular contributors), that we unfortunately can only try to help those using the latest release. Also, the 2.0.1 ESAPI release has lots of vulnerabilities, so it&#39;s in your best interest to upgrade. (Make sure you carefully read the release notes though.)","body":"Upgrade to ESAPI 2.5.2.0 (the latest release) and then we can revisit this. But the ESAPI team is so small (only 3 regular contributors), that we unfortunately can only try to help those using the latest release. Also, the 2.0.1 ESAPI release has lots of vulnerabilities, so it&#39;s in your best interest to upgrade. (Make sure you carefully read the release notes though.)"},{"owner":{"account_id":23128310,"reputation":11,"user_id":17233792,"display_name":"Prasad"},"score":0,"creation_date":1688470600,"post_id":76571565,"comment_id":135075845,"body_markdown":"i am  Upgrade to ESAPI 2.5.2.0 (the latest release)  But still i am facing same Issue \n\njava.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory\n        at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)]\n        at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)]\n        at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1]","body":"i am  Upgrade to ESAPI 2.5.2.0 (the latest release)  But still i am facing same Issue   java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory         at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)]         at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)]         at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1]"}],"owner":{"account_id":23128310,"reputation":11,"user_id":17233792,"display_name":"Prasad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688470618,"answer_count":0,"score":0,"last_activity_date":1687942508,"creation_date":1687942508,"question_id":76571565,"body_markdown":"java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory         at java.lang.Class.forNameImpl(Native Method) \\~\\[?:2.9 (07-25-2018)\\]         at java.lang.Class.forName(Class.java:332) \\~\\[?:2.9 (07-25-2018)\\]         at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) \\~\\[esapi-2.0.1.jar:2.0.1\\]         at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) \\~\\[esapi-2.0.1.jar:2.0.1\\]         at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) \\~\\[esapi-2.0.1.jar:2.0.1\\] \r\n\r\n\r\n   ***String output= ESAPI.validator().getValidInput(&quot;Validationofinput&quot;, str, &quot;SafeString&quot;, 1000, false);*** \r\n\r\n\r\n\r\n\r\n\r\n java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory  at java.lang.Class.forNameImpl(Native Method) \\~\\[?:2.9 (07-25-2018)\\] at java.lang.Class.forName(Class.java:332) \\~\\[?:2.9 (07-25-2018)\\] at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.Log4JLogger.log(Log4JLogger.java:434) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.Log4JLogger.warning(Log4JLogger.java:205) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.DefaultIntrusionDetector.addException(DefaultIntrusionDetector.java:65) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.validation.StringValidationRule.checkEmpty(StringValidationRule.java:260) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.validation.StringValidationRule.getValid(StringValidationRule.java:273) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:214) \\~\\[esapi-2.0.1.jar:2.0.1\\]  at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:185) \\~\\[esapi-2.0.1.jar:2.0.1\\] ","title":"I am getting below Exception in my logs when using esapi-2.0.1.jar in that using getValidInput()","body":"<p>java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory         at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)]         at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)]         at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1]         at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) ~[esapi-2.0.1.jar:2.0.1]         at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) ~[esapi-2.0.1.jar:2.0.1]</p>\n<p><em><strong>String output= ESAPI.validator().getValidInput(&quot;Validationofinput&quot;, str, &quot;SafeString&quot;, 1000, false);</strong></em></p>\n<p>java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory  at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)] at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)] at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.Log4JLogger.log(Log4JLogger.java:434) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.Log4JLogger.warning(Log4JLogger.java:205) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.DefaultIntrusionDetector.addException(DefaultIntrusionDetector.java:65) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.validation.StringValidationRule.checkEmpty(StringValidationRule.java:260) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.validation.StringValidationRule.getValid(StringValidationRule.java:273) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:214) ~[esapi-2.0.1.jar:2.0.1]  at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:185) ~[esapi-2.0.1.jar:2.0.1]</p>\n"},{"tags":["java","android","bottomnavigationview"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687998199,"post_id":76571497,"comment_id":135016319,"body_markdown":"Hi there, did you try at least","body":"Hi there, did you try at least"}],"owner":{"account_id":28910830,"reputation":1,"user_id":22143867,"display_name":"taiska0000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687942294,"creation_date":1687941970,"question_id":76571497,"body_markdown":"[enter image description here][1]I use bottom navigation in my application, but I do not know how to switch from one fragment bottom to a new fragment at the click of a button in this case\r\n\r\n\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ActivityMainBinding binding;\r\n    \r\n        @Override\r\n    \r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n    \r\n            Button button = findViewById(R.id.plantoplans);\r\n    \r\n            setContentView(binding.getRoot());\r\n    \r\n            replaceFragment(new ProfilFragment());\r\n    \r\n            binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\r\n    \r\n                switch (item.getItemId()) {\r\n    \r\n                    case R.id.profil:\r\n    \r\n                        replaceFragment(new ProfilFragment());\r\n    \r\n                        break;\r\n    \r\n                    case R.id.lessons:\r\n    \r\n                        replaceFragment(new LessonsFragment());\r\n    \r\n                        break;\r\n    \r\n                    case R.id.plan:\r\n    \r\n                        replaceFragment(new PlanFragment());\r\n    \r\n                        break;\r\n    \r\n                }\r\n    \r\n                return true;\r\n    \r\n            });\r\n    \r\n        }\r\n    \r\n        private void replaceFragment(Fragment fragment) {\r\n    \r\n            FragmentManager fragmentManager = getSupportFragmentManager();\r\n    \r\n            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n    \r\n            fragmentTransaction.replace(R.id.frameLayout, fragment);\r\n    \r\n            fragmentTransaction.commit();\r\n    \r\n        }\r\n    }\r\n\r\nI tried to use the usual transition between fragments, the transition from activity to fragment\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uVVM7.jpg","title":"Navigation with bottom","body":"<p><a href=\"https://i.stack.imgur.com/uVVM7.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>I use bottom navigation in my application, but I do not know how to switch from one fragment bottom to a new fragment at the click of a button in this case</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n\n        Button button = findViewById(R.id.plantoplans);\n\n        setContentView(binding.getRoot());\n\n        replaceFragment(new ProfilFragment());\n\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\n\n            switch (item.getItemId()) {\n\n                case R.id.profil:\n\n                    replaceFragment(new ProfilFragment());\n\n                    break;\n\n                case R.id.lessons:\n\n                    replaceFragment(new LessonsFragment());\n\n                    break;\n\n                case R.id.plan:\n\n                    replaceFragment(new PlanFragment());\n\n                    break;\n\n            }\n\n            return true;\n\n        });\n\n    }\n\n    private void replaceFragment(Fragment fragment) {\n\n        FragmentManager fragmentManager = getSupportFragmentManager();\n\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n\n        fragmentTransaction.replace(R.id.frameLayout, fragment);\n\n        fragmentTransaction.commit();\n\n    }\n}\n</code></pre>\n<p>I tried to use the usual transition between fragments, the transition from activity to fragment</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687942094,"creation_date":1687875697,"answer_id":76565852,"question_id":76507667,"body_markdown":"There seems to be two parts to your question:\r\n\r\n**GETTING APP LINKS WORKING**\r\n\r\nFor this you need the assetlinks.json file to contain entries like this, as described in [Android docs](https://developer.android.com/studio/write/app-link-indexing#associatesite). A code example of mine uses these settings:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;android_app&quot;,\r\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\r\n      &quot;sha256_cert_fingerprints&quot;: [\r\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\r\n      ]\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nThis does not require deployment to the App Store. You can verify this by running my [example app](https://authguidance.com/basicandroidapp-execution/), which registers deep links when it is installed. My app uses a similar [manifest file](https://github.com/gary-archer/oauth.mobilesample.android/blob/master/app/src/main/AndroidManifest.xml#L68) to yours. If you run the app on an emulator, and then this command:\r\n\r\n```bash\r\nadb shell pm get-app-links --user cur\r\n```\r\n\r\nYou will see output like this, without the 1024. Further infrastructure details in [this blog post](https://authguidance.com/android-infrastructure-setup/) of mine.\r\n\r\n```text\r\n com.authsamples.basicmobileapp:\r\n    ID: 07f8ee96-dc1c-4df0-a7d7-2e9738902088\r\n    Signatures: [62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15]\r\n    Domain verification state:\r\n      mobile.authsamples.com: verified\r\n    User 0:\r\n      Verification link handling allowed: true\r\n      Selection state:\r\n        Disabled:\r\n          mobile.authsamples.com\r\n```\r\n\r\n**GETTING WEBAUTHN / PASSKEY NATIVE LOGINS WORKING**\r\n\r\nThis is a newer feature, to use [FIDO capabilities](https://developers.google.com/identity/fido/android/native-apps), and requires additional registrations like these:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;,\r\n      &quot;delegate_permission/common.get_login_creds&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;web&quot;,\r\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nIt also requires a couple of steps to specify `asset_statements` within the app, as explained in the link.\r\n\r\n**YOUR QUESTION**\r\n\r\nIn your case, passkey registration looks fine, and you can proceed with implementing passkey logins for users. What is confusing about your question is that you are looking at app link registration details. These will not work unless you include the `handle_all_urls` value. \r\n\r\nTo progress your setup, I would update to an assetlinks.json of this form, as suggested in the link. Even though your focus may be passkey logins, it makes sense these days for any mobile app to have support for deep linking, even if you don&#39;t use it initially. \r\n\r\n```json\r\n[\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;,\r\n      &quot;delegate_permission/common.get_login_creds&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;android_app&quot;,\r\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\r\n      &quot;sha256_cert_fingerprints&quot;: [\r\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;,\r\n      &quot;delegate_permission/common.get_login_creds&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;web&quot;,\r\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"Verifying Android app links fails with error 1024","body":"<p>There seems to be two parts to your question:</p>\n<p><strong>GETTING APP LINKS WORKING</strong></p>\n<p>For this you need the assetlinks.json file to contain entries like this, as described in <a href=\"https://developer.android.com/studio/write/app-link-indexing#associatesite\" rel=\"nofollow noreferrer\">Android docs</a>. A code example of mine uses these settings:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;android_app&quot;,\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\n      &quot;sha256_cert_fingerprints&quot;: [\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\n      ]\n    }\n  }\n]\n</code></pre>\n<p>This does not require deployment to the App Store. You can verify this by running my <a href=\"https://authguidance.com/basicandroidapp-execution/\" rel=\"nofollow noreferrer\">example app</a>, which registers deep links when it is installed. My app uses a similar <a href=\"https://github.com/gary-archer/oauth.mobilesample.android/blob/master/app/src/main/AndroidManifest.xml#L68\" rel=\"nofollow noreferrer\">manifest file</a> to yours. If you run the app on an emulator, and then this command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>adb shell pm get-app-links --user cur\n</code></pre>\n<p>You will see output like this, without the 1024. Further infrastructure details in <a href=\"https://authguidance.com/android-infrastructure-setup/\" rel=\"nofollow noreferrer\">this blog post</a> of mine.</p>\n<pre><code> com.authsamples.basicmobileapp:\n    ID: 07f8ee96-dc1c-4df0-a7d7-2e9738902088\n    Signatures: [62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15]\n    Domain verification state:\n      mobile.authsamples.com: verified\n    User 0:\n      Verification link handling allowed: true\n      Selection state:\n        Disabled:\n          mobile.authsamples.com\n</code></pre>\n<p><strong>GETTING WEBAUTHN / PASSKEY NATIVE LOGINS WORKING</strong></p>\n<p>This is a newer feature, to use <a href=\"https://developers.google.com/identity/fido/android/native-apps\" rel=\"nofollow noreferrer\">FIDO capabilities</a>, and requires additional registrations like these:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;,\n      &quot;delegate_permission/common.get_login_creds&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;web&quot;,\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\n    }\n  }\n]\n</code></pre>\n<p>It also requires a couple of steps to specify <code>asset_statements</code> within the app, as explained in the link.</p>\n<p><strong>YOUR QUESTION</strong></p>\n<p>In your case, passkey registration looks fine, and you can proceed with implementing passkey logins for users. What is confusing about your question is that you are looking at app link registration details. These will not work unless you include the <code>handle_all_urls</code> value.</p>\n<p>To progress your setup, I would update to an assetlinks.json of this form, as suggested in the link. Even though your focus may be passkey logins, it makes sense these days for any mobile app to have support for deep linking, even if you don't use it initially.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;,\n      &quot;delegate_permission/common.get_login_creds&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;android_app&quot;,\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\n      &quot;sha256_cert_fingerprints&quot;: [\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\n      ]\n    }\n  },\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;,\n      &quot;delegate_permission/common.get_login_creds&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;web&quot;,\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687877928,"creation_date":1687877928,"answer_id":76566182,"question_id":76507667,"body_markdown":"The Error code of 1024 or greater specifies the custom error code that&#39;s specific to the device&#39;s verifier.\r\nLets first understand the result returned by the adb\r\n\r\n    com.unibeam.passkey1:\r\n        ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\r\n        Signatures: [**]\r\n        Domain verification state:\r\n      line 1-&gt;    unibeam.github.io: 1024\r\n      line 2 -&gt;   User 0:\r\n      line 3-&gt;    Verification link handling allowed: true\r\n      line 4-&gt;    Selection state:\r\n      line 5-&gt;      Disabled:\r\n             unibeam.github.io\r\n\r\nWhen you ran the command\r\n\r\n    adb shell pm get-app-links --user cur com.unibeam.passkey1 \r\n\r\nLine 1 represent the domain verification process. Any other state than **&quot;verified&quot;** represent the domain couldn&#39;t not be performed.For complete list that domain verification can return is [here][1].\r\nFor the error 1024, make sure you have enabled internet connection and re-invoke the domain verification process. \r\n\r\nLine 2 represent the user 0 has manually approved the app in the system settings\r\n\r\nLine 3 represent the user 0 has approved unibeam.github.io link \r\n\r\nLine 4 represent the all app links that are enabled and disabled. \r\n\r\nLine 5 represent the Disabled app links ;here unibeam.github.io is in disabled state.\r\n\r\nTo manually invoke domain verification process for an app that&#39;s installed on a device use the following procedure but you need android 12 for this\r\nMake sure you have enabled internet connection\r\nrun the following command in a terminal window\r\n\r\n    adb shell am compat enable 175408749 PACKAGE_NAME\r\n\r\nReset the state of android app links on a device, run the following command in a terminal window\r\n\r\n    adb shell pm set-app-links --package PACKAGE_NAME 0 all\r\n\r\nThen invoke the domain verification process , run the following command\r\n\r\n    adb shell pm verify-app-links --re-verify PACKAGE_NAME\r\n\r\nBefore you review the result of this command, wait a few minutes for the verification agent to finish the request. \r\nFor review result ,run the following command \r\n\r\n    adb shell pm get-app-links PACKAGE_NAME\r\n\r\nI have noticed that your site ended with . (with the trailing period) make sure that route ended with . servers the same content as without. for Example : \r\n    &quot;site&quot;: &quot;https://unibeam.github.io.&quot; \r\nmust serve the same content by \r\n    &quot;site&quot;: &quot;https://unibeam.github.io&quot;\r\n\r\n\r\nCommon erros : \r\nMake sure you have setup the correct intent filter\r\nMake sure server&#39;s json configuration and sha value is correct.\r\nMake sure there is no redirects from server side\r\n\r\n\r\n  [1]: https://developer.android.com/training/app-links/verify-android-applinks#invoke-domain-verification","title":"Verifying Android app links fails with error 1024","body":"<p>The Error code of 1024 or greater specifies the custom error code that's specific to the device's verifier.\nLets first understand the result returned by the adb</p>\n<pre><code>com.unibeam.passkey1:\n    ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\n    Signatures: [**]\n    Domain verification state:\n  line 1-&gt;    unibeam.github.io: 1024\n  line 2 -&gt;   User 0:\n  line 3-&gt;    Verification link handling allowed: true\n  line 4-&gt;    Selection state:\n  line 5-&gt;      Disabled:\n         unibeam.github.io\n</code></pre>\n<p>When you ran the command</p>\n<pre><code>adb shell pm get-app-links --user cur com.unibeam.passkey1 \n</code></pre>\n<p>Line 1 represent the domain verification process. Any other state than <strong>&quot;verified&quot;</strong> represent the domain couldn't not be performed.For complete list that domain verification can return is <a href=\"https://developer.android.com/training/app-links/verify-android-applinks#invoke-domain-verification\" rel=\"nofollow noreferrer\">here</a>.\nFor the error 1024, make sure you have enabled internet connection and re-invoke the domain verification process.</p>\n<p>Line 2 represent the user 0 has manually approved the app in the system settings</p>\n<p>Line 3 represent the user 0 has approved unibeam.github.io link</p>\n<p>Line 4 represent the all app links that are enabled and disabled.</p>\n<p>Line 5 represent the Disabled app links ;here unibeam.github.io is in disabled state.</p>\n<p>To manually invoke domain verification process for an app that's installed on a device use the following procedure but you need android 12 for this\nMake sure you have enabled internet connection\nrun the following command in a terminal window</p>\n<pre><code>adb shell am compat enable 175408749 PACKAGE_NAME\n</code></pre>\n<p>Reset the state of android app links on a device, run the following command in a terminal window</p>\n<pre><code>adb shell pm set-app-links --package PACKAGE_NAME 0 all\n</code></pre>\n<p>Then invoke the domain verification process , run the following command</p>\n<pre><code>adb shell pm verify-app-links --re-verify PACKAGE_NAME\n</code></pre>\n<p>Before you review the result of this command, wait a few minutes for the verification agent to finish the request.\nFor review result ,run the following command</p>\n<pre><code>adb shell pm get-app-links PACKAGE_NAME\n</code></pre>\n<p>I have noticed that your site ended with . (with the trailing period) make sure that route ended with . servers the same content as without. for Example :\n&quot;site&quot;: &quot;https://unibeam.github.io.&quot;\nmust serve the same content by\n&quot;site&quot;: &quot;https://unibeam.github.io&quot;</p>\n<p>Common erros :\nMake sure you have setup the correct intent filter\nMake sure server's json configuration and sha value is correct.\nMake sure there is no redirects from server side</p>\n"}],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":76565852,"answer_count":2,"score":7,"last_activity_date":1687942094,"creation_date":1687185523,"question_id":76507667,"body_markdown":"I have an Android app with applicationId `com.unibeam.passkey1`.\r\n\r\nAt `https://unibeam.github.io/.well-known/assetlinks.json`, I have stored the following file:\r\n```\r\n[{\r\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\r\n  &quot;target&quot;: {\r\n    &quot;namespace&quot;: &quot;web&quot;,\r\n    &quot;site&quot;: &quot;https://unibeam.github.io&quot;\r\n  }\r\n },\r\n {\r\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\r\n  &quot;target&quot;: {\r\n    &quot;namespace&quot;: &quot;android_app&quot;,\r\n    &quot;package_name&quot;: &quot;com.unibeam.passkey1&quot;,\r\n    &quot;sha256_cert_fingerprints&quot;: [\r\n      &quot;55:E2:84:F9:9B:59:82:02:FA:2B:87:B9:90:77:8F:8D:62:3F:32:CC:76:92:47:0C:A8:73:7C:AE:11:8D:B6:0C&quot;,\r\n      &quot;0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D&quot;\r\n    ]\r\n  }\r\n }]\r\n```\r\n\r\nThe 2 fingerprints correspond to the debug and release versions of the app.  \r\n\r\nAnd checking at `https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://unibeam.github.io&amp;relation=delegate_permission/common.get_login_creds` returns no error.\r\n\r\nNow inside the app&#39;s `manifest.xml`, I have the following:\r\n\r\n```\r\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n    &lt;data android:scheme=&quot;http&quot; /&gt;\r\n    &lt;data android:scheme=&quot;https&quot; /&gt;\r\n    &lt;data android:host=&quot;unibeam.github.io&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nThe problem is that when running `adb shell pm get-app-links --user cur com.unibeam.passkey1` it fails as follows:\r\n\r\n```\r\n  com.unibeam.passkey1:\r\n    ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\r\n    Signatures: [0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D]\r\n    Domain verification state:\r\n      unibeam.github.io: 1024\r\n    User 0:\r\n      Verification link handling allowed: true\r\n      Selection state:\r\n        Disabled:\r\n          unibeam.github.io\r\n```\r\n\r\nWhy does it fail? Does the app need to be on PlayStore for all this to work?","title":"Verifying Android app links fails with error 1024","body":"<p>I have an Android app with applicationId <code>com.unibeam.passkey1</code>.</p>\n<p>At <code>https://unibeam.github.io/.well-known/assetlinks.json</code>, I have stored the following file:</p>\n<pre><code>[{\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\n  &quot;target&quot;: {\n    &quot;namespace&quot;: &quot;web&quot;,\n    &quot;site&quot;: &quot;https://unibeam.github.io&quot;\n  }\n },\n {\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\n  &quot;target&quot;: {\n    &quot;namespace&quot;: &quot;android_app&quot;,\n    &quot;package_name&quot;: &quot;com.unibeam.passkey1&quot;,\n    &quot;sha256_cert_fingerprints&quot;: [\n      &quot;55:E2:84:F9:9B:59:82:02:FA:2B:87:B9:90:77:8F:8D:62:3F:32:CC:76:92:47:0C:A8:73:7C:AE:11:8D:B6:0C&quot;,\n      &quot;0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D&quot;\n    ]\n  }\n }]\n</code></pre>\n<p>The 2 fingerprints correspond to the debug and release versions of the app.</p>\n<p>And checking at <code>https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://unibeam.github.io&amp;relation=delegate_permission/common.get_login_creds</code> returns no error.</p>\n<p>Now inside the app's <code>manifest.xml</code>, I have the following:</p>\n<pre><code>&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;http&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot; /&gt;\n    &lt;data android:host=&quot;unibeam.github.io&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>The problem is that when running <code>adb shell pm get-app-links --user cur com.unibeam.passkey1</code> it fails as follows:</p>\n<pre><code>  com.unibeam.passkey1:\n    ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\n    Signatures: [0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D]\n    Domain verification state:\n      unibeam.github.io: 1024\n    User 0:\n      Verification link handling allowed: true\n      Selection state:\n        Disabled:\n          unibeam.github.io\n</code></pre>\n<p>Why does it fail? Does the app need to be on PlayStore for all this to work?</p>\n"},{"tags":["java","spring","maven","solr"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638886283,"creation_date":1638886283,"answer_id":70261681,"question_id":70261527,"body_markdown":"It&#39;s paginated. You can add an additional query parameter to get the 2nd page `&amp;start=20`\r\n\r\nThe response contains the total number of records: `&quot;response&quot;:{&quot;numFound&quot;:189` so you will have to keep sending requests and incrementing the value of `start` until you&#39;ve got them all.\r\n\r\nIn this case, it would take 10 requests.\r\n\r\nThe reason they enforce pagination is because constructing a big response is expensive. If there were a million results, the response would be gigantic. It would be easy for malicious users (or honest users who made a mistake) to send requests which would cause the server to struggle, or even bring it down entirely. By enforcing pagination as mandatory, it forces the people making requests to be more thoughtful about what they&#39;re requesting.","title":"The Maven Central repository search returns only 20 versions. Any way to get all the versions possible?","body":"<p>It's paginated. You can add an additional query parameter to get the 2nd page <code>&amp;start=20</code></p>\n<p>The response contains the total number of records: <code>&quot;response&quot;:{&quot;numFound&quot;:189</code> so you will have to keep sending requests and incrementing the value of <code>start</code> until you've got them all.</p>\n<p>In this case, it would take 10 requests.</p>\n<p>The reason they enforce pagination is because constructing a big response is expensive. If there were a million results, the response would be gigantic. It would be easy for malicious users (or honest users who made a mistake) to send requests which would cause the server to struggle, or even bring it down entirely. By enforcing pagination as mandatory, it forces the people making requests to be more thoughtful about what they're requesting.</p>\n"},{"tags":[],"owner":{"account_id":27476775,"reputation":1,"user_id":20964624,"display_name":"Tuấn Anh Vũ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687941653,"creation_date":1687651377,"answer_id":76548406,"question_id":70261527,"body_markdown":"You can try this way. Change the dots `.` in `groupId` to slashes `/` . Then execute url with the following format `https://repo1.maven.org/maven2/(groupId with slash)/(artifactId)`. You will get its information including versions. Then you can select `maven-metadata.xml` or add copy url above `/maven-metadata.xml` to get xml.\r\n\r\nYour example in this case is: https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/maven-metadata.xml","title":"The Maven Central repository search returns only 20 versions. Any way to get all the versions possible?","body":"<p>You can try this way. Change the dots <code>.</code> in <code>groupId</code> to slashes <code>/</code> . Then execute url with the following format <code>https://repo1.maven.org/maven2/(groupId with slash)/(artifactId)</code>. You will get its information including versions. Then you can select <code>maven-metadata.xml</code> or add copy url above <code>/maven-metadata.xml</code> to get xml.</p>\n<p>Your example in this case is: <a href=\"https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/maven-metadata.xml</a></p>\n"}],"owner":{"account_id":23575546,"reputation":1,"user_id":17615244,"display_name":"Sourabh SP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687941653,"creation_date":1638885715,"question_id":70261527,"body_markdown":"The solr search API call is resitricting the list of versions to only 20. Why? And how do we get the list of all the versions released for the GAV coorsinates. Any API call?\r\n\r\nhttps://search.maven.org/solrsearch/select?q=g:com.fasterxml.jackson.coreAND+a:jackson-databind&amp;core=gav&amp;rows=10000&amp;wt=json\r\n\r\nCould you please help in finding an API which can let me have access to all the versions and their release dates for a GAV coordinate?\r\n","title":"The Maven Central repository search returns only 20 versions. Any way to get all the versions possible?","body":"<p>The solr search API call is resitricting the list of versions to only 20. Why? And how do we get the list of all the versions released for the GAV coorsinates. Any API call?</p>\n<p><a href=\"https://search.maven.org/solrsearch/select?q=g:com.fasterxml.jackson.coreAND+a:jackson-databind&amp;core=gav&amp;rows=10000&amp;wt=json\" rel=\"nofollow noreferrer\">https://search.maven.org/solrsearch/select?q=g:com.fasterxml.jackson.coreAND+a:jackson-databind&amp;core=gav&amp;rows=10000&amp;wt=json</a></p>\n<p>Could you please help in finding an API which can let me have access to all the versions and their release dates for a GAV coordinate?</p>\n"},{"tags":["java","android","google-play-console"],"answers":[{"tags":[],"owner":{"account_id":27417666,"reputation":46,"user_id":20916601,"display_name":"22ll.cd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687941185,"creation_date":1687941157,"answer_id":76571400,"question_id":76531144,"body_markdown":"I got the same problem,you should install OpenJDK 20.0.1[enter link description here][1],and run the command again.\r\n\r\n\r\n  [1]: https://jdk.java.net/20/","title":"&quot;Google play App - signing issue&quot; NoSuchAlgorithmException exception","body":"<p>I got the same problem,you should install OpenJDK 20.0.1<a href=\"https://jdk.java.net/20/\" rel=\"nofollow noreferrer\">enter link description here</a>,and run the command again.</p>\n"}],"owner":{"account_id":7529084,"reputation":145,"user_id":5718001,"display_name":"sandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76571400,"answer_count":1,"score":2,"last_activity_date":1687941185,"creation_date":1687431161,"question_id":76531144,"body_markdown":"while runing below command we get below error\r\njava -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --rsa-aes-encryption --encryption-key-path=/path/to/encryption_public_key.pem\r\n\r\n\r\nUnable to export or encrypt the private key\r\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding\r\n\r\nWe have latest idk 17 installed but issue coming with app signing\r\n\r\nI read about bouncycastle to fix this but no idea how can install for mac or use it for idk 17 etc please help us","title":"&quot;Google play App - signing issue&quot; NoSuchAlgorithmException exception","body":"<p>while runing below command we get below error\njava -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --rsa-aes-encryption --encryption-key-path=/path/to/encryption_public_key.pem</p>\n<p>Unable to export or encrypt the private key\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding</p>\n<p>We have latest idk 17 installed but issue coming with app signing</p>\n<p>I read about bouncycastle to fix this but no idea how can install for mac or use it for idk 17 etc please help us</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1496207860,"post_id":44276036,"comment_id":75559588,"body_markdown":"Which answer did you expect and which answer did you get? Try to run with a debugger and check where the flow deviates from your expectations.","body":"Which answer did you expect and which answer did you get? Try to run with a debugger and check where the flow deviates from your expectations."},{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496208327,"post_id":44276036,"comment_id":75559772,"body_markdown":"I&#39;m expecting true value for that sequence but i&#39;m getting false.","body":"I&#39;m expecting true value for that sequence but i&#39;m getting false."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1496208498,"post_id":44276036,"comment_id":75559847,"body_markdown":"Now you need to find out why there is a count of 2. When is count incremented the first time? When the second time? Are these really different problems or are you counting one problem twice?","body":"Now you need to find out why there is a count of 2. When is count incremented the first time? When the second time? Are these really different problems or are you counting one problem twice?"},{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496209703,"post_id":44276036,"comment_id":75560312,"body_markdown":"The problem is when j reach to value 4. I&#39;m not finding the logic to solve it . If i correct for the sequence [1,2,3,4,3,6] then test case for  [1,2,1,2] is not satisfying .","body":"The problem is when j reach to value 4. I&#39;m not finding the logic to solve it . If i correct for the sequence [1,2,3,4,3,6] then test case for  [1,2,1,2] is not satisfying ."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1496210295,"post_id":44276036,"comment_id":75560604,"body_markdown":"The idea with `max` was quite good. You just have to make sure to check the full array.","body":"The idea with <code>max</code> was quite good. You just have to make sure to check the full array."}],"answers":[{"tags":[],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496257169,"creation_date":1496209030,"answer_id":44276472,"question_id":44276036,"body_markdown":"This program goes through elements of array comparing if current is bigger or equal to next. If so it compares elements around current because it may be removed. And it compares elements around next because it may be removed. If deleting current or next doesn&#39;t make increasing array return false.\r\n\r\n    public static void main(String[] args) {\r\n    \tboolean almostIncreasingSequence = almostIncreasingSequence(new int[] { 1, 2, 3, 4, 99, 4, 3 });\r\n    \tSystem.out.println(almostIncreasingSequence);\r\n    }\r\n    \r\n    static boolean almostIncreasingSequence(int[] sequence) {\r\n    \tint removeCount = 0;\r\n    \tfor (int i = 0; i &lt; sequence.length - 1; i++) {\r\n    \t\tint current = sequence[i];\r\n    \t\tint next = sequence[i + 1];\r\n    \r\n    \t\tif (current &gt;= next) {\r\n    \t\t\tremoveCount++;\r\n    \t\t\t// Try to remove current. Skip removed element(current). Check\r\n    \t\t\t// if previous is less than next element around current\r\n    \t\t\t// if i is 0 there is no previous element\r\n    \t\t\t// if removeCurrent is true it is possible to remove it and\r\n    \t\t\t// arrays stays increasing\r\n    \t\t\tboolean removeCurrent = i == 0 || sequence[i - 1] &lt; next;\r\n    \t\t\t// if removeNext is true it is possible to remove it and arrays\r\n    \t\t\t// stays increasing\r\n    \t\t\tboolean removeNext = i + 1 == sequence.length - 1 || current &lt; sequence[i + 2];\r\n    \r\n    \t\t\tif (!removeCurrent &amp;&amp; !removeNext)\r\n    \t\t\t\t// if current is removed and array isn&#39;t increasing and if\r\n    \t\t\t\t// next is removed and array is not increasing,\r\n    \t\t\t\t// increment removeCount to return false\r\n    \t\t\t\tremoveCount++;\r\n    \t\t}\r\n    \t\tif (removeCount &gt; 1) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \treturn true;\r\n    }\r\n\r\nit meets all given test cases.","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>This program goes through elements of array comparing if current is bigger or equal to next. If so it compares elements around current because it may be removed. And it compares elements around next because it may be removed. If deleting current or next doesn't make increasing array return false.</p>\n\n<pre><code>public static void main(String[] args) {\n    boolean almostIncreasingSequence = almostIncreasingSequence(new int[] { 1, 2, 3, 4, 99, 4, 3 });\n    System.out.println(almostIncreasingSequence);\n}\n\nstatic boolean almostIncreasingSequence(int[] sequence) {\n    int removeCount = 0;\n    for (int i = 0; i &lt; sequence.length - 1; i++) {\n        int current = sequence[i];\n        int next = sequence[i + 1];\n\n        if (current &gt;= next) {\n            removeCount++;\n            // Try to remove current. Skip removed element(current). Check\n            // if previous is less than next element around current\n            // if i is 0 there is no previous element\n            // if removeCurrent is true it is possible to remove it and\n            // arrays stays increasing\n            boolean removeCurrent = i == 0 || sequence[i - 1] &lt; next;\n            // if removeNext is true it is possible to remove it and arrays\n            // stays increasing\n            boolean removeNext = i + 1 == sequence.length - 1 || current &lt; sequence[i + 2];\n\n            if (!removeCurrent &amp;&amp; !removeNext)\n                // if current is removed and array isn't increasing and if\n                // next is removed and array is not increasing,\n                // increment removeCount to return false\n                removeCount++;\n        }\n        if (removeCount &gt; 1) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>it meets all given test cases.</p>\n"},{"tags":[],"owner":{"account_id":11012911,"reputation":54,"user_id":8089623,"display_name":"Y.Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496209830,"creation_date":1496209830,"answer_id":44276665,"question_id":44276036,"body_markdown":"Based on your method, I would suggest you to do the following modification in your for loop:\r\n\r\nfor (......):\r\n\r\n    if s[i] &gt;= s[i+1] count++\r\n    else if max &gt;= s[i] count++\r\n    else max = s[i]\r\n\r\nAfter finished for loop:\r\nif count &gt; 1 return false\r\nelse return true","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Based on your method, I would suggest you to do the following modification in your for loop:</p>\n\n<p>for (......):</p>\n\n<pre><code>if s[i] &gt;= s[i+1] count++\nelse if max &gt;= s[i] count++\nelse max = s[i]\n</code></pre>\n\n<p>After finished for loop:\nif count > 1 return false\nelse return true</p>\n"},{"tags":[],"owner":{"account_id":9208386,"reputation":9299,"user_id":6842716,"display_name":"JohnG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496214562,"creation_date":1496213013,"answer_id":44277483,"question_id":44276036,"body_markdown":"Using a simplistic brute force approach, create a method that returns an array with one of the elements missing, then check that array to see if it is increasing. A Loop around all of this should work.\r\n\r\n    public static void main(String[] args) {\r\n      if (IncreasingSequence(new int[] {1,2,3,4,3,6}))\r\n        System.out.println(&quot;By removing one element the array is increasing&quot;);\r\n      else\r\n        System.out.println(&quot;By removing one element the array is Not increasing&quot;);\r\n    }\r\n    \r\n    private static boolean IncreasingSequence(int[] sequence) {\r\n      int[] nextArray;\r\n      for (int i = 0; i &lt; sequence.length; i++) {\r\n          nextArray = MinusOneElement(sequence, i);\r\n          if (CheckSequenceIncreasing(nextArray)) \r\n             return true;\r\n        } \r\n      return false;\r\n    }\r\n    \r\n    private static boolean CheckSequenceIncreasing(int[] sequence) {\r\n        for (int i = 0; i &lt; sequence.length - 1; i++) {\r\n           if (sequence[i] &gt;= sequence[i + 1]) {\r\n               return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    private static int[] MinusOneElement(int[] sequence, int elementToRemove) {\r\n       int[] newArray = new int[sequence.length - 1];\r\n       int index = 0;\r\n       for (int i = 0; i &lt; sequence.length; i++) {\r\n            if (i != elementToRemove) {\r\n                newArray[index] = sequence[i];\r\n                index++;\r\n            }\r\n       }\r\n       return newArray;\r\n    }\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Using a simplistic brute force approach, create a method that returns an array with one of the elements missing, then check that array to see if it is increasing. A Loop around all of this should work.</p>\n\n<pre><code>public static void main(String[] args) {\n  if (IncreasingSequence(new int[] {1,2,3,4,3,6}))\n    System.out.println(\"By removing one element the array is increasing\");\n  else\n    System.out.println(\"By removing one element the array is Not increasing\");\n}\n\nprivate static boolean IncreasingSequence(int[] sequence) {\n  int[] nextArray;\n  for (int i = 0; i &lt; sequence.length; i++) {\n      nextArray = MinusOneElement(sequence, i);\n      if (CheckSequenceIncreasing(nextArray)) \n         return true;\n    } \n  return false;\n}\n\nprivate static boolean CheckSequenceIncreasing(int[] sequence) {\n    for (int i = 0; i &lt; sequence.length - 1; i++) {\n       if (sequence[i] &gt;= sequence[i + 1]) {\n           return false;\n    }\n  }\n  return true;\n}\n\nprivate static int[] MinusOneElement(int[] sequence, int elementToRemove) {\n   int[] newArray = new int[sequence.length - 1];\n   int index = 0;\n   for (int i = 0; i &lt; sequence.length; i++) {\n        if (i != elementToRemove) {\n            newArray[index] = sequence[i];\n            index++;\n        }\n   }\n   return newArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552103781,"creation_date":1496222155,"answer_id":44280577,"question_id":44276036,"body_markdown":"This is one of the errors that can be fixed by just removing stuff from the original program:\r\n\r\n    boolean almostIncreasingSequence(int[] sequence) {\r\n        int max = Integer.MIN_VALUE, count = 0;\r\n        boolean flag = true;\r\n        for (int j = 0; j &lt; sequence.length; j++){\r\n              if ( max &gt;= sequence[j]){\r\n                 count++;\r\n              }\r\n              max = sequence[j];\r\n              if ( count &gt; 1){\r\n                 flag = false;\r\n                 break;\r\n              }\r\n        }        \r\n        return flag; \r\n    }\r\n\r\nThe main problem of the original version was, that the same out-of-order place was found two times. Just removing one of the checks, and at the same time adding one loop iteration solves this.","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>This is one of the errors that can be fixed by just removing stuff from the original program:</p>\n\n<pre><code>boolean almostIncreasingSequence(int[] sequence) {\n    int max = Integer.MIN_VALUE, count = 0;\n    boolean flag = true;\n    for (int j = 0; j &lt; sequence.length; j++){\n          if ( max &gt;= sequence[j]){\n             count++;\n          }\n          max = sequence[j];\n          if ( count &gt; 1){\n             flag = false;\n             break;\n          }\n    }        \n    return flag; \n}\n</code></pre>\n\n<p>The main problem of the original version was, that the same out-of-order place was found two times. Just removing one of the checks, and at the same time adding one loop iteration solves this.</p>\n"},{"tags":[],"owner":{"account_id":9186160,"reputation":860,"user_id":6828297,"accept_rate":25,"display_name":"C Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514515440,"creation_date":1514514349,"answer_id":48016672,"question_id":44276036,"body_markdown":"For kotlin Programmers\r\n\r\n\r\n    fun almostIncreasingSequence(sequence: MutableList&lt;Int&gt;): Boolean \r\n    \r\n    {\r\n    \r\n    var removeCount = 0;\r\n    \r\n    var i = 0;\r\n    \r\n    while  ( i &lt; sequence.size - 1) {\r\n    \r\n    var current = sequence[i];\r\n    \r\n    var next = sequence[i + 1];\r\n    \r\n    if (current &gt;= next) {\r\n    \r\n    removeCount++;\r\n    \r\n    var removeCurrent : Boolean= i == 0 || sequence[i - 1] &lt; next;\r\n    \r\n    var removeNext : Boolean = i + 1 == sequence.size - 1 || current &lt; sequence[i + 2];\r\n    \r\n    if (!removeCurrent &amp;&amp; !removeNext)\r\n    \r\n        removeCount++;\r\n    \r\n          }\r\n    \r\n          if (removeCount &gt; 1) {\r\n    \r\n                        return false;\r\n    \r\n            }\r\n    \r\n          i++\r\n    \r\n        }\r\n    \r\n        return true;  \r\n    \r\n     }\r\n    \r\n    \r\n        \r\n        \r\n\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>For kotlin Programmers</p>\n\n<pre><code>fun almostIncreasingSequence(sequence: MutableList&lt;Int&gt;): Boolean \n\n{\n\nvar removeCount = 0;\n\nvar i = 0;\n\nwhile  ( i &lt; sequence.size - 1) {\n\nvar current = sequence[i];\n\nvar next = sequence[i + 1];\n\nif (current &gt;= next) {\n\nremoveCount++;\n\nvar removeCurrent : Boolean= i == 0 || sequence[i - 1] &lt; next;\n\nvar removeNext : Boolean = i + 1 == sequence.size - 1 || current &lt; sequence[i + 2];\n\nif (!removeCurrent &amp;&amp; !removeNext)\n\n    removeCount++;\n\n      }\n\n      if (removeCount &gt; 1) {\n\n                    return false;\n\n        }\n\n      i++\n\n    }\n\n    return true;  \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12512310,"reputation":238,"user_id":9106927,"display_name":"Petros Mosoyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687941140,"creation_date":1687941140,"answer_id":76571396,"question_id":44276036,"body_markdown":"Here is the solution in kotlin:\r\n\r\n    fun solution(sequence: MutableList&lt;Int&gt;): Boolean {\r\n         val newList = sequence.toSet().toList()\r\n    \r\n        if (sequence.size - newList.size &gt; 1)\r\n            return false\r\n            \r\n        if (newList == newList.sorted())\r\n            return true\r\n            \r\n        val filterPairs = sequence.zipWithNext().filter { it.first &gt;= it.second }\r\n    \r\n        if (filterPairs.size &gt; 1)\r\n            return false\r\n    \r\n        sequence.remove(filterPairs[0].first)\r\n        \r\n        if (sequence == sequence.toSet().toList() &amp;&amp; sequence == sequence.sorted())\r\n            return true\r\n                    \r\n        return false\r\n    }\r\n\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Here is the solution in kotlin:</p>\n<pre><code>fun solution(sequence: MutableList&lt;Int&gt;): Boolean {\n     val newList = sequence.toSet().toList()\n\n    if (sequence.size - newList.size &gt; 1)\n        return false\n        \n    if (newList == newList.sorted())\n        return true\n        \n    val filterPairs = sequence.zipWithNext().filter { it.first &gt;= it.second }\n\n    if (filterPairs.size &gt; 1)\n        return false\n\n    sequence.remove(filterPairs[0].first)\n    \n    if (sequence == sequence.toSet().toList() &amp;&amp; sequence == sequence.sorted())\n        return true\n                \n    return false\n}\n</code></pre>\n"}],"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1687941140,"creation_date":1496206909,"question_id":44276036,"body_markdown":"Given a sequence of integers as an array, determine whether it is possible to obtain a strictly increasing sequence by removing no more than one element from the array.\r\n\r\nFor sequence = [1, 3, 2, 1], the output should be\r\nalmostIncreasingSequence(sequence) = false;\r\nThere is no one element in this array that can be removed in order to get a strictly increasing sequence.\r\n\r\nFor sequence = [1, 3, 2], the output should be\r\nalmostIncreasingSequence(sequence) = true.\r\nYou can remove 3 from the array to get the strictly increasing sequence [1, 2]. Alternately, you can remove 2 to get the strictly increasing sequence [1, 3].\r\n\r\nThe code which I&#39;ve written for the above is given bellow , but it&#39;s not satisfying for sequence [1,2,3,4,3,6]\r\nActual output = false\r\nexpected output = true\r\n\r\n\r\n    boolean almostIncreasingSequence(int[] sequence) {\r\n            int max = Integer.MIN_VALUE, count = 0;\r\n            boolean flag = true;\r\n            for (int j = 0; j &lt; sequence.length-1 ; j++){\r\n                  if ( max &gt;= sequence [j] || sequence[j]&gt;=sequence[j+1]){\r\n                     count++;\r\n                  }\r\n                  else\r\n                     max = sequence[j];\r\n                  if ( count &gt; 1){\r\n                     flag = false;\r\n                     break;\r\n                  }\r\n            }        \r\n            return flag; \r\n    }\r\n\r\n\r\n[time limit] : 3000ms (java)\r\n[input] : array.integer sequence\r\n\r\nGuaranteed constraints:\r\n2 ≤ sequence.length ≤ 105,\r\n-105 ≤ sequence[i] ≤ 105.\r\n\r\n[output] : boolean\r\n\r\nReturn true if it is possible to remove one element from the array in order to get a strictly increasing sequence, otherwise return false.\r\n\r\n\r\n\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Given a sequence of integers as an array, determine whether it is possible to obtain a strictly increasing sequence by removing no more than one element from the array.</p>\n\n<p>For sequence = [1, 3, 2, 1], the output should be\nalmostIncreasingSequence(sequence) = false;\nThere is no one element in this array that can be removed in order to get a strictly increasing sequence.</p>\n\n<p>For sequence = [1, 3, 2], the output should be\nalmostIncreasingSequence(sequence) = true.\nYou can remove 3 from the array to get the strictly increasing sequence [1, 2]. Alternately, you can remove 2 to get the strictly increasing sequence [1, 3].</p>\n\n<p>The code which I've written for the above is given bellow , but it's not satisfying for sequence [1,2,3,4,3,6]\nActual output = false\nexpected output = true</p>\n\n<pre><code>boolean almostIncreasingSequence(int[] sequence) {\n        int max = Integer.MIN_VALUE, count = 0;\n        boolean flag = true;\n        for (int j = 0; j &lt; sequence.length-1 ; j++){\n              if ( max &gt;= sequence [j] || sequence[j]&gt;=sequence[j+1]){\n                 count++;\n              }\n              else\n                 max = sequence[j];\n              if ( count &gt; 1){\n                 flag = false;\n                 break;\n              }\n        }        \n        return flag; \n}\n</code></pre>\n\n<p>[time limit] : 3000ms (java)\n[input] : array.integer sequence</p>\n\n<p>Guaranteed constraints:\n2 ≤ sequence.length ≤ 105,\n-105 ≤ sequence[i] ≤ 105.</p>\n\n<p>[output] : boolean</p>\n\n<p>Return true if it is possible to remove one element from the array in order to get a strictly increasing sequence, otherwise return false.</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin","build.gradle"],"owner":{"account_id":11159525,"reputation":33,"user_id":8190154,"display_name":"dev-daru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687941058,"creation_date":1687941058,"question_id":76571377,"body_markdown":"I recently cloned my project from github and it throws me this error, help me resolve\r\n\r\nNo variants found for &#39;:app&#39;. Check build files to ensure at least one variant exists. at:\r\ncom.android.tools.idea.gradle.project.sync.AndroidModule.prepare(GradleModules.kt:266)\r\n  com.android.tools.idea.gradle.project.sync.SyncProjectActionWorker.populateAndroidModels(SyncProjectActionWorker.kt:99)\r\n  com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateBuildModels(AndroidExtraModelProviderWorker.kt:92)\r\n  com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderImpl.populateBuildModels(AndroidExtraModelProvider.kt:112)\r\n  com.android.tools.idea.gradle.project.sync.AndroidExtraModelProvider.populateBuildModels(AndroidExtraModelProvider.kt:50)\r\n  org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:400)\r\n  org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:138)\r\n  org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n  org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:104)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:84)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.fromBuildModel(DefaultBuildTreeModelCreator.java:57)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:81)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\r\n  org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\r\n  org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n  org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\r\n  org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n  org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n  org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n  org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n  org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n  org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n  org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\r\n  org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n  org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n  org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n  org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n  org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n  org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n  org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n  org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n  org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n  org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n  org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n  org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n  org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n  org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n  org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n  org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n  org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n  org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n  org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\r\n  org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\r\n  org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n  org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n  org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n  org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n  org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n  org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n  org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n  java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n  java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n  java.base/java.lang.Thread.run(Thread.java:1589)\r\n","title":"No Variants found for &#39;:app&#39; Android Studio","body":"<p>I recently cloned my project from github and it throws me this error, help me resolve</p>\n<p>No variants found for ':app'. Check build files to ensure at least one variant exists. at:\ncom.android.tools.idea.gradle.project.sync.AndroidModule.prepare(GradleModules.kt:266)\ncom.android.tools.idea.gradle.project.sync.SyncProjectActionWorker.populateAndroidModels(SyncProjectActionWorker.kt:99)\ncom.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateBuildModels(AndroidExtraModelProviderWorker.kt:92)\ncom.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderImpl.populateBuildModels(AndroidExtraModelProvider.kt:112)\ncom.android.tools.idea.gradle.project.sync.AndroidExtraModelProvider.populateBuildModels(AndroidExtraModelProvider.kt:50)\norg.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:400)\norg.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:138)\norg.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\norg.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:104)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:84)\norg.gradle.internal.buildtree.DefaultBuildTreeModelCreator.fromBuildModel(DefaultBuildTreeModelCreator.java:57)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:81)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\norg.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\norg.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\norg.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\norg.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\norg.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\norg.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\norg.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\norg.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\norg.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\norg.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\norg.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\norg.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\norg.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\norg.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\norg.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\norg.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\norg.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\norg.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\norg.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\norg.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\norg.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\norg.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\norg.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\norg.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\norg.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\norg.gradle.util.internal.Swapper.swap(Swapper.java:38)\norg.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\norg.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\norg.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\norg.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\njava.base/java.lang.Thread.run(Thread.java:1589)</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1687948194,"post_id":76571365,"comment_id":135007314,"body_markdown":"If I were you, I would create a shutdown hook that would stop the crwaling process","body":"If I were you, I would create a shutdown hook that would stop the crwaling process"}],"owner":{"account_id":23069558,"reputation":77,"user_id":17183543,"display_name":"ajs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687940957,"creation_date":1687940957,"question_id":76571365,"body_markdown":"I have a Quarkus application that crawls websites. Usually 2000 pods run (in kubernetes) with the application. When I release a new version, Kubernetes shuts the pod down. Of the 2000 instances, around 75 will throw one of the exceptions below. As you can see from the various exceptions, the problem is not clearly identifiable, but my theory (see below could be correct. Do you guys agree with my theory? If so, do you know a possible fix? I already have a custom ShutdownHandler.\r\n\r\nWhat I think that happens:\r\n\r\n1. The crawler is busy crawling websites\r\n2. It receives a shutdown signal (SIGTERM and after 30s SIGKILL if it did not stop already)\r\n3. Quarkus starts breaking down and throwing objects away\r\n4. While quarkus is breaking down, the crawler is still running and tries to access an object that is already thrown away.\r\n5. The exception occurs.\r\n\r\n\r\n\r\n```\r\nException: class java.lang.IllegalArgumentException\r\nCaused by: null\r\nstackTraceLocalMessage: null\r\nstackTrace: io.quarkus.arc.impl.ArcContainerImpl.unwrap(ArcContainerImpl.java:808)\r\nio.quarkus.arc.impl.ArcContainerImpl.instance(ArcContainerImpl.java:843)\r\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:35)\r\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:31)\r\nio.quarkus.arc.impl.InstanceImpl.resolve(InstanceImpl.java:235)\r\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:79)\r\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:61)\r\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:39)\r\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:16)\r\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\r\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\r\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.arc$delegate(Unknown Source)\r\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.ProcessorService.process(ProcessorService.java:35)\r\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.crawler.Crawler.createPageOfLastRequestInChain(Crawler.java:109)\r\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:72)\r\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:65)\r\ncom.abc.crwl.crawler.Crawler_ClientProxy.processRequestResponse(Unknown Source)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.getAnalyzeRootResultOfValidResponse(RootUrlProcessor.java:190)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.analyzeRoot(RootUrlProcessor.java:156)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.crawl(RootUrlProcessor.java:88)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:64)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\r\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\r\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\r\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\r\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\r\ncom.abc.crwl.crwl.preProcessWebsite(crwl.java:72)\r\ncom.abc.crwl.crwl.run(crwl.java:50)\r\ncom.abc.crwl.crwl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n\r\n```\r\nor this one:\r\n\r\n```\r\nException: class java.lang.NullPointerException\r\nCaused by: null\r\nstackTraceLocalMessage: null\r\nstackTrace: com.abc.crwl.domain.model.CrawlContext.addDownloadable(CrawlContext.java:59)\r\ncom.abc.crwl.domain.model.CrawlContext_ClientProxy.addDownloadable(Unknown Source)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.finishRootPage(RootUrlProcessor.java:73)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:66)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\r\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\r\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\r\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\r\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\r\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:72)\r\ncom.abc.crwl.Crawl.run(Crawl.java:50)\r\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n```\r\nor this one:\r\n```\r\nException: class java.lang.RuntimeException\r\nCaused by: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\r\nstackTraceLocalMessage: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\r\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\r\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\r\ncom.abc.crwl.Crawl.run(Crawl.java:50)\r\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n\r\nException: class java.lang.NullPointerException\r\nCaused by: null\r\nstackTraceLocalMessage: null\r\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\r\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\r\ncom.abc.crwl.Crawl.run(Crawl.java:50)\r\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n```","title":"Quarkus Nullpointer/IllegalArgument exception on Shutdown","body":"<p>I have a Quarkus application that crawls websites. Usually 2000 pods run (in kubernetes) with the application. When I release a new version, Kubernetes shuts the pod down. Of the 2000 instances, around 75 will throw one of the exceptions below. As you can see from the various exceptions, the problem is not clearly identifiable, but my theory (see below could be correct. Do you guys agree with my theory? If so, do you know a possible fix? I already have a custom ShutdownHandler.</p>\n<p>What I think that happens:</p>\n<ol>\n<li>The crawler is busy crawling websites</li>\n<li>It receives a shutdown signal (SIGTERM and after 30s SIGKILL if it did not stop already)</li>\n<li>Quarkus starts breaking down and throwing objects away</li>\n<li>While quarkus is breaking down, the crawler is still running and tries to access an object that is already thrown away.</li>\n<li>The exception occurs.</li>\n</ol>\n<pre><code>Exception: class java.lang.IllegalArgumentException\nCaused by: null\nstackTraceLocalMessage: null\nstackTrace: io.quarkus.arc.impl.ArcContainerImpl.unwrap(ArcContainerImpl.java:808)\nio.quarkus.arc.impl.ArcContainerImpl.instance(ArcContainerImpl.java:843)\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:35)\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:31)\nio.quarkus.arc.impl.InstanceImpl.resolve(InstanceImpl.java:235)\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:79)\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:61)\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:39)\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:16)\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.arc$delegate(Unknown Source)\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.ProcessorService.process(ProcessorService.java:35)\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.crawler.Crawler.createPageOfLastRequestInChain(Crawler.java:109)\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:72)\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:65)\ncom.abc.crwl.crawler.Crawler_ClientProxy.processRequestResponse(Unknown Source)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.getAnalyzeRootResultOfValidResponse(RootUrlProcessor.java:190)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.analyzeRoot(RootUrlProcessor.java:156)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.crawl(RootUrlProcessor.java:88)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:64)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\ncom.abc.crwl.crwl.preProcessWebsite(crwl.java:72)\ncom.abc.crwl.crwl.run(crwl.java:50)\ncom.abc.crwl.crwl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n\n</code></pre>\n<p>or this one:</p>\n<pre><code>Exception: class java.lang.NullPointerException\nCaused by: null\nstackTraceLocalMessage: null\nstackTrace: com.abc.crwl.domain.model.CrawlContext.addDownloadable(CrawlContext.java:59)\ncom.abc.crwl.domain.model.CrawlContext_ClientProxy.addDownloadable(Unknown Source)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.finishRootPage(RootUrlProcessor.java:73)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:66)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:72)\ncom.abc.crwl.Crawl.run(Crawl.java:50)\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n</code></pre>\n<p>or this one:</p>\n<pre><code>Exception: class java.lang.RuntimeException\nCaused by: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\nstackTraceLocalMessage: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\ncom.abc.crwl.Crawl.run(Crawl.java:50)\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n\nException: class java.lang.NullPointerException\nCaused by: null\nstackTraceLocalMessage: null\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\ncom.abc.crwl.Crawl.run(Crawl.java:50)\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n</code></pre>\n"},{"tags":["java","spring","reactive"],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645808504,"creation_date":1645808504,"answer_id":71269237,"question_id":71268480,"body_markdown":"A reactive version of Spring Batch does not exist.\r\nSpring developers are discussing this implementation in this [Github issue](https://github.com/spring-projects/spring-batch/issues/1008).\r\n\r\nI want to mark the following comment which explains all the reasons.\r\n\r\n&gt; &gt; Spring Batch and Reactive Streams\r\n&gt; \r\n&gt; First of all, Reactive Streams are designed for data streams (infinite) while Spring Batch is a batch processing framework designed for fixed datasets (finite). In my opinion, this is already a fundamental mismtatch that can result in a non-natural integration between these two tools.\r\n&gt; \r\n&gt; Now even if we try to introduce &quot;reactive&quot; in some way in Spring Batch, we need to be careful about several design choices. The following excerpt from the [Spring Framework FAQ](https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-5-FAQ) section is key:\r\n&gt; \r\n&gt; ```\r\n&gt; For handlers to be fully non-blocking, you need to use reactive libraries throughout the processing chain,\r\n&gt; all the way to the persistence layer.\r\n&gt; ```\r\n&gt; \r\n&gt; Spring Framework even recommends to keep using the blocking model if the stack is partially reactive:\r\n&gt; \r\n&gt; ```\r\n&gt; By all means, keep using Spring MVC if you are developing web apps that don&#39;t benefit from a non-blocking\r\n&gt; programming model, or that use blocking JPA or JDBC APIs for persistence (typically in combination with\r\n&gt; thread-bound transactions).\r\n&gt; ```\r\n&gt; \r\n&gt; Based on these statements, for a web application to be fully reactive, the entire stack should be reactive, from the controller all the way down to the persistence layer. This is no different for batch applications, except that we obviously don&#39;t have controllers here, but the end-to-end job execution should be reactive. It does not make sense to have a &quot;reactive non-blocking step&quot; that interacts with a blocking job repository.\r\n&gt; \r\n&gt; So to really benefit from this reactive story, the entire framework should be reactive, from batch artefacts (reader, processor, writer, listeners, etc) to infrastructure beans (job repository, transaction manager, etc). And to achieve that, a huge effort is needed:\r\n&gt; \r\n&gt; * A reactive job repository implementation should be provided\r\n&gt; * All APIs using `PlatformTransactionManager` (namely `BatchConfigurer`, `Tasklet`, `StepBuilderHelper`, etc ) should be updated to use the newly introduced [org.springframework.transaction.TransactionManager](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/TransactionManager.html) interface. This is to be able to provide either a `ReactiveTransactionManager` or a classic `PlatformTransactionManager` as needed.\r\n&gt; * All implementations of readers/writers should be updated to use non-blocking APIs (File IO, Database IO, etc)\r\n&gt; * And many other changes\r\n&gt; \r\n&gt; Moreover, the current chunk-oriented processing model is actually incompatible with the reactive paradigm. The reason is that `ChunkOrientedTasklet` waits for the chunkProcessor (processor + writer) to process the whole chunk before reading the next chunk:\r\n&gt; \r\n&gt; ```java\r\n&gt; Chunk inputs = chunkProvider.provide();\r\n&gt; chunkProcessor.process(inputs);\r\n&gt; ```\r\n&gt; \r\n&gt; So this implementation should be adapted as well. And all these changes are required without even talking about the current concurrency model of Spring Batch (that is incompatible with the reactive paradigm) and the optimistic locking strategy used at the job repository level..\r\n&gt; \r\n&gt; In my opinion, &quot;reactive support&quot; is not a feature we can introduce in Spring Batch, it actually requires a complete re-write of 80% of the framework (if not more). For all these reasons, I believe the cost/benefit of such integration is too high to be considered, but I&#39;m open to be convinced otherwise.\r\n\r\n","title":"how to apply reactive for spring batch","body":"<p>A reactive version of Spring Batch does not exist.\nSpring developers are discussing this implementation in this <a href=\"https://github.com/spring-projects/spring-batch/issues/1008\" rel=\"noreferrer\">Github issue</a>.</p>\n<p>I want to mark the following comment which explains all the reasons.</p>\n<blockquote>\n<blockquote>\n<p>Spring Batch and Reactive Streams</p>\n</blockquote>\n<p>First of all, Reactive Streams are designed for data streams (infinite) while Spring Batch is a batch processing framework designed for fixed datasets (finite). In my opinion, this is already a fundamental mismtatch that can result in a non-natural integration between these two tools.</p>\n<p>Now even if we try to introduce &quot;reactive&quot; in some way in Spring Batch, we need to be careful about several design choices. The following excerpt from the <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-5-FAQ\" rel=\"noreferrer\">Spring Framework FAQ</a> section is key:</p>\n<pre><code>For handlers to be fully non-blocking, you need to use reactive libraries throughout the processing chain,\nall the way to the persistence layer.\n</code></pre>\n<p>Spring Framework even recommends to keep using the blocking model if the stack is partially reactive:</p>\n<pre><code>By all means, keep using Spring MVC if you are developing web apps that don't benefit from a non-blocking\nprogramming model, or that use blocking JPA or JDBC APIs for persistence (typically in combination with\nthread-bound transactions).\n</code></pre>\n<p>Based on these statements, for a web application to be fully reactive, the entire stack should be reactive, from the controller all the way down to the persistence layer. This is no different for batch applications, except that we obviously don't have controllers here, but the end-to-end job execution should be reactive. It does not make sense to have a &quot;reactive non-blocking step&quot; that interacts with a blocking job repository.</p>\n<p>So to really benefit from this reactive story, the entire framework should be reactive, from batch artefacts (reader, processor, writer, listeners, etc) to infrastructure beans (job repository, transaction manager, etc). And to achieve that, a huge effort is needed:</p>\n<ul>\n<li>A reactive job repository implementation should be provided</li>\n<li>All APIs using <code>PlatformTransactionManager</code> (namely <code>BatchConfigurer</code>, <code>Tasklet</code>, <code>StepBuilderHelper</code>, etc ) should be updated to use the newly introduced <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/TransactionManager.html\" rel=\"noreferrer\">org.springframework.transaction.TransactionManager</a> interface. This is to be able to provide either a <code>ReactiveTransactionManager</code> or a classic <code>PlatformTransactionManager</code> as needed.</li>\n<li>All implementations of readers/writers should be updated to use non-blocking APIs (File IO, Database IO, etc)</li>\n<li>And many other changes</li>\n</ul>\n<p>Moreover, the current chunk-oriented processing model is actually incompatible with the reactive paradigm. The reason is that <code>ChunkOrientedTasklet</code> waits for the chunkProcessor (processor + writer) to process the whole chunk before reading the next chunk:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Chunk inputs = chunkProvider.provide();\nchunkProcessor.process(inputs);\n</code></pre>\n<p>So this implementation should be adapted as well. And all these changes are required without even talking about the current concurrency model of Spring Batch (that is incompatible with the reactive paradigm) and the optimistic locking strategy used at the job repository level..</p>\n<p>In my opinion, &quot;reactive support&quot; is not a feature we can introduce in Spring Batch, it actually requires a complete re-write of 80% of the framework (if not more). For all these reasons, I believe the cost/benefit of such integration is too high to be considered, but I'm open to be convinced otherwise.</p>\n</blockquote>\n"}],"owner":{"account_id":18446741,"reputation":23,"user_id":13437832,"display_name":"kon zu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71269237,"answer_count":1,"score":2,"last_activity_date":1687940848,"creation_date":1645804742,"question_id":71268480,"body_markdown":"I am wondering how can I apply spring reactive to the spring batch. How can I do it? And why should we apply spring reactive to spring security? Why do I can apply to spring security but cannot apply reactive to spring batch.","title":"how to apply reactive for spring batch","body":"<p>I am wondering how can I apply spring reactive to the spring batch. How can I do it? And why should we apply spring reactive to spring security? Why do I can apply to spring security but cannot apply reactive to spring batch.</p>\n"},{"tags":["java","networking","selector","nio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1687941336,"post_id":76571318,"comment_id":135005867,"body_markdown":"Count them and stop accepting while there are &gt;= your limit, i.e. deregister for OP_ACCEPT. There is no way of knowing prior to accepting the connection how important it is.","body":"Count them and stop accepting while there are &gt;= your limit, i.e. deregister for OP_ACCEPT. There is no way of knowing prior to accepting the connection how important it is."}],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687940576,"creation_date":1687940576,"question_id":76571318,"body_markdown":"I have an asynchronous NIO Server using a regular `java.nio.channels.Selector` that accepts clients (in non-blocking mode, i.e. I do `socketChannel.configureBlocking(false)` for each accepted client).\r\n\r\nThis works pretty well, but I have a concern that there appears to be no obvious constraint on the maximum number of client connections. I would like to limit these to control server resources and provide resilience against unexpected load / denial of service attacks etc.\r\n\r\nTwo related questions:\r\n- What is the best practice for controlling the maximum number of client connections?\r\n- Is there a way of doing this that is selective, e.g. some more critical clients get priority over others if the connection limit risks being breached?","title":"Limiting the maximum number of client connections in an NIO Selector","body":"<p>I have an asynchronous NIO Server using a regular <code>java.nio.channels.Selector</code> that accepts clients (in non-blocking mode, i.e. I do <code>socketChannel.configureBlocking(false)</code> for each accepted client).</p>\n<p>This works pretty well, but I have a concern that there appears to be no obvious constraint on the maximum number of client connections. I would like to limit these to control server resources and provide resilience against unexpected load / denial of service attacks etc.</p>\n<p>Two related questions:</p>\n<ul>\n<li>What is the best practice for controlling the maximum number of client connections?</li>\n<li>Is there a way of doing this that is selective, e.g. some more critical clients get priority over others if the connection limit risks being breached?</li>\n</ul>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":17291110,"reputation":911,"user_id":12522652,"display_name":"Buttered_Toast"},"score":2,"creation_date":1685368222,"post_id":76357894,"comment_id":134646899,"body_markdown":"Why not use a JSON parser? you didn&#39;t include the language this is for but I&#39;m sure whatever you use has a JSON parser.","body":"Why not use a JSON parser? you didn&#39;t include the language this is for but I&#39;m sure whatever you use has a JSON parser."},{"owner":{"account_id":27745623,"reputation":62,"user_id":21181190,"display_name":"daringfireball"},"score":0,"creation_date":1685368292,"post_id":76357894,"comment_id":134646908,"body_markdown":"@Buttered_Toast I am using a simple java program to pattern match and replace the string from the JSON.","body":"@Buttered_Toast I am using a simple java program to pattern match and replace the string from the JSON."},{"owner":{"account_id":17291110,"reputation":911,"user_id":12522652,"display_name":"Buttered_Toast"},"score":2,"creation_date":1685368463,"post_id":76357894,"comment_id":134646945,"body_markdown":"Does this java program comes with a json parser? check the docs for it.","body":"Does this java program comes with a json parser? check the docs for it."},{"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":2,"creation_date":1685368832,"post_id":76357894,"comment_id":134647004,"body_markdown":"JSON can&#39;t be parsed reliably with a regexp. It&#39;s difficult to handle escaped quotes, balanced brackets, etc.","body":"JSON can&#39;t be parsed reliably with a regexp. It&#39;s difficult to handle escaped quotes, balanced brackets, etc."},{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1685369104,"post_id":76357894,"comment_id":134647053,"body_markdown":"Match regex doesn&#39;t add characters, in our current output it&#39;s there because it&#39;s placed before the key:value you remove. Place the `[,]?` to the start so it&#39;s removed at the right location","body":"Match regex doesn&#39;t add characters, in our current output it&#39;s there because it&#39;s placed before the key:value you remove. Place the <code>[,]?</code> to the start so it&#39;s removed at the right location"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1685369554,"post_id":76357894,"comment_id":134647124,"body_markdown":"@Randommm, this will work for this exact case, but will produce undesired outcome if one of listed fields is not first or last field of corresponding object. Consider [this demo](https://regex101.com/r/30TPg4/1)","body":"@Randommm, this will work for this exact case, but will produce undesired outcome if one of listed fields is not first or last field of corresponding object. Consider <a href=\"https://regex101.com/r/30TPg4/1\" rel=\"nofollow noreferrer\">this demo</a>"},{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1685423317,"post_id":76357894,"comment_id":134653412,"body_markdown":"@markalex Sorry worded that wrong, &quot;move the `[,]/`&quot;*","body":"@markalex Sorry worded that wrong, &quot;move the <code>[,]&#47;</code>&quot;*"}],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687940372,"creation_date":1685370063,"answer_id":76358123,"question_id":76357894,"body_markdown":"I second the comments, that you should probably use a JSON parser library for java. For the sake of completeness I developed both approaches:\r\n\r\n# regex approach\r\n\r\nWe need to consider the following cases:\r\n1. key-value-pair is alone: `{&quot;queueNumber&quot;: &quot;123&quot;}`\r\n2. key-value-pair is at the beginning: `{&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf&quot;: &quot;1&quot;,...}`\r\n3. key-value-pair is in the middle: `{,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf2&quot;: &quot;1&quot;,...}`\r\n4. key-value-pair is at the end: `{...,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;}`\r\n\r\nThe difficulty is to not to remove too many commas. We can categorize the cases in two classes:\r\n1. the key-value-pair starts with a comma\r\n2. the key-value-pair doesn&#39;t start with a comma, but may(!) end with a comma\r\n\t&quot;may end with a comma&quot; could be considered a sub-class\r\n\r\nIf either of these classes is true, we have a full match.\r\n\r\nRegex for class 1: `,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)` &lt;br&gt;\r\nRegex for class 2: `&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?`\r\n\r\n**Full Regex (see [this link][1]):**\r\n`(,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+))|(&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?)`\r\n\r\n**Explanation:**\r\n* `,\\s*` - matches a comma followed by any whitespace 0 - unlimited times\r\n* `&quot;` - match the literal char `&quot;`\r\n* `(queueNumber|name|uniqueNumber)\\d*` - matches either `queueNumber`, `name` or `uniqueNumber`, followed by optional numbers\r\n* `&quot;:\\s*` - literal `&quot;:` followed by optional whitespaces\r\n* `(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)` - matches either anything inside of quotation marks, a decimal digit or a word &lt;br&gt;\r\n** `[^&quot;]*?` - lazy match of any string, that does not contain `&quot;` ([^abc]-creates a word class with all chars, that are not `a`, `b` or `c`). Lazy means, the regex tries to match the least amount of chars possible.\r\n* `(.a.)|(.b.)` matches either the first(`a`) or the second(`b`) regex. If the first regex matched, the second regex is ignored.\r\n* `(\\s*,)?` optionally matches optional white spaces followed by a comma &lt;br&gt;\r\n** `?` - means 0 to 1 matches\r\n\r\n**Improvements to your regex approach:**\r\n* you didn&#39;t need so many groups `(...)`. Grouping is only necessary for replacing or to apply a quantifier or other logic to a sub-regex. The boolean OR operator is not applied to single chars/matchers, but to the whole connected chars then come before and follow after.\r\n* `\\d` is the same as `[0-9]`\r\n* `[,]?` can be simplified to `,?`\r\n* `(\\s*)?` can be simplified to `\\s*` → the `*` already means 0-infinity matches. So there is no need to make this part optional with the `?` quantifier\r\n* Your approach to match the value-part (`(&quot;.*?&quot;|\\d+.\\d+|\\w+)`) can get out of hand, because of the part `.*?`. Your rightfully made it a lazy match. But if the regex doesn&#39;t find something in the way you intended to, the laziness will not stop it to go on as far as possible to get at least one match. A better approach is to replace the `.`-matcher with `[^&quot;]`. That way you will not match outside of the string.\r\n\r\n\r\n\r\n# JSON parser approach\r\n\r\nTake a look at the following libraries:\r\n* [JSON.simple][2]\r\n* [GSON][3]\r\n* [Jackson][4]\r\n\r\n\r\nIf you don&#39;t know the exact structure of the json, I recommend using [JsonPath][5] to remove the keys. But you need to be extra careful not to remove more than you want to. See this example:\r\n\r\nmaven dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n  &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n  &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nJava code (minimum Java 15 required):\r\n```java\r\nimport com.jayway.jsonpath.DocumentContext;\r\nimport com.jayway.jsonpath.JsonPath;\r\nimport com.jayway.jsonpath.Option;\r\nimport com.jayway.jsonpath.Configuration;\r\n\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        String details = &quot;&quot;&quot;\r\n            {&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\r\n                &quot;&quot;&quot;;\r\n\r\n        DocumentContext parsedJson = JsonPath.parse(details, \r\n                // exceptions are thrown when a key is not present. For a simpler demo\r\n                // we suppress all exceptions. Be cautious how to use this implementation\r\n                // in production though!\r\n                Configuration.defaultConfiguration().addOptions(Option.SUPPRESS_EXCEPTIONS));\r\n        \r\n        parsedJson.delete(&quot;$..queueNumber&quot;);\r\n        parsedJson.delete(&quot;$..name&quot;);\r\n        parsedJson.delete(&quot;$..uniqueNumber&quot;);\r\n\r\n        System.out.println(parsedJson.jsonString());\r\n    }\r\n}\r\n```\r\n\r\nNow, if you are certain about the structure of the given json, you can change the path to the following:\r\n\r\n```java\r\n        parsedJson.delete(&quot;$.queueNumber&quot;);\r\n        parsedJson.delete(&quot;$..name&quot;);\r\n        parsedJson.delete(&quot;$.cur[*].uniqueNumber&quot;);\r\n```\r\n\r\nYou&#39;d only need to adapt the path of the key &quot;name&quot;. As it was missing in your example, I don&#39;t know where it usually occurs. If you get stuck using the library, check the example section of the readme file, it&#39;s well documented: https://github.com/json-path/JsonPath#path-examples\r\n\r\n\r\n  [1]: https://regex101.com/r/VLX1ES/1\r\n  [2]: https://github.com/fangyidong/json-simple\r\n  [3]: https://github.com/google/gson\r\n  [4]: https://www.baeldung.com/jackson\r\n  [5]: https://github.com/json-path/JsonPath","title":"Regex to remove Key and value from JSON","body":"<p>I second the comments, that you should probably use a JSON parser library for java. For the sake of completeness I developed both approaches:</p>\n<h1>regex approach</h1>\n<p>We need to consider the following cases:</p>\n<ol>\n<li>key-value-pair is alone: <code>{&quot;queueNumber&quot;: &quot;123&quot;}</code></li>\n<li>key-value-pair is at the beginning: <code>{&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf&quot;: &quot;1&quot;,...}</code></li>\n<li>key-value-pair is in the middle: <code>{,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf2&quot;: &quot;1&quot;,...}</code></li>\n<li>key-value-pair is at the end: <code>{...,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;}</code></li>\n</ol>\n<p>The difficulty is to not to remove too many commas. We can categorize the cases in two classes:</p>\n<ol>\n<li>the key-value-pair starts with a comma</li>\n<li>the key-value-pair doesn't start with a comma, but may(!) end with a comma\n&quot;may end with a comma&quot; could be considered a sub-class</li>\n</ol>\n<p>If either of these classes is true, we have a full match.</p>\n<p>Regex for class 1: <code>,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)</code> <br>\nRegex for class 2: <code>&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?</code></p>\n<p><strong>Full Regex (see <a href=\"https://regex101.com/r/VLX1ES/1\" rel=\"nofollow noreferrer\">this link</a>):</strong>\n<code>(,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+))|(&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?)</code></p>\n<p><strong>Explanation:</strong></p>\n<ul>\n<li><code>,\\s*</code> - matches a comma followed by any whitespace 0 - unlimited times</li>\n<li><code>&quot;</code> - match the literal char <code>&quot;</code></li>\n<li><code>(queueNumber|name|uniqueNumber)\\d*</code> - matches either <code>queueNumber</code>, <code>name</code> or <code>uniqueNumber</code>, followed by optional numbers</li>\n<li><code>&quot;:\\s*</code> - literal <code>&quot;:</code> followed by optional whitespaces</li>\n<li><code>(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)</code> - matches either anything inside of quotation marks, a decimal digit or a word <br>\n** <code>[^&quot;]*?</code> - lazy match of any string, that does not contain <code>&quot;</code> ([^abc]-creates a word class with all chars, that are not <code>a</code>, <code>b</code> or <code>c</code>). Lazy means, the regex tries to match the least amount of chars possible.</li>\n<li><code>(.a.)|(.b.)</code> matches either the first(<code>a</code>) or the second(<code>b</code>) regex. If the first regex matched, the second regex is ignored.</li>\n<li><code>(\\s*,)?</code> optionally matches optional white spaces followed by a comma <br>\n** <code>?</code> - means 0 to 1 matches</li>\n</ul>\n<p><strong>Improvements to your regex approach:</strong></p>\n<ul>\n<li>you didn't need so many groups <code>(...)</code>. Grouping is only necessary for replacing or to apply a quantifier or other logic to a sub-regex. The boolean OR operator is not applied to single chars/matchers, but to the whole connected chars then come before and follow after.</li>\n<li><code>\\d</code> is the same as <code>[0-9]</code></li>\n<li><code>[,]?</code> can be simplified to <code>,?</code></li>\n<li><code>(\\s*)?</code> can be simplified to <code>\\s*</code> → the <code>*</code> already means 0-infinity matches. So there is no need to make this part optional with the <code>?</code> quantifier</li>\n<li>Your approach to match the value-part (<code>(&quot;.*?&quot;|\\d+.\\d+|\\w+)</code>) can get out of hand, because of the part <code>.*?</code>. Your rightfully made it a lazy match. But if the regex doesn't find something in the way you intended to, the laziness will not stop it to go on as far as possible to get at least one match. A better approach is to replace the <code>.</code>-matcher with <code>[^&quot;]</code>. That way you will not match outside of the string.</li>\n</ul>\n<h1>JSON parser approach</h1>\n<p>Take a look at the following libraries:</p>\n<ul>\n<li><a href=\"https://github.com/fangyidong/json-simple\" rel=\"nofollow noreferrer\">JSON.simple</a></li>\n<li><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a></li>\n<li><a href=\"https://www.baeldung.com/jackson\" rel=\"nofollow noreferrer\">Jackson</a></li>\n</ul>\n<p>If you don't know the exact structure of the json, I recommend using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath</a> to remove the keys. But you need to be extra careful not to remove more than you want to. See this example:</p>\n<p>maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n  &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n  &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java code (minimum Java 15 required):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.jayway.jsonpath.DocumentContext;\nimport com.jayway.jsonpath.JsonPath;\nimport com.jayway.jsonpath.Option;\nimport com.jayway.jsonpath.Configuration;\n\npublic class App {\n    public static void main( String[] args ) {\n        String details = &quot;&quot;&quot;\n            {&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\n                &quot;&quot;&quot;;\n\n        DocumentContext parsedJson = JsonPath.parse(details, \n                // exceptions are thrown when a key is not present. For a simpler demo\n                // we suppress all exceptions. Be cautious how to use this implementation\n                // in production though!\n                Configuration.defaultConfiguration().addOptions(Option.SUPPRESS_EXCEPTIONS));\n        \n        parsedJson.delete(&quot;$..queueNumber&quot;);\n        parsedJson.delete(&quot;$..name&quot;);\n        parsedJson.delete(&quot;$..uniqueNumber&quot;);\n\n        System.out.println(parsedJson.jsonString());\n    }\n}\n</code></pre>\n<p>Now, if you are certain about the structure of the given json, you can change the path to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        parsedJson.delete(&quot;$.queueNumber&quot;);\n        parsedJson.delete(&quot;$..name&quot;);\n        parsedJson.delete(&quot;$.cur[*].uniqueNumber&quot;);\n</code></pre>\n<p>You'd only need to adapt the path of the key &quot;name&quot;. As it was missing in your example, I don't know where it usually occurs. If you get stuck using the library, check the example section of the readme file, it's well documented: <a href=\"https://github.com/json-path/JsonPath#path-examples\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath#path-examples</a></p>\n"}],"owner":{"account_id":27745623,"reputation":62,"user_id":21181190,"display_name":"daringfireball"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1687940372,"creation_date":1685367794,"question_id":76357894,"body_markdown":"I have a JSON like below: \r\n\r\n    {&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\r\n\r\nI want to remove the key-value pairs if it matches a given field.\r\n\r\nI tried with the below regex but it adds a comma at the end which raises an exception at runtime while reading this JSON again.\r\n\r\n    &quot;((queueNumber|name|uniqueNumber)[0-9]*)&quot;:(\\s*)?((&quot;.*?&quot;)|(\\d+.\\d+)|(\\w+))[,]?\r\n\r\ncurrent output:\r\n\r\n    {&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,}]}\r\n\r\nExpected output:\r\n\r\n    {&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;}]}\r\n\r\nHow to remove K,V pairs without that extra comma at the end?","title":"Regex to remove Key and value from JSON","body":"<p>I have a JSON like below:</p>\n<pre><code>{&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\n</code></pre>\n<p>I want to remove the key-value pairs if it matches a given field.</p>\n<p>I tried with the below regex but it adds a comma at the end which raises an exception at runtime while reading this JSON again.</p>\n<pre><code>&quot;((queueNumber|name|uniqueNumber)[0-9]*)&quot;:(\\s*)?((&quot;.*?&quot;)|(\\d+.\\d+)|(\\w+))[,]?\n</code></pre>\n<p>current output:</p>\n<pre><code>{&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,}]}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>{&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;}]}\n</code></pre>\n<p>How to remove K,V pairs without that extra comma at the end?</p>\n"},{"tags":["java","java-time","datetimeformatter"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687940705,"post_id":76571266,"comment_id":135005721,"body_markdown":"Possibly a locale issue. Try *formatting* a `ZonedDateTime` with the formatter instead. That way you know what it expects.","body":"Possibly a locale issue. Try <i>formatting</i> a <code>ZonedDateTime</code> with the formatter instead. That way you know what it expects."},{"owner":{"account_id":10741858,"reputation":166,"user_id":7904647,"display_name":"Manisha Biswas"},"score":0,"creation_date":1687943278,"post_id":76571266,"comment_id":135006270,"body_markdown":"Thanks for responding @Sweeper. Not sure if the issue is locale then why it&#39;s working on the online compiler. Can you please suggest what type of ZonedDateTime formatter I can use?","body":"Thanks for responding @Sweeper. Not sure if the issue is locale then why it&#39;s working on the online compiler. Can you please suggest what type of ZonedDateTime formatter I can use?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687943822,"post_id":76571266,"comment_id":135006386,"body_markdown":"You could write a custom one: `DateTimeFormatter.ofPattern(&quot;MMMM dd, uuuu &#39;at&#39; hh:mm:ss a z&quot;, Locale.ENGLISH)` for example… Maybe even try `Locale.US`, too. Or you just use the one you have in the method that sometimes fails.","body":"You could write a custom one: <code>DateTimeFormatter.ofPattern(&quot;MMMM dd, uuuu &#39;at&#39; hh:mm:ss a z&quot;, Locale.ENGLISH)</code> for example… Maybe even try <code>Locale.US</code>, too. Or you just use the one you have in the method that sometimes fails."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687952127,"post_id":76571266,"comment_id":135008046,"body_markdown":"Your format actually wants &quot;2023 Jun 28 04:33:38 PDT&quot; or the like. But your datetime string contains the word &quot;at&quot; for some reason. Also your locale string is wrong. It should be `en_US`. You have `en-US`","body":"Your format actually wants &quot;2023 Jun 28 04:33:38 PDT&quot; or the like. But your datetime string contains the word &quot;at&quot; for some reason. Also your locale string is wrong. It should be <code>en_US</code>. You have <code>en-US</code>"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1689436723,"post_id":76571266,"comment_id":135214830,"body_markdown":"I don&#39;t see any problem with your code. Also, it works without any issue with IntelliJ in my system. Try upgrading your IntelliJ version.","body":"I don&#39;t see any problem with your code. Also, it works without any issue with IntelliJ in my system. Try upgrading your IntelliJ version."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1689436827,"post_id":76571266,"comment_id":135214841,"body_markdown":"@g00se - There is no problem with `en-US`. Remember `en-US` denotes the language while `en_US` denotes a locale. So, you can print `Locale.forLanguageTag(&quot;en-US&quot;).getDisplayLanguage()` to understand the difference. You can further check the documentation [here](https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDisplayLanguage--).","body":"@g00se - There is no problem with <code>en-US</code>. Remember <code>en-US</code> denotes the language while <code>en_US</code> denotes a locale. So, you can print <code>Locale.forLanguageTag(&quot;en-US&quot;).getDisplayLanguage()</code> to understand the difference. You can further check the documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDisplayLanguage--\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689437896,"post_id":76571266,"comment_id":135214949,"body_markdown":"*Remember en-US denotes the language* Right, thanks","body":"<i>Remember en-US denotes the language</i> Right, thanks"}],"owner":{"account_id":10741858,"reputation":166,"user_id":7904647,"display_name":"Manisha Biswas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687940161,"creation_date":1687940161,"question_id":76571266,"body_markdown":"I am trying to run the below code in IntelliJ IDE and getting the parsing exception whereas the code works on the online Java Compiler. Can somebody please help me understand what I am doing wrong?\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.FormatStyle;\r\n    import java.util.Locale;\r\n    \r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          String slot = &quot;December 05, 2020 at 10:00:00 AM PDT&quot;;\r\n          String locale = &quot;en-US&quot;;\r\n          String timezone = &quot;America/Los_Angeles&quot;;\r\n          long epoch = convertDateToLong(slot, locale, timezone);\r\n          System.out.println(epoch);\r\n        }\r\n        \r\n        private static long convertDateToLong (String dateTimeString, String locale, String timezone) {\r\n            ZoneId zoneId = ZoneId.of(timezone);\r\n            String offsetId = ZonedDateTime.ofInstant(Instant.now(), ZoneId.of(timezone)).getOffset().toString();\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withZone(zoneId).withLocale(Locale.forLanguageTag(locale));\r\n            LocalDateTime localDateTime = LocalDateTime.parse(dateTimeString, formatter);\r\n            long epoch = localDateTime.toEpochSecond(ZoneOffset.of(offsetId));\r\n            return epoch * 1000;\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9RiKs.png","title":"Getting java.time.format.DateTimeParseException: Text &#39;December 05, 2020 at 10:00:00 AM PDT&#39; could not be parsed at index 17","body":"<p>I am trying to run the below code in IntelliJ IDE and getting the parsing exception whereas the code works on the online Java Compiler. Can somebody please help me understand what I am doing wrong?</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.FormatStyle;\nimport java.util.Locale;\n\n\npublic class MyClass {\n    public static void main(String args[]) {\n      String slot = &quot;December 05, 2020 at 10:00:00 AM PDT&quot;;\n      String locale = &quot;en-US&quot;;\n      String timezone = &quot;America/Los_Angeles&quot;;\n      long epoch = convertDateToLong(slot, locale, timezone);\n      System.out.println(epoch);\n    }\n    \n    private static long convertDateToLong (String dateTimeString, String locale, String timezone) {\n        ZoneId zoneId = ZoneId.of(timezone);\n        String offsetId = ZonedDateTime.ofInstant(Instant.now(), ZoneId.of(timezone)).getOffset().toString();\n        DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withZone(zoneId).withLocale(Locale.forLanguageTag(locale));\n        LocalDateTime localDateTime = LocalDateTime.parse(dateTimeString, formatter);\n        long epoch = localDateTime.toEpochSecond(ZoneOffset.of(offsetId));\n        return epoch * 1000;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9RiKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9RiKs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","package","dependencies","vcf-vcard"],"owner":{"account_id":15332332,"reputation":154,"user_id":11061705,"display_name":"AbsoluteDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939826,"creation_date":1687938212,"question_id":76571044,"body_markdown":"I am having issue with importing ez-vcard library in a java (17) application which is modular one. IDE I am using is IntelliJ Idea. The error shows up like below.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gniwX.png\r\n\r\nThe library is great but while migrating from Java 8 to Modular Java Development, The package name and module name are mismatching, that is resulting into -&gt; ide not able to find the package. Also the dependency can not be imported in project to build/compile a modular java application.\r\n\r\nPlease show me some way, how to get this working. ","title":"ez-vcard library not working with modular java applications","body":"<p>I am having issue with importing ez-vcard library in a java (17) application which is modular one. IDE I am using is IntelliJ Idea. The error shows up like below.</p>\n<p><a href=\"https://i.stack.imgur.com/gniwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gniwX.png\" alt=\"enter image description here\" /></a></p>\n<p>The library is great but while migrating from Java 8 to Modular Java Development, The package name and module name are mismatching, that is resulting into -&gt; ide not able to find the package. Also the dependency can not be imported in project to build/compile a modular java application.</p>\n<p>Please show me some way, how to get this working.</p>\n"},{"tags":["java","android","android-bluetooth"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687942321,"post_id":76571223,"comment_id":135006084,"body_markdown":"Provide more information","body":"Provide more information"}],"owner":{"account_id":28910483,"reputation":1,"user_id":22143601,"display_name":"Ishu Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939810,"creation_date":1687939810,"question_id":76571223,"body_markdown":"\r\n\r\n    if (bluetoothAdapter.isEnabled()) {\r\n        for (BluetoothDevice device1 : bluetoothAdapter.getBondedDevices()) {\r\n            if (device1.getBondState() == BluetoothDevice.BOND_BONDED) {\r\n            // Display the name of the currently connected device\r\n            device=device1;\r\n            }\r\n        }\r\n    updateUI(device.getName(), &quot;Connected&quot;);\r\n\r\n\r\n\r\n\r\n\r\nI am trying to get the name of currently connected device via bluetooth.\r\nBut in the code its showing a different device name not the correct device name.\r\n\r\n","title":"Displaying currently connected Bluetooth device name","body":"<pre><code>if (bluetoothAdapter.isEnabled()) {\n    for (BluetoothDevice device1 : bluetoothAdapter.getBondedDevices()) {\n        if (device1.getBondState() == BluetoothDevice.BOND_BONDED) {\n        // Display the name of the currently connected device\n        device=device1;\n        }\n    }\nupdateUI(device.getName(), &quot;Connected&quot;);\n</code></pre>\n<p>I am trying to get the name of currently connected device via bluetooth.\nBut in the code its showing a different device name not the correct device name.</p>\n"},{"tags":["java","android","android-viewpager"],"owner":{"account_id":7885876,"reputation":271,"user_id":5957968,"display_name":"Amit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939777,"creation_date":1687939777,"question_id":76571215,"body_markdown":"I have two fragments one is simple video and another is event video,When i call onTabSelected multiple time in very short time period, means change tab quickly then my previous tab video&#39;s sound is continuously playing in second tab video background\r\n\r\n     public void bindAllTab() {\r\n        fm = getSupportFragmentManager();\r\n        viewPagerAdapter = new AllVideoViewPager(fm);\r\n        viewPagerAdapter = new AllVideoViewPager(fm);\r\n        //  Adapter adapter = new Adapter(getChildFragmentManager());\r\n        viewPagerAdapter.addFragment(new AllVideoFrag(videoid, carListAsString, screen, pos), &quot;All Video&quot;);\r\n        viewPagerAdapter.addFragment(new ContestVideoFrag(videoid, carListAsString, screen, pos), &quot;Contest&quot;);\r\n        viewPager.setAdapter(viewPagerAdapter);\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                    viewPager.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n                //  new videoAdapter().pause();\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n        tabLayout.setupWithViewPager(viewPager);\r\n        viewPager.addOnPageChangeListener(pageChangeListener);\r\n    }\r\n\r\nplease suggest how i can stop previous tab if user can move to second tab and vice versa. and this is my PageChangeListener.\r\n\r\n     private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\r\n        int currentPosition = 0;\r\n\r\n        @Override\r\n        public void onPageSelected(int newPosition) {\r\n            FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\r\n            fragmentToHide.onPauseFragment();\r\n            FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\r\n            fragmentToShow.onResumeFragment();\r\n            currentPosition = newPosition;\r\n        }\r\n\r\n        @Override\r\n        public void onPageScrolled(int arg0, float arg1, int arg2) {\r\n\r\n        }\r\n\r\n        public void onPageScrollStateChanged(int state) {\r\n\r\n        }\r\n    };\r\n\r\n","title":"How to stop overlapping in ViewPager when change the tab","body":"<p>I have two fragments one is simple video and another is event video,When i call onTabSelected multiple time in very short time period, means change tab quickly then my previous tab video's sound is continuously playing in second tab video background</p>\n<pre><code> public void bindAllTab() {\n    fm = getSupportFragmentManager();\n    viewPagerAdapter = new AllVideoViewPager(fm);\n    viewPagerAdapter = new AllVideoViewPager(fm);\n    //  Adapter adapter = new Adapter(getChildFragmentManager());\n    viewPagerAdapter.addFragment(new AllVideoFrag(videoid, carListAsString, screen, pos), &quot;All Video&quot;);\n    viewPagerAdapter.addFragment(new ContestVideoFrag(videoid, carListAsString, screen, pos), &quot;Contest&quot;);\n    viewPager.setAdapter(viewPagerAdapter);\n    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n                viewPager.setCurrentItem(tab.getPosition());\n        }\n\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n            //  new videoAdapter().pause();\n        }\n\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n\n        }\n    });\n    tabLayout.setupWithViewPager(viewPager);\n    viewPager.addOnPageChangeListener(pageChangeListener);\n}\n</code></pre>\n<p>please suggest how i can stop previous tab if user can move to second tab and vice versa. and this is my PageChangeListener.</p>\n<pre><code> private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\n    int currentPosition = 0;\n\n    @Override\n    public void onPageSelected(int newPosition) {\n        FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\n        fragmentToHide.onPauseFragment();\n        FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\n        fragmentToShow.onResumeFragment();\n        currentPosition = newPosition;\n    }\n\n    @Override\n    public void onPageScrolled(int arg0, float arg1, int arg2) {\n\n    }\n\n    public void onPageScrollStateChanged(int state) {\n\n    }\n};\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jboss7.x","infinispan"],"answers":[{"tags":[],"owner":{"account_id":271909,"reputation":2677,"user_id":562699,"accept_rate":80,"display_name":"Sebastian Łaskawiec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457962487,"creation_date":1457962487,"answer_id":35989007,"question_id":35931465,"body_markdown":"In general - they should be equal in terms of performance because both integration modules (CDI and Spring) will produce Embedded/RemoteCacheManager under the hood.\r\n\r\nAlso, both are fairly similar in terms of features - Spring has [Spring Caching][1] and CDI can be used with [JCache annotations][2]. More complicated scenarios will require obtaining Embedded/RemoteCacheManager and implementing some custom code.\r\n\r\nIf you tell me more about your usecase - I might give you more accurate answer.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html#cache-annotations\r\n  [2]: http://infinispan.org/docs/8.0.x/user_guide/user_guide.html#_use_jcache_caching_annotations","title":"Integrating inspinispan with jboss or spring","body":"<p>In general - they should be equal in terms of performance because both integration modules (CDI and Spring) will produce Embedded/RemoteCacheManager under the hood.</p>\n\n<p>Also, both are fairly similar in terms of features - Spring has <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html#cache-annotations\" rel=\"nofollow\">Spring Caching</a> and CDI can be used with <a href=\"http://infinispan.org/docs/8.0.x/user_guide/user_guide.html#_use_jcache_caching_annotations\" rel=\"nofollow\">JCache annotations</a>. More complicated scenarios will require obtaining Embedded/RemoteCacheManager and implementing some custom code.</p>\n\n<p>If you tell me more about your usecase - I might give you more accurate answer.</p>\n"}],"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687939777,"creation_date":1457665368,"question_id":35931465,"body_markdown":"I decided to freshly integrate infinispan. Also tried in both ways with basic example. First, integrating infinispan with jboss.\r\nSecond, integrating with spring(Already have spring application)\r\nWhich one is better in terms of flexibility and performance.\r\n","title":"Integrating inspinispan with jboss or spring","body":"<p>I decided to freshly integrate infinispan. Also tried in both ways with basic example. First, integrating infinispan with jboss.\nSecond, integrating with spring(Already have spring application)\nWhich one is better in terms of flexibility and performance.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data","criteria-api"],"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939275,"creation_date":1687935586,"question_id":76570757,"body_markdown":"I have 5 tables, the entities are shared below. First there is a buyerbusiness and supplier tables.\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;buyer_business&quot;)\r\n    public class BuyerBusiness {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @Column(name = &quot;buyer_id&quot;)\r\n        private Long buyerId;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;supplier&quot;)\r\n    public class Supplier {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @Column(name = &quot;company_name&quot;)\r\n        private String companyName;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;process_order&quot;)\r\n    public class ProcessOrder {\r\n        @Id\r\n        private Long id;\r\n    \t\r\n    \t@ManyToOne\r\n        @JoinColumn(name = &quot;buyer_business_id&quot;)\r\n    \tprivate BuyerBusiness buyerBusiness;\r\n    \t\r\n    \t@ManyToOne\r\n        @JoinColumn(name = &quot;items_id&quot;)\r\n    \tprivate Item item;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;items&quot;)\r\n    public class Items {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;supplier_id&quot;)\r\n        private Supplier supplier;\r\n        \r\n    }\r\n\r\nThe processOrder table is matched to supplier through the items table. It is also matched to purchaseorder table, but since that is not required here, I&#39;m not adding the entity.\r\n\r\n    @Entity\r\n    @Table(name = &quot;business_supplier_mapping&quot;)\r\n    public class BusinessSupplierMapping {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;supplier_id&quot;)\r\n        private Supplier supplier;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;buyer_business_id&quot;)\r\n        private BuyerBusiness buyerBusiness;\r\n        \r\n        @Column(name = &quot;deleted&quot;)\r\n        private boolean deleted;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\nThe businessSupplierMapping table connects the business and supplier. This is the table that is causing the issue. I cannot make any db changes, like adding `Set&lt;BusinessSupplierMappings&gt;` in BuyerBuisness or Supplier entities.\r\n\r\nI&#39;m using criteria builder to build this query:\r\n\r\n    SELECT sum(amount),supplier.company_name FROM purchase_order \r\n    \t LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id \r\n    \t LEFT JOIN items ON items.id=process_order.items_id \r\n    \t LEFT JOIN supplier ON items.supplier_id =supplier.id  \r\n    \t LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id \r\n    WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date \r\n    \tBETWEEN &#39;2022-12-31 18:30:00&#39; AND  &#39;2023-06-23 18:29:58&#39; and  process_order.buyer_business_id =   10  and \r\n    \tpurchase_order.purchase_order_status = &#39;PROCESSED&#39;  and business_supplier_mapping.deleted is false   \r\n    \tgroup by items.supplier_id ;\r\n\r\nHere is my code:\r\n\r\n    CriteriaBuilder builder = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Object[]&gt; query = builder.createQuery(Object[].class);\r\n        Root&lt;PurchaseOrder&gt; root = query.from(PurchaseOrder.class);\r\n            Join&lt;PurchaseOrder, ProcessOrder&gt; processOrderJoin = root.join(&quot;processOrder&quot;, JoinType.LEFT);\r\n            Join&lt;ProcessOrder, Items&gt; itemJoin = processOrderJoin.join(&quot;items&quot;, JoinType.LEFT);\r\n            Join&lt;Items, Supplier&gt; supplierJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\r\n            Join&lt;ProcessOrder, BuyerBusiness&gt; buyerBusinessJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\r\n            \r\n        Join&lt;ProcessOrder, BusinessSupplierMapping&gt; businessMappingJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\r\n        businessMappingJoin.on(builder.equal(processOrderJoin, businessMappingJoin.get(&quot;buyerBusiness&quot;)));\r\n        Join&lt;BusinessSupplierMapping, Items&gt; supplierMappingJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\r\n        supplierMappingJoin.on(builder.equal(supplierJoin, supplierMappingJoin.get(&quot;supplier&quot;)));\r\n\r\n        query.groupBy(itemJoin.get(&quot;supplier&quot;).get(&quot;id&quot;));\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            Predicate deletedPredicate = builder.or(\r\n                builder.isNull(root.get(&quot;deleted&quot;)),\r\n                builder.isFalse(root.get(&quot;deleted&quot;))\r\n            );\r\n            predicates.add(deletedPredicate);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null){\r\n                Predicate receivedDatePredicate = builder.between(\r\n                    root.get(&quot;receivedDate&quot;), businessReportRequestDTO.getFromDate(), businessReportRequestDTO.getToDate()\r\n                 \r\n                predicates.add(receivedDatePredicate);\r\n            }\r\n\r\n           \r\n            Predicate buyerIdPredicate = builder.equal(buyerBusinessJoin.get(&quot;buyer&quot;), buyerId);\r\n            predicates.add(buyerIdPredicate);\r\n            Predicate statusPredicate = builder.equal(root.get(&quot;purchaseOrderStatus&quot;), PurchaseOrderStatus.PROCESSED);\r\n            predicates.add(statusPredicate);\r\n            Predicate deletedMappingPredicate = builder.isFalse(businessMappingJoin.get(&quot;deleted&quot;));\r\n            predicates.add(deletedMappingPredicate);\r\n            Predicate deletedMappingPredicate1 = builder.isFalse(supplierMappingJoin.get(&quot;deleted&quot;));\r\n            predicates.add(deletedMappingPredicate1);\r\n\r\n        query.multiselect(\r\n            builder.sum(root.get(&quot;amount&quot;)),\r\n            root.get(&quot;supplier&quot;).get(&quot;companyName&quot;)\r\n         );\r\n        query.where(predicates.toArray(new Predicate[] {}));\r\n\r\n        TypedQuery&lt;Object[]&gt; typedQuery = em.createQuery(query);\r\n        List&lt;Object[]&gt; result = typedQuery.getResultList();\r\n\r\nThe resulting query is:\r\n\r\n    select sum(purchaseor0_.amount) as col_0_0_, supplier9_.company_name as col_1_0_ from purchase_order purchaseor0_ \r\n\tleft outer join process_order processord1_ on purchaseor0_.process_order_id=processord1_.id \r\n\tleft outer join items items2_ on processord1_.items_id=items2_.id \r\n\tleft outer join supplier supplier5_ on items2_.supplier_id=supplier5_.id \r\n\tleft outer join supplier supplier6_ on items2_.supplier_id=supplier6_.id \r\n\tleft outer join buyer_business buyerbusin7_ on processord1_.buyer_business_id=buyerbusin7_.id left outer join buyer_business buyerbusin8_ on processord1_.buyer_business_id=buyerbusin8_.id, supplier supplier9_\r\n    where purchaseor0_.supplier_id=supplier9_.id \r\n    \tand (purchaseor0_.deleted is null or purchaseor0_.deleted=0) \r\n    \tand (purchaseor0_.received_date between ? and ?) \r\n    \tand buyerbusin7_.buyer_id=10 and purchaseor0_.purchase_order_status=? and buyerbusin8_.deleted=0 \r\n    \tand supplier6_.deleted=0 group by items2_.supplier_id\r\n\r\nI&#39;m not able to add the business_supplier_mapping in the Join query. Any idea how to add that? Thanks!\r\n\r\n\r\n\r\n","title":"Joins with multiple tables using criteria builder","body":"<p>I have 5 tables, the entities are shared below. First there is a buyerbusiness and supplier tables.</p>\n<pre><code>@Entity\n@Table(name = &quot;buyer_business&quot;)\npublic class BuyerBusiness {\n    @Id\n    private Long id;\n    \n    @Column(name = &quot;buyer_id&quot;)\n    private Long buyerId;\n    \n    // Getters and setters\n}\n\n\n@Entity\n@Table(name = &quot;supplier&quot;)\npublic class Supplier {\n    @Id\n    private Long id;\n    \n    @Column(name = &quot;company_name&quot;)\n    private String companyName;\n    \n    // Getters and setters\n}\n\n\n@Entity\n@Table(name = &quot;process_order&quot;)\npublic class ProcessOrder {\n    @Id\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;buyer_business_id&quot;)\n    private BuyerBusiness buyerBusiness;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;items_id&quot;)\n    private Item item;\n    \n    // Getters and setters\n}\n\n\n@Entity\n@Table(name = &quot;items&quot;)\npublic class Items {\n    @Id\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    private Supplier supplier;\n    \n}\n</code></pre>\n<p>The processOrder table is matched to supplier through the items table. It is also matched to purchaseorder table, but since that is not required here, I'm not adding the entity.</p>\n<pre><code>@Entity\n@Table(name = &quot;business_supplier_mapping&quot;)\npublic class BusinessSupplierMapping {\n    @Id\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    private Supplier supplier;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;buyer_business_id&quot;)\n    private BuyerBusiness buyerBusiness;\n    \n    @Column(name = &quot;deleted&quot;)\n    private boolean deleted;\n    \n    // Getters and setters\n}\n</code></pre>\n<p>The businessSupplierMapping table connects the business and supplier. This is the table that is causing the issue. I cannot make any db changes, like adding <code>Set&lt;BusinessSupplierMappings&gt;</code> in BuyerBuisness or Supplier entities.</p>\n<p>I'm using criteria builder to build this query:</p>\n<pre><code>SELECT sum(amount),supplier.company_name FROM purchase_order \n     LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id \n     LEFT JOIN items ON items.id=process_order.items_id \n     LEFT JOIN supplier ON items.supplier_id =supplier.id  \n     LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id \nWHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date \n    BETWEEN '2022-12-31 18:30:00' AND  '2023-06-23 18:29:58' and  process_order.buyer_business_id =   10  and \n    purchase_order.purchase_order_status = 'PROCESSED'  and business_supplier_mapping.deleted is false   \n    group by items.supplier_id ;\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>CriteriaBuilder builder = em.getCriteriaBuilder();\n    CriteriaQuery&lt;Object[]&gt; query = builder.createQuery(Object[].class);\n    Root&lt;PurchaseOrder&gt; root = query.from(PurchaseOrder.class);\n        Join&lt;PurchaseOrder, ProcessOrder&gt; processOrderJoin = root.join(&quot;processOrder&quot;, JoinType.LEFT);\n        Join&lt;ProcessOrder, Items&gt; itemJoin = processOrderJoin.join(&quot;items&quot;, JoinType.LEFT);\n        Join&lt;Items, Supplier&gt; supplierJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\n        Join&lt;ProcessOrder, BuyerBusiness&gt; buyerBusinessJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\n        \n    Join&lt;ProcessOrder, BusinessSupplierMapping&gt; businessMappingJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\n    businessMappingJoin.on(builder.equal(processOrderJoin, businessMappingJoin.get(&quot;buyerBusiness&quot;)));\n    Join&lt;BusinessSupplierMapping, Items&gt; supplierMappingJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\n    supplierMappingJoin.on(builder.equal(supplierJoin, supplierMappingJoin.get(&quot;supplier&quot;)));\n\n    query.groupBy(itemJoin.get(&quot;supplier&quot;).get(&quot;id&quot;));\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        Predicate deletedPredicate = builder.or(\n            builder.isNull(root.get(&quot;deleted&quot;)),\n            builder.isFalse(root.get(&quot;deleted&quot;))\n        );\n        predicates.add(deletedPredicate);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null){\n            Predicate receivedDatePredicate = builder.between(\n                root.get(&quot;receivedDate&quot;), businessReportRequestDTO.getFromDate(), businessReportRequestDTO.getToDate()\n             \n            predicates.add(receivedDatePredicate);\n        }\n\n       \n        Predicate buyerIdPredicate = builder.equal(buyerBusinessJoin.get(&quot;buyer&quot;), buyerId);\n        predicates.add(buyerIdPredicate);\n        Predicate statusPredicate = builder.equal(root.get(&quot;purchaseOrderStatus&quot;), PurchaseOrderStatus.PROCESSED);\n        predicates.add(statusPredicate);\n        Predicate deletedMappingPredicate = builder.isFalse(businessMappingJoin.get(&quot;deleted&quot;));\n        predicates.add(deletedMappingPredicate);\n        Predicate deletedMappingPredicate1 = builder.isFalse(supplierMappingJoin.get(&quot;deleted&quot;));\n        predicates.add(deletedMappingPredicate1);\n\n    query.multiselect(\n        builder.sum(root.get(&quot;amount&quot;)),\n        root.get(&quot;supplier&quot;).get(&quot;companyName&quot;)\n     );\n    query.where(predicates.toArray(new Predicate[] {}));\n\n    TypedQuery&lt;Object[]&gt; typedQuery = em.createQuery(query);\n    List&lt;Object[]&gt; result = typedQuery.getResultList();\n</code></pre>\n<p>The resulting query is:</p>\n<pre><code>select sum(purchaseor0_.amount) as col_0_0_, supplier9_.company_name as col_1_0_ from purchase_order purchaseor0_ \nleft outer join process_order processord1_ on purchaseor0_.process_order_id=processord1_.id \nleft outer join items items2_ on processord1_.items_id=items2_.id \nleft outer join supplier supplier5_ on items2_.supplier_id=supplier5_.id \nleft outer join supplier supplier6_ on items2_.supplier_id=supplier6_.id \nleft outer join buyer_business buyerbusin7_ on processord1_.buyer_business_id=buyerbusin7_.id left outer join buyer_business buyerbusin8_ on processord1_.buyer_business_id=buyerbusin8_.id, supplier supplier9_\nwhere purchaseor0_.supplier_id=supplier9_.id \n    and (purchaseor0_.deleted is null or purchaseor0_.deleted=0) \n    and (purchaseor0_.received_date between ? and ?) \n    and buyerbusin7_.buyer_id=10 and purchaseor0_.purchase_order_status=? and buyerbusin8_.deleted=0 \n    and supplier6_.deleted=0 group by items2_.supplier_id\n</code></pre>\n<p>I'm not able to add the business_supplier_mapping in the Join query. Any idea how to add that? Thanks!</p>\n"},{"tags":["java","jmeter","jmeter-plugins","web-api-testing"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687997939,"post_id":76570961,"comment_id":135016295,"body_markdown":"Provide source code","body":"Provide source code"},{"owner":{"account_id":24819945,"reputation":5,"user_id":18700394,"display_name":"chirayu aggarwal 43"},"score":0,"creation_date":1688099173,"post_id":76570961,"comment_id":135031183,"body_markdown":"Sorry I am new, but which source code I just have a JMX file. I want to run it in java.Is there a way to convert this JMX file to rest assured or can I use jmeter gradle dependency so I don&#39;t have to download Jmeter.","body":"Sorry I am new, but which source code I just have a JMX file. I want to run it in java.Is there a way to convert this JMX file to rest assured or can I use jmeter gradle dependency so I don&#39;t have to download Jmeter."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687938904,"creation_date":1687938904,"answer_id":76571119,"question_id":76570961,"body_markdown":"Well, I&#39;m afraid you won&#39;t be able to run a JMeter test without JMeter installed, you will need to have at least [ApacheJMeter_core][1] jar plus relevant plugins for the protocol(s) you&#39;re using in your tests in &quot;your&quot; Java project [classpath][2]  \r\n\r\nIf you want JMeter installation process to happen automatically you can check out the following options:\r\n\r\n 1. [JMeter Maven Plugin][3]\r\n 2. [Taurus][4] framework which has [JMeter Executor][5] \r\n 3. Numerous [`jmeter` Docker images][6] \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_core\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\r\n  [3]: https://www.blazemeter.com/blog/how-use-jmeter-maven-plugin\r\n  [4]: https://gettaurus.org/\r\n  [5]: https://gettaurus.org/docs/JMeter/\r\n  [6]: https://hub.docker.com/search?q=jmeter","title":"Run Jmeter Test with Jmeter Dependency","body":"<p>Well, I'm afraid you won't be able to run a JMeter test without JMeter installed, you will need to have at least <a href=\"https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_core\" rel=\"nofollow noreferrer\">ApacheJMeter_core</a> jar plus relevant plugins for the protocol(s) you're using in your tests in &quot;your&quot; Java project <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">classpath</a></p>\n<p>If you want JMeter installation process to happen automatically you can check out the following options:</p>\n<ol>\n<li><a href=\"https://www.blazemeter.com/blog/how-use-jmeter-maven-plugin\" rel=\"nofollow noreferrer\">JMeter Maven Plugin</a></li>\n<li><a href=\"https://gettaurus.org/\" rel=\"nofollow noreferrer\">Taurus</a> framework which has <a href=\"https://gettaurus.org/docs/JMeter/\" rel=\"nofollow noreferrer\">JMeter Executor</a></li>\n<li>Numerous <a href=\"https://hub.docker.com/search?q=jmeter\" rel=\"nofollow noreferrer\"><code>jmeter</code> Docker images</a></li>\n</ol>\n"}],"owner":{"account_id":24819945,"reputation":5,"user_id":18700394,"display_name":"chirayu aggarwal 43"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687938904,"creation_date":1687937532,"question_id":76570961,"body_markdown":"I have a bunch of Jmeter files (.jmx) which have a lot of tests inside them. I want to run these test without the dependency of jmeter. Is there a way to run jmx files directly in Java without having to download and install jmeter on the machine.\r\n\r\n\r\nI tried StandardJMeterEngine but that requires jmeter on the machine and I don&#39;t want that. If there is any way to do it please tell me. ","title":"Run Jmeter Test with Jmeter Dependency","body":"<p>I have a bunch of Jmeter files (.jmx) which have a lot of tests inside them. I want to run these test without the dependency of jmeter. Is there a way to run jmx files directly in Java without having to download and install jmeter on the machine.</p>\n<p>I tried StandardJMeterEngine but that requires jmeter on the machine and I don't want that. If there is any way to do it please tell me.</p>\n"},{"tags":["java","maven","option-type","signature","pgp"],"comments":[{"owner":{"account_id":13864065,"reputation":31,"user_id":10008939,"display_name":"Dave Wichers"},"score":0,"creation_date":1592948633,"post_id":60624285,"comment_id":110607114,"body_markdown":"Actually, it turns out the maven command &quot;mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy&quot; only LOOKS like it works. But if you locally verify the generated signatures (e.g., gpg --verify target/LIBNAME-1.x.y.jar.asc), the signatures are BAD, because the deploy step at the very end regenerates all the artifacts AFTER the .asc files have been created on the versions of the artifacts generated in the install step.\n\nSo, I&#39;m still looking for a good solution to this. I&#39;ve seen some tools build a new &#39;deploy-only&#39; phase that simply deploys what exists. But not Maven (yet?)","body":"Actually, it turns out the maven command &quot;mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy&quot; only LOOKS like it works. But if you locally verify the generated signatures (e.g., gpg --verify target/LIBNAME-1.x.y.jar.asc), the signatures are BAD, because the deploy step at the very end regenerates all the artifacts AFTER the .asc files have been created on the versions of the artifacts generated in the install step.  So, I&#39;m still looking for a good solution to this. I&#39;ve seen some tools build a new &#39;deploy-only&#39; phase that simply deploys what exists. But not Maven (yet?)"}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609069834,"creation_date":1609069834,"answer_id":65465416,"question_id":60624285,"body_markdown":"# maven profile\r\nOne way using `maven-gpg-plugin` conditional it is put configuration of `maven-gpg-plugin` in profile.\r\n\r\nYou can simplify your profile by only add one property for skip / don&#39;t skip `maven-gpg-plugin`\r\n\r\nYour project can look like:\r\n\r\n```xml\r\n&lt;project ...&gt;\r\n\r\n   &lt;properties&gt;\r\n        &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;&lt;!-- by default skip gpg --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- ... --&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;release&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;gpg.skip&gt;false&lt;/gpg.skip&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n# another plugin\r\n\r\nYou can also consider use another plugin for making signatures, eg: https://www.simplify4u.org/sign-maven-plugin/ `sign-maven-plugin` by default skips execution if private key not exist on running system.\r\n\r\nAnother feature of `sign-maven-plugin` is that don&#39;t need external software like gpg to make signature.","title":"How to set up Maven project to optionally generate signature files","body":"<h1>maven profile</h1>\n<p>One way using <code>maven-gpg-plugin</code> conditional it is put configuration of <code>maven-gpg-plugin</code> in profile.</p>\n<p>You can simplify your profile by only add one property for skip / don't skip <code>maven-gpg-plugin</code></p>\n<p>Your project can look like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project ...&gt;\n\n   &lt;properties&gt;\n        &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;&lt;!-- by default skip gpg --&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- ... --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;release&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;gpg.skip&gt;false&lt;/gpg.skip&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<h1>another plugin</h1>\n<p>You can also consider use another plugin for making signatures, eg: <a href=\"https://www.simplify4u.org/sign-maven-plugin/\" rel=\"nofollow noreferrer\">https://www.simplify4u.org/sign-maven-plugin/</a> <code>sign-maven-plugin</code> by default skips execution if private key not exist on running system.</p>\n<p>Another feature of <code>sign-maven-plugin</code> is that don't need external software like gpg to make signature.</p>\n"},{"tags":[],"owner":{"account_id":10065760,"reputation":96,"user_id":7441000,"display_name":"rstolle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636314913,"creation_date":1636310854,"answer_id":69875537,"question_id":60624285,"body_markdown":"# gpp.skip property\r\n\r\nIn my poms I set the `gpp.skip` property to `true`:\r\n\r\n    &lt;properties&gt;\r\n        &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;\r\n    &lt;/properties&gt;\r\n\r\nIts [evaluated by the maven gpg plugin][1] in the way, that signing is skipped by default, e.g.:\r\n\r\n    mvn install\r\n\r\n\r\nTo enable signing, you can set `gpp.skip` to `false` within pom.xml. But better you do it on the command line, so you don&#39;t have to modify your pom all the time:\r\n\r\n    mvn install -Dgpg.skip=false\r\n\r\nYou can also skip setting the property within the pom and skip signing like this:\r\n\r\n    mvn install -Dgpg.skip=true\r\n\r\nBut this way you (and other people working with your project) have to add this all the time to avoid signing. I find it more convenient when signing is turned off by default, as in the first solution. And I guess that&#39;s what you want.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-gpg-plugin/sign-mojo.html","title":"How to set up Maven project to optionally generate signature files","body":"<h1>gpp.skip property</h1>\n<p>In my poms I set the <code>gpp.skip</code> property to <code>true</code>:</p>\n<pre><code>&lt;properties&gt;\n    &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Its <a href=\"https://maven.apache.org/plugins/maven-gpg-plugin/sign-mojo.html\" rel=\"nofollow noreferrer\">evaluated by the maven gpg plugin</a> in the way, that signing is skipped by default, e.g.:</p>\n<pre><code>mvn install\n</code></pre>\n<p>To enable signing, you can set <code>gpp.skip</code> to <code>false</code> within pom.xml. But better you do it on the command line, so you don't have to modify your pom all the time:</p>\n<pre><code>mvn install -Dgpg.skip=false\n</code></pre>\n<p>You can also skip setting the property within the pom and skip signing like this:</p>\n<pre><code>mvn install -Dgpg.skip=true\n</code></pre>\n<p>But this way you (and other people working with your project) have to add this all the time to avoid signing. I find it more convenient when signing is turned off by default, as in the first solution. And I guess that's what you want.</p>\n"}],"owner":{"account_id":13864065,"reputation":31,"user_id":10008939,"display_name":"Dave Wichers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1687938242,"creation_date":1583866873,"question_id":60624285,"body_markdown":"I maintain a small Java component published in Maven Central. In order to successfully publish the artifact, pgp/gpg signature files are required for all the artifacts. Following the directions here: https://central.sonatype.org/pages/apache-maven.html#gpg-signed-components, I can add this plugin to my pom.xml like this no problem.\r\n\r\n```lang-html\r\n &lt;build&gt;\r\n   &lt;plugins&gt;\r\n     &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\r\n       ...\r\n```\r\n\r\nand I attach it to the verify or install phase. Now, when I run: &quot;mvn install&quot; or &quot;mvn deploy&quot; the .asc files are generated automatically as desired. Note: you also have to have your pgp/gpg machinery installed and configured properly for this to work.\r\n\r\nThis works OK for me as the artifact maintainer, but if someone else wants to clone my source code, modify it, and then run `mvn install`, so they can make a locally modified version of the component available to other projects of theirs, they have to have all this pgp/gpg machinery setup properly too, which can be a pain. And they likely don&#39;t care about having signature files.\r\n\r\nMy question is, is there a recommended POM setup, so the component maintainer can generate the `.asc` signature files when needed for a deployment (e.g., to Maven Central), but normal usage of Maven commands don&#39;t require signature generation?\r\n\r\nI imagine I could use a profile in my pom to handle this. I did figure out a solution, which is pretty simple.  Rather than adding the `maven-gpg-plugin` to my pom, I figured out I can actually just do this:\r\n\r\n    mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy\r\n\r\nThis cleans everything, creates and installs all the artifacts locally, signs all the generated artifacts, and then deploys all the generated artifacts, including the signature files to the deployment target.\r\n\r\nThis does exactly what I want in 1 line without a pom modification, which is pretty cool. But are there other &#39;better&#39; ways? Either way, I figured posting this way to do this might be helpful to others.\r\n","title":"How to set up Maven project to optionally generate signature files","body":"<p>I maintain a small Java component published in Maven Central. In order to successfully publish the artifact, pgp/gpg signature files are required for all the artifacts. Following the directions here: <a href=\"https://central.sonatype.org/pages/apache-maven.html#gpg-signed-components\" rel=\"nofollow noreferrer\">https://central.sonatype.org/pages/apache-maven.html#gpg-signed-components</a>, I can add this plugin to my pom.xml like this no problem.</p>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;build&gt;\n   &lt;plugins&gt;\n     &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n       ...\n</code></pre>\n<p>and I attach it to the verify or install phase. Now, when I run: &quot;mvn install&quot; or &quot;mvn deploy&quot; the .asc files are generated automatically as desired. Note: you also have to have your pgp/gpg machinery installed and configured properly for this to work.</p>\n<p>This works OK for me as the artifact maintainer, but if someone else wants to clone my source code, modify it, and then run <code>mvn install</code>, so they can make a locally modified version of the component available to other projects of theirs, they have to have all this pgp/gpg machinery setup properly too, which can be a pain. And they likely don't care about having signature files.</p>\n<p>My question is, is there a recommended POM setup, so the component maintainer can generate the <code>.asc</code> signature files when needed for a deployment (e.g., to Maven Central), but normal usage of Maven commands don't require signature generation?</p>\n<p>I imagine I could use a profile in my pom to handle this. I did figure out a solution, which is pretty simple.  Rather than adding the <code>maven-gpg-plugin</code> to my pom, I figured out I can actually just do this:</p>\n<pre><code>mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy\n</code></pre>\n<p>This cleans everything, creates and installs all the artifacts locally, signs all the generated artifacts, and then deploys all the generated artifacts, including the signature files to the deployment target.</p>\n<p>This does exactly what I want in 1 line without a pom modification, which is pretty cool. But are there other 'better' ways? Either way, I figured posting this way to do this might be helpful to others.</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687790844,"post_id":76557745,"comment_id":134982320,"body_markdown":"maven-assembly-plugin does NOT execute any tests at all ... this is done by maven-surefire-plugin (unit tests) or maven-failsafe-plugin (integration tests) ... why do you package tests in the jar file? please show your full pom file and what you exactly like to achive ... also version information about plugins, maven, jdk etc. best would be an example project ...","body":"maven-assembly-plugin does NOT execute any tests at all ... this is done by maven-surefire-plugin (unit tests) or maven-failsafe-plugin (integration tests) ... why do you package tests in the jar file? please show your full pom file and what you exactly like to achive ... also version information about plugins, maven, jdk etc. best would be an example project ..."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1687802390,"post_id":76557745,"comment_id":134984815,"body_markdown":"You got me wrong: I don&#39;t package tests *into* the jar. I want the tests to execute (successfully) *before* the jar is packaged. It should be prevented if any test failed. Therefore, I&#39;m looking for a way to execute the tests automatically during `mvn package`","body":"You got me wrong: I don&#39;t package tests <i>into</i> the jar. I want the tests to execute (successfully) <i>before</i> the jar is packaged. It should be prevented if any test failed. Therefore, I&#39;m looking for a way to execute the tests automatically during <code>mvn package</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687804473,"post_id":76557745,"comment_id":134985147,"body_markdown":"Please show the full pom file... apart from that the usual life cycle run units tests (executed by maven-surefire-plugin and which is before the `package` phase ... I&#39;m not sure If I understand your question or more accurate where your problem is? Maybe you could create a full example on github or alike .(and also posting the pom file here?)","body":"Please show the full pom file... apart from that the usual life cycle run units tests (executed by maven-surefire-plugin and which is before the <code>package</code> phase ... I&#39;m not sure If I understand your question or more accurate where your problem is? Maybe you could create a full example on github or alike .(and also posting the pom file here?)"}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687938171,"creation_date":1687938171,"answer_id":76571040,"question_id":76557745,"body_markdown":"It turned out that the `maven-surefire-plugin` was missing. Comming from `spring-boot`, I was not aware this plugin has to be added explicit for executing `@Test` classes.\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n      &lt;/plugin&gt;","title":"How to include junit tests in maven-assembly-plugin?","body":"<p>It turned out that the <code>maven-surefire-plugin</code> was missing. Comming from <code>spring-boot</code>, I was not aware this plugin has to be added explicit for executing <code>@Test</code> classes.</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687938171,"creation_date":1687790585,"question_id":76557745,"body_markdown":"I have a legacy app that builds the final jar using `maven-assembly-plugin`.\r\n\r\nProblem: `mvn package` skips all `junit` tests (there have not been any so far).\r\n\r\nQuestion: how can I force the assembly plugin to execute tests first before building the final jar?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;mainClass&gt;package_path.foo&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptors&gt;\r\n                &lt;descriptor&gt;src/main/assembly/test-jar-with-dependencies.xml&lt;/descriptor&gt;\r\n            &lt;/descriptors&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"How to include junit tests in maven-assembly-plugin?","body":"<p>I have a legacy app that builds the final jar using <code>maven-assembly-plugin</code>.</p>\n<p>Problem: <code>mvn package</code> skips all <code>junit</code> tests (there have not been any so far).</p>\n<p>Question: how can I force the assembly plugin to execute tests first before building the final jar?</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;package_path.foo&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptors&gt;\n            &lt;descriptor&gt;src/main/assembly/test-jar-with-dependencies.xml&lt;/descriptor&gt;\n        &lt;/descriptors&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","httpclient","autologin"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1328587985,"post_id":9170871,"comment_id":11536670,"body_markdown":"What credentials are you passing? Username/password, x509 certificate, scan of your retina? After login, how does the site know who you are? Is it storing a cookie that you&#39;re not handling, for example?","body":"What credentials are you passing? Username/password, x509 certificate, scan of your retina? After login, how does the site know who you are? Is it storing a cookie that you&#39;re not handling, for example?"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1328588524,"post_id":9170871,"comment_id":11536755,"body_markdown":"im passing the email id/pwd and an hidden parameter that it expects which i see in view source page. Im not bothered at cookie for now since this is the 1st page. When i navigate to 2nd page or so i might have to handle cookie.","body":"im passing the email id/pwd and an hidden parameter that it expects which i see in view source page. Im not bothered at cookie for now since this is the 1st page. When i navigate to 2nd page or so i might have to handle cookie."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1328588750,"post_id":9170871,"comment_id":11536794,"body_markdown":"Without any code this is impossible to diagnose.","body":"Without any code this is impossible to diagnose."}],"answers":[{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328589674,"creation_date":1328589198,"answer_id":9171047,"question_id":9170871,"body_markdown":"If you look at the form on the URL you have as `input_text` you&#39;ll see that you need to post your login information to `/v2/login`. You&#39;re posting to the login page itself, not the login handler.\r\n\r\nI recommend you first use Firebug with Firefox or the F12 tools with Internet Explorer and go through the login process, watching what gets posted where and what is returned.  After you understand the login process then try to recreate it in code.\r\n\r\nWhen I monitored the conversation using Firebug as I advised above, I see the post actually goes to https://www.hautelook.com/v3/credential.\r\n\r\nIf you&#39;re using an older version of Java you&#39;ll have to configure HTTPClient to work with SSL as described here: [HttpClient SSL Guide][1].\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/sslguide.html","title":"not able to login with proper credentials","body":"<p>If you look at the form on the URL you have as <code>input_text</code> you'll see that you need to post your login information to <code>/v2/login</code>. You're posting to the login page itself, not the login handler.</p>\n\n<p>I recommend you first use Firebug with Firefox or the F12 tools with Internet Explorer and go through the login process, watching what gets posted where and what is returned.  After you understand the login process then try to recreate it in code.</p>\n\n<p>When I monitored the conversation using Firebug as I advised above, I see the post actually goes to <a href=\"https://www.hautelook.com/v3/credential\" rel=\"nofollow\">https://www.hautelook.com/v3/credential</a>.</p>\n\n<p>If you're using an older version of Java you'll have to configure HTTPClient to work with SSL as described here: <a href=\"http://hc.apache.org/httpclient-3.x/sslguide.html\" rel=\"nofollow\">HttpClient SSL Guide</a>.</p>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687938155,"creation_date":1328587670,"question_id":9170871,"body_markdown":"I want to auto login into a website. I think the login url and the credentials I pass are all correct. Still my ```entity.getContentLength()``` shows -1. What does it mean?\r\n\r\nThe response I get is still the login page, not the page that I should get after the login. What might go wrong? Im using HttpClient.\r\n\r\n    \r\n\r\n\r\n","title":"not able to login with proper credentials","body":"<p>I want to auto login into a website. I think the login url and the credentials I pass are all correct. Still my <code>entity.getContentLength()</code> shows -1. What does it mean?</p>\n<p>The response I get is still the login page, not the page that I should get after the login. What might go wrong? Im using HttpClient.</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687938083,"creation_date":1687938083,"answer_id":76571025,"question_id":76568398,"body_markdown":"You can deduce specific subtypes of one type related with the presence of specific properties with the use of [`JsonTypeInfo`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.html) annotation and its deduction system:\r\n\r\n~~~\r\n@JsonTypeInfo(use = Id.DEDUCTION)\r\n@JsonSubTypes({ @Type(ASIN.class), @Type(ISBN.class)})\r\npublic interface BookId {}\r\n\r\n@Data\r\npublic class ISBN implements BookId {\r\n    private String isbn;\r\n}\r\n\r\n@Data\r\npublic class ASIN implements BookId {\r\n    private String asin;\r\n}\r\n~~~\r\n\r\nIn this case the classes implementing the `BookId` interface can be identified by the presence or not of their own asin and isbn properties, so you can deserialize an array of `BookId` like below:\r\n\r\n**Input:** \r\n\r\n~~~\r\n{ &quot;ids&quot;: [\r\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\r\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\r\n]}\r\n~~~\r\n\r\nAn example based on the json input provided:\r\n~~~\r\nJsonNode ids = mapper.readTree(json).at(&quot;/ids&quot;);\r\nBookId[] bookIds = mapper.treeToValue(ids, BookId[].class);\r\n//ok, it prints [ISBN(isbn=978-0-596-52306-0), ASIN(asin=B07QKFQ7QJ)]\r\nSystem.out.println(Arrays.toString(bookIds));\r\n~~~","title":"`@JsonDeserialize` on an interface leads to call stack overflow","body":"<p>You can deduce specific subtypes of one type related with the presence of specific properties with the use of <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo</code></a> annotation and its deduction system:</p>\n<pre><code>@JsonTypeInfo(use = Id.DEDUCTION)\n@JsonSubTypes({ @Type(ASIN.class), @Type(ISBN.class)})\npublic interface BookId {}\n\n@Data\npublic class ISBN implements BookId {\n    private String isbn;\n}\n\n@Data\npublic class ASIN implements BookId {\n    private String asin;\n}\n</code></pre>\n<p>In this case the classes implementing the <code>BookId</code> interface can be identified by the presence or not of their own asin and isbn properties, so you can deserialize an array of <code>BookId</code> like below:</p>\n<p><strong>Input:</strong></p>\n<pre><code>{ &quot;ids&quot;: [\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\n]}\n</code></pre>\n<p>An example based on the json input provided:</p>\n<pre><code>JsonNode ids = mapper.readTree(json).at(&quot;/ids&quot;);\nBookId[] bookIds = mapper.treeToValue(ids, BookId[].class);\n//ok, it prints [ISBN(isbn=978-0-596-52306-0), ASIN(asin=B07QKFQ7QJ)]\nSystem.out.println(Arrays.toString(bookIds));\n</code></pre>\n"}],"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76571025,"answer_count":1,"score":1,"last_activity_date":1687938083,"creation_date":1687897476,"question_id":76568398,"body_markdown":"I&#39;ve got an interface + 2 concrete subclasses, all annotated for Jackson.  The two subclassses work fine independently.  The two subclasses are distinguished by the _name_ of a field (K/V pair), not the _value_ of some K/V pair.\r\n* Because of that I can&#39;t use any of the normal [Jackson PTH](https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization) features.  **Or can I?? Please let me know.**\r\n\r\nI want them serialized w/o any wrapper or injected fields.  \r\n\r\nThe example I&#39;m going to use ([full MCVE gist is here](https://gist.github.com/david-bakin/c6ea81d2755a88989ae72a2a1553b3e0)) is a `BookId` interface where the concrete implementors are `ISBN` and `ASIN`, each with one field.  An example array of `BookId`s would look like this:\r\n\r\n```\r\n{ &quot;ids&quot;: [\r\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\r\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\r\n]}\r\n```\r\n\r\nSo `ISBN` and `ASIN` are pretty simple, here&#39;s `ISBN` (and `ASIN` is similar with a different validator method):\r\n\r\n```\r\npublic static class ISBN implements BookId {\r\n    final String isbn;\r\n\r\n    @JsonCreator\r\n    public ISBN(@JsonProperty(&quot;isbn&quot;) String isbn) {\r\n        if (!valid(isbn)) throw new IllegalArgumentException(&quot;bad isbn syntax&quot;);\r\n        this.isbn = isbn;\r\n    }\r\n\r\n    boolean valid(String isbn) { return isbn != null &amp;&amp; !isbn.isBlank() /* &amp;&amp; checksum ok ... */; }\r\n}\r\n```\r\n\r\nSo trying what I thought was a _proper_ approach - simply distinguish the two cases and then call the object mapper appropriately - looks like this:\r\n\r\n```\r\n@JsonDeserialize(using = BookId.DeserializerDirectViaJackson.class)\r\npublic interface BookId {\r\n\r\n    class DeserializerDirectViaJackson extends StdDeserializer&lt;BookId&gt; {\r\n        public DeserializerDirectViaJackson() { this(null); }\r\n        public DeserializerDirectViaJackson(final Class&lt;?&gt; vc) { super(vc); }\r\n\r\n        @Override\r\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            final var om = (ObjectMapper) jsonParser.getCodec();\r\n            final var node = (JsonNode) om.readTree(jsonParser);\r\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\r\n            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\r\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\r\n            throw new IllegalStateException(&quot;expected &#39;isbn&#39; or &#39;asin&#39; field&quot;);\r\n        }\r\n    }\r\n...\r\n```\r\n\r\nwhere the key lines are:\r\n```\r\n            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\r\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\r\n```\r\nwhere I look in the `TreeValue` I sucked in for the distinguishing key and then call `ObjectMapper.treeToValue(node, &lt;concreteclass&gt;.class)` to get it parsed properly.\r\n\r\nBut that leads to infinite recursion, as seen here (top of the call stack):\r\n\r\n```\r\n&gt; Task :cli:JacksonInterfaceCustomDeserializerMCVE.main() FAILED\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:788)\r\n\tat java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:786)\r\n\tat com.fasterxml.jackson.databind.node.NodeCursor$ObjectCursor.nextToken(NodeCursor.java:214)\r\n\tat com.fasterxml.jackson.databind.node.TreeTraversingParser.nextToken(TreeTraversingParser.java:108)\r\n\tat com.fasterxml.jackson.core.JsonParser.nextFieldName(JsonParser.java:1091)\r\n\tat com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer._deserializeContainerNoRecursion(JsonNodeDeserializer.java:536)\r\n\tat com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:100)\r\n\tat com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:25)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3084)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:58)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:3438)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:60)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\r\n```\r\nand so on and so forth.\r\n\r\n**So, question:** Why does it do that and - more important - how do I make it work?\r\n\r\nFor comparision (and to show I did the work) the following deserializer _does_ work but has the (major) disadvantage that I basically have to parse &amp; validate the concrete subclasses myself.  Doable for this toy example, but not so much for a real use case.\r\n\r\n```\r\n    class DeserializerHomegrown extends StdDeserializer&lt;BookId&gt; {\r\n        public DeserializerHomegrown() { this(null); }\r\n        public DeserializerHomegrown(final Class&lt;?&gt; vc) { super(vc); }\r\n\r\n        @Override\r\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            final var om = (ObjectMapper) jsonParser.getCodec();\r\n            final var node = (JsonNode) om.readTree(jsonParser);\r\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\r\n            if (node.has(&quot;isbn&quot;)) return new ISBN(getValueNode(node, &quot;isbn&quot;));\r\n            if (node.has(&quot;asin&quot;)) return new ASIN(getValueNode(node, &quot;asin&quot;));\r\n            throw new IllegalStateException(&quot;expected &#39;isbn&#39; or &#39;asin&#39; field&quot;);\r\n        }\r\n\r\n        String getValueNode(JsonNode node, String fieldName) {\r\n            final var field = node.get(fieldName);\r\n            if (field == null) return null;\r\n            if (!field.isValueNode()) throw new IllegalStateException(&quot;%s field is not JSON value&quot;.formatted(fieldName));\r\n            return field.asText();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n","title":"`@JsonDeserialize` on an interface leads to call stack overflow","body":"<p>I've got an interface + 2 concrete subclasses, all annotated for Jackson.  The two subclassses work fine independently.  The two subclasses are distinguished by the <em>name</em> of a field (K/V pair), not the <em>value</em> of some K/V pair.</p>\n<ul>\n<li>Because of that I can't use any of the normal <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"nofollow noreferrer\">Jackson PTH</a> features.  <strong>Or can I?? Please let me know.</strong></li>\n</ul>\n<p>I want them serialized w/o any wrapper or injected fields.</p>\n<p>The example I'm going to use (<a href=\"https://gist.github.com/david-bakin/c6ea81d2755a88989ae72a2a1553b3e0\" rel=\"nofollow noreferrer\">full MCVE gist is here</a>) is a <code>BookId</code> interface where the concrete implementors are <code>ISBN</code> and <code>ASIN</code>, each with one field.  An example array of <code>BookId</code>s would look like this:</p>\n<pre><code>{ &quot;ids&quot;: [\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\n]}\n</code></pre>\n<p>So <code>ISBN</code> and <code>ASIN</code> are pretty simple, here's <code>ISBN</code> (and <code>ASIN</code> is similar with a different validator method):</p>\n<pre><code>public static class ISBN implements BookId {\n    final String isbn;\n\n    @JsonCreator\n    public ISBN(@JsonProperty(&quot;isbn&quot;) String isbn) {\n        if (!valid(isbn)) throw new IllegalArgumentException(&quot;bad isbn syntax&quot;);\n        this.isbn = isbn;\n    }\n\n    boolean valid(String isbn) { return isbn != null &amp;&amp; !isbn.isBlank() /* &amp;&amp; checksum ok ... */; }\n}\n</code></pre>\n<p>So trying what I thought was a <em>proper</em> approach - simply distinguish the two cases and then call the object mapper appropriately - looks like this:</p>\n<pre><code>@JsonDeserialize(using = BookId.DeserializerDirectViaJackson.class)\npublic interface BookId {\n\n    class DeserializerDirectViaJackson extends StdDeserializer&lt;BookId&gt; {\n        public DeserializerDirectViaJackson() { this(null); }\n        public DeserializerDirectViaJackson(final Class&lt;?&gt; vc) { super(vc); }\n\n        @Override\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n            final var om = (ObjectMapper) jsonParser.getCodec();\n            final var node = (JsonNode) om.readTree(jsonParser);\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\n            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\n            throw new IllegalStateException(&quot;expected 'isbn' or 'asin' field&quot;);\n        }\n    }\n...\n</code></pre>\n<p>where the key lines are:</p>\n<pre><code>            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\n</code></pre>\n<p>where I look in the <code>TreeValue</code> I sucked in for the distinguishing key and then call <code>ObjectMapper.treeToValue(node, &lt;concreteclass&gt;.class)</code> to get it parsed properly.</p>\n<p>But that leads to infinite recursion, as seen here (top of the call stack):</p>\n<pre><code>&gt; Task :cli:JacksonInterfaceCustomDeserializerMCVE.main() FAILED\nException in thread &quot;main&quot; java.lang.StackOverflowError\n    at java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:788)\n    at java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:786)\n    at com.fasterxml.jackson.databind.node.NodeCursor$ObjectCursor.nextToken(NodeCursor.java:214)\n    at com.fasterxml.jackson.databind.node.TreeTraversingParser.nextToken(TreeTraversingParser.java:108)\n    at com.fasterxml.jackson.core.JsonParser.nextFieldName(JsonParser.java:1091)\n    at com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer._deserializeContainerNoRecursion(JsonNodeDeserializer.java:536)\n    at com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:100)\n    at com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:25)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\n    at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3084)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:58)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\n    at com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:3438)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:60)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\n</code></pre>\n<p>and so on and so forth.</p>\n<p><strong>So, question:</strong> Why does it do that and - more important - how do I make it work?</p>\n<p>For comparision (and to show I did the work) the following deserializer <em>does</em> work but has the (major) disadvantage that I basically have to parse &amp; validate the concrete subclasses myself.  Doable for this toy example, but not so much for a real use case.</p>\n<pre><code>    class DeserializerHomegrown extends StdDeserializer&lt;BookId&gt; {\n        public DeserializerHomegrown() { this(null); }\n        public DeserializerHomegrown(final Class&lt;?&gt; vc) { super(vc); }\n\n        @Override\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n            final var om = (ObjectMapper) jsonParser.getCodec();\n            final var node = (JsonNode) om.readTree(jsonParser);\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\n            if (node.has(&quot;isbn&quot;)) return new ISBN(getValueNode(node, &quot;isbn&quot;));\n            if (node.has(&quot;asin&quot;)) return new ASIN(getValueNode(node, &quot;asin&quot;));\n            throw new IllegalStateException(&quot;expected 'isbn' or 'asin' field&quot;);\n        }\n\n        String getValueNode(JsonNode node, String fieldName) {\n            final var field = node.get(fieldName);\n            if (field == null) return null;\n            if (!field.isValueNode()) throw new IllegalStateException(&quot;%s field is not JSON value&quot;.formatted(fieldName));\n            return field.asText();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","json","android-studio","retrofit"],"answers":[{"tags":[],"owner":{"account_id":4758458,"reputation":431,"user_id":3846559,"display_name":"Masoud Badrmiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623576768,"creation_date":1623576768,"answer_id":67956782,"question_id":67956640,"body_markdown":"First, for network calls you can use Retrofit.\r\n\r\nThen you can convert your JSON response to java class with this site \r\n[Json to java][1]\r\n\r\n\r\n  [1]: https://www.jsonschema2pojo.org/\r\n\r\nFor example, your JSON is converted to the below class\r\n```\r\npublic class Output{\r\n\r\npublic String message;\r\npublic Boolean status;\r\npublic Boolean existingUser;\r\n\r\n}\r\n```\r\n","title":"How to write a model class for json string response in retrofit?","body":"<p>First, for network calls you can use Retrofit.</p>\n<p>Then you can convert your JSON response to java class with this site\n<a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">Json to java</a></p>\n<p>For example, your JSON is converted to the below class</p>\n<pre><code>public class Output{\n\npublic String message;\npublic Boolean status;\npublic Boolean existingUser;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17205976,"reputation":66,"user_id":12456535,"display_name":"Sunny Kumar Sk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623667117,"creation_date":1623667117,"answer_id":67968767,"question_id":67956640,"body_markdown":"    package com.example;\r\n\r\n    import javax.annotation.Generated;\r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n\r\n    @Generated(&quot;jsonschema2pojo&quot;)\r\n    public class Example {\r\n\r\n    @SerializedName(&quot;message&quot;)\r\n    @Expose\r\n    private String message;\r\n\r\n    @SerializedName(&quot;status&quot;)\r\n    @Expose\r\n    private Boolean status;\r\n\r\n    @SerializedName(&quot;existing_user&quot;)\r\n    @Expose\r\n    private Boolean existingUser;\r\n\r\n    public String getMessage() {\r\n    return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n    this.message = message;\r\n    }\r\n\r\n    public Boolean getStatus() {\r\n    return status;\r\n    }\r\n\r\n    public void setStatus(Boolean status) {\r\n    this.status = status;\r\n    }\r\n\r\n    public Boolean getExistingUser() {\r\n    return existingUser;\r\n    }\r\n\r\n    public void setExistingUser(Boolean existingUser) {\r\n    this.existingUser = existingUser;\r\n    }\r\n\r\n    }","title":"How to write a model class for json string response in retrofit?","body":"<pre><code>package com.example;\n\nimport javax.annotation.Generated;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class Example {\n\n@SerializedName(&quot;message&quot;)\n@Expose\nprivate String message;\n\n@SerializedName(&quot;status&quot;)\n@Expose\nprivate Boolean status;\n\n@SerializedName(&quot;existing_user&quot;)\n@Expose\nprivate Boolean existingUser;\n\npublic String getMessage() {\nreturn message;\n}\n\npublic void setMessage(String message) {\nthis.message = message;\n}\n\npublic Boolean getStatus() {\nreturn status;\n}\n\npublic void setStatus(Boolean status) {\nthis.status = status;\n}\n\npublic Boolean getExistingUser() {\nreturn existingUser;\n}\n\npublic void setExistingUser(Boolean existingUser) {\nthis.existingUser = existingUser;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28741085,"reputation":1,"user_id":22011197,"display_name":"Pranav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687937693,"creation_date":1687834028,"answer_id":76561310,"question_id":67956640,"body_markdown":"The best way to create a Modal class is \r\n\r\n 1. go to https://www.jsonschema2pojo.org\r\n 2. paste your JSON data and select format.\r\n 3. and click on preview.","title":"How to write a model class for json string response in retrofit?","body":"<p>The best way to create a Modal class is</p>\n<ol>\n<li>go to <a href=\"https://www.jsonschema2pojo.org\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org</a></li>\n<li>paste your JSON data and select format.</li>\n<li>and click on preview.</li>\n</ol>\n"}],"owner":{"account_id":21648544,"reputation":7,"user_id":15969504,"display_name":"Mohamed zindha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67956782,"answer_count":3,"score":0,"last_activity_date":1687937693,"creation_date":1623575614,"question_id":67956640,"body_markdown":"Hi I am new to android, \r\n\r\nI have worked with regular json object response but now I have been asked to work with json string response like this,\r\n\r\n    &quot;{\\&quot;message\\&quot;:\\&quot;OTP is sent to your Mobile number and Email id\\&quot;,\\&quot;status\\&quot;:true,\\&quot;existing_user\\&quot;:true}&quot;\r\n\r\nI have no idea how to call API&#39;s with this response. I searched how to do it and found nothing. Please help me if anyone knows how to get it done.\r\nThanks in advance!\r\n\r\n\r\n","title":"How to write a model class for json string response in retrofit?","body":"<p>Hi I am new to android,</p>\n<p>I have worked with regular json object response but now I have been asked to work with json string response like this,</p>\n<pre><code>&quot;{\\&quot;message\\&quot;:\\&quot;OTP is sent to your Mobile number and Email id\\&quot;,\\&quot;status\\&quot;:true,\\&quot;existing_user\\&quot;:true}&quot;\n</code></pre>\n<p>I have no idea how to call API's with this response. I searched how to do it and found nothing. Please help me if anyone knows how to get it done.\nThanks in advance!</p>\n"},{"tags":["java","vert.x","vertx-httpclient","vertxoptions"],"owner":{"account_id":18877730,"reputation":21,"user_id":13770876,"display_name":"shetty sharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687937423,"creation_date":1687862194,"question_id":76564002,"body_markdown":"I have a vertx app which sends the request to a proxy. It uses HttpClient with setproxyoptions. Then form a request using request options to set the actual host, port, method and path.\r\n\r\nVertx version: 4.4.0\r\n\r\n```\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n    @Override\r\n    public void start() throws InterruptedException {\r\n        HttpClientOptions options = new HttpClientOptions().setProtocolVersion(HttpVersion.HTTP_2)\r\n                .setForceSni(false)\r\n                .setProxyOptions(new ProxyOptions().setHost(&quot;172.16.10.17&quot;).setPort(8080).setType(ProxyType.HTTP))\r\n                .setHttp2ClearTextUpgrade(false);\r\n        \r\n        RequestOptions requestOptions = new RequestOptions()\r\n                .setHost(&quot;127.0.0.1&quot;)\r\n                .setPort(8080)\r\n                .setMethod(HttpMethod.GET)\r\n                .setURI(&quot;/nudr-dr/v1/subscription&quot;);\r\n                \r\n        HttpClient client = vertx.createHttpClient(options);\r\n        client.request(requestOptions)\r\n                .compose(request -&gt; request.send().compose(response -&gt; response.body()))\r\n                .onSuccess(body -&gt; System.out.println(&quot;HTTP/2 client received body: &quot; + body.toString()))\r\n                .onFailure(error -&gt; System.out.println(&quot;HTTP/2 client error: &quot; + error.getCause() + error.getStackTrace()));\r\n    }\r\n}\r\n```\r\n\r\n\r\nI expected to send the message something like below:\r\n```\r\nTCP/IP\r\n    scr: 172.10.1.5:8080\r\n    dest: 172.16.10.17:8080\r\nHTTP2\r\n    :method: GET\r\n    :path: /nudr-dr/v1/subscription\r\n    :scheme: http\r\n    :authority: localhost\r\n```\r\n    \r\nbut the message was carrying the path prefixed with scheme and authority information\r\n:path: http://localhost/nudr-dr/v1/subscription \r\n\r\n[![WiresharkCapture][1]][1]\r\n\r\n**Note**: This issue is not observed when the request is sent to the actual destination without setting the proxy option in HttpClient.\r\n\r\nWhy it is duplicating scheme and authority in path thought scheme and authority is mandatory and present in the request? Is this expected when it comes to proxy?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N93VX.png","title":"Path header is prepended with scheme and authority when proxy option is set in HttpClient of Vertx","body":"<p>I have a vertx app which sends the request to a proxy. It uses HttpClient with setproxyoptions. Then form a request using request options to set the actual host, port, method and path.</p>\n<p>Vertx version: 4.4.0</p>\n<pre><code>public class MainVerticle extends AbstractVerticle {\n\n    @Override\n    public void start() throws InterruptedException {\n        HttpClientOptions options = new HttpClientOptions().setProtocolVersion(HttpVersion.HTTP_2)\n                .setForceSni(false)\n                .setProxyOptions(new ProxyOptions().setHost(&quot;172.16.10.17&quot;).setPort(8080).setType(ProxyType.HTTP))\n                .setHttp2ClearTextUpgrade(false);\n        \n        RequestOptions requestOptions = new RequestOptions()\n                .setHost(&quot;127.0.0.1&quot;)\n                .setPort(8080)\n                .setMethod(HttpMethod.GET)\n                .setURI(&quot;/nudr-dr/v1/subscription&quot;);\n                \n        HttpClient client = vertx.createHttpClient(options);\n        client.request(requestOptions)\n                .compose(request -&gt; request.send().compose(response -&gt; response.body()))\n                .onSuccess(body -&gt; System.out.println(&quot;HTTP/2 client received body: &quot; + body.toString()))\n                .onFailure(error -&gt; System.out.println(&quot;HTTP/2 client error: &quot; + error.getCause() + error.getStackTrace()));\n    }\n}\n</code></pre>\n<p>I expected to send the message something like below:</p>\n<pre><code>TCP/IP\n    scr: 172.10.1.5:8080\n    dest: 172.16.10.17:8080\nHTTP2\n    :method: GET\n    :path: /nudr-dr/v1/subscription\n    :scheme: http\n    :authority: localhost\n</code></pre>\n<p>but the message was carrying the path prefixed with scheme and authority information\n:path: http://localhost/nudr-dr/v1/subscription</p>\n<p><a href=\"https://i.stack.imgur.com/N93VX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N93VX.png\" alt=\"WiresharkCapture\" /></a></p>\n<p><strong>Note</strong>: This issue is not observed when the request is sent to the actual destination without setting the proxy option in HttpClient.</p>\n<p>Why it is duplicating scheme and authority in path thought scheme and authority is mandatory and present in the request? Is this expected when it comes to proxy?</p>\n"},{"tags":["java","android","pass-by-reference"],"answers":[{"tags":[],"owner":{"account_id":102127,"reputation":17217,"user_id":274340,"accept_rate":100,"display_name":"onof"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1329462341,"creation_date":1329461946,"answer_id":9324155,"question_id":9324106,"body_markdown":"You cannot pass an int as reference in **Java**. `int` is a primary type, it can be passed only by value. \r\n\r\nIf you still need to pass an int variable as reference you can wrap it in a mutable class, for example an int array:\r\n\r\n    void findsum( int no1, int no2, int[] sum )\r\n    {\r\n      sum[0] = no1 + no2;\r\n    }\r\n\r\nAnyway, I strongly suggest you to refactor your code to be more object oriented, for example:\r\n\r\n    class SumOperation {\r\n       private int value;\r\n    \r\n       public SumOperation(int no1, int no2) {\r\n          this.value = no1 + no2;\r\n       }\r\n    \r\n       public int getReturnValue() { return this.value; }\r\n    }\r\n\r\n","title":"passing reference as parameter in android","body":"<p>You cannot pass an int as reference in <strong>Java</strong>. <code>int</code> is a primary type, it can be passed only by value. </p>\n\n<p>If you still need to pass an int variable as reference you can wrap it in a mutable class, for example an int array:</p>\n\n<pre><code>void findsum( int no1, int no2, int[] sum )\n{\n  sum[0] = no1 + no2;\n}\n</code></pre>\n\n<p>Anyway, I strongly suggest you to refactor your code to be more object oriented, for example:</p>\n\n<pre><code>class SumOperation {\n   private int value;\n\n   public SumOperation(int no1, int no2) {\n      this.value = no1 + no2;\n   }\n\n   public int getReturnValue() { return this.value; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329530102,"creation_date":1329530102,"answer_id":9337839,"question_id":9324106,"body_markdown":"There is no pass by reference in Java.","title":"passing reference as parameter in android","body":"<p>There is no pass by reference in Java.</p>\n"},{"tags":[],"owner":{"account_id":17068051,"reputation":1,"user_id":12349591,"display_name":"Bradley Willcott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687936399,"creation_date":1615621208,"answer_id":66611141,"question_id":9324106,"body_markdown":"This is how I solved this problem:\r\n\r\n```\r\n// By using a wrapper class.\r\n// This also works with Class objects.\r\nclass IntReturn {\r\n    public int val;\r\n}\r\n\r\n// For example:\r\nclass StringReturn {\r\n    public String val;\r\n}\r\n\r\nclass Main {\r\n    public static void main (){\r\n        IntReturn iRtn = new IntReturn();\r\n        \r\n        if(tryAdd(2, 3, iRtn)){\r\n            System.out.println(&quot;tryAdd(2, 3): &quot; + iRtn.val);\r\n        }\r\n    }\r\n\r\n    public static boolean tryAdd(final int a, final int b, final IntReturn iRtn){\r\n        iRtn.val = a + b;\r\n\r\n        return true;  // Just something to use return\r\n    }\r\n}\r\n```\r\n\r\nI have a personal library of these types of classes for this purpose.  Lambdas are another reason for these classes, as you need to have a &#39;final&#39; variable to get a value out of a Lambda, other than by return statement.\r\n\r\nUpdate:  \r\nI have replaced all of my specific wrapper classes\r\nwith a single Generic class:\r\n\r\n```\r\npublic final class Ref&lt;T&gt;\r\n{\r\n    /**\r\n     * The object being held.\r\n     */\r\n    public T val;\r\n\r\n    /**\r\n     * This constructor is &lt;b&gt;private&lt;/b&gt; to prevent instantiation by external\r\n     * clients.\r\n     * &lt;p&gt;\r\n     * This class should &lt;i&gt;only&lt;/i&gt; be instantiated through one of the factory\r\n     * methods:\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;{@link  #val()}&lt;/li&gt;\r\n     * &lt;li&gt;{@link  #val(Object) val(T val)}&lt;/li&gt;\r\n     * &lt;/ul&gt;\r\n     */\r\n    private Ref()\r\n    {\r\n        this.val = null;\r\n    }\r\n\r\n    /**\r\n     * This factory method instantiates an empty Ref object.\r\n     *\r\n     * @param &lt;T&gt; type of object.\r\n     *\r\n     * @return a new instance of the Ref class.\r\n     */\r\n    public static &lt;T&gt; Ref&lt;T&gt; val()\r\n    {\r\n        return new Ref&lt;&gt;();\r\n    }\r\n\r\n    /**\r\n     * This factory method instantiates a Ref object containing {@code val}.\r\n     *\r\n     * @param &lt;T&gt; type of object.\r\n     * @param val the object to be held\r\n     *\r\n     * @return a new instance of the Ref class, initialized with the &#39;val&#39;\r\n     *         object.\r\n     */\r\n    public static &lt;T&gt; Ref&lt;T&gt; val(T val)\r\n    {\r\n        Ref&lt;T&gt; rtn = new Ref&lt;&gt;();\r\n        rtn.val = val;\r\n        return rtn;\r\n    }\r\n\r\n    /**\r\n     * Reset &#39;val&#39; to {@code null}.\r\n     */\r\n    public void clear()\r\n    {\r\n        this.val = null;\r\n    }\r\n\r\n    /**\r\n     * Check to see if this Ref object has not yet been set to a value.\r\n     *\r\n     * @return {@code true} if it hasn&#39;t been set to a value, {@code false}\r\n     *         otherwise.\r\n     */\r\n    public boolean isEmpty()\r\n    {\r\n        return this.val == null;\r\n    }\r\n\r\n    /**\r\n     * Check to see if this Ref object has been set to a value.\r\n     *\r\n     * @return {@code true} if it has been set to a value, {@code false}\r\n     *         otherwise.\r\n     */\r\n    public boolean isPresent()\r\n    {\r\n        return this.val != null;\r\n    }\r\n\r\n    /**\r\n     * Returns a string representation of the object.\r\n     *\r\n     * @implSpec\r\n     * This implementation returns a string consisting of the default conversion\r\n     * to a string, of the object held in {@code val}. This is achieved by\r\n     * calling its {@code toString()} method. If {@code val} is empty, then the\r\n     * empty string is returned: &quot;&quot;.\r\n     *\r\n     * @return a string representation of the object.\r\n     */\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return &quot;&quot; + this.val;\r\n    }\r\n}\r\n```\r\nHere is how it can be used:  \r\n```\r\n ...\r\n     Ref&lt;Integer&gt; iRtn = Ref.val();\r\n\r\n     if(add(2, 3, iRtn)){\r\n         System.out.println(&quot;2 + 3 = &quot; + iRtn.val);\r\n     }\r\n ...\r\n\r\n public boolean add(final int a, final int b, final Ref&lt;Integer&gt; iRtn){\r\n     iRtn.val = a + b;\r\n\r\n     return iRtn.val &gt; 0;  // just something to use up return\r\n }\r\n```\r\nIt may seem as though this would be redundant since I had all of the previously developed wrapper classes. However, now I have only one generic class that can hold anything!","title":"passing reference as parameter in android","body":"<p>This is how I solved this problem:</p>\n<pre><code>// By using a wrapper class.\n// This also works with Class objects.\nclass IntReturn {\n    public int val;\n}\n\n// For example:\nclass StringReturn {\n    public String val;\n}\n\nclass Main {\n    public static void main (){\n        IntReturn iRtn = new IntReturn();\n        \n        if(tryAdd(2, 3, iRtn)){\n            System.out.println(&quot;tryAdd(2, 3): &quot; + iRtn.val);\n        }\n    }\n\n    public static boolean tryAdd(final int a, final int b, final IntReturn iRtn){\n        iRtn.val = a + b;\n\n        return true;  // Just something to use return\n    }\n}\n</code></pre>\n<p>I have a personal library of these types of classes for this purpose.  Lambdas are another reason for these classes, as you need to have a 'final' variable to get a value out of a Lambda, other than by return statement.</p>\n<p>Update:<br />\nI have replaced all of my specific wrapper classes\nwith a single Generic class:</p>\n<pre><code>public final class Ref&lt;T&gt;\n{\n    /**\n     * The object being held.\n     */\n    public T val;\n\n    /**\n     * This constructor is &lt;b&gt;private&lt;/b&gt; to prevent instantiation by external\n     * clients.\n     * &lt;p&gt;\n     * This class should &lt;i&gt;only&lt;/i&gt; be instantiated through one of the factory\n     * methods:\n     * &lt;ul&gt;\n     * &lt;li&gt;{@link  #val()}&lt;/li&gt;\n     * &lt;li&gt;{@link  #val(Object) val(T val)}&lt;/li&gt;\n     * &lt;/ul&gt;\n     */\n    private Ref()\n    {\n        this.val = null;\n    }\n\n    /**\n     * This factory method instantiates an empty Ref object.\n     *\n     * @param &lt;T&gt; type of object.\n     *\n     * @return a new instance of the Ref class.\n     */\n    public static &lt;T&gt; Ref&lt;T&gt; val()\n    {\n        return new Ref&lt;&gt;();\n    }\n\n    /**\n     * This factory method instantiates a Ref object containing {@code val}.\n     *\n     * @param &lt;T&gt; type of object.\n     * @param val the object to be held\n     *\n     * @return a new instance of the Ref class, initialized with the 'val'\n     *         object.\n     */\n    public static &lt;T&gt; Ref&lt;T&gt; val(T val)\n    {\n        Ref&lt;T&gt; rtn = new Ref&lt;&gt;();\n        rtn.val = val;\n        return rtn;\n    }\n\n    /**\n     * Reset 'val' to {@code null}.\n     */\n    public void clear()\n    {\n        this.val = null;\n    }\n\n    /**\n     * Check to see if this Ref object has not yet been set to a value.\n     *\n     * @return {@code true} if it hasn't been set to a value, {@code false}\n     *         otherwise.\n     */\n    public boolean isEmpty()\n    {\n        return this.val == null;\n    }\n\n    /**\n     * Check to see if this Ref object has been set to a value.\n     *\n     * @return {@code true} if it has been set to a value, {@code false}\n     *         otherwise.\n     */\n    public boolean isPresent()\n    {\n        return this.val != null;\n    }\n\n    /**\n     * Returns a string representation of the object.\n     *\n     * @implSpec\n     * This implementation returns a string consisting of the default conversion\n     * to a string, of the object held in {@code val}. This is achieved by\n     * calling its {@code toString()} method. If {@code val} is empty, then the\n     * empty string is returned: &quot;&quot;.\n     *\n     * @return a string representation of the object.\n     */\n    @Override\n    public String toString()\n    {\n        return &quot;&quot; + this.val;\n    }\n}\n</code></pre>\n<p>Here is how it can be used:</p>\n<pre><code> ...\n     Ref&lt;Integer&gt; iRtn = Ref.val();\n\n     if(add(2, 3, iRtn)){\n         System.out.println(&quot;2 + 3 = &quot; + iRtn.val);\n     }\n ...\n\n public boolean add(final int a, final int b, final Ref&lt;Integer&gt; iRtn){\n     iRtn.val = a + b;\n\n     return iRtn.val &gt; 0;  // just something to use up return\n }\n</code></pre>\n<p>It may seem as though this would be redundant since I had all of the previously developed wrapper classes. However, now I have only one generic class that can hold anything!</p>\n"}],"owner":{"account_id":1062511,"reputation":4444,"user_id":1063839,"accept_rate":92,"display_name":"Riskhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8537,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9324155,"answer_count":3,"score":3,"last_activity_date":1687936399,"creation_date":1329461611,"question_id":9324106,"body_markdown":"I am newbie in java/android.  I am a c/c++ developer.  May i know how to pass a reference as parameter in android. An illustrative c sample code shown below\r\n\r\n    void main()\r\n    {\r\n      int no1 = 3, no2 = 2, sum = 0;\r\n      findsum( no1, no2, sum );\r\n      printf(&quot;sum=%d&quot;, sum );\r\n    }\r\n\r\n    void findsum( int no1, int no2, int&amp; sum )\r\n    {\r\n      sum = no1 + no2;\r\n    }\r\n\r\nplease suggest me a solution\r\n\r\nthanks","title":"passing reference as parameter in android","body":"<p>I am newbie in java/android.  I am a c/c++ developer.  May i know how to pass a reference as parameter in android. An illustrative c sample code shown below</p>\n\n<pre><code>void main()\n{\n  int no1 = 3, no2 = 2, sum = 0;\n  findsum( no1, no2, sum );\n  printf(\"sum=%d\", sum );\n}\n\nvoid findsum( int no1, int no2, int&amp; sum )\n{\n  sum = no1 + no2;\n}\n</code></pre>\n\n<p>please suggest me a solution</p>\n\n<p>thanks</p>\n"},{"tags":["java","http","proxy","client","micronaut"],"comments":[{"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"score":0,"creation_date":1687936489,"post_id":76570832,"comment_id":135004956,"body_markdown":"Is this a bug? Note a similar issue was reported for ProxyHttpClient not long ago: https://github.com/micronaut-projects/micronaut-core/issues/6073","body":"Is this a bug? Note a similar issue was reported for ProxyHttpClient not long ago: <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/6073\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues/6073</a>"}],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687936356,"creation_date":1687936356,"question_id":76570832,"body_markdown":"I&#39;m implementing a pattern-based request redirection to another microservice using an HttpFilter. My filter implementation simply executes the request with a custom http client.\r\n```\r\n@Override\r\npublic Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\r\n  return httpClient.exchange(request);\r\n}\r\n```\r\nThe issue I&#39;m facing is that `httpClient` is a [DefaultHttpClient][1] and request is a [NettyHttpRequest][2] and it looks like they are not compatible.\r\n\r\n```\r\n// httpClient.exchange(request) -&gt; ClassCastException on the request\r\njava.lang.ClassCastException: class io.micronaut.http.server.netty.NettyHttpRequest cannot be cast to class io.micronaut.http.MutableHttpRequest\r\n\r\n// httpClient.exchange(request.mutate()) -&gt; ClassCastException on the response\r\njava.lang.ClassCastException: class io.micronaut.http.client.netty.FullNettyClientHttpResponse cannot be cast to class io.micronaut.http.MutableHttpResponse\r\n\r\n```\r\nIs it wrong this approach for forwarding some specific requests to other microservice?\\\r\nIs it wrong to use a DefaultHttpClient in this case? How can I make it work?\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/http/client/netty/DefaultHttpClient.html\r\n  [2]: https://docs.micronaut.io/latest/api/io/micronaut/http/server/netty/NettyHttpRequest.html","title":"Micronaut execute NettyHttpRequest with DefaultHttpClient","body":"<p>I'm implementing a pattern-based request redirection to another microservice using an HttpFilter. My filter implementation simply executes the request with a custom http client.</p>\n<pre><code>@Override\npublic Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\n  return httpClient.exchange(request);\n}\n</code></pre>\n<p>The issue I'm facing is that <code>httpClient</code> is a <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/client/netty/DefaultHttpClient.html\" rel=\"nofollow noreferrer\">DefaultHttpClient</a> and request is a <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/server/netty/NettyHttpRequest.html\" rel=\"nofollow noreferrer\">NettyHttpRequest</a> and it looks like they are not compatible.</p>\n<pre><code>// httpClient.exchange(request) -&gt; ClassCastException on the request\njava.lang.ClassCastException: class io.micronaut.http.server.netty.NettyHttpRequest cannot be cast to class io.micronaut.http.MutableHttpRequest\n\n// httpClient.exchange(request.mutate()) -&gt; ClassCastException on the response\njava.lang.ClassCastException: class io.micronaut.http.client.netty.FullNettyClientHttpResponse cannot be cast to class io.micronaut.http.MutableHttpResponse\n\n</code></pre>\n<p>Is it wrong this approach for forwarding some specific requests to other microservice?<br />\nIs it wrong to use a DefaultHttpClient in this case? How can I make it work?</p>\n"},{"tags":["java","spring-boot","spring-security","amazon-cognito","spring-resource-server"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690314504,"post_id":76569827,"comment_id":135335535,"body_markdown":"I&#39;m curious why the answer below is neither accepted nor upvoted.","body":"I&#39;m curious why the answer below is neither accepted nor upvoted."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687936169,"creation_date":1687936169,"answer_id":76570812,"question_id":76569827,"body_markdown":"I have written [a tutorial][1] with an other approach: have the client send the ID token in addition to the access token (in a different header) and then have Spring Security validate both tokens and build `Authentication` instance using both set of claims (from access and ID tokens).\r\n\r\nThis is useful for Cognito for which you can customize only ID token claims and much more efficient than calling Cognito for each incoming request to your resource server(s).\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_additional-header","title":"How retrieve user information, such as name and email in a Spring Boot that serves as a REST API and utilizes oauth2-resource-server?","body":"<p>I have written <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_additional-header\" rel=\"nofollow noreferrer\">a tutorial</a> with an other approach: have the client send the ID token in addition to the access token (in a different header) and then have Spring Security validate both tokens and build <code>Authentication</code> instance using both set of claims (from access and ID tokens).</p>\n<p>This is useful for Cognito for which you can customize only ID token claims and much more efficient than calling Cognito for each incoming request to your resource server(s).</p>\n"}],"owner":{"account_id":246404,"reputation":231,"user_id":520548,"display_name":"Miletos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687936169,"creation_date":1687922216,"question_id":76569827,"body_markdown":"I have a Spring Boot application that provides a REST API and is using **cognito** and **oauth2-resource-server.** \r\n\r\nMy resources are protected and work correctly when accessed with the ***access_token***. I have this common SecurityConfig: \r\n\r\n```\r\n@Configuration\r\npublic class JWTSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/foos/**&quot;)\r\n            .hasAuthority(&quot;SCOPE_read&quot;)\r\n            .antMatchers(HttpMethod.POST, &quot;/foos&quot;)\r\n            .hasAuthority(&quot;SCOPE_write&quot;)\r\n            .anyRequest()\r\n            .authenticated())\r\n            .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nHowever, I need to fetch additional user information, such as name and email, which are available in either the **userInfo endpoint** or ***id_token*** (not ***access_token***). \r\n\r\nCurrently, as a workaround, I&#39;m making a RestTemplate HTTP call to the userinfo endpoint ```https://{{user_pool_domain}}.auth.{{region}}.amazoncognito.com/oauth2/userinfo``` to retrieve this information. \r\n\r\nHowever, I believe Spring may have a built-in way to handle this automatically, possibly with cache management. \r\n\r\nHow can I achieve this user information without hardcoding the HTTP call?\r\n\r\n","title":"How retrieve user information, such as name and email in a Spring Boot that serves as a REST API and utilizes oauth2-resource-server?","body":"<p>I have a Spring Boot application that provides a REST API and is using <strong>cognito</strong> and <strong>oauth2-resource-server.</strong></p>\n<p>My resources are protected and work correctly when accessed with the <em><strong>access_token</strong></em>. I have this common SecurityConfig:</p>\n<pre><code>@Configuration\npublic class JWTSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/foos/**&quot;)\n            .hasAuthority(&quot;SCOPE_read&quot;)\n            .antMatchers(HttpMethod.POST, &quot;/foos&quot;)\n            .hasAuthority(&quot;SCOPE_write&quot;)\n            .anyRequest()\n            .authenticated())\n            .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n        return http.build();\n    }\n}\n</code></pre>\n<p>However, I need to fetch additional user information, such as name and email, which are available in either the <strong>userInfo endpoint</strong> or <em><strong>id_token</strong></em> (not <em><strong>access_token</strong></em>).</p>\n<p>Currently, as a workaround, I'm making a RestTemplate HTTP call to the userinfo endpoint <code>https://{{user_pool_domain}}.auth.{{region}}.amazoncognito.com/oauth2/userinfo</code> to retrieve this information.</p>\n<p>However, I believe Spring may have a built-in way to handle this automatically, possibly with cache management.</p>\n<p>How can I achieve this user information without hardcoding the HTTP call?</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687845501,"post_id":76561227,"comment_id":134989578,"body_markdown":"can you add codebase for Company, ListServices classes (and maybe Project and User too) to be able to help","body":"can you add codebase for Company, ListServices classes (and maybe Project and User too) to be able to help"}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687935883,"creation_date":1687849586,"answer_id":76562376,"question_id":76561227,"body_markdown":"I think you are a victim of a bad design. You are **exposing your database entity objects via REST controller**, which is [considered as antipattern][1]. Apart from the bad architecture, it **brings you the technical problems you are facing**.\r\n\r\nIdeally you should have [three layers][2] (repository/entities, domain/business logic, enpoint/data tranfser objects). Each layer should have their own objects, which should not mix, even if they look more or less the same.\r\n\r\nThe reason is, among others, that you are *free to change* (and *free to keep stable*) your API and your database model *separately from each other*. It also gives you free hands to design each layer&#39;s objects optimally for their purpose.\r\n\r\nMapping between the objects from different layers does not cost you much work, you may use a framework such as [MapStruct][3].\r\n\r\nIf you omit the service layer, at least you should not expose your database entities via endpoints.\r\n\r\n**Create a separate `ListingDto` and `ProjectDto`** and use a mapper to fill them with the data from your `Listing` and `Project` objects. The entity should be designed for the database, and **DTO should be designed for JSON serialization/deserialization**. Most probably if the DTOs are ([Lombok][4]-powered) [POJO][5]s tailored for you API, you will not even need any JSON annotations at all!\r\n\r\nDatabase and REST API are two different worlds - do not mix them. `&lt;opinionated&gt;`Hibernate aka [ORM is antipattern][6] on its own`&lt;/opinionated&gt;`, but mixing it with JSON serialization is a design disaster *per se*.\r\n\r\nThus you will give your program a proper design, and as an extra reward your Jackson will not have to bother with the hibernate crap and your problem will be solved for free. \r\n\r\nADDED: In case you have problems with Lombok + MapStruct, which sometimes do not cooperate well, there is a Maven config for it. See the aswers to https://stackoverflow.com/q/47676369/2886891\r\n\r\n  [1]: https://thorben-janssen.com/dont-expose-entities-in-api/\r\n  [2]: https://en.wikipedia.org/wiki/Multitier_architecture#Three-tier_architecture\r\n  [3]: https://mapstruct.org/\r\n  [4]: https://projectlombok.org/\r\n  [5]: https://www.baeldung.com/java-pojo-class\r\n  [6]: https://www.google.com/search?q=orm%20is%20antipattern","title":"No serializer found for class ByteBuddyInterceptor","body":"<p>I think you are a victim of a bad design. You are <strong>exposing your database entity objects via REST controller</strong>, which is <a href=\"https://thorben-janssen.com/dont-expose-entities-in-api/\" rel=\"nofollow noreferrer\">considered as antipattern</a>. Apart from the bad architecture, it <strong>brings you the technical problems you are facing</strong>.</p>\n<p>Ideally you should have <a href=\"https://en.wikipedia.org/wiki/Multitier_architecture#Three-tier_architecture\" rel=\"nofollow noreferrer\">three layers</a> (repository/entities, domain/business logic, enpoint/data tranfser objects). Each layer should have their own objects, which should not mix, even if they look more or less the same.</p>\n<p>The reason is, among others, that you are <em>free to change</em> (and <em>free to keep stable</em>) your API and your database model <em>separately from each other</em>. It also gives you free hands to design each layer's objects optimally for their purpose.</p>\n<p>Mapping between the objects from different layers does not cost you much work, you may use a framework such as <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>.</p>\n<p>If you omit the service layer, at least you should not expose your database entities via endpoints.</p>\n<p><strong>Create a separate <code>ListingDto</code> and <code>ProjectDto</code></strong> and use a mapper to fill them with the data from your <code>Listing</code> and <code>Project</code> objects. The entity should be designed for the database, and <strong>DTO should be designed for JSON serialization/deserialization</strong>. Most probably if the DTOs are (<a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a>-powered) <a href=\"https://www.baeldung.com/java-pojo-class\" rel=\"nofollow noreferrer\">POJO</a>s tailored for you API, you will not even need any JSON annotations at all!</p>\n<p>Database and REST API are two different worlds - do not mix them. <code>&lt;opinionated&gt;</code>Hibernate aka <a href=\"https://www.google.com/search?q=orm%20is%20antipattern\" rel=\"nofollow noreferrer\">ORM is antipattern</a> on its own<code>&lt;/opinionated&gt;</code>, but mixing it with JSON serialization is a design disaster <em>per se</em>.</p>\n<p>Thus you will give your program a proper design, and as an extra reward your Jackson will not have to bother with the hibernate crap and your problem will be solved for free.</p>\n<p>ADDED: In case you have problems with Lombok + MapStruct, which sometimes do not cooperate well, there is a Maven config for it. See the aswers to <a href=\"https://stackoverflow.com/q/47676369/2886891\">MapStruct and Lombok not working together</a></p>\n"}],"owner":{"account_id":3557535,"reputation":2460,"user_id":2970890,"accept_rate":71,"display_name":"Ascendant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76562376,"answer_count":1,"score":0,"last_activity_date":1687935883,"creation_date":1687832269,"question_id":76561227,"body_markdown":"I kept getting this error while calling an API (under development) in my spring boot app:\r\n\r\n```\r\njava.base/java.lang.Thread.run(Thread.java:1623)\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \r\nNo serializer found for class \r\norg.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor \r\nand no properties discovered to create BeanSerializer \r\n(to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) \r\n(through reference chain: com.example.service.model.Listing[\\&quot;project\\&quot;]-\r\n&gt;com.example.service.model.Project[\\&quot;user\\&quot;]-&gt;com.example.service.model.User$HibernateProxy$Nf8nVUyV[\\&quot;company\\&quot;]-\r\n&gt;com.example.service.model.Company$HibernateProxy$ulaPUlxC[\\&quot;hibernateLazyInitializer\\&quot;])\r\n```\r\n\r\nFrom my research, it looks like it&#39;s caused by Jackson not being able to serialize the object into json.\r\n\r\nHere&#39;s my code exerpts:\r\n\r\nModel:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;listing&quot;)\r\npublic class Listing {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;)\r\n  private Long id;\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  private Project project;\r\n\r\n  @NotNull\r\n  @Column(name = &quot;limit&quot;)\r\n  private Integer limit;\r\n\r\n  ...\r\n}\r\n```\r\n\r\nController:\r\n\r\n```\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(&quot;/listing&quot;)\r\npublic class ListingController {\r\n  private final ListingService listingService;\r\n\r\n  @PostMapping\r\n  public ResponseEntity&lt;?&gt; create(@Valid @RequestBody CreateListingRequest request) {\r\n    Listing listing = listingService.create(request);\r\n    return new ResponseEntity&lt;&gt;(listing,  HttpStatus.CREATED);\r\n  }\r\n```\r\n\r\nI set the breakpoint on the return line in the controller while debugging and observed a valid object constructed before it was serialized, so everything up to the serialization step is working.\r\n\r\nWhat I&#39;ve tried:\r\n- Turning off `spring.jackson.serialization.FAIL_ON_EMPTY_BEANS` through both `application.properties` file and via a custom bean:\r\n```\r\n  @Bean\r\n  @Primary\r\n  public ObjectMapper objectMapper() {\r\n    return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n        .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n  }\r\n```\r\n- Setting visibility to &quot;visible to all&quot; (via the bean code above). But this shouldn&#39;t be necessary since Lombok does this already through annotations in the model;\r\n- Setting `FetchType` from `LAZY` to `EAGER`;\r\n- Adding `@JoinColumn` annotation for `project` field;\r\n- Adding the `@OneToMany` counterpart in the `Project` class (with property `listings`);\r\n- Adding `@JsonIgnore` for `project` property. This *actually solves the problem, but* this causes problem with deserialization - the `project` field becomes null during deserilization;\r\n\r\nI&#39;m looking for a way to make this work for both serialization and deserialization. \r\n\r\n","title":"No serializer found for class ByteBuddyInterceptor","body":"<p>I kept getting this error while calling an API (under development) in my spring boot app:</p>\n<pre><code>java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \nNo serializer found for class \norg.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor \nand no properties discovered to create BeanSerializer \n(to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) \n(through reference chain: com.example.service.model.Listing[\\&quot;project\\&quot;]-\n&gt;com.example.service.model.Project[\\&quot;user\\&quot;]-&gt;com.example.service.model.User$HibernateProxy$Nf8nVUyV[\\&quot;company\\&quot;]-\n&gt;com.example.service.model.Company$HibernateProxy$ulaPUlxC[\\&quot;hibernateLazyInitializer\\&quot;])\n</code></pre>\n<p>From my research, it looks like it's caused by Jackson not being able to serialize the object into json.</p>\n<p>Here's my code exerpts:</p>\n<p>Model:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;listing&quot;)\npublic class Listing {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private Long id;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;)\n  private Project project;\n\n  @NotNull\n  @Column(name = &quot;limit&quot;)\n  private Integer limit;\n\n  ...\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;/listing&quot;)\npublic class ListingController {\n  private final ListingService listingService;\n\n  @PostMapping\n  public ResponseEntity&lt;?&gt; create(@Valid @RequestBody CreateListingRequest request) {\n    Listing listing = listingService.create(request);\n    return new ResponseEntity&lt;&gt;(listing,  HttpStatus.CREATED);\n  }\n</code></pre>\n<p>I set the breakpoint on the return line in the controller while debugging and observed a valid object constructed before it was serialized, so everything up to the serialization step is working.</p>\n<p>What I've tried:</p>\n<ul>\n<li>Turning off <code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS</code> through both <code>application.properties</code> file and via a custom bean:</li>\n</ul>\n<pre><code>  @Bean\n  @Primary\n  public ObjectMapper objectMapper() {\n    return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)\n        .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n  }\n</code></pre>\n<ul>\n<li>Setting visibility to &quot;visible to all&quot; (via the bean code above). But this shouldn't be necessary since Lombok does this already through annotations in the model;</li>\n<li>Setting <code>FetchType</code> from <code>LAZY</code> to <code>EAGER</code>;</li>\n<li>Adding <code>@JoinColumn</code> annotation for <code>project</code> field;</li>\n<li>Adding the <code>@OneToMany</code> counterpart in the <code>Project</code> class (with property <code>listings</code>);</li>\n<li>Adding <code>@JsonIgnore</code> for <code>project</code> property. This <em>actually solves the problem, but</em> this causes problem with deserialization - the <code>project</code> field becomes null during deserilization;</li>\n</ul>\n<p>I'm looking for a way to make this work for both serialization and deserialization.</p>\n"},{"tags":["java","java-native-interface","cudd"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1687873446,"post_id":76563302,"comment_id":134995565,"body_markdown":"Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives","body":"Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives"}],"answers":[{"tags":[],"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687935815,"creation_date":1687935815,"answer_id":76570773,"question_id":76563302,"body_markdown":"&gt; Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives – \r\nBotje\r\n\r\nThe random guess was wrong about the reason, but the comment still super helpful:\r\nComparing the output of `dumpbin /EXPORT` quickly revealed, that the _cudd.dll_, shipped with the JavaBDD library is not of the same source as libcudd.dll.\r\n\r\nInstead it is a compilation of specialised JNI interface implementation, that is shipped with the source code of the JavaBDD library.\r\nUnfortunately, the project uses deprecated features of Java 8 in both code an build script, so that it will take some effort to get it running.","title":"JavaBDD and CUDD on a 64bit Windows Machine","body":"<blockquote>\n<p>Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives –\nBotje</p>\n</blockquote>\n<p>The random guess was wrong about the reason, but the comment still super helpful:\nComparing the output of <code>dumpbin /EXPORT</code> quickly revealed, that the <em>cudd.dll</em>, shipped with the JavaBDD library is not of the same source as libcudd.dll.</p>\n<p>Instead it is a compilation of specialised JNI interface implementation, that is shipped with the source code of the JavaBDD library.\nUnfortunately, the project uses deprecated features of Java 8 in both code an build script, so that it will take some effort to get it running.</p>\n"}],"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687935815,"creation_date":1687856854,"question_id":76563302,"body_markdown":"I have troubles getting JavaBDD working on a 64bit (Windows*) Machine with the CUDD (or BuDDy) backend.\r\n\r\nI obtained a copy of JavaBDD from [here](https://javabdd.sourceforge.net/installing.html).  \r\nIt shipps with a number of backend 32bit _.dll_-s, which are useless on a 64bit JVM.  \r\nHence, I tried to compile the CUDD library from the [source (mirror)](https://github.com/ivmai/cudd.git).\r\n\r\nI used mingw-64 on an Ubuntu WSL.\r\n\r\n```\r\ngit clone https://github.com/ivmai/cudd.git .\r\naclocal\r\nautomake\r\nmkdir build\r\ncd build\r\n../configure --enable-shared --enable-dddmp --enable-obj --host=x86_64-w64-mingw32 --build=x86_64-linux-gnu --prefix=... (local directory)\r\nmake\r\nmake install\r\n```\r\n\r\nAs expected, I find the _libcudd-3-0-0-0.dll_ in my _--prefix_ directory.  \r\nI rename the dll to _cudd.dll_, as this is the name, JavaBDD is searching for, and copy it in the right place (e.g. in the directory from which I will run my JAR).\r\n\r\nWhen I was trying to load the dll, that was shipped with JavaBDD, the library could not b loaded at all. Now with the newly compiled library, it apparently loads the lib (`NativeLibraries::findFromPaths(...)` returns a `NativeLibrary`, loaded from the expected path).\r\n\r\nRight after that (? at CUDDFactory.registerNatives(), in which I could not step into, or during some unknown static code snippets ?) an `UnsatisfiedLinkageError` is thrown.\r\n\r\n```\r\nUnsatisfiedLinkageError {\r\n   DetailMessage: net/sf/javabdd/CUDDFactory.registerNatives()V\r\n}\r\n```\r\n\r\nI hope I provided enough detail, that someone may shine light on my mistakes and help me, get this running. If more detail is necessary, feel free to ask.\r\n\r\n\r\n(* I haven&#39;t tried it on other OS)\r\n\r\n_I have already consulted ChatGPT on this matter. It was imaginative, but useless._\r\n\r\n---\r\n\r\nA small JUnit Test as MVC for the Java Part:\r\n\r\n```\r\n    @Test\r\n    public void registerNativeTest() {\r\n        System.loadLibrary(&quot;cudd&quot;);\r\n        registerNatives();\r\n    }\r\n\r\n    private static native void registerNatives();\r\n```","title":"JavaBDD and CUDD on a 64bit Windows Machine","body":"<p>I have troubles getting JavaBDD working on a 64bit (Windows*) Machine with the CUDD (or BuDDy) backend.</p>\n<p>I obtained a copy of JavaBDD from <a href=\"https://javabdd.sourceforge.net/installing.html\" rel=\"nofollow noreferrer\">here</a>.<br />\nIt shipps with a number of backend 32bit <em>.dll</em>-s, which are useless on a 64bit JVM.<br />\nHence, I tried to compile the CUDD library from the <a href=\"https://github.com/ivmai/cudd.git\" rel=\"nofollow noreferrer\">source (mirror)</a>.</p>\n<p>I used mingw-64 on an Ubuntu WSL.</p>\n<pre><code>git clone https://github.com/ivmai/cudd.git .\naclocal\nautomake\nmkdir build\ncd build\n../configure --enable-shared --enable-dddmp --enable-obj --host=x86_64-w64-mingw32 --build=x86_64-linux-gnu --prefix=... (local directory)\nmake\nmake install\n</code></pre>\n<p>As expected, I find the <em>libcudd-3-0-0-0.dll</em> in my <em>--prefix</em> directory.<br />\nI rename the dll to <em>cudd.dll</em>, as this is the name, JavaBDD is searching for, and copy it in the right place (e.g. in the directory from which I will run my JAR).</p>\n<p>When I was trying to load the dll, that was shipped with JavaBDD, the library could not b loaded at all. Now with the newly compiled library, it apparently loads the lib (<code>NativeLibraries::findFromPaths(...)</code> returns a <code>NativeLibrary</code>, loaded from the expected path).</p>\n<p>Right after that (? at CUDDFactory.registerNatives(), in which I could not step into, or during some unknown static code snippets ?) an <code>UnsatisfiedLinkageError</code> is thrown.</p>\n<pre><code>UnsatisfiedLinkageError {\n   DetailMessage: net/sf/javabdd/CUDDFactory.registerNatives()V\n}\n</code></pre>\n<p>I hope I provided enough detail, that someone may shine light on my mistakes and help me, get this running. If more detail is necessary, feel free to ask.</p>\n<p>(* I haven't tried it on other OS)</p>\n<p><em>I have already consulted ChatGPT on this matter. It was imaginative, but useless.</em></p>\n<hr />\n<p>A small JUnit Test as MVC for the Java Part:</p>\n<pre><code>    @Test\n    public void registerNativeTest() {\n        System.loadLibrary(&quot;cudd&quot;);\n        registerNatives();\n    }\n\n    private static native void registerNatives();\n</code></pre>\n"},{"tags":["java","monitoring","influxdb","grafana"],"answers":[{"tags":[],"owner":{"account_id":5669705,"reputation":11,"user_id":4484769,"display_name":"raj dutt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424369831,"creation_date":1421973125,"answer_id":28101164,"question_id":27925875,"body_markdown":"InfluxDB is going to be the easiest to set up between the supported options. It&#39;s still very much a moving target though, although they&#39;re working hard to release a stable version.\r\n\r\nThe only way to visualize data in Grafana right now is through one of those databases.\r\n\r\n","title":"How to connect Java to Grafana","body":"<p>InfluxDB is going to be the easiest to set up between the supported options. It's still very much a moving target though, although they're working hard to release a stable version.</p>\n\n<p>The only way to visualize data in Grafana right now is through one of those databases.</p>\n"},{"tags":[],"owner":{"account_id":6724958,"reputation":4008,"user_id":5183341,"accept_rate":97,"display_name":"IIIIIIIIIIIIIIIIIIIIII"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521203528,"creation_date":1521203528,"answer_id":49320863,"question_id":27925875,"body_markdown":"Grafana is &#39;just&#39; a tool to display time series. Which means you will need an additional time series database between your java apllication and grafana. \r\n\r\nYou can find the current list of supported databases on their offical website:  [Datasources][1]\r\n\r\nAs you mentioned influxdb, you might want to have a look at this [influxdb-java][2] project\r\n\r\n\r\n  [1]: https://grafana.com/plugins?type=datasource\r\n  [2]: https://github.com/influxdata/influxdb-java","title":"How to connect Java to Grafana","body":"<p>Grafana is 'just' a tool to display time series. Which means you will need an additional time series database between your java apllication and grafana. </p>\n\n<p>You can find the current list of supported databases on their offical website:  <a href=\"https://grafana.com/plugins?type=datasource\" rel=\"nofollow noreferrer\">Datasources</a></p>\n\n<p>As you mentioned influxdb, you might want to have a look at this <a href=\"https://github.com/influxdata/influxdb-java\" rel=\"nofollow noreferrer\">influxdb-java</a> project</p>\n"},{"tags":[],"owner":{"account_id":519339,"reputation":107,"user_id":2315971,"display_name":"Atem18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562057518,"creation_date":1562057518,"answer_id":56848702,"question_id":27925875,"body_markdown":"For monitoring with Grafana, I recommand Prometheus (https://prometheus.io/docs/prometheus/latest/getting_started/) with the JMX exporter in your case : https://github.com/prometheus/jmx_exporter.\r\n\r\nYou can add more exporter if you need (https://prometheus.io/docs/instrumenting/exporters/), you can expose your app&#39;s metrics to prometheus, etc.\r\n\r\nPrometheus is a fully integrated monitoring solution, just the graphs are limited because you cannot make dashboards, but for that you have Grafana :)","title":"How to connect Java to Grafana","body":"<p>For monitoring with Grafana, I recommand Prometheus (<a href=\"https://prometheus.io/docs/prometheus/latest/getting_started/\" rel=\"nofollow noreferrer\">https://prometheus.io/docs/prometheus/latest/getting_started/</a>) with the JMX exporter in your case : <a href=\"https://github.com/prometheus/jmx_exporter\" rel=\"nofollow noreferrer\">https://github.com/prometheus/jmx_exporter</a>.</p>\n\n<p>You can add more exporter if you need (<a href=\"https://prometheus.io/docs/instrumenting/exporters/\" rel=\"nofollow noreferrer\">https://prometheus.io/docs/instrumenting/exporters/</a>), you can expose your app's metrics to prometheus, etc.</p>\n\n<p>Prometheus is a fully integrated monitoring solution, just the graphs are limited because you cannot make dashboards, but for that you have Grafana :)</p>\n"},{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687935450,"creation_date":1687935450,"answer_id":76570742,"question_id":27925875,"body_markdown":"If you&#39;re looking for a quick way to try out Grafana with Java, you can try the [OpenTelemetry integration for Grafana Cloud](https://grafana.com/docs/grafana-cloud/data-configuration/integrations/integration-reference/integration-opentelemetry/). \r\n\r\nIt uses Prometheus for metrics, and also supports logs and traces. If you want, you can run the same setup with Grafana Open Source, which is also described in the same article.","title":"How to connect Java to Grafana","body":"<p>If you're looking for a quick way to try out Grafana with Java, you can try the <a href=\"https://grafana.com/docs/grafana-cloud/data-configuration/integrations/integration-reference/integration-opentelemetry/\" rel=\"nofollow noreferrer\">OpenTelemetry integration for Grafana Cloud</a>.</p>\n<p>It uses Prometheus for metrics, and also supports logs and traces. If you want, you can run the same setup with Grafana Open Source, which is also described in the same article.</p>\n"}],"owner":{"account_id":4864382,"reputation":279,"user_id":3923124,"accept_rate":0,"display_name":"user3923124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12177,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1687935450,"creation_date":1421163744,"question_id":27925875,"body_markdown":"I really like the capabilities of Grafana for graphing metrics over time and showing a nice dashboard.  I&#39;d like to use it to track CPU, Mem, etc throughout my deployment environment.  I&#39;d also like to use it to track some numbers from my Java programs.  How can I connect Java to Grafana?\r\n\r\nGrafana supports three different database solutions (graphite, influxdb, OpenTSDB).  I am not using any of these at the moment.  But influxdb looks easy to setup.  I&#39;m really just looking for something simple and future-proof.  It will only monitor a few servers for now, but it may grow in time.  Is there an easy way to push a single Java integer with a label and timestamp into Grafana.  I&#39;m thinking there must be something like log4j for metrics.  But I also need to decide which database to use, but hopefully that would be abstracted out of the interface.  Any advice?","title":"How to connect Java to Grafana","body":"<p>I really like the capabilities of Grafana for graphing metrics over time and showing a nice dashboard.  I'd like to use it to track CPU, Mem, etc throughout my deployment environment.  I'd also like to use it to track some numbers from my Java programs.  How can I connect Java to Grafana?</p>\n\n<p>Grafana supports three different database solutions (graphite, influxdb, OpenTSDB).  I am not using any of these at the moment.  But influxdb looks easy to setup.  I'm really just looking for something simple and future-proof.  It will only monitor a few servers for now, but it may grow in time.  Is there an easy way to push a single Java integer with a label and timestamp into Grafana.  I'm thinking there must be something like log4j for metrics.  But I also need to decide which database to use, but hopefully that would be abstracted out of the interface.  Any advice?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1687350710,"post_id":76523284,"comment_id":134924132,"body_markdown":"i have the next project (https://github.com/wilson1234567891962/ProyectoAndes-Backend/tree/main), it creates the automatic tables. maybe you can try with the project that i  have","body":"i have the next project (<a href=\"https://github.com/wilson1234567891962/ProyectoAndes-Backend/tree/main\" rel=\"nofollow noreferrer\">github.com/wilson1234567891962/ProyectoAndes-Backend/tree/m&zwnj;&#8203;ain</a>), it creates the automatic tables. maybe you can try with the project that i  have"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687350829,"post_id":76523284,"comment_id":134924165,"body_markdown":"Remove `hibernate-jpa-2.1-api`, fix the compilation errors (`javax.persistence` -&gt; `jakarta.persistence`), re-run project.","body":"Remove <code>hibernate-jpa-2.1-api</code>, fix the compilation errors (<code>javax.persistence</code> -&gt; <code>jakarta.persistence</code>), re-run project."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687790751,"post_id":76523284,"comment_id":134982297,"body_markdown":"@Loran - did you check our comments and answers? Please update on any progress you made.","body":"@Loran - did you check our comments and answers? Please update on any progress you made."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687777940,"creation_date":1687352140,"answer_id":76523524,"question_id":76523284,"body_markdown":"You have way too many starters dependencies in your pom.xml. Some of them are conflicting and causing the Spring Boot auto-configuration to back-off.\r\n\r\n1. The best way to start with project dependencies is to use the Spring site [https://start.spring.io][1] Select `Maven` and add only `Spring Web`, `Spring Data JPA` and `MySQL` dependencies. Download `pom.xml` and test.\r\n2. Please check if your Entity class has a no-args constructor. I can&#39;t see it. \r\n3. Use `com.example` package in all your classes. This will allow Spring smoothly auto-configure JPA.\r\n4. Remove following properties as they will only confuse the auto-configuration. Spring Data JPA Starter will derive those parameters from the datasource url string.\r\n```\r\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\r\nspring.jpa.database= MYSQL\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n```\r\n\r\n\r\n  [1]: https://start.spring.io","title":"Entities Not Being Created in Database Using Spring Boot, JPA, MySQL and Spring Data REST","body":"<p>You have way too many starters dependencies in your pom.xml. Some of them are conflicting and causing the Spring Boot auto-configuration to back-off.</p>\n<ol>\n<li>The best way to start with project dependencies is to use the Spring site <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> Select <code>Maven</code> and add only <code>Spring Web</code>, <code>Spring Data JPA</code> and <code>MySQL</code> dependencies. Download <code>pom.xml</code> and test.</li>\n<li>Please check if your Entity class has a no-args constructor. I can't see it.</li>\n<li>Use <code>com.example</code> package in all your classes. This will allow Spring smoothly auto-configure JPA.</li>\n<li>Remove following properties as they will only confuse the auto-configuration. Spring Data JPA Starter will derive those parameters from the datasource url string.</li>\n</ol>\n<pre><code>spring.datasource.driverClassName = com.mysql.jdbc.Driver\nspring.jpa.database= MYSQL\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687935121,"creation_date":1687935121,"answer_id":76570699,"question_id":76523284,"body_markdown":"Try with this dialect\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect","title":"Entities Not Being Created in Database Using Spring Boot, JPA, MySQL and Spring Data REST","body":"<p>Try with this dialect</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"}],"owner":{"account_id":25612964,"reputation":35,"user_id":19386079,"display_name":"Loran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687935121,"creation_date":1687350393,"question_id":76523284,"body_markdown":"I&#39;m currently working on a RESTful backend API using Spring Boot, MySQL for data persistence, JPA for ORM and Spring Data REST to expose the repositories as RESTful endpoints. However, I&#39;ve run into a problem: the entities I&#39;ve defined in Java aren&#39;t being created as tables in my MySQL database.\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String nom;\r\n    private String adresseEmail;\r\n    private String motDePasse;\r\n    private String numeroTelephone;\r\n    private String role;\r\n\r\n// getters and setters\r\n}\r\n```\r\nI have configured the spring.jpa.hibernate.ddl-auto property in my application.properties file as follows:\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test?useSSL=true&amp;createDatabaseIfNotExist=true\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\r\nserver.port=4443\r\nspring.jpa.database= MYSQL\r\nspring.jpa.hibernate.ddl-auto= update\r\nspring.jpa.show-sql = true\r\nspring.jackson.serialization.fail-on-empty-beans=false\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\n```\r\n\r\nhere pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Transport0001&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Transport0001&lt;/name&gt;\r\n    &lt;description&gt;Transport0001&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;version&gt;5.1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nlogs when i launch the project :\r\n\r\n```\r\n2023-06-21T13:15:59.276+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Starting Transport0001Application using Java 17.0.7 with PID 5728 (C:\\Users\\master\\eclipse-workspace1\\Transport0001\\target\\classes started by master in C:\\Users\\master\\eclipse-workspace1\\Transport0001)\r\n2023-06-21T13:15:59.340+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-06-21T13:15:59.747+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-06-21T13:15:59.748+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-06-21T13:16:02.215+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-06-21T13:16:02.217+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n2023-06-21T13:16:02.251+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.\r\n2023-06-21T13:16:02.286+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-06-21T13:16:02.287+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-06-21T13:16:02.301+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.\r\n2023-06-21T13:16:04.581+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 4443 (http)\r\n2023-06-21T13:16:04.630+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-06-21T13:16:04.631+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-06-21T13:16:04.852+02:00  INFO 5728 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-06-21T13:16:04.856+02:00  INFO 5728 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5103 ms\r\n2023-06-21T13:16:05.619+02:00  INFO 5728 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-06-21T13:16:06.263+02:00  INFO 5728 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.2.Final\r\n2023-06-21T13:16:06.276+02:00  INFO 5728 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-06-21T13:16:06.733+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-06-21T13:16:07.260+02:00  INFO 5728 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-06-21T13:16:07.380+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-06-21T13:16:07.835+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (Receiver class com.mysql.jdbc.JDBC4Connection does not define or inherit an implementation of the resolved method &#39;abstract int getNetworkTimeout()&#39; of interface java.sql.Connection.)\r\n2023-06-21T13:16:07.837+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.jdbc.JDBC4Connection@6352190f\r\n2023-06-21T13:16:07.840+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-06-21T13:16:08.065+02:00  WARN 5728 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\r\n2023-06-21T13:16:08.101+02:00  INFO 5728 --- [  restartedMain] org.hibernate.orm.dialect                : HHH035001: Using dialect: org.hibernate.dialect.MySQLDialect, version: 5.5\r\n2023-06-21T13:16:08.429+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-06-21T13:16:09.720+02:00  INFO 5728 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-06-21T13:16:09.744+02:00  INFO 5728 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-06-21T13:16:09.847+02:00  WARN 5728 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-06-21T13:16:11.805+02:00  WARN 5728 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\nUsing generated security password: b759bb29-f74e-49ea-8d9b-bb3e07b9e72f\r\n\r\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\r\n\r\n2023-06-21T13:16:12.196+02:00  INFO 5728 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ef58939, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@436b80ed, org.springframework.security.web.context.SecurityContextHolderFilter@3d2e649, org.springframework.security.web.header.HeaderWriterFilter@2bd17f0e, org.springframework.security.web.csrf.CsrfFilter@5689f52a, org.springframework.security.web.authentication.logout.LogoutFilter@48e8a2e0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3bc86bf8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7527e759, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2992894d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23cdc3c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7498978a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@474e210b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f32e85e, org.springframework.security.web.access.ExceptionTranslationFilter@1f656006, org.springframework.security.web.access.intercept.AuthorizationFilter@533704c5]\r\n2023-06-21T13:16:12.288+02:00  WARN 5728 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\r\n2023-06-21T13:16:12.412+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 4443 (http) with context path &#39;&#39;\r\n2023-06-21T13:16:12.434+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Started Transport0001Application in 15.199 seconds (process running for 22.007)\r\n```\r\nDespite this configuration, the user table is not being created in mydatabase. There are no error messages shown in the console, and the application starts up normally.\r\n\r\nI&#39;ve tried the following troubleshooting steps:\r\n\r\nChecked if the database connection is established correctly.\r\n\r\nVerified the entity class for any syntax errors.\r\n\r\nTried different settings for spring.jpa.hibernate.ddl-auto.\r\nUnfortunately, none of these steps has resolved my issue. Could anyone provide some guidance on what might be going wrong? Thanks in advance!\r\n\r\n\r\n\r\n","title":"Entities Not Being Created in Database Using Spring Boot, JPA, MySQL and Spring Data REST","body":"<p>I'm currently working on a RESTful backend API using Spring Boot, MySQL for data persistence, JPA for ORM and Spring Data REST to expose the repositories as RESTful endpoints. However, I've run into a problem: the entities I've defined in Java aren't being created as tables in my MySQL database.</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String nom;\n    private String adresseEmail;\n    private String motDePasse;\n    private String numeroTelephone;\n    private String role;\n\n// getters and setters\n}\n</code></pre>\n<p>I have configured the spring.jpa.hibernate.ddl-auto property in my application.properties file as follows:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test?useSSL=true&amp;createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\nserver.port=4443\nspring.jpa.database= MYSQL\nspring.jpa.hibernate.ddl-auto= update\nspring.jpa.show-sql = true\nspring.jackson.serialization.fail-on-empty-beans=false\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n\n</code></pre>\n<p>here pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Transport0001&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Transport0001&lt;/name&gt;\n    &lt;description&gt;Transport0001&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;5.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>logs when i launch the project :</p>\n<pre><code>2023-06-21T13:15:59.276+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Starting Transport0001Application using Java 17.0.7 with PID 5728 (C:\\Users\\master\\eclipse-workspace1\\Transport0001\\target\\classes started by master in C:\\Users\\master\\eclipse-workspace1\\Transport0001)\n2023-06-21T13:15:59.340+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-21T13:15:59.747+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-06-21T13:15:59.748+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-06-21T13:16:02.215+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-06-21T13:16:02.217+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2023-06-21T13:16:02.251+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.\n2023-06-21T13:16:02.286+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-06-21T13:16:02.287+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-06-21T13:16:02.301+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.\n2023-06-21T13:16:04.581+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 4443 (http)\n2023-06-21T13:16:04.630+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-21T13:16:04.631+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-06-21T13:16:04.852+02:00  INFO 5728 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-06-21T13:16:04.856+02:00  INFO 5728 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5103 ms\n2023-06-21T13:16:05.619+02:00  INFO 5728 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-06-21T13:16:06.263+02:00  INFO 5728 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.2.Final\n2023-06-21T13:16:06.276+02:00  INFO 5728 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-06-21T13:16:06.733+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-06-21T13:16:07.260+02:00  INFO 5728 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-06-21T13:16:07.380+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-06-21T13:16:07.835+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (Receiver class com.mysql.jdbc.JDBC4Connection does not define or inherit an implementation of the resolved method 'abstract int getNetworkTimeout()' of interface java.sql.Connection.)\n2023-06-21T13:16:07.837+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.jdbc.JDBC4Connection@6352190f\n2023-06-21T13:16:07.840+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-06-21T13:16:08.065+02:00  WARN 5728 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\n2023-06-21T13:16:08.101+02:00  INFO 5728 --- [  restartedMain] org.hibernate.orm.dialect                : HHH035001: Using dialect: org.hibernate.dialect.MySQLDialect, version: 5.5\n2023-06-21T13:16:08.429+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-06-21T13:16:09.720+02:00  INFO 5728 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-06-21T13:16:09.744+02:00  INFO 5728 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-06-21T13:16:09.847+02:00  WARN 5728 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-06-21T13:16:11.805+02:00  WARN 5728 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: b759bb29-f74e-49ea-8d9b-bb3e07b9e72f\n\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\n\n2023-06-21T13:16:12.196+02:00  INFO 5728 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ef58939, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@436b80ed, org.springframework.security.web.context.SecurityContextHolderFilter@3d2e649, org.springframework.security.web.header.HeaderWriterFilter@2bd17f0e, org.springframework.security.web.csrf.CsrfFilter@5689f52a, org.springframework.security.web.authentication.logout.LogoutFilter@48e8a2e0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3bc86bf8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7527e759, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2992894d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23cdc3c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7498978a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@474e210b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f32e85e, org.springframework.security.web.access.ExceptionTranslationFilter@1f656006, org.springframework.security.web.access.intercept.AuthorizationFilter@533704c5]\n2023-06-21T13:16:12.288+02:00  WARN 5728 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\n2023-06-21T13:16:12.412+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 4443 (http) with context path ''\n2023-06-21T13:16:12.434+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Started Transport0001Application in 15.199 seconds (process running for 22.007)\n</code></pre>\n<p>Despite this configuration, the user table is not being created in mydatabase. There are no error messages shown in the console, and the application starts up normally.</p>\n<p>I've tried the following troubleshooting steps:</p>\n<p>Checked if the database connection is established correctly.</p>\n<p>Verified the entity class for any syntax errors.</p>\n<p>Tried different settings for spring.jpa.hibernate.ddl-auto.\nUnfortunately, none of these steps has resolved my issue. Could anyone provide some guidance on what might be going wrong? Thanks in advance!</p>\n"},{"tags":["java","spring-boot","kubernetes","open-telemetry","jaeger"],"answers":[{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687934663,"creation_date":1687934663,"answer_id":76570661,"question_id":76566472,"body_markdown":"I don&#39;t have the answer about the correct property, but I can give some advice:\r\n\r\n- The article you&#39;re referring to is about an older version of Spring Boot. Spring Boot 3 uses micrometer tracing, which also supports OpenTelemetry/OTLP as described [here](https://spring.io/blog/2022/10/12/observability-with-spring-boot-3).\r\n- I have created a [spring starter](https://github.com/grafana/grafana-opentelemetry-starter/) myself that tries to make it as easy as possible to use OpenTelemetry. It has &quot;Grafana&quot; in the name, but it can send data to any OTLP endpoint. It also targets Spring Boot 3.\r\n- You can also use the [OpenTelemetry javaagent](https://github.com/open-telemetry/opentelemetry-java-instrumentation), which covers older Spring Boot versions as well as other frameworks and is probably the most mature choice at the time of writing.","title":"How can I configure a springboot java application to send traces to jaeger","body":"<p>I don't have the answer about the correct property, but I can give some advice:</p>\n<ul>\n<li>The article you're referring to is about an older version of Spring Boot. Spring Boot 3 uses micrometer tracing, which also supports OpenTelemetry/OTLP as described <a href=\"https://spring.io/blog/2022/10/12/observability-with-spring-boot-3\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>I have created a <a href=\"https://github.com/grafana/grafana-opentelemetry-starter/\" rel=\"nofollow noreferrer\">spring starter</a> myself that tries to make it as easy as possible to use OpenTelemetry. It has &quot;Grafana&quot; in the name, but it can send data to any OTLP endpoint. It also targets Spring Boot 3.</li>\n<li>You can also use the <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">OpenTelemetry javaagent</a>, which covers older Spring Boot versions as well as other frameworks and is probably the most mature choice at the time of writing.</li>\n</ul>\n"}],"owner":{"account_id":19636668,"reputation":33,"user_id":14373820,"display_name":"Tair Itzhak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687934663,"creation_date":1687879911,"question_id":76566472,"body_markdown":"I have a springboot application deployed in my kubernetes cluster. I would like to start collecting traces and send them to my jaeger (deployed with jaeger operator). \r\n\r\nI tried to follow a couple of documentations and articles regarding that, but couldn&#39;t find any that address the flow in kubernetes (most of them use docker-compose). Also, I want to use the open telemetry SDKs, since it seems like the jaeger client is deprecated. \r\n\r\nMy jaeger operator and crd are deployed in observability namespace in cluster. \r\n\r\n\r\nI tried to follow this setup for example - https://www.baeldung.com/spring-boot-opentelemetry-setup.\r\n\r\nI am not sure what should be configured in the spring.sleuth.otel.exporter.otlp.endpoint or exporter.jaeger.endpoint.\r\n\r\nAlso not sure whether sidecar.jaegertracing.io/inject: &quot;true&quot; annotation in my java application deployment.\r\n","title":"How can I configure a springboot java application to send traces to jaeger","body":"<p>I have a springboot application deployed in my kubernetes cluster. I would like to start collecting traces and send them to my jaeger (deployed with jaeger operator).</p>\n<p>I tried to follow a couple of documentations and articles regarding that, but couldn't find any that address the flow in kubernetes (most of them use docker-compose). Also, I want to use the open telemetry SDKs, since it seems like the jaeger client is deprecated.</p>\n<p>My jaeger operator and crd are deployed in observability namespace in cluster.</p>\n<p>I tried to follow this setup for example - <a href=\"https://www.baeldung.com/spring-boot-opentelemetry-setup\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-opentelemetry-setup</a>.</p>\n<p>I am not sure what should be configured in the spring.sleuth.otel.exporter.otlp.endpoint or exporter.jaeger.endpoint.</p>\n<p>Also not sure whether sidecar.jaegertracing.io/inject: &quot;true&quot; annotation in my java application deployment.</p>\n"},{"tags":["java","maven","jvm","xodus"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687901768,"post_id":76568391,"comment_id":135001529,"body_markdown":"Well when you run your jar, you&#39;ve deployed it, so how did you deploy the embedded db? Obviously it can&#39;t be *in* the jar as it would not be writable","body":"Well when you run your jar, you&#39;ve deployed it, so how did you deploy the embedded db? Obviously it can&#39;t be <i>in</i> the jar as it would not be writable"},{"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1687933716,"post_id":76568391,"comment_id":135004514,"body_markdown":"@g00se Xodus is an embedded database, which which adding the Xodus  dependencies in the project makes your program able to write to the disk and Xodus manage that directory to store database objects.","body":"@g00se Xodus is an embedded database, which which adding the Xodus  dependencies in the project makes your program able to write to the disk and Xodus manage that directory to store database objects."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687934561,"post_id":76568391,"comment_id":135004624,"body_markdown":"Yes I know (now). They missed a trick by not providing a task to show their sample code in action. Check their docs about deployment (which I&#39;ve not read but hope and assume exist). If you want *one* deployment unit only, you will need at least their library, which would have to be `jpackage`d or in a fat jar","body":"Yes I know (now). They missed a trick by not providing a task to show their sample code in action. Check their docs about deployment (which I&#39;ve not read but hope and assume exist). If you want <i>one</i> deployment unit only, you will need at least their library, which would have to be <code>jpackage</code>d or in a fat jar"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687934963,"post_id":76568391,"comment_id":135004702,"body_markdown":"You could use Maven Shade for the latter.","body":"You could use Maven Shade for the latter."}],"answers":[{"tags":[],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687934568,"creation_date":1687934568,"answer_id":76570656,"question_id":76568391,"body_markdown":"The problem was not with Xodus, this database is so fast which upon testing it can save 100k records in 72ms and works well with the JVM. \r\n\r\nSo it&#39;s not the problem. \r\n\r\nUpon further investigation the code, I found the culprit to be the `ClassScanner`:\r\n\r\n```\r\nprivate List&lt;FieldMarshaller&lt;?&gt;&gt; getFieldMarshallers() {\r\n        List&lt;FieldMarshaller&lt;?&gt;&gt; fieldMarshallers = new ArrayList&lt;&gt;();\r\n        String packageName = &quot;com.mycompany.myapp.database.marshallers.fields&quot;;\r\n        try {\r\n            List&lt;Class&lt;?&gt;&gt; marshallerClasses = ClassScanner.findClasses(packageName, FieldMarshaller.class);\r\n            for (Class&lt;?&gt; marshallerClass : marshallerClasses) {\r\n                FieldMarshaller&lt;?&gt; marshaller = (FieldMarshaller&lt;?&gt;) marshallerClass.getDeclaredConstructor().newInstance();\r\n                fieldMarshallers.add(marshaller);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new MarshallerException(&quot;Error initializing field marshallers&quot;, e);\r\n        }\r\n        return fieldMarshallers;\r\n}\r\n```\r\n\r\nThe `ClassScanner` apparently does have behave the same on packaged jars compared to running with maven. \r\n\r\nIn a typical development setup, the classes are compiled into .class files in a directory structure that reflects the package structure of your code, and classpath scanning works by traversing this directory structure. However, when you package your program into a JAR file, the .class files are bundled into a single file, and the directory structure is no longer directly accessible in the same way.\r\n\r\nThis is the reason the program is behaving unpredictably and the database dump was like that, the `FieldMarshaller` which are responsible for marshaling/unmarshaling the Xodus entity to/from typed objects. \r\n\r\nAnyhow, for anyone who may be experiencing classpath scanning issues on builds, I used:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n      &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n      &lt;version&gt;4.8.104&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nAnd was the class scanning works now both when running in debug and also in builds. \r\n\r\nAlso, since the usage of classgraph is expensive, I made it so it is statically initialized and re-usable to parts of the program:\r\n\r\n```\r\npublic class FieldMarshallers {\r\n    private static final List&lt;Class&lt;?&gt;&gt; marshallerClasses;\r\n\r\n    static {\r\n        try (ScanResult scanResult = new ClassGraph()\r\n                .whitelistPackages(&quot;com.mycompany.myapp.database.marshallers.fields&quot;)\r\n                .scan()) {\r\n            marshallerClasses = scanResult.getClassesImplementing(FieldMarshaller.class.getName()).loadClasses(true);\r\n        }\r\n    }\r\n\r\n    public static List&lt;Class&lt;?&gt;&gt; getMarshallerClasses() {\r\n        return marshallerClasses;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java embedded database not functioning correctly when run as packaged JAR or native image, but works fine when run with Maven or IntelliJ","body":"<p>The problem was not with Xodus, this database is so fast which upon testing it can save 100k records in 72ms and works well with the JVM.</p>\n<p>So it's not the problem.</p>\n<p>Upon further investigation the code, I found the culprit to be the <code>ClassScanner</code>:</p>\n<pre><code>private List&lt;FieldMarshaller&lt;?&gt;&gt; getFieldMarshallers() {\n        List&lt;FieldMarshaller&lt;?&gt;&gt; fieldMarshallers = new ArrayList&lt;&gt;();\n        String packageName = &quot;com.mycompany.myapp.database.marshallers.fields&quot;;\n        try {\n            List&lt;Class&lt;?&gt;&gt; marshallerClasses = ClassScanner.findClasses(packageName, FieldMarshaller.class);\n            for (Class&lt;?&gt; marshallerClass : marshallerClasses) {\n                FieldMarshaller&lt;?&gt; marshaller = (FieldMarshaller&lt;?&gt;) marshallerClass.getDeclaredConstructor().newInstance();\n                fieldMarshallers.add(marshaller);\n            }\n        } catch (Exception e) {\n            throw new MarshallerException(&quot;Error initializing field marshallers&quot;, e);\n        }\n        return fieldMarshallers;\n}\n</code></pre>\n<p>The <code>ClassScanner</code> apparently does have behave the same on packaged jars compared to running with maven.</p>\n<p>In a typical development setup, the classes are compiled into .class files in a directory structure that reflects the package structure of your code, and classpath scanning works by traversing this directory structure. However, when you package your program into a JAR file, the .class files are bundled into a single file, and the directory structure is no longer directly accessible in the same way.</p>\n<p>This is the reason the program is behaving unpredictably and the database dump was like that, the <code>FieldMarshaller</code> which are responsible for marshaling/unmarshaling the Xodus entity to/from typed objects.</p>\n<p>Anyhow, for anyone who may be experiencing classpath scanning issues on builds, I used:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n      &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n      &lt;version&gt;4.8.104&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And was the class scanning works now both when running in debug and also in builds.</p>\n<p>Also, since the usage of classgraph is expensive, I made it so it is statically initialized and re-usable to parts of the program:</p>\n<pre><code>public class FieldMarshallers {\n    private static final List&lt;Class&lt;?&gt;&gt; marshallerClasses;\n\n    static {\n        try (ScanResult scanResult = new ClassGraph()\n                .whitelistPackages(&quot;com.mycompany.myapp.database.marshallers.fields&quot;)\n                .scan()) {\n            marshallerClasses = scanResult.getClassesImplementing(FieldMarshaller.class.getName()).loadClasses(true);\n        }\n    }\n\n    public static List&lt;Class&lt;?&gt;&gt; getMarshallerClasses() {\n        return marshallerClasses;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76570656,"answer_count":1,"score":0,"last_activity_date":1687934568,"creation_date":1687897349,"question_id":76568391,"body_markdown":"I have this command line app that uses Xodus as embedded database. And the program has this bizarre problem.\r\n\r\nWhen run using:\r\n\r\n`mvn exec:java` or using IntelliJ run command, the programs works fine. It can read and write to the Xodus database fine. However, when packaged as jar or native image, both does not work.\r\n\r\nSo here&#39;s what I did, since the packaged jar or native image fails to read/write properly, I copied the database file from the one that was generated from the `mvn exec:java` and the IntelliJ run command, then did the &quot;export database&quot; command that is available in the command line app. \r\n\r\nFrom there, I compared the CSV output of both programs:\r\n\r\n - The exported CSV from the maven or IntelliJ run, the CSV data is clean.\r\n - The exported CSV from the jar or native image run are both messy. \r\n\r\nI can&#39;t really tell how is this happening. I wonder how is this even possible when the premise of Java is portability, not sure if the issue is that I use MacOS on M2 chip. Is there a difference in the runtime when running in maven vs running on `java -jar`? *(btw, other parts of the program that does not use the database works fine, that&#39;s why I am assuming that the issue is with the use of Jetbrains Xodus Database)*\r\n\r\n\r\n\r\n**Any theories are welcome.** \r\n\r\n","title":"Java embedded database not functioning correctly when run as packaged JAR or native image, but works fine when run with Maven or IntelliJ","body":"<p>I have this command line app that uses Xodus as embedded database. And the program has this bizarre problem.</p>\n<p>When run using:</p>\n<p><code>mvn exec:java</code> or using IntelliJ run command, the programs works fine. It can read and write to the Xodus database fine. However, when packaged as jar or native image, both does not work.</p>\n<p>So here's what I did, since the packaged jar or native image fails to read/write properly, I copied the database file from the one that was generated from the <code>mvn exec:java</code> and the IntelliJ run command, then did the &quot;export database&quot; command that is available in the command line app.</p>\n<p>From there, I compared the CSV output of both programs:</p>\n<ul>\n<li>The exported CSV from the maven or IntelliJ run, the CSV data is clean.</li>\n<li>The exported CSV from the jar or native image run are both messy.</li>\n</ul>\n<p>I can't really tell how is this happening. I wonder how is this even possible when the premise of Java is portability, not sure if the issue is that I use MacOS on M2 chip. Is there a difference in the runtime when running in maven vs running on <code>java -jar</code>? <em>(btw, other parts of the program that does not use the database works fine, that's why I am assuming that the issue is with the use of Jetbrains Xodus Database)</em></p>\n<p><strong>Any theories are welcome.</strong></p>\n"},{"tags":["java","maven","javafx","desktop-application","azul-zulu"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687935863,"post_id":76570093,"comment_id":135004856,"body_markdown":"Why not just check on Maven Central?","body":"Why not just check on Maven Central?"},{"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"score":0,"creation_date":1687945232,"post_id":76570093,"comment_id":135006687,"body_markdown":"I checked it. But, I didn&#39;t find which one to replace with **com.oracle**","body":"I checked it. But, I didn&#39;t find which one to replace with <b>com.oracle</b>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687947976,"post_id":76570093,"comment_id":135007268,"body_markdown":"tbh I doubt it will matter much. You&#39;re currently able to build OK aren&#39;t you? I actually can&#39;t even find &#39;ant-javafx&#39; anywhere. Are you using Ant to build?","body":"tbh I doubt it will matter much. You&#39;re currently able to build OK aren&#39;t you? I actually can&#39;t even find &#39;ant-javafx&#39; anywhere. Are you using Ant to build?"},{"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"score":0,"creation_date":1687949228,"post_id":76570093,"comment_id":135007504,"body_markdown":"Locally, I am able to build the application, Splash screen followed by Home Screen is displayed. After that, navigating to any other screen is taking longer time to display/render.   Build Tool used in **Maven** !  So, I am not sure what other configurations to be done while migrating to Azul Zulu JDK.","body":"Locally, I am able to build the application, Splash screen followed by Home Screen is displayed. After that, navigating to any other screen is taking longer time to display/render.   Build Tool used in <b>Maven</b> !  So, I am not sure what other configurations to be done while migrating to Azul Zulu JDK."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687952985,"post_id":76570093,"comment_id":135008232,"body_markdown":"I&#39;m not sure where all this ant- stuff is coming from then if you&#39;re using Maven. Check out the docs for Maven building of javafx. I did one a couple of days ago but it looks like it was wiped (if I didn&#39;t work in my /tmp folder, I&#39;d need a hard drive the size of the planet)","body":"I&#39;m not sure where all this ant- stuff is coming from then if you&#39;re using Maven. Check out the docs for Maven building of javafx. I did one a couple of days ago but it looks like it was wiped (if I didn&#39;t work in my /tmp folder, I&#39;d need a hard drive the size of the planet)"},{"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"score":0,"creation_date":1687953518,"post_id":76570093,"comment_id":135008340,"body_markdown":"**ant-javafx.jar** is fetched from **C:\\Program Files\\Java\\zulu-fx-jdk8.0.302\\lib**  But I am also not sure about **ant-javafx** artifactId.","body":"<b>ant-javafx.jar</b> is fetched from <b>C:\\Program Files\\Java\\zulu-fx-jdk8.0.302\\lib</b>  But I am also not sure about <b>ant-javafx</b> artifactId."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687956095,"post_id":76570093,"comment_id":135008920,"body_markdown":"This is all the wrong way around. The way Maven works is that *it* fetches the dependencies from repositories. The correct deps are done that way. There might be something called &#39;ant-javafx.jar&#39; on your system but it doesn&#39;t have much to do with what you should have in pom.xml","body":"This is all the wrong way around. The way Maven works is that <i>it</i> fetches the dependencies from repositories. The correct deps are done that way. There might be something called &#39;ant-javafx.jar&#39; on your system but it doesn&#39;t have much to do with what you should have in pom.xml"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687957304,"post_id":76570093,"comment_id":135009253,"body_markdown":"I&#39;ve just generated a runnable JavaFX fxml app from a Maven archetype. [This](https://technojeeves.com/tech/javafx-fmxl-pom.xml) is what its pom.xml looks like","body":"I&#39;ve just generated a runnable JavaFX fxml app from a Maven archetype. <a href=\"https://technojeeves.com/tech/javafx-fmxl-pom.xml\" rel=\"nofollow noreferrer\">This</a> is what its pom.xml looks like"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687987213,"post_id":76570093,"comment_id":135015235,"body_markdown":"@g00se I think the `ant-javafx` stuff comes from old [JavaFX Ant Tasks](https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/javafx_ant_tasks.html), which were provided with old JavaFX and Oracle JDK distributions, but have long since been deprecated and replaced by alternative technology.  It is not surprising that such things would not be available in in a Zulu JDK distribution or in Maven central, as some of that technology dates back to when parts of JavaFX were closed source code only distributed by Oracle.","body":"@g00se I think the <code>ant-javafx</code> stuff comes from old <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/javafx_ant_tasks.html\" rel=\"nofollow noreferrer\">JavaFX Ant Tasks</a>, which were provided with old JavaFX and Oracle JDK distributions, but have long since been deprecated and replaced by alternative technology.  It is not surprising that such things would not be available in in a Zulu JDK distribution or in Maven central, as some of that technology dates back to when parts of JavaFX were closed source code only distributed by Oracle."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687987990,"post_id":76570093,"comment_id":135015347,"body_markdown":"RIght. I though it must be something ancient ;)","body":"RIght. I though it must be something ancient ;)"}],"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687934424,"creation_date":1687927374,"question_id":76570093,"body_markdown":"I am working on Windows Desktop Application which currently uses Oracle JDK 1.8 () version and JavaFX. Our Team is planning to migrate from Oracle JDK 1.8 to Azul Zulu Open JDK 1.8 (8.0.302).\r\nI have changed the path of JAVA_HOME, Installed JREs which points to Zulu JDK Location in my local workspace. I have also changed the JRE path in Run Configuration. After that, when I ran application, it is loading the splash screen, but other screen navigations are taking long time to load. \r\n\r\nMy 2 doubt here are - \r\n\r\n1. **Should I change the groupId value** to some other thing instead of **com.oracle** with below dependencies  ?  \r\n\r\n                    &lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;ant-javafx&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;systemPath&gt;${java.home}/../lib/ant- \r\n                           javafx.jar&lt;/systemPath&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;javafx&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t\t\t     &lt;systemPath&gt;${java.home}/lib/ext/jfxrt.jar&lt;/systemPath&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\r\n2. I observed that Oracle JDK lib folder has deploy folder, but Zulu JDK Lib folder didn&#39;t had that deploy folder. So, Is that OK ? or should I\r\ninclude/copy deploy folder in lib folder?\r\n\r\nPlease assist with these two doubts.\r\n\r\n","title":"Which &lt;groupId&gt; to mention for ant-javafx.jar &amp; jfxrt.jar dependency in POM.xml while migrating from Oracle to Zulu Azul Open JDK 1.8 (8.0.302) ?)","body":"<p>I am working on Windows Desktop Application which currently uses Oracle JDK 1.8 () version and JavaFX. Our Team is planning to migrate from Oracle JDK 1.8 to Azul Zulu Open JDK 1.8 (8.0.302).\nI have changed the path of JAVA_HOME, Installed JREs which points to Zulu JDK Location in my local workspace. I have also changed the JRE path in Run Configuration. After that, when I ran application, it is loading the splash screen, but other screen navigations are taking long time to load.</p>\n<p>My 2 doubt here are -</p>\n<ol>\n<li><p><strong>Should I change the groupId value</strong> to some other thing instead of <strong>com.oracle</strong> with below dependencies  ?</p>\n<pre><code>             &lt;dependency&gt;\n                 &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n                 &lt;artifactId&gt;ant-javafx&lt;/artifactId&gt;\n                 &lt;version&gt;${javafx.version}&lt;/version&gt;\n                 &lt;systemPath&gt;${java.home}/../lib/ant- \n                    javafx.jar&lt;/systemPath&gt;\n                 &lt;scope&gt;system&lt;/scope&gt;\n             &lt;/dependency&gt;\n             &lt;dependency&gt;\n                 &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n                 &lt;artifactId&gt;javafx&lt;/artifactId&gt;\n                 &lt;version&gt;${javafx.version}&lt;/version&gt;\n              &lt;systemPath&gt;${java.home}/lib/ext/jfxrt.jar&lt;/systemPath&gt;\n                 &lt;scope&gt;system&lt;/scope&gt;\n             &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>I observed that Oracle JDK lib folder has deploy folder, but Zulu JDK Lib folder didn't had that deploy folder. So, Is that OK ? or should I\ninclude/copy deploy folder in lib folder?</p>\n</li>\n</ol>\n<p>Please assist with these two doubts.</p>\n"},{"tags":["java","pdf","pdfbox","pdftotext","camelot-php-tools"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633677711,"post_id":69400511,"comment_id":122828265,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":19947676,"reputation":61,"user_id":14617996,"display_name":"Hussam Barouqa"},"score":0,"creation_date":1634224858,"post_id":69400511,"comment_id":122973288,"body_markdown":"The LEADTOOLS Java Forms Processing SDK can be used for extracting table information from structured forms. The recognition uses a template from a blank form with fields defined for extraction. For example, a [TableFormField](https://www.leadtools.com/help/sdk/v22/dh/fp/tableformfield.html) class can be configured for different tables using the Rules property with the appropriate [TableRules](https://www.leadtools.com/help/sdk/v22/dh/fp/tablerules.html) value. A Java sample can be found [here](https://www.leadtools.com/support/forum/posts/t12833-) and a free evaluation is available.","body":"The LEADTOOLS Java Forms Processing SDK can be used for extracting table information from structured forms. The recognition uses a template from a blank form with fields defined for extraction. For example, a <a href=\"https://www.leadtools.com/help/sdk/v22/dh/fp/tableformfield.html\" rel=\"nofollow noreferrer\">TableFormField</a> class can be configured for different tables using the Rules property with the appropriate <a href=\"https://www.leadtools.com/help/sdk/v22/dh/fp/tablerules.html\" rel=\"nofollow noreferrer\">TableRules</a> value. A Java sample can be found <a href=\"https://www.leadtools.com/support/forum/posts/t12833-\" rel=\"nofollow noreferrer\">here</a> and a free evaluation is available."}],"answers":[{"tags":[],"owner":{"account_id":28717138,"reputation":11,"user_id":21991536,"display_name":"Gail Thorne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687934145,"creation_date":1687934145,"answer_id":76570617,"question_id":69400511,"body_markdown":"If you want to use Java to extract tables from PDF, then I think this method is very suitable for you. Use the Spire.PDF for Java control to complete this operation.[Spire.PDF for Java][1] offers the **PdfTableExtractor.extractTable(int pageIndex)** method to detect and extract tables from a desired PDF page.\r\nYou can refer to the following Java code:\r\n\r\n           //Loop through the pages in the PDF\r\n           for (int pageIndex = 0; pageIndex &lt; pdf.getPages().getCount(); pageIndex++) {\r\n           \r\n           //Extract tables from the current page into a PdfTable array\r\n           PdfTable[] tableLists = extractor.extractTable(pageIndex);\r\n\r\nHere is the complete article tutorial :[Extract Table Data from PDF Document in Java.][2] I hope this answer is extremely helpful to you.\r\n\r\n\r\n  [1]: https://www.e-iceblue.com/Introduce/pdf-for-java.html\r\n  [2]: https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Table/Java-Extract-Table-Data-from-PDF-Document.html","title":"How to extract table for pdf using Java?","body":"<p>If you want to use Java to extract tables from PDF, then I think this method is very suitable for you. Use the Spire.PDF for Java control to complete this operation.<a href=\"https://www.e-iceblue.com/Introduce/pdf-for-java.html\" rel=\"nofollow noreferrer\">Spire.PDF for Java</a> offers the <strong>PdfTableExtractor.extractTable(int pageIndex)</strong> method to detect and extract tables from a desired PDF page.\nYou can refer to the following Java code:</p>\n<pre><code>       //Loop through the pages in the PDF\n       for (int pageIndex = 0; pageIndex &lt; pdf.getPages().getCount(); pageIndex++) {\n       \n       //Extract tables from the current page into a PdfTable array\n       PdfTable[] tableLists = extractor.extractTable(pageIndex);\n</code></pre>\n<p>Here is the complete article tutorial :<a href=\"https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Table/Java-Extract-Table-Data-from-PDF-Document.html\" rel=\"nofollow noreferrer\">Extract Table Data from PDF Document in Java.</a> I hope this answer is extremely helpful to you.</p>\n"}],"owner":{"account_id":10493762,"reputation":1,"user_id":7734729,"display_name":"Mohan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687934145,"creation_date":1633063513,"question_id":69400511,"body_markdown":"I am trying to extract table data in a structured manner as a table using Java.  I&#39;ve been using pdfbox and tabula for the past two years.  But the problem is that pdfbox returns all the data in pdf as a sorted or unsorted text and tabula sometimes detects the table which have perfect borders and failed to recogonize tables without borders.  \r\n\r\nPlease help me with a solution to extract table from pdf in a structured format using **Java** other than using **pdfbox and tabula api**.","title":"How to extract table for pdf using Java?","body":"<p>I am trying to extract table data in a structured manner as a table using Java.  I've been using pdfbox and tabula for the past two years.  But the problem is that pdfbox returns all the data in pdf as a sorted or unsorted text and tabula sometimes detects the table which have perfect borders and failed to recogonize tables without borders.</p>\n<p>Please help me with a solution to extract table from pdf in a structured format using <strong>Java</strong> other than using <strong>pdfbox and tabula api</strong>.</p>\n"},{"tags":["java","spring","rest","jpa","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1416868890,"creation_date":1416868890,"answer_id":27115525,"question_id":27115334,"body_markdown":"Your POST request has a content type of `text/plain` and the server doesn&#39;t know how to convert plain text into a `hello.Person` instance.\r\n\r\nYou need to tell the server that you&#39;re sending JSON by setting the `Content-Type` header of the request to `application/json`","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>Your POST request has a content type of <code>text/plain</code> and the server doesn't know how to convert plain text into a <code>hello.Person</code> instance.</p>\n\n<p>You need to tell the server that you're sending JSON by setting the <code>Content-Type</code> header of the request to <code>application/json</code></p>\n"},{"tags":[],"owner":{"account_id":1759131,"reputation":681,"user_id":1606696,"display_name":"Byorn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626344553,"creation_date":1427642026,"answer_id":29330840,"question_id":27115334,"body_markdown":"I used Google Chrome&#39;s Postman extension and sent raw JSON `{ &quot;firstName&quot;: &quot;Frodo&quot;, &quot;lastName&quot;: &quot;Baggins&quot; }`. That worked.\r\n\r\nKeep in mind to specify the HTTP header `Content-Type: application/json`.","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>I used Google Chrome's Postman extension and sent raw JSON <code>{ &quot;firstName&quot;: &quot;Frodo&quot;, &quot;lastName&quot;: &quot;Baggins&quot; }</code>. That worked.</p>\n<p>Keep in mind to specify the HTTP header <code>Content-Type: application/json</code>.</p>\n"},{"tags":[],"owner":{"account_id":7805574,"reputation":1404,"user_id":5903568,"accept_rate":82,"display_name":"Kamel Mili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455026633,"creation_date":1455026633,"answer_id":35294045,"question_id":27115334,"body_markdown":"Content-Type:application/json try to remove the space between content-type:* and  application in the header .\r\n ","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>Content-Type:application/json try to remove the space between content-type:* and  application in the header .</p>\n"},{"tags":[],"owner":{"account_id":19417326,"reputation":1,"user_id":14200486,"display_name":"Nithin Atturu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677179446,"creation_date":1677179446,"answer_id":75549320,"question_id":27115334,"body_markdown":"Make sure you have selected the \r\n\r\nBody-&gt;RAW-&gt;Json in the Api Client and try it worked for me.","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>Make sure you have selected the</p>\n<p>Body-&gt;RAW-&gt;Json in the Api Client and try it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":28910110,"reputation":1,"user_id":22143310,"display_name":"Vaishnavi.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687933717,"creation_date":1687933717,"answer_id":76570573,"question_id":27115334,"body_markdown":"you can select\r\nBody-&gt;RAW-&gt;Json in the Api Client and try it.\r\nfirstly I was using text that&#39;s why its giving me error.","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>you can select\nBody-&gt;RAW-&gt;Json in the Api Client and try it.\nfirstly I was using text that's why its giving me error.</p>\n"}],"owner":{"account_id":5385177,"reputation":153,"user_id":4289324,"display_name":"David Gildea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8253,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1687933717,"creation_date":1416867947,"question_id":27115334,"body_markdown":"I have been battling with this for a while and cant find a solution. I am running the SpringBoot guides and the Accessing JPA Data (http://spring.io/guides/gs/accessing-data-rest/) with REST is not working. \r\n\r\nJust downloading it and running it runs fine allowing a GET call to\r\n \r\n    http://localhost:8080/people \r\n\r\nusing POSTMAN. However whenever I try a PUT or POST I get the following error\r\n\r\n\r\n    {\r\n     &quot;cause&quot;: null,\r\n     &quot;message&quot;: &quot;No suitable HttpMessageConverter found to read request body into object of type           class hello.Person from request with content type of text/plain;charset=UTF-8!&quot;\r\n    }\r\n\r\n\r\nThe json I am passing with the PUT is \r\n\r\n    {\r\n    &quot;firstName&quot;: &quot;Dave&quot;,\r\n    &quot;lastName&quot;: &quot;Something&quot;\r\n    }\r\n\r\nThis is just running the vanilla project with no changes. Lots of the other guide projects work fine so I know MVN, Spring boot etc are working ok.\r\n\r\nHave tried a lot of forums but nothing suggested works.\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThanks\r\nDave","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>I have been battling with this for a while and cant find a solution. I am running the SpringBoot guides and the Accessing JPA Data (<a href=\"http://spring.io/guides/gs/accessing-data-rest/\" rel=\"noreferrer\">http://spring.io/guides/gs/accessing-data-rest/</a>) with REST is not working. </p>\n\n<p>Just downloading it and running it runs fine allowing a GET call to</p>\n\n<pre><code>http://localhost:8080/people \n</code></pre>\n\n<p>using POSTMAN. However whenever I try a PUT or POST I get the following error</p>\n\n<pre><code>{\n \"cause\": null,\n \"message\": \"No suitable HttpMessageConverter found to read request body into object of type           class hello.Person from request with content type of text/plain;charset=UTF-8!\"\n}\n</code></pre>\n\n<p>The json I am passing with the PUT is </p>\n\n<pre><code>{\n\"firstName\": \"Dave\",\n\"lastName\": \"Something\"\n}\n</code></pre>\n\n<p>This is just running the vanilla project with no changes. Lots of the other guide projects work fine so I know MVN, Spring boot etc are working ok.</p>\n\n<p>Have tried a lot of forums but nothing suggested works.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks\nDave</p>\n"},{"tags":["java","spurious-wakeup"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687933525,"creation_date":1687933525,"answer_id":76570559,"question_id":76570413,"body_markdown":"Changing the `while` to an `if` would only check the condition before entering `wait`. Spurious wake-up refers to a situation where `wait` is entered _and then returns without satisfying the condition_. In this case `valueSet` could still be `false` when `wait` returns, so the check needs to be repeated.","title":"Why I can&#39;t check spurious wakeup by if condition instead of while loop","body":"<p>Changing the <code>while</code> to an <code>if</code> would only check the condition before entering <code>wait</code>. Spurious wake-up refers to a situation where <code>wait</code> is entered <em>and then returns without satisfying the condition</em>. In this case <code>valueSet</code> could still be <code>false</code> when <code>wait</code> returns, so the check needs to be repeated.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76570559,"answer_count":1,"score":0,"last_activity_date":1687933525,"creation_date":1687931975,"question_id":76570413,"body_markdown":"I&#39;m currently reading *Java The Complete Reference* book, multithread section.\r\nThere is an example about handling **spurious wakeup**.\r\nIt&#39;s the classic producer-consumer example that I bring `get()` method here:\r\n\r\n    synchronized int get() {\r\n        while(!valueSet)\r\n            try {\r\n                wait();\r\n            } catch(InterruptedException e) {\r\n                System.out.println(&quot;InterruptedException caught&quot;);\r\n            }\r\n        System.out.println(&quot;Got: &quot; + n);\r\n        valueSet = false;\r\n        notify();\r\n        return n;\r\n    }\r\n\r\nConsider that I change the keyword `while` to `if`.\r\n\r\nEven with **spurious wakeup** of the related thread the **if condition** will be checked. So I wonder why we should call to `wait()` within a **loop**?","title":"Why I can&#39;t check spurious wakeup by if condition instead of while loop","body":"<p>I'm currently reading <em>Java The Complete Reference</em> book, multithread section.\nThere is an example about handling <strong>spurious wakeup</strong>.\nIt's the classic producer-consumer example that I bring <code>get()</code> method here:</p>\n<pre><code>synchronized int get() {\n    while(!valueSet)\n        try {\n            wait();\n        } catch(InterruptedException e) {\n            System.out.println(&quot;InterruptedException caught&quot;);\n        }\n    System.out.println(&quot;Got: &quot; + n);\n    valueSet = false;\n    notify();\n    return n;\n}\n</code></pre>\n<p>Consider that I change the keyword <code>while</code> to <code>if</code>.</p>\n<p>Even with <strong>spurious wakeup</strong> of the related thread the <strong>if condition</strong> will be checked. So I wonder why we should call to <code>wait()</code> within a <strong>loop</strong>?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561355749,"post_id":56730546,"comment_id":100020323,"body_markdown":"Can you check the value of `_paymentInstrument.getOrderId()`?","body":"Can you check the value of <code>_paymentInstrument.getOrderId()</code>?"},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561355978,"post_id":56730546,"comment_id":100020401,"body_markdown":"Wait i debug and show the result.","body":"Wait i debug and show the result."},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561356057,"post_id":56730546,"comment_id":100020424,"body_markdown":"Yes it has a value and result &quot;1161&quot;.","body":"Yes it has a value and result &quot;1161&quot;."},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561356236,"post_id":56730546,"comment_id":100020478,"body_markdown":"Can you put the error and the stacktrace in the question?","body":"Can you put the error and the stacktrace in the question?"},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561356604,"post_id":56730546,"comment_id":100020603,"body_markdown":"@Rashin Exception is java.lang.illegalargumentexception map has no value for &quot;orderId&quot; . detailMessage of the exception also Map has no value for &#39;orderId&#39;.","body":"@Rashin Exception is java.lang.illegalargumentexception map has no value for &quot;orderId&quot; . detailMessage of the exception also Map has no value for &#39;orderId&#39;."},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561356873,"post_id":56730546,"comment_id":100020683,"body_markdown":"Yes I saw in the question but the whole stacktrace would help. :)","body":"Yes I saw in the question but the whole stacktrace would help. :)"},{"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"score":0,"creation_date":1561357126,"post_id":56730546,"comment_id":100020775,"body_markdown":"@Das_J, what is the value of getEnvironment().getProperty(IPG_TRANSACTION_URL)","body":"@Das_J, what is the value of getEnvironment().getProperty(IPG_TRANSACTION_URL)"},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561358781,"post_id":56730546,"comment_id":100021466,"body_markdown":"@TechFree. I found what i went wrong it is i missed the parameter name orderid as orderId. Thanks for the direction .","body":"@TechFree. I found what i went wrong it is i missed the parameter name orderid as orderId. Thanks for the direction ."}],"answers":[{"tags":[],"owner":{"account_id":9847480,"reputation":1,"user_id":7294532,"display_name":"Khaleel Sayyad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619278740,"creation_date":1619266614,"answer_id":67242680,"question_id":56730546,"body_markdown":"1. Check typo mistakes for `orderId`   \r\n2. If you declare dynamic values in property file, compare name with property Ex: `{orderId}`","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<ol>\n<li>Check typo mistakes for <code>orderId</code></li>\n<li>If you declare dynamic values in property file, compare name with property Ex: <code>{orderId}</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12152139,"reputation":1,"user_id":8872067,"display_name":"Trill Stones "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635921083,"creation_date":1635921052,"answer_id":69820513,"question_id":56730546,"body_markdown":"    UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url).queryParam(&quot;criterion&quot;, criterion);\r\n    Product product = restTemplate.getForObject(builder.build().toUri(), Product.class);","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<pre><code>UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url).queryParam(&quot;criterion&quot;, criterion);\nProduct product = restTemplate.getForObject(builder.build().toUri(), Product.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28900151,"reputation":1,"user_id":22135313,"display_name":"Mehmet Ekinci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687932988,"creation_date":1687810006,"answer_id":76559927,"question_id":56730546,"body_markdown":"I also faced the same problem. in my case, if I assign a key value pair to a variable like this : \r\n\r\ndon&#39;t do that\r\n\r\n    uriVariables.put(&quot;from&quot;, fromValue);\r\n\r\ndo that\r\n\r\n    uriVariables.put(&quot;fromValue&quot;, fromValue); \r\n\r\nIn a HashMap type, the key must always be the same as the dynamic variables in the url I&#39;m going to use.\r\n\r\nCode example here\r\n\r\n  \r\n    @GetMapping(&quot;/currency-conversion/from/{fromValue}/to/{toValue}/quantity/{quantity}&quot;)\r\n      public CurrencyConversion calculateCurrencyConversion(@PathVariable String fromValue,\r\n          @PathVariable String toValue, @PathVariable BigDecimal quantity) {\r\n    \r\n        HashMap&lt;String, String&gt; uriVariables = new HashMap&lt;&gt;();\r\n        uriVariables.put(&quot;fromValue&quot;, fromValue);\r\n        uriVariables.put(&quot;toValue&quot;, toValue);\r\n        ResponseEntity&lt;CurrencyConversion&gt; responseEntity = new RestTemplate().getForEntity(\r\n            &quot;http://localhost:8000/currency-exchange/from/{fromValue}/to/{toValue}&quot;,\r\n            CurrencyConversion.class, uriVariables);\r\n    \r\n        CurrencyConversion currencyConversion = responseEntity.getBody();\r\n    \r\n        return new CurrencyConversion(currencyConversion.getId(), fromValue, toValue,\r\n            currencyConversion.getConversionMultiple(), quantity,\r\n            quantity.multiply(currencyConversion.getConversionMultiple()),\r\n            currencyConversion.getEnvironment());\r\n      };\r\n","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<p>I also faced the same problem. in my case, if I assign a key value pair to a variable like this :</p>\n<p>don't do that</p>\n<pre><code>uriVariables.put(&quot;from&quot;, fromValue);\n</code></pre>\n<p>do that</p>\n<pre><code>uriVariables.put(&quot;fromValue&quot;, fromValue); \n</code></pre>\n<p>In a HashMap type, the key must always be the same as the dynamic variables in the url I'm going to use.</p>\n<p>Code example here</p>\n<pre><code>@GetMapping(&quot;/currency-conversion/from/{fromValue}/to/{toValue}/quantity/{quantity}&quot;)\n  public CurrencyConversion calculateCurrencyConversion(@PathVariable String fromValue,\n      @PathVariable String toValue, @PathVariable BigDecimal quantity) {\n\n    HashMap&lt;String, String&gt; uriVariables = new HashMap&lt;&gt;();\n    uriVariables.put(&quot;fromValue&quot;, fromValue);\n    uriVariables.put(&quot;toValue&quot;, toValue);\n    ResponseEntity&lt;CurrencyConversion&gt; responseEntity = new RestTemplate().getForEntity(\n        &quot;http://localhost:8000/currency-exchange/from/{fromValue}/to/{toValue}&quot;,\n        CurrencyConversion.class, uriVariables);\n\n    CurrencyConversion currencyConversion = responseEntity.getBody();\n\n    return new CurrencyConversion(currencyConversion.getId(), fromValue, toValue,\n        currencyConversion.getConversionMultiple(), quantity,\n        quantity.multiply(currencyConversion.getConversionMultiple()),\n        currencyConversion.getEnvironment());\n  };\n</code></pre>\n"}],"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5979,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687932988,"creation_date":1561355624,"question_id":56730546,"body_markdown":"I&#39;m working on a Payment related Restful service. when I try to call the API it occurs an exception called `java.lang.IllegalArgumentException` map has no value for `orderId`\r\n\r\nAs a background, I created HttpHeaders and LinkedMultiValueMap and put values to it and called the API.\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\tLinkedMultiValueMap&lt;String, String&gt; uriVars = new LinkedMultiValueMap&lt;&gt;();\r\n\turiVars.add(&quot;merchantId&quot;, _paymentInstrument.getAcquirerMid());\r\n\turiVars.add(&quot;orderId&quot;, _paymentInstrument.getOrderId().toString());\r\n\turiVars.add(&quot;transactionId&quot;, _paymentInstrument.getTransactionId().toString());\r\n\t\t\r\n\tVoidRequest voidRequest = createVoidRequest(_paymentInstrument.getTargetTransactionId());\r\n\tHttpEntity&lt;VoidRequest&gt; requestEntity = new HttpEntity&lt;&gt;(voidRequest, headers);\r\n\tTransactionResponse voidResponse = null;\r\n\ttry {\r\n\t\tResponseEntity&lt;TransactionResponse&gt; responseEntity = restTemplate.exchange(getEnvironment().getProperty(IPG_TRANSACTION_URL), \r\n\t\t\tHttpMethod.PUT, requestEntity, TransactionResponse.class, uriVars);\r\n\t\t\tvoidResponse = responseEntity.getBody();\r\n\t\t\tlog.info(LogSupport.PG_LOGS_CARGILLS_VOID_TRX + &quot;[AcquirerMID ={};TransactionId ={};ResponseCode={};ResponseText={}]&quot;, _paymentInstrument.getAcquirerMid(), \r\n\t\t\t\t\t_paymentInstrument.getTransactionId(), voidResponse.getResponse().getAcquirerCode(), voidResponse.getResponse().getAcquirerMessage());\r\n\t} catch (ResourceAccessException rae) {\r\n\t\tthrow rae;\r\n\t} catch (Exception e) {     \r\n        voidResponse = new TransactionResponse();\r\n        voidResponse.setResult(&quot;ERROR&quot;);\r\n        ErrorResponse error = new ErrorResponse();\r\n        error.setCause(&quot;EXCEPTION&quot;);\r\n        error.setExplanation(e.getMessage());\r\n\t}\r\n\t\t\r\n\r\nThis occurs an exception java.lang.IllegalArgumentException map has no value for &quot;orderId&quot;.\r\n","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<p>I'm working on a Payment related Restful service. when I try to call the API it occurs an exception called <code>java.lang.IllegalArgumentException</code> map has no value for <code>orderId</code></p>\n\n<p>As a background, I created HttpHeaders and LinkedMultiValueMap and put values to it and called the API.</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nLinkedMultiValueMap&lt;String, String&gt; uriVars = new LinkedMultiValueMap&lt;&gt;();\nuriVars.add(\"merchantId\", _paymentInstrument.getAcquirerMid());\nuriVars.add(\"orderId\", _paymentInstrument.getOrderId().toString());\nuriVars.add(\"transactionId\", _paymentInstrument.getTransactionId().toString());\n\nVoidRequest voidRequest = createVoidRequest(_paymentInstrument.getTargetTransactionId());\nHttpEntity&lt;VoidRequest&gt; requestEntity = new HttpEntity&lt;&gt;(voidRequest, headers);\nTransactionResponse voidResponse = null;\ntry {\n    ResponseEntity&lt;TransactionResponse&gt; responseEntity = restTemplate.exchange(getEnvironment().getProperty(IPG_TRANSACTION_URL), \n        HttpMethod.PUT, requestEntity, TransactionResponse.class, uriVars);\n        voidResponse = responseEntity.getBody();\n        log.info(LogSupport.PG_LOGS_CARGILLS_VOID_TRX + \"[AcquirerMID ={};TransactionId ={};ResponseCode={};ResponseText={}]\", _paymentInstrument.getAcquirerMid(), \n                _paymentInstrument.getTransactionId(), voidResponse.getResponse().getAcquirerCode(), voidResponse.getResponse().getAcquirerMessage());\n} catch (ResourceAccessException rae) {\n    throw rae;\n} catch (Exception e) {     \n    voidResponse = new TransactionResponse();\n    voidResponse.setResult(\"ERROR\");\n    ErrorResponse error = new ErrorResponse();\n    error.setCause(\"EXCEPTION\");\n    error.setExplanation(e.getMessage());\n}\n</code></pre>\n\n<p>This occurs an exception java.lang.IllegalArgumentException map has no value for \"orderId\".</p>\n"},{"tags":["java","gradle","intellij-idea","gnupg","maven-central"],"answers":[{"tags":[],"owner":{"account_id":59188,"reputation":5386,"user_id":177154,"accept_rate":100,"display_name":"draganstankovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653706166,"creation_date":1653686101,"answer_id":72411149,"question_id":72409742,"body_markdown":"The error piece:\r\n\r\n```\r\n\r\n&gt; Cannot perform signing task &#39;:signMavenJavaPublication&#39; because it has no configured signatory\r\n\r\n```\r\nbasically says that your signing task is not able to figure out the signature info it needs to execute. Most likely it cannot find your `gradle-wrapper.properties` file.\r\nWhat you can do is to try to put them in the main `gradle.properties` file and see how it goes. \r\n\r\nAs for the folders: Gradle relies on `java.io.File` for its path related operations which means it should be able to handle forward slashes as well.\r\n\r\nA good approach, especially when you are setting up a new configuration and you see it failing for path reasons, is to put everything straight into the folder where you&#39;re **sure** Gradle (or any other system/build) is able to see it. In your case that would be either gradle home or same folder where your build.gradle is. Then, after you get everything to work, you can reorganize and put configs however you like.\r\n\r\n**EDIT**: \r\n\r\nIt is also always a good idea to find a way how to printout something while your build / script / whatever is executing. So, for Gradle you can use println to print a property name:\r\n\r\n```\r\ntask printSigning {\r\n    println(project.findProperty(&#39;signing&#39;).secretKeyRingFile)\r\n}\r\n```\r\n\r\nOr you can print a current directory:\r\n\r\n```\r\ntask currentDir {\r\n    println file(&#39;.&#39;)\r\n}\r\n```\r\n\r\nI hope that this helps a bit.\r\n\r\nBelow questions might contain some more details and give you a hint too:\r\n\r\nhttps://stackoverflow.com/a/67115705/177154\r\n\r\nhttps://stackoverflow.com/a/68505768/177154","title":"Gradle task: signMavenJavaPublication failed because it has no configured signatory","body":"<p>The error piece:</p>\n<pre><code>\n&gt; Cannot perform signing task ':signMavenJavaPublication' because it has no configured signatory\n\n</code></pre>\n<p>basically says that your signing task is not able to figure out the signature info it needs to execute. Most likely it cannot find your <code>gradle-wrapper.properties</code> file.\nWhat you can do is to try to put them in the main <code>gradle.properties</code> file and see how it goes.</p>\n<p>As for the folders: Gradle relies on <code>java.io.File</code> for its path related operations which means it should be able to handle forward slashes as well.</p>\n<p>A good approach, especially when you are setting up a new configuration and you see it failing for path reasons, is to put everything straight into the folder where you're <strong>sure</strong> Gradle (or any other system/build) is able to see it. In your case that would be either gradle home or same folder where your build.gradle is. Then, after you get everything to work, you can reorganize and put configs however you like.</p>\n<p><strong>EDIT</strong>:</p>\n<p>It is also always a good idea to find a way how to printout something while your build / script / whatever is executing. So, for Gradle you can use println to print a property name:</p>\n<pre><code>task printSigning {\n    println(project.findProperty('signing').secretKeyRingFile)\n}\n</code></pre>\n<p>Or you can print a current directory:</p>\n<pre><code>task currentDir {\n    println file('.')\n}\n</code></pre>\n<p>I hope that this helps a bit.</p>\n<p>Below questions might contain some more details and give you a hint too:</p>\n<p><a href=\"https://stackoverflow.com/a/67115705/177154\">https://stackoverflow.com/a/67115705/177154</a></p>\n<p><a href=\"https://stackoverflow.com/a/68505768/177154\">https://stackoverflow.com/a/68505768/177154</a></p>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687932893,"creation_date":1680690549,"answer_id":75938327,"question_id":72409742,"body_markdown":"If you are getting this error in 2023 with Gradle 7+:\r\n\r\nTake a look at this step by step guide with \r\ncode examples for &quot;how to publish to maven central with Gradle&quot;. \r\n\r\n https://github.com/davidweber411/how-to-publish-to-maven-central-with-gradle\r\n\r\nPS: I am the author.","title":"Gradle task: signMavenJavaPublication failed because it has no configured signatory","body":"<p>If you are getting this error in 2023 with Gradle 7+:</p>\n<p>Take a look at this step by step guide with\ncode examples for &quot;how to publish to maven central with Gradle&quot;.</p>\n<p><a href=\"https://github.com/davidweber411/how-to-publish-to-maven-central-with-gradle\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/how-to-publish-to-maven-central-with-gradle</a></p>\n<p>PS: I am the author.</p>\n"}],"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1687932893,"creation_date":1653676487,"question_id":72409742,"body_markdown":"I am trying to publish a Java library to maven central repository.\r\nI have never done this before. This project is for testing purposes. When I figure out\r\nhow to properly publish a project, I will then publish an actual library.\r\nMy goal is to be able to add this project as a dependency for other projects.\r\nI know I could include it as a .jar, but I want to learn about other ways of importing dependencies.\r\n\r\nWhile running the task:\r\n\r\n```\r\n./gradlew publish\r\n```\r\nin my project root folder, I get the build **error**:\r\n\r\n```\r\n&gt; Task :signMavenJavaPublication FAILED\r\nCaching disabled for task &#39;:signMavenJavaPublication&#39; because:\r\n  Build cache is disabled\r\nTask &#39;:signMavenJavaPublication&#39; is not up-to-date because:\r\n  Task has failed previously.\r\n:signMavenJavaPublication (Thread[Execution worker for &#39;:&#39;,5,main]) completed. Took 0.004 secs.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:signMavenJavaPublication&#39;.\r\n&gt; Cannot perform signing task &#39;:signMavenJavaPublication&#39; because it has no configured signatory\r\n\r\n```\r\n**EDIT:**\r\nI have made some progress. I will post this at the bottom of the question.\r\n\r\nFor the past four days, I have been trying to figure out why. **I will post the build code further below**, but first I will go through all the steps I followed to be able to publish to the central repository in the first place.\r\n\r\n\r\n\r\nMy gradle experience is limited, but I think I know the basics.\r\n\r\nI have read various documentation on:\r\n\r\n[central.sonatype.org][1]\r\n\r\n[Gradle][2]\r\n\r\nfor how to publish / sign. I don&#39;t know exactly what i am doing or why.\r\n\r\n 1. Apply for a GroupID on Sonatype Jira. This issue/ticket is resolved. And I should be able to publish SNAPSHOT and release artifacts to [s01.oss.sonatype.org][3]. My GroupID is my github domain. So, as far as I know, this lets me publish my projects / libraries under &quot;*io.github.username*&quot;.\r\n\r\n2. Download and set up [GnuPG][4]:\r\n\r\nAt some point in the set up I was asked to create a GnuPG password (signing.password).\r\nDon&#39;t remember when.\r\n\r\n```\r\ngpg --gen-key\r\n```\r\nEntering my name and email. Now I can type:\r\n```\r\ngpg -K\r\n```\r\nAnd I get the following (not actual values):\r\n```\r\nsec   ed25519 2022-05-25 [SC] [expires: 2024-05-24]\r\n      ****************************************\r\nuid           [ultimate] My Name &lt;my-email@mail.com&gt;\r\nssb   cv25519 2022-05-25 [E] [expires: 2024-05-24]\r\n```\r\nSo, the **************************************** is the password I am using. (the final 8 digits).\r\nNow I export the key.(I think it creates my secret key right?):\r\n```\r\ngpg --export-secret-keys ******** &gt; C:\\users\\username\\secring.gpg\r\n```\r\nAs far as I know, this could be any folder. As long as the folder corresponds to the:\r\n```\r\nsigning.secretKeyRingFile=\\users\\username\\secring.gpg\r\n```\r\nin the gradle.properties file.\r\nAlso, what would be the correct way to type this?\r\n```\r\nsigning.secretKeyRingFile=\\users\\username\\secring.gpg\r\nsigning.secretKeyRingFile=C:\\users\\username\\secring.gpg\r\nsigning.secretKeyRingFile=C:\\\\users\\\\username\\\\secring.gpg\r\nsigning.secretKeyRingFile=&quot;C:\\\\users\\\\username\\\\secring.gpg&quot;\r\n```\r\n(I think I have tried all the variations)\r\n\r\nThen I need to send the public key to some key server. And there are some alternatives:\r\n\r\n - keyserver.ubuntu.com\r\n - keys.openpgp.org\r\n - pgp.mit.edu\r\n\r\nI have tried to send it to all of them.\r\n\r\n```\r\ngpg --keyserver hkp://keyserver.ubuntu.com --send-keys ****************************************\r\n```\r\nAnd to can check if the server received the key:\r\n```\r\ngpg --keyserver hkp://keyserver.ubuntu.com --search-key &#39;my-email@mail.com&#39;\r\n```\r\nAnd they got it. At least the server responds with the last 16 or so digits of the key.\r\n\r\n3. So at this point I set up a simple java test project named &quot;Storage&quot;. Pushing it to my github repo. under the same name.\r\n\r\n[![Structure][5]][5]\r\n\r\n4. And now we can get to the gradle files. Keep in mind, I&#39;m not entirely sure if this is correct. If I left out something, or something is unnecessary. Please let me know. \r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n    id &#39;signing&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\ngroup &#39;io.github.username&#39;\r\nversion &#39;0.0.1&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n}\r\n\r\ndependencies {}\r\n\r\njava {\r\n    withJavadocJar()\r\n    withSourcesJar()\r\n}\r\n\r\n\r\npublishing {\r\n    publications {\r\n        mavenJava(MavenPublication) {\r\n\r\n            groupId = &#39;io.github.username&#39;\r\n            artifactId = &#39;storage&#39;\r\n            version = &#39;0.0.1&#39;\r\n            from components.java\r\n\r\n            pom {\r\n                name = &#39;Storage&#39;\r\n                description = &#39;Storage is an open-source Java library test&#39;\r\n                url = &#39;https://github.com/username/Storage&#39;\r\n                inceptionYear = &#39;2022&#39;\r\n\r\n                licenses {\r\n                    license {\r\n                        name = &#39;MIT License&#39;\r\n                        url = &#39;http://www.opensource.org/licenses/mit-license.php&#39;\r\n                    }\r\n                }\r\n                developers {\r\n                    developer {\r\n                        id = &#39;sonatype-username&#39;\r\n                        name = &#39;Full Name&#39;\r\n                        email = &#39;my-email@mail.com&#39;\r\n                    }\r\n                }\r\n                scm {\r\n                    connection = &#39;scm:git:git://github.com/username/Storage.git&#39;\r\n                    developerConnection = &#39;scm:git:ssh://github.com/username/Storage.git&#39;\r\n                    url = &#39;https://github.com/username/Storage&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    repositories {\r\n        maven {\r\n            name = &quot;OSSRH&quot;\r\n            url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\r\n            credentials {\r\n                username = project.properties[&quot;ossrhUsername&quot;]\r\n                password = project.properties[&quot;ossrhPassword&quot;]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nsigning {\r\n    sign publishing.publications.mavenJava\r\n}\r\n\r\njavadoc {\r\n    if(JavaVersion.current().isJava9Compatible()) {\r\n        options.addBooleanOption(&#39;html5&#39;, true)\r\n    }\r\n}\r\n```\r\n**gradle-wrapper.properties**\r\n```\r\n# auto-generated\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n\r\n# Sonatype variables\r\nossrhUsername=username\r\nossrhPassword=password\r\n\r\n# GnuPG\r\nsigning.keyId=********\r\nsinging.password=GnpPassword\r\nsigning.secretKeyRingFile=\\Users\\username\\secring.gpg\r\n```\r\n\r\n**settings.gradle**\r\n```\r\nrootProject.name = &#39;Storage&#39;\r\n```\r\n\r\nThat should be it. But I can include versions of various software/tools:\r\n - OS Windows 10\r\n - GnuPG 2.3.6\r\n - Gradle 7.4.2\r\n - Java 13.0.1\r\n - Groovy 3.0.9\r\n\r\n**PROGRESS:**\r\n\r\nI got the project published to [Nexus repository manager][6].\r\nSo I know for a fact that `build.gradle` can access my `gradle.properties` file and can read it&#39;s content.\r\n\r\nI got the publish task to work by excluding the signing part.\r\n\r\nI have sent my key (two keys now) to both:\r\n\r\n - keyserver.ubuntu.com\r\n - pgp.mit.edu\r\n\r\nkeys.openpgp.org does not seem to work. I get `gpg: keyserver send failed: Certificate expired`\r\n\r\nWhen i send a key to a server I use the FULL KEY ID.\r\n\r\nI can query a server to see if they in fact received the keys: `gpg --keyserver hkp://keyserver.ubuntu.com --search-key &#39;my-email@mail.com&#39;`\r\n\r\nAnd both servers have received 2 keys:\r\n\r\n```\r\n(1)     My Name &lt;my-email@mail.com&gt;\r\n          263 bit EDDSA key ****************, created: 2022-05-28\r\n(2)     My Name &lt;my-email@mail.com&gt;\r\n          263 bit EDDSA key ****************, created: 2022-05-25\r\nKeys 1-2 of 2 for &quot;my-email@mail.com&quot;.  Enter number(s), N)ext, or Q)uit &gt;\r\n\r\n```\r\nThe **************** is in fact the last numerals of my keys. It has to be right. Should I only send the last 8 numerals of the key to a server?\r\n\r\nAnd the `singing.password` I use is the same choose when creating a key.\r\n\r\nBut for some esoteric reason. The signing still does not work. Is there no way to pinpoint the EXACT reason for failure?\r\n\r\nPlease, take a look at my `build.gradle`. Is there an alternative way to publishing / signing i could try instead?\r\n\r\nDoes the name of the secret key file matter? `secring.gpg`\r\n\r\n\r\n\r\n\r\n  [1]: https://central.sonatype.org/publish/\r\n  [2]: https://xy2401.com/local-docs/java/gradle-6.0.1/signing_plugin.html#sec:signatory_credentials\r\n  [3]: https://s01.oss.sonatype.org\r\n  [4]: https://gnupg.org/download/\r\n  [5]: https://i.stack.imgur.com/BT93L.png\r\n  [6]: https://s01.oss.sonatype.org/","title":"Gradle task: signMavenJavaPublication failed because it has no configured signatory","body":"<p>I am trying to publish a Java library to maven central repository.\nI have never done this before. This project is for testing purposes. When I figure out\nhow to properly publish a project, I will then publish an actual library.\nMy goal is to be able to add this project as a dependency for other projects.\nI know I could include it as a .jar, but I want to learn about other ways of importing dependencies.</p>\n<p>While running the task:</p>\n<pre><code>./gradlew publish\n</code></pre>\n<p>in my project root folder, I get the build <strong>error</strong>:</p>\n<pre><code>&gt; Task :signMavenJavaPublication FAILED\nCaching disabled for task ':signMavenJavaPublication' because:\n  Build cache is disabled\nTask ':signMavenJavaPublication' is not up-to-date because:\n  Task has failed previously.\n:signMavenJavaPublication (Thread[Execution worker for ':',5,main]) completed. Took 0.004 secs.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':signMavenJavaPublication'.\n&gt; Cannot perform signing task ':signMavenJavaPublication' because it has no configured signatory\n\n</code></pre>\n<p><strong>EDIT:</strong>\nI have made some progress. I will post this at the bottom of the question.</p>\n<p>For the past four days, I have been trying to figure out why. <strong>I will post the build code further below</strong>, but first I will go through all the steps I followed to be able to publish to the central repository in the first place.</p>\n<p>My gradle experience is limited, but I think I know the basics.</p>\n<p>I have read various documentation on:</p>\n<p><a href=\"https://central.sonatype.org/publish/\" rel=\"nofollow noreferrer\">central.sonatype.org</a></p>\n<p><a href=\"https://xy2401.com/local-docs/java/gradle-6.0.1/signing_plugin.html#sec:signatory_credentials\" rel=\"nofollow noreferrer\">Gradle</a></p>\n<p>for how to publish / sign. I don't know exactly what i am doing or why.</p>\n<ol>\n<li><p>Apply for a GroupID on Sonatype Jira. This issue/ticket is resolved. And I should be able to publish SNAPSHOT and release artifacts to <a href=\"https://s01.oss.sonatype.org\" rel=\"nofollow noreferrer\">s01.oss.sonatype.org</a>. My GroupID is my github domain. So, as far as I know, this lets me publish my projects / libraries under &quot;<em>io.github.username</em>&quot;.</p>\n</li>\n<li><p>Download and set up <a href=\"https://gnupg.org/download/\" rel=\"nofollow noreferrer\">GnuPG</a>:</p>\n</li>\n</ol>\n<p>At some point in the set up I was asked to create a GnuPG password (signing.password).\nDon't remember when.</p>\n<pre><code>gpg --gen-key\n</code></pre>\n<p>Entering my name and email. Now I can type:</p>\n<pre><code>gpg -K\n</code></pre>\n<p>And I get the following (not actual values):</p>\n<pre><code>sec   ed25519 2022-05-25 [SC] [expires: 2024-05-24]\n      ****************************************\nuid           [ultimate] My Name &lt;my-email@mail.com&gt;\nssb   cv25519 2022-05-25 [E] [expires: 2024-05-24]\n</code></pre>\n<p>So, the **************************************** is the password I am using. (the final 8 digits).\nNow I export the key.(I think it creates my secret key right?):</p>\n<pre><code>gpg --export-secret-keys ******** &gt; C:\\users\\username\\secring.gpg\n</code></pre>\n<p>As far as I know, this could be any folder. As long as the folder corresponds to the:</p>\n<pre><code>signing.secretKeyRingFile=\\users\\username\\secring.gpg\n</code></pre>\n<p>in the gradle.properties file.\nAlso, what would be the correct way to type this?</p>\n<pre><code>signing.secretKeyRingFile=\\users\\username\\secring.gpg\nsigning.secretKeyRingFile=C:\\users\\username\\secring.gpg\nsigning.secretKeyRingFile=C:\\\\users\\\\username\\\\secring.gpg\nsigning.secretKeyRingFile=&quot;C:\\\\users\\\\username\\\\secring.gpg&quot;\n</code></pre>\n<p>(I think I have tried all the variations)</p>\n<p>Then I need to send the public key to some key server. And there are some alternatives:</p>\n<ul>\n<li>keyserver.ubuntu.com</li>\n<li>keys.openpgp.org</li>\n<li>pgp.mit.edu</li>\n</ul>\n<p>I have tried to send it to all of them.</p>\n<pre><code>gpg --keyserver hkp://keyserver.ubuntu.com --send-keys ****************************************\n</code></pre>\n<p>And to can check if the server received the key:</p>\n<pre><code>gpg --keyserver hkp://keyserver.ubuntu.com --search-key 'my-email@mail.com'\n</code></pre>\n<p>And they got it. At least the server responds with the last 16 or so digits of the key.</p>\n<ol start=\"3\">\n<li>So at this point I set up a simple java test project named &quot;Storage&quot;. Pushing it to my github repo. under the same name.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/BT93L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BT93L.png\" alt=\"Structure\" /></a></p>\n<ol start=\"4\">\n<li>And now we can get to the gradle files. Keep in mind, I'm not entirely sure if this is correct. If I left out something, or something is unnecessary. Please let me know.</li>\n</ol>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java-library'\n    id 'signing'\n    id 'maven-publish'\n}\n\ngroup 'io.github.username'\nversion '0.0.1'\n\nrepositories {\n    mavenCentral()\n    maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n}\n\ndependencies {}\n\njava {\n    withJavadocJar()\n    withSourcesJar()\n}\n\n\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n\n            groupId = 'io.github.username'\n            artifactId = 'storage'\n            version = '0.0.1'\n            from components.java\n\n            pom {\n                name = 'Storage'\n                description = 'Storage is an open-source Java library test'\n                url = 'https://github.com/username/Storage'\n                inceptionYear = '2022'\n\n                licenses {\n                    license {\n                        name = 'MIT License'\n                        url = 'http://www.opensource.org/licenses/mit-license.php'\n                    }\n                }\n                developers {\n                    developer {\n                        id = 'sonatype-username'\n                        name = 'Full Name'\n                        email = 'my-email@mail.com'\n                    }\n                }\n                scm {\n                    connection = 'scm:git:git://github.com/username/Storage.git'\n                    developerConnection = 'scm:git:ssh://github.com/username/Storage.git'\n                    url = 'https://github.com/username/Storage'\n                }\n            }\n        }\n    }\n    repositories {\n        maven {\n            name = &quot;OSSRH&quot;\n            url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\n            credentials {\n                username = project.properties[&quot;ossrhUsername&quot;]\n                password = project.properties[&quot;ossrhPassword&quot;]\n            }\n        }\n    }\n}\n\nsigning {\n    sign publishing.publications.mavenJava\n}\n\njavadoc {\n    if(JavaVersion.current().isJava9Compatible()) {\n        options.addBooleanOption('html5', true)\n    }\n}\n</code></pre>\n<p><strong>gradle-wrapper.properties</strong></p>\n<pre><code># auto-generated\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n\n# Sonatype variables\nossrhUsername=username\nossrhPassword=password\n\n# GnuPG\nsigning.keyId=********\nsinging.password=GnpPassword\nsigning.secretKeyRingFile=\\Users\\username\\secring.gpg\n</code></pre>\n<p><strong>settings.gradle</strong></p>\n<pre><code>rootProject.name = 'Storage'\n</code></pre>\n<p>That should be it. But I can include versions of various software/tools:</p>\n<ul>\n<li>OS Windows 10</li>\n<li>GnuPG 2.3.6</li>\n<li>Gradle 7.4.2</li>\n<li>Java 13.0.1</li>\n<li>Groovy 3.0.9</li>\n</ul>\n<p><strong>PROGRESS:</strong></p>\n<p>I got the project published to <a href=\"https://s01.oss.sonatype.org/\" rel=\"nofollow noreferrer\">Nexus repository manager</a>.\nSo I know for a fact that <code>build.gradle</code> can access my <code>gradle.properties</code> file and can read it's content.</p>\n<p>I got the publish task to work by excluding the signing part.</p>\n<p>I have sent my key (two keys now) to both:</p>\n<ul>\n<li>keyserver.ubuntu.com</li>\n<li>pgp.mit.edu</li>\n</ul>\n<p>keys.openpgp.org does not seem to work. I get <code>gpg: keyserver send failed: Certificate expired</code></p>\n<p>When i send a key to a server I use the FULL KEY ID.</p>\n<p>I can query a server to see if they in fact received the keys: <code>gpg --keyserver hkp://keyserver.ubuntu.com --search-key 'my-email@mail.com'</code></p>\n<p>And both servers have received 2 keys:</p>\n<pre><code>(1)     My Name &lt;my-email@mail.com&gt;\n          263 bit EDDSA key ****************, created: 2022-05-28\n(2)     My Name &lt;my-email@mail.com&gt;\n          263 bit EDDSA key ****************, created: 2022-05-25\nKeys 1-2 of 2 for &quot;my-email@mail.com&quot;.  Enter number(s), N)ext, or Q)uit &gt;\n\n</code></pre>\n<p>The **************** is in fact the last numerals of my keys. It has to be right. Should I only send the last 8 numerals of the key to a server?</p>\n<p>And the <code>singing.password</code> I use is the same choose when creating a key.</p>\n<p>But for some esoteric reason. The signing still does not work. Is there no way to pinpoint the EXACT reason for failure?</p>\n<p>Please, take a look at my <code>build.gradle</code>. Is there an alternative way to publishing / signing i could try instead?</p>\n<p>Does the name of the secret key file matter? <code>secring.gpg</code></p>\n"},{"tags":["java","http"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":4,"up_vote_count":21,"is_accepted":true,"score":17,"last_activity_date":1404207637,"creation_date":1248353759,"answer_id":1171537,"question_id":1171513,"body_markdown":"You&#39;ll have the use the methods available to you:\r\n\r\n    URL oldUrl = new URL(&quot;https://www.bla.com&quot;);\r\n    URL newUrl = new URL(&quot;http&quot;, oldUrl.getHost(), oldUrl.getPort(), oldUrl.getFile(), oldUrl.getRef());\r\n\r\nThere&#39;s an even more expansive set() method that takes 8 items, you might need that for more elaborate URLs.\r\n\r\nEdit: As was just pointed out to me, I wasn&#39;t paying attention, and set() is protected. So URL is technically mutable, but to us mortals, it&#39;s immutable. So you&#39;ll just have to construct a new URL object.","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>You'll have the use the methods available to you:</p>\n\n<pre><code>URL oldUrl = new URL(\"https://www.bla.com\");\nURL newUrl = new URL(\"http\", oldUrl.getHost(), oldUrl.getPort(), oldUrl.getFile(), oldUrl.getRef());\n</code></pre>\n\n<p>There's an even more expansive set() method that takes 8 items, you might need that for more elaborate URLs.</p>\n\n<p>Edit: As was just pointed out to me, I wasn't paying attention, and set() is protected. So URL is technically mutable, but to us mortals, it's immutable. So you'll just have to construct a new URL object.</p>\n"},{"tags":[],"owner":{"account_id":1396222,"reputation":109,"user_id":1325916,"display_name":"yorick456"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1506107764,"creation_date":1449567109,"answer_id":34152304,"question_id":1171513,"body_markdown":"You can also use string replacement:\r\n\r\n    URL oldUrl = new URL(&quot;https://www.bla.com&quot;);\r\n    String newUrlString = oldUrl.toString().replaceFirst(&quot;^https&quot;, &quot;http&quot;);\r\n    URL newUrl = new URL(newUrlString);","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>You can also use string replacement:</p>\n\n<pre><code>URL oldUrl = new URL(\"https://www.bla.com\");\nString newUrlString = oldUrl.toString().replaceFirst(\"^https\", \"http\");\nURL newUrl = new URL(newUrlString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1453097,"reputation":477,"user_id":1369434,"accept_rate":50,"display_name":"nyx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463144934,"creation_date":1463144934,"answer_id":37210932,"question_id":1171513,"body_markdown":"Or you can use `org.springframework.web.util.UriComponentsBuilder`/ `org.springframework.web.util.UriComponents`\r\n\r\nsee: https://stackoverflow.com/questions/22003574/does-there-exist-a-mutable-url-uri-object-in-java","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>Or you can use <code>org.springframework.web.util.UriComponentsBuilder</code>/ <code>org.springframework.web.util.UriComponents</code></p>\n\n<p>see: <a href=\"https://stackoverflow.com/questions/22003574/does-there-exist-a-mutable-url-uri-object-in-java\">Does there exist a mutable URL/URI object in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":291162,"reputation":2827,"user_id":593146,"accept_rate":83,"display_name":"Zyl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673622963,"creation_date":1673622617,"answer_id":75110985,"question_id":1171513,"body_markdown":"It appears they forgot to make their class useful. Stealing code from `URL.toExternalForm()` helps:\r\n\r\n```java\r\npublic class ICantBelieveThisIsNotInTheStandardLibrary {\r\n    public static final URL makeCopyWithDifferentProtocol(URL u, String protocol) {\r\n        StringBuffer result = new StringBuffer();\r\n        result.append(protocol);\r\n        result.append(&quot;:&quot;);\r\n        if (u.getAuthority() != null &amp;&amp; u.getAuthority().length() &gt; 0) {\r\n            result.append(&quot;//&quot;);\r\n            result.append(u.getAuthority());\r\n        }\r\n        if (u.getPath() != null) {\r\n            result.append(u.getPath());\r\n        }\r\n        if (u.getQuery() != null) {\r\n            result.append(&#39;?&#39;);\r\n            result.append(u.getQuery());\r\n        }\r\n        if (u.getRef() != null) {\r\n            result.append(&quot;#&quot;);\r\n            result.append(u.getRef());\r\n        }\r\n        return new URL(result.toString());\r\n    }\r\n}\r\n```\r\n\r\nThe answer which suggests to use a String-replacement is shorter, but you are going to need something like this if you ever want to change any of the other URL components.","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>It appears they forgot to make their class useful. Stealing code from <code>URL.toExternalForm()</code> helps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ICantBelieveThisIsNotInTheStandardLibrary {\n    public static final URL makeCopyWithDifferentProtocol(URL u, String protocol) {\n        StringBuffer result = new StringBuffer();\n        result.append(protocol);\n        result.append(&quot;:&quot;);\n        if (u.getAuthority() != null &amp;&amp; u.getAuthority().length() &gt; 0) {\n            result.append(&quot;//&quot;);\n            result.append(u.getAuthority());\n        }\n        if (u.getPath() != null) {\n            result.append(u.getPath());\n        }\n        if (u.getQuery() != null) {\n            result.append('?');\n            result.append(u.getQuery());\n        }\n        if (u.getRef() != null) {\n            result.append(&quot;#&quot;);\n            result.append(u.getRef());\n        }\n        return new URL(result.toString());\n    }\n}\n</code></pre>\n<p>The answer which suggests to use a String-replacement is shorter, but you are going to need something like this if you ever want to change any of the other URL components.</p>\n"},{"tags":[],"owner":{"account_id":28900119,"reputation":21,"user_id":22135289,"display_name":"Amit Mittal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687932804,"creation_date":1687808793,"answer_id":76559805,"question_id":1171513,"body_markdown":"String url - &quot;`https://www.some-host.com/some-path?somequery=some-value`&quot;;\r\n\r\n    String newUrl = UriComponentsBuilder.newInstance()\r\n              .fromUriString(url)\r\n              .scheme(&quot;http&quot;)\r\n              .build()\r\n              .toUriString();\r\n\r\nIt&#39;ll just replace scheme and rest url will remain as-is","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>String url - &quot;<code>https://www.some-host.com/some-path?somequery=some-value</code>&quot;;</p>\n<pre><code>String newUrl = UriComponentsBuilder.newInstance()\n          .fromUriString(url)\n          .scheme(&quot;http&quot;)\n          .build()\n          .toUriString();\n</code></pre>\n<p>It'll just replace scheme and rest url will remain as-is</p>\n"}],"owner":{"account_id":25060,"reputation":9771,"user_id":64138,"accept_rate":92,"display_name":"Alceu Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16551,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1171537,"answer_count":5,"score":10,"last_activity_date":1687932804,"creation_date":1248353502,"question_id":1171513,"body_markdown":"I have a java.net.URL object that uses the HTTPS protocol, e.g.:\r\n\r\n    https://www.bla.com\r\n\r\nAnd I have to change only the protocol part of this URL object so that when I call its toString() method I get this:\r\n\r\n    http://www.bla.com\r\n\r\nWhat is the best way to do that?","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>I have a java.net.URL object that uses the HTTPS protocol, e.g.:</p>\n<pre><code>https://www.bla.com\n</code></pre>\n<p>And I have to change only the protocol part of this URL object so that when I call its toString() method I get this:</p>\n<pre><code>http://www.bla.com\n</code></pre>\n<p>What is the best way to do that?</p>\n"},{"tags":["java","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687770057,"creation_date":1687770057,"answer_id":76555144,"question_id":76554948,"body_markdown":"You are trying to inject a class that is not a Spring Bean:\r\n\r\n\r\n    @Autowired\r\n    private JSONObject json;\r\n\r\nAs in the commented out code simply instantiate the object:\r\n\r\n    JSONObject json = new JSONObject(newQuestionObj);","title":"what this error means &#39;org.json.JSONObject&#39;?","body":"<p>You are trying to inject a class that is not a Spring Bean:</p>\n<pre><code>@Autowired\nprivate JSONObject json;\n</code></pre>\n<p>As in the commented out code simply instantiate the object:</p>\n<pre><code>JSONObject json = new JSONObject(newQuestionObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28896577,"reputation":39,"user_id":22132445,"display_name":"Aksh Patel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1687932750,"creation_date":1687772868,"answer_id":76555498,"question_id":76554948,"body_markdown":"Use the following code snippet to resolve the issue,\r\n\r\n    JSONObject json = new JSONObject(newQuestionObj);\r\n\r\n","title":"what this error means &#39;org.json.JSONObject&#39;?","body":"<p>Use the following code snippet to resolve the issue,</p>\n<pre><code>JSONObject json = new JSONObject(newQuestionObj);\n</code></pre>\n"}],"owner":{"account_id":25877367,"reputation":3,"user_id":19607093,"display_name":"19001011057 SHRAVAN KHAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76555144,"answer_count":2,"score":0,"last_activity_date":1687932750,"creation_date":1687768620,"question_id":76554948,"body_markdown":"**QuestionController Class:**\r\n\r\n```\r\npackage app.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.json.JSONObject;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport app.model.Question;\r\nimport app.repository.QuestionRepository;\r\n\r\n/**\r\n * @implNote Controller Class to manage Questions http operations\r\n * @author usardar\r\n *\r\n */\r\n@RestController\r\n@RequestMapping(&quot;/question&quot;)\r\n@CrossOrigin\r\npublic class QuestionController {\r\n\r\n\t@Autowired\r\n\tprivate JSONObject json;\r\n\r\n\t@Autowired\r\n\tprivate QuestionRepository questionRepository;\r\n\r\n\t@Autowired\r\n\tprivate Question question;\r\n\r\n\t/*\r\n\t * Usage: Example: http://localhost:8080/question/retrievequestions \r\n\t * Output: [ {&quot;qId&quot;:3, &quot;title&quot;:&quot;Who is the founder of Dawn news?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;} ]\r\n\t */\r\n\t@GetMapping(&quot;/retrievequestions&quot;)\r\n\tpublic List&lt;Question&gt; getQuestionsList() {\r\n\t\tList&lt;Question&gt; questionsList = questionRepository.findAll();\r\n\t\tif (questionsList != null) {\r\n\t\t\treturn questionsList;\r\n\t\t}\r\n\t\treturn questionsList;\r\n\t}\r\n\r\n\t/*\r\n\t * Usage: \r\n\t * Example: http://localhost:8080/question/addquestion\r\n\t * Post Request : {&quot;title&quot;:&quot;Who is the founder of Pakistan?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;}\r\n\t * Output: [ {&quot;success&quot;, &quot;Question Inserted Successfuly&quot;} ]\r\n\t */\r\n\t@PostMapping(&quot;/addquestion&quot;)\r\n\tpublic String addQuestion(@RequestBody String newQuestionObj) {\r\n\t\tSystem.out.println(newQuestionObj);\r\n//\t\tjson = new JSONObject(newQuestionObj);\r\n\t\tquestion.setQuestion(json.getString(&quot;newQuestion&quot;));\r\n\t\tquestion.setOptA(json.getString(&quot;newOptA&quot;));\r\n\t\tquestion.setOptB(json.getString(&quot;newOptB&quot;));\r\n\t\tquestion.setOptC(json.getString(&quot;newOptC&quot;));\r\n\t\tquestion.setAnswer(json.getString(&quot;newAnswer&quot;));\r\n\t\tquestionRepository.save(question);\r\n\t\tjson.clear();\r\n\t\tjson.put(&quot;success&quot;, &quot;Question Inserted Successfuly&quot;);\r\n\t\treturn json.toString();\r\n\t}\r\n\r\n}\r\n```\r\nThis is my class for reference.\r\n\r\nError message:\r\nField json in app.controller.QuestionController required a bean of type &#39;org.json.JSONObject&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.json.JSONObject&#39; in your configuration.\r\n\r\n","title":"what this error means &#39;org.json.JSONObject&#39;?","body":"<p><strong>QuestionController Class:</strong></p>\n<pre><code>package app.controller;\n\nimport java.util.List;\n\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport app.model.Question;\nimport app.repository.QuestionRepository;\n\n/**\n * @implNote Controller Class to manage Questions http operations\n * @author usardar\n *\n */\n@RestController\n@RequestMapping(&quot;/question&quot;)\n@CrossOrigin\npublic class QuestionController {\n\n    @Autowired\n    private JSONObject json;\n\n    @Autowired\n    private QuestionRepository questionRepository;\n\n    @Autowired\n    private Question question;\n\n    /*\n     * Usage: Example: http://localhost:8080/question/retrievequestions \n     * Output: [ {&quot;qId&quot;:3, &quot;title&quot;:&quot;Who is the founder of Dawn news?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;} ]\n     */\n    @GetMapping(&quot;/retrievequestions&quot;)\n    public List&lt;Question&gt; getQuestionsList() {\n        List&lt;Question&gt; questionsList = questionRepository.findAll();\n        if (questionsList != null) {\n            return questionsList;\n        }\n        return questionsList;\n    }\n\n    /*\n     * Usage: \n     * Example: http://localhost:8080/question/addquestion\n     * Post Request : {&quot;title&quot;:&quot;Who is the founder of Pakistan?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;}\n     * Output: [ {&quot;success&quot;, &quot;Question Inserted Successfuly&quot;} ]\n     */\n    @PostMapping(&quot;/addquestion&quot;)\n    public String addQuestion(@RequestBody String newQuestionObj) {\n        System.out.println(newQuestionObj);\n//      json = new JSONObject(newQuestionObj);\n        question.setQuestion(json.getString(&quot;newQuestion&quot;));\n        question.setOptA(json.getString(&quot;newOptA&quot;));\n        question.setOptB(json.getString(&quot;newOptB&quot;));\n        question.setOptC(json.getString(&quot;newOptC&quot;));\n        question.setAnswer(json.getString(&quot;newAnswer&quot;));\n        questionRepository.save(question);\n        json.clear();\n        json.put(&quot;success&quot;, &quot;Question Inserted Successfuly&quot;);\n        return json.toString();\n    }\n\n}\n</code></pre>\n<p>This is my class for reference.</p>\n<p>Error message:\nField json in app.controller.QuestionController required a bean of type 'org.json.JSONObject' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:</p>\n<p>Consider defining a bean of type 'org.json.JSONObject' in your configuration.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":1,"creation_date":1467385441,"post_id":8367312,"comment_id":63726871,"body_markdown":"I wrote a post about [How to Write a Custom Serializer with Jackson](https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson) that may be helpful to some.","body":"I wrote a post about <a href=\"https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson\" rel=\"nofollow noreferrer\">How to Write a Custom Serializer with Jackson</a> that may be helpful to some."}],"answers":[{"tags":[],"owner":{"account_id":47141,"reputation":22981,"user_id":139506,"display_name":"Chris"},"down_vote_count":2,"up_vote_count":94,"is_accepted":false,"score":92,"last_activity_date":1500744294,"creation_date":1322911790,"answer_id":8367333,"question_id":8367312,"body_markdown":"For Jackson to serialize that class, the `SomeString` field needs to either be `public` (right now it&#39;s package level isolation) or you need to define getter and setter methods for it.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>For Jackson to serialize that class, the <code>SomeString</code> field needs to either be <code>public</code> (right now it's package level isolation) or you need to define getter and setter methods for it.</p>\n"},{"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"down_vote_count":2,"up_vote_count":444,"is_accepted":true,"score":442,"last_activity_date":1552985033,"creation_date":1323150806,"answer_id":8395924,"question_id":8367312,"body_markdown":"As already described, the default configuration of an `ObjectMapper` instance is to only access properties that are public fields or have public getters/setters.  An alternative to changing the class definition to make a field public or to provide a public getter/setter is to specify (to the underlying `VisibilityChecker`) a different property visibility rule.  Jackson 1.9 provides the `ObjectMapper.setVisibility()` convenience method for doing so.  For the example in the original question, I&#39;d likely configure this as\r\n\r\n    myObjectMapper.setVisibility(JsonMethod.FIELD, Visibility.ANY);\r\n\r\nFor Jackson &gt;2.0:\r\n\r\n    myObjectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\nFor more information and details on related configuration options, I recommend reviewing [the JavaDocs on `ObjectMapper.setVisibility()`][1].\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility)","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>As already described, the default configuration of an <code>ObjectMapper</code> instance is to only access properties that are public fields or have public getters/setters.  An alternative to changing the class definition to make a field public or to provide a public getter/setter is to specify (to the underlying <code>VisibilityChecker</code>) a different property visibility rule.  Jackson 1.9 provides the <code>ObjectMapper.setVisibility()</code> convenience method for doing so.  For the example in the original question, I'd likely configure this as</p>\n\n<pre><code>myObjectMapper.setVisibility(JsonMethod.FIELD, Visibility.ANY);\n</code></pre>\n\n<p>For Jackson >2.0:</p>\n\n<pre><code>myObjectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n</code></pre>\n\n<p>For more information and details on related configuration options, I recommend reviewing <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility)\" rel=\"noreferrer\">the JavaDocs on <code>ObjectMapper.setVisibility()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":282386,"reputation":788,"user_id":579241,"accept_rate":43,"display_name":"patrics"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1367933102,"creation_date":1367933102,"answer_id":16420244,"question_id":8367312,"body_markdown":"This error is also thrown if you forget to add the .build() method onto your return status.\r\n\r\n    return Response.status(Status.OK);         // fails\r\n    return Response.status(Status.OK).build(); // works\r\n\r\n\r\nI got the following error without build() method:\r\n\r\n    org.codehaus.jackson.map.JsonMappingException: No serializer found for class com.sun.jersey.core.spi.factory.ResponseBuilderImpl","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>This error is also thrown if you forget to add the .build() method onto your return status.</p>\n\n<pre><code>return Response.status(Status.OK);         // fails\nreturn Response.status(Status.OK).build(); // works\n</code></pre>\n\n<p>I got the following error without build() method:</p>\n\n<pre><code>org.codehaus.jackson.map.JsonMappingException: No serializer found for class com.sun.jersey.core.spi.factory.ResponseBuilderImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2415063,"reputation":1037,"user_id":2109292,"display_name":"Mart&#237;n C"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1500744148,"creation_date":1411841934,"answer_id":26077731,"question_id":8367312,"body_markdown":"The problem in my case was Jackson was trying to serialize an empty object with no attributes nor methods.\r\n\r\nAs suggested in the exception I added the following line to avoid failure on empty beans:\r\n\r\nFor Jackson 1.9\r\n\r\n    myObjectMapper.configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\nFor Jackson 2.X\r\n\r\n    myObjectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\nYou can find a simple example on https://stackoverflow.com/questions/15261456/jackson-disable-fail-on-empty-beans","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>The problem in my case was Jackson was trying to serialize an empty object with no attributes nor methods.</p>\n\n<p>As suggested in the exception I added the following line to avoid failure on empty beans:</p>\n\n<p>For Jackson 1.9</p>\n\n<pre><code>myObjectMapper.configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS, false);\n</code></pre>\n\n<p>For Jackson 2.X</p>\n\n<pre><code>myObjectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n</code></pre>\n\n<p>You can find a simple example on <a href=\"https://stackoverflow.com/questions/15261456/jackson-disable-fail-on-empty-beans\">jackson disable fail_on_empty_beans</a></p>\n"},{"tags":[],"owner":{"account_id":427657,"reputation":2580,"user_id":809536,"accept_rate":80,"display_name":"ZiglioUK"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421377041,"creation_date":1421377041,"answer_id":27976606,"question_id":8367312,"body_markdown":"If you can edit the class containing that object, I usually just add the annotation\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    \r\n    @JsonIgnore \r\n    NonSerializeableClass obj;\r\n","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>If you can edit the class containing that object, I usually just add the annotation</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n\n@JsonIgnore \nNonSerializeableClass obj;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309484,"reputation":4614,"user_id":621951,"accept_rate":75,"display_name":"G&#252;nay G&#252;ltekin"},"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1595321375,"creation_date":1444667771,"answer_id":33086061,"question_id":8367312,"body_markdown":"Add a\r\n&gt; getter\r\n\r\n and a\r\n\r\n&gt; setter\r\n\r\nand the problem is solved.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Add a</p>\n<blockquote>\n<p>getter</p>\n</blockquote>\n<p>and a</p>\n<blockquote>\n<p>setter</p>\n</blockquote>\n<p>and the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":6858324,"reputation":517,"user_id":5273214,"display_name":"Sanchit Singhania"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1500744195,"creation_date":1456134906,"answer_id":35550532,"question_id":8367312,"body_markdown":"The problem may be because you have declared variable as `private`.\r\nIf you change it to `public`, it works.\r\n\r\nBetter option is to use getter and setter methods for it.\r\n\r\nThis will solve the issue!","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>The problem may be because you have declared variable as <code>private</code>.\nIf you change it to <code>public</code>, it works.</p>\n\n<p>Better option is to use getter and setter methods for it.</p>\n\n<p>This will solve the issue!</p>\n"},{"tags":[],"owner":{"account_id":210642,"reputation":8430,"user_id":1347816,"accept_rate":78,"display_name":"LEMUEL  ADANE"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500744226,"creation_date":1480025172,"answer_id":40795087,"question_id":8367312,"body_markdown":"For Oracle Java applications, add this after the `ObjectMapper` instantiation:    \r\n    \r\n    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        ","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>For Oracle Java applications, add this after the <code>ObjectMapper</code> instantiation:    </p>\n\n<pre><code>mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7836979,"reputation":1181,"user_id":7581696,"display_name":"N. berouain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493823390,"creation_date":1493823390,"answer_id":43763580,"question_id":8367312,"body_markdown":"\r\n\r\nI had a similar problem with lazy loading via the hibernate proxy object. Got around it by annotating the class having lazy loaded private properties with:\r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I had a similar problem with lazy loading via the hibernate proxy object. Got around it by annotating the class having lazy loaded private properties with:</p>\n\n<pre><code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7143160,"reputation":435,"user_id":5459951,"accept_rate":47,"display_name":"yellow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509467007,"creation_date":1509467007,"answer_id":47040080,"question_id":8367312,"body_markdown":"Though I added getters and setters I was getting the same error. Later I found a bug, that is by Sonar&#39;s advice I cgahnged the getters and setters as protected which was causing the issue. Once I fixed that it worked as exppected.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Though I added getters and setters I was getting the same error. Later I found a bug, that is by Sonar's advice I cgahnged the getters and setters as protected which was causing the issue. Once I fixed that it worked as exppected.</p>\n"},{"tags":[],"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1517388293,"creation_date":1517388293,"answer_id":48537909,"question_id":8367312,"body_markdown":"I had the same problem for a child class where I had control, object mapper was in a common module and was inaccessible. I solved it by adding this annotation for my child class whose object was to be serialized.\r\n\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I had the same problem for a child class where I had control, object mapper was in a common module and was inaccessible. I solved it by adding this annotation for my child class whose object was to be serialized.</p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3092120,"reputation":1588,"user_id":2618036,"display_name":"georger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530875238,"creation_date":1530875238,"answer_id":51209044,"question_id":8367312,"body_markdown":"I found at least three ways of doing this:\r\n\r\n 1. Add `public getters` on your entity that you try to serialize;\r\n 2. Add an annotation at the top of the entity, if you don&#39;t want `public getters`. This will change the default for Jackson from `Visbility=DEFAULT` to `@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)` where any access modifiers are accepted;\r\n 3. Change your `ObjectMapper` globally by setting `objectMapperInstance.setVisibility(JsonMethod.FIELD, Visibility.ANY);`. This should be avoided if you don&#39;t need this functionality globally.\r\n\r\nChoose based on your needs.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I found at least three ways of doing this:</p>\n\n<ol>\n<li>Add <code>public getters</code> on your entity that you try to serialize;</li>\n<li>Add an annotation at the top of the entity, if you don't want <code>public getters</code>. This will change the default for Jackson from <code>Visbility=DEFAULT</code> to <code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)</code> where any access modifiers are accepted;</li>\n<li>Change your <code>ObjectMapper</code> globally by setting <code>objectMapperInstance.setVisibility(JsonMethod.FIELD, Visibility.ANY);</code>. This should be avoided if you don't need this functionality globally.</li>\n</ol>\n\n<p>Choose based on your needs.</p>\n"},{"tags":[],"owner":{"account_id":8647458,"reputation":31,"user_id":6474268,"display_name":"Santhosh Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533717323,"creation_date":1533715630,"answer_id":51741603,"question_id":8367312,"body_markdown":"Here are the three options:\r\n\r\n1. Data/class that&#39;s been accessed needs to be `public`\r\n2. If not `public`, add __getters &amp; setters__\r\n3. Or add `@JsonIgnore(&quot;context&quot;)`","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Here are the three options:</p>\n\n<ol>\n<li>Data/class that's been accessed needs to be <code>public</code></li>\n<li>If not <code>public</code>, add <strong>getters &amp; setters</strong></li>\n<li>Or add <code>@JsonIgnore(\"context\")</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13997893,"reputation":71,"user_id":10110254,"display_name":"Janus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1536400686,"creation_date":1536400686,"answer_id":52234132,"question_id":8367312,"body_markdown":"SpringBoot2.0 ，I resolve it by follow code:\r\n\r\n    @Bean public ObjectMapper objectMapper() {\r\n     return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);}","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>SpringBoot2.0 ，I resolve it by follow code:</p>\n\n<pre><code>@Bean public ObjectMapper objectMapper() {\n return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9975838,"reputation":51,"user_id":7380479,"display_name":"raveendra_bikkina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570255147,"creation_date":1570254734,"answer_id":58245735,"question_id":8367312,"body_markdown":"Please use this at class level for the bean:\r\n\r\n    @JsonIgnoreProperties(value={&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;,&quot;fieldHandler&quot;})","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Please use this at class level for the bean:</p>\n\n<pre><code>@JsonIgnoreProperties(value={\"hibernateLazyInitializer\",\"handler\",\"fieldHandler\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6995802,"reputation":15,"user_id":5363534,"display_name":"Satya Prakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580996141,"creation_date":1580989831,"answer_id":60094326,"question_id":8367312,"body_markdown":"adding setter and getter will also solve the issue as it fixed for me.\r\n For Ex:\r\n\r\n\r\n    public class TestA {\r\n        String SomeString = &quot;asd&quot;;\r\n        \r\n        public String getSomeString () { \t\treturn SomeString ; \t}\r\n    \r\n    \tpublic void setSomeString (String SS ) { \t\tSomeString = SS ; \t} \r\n    }","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>adding setter and getter will also solve the issue as it fixed for me.\n For Ex:</p>\n\n<pre><code>public class TestA {\n    String SomeString = \"asd\";\n\n    public String getSomeString () {        return SomeString ;     }\n\n    public void setSomeString (String SS ) {        SomeString = SS ;   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18005107,"reputation":31,"user_id":13086073,"display_name":"Vanita Dhotre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584585757,"creation_date":1584585757,"answer_id":60750209,"question_id":8367312,"body_markdown":"I just had only getters , after adding setters too , problems resolved.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I just had only getters , after adding setters too , problems resolved.</p>\n"},{"tags":[],"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1586335459,"creation_date":1586335459,"answer_id":61096674,"question_id":8367312,"body_markdown":"in spring boot 2.2.5\r\n\r\nafter adding getter and setter \r\n\r\ni added @JsonIgnore on top of the field.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>in spring boot 2.2.5</p>\n\n<p>after adding getter and setter </p>\n\n<p>i added @JsonIgnore on top of the field.</p>\n"},{"tags":[],"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608646331,"creation_date":1608646331,"answer_id":65410192,"question_id":8367312,"body_markdown":"If you use Lomdok libraray (https://projectlombok.org/) then add `@Data` (https://projectlombok.org/features/Data) annotation to your data object class.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>If you use Lomdok libraray (<a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a>) then add <code>@Data</code> (<a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Data</a>) annotation to your data object class.</p>\n"},{"tags":[],"owner":{"account_id":4776516,"reputation":546,"user_id":3859455,"display_name":"Nakesh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1634030796,"creation_date":1634030796,"answer_id":69538081,"question_id":8367312,"body_markdown":"Jackson uses getters and setters serialization./deserialization.\r\nSo add getter and setter in your model class. ","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Jackson uses getters and setters serialization./deserialization.\nSo add getter and setter in your model class.</p>\n"},{"tags":[],"owner":{"account_id":15032849,"reputation":526,"user_id":10850340,"display_name":"j.xavier.atero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661503012,"creation_date":1661502201,"answer_id":73498076,"question_id":8367312,"body_markdown":"For me, the problem was the annotation `@RestResource(exported = false)` from the `import org.springframework.data.rest.core.annotation.RestResource`. Which I forgot to remove.\r\n\r\nAlso, I got the same error when I forgot to add the class annotation `@XmlRootElement` from the `import javax.xml.bind.annotation.XmlRootElement`.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>For me, the problem was the annotation <code>@RestResource(exported = false)</code> from the <code>import org.springframework.data.rest.core.annotation.RestResource</code>. Which I forgot to remove.</p>\n<p>Also, I got the same error when I forgot to add the class annotation <code>@XmlRootElement</code> from the <code>import javax.xml.bind.annotation.XmlRootElement</code>.</p>\n"},{"tags":[],"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673038356,"creation_date":1673038356,"answer_id":75035987,"question_id":8367312,"body_markdown":"I solved with `@Getter` from lombok","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I solved with <code>@Getter</code> from lombok</p>\n"},{"tags":[],"owner":{"account_id":6566070,"reputation":657,"user_id":5075658,"display_name":"Sumit Jadiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675654651,"creation_date":1675654651,"answer_id":75357125,"question_id":8367312,"body_markdown":"Adding a getter/setter solved this problem for me.\r\neither manually add getter/setter or use Lombok annotations @Getter/@Setter/@Data for the same.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Adding a getter/setter solved this problem for me.\neither manually add getter/setter or use Lombok annotations @Getter/@Setter/@Data for the same.</p>\n"},{"tags":[],"owner":{"account_id":28438417,"reputation":21,"user_id":21758160,"display_name":"hiten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687932650,"creation_date":1687701327,"answer_id":76550753,"question_id":8367312,"body_markdown":"Add this in your application properties file \r\n\r\n    spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Add this in your application properties file</p>\n<pre><code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false\n</code></pre>\n"}],"owner":{"account_id":59548,"reputation":19807,"user_id":178143,"accept_rate":61,"display_name":"Ted"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541475,"favorite_count":0,"down_vote_count":1,"up_vote_count":367,"accepted_answer_id":8395924,"answer_count":24,"score":366,"last_activity_date":1687932650,"creation_date":1322911573,"question_id":8367312,"body_markdown":"I get the an exception when trying to serialize a very simple object using Jackson. The error:\r\n\r\n&gt; org.codehaus.jackson.map.JsonMappingException: No serializer found for\r\n&gt; class MyPackage.TestA and no properties\r\n&gt; discovered to create BeanSerializer (to avoid exception, disable\r\n&gt; SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )\r\n\r\nBelow is the simple class and code to serialize. \r\n\r\nCan anyone tell my why I get this error?\r\n\r\n\r\n    public class TestA {\r\n    \tString SomeString = &quot;asd&quot;;\r\n    }\r\n\r\n    TestA testA = new TestA();\r\n    ObjectMapper om = new ObjectMapper();\r\n    try {\r\n    \tString testAString = om.writeValueAsString(testA); // error here!\r\n    \t\r\n    \tTestA newTestA = om.readValue(testAString, TestA.class);\r\n    } catch (JsonGenerationException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    } catch (JsonMappingException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    } catch (IOException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }\r\n\r\n","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I get the an exception when trying to serialize a very simple object using Jackson. The error:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.JsonMappingException: No serializer found for\n  class MyPackage.TestA and no properties\n  discovered to create BeanSerializer (to avoid exception, disable\n  SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )</p>\n</blockquote>\n\n<p>Below is the simple class and code to serialize. </p>\n\n<p>Can anyone tell my why I get this error?</p>\n\n<pre><code>public class TestA {\n    String SomeString = \"asd\";\n}\n\nTestA testA = new TestA();\nObjectMapper om = new ObjectMapper();\ntry {\n    String testAString = om.writeValueAsString(testA); // error here!\n\n    TestA newTestA = om.readValue(testAString, TestA.class);\n} catch (JsonGenerationException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1687885199,"post_id":76566813,"comment_id":134998516,"body_markdown":"Since you only have 7 tables for this purpose why not do it the simple way? Create a factory and based on the table name you provide it with the repo/method you need? Or if you want to pursue this annotation path anyways why not just annotate the specific method for each of the repositories and get them instead? This way you don&#39;t need to worry which specific method you want as you already know because of the annotation.","body":"Since you only have 7 tables for this purpose why not do it the simple way? Create a factory and based on the table name you provide it with the repo/method you need? Or if you want to pursue this annotation path anyways why not just annotate the specific method for each of the repositories and get them instead? This way you don&#39;t need to worry which specific method you want as you already know because of the annotation."},{"owner":{"account_id":18759497,"reputation":1,"user_id":13678751,"display_name":"Gwen"},"score":0,"creation_date":1687888382,"post_id":76566813,"comment_id":134999221,"body_markdown":"Thanks you @JorgeCampos for your answer :). I have thought about implementing a factory which returns instance of a particular repository based on table string in a switch case statement. Don&#39;t you think think that&#39;s a dirty way to implement it ? I mean the switch/case statement will be hard to maintinain imo.","body":"Thanks you @JorgeCampos for your answer :). I have thought about implementing a factory which returns instance of a particular repository based on table string in a switch case statement. Don&#39;t you think think that&#39;s a dirty way to implement it ? I mean the switch/case statement will be hard to maintinain imo."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1687889186,"post_id":76566813,"comment_id":134999396,"body_markdown":"The design pattern Factory is there since forever, so are you calling a well established pattern a dirty implementation? And to answer you, no I don&#39;t think so. This requirement of yours is already violating a separation of concerns principle the application front end/api parameters knows about the ins/outs of your backend (tables). And about the maintainability statement of yours, you really think that a switch case would be harder to maintain and understand than `reposSpiderEligible` method? Write the switch and then compare which one is harder to read :)","body":"The design pattern Factory is there since forever, so are you calling a well established pattern a dirty implementation? And to answer you, no I don&#39;t think so. This requirement of yours is already violating a separation of concerns principle the application front end/api parameters knows about the ins/outs of your backend (tables). And about the maintainability statement of yours, you really think that a switch case would be harder to maintain and understand than <code>reposSpiderEligible</code> method? Write the switch and then compare which one is harder to read :)"},{"owner":{"account_id":18759497,"reputation":1,"user_id":13678751,"display_name":"Gwen"},"score":1,"creation_date":1687889646,"post_id":76566813,"comment_id":134999467,"body_markdown":"Again, thanks for your answer @JorgeCampos ! I have only two years of professional development experience. I will follow your advice then. Thanks for your time :).","body":"Again, thanks for your answer @JorgeCampos ! I have only two years of professional development experience. I will follow your advice then. Thanks for your time :)."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1687889778,"post_id":76566813,"comment_id":134999485,"body_markdown":"No worries, also you can implement a factory without a switch if you really don&#39;t like it, here is an example: https://medium.com/swlh/factory-pattern-without-switch-this-is-how-it-should-be-done-cd895e356f44","body":"No worries, also you can implement a factory without a switch if you really don&#39;t like it, here is an example: <a href=\"https://medium.com/swlh/factory-pattern-without-switch-this-is-how-it-should-be-done-cd895e356f44\" rel=\"nofollow noreferrer\">medium.com/swlh/&hellip;</a>"}],"owner":{"account_id":18759497,"reputation":1,"user_id":13678751,"display_name":"Gwen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687932620,"creation_date":1687882508,"question_id":76566813,"body_markdown":"I&#39;m currently facing an issue in a work project.\r\n\r\nFrom a string parameter passed in a controller representing a sql table name (e.g: TABLE_NAME), i must extract all the data from it. Not all the tables are eligible, only 7.\r\n\r\nI thought about that:\r\n\r\n1. create custom annotation with a `tableName` parameter (`@SpiderExtract` in my implementation)\r\n2. annotate all the repos eligible with it\r\n3. from a service, build a `Map` where k is the table name as a string and v is the repository instance\r\n4. then `map.get(&quot;TABLE_NAME&quot;)` to get the correct repo and start doing my stuff\r\n\r\nThe problem is that the repositories instances within the hashmap are of type `SimpleJpaRepository`, with this implementation, I have no access to my custom queries (which i understand) only classic one (findAll(), findById() ...)\r\n\r\nMy repositories are declared like the following:\r\n\r\n\r\n```java\r\n@SpiderExtract(tableName = &quot;TABLE_NAME&quot;)\r\n@Repository\r\npublic class RepoFoo implements JpaRepository&lt;Foo, Long&gt;{\r\n\r\n@Query(value = &quot;select * from foo&quot;)\r\nList&lt;Foo&gt; getFoos();\r\n}\r\n```\r\n\r\nThis is what i&#39;ve tried so far:\r\n\r\n    private Map&lt;String, JpaRepository&lt;?, ?&gt;&gt; reposSpiderEligible() {\r\n    return applicationContext.getBeansWithAnnotation(SpiderExtract.class).values().stream()\r\n            .filter(repository -&gt; repository instanceof JpaRepository)\r\n            .map(repository -&gt; (JpaRepository&lt;?, ?&gt;) repository)\r\n            .collect(Collectors.toMap(repository -&gt; {\r\n                Class&lt;?&gt; repositoryInterface = repository.getClass().getInterfaces()[0];\r\n                SpiderExtract annotation = repositoryInterface.getAnnotation(SpiderExtract.class);\r\n                return annotation.tableName();\r\n            }, Function.identity()));\r\n}\r\n\r\nHow to get the `RepoFoo` instance instead of a `SimpleJpaRepository` instance ?\r\n\r\nThanks :)\r\n","title":"How to retrieve instance of repository which implements JpaRepository?","body":"<p>I'm currently facing an issue in a work project.</p>\n<p>From a string parameter passed in a controller representing a sql table name (e.g: TABLE_NAME), i must extract all the data from it. Not all the tables are eligible, only 7.</p>\n<p>I thought about that:</p>\n<ol>\n<li>create custom annotation with a <code>tableName</code> parameter (<code>@SpiderExtract</code> in my implementation)</li>\n<li>annotate all the repos eligible with it</li>\n<li>from a service, build a <code>Map</code> where k is the table name as a string and v is the repository instance</li>\n<li>then <code>map.get(&quot;TABLE_NAME&quot;)</code> to get the correct repo and start doing my stuff</li>\n</ol>\n<p>The problem is that the repositories instances within the hashmap are of type <code>SimpleJpaRepository</code>, with this implementation, I have no access to my custom queries (which i understand) only classic one (findAll(), findById() ...)</p>\n<p>My repositories are declared like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpiderExtract(tableName = &quot;TABLE_NAME&quot;)\n@Repository\npublic class RepoFoo implements JpaRepository&lt;Foo, Long&gt;{\n\n@Query(value = &quot;select * from foo&quot;)\nList&lt;Foo&gt; getFoos();\n}\n</code></pre>\n<p>This is what i've tried so far:</p>\n<pre><code>private Map&lt;String, JpaRepository&lt;?, ?&gt;&gt; reposSpiderEligible() {\nreturn applicationContext.getBeansWithAnnotation(SpiderExtract.class).values().stream()\n        .filter(repository -&gt; repository instanceof JpaRepository)\n        .map(repository -&gt; (JpaRepository&lt;?, ?&gt;) repository)\n        .collect(Collectors.toMap(repository -&gt; {\n            Class&lt;?&gt; repositoryInterface = repository.getClass().getInterfaces()[0];\n            SpiderExtract annotation = repositoryInterface.getAnnotation(SpiderExtract.class);\n            return annotation.tableName();\n        }, Function.identity()));\n</code></pre>\n<p>}</p>\n<p>How to get the <code>RepoFoo</code> instance instead of a <code>SimpleJpaRepository</code> instance ?</p>\n<p>Thanks :)</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653544241,"creation_date":1653544241,"answer_id":72387267,"question_id":72386882,"body_markdown":"You could use `Mono.zip` that is taking `Iterable` as an argument and combinator function to combine results and casting to the specific type:\r\n\r\n`&lt;R&gt; Mono&lt;R&gt; zip(final Iterable&lt;? extends Mono&lt;?&gt;&gt; monos, Function&lt;? super Object[], ? extends R&gt; combinator)`\r\n\r\n```\r\n\r\nList&lt;Mono&lt;? extends ResponseEntity&lt;?&gt;&gt;&gt; requests = List.of(\r\n\t\tmonoService1, \r\n\t\tmonoService2, \r\n\t\tmonoService3, \r\n\t\tmonoService4\r\n);\r\n\r\nMono.zip(requests, responses -&gt; {\r\n\tMixResponse mixResp = new MixResponse();\r\n\tmixResp.setResponse1(((ResponseEntity&lt;Service1Response&gt;) responses[0]).getBody());\r\n\tmixResp.setResponse2(((ResponseEntity&lt;Service2Response&gt;) responses[1]).getBody());\r\n\tmixResp.setResponse3(((ResponseEntity&lt;Service3Response&gt;) responses[2]).getBody());\r\n\tmixResp.setResponse4(((ResponseEntity&lt;Service4Response&gt;) responses[3]).getBody());\r\n\treturn mixResp;\r\n});\r\n```\r\n\r\n","title":"How to zip more than 8 different types of mono","body":"<p>You could use <code>Mono.zip</code> that is taking <code>Iterable</code> as an argument and combinator function to combine results and casting to the specific type:</p>\n<p><code>&lt;R&gt; Mono&lt;R&gt; zip(final Iterable&lt;? extends Mono&lt;?&gt;&gt; monos, Function&lt;? super Object[], ? extends R&gt; combinator)</code></p>\n<pre><code>\nList&lt;Mono&lt;? extends ResponseEntity&lt;?&gt;&gt;&gt; requests = List.of(\n        monoService1, \n        monoService2, \n        monoService3, \n        monoService4\n);\n\nMono.zip(requests, responses -&gt; {\n    MixResponse mixResp = new MixResponse();\n    mixResp.setResponse1(((ResponseEntity&lt;Service1Response&gt;) responses[0]).getBody());\n    mixResp.setResponse2(((ResponseEntity&lt;Service2Response&gt;) responses[1]).getBody());\n    mixResp.setResponse3(((ResponseEntity&lt;Service3Response&gt;) responses[2]).getBody());\n    mixResp.setResponse4(((ResponseEntity&lt;Service4Response&gt;) responses[3]).getBody());\n    return mixResp;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687931959,"creation_date":1687897605,"answer_id":76568412,"question_id":72386882,"body_markdown":"My solution that works similarly to `TupleUtils.function`:\r\n\r\n    Mono.zip(\r\n        monoService1,\r\n        monoService2,\r\n        monoService3,\r\n        monoService4,\r\n        monoService5,\r\n        monoService6,\r\n        monoService7,\r\n        monoService8 \r\n    ).zipWith(Mono.zip( // the max number of Mono.zip which can return a tuple is 8, therefore we had to split into two chunks\r\n        monoService9,\r\n        monoService10 \r\n    ), BigTuple::new\r\n    ).map(bigFunction((res1, res2, res3, res4, res4, res5, res6, res7, res8, res9, res10) -&gt;\r\n        // resX are all preserving their types and all named\r\n    ));\r\n\r\nFor this to work you have to implement your `BigTuple` and `bigFunction`. This is all boilerplate code unfortunately.\r\n\r\n    import java.util.function.Function;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Value;\r\n\r\n    public static &lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; Function&lt;BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;, R&gt; bigFunction(\r\n            BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; function) {\r\n        return tuple -&gt; function.apply(tuple.getT1(), tuple.getT2(), tuple.getT3(), tuple.getT4(), tuple.getT5(), tuple.getT6(),\r\n                tuple.getT7(), tuple.getT8(), tuple.getT9(), tuple.getT10());\r\n    }\r\n\r\n    @Value\r\n    @AllArgsConstructor\r\n    private static class BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;  {\r\n        T1 t1;\r\n        T2 t2;\r\n        T3 t3;\r\n        T4 t4;\r\n        T5 t5;\r\n        T6 t6;\r\n        T7 t7;\r\n        T8 t8;\r\n        T9 t9;\r\n        T10 t10;\r\n\r\n        BigTuple(Tuple8&lt;T1, T2, T3, T4, T5, T6, T7, T8&gt; objects1, Tuple2&lt;T9, T10&gt; objects2) {\r\n            this(objects1.getT1(), objects1.getT2(), objects1.getT3(), objects1.getT4(), objects1.getT5(),\r\n                    objects1.getT6(), objects1.getT7(), objects1.getT8(), objects2.getT1(), objects2.getT2());\r\n        }\r\n    }\r\n\r\n    private interface BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; {\r\n        R apply(T1 t1, T2 t2, T3 t3, T4 t4, T5 t5, T6 t6, T7 t7, T8 t8, T9 t9, T10 t10);\r\n    }","title":"How to zip more than 8 different types of mono","body":"<p>My solution that works similarly to <code>TupleUtils.function</code>:</p>\n<pre><code>Mono.zip(\n    monoService1,\n    monoService2,\n    monoService3,\n    monoService4,\n    monoService5,\n    monoService6,\n    monoService7,\n    monoService8 \n).zipWith(Mono.zip( // the max number of Mono.zip which can return a tuple is 8, therefore we had to split into two chunks\n    monoService9,\n    monoService10 \n), BigTuple::new\n).map(bigFunction((res1, res2, res3, res4, res4, res5, res6, res7, res8, res9, res10) -&gt;\n    // resX are all preserving their types and all named\n));\n</code></pre>\n<p>For this to work you have to implement your <code>BigTuple</code> and <code>bigFunction</code>. This is all boilerplate code unfortunately.</p>\n<pre><code>import java.util.function.Function;\nimport lombok.AllArgsConstructor;\nimport lombok.Value;\n\npublic static &lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; Function&lt;BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;, R&gt; bigFunction(\n        BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; function) {\n    return tuple -&gt; function.apply(tuple.getT1(), tuple.getT2(), tuple.getT3(), tuple.getT4(), tuple.getT5(), tuple.getT6(),\n            tuple.getT7(), tuple.getT8(), tuple.getT9(), tuple.getT10());\n}\n\n@Value\n@AllArgsConstructor\nprivate static class BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;  {\n    T1 t1;\n    T2 t2;\n    T3 t3;\n    T4 t4;\n    T5 t5;\n    T6 t6;\n    T7 t7;\n    T8 t8;\n    T9 t9;\n    T10 t10;\n\n    BigTuple(Tuple8&lt;T1, T2, T3, T4, T5, T6, T7, T8&gt; objects1, Tuple2&lt;T9, T10&gt; objects2) {\n        this(objects1.getT1(), objects1.getT2(), objects1.getT3(), objects1.getT4(), objects1.getT5(),\n                objects1.getT6(), objects1.getT7(), objects1.getT8(), objects2.getT1(), objects2.getT2());\n    }\n}\n\nprivate interface BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; {\n    R apply(T1 t1, T2 t2, T3 t3, T4 t4, T5 t5, T6 t6, T7 t7, T8 t8, T9 t9, T10 t10);\n}\n</code></pre>\n"}],"owner":{"account_id":14739862,"reputation":45,"user_id":10644761,"display_name":"RayHopefield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72387267,"answer_count":2,"score":0,"last_activity_date":1687931959,"creation_date":1653541181,"question_id":72386882,"body_markdown":"I&#39;m trying to make 9 api calls at the same time. All of these calls would return different response objects. Before this we have 8 api calls and since these mono were different types, I used Mono.zip like below.\r\n```\r\nMono&lt;ResponseEntity&lt;Service1Response&gt;&gt; monoService1 = callService1();\r\nMono&lt;ResponseEntity&lt;Service2Response&gt;&gt; monoService2 = callService2();\r\n...\r\nMono&lt;ResponseEntity&lt;Service3Response&gt;&gt; monoService7 = callService7();\r\nMono&lt;ResponseEntity&lt;Service4Response&gt;&gt; monoService8 = callService8();\r\n\r\nMixResponse mix = Mono.zip(monoService1, monoService2, monoService3, monoService4, monoService5, monoService6, monoService7, monoService8).flatMap(response -&gt; {\r\n  MixResponse mixResp = new MixResponse();\r\n  mixResp.setResponse1(response.getT1().getBody());\r\n  mixResp.setResponse2(response.getT2().getBody());\r\n  mixResp.setResponse3(response.getT3().getBody());\r\n  mixResp.setResponse4(response.getT4().getBody());\r\n  mixResp.setResponse5(response.getT5().getBody());\r\n  mixResp.setResponse6(response.getT6().getBody());\r\n  mixResp.setResponse7(response.getT7().getBody());\r\n  mixResp.setResponse8(response.getT8().getBody());\r\n  return Mono.just(mixResp);\r\n})).block();\r\n```\r\n\r\nbut now we have one more service and Mono.zip supports only up to 8 monos. Is there anyway aside from Mono.zip that I could use in my situation? Sorry if this question looks dumb. I&#39;m new in spring-webflux. Thanks in advance.","title":"How to zip more than 8 different types of mono","body":"<p>I'm trying to make 9 api calls at the same time. All of these calls would return different response objects. Before this we have 8 api calls and since these mono were different types, I used Mono.zip like below.</p>\n<pre><code>Mono&lt;ResponseEntity&lt;Service1Response&gt;&gt; monoService1 = callService1();\nMono&lt;ResponseEntity&lt;Service2Response&gt;&gt; monoService2 = callService2();\n...\nMono&lt;ResponseEntity&lt;Service3Response&gt;&gt; monoService7 = callService7();\nMono&lt;ResponseEntity&lt;Service4Response&gt;&gt; monoService8 = callService8();\n\nMixResponse mix = Mono.zip(monoService1, monoService2, monoService3, monoService4, monoService5, monoService6, monoService7, monoService8).flatMap(response -&gt; {\n  MixResponse mixResp = new MixResponse();\n  mixResp.setResponse1(response.getT1().getBody());\n  mixResp.setResponse2(response.getT2().getBody());\n  mixResp.setResponse3(response.getT3().getBody());\n  mixResp.setResponse4(response.getT4().getBody());\n  mixResp.setResponse5(response.getT5().getBody());\n  mixResp.setResponse6(response.getT6().getBody());\n  mixResp.setResponse7(response.getT7().getBody());\n  mixResp.setResponse8(response.getT8().getBody());\n  return Mono.just(mixResp);\n})).block();\n</code></pre>\n<p>but now we have one more service and Mono.zip supports only up to 8 monos. Is there anyway aside from Mono.zip that I could use in my situation? Sorry if this question looks dumb. I'm new in spring-webflux. Thanks in advance.</p>\n"},{"tags":["javascript","java","android"],"comments":[{"owner":{"account_id":8164973,"reputation":4238,"user_id":6147653,"display_name":"Alpha 1"},"score":0,"creation_date":1687931887,"post_id":76570351,"comment_id":135004253,"body_markdown":"Pass the coordinates to the Activity B and then scroll to the required view.","body":"Pass the coordinates to the Activity B and then scroll to the required view."},{"owner":{"account_id":28909852,"reputation":1,"user_id":22143104,"display_name":"miftha akbie"},"score":0,"creation_date":1687940916,"post_id":76570351,"comment_id":135005769,"body_markdown":"can you tell me the correct script?","body":"can you tell me the correct script?"}],"owner":{"account_id":28909852,"reputation":1,"user_id":22143104,"display_name":"miftha akbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687931275,"creation_date":1687931275,"question_id":76570351,"body_markdown":"I want to create a button that redirects to the scrollview&#39;s specific item ID.\r\nBut my destination scroll view is in a different activity.\r\n\r\nexample : my button is in activity A.\r\nI want this button to point to Activity B, at the exact item ID coordinates inside some scrollview.\r\n\r\n\r\n```\r\n public void HafalanHarian(View view) {\r\n        Intent intent = new Intent(MainActivity.this, HafalanHarian.class);\r\n            ScrollView sv = findViewById(R.id.ScrollHafHar);// your scrollview\r\n            View insideView = findViewById(R.id.BoxDefinisi);// find the View that you need to scroll to which is inside this ScrollView\r\n            sv.scrollTo(0, (int)insideView.getY());\r\n        startActivity(intent);\r\n    }\r\n```\r\n\r\nI have tried using the script above, but failed\r\n\r\nhope someone can give me proper script","title":"How to Scroll to a Specific ID item in ScrollView inside different activity? Android Studio","body":"<p>I want to create a button that redirects to the scrollview's specific item ID.\nBut my destination scroll view is in a different activity.</p>\n<p>example : my button is in activity A.\nI want this button to point to Activity B, at the exact item ID coordinates inside some scrollview.</p>\n<pre><code> public void HafalanHarian(View view) {\n        Intent intent = new Intent(MainActivity.this, HafalanHarian.class);\n            ScrollView sv = findViewById(R.id.ScrollHafHar);// your scrollview\n            View insideView = findViewById(R.id.BoxDefinisi);// find the View that you need to scroll to which is inside this ScrollView\n            sv.scrollTo(0, (int)insideView.getY());\n        startActivity(intent);\n    }\n</code></pre>\n<p>I have tried using the script above, but failed</p>\n<p>hope someone can give me proper script</p>\n"},{"tags":["java","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":24872383,"reputation":68,"user_id":18746743,"display_name":"mineblock11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687930877,"creation_date":1687930877,"answer_id":76570322,"question_id":76527536,"body_markdown":"You should take a look at using Open Worthwhile Operations (owo-lib), it contains utilities that mimic what you are trying to achieve:\r\n\r\nhttps://docs.wispforest.io/owo/registration/\r\n\r\nDynamically registering items depending on the fields of a class is a more complex problem than you might think.\r\n\r\n*Also, when creating StackOverflow posts, try make it short and to the point! &#128077;*","title":"Minecraft Modding: &quot;Cannot Get Property&quot; Error when procedurally registering blocks","body":"<p>You should take a look at using Open Worthwhile Operations (owo-lib), it contains utilities that mimic what you are trying to achieve:</p>\n<p><a href=\"https://docs.wispforest.io/owo/registration/\" rel=\"nofollow noreferrer\">https://docs.wispforest.io/owo/registration/</a></p>\n<p>Dynamically registering items depending on the fields of a class is a more complex problem than you might think.</p>\n<p><em>Also, when creating StackOverflow posts, try make it short and to the point! 👍</em></p>\n"}],"owner":{"account_id":28869363,"reputation":1,"user_id":22111297,"display_name":"Ethan Parish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687930877,"creation_date":1687386680,"question_id":76527536,"body_markdown":"I am currently developing a Fabric Mod that adds &quot;cracked&quot;, &quot;mossy&quot;, and similar variants to nearly every block in the vanilla game. Obviously, I am not going to manually register roughly 800 new blocks for every variant I&#39;d like to add to the game, and I&#39;ve opted to procedurally register all of the variants in a loop. My current strategy involves looping through all of the blocks in the vanilla game and registering a block with the variant name plus the block name. (&quot;Cracked Oak Planks&quot;, &quot;Cracked Amethyst Block&quot;, etc.) That works completely fine, and I&#39;m also able to generate model files for every block that has the same face on all six sides. (Generating &quot;cracked&quot; variants of blocks that have different textures on different faces is something I haven&#39;t even begun to tackle, but that&#39;s a problem for the future. It shouldn&#39;t be too complicated... probably?)\r\n\r\nI began running into issues when I tried to register new blocks that inherit the properties from their parent block. The properties I&#39;m trying to inherit shouldn&#39;t be crazy complicated, I&#39;m not currently planning on adding blocks such as a &quot;mossy sticky piston&quot; or a &quot;cracked light blue bed&quot; - I don&#39;t care about variants of functional blocks. I&#39;m just trying to have a block inherit properties such as hardness and material.\r\n\r\n    public static void registerModBlocks() {\r\n            for (Field block : Blocks.class.getFields()) {\r\n                 Block blockObject = (Block) block.get(null);\r\n    \r\n                 TutorialMod.LOGGER.info(block.getName());\r\n    \r\n                 Block settings = new Block(FabricBlockSettings.copyOf(blockObject));\r\n    \r\n                 String blockName = &quot;cracked_&quot; + block.getName().toLowerCase();\r\n                 gen_blocks.put(blockName, registerBlock(blockName, settings, ModItemGroup.ITEM_GROUP));\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHere is the code I&#39;m using to accomplish this goal. I&#39;m referencing the class that each block name refers to and creating a copy of their settings. This works totally fine when it comes to basic blocks such as planks or cobblestone but throws an error when trying to register logs or redstone ore.\r\n\r\nThis is the error code for logs:\r\n\r\n`Cannot get property EnumProperty{name=axis, clazz=class net.minecraft.util.math.Direction$Axis, values=[x, y, z]} as it does not exist in Block{minecraft:air}`\r\n\r\nThis is the error code for redstone ore:\r\n\r\n`Cannot get property BooleanProperty{name=lit, clazz=class java.lang.Boolean, values=[true, false]} as it does not exist in Block{minecraft:air}`\r\n\r\n\r\n\r\nI understand why this error is being thrown, the &quot;axis&quot; property of logs is specific to whatever class extends the &quot;Block&quot; class to add special behavior to logs. The same thing goes for redstone ore, that property comes from a class that extends &quot;Block&quot;. It makes sense that those properties can&#39;t be applied to a template in which that property doesn&#39;t exist.\r\n\r\nDoes anybody have ideas as to how I should go about getting around this? Ideally, I could create a conditional that detects what type of Block is being parsed and create a different settings object based on that, but I have no clue where to even begin doing that. Another solution I&#39;ve considered is creating tags that denote what type of setting a block should use when being created, but I&#39;d like to avoid that. I want this system to be flexible - if a new type of log is added to the game, I don&#39;t want to have to update a json file.\r\n\r\nI&#39;m not really sure what the solution is, but I&#39;d love to get some advice! I&#39;m pretty new to Minecraft modding and I wouldn&#39;t be surprised if there&#39;s a really easy solution I&#39;ve overlooked. I couldn&#39;t find any answers to this question online, but I&#39;d love to be linked to resources if you know about them! Thanks to anyone that&#39;s able to help!","title":"Minecraft Modding: &quot;Cannot Get Property&quot; Error when procedurally registering blocks","body":"<p>I am currently developing a Fabric Mod that adds &quot;cracked&quot;, &quot;mossy&quot;, and similar variants to nearly every block in the vanilla game. Obviously, I am not going to manually register roughly 800 new blocks for every variant I'd like to add to the game, and I've opted to procedurally register all of the variants in a loop. My current strategy involves looping through all of the blocks in the vanilla game and registering a block with the variant name plus the block name. (&quot;Cracked Oak Planks&quot;, &quot;Cracked Amethyst Block&quot;, etc.) That works completely fine, and I'm also able to generate model files for every block that has the same face on all six sides. (Generating &quot;cracked&quot; variants of blocks that have different textures on different faces is something I haven't even begun to tackle, but that's a problem for the future. It shouldn't be too complicated... probably?)</p>\n<p>I began running into issues when I tried to register new blocks that inherit the properties from their parent block. The properties I'm trying to inherit shouldn't be crazy complicated, I'm not currently planning on adding blocks such as a &quot;mossy sticky piston&quot; or a &quot;cracked light blue bed&quot; - I don't care about variants of functional blocks. I'm just trying to have a block inherit properties such as hardness and material.</p>\n<pre><code>public static void registerModBlocks() {\n        for (Field block : Blocks.class.getFields()) {\n             Block blockObject = (Block) block.get(null);\n\n             TutorialMod.LOGGER.info(block.getName());\n\n             Block settings = new Block(FabricBlockSettings.copyOf(blockObject));\n\n             String blockName = &quot;cracked_&quot; + block.getName().toLowerCase();\n             gen_blocks.put(blockName, registerBlock(blockName, settings, ModItemGroup.ITEM_GROUP));\n\n\n        }\n    }\n}\n</code></pre>\n<p>Here is the code I'm using to accomplish this goal. I'm referencing the class that each block name refers to and creating a copy of their settings. This works totally fine when it comes to basic blocks such as planks or cobblestone but throws an error when trying to register logs or redstone ore.</p>\n<p>This is the error code for logs:</p>\n<p><code>Cannot get property EnumProperty{name=axis, clazz=class net.minecraft.util.math.Direction$Axis, values=[x, y, z]} as it does not exist in Block{minecraft:air}</code></p>\n<p>This is the error code for redstone ore:</p>\n<p><code>Cannot get property BooleanProperty{name=lit, clazz=class java.lang.Boolean, values=[true, false]} as it does not exist in Block{minecraft:air}</code></p>\n<p>I understand why this error is being thrown, the &quot;axis&quot; property of logs is specific to whatever class extends the &quot;Block&quot; class to add special behavior to logs. The same thing goes for redstone ore, that property comes from a class that extends &quot;Block&quot;. It makes sense that those properties can't be applied to a template in which that property doesn't exist.</p>\n<p>Does anybody have ideas as to how I should go about getting around this? Ideally, I could create a conditional that detects what type of Block is being parsed and create a different settings object based on that, but I have no clue where to even begin doing that. Another solution I've considered is creating tags that denote what type of setting a block should use when being created, but I'd like to avoid that. I want this system to be flexible - if a new type of log is added to the game, I don't want to have to update a json file.</p>\n<p>I'm not really sure what the solution is, but I'd love to get some advice! I'm pretty new to Minecraft modding and I wouldn't be surprised if there's a really easy solution I've overlooked. I couldn't find any answers to this question online, but I'd love to be linked to resources if you know about them! Thanks to anyone that's able to help!</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-dsl","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687873918,"creation_date":1687873918,"answer_id":76565573,"question_id":76564970,"body_markdown":"For dynamic SFTP server choice you might need to look into a `DelegatingSessionFactory`: https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-dsf.\r\n\r\nSo, you have to supply all the possible connection factories and have them to be chosen by the key you may provide in a message.\r\n\r\nYour code snippet is not clear. That `IntegrationFlow.from(()-&gt;` is a source polling channel adapter which indeed requires a poller to initiate the flow.","title":"Spring Integration - upload file to Dynamic SFTP Server","body":"<p>For dynamic SFTP server choice you might need to look into a <code>DelegatingSessionFactory</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-dsf\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-dsf</a>.</p>\n<p>So, you have to supply all the possible connection factories and have them to be chosen by the key you may provide in a message.</p>\n<p>Your code snippet is not clear. That <code>IntegrationFlow.from(()-&gt;</code> is a source polling channel adapter which indeed requires a poller to initiate the flow.</p>\n"}],"owner":{"account_id":28904798,"reputation":1,"user_id":22138993,"display_name":"K Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687930569,"creation_date":1687869621,"question_id":76564970,"body_markdown":"I am trying to upload files to dynamic SFTP servers whose config details I will receive in a String message with file content.\r\nI have researched about spring Integration which will help me in dynamically connecting to SFTP servers to upload the data.I have tried to use generic Message for the current use case. \r\n```\r\nStandardIntegrationFlow flow =\r\n        IntegrationFlow.from(()-&gt; new GenericMessage&lt;&gt;(content,\r\n                Map.of(&quot;file_name&quot;, &quot;test.txt&quot;, &quot;path&quot;, &quot;/home)),\r\n                e -&gt; e.poller(poller))\r\n            .handle(handler).get();\r\n```\r\nBut I have to mandatorialy provide poller for that even if it is string data which is not correct.\r\nAlso one concern is there could be many Integration Flows that I might start dynamically so how will those be handled.\r\nIs there any other cleaner way by which I can accomplish this?\r\n\r\n\r\nEdit:\r\nI am receiving a PubSub message which is having config details for SFTP server where I need to upload and the file details as well.","title":"Spring Integration - upload file to Dynamic SFTP Server","body":"<p>I am trying to upload files to dynamic SFTP servers whose config details I will receive in a String message with file content.\nI have researched about spring Integration which will help me in dynamically connecting to SFTP servers to upload the data.I have tried to use generic Message for the current use case.</p>\n<pre><code>StandardIntegrationFlow flow =\n        IntegrationFlow.from(()-&gt; new GenericMessage&lt;&gt;(content,\n                Map.of(&quot;file_name&quot;, &quot;test.txt&quot;, &quot;path&quot;, &quot;/home)),\n                e -&gt; e.poller(poller))\n            .handle(handler).get();\n</code></pre>\n<p>But I have to mandatorialy provide poller for that even if it is string data which is not correct.\nAlso one concern is there could be many Integration Flows that I might start dynamically so how will those be handled.\nIs there any other cleaner way by which I can accomplish this?</p>\n<p>Edit:\nI am receiving a PubSub message which is having config details for SFTP server where I need to upload and the file details as well.</p>\n"},{"tags":["java","postgresql","jdbc","driver","classnotfoundexception"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687929135,"post_id":76570187,"comment_id":135003931,"body_markdown":"[Class.forName(JDBC_DRIVER) no longer needed?](https://stackoverflow.com/questions/28220724/class-fornamejdbc-driver-no-longer-needed)","body":"<a href=\"https://stackoverflow.com/questions/28220724/class-fornamejdbc-driver-no-longer-needed\">Class.forName(JDBC_DRIVER) no longer needed?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1687929373,"post_id":76570187,"comment_id":135003965,"body_markdown":"I&#39;m guessing that the JDBC driver JAR file is not on the CLASSPATH (or module path). What is the name of the JDBC driver JAR file? What Java version are you using?","body":"I&#39;m guessing that the JDBC driver JAR file is not on the CLASSPATH (or module path). What is the name of the JDBC driver JAR file? What Java version are you using?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687968589,"post_id":76570187,"comment_id":135011975,"body_markdown":"@Abra Although it is not required, it still works (in fact, automatic driver-loading is just a fancy way of getting the Java ServiceLoader to call `Class.forName` for you), and it is a good way to diagnose the problem, aas in this case the throwing of `ClassNotFoundException` makes clear the driver is not on the classpath.","body":"@Abra Although it is not required, it still works (in fact, automatic driver-loading is just a fancy way of getting the Java ServiceLoader to call <code>Class.forName</code> for you), and it is a good way to diagnose the problem, aas in this case the throwing of <code>ClassNotFoundException</code> makes clear the driver is not on the classpath."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687968647,"post_id":76570187,"comment_id":135011984,"body_markdown":"How are you **running** your application?","body":"How are you <b>running</b> your application?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687976651,"post_id":76570187,"comment_id":135013430,"body_markdown":"@MarkRotteveel It saves you from making a mistake when writing the name of the class to load. That&#39;s probably why the functionality was added. Maybe the OP put the JAR file in the correct folder but made a mistake with the name of the class to load.","body":"@MarkRotteveel It saves you from making a mistake when writing the name of the class to load. That&#39;s probably why the functionality was added. Maybe the OP put the JAR file in the correct folder but made a mistake with the name of the class to load."}],"answers":[{"tags":[],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687930099,"creation_date":1687929739,"answer_id":76570246,"question_id":76570187,"body_markdown":"The connection driver class is missing which you should import into classpath.\r\nYou can download jar file of that class with all dependencies in a below link\r\n\r\n[https://jar-download.com/artifacts/org.postgresql/postgresql][1]\r\n\r\nImport that jar file into you project. If you do not know how to import then look out the thread.\r\n\r\nhttps://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/org.postgresql/postgresql","title":"Java JDBC Driver not found","body":"<p>The connection driver class is missing which you should import into classpath.\nYou can download jar file of that class with all dependencies in a below link</p>\n<p><a href=\"https://jar-download.com/artifacts/org.postgresql/postgresql\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.postgresql/postgresql</a></p>\n<p>Import that jar file into you project. If you do not know how to import then look out the thread.</p>\n<p><a href=\"https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath\">Visual Studio Code, Java Extension, how to add a JAR to classpath?</a></p>\n"}],"owner":{"account_id":15313101,"reputation":1,"user_id":11047805,"display_name":"ChaimCad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687930099,"creation_date":1687928779,"question_id":76570187,"body_markdown":"So I&#39;m developing a database project in which I created my database, filled it with my tables, and am now starting to program a Java application to demonstrate it.\r\n\r\nNow comes the problem: I don&#39;t stop getting the &quot;java.lang.ClassNotFoundException: org.postgresql.Driver&quot; gigantic error prompt or the &quot;No suitable driver found for jdbc:postgresql://localhost:5432/project&quot; prompt.\r\n\r\n\r\n```\r\n//File: Model.java\r\nimport java.sql.*;\r\n\r\nclass Model {\r\n    private final String url = &quot;jdbc:postgresql://localhost:5432/Trabalho&quot;;\r\n    private final String usr = &quot;postgres&quot;;\r\n    private final String pwd = &quot;K1dN@m3dF1ng3r&quot;;\r\n\r\n    public Model() {\r\n        try {\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n        } catch(ClassNotFoundException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    protected Connection connect() {\r\n        Connection con = null;\r\n\r\n        try {\r\n            con = DriverManager.getConnection(url,usr,pwd);\r\n            System.out.println(&quot;Connected to the PostgreSQL server successfully!&quot;);\r\n        } catch(SQLException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n\r\n        return con;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n//File: Control.java\r\nclass Control extends Model {\r\n    public Control() {\r\n        super.connect();\r\n    }\r\n\r\n    public static void main(String tx[]) {\r\n        new Control();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried downloading the driver, searching for my lib folder, altering my classpath environment variable, I&#39;ve checked PGAdmin, java, javac and the driver&#39;s versions, but nothing seems to work.\r\n\r\nAlso, most of the Qs/As here (all that I&#39;ve found) seem to focus on Java IDEs that I don&#39;t use. I&#39;m using VS Code, with its 0.25.11 Extension Pack for Java.","title":"Java JDBC Driver not found","body":"<p>So I'm developing a database project in which I created my database, filled it with my tables, and am now starting to program a Java application to demonstrate it.</p>\n<p>Now comes the problem: I don't stop getting the &quot;java.lang.ClassNotFoundException: org.postgresql.Driver&quot; gigantic error prompt or the &quot;No suitable driver found for jdbc:postgresql://localhost:5432/project&quot; prompt.</p>\n<pre><code>//File: Model.java\nimport java.sql.*;\n\nclass Model {\n    private final String url = &quot;jdbc:postgresql://localhost:5432/Trabalho&quot;;\n    private final String usr = &quot;postgres&quot;;\n    private final String pwd = &quot;K1dN@m3dF1ng3r&quot;;\n\n    public Model() {\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n        } catch(ClassNotFoundException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    protected Connection connect() {\n        Connection con = null;\n\n        try {\n            con = DriverManager.getConnection(url,usr,pwd);\n            System.out.println(&quot;Connected to the PostgreSQL server successfully!&quot;);\n        } catch(SQLException ex) {\n            System.out.println(ex.getMessage());\n        }\n\n        return con;\n    }\n}\n</code></pre>\n<pre><code>//File: Control.java\nclass Control extends Model {\n    public Control() {\n        super.connect();\n    }\n\n    public static void main(String tx[]) {\n        new Control();\n    }\n}\n</code></pre>\n<p>I have tried downloading the driver, searching for my lib folder, altering my classpath environment variable, I've checked PGAdmin, java, javac and the driver's versions, but nothing seems to work.</p>\n<p>Also, most of the Qs/As here (all that I've found) seem to focus on Java IDEs that I don't use. I'm using VS Code, with its 0.25.11 Extension Pack for Java.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687865759,"post_id":76564333,"comment_id":134993588,"body_markdown":"Can you share the jOOQ part of your logback configuration? You may also have a look at those 2: https://blog.jooq.org/debug-logging-sql-with-jooq/, https://stackoverflow.com/questions/8561317/how-can-we-profile-jooq-statements-for-speed","body":"Can you share the jOOQ part of your logback configuration? You may also have a look at those 2: <a href=\"https://blog.jooq.org/debug-logging-sql-with-jooq/\" rel=\"nofollow noreferrer\">blog.jooq.org/debug-logging-sql-with-jooq</a>, <a href=\"https://stackoverflow.com/questions/8561317/how-can-we-profile-jooq-statements-for-speed\" title=\"how can we profile jooq statements for speed\">stackoverflow.com/questions/8561317/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687873156,"creation_date":1687873156,"answer_id":76565473,"question_id":76564333,"body_markdown":"I&#39;m assuming you mean logging with the [`org.jooq.tools.LoggerListener`][1], which by default `DEBUG` logs all your queries and their results.\r\n\r\nThere&#39;s a flag to turn that off completely. It&#39;s enabled by default. You may have turned it off with [`Settings.executeLogging`][2].\r\n\r\nAnother reason may be that jOOQ&#39;s `org.jooq.tools.JooqLogger` tries to classload `org.slf4j.Logger` and logs through that if available, falling back to `java.util.logging` otherwise. Do check that you make slf4j available to jOOQ on the classpath or modulepath, and that you have it backed by logback.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/tools/LoggerListener.html\r\n  [2]: https://www.jooq.org/doc/dev/manual/sql-building/dsl-context/custom-settings/settings-execute-logging/","title":"jOOQ doesn&#39;t log the SQL queries it executes, despite enabling DEBUG logging","body":"<p>I'm assuming you mean logging with the <a href=\"https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/tools/LoggerListener.html\" rel=\"nofollow noreferrer\"><code>org.jooq.tools.LoggerListener</code></a>, which by default <code>DEBUG</code> logs all your queries and their results.</p>\n<p>There's a flag to turn that off completely. It's enabled by default. You may have turned it off with <a href=\"https://www.jooq.org/doc/dev/manual/sql-building/dsl-context/custom-settings/settings-execute-logging/\" rel=\"nofollow noreferrer\"><code>Settings.executeLogging</code></a>.</p>\n<p>Another reason may be that jOOQ's <code>org.jooq.tools.JooqLogger</code> tries to classload <code>org.slf4j.Logger</code> and logs through that if available, falling back to <code>java.util.logging</code> otherwise. Do check that you make slf4j available to jOOQ on the classpath or modulepath, and that you have it backed by logback.</p>\n"},{"tags":[],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687929959,"creation_date":1687929959,"answer_id":76570263,"question_id":76564333,"body_markdown":"I looked at this a bit more (it was a problem I ran into [last week](https://stackoverflow.com/questions/72743011/how-to-get-the-jooq-query-text-using-aspectj-without-changing-the-query-method-i/72743563?noredirect=1#comment134933890_72743563)), and it turned out I was wrong. jOOQ _did_ indeed log the queries, using the `o.j.t.L.o.j.t.LoggerListener`. The problem was just this:\r\n\r\n* I was running different queries on multiple threads.\r\n* Other queries were being logged _after_ this query.\r\n* This particular query returned 21 million records, leading to the following:\r\n\r\n   ```\r\n   java.lang.OutOfMemoryError: Java heap space\r\n   Dumping heap to /tmp/java_pid104782.hprof ...\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the  UncaughtExceptionHandler in thread &quot;Thread-0 (ActiveMQ-scheduled-threads)&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 14&quot;\r\n   Heap dump file created [6088668813 bytes in 48.331 secs]\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;req-rsp-timeout-task&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 5&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;lettuce-eventExecutorLoop-1-3&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 11&quot;\r\n   ```\r\n\r\n* Because of the above, the `Fetched result` and `Fetched row(s)` messages were never logged. And in general, it was hard to understand that it was _that_ specific query that failed, because it wasn&#39;t the &quot;last&quot; query to be logged, so to speak (because of the queries from the other threads).\r\n\r\nWhat I did to mitigate this was to add an `onRenderEnd` handler for the particular query that was failing (I stepped through the code with the debugger to roughly see which jOOQ query this was). Using this, I was able to pin-point the logging for my particular query more easily.\r\n\r\nPosting all these details in the help that it might help others and/or my future self.\r\n\r\n```diff\r\ndiff --git a/path/to/MyClass.java b/path/to/MyClass.java\r\nindex 92beaa9a91..fcddf9c134 100644\r\n--- a/path/to/MyClass.java\r\n+++ b/path/to/MyClass.java\r\n@@ -30,6 +30,7 @@ import java.util.stream.Stream;\r\n \r\n import org.jooq.DSLContext;\r\n import org.jooq.DatePart;\r\n+import org.jooq.ExecuteListener;\r\n import org.jooq.Field;\r\n import org.jooq.Name;\r\n import org.jooq.Record1;\r\n@@ -417,6 +418,10 @@ public class MyClass {\r\n             // arithmetics on `Field&lt;Instant&gt;` https://stackoverflow.com/a/71508599\r\n             Field&lt;Instant&gt; upperRelatedLimit = field( &quot;(&quot; + seriesTimeFieldName.first() + &quot; + INTERVAL &#39;1 hour&#39;)&quot;, Instant.class );\r\n \r\n+            create.configuration().set( ExecuteListener.onRenderEnd( ctx -&gt; {\r\n+                System.out.println( ctx.sql() );\r\n+            } ) );\r\n+\r\n             try ( Stream&lt;AssignedDeviceConnectionState&gt; connectionStates = auditDsl.select(\r\n                     field( &quot;series.&quot; + seriesTimeFieldName.first(), Instant.class ).as( &quot;time&quot; ),\r\n                     field( &quot;d.id&quot;, Integer.class ).as( &quot;device_id&quot; ),\r\n```","title":"jOOQ doesn&#39;t log the SQL queries it executes, despite enabling DEBUG logging","body":"<p>I looked at this a bit more (it was a problem I ran into <a href=\"https://stackoverflow.com/questions/72743011/how-to-get-the-jooq-query-text-using-aspectj-without-changing-the-query-method-i/72743563?noredirect=1#comment134933890_72743563\">last week</a>), and it turned out I was wrong. jOOQ <em>did</em> indeed log the queries, using the <code>o.j.t.L.o.j.t.LoggerListener</code>. The problem was just this:</p>\n<ul>\n<li><p>I was running different queries on multiple threads.</p>\n</li>\n<li><p>Other queries were being logged <em>after</em> this query.</p>\n</li>\n<li><p>This particular query returned 21 million records, leading to the following:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\nDumping heap to /tmp/java_pid104782.hprof ...\n\nException: java.lang.OutOfMemoryError thrown from the  UncaughtExceptionHandler in thread &quot;Thread-0 (ActiveMQ-scheduled-threads)&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 14&quot;\nHeap dump file created [6088668813 bytes in 48.331 secs]\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;req-rsp-timeout-task&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 5&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;lettuce-eventExecutorLoop-1-3&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 11&quot;\n</code></pre>\n</li>\n<li><p>Because of the above, the <code>Fetched result</code> and <code>Fetched row(s)</code> messages were never logged. And in general, it was hard to understand that it was <em>that</em> specific query that failed, because it wasn't the &quot;last&quot; query to be logged, so to speak (because of the queries from the other threads).</p>\n</li>\n</ul>\n<p>What I did to mitigate this was to add an <code>onRenderEnd</code> handler for the particular query that was failing (I stepped through the code with the debugger to roughly see which jOOQ query this was). Using this, I was able to pin-point the logging for my particular query more easily.</p>\n<p>Posting all these details in the help that it might help others and/or my future self.</p>\n<pre><code>diff --git a/path/to/MyClass.java b/path/to/MyClass.java\nindex 92beaa9a91..fcddf9c134 100644\n--- a/path/to/MyClass.java\n+++ b/path/to/MyClass.java\n@@ -30,6 +30,7 @@ import java.util.stream.Stream;\n \n import org.jooq.DSLContext;\n import org.jooq.DatePart;\n+import org.jooq.ExecuteListener;\n import org.jooq.Field;\n import org.jooq.Name;\n import org.jooq.Record1;\n@@ -417,6 +418,10 @@ public class MyClass {\n             // arithmetics on `Field&lt;Instant&gt;` https://stackoverflow.com/a/71508599\n             Field&lt;Instant&gt; upperRelatedLimit = field( &quot;(&quot; + seriesTimeFieldName.first() + &quot; + INTERVAL '1 hour')&quot;, Instant.class );\n \n+            create.configuration().set( ExecuteListener.onRenderEnd( ctx -&gt; {\n+                System.out.println( ctx.sql() );\n+            } ) );\n+\n             try ( Stream&lt;AssignedDeviceConnectionState&gt; connectionStates = auditDsl.select(\n                     field( &quot;series.&quot; + seriesTimeFieldName.first(), Instant.class ).as( &quot;time&quot; ),\n                     field( &quot;d.id&quot;, Integer.class ).as( &quot;device_id&quot; ),\n</code></pre>\n"}],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76570263,"answer_count":2,"score":0,"last_activity_date":1687929959,"creation_date":1687864773,"question_id":76564333,"body_markdown":"My application uses Logback and I&#39;ve enabled `DEBUG` logging for `org.jooq` in my Logback configuration. Despite this, jOOQ doesn&#39;t log the SQL queries (as it ought to). What can be causing this?","title":"jOOQ doesn&#39;t log the SQL queries it executes, despite enabling DEBUG logging","body":"<p>My application uses Logback and I've enabled <code>DEBUG</code> logging for <code>org.jooq</code> in my Logback configuration. Despite this, jOOQ doesn't log the SQL queries (as it ought to). What can be causing this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687935513,"post_id":76570253,"comment_id":135004804,"body_markdown":"*= new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8));* How do you know it&#39;s UTF-8? Looks like it isn&#39;t. It might be, say, Windows-1252, but you shouldn&#39;t probably have to guess","body":"<i>= new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8)&zwnj;&#8203;);</i> How do you know it&#39;s UTF-8? Looks like it isn&#39;t. It might be, say, Windows-1252, but you shouldn&#39;t probably have to guess"}],"owner":{"account_id":28909765,"reputation":1,"user_id":22143032,"display_name":"rajasekharreddy thippaluri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687929794,"creation_date":1687929794,"question_id":76570253,"body_markdown":"i have an xml which contains some special words bt after reading from db its converting those special characters to ? mark\r\n\r\ninput  xml one of the tag  :  &lt;title_block_short&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_block_short&gt;\r\n               &lt;title_meta&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_meta&gt;\r\n\t\t\t   \r\n\t\t\t   \r\n\tcurrent oupput : &lt;title_block_short&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_block_short&gt;\r\n            &lt;title_meta&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_meta&gt;\t\r\n\t\r\n\r\n     desired output: &lt;title_block_short&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_block_short&gt;\r\n               &lt;title_meta&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_meta&gt;\r\n\r\nSample code of reading xml in my application\r\n\r\n    InputStream is = new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8));\r\n    Document doc = xmlHelperTools.xmlStreamToDocument(is);\r\n\r\nI have tried all the possible solutions,Could someone help me on this thanks for advance.\r\n\r\n\r\ncurrent oupput : &lt;title_block_short&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_block_short&gt;\r\n            &lt;title_meta&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_meta&gt;\t\r\n\t","title":"accented characters displayed as “?”","body":"<p>i have an xml which contains some special words bt after reading from db its converting those special characters to ? mark</p>\n<p>input  xml one of the tag  :  &lt;title_block_short&gt;UNITED STATES v. GARCÍA NÚÑEZ&lt;/title_block_short&gt;\n&lt;title_meta&gt;UNITED STATES v. GARCÍA NÚÑEZ&lt;/title_meta&gt;</p>\n<pre><code>current oupput : &lt;title_block_short&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_block_short&gt;\n        &lt;title_meta&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_meta&gt;   \n\n\n desired output: &lt;title_block_short&gt;UNITED STATES v. GARCÍA NÚÑEZ&lt;/title_block_short&gt;\n           &lt;title_meta&gt;UNITED STATES v. GARCÍA NÚÑEZ&lt;/title_meta&gt;\n</code></pre>\n<p>Sample code of reading xml in my application</p>\n<pre><code>InputStream is = new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8));\nDocument doc = xmlHelperTools.xmlStreamToDocument(is);\n</code></pre>\n<p>I have tried all the possible solutions,Could someone help me on this thanks for advance.</p>\n<p>current oupput : &lt;title_block_short&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_block_short&gt;\n&lt;title_meta&gt;UNITED STATES v. GARC��A N����EZ&lt;/title_meta&gt;</p>\n"},{"tags":["java","gradle","networking","download","artifacts"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687835854,"post_id":76561386,"comment_id":134988602,"body_markdown":"What is the problem here, please provide problem statement in the begging of your post","body":"What is the problem here, please provide problem statement in the begging of your post"}],"answers":[{"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687871124,"creation_date":1687871124,"answer_id":76565183,"question_id":76561386,"body_markdown":"It looks like it&#39;s failing to get your resources:\r\n\r\n&gt; `Could not HEAD &#39;...`\r\n\r\nLooking at your error messages, though, it&#39;s trying to go to an invalid domain name:\r\n\r\n&gt; `https://storage.flutter-io.c/...`\r\n\r\n`storage.flutter-io.c` is not a valid domain name.  This leads one to assume that you have mis-configured something elsewhere in your Gradle file.\r\n\r\nPlease either check your `build.gradle` or post it here for further investigation.","title":"I am getting this error while running my app","body":"<p>It looks like it's failing to get your resources:</p>\n<blockquote>\n<p><code>Could not HEAD '...</code></p>\n</blockquote>\n<p>Looking at your error messages, though, it's trying to go to an invalid domain name:</p>\n<blockquote>\n<p><code>https://storage.flutter-io.c/...</code></p>\n</blockquote>\n<p><code>storage.flutter-io.c</code> is not a valid domain name.  This leads one to assume that you have mis-configured something elsewhere in your Gradle file.</p>\n<p>Please either check your <code>build.gradle</code> or post it here for further investigation.</p>\n"}],"owner":{"account_id":28901640,"reputation":1,"user_id":22136454,"display_name":"Ahmed Magdy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687929784,"creation_date":1687835754,"question_id":76561386,"body_markdown":"```\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not resolve io.flutter:flutter_embedding_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\r\n     Required by:\r\n         project :app\r\n &gt;Could not get resource &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n        &gt; Could not HEAD &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n           [text](https://stackoverflow.com)&gt; storage.flutter-io.c\r\n```\r\n\r\n&gt; Could not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\r\n&gt; Required by:\r\n&gt; project :app\r\n&gt; Could not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\r\n&gt; Could not get resource &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n&gt; Could not HEAD &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n&gt; storage.flutter-io.c\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n\\[!\\] Gradle threw an error while downloading artifacts from the network.\r\n\r\n\\[!\\] Gradle threw an error while downloading artifacts from the network.\r\n\r\n&gt; I think problem is there","title":"I am getting this error while running my app","body":"<pre><code>Execution failed for task ':app:checkDebugAarMetadata'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Could not resolve io.flutter:flutter_embedding_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\n     Required by:\n         project :app\n &gt;Could not get resource 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\n        &gt; Could not HEAD 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\n           [text](https://stackoverflow.com)&gt; storage.flutter-io.c\n</code></pre>\n<blockquote>\n<p>Could not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\nRequired by:\nproject :app\nCould not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\nCould not get resource 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\nCould not HEAD 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\nstorage.flutter-io.c</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 5s\n[!] Gradle threw an error while downloading artifacts from the network.</p>\n<p>[!] Gradle threw an error while downloading artifacts from the network.</p>\n<blockquote>\n<p>I think problem is there</p>\n</blockquote>\n"},{"tags":["java","tomcat","xampp","catalina"],"comments":[{"owner":{"account_id":12878353,"reputation":121,"user_id":9314207,"display_name":"Huntwer"},"score":0,"creation_date":1521248842,"post_id":49287667,"comment_id":85664977,"body_markdown":"Up. There isn&#39;t anyone which can help me?","body":"Up. There isn&#39;t anyone which can help me?"},{"owner":{"account_id":12878353,"reputation":121,"user_id":9314207,"display_name":"Huntwer"},"score":0,"creation_date":1524419709,"post_id":49287667,"comment_id":86953814,"body_markdown":"I solved this. I had the wrong JAVA_HOME settings.","body":"I solved this. I had the wrong JAVA_HOME settings."},{"owner":{"account_id":13412966,"reputation":143,"user_id":9678643,"display_name":"Yonela Nuba"},"score":0,"creation_date":1556103965,"post_id":49287667,"comment_id":98321719,"body_markdown":"How did you do it? Because I can&#39;t fix this error","body":"How did you do it? Because I can&#39;t fix this error"}],"answers":[{"tags":[],"owner":{"account_id":15433599,"reputation":21,"user_id":11134278,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551423950,"creation_date":1551417748,"answer_id":54938398,"question_id":49287667,"body_markdown":"I solved the problem for me by downloading Java 11.0.2 using the zip-file. Thus it didn&#39;t create the registry entry, so I manually added it. The code above only searches for the registry key in `KeyName`, so just create the key as \r\n\r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\\&lt;your version&gt;\r\n\r\nThere is no need to add any values, just create the path.\r\n\r\nYou can do this by\r\n\r\n- pressing Win+R\r\n- typing &quot;regedit&quot;\r\n- then go to HKEY_LOCAL_MACHINE -&gt; SOFTWARE\r\n- right click on SOFTWARE\r\n- select New -&gt; Key\r\n- name the new folder &quot;JavaSoft&quot;\r\n- right click on the newly created JavaSoft folder\r\n- select New -&gt; Key\r\n- name the new folder &quot;Java Development Kit&quot;.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/EGFmL.png&quot;&gt;\r\n","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>I solved the problem for me by downloading Java 11.0.2 using the zip-file. Thus it didn't create the registry entry, so I manually added it. The code above only searches for the registry key in <code>KeyName</code>, so just create the key as </p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\\&lt;your version&gt;\n</code></pre>\n\n<p>There is no need to add any values, just create the path.</p>\n\n<p>You can do this by</p>\n\n<ul>\n<li>pressing Win+R</li>\n<li>typing \"regedit\"</li>\n<li>then go to HKEY_LOCAL_MACHINE -> SOFTWARE</li>\n<li>right click on SOFTWARE</li>\n<li>select New -> Key</li>\n<li>name the new folder \"JavaSoft\"</li>\n<li>right click on the newly created JavaSoft folder</li>\n<li>select New -> Key</li>\n<li>name the new folder \"Java Development Kit\".</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/EGFmL.png\"></p>\n"},{"tags":[],"owner":{"account_id":258216,"reputation":4197,"user_id":540247,"accept_rate":83,"display_name":"DKSan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555513172,"creation_date":1555513172,"answer_id":55730622,"question_id":49287667,"body_markdown":"I solved the issue by changing the line\r\n\r\n    set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\r\n\r\nto \r\n\r\n    set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\JDK\r\n\r\nI had a look into my registry and found the expected Key had been created with the commonly used abbreviation `JDK`.\r\n\r\nAs an extra i also changed my `tomcat_service_install.bat` to the above mentioned keyname. This made the installation as a windows service possible.","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>I solved the issue by changing the line</p>\n\n<pre><code>set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\n</code></pre>\n\n<p>to </p>\n\n<pre><code>set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\JDK\n</code></pre>\n\n<p>I had a look into my registry and found the expected Key had been created with the commonly used abbreviation <code>JDK</code>.</p>\n\n<p>As an extra i also changed my <code>tomcat_service_install.bat</code> to the above mentioned keyname. This made the installation as a windows service possible.</p>\n"},{"tags":[],"owner":{"account_id":26790164,"reputation":11,"user_id":20383707,"display_name":"Seong Soo Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687929609,"creation_date":1687929609,"answer_id":76570239,"question_id":49287667,"body_markdown":"add a row your catalina_start.bat as below line ;\r\n\r\n    set &quot;CURRENT_DIR=%cd%&quot;\r\n    set &quot;CATALINA_HOME=%CURRENT_DIR%&quot;\r\n    set JAVA_HOME=C:\\yourJDKpath","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>add a row your catalina_start.bat as below line ;</p>\n<pre><code>set &quot;CURRENT_DIR=%cd%&quot;\nset &quot;CATALINA_HOME=%CURRENT_DIR%&quot;\nset JAVA_HOME=C:\\yourJDKpath\n</code></pre>\n"}],"owner":{"account_id":12878353,"reputation":121,"user_id":9314207,"display_name":"Huntwer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6080,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687929609,"creation_date":1521061772,"question_id":49287667,"body_markdown":"I have already read and tried a lot posts on SO, but no one has solved this issue.\r\n\r\nI set to enviroment variables for JDK and JRE release. I have add the same values within both sections &quot;user&#39;s variables for USER&quot; and &quot;system variables&quot;. The variables that I have added is: `JAVA_HOME-&gt;C:\\PROGRA~1\\Java\\JDK9U4~1 and JRE_HOME-&gt;C:\\PROGRA~1\\Java\\JRE9U4~1.`\r\n\r\nMy installations directory for JDK and JRE are respectly &quot;C:\\Program Files\\Java\\JDK 9u4&quot; and &quot;C:\\Program Files\\Java\\JRE 9u4&quot;.\r\n\r\nWhen I run catalina_start.bat, I getting this error:\r\n\r\n    [XAMPP]: Searching JDK HOME with reg query ...\r\n    Errore: The registry key or the specified value could not be found.\r\n    . [XAMPP]: Cannot find current JDK installation!\r\n    . [XAMPP]: Cannot set JAVA_HOME. Aborting ...\r\n    done.\r\n\r\nThe text of my catalina_start.bat file (and I think this is default) is:\r\n\r\n    @echo off\r\n    ::::::::::::::::::::::::::::::::::::\r\n    ::  Set JAVA_HOME and   ::\r\n    ::::::::::::::::::::::::::::::::::::\r\n    \r\n    IF EXIST tomcat\\logs\\catalina.pid (\r\n      del /F/Q tomcat\\logs\\catalina.pid\r\n    ) \r\n    \r\n    echo.\r\n    echo [XAMPP]: Searching JDK HOME with reg query ...\r\n    set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\r\n    \r\n    reg query &quot;%KeyName%&quot; /s\r\n    if %ERRORLEVEL% == 1 (\r\n      echo . [XAMPP]: Cannot find current JDK installation! \r\n      echo . [XAMPP]: Cannot set JAVA_HOME. Aborting ...\r\n      goto :END\r\n    )\r\n    \r\n    set &quot;CURRENT_DIR=%cd%&quot;\r\n    set &quot;CATALINA_HOME=%CURRENT_DIR%&quot;\r\n    \r\n    :: only for windows 32 bit if you have problems with the tcnative-1.dll\r\n    :: set CATALINA_OPTS=-Djava.library.path=&quot;%CATALINA_HOME%\\bin&quot;\r\n    \r\n    set Cmd=reg query &quot;%KeyName%&quot; /s\r\n    for /f &quot;tokens=2*&quot; %%i in (&#39;%Cmd% ^| find &quot;JavaHome&quot;&#39;) do set JAVA_HOME=%%j\r\n    \r\n    echo.\r\n    echo [XAMPP]: Seems fine!\r\n    echo [XAMPP]: Set JAVA_HOME : %JAVA_HOME%\r\n    echo [XAMPP]: Set CATALINA_HOME : %CATALINA_HOME%\r\n    echo.\r\n    \r\n    if %ERRORLEVEL% == 0 (\r\n    echo run &gt; logs\\catalina.pid\r\n    )\r\n    \r\n    &quot;%CATALINA_HOME%\\bin\\catalina.bat&quot; run\r\n    \r\n    \r\n    :END\r\n    echo done.\r\n    pause\r\n\r\nI have already tried many solutions, but nothing have helped me. I wondered if someone could to help me with this, I would be very grateful. I hope that I have explained myself clearly (sorry for my english). Thanks for advices.","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>I have already read and tried a lot posts on SO, but no one has solved this issue.</p>\n\n<p>I set to enviroment variables for JDK and JRE release. I have add the same values within both sections \"user's variables for USER\" and \"system variables\". The variables that I have added is: <code>JAVA_HOME-&gt;C:\\PROGRA~1\\Java\\JDK9U4~1 and JRE_HOME-&gt;C:\\PROGRA~1\\Java\\JRE9U4~1.</code></p>\n\n<p>My installations directory for JDK and JRE are respectly \"C:\\Program Files\\Java\\JDK 9u4\" and \"C:\\Program Files\\Java\\JRE 9u4\".</p>\n\n<p>When I run catalina_start.bat, I getting this error:</p>\n\n<pre><code>[XAMPP]: Searching JDK HOME with reg query ...\nErrore: The registry key or the specified value could not be found.\n. [XAMPP]: Cannot find current JDK installation!\n. [XAMPP]: Cannot set JAVA_HOME. Aborting ...\ndone.\n</code></pre>\n\n<p>The text of my catalina_start.bat file (and I think this is default) is:</p>\n\n<pre><code>@echo off\n::::::::::::::::::::::::::::::::::::\n::  Set JAVA_HOME and   ::\n::::::::::::::::::::::::::::::::::::\n\nIF EXIST tomcat\\logs\\catalina.pid (\n  del /F/Q tomcat\\logs\\catalina.pid\n) \n\necho.\necho [XAMPP]: Searching JDK HOME with reg query ...\nset KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\n\nreg query \"%KeyName%\" /s\nif %ERRORLEVEL% == 1 (\n  echo . [XAMPP]: Cannot find current JDK installation! \n  echo . [XAMPP]: Cannot set JAVA_HOME. Aborting ...\n  goto :END\n)\n\nset \"CURRENT_DIR=%cd%\"\nset \"CATALINA_HOME=%CURRENT_DIR%\"\n\n:: only for windows 32 bit if you have problems with the tcnative-1.dll\n:: set CATALINA_OPTS=-Djava.library.path=\"%CATALINA_HOME%\\bin\"\n\nset Cmd=reg query \"%KeyName%\" /s\nfor /f \"tokens=2*\" %%i in ('%Cmd% ^| find \"JavaHome\"') do set JAVA_HOME=%%j\n\necho.\necho [XAMPP]: Seems fine!\necho [XAMPP]: Set JAVA_HOME : %JAVA_HOME%\necho [XAMPP]: Set CATALINA_HOME : %CATALINA_HOME%\necho.\n\nif %ERRORLEVEL% == 0 (\necho run &gt; logs\\catalina.pid\n)\n\n\"%CATALINA_HOME%\\bin\\catalina.bat\" run\n\n\n:END\necho done.\npause\n</code></pre>\n\n<p>I have already tried many solutions, but nothing have helped me. I wondered if someone could to help me with this, I would be very grateful. I hope that I have explained myself clearly (sorry for my english). Thanks for advices.</p>\n"},{"tags":["java","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":13001928,"reputation":46,"user_id":9397755,"display_name":"Jennifer Reif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687873706,"creation_date":1687873706,"answer_id":76565546,"question_id":76564327,"body_markdown":"You should need to map the relationship properties class by putting that in your domain class. I like to think of the relationship properties class as a separate entity where you need to chain a node to a relationship to a node. So, in the Store class, you need something like this:\r\n\r\n```\r\n@Relationship(&quot;HasProduct&quot;)\r\nprivate List&lt;HasProduct&gt; topSellingProducts;\r\n```\r\n\r\nCouple small examples: \r\n* https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#mapping.annotations.relationship.properties\r\n* https://github.com/JMHReif/neo4j-code-wars/blob/master/src/main/java/com/jmhreif/neo4jcodewars/Order.java","title":"Unable to save Relationship property values in Spring data Neo4j 3.1","body":"<p>You should need to map the relationship properties class by putting that in your domain class. I like to think of the relationship properties class as a separate entity where you need to chain a node to a relationship to a node. So, in the Store class, you need something like this:</p>\n<pre><code>@Relationship(&quot;HasProduct&quot;)\nprivate List&lt;HasProduct&gt; topSellingProducts;\n</code></pre>\n<p>Couple small examples:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#mapping.annotations.relationship.properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#mapping.annotations.relationship.properties</a></li>\n<li><a href=\"https://github.com/JMHReif/neo4j-code-wars/blob/master/src/main/java/com/jmhreif/neo4jcodewars/Order.java\" rel=\"nofollow noreferrer\">https://github.com/JMHReif/neo4j-code-wars/blob/master/src/main/java/com/jmhreif/neo4jcodewars/Order.java</a></li>\n</ul>\n"}],"owner":{"account_id":18614388,"reputation":3,"user_id":13566020,"display_name":"Abhijeet Mahapatro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687929516,"creation_date":1687864702,"question_id":76564327,"body_markdown":"I have a simple usage case where I have n store --&gt; which has k number of products. I want to connect the store with a relationship HasProduct. On that realationship I want to capture product qty, price because of each store the qty and price will be different.\r\n\r\n```\r\n@Data\r\n@Node\r\npublic class Store {\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\t@Property\r\n\tprivate String businessType;\r\n\t@Property\r\n\tprivate int currentOnhandInventory;\r\n\t@Property\r\n\tprivate String locationId;\r\n\t@Property\r\n\t@Relationship(type = &quot;HasProduct&quot;, value = &quot;HasProduct&quot;, direction = Direction.OUTGOING)\r\n\tprivate List&lt;Product&gt; topSellingProducts;\r\n}\r\n\r\n@Data\r\n@Node\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\t@Property\r\n\tprivate String name;\r\n\t@Property\r\n\tprivate String description;\r\n\t@Property\r\n\tprivate String department;\r\n\t@Property\r\n\t@Relationship\r\n\tprivate Store store;\r\n\r\n}\r\n\r\n@Data\r\n@RelationshipProperties\r\npublic class HasProduct {\r\n\r\n\t@RelationshipId\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\r\n\t@Property\r\n\tprivate String qty;\r\n\r\n\t@Property\r\n\tprivate Double price;\r\n\r\n\t@TargetNode\r\n\tprivate Product product;\r\n\r\n}\r\n\r\n@RestController\r\n@RequestMapping(&quot;/store&quot;)\r\npublic class StoreController {\r\n\r\n\tprivate StoreRepository storeRepository;\r\n\t\r\n\tpublic StoreController(StoreRepository storeRepository) {\r\n\t\tthis.storeRepository = storeRepository;\r\n\t}\r\n\r\n\t@PutMapping\r\n\tMono&lt;Store&gt; createOrUpdateStore(@RequestBody Store newStore) {\r\n\t\treturn storeRepository.save(newStore);\r\n\t}\r\n\r\n\t@GetMapping\r\n\tMono&lt;Store&gt; getStoreById(@RequestParam Long id) {\r\n\t\treturn storeRepository.findById(id);\r\n\t}\r\n}\r\n\r\n@org.springframework.context.annotation.Configuration\r\npublic class Config {\r\n\r\n\t\r\n\t@Bean(ReactiveNeo4jRepositoryConfigurationExtension.DEFAULT_TRANSACTION_MANAGER_BEAN_NAME)\r\n\tpublic ReactiveTransactionManager reactiveTransactionManager(\r\n\t    Driver driver,\r\n\t    ReactiveDatabaseSelectionProvider databaseNameProvider) {\r\n\t    return new ReactiveNeo4jTransactionManager(driver, databaseNameProvider);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic Configuration cypherDslConfiguration() {\r\n\t    return Configuration.newConfig()\r\n\t        .withDialect(Dialect.NEO4J_5)\r\n\t        .build();\r\n\t} \r\n}\r\n\r\npublic interface StoreRepository extends ReactiveNeo4jRepository&lt;Store, Long&gt; {\r\n\tMono&lt;List&lt;Store&gt;&gt; findOneById(Long id);\r\n}\r\n```\r\n\r\n When I am trying to save a store object I am getting this error \r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;valueToCheck&quot; is null\r\n    at org.springframework.data.neo4j.core.mapping.NestedRelationshipProcessingStateMachine.hasProcessedValue(NestedRelationshipProcessingStateMachine.java:178) ~[spring-data-neo4j-7.1.0.jar:7.1.0]\r\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\nAssembly trace from producer [reactor.core.publisher.FluxPeek] :\r\n    reactor.core.publisher.Flux.checkpoint(Flux.java:3454)\r\n    org.springframework.data.neo4j.core.ReactiveNeo4jTemplate.processNestedRelations(ReactiveNeo4jTemplate.java:1049)\r\n```\r\n\r\nCan somebody help with this, as there are not much documentation or examples are available for Spring data 3.1.","title":"Unable to save Relationship property values in Spring data Neo4j 3.1","body":"<p>I have a simple usage case where I have n store --&gt; which has k number of products. I want to connect the store with a relationship HasProduct. On that realationship I want to capture product qty, price because of each store the qty and price will be different.</p>\n<pre><code>@Data\n@Node\npublic class Store {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    @Property\n    private String businessType;\n    @Property\n    private int currentOnhandInventory;\n    @Property\n    private String locationId;\n    @Property\n    @Relationship(type = &quot;HasProduct&quot;, value = &quot;HasProduct&quot;, direction = Direction.OUTGOING)\n    private List&lt;Product&gt; topSellingProducts;\n}\n\n@Data\n@Node\npublic class Product {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    @Property\n    private String name;\n    @Property\n    private String description;\n    @Property\n    private String department;\n    @Property\n    @Relationship\n    private Store store;\n\n}\n\n@Data\n@RelationshipProperties\npublic class HasProduct {\n\n    @RelationshipId\n    @GeneratedValue\n    private Long id;\n\n    @Property\n    private String qty;\n\n    @Property\n    private Double price;\n\n    @TargetNode\n    private Product product;\n\n}\n\n@RestController\n@RequestMapping(&quot;/store&quot;)\npublic class StoreController {\n\n    private StoreRepository storeRepository;\n    \n    public StoreController(StoreRepository storeRepository) {\n        this.storeRepository = storeRepository;\n    }\n\n    @PutMapping\n    Mono&lt;Store&gt; createOrUpdateStore(@RequestBody Store newStore) {\n        return storeRepository.save(newStore);\n    }\n\n    @GetMapping\n    Mono&lt;Store&gt; getStoreById(@RequestParam Long id) {\n        return storeRepository.findById(id);\n    }\n}\n\n@org.springframework.context.annotation.Configuration\npublic class Config {\n\n    \n    @Bean(ReactiveNeo4jRepositoryConfigurationExtension.DEFAULT_TRANSACTION_MANAGER_BEAN_NAME)\n    public ReactiveTransactionManager reactiveTransactionManager(\n        Driver driver,\n        ReactiveDatabaseSelectionProvider databaseNameProvider) {\n        return new ReactiveNeo4jTransactionManager(driver, databaseNameProvider);\n    }\n    \n    @Bean\n    public Configuration cypherDslConfiguration() {\n        return Configuration.newConfig()\n            .withDialect(Dialect.NEO4J_5)\n            .build();\n    } \n}\n\npublic interface StoreRepository extends ReactiveNeo4jRepository&lt;Store, Long&gt; {\n    Mono&lt;List&lt;Store&gt;&gt; findOneById(Long id);\n}\n</code></pre>\n<p>When I am trying to save a store object I am getting this error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;valueToCheck&quot; is null\n    at org.springframework.data.neo4j.core.mapping.NestedRelationshipProcessingStateMachine.hasProcessedValue(NestedRelationshipProcessingStateMachine.java:178) ~[spring-data-neo4j-7.1.0.jar:7.1.0]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nAssembly trace from producer [reactor.core.publisher.FluxPeek] :\n    reactor.core.publisher.Flux.checkpoint(Flux.java:3454)\n    org.springframework.data.neo4j.core.ReactiveNeo4jTemplate.processNestedRelations(ReactiveNeo4jTemplate.java:1049)\n</code></pre>\n<p>Can somebody help with this, as there are not much documentation or examples are available for Spring data 3.1.</p>\n"},{"tags":["java","spring-boot","aws-lambda","requesthandler"],"answers":[{"tags":[],"owner":{"display_name":"user19682350"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1687929220,"creation_date":1687929220,"answer_id":76570215,"question_id":76570038,"body_markdown":"The error you are experiencing is related to the method **getAwsProxyHandler()** in the **SpringBootLambdaContainerHandler** class. The error message indicates that the method is expecting a parameter of type **Class&lt;? extends WebApplicationInitializer&gt;**, but you are passing **AWSTestApplication.class**, which is of type **Class&lt;AWSTestApplication&gt;**.\r\n\r\nTo fix this error, you can try the following:\r\n\r\nEnsure that **AWSTestApplication** implements the **WebApplicationInitializer** interface. If it doesn&#39;t already, you can modify your application class as follows:\r\n\r\n    @SpringBootApplication\r\n    public class AWSTestApplication extends SpringBootServletInitializer \r\n    implements WebApplicationInitializer {\r\n        // ... your code ...\r\n    }\r\n\r\nUpdate the **getAwsProxyHandler()** call in your **AWSLambdaHandler** class to use a wildcard (**?**) for the generic type:\r\n\r\n    handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\r\n\r\nBy using Class&lt;?&gt; instead of **Class&lt;AWSTestApplication&gt;**, it should resolve the type mismatch error.\r\n\r\nRegarding your second question about handling different endpoint requests in the Lambda function, you can achieve that by implementing separate methods in your **AWSTestController** class for each endpoint. The code you provided already includes two GET endpoints: **/searchAllData** and **/searchDataByUser/{userno}**. These endpoints can be invoked by making GET requests to the corresponding URLs.\r\n\r\nMake sure you configure the necessary dependencies and mappings in your Spring Boot application to handle these requests correctly.","title":"Spring boot code integration with AWS RequestStreamHandler","body":"<p>The error you are experiencing is related to the method <strong>getAwsProxyHandler()</strong> in the <strong>SpringBootLambdaContainerHandler</strong> class. The error message indicates that the method is expecting a parameter of type <strong>Class&lt;? extends WebApplicationInitializer&gt;</strong>, but you are passing <strong>AWSTestApplication.class</strong>, which is of type <strong>Class</strong>.</p>\n<p>To fix this error, you can try the following:</p>\n<p>Ensure that <strong>AWSTestApplication</strong> implements the <strong>WebApplicationInitializer</strong> interface. If it doesn't already, you can modify your application class as follows:</p>\n<pre><code>@SpringBootApplication\npublic class AWSTestApplication extends SpringBootServletInitializer \nimplements WebApplicationInitializer {\n    // ... your code ...\n}\n</code></pre>\n<p>Update the <strong>getAwsProxyHandler()</strong> call in your <strong>AWSLambdaHandler</strong> class to use a wildcard (<strong>?</strong>) for the generic type:</p>\n<pre><code>handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\n</code></pre>\n<p>By using Class&lt;?&gt; instead of <strong>Class</strong>, it should resolve the type mismatch error.</p>\n<p>Regarding your second question about handling different endpoint requests in the Lambda function, you can achieve that by implementing separate methods in your <strong>AWSTestController</strong> class for each endpoint. The code you provided already includes two GET endpoints: <strong>/searchAllData</strong> and <strong>/searchDataByUser/{userno}</strong>. These endpoints can be invoked by making GET requests to the corresponding URLs.</p>\n<p>Make sure you configure the necessary dependencies and mappings in your Spring Boot application to handle these requests correctly.</p>\n"}],"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76570215,"answer_count":1,"score":0,"last_activity_date":1687929479,"creation_date":1687926579,"question_id":76570038,"body_markdown":"I have a spring boot application with 2 GET end point. I am trying to include Lambda handler request and deploy as AWS Lambda function.\r\n\r\nAs a first step, I added below code for RequestStreamHandler.\r\n\r\n    public class AWSLambdaHandler implements RequestStreamHandler {\r\n        private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\r\n        static {\r\n            try {\r\n                handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\r\n            } catch (ContainerInitializationException e) {\r\n                // Re-throw the exception to force another cold start\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\r\n            }\r\n        }\r\n        @Override\r\n        public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\r\n            handler.proxyStream(inputStream, outputStream, context);\r\n            // just in case it wasn&#39;t closed by the mapper\r\n            outputStream.close();\r\n        }\r\n    }\r\n\r\nApplication class:\r\n\r\n    package com.example.awstest.client;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class AWSTestApplication  extends SpringBootServletInitializer {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(AWSTestApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nQ: I have 2 GET end points in this spring boot service. Is this way of implementing Lambda handler request is enough or Do I need to add more code for the lambda function to handle this end point requests differently?\r\n\r\nController class (just for the question 2):\r\n\r\n    @RestController\r\n    \r\n    public class AWSTestController {\r\n    \r\n            @Autowired\r\n            private AWSTestServiceDAO awstestServiceDAO;\r\n    \r\n            @CrossOrigin(origins = &quot;*&quot;)\r\n            @GetMapping(&quot;/searchAllData&quot;)\r\n            public List&lt;TESTData&gt; searchAllData() {\r\n    \r\n                List&lt;TESTData&gt; dataList = awstestServiceDAO.getAllData();\r\n                return dataList;\r\n             }\r\n    \r\n            @CrossOrigin(origins = &quot;*&quot;)\r\n            @GetMapping(&quot;/searchDataByUser/{userno}&quot;)\r\n            public List&lt;TESTData&gt; searchDataByUser(@PathVariable Integer userno) {\r\n    \r\n                List&lt;TESTData&gt; dataList = awstestServiceDAO.findDataByMemberNo(userno);\r\n                return dataList;\r\n            }\r\n    \r\n    }\r\n\r\n","title":"Spring boot code integration with AWS RequestStreamHandler","body":"<p>I have a spring boot application with 2 GET end point. I am trying to include Lambda handler request and deploy as AWS Lambda function.</p>\n<p>As a first step, I added below code for RequestStreamHandler.</p>\n<pre><code>public class AWSLambdaHandler implements RequestStreamHandler {\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\n    static {\n        try {\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\n        } catch (ContainerInitializationException e) {\n            // Re-throw the exception to force another cold start\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\n        }\n    }\n    @Override\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\n        handler.proxyStream(inputStream, outputStream, context);\n        // just in case it wasn't closed by the mapper\n        outputStream.close();\n    }\n}\n</code></pre>\n<p>Application class:</p>\n<pre><code>package com.example.awstest.client;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AWSTestApplication  extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AWSTestApplication.class, args);\n    }\n}\n</code></pre>\n<p>Q: I have 2 GET end points in this spring boot service. Is this way of implementing Lambda handler request is enough or Do I need to add more code for the lambda function to handle this end point requests differently?</p>\n<p>Controller class (just for the question 2):</p>\n<pre><code>@RestController\n\npublic class AWSTestController {\n\n        @Autowired\n        private AWSTestServiceDAO awstestServiceDAO;\n\n        @CrossOrigin(origins = &quot;*&quot;)\n        @GetMapping(&quot;/searchAllData&quot;)\n        public List&lt;TESTData&gt; searchAllData() {\n\n            List&lt;TESTData&gt; dataList = awstestServiceDAO.getAllData();\n            return dataList;\n         }\n\n        @CrossOrigin(origins = &quot;*&quot;)\n        @GetMapping(&quot;/searchDataByUser/{userno}&quot;)\n        public List&lt;TESTData&gt; searchDataByUser(@PathVariable Integer userno) {\n\n            List&lt;TESTData&gt; dataList = awstestServiceDAO.findDataByMemberNo(userno);\n            return dataList;\n        }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1687683619,"post_id":76549520,"comment_id":134968584,"body_markdown":"Seems like facebook is redirecting you to an url with the &quot;fb&quot; scheme, most likely because it thinks you&#39;re viewing the page on a mobile phone, and wants to open the actual facebook app to view the video. What&#39;s the user agent of your webview?","body":"Seems like facebook is redirecting you to an url with the &quot;fb&quot; scheme, most likely because it thinks you&#39;re viewing the page on a mobile phone, and wants to open the actual facebook app to view the video. What&#39;s the user agent of your webview?"},{"owner":{"account_id":28890263,"reputation":1,"user_id":22127579,"display_name":"TheClimbGamer"},"score":0,"creation_date":1687683921,"post_id":76549520,"comment_id":134968611,"body_markdown":"I have the default user agent","body":"I have the default user agent"}],"answers":[{"tags":[],"owner":{"account_id":28890263,"reputation":1,"user_id":22127579,"display_name":"TheClimbGamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687929439,"creation_date":1687702340,"answer_id":76550827,"question_id":76549520,"body_markdown":"So i found the solution to this problem. Just add this User-Agent to your web view :\r\n\r\n            String MyUA = &quot;Mozilla/5.0 (Windows Phone 8.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;;\r\n            webView.getSettings().setUserAgentString(MyUA);\r\n\r\n\r\nit should now load the facebook video link into the webview","title":"Facebook video link does not open in web view java","body":"<p>So i found the solution to this problem. Just add this User-Agent to your web view :</p>\n<pre><code>        String MyUA = &quot;Mozilla/5.0 (Windows Phone 8.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;;\n        webView.getSettings().setUserAgentString(MyUA);\n</code></pre>\n<p>it should now load the facebook video link into the webview</p>\n"}],"owner":{"account_id":28890263,"reputation":1,"user_id":22127579,"display_name":"TheClimbGamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76550827,"answer_count":1,"score":-1,"last_activity_date":1687929439,"creation_date":1687681324,"question_id":76549520,"body_markdown":"this is a link to a facebook video https://www.facebook.com/watch/?v=269637072007881\r\n\r\nwhen i try to open it in my app web view it redirect to a different url and show me this error\r\n\r\n`Webpage not available\r\nThe webpage at fb://fullscreen_video/269637072007881?loop=false&amp;wtsid=wt_0p0MNje32ZvW5oQjV could not be loaded because:\r\n\r\nnet::ERR_UNKNOWN_URL_SCHEME`\r\n\r\nif i try to open this url in other browser then it works perfectly.\r\n\r\nthis is my code for the webview: \r\n\r\n\r\n```\r\n            WebSettings webSettings = page.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setDomStorageEnabled(true);\r\n            webSettings.setAllowUniversalAccessFromFileURLs(true);\r\n            webSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n            page.setWebViewClient(new WebViewClient() {//it seems not setting webclient, launches\r\n                //default browser instead of opening the page in webview\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n                    if(blockedWebsites.contains(Utils.getBaseDomain(request.getUrl().toString()))){\r\n                        Log.d(&quot;vdd&quot;, &quot;URL : &quot; + request.getUrl().toString());\r\n                        new AlertDialog.Builder(getContext())\r\n                                .setMessage(&quot;Youtube is not supported according to google policy.&quot;)\r\n                                .setNegativeButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n\r\n                                    }\r\n                                })\r\n                                .create()\r\n                                .show();\r\n                        return true;\r\n                    }\r\n                    return super.shouldOverrideUrlLoading(view, request);\r\n                }\r\n\r\n                @Override\r\n                public void onPageStarted(final WebView webview, final String url, Bitmap favicon) {\r\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            EditText urlBox = getVDActivity().findViewById(R.id.et_search_bar);\r\n                            urlBox.setText(url);\r\n                            urlBox.setSelection(urlBox.getText().length());\r\n                            BrowserWindow.this.url = url;\r\n                        }\r\n                    });\r\n                    view.findViewById(R.id.loadingProgress).setVisibility(View.GONE);\r\n                    loadingPageProgress.setVisibility(View.VISIBLE);\r\n                    super.onPageStarted(webview, url, favicon);\r\n                }\r\n\r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    super.onPageFinished(view, url);\r\n                    loadingPageProgress.setVisibility(View.GONE);\r\n                }\r\n\r\n                @Override\r\n                public void onLoadResource(final WebView view, final String url) {\r\n                    Log.d(&quot;fb :&quot;, &quot;URL: &quot; + url);\r\n                    final String page = view.getUrl();\r\n                    final String title = view.getTitle();\r\n\r\n                    new VideoContentSearch(getActivity(), url, page, title) {\r\n                        @Override\r\n                        public void onStartInspectingURL() {\r\n                            Utils.disableSSLCertificateChecking();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFinishedInspectingURL(boolean finishedAll) {\r\n                            HttpsURLConnection.setDefaultSSLSocketFactory(defaultSSLSF);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onVideoFound(String size, String type, String link, String name, String page, boolean chunked, String website, boolean audio) {\r\n                            videoList.addItem(size, type, link, name, page, chunked, website, audio);\r\n                            updateFoundVideosBar();\r\n                        }\r\n                    }.start();\r\n                }\r\n\r\n                @Override\r\n                public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\r\n                    if (getActivity() != null) {\r\n                        Log.d(&quot;VDDebug&quot;, &quot;Url: &quot; + url);\r\n                        if (getActivity().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString(R\r\n                                .string.adBlockON), true)\r\n                                &amp;&amp; (url.contains(&quot;ad&quot;) || url.contains(&quot;banner&quot;) || url.contains(&quot;pop&quot;))\r\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(url)) {\r\n                            Log.d(&quot;VDDebug&quot;, &quot;Ads detected: &quot; + url);\r\n                            return new WebResourceResponse(null, null, null);\r\n                        }\r\n                    }\r\n                    return super.shouldInterceptRequest(view, url);\r\n                }\r\n\r\n                @Override\r\n                public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; getVDActivity() !=\r\n                            null) {\r\n                        if (MyApplication.getInstance().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString\r\n                                (R.string.adBlockON), true)\r\n                                &amp;&amp; (request.getUrl().toString().contains(&quot;ad&quot;) ||\r\n                                request.getUrl().toString().contains(&quot;banner&quot;) ||\r\n                                request.getUrl().toString().contains(&quot;pop&quot;))\r\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(request.getUrl()\r\n                                .toString())) {\r\n                            Log.i(&quot;VDInfo&quot;, &quot;Ads detected: &quot; + request.getUrl().toString());\r\n                            return new WebResourceResponse(null, null, null);\r\n                        } else return null;\r\n                    } else {\r\n                        return shouldInterceptRequest(view, request.getUrl().toString());\r\n                    }\r\n                }\r\n            });\r\n            page.setWebChromeClient(new WebChromeClient() {\r\n                @Override\r\n                public void onProgressChanged(WebView view, int newProgress) {\r\n                    loadingPageProgress.setProgress(newProgress);\r\n                }\r\n\r\n                @Override\r\n                public void onReceivedTitle(WebView view, String title) {\r\n                    super.onReceivedTitle(view, title);\r\n                    videoList.deleteAllItems();\r\n                    updateFoundVideosBar();\r\n//                    VisitedPage vp = new VisitedPage();\r\n//                    vp.title = title;\r\n//                    vp.link = view.getUrl();\r\n//                    new HistorySQLite(getActivity()).addPageToHistory(vp);\r\n                }\r\n            });\r\n\r\n            page.loadUrl(url);\r\n            loadedFirsTime = true;\r\n```\r\n\r\n\r\n\r\nI expect this to open video in my app webview","title":"Facebook video link does not open in web view java","body":"<p>this is a link to a facebook video <a href=\"https://www.facebook.com/watch/?v=269637072007881\" rel=\"nofollow noreferrer\">https://www.facebook.com/watch/?v=269637072007881</a></p>\n<p>when i try to open it in my app web view it redirect to a different url and show me this error</p>\n<p>`Webpage not available\nThe webpage at fb://fullscreen_video/269637072007881?loop=false&amp;wtsid=wt_0p0MNje32ZvW5oQjV could not be loaded because:</p>\n<p>net::ERR_UNKNOWN_URL_SCHEME`</p>\n<p>if i try to open this url in other browser then it works perfectly.</p>\n<p>this is my code for the webview:</p>\n<pre><code>            WebSettings webSettings = page.getSettings();\n            webSettings.setJavaScriptEnabled(true);\n            webSettings.setDomStorageEnabled(true);\n            webSettings.setAllowUniversalAccessFromFileURLs(true);\n            webSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n            page.setWebViewClient(new WebViewClient() {//it seems not setting webclient, launches\n                //default browser instead of opening the page in webview\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n                    if(blockedWebsites.contains(Utils.getBaseDomain(request.getUrl().toString()))){\n                        Log.d(&quot;vdd&quot;, &quot;URL : &quot; + request.getUrl().toString());\n                        new AlertDialog.Builder(getContext())\n                                .setMessage(&quot;Youtube is not supported according to google policy.&quot;)\n                                .setNegativeButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                                    @Override\n                                    public void onClick(DialogInterface dialog, int which) {\n\n                                    }\n                                })\n                                .create()\n                                .show();\n                        return true;\n                    }\n                    return super.shouldOverrideUrlLoading(view, request);\n                }\n\n                @Override\n                public void onPageStarted(final WebView webview, final String url, Bitmap favicon) {\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\n                        @Override\n                        public void run() {\n                            EditText urlBox = getVDActivity().findViewById(R.id.et_search_bar);\n                            urlBox.setText(url);\n                            urlBox.setSelection(urlBox.getText().length());\n                            BrowserWindow.this.url = url;\n                        }\n                    });\n                    view.findViewById(R.id.loadingProgress).setVisibility(View.GONE);\n                    loadingPageProgress.setVisibility(View.VISIBLE);\n                    super.onPageStarted(webview, url, favicon);\n                }\n\n                @Override\n                public void onPageFinished(WebView view, String url) {\n                    super.onPageFinished(view, url);\n                    loadingPageProgress.setVisibility(View.GONE);\n                }\n\n                @Override\n                public void onLoadResource(final WebView view, final String url) {\n                    Log.d(&quot;fb :&quot;, &quot;URL: &quot; + url);\n                    final String page = view.getUrl();\n                    final String title = view.getTitle();\n\n                    new VideoContentSearch(getActivity(), url, page, title) {\n                        @Override\n                        public void onStartInspectingURL() {\n                            Utils.disableSSLCertificateChecking();\n                        }\n\n                        @Override\n                        public void onFinishedInspectingURL(boolean finishedAll) {\n                            HttpsURLConnection.setDefaultSSLSocketFactory(defaultSSLSF);\n                        }\n\n                        @Override\n                        public void onVideoFound(String size, String type, String link, String name, String page, boolean chunked, String website, boolean audio) {\n                            videoList.addItem(size, type, link, name, page, chunked, website, audio);\n                            updateFoundVideosBar();\n                        }\n                    }.start();\n                }\n\n                @Override\n                public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\n                    if (getActivity() != null) {\n                        Log.d(&quot;VDDebug&quot;, &quot;Url: &quot; + url);\n                        if (getActivity().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString(R\n                                .string.adBlockON), true)\n                                &amp;&amp; (url.contains(&quot;ad&quot;) || url.contains(&quot;banner&quot;) || url.contains(&quot;pop&quot;))\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(url)) {\n                            Log.d(&quot;VDDebug&quot;, &quot;Ads detected: &quot; + url);\n                            return new WebResourceResponse(null, null, null);\n                        }\n                    }\n                    return super.shouldInterceptRequest(view, url);\n                }\n\n                @Override\n                public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; getVDActivity() !=\n                            null) {\n                        if (MyApplication.getInstance().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString\n                                (R.string.adBlockON), true)\n                                &amp;&amp; (request.getUrl().toString().contains(&quot;ad&quot;) ||\n                                request.getUrl().toString().contains(&quot;banner&quot;) ||\n                                request.getUrl().toString().contains(&quot;pop&quot;))\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(request.getUrl()\n                                .toString())) {\n                            Log.i(&quot;VDInfo&quot;, &quot;Ads detected: &quot; + request.getUrl().toString());\n                            return new WebResourceResponse(null, null, null);\n                        } else return null;\n                    } else {\n                        return shouldInterceptRequest(view, request.getUrl().toString());\n                    }\n                }\n            });\n            page.setWebChromeClient(new WebChromeClient() {\n                @Override\n                public void onProgressChanged(WebView view, int newProgress) {\n                    loadingPageProgress.setProgress(newProgress);\n                }\n\n                @Override\n                public void onReceivedTitle(WebView view, String title) {\n                    super.onReceivedTitle(view, title);\n                    videoList.deleteAllItems();\n                    updateFoundVideosBar();\n//                    VisitedPage vp = new VisitedPage();\n//                    vp.title = title;\n//                    vp.link = view.getUrl();\n//                    new HistorySQLite(getActivity()).addPageToHistory(vp);\n                }\n            });\n\n            page.loadUrl(url);\n            loadedFirsTime = true;\n</code></pre>\n<p>I expect this to open video in my app webview</p>\n"},{"tags":["java","eclipse","debugging","visualizer","jive"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687776888,"post_id":76553211,"comment_id":134979176,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25821472,"reputation":1,"user_id":19560475,"display_name":"James Sullivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687928310,"creation_date":1687746731,"question_id":76553211,"body_markdown":"I have installed a plugin named JIVE in the Eclipse software. It can generate object diagrams and sequence diagrams based on Java source code and supports features like rollback and filtering. However, when I right-click on the sequence diagram and choose &quot;jump to source&quot;, it prompts that the source code is not available. What could be causing this? \r\n [See the picture for details][1]\r\n\r\n\r\nI hope that when I click to jump, the cursor in the source code window on the left will be on the corresponding source code, which will facilitate my debugging of complex framework code.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vGlIW.png","title":"I have installed a plugin named JIVE in the Eclipse software. it prompts that the source code is not available when i use it","body":"<p>I have installed a plugin named JIVE in the Eclipse software. It can generate object diagrams and sequence diagrams based on Java source code and supports features like rollback and filtering. However, when I right-click on the sequence diagram and choose &quot;jump to source&quot;, it prompts that the source code is not available. What could be causing this?\n<a href=\"https://i.stack.imgur.com/vGlIW.png\" rel=\"nofollow noreferrer\">See the picture for details</a></p>\n<p>I hope that when I click to jump, the cursor in the source code window on the left will be on the corresponding source code, which will facilitate my debugging of complex framework code.</p>\n"},{"tags":["java","mongodb","mongodb-query","spring-data-mongodb","spring-mongodb"],"owner":{"account_id":17064150,"reputation":13,"user_id":12346801,"display_name":"Sharana Avali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687928172,"creation_date":1687839575,"question_id":76561591,"body_markdown":"\r\n```\r\npublic static synchronized Object convertToEntity(Class&lt;?&gt; entityClass, Map&lt;String, Object&gt; entityMap){\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\t\tObject pojo = mapper.convertValue(entityMap, entityClass);\r\n\t\treturn pojo;\r\n}\r\n```\r\n\r\nhere after converting value using mapper and pojo contains _id random value will be changed as compared\r\nto which is stored in db like below\r\n\r\n_id\r\n\r\n6453a95 **ae82df6385d** 4e573e\r\n\r\n6453a95 **a1800896d19** 4e573e\r\n\r\ni tried many ways its getting change while fetching from db and when i tried to update its not updating since _id random value will be change and it wont find in db","title":"how to restrict mongodb _id random value changes while we fetching from db and converting to entity","body":"<pre><code>public static synchronized Object convertToEntity(Class&lt;?&gt; entityClass, Map&lt;String, Object&gt; entityMap){\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        Object pojo = mapper.convertValue(entityMap, entityClass);\n        return pojo;\n}\n</code></pre>\n<p>here after converting value using mapper and pojo contains _id random value will be changed as compared\nto which is stored in db like below</p>\n<p>_id</p>\n<p>6453a95 <strong>ae82df6385d</strong> 4e573e</p>\n<p>6453a95 <strong>a1800896d19</strong> 4e573e</p>\n<p>i tried many ways its getting change while fetching from db and when i tried to update its not updating since _id random value will be change and it wont find in db</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1675123,"reputation":17577,"user_id":1540854,"display_name":"jeprubio"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1682580647,"creation_date":1681504465,"answer_id":76018755,"question_id":76018702,"body_markdown":"I can see it, probably you have chosen the templates for a compose activity which now are the default ones, if the app is in compose it can only use kotlin and I guess that&#39;s why if the compose option is selected it doesn&#39;t allow you to choose java then.\r\n\r\nAfter selecting **Empty Activity** (in compose):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter selecting one of the traditional views options like the **Basic Views Activity**:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3LUvsm.png\r\n  [2]: https://i.stack.imgur.com/xJMtRm.png","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>I can see it, probably you have chosen the templates for a compose activity which now are the default ones, if the app is in compose it can only use kotlin and I guess that's why if the compose option is selected it doesn't allow you to choose java then.</p>\n<p>After selecting <strong>Empty Activity</strong> (in compose):</p>\n<p><a href=\"https://i.stack.imgur.com/3LUvsm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3LUvsm.png\" alt=\"enter image description here\" /></a></p>\n<p>After selecting one of the traditional views options like the <strong>Basic Views Activity</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/xJMtRm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xJMtRm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1681700496,"creation_date":1681700496,"answer_id":76031445,"question_id":76018702,"body_markdown":"On **Android Studio Flamingo | 2022.2.1**, you can select **Empty Views Activity** when creating a new project as shown below.\r\n[![enter image description here][1]][1]\r\n\r\nAnd you can still choose the **Java** or **Kotlin** language as usual.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/czhZ6.png\r\n  [2]: https://i.stack.imgur.com/j8SuR.png","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>On <strong>Android Studio Flamingo | 2022.2.1</strong>, you can select <strong>Empty Views Activity</strong> when creating a new project as shown below.\n<a href=\"https://i.stack.imgur.com/czhZ6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/czhZ6.png\" alt=\"enter image description here\" /></a></p>\n<p>And you can still choose the <strong>Java</strong> or <strong>Kotlin</strong> language as usual.\n<a href=\"https://i.stack.imgur.com/j8SuR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j8SuR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1687927698,"creation_date":1686308284,"answer_id":76439598,"question_id":76018702,"body_markdown":"I am using **Android Studio Flamingo** version. I also encountered the same issue. You should use other pre-defined activities to be able to select language type.\r\n\r\n*Ex: Empty Views Activity, Basic Views Activity, Bottom Navigation Views Activity etc.*\r\n\r\n**Note:**\r\n\r\n - **Empty Activity** and **Empty Views Activity** are different\r\n - Empty/Basic... **Activity:** uses Jetpack Compose for UI rendering\r\n - Empty/Basic... **Views Activity:** uses XML based layouts and also provides us options to choose for Java or Kotlin language selection\r\n\r\nI have attached a screenshot of it too.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kBf1Z.png","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>I am using <strong>Android Studio Flamingo</strong> version. I also encountered the same issue. You should use other pre-defined activities to be able to select language type.</p>\n<p><em>Ex: Empty Views Activity, Basic Views Activity, Bottom Navigation Views Activity etc.</em></p>\n<p><strong>Note:</strong></p>\n<ul>\n<li><strong>Empty Activity</strong> and <strong>Empty Views Activity</strong> are different</li>\n<li>Empty/Basic... <strong>Activity:</strong> uses Jetpack Compose for UI rendering</li>\n<li>Empty/Basic... <strong>Views Activity:</strong> uses XML based layouts and also provides us options to choose for Java or Kotlin language selection</li>\n</ul>\n<p>I have attached a screenshot of it too.</p>\n<p><a href=\"https://i.stack.imgur.com/kBf1Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kBf1Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20423618,"reputation":57,"user_id":14984111,"display_name":"jlsogorb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686645327,"creation_date":1686645327,"answer_id":76463077,"question_id":76018702,"body_markdown":"Till the moment I always used Empty Activity because I wanted the project clean and only put in it the things I wanted. With Basic Views Activity it generates too much unwanted features (2 fragments, 2 layouts for activity). I am absolutely lost with this new version and cannot find  Electric Eel (the version I used before) anywhere to downgrade Android. ","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>Till the moment I always used Empty Activity because I wanted the project clean and only put in it the things I wanted. With Basic Views Activity it generates too much unwanted features (2 fragments, 2 layouts for activity). I am absolutely lost with this new version and cannot find  Electric Eel (the version I used before) anywhere to downgrade Android.</p>\n"}],"owner":{"account_id":28306512,"reputation":245,"user_id":21644444,"display_name":"oneuromancer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14171,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":76031445,"answer_count":4,"score":24,"last_activity_date":1687927698,"creation_date":1681503966,"question_id":76018702,"body_markdown":"I updated my android studio to the flamingo version today, and I found it strange that there is no longer an option to select languages on the new project screen. Is this a bug? did I do something wrong? Or is there really no more support for the java language in Flamingo? How can I resolve this?\r\n\r\nThanks for any help! Unfortunately I didn&#39;t find any answer to this problem on the internet.\r\n\r\n![new project options](https://i.stack.imgur.com/QEFqg.png)\r\n\r\nI do not know what to do.","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>I updated my android studio to the flamingo version today, and I found it strange that there is no longer an option to select languages on the new project screen. Is this a bug? did I do something wrong? Or is there really no more support for the java language in Flamingo? How can I resolve this?</p>\n<p>Thanks for any help! Unfortunately I didn't find any answer to this problem on the internet.</p>\n<p><img src=\"https://i.stack.imgur.com/QEFqg.png\" alt=\"new project options\" /></p>\n<p>I do not know what to do.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1687912069,"post_id":76568824,"comment_id":135002557,"body_markdown":"Please share your *build.gradle* files.","body":"Please share your <i>build.gradle</i> files."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687973534,"post_id":76568824,"comment_id":135012890,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":24066460,"reputation":17,"user_id":18042948,"display_name":"Raghav Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687926623,"creation_date":1687926623,"answer_id":76570039,"question_id":76568824,"body_markdown":"Go to gradle task and execute gradle clean and then gradle build command\r\nWhen you open the android studio for the first time - then sometimes it didn&#39;t download multiple dependencies, best way is to execute the above command\r\n\r\nAlso do ensure to download emulators in case you have not downloaded while installing android studio.\r\nWhile installing emulators - along with, it download multiple other files, so best way to remove these errors is to install the emulators","title":"Getting errors on android studio while trying to run basic activity","body":"<p>Go to gradle task and execute gradle clean and then gradle build command\nWhen you open the android studio for the first time - then sometimes it didn't download multiple dependencies, best way is to execute the above command</p>\n<p>Also do ensure to download emulators in case you have not downloaded while installing android studio.\nWhile installing emulators - along with, it download multiple other files, so best way to remove these errors is to install the emulators</p>\n"}],"owner":{"account_id":26013186,"reputation":9,"user_id":19721905,"display_name":"PHARAOH MOH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687926623,"creation_date":1687902193,"question_id":76568824,"body_markdown":"So I recently started learning app development and the first thing I tried from the tutorial am using is start a new project then I selected basic activity and I did not add anything to any of the files or removed anything so when I tried running the basic activity with its built in code it gives me errors\r\n\r\nThe errors I got were java.lang.Runtime: 26 issues were found when checking AAR metadata, update this project to CompileSDKVersion 33, and that certain dependencies or classes were repeated and it suggested going to the main android studio page so I clicked the link and I tried to see which solution could help me I luckily updated the compilesdkversion to 33 but the classes and dependencies still are a big issue","title":"Getting errors on android studio while trying to run basic activity","body":"<p>So I recently started learning app development and the first thing I tried from the tutorial am using is start a new project then I selected basic activity and I did not add anything to any of the files or removed anything so when I tried running the basic activity with its built in code it gives me errors</p>\n<p>The errors I got were java.lang.Runtime: 26 issues were found when checking AAR metadata, update this project to CompileSDKVersion 33, and that certain dependencies or classes were repeated and it suggested going to the main android studio page so I clicked the link and I tried to see which solution could help me I luckily updated the compilesdkversion to 33 but the classes and dependencies still are a big issue</p>\n"},{"tags":["java","opencv","video-capture"],"answers":[{"tags":[],"owner":{"account_id":24660585,"reputation":1,"user_id":18556843,"display_name":"Kikik Yaranusa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649607909,"creation_date":1649606106,"answer_id":71818238,"question_id":71812108,"body_markdown":" Here is the answer from [similar problem][1]\r\n 1. load the ffmpeg library System.loadLibrary(&quot;opencv_ffmpeg300_64&quot;);\r\n 2. Open the file:\r\n    VideoCapture vC = new VideoCapture(&quot;res/video.mp4&quot;);\r\n 3. Copy opencv_ffmpeg300_64.dll from opencv\\build\\x64\\vc11\\bin to\r\n    opencv\\build\\java\\x64\r\n\r\nPlease note that 64 and .dll may differ from an OS to another, those are for Windows x64\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18990447/how-to-open-and-process-a-video-file-like-mpeg-or-avi-using-opencvs-videocapt","title":"How to load video in OpenCV (Java)","body":"<p>Here is the answer from <a href=\"https://stackoverflow.com/questions/18990447/how-to-open-and-process-a-video-file-like-mpeg-or-avi-using-opencvs-videocapt\">similar problem</a></p>\n<ol>\n<li>load the ffmpeg library System.loadLibrary(&quot;opencv_ffmpeg300_64&quot;);</li>\n<li>Open the file:\nVideoCapture vC = new VideoCapture(&quot;res/video.mp4&quot;);</li>\n<li>Copy opencv_ffmpeg300_64.dll from opencv\\build\\x64\\vc11\\bin to\nopencv\\build\\java\\x64</li>\n</ol>\n<p>Please note that 64 and .dll may differ from an OS to another, those are for Windows x64</p>\n"},{"tags":[],"owner":{"account_id":18676713,"reputation":1,"user_id":13614225,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651417796,"creation_date":1651417796,"answer_id":72077923,"question_id":71812108,"body_markdown":"As it turns out, I was using the wrong file path. I (wrongly) assumed that ```new VideoCapture(&quot;my file&quot;)``` would search for &quot;my file&quot; in the directory where the compiled .class files are placed, when in fact it searches in the project root directory. There is no need to call ```System.loadLibrary(&quot;opencv_videoio_ffmpeg455_64&quot;);```","title":"How to load video in OpenCV (Java)","body":"<p>As it turns out, I was using the wrong file path. I (wrongly) assumed that <code>new VideoCapture(&quot;my file&quot;)</code> would search for &quot;my file&quot; in the directory where the compiled .class files are placed, when in fact it searches in the project root directory. There is no need to call <code>System.loadLibrary(&quot;opencv_videoio_ffmpeg455_64&quot;);</code></p>\n"}],"owner":{"account_id":18676713,"reputation":1,"user_id":13614225,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687926257,"creation_date":1649540451,"question_id":71812108,"body_markdown":"I&#39;m trying to load a video file in OpenCV Java, and have narrowed down my issue to the following code:\r\n```\r\nimport org.opencv.core.Core;\r\nimport org.opencv.videoio.VideoCapture;\r\n\r\npublic class OpenCVTest {\r\n  public static void main(String[] args) {\r\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n    System.loadLibrary(&quot;opencv_videoio_ffmpeg455_64&quot;);\r\n\r\n    VideoCapture capture = new VideoCapture(&quot;myVideoFile.avi&quot;);\r\n    System.out.println(capture.isOpened());\r\n  }\r\n}\r\n```\r\nOf course, this always prints out &quot;false&quot;. Accessing my computer&#39;s camera with ```new VideoCapture(0)``` works fine. After scouring the internet, I&#39;m thoroughly confused as to why loading a video won&#39;t work. I followed guides that suggested I needed to add &quot;opencv_videoio_ffmpeg455_64.dll&quot; to my path variable and call ```System.loadLibrary```. I&#39;m new to this, and to be honest, I don&#39;t understand what ```loadLibrary``` does, or what could be wrong with my setup and code. Any ideas? Thanks in advance.\r\n","title":"How to load video in OpenCV (Java)","body":"<p>I'm trying to load a video file in OpenCV Java, and have narrowed down my issue to the following code:</p>\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.videoio.VideoCapture;\n\npublic class OpenCVTest {\n  public static void main(String[] args) {\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n    System.loadLibrary(&quot;opencv_videoio_ffmpeg455_64&quot;);\n\n    VideoCapture capture = new VideoCapture(&quot;myVideoFile.avi&quot;);\n    System.out.println(capture.isOpened());\n  }\n}\n</code></pre>\n<p>Of course, this always prints out &quot;false&quot;. Accessing my computer's camera with <code>new VideoCapture(0)</code> works fine. After scouring the internet, I'm thoroughly confused as to why loading a video won't work. I followed guides that suggested I needed to add &quot;opencv_videoio_ffmpeg455_64.dll&quot; to my path variable and call <code>System.loadLibrary</code>. I'm new to this, and to be honest, I don't understand what <code>loadLibrary</code> does, or what could be wrong with my setup and code. Any ideas? Thanks in advance.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":5,"creation_date":1515282823,"post_id":48133053,"comment_id":83243358,"body_markdown":"By &quot;dummy object&quot; do you mean a `final Object lock = new Object()` that all threads share? That would be the common approach. Even with hundreds of threads, if you want to establish a lock that all threads obey, then there&#39;s inherently no way around all of them using that same lock, right? Also, unless your CPU has hundreds of cores, there&#39;s not much benefit in having hundreds of threads unless they each spend a lot of time waiting for resources (like a URL response that takes a while). And if that&#39;s the case, then them locking on the same object won&#39;t matter, anyway.","body":"By &quot;dummy object&quot; do you mean a <code>final Object lock = new Object()</code> that all threads share? That would be the common approach. Even with hundreds of threads, if you want to establish a lock that all threads obey, then there&#39;s inherently no way around all of them using that same lock, right? Also, unless your CPU has hundreds of cores, there&#39;s not much benefit in having hundreds of threads unless they each spend a lot of time waiting for resources (like a URL response that takes a while). And if that&#39;s the case, then them locking on the same object won&#39;t matter, anyway."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1515283682,"post_id":48133053,"comment_id":83243539,"body_markdown":"The capabilities of the hardware on which you run your program are finite.  Hundreds of threads running simultaneously are likely to stress even fairly beefy hardware, and yes, forcing them to serialize their accesses to a single resource is likely to speed the onset of performance problems.  Possibly you need more hardware.  Possibly you need pervasive design improvements.  But the kind of &quot;atomicity&quot; you require can be achieved *only* by one variety of locking or another.","body":"The capabilities of the hardware on which you run your program are finite.  Hundreds of threads running simultaneously are likely to stress even fairly beefy hardware, and yes, forcing them to serialize their accesses to a single resource is likely to speed the onset of performance problems.  Possibly you need more hardware.  Possibly you need pervasive design improvements.  But the kind of &quot;atomicity&quot; you require can be achieved <i>only</i> by one variety of locking or another."},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1515286648,"post_id":48133053,"comment_id":83244077,"body_markdown":"Do you care *specifically* about output to stdout (or some other I/O stream)? In that case, none of the normal `java.io.` classes ever gurantee atomicity, as they can block (and suspend the thread) at any time. In fact, I&#39;m not aware of any operating system where this is possible in the general case, and special cases are usually OS-specific.","body":"Do you care <i>specifically</i> about output to stdout (or some other I/O stream)? In that case, none of the normal <code>java.io.</code> classes ever gurantee atomicity, as they can block (and suspend the thread) at any time. In fact, I&#39;m not aware of any operating system where this is possible in the general case, and special cases are usually OS-specific."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1515287748,"post_id":48133053,"comment_id":83244269,"body_markdown":"You have two blocks of code, executed by two different threads, and you want to ensure that only one thread is inside the &quot;critical&quot; block of code at a time. That means that if the other thread want to enter the critical block, it has to **wait** until the first thread exits its critical block. Such a wait state is best accomplished by obtaining a **lock**. Any other mechanism will have the same effect, i.e. second thread waits, so why do you think *locking* is causing excessive performance issue here? It&#39;s the *wait* that reduces performance, not the *lock*. Your question makes no sense.","body":"You have two blocks of code, executed by two different threads, and you want to ensure that only one thread is inside the &quot;critical&quot; block of code at a time. That means that if the other thread want to enter the critical block, it has to <b>wait</b> until the first thread exits its critical block. Such a wait state is best accomplished by obtaining a <b>lock</b>. Any other mechanism will have the same effect, i.e. second thread waits, so why do you think <i>locking</i> is causing excessive performance issue here? It&#39;s the <i>wait</i> that reduces performance, not the <i>lock</i>. Your question makes no sense."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1515288018,"post_id":48133053,"comment_id":83244319,"body_markdown":"A lock is the most efficient way to make a thread wait, because it actually halts the thread, allowing the CPU to do other things. If threads have to wait on an event, locking is by far the most efficient way to do it. Locking is the correct tool for the problem you specified, so why are you looking for another solution? Doesn&#39;t matter whether the lock is done using `synchronized`, a `ReadWriteLock`, a `Semaphore`, or any of the other concurrent tools made available, a lock is a lock is a lock.","body":"A lock is the most efficient way to make a thread wait, because it actually halts the thread, allowing the CPU to do other things. If threads have to wait on an event, locking is by far the most efficient way to do it. Locking is the correct tool for the problem you specified, so why are you looking for another solution? Doesn&#39;t matter whether the lock is done using <code>synchronized</code>, a <code>ReadWriteLock</code>, a <code>Semaphore</code>, or any of the other concurrent tools made available, a lock is a lock is a lock."}],"answers":[{"tags":[],"owner":{"account_id":12549821,"reputation":578,"user_id":9131933,"display_name":"newbie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1515287206,"creation_date":1515287206,"answer_id":48133459,"question_id":48133053,"body_markdown":"No , you have to lock around the System.out to prevent \r\nThread one rules!!\r\nThread two rules!!\r\n\r\neven locking each block will allow two threads to write to System.out at the same time","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>No , you have to lock around the System.out to prevent \nThread one rules!!\nThread two rules!!</p>\n\n<p>even locking each block will allow two threads to write to System.out at the same time</p>\n"},{"tags":[],"owner":{"account_id":879694,"reputation":818,"user_id":1572450,"display_name":"Serge Bogatyrev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1515293448,"creation_date":1515288819,"answer_id":48133582,"question_id":48133053,"body_markdown":"The most relevant way to do that is to use a single call:\r\n\r\n    System.out.println(&quot;&lt;first line&gt;\\n&lt;second line&gt;&quot;);\r\n\r\nBy the way, I believe timing should not be affected by additional synchronisation blocks. At any case, you can use System.out\r\n\r\n    synchronized(System.out) {\r\n    ...\r\n    } \r\n\r\nAnd this definitely should not affect timing. PrintStream methods like println() already include such synchronisation, as result this additional synchronized block will rather optimise locking. ","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>The most relevant way to do that is to use a single call:</p>\n\n<pre><code>System.out.println(\"&lt;first line&gt;\\n&lt;second line&gt;\");\n</code></pre>\n\n<p>By the way, I believe timing should not be affected by additional synchronisation blocks. At any case, you can use System.out</p>\n\n<pre><code>synchronized(System.out) {\n...\n} \n</code></pre>\n\n<p>And this definitely should not affect timing. PrintStream methods like println() already include such synchronisation, as result this additional synchronized block will rather optimise locking. </p>\n"},{"tags":[],"owner":{"account_id":28909502,"reputation":21,"user_id":22142825,"display_name":"Mat&#237;as Ratcliffe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687925933,"creation_date":1687925933,"answer_id":76570002,"question_id":48133053,"body_markdown":"You need to lock an object one way ore another. The standard practice is to have a shared accessible object like `public Object sharedLock = new Object()` and useit in your `syncrhonized` block.","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>You need to lock an object one way ore another. The standard practice is to have a shared accessible object like <code>public Object sharedLock = new Object()</code> and useit in your <code>syncrhonized</code> block.</p>\n"}],"owner":{"account_id":12631456,"reputation":69,"user_id":9182705,"display_name":"MrRobot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48133582,"answer_count":3,"score":2,"last_activity_date":1687925933,"creation_date":1515282428,"question_id":48133053,"body_markdown":"This is a simple code I came up with to illustrate my question:\r\n\r\n    public class Main {\r\n\t    public static void main(String[] args) {\r\n            int sleepTime = 10, N = 1000;\r\n\t\t    Thread t1 = new Thread(() -&gt; {\r\n\t\t\t    for (int i = 0; i &lt; N; i++) {\r\n\r\n\t\t\t        { //BLOCK 1\r\n                        //I want these two instructions to run one right after the other one\r\n\t\t\t\t\t    System.out.println(&quot;Thread one rules!!&quot;);\r\n\t\t\t\t\t    System.out.println(&quot;Im in 1!!!\\n&quot;);\r\n\t\t\t\t    }\r\n\r\n    \t\t\t\ttry {\r\n   \t\t\t\t        Thread.sleep(sleepTime); //I also tried yield\r\n                    } catch (InterruptedException e) {}\r\n\t    \t\t}\r\n\t\t    });\r\n\t\t\r\n\t\t    Thread t2 = new Thread(() -&gt; {\r\n\t\t    \tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\t    \r\n                    { //BLOCK 2\r\n\t                    //I want these two instructions to run one right after the other one\r\n    \t\t\t\t\tSystem.out.println(&quot;Thread two rules!!&quot;);\r\n\t    \t\t\t\tSystem.out.println(&quot;Im in 2!!!\\n&quot;);\r\n\t\t\t\t    }\r\n\t\r\n                    try {\r\n   \t\t\t\t        Thread.sleep(sleepTime); //I also tried yield\r\n                    } catch (InterruptedException e) {}\r\n\t\t\t    }\r\n\t\t    });\r\n            \r\n            t1.start();\r\n            t2.start();\r\n\r\n            t1.join();\r\n            t2.join();\r\n\t    }\r\n    }\r\n\r\nIs there a way to have each block called &quot;atomically&quot;? meaning &quot;Thread one rules!!&quot; will ALWAYS come right before &quot;Im in 1!!!&quot;\r\n\r\n[Output example image][1]\r\n\r\n\r\n\r\n**I don&#39;t want to use any dummy objects in a synchronized block, nor any wait/notify statements.** I would like an implementation that works with hundreds of threads running together. I tried with synchronized statements that take a common object as argument, mySocketServer, but it started giving me timing issues.\r\n\r\nThanks in advance\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VahVG.png\r\n","title":"Universally synchronizing a block of code [Without ObjectLocking]","body":"<p>This is a simple code I came up with to illustrate my question:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int sleepTime = 10, N = 1000;\n        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; N; i++) {\n\n                { //BLOCK 1\n                    //I want these two instructions to run one right after the other one\n                    System.out.println(\"Thread one rules!!\");\n                    System.out.println(\"Im in 1!!!\\n\");\n                }\n\n                try {\n                    Thread.sleep(sleepTime); //I also tried yield\n                } catch (InterruptedException e) {}\n            }\n        });\n\n        Thread t2 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; N; i++) {\n\n                { //BLOCK 2\n                    //I want these two instructions to run one right after the other one\n                    System.out.println(\"Thread two rules!!\");\n                    System.out.println(\"Im in 2!!!\\n\");\n                }\n\n                try {\n                    Thread.sleep(sleepTime); //I also tried yield\n                } catch (InterruptedException e) {}\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        t1.join();\n        t2.join();\n    }\n}\n</code></pre>\n\n<p>Is there a way to have each block called \"atomically\"? meaning \"Thread one rules!!\" will ALWAYS come right before \"Im in 1!!!\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/VahVG.png\" rel=\"nofollow noreferrer\">Output example image</a></p>\n\n<p><strong>I don't want to use any dummy objects in a synchronized block, nor any wait/notify statements.</strong> I would like an implementation that works with hundreds of threads running together. I tried with synchronized statements that take a common object as argument, mySocketServer, but it started giving me timing issues.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","fullscreen","display","samsung-galaxy"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1493462173,"post_id":43694526,"comment_id":74434441,"body_markdown":"Immersive fullscreen. Hides buttons and navigationbar on most systems I have encountered. If the S8 is different in that, I don&#39;t know what you would do","body":"Immersive fullscreen. Hides buttons and navigationbar on most systems I have encountered. If the S8 is different in that, I don&#39;t know what you would do"}],"answers":[{"tags":[],"owner":{"account_id":9423750,"reputation":374,"user_id":7009416,"accept_rate":100,"display_name":"Abubakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493465501,"creation_date":1493465501,"answer_id":43695161,"question_id":43694526,"body_markdown":"to get full-screen you must overide **onWindowFocusChanged** method and create **decorView** object  and add System_UI flags into it..\r\n\r\n\r\n    @Override\r\n        public  void onWindowFocusChanged(boolean  hasFocus){\r\n            super.onWindowFocusChanged(hasFocus);\r\n            View decorView = getWindow().getDecorView();\r\n            if(hasFocus){\r\n               \r\n            decorView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        |View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY  // this flag do=Semi-transparent bars temporarily appear and then hide again\r\n                        |View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN  // Make Content Appear Behind the status  Bar\r\n                        |View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION  // it Make Content Appear Behind the Navigation Bar\r\n                        |View.SYSTEM_UI_FLAG_FULLSCREEN  // hide status bar\r\n                        |View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n            }\r\n        }\r\n\r\n","title":"Samsung Galaxy S8 full screen mode","body":"<p>to get full-screen you must overide <strong>onWindowFocusChanged</strong> method and create <strong>decorView</strong> object  and add System_UI flags into it..</p>\n\n<pre><code>@Override\n    public  void onWindowFocusChanged(boolean  hasFocus){\n        super.onWindowFocusChanged(hasFocus);\n        View decorView = getWindow().getDecorView();\n        if(hasFocus){\n\n        decorView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    |View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY  // this flag do=Semi-transparent bars temporarily appear and then hide again\n                    |View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN  // Make Content Appear Behind the status  Bar\n                    |View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION  // it Make Content Appear Behind the Navigation Bar\n                    |View.SYSTEM_UI_FLAG_FULLSCREEN  // hide status bar\n                    |View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2454255,"reputation":1,"user_id":2139822,"display_name":"Zunair Nasir"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1494243224,"creation_date":1494243224,"answer_id":43846597,"question_id":43694526,"body_markdown":"It can be turned off. I used this tutorial for my S8\r\n\r\n[How To Enable Full Screen Apps on Galaxy S8/S8+][1]\r\n\r\n\r\n  [1]: https://androidtutorial.net/2017/05/05/enable-full-screen-apps-galaxy-s8s8/","title":"Samsung Galaxy S8 full screen mode","body":"<p>It can be turned off. I used this tutorial for my S8</p>\n\n<p><a href=\"https://androidtutorial.net/2017/05/05/enable-full-screen-apps-galaxy-s8s8/\" rel=\"nofollow noreferrer\">How To Enable Full Screen Apps on Galaxy S8/S8+</a></p>\n"},{"tags":[],"owner":{"account_id":77161,"reputation":2362,"user_id":220425,"accept_rate":100,"display_name":"Maris B."},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1496669461,"creation_date":1496669461,"answer_id":44370149,"question_id":43694526,"body_markdown":"To enable new Samsung Galaxy S8 and LG G6 full screen support add to the AndroidManifest.xml under the `&lt;application&gt;` element:\r\n\r\n    &lt;meta-data android:name=&quot;android.max_aspect&quot; android:value=&quot;2.1&quot; /&gt;\r\n\r\nWhere value of 2.1 is aspect ratio 18.5:9 (By default your App defaults to maximum ratio for 16:9 - 1.86). More info in: [Android Blog][1].\r\n\r\nAlternatively, you can set the following attribute for Application or Activity:\r\n\r\n    android:resizeableActivity=&quot;true&quot;\r\n\r\nBecause the documentations states ([link][2]): \r\n\r\n&gt; You do not need to set a maximum aspect ratio if an activity&#39;s\r\n&gt; android:resizeableActivity attribute is set to true. If your app\r\n&gt; targets API level 24 or higher, this attribute defaults to true.\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2017/03/update-your-app-to-take-advantage-of.html?m=1\r\n  [2]: https://developer.android.com/guide/practices/screens_support.html#MaxAspectRatio","title":"Samsung Galaxy S8 full screen mode","body":"<p>To enable new Samsung Galaxy S8 and LG G6 full screen support add to the AndroidManifest.xml under the <code>&lt;application&gt;</code> element:</p>\n\n<pre><code>&lt;meta-data android:name=\"android.max_aspect\" android:value=\"2.1\" /&gt;\n</code></pre>\n\n<p>Where value of 2.1 is aspect ratio 18.5:9 (By default your App defaults to maximum ratio for 16:9 - 1.86). More info in: <a href=\"https://android-developers.googleblog.com/2017/03/update-your-app-to-take-advantage-of.html?m=1\" rel=\"noreferrer\">Android Blog</a>.</p>\n\n<p>Alternatively, you can set the following attribute for Application or Activity:</p>\n\n<pre><code>android:resizeableActivity=\"true\"\n</code></pre>\n\n<p>Because the documentations states (<a href=\"https://developer.android.com/guide/practices/screens_support.html#MaxAspectRatio\" rel=\"noreferrer\">link</a>): </p>\n\n<blockquote>\n  <p>You do not need to set a maximum aspect ratio if an activity's\n  android:resizeableActivity attribute is set to true. If your app\n  targets API level 24 or higher, this attribute defaults to true.</p>\n</blockquote>\n"}],"owner":{"account_id":216810,"reputation":16569,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14477,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":44370149,"answer_count":3,"score":19,"last_activity_date":1687925359,"creation_date":1493461899,"question_id":43694526,"body_markdown":"Latest Samsung&#39;s smartphone has interesting feature called *full screen* (or in marketing terms *infinity display*). In this mode app covers also part of display where home/back buttons are. Usual apps don&#39;t cover this area, leaving it black. But Samsung&#39;s native ones cover this area. \n\nQuestion: how to achieve this effect? I mean what kind of manifest declaration or programmatic call (possibly Samsung&#39;s legacy API) should I use?","title":"Samsung Galaxy S8 full screen mode","body":"<p>Latest Samsung's smartphone has interesting feature called <em>full screen</em> (or in marketing terms <em>infinity display</em>). In this mode app covers also part of display where home/back buttons are. Usual apps don't cover this area, leaving it black. But Samsung's native ones cover this area. </p>\n\n<p>Question: how to achieve this effect? I mean what kind of manifest declaration or programmatic call (possibly Samsung's legacy API) should I use?</p>\n"},{"tags":["java","active-directory","websphere","spnego"],"answers":[{"tags":[],"owner":{"account_id":28908538,"reputation":1,"user_id":22142064,"display_name":"Zach Hein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687923157,"creation_date":1687911037,"answer_id":76569300,"question_id":76569217,"body_markdown":"## Solution\r\nMy issue was **fixed** by selecting *Trim Kerberos realm from principal name*. This is done in the admin console on the *SPNEGO web authentication* panel.\r\n\r\nDocumented here: https://www.ibm.com/docs/en/was-nd/8.5.5?topic=ecswauac-adding-modifying-spnego-web-authentication-filters-using-administrative-console\r\n\r\n## Detailed Explanation:  \r\nI ultimately narrowed down the issue by seeing how the LDAP was being searched from the tWAS LdapRegistry code: `LdapRegistryI 3   Filter: (&amp;(sAMAccountName=user1@MYDOMAIN.COM)(objectcategory=user))`\r\n\r\nI double checked the `sAMAccountName` on the AD machine itself, and there I found that `sAMAccountName=user1` Aha! so at that point it clicked that the LDAPRegistry code doesn&#39;t know that `user1@MYDOMAIN.COM` is `user1`.\r\n\r\nThe solution took me awhile to realize because I thought I already had the trimming enabled. What led me to believe this was because I saw this in the trace: `AuthMechanism 3   trimUserName: true`\r\n\r\nAs it turns out there are two different **trimUserName** attributes in the security.xml, one under the `security:KRB5` authMechanism entry and another under the `security:SPNEGO` authMechanism entry.\r\n\r\nThe attribute was set to `true` under `security:KRB5` (which is what fooled me), but was `false` under `security:SPNEGO`\r\n\r\nAfter applying the solution I verified the username trimming was happening as expected by seeing the following trace statement: `SpnegoHandler &lt; com.ibm.ws.security.spnego.SpnegoHandler trimUsername: user1 RETURN`\r\n\r\nHope this helps out others!\r\n","title":"Traditional WebSphere SPNEGO authentication fails - SECJ0056E: Authentication failed for reason Cannot find the user","body":"<h2>Solution</h2>\n<p>My issue was <strong>fixed</strong> by selecting <em>Trim Kerberos realm from principal name</em>. This is done in the admin console on the <em>SPNEGO web authentication</em> panel.</p>\n<p>Documented here: <a href=\"https://www.ibm.com/docs/en/was-nd/8.5.5?topic=ecswauac-adding-modifying-spnego-web-authentication-filters-using-administrative-console\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-nd/8.5.5?topic=ecswauac-adding-modifying-spnego-web-authentication-filters-using-administrative-console</a></p>\n<h2>Detailed Explanation:</h2>\n<p>I ultimately narrowed down the issue by seeing how the LDAP was being searched from the tWAS LdapRegistry code: <code>LdapRegistryI 3   Filter: (&amp;(sAMAccountName=user1@MYDOMAIN.COM)(objectcategory=user))</code></p>\n<p>I double checked the <code>sAMAccountName</code> on the AD machine itself, and there I found that <code>sAMAccountName=user1</code> Aha! so at that point it clicked that the LDAPRegistry code doesn't know that <code>user1@MYDOMAIN.COM</code> is <code>user1</code>.</p>\n<p>The solution took me awhile to realize because I thought I already had the trimming enabled. What led me to believe this was because I saw this in the trace: <code>AuthMechanism 3   trimUserName: true</code></p>\n<p>As it turns out there are two different <strong>trimUserName</strong> attributes in the security.xml, one under the <code>security:KRB5</code> authMechanism entry and another under the <code>security:SPNEGO</code> authMechanism entry.</p>\n<p>The attribute was set to <code>true</code> under <code>security:KRB5</code> (which is what fooled me), but was <code>false</code> under <code>security:SPNEGO</code></p>\n<p>After applying the solution I verified the username trimming was happening as expected by seeing the following trace statement: <code>SpnegoHandler &lt; com.ibm.ws.security.spnego.SpnegoHandler trimUsername: user1 RETURN</code></p>\n<p>Hope this helps out others!</p>\n"}],"owner":{"account_id":28908538,"reputation":1,"user_id":22142064,"display_name":"Zach Hein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76569300,"answer_count":1,"score":0,"last_activity_date":1687923157,"creation_date":1687909295,"question_id":76569217,"body_markdown":"On Traditional WebSphere(tWAS), when logging in to the admin console using a SPNEGO token, authentication fails with the following message:\r\n\r\n`SECJ0056E: Authentication failed for reason Cannot find the user: user1@MYDOMAIN.COM`\r\n\r\nI have standalone LDAP configured on the tWAS server to use the same host as my KDC, which is the same host that I create the SPNEGO token from. So the user does exist in the LDAP, and the user registry should be able to find the user.\r\n\r\n\r\nWebSphere Platform ND 8.5.5.23\r\n\r\nThe SPNEGO token appears to be valid and I see a security subject is created in the trace.log and has the expected user.\r\n```\r\nSubjectHelper &lt;  getKerberosAuthnTokenFromSubject Exit\r\n                                 Subject:\r\n\tPrincipal: user1@MYDOMAIN.COM\r\n```\r\n\r\nWhat am I missing?","title":"Traditional WebSphere SPNEGO authentication fails - SECJ0056E: Authentication failed for reason Cannot find the user","body":"<p>On Traditional WebSphere(tWAS), when logging in to the admin console using a SPNEGO token, authentication fails with the following message:</p>\n<p><code>SECJ0056E: Authentication failed for reason Cannot find the user: user1@MYDOMAIN.COM</code></p>\n<p>I have standalone LDAP configured on the tWAS server to use the same host as my KDC, which is the same host that I create the SPNEGO token from. So the user does exist in the LDAP, and the user registry should be able to find the user.</p>\n<p>WebSphere Platform ND 8.5.5.23</p>\n<p>The SPNEGO token appears to be valid and I see a security subject is created in the trace.log and has the expected user.</p>\n<pre><code>SubjectHelper &lt;  getKerberosAuthnTokenFromSubject Exit\n                                 Subject:\n    Principal: user1@MYDOMAIN.COM\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","parsing","jsoup"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":4,"creation_date":1327088284,"post_id":8946916,"comment_id":11199783,"body_markdown":"I&#39;d wager that `subUrlW` is `null`. Use a debugger to find out.","body":"I&#39;d wager that <code>subUrlW</code> is <code>null</code>. Use a debugger to find out."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1327089111,"post_id":8946916,"comment_id":11200053,"body_markdown":"You are right, i have added another set of code above which shows subUrlW is not null, but when I execute the 1st set of code it comes as null.","body":"You are right, i have added another set of code above which shows subUrlW is not null, but when I execute the 1st set of code it comes as null."}],"answers":[{"tags":[],"owner":{"account_id":1153176,"reputation":11,"user_id":1134460,"display_name":"Chirag Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687921062,"creation_date":1328511610,"answer_id":9156630,"question_id":8946916,"body_markdown":"    subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\r\n    \r\n    Document doc = null;\r\n    \r\n    for (int o = 0; o &lt; subUrl.size(); o++) \r\n    {    \r\n        doc = JSoup.connect(subUrl[o].toString());\r\n        subUrlW = doc.select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\r\n        System.out.println(&quot;subUrlW&quot;+subUrlW);\r\n        doc = null;    \r\n    }\r\n\r\n","title":"jsoup exception","body":"<pre><code>subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\n\nDocument doc = null;\n\nfor (int o = 0; o &lt; subUrl.size(); o++) \n{    \n    doc = JSoup.connect(subUrl[o].toString());\n    subUrlW = doc.select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\n    System.out.println(&quot;subUrlW&quot;+subUrlW);\n    doc = null;    \n}\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687921062,"creation_date":1327088197,"question_id":8946916,"body_markdown":"I have for loop that looks like this:\r\n\r\n    //Pseudo code\r\n\r\n    subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\r\n\r\n    for (int o = 0; o&lt;subUrl.size(); o++) {\r\n\r\n        subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\r\n                                              \r\n        httpget = new HttpGet(subUrlW);\r\n        HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\r\n        html = EntityUtils.toString(httpRes2.getEntity());\r\n        doc = Jsoup.parse(html, subUrlW);\r\n        divs = doc.select(&quot;div#pTU&quot;);\r\n\r\n        for (int p = 0; p &lt; divs.size(); p++) {\r\n                                                  \r\n            subUrl = divs.get(p).select(&quot;a[href].pd&quot;);\r\n            for (int q = 0; q &lt; subUrl.size(); q++) {  \r\n    \r\n                 subUrlW = subUrl.get(q).select(&quot;a[href].pd&quot;).attr(&quot;abs:href&quot;); \r\n                                             \r\n            }\r\n        }                                              \r\n    }\r\n\r\nI see that subUrlW is null however if I execute this to debug, subUrlW is not null.\r\n\r\n    subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\r\n    \r\n    for (int o = 0; o &lt; subUrl.size(); o++) {\r\n        subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\r\n        System.out.println(&quot;subUrlW&quot;+subUrlW);\r\n    }\r\n\r\n\r\nWhen this loop executes, I get the following exception,\r\n\r\n    java.lang.IllegalStateException: Target host must not be null, or set in parameters.\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:717)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:358)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\r\n\r\nIt however points to his line,\r\n\r\n    HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\r\n\r\nany inputs much appreciated.\r\n\r\n","title":"jsoup exception","body":"<p>I have for loop that looks like this:</p>\n<pre><code>//Pseudo code\n\nsubUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\n\nfor (int o = 0; o&lt;subUrl.size(); o++) {\n\n    subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\n                                          \n    httpget = new HttpGet(subUrlW);\n    HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\n    html = EntityUtils.toString(httpRes2.getEntity());\n    doc = Jsoup.parse(html, subUrlW);\n    divs = doc.select(&quot;div#pTU&quot;);\n\n    for (int p = 0; p &lt; divs.size(); p++) {\n                                              \n        subUrl = divs.get(p).select(&quot;a[href].pd&quot;);\n        for (int q = 0; q &lt; subUrl.size(); q++) {  \n\n             subUrlW = subUrl.get(q).select(&quot;a[href].pd&quot;).attr(&quot;abs:href&quot;); \n                                         \n        }\n    }                                              \n}\n</code></pre>\n<p>I see that subUrlW is null however if I execute this to debug, subUrlW is not null.</p>\n<pre><code>subUrl = divs.get(n).select(&quot;a[href].eDL&quot;);\n\nfor (int o = 0; o &lt; subUrl.size(); o++) {\n    subUrlW = subUrl.get(o).select(&quot;a[href].eDL&quot;).attr(&quot;abs:href&quot;);\n    System.out.println(&quot;subUrlW&quot;+subUrlW);\n}\n</code></pre>\n<p>When this loop executes, I get the following exception,</p>\n<pre><code>java.lang.IllegalStateException: Target host must not be null, or set in parameters.\n    at org.apache.http.impl.client.DefaultRequestDirector.determineRoute(DefaultRequestDirector.java:717)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:358)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\n</code></pre>\n<p>It however points to his line,</p>\n<pre><code>HttpResponse httpRes2 = httpclient1.execute(httpget, httpContext);\n</code></pre>\n<p>any inputs much appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1283936,"reputation":2139,"user_id":1237402,"accept_rate":50,"display_name":"Malathi"},"score":0,"creation_date":1594956430,"post_id":62946106,"comment_id":111314131,"body_markdown":"Does this answer your question? [Spring: define @RequestMapping value in a properties file](https://stackoverflow.com/questions/31904444/spring-define-requestmapping-value-in-a-properties-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31904444/spring-define-requestmapping-value-in-a-properties-file\">Spring: define @RequestMapping value in a properties file</a>"},{"owner":{"account_id":3453224,"reputation":309,"user_id":2892356,"display_name":"dozerman"},"score":1,"creation_date":1594963534,"post_id":62946106,"comment_id":111315624,"body_markdown":"What are you trying to achieve with having the version in your properties file? You already hardcoded the version in your package number you might as well hardcode it for the path in each controller. Both controllers would point to v1 if you populate the path using the variable from properties file like in your example.","body":"What are you trying to achieve with having the version in your properties file? You already hardcoded the version in your package number you might as well hardcode it for the path in each controller. Both controllers would point to v1 if you populate the path using the variable from properties file like in your example."},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594964498,"post_id":62946106,"comment_id":111315876,"body_markdown":"@dozerman - Yes you are 100% correct. My requirement is when I use version - V1 in URL it should take the controller from V1 package, vice versa for V2.","body":"@dozerman - Yes you are 100% correct. My requirement is when I use version - V1 in URL it should take the controller from V1 package, vice versa for V2."},{"owner":{"account_id":3453224,"reputation":309,"user_id":2892356,"display_name":"dozerman"},"score":1,"creation_date":1595020155,"post_id":62946106,"comment_id":111341092,"body_markdown":"@SanJaisy so you don&#39;t need the version in your properties. Just build two hardcoded mappings (one each for v1 and v2) and each request will be processed according to their version.","body":"@SanJaisy so you don&#39;t need the version in your properties. Just build two hardcoded mappings (one each for v1 and v2) and each request will be processed according to their version."}],"answers":[{"tags":[],"owner":{"account_id":5718446,"reputation":358,"user_id":4517761,"display_name":"Tayyab Razaq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687921033,"creation_date":1594964761,"answer_id":62947839,"question_id":62946106,"body_markdown":"Ideally, you should have different controllers for each version, and you invoke services accordingly. For example:\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;api/v1/product&quot;)\r\n    public class ProductController {\r\n    \r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;api/v2/product&quot;)\r\n    public class ProductController {\r\n    \r\n    }\r\n\r\nNow, if you want to keep one controller, you can do like this:\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;api/v{apiVersion}/product&quot;)\r\n    public class ProductController {\r\n    \r\n        @GetMapping(&quot;{id}&quot;)\r\n        public Product getById(@PathVariable Integer apiVersion, \r\n                               @PathVariable Integer id) {\r\n          if(apiVersion == 1) {\r\n             //invoke version 1 service\r\n          }\r\n          else if(apiVersion == 2) {\r\n             //invoke version 2 service\r\n          }\r\n          else{\r\n           //throw exception for invalid version\r\n          }\r\n             \r\n        }\r\n    }\r\n\r\nYou don&#39;t need to set anything in `application.properties`. ","title":"Api versioning in spring boot","body":"<p>Ideally, you should have different controllers for each version, and you invoke services accordingly. For example:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v1/product&quot;)\npublic class ProductController {\n\n}\n\n@RestController\n@RequestMapping(path = &quot;api/v2/product&quot;)\npublic class ProductController {\n\n}\n</code></pre>\n<p>Now, if you want to keep one controller, you can do like this:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v{apiVersion}/product&quot;)\npublic class ProductController {\n\n    @GetMapping(&quot;{id}&quot;)\n    public Product getById(@PathVariable Integer apiVersion, \n                           @PathVariable Integer id) {\n      if(apiVersion == 1) {\n         //invoke version 1 service\n      }\n      else if(apiVersion == 2) {\n         //invoke version 2 service\n      }\n      else{\n       //throw exception for invalid version\n      }\n         \n    }\n}\n</code></pre>\n<p>You don't need to set anything in <code>application.properties</code>.</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4877,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687921033,"creation_date":1594952290,"question_id":62946106,"body_markdown":"I am trying to do the API versioning based on the below scenario. I have a package called **V1** &amp; **V2**, each has its own controller with Route mapping\r\n\r\n    @RequestMapping(path = &quot;api/v${ApiVersion}/product&quot;)\r\n    public class ProductController {}\r\n\r\nIn the application.yml I have the below configuration,\r\n\r\n**ApiVersion: 1**\r\n\r\n\r\n    spring:\r\n      profiles:\r\n        active: dev\r\n    server:\r\n      port: 8083\r\n    \r\n    ApiVersion: 1\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IwYn7.png\r\n\r\nWhat I am trying to do is:\r\n\r\n 1. If the URL has V1 **(ApiVersion: 1)** then it should route to V1 controller `http://192.168.1.101:8083/api/v1/product`\r\n 2. If the URL has V2 **(ApiVersion: 2)** then it should route to V2 controller `http://192.168.1.101:8083/api/v2/product`\r\n\r\nIs it possible to achieve?","title":"Api versioning in spring boot","body":"<p>I am trying to do the API versioning based on the below scenario. I have a package called <strong>V1</strong> &amp; <strong>V2</strong>, each has its own controller with Route mapping</p>\n<pre><code>@RequestMapping(path = &quot;api/v${ApiVersion}/product&quot;)\npublic class ProductController {}\n</code></pre>\n<p>In the application.yml I have the below configuration,</p>\n<p><strong>ApiVersion: 1</strong></p>\n<pre><code>spring:\n  profiles:\n    active: dev\nserver:\n  port: 8083\n\nApiVersion: 1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IwYn7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IwYn7.png\" alt=\"enter image description here\" /></a></p>\n<p>What I am trying to do is:</p>\n<ol>\n<li>If the URL has V1 <strong>(ApiVersion: 1)</strong> then it should route to V1 controller <code>http://192.168.1.101:8083/api/v1/product</code></li>\n<li>If the URL has V2 <strong>(ApiVersion: 2)</strong> then it should route to V2 controller <code>http://192.168.1.101:8083/api/v2/product</code></li>\n</ol>\n<p>Is it possible to achieve?</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":1132901,"reputation":888,"user_id":1118566,"accept_rate":78,"display_name":"CharlieShi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687920848,"creation_date":1687870215,"answer_id":76565040,"question_id":76480530,"body_markdown":"solved. \r\n\r\nIn finally block, if there are no codes in it, the compiler will ignore the try finally block because of no use. \r\nIn order to let try finally block effect, we need to add some code into createFinallyBlock method such as System.out.println like below: \r\n\r\n    private JCTree.JCBlock createFinallyBlock() {\r\n\r\n        // 创建空finally语句块，由于没有任何作用，将会被编译器忽略添加\r\n        //return treeMaker.Block(0, List.nil());\r\n\r\n        // 创建带有语句的finally块\r\n        JCTree.JCIdent outIdent = treeMaker.Ident(names.fromString(&quot;out&quot;));\r\n        JCTree.JCFieldAccess printStreamAccess = treeMaker.Select(outIdent, names.fromString(&quot;println&quot;));\r\n        JCTree.JCFieldAccess systemAccess = treeMaker.Select(treeMaker.Ident(names.fromString(&quot;System&quot;)), names.fromString(&quot;out&quot;));\r\n        JCTree.JCFieldAccess qualifiedAccess = treeMaker.Select(systemAccess, names.fromString(&quot;println&quot;));\r\n\r\n        // 创建finally语句块\r\n        JCTree.JCExpressionStatement printStatement = treeMaker.Exec(\r\n                treeMaker.Apply(List.nil(),\r\n                        qualifiedAccess,\r\n                        List.of(treeMaker.Literal(&quot;finally executed&quot;))));\r\n        return treeMaker.Block(0, List.of(printStatement));\r\n    }\r\n\r\nUsing JCTree.JCIdent to import java static class which will be ok.\r\n\r\n ","title":"AbstractProcessor can not use JCTree to modify exist method","body":"<p>solved.</p>\n<p>In finally block, if there are no codes in it, the compiler will ignore the try finally block because of no use.\nIn order to let try finally block effect, we need to add some code into createFinallyBlock method such as System.out.println like below:</p>\n<pre><code>private JCTree.JCBlock createFinallyBlock() {\n\n    // 创建空finally语句块，由于没有任何作用，将会被编译器忽略添加\n    //return treeMaker.Block(0, List.nil());\n\n    // 创建带有语句的finally块\n    JCTree.JCIdent outIdent = treeMaker.Ident(names.fromString(&quot;out&quot;));\n    JCTree.JCFieldAccess printStreamAccess = treeMaker.Select(outIdent, names.fromString(&quot;println&quot;));\n    JCTree.JCFieldAccess systemAccess = treeMaker.Select(treeMaker.Ident(names.fromString(&quot;System&quot;)), names.fromString(&quot;out&quot;));\n    JCTree.JCFieldAccess qualifiedAccess = treeMaker.Select(systemAccess, names.fromString(&quot;println&quot;));\n\n    // 创建finally语句块\n    JCTree.JCExpressionStatement printStatement = treeMaker.Exec(\n            treeMaker.Apply(List.nil(),\n                    qualifiedAccess,\n                    List.of(treeMaker.Literal(&quot;finally executed&quot;))));\n    return treeMaker.Block(0, List.of(printStatement));\n}\n</code></pre>\n<p>Using JCTree.JCIdent to import java static class which will be ok.</p>\n"}],"owner":{"account_id":1132901,"reputation":888,"user_id":1118566,"accept_rate":78,"display_name":"CharlieShi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76565040,"answer_count":1,"score":0,"last_activity_date":1687920848,"creation_date":1686817510,"question_id":76480530,"body_markdown":"AbstractProcessor can be used to design functionality like what lombok does.\r\nIn my code, I have annotation as below:\r\n\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    @Target({ElementType.TYPE, ElementType.METHOD})\r\n    public @interface OnTransform {\r\n    }\r\nThen I make a class and have this annotation annotated on my methods as below:\r\n\r\n    public class TargetClass {\r\n\r\n    @OnTransform\r\n    public int add(int a, int b) {\r\n        return a + b;\r\n    }\r\n\r\n    @OnTransform\r\n    public void say(String name) {\r\n        System.out.println(&quot;Hello &quot; + name);\r\n    }\r\n\r\n    }\r\nNow I want to add try finally block for these annotated methods, So I make a new class extends AbstractProcessor class and complete my code as below(actually this part of code mainly comes from ChatGPT):\r\n\r\n    \r\n    public class TransformProcessor extends AbstractProcessor {\r\n\r\n    /**\r\n     * 初始化\r\n     * @param processingEnv environment to access facilities the tool framework\r\n     * provides to the processor\r\n     */\r\n    @Override\r\n    public synchronized void init(ProcessingEnvironment processingEnv) {\r\n        super.init(processingEnv);\r\n        Context context = ((JavacProcessingEnvironment) this.processingEnv).getContext();\r\n        this.elementUtils = (JavacElements) this.processingEnv.getElementUtils();\r\n        this.messager = this.processingEnv.getMessager();\r\n        this.names = Names.instance(context);\r\n        this.trees = JavacTrees.instance(this.processingEnv);\r\n        this.treeMaker = TreeMaker.instance(context);\r\n    }\r\n\r\n    /**\r\n     * 用于在编译器打印消息的组件\r\n     */\r\n    private Messager messager;\r\n\r\n    /**\r\n     * 用于创建标识符的对象\r\n     */\r\n    private Names names;\r\n\r\n    /**\r\n     * 语法树\r\n     */\r\n    private JavacTrees trees;\r\n\r\n    /**\r\n     * trees 和 elementUtils都可以获取 元素的JCTree对象\r\n     */\r\n    private JavacElements elementUtils;\r\n\r\n    /**\r\n     * 用来构造语法树节点\r\n     */\r\n    private TreeMaker treeMaker;\r\n\r\n    /**\r\n     * 字段的语法树节点的集合\r\n     */\r\n    private List&lt;JCTree.JCMethodDecl&gt; methodDecls;\r\n\r\n    /**\r\n     * 允许支持的源码版本\r\n     * @return\r\n     */\r\n    @Override\r\n    public SourceVersion getSupportedSourceVersion() {\r\n        if (SourceVersion.latest().compareTo(SourceVersion.RELEASE_8) &gt; 0) {\r\n            return SourceVersion.latest();\r\n        } else {\r\n            return SourceVersion.RELEASE_8;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 允许支持的注解类型\r\n     * @return\r\n     */\r\n    @Override\r\n    public Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n        return ImmutableSet.of(OnTransform.class.getCanonicalName());\r\n    }\r\n\r\n    /**\r\n     * 代码增强处理\r\n     * @param annotations the annotation types requested to be processed\r\n     * @param roundEnv  environment for information about the current and prior round\r\n     * @return\r\n     */\r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        Set&lt;? extends Element&gt; set = roundEnv.getElementsAnnotatedWith(OnTransform.class);\r\n        set.forEach(element -&gt; {\r\n            JCTree jcTree = trees.getTree(element);\r\n            jcTree.accept(new TreeTranslator() {\r\n                @Override\r\n                public void visitMethodDef(JCTree.JCMethodDecl method) {\r\n                    // 运行父类方法\r\n                    super.visitMethodDef(method);\r\n                    // 获取方法体\r\n                    JCTree.JCBlock body = method.body;\r\n                    // 创建try语句块\r\n                    JCTree.JCBlock tryBlock = createTryBlock(body);\r\n                    // 创建finally语句块\r\n                    JCTree.JCBlock finallyBlock = createFinallyBlock();\r\n                    // 创建try-catch-finally语句块\r\n                    JCTree.JCTry tryFinally = createTryCatchFinally(tryBlock, finallyBlock);\r\n                    // 替换原来的方法体\r\n                    method.body = treeMaker.Block(0, List.of(tryFinally));\r\n                }\r\n            });\r\n        });\r\n        return true;\r\n    }\r\n\r\n\r\n    //create try block\r\n    private JCTree.JCBlock createTryBlock(JCTree.JCBlock body) {\r\n         return treeMaker.Block(0, body.getStatements());\r\n     }\r\n\r\n    // create finally block\r\n    private JCTree.JCBlock createFinallyBlock() {\r\n        return treeMaker.Block(0, List.nil());\r\n    }\r\n\r\n    // create try-finally block\r\n    private JCTree.JCTry createTryCatchFinally(JCTree.JCBlock tryBlock, JCTree.JCBlock finallyBlock) {\r\n        JCTree.JCTry aTry = treeMaker.Try(tryBlock, List.nil(), finallyBlock);\r\n        return aTry;\r\n    }\r\n    }\r\n\r\nI can have my project compiled successfully, but the .class file seems modified fail as below:\r\n\r\n    public class TargetClass {\r\n    public TargetClass() {\r\n    }\r\n\r\n    public int add(int a, int b) {\r\n        return a + b;\r\n    }\r\n\r\n    public void say(String name) {\r\n        System.out.println(&quot;Hello &quot; + name);\r\n    }\r\n    }\r\n\r\nI don&#39;t know why, I debuged the code and found that the method.body is changed , but don&#39;t know why it is not correctly flushed into .class file. Below code does not work as expected:\r\n\r\n    method.body = treeMaker.Block(0, List.of(tryFinally));\r\n\r\nMaybe I used it wrong?","title":"AbstractProcessor can not use JCTree to modify exist method","body":"<p>AbstractProcessor can be used to design functionality like what lombok does.\nIn my code, I have annotation as below:</p>\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@Target({ElementType.TYPE, ElementType.METHOD})\npublic @interface OnTransform {\n}\n</code></pre>\n<p>Then I make a class and have this annotation annotated on my methods as below:</p>\n<pre><code>public class TargetClass {\n\n@OnTransform\npublic int add(int a, int b) {\n    return a + b;\n}\n\n@OnTransform\npublic void say(String name) {\n    System.out.println(&quot;Hello &quot; + name);\n}\n\n}\n</code></pre>\n<p>Now I want to add try finally block for these annotated methods, So I make a new class extends AbstractProcessor class and complete my code as below(actually this part of code mainly comes from ChatGPT):</p>\n<pre><code>public class TransformProcessor extends AbstractProcessor {\n\n/**\n * 初始化\n * @param processingEnv environment to access facilities the tool framework\n * provides to the processor\n */\n@Override\npublic synchronized void init(ProcessingEnvironment processingEnv) {\n    super.init(processingEnv);\n    Context context = ((JavacProcessingEnvironment) this.processingEnv).getContext();\n    this.elementUtils = (JavacElements) this.processingEnv.getElementUtils();\n    this.messager = this.processingEnv.getMessager();\n    this.names = Names.instance(context);\n    this.trees = JavacTrees.instance(this.processingEnv);\n    this.treeMaker = TreeMaker.instance(context);\n}\n\n/**\n * 用于在编译器打印消息的组件\n */\nprivate Messager messager;\n\n/**\n * 用于创建标识符的对象\n */\nprivate Names names;\n\n/**\n * 语法树\n */\nprivate JavacTrees trees;\n\n/**\n * trees 和 elementUtils都可以获取 元素的JCTree对象\n */\nprivate JavacElements elementUtils;\n\n/**\n * 用来构造语法树节点\n */\nprivate TreeMaker treeMaker;\n\n/**\n * 字段的语法树节点的集合\n */\nprivate List&lt;JCTree.JCMethodDecl&gt; methodDecls;\n\n/**\n * 允许支持的源码版本\n * @return\n */\n@Override\npublic SourceVersion getSupportedSourceVersion() {\n    if (SourceVersion.latest().compareTo(SourceVersion.RELEASE_8) &gt; 0) {\n        return SourceVersion.latest();\n    } else {\n        return SourceVersion.RELEASE_8;\n    }\n}\n\n/**\n * 允许支持的注解类型\n * @return\n */\n@Override\npublic Set&lt;String&gt; getSupportedAnnotationTypes() {\n    return ImmutableSet.of(OnTransform.class.getCanonicalName());\n}\n\n/**\n * 代码增强处理\n * @param annotations the annotation types requested to be processed\n * @param roundEnv  environment for information about the current and prior round\n * @return\n */\n@Override\npublic boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    Set&lt;? extends Element&gt; set = roundEnv.getElementsAnnotatedWith(OnTransform.class);\n    set.forEach(element -&gt; {\n        JCTree jcTree = trees.getTree(element);\n        jcTree.accept(new TreeTranslator() {\n            @Override\n            public void visitMethodDef(JCTree.JCMethodDecl method) {\n                // 运行父类方法\n                super.visitMethodDef(method);\n                // 获取方法体\n                JCTree.JCBlock body = method.body;\n                // 创建try语句块\n                JCTree.JCBlock tryBlock = createTryBlock(body);\n                // 创建finally语句块\n                JCTree.JCBlock finallyBlock = createFinallyBlock();\n                // 创建try-catch-finally语句块\n                JCTree.JCTry tryFinally = createTryCatchFinally(tryBlock, finallyBlock);\n                // 替换原来的方法体\n                method.body = treeMaker.Block(0, List.of(tryFinally));\n            }\n        });\n    });\n    return true;\n}\n\n\n//create try block\nprivate JCTree.JCBlock createTryBlock(JCTree.JCBlock body) {\n     return treeMaker.Block(0, body.getStatements());\n }\n\n// create finally block\nprivate JCTree.JCBlock createFinallyBlock() {\n    return treeMaker.Block(0, List.nil());\n}\n\n// create try-finally block\nprivate JCTree.JCTry createTryCatchFinally(JCTree.JCBlock tryBlock, JCTree.JCBlock finallyBlock) {\n    JCTree.JCTry aTry = treeMaker.Try(tryBlock, List.nil(), finallyBlock);\n    return aTry;\n}\n}\n</code></pre>\n<p>I can have my project compiled successfully, but the .class file seems modified fail as below:</p>\n<pre><code>public class TargetClass {\npublic TargetClass() {\n}\n\npublic int add(int a, int b) {\n    return a + b;\n}\n\npublic void say(String name) {\n    System.out.println(&quot;Hello &quot; + name);\n}\n}\n</code></pre>\n<p>I don't know why, I debuged the code and found that the method.body is changed , but don't know why it is not correctly flushed into .class file. Below code does not work as expected:</p>\n<pre><code>method.body = treeMaker.Block(0, List.of(tryFinally));\n</code></pre>\n<p>Maybe I used it wrong?</p>\n"},{"tags":["java","android","android-studio","animation","android-constraintlayout"],"owner":{"account_id":28901893,"reputation":1,"user_id":22136643,"display_name":"tenzinjamyangzhs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687918928,"creation_date":1687918928,"question_id":76569665,"body_markdown":"There is a tablelayout which have two tablerows and the below row is visibility.gone by default and i if i click the button, it change to visibility.visible. i programmatically change the guideline layout percent to resize the tablelayout to make space to show the tablerow, but the animation is very laggy especially everytime i run the app and first time click the button. how can I fix it?\r\n\r\nhere is my code: \r\n\r\n\r\n            mMoreButton.setOnClickListener(new View.OnClickListener() {\r\n                final ConstraintLayout.LayoutParams lp = (ConstraintLayout.LayoutParams) mGuideline1.getLayoutParams();\r\n\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (!mShowFlag) {\r\n                        ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.41f, 0.47f);\r\n                        valueAnimator.setDuration(200);\r\n                        valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\r\n                        valueAnimator.addUpdateListener(animation -&gt; {\r\n                            lp.guidePercent = (float) valueAnimator.getAnimatedValue();\r\n                            mGuideline1.setLayoutParams(lp);\r\n                        });\r\n                        valueAnimator.start();\r\n                        mMoreButton.setText(R.string.more_up);\r\n                        mOperatorRow2.setVisibility(View.VISIBLE);\r\n                        mShowFlag = true;\r\n                    } else {\r\n                        ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.47f, 0.41f);\r\n                        valueAnimator.setDuration(200);\r\n                        valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\r\n                        valueAnimator.addUpdateListener(animation -&gt; {\r\n                            lp.guidePercent = (float) valueAnimator.getAnimatedValue();\r\n                            mGuideline1.setLayoutParams(lp);\r\n                        });\r\n                        valueAnimator.start();\r\n                        mMoreButton.setText(R.string.more_down);\r\n                        mOperatorRow2.setVisibility(View.GONE);\r\n                        mShowFlag = false;\r\n                    }\r\n                }\r\n            });\r\n\r\ni try to change the duration but it doesnt help.","title":"android studio i use valueanimator to change guideline layout percent programmatically like move it from 41% to 47% but the animation is very laggy","body":"<p>There is a tablelayout which have two tablerows and the below row is visibility.gone by default and i if i click the button, it change to visibility.visible. i programmatically change the guideline layout percent to resize the tablelayout to make space to show the tablerow, but the animation is very laggy especially everytime i run the app and first time click the button. how can I fix it?</p>\n<p>here is my code:</p>\n<pre><code>        mMoreButton.setOnClickListener(new View.OnClickListener() {\n            final ConstraintLayout.LayoutParams lp = (ConstraintLayout.LayoutParams) mGuideline1.getLayoutParams();\n\n            @Override\n            public void onClick(View v) {\n                if (!mShowFlag) {\n                    ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.41f, 0.47f);\n                    valueAnimator.setDuration(200);\n                    valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\n                    valueAnimator.addUpdateListener(animation -&gt; {\n                        lp.guidePercent = (float) valueAnimator.getAnimatedValue();\n                        mGuideline1.setLayoutParams(lp);\n                    });\n                    valueAnimator.start();\n                    mMoreButton.setText(R.string.more_up);\n                    mOperatorRow2.setVisibility(View.VISIBLE);\n                    mShowFlag = true;\n                } else {\n                    ValueAnimator valueAnimator = ValueAnimator.ofFloat(0.47f, 0.41f);\n                    valueAnimator.setDuration(200);\n                    valueAnimator.setInterpolator(new AccelerateDecelerateInterpolator());\n                    valueAnimator.addUpdateListener(animation -&gt; {\n                        lp.guidePercent = (float) valueAnimator.getAnimatedValue();\n                        mGuideline1.setLayoutParams(lp);\n                    });\n                    valueAnimator.start();\n                    mMoreButton.setText(R.string.more_down);\n                    mOperatorRow2.setVisibility(View.GONE);\n                    mShowFlag = false;\n                }\n            }\n        });\n</code></pre>\n<p>i try to change the duration but it doesnt help.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687904110,"post_id":76567249,"comment_id":135001805,"body_markdown":"Private methods are not inherited. They do not participate in dynamic dispatch. The `Student.getInfo()` method is entirely separate from the `Person.getInfo()` method, and the former does not override the latter. Additionally, the `Person.printPerson()` method, while it is _inherited_ by `Student`, it is not _overridden_ by `Student`. And which method is invoked is determined at compile-time. In this case, the chosen method is `Person.getInfo()`, because that&#39;s the only legal method in context. And that method is invoked &quot;directly&quot; because private methods are not polymorphic.","body":"Private methods are not inherited. They do not participate in dynamic dispatch. The <code>Student.getInfo()</code> method is entirely separate from the <code>Person.getInfo()</code> method, and the former does not override the latter. Additionally, the <code>Person.printPerson()</code> method, while it is <i>inherited</i> by <code>Student</code>, it is not <i>overridden</i> by <code>Student</code>. And which method is invoked is determined at compile-time. In this case, the chosen method is <code>Person.getInfo()</code>, because that&#39;s the only legal method in context. And that method is invoked &quot;directly&quot; because private methods are not polymorphic."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1687911502,"post_id":76567249,"comment_id":135002511,"body_markdown":"This is an important property for encapsulation. If it worked the opposite way with private methods   inherited and overridable in subclasses, then adding a private method to a superclass could change the behaviour of a subclass. This would be undesirable, as private methods are meant to hide implementation details, and are not part of the interface of the class.","body":"This is an important property for encapsulation. If it worked the opposite way with private methods   inherited and overridable in subclasses, then adding a private method to a superclass could change the behaviour of a subclass. This would be undesirable, as private methods are meant to hide implementation details, and are not part of the interface of the class."}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687917960,"creation_date":1687917960,"answer_id":76569614,"question_id":76567249,"body_markdown":"Always try to use @Override annotation when you want to check if method is allowed to be overridden or not in child classes, in this case you will find that it will throw a compile time error, apart from that, explanation seems pretty clear","title":"Invoking a private method in subclass from inherited public method","body":"<p>Always try to use @Override annotation when you want to check if method is allowed to be overridden or not in child classes, in this case you will find that it will throw a compile time error, apart from that, explanation seems pretty clear</p>\n"}],"owner":{"account_id":28005232,"reputation":9,"user_id":21388756,"display_name":"Elias El hachem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687917960,"creation_date":1687886264,"question_id":76567249,"body_markdown":"I read the following example in a book and its output is correct:\r\n\r\n```\r\npublic class Test \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        new Person().printPerson(); // Person\r\n        new Student().printPerson(); // Person : Line 6\r\n    }\r\n}\r\nclass Student extends Person \r\n{\r\n    private String getInfo() // Line 11\r\n    {\r\n        return &quot;Student&quot;;\r\n    }\r\n}\r\nclass Person \r\n{\r\n    private String getInfo() \r\n    {\r\n        return &quot;Person&quot;;\r\n    }\r\n    public void printPerson() \r\n    {\r\n        System.out.println(getInfo());\r\n    }\r\n}\r\n```\r\nThe explanation for the output &quot;Person&quot; instead of &quot;Student&quot; in Line 6 is as follow:\r\nnew Student().printPerson() does not invoke the getInfo() method in the Student class, because it is private and can only be invoked from a method in the Student class.\r\n\r\n\r\nMy Question is:\r\n\r\nprintPerson() method is not private in Person class hence it is inherited in Student class =&gt; it is available in Student class.\r\n\r\nWhy it can&#39;t invoke getInfo() method at Line 11 ?\r\nprintPerson() and getInfo() are both available in Student class (printPerson() method through inheritance)","title":"Invoking a private method in subclass from inherited public method","body":"<p>I read the following example in a book and its output is correct:</p>\n<pre><code>public class Test \n{\n    public static void main(String[] args) \n    {\n        new Person().printPerson(); // Person\n        new Student().printPerson(); // Person : Line 6\n    }\n}\nclass Student extends Person \n{\n    private String getInfo() // Line 11\n    {\n        return &quot;Student&quot;;\n    }\n}\nclass Person \n{\n    private String getInfo() \n    {\n        return &quot;Person&quot;;\n    }\n    public void printPerson() \n    {\n        System.out.println(getInfo());\n    }\n}\n</code></pre>\n<p>The explanation for the output &quot;Person&quot; instead of &quot;Student&quot; in Line 6 is as follow:\nnew Student().printPerson() does not invoke the getInfo() method in the Student class, because it is private and can only be invoked from a method in the Student class.</p>\n<p>My Question is:</p>\n<p>printPerson() method is not private in Person class hence it is inherited in Student class =&gt; it is available in Student class.</p>\n<p>Why it can't invoke getInfo() method at Line 11 ?\nprintPerson() and getInfo() are both available in Student class (printPerson() method through inheritance)</p>\n"},{"tags":["java","selenium-webdriver","jenkins","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687917485,"creation_date":1687917485,"answer_id":76569587,"question_id":76566689,"body_markdown":"If the Java file gets compiled and executed within the Jenkins pipeline, you could set up your Java code to accept [command line arguments](https://www.baeldung.com/java-command-line-arguments), then pass in the $BearerToken variable when the Java jar is being executed:\r\n\r\n```\r\njava -jar cli-example.jar $BearerToken\r\n```","title":"How to read parameters from .jenkins file to use in .java file","body":"<p>If the Java file gets compiled and executed within the Jenkins pipeline, you could set up your Java code to accept <a href=\"https://www.baeldung.com/java-command-line-arguments\" rel=\"nofollow noreferrer\">command line arguments</a>, then pass in the $BearerToken variable when the Java jar is being executed:</p>\n<pre><code>java -jar cli-example.jar $BearerToken\n</code></pre>\n"}],"owner":{"account_id":9604650,"reputation":13,"user_id":7131045,"accept_rate":50,"display_name":"sanjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687917485,"creation_date":1687881428,"question_id":76566689,"body_markdown":"In my Selenium and Java framework I want to give bearer token from .Jenkins file and use it in my .java file to execute my API.\r\n\r\nBelow is sample code of my .Jenkins file.\r\n\r\n    parameters {\r\n       string name: &#39;envUnderTest&#39;, defaultValue: &#39;uat&#39;\r\n       string name: &#39;BearerToken&#39;, defaultValue: &#39;XXXXXX&#39;\r\n       }\r\n\r\n\r\n","title":"How to read parameters from .jenkins file to use in .java file","body":"<p>In my Selenium and Java framework I want to give bearer token from .Jenkins file and use it in my .java file to execute my API.</p>\n<p>Below is sample code of my .Jenkins file.</p>\n<pre><code>parameters {\n   string name: 'envUnderTest', defaultValue: 'uat'\n   string name: 'BearerToken', defaultValue: 'XXXXXX'\n   }\n</code></pre>\n"},{"tags":["java","maven","tomcat","rmi","classnotfound"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687843036,"post_id":76558128,"comment_id":134989256,"body_markdown":"It has to be not only named the same but be in the same package (which is a part of naming). Use a shared project or shared folder, don&#39;t repeat the source code. That is a recipe for divergence.","body":"It has to be not only named the same but be in the same package (which is a part of naming). Use a shared project or shared folder, don&#39;t repeat the source code. That is a recipe for divergence."}],"owner":{"account_id":28898543,"reputation":1,"user_id":22134032,"display_name":"ezzky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687914982,"answer_count":0,"score":0,"last_activity_date":1687915107,"creation_date":1687793216,"question_id":76558128,"body_markdown":"I have this problem with connecting my server and client with rmi in java.\r\n\r\nIm using VSCode, client is maven project with tomcat and server is basic java project.\r\n\r\nError: `&quot;error unmarshalling return; nested exception is:  \tjava.lang.ClassNotFoundException: main.java.service.ProductService&quot;`\r\n\r\nrmi interface on both sides is named ProductService.java and looks like this on server:\r\n```\r\npackage main.java.service;\r\n\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\nimport java.util.ArrayList;\r\n\r\nimport main.java.data.Product;\r\n\r\n\r\npublic interface ProductService extends Remote {\r\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\r\n    public ArrayList&lt;Product&gt; getAllBurgers() throws RemoteException;\r\n    public ArrayList&lt;Product&gt; getAllDrinks() throws RemoteException;\r\n    public ArrayList&lt;Product&gt; getAllDeserts() throws RemoteException;\r\n    public Product getProduct(int id) throws RemoteException;\r\n    public void addProduct(Product product) throws RemoteException;\r\n    public void updateProduct(Product product) throws RemoteException;\r\n    public void deleteProduct(int id) throws RemoteException;\r\n}\r\n```\r\nProductService.java on client:\r\n```\r\n package service;\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\nimport java.util.ArrayList;\r\nimport obj.Product;\r\n\r\npublic interface ProductService extends Remote {\r\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\r\n    public Product getProduct(int id) throws RemoteException;\r\n    public void addProduct(Product product) throws RemoteException;\r\n    public void updateProduct(Product product) throws RemoteException;\r\n    public void deleteProduct(int id) throws RemoteException;\r\n}\r\n```\r\nOn client im trying a lookup on this servlet and then the error shows up:\r\n\r\n```\r\npackage servlety;\r\nimport java.io.*;\r\nimport java.rmi.Naming;\r\nimport java.rmi.*;\r\nimport java.rmi.RMISecurityManager;\r\nimport java.rmi.Remote;\r\nimport java.util.ArrayList;\r\nimport service.ProductService;\r\n\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.*;\r\nimport obj.Product;\r\n\r\n@WebServlet(&quot;/CategoryServlet2&quot;)\r\npublic class CategoryServlet extends HttpServlet {\r\n     ArrayList&lt;Product&gt; productList;\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \r\n        String category = request.getParameter(&quot;category&quot;);\r\n\r\n         try {\r\n      if (System.getSecurityManager() == null) {\r\nSystem.setSecurityManager(new RMISecurityManager());\r\n}\r\n  ProductService productService = (ProductService) Naming.lookup(&quot;rmi://localhost:8585/restaurace&quot;);\r\n\r\n                productList = productService.getAllProducts();\r\n\r\n            request.setAttribute(&quot;productList&quot;, productList);\r\n\r\n        } catch (Exception e) {\r\n                    System.out.println(e.getMessage());\r\n                }\r\n\r\n        request.setAttribute(&quot;category&quot;, category);\r\n\r\n        request.getRequestDispatcher(&quot;/&quot;+category+&quot;.jsp&quot;).forward(request, response);\r\n    }\r\n}\r\n```\r\non server side in implementation there is ProductServiceImpl.java and it looks like this: \r\n```\r\n package main.java.data;\r\n\r\nimport java.rmi.*;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\nimport java.rmi.server.*;  \r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport main.java.service.ProductService;\r\nimport main.java.data.Product;\r\npublic class ProductServiceImpl extends UnicastRemoteObject  implements ProductService {\r\n\r\n    public static void main(String[] args) {\r\n     try{\r\n              if (System.getSecurityManager() == null) {\r\nSystem.setSecurityManager(new RMISecurityManager());\r\n}\r\n            Registry registry = LocateRegistry.createRegistry(8585);\r\n            ProductServiceImpl productService = new ProductServiceImpl();\r\n            registry.rebind(&quot;restaurace&quot;, (ProductService) productService);\r\n            \r\n            System.out.println(&quot;Server started&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private Connection connection;\r\n    public ProductServiceImpl() throws RemoteException {\r\n        super();\r\n  \r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/restaurace&quot;, &quot;root&quot;, &quot;&quot;);\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public Product getProduct(int id) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        Product product = null;\r\n        try {\r\n            product = productDao.getProduct(id);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return product;\r\n    }\r\n    \r\n    @Override\r\n    public void addProduct(Product product) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        try {\r\n            productDao.addProduct(product);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void updateProduct(Product product) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        try {\r\n            productDao.updateProduct(product);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void deleteProduct(int id) throws RemoteException {\r\n        ProductDAO productDao = new ProductDAO(connection);\r\n        try {\r\n            productDao.deleteProduct(id);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException {\r\n        try {\r\n            ProductDAO productDAO = new ProductDAO(connection);\r\n            return productDAO.getAllProducts();\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\nProductService on both sides is in these packages:\r\n```\r\n\\Desktop\\pokladna1\\pokladna\\src\\main\\java\\service\\ProductService.java - client\r\n\\Desktop\\pokladna1\\RMI server\\src\\main\\java\\service\\ProductService.java - server\r\n```\r\n","title":"error unmarshalling return; nested exception is: java.lang.ClassNotFoundException: main.java.service.ProductService","body":"<p>I have this problem with connecting my server and client with rmi in java.</p>\n<p>Im using VSCode, client is maven project with tomcat and server is basic java project.</p>\n<p>Error: <code>&quot;error unmarshalling return; nested exception is:   java.lang.ClassNotFoundException: main.java.service.ProductService&quot;</code></p>\n<p>rmi interface on both sides is named ProductService.java and looks like this on server:</p>\n<pre><code>package main.java.service;\n\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\n\nimport main.java.data.Product;\n\n\npublic interface ProductService extends Remote {\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\n    public ArrayList&lt;Product&gt; getAllBurgers() throws RemoteException;\n    public ArrayList&lt;Product&gt; getAllDrinks() throws RemoteException;\n    public ArrayList&lt;Product&gt; getAllDeserts() throws RemoteException;\n    public Product getProduct(int id) throws RemoteException;\n    public void addProduct(Product product) throws RemoteException;\n    public void updateProduct(Product product) throws RemoteException;\n    public void deleteProduct(int id) throws RemoteException;\n}\n</code></pre>\n<p>ProductService.java on client:</p>\n<pre><code> package service;\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\nimport obj.Product;\n\npublic interface ProductService extends Remote {\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException;\n    public Product getProduct(int id) throws RemoteException;\n    public void addProduct(Product product) throws RemoteException;\n    public void updateProduct(Product product) throws RemoteException;\n    public void deleteProduct(int id) throws RemoteException;\n}\n</code></pre>\n<p>On client im trying a lookup on this servlet and then the error shows up:</p>\n<pre><code>package servlety;\nimport java.io.*;\nimport java.rmi.Naming;\nimport java.rmi.*;\nimport java.rmi.RMISecurityManager;\nimport java.rmi.Remote;\nimport java.util.ArrayList;\nimport service.ProductService;\n\nimport jakarta.servlet.*;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.*;\nimport obj.Product;\n\n@WebServlet(&quot;/CategoryServlet2&quot;)\npublic class CategoryServlet extends HttpServlet {\n     ArrayList&lt;Product&gt; productList;\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    \n        String category = request.getParameter(&quot;category&quot;);\n\n         try {\n      if (System.getSecurityManager() == null) {\nSystem.setSecurityManager(new RMISecurityManager());\n}\n  ProductService productService = (ProductService) Naming.lookup(&quot;rmi://localhost:8585/restaurace&quot;);\n\n                productList = productService.getAllProducts();\n\n            request.setAttribute(&quot;productList&quot;, productList);\n\n        } catch (Exception e) {\n                    System.out.println(e.getMessage());\n                }\n\n        request.setAttribute(&quot;category&quot;, category);\n\n        request.getRequestDispatcher(&quot;/&quot;+category+&quot;.jsp&quot;).forward(request, response);\n    }\n}\n</code></pre>\n<p>on server side in implementation there is ProductServiceImpl.java and it looks like this:</p>\n<pre><code> package main.java.data;\n\nimport java.rmi.*;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.rmi.server.*;  \nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport main.java.service.ProductService;\nimport main.java.data.Product;\npublic class ProductServiceImpl extends UnicastRemoteObject  implements ProductService {\n\n    public static void main(String[] args) {\n     try{\n              if (System.getSecurityManager() == null) {\nSystem.setSecurityManager(new RMISecurityManager());\n}\n            Registry registry = LocateRegistry.createRegistry(8585);\n            ProductServiceImpl productService = new ProductServiceImpl();\n            registry.rebind(&quot;restaurace&quot;, (ProductService) productService);\n            \n            System.out.println(&quot;Server started&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private Connection connection;\n    public ProductServiceImpl() throws RemoteException {\n        super();\n  \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/restaurace&quot;, &quot;root&quot;, &quot;&quot;);\n        } catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public Product getProduct(int id) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        Product product = null;\n        try {\n            product = productDao.getProduct(id);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return product;\n    }\n    \n    @Override\n    public void addProduct(Product product) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        try {\n            productDao.addProduct(product);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public void updateProduct(Product product) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        try {\n            productDao.updateProduct(product);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public void deleteProduct(int id) throws RemoteException {\n        ProductDAO productDao = new ProductDAO(connection);\n        try {\n            productDao.deleteProduct(id);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @Override\n    public ArrayList&lt;Product&gt; getAllProducts() throws RemoteException {\n        try {\n            ProductDAO productDAO = new ProductDAO(connection);\n            return productDAO.getAllProducts();\n        } catch (Exception e) {\n            // TODO: handle exception\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>ProductService on both sides is in these packages:</p>\n<pre><code>\\Desktop\\pokladna1\\pokladna\\src\\main\\java\\service\\ProductService.java - client\n\\Desktop\\pokladna1\\RMI server\\src\\main\\java\\service\\ProductService.java - server\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":0,"creation_date":1554129950,"post_id":55457184,"comment_id":97628529,"body_markdown":"Hi, could you give us the expecting matching path ?","body":"Hi, could you give us the expecting matching path ?"},{"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"score":0,"creation_date":1554150137,"post_id":55457184,"comment_id":97638314,"body_markdown":"Hello, I edited my question and added an example.","body":"Hello, I edited my question and added an example."},{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":0,"creation_date":1554198164,"post_id":55457184,"comment_id":97653835,"body_markdown":"The mapping should work as expected (except that path should be &quot;some/filepath&quot;), are you correctly make a GET request ?","body":"The mapping should work as expected (except that path should be &quot;some/filepath&quot;), are you correctly make a GET request ?"},{"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"score":0,"creation_date":1554234770,"post_id":55457184,"comment_id":97674873,"body_markdown":"Yes, when I change the route to &quot;/resources/**&quot;, I arrive in the Controller method.","body":"Yes, when I change the route to &quot;/resources/**&quot;, I arrive in the Controller method."},{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":0,"creation_date":1554465852,"post_id":55457184,"comment_id":97773129,"body_markdown":"Not sure that you are looking the correct documentation, please see : \nhttps://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping","body":"Not sure that you are looking the correct documentation, please see :  <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554986466,"creation_date":1554986466,"answer_id":55632783,"question_id":55457184,"body_markdown":"I was finally able to find out the reason for my problem.\r\n\r\nThanks to Fabien&#39;s [link](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping).\r\n\r\nThe AntPathMatcher is the default implementation for the [PathMatcher](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/PathMatcher.html). [1.10.12. Path Matching](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-config-path-matching) shows how to configure the PathMatcher. However the PathMatchConfigurer::setPathMatcher takes a PathMatcher as the argument and AntPathMatcher is the only implementation of PathMatcher so you can not set the [PathPattern](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html) there...\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer\r\n                .setUseSuffixPatternMatch(true)\r\n                .setUseTrailingSlashMatch(false)\r\n                .setUseRegisteredSuffixPatternMatch(true)\r\n                .setPathMatcher(antPathMatcher())\r\n                .setUrlPathHelper(urlPathHelper())\r\n                .addPathPrefix(&quot;/api&quot;,\r\n                        HandlerTypePredicate.forAnnotation(RestController.class));\r\n        }\r\n\r\n        @Bean\r\n        public UrlPathHelper urlPathHelper() {\r\n            //...\r\n        }\r\n\r\n        @Bean\r\n        public PathMatcher antPathMatcher() {\r\n            //...\r\n        }\r\n\r\n    }\r\n\r\nThe only class where I found the PathPattern in the Baeldung project is the following:\r\n\r\n    @Configuration\r\n    public class CorsWebFilterConfig {\r\n    \r\n        @Bean\r\n        CorsWebFilter corsWebFilter() {\r\n            CorsConfiguration corsConfig = new CorsConfiguration();\r\n            corsConfig.setAllowedOrigins(Arrays.asList(&quot;http://allowed-origin.com&quot;));\r\n            corsConfig.setMaxAge(8000L);\r\n            corsConfig.addAllowedMethod(&quot;PUT&quot;);\r\n            corsConfig.addAllowedHeader(&quot;Baeldung-Allowed&quot;);\r\n    \r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(new PathPatternParser());\r\n            source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n    \r\n            return new CorsWebFilter(source);\r\n        }\r\n    \r\n    }","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>I was finally able to find out the reason for my problem.</p>\n\n<p>Thanks to Fabien's <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>The AntPathMatcher is the default implementation for the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/PathMatcher.html\" rel=\"nofollow noreferrer\">PathMatcher</a>. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-config-path-matching\" rel=\"nofollow noreferrer\">1.10.12. Path Matching</a> shows how to configure the PathMatcher. However the PathMatchConfigurer::setPathMatcher takes a PathMatcher as the argument and AntPathMatcher is the only implementation of PathMatcher so you can not set the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html\" rel=\"nofollow noreferrer\">PathPattern</a> there...</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer\n            .setUseSuffixPatternMatch(true)\n            .setUseTrailingSlashMatch(false)\n            .setUseRegisteredSuffixPatternMatch(true)\n            .setPathMatcher(antPathMatcher())\n            .setUrlPathHelper(urlPathHelper())\n            .addPathPrefix(\"/api\",\n                    HandlerTypePredicate.forAnnotation(RestController.class));\n    }\n\n    @Bean\n    public UrlPathHelper urlPathHelper() {\n        //...\n    }\n\n    @Bean\n    public PathMatcher antPathMatcher() {\n        //...\n    }\n\n}\n</code></pre>\n\n<p>The only class where I found the PathPattern in the Baeldung project is the following:</p>\n\n<pre><code>@Configuration\npublic class CorsWebFilterConfig {\n\n    @Bean\n    CorsWebFilter corsWebFilter() {\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowedOrigins(Arrays.asList(\"http://allowed-origin.com\"));\n        corsConfig.setMaxAge(8000L);\n        corsConfig.addAllowedMethod(\"PUT\");\n        corsConfig.addAllowedHeader(\"Baeldung-Allowed\");\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(new PathPatternParser());\n        source.registerCorsConfiguration(\"/**\", corsConfig);\n\n        return new CorsWebFilter(source);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20791714,"reputation":561,"user_id":15269737,"display_name":"Enmanuel Rodr&#237;guez Paz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1614108704,"creation_date":1614108704,"answer_id":66339822,"question_id":55457184,"body_markdown":"In the [Common Application properties][1] in the Spring documentation there&#39;s a property called **spring.mvc.pathmatch.matching-strategy**, that&#39;s used as &quot;Choice of strategy for matching request paths against registered mappings&quot;.\r\n\r\nThe default value (up to this date) is **ant-path-matcher**, and since you want to use PathPattern, you&#39;ll need to write this in the application.properties file:\r\n\r\nspring.mvc.pathmatch.matching-strategy=path-pattern-parser\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties-web","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>In the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties-web\" rel=\"noreferrer\">Common Application properties</a> in the Spring documentation there's a property called <strong>spring.mvc.pathmatch.matching-strategy</strong>, that's used as &quot;Choice of strategy for matching request paths against registered mappings&quot;.</p>\n<p>The default value (up to this date) is <strong>ant-path-matcher</strong>, and since you want to use PathPattern, you'll need to write this in the application.properties file:</p>\n<p>spring.mvc.pathmatch.matching-strategy=path-pattern-parser</p>\n"},{"tags":[],"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687913831,"creation_date":1687913831,"answer_id":76569418,"question_id":55457184,"body_markdown":"Enmanuel Rodr&#237;guez Paz gave a [good declarative solution here](https://stackoverflow.com/a/66339822/).\r\n\r\nYou can also configure Spring 5.3 to use `PathPatternParser` imperatively like so :\r\n\r\n```java\r\npackage com.stackoverflow.users.pyb.questions.55457184;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.util.pattern.PathPatternParser;\r\n\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n  @Override\r\n  public void configurePathMatch(PathMatchConfigurer configurer) {\r\n    configurer\r\n        .setPatternParser(new PathPatternParser());\r\n  }\r\n}\r\n```","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>Enmanuel Rodríguez Paz gave a <a href=\"https://stackoverflow.com/a/66339822/\">good declarative solution here</a>.</p>\n<p>You can also configure Spring 5.3 to use <code>PathPatternParser</code> imperatively like so :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.users.pyb.questions.55457184;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.PathMatchConfigurer;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.util.pattern.PathPatternParser;\n\npublic class WebConfig implements WebMvcConfigurer {\n\n  @Override\n  public void configurePathMatch(PathMatchConfigurer configurer) {\n    configurer\n        .setPatternParser(new PathPatternParser());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":15651052,"reputation":307,"user_id":11292420,"display_name":"Lyannic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24689,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":66339822,"answer_count":3,"score":13,"last_activity_date":1687913831,"creation_date":1554127852,"question_id":55457184,"body_markdown":"I want to create a **GET** request that takes a filepath as a path variable.\r\n\r\nAs described in the Spring documentation found [here][1], this should be possible by using the following: /resources/{*path}. \r\n\r\nI am using Spring Boot 2.1.2 which uses Spring 5.\r\n\r\nHowever when I set up my controller method like this, the request doesn&#39;t match the route. An expected matching path would be for example /resources/some/filepath which should lead the PathVariable &quot;path&quot; to be /some/filepath\r\n\r\n```java\r\n  @GetMapping(&quot;/resources/{*path}&quot;)\r\n  public String content(@PathVariable String path) {\r\n    return null;\r\n  }\r\n``` \r\n\r\nI didn&#39;t find any information about any configuration that is needed in order to make use of the new PathPattern. The only other piece of information I found about this new feature is a post at Baeldung (https://www.baeldung.com/spring-5-mvc-url-matching) which doesn&#39;t mention anything about configuration. So I expect that it should work out of the box, but it doesn&#39;t.\r\n\r\nI cloned the project mentioned in the Baeldung post. The corresponding unit tests run. When I copy the Controller method and the unit test to my project, it fails. So I expect that it has to do with configuration.\r\n\r\nThank you for any help.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html","title":"How to apply the PathPatternParser introduced in Spring 5?","body":"<p>I want to create a <strong>GET</strong> request that takes a filepath as a path variable.</p>\n\n<p>As described in the Spring documentation found <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html\" rel=\"noreferrer\">here</a>, this should be possible by using the following: /resources/{*path}. </p>\n\n<p>I am using Spring Boot 2.1.2 which uses Spring 5.</p>\n\n<p>However when I set up my controller method like this, the request doesn't match the route. An expected matching path would be for example /resources/some/filepath which should lead the PathVariable \"path\" to be /some/filepath</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  @GetMapping(\"/resources/{*path}\")\n  public String content(@PathVariable String path) {\n    return null;\n  }\n</code></pre>\n\n<p>I didn't find any information about any configuration that is needed in order to make use of the new PathPattern. The only other piece of information I found about this new feature is a post at Baeldung (<a href=\"https://www.baeldung.com/spring-5-mvc-url-matching\" rel=\"noreferrer\">https://www.baeldung.com/spring-5-mvc-url-matching</a>) which doesn't mention anything about configuration. So I expect that it should work out of the box, but it doesn't.</p>\n\n<p>I cloned the project mentioned in the Baeldung post. The corresponding unit tests run. When I copy the Controller method and the unit test to my project, it fails. So I expect that it has to do with configuration.</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687904383,"post_id":76568768,"comment_id":135001828,"body_markdown":"Your code is a bit confusing and hard to understand because of your variable naming conventions. You really want to avoid using trivial variable names such as `l1`, `l2`, `b1`,...  unless they are being used for trivial purposes such as the index of a for loop. Instead use names that have some meaning so that your code becomes self-commenting.","body":"Your code is a bit confusing and hard to understand because of your variable naming conventions. You really want to avoid using trivial variable names such as <code>l1</code>, <code>l2</code>, <code>b1</code>,...  unless they are being used for trivial purposes such as the index of a for loop. Instead use names that have some meaning so that your code becomes self-commenting."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687904451,"post_id":76568768,"comment_id":135001831,"body_markdown":"Also, if your code is not behaving as expected, then it&#39;s time to do some debugging, with your IDE&#39;s debugger, if possible.","body":"Also, if your code is not behaving as expected, then it&#39;s time to do some debugging, with your IDE&#39;s debugger, if possible."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687904697,"post_id":76568768,"comment_id":135001870,"body_markdown":"Why are you extending `JFrame` (which you shouldn&#39;t do) and also creating an instance of `JFrame` (which you should do)?  And without a `static main` entry point, how to you run this?","body":"Why are you extending <code>JFrame</code> (which you shouldn&#39;t do) and also creating an instance of <code>JFrame</code> (which you should do)?  And without a <code>static main</code> entry point, how to you run this?"},{"owner":{"account_id":25198128,"reputation":1,"user_id":19037370,"display_name":"DevoidDude"},"score":0,"creation_date":1687905927,"post_id":76568768,"comment_id":135002000,"body_markdown":"@WJS that&#39;s the way I was thought to do it, there is a static main, its above the imports, there two separate classes.","body":"@WJS that&#39;s the way I was thought to do it, there is a static main, its above the imports, there two separate classes."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687906002,"post_id":76568768,"comment_id":135002011,"body_markdown":"@DevoidDude I missed the Gui class.","body":"@DevoidDude I missed the Gui class."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687913105,"creation_date":1687913105,"answer_id":76569387,"question_id":76568768,"body_markdown":"&gt; _&quot;... The problem I&#39;m having is that the number of guesses label is not decrementing when a wrong guess is entered. ...&quot;_\r\n\r\nFor the _checkGuess_ method, you are only evaluating if _number_ is _less-than_ _randomNumber_.\r\n\r\n```java\r\nint number = Integer.parseInt(inputString);\r\nif (number &lt; randomNumber) {\r\n    level--;\r\n    label.setText(String.valueOf(level));\r\n    checkTurns();\r\n    tooLow();\r\n}\r\n```\r\n\r\nAdd two more clauses to the _if-structure_.\r\n\r\n```java\r\nint number = Integer.parseInt(inputString);\r\nif (number &lt; randomNumber) {\r\n    level--;\r\n    label.setText(String.valueOf(level));\r\n    checkTurns();\r\n    tooLow();\r\n} else if (number &gt; randomNumber) {\r\n                \r\n} else {\r\n                \r\n}\r\n```","title":"Guess the Number game, number of guesses left labels not updating","body":"<blockquote>\n<p><em>&quot;... The problem I'm having is that the number of guesses label is not decrementing when a wrong guess is entered. ...&quot;</em></p>\n</blockquote>\n<p>For the <em>checkGuess</em> method, you are only evaluating if <em>number</em> is <em>less-than</em> <em>randomNumber</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = Integer.parseInt(inputString);\nif (number &lt; randomNumber) {\n    level--;\n    label.setText(String.valueOf(level));\n    checkTurns();\n    tooLow();\n}\n</code></pre>\n<p>Add two more clauses to the <em>if-structure</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = Integer.parseInt(inputString);\nif (number &lt; randomNumber) {\n    level--;\n    label.setText(String.valueOf(level));\n    checkTurns();\n    tooLow();\n} else if (number &gt; randomNumber) {\n                \n} else {\n                \n}\n</code></pre>\n"}],"owner":{"account_id":25198128,"reputation":1,"user_id":19037370,"display_name":"DevoidDude"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1687913105,"creation_date":1687901582,"question_id":76568768,"body_markdown":"I have a gui guess the number game, basically the user can choose between three difficulty levels, easy,intermediate and hard, each has its own number of guesses, easy has 15, intermediate has 10 and hard 5. The user can use a peek button which will display the random number for 3 seconds but will deduct a point from the number of guesses. The problem I&#39;m having is that the number of guesses label is not decrementing when a wrong guess is entered. Here is the code.\r\n\r\n\r\n```Java\r\npublic class Gui {\r\n\r\n    private static final int WIDTH = 500;\r\n    private static final int HEIGHT = 300;\r\n    private static final int X_COORDINATE = 400;\r\n    private static final int Y_COORDINATE = 200;\r\n    public static void main(String[]args){\r\n        GuessTheNumber g = new GuessTheNumber();\r\n        g.setBounds(X_COORDINATE,Y_COORDINATE,WIDTH,HEIGHT);\r\n        g.setVisible(true);\r\n        \r\n    }\r\n    \r\n}\r\n\r\nimport javax.swing.JFrame;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Label;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.geom.Point2D;\r\n\r\nimport javax.swing.Action;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JTextField;\r\nimport java.util.Random;\r\nimport javax.swing.Timer;\r\n\r\npublic class GuessTheNumber extends JFrame{\r\n\r\n    private Random random = new Random();\r\n    private final int EASY_GAME_MODE  = 15;\r\n    private final int INTERMEDIATE_GAME_MODE = 10;\r\n    private final int HARD_GAME_MODE = 5;\r\n    private final int BUTTON_1 = 1;\r\n    private final int BUTTON_2 = 2;\r\n    private final int BUTTON_3 = 3;\r\n    private final int WIDTH = 300;\r\n    private final int HEIGHT = 30;\r\n    private  final int Y = 10;\r\n    private final int X = 120;\r\n\r\n    private int userGuess;\r\n    private int level;\r\n    private int randomNumber;\r\n    private int turns;\r\n    private int playAgain;\r\n    private int buttonId;\r\n\r\n    private final JFrame f = new JFrame();\r\n\r\n    private final JLabel l1;\r\n    private final JLabel l2 = new JLabel();\r\n    private final JLabel l3 = new JLabel();\r\n    private final JLabel l4 = new JLabel();\r\n    private final JLabel l5 = new JLabel();\r\n    private final JLabel l6 = new JLabel();\r\n    private final JLabel l7 = new JLabel();\r\n\r\n    private final JButton b1;\r\n    private final JButton b2;\r\n    private final JButton b3;\r\n    private final JButton b4;\r\n    private final JButton b5;\r\n    private final JButton b6;\r\n\r\n    private final Timer peekTimer;\r\n\r\n    private final JTextField t1;\r\n\r\n    public GuessTheNumber(){\r\n        displayRandomNumber();\r\n        setLayout(null);\r\n        setLayout(null);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        t1 = new JTextField(60);\r\n        l1 = new JLabel(&quot;Guess The Number&quot;);\r\n        l1.setFont(new Font(&quot;Times new Roman&quot;,Font.BOLD,30));\r\n        l1.setForeground(getForeGround());\r\n        l2.setForeground(getForeGround());\r\n\r\n        l1.setBounds(X,Y,WIDTH,HEIGHT);\r\n        l2.setBounds(270,60,120,30);\r\n        l3.setBounds(140,100,120,30);\r\n        l4.setBounds(270,100,120,30);\r\n        l5.setBounds(390,100,120,30);\r\n        l6.setBounds(100,130,120,30);\r\n        l7.setBounds(220,130,120,30);\r\n        t1.setBounds(10,50,90,30);\r\n\r\n        add(l1);\r\n        add(l2);\r\n        add(l3);\r\n        add(l4);\r\n        add(l5);\r\n        add(l6);\r\n        add(l7);\r\n        add(t1);\r\n\r\n        b1 = new JButton(&quot;Submit&quot;);\r\n        b2 = new JButton(&quot;Easy&quot;);\r\n        b3 = new JButton(&quot;Intermediate&quot;);\r\n        b4 = new JButton(&quot;Hard&quot;);\r\n        b5 = new JButton(&quot;Reset&quot;);\r\n        b6 = new JButton(&quot;Peek&quot;);\r\n\r\n        b1.setBounds(10,90,90,30);\r\n        b2.setBounds(110,50,90,30);\r\n        b3.setBounds(220,50,110,30);\r\n        b4.setBounds(350,50,90,30);\r\n        b5.setBounds(10,170,90,30);\r\n        b6.setBounds(10,130,90,30);\r\n\r\n        add(b1);\r\n        add(b2);\r\n        add(b3);\r\n        add(b4);\r\n        add(b5);\r\n        add(b6);\r\n\r\n        b6.setEnabled(false);\r\n\r\n       peekTimer = new Timer(3000, new ActionListener() {\r\n           @Override\r\n           public void actionPerformed(ActionEvent e) {\r\n               l6.setText(&quot;&quot;);\r\n               peekTimer.stop();\r\n           }\r\n       });\r\n       peekTimer.setRepeats(false);\r\n\r\n        b1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                startingPoint(e);\r\n            }\r\n        });\r\n\r\n        b2.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                turns = setGameDifficulty(e);\r\n                turns = level;\r\n            }\r\n        });\r\n\r\n        b3.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                turns = setGameDifficulty(e);\r\n                turns = level;\r\n\r\n            }\r\n        });\r\n\r\n        b4.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                turns = setGameDifficulty(e);\r\n                turns = level;\r\n            }\r\n        });\r\n\r\n        b5.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                resetFields();\r\n            }\r\n        });\r\n\r\n        b6.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e){\r\n                peeks(e);\r\n                b6.setEnabled(false);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void startingPoint(ActionEvent e){\r\n        if(!isInputEmpty()){\r\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\r\n        }else if(!isGuessValidNumber()){\r\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\r\n        }else if(!isNumberOutOfBounds()){\r\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\r\n        }else{\r\n            checkGuess(l5);\r\n           // checkChoice(e);\r\n        }\r\n    }\r\n\r\n    private int setGameDifficulty(ActionEvent e){\r\n        Object source = e.getSource();\r\n        if(source == b2){\r\n            buttonId = BUTTON_1;\r\n        }else if(source == b3){\r\n            buttonId = BUTTON_2;\r\n        }else if(source == b4){\r\n            buttonId = BUTTON_3;\r\n        }else{\r\n            buttonId = 0;\r\n        }\r\n        turns = processButton();\r\n        lockInDifficulty();\r\n        return buttonId;\r\n    }\r\n\r\n    private int processButton(){\r\n        switch (buttonId) {\r\n            case BUTTON_1 -&gt; {\r\n                level = EASY_GAME_MODE;\r\n                printOutNumberOfTurns(EASY_GAME_MODE, l3);\r\n            }\r\n            case BUTTON_2 -&gt; {\r\n                level = INTERMEDIATE_GAME_MODE;\r\n                printOutNumberOfTurns(INTERMEDIATE_GAME_MODE, l4);\r\n            }\r\n            case BUTTON_3 -&gt; {\r\n                level = HARD_GAME_MODE;\r\n                printOutNumberOfTurns(HARD_GAME_MODE, l5);\r\n            }\r\n            default -&gt; System.out.println(&quot;UNEXPECTED ERROR!&quot;);\r\n        }\r\n        return buttonId;\r\n    }\r\n\r\n    private void lockInDifficulty(){\r\n        b2.setEnabled(false);\r\n        b3.setEnabled(false);\r\n        b4.setEnabled(false);\r\n        b6.setEnabled(true);\r\n    }\r\n\r\n    private void printOutNumberOfTurns(int numberOfTurns,JLabel label){\r\n        label.setText(&quot;&quot; + numberOfTurns);\r\n    }\r\n\r\n    private void displayRandomNumber(){\r\n        randomNumber = getRandomNumber();\r\n    }\r\n\r\n    private int getRandomNumber(){\r\n        return (int)(Math.random() * 20) + 1;\r\n    }\r\n\r\n    private void peeks(ActionEvent e){\r\n        if(e.getSource() == b6 &amp;&amp; turns == EASY_GAME_MODE){\r\n            peek(l3);\r\n        }else if(e.getSource() == b6 &amp;&amp; turns == INTERMEDIATE_GAME_MODE){\r\n            peek(l4);\r\n        }else if(e.getSource() == b6 &amp;&amp; turns == HARD_GAME_MODE){\r\n            peek(l5);\r\n        }\r\n    }\r\n\r\n    private int peek(JLabel label){\r\n        l6.setText(String.valueOf(randomNumber));\r\n        level--;\r\n        label.setText(&quot;&quot; + level);\r\n        System.out.println(&quot;Turns: &quot; + level);\r\n        System.out.println(&quot;Random Number: &quot; + randomNumber);\r\n        checkTurns();\r\n        peekTimer.start();\r\n        return level;\r\n    }\r\n\r\n     private void checkChoice(ActionEvent e){\r\n        Object source = e.getSource();\r\n        if(source == b2){\r\n            checkGuess(l3);\r\n        }else if(source == b3){\r\n            checkGuess(l4);\r\n        }else if(source == b4){\r\n            checkGuess(l5);\r\n        }\r\n        \r\n    }\r\n\r\n    private void checkGuess(JLabel label) {\r\n        String inputString = t1.getText().trim();\r\n        try {\r\n            int number = Integer.parseInt(inputString);\r\n            if (number &lt; randomNumber) {\r\n                level--;\r\n                label.setText(String.valueOf(level));\r\n                checkTurns();\r\n                tooLow();\r\n            }\r\n        } catch (NumberFormatException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\r\n        }\r\n    }\r\n    \r\n    private void tooLow(){\r\n        l7.setText(&quot;Guess is too low!&quot;);\r\n    }\r\n\r\n    private void tooHigh(){\r\n        l7.setText(&quot;Guess is too high!&quot;);\r\n    }\r\n\r\n    private void checkTurns(){\r\n        if(level == 0){\r\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\r\n            resetFields();\r\n            randomNumber = getRandomNumber();\r\n        }\r\n    } \r\n\r\n    private boolean isNumberOutOfBounds() {\r\n        String input = t1.getText().trim();\r\n        int guess = Integer.parseInt(input);\r\n        return guess &gt;= 0 &amp;&amp; guess &lt;= 20;\r\n    }\r\n\r\n    private boolean isGuessValidNumber(){\r\n        String input = t1.getText().trim();\r\n        try{\r\n            int guess = Integer.parseInt(input);\r\n        }catch(NumberFormatException e){\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean isInputEmpty(){\r\n        String input = t1.getText().trim();\r\n        return !input.isEmpty();\r\n    }\r\n\r\n    private void resetFields(){\r\n        t1.setText(&quot;&quot;);\r\n        l3.setText(&quot;&quot;);\r\n        l4.setText(&quot;&quot;);\r\n        l5.setText(&quot;&quot;);\r\n        l6.setText(&quot;&quot;);\r\n        b2.setEnabled(true);\r\n        b3.setEnabled(true);\r\n        b4.setEnabled(true);\r\n        b6.setEnabled(false);\r\n        displayRandomNumber();\r\n    }\r\n\r\n    private Color getForeGround(){\r\n        return Color.red;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nAny ideas please?\r\n\r\nI&#39;ve tried just passing a label as a parameter e.g I&#39;ve passed the hard level label to check guess method and when a wrong guess is entered it decrements the correct label but it won&#39;t work unless I pass a label to checkguess();.\r\n```Java\r\n private void startingPoint(ActionEvent e){\r\n        if(!isInputEmpty()){\r\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\r\n        }else if(!isGuessValidNumber()){\r\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\r\n        }else if(!isNumberOutOfBounds()){\r\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\r\n        }else{\r\n            checkGuess(l5);\r\n           // checkChoice(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n private void checkGuess(JLabel label) {\r\n        String inputString = t1.getText().trim();\r\n        try {\r\n            int number = Integer.parseInt(inputString);\r\n            if (number &lt; randomNumber) {\r\n                level--;\r\n                label.setText(String.valueOf(level));\r\n                checkTurns();\r\n                tooLow();\r\n            }\r\n        } catch (NumberFormatException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\r\n        }\r\n    }\r\n\r\n\r\nprivate void checkTurns(){\r\n        if(level == 0){\r\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\r\n            resetFields();\r\n            randomNumber = getRandomNumber();\r\n        }\r\n    } \r\n\r\n```","title":"Guess the Number game, number of guesses left labels not updating","body":"<p>I have a gui guess the number game, basically the user can choose between three difficulty levels, easy,intermediate and hard, each has its own number of guesses, easy has 15, intermediate has 10 and hard 5. The user can use a peek button which will display the random number for 3 seconds but will deduct a point from the number of guesses. The problem I'm having is that the number of guesses label is not decrementing when a wrong guess is entered. Here is the code.</p>\n<pre><code>public class Gui {\n\n    private static final int WIDTH = 500;\n    private static final int HEIGHT = 300;\n    private static final int X_COORDINATE = 400;\n    private static final int Y_COORDINATE = 200;\n    public static void main(String[]args){\n        GuessTheNumber g = new GuessTheNumber();\n        g.setBounds(X_COORDINATE,Y_COORDINATE,WIDTH,HEIGHT);\n        g.setVisible(true);\n        \n    }\n    \n}\n\nimport javax.swing.JFrame;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Label;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Point2D;\n\nimport javax.swing.Action;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\nimport java.util.Random;\nimport javax.swing.Timer;\n\npublic class GuessTheNumber extends JFrame{\n\n    private Random random = new Random();\n    private final int EASY_GAME_MODE  = 15;\n    private final int INTERMEDIATE_GAME_MODE = 10;\n    private final int HARD_GAME_MODE = 5;\n    private final int BUTTON_1 = 1;\n    private final int BUTTON_2 = 2;\n    private final int BUTTON_3 = 3;\n    private final int WIDTH = 300;\n    private final int HEIGHT = 30;\n    private  final int Y = 10;\n    private final int X = 120;\n\n    private int userGuess;\n    private int level;\n    private int randomNumber;\n    private int turns;\n    private int playAgain;\n    private int buttonId;\n\n    private final JFrame f = new JFrame();\n\n    private final JLabel l1;\n    private final JLabel l2 = new JLabel();\n    private final JLabel l3 = new JLabel();\n    private final JLabel l4 = new JLabel();\n    private final JLabel l5 = new JLabel();\n    private final JLabel l6 = new JLabel();\n    private final JLabel l7 = new JLabel();\n\n    private final JButton b1;\n    private final JButton b2;\n    private final JButton b3;\n    private final JButton b4;\n    private final JButton b5;\n    private final JButton b6;\n\n    private final Timer peekTimer;\n\n    private final JTextField t1;\n\n    public GuessTheNumber(){\n        displayRandomNumber();\n        setLayout(null);\n        setLayout(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        t1 = new JTextField(60);\n        l1 = new JLabel(&quot;Guess The Number&quot;);\n        l1.setFont(new Font(&quot;Times new Roman&quot;,Font.BOLD,30));\n        l1.setForeground(getForeGround());\n        l2.setForeground(getForeGround());\n\n        l1.setBounds(X,Y,WIDTH,HEIGHT);\n        l2.setBounds(270,60,120,30);\n        l3.setBounds(140,100,120,30);\n        l4.setBounds(270,100,120,30);\n        l5.setBounds(390,100,120,30);\n        l6.setBounds(100,130,120,30);\n        l7.setBounds(220,130,120,30);\n        t1.setBounds(10,50,90,30);\n\n        add(l1);\n        add(l2);\n        add(l3);\n        add(l4);\n        add(l5);\n        add(l6);\n        add(l7);\n        add(t1);\n\n        b1 = new JButton(&quot;Submit&quot;);\n        b2 = new JButton(&quot;Easy&quot;);\n        b3 = new JButton(&quot;Intermediate&quot;);\n        b4 = new JButton(&quot;Hard&quot;);\n        b5 = new JButton(&quot;Reset&quot;);\n        b6 = new JButton(&quot;Peek&quot;);\n\n        b1.setBounds(10,90,90,30);\n        b2.setBounds(110,50,90,30);\n        b3.setBounds(220,50,110,30);\n        b4.setBounds(350,50,90,30);\n        b5.setBounds(10,170,90,30);\n        b6.setBounds(10,130,90,30);\n\n        add(b1);\n        add(b2);\n        add(b3);\n        add(b4);\n        add(b5);\n        add(b6);\n\n        b6.setEnabled(false);\n\n       peekTimer = new Timer(3000, new ActionListener() {\n           @Override\n           public void actionPerformed(ActionEvent e) {\n               l6.setText(&quot;&quot;);\n               peekTimer.stop();\n           }\n       });\n       peekTimer.setRepeats(false);\n\n        b1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                startingPoint(e);\n            }\n        });\n\n        b2.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                turns = setGameDifficulty(e);\n                turns = level;\n            }\n        });\n\n        b3.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                turns = setGameDifficulty(e);\n                turns = level;\n\n            }\n        });\n\n        b4.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                turns = setGameDifficulty(e);\n                turns = level;\n            }\n        });\n\n        b5.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                resetFields();\n            }\n        });\n\n        b6.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e){\n                peeks(e);\n                b6.setEnabled(false);\n            }\n        });\n    }\n\n    private void startingPoint(ActionEvent e){\n        if(!isInputEmpty()){\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\n        }else if(!isGuessValidNumber()){\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\n        }else if(!isNumberOutOfBounds()){\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\n        }else{\n            checkGuess(l5);\n           // checkChoice(e);\n        }\n    }\n\n    private int setGameDifficulty(ActionEvent e){\n        Object source = e.getSource();\n        if(source == b2){\n            buttonId = BUTTON_1;\n        }else if(source == b3){\n            buttonId = BUTTON_2;\n        }else if(source == b4){\n            buttonId = BUTTON_3;\n        }else{\n            buttonId = 0;\n        }\n        turns = processButton();\n        lockInDifficulty();\n        return buttonId;\n    }\n\n    private int processButton(){\n        switch (buttonId) {\n            case BUTTON_1 -&gt; {\n                level = EASY_GAME_MODE;\n                printOutNumberOfTurns(EASY_GAME_MODE, l3);\n            }\n            case BUTTON_2 -&gt; {\n                level = INTERMEDIATE_GAME_MODE;\n                printOutNumberOfTurns(INTERMEDIATE_GAME_MODE, l4);\n            }\n            case BUTTON_3 -&gt; {\n                level = HARD_GAME_MODE;\n                printOutNumberOfTurns(HARD_GAME_MODE, l5);\n            }\n            default -&gt; System.out.println(&quot;UNEXPECTED ERROR!&quot;);\n        }\n        return buttonId;\n    }\n\n    private void lockInDifficulty(){\n        b2.setEnabled(false);\n        b3.setEnabled(false);\n        b4.setEnabled(false);\n        b6.setEnabled(true);\n    }\n\n    private void printOutNumberOfTurns(int numberOfTurns,JLabel label){\n        label.setText(&quot;&quot; + numberOfTurns);\n    }\n\n    private void displayRandomNumber(){\n        randomNumber = getRandomNumber();\n    }\n\n    private int getRandomNumber(){\n        return (int)(Math.random() * 20) + 1;\n    }\n\n    private void peeks(ActionEvent e){\n        if(e.getSource() == b6 &amp;&amp; turns == EASY_GAME_MODE){\n            peek(l3);\n        }else if(e.getSource() == b6 &amp;&amp; turns == INTERMEDIATE_GAME_MODE){\n            peek(l4);\n        }else if(e.getSource() == b6 &amp;&amp; turns == HARD_GAME_MODE){\n            peek(l5);\n        }\n    }\n\n    private int peek(JLabel label){\n        l6.setText(String.valueOf(randomNumber));\n        level--;\n        label.setText(&quot;&quot; + level);\n        System.out.println(&quot;Turns: &quot; + level);\n        System.out.println(&quot;Random Number: &quot; + randomNumber);\n        checkTurns();\n        peekTimer.start();\n        return level;\n    }\n\n     private void checkChoice(ActionEvent e){\n        Object source = e.getSource();\n        if(source == b2){\n            checkGuess(l3);\n        }else if(source == b3){\n            checkGuess(l4);\n        }else if(source == b4){\n            checkGuess(l5);\n        }\n        \n    }\n\n    private void checkGuess(JLabel label) {\n        String inputString = t1.getText().trim();\n        try {\n            int number = Integer.parseInt(inputString);\n            if (number &lt; randomNumber) {\n                level--;\n                label.setText(String.valueOf(level));\n                checkTurns();\n                tooLow();\n            }\n        } catch (NumberFormatException e) {\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\n        }\n    }\n    \n    private void tooLow(){\n        l7.setText(&quot;Guess is too low!&quot;);\n    }\n\n    private void tooHigh(){\n        l7.setText(&quot;Guess is too high!&quot;);\n    }\n\n    private void checkTurns(){\n        if(level == 0){\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\n            resetFields();\n            randomNumber = getRandomNumber();\n        }\n    } \n\n    private boolean isNumberOutOfBounds() {\n        String input = t1.getText().trim();\n        int guess = Integer.parseInt(input);\n        return guess &gt;= 0 &amp;&amp; guess &lt;= 20;\n    }\n\n    private boolean isGuessValidNumber(){\n        String input = t1.getText().trim();\n        try{\n            int guess = Integer.parseInt(input);\n        }catch(NumberFormatException e){\n            return false;\n        }\n        return true;\n    }\n\n    private boolean isInputEmpty(){\n        String input = t1.getText().trim();\n        return !input.isEmpty();\n    }\n\n    private void resetFields(){\n        t1.setText(&quot;&quot;);\n        l3.setText(&quot;&quot;);\n        l4.setText(&quot;&quot;);\n        l5.setText(&quot;&quot;);\n        l6.setText(&quot;&quot;);\n        b2.setEnabled(true);\n        b3.setEnabled(true);\n        b4.setEnabled(true);\n        b6.setEnabled(false);\n        displayRandomNumber();\n    }\n\n    private Color getForeGround(){\n        return Color.red;\n    }\n\n\n}\n</code></pre>\n<p>Any ideas please?</p>\n<p>I've tried just passing a label as a parameter e.g I've passed the hard level label to check guess method and when a wrong guess is entered it decrements the correct label but it won't work unless I pass a label to checkguess();.</p>\n<pre><code> private void startingPoint(ActionEvent e){\n        if(!isInputEmpty()){\n            JOptionPane.showMessageDialog(f,&quot;FIELD CANNOT BE EMPTY!&quot;);\n        }else if(!isGuessValidNumber()){\n            JOptionPane.showMessageDialog(f,&quot;INVALID INPUT! NUMBERS ONLY!&quot;);\n        }else if(!isNumberOutOfBounds()){\n            JOptionPane.showMessageDialog(f,&quot; INVALID NUMBER &quot; + t1.getText() + &quot; IS NOT IN RANGE! &quot;);\n        }else{\n            checkGuess(l5);\n           // checkChoice(e);\n        }\n    }\n\n\n\n private void checkGuess(JLabel label) {\n        String inputString = t1.getText().trim();\n        try {\n            int number = Integer.parseInt(inputString);\n            if (number &lt; randomNumber) {\n                level--;\n                label.setText(String.valueOf(level));\n                checkTurns();\n                tooLow();\n            }\n        } catch (NumberFormatException e) {\n            JOptionPane.showMessageDialog(null, &quot;Invalid input! Please enter a valid number.&quot;);\n        }\n    }\n\n\nprivate void checkTurns(){\n        if(level == 0){\n            JOptionPane.showMessageDialog(f,&quot;OUT OF TURNS!&quot;);\n            resetFields();\n            randomNumber = getRandomNumber();\n        }\n    } \n\n</code></pre>\n"},{"tags":["java","android","debugging","stack-trace","backtrace"],"comments":[{"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"score":1,"creation_date":1404337713,"post_id":24541325,"comment_id":38005452,"body_markdown":"One difference is that you can call dumpStack() anytime, while printStackTrace() is from Throwable, which means you can call it only when you have a reference to a Throwable.","body":"One difference is that you can call dumpStack() anytime, while printStackTrace() is from Throwable, which means you can call it only when you have a reference to a Throwable."},{"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"score":0,"creation_date":1404342154,"post_id":24541325,"comment_id":38007112,"body_markdown":"Well I have been able to use Thread.currentThread().printStackTrace() without referencing Throwable and basically call it from anywhere.","body":"Well I have been able to use Thread.currentThread().printStackTrace() without referencing Throwable and basically call it from anywhere."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1404351528,"post_id":24541325,"comment_id":38009308,"body_markdown":"No you haven&#39;t. There is no such method. There are Thread.dumpStack() and Throwable.printStackTrace().","body":"No you haven&#39;t. There is no such method. There are Thread.dumpStack() and Throwable.printStackTrace()."},{"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"score":0,"creation_date":1404353314,"post_id":24541325,"comment_id":38009685,"body_markdown":"http://stackoverflow.com/questions/1069066/get-current-stack-trace-in-java\n Instead of using get I was able to use print successfully and able to print out the stack trace on my Logcat","body":"<a href=\"http://stackoverflow.com/questions/1069066/get-current-stack-trace-in-java\" title=\"get current stack trace in java\">stackoverflow.com/questions/1069066/&hellip;</a>  Instead of using get I was able to use print successfully and able to print out the stack trace on my Logcat"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1404354225,"post_id":24541325,"comment_id":38009892,"body_markdown":"That was Thread.getStackTrace(). Not Thread.printStackTrace() as you stated above.","body":"That was Thread.getStackTrace(). Not Thread.printStackTrace() as you stated above."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1404355627,"post_id":24541325,"comment_id":38010176,"body_markdown":"Not via a Thread. The call Thread.currentThread().printStacktrace() does not compile. There is no such method. Period. Experience has nothing to do with it. Just see the Javadoc. And make up your mind about whether it was printStackTrace() or getStackTrace(). You seem to be claiming both.","body":"Not via a Thread. The call Thread.currentThread().printStacktrace() does not compile. There is no such method. Period. Experience has nothing to do with it. Just see the Javadoc. And make up your mind about whether it was printStackTrace() or getStackTrace(). You seem to be claiming both."},{"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"score":0,"creation_date":1404422145,"post_id":24541325,"comment_id":38045931,"body_markdown":"Oh well, my bad . I am printing the trace by converting it to a string. you are right","body":"Oh well, my bad . I am printing the trace by converting it to a string. you are right"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1687913045,"creation_date":1404351654,"answer_id":24543687,"question_id":24541325,"body_markdown":"`Thread.dumpStack()` dumps the *current* stack trace of the thread it is invoked on.\r\n\r\n`Throwable.printStackTrace()` prints the stack trace *as it was when the throwable was thrown.*","title":"Difference between dumpstack() and printStackTrace()","body":"<p><code>Thread.dumpStack()</code> dumps the <em>current</em> stack trace of the thread it is invoked on.</p>\n<p><code>Throwable.printStackTrace()</code> prints the stack trace <em>as it was when the throwable was thrown.</em></p>\n"},{"tags":[],"owner":{"account_id":3803158,"reputation":5427,"user_id":3156226,"accept_rate":79,"display_name":"josedlujan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404357624,"creation_date":1404357624,"answer_id":24544373,"question_id":24541325,"body_markdown":"Main difference between using dumpStack() and printStackTrace() is first entry in Stack, In case of dumpStack() first entry is always java.lang.Thread.dumpStack(), while in later case it&#39;s the method from where you printed stack trace. If you don&#39;t want to print stack trace and rather wants it in Java program, you can use getStackTrace() method from Thread class. This method returns an array of StackTraceElement. In following Java program we will see examples of all three approaches to get stack trace of current thread in Java.","title":"Difference between dumpstack() and printStackTrace()","body":"<p>Main difference between using dumpStack() and printStackTrace() is first entry in Stack, In case of dumpStack() first entry is always java.lang.Thread.dumpStack(), while in later case it's the method from where you printed stack trace. If you don't want to print stack trace and rather wants it in Java program, you can use getStackTrace() method from Thread class. This method returns an array of StackTraceElement. In following Java program we will see examples of all three approaches to get stack trace of current thread in Java.</p>\n"}],"owner":{"account_id":3388984,"reputation":312,"user_id":2844311,"display_name":"Ducktales"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5500,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":24543687,"answer_count":2,"score":2,"last_activity_date":1687913045,"creation_date":1404336502,"question_id":24541325,"body_markdown":"I am trying to get the stack trace of the underlying C code that is called from the android Java app code and tried using \r\n**dumpStack()** and **printStackTrace()** without any success.\r\nJust was curious is there a difference between the two if any?\r\n\r\nAlso **is there a way to print a stack trace of the underlying C code the uses JNI to call the java functions on the android side?**","title":"Difference between dumpstack() and printStackTrace()","body":"<p>I am trying to get the stack trace of the underlying C code that is called from the android Java app code and tried using \n<strong>dumpStack()</strong> and <strong>printStackTrace()</strong> without any success.\nJust was curious is there a difference between the two if any?</p>\n\n<p>Also <strong>is there a way to print a stack trace of the underlying C code the uses JNI to call the java functions on the android side?</strong></p>\n"},{"tags":["java","testing","webdriver","appium"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687826701,"post_id":76559278,"comment_id":134987843,"body_markdown":"can you share error message itself","body":"can you share error message itself"},{"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"score":0,"creation_date":1687857297,"post_id":76559278,"comment_id":134991813,"body_markdown":"`AppiumDriver` does not take generics e.g you cannot use `&lt;T&gt;`, what are you trying to achieve?","body":"<code>AppiumDriver</code> does not take generics e.g you cannot use <code>&lt;T&gt;</code>, what are you trying to achieve?"},{"owner":{"account_id":21042716,"reputation":1,"user_id":15464747,"display_name":"Alihan Kuru"},"score":0,"creation_date":1687894420,"post_id":76559278,"comment_id":135000343,"body_markdown":"@FarkhodAbdukodirov here is the error message: Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters public AppiumDriver&lt;WebElement&gt; driver; WebElement giving error.","body":"@FarkhodAbdukodirov here is the error message: Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters public AppiumDriver&lt;WebElement&gt; driver; WebElement giving error."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687904616,"post_id":76559278,"comment_id":135001860,"body_markdown":"Please update your post with error message","body":"Please update your post with error message"}],"owner":{"account_id":21042716,"reputation":1,"user_id":15464747,"display_name":"Alihan Kuru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687912692,"creation_date":1687803439,"question_id":76559278,"body_markdown":"I&#39;m working on an Appium project and trying to declare an AppiumDriver object with a type parameter for WebElement. \r\n\r\nError message: Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters public AppiumDriver&lt;WebElement&gt; driver; WebElement giving error.\r\n\r\nHere&#39;s the code snippet:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport io.appium.java_client.AppiumDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeTest;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.net.MalformedURLException;\r\n\r\npublic class LoginTest {\r\n\r\n    public AppiumDriver&lt;WebElement&gt; driver;\r\n    public WebDriverWait wait;\r\n```\r\n\r\nI have already imported the necessary classes for AppiumDriver and WebElement. I&#39;m using the latest version of the Appium Java client library in my project.\r\nCould anyone please help me understand why I&#39;m getting this error and how to resolve it? Am I missing any additional configuration or dependencies?\r\nAny assistance would be greatly appreciated. Thank you!","title":"Type &#39;io.appium.java_client.AppiumDriver&#39; does not have type parameters","body":"<p>I'm working on an Appium project and trying to declare an AppiumDriver object with a type parameter for WebElement.</p>\n<p>Error message: Type 'io.appium.java_client.AppiumDriver' does not have type parameters public AppiumDriver driver; WebElement giving error.</p>\n<p>Here's the code snippet:</p>\n<pre><code>package org.example;\n\nimport io.appium.java_client.AppiumDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\nimport java.net.MalformedURLException;\n\npublic class LoginTest {\n\n    public AppiumDriver&lt;WebElement&gt; driver;\n    public WebDriverWait wait;\n</code></pre>\n<p>I have already imported the necessary classes for AppiumDriver and WebElement. I'm using the latest version of the Appium Java client library in my project.\nCould anyone please help me understand why I'm getting this error and how to resolve it? Am I missing any additional configuration or dependencies?\nAny assistance would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","mongodb","spring-boot","mongock"],"answers":[{"tags":[],"owner":{"account_id":5475791,"reputation":31,"user_id":4353841,"display_name":"George Iron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675779636,"creation_date":1675779636,"answer_id":75374644,"question_id":75363743,"body_markdown":"You can try by making a setup bean.\r\n```\r\n    @Bean\r\n    public MongockApplicationRunner mongockApplicationRunner(\r\n            ApplicationContext springContext,\r\n            MongoTemplate mongoTemplate) {\r\n        return MongockSpringboot.builder()\r\n                .setDriver(SpringDataMongoV3Driver.withDefaultLock(mongoTemplate))\r\n                .addMigrationScanPackage(&quot;your_changeLog_package_path&quot;)\r\n                .setSpringContext(springContext)\r\n                .buildApplicationRunner();\r\n    }\r\n```","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>You can try by making a setup bean.</p>\n<pre><code>    @Bean\n    public MongockApplicationRunner mongockApplicationRunner(\n            ApplicationContext springContext,\n            MongoTemplate mongoTemplate) {\n        return MongockSpringboot.builder()\n                .setDriver(SpringDataMongoV3Driver.withDefaultLock(mongoTemplate))\n                .addMigrationScanPackage(&quot;your_changeLog_package_path&quot;)\n                .setSpringContext(springContext)\n                .buildApplicationRunner();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27884225,"reputation":36,"user_id":21292052,"display_name":"user21292052"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679568991,"creation_date":1679568991,"answer_id":75822101,"question_id":75363743,"body_markdown":"Depending on the version of Spring Boot you are using, this likely has different causes:\r\n\r\nWhen using Spring Boot 3.x.x you need to use\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of `mongock-springboot` as stated in [GitHub issue #589][1].\r\n\r\n----------\r\n\r\nIf using Spring Boot 2.x.x or above change does not work, for some reason the Bean is not auto-detected.\r\n\r\nDefining the Bean manually should solve/workaround this:\r\n\r\n - Either use the Builder approach instead of the `@EnableMongock` Annotation.\r\n\r\n   You can [choose](https://docs.mongock.io/v5/runner/springboot/index.html#features) between the ApplicationRunner or the InitializingBeanRunner.\r\n\r\n   An example for such a Runner can be found in the [Mongock-examples repo](https://github.com/mongock/mongock-examples).\r\n\r\n-  Alternatively you can only define the ConnectionDriver Bean while keeping the Annotation approach with something like this:\r\n\r\n    ``` lang-java\r\n    @Bean\r\n    // name of Method seems irrelevant\r\n    public ConnectionDriver mongockConnection(MongoClient mongoClient) {\r\n        return SpringDataMongoV3Driver.withDefaultLock(mongoClient, &quot;your databaseName&quot;);\r\n    }\r\n    ```\r\n\r\n  [1]: https://github.com/mongock/mongock/issues/589","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>Depending on the version of Spring Boot you are using, this likely has different causes:</p>\n<p>When using Spring Boot 3.x.x you need to use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of <code>mongock-springboot</code> as stated in <a href=\"https://github.com/mongock/mongock/issues/589\" rel=\"nofollow noreferrer\">GitHub issue #589</a>.</p>\n<hr />\n<p>If using Spring Boot 2.x.x or above change does not work, for some reason the Bean is not auto-detected.</p>\n<p>Defining the Bean manually should solve/workaround this:</p>\n<ul>\n<li><p>Either use the Builder approach instead of the <code>@EnableMongock</code> Annotation.</p>\n<p>You can <a href=\"https://docs.mongock.io/v5/runner/springboot/index.html#features\" rel=\"nofollow noreferrer\">choose</a> between the ApplicationRunner or the InitializingBeanRunner.</p>\n<p>An example for such a Runner can be found in the <a href=\"https://github.com/mongock/mongock-examples\" rel=\"nofollow noreferrer\">Mongock-examples repo</a>.</p>\n</li>\n<li><p>Alternatively you can only define the ConnectionDriver Bean while keeping the Annotation approach with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n// name of Method seems irrelevant\npublic ConnectionDriver mongockConnection(MongoClient mongoClient) {\n    return SpringDataMongoV3Driver.withDefaultLock(mongoClient, &quot;your databaseName&quot;);\n}\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10455285,"reputation":93,"user_id":9780782,"display_name":"Tejaswi Kasat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681988111,"creation_date":1681988111,"answer_id":76063297,"question_id":75363743,"body_markdown":"If you are using spring 3.x.x version, the dependencies mentioned in documentations are not proper. Use dependencies like below in order to make autoconfiguration to work:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.4&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\nPost this, your configuration in `application.yml` will work","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>If you are using spring 3.x.x version, the dependencies mentioned in documentations are not proper. Use dependencies like below in order to make autoconfiguration to work:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n  &lt;artifactId&gt;mongock-bom&lt;/artifactId&gt;\n  &lt;version&gt;5.2.4&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n  &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\n  &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n  &lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\n  &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n<p>Post this, your configuration in <code>application.yml</code> will work</p>\n"},{"tags":[],"owner":{"account_id":8783701,"reputation":363,"user_id":6566531,"display_name":"tlarson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687911322,"creation_date":1687911322,"answer_id":76569316,"question_id":75363743,"body_markdown":"For Spring version 3.1 and Spring Boot, this worked for me in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nand I completely removed the property:\r\n\r\n    mongock.transaction-enabled=true\r\n\r\nin the properties file and instead just added `@EnableMongock` annotation under `@SpringBootApplication` annotation in my application class. ","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>For Spring version 3.1 and Spring Boot, this worked for me in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongock-springboot-v3&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-springdata-v4-driver&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I completely removed the property:</p>\n<pre><code>mongock.transaction-enabled=true\n</code></pre>\n<p>in the properties file and instead just added <code>@EnableMongock</code> annotation under <code>@SpringBootApplication</code> annotation in my application class.</p>\n"}],"owner":{"account_id":4640223,"reputation":589,"user_id":3760289,"accept_rate":89,"display_name":"Piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1760,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1687911322,"creation_date":1675699365,"question_id":75363743,"body_markdown":"I have a problem with proper configure mongock for my project.\r\n\r\nI have added to pom.xml dependencies:\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongock-springboot&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n      &lt;/dependencies&gt;\r\n      &lt;dependencyManagement&gt;\r\n         &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.mongock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mongock-driver-mongodb-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nI have added annotation on ApplicationClass: @EnableMongock\r\n\r\nIn application.yml I have added configuration:\r\n\r\n```\r\nmongock:\r\n  migration-scan-package:\r\n    - com.test.project.config.dbmigrations\r\n  enabled: true\r\n```\r\n\r\nDocumentation says that this setup should be enough, but when I run app I have got error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;io.mongock.driver.api.driver.ConnectionDriver&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;io.mongock.driver.api.driver.ConnectionDriver&#39; in your configuration.\r\n```\r\n\r\nDo you know how to fix it? Thanks in advance.","title":"Could not found method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type &#39;ConnectionDriver&#39;","body":"<p>I have a problem with proper configure mongock for my project.</p>\n<p>I have added to pom.xml dependencies:</p>\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n        &lt;artifactId&gt;mongock-springboot&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-springdata-v3-driver&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n  &lt;/dependencies&gt;\n  &lt;dependencyManagement&gt;\n     &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.mongock&lt;/groupId&gt;\n            &lt;artifactId&gt;mongock-driver-mongodb-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        ...\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>I have added annotation on ApplicationClass: @EnableMongock</p>\n<p>In application.yml I have added configuration:</p>\n<pre><code>mongock:\n  migration-scan-package:\n    - com.test.project.config.dbmigrations\n  enabled: true\n</code></pre>\n<p>Documentation says that this setup should be enough, but when I run app I have got error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method getBuilder in io.mongock.runner.springboot.config.MongockContext required a bean of type 'io.mongock.driver.api.driver.ConnectionDriver' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'io.mongock.driver.api.driver.ConnectionDriver' in your configuration.\n</code></pre>\n<p>Do you know how to fix it? Thanks in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9650,"page":342,"page_size":100}
