{"items":[{"tags":["java","android","android-studio","unit-testing","junit"],"comments":[{"owner":{"account_id":6415955,"reputation":106,"user_id":6145441,"display_name":"Courlu"},"score":1,"creation_date":1645786273,"post_id":69266431,"comment_id":125968441,"body_markdown":"Did you resolve this issue? I have the same error","body":"Did you resolve this issue? I have the same error"},{"owner":{"account_id":22813353,"reputation":71,"user_id":16964319,"display_name":"Forged"},"score":0,"creation_date":1645910683,"post_id":69266431,"comment_id":125995809,"body_markdown":"No, not yet. I was trying everything possible. But I did not come to the correct solution.","body":"No, not yet. I was trying everything possible. But I did not come to the correct solution."}],"answers":[{"tags":[],"owner":{"account_id":12797123,"reputation":607,"user_id":9259680,"display_name":"Maria Clara Bezerra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656639959,"creation_date":1656639959,"answer_id":72823619,"question_id":69266431,"body_markdown":"I also have the same error related to **inRoot** here, so I used another solution to assert a toast message, replacing **inRoot** and **ToastMatcher** class by this solution with UIAutomator and assertTrue:\r\n\r\n    import androidx.test.platform.app.InstrumentationRegistry\r\n    import junit.framework.Assert.assertTrue\r\n    import androidx.test.uiautomator.By\r\n    import androidx.test.uiautomator.UiDevice\r\n    \r\n    val device: UiDevice\r\n            get() = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation())\r\n    \r\n    assertTrue(device.hasObject(By.text(toastMessageDuplicated)))","title":"androidx.test.espresso.NoMatchingRootException: Matcher &#39;is toast&#39; did not match any of the following roots:","body":"<p>I also have the same error related to <strong>inRoot</strong> here, so I used another solution to assert a toast message, replacing <strong>inRoot</strong> and <strong>ToastMatcher</strong> class by this solution with UIAutomator and assertTrue:</p>\n<pre><code>import androidx.test.platform.app.InstrumentationRegistry\nimport junit.framework.Assert.assertTrue\nimport androidx.test.uiautomator.By\nimport androidx.test.uiautomator.UiDevice\n\nval device: UiDevice\n        get() = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation())\n\nassertTrue(device.hasObject(By.text(toastMessageDuplicated)))\n</code></pre>\n"}],"owner":{"account_id":22813353,"reputation":71,"user_id":16964319,"display_name":"Forged"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1656639959,"creation_date":1632216083,"question_id":69266431,"body_markdown":"Recently I had a problem with `JUnit Testing` of a `Toast`.\r\n\r\nIn my `LoginActivity` class I have a `Button` with that calls this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Toast.makeText(LoginActivity.this, &quot;toast text&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd this is a `LoginActivityTest` class\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.android_pokladna.LoginActivity;\r\n\r\n    import android.app.Dialog;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.Looper;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.test.core.app.ActivityScenario;\r\n    import androidx.test.espresso.UiController;\r\n    import androidx.test.espresso.ViewAction;\r\n    import androidx.test.rule.ActivityTestRule;\r\n\r\n    import com.android_pokladna.Model.Login.LoginRequest;\r\n    import com.android_pokladna.Model.Login.LoginResponse;\r\n    import com.android_pokladna.Other.TokenSaver;\r\n    import com.android_pokladna.R;\r\n    import com.android_pokladna.ShopActivity.ShopActivity;\r\n    import com.android_pokladna.api.ApiClientandService.ApiCallback;\r\n    import com.android_pokladna.api.ApiClientandService.ApiClient;\r\n\r\n    import org.hamcrest.Matcher;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    import retrofit2.Call;\r\n    import retrofit2.Callback;\r\n    import retrofit2.Response;\r\n\r\n    import static androidx.test.espresso.Espresso.onView;\r\n    import static androidx.test.espresso.action.ViewActions.click;\r\n    import static androidx.test.espresso.action.ViewActions.typeText;\r\n    import static androidx.test.espresso.assertion.ViewAssertions.doesNotExist;\r\n    import static androidx.test.espresso.assertion.ViewAssertions.matches;\r\n    import static androidx.test.espresso.matcher.RootMatchers.isDialog;\r\n    import static androidx.test.espresso.matcher.RootMatchers.isFocusable;\r\n    import static androidx.test.espresso.matcher.RootMatchers.isPlatformPopup;\r\n    import static androidx.test.espresso.matcher.RootMatchers.withDecorView;\r\n    import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\r\n    import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\r\n    import static androidx.test.espresso.matcher.ViewMatchers.withId;\r\n    import static androidx.test.espresso.matcher.ViewMatchers.withText;\r\n    import static androidx.test.internal.runner.junit4.statement.UiThreadStatement.runOnUiThread;\r\n    import static org.hamcrest.Matchers.endsWith;\r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.hamcrest.Matchers.not;\r\n    import static org.junit.Assert.*;\r\n\r\n\r\n    public class LoginActivityTest {\r\n\r\n        @Rule\r\n        public ActivityTestRule&lt;LoginActivity&gt; activityTestRule = new ActivityTestRule(LoginActivity.class);\r\n        private LoginActivity loginActivity = null;\r\n\r\n\r\n        public static ViewAction waitFor(final long millis) {\r\n            return new ViewAction() {\r\n                @Override\r\n                public Matcher&lt;View&gt; getConstraints() {\r\n                    return isRoot();\r\n                }\r\n\r\n                @Override\r\n                public String getDescription() {\r\n                    return &quot;Wait for &quot; + millis + &quot; milliseconds.&quot;;\r\n                }\r\n\r\n                @Override\r\n                public void perform(UiController uiController, final View view) {\r\n                    uiController.loopMainThreadForAtLeast(millis);\r\n                }\r\n            };\r\n        }\r\n\r\n        @Before\r\n        public void setUp() throws Exception {\r\n            loginActivity = activityTestRule.getActivity();\r\n\r\n            //clears all system dialogs\r\n            loginActivity.sendBroadcast(new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS));\r\n        }\r\n\r\n        @Test\r\n        public void testDialogButtonClick() throws Throwable {\r\n            onView(withId(R.id.activityLoginButtonEnter)).perform(click());\r\n            onView(withId(R.id.activityLoginDialogButton)).perform(click());\r\n            onView(withText(&quot;TEXT&quot;)).inRoot(new ToastMatcher())\r\n                    .check(matches(withText(&quot;TEXT&quot;)));\r\n        }\r\n\r\n        @After\r\n        public void tearDown() throws Exception {\r\n            loginActivity = null;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\nThe problem is that this part of the code: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    onView(withText(&quot;toast text&quot;)).inRoot(new ToastMatcher())\r\n                    .check(matches(withText(&quot;toast text&quot;)));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nthrows an `error`:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    androidx.test.espresso.NoMatchingRootException: Matcher &#39;is toast&#39; did not match any of the following roots: [Root{application-window-token=android.view.ViewRootImpl$W@a78c87f, window-token=android.view.ViewRootImpl$W@a78c87f, has-window-focus=true, layout-params-type=2, layout-params-string={(0,0)(wrapxwrap) gr=CENTER sim={adjust=pan} ty=APPLICATION fmt=TRANSPARENT wanim=0x10302ff\r\n      fl=DIM_BEHIND SPLIT_TOUCH HARDWARE_ACCELERATED\r\n      fitTypes=STATUS_BARS NAVIGATION_BARS CAPTION_BAR}, decor-view-string=DecorView{id=-1, visibility=VISIBLE, width=1144, height=1300, has-focus=false, has-focusable=true, has-window-focus=true, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params={(0,0)(wrapxwrap) gr=CENTER sim={adjust=pan} ty=APPLICATION fmt=TRANSPARENT wanim=0x10302ff\r\n      fl=DIM_BEHIND SPLIT_TOUCH HARDWARE_ACCELERATED\r\n      fitTypes=STATUS_BARS NAVIGATION_BARS CAPTION_BAR}, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0, child-count=1}}, Root{application-window-token=android.view.ViewRootImpl$W@3be404c, window-token=android.view.ViewRootImpl$W@3be404c, has-window-focus=false, layout-params-type=1, layout-params-string={(0,0)(fillxfill) sim={adjust=pan} ty=BASE_APPLICATION wanim=0x10302fe\r\n      fl=LAYOUT_IN_SCREEN LAYOUT_INSET_DECOR SPLIT_TOUCH HARDWARE_ACCELERATED DRAWS_SYSTEM_BAR_BACKGROUNDS\r\n      pfl=FORCE_DRAW_STATUS_BAR_BACKGROUND FIT_INSETS_CONTROLLED\r\n      fitSides=}, decor-view-string=DecorView{id=-1, visibility=VISIBLE, width=2560, height=1600, has-focus=false, has-focusable=true, has-window-focus=false, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params={(0,0)(fillxfill) sim={adjust=pan} ty=BASE_APPLICATION wanim=0x10302fe\r\n      fl=LAYOUT_IN_SCREEN LAYOUT_INSET_DECOR SPLIT_TOUCH HARDWARE_ACCELERATED DRAWS_SYSTEM_BAR_BACKGROUNDS\r\n      pfl=FORCE_DRAW_STATUS_BAR_BACKGROUND FIT_INSETS_CONTROLLED\r\n      fitSides=}, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0, child-count=3}}]\r\n    \tat dalvik.system.VMStack.getThreadStackTrace(Native Method)\r\n    \tat java.lang.Thread.getStackTrace(Thread.java:1736)\r\n    \tat androidx.test.espresso.base.DefaultFailureHandler.getUserFriendlyError(DefaultFailureHandler.java:12)\r\n    \tat androidx.test.espresso.base.DefaultFailureHandler.handle(DefaultFailureHandler.java:7)\r\n    \tat androidx.test.espresso.ViewInteraction.waitForAndHandleInteractionResults(ViewInteraction.java:8)\r\n    \tat androidx.test.espresso.ViewInteraction.check(ViewInteraction.java:12)\r\n    \tat com.android_pokladna.LoginActivity.LoginActivityTest.testDialogButtonClick(LoginActivityTest.java:116)\r\n\r\n    Tests ran to completion.\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn the `test` class I use ToastMatcher class which looks like this: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.android_pokladna.LoginActivity;\r\n\r\n    import android.os.IBinder;\r\n\r\n    import android.view.WindowManager;\r\n\r\n    import androidx.test.espresso.Root;\r\n\r\n    import org.hamcrest.Description;\r\n    import org.hamcrest.TypeSafeMatcher;\r\n\r\n\r\n    public class ToastMatcher extends TypeSafeMatcher&lt;Root&gt; {\r\n        /*\r\n           Author: http://www.qaautomated.com/2016/01/how-to-test-toast-message-using-espresso.html\r\n        */\r\n\r\n        @Override    public void describeTo(Description description) {\r\n            description.appendText(&quot;is toast&quot;);\r\n        }\r\n\r\n        @Override    public boolean matchesSafely(Root root) {\r\n            int type = root.getWindowLayoutParams().get().type;\r\n            if ((type == WindowManager.LayoutParams.TYPE_TOAST)) {\r\n                IBinder windowToken = root.getDecorView().getWindowToken();\r\n                IBinder appToken = root.getDecorView().getApplicationWindowToken();\r\n                if (windowToken == appToken) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI already saw that many people have similar problem. I did this according to one video where test is successfully done: `https://www.youtube.com/watch?v=L037q8MGkGA&amp;ab_channel=CodingWithMitch`\r\nHis videos are really helpful but I don&#39;t understand the error I am getting.\r\nThe test takes a while to complete and when `toast` is getting tested. It is already gone and maybe that is why it is throwing an error.\r\n\r\nIf anyone could help me, I would really appreciate that. Thank you for your help!","title":"androidx.test.espresso.NoMatchingRootException: Matcher &#39;is toast&#39; did not match any of the following roots:","body":"<p>Recently I had a problem with <code>JUnit Testing</code> of a <code>Toast</code>.</p>\n<p>In my <code>LoginActivity</code> class I have a <code>Button</code> with that calls this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Toast.makeText(LoginActivity.this, \"toast text\", Toast.LENGTH_SHORT).show();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is a <code>LoginActivityTest</code> class</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.android_pokladna.LoginActivity;\n\nimport android.app.Dialog;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.test.core.app.ActivityScenario;\nimport androidx.test.espresso.UiController;\nimport androidx.test.espresso.ViewAction;\nimport androidx.test.rule.ActivityTestRule;\n\nimport com.android_pokladna.Model.Login.LoginRequest;\nimport com.android_pokladna.Model.Login.LoginResponse;\nimport com.android_pokladna.Other.TokenSaver;\nimport com.android_pokladna.R;\nimport com.android_pokladna.ShopActivity.ShopActivity;\nimport com.android_pokladna.api.ApiClientandService.ApiCallback;\nimport com.android_pokladna.api.ApiClientandService.ApiClient;\n\nimport org.hamcrest.Matcher;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\n\nimport java.util.concurrent.TimeUnit;\n\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\nimport static androidx.test.espresso.Espresso.onView;\nimport static androidx.test.espresso.action.ViewActions.click;\nimport static androidx.test.espresso.action.ViewActions.typeText;\nimport static androidx.test.espresso.assertion.ViewAssertions.doesNotExist;\nimport static androidx.test.espresso.assertion.ViewAssertions.matches;\nimport static androidx.test.espresso.matcher.RootMatchers.isDialog;\nimport static androidx.test.espresso.matcher.RootMatchers.isFocusable;\nimport static androidx.test.espresso.matcher.RootMatchers.isPlatformPopup;\nimport static androidx.test.espresso.matcher.RootMatchers.withDecorView;\nimport static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\nimport static androidx.test.espresso.matcher.ViewMatchers.isRoot;\nimport static androidx.test.espresso.matcher.ViewMatchers.withId;\nimport static androidx.test.espresso.matcher.ViewMatchers.withText;\nimport static androidx.test.internal.runner.junit4.statement.UiThreadStatement.runOnUiThread;\nimport static org.hamcrest.Matchers.endsWith;\nimport static org.hamcrest.Matchers.is;\nimport static org.hamcrest.Matchers.not;\nimport static org.junit.Assert.*;\n\n\npublic class LoginActivityTest {\n\n    @Rule\n    public ActivityTestRule&lt;LoginActivity&gt; activityTestRule = new ActivityTestRule(LoginActivity.class);\n    private LoginActivity loginActivity = null;\n\n\n    public static ViewAction waitFor(final long millis) {\n        return new ViewAction() {\n            @Override\n            public Matcher&lt;View&gt; getConstraints() {\n                return isRoot();\n            }\n\n            @Override\n            public String getDescription() {\n                return \"Wait for \" + millis + \" milliseconds.\";\n            }\n\n            @Override\n            public void perform(UiController uiController, final View view) {\n                uiController.loopMainThreadForAtLeast(millis);\n            }\n        };\n    }\n\n    @Before\n    public void setUp() throws Exception {\n        loginActivity = activityTestRule.getActivity();\n\n        //clears all system dialogs\n        loginActivity.sendBroadcast(new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS));\n    }\n\n    @Test\n    public void testDialogButtonClick() throws Throwable {\n        onView(withId(R.id.activityLoginButtonEnter)).perform(click());\n        onView(withId(R.id.activityLoginDialogButton)).perform(click());\n        onView(withText(\"TEXT\")).inRoot(new ToastMatcher())\n                .check(matches(withText(\"TEXT\")));\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        loginActivity = null;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n\nThe problem is that this part of the code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>onView(withText(\"toast text\")).inRoot(new ToastMatcher())\n                .check(matches(withText(\"toast text\")));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>throws an <code>error</code>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>androidx.test.espresso.NoMatchingRootException: Matcher 'is toast' did not match any of the following roots: [Root{application-window-token=android.view.ViewRootImpl$W@a78c87f, window-token=android.view.ViewRootImpl$W@a78c87f, has-window-focus=true, layout-params-type=2, layout-params-string={(0,0)(wrapxwrap) gr=CENTER sim={adjust=pan} ty=APPLICATION fmt=TRANSPARENT wanim=0x10302ff\n  fl=DIM_BEHIND SPLIT_TOUCH HARDWARE_ACCELERATED\n  fitTypes=STATUS_BARS NAVIGATION_BARS CAPTION_BAR}, decor-view-string=DecorView{id=-1, visibility=VISIBLE, width=1144, height=1300, has-focus=false, has-focusable=true, has-window-focus=true, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params={(0,0)(wrapxwrap) gr=CENTER sim={adjust=pan} ty=APPLICATION fmt=TRANSPARENT wanim=0x10302ff\n  fl=DIM_BEHIND SPLIT_TOUCH HARDWARE_ACCELERATED\n  fitTypes=STATUS_BARS NAVIGATION_BARS CAPTION_BAR}, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0, child-count=1}}, Root{application-window-token=android.view.ViewRootImpl$W@3be404c, window-token=android.view.ViewRootImpl$W@3be404c, has-window-focus=false, layout-params-type=1, layout-params-string={(0,0)(fillxfill) sim={adjust=pan} ty=BASE_APPLICATION wanim=0x10302fe\n  fl=LAYOUT_IN_SCREEN LAYOUT_INSET_DECOR SPLIT_TOUCH HARDWARE_ACCELERATED DRAWS_SYSTEM_BAR_BACKGROUNDS\n  pfl=FORCE_DRAW_STATUS_BAR_BACKGROUND FIT_INSETS_CONTROLLED\n  fitSides=}, decor-view-string=DecorView{id=-1, visibility=VISIBLE, width=2560, height=1600, has-focus=false, has-focusable=true, has-window-focus=false, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params={(0,0)(fillxfill) sim={adjust=pan} ty=BASE_APPLICATION wanim=0x10302fe\n  fl=LAYOUT_IN_SCREEN LAYOUT_INSET_DECOR SPLIT_TOUCH HARDWARE_ACCELERATED DRAWS_SYSTEM_BAR_BACKGROUNDS\n  pfl=FORCE_DRAW_STATUS_BAR_BACKGROUND FIT_INSETS_CONTROLLED\n  fitSides=}, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0, child-count=3}}]\n    at dalvik.system.VMStack.getThreadStackTrace(Native Method)\n    at java.lang.Thread.getStackTrace(Thread.java:1736)\n    at androidx.test.espresso.base.DefaultFailureHandler.getUserFriendlyError(DefaultFailureHandler.java:12)\n    at androidx.test.espresso.base.DefaultFailureHandler.handle(DefaultFailureHandler.java:7)\n    at androidx.test.espresso.ViewInteraction.waitForAndHandleInteractionResults(ViewInteraction.java:8)\n    at androidx.test.espresso.ViewInteraction.check(ViewInteraction.java:12)\n    at com.android_pokladna.LoginActivity.LoginActivityTest.testDialogButtonClick(LoginActivityTest.java:116)\n\nTests ran to completion.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In the <code>test</code> class I use ToastMatcher class which looks like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.android_pokladna.LoginActivity;\n\nimport android.os.IBinder;\n\nimport android.view.WindowManager;\n\nimport androidx.test.espresso.Root;\n\nimport org.hamcrest.Description;\nimport org.hamcrest.TypeSafeMatcher;\n\n\npublic class ToastMatcher extends TypeSafeMatcher&lt;Root&gt; {\n    /*\n       Author: http://www.qaautomated.com/2016/01/how-to-test-toast-message-using-espresso.html\n    */\n\n    @Override    public void describeTo(Description description) {\n        description.appendText(\"is toast\");\n    }\n\n    @Override    public boolean matchesSafely(Root root) {\n        int type = root.getWindowLayoutParams().get().type;\n        if ((type == WindowManager.LayoutParams.TYPE_TOAST)) {\n            IBinder windowToken = root.getDecorView().getWindowToken();\n            IBinder appToken = root.getDecorView().getApplicationWindowToken();\n            if (windowToken == appToken) {\n                return true;\n            }\n        }\n        return false;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I already saw that many people have similar problem. I did this according to one video where test is successfully done: <code>https://www.youtube.com/watch?v=L037q8MGkGA&amp;ab_channel=CodingWithMitch</code>\nHis videos are really helpful but I don't understand the error I am getting.\nThe test takes a while to complete and when <code>toast</code> is getting tested. It is already gone and maybe that is why it is throwing an error.</p>\n<p>If anyone could help me, I would really appreciate that. Thank you for your help!</p>\n"},{"tags":["java","maven","jhipster"],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656583478,"creation_date":1656579066,"answer_id":72812897,"question_id":72811462,"body_markdown":"You chose to use JHipster registry to serve configuration and to scale up, so when you run your app in production mode you must start jhipster-registry application and also make sure you have copied the application properties to the registry repository (either git or a directory).\r\n\r\nSame thing for all dependencies on external systems like your MySQL database.\r\n\r\nEasiest way to start them in local development environment is to use docker-compose, see official doc for details: https://www.jhipster.tech/docker-compose/\r\n\r\nIf you want only to build your app (not running it) using `prod` profile, you can do it without external systems, you just need to specify the `package` goal: `mvnw -Pprod package`","title":"JHipster: run production profile on localhost","body":"<p>You chose to use JHipster registry to serve configuration and to scale up, so when you run your app in production mode you must start jhipster-registry application and also make sure you have copied the application properties to the registry repository (either git or a directory).</p>\n<p>Same thing for all dependencies on external systems like your MySQL database.</p>\n<p>Easiest way to start them in local development environment is to use docker-compose, see official doc for details: <a href=\"https://www.jhipster.tech/docker-compose/\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/docker-compose/</a></p>\n<p>If you want only to build your app (not running it) using <code>prod</code> profile, you can do it without external systems, you just need to specify the <code>package</code> goal: <code>mvnw -Pprod package</code></p>\n"},{"tags":[],"owner":{"account_id":21908317,"reputation":77,"user_id":16193069,"display_name":"ZonG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656639188,"creation_date":1656639188,"answer_id":72823569,"question_id":72811462,"body_markdown":"Ok, so I just post here for other begineers or my future reference (only run for localhost, not cloud). Running `dev` mode is easy, just use `mvnw` after generating application. However, for `prod` mode, there are 2 ways to start:\r\n\r\n**First way (when you choose to use JHipster Registry):**\r\n\r\n 1.  after generating application, `./mvnw package -Pprod verify jib:dockerBuild` or `./mvnw -Pprod package verify jib:dockerBuild --offline`\r\n 2. run another console/terminal, `docker-compose -f src/main/docker/app.yml up`, it will run all required services (database, JHipster Registry ,etc)\r\n 3. run `./mvnw -Pprod` , the application should be running successfully.\r\n\r\n**Second way (not choosing JHipster Registry):**\r\n\r\n 1. just run `docker-compose -f src/main/docker/mysql.yml up\r\n` instead of `./mvnw -Pprod`, it will automatically run the application successfully.\r\n\r\n*NOTE: the **mysql** inside `docker-compose -f src/main/docker/mysql.yml up` can be changed depends on your chosen database.\r\n\r\nAlso, I did not connect to any external database.\r\n\r\n","title":"JHipster: run production profile on localhost","body":"<p>Ok, so I just post here for other begineers or my future reference (only run for localhost, not cloud). Running <code>dev</code> mode is easy, just use <code>mvnw</code> after generating application. However, for <code>prod</code> mode, there are 2 ways to start:</p>\n<p><strong>First way (when you choose to use JHipster Registry):</strong></p>\n<ol>\n<li>after generating application, <code>./mvnw package -Pprod verify jib:dockerBuild</code> or <code>./mvnw -Pprod package verify jib:dockerBuild --offline</code></li>\n<li>run another console/terminal, <code>docker-compose -f src/main/docker/app.yml up</code>, it will run all required services (database, JHipster Registry ,etc)</li>\n<li>run <code>./mvnw -Pprod</code> , the application should be running successfully.</li>\n</ol>\n<p><strong>Second way (not choosing JHipster Registry):</strong></p>\n<ol>\n<li>just run <code>docker-compose -f src/main/docker/mysql.yml up </code> instead of <code>./mvnw -Pprod</code>, it will automatically run the application successfully.</li>\n</ol>\n<p>*NOTE: the <strong>mysql</strong> inside <code>docker-compose -f src/main/docker/mysql.yml up</code> can be changed depends on your chosen database.</p>\n<p>Also, I did not connect to any external database.</p>\n"}],"owner":{"account_id":21908317,"reputation":77,"user_id":16193069,"display_name":"ZonG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72812897,"answer_count":2,"score":1,"last_activity_date":1656639188,"creation_date":1656572190,"question_id":72811462,"body_markdown":"I am new to JHipster and I found it is easy to generate a application without sweat. I tried to generate a simple monolithic application and ran on dev mode and it worked like charm. However, when I want to run production mode using &quot;./mvnw -Pprod&quot; it shows error: \r\n\r\n     2022-06-30 14:52:30.639 ERROR 9088 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    java.lang.IllegalStateException: Could not locate PropertySource and the fail fast property is set, failing\r\n    \tat org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.locate(ConfigServicePropertySourceLocator.java:148)\r\n    \tat org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:51)\r\n    \tat org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.locateCollection(ConfigServicePropertySourceLocator.java:160)\r\n    \tat org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:95)\r\n    \tat org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:613)\r\n    \tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:381)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n    \tat com.sample.JtestingApp.main(JtestingApp.java:69)\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8761/config/Jtesting/prod/main&quot;: Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n    \tat org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.getRemoteEnvironment(ConfigServicePropertySourceLocator.java:255)\r\n    \tat org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.locate(ConfigServicePropertySourceLocator.java:109)\r\n    \t... 7 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:609)\r\n    \tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\r\n    \tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\r\n    \tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n    \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n    \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n    \t... 11 common frames omitted\r\n    \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  03:53 min\r\n    [INFO] Finished at: 2022-06-30T14:52:30+08:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:run (default-cli) on project jtesting: Application finished with exit code: 1 -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\nThese are my choices when I generating application in case you need it:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NG8VF.png\r\n\r\n\r\nI didn&#39;t edit or change any coding so far because I want to see the difference of dev and prod. And I did searched on other posts but still not success to run on prod mode..\r\nAny form of help is appreciated. Thanks!","title":"JHipster: run production profile on localhost","body":"<p>I am new to JHipster and I found it is easy to generate a application without sweat. I tried to generate a simple monolithic application and ran on dev mode and it worked like charm. However, when I want to run production mode using &quot;./mvnw -Pprod&quot; it shows error:</p>\n<pre><code> 2022-06-30 14:52:30.639 ERROR 9088 --- [           main] o.s.boot.SpringApplication               : Application run failed\njava.lang.IllegalStateException: Could not locate PropertySource and the fail fast property is set, failing\n    at org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.locate(ConfigServicePropertySourceLocator.java:148)\n    at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:51)\n    at org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.locateCollection(ConfigServicePropertySourceLocator.java:160)\n    at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:95)\n    at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:613)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:381)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at com.sample.JtestingApp.main(JtestingApp.java:69)\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8761/config/Jtesting/prod/main&quot;: Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n    at org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.getRemoteEnvironment(ConfigServicePropertySourceLocator.java:255)\n    at org.springframework.cloud.config.client.ConfigServicePropertySourceLocator.locate(ConfigServicePropertySourceLocator.java:109)\n    ... 7 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n    at java.base/java.net.Socket.connect(Socket.java:609)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n    ... 11 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  03:53 min\n[INFO] Finished at: 2022-06-30T14:52:30+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:run (default-cli) on project jtesting: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>These are my choices when I generating application in case you need it:\n<a href=\"https://i.stack.imgur.com/NG8VF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NG8VF.png\" alt=\"enter image description here\" /></a></p>\n<p>I didn't edit or change any coding so far because I want to see the difference of dev and prod. And I did searched on other posts but still not success to run on prod mode..\nAny form of help is appreciated. Thanks!</p>\n"},{"tags":["java","background-process","processbuilder"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1564932773,"post_id":57347860,"comment_id":101183454,"body_markdown":"Possible duplicate of [How to run a proccess completely seperate in Java](https://stackoverflow.com/questions/34841694/how-to-run-a-proccess-completely-seperate-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/34841694/how-to-run-a-proccess-completely-seperate-in-java\">How to run a proccess completely seperate in Java</a>"},{"owner":{"account_id":9765084,"reputation":124,"user_id":7238830,"display_name":"Philipp Hemmelmayr"},"score":0,"creation_date":1564933091,"post_id":57347860,"comment_id":101183538,"body_markdown":"prepending `nohup` to the command did nothing","body":"prepending <code>nohup</code> to the command did nothing"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1564933708,"post_id":57347860,"comment_id":101183670,"body_markdown":"Please edit your question on how you tried to use the `nohup` command and describe how this solution fails in your case.","body":"Please edit your question on how you tried to use the <code>nohup</code> command and describe how this solution fails in your case."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1564934763,"post_id":57347860,"comment_id":101183934,"body_markdown":"Use &quot;start&quot; and/or &quot;cmd&quot; when you are on windows, see https://stackoverflow.com/questions/11394394/how-do-i-run-command-line-from-java-code-in-the-background","body":"Use &quot;start&quot; and/or &quot;cmd&quot; when you are on windows, see <a href=\"https://stackoverflow.com/questions/11394394/how-do-i-run-command-line-from-java-code-in-the-background\" title=\"how do i run command line from java code in the background\">stackoverflow.com/questions/11394394/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9765084,"reputation":124,"user_id":7238830,"display_name":"Philipp Hemmelmayr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1565006229,"creation_date":1565006229,"answer_id":57358147,"question_id":57347860,"body_markdown":"According to https://pubs.opengroup.org/onlinepubs/9699919799/functions/exec.html#tag_16_111_03 if parent processes ignore signals, their children will too.\r\n\r\nSo the easy fix here is to start my parent java process with `nohup` or append a `&amp;`","title":"Java ProcessBuilder daemon process redirect output to file without terminating process after exiting jvm","body":"<p>According to <a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/functions/exec.html#tag_16_111_03\" rel=\"nofollow noreferrer\">https://pubs.opengroup.org/onlinepubs/9699919799/functions/exec.html#tag_16_111_03</a> if parent processes ignore signals, their children will too.</p>\n\n<p>So the easy fix here is to start my parent java process with <code>nohup</code> or append a <code>&amp;</code></p>\n"},{"tags":[],"owner":{"account_id":8905757,"reputation":11,"user_id":6647634,"display_name":"feng liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656638702,"creation_date":1656470874,"answer_id":72795237,"question_id":57347860,"body_markdown":"before start this process, redirect input,output and erorr string to other file, then start the process, this process will not be closed after main process exit.","title":"Java ProcessBuilder daemon process redirect output to file without terminating process after exiting jvm","body":"<p>before start this process, redirect input,output and erorr string to other file, then start the process, this process will not be closed after main process exit.</p>\n"}],"owner":{"account_id":9765084,"reputation":124,"user_id":7238830,"display_name":"Philipp Hemmelmayr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":57358147,"answer_count":2,"score":-1,"last_activity_date":1656638702,"creation_date":1564932494,"question_id":57347860,"body_markdown":"I want to recreate `java -jar [jar] &amp;&gt;logfile &amp;` in java via the ProcessBuilder.\r\n\r\nHere&#39;s my current code:\r\n```java\r\nFile outFile = new File(&quot;..&quot;); // logfile\r\nProcessBuilder builder = new ProcessBuilder(args);  // args = [&quot;java&quot;, &quot;-jar&quot;, &quot;[jar]&quot;]\r\nbuilder.redirectError(outFile);\r\nbuilder.redirectOutput(outFile);\r\nProcess process = builder.start();\r\n```\r\n\r\nThe said jar is a web server and is supposed to run forever. But when I exit the java process that spawned the server it is also terminated. \r\n\r\nMy question now is: How do I tell the ProcessBuilder to execute the command in a background thread that doesn&#39;t terminate when the caller exits?\r\n\r\nPrepending the args with `nohup` has not changed this behavior, using:\r\n\r\n `args = [&quot;nohup&quot;, &quot;java&quot;, &quot;-jar&quot;, &quot;[jar]&quot;]`\r\n\r\nI&#39;ve also tried\r\n\r\n`args = [&quot;nohup&quot;, &quot;java&quot;, &quot;-jar&quot;, &quot;[jar]&quot;, &quot;&amp;&quot;]`\r\n\r\nBoth of these do not work, neither on windows or linux","title":"Java ProcessBuilder daemon process redirect output to file without terminating process after exiting jvm","body":"<p>I want to recreate <code>java -jar [jar] &amp;&gt;logfile &amp;</code> in java via the ProcessBuilder.</p>\n\n<p>Here's my current code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>File outFile = new File(\"..\"); // logfile\nProcessBuilder builder = new ProcessBuilder(args);  // args = [\"java\", \"-jar\", \"[jar]\"]\nbuilder.redirectError(outFile);\nbuilder.redirectOutput(outFile);\nProcess process = builder.start();\n</code></pre>\n\n<p>The said jar is a web server and is supposed to run forever. But when I exit the java process that spawned the server it is also terminated. </p>\n\n<p>My question now is: How do I tell the ProcessBuilder to execute the command in a background thread that doesn't terminate when the caller exits?</p>\n\n<p>Prepending the args with <code>nohup</code> has not changed this behavior, using:</p>\n\n<p><code>args = [\"nohup\", \"java\", \"-jar\", \"[jar]\"]</code></p>\n\n<p>I've also tried</p>\n\n<p><code>args = [\"nohup\", \"java\", \"-jar\", \"[jar]\", \"&amp;\"]</code></p>\n\n<p>Both of these do not work, neither on windows or linux</p>\n"},{"tags":["java","spring","spring-boot","vaadin"],"answers":[{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656638627,"creation_date":1656638627,"answer_id":72823538,"question_id":72823067,"body_markdown":"Spring supports role based authorization and multiple authentication providers. So essentially you can give you admin users a special role and require this role in your Vaadin views to prevent ordinary users accessing the admin UI. You can also have separate authentication mechanisms in the same application, for example you could have your users authenticated via LDAP and you admins via a database. You shouldn&#39;t need to do separate application contexts.","title":"Combining Vaadin Admin UI and a REST API","body":"<p>Spring supports role based authorization and multiple authentication providers. So essentially you can give you admin users a special role and require this role in your Vaadin views to prevent ordinary users accessing the admin UI. You can also have separate authentication mechanisms in the same application, for example you could have your users authenticated via LDAP and you admins via a database. You shouldn't need to do separate application contexts.</p>\n"}],"owner":{"account_id":2001733,"reputation":13,"user_id":1792612,"display_name":"stba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72823538,"answer_count":1,"score":0,"last_activity_date":1656638627,"creation_date":1656632516,"question_id":72823067,"body_markdown":"Im working on an Spring Boot application which should have two parts: One Admin UI-Part done in Vaadin and one part consisting of REST-API Endpoints for a native application to consume.\r\n\r\nAuthentication of the Admin UI (Form-Login) should be completely different from the REST API (e.g. Basic Auth with a fixed token, or a token from the database). \r\n\r\nWhat would be the best way to achive this? Since it&#39;s basically two different applications having the Data-access in common would it make sense / be possible two instanciate two spring application contexts? Or is it enough to configure spring security in a special way for example? Just adding a RestController and excluding the URL from SpringSecurity already brings me halfway to the solution, but what if I also want authentication for my REST-API? But completely different with its own application provider basically. ","title":"Combining Vaadin Admin UI and a REST API","body":"<p>Im working on an Spring Boot application which should have two parts: One Admin UI-Part done in Vaadin and one part consisting of REST-API Endpoints for a native application to consume.</p>\n<p>Authentication of the Admin UI (Form-Login) should be completely different from the REST API (e.g. Basic Auth with a fixed token, or a token from the database).</p>\n<p>What would be the best way to achive this? Since it's basically two different applications having the Data-access in common would it make sense / be possible two instanciate two spring application contexts? Or is it enough to configure spring security in a special way for example? Just adding a RestController and excluding the URL from SpringSecurity already brings me halfway to the solution, but what if I also want authentication for my REST-API? But completely different with its own application provider basically.</p>\n"},{"tags":["java","serialization","io","weka","feature-extraction"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1490305244,"post_id":42987227,"comment_id":73066691,"body_markdown":"A good rule-of-thumb with this kind of stack trace is to look at the first line of the stack trace that relates to one of YOUR files.  In this case, I&#39;m guessing that&#39;s featureExtractor/Classify.java and the problem is on line 72.","body":"A good rule-of-thumb with this kind of stack trace is to look at the first line of the stack trace that relates to one of YOUR files.  In this case, I&#39;m guessing that&#39;s featureExtractor/Classify.java and the problem is on line 72."},{"owner":{"account_id":8773308,"reputation":13,"user_id":6559323,"display_name":"Sanya"},"score":0,"creation_date":1490305598,"post_id":42987227,"comment_id":73066858,"body_markdown":"Ya exactly. I still can&#39;t figure out what the actual problem is.","body":"Ya exactly. I still can&#39;t figure out what the actual problem is."},{"owner":{"account_id":8773308,"reputation":13,"user_id":6559323,"display_name":"Sanya"},"score":0,"creation_date":1490305684,"post_id":42987227,"comment_id":73066896,"body_markdown":"This is the problematic line maybe? &quot;Classifier cls = (Classifier)weka.core.SerializationHelper.read(curDir+&quot;/src/resources/MetaBag.model&quot;);&quot;","body":"This is the problematic line maybe? &quot;Classifier cls = (Classifier)weka.core.SerializationHelper.read(curDir+&quot;/src/&zwnj;&#8203;resources/MetaBag.mo&zwnj;&#8203;del&quot;);&quot;"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1490307053,"post_id":42987227,"comment_id":73067503,"body_markdown":"Quite likely.  The message indicates that there&#39;s a class which has changed between when you serialised the content of that file (MetaBag.model) and when you&#39;re trying to deserialise it.  I&#39;m not sure which class, but maybe `Bagging` in the weka library.  But whichever class it is, you need to save and read the same version of it.  Looks like the weka library isn&#39;t particularly backward compatible.","body":"Quite likely.  The message indicates that there&#39;s a class which has changed between when you serialised the content of that file (MetaBag.model) and when you&#39;re trying to deserialise it.  I&#39;m not sure which class, but maybe <code>Bagging</code> in the weka library.  But whichever class it is, you need to save and read the same version of it.  Looks like the weka library isn&#39;t particularly backward compatible."}],"answers":[{"tags":[],"owner":{"account_id":17235634,"reputation":1,"user_id":12479180,"display_name":"Asiri Gawesha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656637957,"creation_date":1656513210,"answer_id":72803200,"question_id":42987227,"body_markdown":"[Weka-Android for Weka 3.8.1](https://github.com/MeiyappanKannappa/Weka-Android).  \r\n\r\nYou can successfully load a .model file save using Weka 3.8.6.\r\n\r\nThis solved the model loading problem due to UUID mismatch.\r\n","title":"java.io.InvalidClassException: weka.classifiers.meta.Bagging; class incompatible","body":"<p><a href=\"https://github.com/MeiyappanKannappa/Weka-Android\" rel=\"nofollow noreferrer\">Weka-Android for Weka 3.8.1</a>.</p>\n<p>You can successfully load a .model file save using Weka 3.8.6.</p>\n<p>This solved the model loading problem due to UUID mismatch.</p>\n"}],"owner":{"account_id":8773308,"reputation":13,"user_id":6559323,"display_name":"Sanya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656637957,"creation_date":1490304079,"question_id":42987227,"body_markdown":"I am trying to develop a program that automatically detects mood of the song. I transfered my project from one laptop to another. completed there and there is an error which keeps coming up. Have searched a lot yet found no solution. \r\nhere is the code where the problem persists.\r\n    package featureExtractor;\r\n\r\n    import java.awt.Graphics;\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectInputStream.GetField;\r\n    import java.io.ObjectStreamClass;\r\n    import java.nio.file.CopyOption;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardCopyOption;\r\n    import java.io.Serializable;\r\n\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JWindow;\r\n\r\n    import ui.Test;\r\n    import weka.classifiers.Classifier;\r\n    import weka.core.Attribute;\r\n    import weka.core.Instances;\r\n    import weka.gui.Main;\r\n    import weka.gui.visualize.VisualizePanel;\r\n\r\n\r\n    public class Classify{\r\n\tstatic String curDir = System.getProperty(&quot;user.dir&quot;);\r\n\tprivate static String happy = curDir+&quot;\\\\Playlists\\\\Happy&quot;;\r\n\tprivate static String rel = curDir+&quot;\\\\Playlists\\\\Relaxed&quot;;\r\n\tprivate static String rom = curDir+&quot;\\\\Playlists\\\\Romantic&quot;;\r\n\tprivate static String sad = curDir+&quot;\\\\Playlists\\\\Sad&quot;;\r\n\r\n\t\r\n\tprivate static Test aa ;\r\n\tpublic static String[] mood;\r\n\tstatic CopyOption[] options = new CopyOption[]{\r\n\t\t\tStandardCopyOption.REPLACE_EXISTING,\r\n\t\t\tStandardCopyOption.COPY_ATTRIBUTES\r\n\t}; \r\n\r\n\tpublic Classify(Test test) {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t\tClassify.aa=test;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws Exception\r\n\t{\r\n\r\n\r\n\t\tIcon icon=null;\r\n\t\tPath original = Paths.get(aa.getFile().getAbsolutePath());\r\n\r\n\t\tFile file = new File(aa.getFile().getAbsolutePath());\r\n\r\n\t\tSystem.out.println(&quot;Classifying&quot;);\r\n\r\n\r\n\r\n\t\tBufferedReader reader = new BufferedReader(new FileReader(args[0]));\r\n\r\n\t\tInstances data = new Instances(reader);\r\n\t\treader.close();\r\n\r\n\t\tdata.setClassIndex(data.numAttributes()-1);\r\n\r\n\t\tClassifier cls = (Classifier)weka.core.SerializationHelper.read(curDir+&quot;/src/resources/MetaBag.model&quot;);\r\n\t\tmood = new String[data.numInstances()];\r\n\t\tif(data.numInstances()==1)\r\n\t\t{\r\n\t\t\tdouble b = cls.classifyInstance((data.instance(0)));\r\n\t\t\tAttribute a1 = data.classAttribute();\r\n\t\t\tString moodSin = a1.value((int) b);\r\n\r\n\t\t\tswitch(moodSin)\r\n\t\t\t{\r\n\t\t\tcase &quot;Happy&quot;:\r\n\t\t\t\ticon = (Icon)(new ImageIcon(ClassLoader.getSystemResource(&quot;resources/happy.png&quot;)));\r\n\t\t\t\tjava.nio.file.Files.copy(original,Paths.get(happy+&quot;/&quot;+file.getName()), options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Romantic&quot;:\r\n\t\t\t\ticon = (Icon)new ImageIcon(ClassLoader.getSystemResource(&quot;resources/rom.jpg&quot;));\r\n\t\t\t\tjava.nio.file.Files.copy(original,Paths.get(rom+&quot;/&quot;+file.getName()), options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Sad&quot;:\r\n\t\t\t\ticon = (Icon)new ImageIcon(ClassLoader.getSystemResource(&quot;resources/sad.png&quot;));\r\n\t\t\t\tjava.nio.file.Files.copy(original,Paths.get(sad+&quot;/&quot;+file.getName()), options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Relaxed&quot;:\r\n\t\t\t\ticon = (Icon)new ImageIcon(ClassLoader.getSystemResource(&quot;resources/relaxed.png&quot;));\r\n\t\t\t\tjava.nio.file.Files.copy(original,Paths.get(rel+&quot;/&quot;+file.getName()), options);\r\n\r\n\t\t\t}\r\n\t\t\tJOptionPane.showMessageDialog((Main.getFrames())[0], &quot;The Mood of the song is &quot; +moodSin, &quot;And the Mood is&quot;, JOptionPane.INFORMATION_MESSAGE, icon);\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor(int i=0;i&lt;data.numInstances();i++)\r\n\t\t\t{\r\n\r\n\t\t\t\tdouble b = cls.classifyInstance((data.instance(i)));\r\n\t\t\t\tAttribute a1 = data.classAttribute();\r\n\t\t\t\tmood[i] = a1.value((int) b);\r\n\t\t\t\tupdateDisplay(i,mood[i]);\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmakePlaylist();\r\n\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void updateDisplay(int i,String mood)\r\n\t{\r\n\t\tString temp = aa.getFileNames()[i];\r\n\t\taa.getTextArea().append((i+1)+ &quot;. &quot;+ temp +&quot; - &quot;+ mood+System.getProperty(&quot;line.separator&quot;));\r\n\r\n\t}\r\n\r\n\tpublic static void makePlaylist()\r\n\t{\tString[] temp = aa.getFileNames();\r\n\t    aa.getTextArea().append(&quot;Creating Playlist&quot;+System.getProperty(&quot;line.separator&quot;));\r\n\tfor(int i=0;i&lt;aa.getFileNames().length;i++)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tswitch(mood[i])\r\n\t\t\t{\r\n\t\t\tcase &quot;Happy&quot;:\r\n\t\t\t\tjava.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(happy+&quot;/&quot;+new File(temp[i]).getName()), options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Romantic&quot;:\r\n\t\t\t\tjava.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(rom+&quot;/&quot;+new File(temp[i]).getName()), options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Sad&quot;:\r\n\t\t\t\tjava.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(sad+&quot;/&quot;+new File(temp[i]).getName()), options);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Relaxed&quot;:\r\n\t\t\t\tjava.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(rel+&quot;/&quot;+new File(temp[i]).getName()), options);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\taa.getTextArea().append(&quot;Playlist Created&quot;+System.getProperty(&quot;line.separator&quot;));\r\n\tJOptionPane.showMessageDialog((Main.getFrames())[0], &quot;Playlist Created. Please check the Progress Box for the results&quot;, &quot;All Done!&quot;, JOptionPane.INFORMATION_MESSAGE,null );\r\n\t}\r\n}\r\n\r\nAnd here is the error.\r\n\r\n    java.io.InvalidClassException: weka.classifiers.meta.Bagging; local class incompatible: stream classdesc serialVersionUID = -5178288489778728847, local class serialVersionUID = -115879962237199703\r\n\tat java.io.ObjectStreamClass.initNonProxy(Unknown Source)\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\n\tat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n\tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n\tat java.io.ObjectInputStream.readObject(Unknown Source)\r\n\tat weka.core.SerializationHelper.read(SerializationHelper.java:278)\r\n\tat weka.core.SerializationHelper.read(SerializationHelper.java:263)\r\n\tat featureExtractor.Classify.main(Classify.java:72)\r\n\tat featureExtractor.Addmood.main(Addmood.java:62)\r\n\tat featureExtractor.FeaturesExtractor.main(FeaturesExtractor.java:315)\r\n\tat ui.Test$2$1.run(Test.java:184)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nHave no idea whatsoever this is in first line error, also cannot comprehend why it says &quot;unknown source&quot;.","title":"java.io.InvalidClassException: weka.classifiers.meta.Bagging; class incompatible","body":"<p>I am trying to develop a program that automatically detects mood of the song. I transfered my project from one laptop to another. completed there and there is an error which keeps coming up. Have searched a lot yet found no solution. \nhere is the code where the problem persists.\n    package featureExtractor;</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectInputStream.GetField;\nimport java.io.ObjectStreamClass;\nimport java.nio.file.CopyOption;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\nimport java.io.Serializable;\n\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.JWindow;\n\nimport ui.Test;\nimport weka.classifiers.Classifier;\nimport weka.core.Attribute;\nimport weka.core.Instances;\nimport weka.gui.Main;\nimport weka.gui.visualize.VisualizePanel;\n\n\npublic class Classify{\nstatic String curDir = System.getProperty(\"user.dir\");\nprivate static String happy = curDir+\"\\\\Playlists\\\\Happy\";\nprivate static String rel = curDir+\"\\\\Playlists\\\\Relaxed\";\nprivate static String rom = curDir+\"\\\\Playlists\\\\Romantic\";\nprivate static String sad = curDir+\"\\\\Playlists\\\\Sad\";\n\n\nprivate static Test aa ;\npublic static String[] mood;\nstatic CopyOption[] options = new CopyOption[]{\n        StandardCopyOption.REPLACE_EXISTING,\n        StandardCopyOption.COPY_ATTRIBUTES\n}; \n\npublic Classify(Test test) {\n    // TODO Auto-generated constructor stub\n    Classify.aa=test;\n}\n\npublic static void main(String[] args) throws Exception\n{\n\n\n    Icon icon=null;\n    Path original = Paths.get(aa.getFile().getAbsolutePath());\n\n    File file = new File(aa.getFile().getAbsolutePath());\n\n    System.out.println(\"Classifying\");\n\n\n\n    BufferedReader reader = new BufferedReader(new FileReader(args[0]));\n\n    Instances data = new Instances(reader);\n    reader.close();\n\n    data.setClassIndex(data.numAttributes()-1);\n\n    Classifier cls = (Classifier)weka.core.SerializationHelper.read(curDir+\"/src/resources/MetaBag.model\");\n    mood = new String[data.numInstances()];\n    if(data.numInstances()==1)\n    {\n        double b = cls.classifyInstance((data.instance(0)));\n        Attribute a1 = data.classAttribute();\n        String moodSin = a1.value((int) b);\n\n        switch(moodSin)\n        {\n        case \"Happy\":\n            icon = (Icon)(new ImageIcon(ClassLoader.getSystemResource(\"resources/happy.png\")));\n            java.nio.file.Files.copy(original,Paths.get(happy+\"/\"+file.getName()), options);\n            break;\n        case \"Romantic\":\n            icon = (Icon)new ImageIcon(ClassLoader.getSystemResource(\"resources/rom.jpg\"));\n            java.nio.file.Files.copy(original,Paths.get(rom+\"/\"+file.getName()), options);\n            break;\n        case \"Sad\":\n            icon = (Icon)new ImageIcon(ClassLoader.getSystemResource(\"resources/sad.png\"));\n            java.nio.file.Files.copy(original,Paths.get(sad+\"/\"+file.getName()), options);\n            break;\n        case \"Relaxed\":\n            icon = (Icon)new ImageIcon(ClassLoader.getSystemResource(\"resources/relaxed.png\"));\n            java.nio.file.Files.copy(original,Paths.get(rel+\"/\"+file.getName()), options);\n\n        }\n        JOptionPane.showMessageDialog((Main.getFrames())[0], \"The Mood of the song is \" +moodSin, \"And the Mood is\", JOptionPane.INFORMATION_MESSAGE, icon);\n\n    }\n    else\n    {\n        for(int i=0;i&lt;data.numInstances();i++)\n        {\n\n            double b = cls.classifyInstance((data.instance(i)));\n            Attribute a1 = data.classAttribute();\n            mood[i] = a1.value((int) b);\n            updateDisplay(i,mood[i]);       \n        }\n\n        makePlaylist();\n\n\n    }\n}\n\npublic static void updateDisplay(int i,String mood)\n{\n    String temp = aa.getFileNames()[i];\n    aa.getTextArea().append((i+1)+ \". \"+ temp +\" - \"+ mood+System.getProperty(\"line.separator\"));\n\n}\n\npublic static void makePlaylist()\n{   String[] temp = aa.getFileNames();\n    aa.getTextArea().append(\"Creating Playlist\"+System.getProperty(\"line.separator\"));\nfor(int i=0;i&lt;aa.getFileNames().length;i++)\n{\n    try\n    {\n        switch(mood[i])\n        {\n        case \"Happy\":\n            java.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(happy+\"/\"+new File(temp[i]).getName()), options);\n            break;\n        case \"Romantic\":\n            java.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(rom+\"/\"+new File(temp[i]).getName()), options);\n            break;\n        case \"Sad\":\n            java.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(sad+\"/\"+new File(temp[i]).getName()), options);\n            break;\n        case \"Relaxed\":\n            java.nio.file.Files.copy(Paths.get(temp[i]),Paths.get(rel+\"/\"+new File(temp[i]).getName()), options);\n\n        }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\naa.getTextArea().append(\"Playlist Created\"+System.getProperty(\"line.separator\"));\nJOptionPane.showMessageDialog((Main.getFrames())[0], \"Playlist Created. Please check the Progress Box for the results\", \"All Done!\", JOptionPane.INFORMATION_MESSAGE,null );\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And here is the error.</p>\n\n<pre><code>java.io.InvalidClassException: weka.classifiers.meta.Bagging; local class incompatible: stream classdesc serialVersionUID = -5178288489778728847, local class serialVersionUID = -115879962237199703\nat java.io.ObjectStreamClass.initNonProxy(Unknown Source)\nat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\nat java.io.ObjectInputStream.readClassDesc(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat weka.core.SerializationHelper.read(SerializationHelper.java:278)\nat weka.core.SerializationHelper.read(SerializationHelper.java:263)\nat featureExtractor.Classify.main(Classify.java:72)\nat featureExtractor.Addmood.main(Addmood.java:62)\nat featureExtractor.FeaturesExtractor.main(FeaturesExtractor.java:315)\nat ui.Test$2$1.run(Test.java:184)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Have no idea whatsoever this is in first line error, also cannot comprehend why it says \"unknown source\".</p>\n"},{"tags":["java","redis","lettuce"],"comments":[{"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"score":0,"creation_date":1648732385,"post_id":71604409,"comment_id":126703103,"body_markdown":"Was the answer useful to solve your requirement?","body":"Was the answer useful to solve your requirement?"},{"owner":{"account_id":24674411,"reputation":1,"user_id":18569009,"display_name":"R S"},"score":0,"creation_date":1648822577,"post_id":71604409,"comment_id":126728991,"body_markdown":"@Alper Derya, provided links didn&#39;t answer my question. However, they were informative. Thanks.","body":"@Alper Derya, provided links didn&#39;t answer my question. However, they were informative. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648150300,"creation_date":1648150300,"answer_id":71608417,"question_id":71604409,"body_markdown":"I believe that below answer helps you to understand reading byte value from redis-cli.\r\n\r\nhttps://stackoverflow.com/questions/71200069/how-to-read-redis-binary-values-in-redis-console\r\n\r\nHere is also detail explaniton of redis-cli. I hope it makes sense.\r\nhttps://redis.io/docs/manual/cli/\r\n","title":"Unable to view the byte formatted value from redis-cli","body":"<p>I believe that below answer helps you to understand reading byte value from redis-cli.</p>\n<p><a href=\"https://stackoverflow.com/questions/71200069/how-to-read-redis-binary-values-in-redis-console\">How to read Redis binary values in redis console</a></p>\n<p>Here is also detail explaniton of redis-cli. I hope it makes sense.\n<a href=\"https://redis.io/docs/manual/cli/\" rel=\"nofollow noreferrer\">https://redis.io/docs/manual/cli/</a></p>\n"},{"tags":[],"owner":{"account_id":7974931,"reputation":39,"user_id":6018424,"display_name":"thiagozg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654542909,"creation_date":1654542909,"answer_id":72522476,"question_id":71604409,"body_markdown":"The second argument from `RedisCodec` is how you will transmit the value data to Redis Server, which in your case is through `ByteArrayCodec`, once it is retrieved using `get` is serialized back to the original form.","title":"Unable to view the byte formatted value from redis-cli","body":"<p>The second argument from <code>RedisCodec</code> is how you will transmit the value data to Redis Server, which in your case is through <code>ByteArrayCodec</code>, once it is retrieved using <code>get</code> is serialized back to the original form.</p>\n"},{"tags":[],"owner":{"account_id":6120413,"reputation":174,"user_id":4774125,"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656637128,"creation_date":1656637128,"answer_id":72823405,"question_id":71604409,"body_markdown":"What I use to read byte arrays from redis is something like this:\r\n\r\n```\r\nbyte[] value = redisSyncConnection.get(&quot;key&quot;);\r\ntry (ByteArrayInputStream bis = new ByteArrayInputStream(value);\r\n     ObjectInputStream ois = new ObjectInputStream(bis)) {\r\n     String valueString = (String) ois.readObject();\r\n     System.out.println(valueString);\r\n}\r\n```","title":"Unable to view the byte formatted value from redis-cli","body":"<p>What I use to read byte arrays from redis is something like this:</p>\n<pre><code>byte[] value = redisSyncConnection.get(&quot;key&quot;);\ntry (ByteArrayInputStream bis = new ByteArrayInputStream(value);\n     ObjectInputStream ois = new ObjectInputStream(bis)) {\n     String valueString = (String) ois.readObject();\n     System.out.println(valueString);\n}\n</code></pre>\n"}],"owner":{"account_id":24674411,"reputation":1,"user_id":18569009,"display_name":"R S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656637128,"creation_date":1648132473,"question_id":71604409,"body_markdown":"My requirement is that in redis db, keys should be stored as strings and values as byte array.\r\nAnd I am able to achieve the same in java using lettuce&#39;s RedisCodec. But when I view the value through reds-cli it appears to be in original string itself rather than the byte format.  Following is the simple code I am trying with.\r\n\r\n    RedisURI redisURI = RedisURI.builder().withHost(&quot;localhost&quot;)\r\n\t\t\t.withPort(6379)\r\n\t\t\t.build();\r\n\r\n\tRedisClient redisClient = RedisClient.create(redisURI);\r\n\tRedisCommands&lt;String, byte[]&gt; redisCommands = redisClient.connect(RedisCodec.of(new StringCodec(), new ByteArrayCodec())).sync();\r\n\r\n\tredisCommands.set(&quot;key&quot;, &quot;value&quot;.getBytes(StandardCharsets.UTF_8));\r\n\tSystem.out.println(redisCommands.get(&quot;key&quot;));\r\n\r\nConsole O/p : \\[B@3bd7f8dc\r\n\r\nredis-cli o/p:\r\n\r\n127\\.0.0.1:6379\\&gt; get key\r\n\r\n&quot;value&quot;\r\n\r\nI am using lettuce as redis client. I am unable to understand why the value I obtained from redis-cli is in string itself rather than the byte format.\r\n\r\nAny help is appreciated. Thanks in advance.","title":"Unable to view the byte formatted value from redis-cli","body":"<p>My requirement is that in redis db, keys should be stored as strings and values as byte array.\nAnd I am able to achieve the same in java using lettuce's RedisCodec. But when I view the value through reds-cli it appears to be in original string itself rather than the byte format.  Following is the simple code I am trying with.</p>\n<pre><code>RedisURI redisURI = RedisURI.builder().withHost(&quot;localhost&quot;)\n        .withPort(6379)\n        .build();\n\nRedisClient redisClient = RedisClient.create(redisURI);\nRedisCommands&lt;String, byte[]&gt; redisCommands = redisClient.connect(RedisCodec.of(new StringCodec(), new ByteArrayCodec())).sync();\n\nredisCommands.set(&quot;key&quot;, &quot;value&quot;.getBytes(StandardCharsets.UTF_8));\nSystem.out.println(redisCommands.get(&quot;key&quot;));\n</code></pre>\n<p>Console O/p : [B@3bd7f8dc</p>\n<p>redis-cli o/p:</p>\n<p>127.0.0.1:6379&gt; get key</p>\n<p>&quot;value&quot;</p>\n<p>I am using lettuce as redis client. I am unable to understand why the value I obtained from redis-cli is in string itself rather than the byte format.</p>\n<p>Any help is appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1656624316,"creation_date":1656624316,"answer_id":72822197,"question_id":72821432,"body_markdown":"In chunk based batch processing, reader and processor reads/processes single record at a time, keeps it in buffer and sends all records to writer after chunk size has met. If you notice signature of `ItemWriter`, it is `List&lt;? extends T&gt; items`, which means it accepts list of items returned by processor. In your case, your processor is returning `List&lt;ProcessedItem&gt;` so your writer would expect `List&lt;List&lt;ProcessedItem&gt;&gt;`. To fix your issue, change `MyCustomWriter`&#39;s write method to below\r\n\r\n    @Override\r\n    public void write(List&lt;List&lt;ProcessedItem&gt; items) throws Exception {\r\n    \r\n        items.stream().flatMap(Collection::stream).forEach(data -&gt; { //data is ProcessedItem instance\r\n            // process data \r\n        });\r\n     }","title":"Spring boot batch custom ItemWriter with a list of items","body":"<p>In chunk based batch processing, reader and processor reads/processes single record at a time, keeps it in buffer and sends all records to writer after chunk size has met. If you notice signature of <code>ItemWriter</code>, it is <code>List&lt;? extends T&gt; items</code>, which means it accepts list of items returned by processor. In your case, your processor is returning <code>List&lt;ProcessedItem&gt;</code> so your writer would expect <code>List&lt;List&lt;ProcessedItem&gt;&gt;</code>. To fix your issue, change <code>MyCustomWriter</code>'s write method to below</p>\n<pre><code>@Override\npublic void write(List&lt;List&lt;ProcessedItem&gt; items) throws Exception {\n\n    items.stream().flatMap(Collection::stream).forEach(data -&gt; { //data is ProcessedItem instance\n        // process data \n    });\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656637089,"creation_date":1656637089,"answer_id":72823402,"question_id":72821432,"body_markdown":"Change your createStep() method to look like this...\r\n\r\n    @Bean\r\n    public Step createStep() {\r\n        return stepBuilderFactory.get(&quot;MyStep&quot;)\r\n                .&lt;ReadItem, ProcessedItem&gt; chunk(1)\r\n                .reader(myCustomReader)\r\n                .processor(myCustomProcessor)\r\n                .writer(myCustomWriter)\r\n                .transactionManager(transactionManager)\r\n                .build();\r\n    }\r\n\r\nYou don&#39;t need to specify List&lt;? extends ProcessedItem&gt; since ItemWriters always act on Lists of item by default.","title":"Spring boot batch custom ItemWriter with a list of items","body":"<p>Change your createStep() method to look like this...</p>\n<pre><code>@Bean\npublic Step createStep() {\n    return stepBuilderFactory.get(&quot;MyStep&quot;)\n            .&lt;ReadItem, ProcessedItem&gt; chunk(1)\n            .reader(myCustomReader)\n            .processor(myCustomProcessor)\n            .writer(myCustomWriter)\n            .transactionManager(transactionManager)\n            .build();\n}\n</code></pre>\n<p>You don't need to specify List&lt;? extends ProcessedItem&gt; since ItemWriters always act on Lists of item by default.</p>\n"}],"owner":{"account_id":337128,"reputation":447,"user_id":665205,"accept_rate":54,"display_name":"leonidas79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72822197,"answer_count":2,"score":2,"last_activity_date":1656637089,"creation_date":1656619481,"question_id":72821432,"body_markdown":"i am using spring boot batch , i have a custom reader , processor and writer.\r\n\r\nthe custom reader    ----&gt; reads something, returns ReadItem\r\n\r\nthe custom processor ----&gt; reads ReadItem, returns List&lt;ProcessedItem&gt;\r\n\r\nthe custom Writer    ----&gt; should reads List&lt;ProcessedItem&gt; **(here is the problem)**\r\n\r\n\r\n&gt;MyCustomReader :\r\n\r\n    @Component\r\n    public class MyCustomReader extends JdbcCursorItemReader&lt;ReadItem&gt; \r\n    implements ItemReader&lt;ReadItem&gt;{\r\n\r\n\tpublic MyCustomReader(@Autowired DataSource primaryDataSource) {\r\n\t\t\r\n\t\tsetSql(&quot;SELECT FROM data where processed = false&quot;);\r\n\t\tsetFetchSize(100);\r\n\t\tsetRowMapper(new ItemRowMapper());\r\n\t}\r\n\t\r\n\tpublic class ItemRowMapper implements RowMapper&lt;ReadItem&gt; {\r\n\t\t@Override\r\n\t\tpublic ReadItem mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n\r\n\t\t\tReadItem item  = new ReadItem();\r\n\t\t\titem.setId_Rame(rs.getString(&quot;ID&quot;));\r\n\t\t\titem.setTime(rs.getString(&quot;TIME&quot;));\r\n\r\n\t\t\treturn item;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n&gt;MyCustomProcessor :\r\n\r\n    @Component\r\n    public class MyCustomProcessor implements ItemProcessor&lt;ReadItem, List&lt;? extends \r\n    ProcessedItem&gt;&gt; {\r\n\r\n\t@Override\r\n\tpublic List&lt;? extends ProcessedItem&gt; process(ReadItem item) throws Exception {\r\n\t\t\r\n\t\tList&lt;ProcessedItem&gt; listData = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t// processing data to build the list to return\r\n\r\n\t\treturn listData;\r\n\t}\r\n    }\r\n\r\n&gt;MyCustomWriter :\r\n\r\n    @Component\r\n    public class MyCustomWriter implements ItemWriter&lt;ProcessedItem&gt; {\r\n\r\n\r\n\t@Override\r\n\tpublic void write(List&lt;? extends ProcessedItem&gt; items) throws Exception {\r\n\r\n\r\n\t\tfor (ProcessedItem data : items) {\r\n\t\t\t// process data\r\n\t\t}\r\n\t }\r\n    }\r\n\r\n&gt;MyBatchConfig :\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class MyBatchConfig {\r\n\t\r\n\t@Autowired\r\n\tpublic JobBuilderFactory jobBuilderFactory;\r\n\r\n\t@Autowired\r\n\tpublic StepBuilderFactory stepBuilderFactory;\r\n\t\t\r\n\t@Autowired\r\n\tMyCustomReader myCustomReader;\r\n\t\r\n\t@Autowired\r\n\tMyCustomWriter myCustomWriter;\r\n\r\n\t@Autowired\r\n\tMyCustomProcessor myCustomProcessor;\r\n\t\r\n\t@Autowired \r\n\t@Qualifier(&quot;pgsqlTransactionManager&quot;) \r\n\tprivate PlatformTransactionManager transactionManager;\r\n\t\r\n\t@Bean\r\n\tpublic Job createJob() {\r\n\t\treturn jobBuilderFactory.get(&quot;MyJob&quot;)\r\n\t\t\t\t.incrementer(new RunIdIncrementer())\r\n\t\t\t\t.flow(createStep()).end().build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step createStep() {\r\n\t\treturn stepBuilderFactory.get(&quot;MyStep&quot;)\r\n\t\t\t\t.&lt;ReadItem, List&lt;? extends ProcessedItem&gt;&gt; chunk(1)\r\n\t\t\t\t.reader(myCustomReader)\r\n\t\t\t\t.processor(myCustomProcessor)\r\n\t\t\t\t.writer(myCustomWriter)\r\n\t\t\t\t.transactionManager(transactionManager)\r\n\t\t\t\t.build();\r\n\t}\r\n    }\r\n\r\n\r\ni got a compile error in MyBatchConfig :\r\n\r\n&gt; The method writer(ItemWriter&lt;? super List&lt;? extends ProcessedItem&gt;&gt;)\r\n&gt; in the type SimpleStepBuilder&lt;ReadItem,List&lt;? extends ProcessedItem&gt;&gt;\r\n&gt; is not applicable for the arguments (MyCustomWriter)\r\n\r\nis there a workaround to fix this ?\r\n\r\n\r\n\r\n\r\n","title":"Spring boot batch custom ItemWriter with a list of items","body":"<p>i am using spring boot batch , i have a custom reader , processor and writer.</p>\n<p>the custom reader    ----&gt; reads something, returns ReadItem</p>\n<p>the custom processor ----&gt; reads ReadItem, returns List</p>\n<p>the custom Writer    ----&gt; should reads List <strong>(here is the problem)</strong></p>\n<blockquote>\n<p>MyCustomReader :</p>\n</blockquote>\n<pre><code>@Component\npublic class MyCustomReader extends JdbcCursorItemReader&lt;ReadItem&gt; \nimplements ItemReader&lt;ReadItem&gt;{\n\npublic MyCustomReader(@Autowired DataSource primaryDataSource) {\n    \n    setSql(&quot;SELECT FROM data where processed = false&quot;);\n    setFetchSize(100);\n    setRowMapper(new ItemRowMapper());\n}\n\npublic class ItemRowMapper implements RowMapper&lt;ReadItem&gt; {\n    @Override\n    public ReadItem mapRow(ResultSet rs, int rowNum) throws SQLException {\n\n        ReadItem item  = new ReadItem();\n        item.setId_Rame(rs.getString(&quot;ID&quot;));\n        item.setTime(rs.getString(&quot;TIME&quot;));\n\n        return item;\n    }\n}\n}\n</code></pre>\n<blockquote>\n<p>MyCustomProcessor :</p>\n</blockquote>\n<pre><code>@Component\npublic class MyCustomProcessor implements ItemProcessor&lt;ReadItem, List&lt;? extends \nProcessedItem&gt;&gt; {\n\n@Override\npublic List&lt;? extends ProcessedItem&gt; process(ReadItem item) throws Exception {\n    \n    List&lt;ProcessedItem&gt; listData = new ArrayList&lt;&gt;();\n    \n    // processing data to build the list to return\n\n    return listData;\n}\n}\n</code></pre>\n<blockquote>\n<p>MyCustomWriter :</p>\n</blockquote>\n<pre><code>@Component\npublic class MyCustomWriter implements ItemWriter&lt;ProcessedItem&gt; {\n\n\n@Override\npublic void write(List&lt;? extends ProcessedItem&gt; items) throws Exception {\n\n\n    for (ProcessedItem data : items) {\n        // process data\n    }\n }\n}\n</code></pre>\n<blockquote>\n<p>MyBatchConfig :</p>\n</blockquote>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class MyBatchConfig {\n\n@Autowired\npublic JobBuilderFactory jobBuilderFactory;\n\n@Autowired\npublic StepBuilderFactory stepBuilderFactory;\n    \n@Autowired\nMyCustomReader myCustomReader;\n\n@Autowired\nMyCustomWriter myCustomWriter;\n\n@Autowired\nMyCustomProcessor myCustomProcessor;\n\n@Autowired \n@Qualifier(&quot;pgsqlTransactionManager&quot;) \nprivate PlatformTransactionManager transactionManager;\n\n@Bean\npublic Job createJob() {\n    return jobBuilderFactory.get(&quot;MyJob&quot;)\n            .incrementer(new RunIdIncrementer())\n            .flow(createStep()).end().build();\n}\n\n@Bean\npublic Step createStep() {\n    return stepBuilderFactory.get(&quot;MyStep&quot;)\n            .&lt;ReadItem, List&lt;? extends ProcessedItem&gt;&gt; chunk(1)\n            .reader(myCustomReader)\n            .processor(myCustomProcessor)\n            .writer(myCustomWriter)\n            .transactionManager(transactionManager)\n            .build();\n}\n}\n</code></pre>\n<p>i got a compile error in MyBatchConfig :</p>\n<blockquote>\n<p>The method writer(ItemWriter&lt;? super List&lt;? extends ProcessedItem&gt;&gt;)\nin the type SimpleStepBuilder&lt;ReadItem,List&lt;? extends ProcessedItem&gt;&gt;\nis not applicable for the arguments (MyCustomWriter)</p>\n</blockquote>\n<p>is there a workaround to fix this ?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2835528,"reputation":1834,"user_id":2436221,"accept_rate":81,"display_name":"Jonatan Stenbacka"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1446457385,"creation_date":1445947269,"answer_id":33367482,"question_id":33360921,"body_markdown":"What you need to do is set the cell factory for the tree view.\r\n\r\nA quick response to your comment:\r\nJust to be clear on the terminology. A tree structure (which is implemented in `TreeView`) consists of nodes. A node can have many children and one parent. A node without any parents is a root node. A node without any children is a leaf. There can only be one root node per tree. \r\n\r\nBut what you can do in a `TreeView` is hide the root node. If you add several children to the root node, and then hide the root node, it will look like you have several root nodes. Any node in a `TreeView`, including the root, is a `TreeItem`, and you can always add a child to a `TreeItem` by adding a `TreeItem`to it, and this child can then have it&#39;s own children, etc. So you can add as many different levels of nodes as you like.\r\n\r\nHere&#39;s an [MCVE](https://stackoverflow.com/help/mcve). \r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.CheckBox;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TreeCell;\r\n    import javafx.scene.control.TreeItem;\r\n    import javafx.scene.control.TreeView;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class MCVE extends Application {\r\n    \r\n    \tpublic void start(Stage stage) {\r\n    \r\n    \t\tVBox view = new VBox();\r\n    \t\tview.setPrefSize(600, 400);\r\n    \r\n    \t\t// Creating the root node\r\n    \t\tfinal TreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(&quot;Root node&quot;);\r\n    \t\troot.setExpanded(true);\r\n    \r\n    \t\t// Creating the tree items that will be the first children of the root node\r\n    \t\t// and the parent to the child nodes.\r\n    \t\tfinal TreeItem&lt;String&gt; parentNode1 = new TreeItem&lt;&gt;(&quot;Parent node 1&quot;);\r\n    \t\tfinal TreeItem&lt;String&gt; parentNode2 = new TreeItem&lt;&gt;(&quot;Parent node 2&quot;);\r\n    \t\tfinal TreeItem&lt;String&gt; parentNode3 = new TreeItem&lt;&gt;(&quot;Parent node 3&quot;);\r\n    \r\n    \t\t// Creating the tree items that will be the children of the parent\r\n    \t\t// nodes.\r\n    \t\tfinal TreeItem&lt;String&gt; childNode1 = new TreeItem&lt;&gt;(&quot;Child Node 1&quot;);\r\n    \t\tfinal TreeItem&lt;String&gt; childNode2 = new TreeItem&lt;&gt;(&quot;Child Node 2&quot;);\r\n    \t\tfinal TreeItem&lt;String&gt; childNode3 = new TreeItem&lt;&gt;(&quot;Child Node 3&quot;);\r\n    \r\n    \t\t// Adding tree items to the root\r\n    \t\troot.getChildren().setAll(parentNode1, parentNode2, parentNode3);\r\n    \r\n    \t\t// Add the child nodes to all children of the root\r\n    \t\tfor (TreeItem&lt;String&gt; parent : root.getChildren()) {\r\n    \t\t\tparent.getChildren().addAll(childNode1, childNode2, childNode3);\r\n    \t\t}\r\n    \r\n    \t\t// Creating a tree table view\r\n    \t\tfinal TreeView&lt;String&gt; treeView = new TreeView&lt;&gt;(root);\r\n            \r\n            // We set show root to false. This will hide the root and only show it&#39;s children in the treeview.\r\n    \t\ttreeView.setShowRoot(false);\r\n    \r\n    \t\ttreeView.setCellFactory(e -&gt; new CustomCell());\r\n    \r\n    \t\tview.getChildren().add(treeView);\r\n    \r\n    \t\tScene scene = new Scene(view);\r\n    \t\tstage.setScene(scene);\r\n    \t\tstage.show();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * A custom cell that shows a checkbox, label and button in the\r\n    \t * TreeCell.\r\n    \t */\r\n    \tclass CustomCell extends TreeCell&lt;String&gt; {\r\n    \t\t@Override\r\n    \t\tprotected void updateItem(String item, boolean empty) {\r\n    \t\t\tsuper.updateItem(item, empty);\r\n    \r\n    \t\t\t// If the cell is empty we don&#39;t show anything.\r\n    \t\t\tif (isEmpty()) {\r\n    \t\t\t\tsetGraphic(null);\r\n    \t\t\t\tsetText(null);\r\n    \t\t\t} else {\r\n    \t\t\t\t// We only show the custom cell if it is a leaf, meaning it has\r\n    \t\t\t\t// no children.\r\n    \t\t\t\tif (this.getTreeItem().isLeaf()) {\r\n    \r\n    \t\t\t\t\t// A custom HBox that will contain your check box, label and\r\n    \t\t\t\t\t// button.\r\n    \t\t\t\t\tHBox cellBox = new HBox(10);\r\n    \r\n    \t\t\t\t\tCheckBox checkBox = new CheckBox();\r\n    \t\t\t\t\tLabel label = new Label(item);\r\n    \t\t\t\t\tButton button = new Button(&quot;Press!&quot;);\r\n    \t\t\t\t\t// Here we bind the pref height of the label to the height of the checkbox. This way the label and the checkbox will have the same size. \r\n                        label.prefHeightProperty().bind(checkBox.heightProperty());\r\n\r\n    \t\t\t\t\tcellBox.getChildren().addAll(checkBox, label, button);\r\n    \r\n    \t\t\t\t\t// We set the cellBox as the graphic of the cell.\r\n    \t\t\t\t\tsetGraphic(cellBox);\r\n    \t\t\t\t\tsetText(null);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// If this is the root we just display the text.\r\n    \t\t\t\t\tsetGraphic(null);\r\n    \t\t\t\t\tsetText(item);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch();\r\n    \t}\r\n    }\r\n\r\nAlso see the [documentation](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Cell.html) for the `Cell` class on how to provide a custom cell factory.\r\n\r\nLet me know if anything is unclear!","title":"JavaFX: How to add a checkbox and a button in a TreeView?","body":"<p>What you need to do is set the cell factory for the tree view.</p>\n\n<p>A quick response to your comment:\nJust to be clear on the terminology. A tree structure (which is implemented in <code>TreeView</code>) consists of nodes. A node can have many children and one parent. A node without any parents is a root node. A node without any children is a leaf. There can only be one root node per tree. </p>\n\n<p>But what you can do in a <code>TreeView</code> is hide the root node. If you add several children to the root node, and then hide the root node, it will look like you have several root nodes. Any node in a <code>TreeView</code>, including the root, is a <code>TreeItem</code>, and you can always add a child to a <code>TreeItem</code> by adding a <code>TreeItem</code>to it, and this child can then have it's own children, etc. So you can add as many different levels of nodes as you like.</p>\n\n<p>Here's an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. </p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TreeCell;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class MCVE extends Application {\n\n    public void start(Stage stage) {\n\n        VBox view = new VBox();\n        view.setPrefSize(600, 400);\n\n        // Creating the root node\n        final TreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(\"Root node\");\n        root.setExpanded(true);\n\n        // Creating the tree items that will be the first children of the root node\n        // and the parent to the child nodes.\n        final TreeItem&lt;String&gt; parentNode1 = new TreeItem&lt;&gt;(\"Parent node 1\");\n        final TreeItem&lt;String&gt; parentNode2 = new TreeItem&lt;&gt;(\"Parent node 2\");\n        final TreeItem&lt;String&gt; parentNode3 = new TreeItem&lt;&gt;(\"Parent node 3\");\n\n        // Creating the tree items that will be the children of the parent\n        // nodes.\n        final TreeItem&lt;String&gt; childNode1 = new TreeItem&lt;&gt;(\"Child Node 1\");\n        final TreeItem&lt;String&gt; childNode2 = new TreeItem&lt;&gt;(\"Child Node 2\");\n        final TreeItem&lt;String&gt; childNode3 = new TreeItem&lt;&gt;(\"Child Node 3\");\n\n        // Adding tree items to the root\n        root.getChildren().setAll(parentNode1, parentNode2, parentNode3);\n\n        // Add the child nodes to all children of the root\n        for (TreeItem&lt;String&gt; parent : root.getChildren()) {\n            parent.getChildren().addAll(childNode1, childNode2, childNode3);\n        }\n\n        // Creating a tree table view\n        final TreeView&lt;String&gt; treeView = new TreeView&lt;&gt;(root);\n\n        // We set show root to false. This will hide the root and only show it's children in the treeview.\n        treeView.setShowRoot(false);\n\n        treeView.setCellFactory(e -&gt; new CustomCell());\n\n        view.getChildren().add(treeView);\n\n        Scene scene = new Scene(view);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    /**\n     * A custom cell that shows a checkbox, label and button in the\n     * TreeCell.\n     */\n    class CustomCell extends TreeCell&lt;String&gt; {\n        @Override\n        protected void updateItem(String item, boolean empty) {\n            super.updateItem(item, empty);\n\n            // If the cell is empty we don't show anything.\n            if (isEmpty()) {\n                setGraphic(null);\n                setText(null);\n            } else {\n                // We only show the custom cell if it is a leaf, meaning it has\n                // no children.\n                if (this.getTreeItem().isLeaf()) {\n\n                    // A custom HBox that will contain your check box, label and\n                    // button.\n                    HBox cellBox = new HBox(10);\n\n                    CheckBox checkBox = new CheckBox();\n                    Label label = new Label(item);\n                    Button button = new Button(\"Press!\");\n                    // Here we bind the pref height of the label to the height of the checkbox. This way the label and the checkbox will have the same size. \n                    label.prefHeightProperty().bind(checkBox.heightProperty());\n\n                    cellBox.getChildren().addAll(checkBox, label, button);\n\n                    // We set the cellBox as the graphic of the cell.\n                    setGraphic(cellBox);\n                    setText(null);\n                } else {\n                    // If this is the root we just display the text.\n                    setGraphic(null);\n                    setText(item);\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n\n<p>Also see the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Cell.html\" rel=\"nofollow noreferrer\">documentation</a> for the <code>Cell</code> class on how to provide a custom cell factory.</p>\n\n<p>Let me know if anything is unclear!</p>\n"}],"owner":{"account_id":7192269,"reputation":43,"user_id":5492141,"display_name":"Vevek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5831,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33367482,"answer_count":1,"score":4,"last_activity_date":1656637073,"creation_date":1445925847,"question_id":33360921,"body_markdown":"I am new to JavaFX. \r\n\r\nI am trying to include a checkbox, a label and a button in each column in a tree table below the root. \r\n\r\nIs it possible to do that? Help me with the solution and a few reference code for the same. \r\n\r\nThanks,\r\nVevek.","title":"JavaFX: How to add a checkbox and a button in a TreeView?","body":"<p>I am new to JavaFX.</p>\n<p>I am trying to include a checkbox, a label and a button in each column in a tree table below the root.</p>\n<p>Is it possible to do that? Help me with the solution and a few reference code for the same.</p>\n<p>Thanks,\nVevek.</p>\n"},{"tags":["java","tomcat","path","filenotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":25518436,"reputation":11,"user_id":19436297,"display_name":"dmena"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656631657,"creation_date":1656631657,"answer_id":72822993,"question_id":72822896,"body_markdown":"You have to ensure that src is the repository root for the project in which sendMailWithToken is called.","title":"In tomcat Server the file is &quot;Path to file not found&quot;, while inside psvm it is found","body":"<p>You have to ensure that src is the repository root for the project in which sendMailWithToken is called.</p>\n"}],"owner":{"account_id":23934176,"reputation":47,"user_id":17928163,"display_name":"Ryan Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656635585,"creation_date":1656630495,"question_id":72822896,"body_markdown":"In basic Java I have a very odd issue,\r\nIn the same java class I have a method and a PVSM containing the same info:\r\n```java\r\n    public static void main(String[] args) throws IOException, URISyntaxException {\r\n        System.out.println(htmlToString(&quot;src/main/Java/archive/trawler/webservices/emailHTMLTemplates/resetMail.html&quot;));\r\n        System.out.println(htmlToString(&quot;src\\\\main\\\\Java\\\\archive\\\\trawler\\\\webservices\\\\emailHTMLTemplates\\\\resetMail.html&quot;));\r\n```\r\nAbove it finds it without issue, but when I try and run it within a method it reports it cannot find it. Errorcode at the bottom:\r\n```java\r\n    public static boolean sendMailWithToken(String sendTo, String subjectLine, String token) throws FileNotFoundException {\r\n            String htmlMessage = htmlToString(&quot;src\\\\main\\\\Java\\\\archive\\\\trawler\\\\webservices\\\\emailHTMLTemplates\\\\resetMail.html&quot;);\r\n```\r\n\r\n```java\r\njava.io.FileNotFoundException: src\\main\\Java\\archive\\trawler\\webservices\\emailHTMLTemplates\\resetMail.html (The system cannot find the path specified)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\r\n\tat archive.trawler.webservices.SendEmail.htmlToString(SendEmail.java:161)\r\n\tat archive.trawler.webservices.SendEmail.sendMailWithToken(SendEmail.java:121)\r\n\tat archive.trawler.webservices.accountResetResource.resetWachtWoord(accountResetResource.java:28)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n[...]\r\nat setup.HttpsFilter.doFilter(HttpsFilter.java:28)\r\nat javax.servlet.http.HttpFilter.doFilter(HttpFilter.java:57)\r\n```\r\n\r\nI have hardcoded the location in now for easier testing:\r\n```java\r\n    public static String htmlToString(String htmlFileFromRoot) throws IOException {\r\n        StringBuilder contentBuilder = new StringBuilder();\r\n        try {\r\n//            BufferedReader in = new BufferedReader(new FileReader(htmlFileFromRoot));\r\n            BufferedReader in = new BufferedReader(new FileReader(&quot;/resetmail.html&quot;));\r\n            String str;\r\n            while ((str = in.readLine()) != null) {\r\n                contentBuilder.append(str);\r\n            }\r\n            in.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return contentBuilder.toString();\r\n    }\r\n```\r\nLitterally only using absolute path seems to work.. !\r\nBut still no luck in anything else.. here is my directory structure\r\n[![Directory tree][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VDX5X.png\r\n","title":"In tomcat Server the file is &quot;Path to file not found&quot;, while inside psvm it is found","body":"<p>In basic Java I have a very odd issue,\nIn the same java class I have a method and a PVSM containing the same info:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws IOException, URISyntaxException {\n        System.out.println(htmlToString(&quot;src/main/Java/archive/trawler/webservices/emailHTMLTemplates/resetMail.html&quot;));\n        System.out.println(htmlToString(&quot;src\\\\main\\\\Java\\\\archive\\\\trawler\\\\webservices\\\\emailHTMLTemplates\\\\resetMail.html&quot;));\n</code></pre>\n<p>Above it finds it without issue, but when I try and run it within a method it reports it cannot find it. Errorcode at the bottom:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static boolean sendMailWithToken(String sendTo, String subjectLine, String token) throws FileNotFoundException {\n            String htmlMessage = htmlToString(&quot;src\\\\main\\\\Java\\\\archive\\\\trawler\\\\webservices\\\\emailHTMLTemplates\\\\resetMail.html&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>java.io.FileNotFoundException: src\\main\\Java\\archive\\trawler\\webservices\\emailHTMLTemplates\\resetMail.html (The system cannot find the path specified)\n    at java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n    at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\n    at archive.trawler.webservices.SendEmail.htmlToString(SendEmail.java:161)\n    at archive.trawler.webservices.SendEmail.sendMailWithToken(SendEmail.java:121)\n    at archive.trawler.webservices.accountResetResource.resetWachtWoord(accountResetResource.java:28)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n[...]\nat setup.HttpsFilter.doFilter(HttpsFilter.java:28)\nat javax.servlet.http.HttpFilter.doFilter(HttpFilter.java:57)\n</code></pre>\n<p>I have hardcoded the location in now for easier testing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String htmlToString(String htmlFileFromRoot) throws IOException {\n        StringBuilder contentBuilder = new StringBuilder();\n        try {\n//            BufferedReader in = new BufferedReader(new FileReader(htmlFileFromRoot));\n            BufferedReader in = new BufferedReader(new FileReader(&quot;/resetmail.html&quot;));\n            String str;\n            while ((str = in.readLine()) != null) {\n                contentBuilder.append(str);\n            }\n            in.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return contentBuilder.toString();\n    }\n</code></pre>\n<p>Litterally only using absolute path seems to work.. !\nBut still no luck in anything else.. here is my directory structure\n<a href=\"https://i.stack.imgur.com/VDX5X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VDX5X.png\" alt=\"Directory tree\" /></a></p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1656082532,"post_id":72745834,"comment_id":128492532,"body_markdown":"If you want to use a JPQL query, you need to show the entities. It would also be nice to see what you have tried so far.","body":"If you want to use a JPQL query, you need to show the entities. It would also be nice to see what you have tried so far."},{"owner":{"account_id":11447062,"reputation":82,"user_id":8390588,"display_name":"medgai"},"score":0,"creation_date":1656083118,"post_id":72745834,"comment_id":128492737,"body_markdown":"Try to provide more data, as this is too little elaboration of your problem. Check the guide here: [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Try to provide more data, as this is too little elaboration of your problem. Check the guide here: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":11447062,"reputation":82,"user_id":8390588,"display_name":"medgai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656083503,"creation_date":1656083011,"answer_id":72746011,"question_id":72745834,"body_markdown":"For your requirement, you have to write a native query in JPA like below:\r\n```\r\n@Query(nativeQuery = true, value = &quot;select * from {table_name} where {column_name} not in :names}))\r\nList&lt;{entity_name}&gt; findAllByName(@Param(&quot;names&quot;)Collection&lt;String&gt; names);\r\n```\r\nPlease resolve placeholders accordingly.","title":"Looking for spring data jpa query for findall excluding some names from a column","body":"<p>For your requirement, you have to write a native query in JPA like below:</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select * from {table_name} where {column_name} not in :names}))\nList&lt;{entity_name}&gt; findAllByName(@Param(&quot;names&quot;)Collection&lt;String&gt; names);\n</code></pre>\n<p>Please resolve placeholders accordingly.</p>\n"},{"tags":[],"owner":{"account_id":8194121,"reputation":140,"user_id":6167555,"display_name":"Arpit Asati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656087847,"creation_date":1656083173,"answer_id":72746048,"question_id":72745834,"body_markdown":"**Simple approach:**\r\n\r\n```java\r\npublic List&lt;ModelData&gt; findByListTypeCodeNotIn(List&lt;String&gt; codes);\r\n```\r\n\r\n**We can use the above specified JPA query naming convention to achieve the desired result.**\r\n","title":"Looking for spring data jpa query for findall excluding some names from a column","body":"<p><strong>Simple approach:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;ModelData&gt; findByListTypeCodeNotIn(List&lt;String&gt; codes);\n</code></pre>\n<p><strong>We can use the above specified JPA query naming convention to achieve the desired result.</strong></p>\n"}],"owner":{"account_id":16152749,"reputation":1,"user_id":11660737,"display_name":"Ashish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656635390,"creation_date":1656082167,"question_id":72745834,"body_markdown":"|list_Type_code(PK) | ListTypeName|\r\n| -------- |  -------------- |\r\n| CONTRACT    | cpn          |\r\n| CPN  |      formul           |\r\n|PRP   |      |preci|\r\n\r\nIt&#39;s a get all endpoint.I need a query to retrieve all data excluding certain names like CPN from column listtypecode.\r\n\r\nFinally,It worked this way:\r\nPage&lt;ListTypeJpaEntity&gt; findAllByListTypeCodeNotIn(Collection&lt;String&gt; listTypeCodeToExclude, Pageable pageable);","title":"Looking for spring data jpa query for findall excluding some names from a column","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>list_Type_code(PK)</th>\n<th>ListTypeName</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CONTRACT</td>\n<td>cpn</td>\n</tr>\n<tr>\n<td>CPN</td>\n<td>formul</td>\n</tr>\n<tr>\n<td>PRP</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>It's a get all endpoint.I need a query to retrieve all data excluding certain names like CPN from column listtypecode.</p>\n<p>Finally,It worked this way:\nPage findAllByListTypeCodeNotIn(Collection listTypeCodeToExclude, Pageable pageable);</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":3,"creation_date":1480337523,"post_id":40844814,"comment_id":68906338,"body_markdown":"And what&#39;s the problem with your code?","body":"And what&#39;s the problem with your code?"},{"owner":{"account_id":7518727,"reputation":3340,"user_id":5711367,"accept_rate":54,"display_name":"Bilal Dekar"},"score":2,"creation_date":1480337525,"post_id":40844814,"comment_id":68906344,"body_markdown":"Possible duplicate of [How to split a string in Java](http://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java\">How to split a string in Java</a>"},{"owner":{"account_id":5138965,"reputation":69,"user_id":4116919,"accept_rate":55,"display_name":"user100"},"score":0,"creation_date":1480337737,"post_id":40844814,"comment_id":68906464,"body_markdown":"When i print arr[0] ,the output is May 1988  June 1992","body":"When i print arr[0] ,the output is May 1988  June 1992"},{"owner":{"account_id":8918408,"reputation":3806,"user_id":6656050,"display_name":"Jeremy Kahan"},"score":1,"creation_date":1480337798,"post_id":40844814,"comment_id":68906495,"body_markdown":"Are you sure that is a space dash space between your dates? Might it be a double dash?","body":"Are you sure that is a space dash space between your dates? Might it be a double dash?"},{"owner":{"account_id":5138965,"reputation":69,"user_id":4116919,"accept_rate":55,"display_name":"user100"},"score":0,"creation_date":1480337878,"post_id":40844814,"comment_id":68906548,"body_markdown":"Yes I am sure it is space dash space","body":"Yes I am sure it is space dash space"}],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1480338003,"creation_date":1480338003,"answer_id":40844971,"question_id":40844814,"body_markdown":"The String you are trying to split has a &quot;en dash&quot; (U+2013), while you try to split with a &quot;HYPHEN-MINUS&quot; (U+002D).\r\nSeeing the difference with your eyes is pretty hard (dash is slighly longer), but they are different symbols.\r\n\r\njust copy and paste the en dash into your split method and it should work:\r\n\r\n\r\n    String[] arr=sample.split(&quot;  &quot;);","title":"Split string containg dash/hyphen character in Java","body":"<p>The String you are trying to split has a \"en dash\" (U+2013), while you try to split with a \"HYPHEN-MINUS\" (U+002D).\nSeeing the difference with your eyes is pretty hard (dash is slighly longer), but they are different symbols.</p>\n\n<p>just copy and paste the en dash into your split method and it should work:</p>\n\n<pre><code>String[] arr=sample.split(\"  \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3146529,"reputation":1209,"user_id":2660911,"display_name":"baddger964"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480338811,"creation_date":1480338811,"answer_id":40845216,"question_id":40844814,"body_markdown":"The error is yours two dash are not the same :\r\n `-` is not  ``","title":"Split string containg dash/hyphen character in Java","body":"<p>The error is yours two dash are not the same :\n <code>-</code> is not  <code></code></p>\n"}],"owner":{"account_id":5138965,"reputation":69,"user_id":4116919,"accept_rate":55,"display_name":"user100"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2995,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1656658993,"accepted_answer_id":40844971,"answer_count":2,"score":-2,"last_activity_date":1656634357,"creation_date":1480337436,"question_id":40844814,"body_markdown":"I have a string \r\n\r\n&gt; May 1988  June 1992 \r\n\r\nI want to split this string in such way that I will get two separate strings **May 1988** and **June 1992** .\r\n\r\nI tried the following code:\r\n\r\n    String sample=&quot;May 1988  June 1992&quot;;\r\n    String[] arr=sample.split(&quot; - &quot;);","title":"Split string containg dash/hyphen character in Java","body":"<p>I have a string</p>\n<blockquote>\n<p>May 1988  June 1992</p>\n</blockquote>\n<p>I want to split this string in such way that I will get two separate strings <strong>May 1988</strong> and <strong>June 1992</strong> .</p>\n<p>I tried the following code:</p>\n<pre><code>String sample=&quot;May 1988  June 1992&quot;;\nString[] arr=sample.split(&quot; - &quot;);\n</code></pre>\n"},{"tags":["java","intellij-idea","coding-style"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1435834634,"post_id":31178889,"comment_id":50370820,"body_markdown":"I guess a few `Find in Files...` is the other option. But, yes - this would be a nice feature.","body":"I guess a few <code>Find in Files...</code> is the other option. But, yes - this would be a nice feature."},{"owner":{"account_id":4498969,"reputation":350,"user_id":3658036,"display_name":"Peter Headland"},"score":0,"creation_date":1523489480,"post_id":31178889,"comment_id":86587065,"body_markdown":"The JLS canonical order for the modifiers above is private static final, not private final static. https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1","body":"The JLS canonical order for the modifiers above is private static final, not private final static. <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3&zwnj;&#8203;.1</a>"}],"answers":[{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435835056,"creation_date":1435835056,"answer_id":31182818,"question_id":31178889,"body_markdown":"I had once looked up a similar formatting need. Explored &quot;rearrange&quot;, &quot;templates(command+shift+M)&quot; etc, but this did not help. There is an &quot;Arrangement&quot; option under `Editor-&gt;Code Style-&gt;Java-&gt;Arrangement` tab. It looks like a rule editor, but that also did not help. To my understanding it is for ordering(sorting) members with in a class rather than ordering key words. It would have been really robust to have this feature under Reformat/Rearrange.\r\n\r\nAnyway, only way I could come up with was to use Find|Replace with &quot;regular expressions&quot;\r\nSo, in the example you have given, we can **use find/replace**(R in OS X) **with regular expression** as:\r\n\r\nFind : `private final static|final private static|static final private`\r\n\r\nReplace: `private static final`\r\n\r\nNot very smart, but useful.\r\nWe can use combination of private/public if this needs to be applied to both  private and public. Also, it can be applied at package/path level. Example screenshot below\r\n\r\n![Search Replace panel][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7Ad78.png","title":"Rearrange modifier keywords in IntelliJ","body":"<p>I had once looked up a similar formatting need. Explored \"rearrange\", \"templates(command+shift+M)\" etc, but this did not help. There is an \"Arrangement\" option under <code>Editor-&gt;Code Style-&gt;Java-&gt;Arrangement</code> tab. It looks like a rule editor, but that also did not help. To my understanding it is for ordering(sorting) members with in a class rather than ordering key words. It would have been really robust to have this feature under Reformat/Rearrange.</p>\n\n<p>Anyway, only way I could come up with was to use Find|Replace with \"regular expressions\"\nSo, in the example you have given, we can <strong>use find/replace</strong>(R in OS X) <strong>with regular expression</strong> as:</p>\n\n<p>Find : <code>private final static|final private static|static final private</code></p>\n\n<p>Replace: <code>private static final</code></p>\n\n<p>Not very smart, but useful.\nWe can use combination of private/public if this needs to be applied to both  private and public. Also, it can be applied at package/path level. Example screenshot below</p>\n\n<p><img src=\"https://i.stack.imgur.com/7Ad78.png\" alt=\"Search Replace panel\"></p>\n"},{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1471006683,"creation_date":1435917029,"answer_id":31203757,"question_id":31178889,"body_markdown":"Go to *Settings* and enable the *Editor | Inspections | Java | Code style issues | Missorted modifiers* inspection. It has a quick fix to sort the modifiers. This inspection is also part of *Analyze | Code Cleanup...*, so another solution would be to invoke that on your code.","title":"Rearrange modifier keywords in IntelliJ","body":"<p>Go to <em>Settings</em> and enable the <em>Editor | Inspections | Java | Code style issues | Missorted modifiers</em> inspection. It has a quick fix to sort the modifiers. This inspection is also part of <em>Analyze | Code Cleanup...</em>, so another solution would be to invoke that on your code.</p>\n"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2886,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":31203757,"answer_count":2,"score":9,"last_activity_date":1656633786,"creation_date":1435824417,"question_id":31178889,"body_markdown":"Is there any way to automatically rearrange modifier keywords in IntelliJ?\r\n\r\nFor example, if I have the following code:\r\n\r\n    private final static int x = 0;\r\n    final private static int y = 0;\r\n    static final private int z = 0;\r\n\r\nRearrange it to:\r\n\r\n    private final static int x = 0;\r\n    private final static int y = 0;\r\n    private final static int z = 0;\r\n","title":"Rearrange modifier keywords in IntelliJ","body":"<p>Is there any way to automatically rearrange modifier keywords in IntelliJ?</p>\n\n<p>For example, if I have the following code:</p>\n\n<pre><code>private final static int x = 0;\nfinal private static int y = 0;\nstatic final private int z = 0;\n</code></pre>\n\n<p>Rearrange it to:</p>\n\n<pre><code>private final static int x = 0;\nprivate final static int y = 0;\nprivate final static int z = 0;\n</code></pre>\n"},{"tags":["java","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1656653501,"post_id":72822559,"comment_id":128629438,"body_markdown":"That rule is horrifying. And I say that in the nicest way possible. My guess is that the overly-complex right hand side (&quot;then&quot; clause) is causing the compiler to choke. Have you considered refactoring that code into, well, code? (Eg moving it into Java and then calling it from the rule)","body":"That rule is horrifying. And I say that in the nicest way possible. My guess is that the overly-complex right hand side (&quot;then&quot; clause) is causing the compiler to choke. Have you considered refactoring that code into, well, code? (Eg moving it into Java and then calling it from the rule)"},{"owner":{"account_id":4034954,"reputation":63,"user_id":3319779,"accept_rate":45,"display_name":"Spitz"},"score":0,"creation_date":1656662357,"post_id":72822559,"comment_id":128631693,"body_markdown":"@RoddyoftheFrozenPeas We&#39;re moving it from Java into a rule b/c it was causing problems with a new feature we&#39;re implementing.  We&#39;re considering just leaving it as Java and adding a new Kie Session after the Java code though, so that we can write our new rules but maintain the current infrastructure.","body":"@RoddyoftheFrozenPeas We&#39;re moving it from Java into a rule b/c it was causing problems with a new feature we&#39;re implementing.  We&#39;re considering just leaving it as Java and adding a new Kie Session after the Java code though, so that we can write our new rules but maintain the current infrastructure."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1656689889,"post_id":72822559,"comment_id":128641256,"body_markdown":"I meant moving the stuff in the right hand side into java code and invoking it from the rule. You can still have your rule, but let the real compiler do the compiling and optimization and just call that method from the rule. (Which would also allow you to properly unit test it.)","body":"I meant moving the stuff in the right hand side into java code and invoking it from the rule. You can still have your rule, but let the real compiler do the compiling and optimization and just call that method from the rule. (Which would also allow you to properly unit test it.)"},{"owner":{"account_id":4034954,"reputation":63,"user_id":3319779,"accept_rate":45,"display_name":"Spitz"},"score":0,"creation_date":1656826164,"post_id":72822559,"comment_id":128663356,"body_markdown":"That&#39;s what we ended up doing. Thanks for the suggestion.","body":"That&#39;s what we ended up doing. Thanks for the suggestion."}],"owner":{"account_id":4034954,"reputation":63,"user_id":3319779,"accept_rate":45,"display_name":"Spitz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656633292,"creation_date":1656627238,"question_id":72822559,"body_markdown":"I have when statement that goes from an if statement to the else statement:\r\n\r\n```\r\nrule &quot;rule&quot;\r\n ruleflow-group &quot;ruleFlow&quot;\r\n    when\r\n    $block : Block()\r\n    $inst : BlockInstitution(blockInstitutionCategory!=null) from $block.getInstitution()\r\n    $categorycode : InstitutionCategory(Constants.INSTITUTION_CATEGORY_CODE.equals(institutionCategoryCode)) from $inst.getInstitutionCategory()\r\n    $list : BlockInstitution(Constants.validNonList not contains dealCode) from $block.getInstitution()\r\n    then\r\n    Service $service = new Service();\r\n     try {\r\n          JsonObject enquiry =\r\n              $service.execute($block.getTransaction().getNumber()).get();\r\n          if (enquiry.isEmpty()) {\r\n            $block.getBusinessValidationResult().add(ValidationResult.NOT_FOUND);\r\n            $block.getMsg().setStatusText(Constants.NOT_FOUND);\r\n     } \r\n     else {\r\n            String numberFromService = statusEnquiry.getString(Constants.NUMBER);\r\n            String cardExpiryFromService =\r\n                enquiry.getString(Constants.EXPIRY_DATE);\r\n            String paymentRequestorIdentifier =\r\n                enquiry.getString(Constants.IDENTIFIER);\r\n            String paymentExpiryDate = enquiry.getString(Constants.EXPIRY_DATE);\r\n            String statusText = enquiry.getString(Constants.STATUS_TEXT);\r\n            String providerIdentifier =\r\n                enquiry.getString(Constants.PROVIDER_IDENTIFIER);\r\n             if (Objects.nonNull(paymentExpiryDate)) {\r\n                  paymentExpiryDate =\r\n                      EncryptionUtilFactory.getInstance().decryptData(paymentExpiryDate);\r\n                  if (paymentExpiryDate.length() == 4) {\r\n                    paymentExpiryDate =\r\n                        paymentExpiryDate.substring(2, 4) + paymentExpiryDate.substring(0, 2);\r\n                  }\r\n                  paymentExpiryDate =\r\n                      EncryptionUtilFactory.getInstance().encryptData(paymentExpiryDate);\r\n                }\r\n              if (Objects.nonNull(cardExpiryFromService)) {\r\n               cardExpiryFromService =\r\n                   EncryptionUtilFactory.getInstance().decryptData(cardExpiryFromService);\r\n               if (cardExpiryFromService.length() == 4) {\r\n                 cardExpiryFromService =\r\n                     cardExpiryFromService.substring(2, 4) + cardExpiryFromService.substring(0, 2);\r\n               }\r\n               cardExpiryFromService =\r\n                   EncryptionUtilFactory.getInstance().encryptData(cardExpiryFromService);\r\n             }\r\n            \r\n            \r\n            $block.getTransaction().setServiceNumber(numberFromService);\r\n            $block.getTransaction().setServiceAccountExpirationDate(cardExpiryFromService);\r\n            $block.getTransaction().setPaymentExpiryDate(paymentExpiryDate);\r\n            $block\r\n                .getTransaction()\r\n                .setFlag(Constants.ID_SET.contains(providerIdentifier));\r\n\r\n            \r\n            $block.getTransaction().setProviderIdentifier(providerIdentifier);\r\n            String text = $block.getTransaction().getPrimaryAccountNumber();\r\n            $block.getTransaction().setText(text);\r\n            $block.getTransaction().setStatusText(statusText);\r\n            $block\r\n                .getTransaction()\r\n                .setPaymentRequestorIdentifier(paymentRequestorIdentifier);\r\n\r\n            if (!Constants.STATUS.equals(statusText)) {\r\n              switch (statusText) {\r\n                case Constants.INACTIVE_STATUS:\r\n                  $block.getBusinessValidationResult().add(ValidationResult.INACTIVE);\r\n                  break;\r\n                case Constants.CANCELLED_STATUS:\r\n                  $block.getBusinessValidationResult().add(ValidationResult.CANCELLED);\r\n                  break;\r\n                case Constants.SUSPENDED_STATUS:\r\n                  $block.getBusinessValidationResult().add(ValidationResult.SUSPENDED);\r\n                  break;\r\n                default:\r\n                  break;\r\n              }\r\n            }\r\n          }\r\n        } catch (Exception ex) {\r\n          $block.getBusinessValidationResult().add(ValidationResult.CALL_FAILED);\r\n          $block.getTransaction().setStatusText(Constants.NOT_FOUND);\r\n        }\r\n\r\nend\r\n```\r\n\r\nERROR:\r\n\r\n```\r\n[Error: unterminated collection element]\r\n[Near : {... _FOUND);          } else {            String numberFr ....}]\r\n```\r\n\r\nAs the code goes from the if block to the else block it gives me an error: &quot;Unterminated Collection Element&quot;.\r\n\r\nIs there anything you see that indicates what&#39;s wrong.  I can&#39;t find anything on the Internet that discusses this error.  I&#39;ve found &quot;Unterminated String Element&quot;, but nothing on collection elements.","title":"Drools Unterminated Collection Element Error","body":"<p>I have when statement that goes from an if statement to the else statement:</p>\n<pre><code>rule &quot;rule&quot;\n ruleflow-group &quot;ruleFlow&quot;\n    when\n    $block : Block()\n    $inst : BlockInstitution(blockInstitutionCategory!=null) from $block.getInstitution()\n    $categorycode : InstitutionCategory(Constants.INSTITUTION_CATEGORY_CODE.equals(institutionCategoryCode)) from $inst.getInstitutionCategory()\n    $list : BlockInstitution(Constants.validNonList not contains dealCode) from $block.getInstitution()\n    then\n    Service $service = new Service();\n     try {\n          JsonObject enquiry =\n              $service.execute($block.getTransaction().getNumber()).get();\n          if (enquiry.isEmpty()) {\n            $block.getBusinessValidationResult().add(ValidationResult.NOT_FOUND);\n            $block.getMsg().setStatusText(Constants.NOT_FOUND);\n     } \n     else {\n            String numberFromService = statusEnquiry.getString(Constants.NUMBER);\n            String cardExpiryFromService =\n                enquiry.getString(Constants.EXPIRY_DATE);\n            String paymentRequestorIdentifier =\n                enquiry.getString(Constants.IDENTIFIER);\n            String paymentExpiryDate = enquiry.getString(Constants.EXPIRY_DATE);\n            String statusText = enquiry.getString(Constants.STATUS_TEXT);\n            String providerIdentifier =\n                enquiry.getString(Constants.PROVIDER_IDENTIFIER);\n             if (Objects.nonNull(paymentExpiryDate)) {\n                  paymentExpiryDate =\n                      EncryptionUtilFactory.getInstance().decryptData(paymentExpiryDate);\n                  if (paymentExpiryDate.length() == 4) {\n                    paymentExpiryDate =\n                        paymentExpiryDate.substring(2, 4) + paymentExpiryDate.substring(0, 2);\n                  }\n                  paymentExpiryDate =\n                      EncryptionUtilFactory.getInstance().encryptData(paymentExpiryDate);\n                }\n              if (Objects.nonNull(cardExpiryFromService)) {\n               cardExpiryFromService =\n                   EncryptionUtilFactory.getInstance().decryptData(cardExpiryFromService);\n               if (cardExpiryFromService.length() == 4) {\n                 cardExpiryFromService =\n                     cardExpiryFromService.substring(2, 4) + cardExpiryFromService.substring(0, 2);\n               }\n               cardExpiryFromService =\n                   EncryptionUtilFactory.getInstance().encryptData(cardExpiryFromService);\n             }\n            \n            \n            $block.getTransaction().setServiceNumber(numberFromService);\n            $block.getTransaction().setServiceAccountExpirationDate(cardExpiryFromService);\n            $block.getTransaction().setPaymentExpiryDate(paymentExpiryDate);\n            $block\n                .getTransaction()\n                .setFlag(Constants.ID_SET.contains(providerIdentifier));\n\n            \n            $block.getTransaction().setProviderIdentifier(providerIdentifier);\n            String text = $block.getTransaction().getPrimaryAccountNumber();\n            $block.getTransaction().setText(text);\n            $block.getTransaction().setStatusText(statusText);\n            $block\n                .getTransaction()\n                .setPaymentRequestorIdentifier(paymentRequestorIdentifier);\n\n            if (!Constants.STATUS.equals(statusText)) {\n              switch (statusText) {\n                case Constants.INACTIVE_STATUS:\n                  $block.getBusinessValidationResult().add(ValidationResult.INACTIVE);\n                  break;\n                case Constants.CANCELLED_STATUS:\n                  $block.getBusinessValidationResult().add(ValidationResult.CANCELLED);\n                  break;\n                case Constants.SUSPENDED_STATUS:\n                  $block.getBusinessValidationResult().add(ValidationResult.SUSPENDED);\n                  break;\n                default:\n                  break;\n              }\n            }\n          }\n        } catch (Exception ex) {\n          $block.getBusinessValidationResult().add(ValidationResult.CALL_FAILED);\n          $block.getTransaction().setStatusText(Constants.NOT_FOUND);\n        }\n\nend\n</code></pre>\n<p>ERROR:</p>\n<pre><code>[Error: unterminated collection element]\n[Near : {... _FOUND);          } else {            String numberFr ....}]\n</code></pre>\n<p>As the code goes from the if block to the else block it gives me an error: &quot;Unterminated Collection Element&quot;.</p>\n<p>Is there anything you see that indicates what's wrong.  I can't find anything on the Internet that discusses this error.  I've found &quot;Unterminated String Element&quot;, but nothing on collection elements.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1572299066,"post_id":58598577,"comment_id":103510128,"body_markdown":"Probably means your Java code threw an exception. Didn&#39;t it print something before that message?","body":"Probably means your Java code threw an exception. Didn&#39;t it print something before that message?"},{"owner":{"account_id":9198976,"reputation":141,"user_id":6836688,"display_name":"Lincoln Shan"},"score":1,"creation_date":1572305271,"post_id":58598577,"comment_id":103511729,"body_markdown":"Didn&#39;t see anything. But I made a bunch of changes and the error is gone.","body":"Didn&#39;t see anything. But I made a bunch of changes and the error is gone."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1575290824,"post_id":58598577,"comment_id":104505292,"body_markdown":"Show some code sample","body":"Show some code sample"},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1579172521,"post_id":58598577,"comment_id":105680267,"body_markdown":"off-topic, but your JDK seems too old to me `jdk1.8.0_77`","body":"off-topic, but your JDK seems too old to me <code>jdk1.8.0_77</code>"}],"answers":[{"tags":[],"owner":{"account_id":12184264,"reputation":155,"user_id":8894715,"display_name":"Philip Kalela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579172173,"creation_date":1579172173,"answer_id":59768099,"question_id":58598577,"body_markdown":"Try clicking on the parent error with the line Main.main(). This should show you the actual error that occurred. For me, this was occurring because I hadn&#39;t set up a database connection in the application.properties file. Hope this helps.","title":"Got error: &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1","body":"<p>Try clicking on the parent error with the line Main.main(). This should show you the actual error that occurred. For me, this was occurring because I hadn't set up a database connection in the application.properties file. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":17669689,"reputation":81,"user_id":12826180,"display_name":"Winnie x"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1580599321,"creation_date":1580599321,"answer_id":60021954,"question_id":58598577,"body_markdown":"This error is actually very general. I saw this error in my Scala project too. You need to click on the parent error with the line main(), which would show you the actual error. In my case, it is because I didn&#39;t download a specific file and there is a null pointer issue. Hope this helps!","title":"Got error: &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1","body":"<p>This error is actually very general. I saw this error in my Scala project too. You need to click on the parent error with the line main(), which would show you the actual error. In my case, it is because I didn't download a specific file and there is a null pointer issue. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":10703927,"reputation":33,"user_id":7878342,"display_name":"Thiru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592383904,"creation_date":1592383904,"answer_id":62425109,"question_id":58598577,"body_markdown":"This error goes away after updating IDE Compiler version rightly when you have multiple JDK installed on your machine (In my Mac, had JDK8 and JDK11). You may need to restart IDE once you make changes if needed. As in my case IntelliJ IDE, It works after doing invalidate cache and restart IDE.","title":"Got error: &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1","body":"<p>This error goes away after updating IDE Compiler version rightly when you have multiple JDK installed on your machine (In my Mac, had JDK8 and JDK11). You may need to restart IDE once you make changes if needed. As in my case IntelliJ IDE, It works after doing invalidate cache and restart IDE.</p>\n"},{"tags":[],"owner":{"account_id":5505049,"reputation":1050,"user_id":4373120,"display_name":"Vinu Dominic"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1619915922,"creation_date":1619915922,"answer_id":67352040,"question_id":58598577,"body_markdown":"This is a very generic error which I&#39;ve faced as well with my **Java Gradle Spring-Boot** project. The reason being it so difficult to debug is that it doesn&#39;t give out any useful clue as to where the error occurred even if you provide the  `--stacktrace` or `--debug` arguments to your `gradle bootRun` command.\r\n\r\nHowever this can be easily determined if you wrap your Spring-Boot bootstrapper code in a try-catch and print the exception stacktrace as below:\r\n\r\n\r\n    @SpringBootApplication\r\n    public class MyApplicationServer {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n            SpringApplication.run(MyApplicationServer.class, args);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nIn my case, the exception was due to an unquoted special character (*) in `application.yml` which lead to a parsing failure. Excerpt of stacktrace below:\r\n\r\n    java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application-local.yml&#39;\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:535)\r\n            ...(truncated logs)\r\n            at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:358)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:317)\r\n            at com.ekart.citylogistics.payout.MyApplicationServer.main(MyApplicationServer.java:24) Caused by: while scanning an alias  in &#39;reader&#39;, line 5, column 44:\r\n         ... endpoints.web.exposure.include: *\r\n                                             ^ expected alphabetic or numeric character, but found  (10)  in &#39;reader&#39;, line 5, column 45:\r\n         ... ndpoints.web.exposure.include: *\r\n                                             ^\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.scanAnchor(ScannerImpl.java:1447)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.fetchAlias(ScannerImpl.java:918)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:366)\r\n            ...(truncated logs)\r\n\r\n","title":"Got error: &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1","body":"<p>This is a very generic error which I've faced as well with my <strong>Java Gradle Spring-Boot</strong> project. The reason being it so difficult to debug is that it doesn't give out any useful clue as to where the error occurred even if you provide the  <code>--stacktrace</code> or <code>--debug</code> arguments to your <code>gradle bootRun</code> command.</p>\n<p>However this can be easily determined if you wrap your Spring-Boot bootstrapper code in a try-catch and print the exception stacktrace as below:</p>\n<pre><code>@SpringBootApplication\npublic class MyApplicationServer {\n\n    public static void main(String[] args) {\n        try {\n        SpringApplication.run(MyApplicationServer.class, args);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>In my case, the exception was due to an unquoted special character (*) in <code>application.yml</code> which lead to a parsing failure. Excerpt of stacktrace below:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load property source from location 'classpath:/application-local.yml'\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:535)\n        ...(truncated logs)\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:358)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:317)\n        at com.ekart.citylogistics.payout.MyApplicationServer.main(MyApplicationServer.java:24) Caused by: while scanning an alias  in 'reader', line 5, column 44:\n     ... endpoints.web.exposure.include: *\n                                         ^ expected alphabetic or numeric character, but found  (10)  in 'reader', line 5, column 45:\n     ... ndpoints.web.exposure.include: *\n                                         ^\n        at org.yaml.snakeyaml.scanner.ScannerImpl.scanAnchor(ScannerImpl.java:1447)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.fetchAlias(ScannerImpl.java:918)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:366)\n        ...(truncated logs)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22688583,"reputation":61,"user_id":16857825,"display_name":"hty"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1631087766,"creation_date":1631087766,"answer_id":69099077,"question_id":58598577,"body_markdown":"For those who use IntelliJ IDE, if the solutions above don&#39;t work for your project, I have another solution:\r\nPrefereces-&gt;Build, Exectution, Deployment-&gt;Build Tools-&gt;Gradle-&gt;Build and run\r\n\r\nchange &quot;build and run using&quot; and &quot;run testing using&quot; from Gradle to IntelliJ IDEA, then reload all Gradle projects\r\n\r\n\r\n[build and run][1]\r\n\r\n\r\n[reload Gradle projects][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J9bmv.png\r\n  [2]: https://i.stack.imgur.com/NDly3.png","title":"Got error: &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1","body":"<p>For those who use IntelliJ IDE, if the solutions above don't work for your project, I have another solution:\nPrefereces-&gt;Build, Exectution, Deployment-&gt;Build Tools-&gt;Gradle-&gt;Build and run</p>\n<p>change &quot;build and run using&quot; and &quot;run testing using&quot; from Gradle to IntelliJ IDEA, then reload all Gradle projects</p>\n<p><a href=\"https://i.stack.imgur.com/J9bmv.png\" rel=\"noreferrer\">build and run</a></p>\n<p><a href=\"https://i.stack.imgur.com/NDly3.png\" rel=\"noreferrer\">reload Gradle projects</a></p>\n"},{"tags":[],"owner":{"account_id":14448382,"reputation":1,"user_id":10436763,"display_name":"Pratik Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656298798,"creation_date":1655984908,"answer_id":72729657,"question_id":58598577,"body_markdown":"This error maybe due to the port already being in use. Try again after closing other running instances of the application. \r\n\r\nHope this works!","title":"Got error: &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1","body":"<p>This error maybe due to the port already being in use. Try again after closing other running instances of the application.</p>\n<p>Hope this works!</p>\n"}],"owner":{"account_id":9198976,"reputation":141,"user_id":6836688,"display_name":"Lincoln Shan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30424,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1656632659,"creation_date":1572297684,"question_id":58598577,"body_markdown":"Execution failed for task &#39;:Main.main()&#39;.\r\n&gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\nThis is a java project with Gradle. Not sure what this error means.","title":"Got error: &gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1","body":"<p>Execution failed for task ':Main.main()'.</p>\n\n<blockquote>\n  <p>Process 'command '/Library/Java/JavaVirtualMachines/jdk1.8.0_77.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n\n<p>This is a java project with Gradle. Not sure what this error means.</p>\n"},{"tags":["java","eclipse","maven","groovy"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1656578174,"post_id":72812485,"comment_id":128608743,"body_markdown":"First I would ask why combination of Java and Groovy and not plain Java...and simply create the structure on the disk? Furthermore You are using extreme old tools (Oxygen is of 2017??? really?) Why using [maven-eclipse-plugin](https://maven.apache.org/plugins/maven-eclipse-plugin/)  is long retired. First use uptodate tools (IDE&#39;s Eclipse) and modern JDK&#39;s...And as you also realized SonarQube can handle that anymore because that needed JDK11 at least...","body":"First I would ask why combination of Java and Groovy and not plain Java...and simply create the structure on the disk? Furthermore You are using extreme old tools (Oxygen is of 2017??? really?) Why using <a href=\"https://maven.apache.org/plugins/maven-eclipse-plugin/\" rel=\"nofollow noreferrer\">maven-eclipse-plugin</a>  is long retired. First use uptodate tools (IDE&#39;s Eclipse) and modern JDK&#39;s...And as you also realized SonarQube can handle that anymore because that needed JDK11 at least..."},{"owner":{"account_id":25486266,"reputation":1,"user_id":19281809,"display_name":"Poppaluu"},"score":0,"creation_date":1656580364,"post_id":72812485,"comment_id":128609571,"body_markdown":"@khmarbaise It would otherwise be plain java but the server side coders had made groovy files and we wanted to start testing them and testing them needed both the java files and the groovy files. We are using older jdk since some of the libraries from SAP don&#39;t work on the newer ones. For the old version of IDE, this was just given to me as a package by work, that I downloaded and I didn&#39;t start questioning about it.","body":"@khmarbaise It would otherwise be plain java but the server side coders had made groovy files and we wanted to start testing them and testing them needed both the java files and the groovy files. We are using older jdk since some of the libraries from SAP don&#39;t work on the newer ones. For the old version of IDE, this was just given to me as a package by work, that I downloaded and I didn&#39;t start questioning about it."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1656580720,"post_id":72812485,"comment_id":128609695,"body_markdown":"The problem with such old software (Eclipse Oxygen is now 5 years and 17 releases old) is that people don&#39;t remember how things worked so long ago.","body":"The problem with such old software (Eclipse Oxygen is now 5 years and 17 releases old) is that people don&#39;t remember how things worked so long ago."},{"owner":{"account_id":25486266,"reputation":1,"user_id":19281809,"display_name":"Poppaluu"},"score":0,"creation_date":1656581120,"post_id":72812485,"comment_id":128609861,"body_markdown":"I&#39;ll look into upgrading the software, maybe it&#39;ll fix my problem. Thanks!","body":"I&#39;ll look into upgrading the software, maybe it&#39;ll fix my problem. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656632439,"creation_date":1656632439,"answer_id":72823059,"question_id":72812485,"body_markdown":"Eclipse Groovy Development Tools will do this. There is a guide here with steps to achieve your desired result:\n\nhttps://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin\n\nThere is an archetype as well but it is not pre-built:  https://github.com/groovy/groovy-eclipse/tree/master/extras/groovy-eclipse-quickstart","title":"Creating eclipse source files src/main/java and src/main/groovy with maven","body":"<p>Eclipse Groovy Development Tools will do this. There is a guide here with steps to achieve your desired result:</p>\n<p><a href=\"https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin</a></p>\n<p>There is an archetype as well but it is not pre-built:  <a href=\"https://github.com/groovy/groovy-eclipse/tree/master/extras/groovy-eclipse-quickstart\" rel=\"nofollow noreferrer\">https://github.com/groovy/groovy-eclipse/tree/master/extras/groovy-eclipse-quickstart</a></p>\n"}],"owner":{"account_id":25486266,"reputation":1,"user_id":19281809,"display_name":"Poppaluu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656632439,"creation_date":1656577257,"question_id":72812485,"body_markdown":"I am trying to get a specific kind of file structure in eclipse for my work. \r\nThis is the structure I want: \r\n\r\n[![fileStructure2][1]][1]\r\n\r\nThe problem I am having is that everytime I use `mvn eclipse:eclipse` the structure of the files gets broken like this: \r\n\r\n[![fileStructure1][2]][2]\r\n\r\nI have tried most of the answers that I&#39;ve found on Stack Overflow and elsewhere. I&#39;ve tried making the fileStructure2 to a maven Archetype and it sort of worked, but as soon as I ran `mvn eclipse:eclipse` it broke again: \r\n\r\n[![arcTesting][3]][3]\r\n\r\nI learned the basics of the archetype creation just today so I am not a master at that either and there might be something that is missing from the creation of the archetypes. I used `mvn archetype:create-from-project` in the FileStructure2 directory and then used `mvn install archetype:update-local-catalog` in the archetype directory which resulted the archetype to be added in the list of archetypes and I just created a new project with cmd and then ran `mvn eclipse:eclipse` which resulted in the above picture. I have not changed anything in the archetype folders that were created, I just used the basic ones that were created with running the archetype:create.\r\n\r\nMost of the other posts i&#39;ve found are really old and none of them have the structure I want, or it is only for src/main/java which I get working as intended but it is just the src/main/groovy file that switches the location to a normal folder instead of a source folder.\r\n\r\nI am thinking it is my pom.xml that needs some modifications. at the moment it looks like this: \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;FileStructure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;FileStructure&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt; &lt;!-- required JUST since Groovy 2.5.0 --&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;  \r\n    &lt;/project&gt;\r\n\r\nI have not added any maven compiler plugins since I don&#39;t 100% know what they do and still break the structure no matter what I&#39;ve tried.\r\n\r\nI am using apache-maven-3.8.5 which is downloaded with chocolatey. My eclipse jre and jdk versions are 1.8.0_333 but my java home is jdk11 since sonarQube can&#39;t use that old versions. My groovy is downloaded from the eclipse marketplace and it&#39;s compiler version is 2.5. My eclipse is a SAP netweaver. Eclipse Java EE IDE for Web Developers. Version: Oxygen.3a Release (4.7.3a)\r\n\r\nI have converted the projects to maven and groovy via Eclipse&#39;s own methods.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Z5Jj.png\r\n  [2]: https://i.stack.imgur.com/GRwbx.png\r\n  [3]: https://i.stack.imgur.com/Bot6Q.png","title":"Creating eclipse source files src/main/java and src/main/groovy with maven","body":"<p>I am trying to get a specific kind of file structure in eclipse for my work.\nThis is the structure I want:</p>\n<p><a href=\"https://i.stack.imgur.com/3Z5Jj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Z5Jj.png\" alt=\"fileStructure2\" /></a></p>\n<p>The problem I am having is that everytime I use <code>mvn eclipse:eclipse</code> the structure of the files gets broken like this:</p>\n<p><a href=\"https://i.stack.imgur.com/GRwbx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GRwbx.png\" alt=\"fileStructure1\" /></a></p>\n<p>I have tried most of the answers that I've found on Stack Overflow and elsewhere. I've tried making the fileStructure2 to a maven Archetype and it sort of worked, but as soon as I ran <code>mvn eclipse:eclipse</code> it broke again:</p>\n<p><a href=\"https://i.stack.imgur.com/Bot6Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bot6Q.png\" alt=\"arcTesting\" /></a></p>\n<p>I learned the basics of the archetype creation just today so I am not a master at that either and there might be something that is missing from the creation of the archetypes. I used <code>mvn archetype:create-from-project</code> in the FileStructure2 directory and then used <code>mvn install archetype:update-local-catalog</code> in the archetype directory which resulted the archetype to be added in the list of archetypes and I just created a new project with cmd and then ran <code>mvn eclipse:eclipse</code> which resulted in the above picture. I have not changed anything in the archetype folders that were created, I just used the basic ones that were created with running the archetype:create.</p>\n<p>Most of the other posts i've found are really old and none of them have the structure I want, or it is only for src/main/java which I get working as intended but it is just the src/main/groovy file that switches the location to a normal folder instead of a source folder.</p>\n<p>I am thinking it is my pom.xml that needs some modifications. at the moment it looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;FileStructure&lt;/groupId&gt;\n  &lt;artifactId&gt;FileStructure&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt; &lt;!-- required JUST since Groovy 2.5.0 --&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;  \n&lt;/project&gt;\n</code></pre>\n<p>I have not added any maven compiler plugins since I don't 100% know what they do and still break the structure no matter what I've tried.</p>\n<p>I am using apache-maven-3.8.5 which is downloaded with chocolatey. My eclipse jre and jdk versions are 1.8.0_333 but my java home is jdk11 since sonarQube can't use that old versions. My groovy is downloaded from the eclipse marketplace and it's compiler version is 2.5. My eclipse is a SAP netweaver. Eclipse Java EE IDE for Web Developers. Version: Oxygen.3a Release (4.7.3a)</p>\n<p>I have converted the projects to maven and groovy via Eclipse's own methods.</p>\n"},{"tags":["java","mysql","hibernate","c3p0"],"comments":[{"owner":{"account_id":1165580,"reputation":1248722,"user_id":1144035,"display_name":"Gordon Linoff"},"score":1,"creation_date":1458042824,"post_id":36010487,"comment_id":59672497,"body_markdown":"You can use full text indexes on `description` and `title`.","body":"You can use full text indexes on <code>description</code> and <code>title</code>."},{"owner":{"account_id":5661020,"reputation":361,"user_id":4478755,"display_name":"Sander de Jong"},"score":0,"creation_date":1458043196,"post_id":36010487,"comment_id":59672767,"body_markdown":"How many records are we talking about?","body":"How many records are we talking about?"},{"owner":{"account_id":624828,"reputation":3623,"user_id":373386,"accept_rate":49,"display_name":"Eddy"},"score":0,"creation_date":1458043400,"post_id":36010487,"comment_id":59672902,"body_markdown":"@SanderdeJong 1 million.","body":"@SanderdeJong 1 million."},{"owner":{"account_id":624828,"reputation":3623,"user_id":373386,"accept_rate":49,"display_name":"Eddy"},"score":0,"creation_date":1458043425,"post_id":36010487,"comment_id":59672920,"body_markdown":"@GordonLinoff there is a fulltext index on both columns.","body":"@GordonLinoff there is a fulltext index on both columns."},{"owner":{"account_id":1165580,"reputation":1248722,"user_id":1144035,"display_name":"Gordon Linoff"},"score":0,"creation_date":1458077959,"post_id":36010487,"comment_id":59696591,"body_markdown":"@Eddy . . . In that case, use `match()` to take advantage of it.","body":"@Eddy . . . In that case, use <code>match()</code> to take advantage of it."},{"owner":{"account_id":624828,"reputation":3623,"user_id":373386,"accept_rate":49,"display_name":"Eddy"},"score":0,"creation_date":1458116432,"post_id":36010487,"comment_id":59710043,"body_markdown":"@GordonLinoff so you do not believe this is a concurrency issue? When I run my query in the db it&#39;s fast enough. But when I send 10 concurrent ones through my app - and then hit the query on the db it waits until the app finishes and only then executes the query. I&#39;m using c3p0 and my 20 open connections should be enough.","body":"@GordonLinoff so you do not believe this is a concurrency issue? When I run my query in the db it&#39;s fast enough. But when I send 10 concurrent ones through my app - and then hit the query on the db it waits until the app finishes and only then executes the query. I&#39;m using c3p0 and my 20 open connections should be enough."},{"owner":{"account_id":5766830,"reputation":1224,"user_id":5431418,"accept_rate":40,"display_name":"vinieth"},"score":0,"creation_date":1627632989,"post_id":36010487,"comment_id":121212985,"body_markdown":"@Eddy same issue - https://stackoverflow.com/questions/68055948/concurrent-query-execution-is-slow-in-mysql-5-7 any solution for this ?","body":"@Eddy same issue - <a href=\"https://stackoverflow.com/questions/68055948/concurrent-query-execution-is-slow-in-mysql-5-7\" title=\"concurrent query execution is slow in mysql 5 7\">stackoverflow.com/questions/68055948/&hellip;</a> any solution for this ?"}],"answers":[{"tags":[],"owner":{"account_id":312557,"reputation":29237,"user_id":626692,"display_name":"Neville Kuyt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458046946,"creation_date":1458043528,"answer_id":36010860,"question_id":36010487,"body_markdown":"I&#39;m guessing that this is slow because the where clause is doing a full text search on the description and title columns; this will require the database to look through the entire field on every record, and that&#39;s never going to scale. \r\n\r\nEach of those 10 concurrent queries must read the 1 million rows to fulfill the query. If you have a bottleneck anywhere in the system - disk i/o, memory, CPU - you may not hit that bottleneck with a single query, but you do hit it with 10 concurrent queries. You could use one of [these tools][1] to find out which bottleneck you&#39;re hitting.\r\n\r\nMost of the time, those bottlenecks (CPU, memory, disk) are too expensive to upgrade - especially if you need to scale to 100 concurrent queries. So it&#39;s better to optimize the query/ORM approach. \r\n\r\nI&#39;d consider using Hibernate&#39;s built-in [free text capability][2] here - it requires some additional configuration, but works MUCH better when looking for arbitrary strings in a textual field.\r\n\r\n\r\n  [1]: http://www.tecmint.com/mysql-performance-monitoring/\r\n  [2]: https://www.laliluna.de/jpa-hibernate-guide/ch15.html","title":"MySql slow with concurrent queries","body":"<p>I'm guessing that this is slow because the where clause is doing a full text search on the description and title columns; this will require the database to look through the entire field on every record, and that's never going to scale. </p>\n\n<p>Each of those 10 concurrent queries must read the 1 million rows to fulfill the query. If you have a bottleneck anywhere in the system - disk i/o, memory, CPU - you may not hit that bottleneck with a single query, but you do hit it with 10 concurrent queries. You could use one of <a href=\"http://www.tecmint.com/mysql-performance-monitoring/\" rel=\"nofollow\">these tools</a> to find out which bottleneck you're hitting.</p>\n\n<p>Most of the time, those bottlenecks (CPU, memory, disk) are too expensive to upgrade - especially if you need to scale to 100 concurrent queries. So it's better to optimize the query/ORM approach. </p>\n\n<p>I'd consider using Hibernate's built-in <a href=\"https://www.laliluna.de/jpa-hibernate-guide/ch15.html\" rel=\"nofollow\">free text capability</a> here - it requires some additional configuration, but works MUCH better when looking for arbitrary strings in a textual field.</p>\n"}],"owner":{"account_id":624828,"reputation":3623,"user_id":373386,"accept_rate":49,"display_name":"Eddy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656631284,"creation_date":1458042516,"question_id":36010487,"body_markdown":"I&#39;m running queries in parallel against a `MySql` database. Each query takes less than a second and another half a second to a second to fetch. \r\n\r\nThis is acceptable for me. But when I run 10 of these queries in parallel and then attempt another set in a different session everything slows down and a single query can take some 20 plus seconds. \r\n\r\nMy ORM is `hibernate` and I&#39;m using `C3P0` with `&lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;`. I&#39;m sending the queries in parallel by using `Java` threads. But I don&#39;t think these are related because the slowdown also happens when I run queries in `MySql Workbench`. So I&#39;m assuming something in my MySql config is missing, or the machine is not fast enough. \r\n\r\nThis is the query: \r\n\r\n    select \r\n        *\r\n    FROM\r\n        schema.table\r\n    where\r\n        site = &#39;sitename&#39; and (description like &#39;% family %&#39; or title like &#39;% family %&#39;)\r\n    limit 100 offset 0;\r\n\r\nHow can I make this go faster when facing let&#39;s say 100 concurrent queries? ","title":"MySql slow with concurrent queries","body":"<p>I'm running queries in parallel against a <code>MySql</code> database. Each query takes less than a second and another half a second to a second to fetch. </p>\n\n<p>This is acceptable for me. But when I run 10 of these queries in parallel and then attempt another set in a different session everything slows down and a single query can take some 20 plus seconds. </p>\n\n<p>My ORM is <code>hibernate</code> and I'm using <code>C3P0</code> with <code>&lt;property name=\"hibernate.c3p0.max_size\"&gt;20&lt;/property&gt;</code>. I'm sending the queries in parallel by using <code>Java</code> threads. But I don't think these are related because the slowdown also happens when I run queries in <code>MySql Workbench</code>. So I'm assuming something in my MySql config is missing, or the machine is not fast enough. </p>\n\n<p>This is the query: </p>\n\n<pre><code>select \n    *\nFROM\n    schema.table\nwhere\n    site = 'sitename' and (description like '% family %' or title like '% family %')\nlimit 100 offset 0;\n</code></pre>\n\n<p>How can I make this go faster when facing let's say 100 concurrent queries? </p>\n"},{"tags":["java","arraylist","integer","compare","equals"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656631479,"post_id":72822956,"comment_id":128626451,"body_markdown":"You need to use a loop to check if each element in the first list matches each element in the second list. If you want to do it in a single line like that then create a method that does this and returns a boolean value then you can call it like so `if(yourCheckMethod(list1, list2)){System.out.println(&quot;equal!&quot;);}`","body":"You need to use a loop to check if each element in the first list matches each element in the second list. If you want to do it in a single line like that then create a method that does this and returns a boolean value then you can call it like so <code>if(yourCheckMethod(list1, list2)){System.out.println(&quot;equal!&quot;);}</code>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1656632307,"post_id":72822956,"comment_id":128626572,"body_markdown":"Does the order matter?  For example, should [1, 2, 3, 4] match [4, 1, 3, 2]?","body":"Does the order matter?  For example, should [1, 2, 3, 4] match [4, 1, 3, 2]?"},{"owner":{"account_id":24974342,"reputation":1,"user_id":18837164,"display_name":"ViiP"},"score":0,"creation_date":1656690182,"post_id":72822956,"comment_id":128641361,"body_markdown":"Yes the order matters. [1, 2, 3, 4] match only with [1, 2, 3, 4].","body":"Yes the order matters. [1, 2, 3, 4] match only with [1, 2, 3, 4]."}],"owner":{"account_id":24974342,"reputation":1,"user_id":18837164,"display_name":"ViiP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656632576,"answer_count":0,"score":0,"last_activity_date":1656631273,"creation_date":1656631273,"question_id":72822956,"body_markdown":"I have two ArryList.\r\nlist1 is always fixed (with Integer) [1, 2, 3, 4].\r\nlist2 is filled by an input (with Integer).\r\n\r\nNow I want to check if they are equal. Something like:\r\n\r\n        if (???) {\r\n          System.out.println(&quot;equal!&quot;);\r\n        }\r\n\r\n","title":"Java Compare two ArrayList&lt;Integer&gt;","body":"<p>I have two ArryList.\nlist1 is always fixed (with Integer) [1, 2, 3, 4].\nlist2 is filled by an input (with Integer).</p>\n<p>Now I want to check if they are equal. Something like:</p>\n<pre><code>    if (???) {\n      System.out.println(&quot;equal!&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring","api","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":24913919,"reputation":33,"user_id":18783116,"display_name":"Sunny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656630286,"creation_date":1656630286,"answer_id":72822871,"question_id":72807723,"body_markdown":"Finally i solved the problem. The problem was the wrong password. I wrote the right password, then fixed the error.","title":"how to fix &quot;Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.&quot;","body":"<p>Finally i solved the problem. The problem was the wrong password. I wrote the right password, then fixed the error.</p>\n"}],"owner":{"account_id":24913919,"reputation":33,"user_id":18783116,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656630286,"creation_date":1656535908,"question_id":72807723,"body_markdown":"I&#39;m getting this error when trying to run my Java code with Maven using Intellij:\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n\r\n2022-06-29 23:39:33.179 ERROR 4068 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n\r\npom.xml\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.server.app&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;RestAPI&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;!--&gt; mysql on my computer version, the version should be true&lt;--&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nRestApi.java\r\n``` package com.server.app.rest;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class RestApiApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RestApiApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nUser.java\r\n```\r\npackage com.server.app.rest.Models;\r\n\r\nimport javax.persistence.*;\r\n// mysql columns, connection\r\n@Entity\r\npublic class User {\r\n    // id is primary key\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    @Column\r\n    private String firstName;\r\n    @Column\r\n    private String lastName;\r\n    @Column\r\n    private String job;\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getJob() {\r\n        return job;\r\n    }\r\n\r\n    public void setJob(String job) {\r\n        this.job = job;\r\n    }\r\n}\r\n \r\n ```\r\n\r\nUserRepo.java\r\n``` package com.server.app.rest.Repo;\r\n\r\nimport com.server.app.rest.Models.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n//userrepo get features from jpa.\r\npublic interface UserRepo extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n ```\r\n\r\nproperies\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/crudusers?allowPublicKeyRetrieval=true&amp;useSSL=false\r\n\r\nspring.datasource.username=username\r\n\r\nspring.datasource.password=password\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\nApiControllers.java\r\n``` package com.server.app.rest.Controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class ApiControllers {\r\n    // first connect the page, except this- / - get error\r\n    @GetMapping(value = &quot;/&quot;)\r\n    public String getPage(){\r\n\r\n        return &quot;Welcome&quot;;\r\n    }\r\n}\r\n ```\r\n\r\n\r\n","title":"how to fix &quot;Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.&quot;","body":"<p>I'm getting this error when trying to run my Java code with Maven using Intellij:</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.</p>\n<p>2022-06-29 23:39:33.179 ERROR 4068 --- [           main] o.s.boot.SpringApplication               : Application run failed</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.server.app&lt;/groupId&gt;\n    &lt;artifactId&gt;rest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;RestAPI&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;!--&gt; mysql on my computer version, the version should be true&lt;--&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>RestApi.java</p>\n<pre><code>\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class RestApiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RestApiApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.server.app.rest.Models;\n\nimport javax.persistence.*;\n// mysql columns, connection\n@Entity\npublic class User {\n    // id is primary key\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    @Column\n    private String firstName;\n    @Column\n    private String lastName;\n    @Column\n    private String job;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getJob() {\n        return job;\n    }\n\n    public void setJob(String job) {\n        this.job = job;\n    }\n}\n \n</code></pre>\n<p>UserRepo.java</p>\n<pre><code>\nimport com.server.app.rest.Models.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n//userrepo get features from jpa.\npublic interface UserRepo extends JpaRepository&lt;User, Long&gt; {\n}\n</code></pre>\n<p>properies</p>\n<p>spring.datasource.url=jdbc:mysql://localhost:3306/crudusers?allowPublicKeyRetrieval=true&amp;useSSL=false</p>\n<p>spring.datasource.username=username</p>\n<p>spring.datasource.password=password</p>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n<p>ApiControllers.java</p>\n<pre><code>\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class ApiControllers {\n    // first connect the page, except this- / - get error\n    @GetMapping(value = &quot;/&quot;)\n    public String getPage(){\n\n        return &quot;Welcome&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","log4j","dotnetnuke-5"],"comments":[{"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"score":0,"creation_date":1357229678,"post_id":14142621,"comment_id":19584771,"body_markdown":"do you have file `log4j.properties` in your classpath?","body":"do you have file <code>log4j.properties</code> in your classpath?"}],"answers":[{"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1357231024,"creation_date":1357231024,"answer_id":14143119,"question_id":14142621,"body_markdown":"Make sure you have `log4j.properties` file in your classpath.\r\nThere are also other options to configure log4j if you want to name  however you want add a System property to the command line when you start Java, like this:\r\n\r\n    -Dlog4j.configuration=file:///path/to/your/log4j.properties\r\n\r\nSee the link http://logging.apache.org/log4j/1.2/manual.html#defaultInit","title":"How to recovery this error: log4j:WARN No appenders could be found for logger (net.sf.jasperreports.extensions.ExtensionsEnvironment)","body":"<p>Make sure you have <code>log4j.properties</code> file in your classpath.\nThere are also other options to configure log4j if you want to name  however you want add a System property to the command line when you start Java, like this:</p>\n\n<pre><code>-Dlog4j.configuration=file:///path/to/your/log4j.properties\n</code></pre>\n\n<p>See the link <a href=\"http://logging.apache.org/log4j/1.2/manual.html#defaultInit\" rel=\"nofollow\">http://logging.apache.org/log4j/1.2/manual.html#defaultInit</a></p>\n"}],"owner":{"account_id":2201838,"reputation":41,"user_id":1946050,"display_name":"Winda Kristiana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13223,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1656630285,"creation_date":1357229303,"question_id":14142621,"body_markdown":"I try to make report with ireport but i get this problem:\r\n\r\n&lt;pre&gt;log4j:WARN No appenders could be found for logger(net.sf.jasperreports.extensions.ExtensionsEnvironment).\r\nlog4j:WARN Please initialize the log4j system properly.&lt;/pre&gt;\r\n\r\nMy source:\r\n\r\n\r\n    private URL[] reports = new URL[]{\r\n            getClass().getResource(&quot;/Laporan/LapGuru.Jasper&quot;),\r\n            getClass().getResource(&quot;/Laporan/LapGuruByNIP.Jasper&quot;),};\r\n            private URL urlCurrent;\r\n    \r\n        try{           \r\n               \r\n                Map parameter = new HashMap();\r\n              \r\n                parameter.put(&quot;nip&quot;,this.txtNIP.getText());\r\n                InputStream os = null;\r\n                os = urlCurrent.openStream();\r\n                JasperReport jReport = (JasperReport)JRLoader.loadObject(os);\r\n                JasperPrint jPrint = JasperFillManager.fillReport(jReport, parameter, ClassDB.getkoneksi());\r\n                JRViewer viewer = new JRViewer(jPrint);\r\n                viewer.setOpaque(true);\r\n                viewer.setVisible(true);\r\n                jScrollPane1.add(viewer);\r\n                jScrollPane1.setViewportView(viewer);\r\n    \r\n                } catch (Exception ex)\r\n                {\r\n                    System.out.println(ex);\r\n                }","title":"How to recovery this error: log4j:WARN No appenders could be found for logger (net.sf.jasperreports.extensions.ExtensionsEnvironment)","body":"<p>I try to make report with ireport but i get this problem:</p>\n\n<pre>log4j:WARN No appenders could be found for logger(net.sf.jasperreports.extensions.ExtensionsEnvironment).\nlog4j:WARN Please initialize the log4j system properly.</pre>\n\n<p>My source:</p>\n\n<pre><code>private URL[] reports = new URL[]{\n        getClass().getResource(\"/Laporan/LapGuru.Jasper\"),\n        getClass().getResource(\"/Laporan/LapGuruByNIP.Jasper\"),};\n        private URL urlCurrent;\n\n    try{           \n\n            Map parameter = new HashMap();\n\n            parameter.put(\"nip\",this.txtNIP.getText());\n            InputStream os = null;\n            os = urlCurrent.openStream();\n            JasperReport jReport = (JasperReport)JRLoader.loadObject(os);\n            JasperPrint jPrint = JasperFillManager.fillReport(jReport, parameter, ClassDB.getkoneksi());\n            JRViewer viewer = new JRViewer(jPrint);\n            viewer.setOpaque(true);\n            viewer.setVisible(true);\n            jScrollPane1.add(viewer);\n            jScrollPane1.setViewportView(viewer);\n\n            } catch (Exception ex)\n            {\n                System.out.println(ex);\n            }\n</code></pre>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1656645870,"post_id":72822817,"comment_id":128628388,"body_markdown":"Could you provide your `Pageable.unpaged()` ?  Is  your `mvcResult` correct?","body":"Could you provide your <code>Pageable.unpaged()</code> ?  Is  your <code>mvcResult</code> correct?"},{"owner":{"account_id":25679784,"reputation":85,"user_id":19442733,"display_name":"TDev"},"score":0,"creation_date":1656662283,"post_id":72822817,"comment_id":128631675,"body_markdown":"My mvcResult seems correct with a 200 response expected that there is no body nor headers... Whether pageable is null or unpaged, the result is the same.","body":"My mvcResult seems correct with a 200 response expected that there is no body nor headers... Whether pageable is null or unpaged, the result is the same."}],"owner":{"account_id":25679784,"reputation":85,"user_id":19442733,"display_name":"TDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656629851,"creation_date":1656629851,"question_id":72822817,"body_markdown":"I am trying to make testings for my user controller but when I run the test it fails because the response body is empty.\r\n\r\nNote that the response code is 200 so i dont see where this problem comes from...\r\n\r\n```java\r\n@WebMvcTest(controllers = {UserRestController.class})\r\npublic class UserControllerTest {\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @MockBean\r\n    private UserService service;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    private User user1;\r\n\r\n    private User user2;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n        this.user1 = User.builder()\r\n                .email(&quot;doe.jean@mymel.com&quot;)\r\n                .username(&quot;Djin&quot;)\r\n                .build();\r\n        this.user2 = User.builder()\r\n                .email(&quot;doe.john@mymel.com&quot;)\r\n                .username(&quot;Jodo&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    public void test_shouldReturnAllUsers() throws Exception {\r\n        Mockito.when(service.getUsers(Pageable.unpaged())).thenReturn(new PageImpl&lt;&gt;(Arrays.asList(user1, user2)));\r\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(APIPaths.V1_USER_BASE + &quot;/all&quot;)\r\n                .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(request().asyncStarted())\r\n                .andReturn();\r\n        mockMvc.perform(asyncDispatch(mvcResult))\r\n                .andExpect(status().is(200))\r\n                .andExpect(jsonPath(&quot;$.size()&quot;, Matchers.is(2)))\r\n                .andDo(print());\r\n    }\r\n}\r\n```","title":"Test mocking return empty body","body":"<p>I am trying to make testings for my user controller but when I run the test it fails because the response body is empty.</p>\n<p>Note that the response code is 200 so i dont see where this problem comes from...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(controllers = {UserRestController.class})\npublic class UserControllerTest {\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @MockBean\n    private UserService service;\n\n    private MockMvc mockMvc;\n\n    private User user1;\n\n    private User user2;\n\n    @BeforeEach\n    public void setUp() {\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n        this.user1 = User.builder()\n                .email(&quot;doe.jean@mymel.com&quot;)\n                .username(&quot;Djin&quot;)\n                .build();\n        this.user2 = User.builder()\n                .email(&quot;doe.john@mymel.com&quot;)\n                .username(&quot;Jodo&quot;)\n                .build();\n    }\n\n    @Test\n    public void test_shouldReturnAllUsers() throws Exception {\n        Mockito.when(service.getUsers(Pageable.unpaged())).thenReturn(new PageImpl&lt;&gt;(Arrays.asList(user1, user2)));\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(APIPaths.V1_USER_BASE + &quot;/all&quot;)\n                .accept(MediaType.APPLICATION_JSON))\n                .andExpect(request().asyncStarted())\n                .andReturn();\n        mockMvc.perform(asyncDispatch(mvcResult))\n                .andExpect(status().is(200))\n                .andExpect(jsonPath(&quot;$.size()&quot;, Matchers.is(2)))\n                .andDo(print());\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1360678228,"creation_date":1360677476,"answer_id":14834246,"question_id":14834224,"body_markdown":"`ToFill.get(Position)` returns a value where the left-hand side of the assignment must be a variable. Instead, use [`set(index, element)`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#set(int,%20E)) as follows:\r\n\r\n    ToFill.set(Position, Value);\r\n\r\nHowever, what you are doing is only valid if you are using arrays, for example:\r\n\r\n    Integer[] array = ...\r\n    array[Position] = Value;\r\n\r\n---\r\n\r\nAs a side note, always use Java naming convention:\r\n\r\n - `toFill` instead of `ToFill`\r\n - `alter` instead of `Alter`\r\n - `position` instead of `Position`.\r\n - `value` instead of `Value`.","title":"Unexpected type required variable found value","body":"<p><code>ToFill.get(Position)</code> returns a value where the left-hand side of the assignment must be a variable. Instead, use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#set%28int,%20E%29\" rel=\"noreferrer\"><code>set(index, element)</code></a> as follows:</p>\n\n<pre><code>ToFill.set(Position, Value);\n</code></pre>\n\n<p>However, what you are doing is only valid if you are using arrays, for example:</p>\n\n<pre><code>Integer[] array = ...\narray[Position] = Value;\n</code></pre>\n\n<hr>\n\n<p>As a side note, always use Java naming convention:</p>\n\n<ul>\n<li><code>toFill</code> instead of <code>ToFill</code></li>\n<li><code>alter</code> instead of <code>Alter</code></li>\n<li><code>position</code> instead of <code>Position</code>.</li>\n<li><code>value</code> instead of <code>Value</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25695163,"reputation":1,"user_id":19455977,"display_name":"Hipokuta TM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656629202,"creation_date":1656629202,"answer_id":72822749,"question_id":14834224,"body_markdown":"    @FXML\r\n        private void handleButtonAction(ActionEvent event) {\r\n            System.out.println(&quot;You clicked me!&quot;);\r\n            label.setText(&quot;Hellow Word!&quot;);\r\n    \r\n                if (event.getSource() = btnInsert) {  //ERROR\r\n                    insertRecors();\r\n                }","title":"Unexpected type required variable found value","body":"<pre><code>@FXML\n    private void handleButtonAction(ActionEvent event) {\n        System.out.println(&quot;You clicked me!&quot;);\n        label.setText(&quot;Hellow Word!&quot;);\n\n            if (event.getSource() = btnInsert) {  //ERROR\n                insertRecors();\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25695163,"reputation":1,"user_id":19455977,"display_name":"Hipokuta TM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656629500,"creation_date":1656629500,"answer_id":72822782,"question_id":14834224,"body_markdown":"    package operator;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.stage.Stage;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.sql.*;\r\n    import java.util.ResourceBundle;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class Pyti implements Initializable {\r\n    \r\n        private Label label;\r\n    \r\n        // \r\n        @FXML\r\n        private TextField tfId;\r\n    \r\n        @FXML\r\n        private TextField tfTitle;\r\n    \r\n        //\r\n        @FXML\r\n        private TableView&lt;Books&gt; tvBooks;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Books, Integer&gt; colId;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Books, String&gt; colTitle;\r\n    \r\n        ///\r\n        @FXML\r\n        private Button behaind;\r\n    \r\n        @FXML\r\n        private Button glavnaia;\r\n        ///\r\n    \r\n        @FXML\r\n        private Button btnInsert;\r\n    \r\n        @FXML\r\n        private Button btnUpdate;\r\n    \r\n        @FXML\r\n        private Button btnDelete;\r\n    \r\n        @FXML\r\n        private void handleButtonAction(ActionEvent event) {\r\n            System.out.println(&quot;You clicked me!&quot;);\r\n            label.setText(&quot;Hellow Word!&quot;);\r\n    \r\n                if (event.getSource() = btnInsert) {\r\n                    insertRecors();\r\n                }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rd) {\r\n            {\r\n                showBooks();\r\n            }\r\n            glavnaia.setOnAction(event -&gt; {\r\n                openNewScene(&quot;/vhod.fxml&quot;);\r\n            });\r\n            behaind.setOnAction(event -&gt; {\r\n                openNewScene(&quot;/operator.fxml&quot;);\r\n            });\r\n        }\r\n    \r\n        private void openNewScene(String window) {\r\n    \r\n            glavnaia.getScene().getWindow().hide();\r\n    \r\n            FXMLLoader loader = new FXMLLoader();\r\n            loader.setLocation(getClass().getResource(window));\r\n    \r\n            try {\r\n                loader.load();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Parent root = loader.getRoot();\r\n            Stage stage = new Stage();\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n        }\r\n    \r\n        public Connection getConnection() {\r\n            Connection conn;\r\n            try {\r\n                conn = DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/mysor&quot;, &quot;root&quot;, &quot;12345&quot;);\r\n                return conn;\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Error: &quot; + ex.getMessage());\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public ObservableList&lt;Books&gt; getBooksList() {\r\n            ObservableList&lt;Books&gt; bookList = FXCollections.observableArrayList();\r\n            Connection conn = getConnection();\r\n            String query = &quot;SELECT * FROM books&quot;;\r\n            Statement st;\r\n            ResultSet rs;\r\n    \r\n            try {\r\n                st = conn.createStatement();\r\n                rs = st.executeQuery(query);\r\n                Books books;\r\n                while (rs.next()) {\r\n                    books = new Books(rs.getInt(&quot;id&quot;), rs.getString(&quot;title&quot;));\r\n                    bookList.add(books);\r\n                }\r\n    \r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return bookList;\r\n        }\r\n    \r\n        public void showBooks() {\r\n            ObservableList&lt;Books&gt; list = getBooksList();\r\n    \r\n            colId.setCellValueFactory(new PropertyValueFactory&lt;Books, Integer&gt;(&quot;id&quot;));\r\n            colTitle.setCellValueFactory(new PropertyValueFactory&lt;Books, String&gt;(&quot;title&quot;));\r\n    \r\n            tvBooks.setItems(list);\r\n        }\r\n    \r\n        private void insertRecors() throws SQLException {\r\n            String query = &quot;INCERT INTO books VALUES (&quot; + tfId.getText() + &quot;,&quot; + tfTitle.getText() + &quot;)&quot;;\r\n            executeQuery(query);\r\n            showBooks();\r\n        }\r\n    \r\n        private void executeQuery(String query) throws SQLException {\r\n            Connection conn = getConnection();\r\n            Statement st;\r\n            try {\r\n                st = conn.createStatement();\r\n                st.executeUpdate(query);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Unexpected type required variable found value","body":"<pre><code>package operator;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.stage.Stage;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.sql.*;\nimport java.util.ResourceBundle;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\n\npublic class Pyti implements Initializable {\n\n    private Label label;\n\n    // \n    @FXML\n    private TextField tfId;\n\n    @FXML\n    private TextField tfTitle;\n\n    //\n    @FXML\n    private TableView&lt;Books&gt; tvBooks;\n\n    @FXML\n    private TableColumn&lt;Books, Integer&gt; colId;\n\n    @FXML\n    private TableColumn&lt;Books, String&gt; colTitle;\n\n    ///\n    @FXML\n    private Button behaind;\n\n    @FXML\n    private Button glavnaia;\n    ///\n\n    @FXML\n    private Button btnInsert;\n\n    @FXML\n    private Button btnUpdate;\n\n    @FXML\n    private Button btnDelete;\n\n    @FXML\n    private void handleButtonAction(ActionEvent event) {\n        System.out.println(&quot;You clicked me!&quot;);\n        label.setText(&quot;Hellow Word!&quot;);\n\n            if (event.getSource() = btnInsert) {\n                insertRecors();\n            }\n\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle rd) {\n        {\n            showBooks();\n        }\n        glavnaia.setOnAction(event -&gt; {\n            openNewScene(&quot;/vhod.fxml&quot;);\n        });\n        behaind.setOnAction(event -&gt; {\n            openNewScene(&quot;/operator.fxml&quot;);\n        });\n    }\n\n    private void openNewScene(String window) {\n\n        glavnaia.getScene().getWindow().hide();\n\n        FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(getClass().getResource(window));\n\n        try {\n            loader.load();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        Parent root = loader.getRoot();\n        Stage stage = new Stage();\n        stage.setScene(new Scene(root));\n        stage.show();\n    }\n\n    public Connection getConnection() {\n        Connection conn;\n        try {\n            conn = DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/mysor&quot;, &quot;root&quot;, &quot;12345&quot;);\n            return conn;\n        } catch (Exception ex) {\n            System.out.println(&quot;Error: &quot; + ex.getMessage());\n            return null;\n        }\n    }\n\n    public ObservableList&lt;Books&gt; getBooksList() {\n        ObservableList&lt;Books&gt; bookList = FXCollections.observableArrayList();\n        Connection conn = getConnection();\n        String query = &quot;SELECT * FROM books&quot;;\n        Statement st;\n        ResultSet rs;\n\n        try {\n            st = conn.createStatement();\n            rs = st.executeQuery(query);\n            Books books;\n            while (rs.next()) {\n                books = new Books(rs.getInt(&quot;id&quot;), rs.getString(&quot;title&quot;));\n                bookList.add(books);\n            }\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return bookList;\n    }\n\n    public void showBooks() {\n        ObservableList&lt;Books&gt; list = getBooksList();\n\n        colId.setCellValueFactory(new PropertyValueFactory&lt;Books, Integer&gt;(&quot;id&quot;));\n        colTitle.setCellValueFactory(new PropertyValueFactory&lt;Books, String&gt;(&quot;title&quot;));\n\n        tvBooks.setItems(list);\n    }\n\n    private void insertRecors() throws SQLException {\n        String query = &quot;INCERT INTO books VALUES (&quot; + tfId.getText() + &quot;,&quot; + tfTitle.getText() + &quot;)&quot;;\n        executeQuery(query);\n        showBooks();\n    }\n\n    private void executeQuery(String query) throws SQLException {\n        Connection conn = getConnection();\n        Statement st;\n        try {\n            st = conn.createStatement();\n            st.executeUpdate(query);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1793324,"reputation":510,"user_id":1633277,"accept_rate":33,"display_name":"user1633277"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14834246,"answer_count":3,"score":0,"last_activity_date":1656629500,"creation_date":1360677406,"question_id":14834224,"body_markdown":"    public class example\r\n    {\r\n        public ArrayList&lt;Integer&gt; ToFill = new ArrayList&lt;&gt;();\r\n    \r\n        public void Alter(int Value , int Position)\r\n        { \r\n          ToFill.get(Position) = Value ;  // this line has an error \r\n        }\r\n    }\r\n\r\nFor some reason this code gives compilation Error ,could anyone explain why?","title":"Unexpected type required variable found value","body":"<pre><code>public class example\n{\n    public ArrayList&lt;Integer&gt; ToFill = new ArrayList&lt;&gt;();\n\n    public void Alter(int Value , int Position)\n    { \n      ToFill.get(Position) = Value ;  // this line has an error \n    }\n}\n</code></pre>\n\n<p>For some reason this code gives compilation Error ,could anyone explain why?</p>\n"},{"tags":["java","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656626904,"creation_date":1656626904,"answer_id":72822536,"question_id":72821820,"body_markdown":"You are shutting down the executor as soon as you get one response. Perhaps a few more have completed in this time, but you are not allowing time for any others to complete. \r\n\r\nYour logic here is wrong. The executor should only be shut down when you are sure no more tasks will be submitted; at soonest, that is after the loop responsible for re-submitting failures.\r\n\r\nHere is a simplified view of your code to highlight the premature shutdown:\r\n\r\n```java\r\nfor (int i = 0; i &lt; requests.size(); ++i) {\r\n  try {\r\n    final Future&lt;MyReqResDto&gt; future = completionService.take();\r\n    ...\r\n    responses.add(future.get());\r\n    ...\r\n  } finally {\r\n    executorService.shutdown();\r\n  }\r\n}\r\n```","title":"Resubmit Callable to executorService on exception","body":"<p>You are shutting down the executor as soon as you get one response. Perhaps a few more have completed in this time, but you are not allowing time for any others to complete.</p>\n<p>Your logic here is wrong. The executor should only be shut down when you are sure no more tasks will be submitted; at soonest, that is after the loop responsible for re-submitting failures.</p>\n<p>Here is a simplified view of your code to highlight the premature shutdown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; requests.size(); ++i) {\n  try {\n    final Future&lt;MyReqResDto&gt; future = completionService.take();\n    ...\n    responses.add(future.get());\n    ...\n  } finally {\n    executorService.shutdown();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25457992,"reputation":41,"user_id":19258303,"display_name":"treo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72822536,"answer_count":1,"score":0,"last_activity_date":1656629454,"creation_date":1656621887,"question_id":72821820,"body_markdown":"My situation\r\n\r\nI&#39;m trying to craft a functionality which would execute n (where n &gt;=0) requests to a given endpoint, but I do understand that sometimes that endpoint might not respond due to\r\n500 error or other issue, so I want to repeat my requests to an endpoint (with a \r\n small interval in between [not yet implemented]) till I get a response, or till I get an unknown error which would indicate what I can&#39;t repeat, because of other reasons than a crashed server.\r\n\r\nSo, I&#39;ve tried to implement this piece of functionality using Executors and concurrency provided by Java 11 and it does not work as I want \r\n\r\nI can&#39;t resubmit failed tasks till I get all the responses and I don&#39;t know why\r\n\r\nI have a method\r\n\r\n    private void DoMyTasks(List&lt;MyRequest&gt; requests) {\r\n        final ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n        final ExecutorCompletionService&lt;MyReqResDto&gt; completionService =\r\n                new ExecutorCompletionService&lt;&gt;(executorService);\r\n        for (final MyRequest MyRequest : requests) {\r\n            completionService.submit(new MyCallableRequest(webClient, MyRequest));\r\n        }\r\n\r\n        List&lt;MyReqResDto&gt; responses = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; requests.size(); ++i) {\r\n            try {\r\n                final Future&lt;MyReqResDto&gt; future = completionService.take();\r\n                if (future.get().getEx() != null) {\r\n                    completionService.submit(new MyCallableRequest(webClient, future.get().getMyRequest()));\r\n                }\r\n                responses.add(future.get());\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                log.warn(&quot;Error&quot;));\r\n            } catch (Exception exception) {\r\n                log.error(&quot;Other error&quot;);\r\n            } finally {\r\n                executorService.shutdown();\r\n                try {\r\n                    if (!executorService.awaitTermination(10, TimeUnit.MINUTES)) {\r\n                        executorService.shutdownNow();\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    executorService.shutdownNow();\r\n                }\r\n            }\r\n        }\r\n        responses.size();\r\n    }\r\n\r\nI&#39;m trying to repeat failed tasks with \r\n\r\n    if (future.get().getEx() != null) {\r\n       completionService.submit(new MyCallableRequest(webClient, future.get().getMyRequest()));\r\n    }\r\n\r\nand yet, at the end of execution I don&#39;t get all responses for my requests. What I get is at most 3 to 5 responses when I try executing 10 requests. Why? How to fix it?\r\n\r\nMy callable class is\r\n\r\n    public class MyCallableRequest implements Callable&lt;MyReqResDto&gt; {\r\n    \r\n        private final WebClient webClient;\r\n    \r\n        private final MyRequest myRequest;\r\n    \r\n        public MyCallableRequest(WebClient webClient, MyRequest myRequest) {\r\n            this.webClient = webClient;\r\n            this.myRequest = myRequest;\r\n        }\r\n    \r\n        @Override\r\n        public MyReqResDto call() throws Exception {\r\n            try {\r\n                if (new Random().nextInt(10) % 2 == 0) {\r\n                    throw new TestException();\r\n                }\r\n                if (new Random().nextInt(10) % 7 == 0) {\r\n                    throw new RuntimeException();\r\n                }\r\n                WebClient.UriSpec&lt;WebClient.RequestBodySpec&gt; uriSpec = webClient.post();\r\n                WebClient.RequestBodySpec bodySpec = uriSpec.uri(\r\n                        s -&gt; s.path(&quot;/myEndpoint&quot;).build());\r\n                MyRequestDto myMyRequestDto = new MyRequestDto();\r\n                WebClient.RequestHeadersSpec&lt;?&gt; headersSpec =\r\n                        bodySpec.body(Mono.just(myMyRequestDto), MyRequestDto.class);\r\n                ResponseDto responseDto = headersSpec.exchangeToMono(s -&gt; {\r\n                    if (s.statusCode().equals(HttpStatus.OK)) {\r\n                        return s.bodyToMono(ResponseDto.class);\r\n                    } else if (s.statusCode().is1xxInformational()) {\r\n                        return s.createException().flatMap(Mono::error);\r\n                    } else if (s.statusCode().is3xxRedirection()) {\r\n                        return s.createException().flatMap(Mono::error);\r\n                    } else if (s.statusCode().is4xxClientError()) {\r\n                        return s.createException().flatMap(Mono::error);\r\n                    } else if (s.statusCode().is5xxServerError()) {\r\n                        return s.createException().flatMap(Mono::error);\r\n                    } else {\r\n                        return s.createException().flatMap(Mono::error);\r\n                    }\r\n                    //return null;\r\n                }).block();\r\n                return new MyReqResDto(myRequest, responseDto, null);\r\n            } catch (Exception exception) {\r\n                return new MyReqResDto(myRequest, null, exception);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Update NO. 1**\r\n\r\nI changed a for loop to a while loop according to a comment provided by \r\n`Slaw` and an answer provided by `erickson`. And this solutions works, meaning that\r\nit is hammering an endpoint till all responses are received without \r\nany errors. But I&#39;m still not sure it feels that I&#39;m building a sh**\r\ntower with this solution. Is there any thread related issues that I should be aware while using executor like this? \r\n\r\n        while (true) {\r\n            Future &lt; MyReqResDto &gt; future = null;\r\n            try {\r\n                future = completionService.take();\r\n                if (future.get().getEx() != null /*and check exception if possible to handle, if not break from a loop*/) {\r\n                    completionService.submit(new MyCallableRequest(webClient, future.get().getRequestCT());\r\n                } else {\r\n                    responseDtos.add(future.get());\r\n                }\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                log.warn(&quot;Error while downloading&quot;, e.getCause());\r\n                // test if I can recover from these exceptions if no\r\n                   break;\r\n            }\r\n        }\r\n        if (responseDtos.size() == requests.size()) {\r\n            executorService.shutdown();\r\n            try {\r\n                if (!executorService.awaitTermination(10, TimeUnit.MINUTES)) {\r\n                    executorService.shutdownNow();\r\n                }\r\n            } catch (InterruptedException e) {\r\n                executorService.shutdownNow();\r\n            }\r\n            break;\r\n        }\r\n\r\n","title":"Resubmit Callable to executorService on exception","body":"<p>My situation</p>\n<p>I'm trying to craft a functionality which would execute n (where n &gt;=0) requests to a given endpoint, but I do understand that sometimes that endpoint might not respond due to\n500 error or other issue, so I want to repeat my requests to an endpoint (with a\nsmall interval in between [not yet implemented]) till I get a response, or till I get an unknown error which would indicate what I can't repeat, because of other reasons than a crashed server.</p>\n<p>So, I've tried to implement this piece of functionality using Executors and concurrency provided by Java 11 and it does not work as I want</p>\n<p>I can't resubmit failed tasks till I get all the responses and I don't know why</p>\n<p>I have a method</p>\n<pre><code>private void DoMyTasks(List&lt;MyRequest&gt; requests) {\n    final ExecutorService executorService = Executors.newFixedThreadPool(10);\n    final ExecutorCompletionService&lt;MyReqResDto&gt; completionService =\n            new ExecutorCompletionService&lt;&gt;(executorService);\n    for (final MyRequest MyRequest : requests) {\n        completionService.submit(new MyCallableRequest(webClient, MyRequest));\n    }\n\n    List&lt;MyReqResDto&gt; responses = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; requests.size(); ++i) {\n        try {\n            final Future&lt;MyReqResDto&gt; future = completionService.take();\n            if (future.get().getEx() != null) {\n                completionService.submit(new MyCallableRequest(webClient, future.get().getMyRequest()));\n            }\n            responses.add(future.get());\n        } catch (ExecutionException | InterruptedException e) {\n            log.warn(&quot;Error&quot;));\n        } catch (Exception exception) {\n            log.error(&quot;Other error&quot;);\n        } finally {\n            executorService.shutdown();\n            try {\n                if (!executorService.awaitTermination(10, TimeUnit.MINUTES)) {\n                    executorService.shutdownNow();\n                }\n            } catch (InterruptedException e) {\n                executorService.shutdownNow();\n            }\n        }\n    }\n    responses.size();\n}\n</code></pre>\n<p>I'm trying to repeat failed tasks with</p>\n<pre><code>if (future.get().getEx() != null) {\n   completionService.submit(new MyCallableRequest(webClient, future.get().getMyRequest()));\n}\n</code></pre>\n<p>and yet, at the end of execution I don't get all responses for my requests. What I get is at most 3 to 5 responses when I try executing 10 requests. Why? How to fix it?</p>\n<p>My callable class is</p>\n<pre><code>public class MyCallableRequest implements Callable&lt;MyReqResDto&gt; {\n\n    private final WebClient webClient;\n\n    private final MyRequest myRequest;\n\n    public MyCallableRequest(WebClient webClient, MyRequest myRequest) {\n        this.webClient = webClient;\n        this.myRequest = myRequest;\n    }\n\n    @Override\n    public MyReqResDto call() throws Exception {\n        try {\n            if (new Random().nextInt(10) % 2 == 0) {\n                throw new TestException();\n            }\n            if (new Random().nextInt(10) % 7 == 0) {\n                throw new RuntimeException();\n            }\n            WebClient.UriSpec&lt;WebClient.RequestBodySpec&gt; uriSpec = webClient.post();\n            WebClient.RequestBodySpec bodySpec = uriSpec.uri(\n                    s -&gt; s.path(&quot;/myEndpoint&quot;).build());\n            MyRequestDto myMyRequestDto = new MyRequestDto();\n            WebClient.RequestHeadersSpec&lt;?&gt; headersSpec =\n                    bodySpec.body(Mono.just(myMyRequestDto), MyRequestDto.class);\n            ResponseDto responseDto = headersSpec.exchangeToMono(s -&gt; {\n                if (s.statusCode().equals(HttpStatus.OK)) {\n                    return s.bodyToMono(ResponseDto.class);\n                } else if (s.statusCode().is1xxInformational()) {\n                    return s.createException().flatMap(Mono::error);\n                } else if (s.statusCode().is3xxRedirection()) {\n                    return s.createException().flatMap(Mono::error);\n                } else if (s.statusCode().is4xxClientError()) {\n                    return s.createException().flatMap(Mono::error);\n                } else if (s.statusCode().is5xxServerError()) {\n                    return s.createException().flatMap(Mono::error);\n                } else {\n                    return s.createException().flatMap(Mono::error);\n                }\n                //return null;\n            }).block();\n            return new MyReqResDto(myRequest, responseDto, null);\n        } catch (Exception exception) {\n            return new MyReqResDto(myRequest, null, exception);\n        }\n    }\n}\n</code></pre>\n<p><strong>Update NO. 1</strong></p>\n<p>I changed a for loop to a while loop according to a comment provided by\n<code>Slaw</code> and an answer provided by <code>erickson</code>. And this solutions works, meaning that\nit is hammering an endpoint till all responses are received without\nany errors. But I'm still not sure it feels that I'm building a sh**\ntower with this solution. Is there any thread related issues that I should be aware while using executor like this?</p>\n<pre><code>    while (true) {\n        Future &lt; MyReqResDto &gt; future = null;\n        try {\n            future = completionService.take();\n            if (future.get().getEx() != null /*and check exception if possible to handle, if not break from a loop*/) {\n                completionService.submit(new MyCallableRequest(webClient, future.get().getRequestCT());\n            } else {\n                responseDtos.add(future.get());\n            }\n        } catch (ExecutionException | InterruptedException e) {\n            log.warn(&quot;Error while downloading&quot;, e.getCause());\n            // test if I can recover from these exceptions if no\n               break;\n        }\n    }\n    if (responseDtos.size() == requests.size()) {\n        executorService.shutdown();\n        try {\n            if (!executorService.awaitTermination(10, TimeUnit.MINUTES)) {\n                executorService.shutdownNow();\n            }\n        } catch (InterruptedException e) {\n            executorService.shutdownNow();\n        }\n        break;\n    }\n</code></pre>\n"},{"tags":["java","string","whitespace","reverse"],"comments":[{"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green"},"score":0,"creation_date":1656570561,"post_id":72811141,"comment_id":128606138,"body_markdown":"An easy solution should be like this: when you iterate over the string, you count the number of trailing whitespaces. When you find the first non-whitespace character, you reverse the remaining string and finally concatenate the whitespaces with the reversed string.","body":"An easy solution should be like this: when you iterate over the string, you count the number of trailing whitespaces. When you find the first non-whitespace character, you reverse the remaining string and finally concatenate the whitespaces with the reversed string."},{"owner":{"account_id":25639361,"reputation":1,"user_id":19408518,"display_name":"Julie"},"score":0,"creation_date":1656644241,"post_id":72811141,"comment_id":128628165,"body_markdown":"Thsnk you all for your effort in helping me!","body":"Thsnk you all for your effort in helping me!"}],"answers":[{"tags":[],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656571139,"creation_date":1656571139,"answer_id":72811271,"question_id":72811141,"body_markdown":"The logic is simple: \r\n\r\n1. Traverse the start of the string and add whitespaces to `rev` until you meet the first non-whitespace\r\n2. Do your string reversal and stop before the whitespace section begins\r\n\r\n```\r\npublic static String reverseString(String newString) {\r\n    char ch[] = newString.toCharArray();  \r\n    String rev = &quot;&quot;;\r\n    int nWhitespace;\r\n    for (nWhitespace = 0; nWhitespace &lt; ch.length; nWhitespace++) {\r\n        if (!Character.isWhitespace(ch[i]) {\r\n            break;\r\n        }\r\n        rev += ch[i];\r\n    }\r\n\r\n    for(int i = ch.length - 1; i &gt;= nWhitespace; i--){  \r\n        rev += ch[i];  \r\n    }\r\n    return rev;  \r\n}\r\n```\r\n\r\nBy the way, you can improve your code by using `StringBuilder` instead of `+=`.","title":"How to write a Java program to include whitespaces at the beginning of a string that we want to reverse?","body":"<p>The logic is simple:</p>\n<ol>\n<li>Traverse the start of the string and add whitespaces to <code>rev</code> until you meet the first non-whitespace</li>\n<li>Do your string reversal and stop before the whitespace section begins</li>\n</ol>\n<pre><code>public static String reverseString(String newString) {\n    char ch[] = newString.toCharArray();  \n    String rev = &quot;&quot;;\n    int nWhitespace;\n    for (nWhitespace = 0; nWhitespace &lt; ch.length; nWhitespace++) {\n        if (!Character.isWhitespace(ch[i]) {\n            break;\n        }\n        rev += ch[i];\n    }\n\n    for(int i = ch.length - 1; i &gt;= nWhitespace; i--){  \n        rev += ch[i];  \n    }\n    return rev;  \n}\n</code></pre>\n<p>By the way, you can improve your code by using <code>StringBuilder</code> instead of <code>+=</code>.</p>\n"},{"tags":[],"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656629037,"creation_date":1656572979,"answer_id":72811621,"question_id":72811141,"body_markdown":"Here instead of keeping a count and then adding it, we will be checking if the character we are at currently in the string is a whitespace character. If yes, we add a space to our string builder.\r\n\r\nAs soon as we come across a non-whitespace character, we *break* out of the loop. \r\n\r\n    strB.append(new StringBuilder(inputString.trim()).reverse().toString());\r\n            return strB.toString();\r\n\r\nWhat this code does is:\r\n\r\n - Take string inputString and trim it (remove trailing and leading whitespaces.\r\n - Creates a new (anonymous) object of a StringBuilder and reverses it.\r\nConvert it into a string to append it to our original StringBuilder strB after the whitespaces.\r\nFinally, we convert it into String and return it.\r\n\r\nSome tips:\r\n\r\n - I will be using StringBuilder as it is mutable so saves space and also it contains a function to reverse it directly. \r\n - You should not call the length function of string in the loop as it will call it for every loop. Better to store the value in a variable and use that variable in the loop.\r\n\r\n```\r\npublic static String reverseString(String inputString) {\r\n\tStringBuilder strB = new StringBuilder();\r\n\tint len = inputString.length();\r\n\tfor (int i = 0; i&lt;len &amp;&amp; inputString.charAt(i) == &#39; &#39;; i++) {\r\n\t\tstrB.append(&quot; &quot;);\r\n\t}\r\n\tstrB.append(new StringBuilder(inputString.trim()).reverse().toString());\r\n\treturn strB.toString();\r\n}\r\n```","title":"How to write a Java program to include whitespaces at the beginning of a string that we want to reverse?","body":"<p>Here instead of keeping a count and then adding it, we will be checking if the character we are at currently in the string is a whitespace character. If yes, we add a space to our string builder.</p>\n<p>As soon as we come across a non-whitespace character, we <em>break</em> out of the loop.</p>\n<pre><code>strB.append(new StringBuilder(inputString.trim()).reverse().toString());\n        return strB.toString();\n</code></pre>\n<p>What this code does is:</p>\n<ul>\n<li>Take string inputString and trim it (remove trailing and leading whitespaces.</li>\n<li>Creates a new (anonymous) object of a StringBuilder and reverses it.\nConvert it into a string to append it to our original StringBuilder strB after the whitespaces.\nFinally, we convert it into String and return it.</li>\n</ul>\n<p>Some tips:</p>\n<ul>\n<li>I will be using StringBuilder as it is mutable so saves space and also it contains a function to reverse it directly.</li>\n<li>You should not call the length function of string in the loop as it will call it for every loop. Better to store the value in a variable and use that variable in the loop.</li>\n</ul>\n<pre><code>public static String reverseString(String inputString) {\n    StringBuilder strB = new StringBuilder();\n    int len = inputString.length();\n    for (int i = 0; i&lt;len &amp;&amp; inputString.charAt(i) == ' '; i++) {\n        strB.append(&quot; &quot;);\n    }\n    strB.append(new StringBuilder(inputString.trim()).reverse().toString());\n    return strB.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":25639361,"reputation":1,"user_id":19408518,"display_name":"Julie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1656629037,"creation_date":1656570234,"question_id":72811141,"body_markdown":"I want to reverse a string.\r\ninput:    Computer;\r\nThis input contains 4 whitespaces in the beginning of the word &#39;computer&#39;.I want to include these 4 whitespaces in the beginning of the reversed string also.So,the program should include all the whitespaces I put at the beginning while taking the reverse too(I put 4 whitespaces as an example only).\r\noutput:&quot;    retupmoc&quot;;\r\nI am attaching my code here.\r\n\r\n\r\n\r\n\r\n    package BasicTesting;\r\n    import java.util.*;\r\n    \r\n        public class Corrected_StringRev {\r\n        \r\n            public static void main(String[] args) {\r\n            \tScanner sc= new Scanner(System.in); //System.in is a standard input stream  \r\n            \tSystem.out.print(&quot;Enter a string: &quot;);  \r\n            \tString str= sc.nextLine();        \r\n                String reversed = reverseString( str );\r\n                \r\n                System.out.println( reversed );\r\n            }\r\n            \r\n            public static String reverseString( String newString ) {\r\n                \r\n            \tchar ch[]=newString.toCharArray();  \r\n                String rev=&quot;&quot;;  \r\n                for(int i=ch.length-1;i&gt;=0;i--){  \r\n                    rev+=ch[i];  \r\n                }  \r\n                return rev;  \r\n           \r\n            }\r\n        }\r\n\r\nHow can I change this code to include the above requirement.Please,rewrite the code.Hope ypu will help.Thanks in adavance!\r\n","title":"How to write a Java program to include whitespaces at the beginning of a string that we want to reverse?","body":"<p>I want to reverse a string.\ninput:    Computer;\nThis input contains 4 whitespaces in the beginning of the word 'computer'.I want to include these 4 whitespaces in the beginning of the reversed string also.So,the program should include all the whitespaces I put at the beginning while taking the reverse too(I put 4 whitespaces as an example only).\noutput:&quot;    retupmoc&quot;;\nI am attaching my code here.</p>\n<pre><code>package BasicTesting;\nimport java.util.*;\n\n    public class Corrected_StringRev {\n    \n        public static void main(String[] args) {\n            Scanner sc= new Scanner(System.in); //System.in is a standard input stream  \n            System.out.print(&quot;Enter a string: &quot;);  \n            String str= sc.nextLine();        \n            String reversed = reverseString( str );\n            \n            System.out.println( reversed );\n        }\n        \n        public static String reverseString( String newString ) {\n            \n            char ch[]=newString.toCharArray();  \n            String rev=&quot;&quot;;  \n            for(int i=ch.length-1;i&gt;=0;i--){  \n                rev+=ch[i];  \n            }  \n            return rev;  \n       \n        }\n    }\n</code></pre>\n<p>How can I change this code to include the above requirement.Please,rewrite the code.Hope ypu will help.Thanks in adavance!</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656590376,"creation_date":1656589744,"answer_id":72815268,"question_id":72813666,"body_markdown":"&gt; So lets assume the service is `InventoryService` and it has 200\r\n&gt; methods that we want to split up, and it uses the Product, Tax,\r\n&gt; Customer entities, would it make more sense to transfer the `business\r\n&gt; logic` to the entities themselves to reduce the code on the service\r\n&gt; level? Or rather add more services such as ProductInventoryService,\r\n&gt; TaxInventoryService and etc.. and move some of the logic to them?\r\n\r\nYou already answer to your own question here. Following the [SOLID Principles][1] and spliting your project into [Layers][2], you make your code more clear, readeable and finally more maintainable. \r\n\r\nIt is very important to have a seperation of concerns in your projects and avoid strong dependencies between your layers or your components.\r\n\r\n - By seperating your classes into `xxxService`, `xxxController` and `xxxRepository`, you implement the **S***ingle responsability principle*.\r\n - By organizing your classes into different layers, you adopt the *N-Tiers pattern* (at your project and package level)\r\n\r\nI would suggest you to post this question in the [Software Engineering][3] network.\r\n\r\n\r\n  [1]: https://www.freecodecamp.org/news/solid-principles-explained-in-plain-english/\r\n  [2]: https://stackoverflow.com/questions/40902280/what-is-the-recommended-project-structure-for-spring-boot-rest-projects\r\n  [3]: https://softwareengineering.stackexchange.com/","title":"spring boot fat service refactoring","body":"<blockquote>\n<p>So lets assume the service is <code>InventoryService</code> and it has 200\nmethods that we want to split up, and it uses the Product, Tax,\nCustomer entities, would it make more sense to transfer the <code>business logic</code> to the entities themselves to reduce the code on the service\nlevel? Or rather add more services such as ProductInventoryService,\nTaxInventoryService and etc.. and move some of the logic to them?</p>\n</blockquote>\n<p>You already answer to your own question here. Following the <a href=\"https://www.freecodecamp.org/news/solid-principles-explained-in-plain-english/\" rel=\"nofollow noreferrer\">SOLID Principles</a> and spliting your project into <a href=\"https://stackoverflow.com/questions/40902280/what-is-the-recommended-project-structure-for-spring-boot-rest-projects\">Layers</a>, you make your code more clear, readeable and finally more maintainable.</p>\n<p>It is very important to have a seperation of concerns in your projects and avoid strong dependencies between your layers or your components.</p>\n<ul>\n<li>By seperating your classes into <code>xxxService</code>, <code>xxxController</code> and <code>xxxRepository</code>, you implement the <strong>S</strong><em>ingle responsability principle</em>.</li>\n<li>By organizing your classes into different layers, you adopt the <em>N-Tiers pattern</em> (at your project and package level)</li>\n</ul>\n<p>I would suggest you to post this question in the <a href=\"https://softwareengineering.stackexchange.com/\">Software Engineering</a> network.</p>\n"}],"owner":{"account_id":186329,"reputation":387,"user_id":423649,"accept_rate":14,"display_name":"TomerMiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1656628849,"creation_date":1656582498,"question_id":72813666,"body_markdown":"I have a very fat class which hold the code `business logic` of my application. The class is using other service and sometimes other service&#39;s repositories to get data needed for its actions.\r\n\r\nThe entities in my application are just POJO.\r\n\r\nSo lets assume the service is `InventoryService` and it has 200 methods that we want to split up, and it uses the Product, Tax, Customer entities, would it make more sense to transfer the `business logic` to the entities themselves to reduce the code on the service level? Or rather add more services such as ProductInventoryService, TaxInventoryService and etc.. and move some of the logic to them?\r\n\r\nAny practical examples would be appreciated, the basic design of the app is controller &gt;service &gt;repository where we aim to use Entities between all layers and return DTO to the client from the controller.\r\nThanks\r\n","title":"spring boot fat service refactoring","body":"<p>I have a very fat class which hold the code <code>business logic</code> of my application. The class is using other service and sometimes other service's repositories to get data needed for its actions.</p>\n<p>The entities in my application are just POJO.</p>\n<p>So lets assume the service is <code>InventoryService</code> and it has 200 methods that we want to split up, and it uses the Product, Tax, Customer entities, would it make more sense to transfer the <code>business logic</code> to the entities themselves to reduce the code on the service level? Or rather add more services such as ProductInventoryService, TaxInventoryService and etc.. and move some of the logic to them?</p>\n<p>Any practical examples would be appreciated, the basic design of the app is controller &gt;service &gt;repository where we aim to use Entities between all layers and return DTO to the client from the controller.\nThanks</p>\n"},{"tags":["java","apache-kafka","jhipster","spring-cloud-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656617907,"post_id":72819902,"comment_id":128623288,"body_markdown":"Looks to me like your topic only has one partition, or your keys were all hashed into the same partition from the producer. You can use `kafka-consumer-groups --describe` to see what consumers are assigned what partitions","body":"Looks to me like your topic only has one partition, or your keys were all hashed into the same partition from the producer. You can use <code>kafka-consumer-groups --describe</code> to see what consumers are assigned what partitions"},{"owner":{"account_id":374940,"reputation":475,"user_id":725455,"accept_rate":51,"display_name":"user725455"},"score":0,"creation_date":1656624437,"post_id":72819902,"comment_id":128625034,"body_markdown":"No. It has 3 partitions\n Topic: pf-topic Partition: 0    Leader: 3       Replicas: 3,1   Isr: 3,1\n        Topic: pf-topic Partition: 1    Leader: 1       Replicas: 1,2   Isr: 1,2\n        Topic: pf-topic Partition: 2    Leader: 2       Replicas: 2,3   Isr: 2,3","body":"No. It has 3 partitions  Topic: pf-topic Partition: 0    Leader: 3       Replicas: 3,1   Isr: 3,1         Topic: pf-topic Partition: 1    Leader: 1       Replicas: 1,2   Isr: 1,2         Topic: pf-topic Partition: 2    Leader: 2       Replicas: 2,3   Isr: 2,3"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656685399,"post_id":72819902,"comment_id":128639512,"body_markdown":"Okay, well, it&#39;s still possible that two keys can have the same hash, so end up in the same partition","body":"Okay, well, it&#39;s still possible that two keys can have the same hash, so end up in the same partition"}],"answers":[{"tags":[],"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656628781,"creation_date":1656628781,"answer_id":72822708,"question_id":72819902,"body_markdown":"You are only setting the message key as a header when you are sending. You can add the `KafkaHeaders.PARTITION` header on the message to force a specific partition. \r\n\r\nIf you don&#39;t want to add a hard-coded partition through the header, you can set a partition key SpEL expression or a partition key extractor bean in your application. Both of these mechanisms are Spring Cloud Stream specific. If you provide either of these, you still need to tell Spring Cloud Stream how you want to select the partition. For that, you can use a partition selector SpEL expression or a Partition Selector strategy. If you don&#39;t provide them, then it will use a default selector strategy by taking the `hashCode` of the message key % number of topic partitions. \r\n\r\nI think you asked another related question yesterday and I linked this [blog][1] in my answer. In the last sections of that blog, all these details are explained. \r\n\r\nQuoting from the blog: \r\n&gt;If you dont provide a partition key expression or partition key extractor bean, then Spring Cloud Stream will completely stay out of the business of making any partition decision for you. In that case, if the topic has more than one partition, Kafkas default partitioning mechanisms will be triggered. By default, Kafka uses a DefaultPartitioner, which if the message has a key (see above), then using the hash of this key for computing the partition.\r\n\r\nI think you are seeing Kafka&#39;s default behavior in your application.\r\n\r\n  [1]: https://spring.io/blog/2021/02/03/demystifying-spring-cloud-stream-producers-with-apache-kafka-partitions","title":"Spring Cloud Stream send/consume message to different partitions with KafkaHeaders.Message_KEY","body":"<p>You are only setting the message key as a header when you are sending. You can add the <code>KafkaHeaders.PARTITION</code> header on the message to force a specific partition.</p>\n<p>If you don't want to add a hard-coded partition through the header, you can set a partition key SpEL expression or a partition key extractor bean in your application. Both of these mechanisms are Spring Cloud Stream specific. If you provide either of these, you still need to tell Spring Cloud Stream how you want to select the partition. For that, you can use a partition selector SpEL expression or a Partition Selector strategy. If you don't provide them, then it will use a default selector strategy by taking the <code>hashCode</code> of the message key % number of topic partitions.</p>\n<p>I think you asked another related question yesterday and I linked this <a href=\"https://spring.io/blog/2021/02/03/demystifying-spring-cloud-stream-producers-with-apache-kafka-partitions\" rel=\"nofollow noreferrer\">blog</a> in my answer. In the last sections of that blog, all these details are explained.</p>\n<p>Quoting from the blog:</p>\n<blockquote>\n<p>If you dont provide a partition key expression or partition key extractor bean, then Spring Cloud Stream will completely stay out of the business of making any partition decision for you. In that case, if the topic has more than one partition, Kafkas default partitioning mechanisms will be triggered. By default, Kafka uses a DefaultPartitioner, which if the message has a key (see above), then using the hash of this key for computing the partition.</p>\n</blockquote>\n<p>I think you are seeing Kafka's default behavior in your application.</p>\n"}],"owner":{"account_id":374940,"reputation":475,"user_id":725455,"accept_rate":51,"display_name":"user725455"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72822708,"answer_count":1,"score":1,"last_activity_date":1656628781,"creation_date":1656610621,"question_id":72819902,"body_markdown":"    I am trying to implement a prototype for implementing messaging system using Spring Cloud Stream. I selected Apache Kafka as binder. I created a topic with 2 partitions for scalability.  Then I tried to  send different messages to different partitions using following rest api method. \r\nI set 2 different message keys for 2 partitions .\r\n\r\n    @PostMapping(&quot;/publish&quot;)\r\n    public void publish(@RequestParam String message) {\r\n        log.debug(&quot;REST request the message : {} to send to Kafka topic &quot;, message);\r\n        Message message1 = MessageBuilder.withPayload(&quot;Hello from a&quot;)\r\n            .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node1&quot;)\r\n            .build();\r\n        Message message2 = MessageBuilder.withPayload(&quot;Hello from b&quot;)\r\n            .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node1&quot;)\r\n            .build();\r\n        Message message3 = MessageBuilder.withPayload(&quot;Hello from c&quot;)\r\n            .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node1&quot;)\r\n            .build();\r\n        Message message4 = MessageBuilder.withPayload(&quot;Hello from d&quot;)\r\n            .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node2&quot;)\r\n            .build();\r\n        Message message5 = MessageBuilder.withPayload(&quot;Hello from e&quot;)\r\n            .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node2&quot;)\r\n            .build();\r\n        Message message6 = MessageBuilder.withPayload(&quot;Hello from f&quot;)\r\n            .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node2&quot;)\r\n            .build();\r\n        output.send(&quot;simulatePf-out-0&quot;, message1);\r\n        output.send(&quot;simulatePf-out-0&quot;, message2);\r\n        output.send(&quot;simulatePf-out-0&quot;, message3);\r\n        output.send(&quot;simulatePf-out-0&quot;, message4);\r\n        output.send(&quot;simulatePf-out-0&quot;, message5);\r\n        output.send(&quot;simulatePf-out-0&quot;, message6);\r\n\r\n\r\n    }\r\n\r\nThis is my application.yml for producer application\r\n\r\n      cloud:\r\n    stream:\r\n      kafka:\r\n        binder:\r\n          replicationFactor: 2\r\n          auto-create-topics: true\r\n          brokers: localhost:9092,localhost:9093,localhost:9094\r\n          auto-add-partitions: true\r\n        bindings:\r\n          simulatePf-out-0:\r\n            producer:\r\n              configuration:\r\n                key.serializer: org.apache.kafka.common.serialization.StringSerializer\r\n                value.serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n      bindings:\r\n        simulatePf-out-0:\r\n          producer:\r\n            useNativeEncoding: true\r\n            partition-count: 3\r\n          destination: pf-topic\r\n          content-type: text/plain\r\n          group: dsa-back-end\r\n\r\nTo test parallelism, I created a consumer application that reads messages from pf-topic. This is configuration from consumer application. \r\n \r\n\r\n      cloud:\r\n    stream:\r\n      kafka:\r\n        binder:\r\n          replicationFactor: 2\r\n          auto-create-topics: true\r\n          brokers: localhost:9092, localhost:9093, localhost:9094\r\n          min-partition-count: 2\r\n        bindings:\r\n          simulatePf-in-0:\r\n              consumer:\r\n                  configuration:\r\n                    key.deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n                    value.deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n\r\n      bindings:\r\n        simulatePf-in-0:\r\n          destination: pf-topic\r\n          content-type: text/plain\r\n          group: powerflowservice\r\n          consumer:\r\n            use-native-decoding: true\r\n\r\n.\r\nI created a function in consumer application to consume messages\r\n\r\n       @Bean\r\n    public Consumer&lt;Message&gt; simulatePf() {\r\n        return message -&gt; {\r\n            log.info(&quot;header &quot; + message.getHeaders());\r\n            log.info(&quot;received &quot; + message.getPayload());\r\n        };\r\n    }\r\n\r\nNow it is time for testing. To test parallelism, I run 2 instances of spring boot consumer application . I was expecting to see one consumer consumes messages from one partition, other consumer consumer messages from other partition. So I expect that message a, message b, message is consumed by consumer one. Message d, message e and message f is consumer by other consumer. Because I set different message keys to assign different partitions. But all messages are consumed by only one application\r\n \r\n\r\n   \r\n\r\n     2022-06-30 20:34:48.895  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node1, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=270, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=a77d12f2-f184-0f2f-6a76-147803dd43f3, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488838, kafka_groupId=powerflowservice, timestamp=1656610488890}\r\n    2022-06-30 20:34:48.901  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from a\r\n    2022-06-30 20:34:48.929  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node1, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=271, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=2e89f9b7-b6e7-482f-3c46-f73b2ad0705c, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488840, kafka_groupId=powerflowservice, timestamp=1656610488929}\r\n    2022-06-30 20:34:48.932  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from b\r\n    2022-06-30 20:34:48.933  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node1, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=272, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=15640532-b57f-b58e-62e7-c2bc9375fdf0, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488841, kafka_groupId=powerflowservice, timestamp=1656610488933}\r\n    2022-06-30 20:34:48.934  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from c\r\n    2022-06-30 20:34:48.935  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node2, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=273, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=590f0fb7-042f-e134-d214-ead570e42fe3, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488842, kafka_groupId=powerflowservice, timestamp=1656610488934}\r\n    2022-06-30 20:34:48.938  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from d\r\n    2022-06-30 20:34:48.940  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node2, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=274, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=9a67e68b-95d4-a02e-cc14-ac30c684b639, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488842, kafka_groupId=powerflowservice, timestamp=1656610488940}\r\n    2022-06-30 20:34:48.941  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from e\r\n    2022-06-30 20:34:48.943  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node2, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=275, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=333269af-bbd5-12b0-09de-8bd7959ebf08, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488843, kafka_groupId=powerflowservice, timestamp=1656610488943}\r\n    2022-06-30 20:34:48.943  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from f\r\n\r\n Could you help me what I am missing.\r\n","title":"Spring Cloud Stream send/consume message to different partitions with KafkaHeaders.Message_KEY","body":"<pre><code>I am trying to implement a prototype for implementing messaging system using Spring Cloud Stream. I selected Apache Kafka as binder. I created a topic with 2 partitions for scalability.  Then I tried to  send different messages to different partitions using following rest api method. \n</code></pre>\n<p>I set 2 different message keys for 2 partitions .</p>\n<pre><code>@PostMapping(&quot;/publish&quot;)\npublic void publish(@RequestParam String message) {\n    log.debug(&quot;REST request the message : {} to send to Kafka topic &quot;, message);\n    Message message1 = MessageBuilder.withPayload(&quot;Hello from a&quot;)\n        .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node1&quot;)\n        .build();\n    Message message2 = MessageBuilder.withPayload(&quot;Hello from b&quot;)\n        .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node1&quot;)\n        .build();\n    Message message3 = MessageBuilder.withPayload(&quot;Hello from c&quot;)\n        .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node1&quot;)\n        .build();\n    Message message4 = MessageBuilder.withPayload(&quot;Hello from d&quot;)\n        .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node2&quot;)\n        .build();\n    Message message5 = MessageBuilder.withPayload(&quot;Hello from e&quot;)\n        .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node2&quot;)\n        .build();\n    Message message6 = MessageBuilder.withPayload(&quot;Hello from f&quot;)\n        .setHeader(KafkaHeaders.MESSAGE_KEY, &quot;node2&quot;)\n        .build();\n    output.send(&quot;simulatePf-out-0&quot;, message1);\n    output.send(&quot;simulatePf-out-0&quot;, message2);\n    output.send(&quot;simulatePf-out-0&quot;, message3);\n    output.send(&quot;simulatePf-out-0&quot;, message4);\n    output.send(&quot;simulatePf-out-0&quot;, message5);\n    output.send(&quot;simulatePf-out-0&quot;, message6);\n\n\n}\n</code></pre>\n<p>This is my application.yml for producer application</p>\n<pre><code>  cloud:\nstream:\n  kafka:\n    binder:\n      replicationFactor: 2\n      auto-create-topics: true\n      brokers: localhost:9092,localhost:9093,localhost:9094\n      auto-add-partitions: true\n    bindings:\n      simulatePf-out-0:\n        producer:\n          configuration:\n            key.serializer: org.apache.kafka.common.serialization.StringSerializer\n            value.serializer: org.springframework.kafka.support.serializer.JsonSerializer\n  bindings:\n    simulatePf-out-0:\n      producer:\n        useNativeEncoding: true\n        partition-count: 3\n      destination: pf-topic\n      content-type: text/plain\n      group: dsa-back-end\n</code></pre>\n<p>To test parallelism, I created a consumer application that reads messages from pf-topic. This is configuration from consumer application.</p>\n<pre><code>  cloud:\nstream:\n  kafka:\n    binder:\n      replicationFactor: 2\n      auto-create-topics: true\n      brokers: localhost:9092, localhost:9093, localhost:9094\n      min-partition-count: 2\n    bindings:\n      simulatePf-in-0:\n          consumer:\n              configuration:\n                key.deserializer: org.apache.kafka.common.serialization.StringDeserializer\n                value.deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n\n  bindings:\n    simulatePf-in-0:\n      destination: pf-topic\n      content-type: text/plain\n      group: powerflowservice\n      consumer:\n        use-native-decoding: true\n</code></pre>\n<p>.\nI created a function in consumer application to consume messages</p>\n<pre><code>   @Bean\npublic Consumer&lt;Message&gt; simulatePf() {\n    return message -&gt; {\n        log.info(&quot;header &quot; + message.getHeaders());\n        log.info(&quot;received &quot; + message.getPayload());\n    };\n}\n</code></pre>\n<p>Now it is time for testing. To test parallelism, I run 2 instances of spring boot consumer application . I was expecting to see one consumer consumes messages from one partition, other consumer consumer messages from other partition. So I expect that message a, message b, message is consumed by consumer one. Message d, message e and message f is consumer by other consumer. Because I set different message keys to assign different partitions. But all messages are consumed by only one application</p>\n<pre><code> 2022-06-30 20:34:48.895  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node1, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=270, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=a77d12f2-f184-0f2f-6a76-147803dd43f3, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488838, kafka_groupId=powerflowservice, timestamp=1656610488890}\n2022-06-30 20:34:48.901  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from a\n2022-06-30 20:34:48.929  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node1, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=271, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=2e89f9b7-b6e7-482f-3c46-f73b2ad0705c, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488840, kafka_groupId=powerflowservice, timestamp=1656610488929}\n2022-06-30 20:34:48.932  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from b\n2022-06-30 20:34:48.933  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node1, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=272, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=15640532-b57f-b58e-62e7-c2bc9375fdf0, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488841, kafka_groupId=powerflowservice, timestamp=1656610488933}\n2022-06-30 20:34:48.934  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from c\n2022-06-30 20:34:48.935  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node2, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=273, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=590f0fb7-042f-e134-d214-ead570e42fe3, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488842, kafka_groupId=powerflowservice, timestamp=1656610488934}\n2022-06-30 20:34:48.938  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from d\n2022-06-30 20:34:48.940  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node2, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=274, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=9a67e68b-95d4-a02e-cc14-ac30c684b639, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488842, kafka_groupId=powerflowservice, timestamp=1656610488940}\n2022-06-30 20:34:48.941  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from e\n2022-06-30 20:34:48.943  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : header {deliveryAttempt=1, kafka_timestampType=CREATE_TIME, kafka_receivedMessageKey=node2, kafka_receivedTopic=pf-topic, skip-input-type-conversion=true, kafka_offset=275, scst_nativeHeadersPresent=true, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@1eaf51df, source-type=streamBridge, id=333269af-bbd5-12b0-09de-8bd7959ebf08, kafka_receivedPartitionId=0, kafka_receivedTimestamp=1656610488843, kafka_groupId=powerflowservice, timestamp=1656610488943}\n2022-06-30 20:34:48.943  INFO 11860 --- [container-0-C-1] c.s.powerflow.config.AsyncConfiguration  : received Hello from f\n</code></pre>\n<p>Could you help me what I am missing.</p>\n"},{"tags":["java","minecraft-fabric"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656633615,"post_id":72822613,"comment_id":128626780,"body_markdown":"Yes, you can allow for multiple translations. The typical way is to have a config file with all the translations, and you load that when the mod starts, and call a method that returns the correct one based on the system Local or the client language, for example, if you created a class called `Localisation` with a static method that gets the correct answer `getFoundText()` that returns the correct language then just replace `&quot;found&quot;` directly with `Localisation.getFoundText()`. You could also hard code multiple languages and do exactly the same thing with a getter method.","body":"Yes, you can allow for multiple translations. The typical way is to have a config file with all the translations, and you load that when the mod starts, and call a method that returns the correct one based on the system Local or the client language, for example, if you created a class called <code>Localisation</code> with a static method that gets the correct answer <code>getFoundText()</code> that returns the correct language then just replace <code>&quot;found&quot;</code> directly with <code>Localisation.getFoundText()</code>. You could also hard code multiple languages and do exactly the same thing with a getter method."},{"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"score":0,"creation_date":1656636379,"post_id":72822613,"comment_id":128627166,"body_markdown":"I would create a Manager that can get a message with an identifier like &quot;found.item&quot; and replace placeholders with what you need","body":"I would create a Manager that can get a message with an identifier like &quot;found.item&quot; and replace placeholders with what you need"}],"owner":{"account_id":25695053,"reputation":1,"user_id":19455880,"display_name":"BlueLP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656627787,"creation_date":1656627787,"question_id":72822613,"body_markdown":"I want to program an item that posts the coordinates of certain ores in the chat.\r\n\r\nBut now my question is whether I can also put parts of the chat message as a translation or only hardcoded, so that it only outputs what I programmed.\r\n\r\nI work with Minecraft fabric for 1.18.2 and the code below is what i have:\r\n\r\n```\r\n    private void outputValuableCoordinates(BlockPos blockPos, PlayerEntity player, Block blockBelow) {\r\n        player.sendMessage(new LiteralText(&quot;Found &quot;\r\n                + blockBelow.asItem().getName().getString()\r\n                + &quot; at &quot; +\r\n                &quot;(&quot; + blockPos.getX() + &quot;, &quot; + blockPos.getY() + &quot;,&quot; + blockPos.getZ() + &quot;)&quot;), false);\r\n    }\r\n```\r\n\r\nAnd i would make a TranslatableText out of &quot;Found&quot; and &quot;at&quot;\r\n\r\n","title":"TranslatableText inside a LiteralText SendMessage","body":"<p>I want to program an item that posts the coordinates of certain ores in the chat.</p>\n<p>But now my question is whether I can also put parts of the chat message as a translation or only hardcoded, so that it only outputs what I programmed.</p>\n<p>I work with Minecraft fabric for 1.18.2 and the code below is what i have:</p>\n<pre><code>    private void outputValuableCoordinates(BlockPos blockPos, PlayerEntity player, Block blockBelow) {\n        player.sendMessage(new LiteralText(&quot;Found &quot;\n                + blockBelow.asItem().getName().getString()\n                + &quot; at &quot; +\n                &quot;(&quot; + blockPos.getX() + &quot;, &quot; + blockPos.getY() + &quot;,&quot; + blockPos.getZ() + &quot;)&quot;), false);\n    }\n</code></pre>\n<p>And i would make a TranslatableText out of &quot;Found&quot; and &quot;at&quot;</p>\n"},{"tags":["java","coldfusion","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656537706,"post_id":72807720,"comment_id":128600639,"body_markdown":"What database engine? Exactly precisely what data type of your column?","body":"What database engine? Exactly precisely what data type of your column?"},{"owner":{"account_id":479425,"reputation":5404,"user_id":892076,"accept_rate":53,"display_name":"Nick Petrie"},"score":1,"creation_date":1656599331,"post_id":72807720,"comment_id":128616920,"body_markdown":"I see how my question is maybe TMI and misleading. I&#39;ll edit. I don&#39;t need help parsing inputs or loading into the database. Those I can do with CF. The question is more about taking a datetime string (e.g. `&#39;2022-06-29T14:30:00&#39;`), adding the America/New_York timezone to it, and converting it to UTC.","body":"I see how my question is maybe TMI and misleading. I&#39;ll edit. I don&#39;t need help parsing inputs or loading into the database. Those I can do with CF. The question is more about taking a datetime string (e.g. <code>&#39;2022-06-29T14:30:00&#39;</code>), adding the America/New_York timezone to it, and converting it to UTC."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656627379,"creation_date":1656538130,"answer_id":72808066,"question_id":72807720,"body_markdown":"# tl;dr\r\n\r\nYou said:\r\n\r\n&gt; The question is more about taking a datetime string (e.g. &#39;2022-06-29T14:30:00&#39;), adding the America/New_York timezone to it, and converting it to UTC.\r\n\r\n    LocalDateTime\r\n    .parse( &quot;2022-06-29T14:30:00&quot; )      // taking a datetime string (e.g. &#39;2022-06-29T14:30:00&#39;)\r\n    .atZone( \r\n        ZoneId.of( &quot;America/New_York&quot; )  // adding the America/New_York timezone to it\r\n    )                                    // Returns a `ZonedDateTime` object. \r\n    .toInstant()                         // converting it to UTC\r\n\r\nSee this [code run live at Ideone.com][1].\r\n\r\n&gt; 2022-06-29T18:30:00Z\r\n\r\n\r\n# Details\r\n\r\nYou neglected to mention your database engine and the precise type of your column. So we cannot give a full answer. I can address part of it. \r\n\r\n&gt; So the goal is to take the user&#39;s date &amp; time, treat it like America/New_York, and convert it to UTC.\r\n\r\n    DateTimeFormatter fDate = DateTimeFormatter.  ;  // Define a formatter to match the format used by your user. \r\n    LocalDate ld = LocalDate.parse( inputDate , fDate ) ;\r\n\r\nTrap for `DateTimeParseException` to detect faulty inputs. \r\n\r\nDo similarly for `LocalTime`.\r\n\r\n    DateTimeFormatter fTime = DateTimeFormatter.  ;  // Define a formatter to match the format used by your user. \r\n    LocalTime lt = LocalDate.parse( inputTime , fTime ) ;\r\n\r\nCombine with time zone to determine a moment. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/New_York&quot; ) ;\r\n    ZonedDateTime zdt =\r\n    ZonedDateTime.of( ld , lt , z ) ;\r\n\r\nAdjust to UTC.\r\n\r\n    Instant instant = zdt.toInstant() ;\r\n\r\nAll of this has been covered many many times on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://ideone.com/BEV6Rp","title":"Convert time from specific timezone to UTC (ColdFusion/Java)","body":"<h1>tl;dr</h1>\n<p>You said:</p>\n<blockquote>\n<p>The question is more about taking a datetime string (e.g. '2022-06-29T14:30:00'), adding the America/New_York timezone to it, and converting it to UTC.</p>\n</blockquote>\n<pre><code>LocalDateTime\n.parse( &quot;2022-06-29T14:30:00&quot; )      // taking a datetime string (e.g. '2022-06-29T14:30:00')\n.atZone( \n    ZoneId.of( &quot;America/New_York&quot; )  // adding the America/New_York timezone to it\n)                                    // Returns a `ZonedDateTime` object. \n.toInstant()                         // converting it to UTC\n</code></pre>\n<p>See this <a href=\"https://ideone.com/BEV6Rp\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>2022-06-29T18:30:00Z</p>\n</blockquote>\n<h1>Details</h1>\n<p>You neglected to mention your database engine and the precise type of your column. So we cannot give a full answer. I can address part of it.</p>\n<blockquote>\n<p>So the goal is to take the user's date &amp; time, treat it like America/New_York, and convert it to UTC.</p>\n</blockquote>\n<pre><code>DateTimeFormatter fDate = DateTimeFormatter.  ;  // Define a formatter to match the format used by your user. \nLocalDate ld = LocalDate.parse( inputDate , fDate ) ;\n</code></pre>\n<p>Trap for <code>DateTimeParseException</code> to detect faulty inputs.</p>\n<p>Do similarly for <code>LocalTime</code>.</p>\n<pre><code>DateTimeFormatter fTime = DateTimeFormatter.  ;  // Define a formatter to match the format used by your user. \nLocalTime lt = LocalDate.parse( inputTime , fTime ) ;\n</code></pre>\n<p>Combine with time zone to determine a moment.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/New_York&quot; ) ;\nZonedDateTime zdt =\nZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n<p>Adjust to UTC.</p>\n<pre><code>Instant instant = zdt.toInstant() ;\n</code></pre>\n<p>All of this has been covered many many times on Stack Overflow. Search to learn more.</p>\n"},{"tags":[],"owner":{"account_id":290280,"reputation":4997,"user_id":591736,"accept_rate":64,"display_name":"Redtopia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656545978,"creation_date":1656544725,"answer_id":72808792,"question_id":72807720,"body_markdown":"Heres what I do:\r\n\r\nLike you, I store timestamps in UTC. Then I output them into the DOM in ISO-8601 format wrapped in a &lt;span&gt; element so I can then find them and and convert them in the browser using any number of JavaScript libraries. I use [sugar.js][1], which I love.\r\n\r\nThe advantage to doing it this way is that because the timestamp is rendered in the browser, it will use the current time and time zone that is set on that computer. The result is that the timestamp will be rendered locally no matter what timezone they are in. \r\n\r\nFor example, on the server in ColdFusion, the following code converts your local server time to UTC. Even if your server is in UTC, I think you should do this just to always be sure.\r\n\r\n    utc = DateConvert(Local2UTC, now());\r\n\r\nThen, output the date in ISO where it goes in the DOM:\r\n\r\n    writeOutput(&#39;&lt;span class=&quot;isodate&quot;&gt;#DateFormat(utc, &quot;YYYY-MM-DD&quot;)#T#TimeFormat(utc, &quot;HH:mm:ss.l&quot;)#Z&lt;/span&gt;&#39;);\r\n\r\nThe browser will get:\r\n\r\n    &lt;span class=&quot;isodate&quot;&gt;2022-06-29 15:00:00.000Z&lt;/span&gt;\r\n\r\nThen write some JavaScript code to find those isodate elements and convert them. In sugar.js it looks something like (I&#39;m using jquery just to make it easy to understand):\r\n\r\n    $(&#39;span.isodate&#39;).each(function(ix,elem) {\r\n        var iso = $(elem).text(),\r\n            d = Date.create(iso),\r\n            localDate = d.format(&#39;{Weekday}, {Month} {d}, {yyyy} at {h}:{mm} {tt} (&#39; + d.relative() + &#39;)&#39;);\r\n        $(elem).text(localDate);\r\n    });\r\n\r\nOf course you can use whatever format you want, or whatever Javascript library you want to convert the date. [momentjs.com][2] is another one, but a little more complex. Sugar.js is super lightweight and easy to use and has great date support.\r\n\r\nThese code snippets above demonstrate the pieces of the puzzle and have not been tested. You could make it all work however you want... for example, I have a ColdFusion function that generates an ISO-8601 string for given a date. I&#39;ve also got javascript functions that make it easy to find and convert these elements to local time. Good luck!\r\n\r\n  [1]: https://sugarjs.com\r\n  [2]: https://momentjs.com/","title":"Convert time from specific timezone to UTC (ColdFusion/Java)","body":"<p>Heres what I do:</p>\n<p>Like you, I store timestamps in UTC. Then I output them into the DOM in ISO-8601 format wrapped in a  element so I can then find them and and convert them in the browser using any number of JavaScript libraries. I use <a href=\"https://sugarjs.com\" rel=\"nofollow noreferrer\">sugar.js</a>, which I love.</p>\n<p>The advantage to doing it this way is that because the timestamp is rendered in the browser, it will use the current time and time zone that is set on that computer. The result is that the timestamp will be rendered locally no matter what timezone they are in.</p>\n<p>For example, on the server in ColdFusion, the following code converts your local server time to UTC. Even if your server is in UTC, I think you should do this just to always be sure.</p>\n<pre><code>utc = DateConvert(Local2UTC, now());\n</code></pre>\n<p>Then, output the date in ISO where it goes in the DOM:</p>\n<pre><code>writeOutput('&lt;span class=&quot;isodate&quot;&gt;#DateFormat(utc, &quot;YYYY-MM-DD&quot;)#T#TimeFormat(utc, &quot;HH:mm:ss.l&quot;)#Z&lt;/span&gt;');\n</code></pre>\n<p>The browser will get:</p>\n<pre><code>&lt;span class=&quot;isodate&quot;&gt;2022-06-29 15:00:00.000Z&lt;/span&gt;\n</code></pre>\n<p>Then write some JavaScript code to find those isodate elements and convert them. In sugar.js it looks something like (I'm using jquery just to make it easy to understand):</p>\n<pre><code>$('span.isodate').each(function(ix,elem) {\n    var iso = $(elem).text(),\n        d = Date.create(iso),\n        localDate = d.format('{Weekday}, {Month} {d}, {yyyy} at {h}:{mm} {tt} (' + d.relative() + ')');\n    $(elem).text(localDate);\n});\n</code></pre>\n<p>Of course you can use whatever format you want, or whatever Javascript library you want to convert the date. <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">momentjs.com</a> is another one, but a little more complex. Sugar.js is super lightweight and easy to use and has great date support.</p>\n<p>These code snippets above demonstrate the pieces of the puzzle and have not been tested. You could make it all work however you want... for example, I have a ColdFusion function that generates an ISO-8601 string for given a date. I've also got javascript functions that make it easy to find and convert these elements to local time. Good luck!</p>\n"}],"owner":{"account_id":479425,"reputation":5404,"user_id":892076,"accept_rate":53,"display_name":"Nick Petrie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72808066,"answer_count":2,"score":1,"last_activity_date":1656627379,"creation_date":1656535898,"question_id":72807720,"body_markdown":"We need to take a datetime string (which we&#39;ve already received and validated from user form inputs), treat it as being specific to the `America/New_York` timezone, and convert it to `UTC`.\r\n\r\nWe&#39;re currently running ColdFusion 2018, which is limited in its native datetime functionality. So I wanted to tap into the underlying Java. Most CF-related solutions are pre-`java.time`, so I attempted my own based on other Stack Overflow answers. Hoping someone with more Java knowledge can review this solution. (This is in CF Script, but it should be pretty self-documenting.) Is this correct and is there a better/more efficient solution?\r\n\r\n```\r\nvar validatedDateTime = &#39;2022-06-29T14:30:00&#39;;\r\n\r\nLocalDateTime = createObject(&#39;java&#39;, &#39;java.time.LocalDateTime&#39;);\r\nZoneID = createObject(&#39;java&#39;, &#39;java.time.ZoneId&#39;);\r\nZoneOffset = createObject(&#39;java&#39;, &#39;java.time.ZoneOffset&#39;);\r\n\r\nldt = LocalDateTime.parse(validatedDateTime);\r\nnyZone = ZoneID.of(&#39;America/New_York&#39;);\r\nodt = ldt.atOffset(nyZone.getRules().getOffset(ldt));\r\nutcDateTime = odt.withOffsetSameInstant(ZoneOffset.UTC).toLocalDateTime();```","title":"Convert time from specific timezone to UTC (ColdFusion/Java)","body":"<p>We need to take a datetime string (which we've already received and validated from user form inputs), treat it as being specific to the <code>America/New_York</code> timezone, and convert it to <code>UTC</code>.</p>\n<p>We're currently running ColdFusion 2018, which is limited in its native datetime functionality. So I wanted to tap into the underlying Java. Most CF-related solutions are pre-<code>java.time</code>, so I attempted my own based on other Stack Overflow answers. Hoping someone with more Java knowledge can review this solution. (This is in CF Script, but it should be pretty self-documenting.) Is this correct and is there a better/more efficient solution?</p>\n<pre><code>var validatedDateTime = '2022-06-29T14:30:00';\n\nLocalDateTime = createObject('java', 'java.time.LocalDateTime');\nZoneID = createObject('java', 'java.time.ZoneId');\nZoneOffset = createObject('java', 'java.time.ZoneOffset');\n\nldt = LocalDateTime.parse(validatedDateTime);\nnyZone = ZoneID.of('America/New_York');\nodt = ldt.atOffset(nyZone.getRules().getOffset(ldt));\nutcDateTime = odt.withOffsetSameInstant(ZoneOffset.UTC).toLocalDateTime();```\n</code></pre>\n"},{"tags":["java","spring","backend"],"comments":[{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1574427976,"post_id":58994870,"comment_id":104240175,"body_markdown":"Please add the output of the postman console to your question. Is there any additional request mapping on you controller?","body":"Please add the output of the postman console to your question. Is there any additional request mapping on you controller?"},{"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"score":0,"creation_date":1574443112,"post_id":58994870,"comment_id":104248146,"body_markdown":"Please add the whole class (is there another @RequestMapping on the class?) and the url you are calling...","body":"Please add the whole class (is there another @RequestMapping on the class?) and the url you are calling..."},{"owner":{"account_id":14977321,"reputation":109,"user_id":10812397,"display_name":"vmilojevic"},"score":0,"creation_date":1574450430,"post_id":58994870,"comment_id":104251221,"body_markdown":"Why do you have two `TweetRepository` instances in your controller class? I think the problem might be because you autowired `tweets` and didn&#39;t autowired `tweetRepository` (which you are using in PUT and DELETE methods)","body":"Why do you have two <code>TweetRepository</code> instances in your controller class? I think the problem might be because you autowired <code>tweets</code> and didn&#39;t autowired <code>tweetRepository</code> (which you are using in PUT and DELETE methods)"},{"owner":{"account_id":8447748,"reputation":38021,"user_id":6337748,"accept_rate":38,"display_name":"notionquest"},"score":0,"creation_date":1574456433,"post_id":58994870,"comment_id":104253756,"body_markdown":"Please check whether you have any CORS setup or Spring security configuration which doesn&#39;t allow certain methods or allow only certain methods such as GET, POST etc.","body":"Please check whether you have any CORS setup or Spring security configuration which doesn&#39;t allow certain methods or allow only certain methods such as GET, POST etc."},{"owner":{"account_id":16702753,"reputation":11,"user_id":12071968,"display_name":"Diego Mota"},"score":0,"creation_date":1574456922,"post_id":58994870,"comment_id":104253930,"body_markdown":"I fixed the @Autowired question getting only one TweetRepository and replacing it on both methods, but that error continues... I`ll see the CORS question now","body":"I fixed the @Autowired question getting only one TweetRepository and replacing it on both methods, but that error continues... I`ll see the CORS question now"},{"owner":{"account_id":16702753,"reputation":11,"user_id":12071968,"display_name":"Diego Mota"},"score":0,"creation_date":1574461293,"post_id":58994870,"comment_id":104255326,"body_markdown":"Checked CORS, continues to fail... the interesting is that the others methods are working","body":"Checked CORS, continues to fail... the interesting is that the others methods are working"}],"answers":[{"tags":[],"owner":{"account_id":10400096,"reputation":27,"user_id":7668673,"display_name":"uchpochmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656627275,"creation_date":1655918974,"answer_id":72719714,"question_id":58994870,"body_markdown":"In my case I made a typo in the path name. It was `@DeleteMapping(&quot;/department/{id}&quot;)` but should&#39;ve been `@DeleteMapping(&quot;/departments/{id}&quot;)`","title":"I&#39;m getting this error when I run my Spring backend: 405 Method Not Allowed Request method &#39;PUT&#39; not supported","body":"<p>In my case I made a typo in the path name. It was <code>@DeleteMapping(&quot;/department/{id}&quot;)</code> but should've been <code>@DeleteMapping(&quot;/departments/{id}&quot;)</code></p>\n"}],"owner":{"account_id":16702753,"reputation":11,"user_id":12071968,"display_name":"Diego Mota"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656627275,"creation_date":1574427767,"question_id":58994870,"body_markdown":"This is my controller class, it compile and run normally but doing the put request from Postman I get the 405 error. I have the POST and GET method working fine but the PUT and DELETE, not. url is http://localhost:8080/tweets\r\n    \r\n    @CrossOrigin\r\n    @RestController\r\n    @RequestMapping (&quot;/tweets&quot;)\r\n    public class TweetController {\r\n\r\n\t@Autowired\r\n\tprivate TweetRepository tweets;\r\n\tprivate TweetRepository tweetRepository;\r\n\t\r\n\t@GetMapping\r\n\tpublic List&lt;Tweet&gt; listar() {\r\n\t\t\r\n\t\treturn tweets.findAll();\r\n\t\t\r\n\t}\r\n\t\r\n\t@GetMapping (&quot;/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Tweet&gt; buscar(@PathVariable Long id) {\r\n\t\t\r\n\t\tOptional&lt;Tweet&gt; tweet = tweets.findById(id);\r\n\t\r\n\t\tif (tweet.isEmpty()) {\r\n\t\t\treturn ResponseEntity.notFound().build();\r\n\t\t}\r\n\t\t\r\n\t\treturn ResponseEntity.ok(tweet.get());\r\n\t}\r\n\t\r\n\t@PostMapping\r\n\t@ResponseStatus(HttpStatus.CREATED)\r\n\tpublic Tweet adicionar(@Valid @RequestBody Tweet tweet) {\r\n\t\tOptional&lt;Tweet&gt; tweetExistente = tweets\r\n\t\t\t\t.findByNomeAndTexto(tweet.getNome(), tweet.getTexto());\r\n\t\t\t\t\r\n\t\tif (tweetExistente.isPresent()) {\r\n\t\t\tthrow new ResponseStatusException(HttpStatus.BAD_REQUEST,\r\n\t\t\t\t\t&quot;Existing data&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn tweets.save(tweet);\r\n\t}\r\n\t\r\n\t\r\n\t@PutMapping(&quot;/{id}&quot;)\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\tpublic ResponseEntity&lt;Object&gt; editar(@RequestBody Tweet tweet, @PathVariable long id) {\r\n\r\n\t\tOptional&lt;Tweet&gt; tweetOptional = tweetRepository.findById(id);\r\n\r\n\t\tif (!tweetOptional.isPresent())\r\n\t\t\treturn ResponseEntity.notFound().build();\r\n\t\t\r\n\t\ttweet.setId(tweet.getId());\r\n\t\ttweet.setNome(tweet.getNome());\r\n\t\ttweet.setTexto(tweet.getTexto());\r\n\t\t\r\n\t\ttweetRepository.save(tweet);\r\n\r\n\t\treturn ResponseEntity.noContent().build();\r\n\t}\r\n\t\r\n\t@DeleteMapping(&quot;/{id}&quot;)\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\tpublic void deletar(@PathVariable long id) {\r\n\t\ttweetRepository.deleteById(id);\r\n\t}\r\n\r\n\r\nThe output must be this:\r\n{\r\n    &quot;timestamp&quot;: &quot;2019-11-22T12:53:32.290+0000&quot;,\r\n    &quot;status&quot;: 405,\r\n    &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n    &quot;message&quot;: &quot;Request method &#39;PUT&#39; not supported&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;PUT&#39; not supported\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:201)\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:421)\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:367)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getHandlerInternal(RequestMappingHandlerMapping.java:449)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getHandlerInternal(RequestMappingHandlerMapping.java:67)\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:393)\\n\\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1234)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1016)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:663)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:835)\\n&quot;,\r\n    &quot;path&quot;: &quot;/tweets&quot;\r\n}","title":"I&#39;m getting this error when I run my Spring backend: 405 Method Not Allowed Request method &#39;PUT&#39; not supported","body":"<p>This is my controller class, it compile and run normally but doing the put request from Postman I get the 405 error. I have the POST and GET method working fine but the PUT and DELETE, not. url is <a href=\"http://localhost:8080/tweets\" rel=\"nofollow noreferrer\">http://localhost:8080/tweets</a></p>\n\n<pre><code>@CrossOrigin\n@RestController\n@RequestMapping (\"/tweets\")\npublic class TweetController {\n\n@Autowired\nprivate TweetRepository tweets;\nprivate TweetRepository tweetRepository;\n\n@GetMapping\npublic List&lt;Tweet&gt; listar() {\n\n    return tweets.findAll();\n\n}\n\n@GetMapping (\"/{id}\")\npublic ResponseEntity&lt;Tweet&gt; buscar(@PathVariable Long id) {\n\n    Optional&lt;Tweet&gt; tweet = tweets.findById(id);\n\n    if (tweet.isEmpty()) {\n        return ResponseEntity.notFound().build();\n    }\n\n    return ResponseEntity.ok(tweet.get());\n}\n\n@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic Tweet adicionar(@Valid @RequestBody Tweet tweet) {\n    Optional&lt;Tweet&gt; tweetExistente = tweets\n            .findByNomeAndTexto(tweet.getNome(), tweet.getTexto());\n\n    if (tweetExistente.isPresent()) {\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST,\n                \"Existing data\");\n    }\n\n    return tweets.save(tweet);\n}\n\n\n@PutMapping(\"/{id}\")\n@ResponseStatus(HttpStatus.OK)\npublic ResponseEntity&lt;Object&gt; editar(@RequestBody Tweet tweet, @PathVariable long id) {\n\n    Optional&lt;Tweet&gt; tweetOptional = tweetRepository.findById(id);\n\n    if (!tweetOptional.isPresent())\n        return ResponseEntity.notFound().build();\n\n    tweet.setId(tweet.getId());\n    tweet.setNome(tweet.getNome());\n    tweet.setTexto(tweet.getTexto());\n\n    tweetRepository.save(tweet);\n\n    return ResponseEntity.noContent().build();\n}\n\n@DeleteMapping(\"/{id}\")\n@ResponseStatus(HttpStatus.OK)\npublic void deletar(@PathVariable long id) {\n    tweetRepository.deleteById(id);\n}\n</code></pre>\n\n<p>The output must be this:\n{\n    \"timestamp\": \"2019-11-22T12:53:32.290+0000\",\n    \"status\": 405,\n    \"error\": \"Method Not Allowed\",\n    \"message\": \"Request method 'PUT' not supported\",\n    \"trace\": \"org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' not supported\\n\\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:201)\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:421)\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:367)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getHandlerInternal(RequestMappingHandlerMapping.java:449)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.getHandlerInternal(RequestMappingHandlerMapping.java:67)\\n\\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:393)\\n\\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1234)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1016)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:663)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:835)\\n\",\n    \"path\": \"/tweets\"\n}</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":8821468,"reputation":366,"user_id":6591178,"display_name":"garnulf"},"score":2,"creation_date":1469312459,"post_id":38546840,"comment_id":64485646,"body_markdown":"You should switch your conditions, the first is `temp&gt;=n/2` and the second `temp&lt;n/2`","body":"You should switch your conditions, the first is <code>temp&gt;=n&#47;2</code> and the second <code>temp&lt;n&#47;2</code>"},{"owner":{"account_id":8470335,"reputation":59,"user_id":6353181,"display_name":"roj"},"score":0,"creation_date":1469312998,"post_id":38546840,"comment_id":64485771,"body_markdown":"@garnulf Well, I tried doing that. It corrected result for aforementioned arrays but changed the result of other two arrays (3rd and 6th). Instead of **{0, 3, 3, 3, 6} and {0, 0, 5, 5, 5}**, I got **[3, 3, 3, 6, 6] and [0, 5, 5, 5, 5]**","body":"@garnulf Well, I tried doing that. It corrected result for aforementioned arrays but changed the result of other two arrays (3rd and 6th). Instead of <b>{0, 3, 3, 3, 6} and {0, 0, 5, 5, 5}</b>, I got <b>[3, 3, 3, 6, 6] and [0, 5, 5, 5, 5]</b>"},{"owner":{"account_id":8821468,"reputation":366,"user_id":6591178,"display_name":"garnulf"},"score":0,"creation_date":1469313459,"post_id":38546840,"comment_id":64485871,"body_markdown":"You need to divide by 2.0 additionally otherwise 3/2 results in 1 not 1.5","body":"You need to divide by 2.0 additionally otherwise 3/2 results in 1 not 1.5"}],"answers":[{"tags":[],"owner":{"account_id":3074867,"reputation":5008,"user_id":2796524,"accept_rate":89,"display_name":"Felix Edelmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469313864,"creation_date":1469313864,"answer_id":38547045,"question_id":38546840,"body_markdown":"I would change this code:\r\n\r\n    else if (a[i] &gt; 0) {\r\n        temp = a[i] % n;\r\n        if (temp &gt; n/2) {\r\n            b[i] = a[i] + (n - temp);\r\n        }\r\n        if (temp &lt;= n/2) {\r\n            b[i] = a[i]-temp;\r\n        }\r\n    }\r\n\r\nTo:\r\n\r\n    else if (a[i] &gt; 0) {\r\n        temp = a[i] / n;\r\n        if ((n*temp - a[i]) * -1 &lt; n*(temp+1) - a[i]) {\r\n            b[i] = n*temp;\r\n        }\r\n        else {\r\n            b[i] = n*(temp+1);\r\n        }\r\n    }","title":"Integer based rounding issue","body":"<p>I would change this code:</p>\n\n<pre><code>else if (a[i] &gt; 0) {\n    temp = a[i] % n;\n    if (temp &gt; n/2) {\n        b[i] = a[i] + (n - temp);\n    }\n    if (temp &lt;= n/2) {\n        b[i] = a[i]-temp;\n    }\n}\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>else if (a[i] &gt; 0) {\n    temp = a[i] / n;\n    if ((n*temp - a[i]) * -1 &lt; n*(temp+1) - a[i]) {\n        b[i] = n*temp;\n    }\n    else {\n        b[i] = n*(temp+1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469324967,"creation_date":1469324967,"answer_id":38548015,"question_id":38546840,"body_markdown":"Let me suggest a different approach:\r\n\r\nCall the value you&#39;re working with `v`:\r\n\r\n1. Calculate the remainder when dividing `v` by `n`\r\n2. Subtract this remainder from `v`; this results in rounding down\r\n3. If the remainder is equal to or greater `n/2`, add `n`; this results in rounding up.\r\n\r\nIn code, for your particular problem structure:\r\n\r\n    public void doIntegerBasedRounding(int[] values, int n)\r\n    {\r\n        if (n &gt; 0)\r\n        {\r\n            for (int i=0; i&lt;values.length; i++)\r\n            {\r\n                if (values[i] &gt; 0)\r\n                {\r\n                    int rem = values[i]%n;\r\n                    values[i] = values[i] - rem + (rem&gt;=n/2 ? n : 0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Integer based rounding issue","body":"<p>Let me suggest a different approach:</p>\n\n<p>Call the value you're working with <code>v</code>:</p>\n\n<ol>\n<li>Calculate the remainder when dividing <code>v</code> by <code>n</code></li>\n<li>Subtract this remainder from <code>v</code>; this results in rounding down</li>\n<li>If the remainder is equal to or greater <code>n/2</code>, add <code>n</code>; this results in rounding up.</li>\n</ol>\n\n<p>In code, for your particular problem structure:</p>\n\n<pre><code>public void doIntegerBasedRounding(int[] values, int n)\n{\n    if (n &gt; 0)\n    {\n        for (int i=0; i&lt;values.length; i++)\n        {\n            if (values[i] &gt; 0)\n            {\n                int rem = values[i]%n;\n                values[i] = values[i] - rem + (rem&gt;=n/2 ? n : 0);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2919487,"reputation":436,"user_id":2502066,"display_name":"Preetam Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469541772,"creation_date":1469536018,"answer_id":38589900,"question_id":38546840,"body_markdown":"You need to do the comparison in the if block in the floating precision as as the compilers ignore the floating values in the int precision while division arithmetic operation.\r\n\r\nso you just need to add a Floating element in the test expression.\r\n\r\nbelow is the method which works fine:\r\n\r\n\tprivate static int[] doIntegerBasedRounding(int[] is, int i) {\r\n\t\ti = Math.abs(i);\r\n\t\tfor (int j = 0; j &lt; is.length; j++) {\r\n\t\t\tint mod = is[j] % i;\r\n\t\t\tif (is[j] &gt;= 0) {\r\n\t\t\t\tif (mod &lt; i / 2f)\r\n\t\t\t\t\tis[j] -= mod;\r\n\t\t\t\telse\r\n\t\t\t\t\tis[j] += (i - mod);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn is;\r\n\t}\r\n\r\nrunning the following:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 4, 5, 6, 7, 8, 9, 9 }, 5)));\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 2)));\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 3)));\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, -3)));\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { -1, -2, -3, -4, -5 }, 3)));\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { -18, 1, 2, 3, 4, 5 }, 4)));\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 5)));\r\n    \t\tSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 100)));\r\n    \t}\r\n\r\n**produces output:**\r\n\r\n    [0, 0, 5, 5, 5, 5, 10, 10, 10]\r\n\t[2, 2, 4, 4, 6]\r\n\t[0, 3, 3, 3, 6]\r\n\t[0, 3, 3, 3, 6]\r\n\t[-1, -2, -3, -4, -5]\r\n\t[-18, 0, 4, 4, 4, 4]\r\n\t[0, 0, 5, 5, 5]\r\n\t[0, 0, 0, 0, 0]\r\n\r\n","title":"Integer based rounding issue","body":"<p>You need to do the comparison in the if block in the floating precision as as the compilers ignore the floating values in the int precision while division arithmetic operation.</p>\n\n<p>so you just need to add a Floating element in the test expression.</p>\n\n<p>below is the method which works fine:</p>\n\n<pre><code>private static int[] doIntegerBasedRounding(int[] is, int i) {\n    i = Math.abs(i);\n    for (int j = 0; j &lt; is.length; j++) {\n        int mod = is[j] % i;\n        if (is[j] &gt;= 0) {\n            if (mod &lt; i / 2f)\n                is[j] -= mod;\n            else\n                is[j] += (i - mod);\n        }\n    }\n    return is;\n}\n</code></pre>\n\n<p>running the following:</p>\n\n<pre><code>public static void main(String[] args) {\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 4, 5, 6, 7, 8, 9, 9 }, 5)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 2)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 3)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, -3)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { -1, -2, -3, -4, -5 }, 3)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { -18, 1, 2, 3, 4, 5 }, 4)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 5)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int[] { 1, 2, 3, 4, 5 }, 100)));\n    }\n</code></pre>\n\n<p><strong>produces output:</strong></p>\n\n<pre><code>[0, 0, 5, 5, 5, 5, 10, 10, 10]\n[2, 2, 4, 4, 6]\n[0, 3, 3, 3, 6]\n[0, 3, 3, 3, 6]\n[-1, -2, -3, -4, -5]\n[-18, 0, 4, 4, 4, 4]\n[0, 0, 5, 5, 5]\n[0, 0, 0, 0, 0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5861112,"reputation":1,"user_id":4616772,"display_name":"GuangkaiRen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521111129,"creation_date":1521111129,"answer_id":49297541,"question_id":38546840,"body_markdown":"    private static long[] doIntegerBasedRounding(int[] ints, int i) {\r\n        long[] result = new long[ints.length];\r\n        for (int k = 0; k &lt; ints.length; k++) {\r\n            int item = ints[k];\r\n            if (i == 0) {\r\n                result[k] = 0;\r\n                continue;\r\n            } else if (i &lt; 0) {\r\n                i = -i;\r\n            }\r\n            if (item &lt; 0) {\r\n                result[k] = item;\r\n                continue;\r\n            }\r\n            int multi = 0;\r\n            int right = 0;\r\n            while (right &lt; item) {\r\n                right = i*(++multi);\r\n            }\r\n            int left = i*(multi-1);\r\n\r\n            if (right + left &lt;= 2*item) {\r\n                result[k] = right;\r\n            } else {\r\n                result[k] = left;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1,2,4,5,6,7,8,9,9},5)));\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},2)));\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},3)));\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},-3)));\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-1, -2, -3, -4, -5},3)));\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-18, 1, 2, 3, 4, 5},4)));\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},5)));\r\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},100)));\r\n\r\n    [0, 0, 5, 5, 5, 5, 10, 10, 10]\r\n    [2, 2, 4, 4, 6]\r\n    [0, 3, 3, 3, 6]\r\n    [0, 3, 3, 3, 6]\r\n    [-1, -2, -3, -4, -5]\r\n    [-18, 0, 4, 4, 4, 4]\r\n    [0, 0, 5, 5, 5]\r\n    [0, 0, 0, 0, 0]","title":"Integer based rounding issue","body":"<pre><code>private static long[] doIntegerBasedRounding(int[] ints, int i) {\n    long[] result = new long[ints.length];\n    for (int k = 0; k &lt; ints.length; k++) {\n        int item = ints[k];\n        if (i == 0) {\n            result[k] = 0;\n            continue;\n        } else if (i &lt; 0) {\n            i = -i;\n        }\n        if (item &lt; 0) {\n            result[k] = item;\n            continue;\n        }\n        int multi = 0;\n        int right = 0;\n        while (right &lt; item) {\n            right = i*(++multi);\n        }\n        int left = i*(multi-1);\n\n        if (right + left &lt;= 2*item) {\n            result[k] = right;\n        } else {\n            result[k] = left;\n        }\n    }\n    return result;\n}\n\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1,2,4,5,6,7,8,9,9},5)));\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},2)));\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},3)));\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},-3)));\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-1, -2, -3, -4, -5},3)));\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-18, 1, 2, 3, 4, 5},4)));\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},5)));\nSystem.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},100)));\n\n[0, 0, 5, 5, 5, 5, 10, 10, 10]\n[2, 2, 4, 4, 6]\n[0, 3, 3, 3, 6]\n[0, 3, 3, 3, 6]\n[-1, -2, -3, -4, -5]\n[-18, 0, 4, 4, 4, 4]\n[0, 0, 5, 5, 5]\n[0, 0, 0, 0, 0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13346328,"reputation":1,"user_id":9632948,"display_name":"Eng-hend Aboujarad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1525137750,"creation_date":1525137750,"answer_id":50110272,"question_id":38546840,"body_markdown":"my code:\r\n\t\r\n\tpublic static void doIntegerBasedRounding(int[]a,int n) {\r\n\t\t\r\n\t\tSystem.out.print(&quot;{ &quot;);\r\n\t\tif(n&gt;0) {\r\n\t\tfor(int i=0;i&lt;a.length;i++) {\r\n\t\t\tif(a[i]&gt;=0) {\r\n\t\t\t\tif(n%2==0) {\r\n\t\t\t\tif(a[i]%n &gt;= n/2) {\r\n\t\t\ta[i]=((a[i]/n)*n)+n;\r\n\t\t\tSystem.out.print(a[i]+ &quot;, &quot;);\r\n\t\t\t}else {\r\n\t\t\t\ta[i]=(a[i]/n)*n;\r\n\t\t\t\tSystem.out.print(a[i]+&quot;, &quot;);\r\n\t\t\t}\r\n\t\t\t}else {   \r\n\t\t\t\tif(a[i]%n &gt; n/2) {\r\n\t\t\t\ta[i]=((a[i]/n)*n)+n;\r\n\t\t\t\tSystem.out.print(a[i]+ &quot;, &quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\t\ta[i]=(a[i]/n)*n;\r\n\t\t\t\t\tSystem.out.print(a[i]+&quot;, &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.print(a[i]+&quot;, &quot;);\r\n\t\t\t}\r\n\t\t  }\r\n\t    }else {\r\n\t\t\t\tfor(int i=0;i&lt;a.length;i++) {\r\n\t\t\t\t\tSystem.out.print(a[i]+ &quot;, &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tSystem.out.print(&quot;}&quot;);\r\n\t}\r\n","title":"Integer based rounding issue","body":"<p>my code:</p>\n\n<pre><code>public static void doIntegerBasedRounding(int[]a,int n) {\n\n    System.out.print(\"{ \");\n    if(n&gt;0) {\n    for(int i=0;i&lt;a.length;i++) {\n        if(a[i]&gt;=0) {\n            if(n%2==0) {\n            if(a[i]%n &gt;= n/2) {\n        a[i]=((a[i]/n)*n)+n;\n        System.out.print(a[i]+ \", \");\n        }else {\n            a[i]=(a[i]/n)*n;\n            System.out.print(a[i]+\", \");\n        }\n        }else {   \n            if(a[i]%n &gt; n/2) {\n            a[i]=((a[i]/n)*n)+n;\n            System.out.print(a[i]+ \", \");\n            }else {\n                a[i]=(a[i]/n)*n;\n                System.out.print(a[i]+\", \");\n            }\n        }\n        }else {\n            System.out.print(a[i]+\", \");\n        }\n      }\n    }else {\n            for(int i=0;i&lt;a.length;i++) {\n                System.out.print(a[i]+ \", \");\n            }\n        }\n    System.out.print(\"}\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8831973,"reputation":1,"user_id":6597965,"display_name":"ello321"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549445145,"creation_date":1545917049,"answer_id":53945829,"question_id":38546840,"body_markdown":"    static int[]  doIntegerBasedRounding(int[ ] a, int n)\r\n    { \r\n        if(n&lt;0)\r\n        return a;\r\n         for(int i=0;i&lt;a.length;i++)\r\n        {\r\n            if(a[i]&gt;0)\r\n            if(a[i]&lt;n)\r\n            {\r\n             if(a[i]&lt;n-a[i])\r\n             {\r\n              a[i]=0;   \r\n            }\r\n             else{\r\n               a[i]=n;  \r\n             } \r\n            }\r\n            \r\n            else{\r\n             int j=0;\r\n             int num=n;\r\n             int state=1;\r\n                while(state!=0)\r\n                {\r\n                     num=n;\r\n                  num=num*j;\r\n                    if(num&gt;=a[i])\r\n                    {\r\n                        int y=num-a[i];\r\n                         int x=a[i]-n;\r\n       \r\n                        if(y&lt;=x)\r\n                         a[i]=num;\r\n                       else \r\n                          a[i]=n;\r\n                      state=0;\r\n                    }\r\n                 j++;   \r\n                }\r\n    \r\n                 }\r\n            \r\n            \r\n        }\r\n     return a;    \r\n    }\r\n\r\n","title":"Integer based rounding issue","body":"<pre><code>static int[]  doIntegerBasedRounding(int[ ] a, int n)\n{ \n    if(n&lt;0)\n    return a;\n     for(int i=0;i&lt;a.length;i++)\n    {\n        if(a[i]&gt;0)\n        if(a[i]&lt;n)\n        {\n         if(a[i]&lt;n-a[i])\n         {\n          a[i]=0;   \n        }\n         else{\n           a[i]=n;  \n         } \n        }\n\n        else{\n         int j=0;\n         int num=n;\n         int state=1;\n            while(state!=0)\n            {\n                 num=n;\n              num=num*j;\n                if(num&gt;=a[i])\n                {\n                    int y=num-a[i];\n                     int x=a[i]-n;\n\n                    if(y&lt;=x)\n                     a[i]=num;\n                   else \n                      a[i]=n;\n                  state=0;\n                }\n             j++;   \n            }\n\n             }\n\n\n    }\n return a;    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25694817,"reputation":1,"user_id":19455683,"display_name":"mazhar_898"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656627074,"creation_date":1656627074,"answer_id":72822545,"question_id":38546840,"body_markdown":"Use this **Method** to get nearest multiple of **5** to a given **integer**.\r\n\r\n    private int giveNearestMul5(int givenValue){\r\n        int roundedNum = 0;\r\n        int prevMul5, nextMul5;\r\n        prevMul5 = givenValue - givenValue%5;\r\n        nextMul5 = prevMul5 + 5;\r\n        if ((givenValue%5!=0)){\r\n            if ( (givenValue-prevMul5) &lt; (nextMul5-givenValue) ){\r\n                roundedNum = prevMul5;\r\n            } else {\r\n                roundedNum = nextMul5;\r\n            }\r\n        } else{\r\n            roundedNum = givenValue;\r\n        }\r\n\r\n        return roundedNum;\r\n    }","title":"Integer based rounding issue","body":"<p>Use this <strong>Method</strong> to get nearest multiple of <strong>5</strong> to a given <strong>integer</strong>.</p>\n<pre><code>private int giveNearestMul5(int givenValue){\n    int roundedNum = 0;\n    int prevMul5, nextMul5;\n    prevMul5 = givenValue - givenValue%5;\n    nextMul5 = prevMul5 + 5;\n    if ((givenValue%5!=0)){\n        if ( (givenValue-prevMul5) &lt; (nextMul5-givenValue) ){\n            roundedNum = prevMul5;\n        } else {\n            roundedNum = nextMul5;\n        }\n    } else{\n        roundedNum = givenValue;\n    }\n\n    return roundedNum;\n}\n</code></pre>\n"}],"owner":{"account_id":8470335,"reputation":59,"user_id":6353181,"display_name":"roj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":7,"score":2,"last_activity_date":1656627074,"creation_date":1469311743,"question_id":38546840,"body_markdown":"&gt; Define the n-based integer rounding of an integer k to be the nearest multiple of n to k. If two multiples of n are equidistant use the greater one.\n&gt;\n&gt; the 4-based rounding of 5 is 4 because 5 is closer to 4 than it is to 8, \n&gt;\n&gt;the 5-based rounding of 5 is 5 because 5 is closer to 5 that it is to 10,\n&gt;\n&gt;the 4-based rounding of 6 is 8 because 6 is equidistant from 4 and 8, so the greater one is used\n&gt;\n&gt; Write a function named doIntegerBasedRounding that takes an integer array and rounds all its positive elements using n-based integer rounding.\nA negative element of the array is not modified and if n &lt;=0, no elements of the array are modified. Finally you may assume that the\narray has at least two elements.\n\nProblem that I am facing on two cases\n\n    ({1, 2, 3, 4, 5},2) and ({-18, 1, 2, 3, 4, 5},4)\nI&#39;m getting \n\n    [0, 2, 2, 4, 4] and [-18, 0, 0, 4, 4, 4]\nInstead of\n\n    {2, 2, 4, 4, 6} and {-18, 0, 4, 4, 4, 4}\n\nHere is my code\n\n    class doIntegerBasedRounding {\n    public static void main(String[] args) {\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1,2,4,5,6,7,8,9,9},5)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},2)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},3)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},-3)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-1, -2, -3, -4, -5},3)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-18, 1, 2, 3, 4, 5},4)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},5)));\n        System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},100)));\n        }\n\n    public static int[] doIntegerBasedRounding(int[]a, int n){\n        int temp;\n        int[] b= new int[a.length];\n        if(n&lt;0)\n            return a;\n        for (int i =0; i&lt;a.length; i++){\n            if(a[i]&lt;=0){\n                b[i]=a[i];\n            }\n            else if(a[i]&gt;0)    {\n            temp = a[i]%n;\n                if(temp&gt;n/2) {\n                    b[i] = a[i] + (n - temp);}\n                if (temp&lt;=n/2){\n                    b[i]= a[i]-temp;\n                }\n                }\n            }\n        return b;\n        }\n    }","title":"Integer based rounding issue","body":"<blockquote>\n<p>Define the n-based integer rounding of an integer k to be the nearest multiple of n to k. If two multiples of n are equidistant use the greater one.</p>\n<p>the 4-based rounding of 5 is 4 because 5 is closer to 4 than it is to 8,</p>\n<p>the 5-based rounding of 5 is 5 because 5 is closer to 5 that it is to 10,</p>\n<p>the 4-based rounding of 6 is 8 because 6 is equidistant from 4 and 8, so the greater one is used</p>\n<p>Write a function named doIntegerBasedRounding that takes an integer array and rounds all its positive elements using n-based integer rounding.\nA negative element of the array is not modified and if n &lt;=0, no elements of the array are modified. Finally you may assume that the\narray has at least two elements.</p>\n</blockquote>\n<p>Problem that I am facing on two cases</p>\n<pre><code>({1, 2, 3, 4, 5},2) and ({-18, 1, 2, 3, 4, 5},4)\n</code></pre>\n<p>I'm getting</p>\n<pre><code>[0, 2, 2, 4, 4] and [-18, 0, 0, 4, 4, 4]\n</code></pre>\n<p>Instead of</p>\n<pre><code>{2, 2, 4, 4, 6} and {-18, 0, 4, 4, 4, 4}\n</code></pre>\n<p>Here is my code</p>\n<pre><code>class doIntegerBasedRounding {\npublic static void main(String[] args) {\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1,2,4,5,6,7,8,9,9},5)));\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},2)));\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},3)));\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},-3)));\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-1, -2, -3, -4, -5},3)));\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{-18, 1, 2, 3, 4, 5},4)));\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},5)));\n    System.out.println(Arrays.toString(doIntegerBasedRounding(new int []{1, 2, 3, 4, 5},100)));\n    }\n\npublic static int[] doIntegerBasedRounding(int[]a, int n){\n    int temp;\n    int[] b= new int[a.length];\n    if(n&lt;0)\n        return a;\n    for (int i =0; i&lt;a.length; i++){\n        if(a[i]&lt;=0){\n            b[i]=a[i];\n        }\n        else if(a[i]&gt;0)    {\n        temp = a[i]%n;\n            if(temp&gt;n/2) {\n                b[i] = a[i] + (n - temp);}\n            if (temp&lt;=n/2){\n                b[i]= a[i]-temp;\n            }\n            }\n        }\n    return b;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1656622062,"post_id":72821825,"comment_id":128624440,"body_markdown":"Write the contents of the ArrayList to a file after the user provides a new name, load from the file if the user selects &quot;Show list&quot;.","body":"Write the contents of the ArrayList to a file after the user provides a new name, load from the file if the user selects &quot;Show list&quot;."}],"answers":[{"tags":[],"owner":{"account_id":19959101,"reputation":44,"user_id":14627129,"display_name":"MrSmoer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656625076,"creation_date":1656622280,"answer_id":72821879,"question_id":72821825,"body_markdown":"You could make your `Person` class serializable and store the persons in a file.\r\nHere is how to do it with a pretty similar example([link][1]).\r\n\r\nThis way you would have to deal with each Person individually,\r\nI&#39;d suggest you&#39;d create a `DeathNote` class. The object of `DeathNote` would include the `Person` objects.\r\n\r\nHere in Code:\r\n\r\n    public static DeathNote readDeathNoteFromFile(String file){\r\n        DeathNote dn = new DeathNote();\r\n        try {\r\n            File myObj = new File(file);\r\n            if (myObj.createNewFile()) {\r\n                System.out.println(&quot;File created: &quot; + myObj.getName());\r\n            } else {\r\n                System.out.println(&quot;File already exists.&quot;);\r\n\r\n                FileInputStream fileInputStream = new FileInputStream(file);\r\n                ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream);\r\n                dn = (DeathNote) objectInputStream.readObject();\r\n                objectInputStream.close();\r\n            }\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return dn;\r\n        \r\n    }\r\n    public static void writeDeathNoteToFile(String file, DeathNote dn){\r\n        try {\r\n            File myObj = new File(file);\r\n            if (myObj.createNewFile()) {\r\n                System.out.println(&quot;File created: &quot; + myObj.getName());\r\n            }\r\n            FileOutputStream fileOutputStream = new FileOutputStream(file, false);\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream);\r\n            objectOutputStream.writeObject(dn);\r\n            objectOutputStream.flush();\r\n            objectOutputStream.close();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nI added a call to read at the top of `main()`\r\n\r\n    String filename = &quot;deathnote.txt&quot;;\r\n    DeathNote dn = new DeathNote();\r\n    dn=readDeathNoteFromFile(filename);\r\n\r\nand I called write at the bottom(could also be called after adding a person to the list):\r\n\r\n                } else if (izbor.equals(&quot;3&quot;)) {\r\n                break;\r\n            } else {\r\n                System.err.println(&quot;D:&quot;);\r\n            }\r\n        }\r\n        input.close();\r\n        writeDeathNoteToFile(filename, dn);\r\n\r\nDeathNote class looks like this:\r\n\r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    \r\n    public class DeathNote implements Serializable {\r\n        ArrayList&lt;People&gt; Person;\r\n    \r\n        public DeathNote() {Person = new ArrayList&lt;People&gt;();}\r\n        public void addPerson(People p) {Person.add(p);}\r\n        public int size() {return Person.size();}\r\n        public People get(int i){return Person.get(i);}\r\n    \r\n    }\r\nAnd People needs to implement Serializable:\r\n\r\n    public class People implements Serializable{\r\n\r\nI&#39;d personally suggest, that you would change the name of the list `Person` to `People`, because it represents a list of people and the class `People` to `Person`, because every object of it is a single Person.\r\n\r\nFurthermore my compiler says, that the scanner should be closed &#128578;\r\n\r\n  [1]: https://www.baeldung.com/java-serialization","title":"How to store something written in a running program in Java?","body":"<p>You could make your <code>Person</code> class serializable and store the persons in a file.\nHere is how to do it with a pretty similar example(<a href=\"https://www.baeldung.com/java-serialization\" rel=\"nofollow noreferrer\">link</a>).</p>\n<p>This way you would have to deal with each Person individually,\nI'd suggest you'd create a <code>DeathNote</code> class. The object of <code>DeathNote</code> would include the <code>Person</code> objects.</p>\n<p>Here in Code:</p>\n<pre><code>public static DeathNote readDeathNoteFromFile(String file){\n    DeathNote dn = new DeathNote();\n    try {\n        File myObj = new File(file);\n        if (myObj.createNewFile()) {\n            System.out.println(&quot;File created: &quot; + myObj.getName());\n        } else {\n            System.out.println(&quot;File already exists.&quot;);\n\n            FileInputStream fileInputStream = new FileInputStream(file);\n            ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream);\n            dn = (DeathNote) objectInputStream.readObject();\n            objectInputStream.close();\n        }\n    } catch (IOException | ClassNotFoundException e) {\n        System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n    }\n    return dn;\n    \n}\npublic static void writeDeathNoteToFile(String file, DeathNote dn){\n    try {\n        File myObj = new File(file);\n        if (myObj.createNewFile()) {\n            System.out.println(&quot;File created: &quot; + myObj.getName());\n        }\n        FileOutputStream fileOutputStream = new FileOutputStream(file, false);\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream);\n        objectOutputStream.writeObject(dn);\n        objectOutputStream.flush();\n        objectOutputStream.close();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I added a call to read at the top of <code>main()</code></p>\n<pre><code>String filename = &quot;deathnote.txt&quot;;\nDeathNote dn = new DeathNote();\ndn=readDeathNoteFromFile(filename);\n</code></pre>\n<p>and I called write at the bottom(could also be called after adding a person to the list):</p>\n<pre><code>            } else if (izbor.equals(&quot;3&quot;)) {\n            break;\n        } else {\n            System.err.println(&quot;D:&quot;);\n        }\n    }\n    input.close();\n    writeDeathNoteToFile(filename, dn);\n</code></pre>\n<p>DeathNote class looks like this:</p>\n<pre><code>import java.io.Serializable;\nimport java.util.ArrayList;\n\npublic class DeathNote implements Serializable {\n    ArrayList&lt;People&gt; Person;\n\n    public DeathNote() {Person = new ArrayList&lt;People&gt;();}\n    public void addPerson(People p) {Person.add(p);}\n    public int size() {return Person.size();}\n    public People get(int i){return Person.get(i);}\n\n}\n</code></pre>\n<p>And People needs to implement Serializable:</p>\n<pre><code>public class People implements Serializable{\n</code></pre>\n<p>I'd personally suggest, that you would change the name of the list <code>Person</code> to <code>People</code>, because it represents a list of people and the class <code>People</code> to <code>Person</code>, because every object of it is a single Person.</p>\n<p>Furthermore my compiler says, that the scanner should be closed </p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656626615,"creation_date":1656624848,"answer_id":72822269,"question_id":72821825,"body_markdown":"In order for the list to be saved between separate runs of your program, you need to save the list to some permanent storage. Usually permanent storage is either a file or a database. In this answer I use a file. The file can either be a text file or a data file. A text file can be opened in an editor (like [Notepad++][1]) and its contents are human-readable. A data file&#39;s contents are not human-readable.\r\n\r\nThe simplest solution, in my opinion, is to utilize Java&#39;s inbuilt [serialization][2]. In order to do this, class `People` has to implement interface `java.io.Serializable`. Note that class `java.util.ArrayList` implements interface `Serializable`.\r\n\r\nThe below code demonstrates how to integrate serialization into the code in your question.  \r\n(Notes after the code.)\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class People implements Serializable {\r\n\r\n    /** For serializing instances of this class. */\r\n    private static final long serialVersionUID = -3122681927353521840L;\r\n\r\n    private static final String FILE = &quot;persons.dat&quot;;\r\n\r\n    private String name;\r\n    private String surname;\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static List&lt;People&gt; loadList() throws ClassNotFoundException, IOException {\r\n        File f = new File(FILE);\r\n        if (f.isFile()) {\r\n            try (FileInputStream fis = new FileInputStream(f);\r\n                 ObjectInputStream ois = new ObjectInputStream(fis)) {\r\n                return (List&lt;People&gt;) ois.readObject(); // Unchecked cast.\r\n            }\r\n        }\r\n        else {\r\n            return new ArrayList&lt;People&gt;();\r\n        }\r\n    }\r\n\r\n    private static void saveList(List&lt;People&gt; list) throws IOException {\r\n        if (list != null) {\r\n            File f = new File(FILE);\r\n            try (FileOutputStream fos = new FileOutputStream(f);\r\n                 ObjectOutputStream oos = new ObjectOutputStream(fos)) {\r\n                oos.writeObject(list);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setSurname(String surname) {\r\n        this.surname = surname;\r\n    }\r\n\r\n    public String toString() {\r\n        return name + &quot; &quot; + surname;\r\n    }\r\n\r\n    public static void main(String[] args) throws ClassNotFoundException, IOException {\r\n        List&lt;People&gt; person = loadList();\r\n\r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.println(&quot;&quot;&quot;\r\n                    *Death Note*\r\n                    [1] Show List\r\n                    [2] Write New Name\r\n                    [3] Exit\r\n                    Type: &quot;&quot;&quot;);\r\n            String izbor = input.nextLine();\r\n            if (izbor.equals(&quot;1&quot;)) {\r\n                for (int i = 0; i &lt; person.size(); i = i + 1) {\r\n                    System.out.println(person.get(i));\r\n                }\r\n            }\r\n            else if (izbor.equals(&quot;2&quot;)) {\r\n                People o = new People();\r\n                System.out.println(&quot;Name: &quot;);\r\n                o.setName(input.nextLine());\r\n                System.out.println(&quot;Surname: &quot;);\r\n                o.setSurname(input.nextLine());\r\n                person.add(o);\r\n            }\r\n            else if (izbor.equals(&quot;3&quot;)) {\r\n                saveList(person);\r\n                break;\r\n            }\r\n            else {\r\n                System.err.println(&quot;D:&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n- In method `main` we first load the list from the file *persons.dat*.\r\n- Before exiting the program, we save the contents of `person` to the same file.\r\n\r\nAlternatively, using a text file to save the list involves writing more code. The below code uses [stream API][3], [NIO.2][4] and [method references][5]. Both the code above and the code below use [try-with-resources][6].\r\n```java\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class People {\r\n\r\n    private static final Path PATH = Paths.get(&quot;persons.txt&quot;);\r\n    private static final String DELIM = &quot;;&quot;;\r\n\r\n    private String name;\r\n    private String surname;\r\n\r\n    public People() {\r\n        this(null, null);\r\n    }\r\n\r\n    public People(String name, String surname) {\r\n        setName(name);\r\n        setSurname(surname);\r\n    }\r\n\r\n    private static People createPeople(String line) {\r\n        String[] parts = line.split(DELIM);\r\n        return new People(parts[0], parts[1]);\r\n    }\r\n\r\n    private static List&lt;People&gt; loadList() throws ClassNotFoundException, IOException {\r\n        File f = PATH.toFile();\r\n        List&lt;People&gt; list = new ArrayList&lt;&gt;();\r\n        if (f.isFile()) {\r\n            try (Stream&lt;String&gt; lines = Files.lines(PATH)) {\r\n                list = lines.map(People::createPeople)\r\n                            .collect(Collectors.toList());\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    private static void saveList(List&lt;People&gt; list) throws IOException {\r\n        if (list != null) {\r\n            try (BufferedWriter bw = Files.newBufferedWriter(PATH,\r\n                                                             StandardOpenOption.CREATE,\r\n                                                             StandardOpenOption.TRUNCATE_EXISTING,\r\n                                                             StandardOpenOption.WRITE)) {\r\n                for (People p : list) {\r\n                    String line = String.format(&quot;%s%s%s%n&quot;,\r\n                                                p.getName(),\r\n                                                DELIM,\r\n                                                p.getSurname());\r\n                    bw.write(line);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getSurname() {\r\n        return surname;\r\n    }\r\n\r\n    public void setSurname(String surname) {\r\n        this.surname = surname;\r\n    }\r\n\r\n    public String toString() {\r\n        return name + &quot; &quot; + surname;\r\n    }\r\n\r\n    public static void main(String[] args) throws ClassNotFoundException, IOException {\r\n        List&lt;People&gt; person = loadList();\r\n\r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.println(&quot;&quot;&quot;\r\n                    *Death Note*\r\n                    [1] Show List\r\n                    [2] Write New Name\r\n                    [3] Exit\r\n                    Type: &quot;&quot;&quot;);\r\n            String izbor = input.nextLine();\r\n            if (izbor.equals(&quot;1&quot;)) {\r\n                for (int i = 0; i &lt; person.size(); i = i + 1) {\r\n                    System.out.println(person.get(i));\r\n                }\r\n            }\r\n            else if (izbor.equals(&quot;2&quot;)) {\r\n                People o = new People();\r\n                System.out.println(&quot;Name: &quot;);\r\n                o.setName(input.nextLine());\r\n                System.out.println(&quot;Surname: &quot;);\r\n                o.setSurname(input.nextLine());\r\n                person.add(o);\r\n            }\r\n            else if (izbor.equals(&quot;3&quot;)) {\r\n                saveList(person);\r\n                break;\r\n            }\r\n            else {\r\n                System.err.println(&quot;D:&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://notepad-plus-plus.org/\r\n  [2]: https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\r\n  [3]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to store something written in a running program in Java?","body":"<p>In order for the list to be saved between separate runs of your program, you need to save the list to some permanent storage. Usually permanent storage is either a file or a database. In this answer I use a file. The file can either be a text file or a data file. A text file can be opened in an editor (like <a href=\"https://notepad-plus-plus.org/\" rel=\"nofollow noreferrer\">Notepad++</a>) and its contents are human-readable. A data file's contents are not human-readable.</p>\n<p>The simplest solution, in my opinion, is to utilize Java's inbuilt <a href=\"https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\" rel=\"nofollow noreferrer\">serialization</a>. In order to do this, class <code>People</code> has to implement interface <code>java.io.Serializable</code>. Note that class <code>java.util.ArrayList</code> implements interface <code>Serializable</code>.</p>\n<p>The below code demonstrates how to integrate serialization into the code in your question.<br />\n(Notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class People implements Serializable {\n\n    /** For serializing instances of this class. */\n    private static final long serialVersionUID = -3122681927353521840L;\n\n    private static final String FILE = &quot;persons.dat&quot;;\n\n    private String name;\n    private String surname;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static List&lt;People&gt; loadList() throws ClassNotFoundException, IOException {\n        File f = new File(FILE);\n        if (f.isFile()) {\n            try (FileInputStream fis = new FileInputStream(f);\n                 ObjectInputStream ois = new ObjectInputStream(fis)) {\n                return (List&lt;People&gt;) ois.readObject(); // Unchecked cast.\n            }\n        }\n        else {\n            return new ArrayList&lt;People&gt;();\n        }\n    }\n\n    private static void saveList(List&lt;People&gt; list) throws IOException {\n        if (list != null) {\n            File f = new File(FILE);\n            try (FileOutputStream fos = new FileOutputStream(f);\n                 ObjectOutputStream oos = new ObjectOutputStream(fos)) {\n                oos.writeObject(list);\n            }\n        }\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public String toString() {\n        return name + &quot; &quot; + surname;\n    }\n\n    public static void main(String[] args) throws ClassNotFoundException, IOException {\n        List&lt;People&gt; person = loadList();\n\n        @SuppressWarnings(&quot;resource&quot;)\n        Scanner input = new Scanner(System.in);\n\n        while (true) {\n            System.out.println(&quot;&quot;&quot;\n                    *Death Note*\n                    [1] Show List\n                    [2] Write New Name\n                    [3] Exit\n                    Type: &quot;&quot;&quot;);\n            String izbor = input.nextLine();\n            if (izbor.equals(&quot;1&quot;)) {\n                for (int i = 0; i &lt; person.size(); i = i + 1) {\n                    System.out.println(person.get(i));\n                }\n            }\n            else if (izbor.equals(&quot;2&quot;)) {\n                People o = new People();\n                System.out.println(&quot;Name: &quot;);\n                o.setName(input.nextLine());\n                System.out.println(&quot;Surname: &quot;);\n                o.setSurname(input.nextLine());\n                person.add(o);\n            }\n            else if (izbor.equals(&quot;3&quot;)) {\n                saveList(person);\n                break;\n            }\n            else {\n                System.err.println(&quot;D:&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>In method <code>main</code> we first load the list from the file <em>persons.dat</em>.</li>\n<li>Before exiting the program, we save the contents of <code>person</code> to the same file.</li>\n</ul>\n<p>Alternatively, using a text file to save the list involves writing more code. The below code uses <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>, <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>. Both the code above and the code below use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class People {\n\n    private static final Path PATH = Paths.get(&quot;persons.txt&quot;);\n    private static final String DELIM = &quot;;&quot;;\n\n    private String name;\n    private String surname;\n\n    public People() {\n        this(null, null);\n    }\n\n    public People(String name, String surname) {\n        setName(name);\n        setSurname(surname);\n    }\n\n    private static People createPeople(String line) {\n        String[] parts = line.split(DELIM);\n        return new People(parts[0], parts[1]);\n    }\n\n    private static List&lt;People&gt; loadList() throws ClassNotFoundException, IOException {\n        File f = PATH.toFile();\n        List&lt;People&gt; list = new ArrayList&lt;&gt;();\n        if (f.isFile()) {\n            try (Stream&lt;String&gt; lines = Files.lines(PATH)) {\n                list = lines.map(People::createPeople)\n                            .collect(Collectors.toList());\n            }\n        }\n        return list;\n    }\n\n    private static void saveList(List&lt;People&gt; list) throws IOException {\n        if (list != null) {\n            try (BufferedWriter bw = Files.newBufferedWriter(PATH,\n                                                             StandardOpenOption.CREATE,\n                                                             StandardOpenOption.TRUNCATE_EXISTING,\n                                                             StandardOpenOption.WRITE)) {\n                for (People p : list) {\n                    String line = String.format(&quot;%s%s%s%n&quot;,\n                                                p.getName(),\n                                                DELIM,\n                                                p.getSurname());\n                    bw.write(line);\n                }\n            }\n        }\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public String toString() {\n        return name + &quot; &quot; + surname;\n    }\n\n    public static void main(String[] args) throws ClassNotFoundException, IOException {\n        List&lt;People&gt; person = loadList();\n\n        @SuppressWarnings(&quot;resource&quot;)\n        Scanner input = new Scanner(System.in);\n\n        while (true) {\n            System.out.println(&quot;&quot;&quot;\n                    *Death Note*\n                    [1] Show List\n                    [2] Write New Name\n                    [3] Exit\n                    Type: &quot;&quot;&quot;);\n            String izbor = input.nextLine();\n            if (izbor.equals(&quot;1&quot;)) {\n                for (int i = 0; i &lt; person.size(); i = i + 1) {\n                    System.out.println(person.get(i));\n                }\n            }\n            else if (izbor.equals(&quot;2&quot;)) {\n                People o = new People();\n                System.out.println(&quot;Name: &quot;);\n                o.setName(input.nextLine());\n                System.out.println(&quot;Surname: &quot;);\n                o.setSurname(input.nextLine());\n                person.add(o);\n            }\n            else if (izbor.equals(&quot;3&quot;)) {\n                saveList(person);\n                break;\n            }\n            else {\n                System.err.println(&quot;D:&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25694462,"reputation":1,"user_id":19455392,"display_name":"Array and Problems"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656626709,"creation_date":1656621899,"question_id":72821825,"body_markdown":"I want to store the name and surname written in a running program, so when the program is closed and you run it again, if you click the option to Show List again it will display what was written before.\r\n\r\n\r\n\r\n    // program.java\r\n    \r\n    package com.example;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class Program\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            ArrayList&lt;People&gt; Person = new ArrayList&lt;&gt;();\r\n            Scanner input = new Scanner(System.in);\r\n            while (true)\r\n            {\r\n                System.out.println(&quot;&quot;&quot;\r\n                        *Death Note*\r\n                        [1] Show List\r\n                        [2] Write New Name\r\n                        [3] Exit\r\n                        Type: &quot;&quot;&quot;);\r\n                String izbor = input.nextLine();\r\n                if (izbor.equals(&quot;1&quot;)) {\r\n                    for (int i = 0; i &lt; Person.size(); i = i + 1) {\r\n                        System.out.println(Person.get(i));\r\n                    }\r\n    \r\n                } else if (izbor.equals(&quot;2&quot;)) {\r\n                    People o = new People();\r\n                    System.out.println(&quot;Name: &quot;);\r\n                    o.setname(input.nextLine());\r\n                    System.out.println(&quot;Surname: &quot;);\r\n                    o.setsurname(input.nextLine());\r\n                    Person.add(o);\r\n    \r\n                } else if (izbor.equals(&quot;3&quot;)) {\r\n                    break;\r\n                } else {\r\n                    System.err.println(&quot;D:&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then there is another java class:\r\n\r\n    // People.java\r\n    package com.example;\r\n    \r\n    public class People {\r\n        private String name;\r\n        private String surname;\r\n    \r\n        public People() {}\r\n        public People(String in_name, String in_surname) {\r\n            name = in_name;\r\n            surname = in_surname;\r\n        }\r\n        public String getname(){ return name; }\r\n        public String getsurname(){ return surname; }\r\n        public void setname(String value) { name = value; }\r\n        public void setsurname (String value) { surname = value; }\r\n        public String toString() {return String.format(&quot;%s %s&quot;, name, surname); }\r\n    \r\n    }\r\n\r\n\r\nI use IntelliJ Idea. :)","title":"How to store something written in a running program in Java?","body":"<p>I want to store the name and surname written in a running program, so when the program is closed and you run it again, if you click the option to Show List again it will display what was written before.</p>\n<pre><code>// program.java\n\npackage com.example;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Program\n{\n    public static void main(String[] args)\n    {\n        ArrayList&lt;People&gt; Person = new ArrayList&lt;&gt;();\n        Scanner input = new Scanner(System.in);\n        while (true)\n        {\n            System.out.println(&quot;&quot;&quot;\n                    *Death Note*\n                    [1] Show List\n                    [2] Write New Name\n                    [3] Exit\n                    Type: &quot;&quot;&quot;);\n            String izbor = input.nextLine();\n            if (izbor.equals(&quot;1&quot;)) {\n                for (int i = 0; i &lt; Person.size(); i = i + 1) {\n                    System.out.println(Person.get(i));\n                }\n\n            } else if (izbor.equals(&quot;2&quot;)) {\n                People o = new People();\n                System.out.println(&quot;Name: &quot;);\n                o.setname(input.nextLine());\n                System.out.println(&quot;Surname: &quot;);\n                o.setsurname(input.nextLine());\n                Person.add(o);\n\n            } else if (izbor.equals(&quot;3&quot;)) {\n                break;\n            } else {\n                System.err.println(&quot;D:&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And then there is another java class:</p>\n<pre><code>// People.java\npackage com.example;\n\npublic class People {\n    private String name;\n    private String surname;\n\n    public People() {}\n    public People(String in_name, String in_surname) {\n        name = in_name;\n        surname = in_surname;\n    }\n    public String getname(){ return name; }\n    public String getsurname(){ return surname; }\n    public void setname(String value) { name = value; }\n    public void setsurname (String value) { surname = value; }\n    public String toString() {return String.format(&quot;%s %s&quot;, name, surname); }\n\n}\n</code></pre>\n<p>I use IntelliJ Idea. :)</p>\n"},{"tags":["java","spring","spring-boot","jsp","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656568896,"post_id":72807040,"comment_id":128605652,"body_markdown":"I strongly suggest to not use JSP but something else like Thymeleaf. JSP have several restriction with embedded containers, one is that it only works with WAR packaging and not JAR packaging. There are more (which are mentioned in the reference guide).","body":"I strongly suggest to not use JSP but something else like Thymeleaf. JSP have several restriction with embedded containers, one is that it only works with WAR packaging and not JAR packaging. There are more (which are mentioned in the reference guide)."},{"owner":{"account_id":25684236,"reputation":1,"user_id":19446562,"display_name":"CurlyFry"},"score":0,"creation_date":1656609426,"post_id":72807040,"comment_id":128620746,"body_markdown":"@M.Deinum Good recommendation. I&#39;m just trying to follow this Udemy course sharply so I can learn a certain way. I just want to try and get JSP working before I ultimately use Thymeleaf instead","body":"@M.Deinum Good recommendation. I&#39;m just trying to follow this Udemy course sharply so I can learn a certain way. I just want to try and get JSP working before I ultimately use Thymeleaf instead"}],"answers":[{"tags":[],"owner":{"account_id":21243508,"reputation":196,"user_id":15626560,"display_name":"reactiveself"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656626703,"creation_date":1656566253,"answer_id":72810601,"question_id":72807040,"body_markdown":"Your folder structure is wrong. Should be\r\n\r\n```main -&gt; webapp -&gt; WEB-INF -&gt; jsp -&gt; sayHello.jsp```\r\n\r\n[![Floder structure][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7gSqe.png\r\n  [2]: https://i.stack.imgur.com/GCeZs.png\r\n  [3]: https://i.stack.imgur.com/0oE6w.png","title":"SpringBoot can&#39;t find JSP (even with tomcat installed)","body":"<p>Your folder structure is wrong. Should be</p>\n<p><code>main -&gt; webapp -&gt; WEB-INF -&gt; jsp -&gt; sayHello.jsp</code></p>\n<p><a href=\"https://i.stack.imgur.com/7gSqe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7gSqe.png\" alt=\"Floder structure\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GCeZs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GCeZs.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0oE6w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0oE6w.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25684236,"reputation":1,"user_id":19446562,"display_name":"CurlyFry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656626703,"creation_date":1656531981,"question_id":72807040,"body_markdown":"I&#39;m trying to use SpringBoot to display a .JSP page using embedded tomcat. Whenever I try to access the localhost URL, I get the Whitelabel Error Page with 404 Not Found. As you&#39;ll see below, I tried making a method for @RequestMapping to find the JSP location, to no avail. Previously, I was having issue importing Tomcat into pom.xml (was giving &quot;not found&quot; error). I fixed this by commenting out the `&lt;repositories&gt;` section in pom.xml, running it, then uncommenting it. How can I get my project to view .JSP files properly? I am following all steps in this Udemy course to a T. I will provide more info where needed.\r\n\r\n - SpringBoot version is 3.0.0 M3\r\n - My Java version is 18.0.1.1 2022-04-22\r\n - I&#39;m using IntelliJ IDEA 2022.1.3 Community Edition\r\n - The JSP is called &quot;sayHello.jsp&quot; and it&#39;s located at `/src/main/resources/META-INF/resources/WEB-INF/jsp/sayHello.jsp` *(the file directory picture below shows this)*. It just has Hello World HTML code in it\r\n\r\n&gt; __pom.xml__\r\n```html\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springboot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-first-web-app&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springboot-first-web-app&lt;/name&gt;\r\n\t&lt;description&gt;My first SpringBoot web application from the Udemy Course&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt; &lt;!-- Commenting/Un-commenting out &lt;repositories&gt; made it so tomcat-embed jasper dependency worked --&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n&gt; __SayHelloController.java__ (directory of files pictured later below)\r\n```java\r\npackage com.springboot.springbootfirstwebapp.hello;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@Controller\r\npublic class SayHelloController\r\n{\r\n    @RequestMapping(&quot;say-hello&quot;)\r\n    @ResponseBody\r\n    public String sayHelloDefault()\r\n    {\r\n        return &quot;Hello! What are you learning today?&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;say-hello-jsp&quot;)\r\n    public String sayHelloJsp()\r\n    {\r\n        return &quot;sayHello&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;say-hello-html&quot;)\r\n    @ResponseBody\r\n    public String sayHelloOld()\r\n    {\r\n        StringBuffer sb = new StringBuffer();\r\n        sb.append(&quot;&lt;html&gt;&quot;);\r\n            sb.append(&quot;&lt;head&gt;&quot;);\r\n                sb.append(&quot;&lt;title&gt;My first SpringBoot HTML page!&lt;/title&gt;&quot;);\r\n            sb.append(&quot;&lt;/head&gt;&quot;);\r\n            sb.append(&quot;&lt;body&gt;&quot;);\r\n                sb.append(&quot;This is an HTML page with a body!&quot;);\r\n            sb.append(&quot;&lt;/body&gt;&quot;);\r\n        sb.append(&quot;&lt;/html&gt;&quot;);\r\n\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n&gt; __application.properties__\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n\r\n# For more information\r\nlogging.level.org.springframework=debug\r\n```\r\n\r\n&gt; [The DEBUG log showing the 404 Not Found error][1]\r\n\r\n&gt; [My file directory in IntelliJ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y4wHx.png\r\n  [2]: https://i.stack.imgur.com/I4lMP.png","title":"SpringBoot can&#39;t find JSP (even with tomcat installed)","body":"<p>I'm trying to use SpringBoot to display a .JSP page using embedded tomcat. Whenever I try to access the localhost URL, I get the Whitelabel Error Page with 404 Not Found. As you'll see below, I tried making a method for @RequestMapping to find the JSP location, to no avail. Previously, I was having issue importing Tomcat into pom.xml (was giving &quot;not found&quot; error). I fixed this by commenting out the <code>&lt;repositories&gt;</code> section in pom.xml, running it, then uncommenting it. How can I get my project to view .JSP files properly? I am following all steps in this Udemy course to a T. I will provide more info where needed.</p>\n<ul>\n<li>SpringBoot version is 3.0.0 M3</li>\n<li>My Java version is 18.0.1.1 2022-04-22</li>\n<li>I'm using IntelliJ IDEA 2022.1.3 Community Edition</li>\n<li>The JSP is called &quot;sayHello.jsp&quot; and it's located at <code>/src/main/resources/META-INF/resources/WEB-INF/jsp/sayHello.jsp</code> <em>(the file directory picture below shows this)</em>. It just has Hello World HTML code in it</li>\n</ul>\n<blockquote>\n<p><strong>pom.xml</strong></p>\n</blockquote>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-first-web-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-first-web-app&lt;/name&gt;\n    &lt;description&gt;My first SpringBoot web application from the Udemy Course&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt; &lt;!-- Commenting/Un-commenting out &lt;repositories&gt; made it so tomcat-embed jasper dependency worked --&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<blockquote>\n<p><strong>SayHelloController.java</strong> (directory of files pictured later below)</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>package com.springboot.springbootfirstwebapp.hello;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class SayHelloController\n{\n    @RequestMapping(&quot;say-hello&quot;)\n    @ResponseBody\n    public String sayHelloDefault()\n    {\n        return &quot;Hello! What are you learning today?&quot;;\n    }\n\n    @RequestMapping(&quot;say-hello-jsp&quot;)\n    public String sayHelloJsp()\n    {\n        return &quot;sayHello&quot;;\n    }\n\n    @RequestMapping(&quot;say-hello-html&quot;)\n    @ResponseBody\n    public String sayHelloOld()\n    {\n        StringBuffer sb = new StringBuffer();\n        sb.append(&quot;&lt;html&gt;&quot;);\n            sb.append(&quot;&lt;head&gt;&quot;);\n                sb.append(&quot;&lt;title&gt;My first SpringBoot HTML page!&lt;/title&gt;&quot;);\n            sb.append(&quot;&lt;/head&gt;&quot;);\n            sb.append(&quot;&lt;body&gt;&quot;);\n                sb.append(&quot;This is an HTML page with a body!&quot;);\n            sb.append(&quot;&lt;/body&gt;&quot;);\n        sb.append(&quot;&lt;/html&gt;&quot;);\n\n        return sb.toString();\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>application.properties</strong></p>\n</blockquote>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n\n# For more information\nlogging.level.org.springframework=debug\n</code></pre>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/y4wHx.png\" rel=\"nofollow noreferrer\">The DEBUG log showing the 404 Not Found error</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/I4lMP.png\" rel=\"nofollow noreferrer\">My file directory in IntelliJ</a></p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","jpa","unique-constraint"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":1,"creation_date":1656626510,"post_id":72822415,"comment_id":128625494,"body_markdown":"I don&#39;t exactly remember the internals of JPA+Hibernate+Spring, but I believe your actual save (db insert/update) is being run when the `@Transactional`marked/wrapped `update` method finishes","body":"I don&#39;t exactly remember the internals of JPA+Hibernate+Spring, but I believe your actual save (db insert/update) is being run when the <code>@Transactional</code>marked/wrapped <code>update</code> method finishes"},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1656626739,"post_id":72822415,"comment_id":128625549,"body_markdown":"Does this answer your question? [Add a Custom message for the Unique Constraints in hibernate](https://stackoverflow.com/questions/50466545/add-a-custom-message-for-the-unique-constraints-in-hibernate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50466545/add-a-custom-message-for-the-unique-constraints-in-hibernate\">Add a Custom message for the Unique Constraints in hibernate</a>"},{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1656630431,"post_id":72822415,"comment_id":128626285,"body_markdown":"@AleZalazar, no because the other person is using a single column constraint... and I&#39;m using multiple column, so I cant annotate the field like he did","body":"@AleZalazar, no because the other person is using a single column constraint... and I&#39;m using multiple column, so I cant annotate the field like he did"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656625910,"creation_date":1656625910,"question_id":72822415,"body_markdown":"I&#39;ve a JPA Entity which has a unique constraint based on multiple columns, I&#39;m trying to handle and generate a human friendly error message but somehow spring/hibernate is stealing the exception from me\r\n\r\n    @Entity\r\n    @Table(name = &quot;columns&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;position&quot;, &quot;board_id&quot;}, name = UNIQUE_COLUMN_BOARD_POSITION)})\r\n    public class Column {\r\n    //some stuff\r\n    }\r\n\r\n\r\n\r\nThen i have the service class\r\n \r\n\r\n       @Transactional\r\n           @NonNull\r\n           public Column update(long columnId, @NonNull Column transientColumn) {\r\n\r\n    \r\n          Column persistentColumn = get(columnId);\r\n          persistentColumn.setTitle(transientColumn.getTitle());\r\n          persistentColumn.setPosition(transientColumn.getPosition());\r\n    \r\n          try {\r\n             return columnRepository.save(persistentColumn);\r\n          } catch (Exception e) {\r\n             System.out.println(e); //NEVER REACHES HERE\r\n          }\r\n    \r\n          return transientColumn;\r\n       }\r\n\r\nI&#39;m writing my test clases so I autowired the service class, I intentionaly try to update a column to break the unique contraint, hibernate stops the update throw a giant exception... BUT WONT LET ME CAPTURE THE EXCEPTION\r\n\r\nI&#39;ve debugged line by line, the code reaches the save line, then spring/hibernate code starts to run, after that the exception is thrown but my catch clause never gets it and the test finishes\r\n\r\nhere is the test class\r\n\r\n\r\n     @Test\r\n       void testFailUpdateDueRepeatedPosition() {\r\n    \r\n          Column column = new Column(persistentBoard, &quot;column&quot;, 1);\r\n          Column column2 = new Column(persistentBoard, &quot;column&quot;, 2);\r\n    \r\n          column = columnRepository.save(column);\r\n          column2 = columnRepository.save(column2);\r\n    \r\n    \r\n          column2.setPosition(1);\r\n          columnService.update(column2.getId(), column2);\r\n    \r\n    \r\n          columnRepository.delete(column);\r\n       }\r\n\r\n\r\nI don&#39;t care if I can&#39;t catch this exception all i want is to have a custom message which i can set in case it happens","title":"JPA Define custom error message to multiple columns unique constraint violation","body":"<p>I've a JPA Entity which has a unique constraint based on multiple columns, I'm trying to handle and generate a human friendly error message but somehow spring/hibernate is stealing the exception from me</p>\n<pre><code>@Entity\n@Table(name = &quot;columns&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;position&quot;, &quot;board_id&quot;}, name = UNIQUE_COLUMN_BOARD_POSITION)})\npublic class Column {\n//some stuff\n}\n</code></pre>\n<p>Then i have the service class</p>\n<pre><code>   @Transactional\n       @NonNull\n       public Column update(long columnId, @NonNull Column transientColumn) {\n\n\n      Column persistentColumn = get(columnId);\n      persistentColumn.setTitle(transientColumn.getTitle());\n      persistentColumn.setPosition(transientColumn.getPosition());\n\n      try {\n         return columnRepository.save(persistentColumn);\n      } catch (Exception e) {\n         System.out.println(e); //NEVER REACHES HERE\n      }\n\n      return transientColumn;\n   }\n</code></pre>\n<p>I'm writing my test clases so I autowired the service class, I intentionaly try to update a column to break the unique contraint, hibernate stops the update throw a giant exception... BUT WONT LET ME CAPTURE THE EXCEPTION</p>\n<p>I've debugged line by line, the code reaches the save line, then spring/hibernate code starts to run, after that the exception is thrown but my catch clause never gets it and the test finishes</p>\n<p>here is the test class</p>\n<pre><code> @Test\n   void testFailUpdateDueRepeatedPosition() {\n\n      Column column = new Column(persistentBoard, &quot;column&quot;, 1);\n      Column column2 = new Column(persistentBoard, &quot;column&quot;, 2);\n\n      column = columnRepository.save(column);\n      column2 = columnRepository.save(column2);\n\n\n      column2.setPosition(1);\n      columnService.update(column2.getId(), column2);\n\n\n      columnRepository.delete(column);\n   }\n</code></pre>\n<p>I don't care if I can't catch this exception all i want is to have a custom message which i can set in case it happens</p>\n"},{"tags":["java","data-structures","binary-tree"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1656579695,"post_id":72812987,"comment_id":128609328,"body_markdown":"`check` ***always*** returns `true`, you completely ignore `root` / the entire tree.","body":"<code>check</code> <b><i>always</i></b> returns <code>true</code>, you completely ignore <code>root</code> / the entire tree."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1656579858,"post_id":72812987,"comment_id":128609391,"body_markdown":"No need to collect all the leaves first. Just do a depth-first search to visit all the leaves one by one, store the level of the last leaf and compare it to the level of the current leaf. If they are different you&#39;re done. If they aren&#39;t, continue until you find a difference or hit the end in which case you&#39;d return true.","body":"No need to collect all the leaves first. Just do a depth-first search to visit all the leaves one by one, store the level of the last leaf and compare it to the level of the current leaf. If they are different you&#39;re done. If they aren&#39;t, continue until you find a difference or hit the end in which case you&#39;d return true."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1656579926,"post_id":72812987,"comment_id":128609414,"body_markdown":"You are missing a `che(root, 0, a);` call.","body":"You are missing a <code>che(root, 0, a);</code> call."},{"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"score":0,"creation_date":1656583271,"post_id":72812987,"comment_id":128610694,"body_markdown":"@Thomas&#39;s solution is better, don&#39;t need last loop to check different level.","body":"@Thomas&#39;s solution is better, don&#39;t need last loop to check different level."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656610372,"post_id":72812987,"comment_id":128621031,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656596641,"creation_date":1656589610,"answer_id":72815229,"question_id":72812987,"body_markdown":"The `che` function is never called.\r\n\r\nIt is however not necessary to collect data in an array list. Instead make the recursive function return the *height* of the subtree it is called on. In the same function compare the height that is returned for the left and right subtree. If they are different, return a special value to indicate failure (like -2), otherwise return that common height plus one.\r\n\r\nThis allows the function to abort the search as soon as a height difference is found, avoiding the unnecessary traversal of the rest of the tree.\r\n\r\nHere is how that would look:\r\n\r\n```\r\nclass Solution\r\n{\r\n    boolean check(Node root) {\r\n        return height(root) &gt; -2;\r\n    }\r\n\r\n    private int height(Node root) {\r\n        if (root == null) return -1;\r\n        int left = height(root.left);\r\n        if (left == -2) return -2;\r\n        int right = height(root.right);\r\n        if (left == -1 || right == -1 || left == right) {\r\n            return 1 + Math.max(left, right);\r\n        }\r\n        return -2;\r\n    }\r\n}\r\n```\r\n","title":"Why does my code not work? It passed 8 out of 600 cases on GFG. The Question is &quot;leaf at same level&quot;","body":"<p>The <code>che</code> function is never called.</p>\n<p>It is however not necessary to collect data in an array list. Instead make the recursive function return the <em>height</em> of the subtree it is called on. In the same function compare the height that is returned for the left and right subtree. If they are different, return a special value to indicate failure (like -2), otherwise return that common height plus one.</p>\n<p>This allows the function to abort the search as soon as a height difference is found, avoiding the unnecessary traversal of the rest of the tree.</p>\n<p>Here is how that would look:</p>\n<pre><code>class Solution\n{\n    boolean check(Node root) {\n        return height(root) &gt; -2;\n    }\n\n    private int height(Node root) {\n        if (root == null) return -1;\n        int left = height(root.left);\n        if (left == -2) return -2;\n        int right = height(root.right);\n        if (left == -1 || right == -1 || left == right) {\n            return 1 + Math.max(left, right);\n        }\n        return -2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24688100,"reputation":11,"user_id":18581024,"display_name":"Lostmymind"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1656624886,"creation_date":1656579445,"question_id":72812987,"body_markdown":"My Approach is this- I used an arraylist. I checked all the nodes of the Binary Tree, to find those whose left and right node are null, which signifies that they are a leaf, then I found out their levels and added them to an arraylist.\r\n\r\nAfter this I used the Arraylist in the function boolean check to check whether all the elements of the array list are same of not, if they are i return true (all leaves are at the same level) otherwise I return false. \r\n\r\n```\r\nclass Solution {\r\n    boolean check(Node root) {\r\n        int c = 0;\r\n        ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n        for (int x : a) {\r\n            if (x != (a.get(0)))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public void che(Node root, int level, ArrayList&lt;Integer&gt; a) {\r\n        if (root == null) return;\r\n        if (root.left == null &amp;&amp; root.right == null) {\r\n            a.add(level);\r\n        }\r\n        che(root.right, level + 1, a);\r\n        che(root.left, level + 1, a);\r\n    }\r\n}\r\n```\r\n\r\n[This is the link for the Question][1]\r\n\r\n\r\n  [1]: https://practice.geeksforgeeks.org/problems/leaf-at-same-level/1#","title":"Why does my code not work? It passed 8 out of 600 cases on GFG. The Question is &quot;leaf at same level&quot;","body":"<p>My Approach is this- I used an arraylist. I checked all the nodes of the Binary Tree, to find those whose left and right node are null, which signifies that they are a leaf, then I found out their levels and added them to an arraylist.</p>\n<p>After this I used the Arraylist in the function boolean check to check whether all the elements of the array list are same of not, if they are i return true (all leaves are at the same level) otherwise I return false.</p>\n<pre><code>class Solution {\n    boolean check(Node root) {\n        int c = 0;\n        ArrayList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\n        for (int x : a) {\n            if (x != (a.get(0)))\n                return false;\n        }\n        return true;\n    }\n\n    public void che(Node root, int level, ArrayList&lt;Integer&gt; a) {\n        if (root == null) return;\n        if (root.left == null &amp;&amp; root.right == null) {\n            a.add(level);\n        }\n        che(root.right, level + 1, a);\n        che(root.left, level + 1, a);\n    }\n}\n</code></pre>\n<p><a href=\"https://practice.geeksforgeeks.org/problems/leaf-at-same-level/1#\" rel=\"nofollow noreferrer\">This is the link for the Question</a></p>\n"},{"tags":["java","multithreading","atomic","race-condition","synchronized"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656626210,"post_id":72822151,"comment_id":128625421,"body_markdown":"It&#39;s more important for your program to be _correct_ than _fast_  correct+slow is always better than fast+wrong. Focus on being correct first. Worry about performance later.","body":"It&#39;s more important for your program to be <i>correct</i> than <i>fast</i>  correct+slow is always better than fast+wrong. Focus on being correct first. Worry about performance later."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":1,"creation_date":1656626284,"post_id":72822151,"comment_id":128625440,"body_markdown":"Does this answer your question? [Java synchronizing based on a parameter (named mutex/lock)](https://stackoverflow.com/questions/12450402/java-synchronizing-based-on-a-parameter-named-mutex-lock)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12450402/java-synchronizing-based-on-a-parameter-named-mutex-lock\">Java synchronizing based on a parameter (named mutex/lock)</a>"}],"owner":{"account_id":22341888,"reputation":11,"user_id":16561546,"display_name":"Burak Topcu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656623995,"creation_date":1656623995,"question_id":72822151,"body_markdown":"I&#39;m trying to prevent race condition and also want to don&#39;t affect system performance as could as possible.\r\nIf two signal(data) arrive to server at the same time, handler starting to process these simultaneously(multi-thread),\r\nf signals have differents ID&#39;s there is no problem, but if they have different datas with same ID,\r\nfor first signal need to be call &quot;create_map_and_insert&quot; method and second one need to be call &quot;insert_to_exist_map&quot; method.\r\nBut in that condition both signals enters the if block at the same time, and cause exception (map already exist for this ID).\r\n\r\nIs there a way to block other threads to reach here before main thread finish it&#39;s job for that specific situation?\r\nI don&#39;t want to use &quot;synchronized&quot; for every condition, just want to use for if signals have same ID&#39;s.\r\n\r\nThanks\r\n\r\nExample code (JAVA):\r\n\r\n```\r\nSOTable testtable= SOTable.getInstance();\r\n\r\nif (testtable.findvalue(ID) == null){\r\n\r\n// Both signals enters here, but actually after the processing of first signal\r\n// second one need to be enter to else if block.\r\n\r\ntesttable.create_map_and_insert.(ID,data); // testtable.findvalue(ID not null anymore\r\n\r\n// testtable.findvalue(ID) not equal NULL any more\r\n\r\n}\r\n\r\nelse if (testtable.findvalue(ID) != null){\r\n\r\n//...\r\n// \r\ntesttable.insert_to_exist_map.(ID,data);\r\n}\r\n```\r\n","title":"How to prevent race condition for specific case?","body":"<p>I'm trying to prevent race condition and also want to don't affect system performance as could as possible.\nIf two signal(data) arrive to server at the same time, handler starting to process these simultaneously(multi-thread),\nf signals have differents ID's there is no problem, but if they have different datas with same ID,\nfor first signal need to be call &quot;create_map_and_insert&quot; method and second one need to be call &quot;insert_to_exist_map&quot; method.\nBut in that condition both signals enters the if block at the same time, and cause exception (map already exist for this ID).</p>\n<p>Is there a way to block other threads to reach here before main thread finish it's job for that specific situation?\nI don't want to use &quot;synchronized&quot; for every condition, just want to use for if signals have same ID's.</p>\n<p>Thanks</p>\n<p>Example code (JAVA):</p>\n<pre><code>SOTable testtable= SOTable.getInstance();\n\nif (testtable.findvalue(ID) == null){\n\n// Both signals enters here, but actually after the processing of first signal\n// second one need to be enter to else if block.\n\ntesttable.create_map_and_insert.(ID,data); // testtable.findvalue(ID not null anymore\n\n// testtable.findvalue(ID) not equal NULL any more\n\n}\n\nelse if (testtable.findvalue(ID) != null){\n\n//...\n// \ntesttable.insert_to_exist_map.(ID,data);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","jsoup"],"answers":[{"tags":[],"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656623561,"creation_date":1656623561,"answer_id":72822088,"question_id":72809074,"body_markdown":"Since you say that the problem persists only in Android, it looks like that you should add the user agent string to your request - first get the user agent string of a browser that displays correctly the site, and then add it to the request:  \r\n\r\n    doc = Jsoup.connect(&lt;Website Im connecting to&gt;)\r\n               .userAgent(&quot;your-user-agent-string&quot;)\r\n               .timeout(20000).get();\r\nAnd as a sidenote - if you are catching exception, don&#39;t print your own error message - print the original message, it may be very useful.","title":"Jsoup not connecting to webpage in Android Studio","body":"<p>Since you say that the problem persists only in Android, it looks like that you should add the user agent string to your request - first get the user agent string of a browser that displays correctly the site, and then add it to the request:</p>\n<pre><code>doc = Jsoup.connect(&lt;Website Im connecting to&gt;)\n           .userAgent(&quot;your-user-agent-string&quot;)\n           .timeout(20000).get();\n</code></pre>\n<p>And as a sidenote - if you are catching exception, don't print your own error message - print the original message, it may be very useful.</p>\n"}],"owner":{"account_id":25600524,"reputation":35,"user_id":19375611,"display_name":"Anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656623561,"creation_date":1656547914,"question_id":72809074,"body_markdown":"I am working on a project right now where I use jsoup in a class with the function retrieveMedia in order to return an ArrayList filled with data from the webpage. I run it in a thread since you shouldn&#39;t be connecting to URLs from the main thread. I run it and join it. However, it doesn&#39;t work (I tested the same code in Eclipse separate from Android Studio and it worked fine). It seems that no matter what I do I can&#39;t get jsoup to connect to the webpage. Below is my class MediaRetriever.\r\n\r\n```\r\npublic class MediaRetreiever {\r\n\r\n    public ArrayList&lt;Media&gt; retrieveMedia() {\r\n        ArrayList&lt;Media&gt; mediaOutput = new ArrayList&lt;Media&gt;(); //Store each scraped post\r\n        Thread downloadThread = new Thread(new Runnable() {\r\n            public void run() {\r\n                Document doc = null;\r\n                try {\r\n                    doc = Jsoup.connect(&lt;Website Im connecting to&gt;).timeout(20000).get();\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;Failed to connect to webpage.&quot;);\r\n                    mediaOutput.add(new Media(&quot;Failed to connect&quot;, &quot;oops&quot;, &quot;&quot;, &quot;oh well&quot;));\r\n                    return;\r\n                }\r\n                \r\n                Elements mediaFeed = doc.getElementById(&quot;main&quot;).getElementsByClass(&quot;node&quot;);\r\n\r\n                for (Element e : mediaFeed) {\r\n                    String title, author, imageUrl, content;\r\n                    title=e.getElementsByClass(&quot;title&quot;).text().trim();\r\n                    author=e.getElementsByClass(&quot;content&quot;).tagName(&quot;p&quot;).select(&quot;em&quot;).text().trim();\r\n                    content=e.getElementsByClass(&quot;content&quot;).text().replace(author,&quot;&quot;).trim();\r\n                    Media media = new Media(title, author, &quot;&quot;, content);\r\n                    mediaOutput.add(media);\r\n                }\r\n            }\r\n        });\r\n        downloadThread.start();\r\n        try {\r\n            downloadThread.join();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        \r\n        return mediaOutput;\r\n\r\n    }\r\n}\r\n```\r\n\r\nRunning this class&#39;s method from another class and it doesn&#39;t ever connect. Any ideas?","title":"Jsoup not connecting to webpage in Android Studio","body":"<p>I am working on a project right now where I use jsoup in a class with the function retrieveMedia in order to return an ArrayList filled with data from the webpage. I run it in a thread since you shouldn't be connecting to URLs from the main thread. I run it and join it. However, it doesn't work (I tested the same code in Eclipse separate from Android Studio and it worked fine). It seems that no matter what I do I can't get jsoup to connect to the webpage. Below is my class MediaRetriever.</p>\n<pre><code>public class MediaRetreiever {\n\n    public ArrayList&lt;Media&gt; retrieveMedia() {\n        ArrayList&lt;Media&gt; mediaOutput = new ArrayList&lt;Media&gt;(); //Store each scraped post\n        Thread downloadThread = new Thread(new Runnable() {\n            public void run() {\n                Document doc = null;\n                try {\n                    doc = Jsoup.connect(&lt;Website Im connecting to&gt;).timeout(20000).get();\n                } catch (IOException e) {\n                    System.out.println(&quot;Failed to connect to webpage.&quot;);\n                    mediaOutput.add(new Media(&quot;Failed to connect&quot;, &quot;oops&quot;, &quot;&quot;, &quot;oh well&quot;));\n                    return;\n                }\n                \n                Elements mediaFeed = doc.getElementById(&quot;main&quot;).getElementsByClass(&quot;node&quot;);\n\n                for (Element e : mediaFeed) {\n                    String title, author, imageUrl, content;\n                    title=e.getElementsByClass(&quot;title&quot;).text().trim();\n                    author=e.getElementsByClass(&quot;content&quot;).tagName(&quot;p&quot;).select(&quot;em&quot;).text().trim();\n                    content=e.getElementsByClass(&quot;content&quot;).text().replace(author,&quot;&quot;).trim();\n                    Media media = new Media(title, author, &quot;&quot;, content);\n                    mediaOutput.add(media);\n                }\n            }\n        });\n        downloadThread.start();\n        try {\n            downloadThread.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        \n        return mediaOutput;\n\n    }\n}\n</code></pre>\n<p>Running this class's method from another class and it doesn't ever connect. Any ideas?</p>\n"},{"tags":["java","spring-boot","drools","drools-kie-server"],"answers":[{"tags":[],"owner":{"account_id":6836734,"reputation":53,"user_id":5258392,"display_name":"ArjunPunnam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656622986,"creation_date":1656622986,"answer_id":72821987,"question_id":72309943,"body_markdown":"I could never find the cause for above issue. However I was able to build a working Drools protype application just by adding below dependency to my pom.xml\r\n\r\n```\r\n    &lt;version.org.kie&gt;7.69.0.Final&lt;/version.org.kie&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kie-server-spring-boot-starter-drools&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.org.kie}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```","title":"Error creating bean with name &#39;kieServer&#39; while running kie-server-spring-boot-sample","body":"<p>I could never find the cause for above issue. However I was able to build a working Drools protype application just by adding below dependency to my pom.xml</p>\n<pre><code>    &lt;version.org.kie&gt;7.69.0.Final&lt;/version.org.kie&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kie&lt;/groupId&gt;\n        &lt;artifactId&gt;kie-server-spring-boot-starter-drools&lt;/artifactId&gt;\n        &lt;version&gt;${version.org.kie}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6836734,"reputation":53,"user_id":5258392,"display_name":"ArjunPunnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72821987,"answer_count":1,"score":0,"last_activity_date":1656622986,"creation_date":1652987414,"question_id":72309943,"body_markdown":"I am trying to start a springboot application residing here https://github.com/kiegroup/droolsjbpm-integration/tree/main/kie-spring-boot/kie-spring-boot-samples/kie-server-spring-boot-sample.\r\nI cloned the repo and did maven clean install.Later when Im starting the app Im seeing below.  \r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kieServer&#39; defined in class path resource [org/kie/server/springboot/autoconfiguration/KieServerAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.server.services.api.KieServer]: Factory method &#39;kieServer&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/junit/runner/Runner`\r\n\r\n\r\nWhy is the application classloader looking for a junit class is what I am not able wrap my head around. I tried adding junit dependencies explicitly to my pom that doesn&#39;t work. \r\n\r\nAny help is appreciated,thanks in advance.","title":"Error creating bean with name &#39;kieServer&#39; while running kie-server-spring-boot-sample","body":"<p>I am trying to start a springboot application residing here <a href=\"https://github.com/kiegroup/droolsjbpm-integration/tree/main/kie-spring-boot/kie-spring-boot-samples/kie-server-spring-boot-sample\" rel=\"nofollow noreferrer\">https://github.com/kiegroup/droolsjbpm-integration/tree/main/kie-spring-boot/kie-spring-boot-samples/kie-server-spring-boot-sample</a>.\nI cloned the repo and did maven clean install.Later when Im starting the app Im seeing below.</p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kieServer' defined in class path resource [org/kie/server/springboot/autoconfiguration/KieServerAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.server.services.api.KieServer]: Factory method 'kieServer' threw exception; nested exception is java.lang.NoClassDefFoundError: org/junit/runner/Runner</code></p>\n<p>Why is the application classloader looking for a junit class is what I am not able wrap my head around. I tried adding junit dependencies explicitly to my pom that doesn't work.</p>\n<p>Any help is appreciated,thanks in advance.</p>\n"},{"tags":["java","graphics","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656622771,"creation_date":1656620755,"answer_id":72821628,"question_id":72821260,"body_markdown":"I assume the image quality keeps changing as you keep rotating the image into the various angles repeatedly and each time you may perceive conversion losses.\r\n\r\nProbably it is better to draw the image once only by applying one AffineTransform only. This AffineTransform is a contatencation of three single transformations:\r\n\r\n1) translate image center to origin\r\n2) rotate image acount origin\r\n3) translate image to actual position\r\n\r\nSo when keys are pressed you recalculate the AffineTransform and ask for repaint.\r\nWhen repainting, just draw the image using the existing AffineTransform.\r\n\r\nI played around a bit and the code looks like this now.\r\n\r\n    package com.mycompany.test;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Test extends JPanel {\r\n        /** rotation speed in radians. */\r\n        final double deltaAngle = 3.0d * Math.PI/180.0d;\r\n        final int speed = 3;\r\n    \r\n        BufferedImage image;\r\n    \r\n        /** angle in radians. */\r\n        public double angle = 0;\r\n        public Point center = new Point(160, 160);\r\n        AffineTransform at;\r\n    \r\n        private void updateTransform() {\r\n            at = AffineTransform.getRotateInstance(angle);\r\n            at.concatenate(AffineTransform.getTranslateInstance(-image.getWidth()/2, -image.getHeight()/2));\r\n            at.concatenate(AffineTransform.getTranslateInstance(center.x, center.y));\r\n        }\r\n    \r\n        public Test() {\r\n            try {\r\n                image =  ImageIO.read(new File(&quot;filepath&quot;));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            System.out.println(image.getWidth() + &quot;, &quot; + image.getHeight());\r\n        \r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n         \r\n            this.setPreferredSize(new Dimension(1000, 500));\r\n            frame.add(this); \r\n            this.setBackground(Color.gray);\r\n        \r\n            frame.addKeyListener(new KeyListener() {\r\n\r\n                @Override\r\n                public void keyTyped(KeyEvent e) {\r\n                }\r\n\r\n                @Override\r\n                public void keyPressed(KeyEvent e) {\r\n                    if(e.getKeyCode() == KeyEvent.VK_A)\r\n                        angle -= deltaAngle;\r\n                    else if(e.getKeyCode() == KeyEvent.VK_D)\r\n                        angle += deltaAngle;\r\n                    else if(e.getKeyCode() == KeyEvent.VK_W)\r\n                        center.translate(speed*Math.sin(Math.toRadians(angle)), -speed*Math.cos(Math.toRadians(angle)));\r\n                    else if(e.getKeyCode() == KeyEvent.VK_S)\r\n                        center.translate(-speed*Math.sin(Math.toRadians(angle)), speed*Math.cos(Math.toRadians(angle)));\r\n                \r\n                    updateTransform();\r\n                \r\n                    frame.repaint();\r\n                }\r\n\r\n                @Override\r\n                public void keyReleased(KeyEvent e) {\r\n                }\r\n            \r\n            });\r\n\r\n            frame.pack();\r\n\r\n            updateTransform();\r\n\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n\r\n            Graphics2D g2 = (Graphics2D) g;\r\n        \r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);   \r\n        \r\n            g2.drawString(&quot;Angle: &quot; + Double.toString(angle), 20, 20);\r\n            g2.drawImage(image, at, null);\r\n        \r\n        }\r\n    \r\n        private class Point {\r\n            public double x, y;\r\n        \r\n            public Point(double x, double y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n        \r\n            public void translate(double x, double y) {\r\n                this.x += x;\r\n                this.y += y;\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n    }\r\n\r\nHowever the artifacts are not fully resolved. This is since a bitmap is rotated - such artifacts are to be expected. Not even scaling down the image helps. The only chance may be to use [SVG][1] as source. Check out [Apache Batik][2].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Scalable_Vector_Graphics\r\n  [2]: https://xmlgraphics.apache.org/batik/","title":"Java small jittering in graphical movement of an image","body":"<p>I assume the image quality keeps changing as you keep rotating the image into the various angles repeatedly and each time you may perceive conversion losses.</p>\n<p>Probably it is better to draw the image once only by applying one AffineTransform only. This AffineTransform is a contatencation of three single transformations:</p>\n<ol>\n<li>translate image center to origin</li>\n<li>rotate image acount origin</li>\n<li>translate image to actual position</li>\n</ol>\n<p>So when keys are pressed you recalculate the AffineTransform and ask for repaint.\nWhen repainting, just draw the image using the existing AffineTransform.</p>\n<p>I played around a bit and the code looks like this now.</p>\n<pre><code>package com.mycompany.test;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test extends JPanel {\n    /** rotation speed in radians. */\n    final double deltaAngle = 3.0d * Math.PI/180.0d;\n    final int speed = 3;\n\n    BufferedImage image;\n\n    /** angle in radians. */\n    public double angle = 0;\n    public Point center = new Point(160, 160);\n    AffineTransform at;\n\n    private void updateTransform() {\n        at = AffineTransform.getRotateInstance(angle);\n        at.concatenate(AffineTransform.getTranslateInstance(-image.getWidth()/2, -image.getHeight()/2));\n        at.concatenate(AffineTransform.getTranslateInstance(center.x, center.y));\n    }\n\n    public Test() {\n        try {\n            image =  ImageIO.read(new File(&quot;filepath&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(image.getWidth() + &quot;, &quot; + image.getHeight());\n    \n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n     \n        this.setPreferredSize(new Dimension(1000, 500));\n        frame.add(this); \n        this.setBackground(Color.gray);\n    \n        frame.addKeyListener(new KeyListener() {\n\n            @Override\n            public void keyTyped(KeyEvent e) {\n            }\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n                if(e.getKeyCode() == KeyEvent.VK_A)\n                    angle -= deltaAngle;\n                else if(e.getKeyCode() == KeyEvent.VK_D)\n                    angle += deltaAngle;\n                else if(e.getKeyCode() == KeyEvent.VK_W)\n                    center.translate(speed*Math.sin(Math.toRadians(angle)), -speed*Math.cos(Math.toRadians(angle)));\n                else if(e.getKeyCode() == KeyEvent.VK_S)\n                    center.translate(-speed*Math.sin(Math.toRadians(angle)), speed*Math.cos(Math.toRadians(angle)));\n            \n                updateTransform();\n            \n                frame.repaint();\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n            }\n        \n        });\n\n        frame.pack();\n\n        updateTransform();\n\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2 = (Graphics2D) g;\n    \n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);   \n    \n        g2.drawString(&quot;Angle: &quot; + Double.toString(angle), 20, 20);\n        g2.drawImage(image, at, null);\n    \n    }\n\n    private class Point {\n        public double x, y;\n    \n        public Point(double x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n    \n        public void translate(double x, double y) {\n            this.x += x;\n            this.y += y;\n        }\n    }\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n}\n</code></pre>\n<p>However the artifacts are not fully resolved. This is since a bitmap is rotated - such artifacts are to be expected. Not even scaling down the image helps. The only chance may be to use <a href=\"https://en.wikipedia.org/wiki/Scalable_Vector_Graphics\" rel=\"nofollow noreferrer\">SVG</a> as source. Check out <a href=\"https://xmlgraphics.apache.org/batik/\" rel=\"nofollow noreferrer\">Apache Batik</a>.</p>\n"}],"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72821628,"answer_count":1,"score":0,"last_activity_date":1656622771,"creation_date":1656618376,"question_id":72821260,"body_markdown":"I have a buffered image (width = 66, height = 75) that seems to jitter (as if the image is shaking at a small scale)  when trying to translate it when it is at an angle. This is the set up that shows the problem (A and D keys to rotate, W and S keys to translate):\r\n\r\n```\r\n\r\nimport java.awt.Color;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Test extends JPanel {\r\n\r\n\tBufferedImage image;\r\n\t\r\n\tpublic double angle = 0;\r\n\tpublic Point center = new Point(160, 160);\r\n\t\r\n\tpublic Test() {\r\n\t\t\r\n\t\ttry {\r\n\t\t\timage =  ImageIO.read(new File(&quot;filePath&quot;));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(image.getWidth() + &quot;, &quot; + image.getHeight());\r\n\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n\t\t \r\n\t\tthis.setPreferredSize(new Dimension(1000, 500));\r\n\t\tframe.add(this); \r\n\t\tthis.setBackground(Color.gray);\r\n\t\t\r\n\t\tframe.addKeyListener(new KeyListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tdouble deltaAngle = 3;\r\n\t\t\t\tint speed = 3;\r\n\t\t\t\t\r\n\t\t\t\tif(e.getKeyCode() == KeyEvent.VK_A)\r\n\t\t\t\t\tangle -= deltaAngle;\r\n\t\t\t\telse if(e.getKeyCode() == KeyEvent.VK_D)\r\n\t\t\t\t\tangle += deltaAngle;\r\n\t\t\t\telse if(e.getKeyCode() == KeyEvent.VK_W)\r\n\t\t\t\t\tcenter.translate(speed*Math.sin(Math.toRadians(angle)), -speed*Math.cos(Math.toRadians(angle)));\r\n\t\t\t\telse if(e.getKeyCode() == KeyEvent.VK_S)\r\n\t\t\t\t\tcenter.translate(-speed*Math.sin(Math.toRadians(angle)), speed*Math.cos(Math.toRadians(angle)));\r\n\t\t\t\t\r\n\t\t\t\tframe.repaint();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\tframe.pack();\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\t\r\n\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tg2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\t\r\n\t\t\r\n\t\tg2.drawString(&quot;Angle: &quot; + Double.toString(angle), 20, 20);\r\n\t\tdrawImageCentered(g2, rotateImage(image, angle), center);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void drawImageAccurate(Graphics2D g, BufferedImage image, Point location) {\r\n\t\tAffineTransform transform = new AffineTransform();\r\n\t\ttransform.translate(location.x, location.y);\r\n\t\t//transform.scale(1, 1);\r\n\t\tg.drawImage(image, transform, null);\r\n\t}\r\n\t\r\n\tpublic void drawImageCentered(Graphics2D g, BufferedImage image, Point location) {\r\n\t\tdrawImageAccurate(g, image, new Point(location.x - image.getWidth()/2.0, location.y - image.getHeight()/2.0));\r\n\t}\r\n\t\r\n\tpublic static BufferedImage rotateImage(BufferedImage image, double angle) {\r\n\t\tif(angle == 0 || Double.isNaN(angle))\r\n\t\t\treturn image;\r\n\t\telse {\r\n\t\t\tangle = Math.toRadians(angle);\r\n\t\t\tdouble x = Math.abs(Math.cos(angle));\r\n\t\t\tdouble y = Math.abs(Math.sin(angle));\r\n\t\t\tint width = image.getWidth();\r\n\t\t\tint height = image.getHeight();\r\n\t\t\tint nWidth = (int) Math.floor(width*x + height*y);\r\n\t\t\tint nHeight = (int) Math.floor(height*x + width*y);\r\n\t\t\t\r\n\t\t\tBufferedImage rotated = new BufferedImage(nWidth, nHeight, image.getType());\r\n\t\t\tGraphics2D tool = rotated.createGraphics();\r\n\t\t\t\r\n\t\t    AffineTransform transformer = new AffineTransform();\r\n\t\t    transformer.translate((nWidth - width)/2.0, (nHeight - height)/2.0);\r\n\r\n\t\t    transformer.rotate(angle, width/2, height/2);\r\n\t\t    \r\n\t\t    tool.drawImage(image, transformer, null);\r\n\t\t    tool.dispose();\r\n\t\t    \r\n\t\t    return rotated;\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tprivate class Point {\r\n\t\tpublic double x, y;\r\n\t\t\r\n\t\tpublic Point(double x, double y) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void translate(double x, double y) {\r\n\t\t\tthis.x += x;\r\n\t\t\tthis.y += y;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Test();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI notice that the jittering of the image is more noticeable as the image get smaller in size and when the image is at 87 degrees and other close to &quot;straight&quot; angles. I have used rendering hints:\r\n\r\n```\r\ng2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\ng2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\t\r\n```\r\n\r\nand also an AffineTransform:\r\n\r\n```\r\npublic void drawImageAccurate(Graphics2D g, BufferedImage image, Point location) {\r\n\tAffineTransform transform = new AffineTransform();\r\n\ttransform.translate(location.x, location.y);\r\n\t//transform.scale(1, 1);\r\n\tg.drawImage(image, transform, null);\r\n}\r\n```\r\n\r\nWhich, I think, lowered the intensity of the jittering but I still can see some small jittering. Maybe my expectations are too high, but I do not think I have ever seen jittering in a 2D game which makes me think there can be more done. Or perhaps some solutions are to increase the movement speed of images or prevent using small images for movement. However, it would nice if there is another direct solution I have not been able to find through searches that could remove this image jittering.\r\n","title":"Java small jittering in graphical movement of an image","body":"<p>I have a buffered image (width = 66, height = 75) that seems to jitter (as if the image is shaking at a small scale)  when trying to translate it when it is at an angle. This is the set up that shows the problem (A and D keys to rotate, W and S keys to translate):</p>\n<pre><code>\nimport java.awt.Color;\n\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test extends JPanel {\n\n    BufferedImage image;\n    \n    public double angle = 0;\n    public Point center = new Point(160, 160);\n    \n    public Test() {\n        \n        try {\n            image =  ImageIO.read(new File(&quot;filePath&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(image.getWidth() + &quot;, &quot; + image.getHeight());\n\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n         \n        this.setPreferredSize(new Dimension(1000, 500));\n        frame.add(this); \n        this.setBackground(Color.gray);\n        \n        frame.addKeyListener(new KeyListener() {\n\n            @Override\n            public void keyTyped(KeyEvent e) {\n                \n            }\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n                \n                double deltaAngle = 3;\n                int speed = 3;\n                \n                if(e.getKeyCode() == KeyEvent.VK_A)\n                    angle -= deltaAngle;\n                else if(e.getKeyCode() == KeyEvent.VK_D)\n                    angle += deltaAngle;\n                else if(e.getKeyCode() == KeyEvent.VK_W)\n                    center.translate(speed*Math.sin(Math.toRadians(angle)), -speed*Math.cos(Math.toRadians(angle)));\n                else if(e.getKeyCode() == KeyEvent.VK_S)\n                    center.translate(-speed*Math.sin(Math.toRadians(angle)), speed*Math.cos(Math.toRadians(angle)));\n                \n                frame.repaint();\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                \n            }\n            \n        });\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2 = (Graphics2D) g;\n        \n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);   \n        \n        g2.drawString(&quot;Angle: &quot; + Double.toString(angle), 20, 20);\n        drawImageCentered(g2, rotateImage(image, angle), center);\n        \n    }\n    \n    public void drawImageAccurate(Graphics2D g, BufferedImage image, Point location) {\n        AffineTransform transform = new AffineTransform();\n        transform.translate(location.x, location.y);\n        //transform.scale(1, 1);\n        g.drawImage(image, transform, null);\n    }\n    \n    public void drawImageCentered(Graphics2D g, BufferedImage image, Point location) {\n        drawImageAccurate(g, image, new Point(location.x - image.getWidth()/2.0, location.y - image.getHeight()/2.0));\n    }\n    \n    public static BufferedImage rotateImage(BufferedImage image, double angle) {\n        if(angle == 0 || Double.isNaN(angle))\n            return image;\n        else {\n            angle = Math.toRadians(angle);\n            double x = Math.abs(Math.cos(angle));\n            double y = Math.abs(Math.sin(angle));\n            int width = image.getWidth();\n            int height = image.getHeight();\n            int nWidth = (int) Math.floor(width*x + height*y);\n            int nHeight = (int) Math.floor(height*x + width*y);\n            \n            BufferedImage rotated = new BufferedImage(nWidth, nHeight, image.getType());\n            Graphics2D tool = rotated.createGraphics();\n            \n            AffineTransform transformer = new AffineTransform();\n            transformer.translate((nWidth - width)/2.0, (nHeight - height)/2.0);\n\n            transformer.rotate(angle, width/2, height/2);\n            \n            tool.drawImage(image, transformer, null);\n            tool.dispose();\n            \n            return rotated;\n        }   \n    }\n    \n    private class Point {\n        public double x, y;\n        \n        public Point(double x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n        \n        public void translate(double x, double y) {\n            this.x += x;\n            this.y += y;\n        }\n    }\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n}\n\n</code></pre>\n<p>I notice that the jittering of the image is more noticeable as the image get smaller in size and when the image is at 87 degrees and other close to &quot;straight&quot; angles. I have used rendering hints:</p>\n<pre><code>g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\ng2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);   \n</code></pre>\n<p>and also an AffineTransform:</p>\n<pre><code>public void drawImageAccurate(Graphics2D g, BufferedImage image, Point location) {\n    AffineTransform transform = new AffineTransform();\n    transform.translate(location.x, location.y);\n    //transform.scale(1, 1);\n    g.drawImage(image, transform, null);\n}\n</code></pre>\n<p>Which, I think, lowered the intensity of the jittering but I still can see some small jittering. Maybe my expectations are too high, but I do not think I have ever seen jittering in a 2D game which makes me think there can be more done. Or perhaps some solutions are to increase the movement speed of images or prevent using small images for movement. However, it would nice if there is another direct solution I have not been able to find through searches that could remove this image jittering.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":7007162,"reputation":939,"user_id":5371168,"display_name":"D. Lawrence"},"score":0,"creation_date":1574790069,"post_id":59056593,"comment_id":104352674,"body_markdown":"Shouldn&#39;t you call ```MyMonth.JAN.name``` instead?","body":"Shouldn&#39;t you call <code>MyMonth.JAN.name</code> instead?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1574791336,"post_id":59056593,"comment_id":104353296,"body_markdown":"My guess is since Kotlin enums already have a `name` property, as [seen here](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-enum/index.html), there&#39;s a conflict between the Java getter and the Kotlin property. If possible, I recommend changing the name of the Java field and getter to something other than `name` and `getName()`. Personally, I think it&#39;s a bad idea to have a field named `name` in a Java enum anyway, considering the existence of the `name()` method. If you can&#39;t change it, what if you call `getName()` explicitly in the Kotlin code?","body":"My guess is since Kotlin enums already have a <code>name</code> property, as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-enum/index.html\" rel=\"nofollow noreferrer\">seen here</a>, there&#39;s a conflict between the Java getter and the Kotlin property. If possible, I recommend changing the name of the Java field and getter to something other than <code>name</code> and <code>getName()</code>. Personally, I think it&#39;s a bad idea to have a field named <code>name</code> in a Java enum anyway, considering the existence of the <code>name()</code> method. If you can&#39;t change it, what if you call <code>getName()</code> explicitly in the Kotlin code?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574790201,"creation_date":1574790201,"answer_id":59056644,"question_id":59056593,"body_markdown":"Your Java API has `name` as a _private_ field.  Nothing can access it, not in Java nor Kotlin.\r\n\r\nIf you want to access it, add e.g. the following to the Java API:\r\n\r\n    public String getMonthName() { return name; }\r\n\r\n...and then access it from Kotlin as\r\n\r\n    val month = MyMonth.JAN.monthName","title":"How to get name from Java enum in Kotlin","body":"<p>Your Java API has <code>name</code> as a <em>private</em> field.  Nothing can access it, not in Java nor Kotlin.</p>\n\n<p>If you want to access it, add e.g. the following to the Java API:</p>\n\n<pre><code>public String getMonthName() { return name; }\n</code></pre>\n\n<p>...and then access it from Kotlin as</p>\n\n<pre><code>val month = MyMonth.JAN.monthName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1574791466,"creation_date":1574791466,"answer_id":59056948,"question_id":59056593,"body_markdown":"You can call the getter directly instead of using the property syntax:\r\n\r\n```kotlin\r\nfun main() {\r\n    val name = MyMonth.JAN.getName()\r\n    println(name)\r\n}\r\n```","title":"How to get name from Java enum in Kotlin","body":"<p>You can call the getter directly instead of using the property syntax:</p>\n\n<pre><code>fun main() {\n    val name = MyMonth.JAN.getName()\n    println(name)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11481454,"reputation":481,"user_id":8415366,"display_name":"Prabudda Fernando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574833127,"creation_date":1574833127,"answer_id":59063697,"question_id":59056593,"body_markdown":"enum is now low usage. You can use IntDef instead of enums.\r\n\r\n    @IntDef(MyMonth.JAN, MyMonth.FEB)\r\n    @Retention(AnnotationRetention.SOURCE)\r\n    annotation class MyMonth  {\r\n        companion object {\r\n            const val JAN = 0\r\n            const val FEB = 1\r\n    \r\n            fun getDisplayString(toDoFilterTypes: Int): String {\r\n                return when (toDoFilterTypes) {\r\n                    JAN -&gt; &quot;All&quot;\r\n                    FEB -&gt; &quot;Job&quot;\r\n                    else -&gt; &quot;N/A&quot;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to get name from Java enum in Kotlin","body":"<p>enum is now low usage. You can use IntDef instead of enums.</p>\n\n<pre><code>@IntDef(MyMonth.JAN, MyMonth.FEB)\n@Retention(AnnotationRetention.SOURCE)\nannotation class MyMonth  {\n    companion object {\n        const val JAN = 0\n        const val FEB = 1\n\n        fun getDisplayString(toDoFilterTypes: Int): String {\n            return when (toDoFilterTypes) {\n                JAN -&gt; \"All\"\n                FEB -&gt; \"Job\"\n                else -&gt; \"N/A\"\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2345470,"reputation":6598,"user_id":2055854,"accept_rate":44,"display_name":"Orest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6830,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59056948,"answer_count":3,"score":3,"last_activity_date":1656622297,"creation_date":1574789951,"question_id":59056593,"body_markdown":"I have a project that is written with both Java and Kotlin languages and recently I faced next issue. \r\n\r\nLet&#39;s say we have `MyMonth` enum:\r\n\r\n    public enum MyMonth {\r\n        JAN(&quot;January&quot;),\r\n        FEB(&quot;February&quot;);\r\n    \r\n        private final String name;\r\n    \r\n        MyMonth(final String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nThen in Kotlin when we print the name of the month:\r\n\r\n    fun main() {\r\n        val month = MyMonth.JAN\r\n        println(month.name)\r\n    }\r\n\r\nwe get:\r\n\r\n`JAN` \r\n\r\nwhich is what is described in the documentation `https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-enum/name.html`, however actually the name should be `January`. \r\n\r\nIs there a way to get a name in Kotlin that is specified in Java enum?\r\n\r\nUPD: My Kotlin version is `1.3.30-release-170`\r\n\r\nUPD2: IDEA even shows me that name is coming from the `getName()` method defined in Java:\r\n[![enter image description here][1]][1]\r\n\r\nUPD3: When we explicitly use `.getName()` it works, however it looks kind of weird \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mq8AF.png","title":"How to get name from Java enum in Kotlin","body":"<p>I have a project that is written with both Java and Kotlin languages and recently I faced next issue. </p>\n\n<p>Let's say we have <code>MyMonth</code> enum:</p>\n\n<pre><code>public enum MyMonth {\n    JAN(\"January\"),\n    FEB(\"February\");\n\n    private final String name;\n\n    MyMonth(final String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n\n<p>Then in Kotlin when we print the name of the month:</p>\n\n<pre><code>fun main() {\n    val month = MyMonth.JAN\n    println(month.name)\n}\n</code></pre>\n\n<p>we get:</p>\n\n<p><code>JAN</code> </p>\n\n<p>which is what is described in the documentation <code>https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-enum/name.html</code>, however actually the name should be <code>January</code>. </p>\n\n<p>Is there a way to get a name in Kotlin that is specified in Java enum?</p>\n\n<p>UPD: My Kotlin version is <code>1.3.30-release-170</code></p>\n\n<p>UPD2: IDEA even shows me that name is coming from the <code>getName()</code> method defined in Java:\n<a href=\"https://i.stack.imgur.com/Mq8AF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mq8AF.png\" alt=\"enter image description here\"></a></p>\n\n<p>UPD3: When we explicitly use <code>.getName()</code> it works, however it looks kind of weird </p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":7398978,"reputation":61,"user_id":8226426,"display_name":"Petr Jord&#225;n"},"score":0,"creation_date":1656620987,"post_id":72821565,"comment_id":128624202,"body_markdown":"Can you share your attempt in webflux? Also, you can try the tutorial from: https://www.baeldung.com/spring-webflux","body":"Can you share your attempt in webflux? Also, you can try the tutorial from: <a href=\"https://www.baeldung.com/spring-webflux\" rel=\"nofollow noreferrer\">baeldung.com/spring-webflux</a>"}],"answers":[{"tags":[],"owner":{"account_id":25694117,"reputation":34,"user_id":19455092,"display_name":"Ignacio Padilla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656621844,"creation_date":1656621385,"answer_id":72821731,"question_id":72821565,"body_markdown":"    @GetMapping(&quot;/helloWorld&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; helloWorld() {\r\n\r\n       log.info(&quot;Entered hello world&quot;);\r\n\r\n       return Mono.just(ResponseEntity.ok(&quot;Hello World&quot;));\r\n    }\r\n\r\nMay suggest reading the spring webflux [docs][1] as well Project Reactor [docs][2].\r\n\r\n\r\nAlso if what you need is to log all the reactive stream I&#39;d would suggest following code. \r\n\r\n\r\n    @GetMapping(&quot;/helloWorld&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; helloWorld() {       \r\n        return Mono.just(&quot;Entered hello world in controller&quot;).log().map(s -&gt; ResponseEntity.ok(s));\r\n    }\r\n\r\nSome good spring webflux example can be found on internet, such: [Building Async REST APIs with Spring WebFlux][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\r\n  [2]: https://projectreactor.io/\r\n  [3]: https://howtodoinjava.com/spring-webflux/spring-webflux-tutorial/","title":"How can i turn springboot rest endpoints to spring webflux reactive endpoints","body":"<pre><code>@GetMapping(&quot;/helloWorld&quot;)\npublic Mono&lt;ResponseEntity&lt;String&gt;&gt; helloWorld() {\n\n   log.info(&quot;Entered hello world&quot;);\n\n   return Mono.just(ResponseEntity.ok(&quot;Hello World&quot;));\n}\n</code></pre>\n<p>May suggest reading the spring webflux <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\" rel=\"nofollow noreferrer\">docs</a> as well Project Reactor <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>Also if what you need is to log all the reactive stream I'd would suggest following code.</p>\n<pre><code>@GetMapping(&quot;/helloWorld&quot;)\npublic Mono&lt;ResponseEntity&lt;String&gt;&gt; helloWorld() {       \n    return Mono.just(&quot;Entered hello world in controller&quot;).log().map(s -&gt; ResponseEntity.ok(s));\n}\n</code></pre>\n<p>Some good spring webflux example can be found on internet, such: <a href=\"https://howtodoinjava.com/spring-webflux/spring-webflux-tutorial/\" rel=\"nofollow noreferrer\">Building Async REST APIs with Spring WebFlux</a></p>\n"},{"tags":[],"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656621846,"creation_date":1656621846,"answer_id":72821807,"question_id":72821565,"body_markdown":"Your function should return a `Mono` (single resource) or a `Flux` (collection resource).  \r\n\r\n```\r\n@GetMapping(&quot;/helloWorld&quot;)\r\npublic Mono&lt;String&gt; helloWorld() {\r\n\r\n    log.info(&quot;Entered hello world&quot;);\r\n\r\n    return Mono.just(&quot;Hello World&quot;);\r\n}\r\n```\r\n\r\nYou should also make sure you have `spring-boot-starter-webflux` in your dependencies.\r\n\r\nfor example, maven pom:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How can i turn springboot rest endpoints to spring webflux reactive endpoints","body":"<p>Your function should return a <code>Mono</code> (single resource) or a <code>Flux</code> (collection resource).</p>\n<pre><code>@GetMapping(&quot;/helloWorld&quot;)\npublic Mono&lt;String&gt; helloWorld() {\n\n    log.info(&quot;Entered hello world&quot;);\n\n    return Mono.just(&quot;Hello World&quot;);\n}\n</code></pre>\n<p>You should also make sure you have <code>spring-boot-starter-webflux</code> in your dependencies.</p>\n<p>for example, maven pom:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24725957,"reputation":1,"user_id":18614455,"display_name":"Hermes Chavez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1656621846,"creation_date":1656620307,"question_id":72821565,"body_markdown":"bellow is my code, its written in springboot but im having trouble trying to write it in webflux. im using mono but im not sure how i can log info in mono or how i can return a responseEntity using mono either.\r\n```\r\n@GetMapping(&quot;/helloWorld&quot;)\r\npublic ResponseEntity helloWorld() {\r\n\r\n    log.info(&quot;Entered hello world&quot;);\r\n\r\n    return ResponseEntity.ok(&quot;Hello World&quot;);\r\n}\r\n```\r\nthere is not much i did in webflux but this is how far i got\r\n```\r\n   @GetMapping(&quot;/helloWorld&quot;)\r\n    public Mono&lt;ResponseEntity&gt; helloWorld() {\r\n//        log.info(&quot;Entered hello world in controller&quot;);\r\n        Mono&lt;String&gt; defaultMono = Mono.just(&quot;Entered hello world&quot;).log();\r\n        defaultMono.log();\r\n//        return ResponseEntity.ok(&quot;Hello World &quot;);\r\n\r\n    }\r\n```","title":"How can i turn springboot rest endpoints to spring webflux reactive endpoints","body":"<p>bellow is my code, its written in springboot but im having trouble trying to write it in webflux. im using mono but im not sure how i can log info in mono or how i can return a responseEntity using mono either.</p>\n<pre><code>@GetMapping(&quot;/helloWorld&quot;)\npublic ResponseEntity helloWorld() {\n\n    log.info(&quot;Entered hello world&quot;);\n\n    return ResponseEntity.ok(&quot;Hello World&quot;);\n}\n</code></pre>\n<p>there is not much i did in webflux but this is how far i got</p>\n<pre><code>   @GetMapping(&quot;/helloWorld&quot;)\n    public Mono&lt;ResponseEntity&gt; helloWorld() {\n//        log.info(&quot;Entered hello world in controller&quot;);\n        Mono&lt;String&gt; defaultMono = Mono.just(&quot;Entered hello world&quot;).log();\n        defaultMono.log();\n//        return ResponseEntity.ok(&quot;Hello World &quot;);\n\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"score":0,"creation_date":1656588153,"post_id":72814894,"comment_id":128612410,"body_markdown":"Share your code.","body":"Share your code."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656588783,"post_id":72814894,"comment_id":128612620,"body_markdown":"You can access viewholder but Use interface or notify using a variable that&#39;s the best.","body":"You can access viewholder but Use interface or notify using a variable that&#39;s the best."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656589115,"post_id":72814894,"comment_id":128612727,"body_markdown":"@GobuCSG could you share some code how to do it using an interface?","body":"@GobuCSG could you share some code how to do it using an interface?"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656590101,"post_id":72814894,"comment_id":128613070,"body_markdown":"You want update all the items right. So call notifyDatasetChanged()","body":"You want update all the items right. So call notifyDatasetChanged()"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656591537,"post_id":72814894,"comment_id":128613603,"body_markdown":"You should use `notify*` APIs in the RecyclerView.Adapter.","body":"You should use <code>notify*</code> APIs in the RecyclerView.Adapter."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656592969,"post_id":72814894,"comment_id":128614175,"body_markdown":"Hey buddy, What is the purpose... You want notify a item or all the items...","body":"Hey buddy, What is the purpose... You want notify a item or all the items..."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656593111,"post_id":72814894,"comment_id":128614239,"body_markdown":"Otherwise you can access recyclerview scroll listener and recyclerview.findViewHolderAdapterPostion(). Get the postion using scrollListener","body":"Otherwise you can access recyclerview scroll listener and recyclerview.findViewHolderAdapterPostion(). Get the postion using scrollListener"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656612083,"post_id":72814894,"comment_id":128621554,"body_markdown":"@GobuCSG have a look at my code again, please","body":"@GobuCSG have a look at my code again, please"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656612132,"post_id":72814894,"comment_id":128621576,"body_markdown":"@DarShan changed the code, have  a look at my code again, please","body":"@DarShan changed the code, have  a look at my code again, please"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656618228,"post_id":72814894,"comment_id":128623373,"body_markdown":"@LalremLianBTlung Shared the code, have a look at it.","body":"@LalremLianBTlung Shared the code, have a look at it."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656618531,"post_id":72814894,"comment_id":128623461,"body_markdown":"Hey buddy, My Ques is do you want update all the items or particular position after changes onItemSelected","body":"Hey buddy, My Ques is do you want update all the items or particular position after changes onItemSelected"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656618820,"post_id":72814894,"comment_id":128623552,"body_markdown":"@GobuCSG it depends, because I have a list of todo items, maybe I rename one item maybe more. Here my problem is that I can&#39;t access ChecklistChildViewHolder class in onOptionItemSelected. I don&#39;t know how to create an object of ChecklistChildViewHolder outside ChecklistAdapter.","body":"@GobuCSG it depends, because I have a list of todo items, maybe I rename one item maybe more. Here my problem is that I can&#39;t access ChecklistChildViewHolder class in onOptionItemSelected. I don&#39;t know how to create an object of ChecklistChildViewHolder outside ChecklistAdapter."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656619173,"post_id":72814894,"comment_id":128623659,"body_markdown":"@GobuCSG I want to access ChecklistChildViewHolder in onOptionItemSelected in order to make access this ( delete.setVisibility(View.INVISIBLE); ) and make it ( delete.setVisibility(View.VISIBLE);","body":"@GobuCSG I want to access ChecklistChildViewHolder in onOptionItemSelected in order to make access this ( delete.setVisibility(View.INVISIBLE); ) and make it ( delete.setVisibility(View.VISIBLE);"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656619427,"post_id":72814894,"comment_id":128623748,"body_markdown":"It&#39;s okay.. For all the items or single item?","body":"It&#39;s okay.. For all the items or single item?"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656619821,"post_id":72814894,"comment_id":128623859,"body_markdown":"@GobuCSG Please read the code again. My problem is getting access to ChecklistChildViewHolder inside onOptionItemSelected(); I just want to set the Visibility of all delete buttons from INVISIBLE() to VISIBLE","body":"@GobuCSG Please read the code again. My problem is getting access to ChecklistChildViewHolder inside onOptionItemSelected(); I just want to set the Visibility of all delete buttons from INVISIBLE() to VISIBLE"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656619952,"post_id":72814894,"comment_id":128623895,"body_markdown":"@Omer123 you want hide the button right.  try to understand you want hide an item or whole adapter items?","body":"@Omer123 you want hide the button right.  try to understand you want hide an item or whole adapter items?"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1656620272,"post_id":72814894,"comment_id":128623993,"body_markdown":"@GobuCSG have a look at this image https://ibb.co/sHss8Pv What I want is: when I clicked the option menu on the toolbar I want to show these cross (delete) image buttons to show in order to be able to delete whatever item I want to delete. Thanks for your reply.","body":"@GobuCSG have a look at this image <a href=\"https://ibb.co/sHss8Pv\" rel=\"nofollow noreferrer\">ibb.co/sHss8Pv</a> What I want is: when I clicked the option menu on the toolbar I want to show these cross (delete) image buttons to show in order to be able to delete whatever item I want to delete. Thanks for your reply."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1656620341,"post_id":72814894,"comment_id":128624017,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246082/discussion-between-gobu-csg-and-omer123).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246082/discussion-between-gobu-csg-and-omer123\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656593509,"creation_date":1656593509,"answer_id":72816176,"question_id":72814894,"body_markdown":"Don&#39;t do that. The `ViewHolder`s belong to the adapter. Just add a method in the adapter class to do what you want, in `onOptionsItemSelected()` call the method on the adapter. The adapter has direct access to all the `ViewHolder`s and can do whatever is needed.","title":"How to access MyViewHolder inner class views outside RecyclerViewAdapter?","body":"<p>Don't do that. The <code>ViewHolder</code>s belong to the adapter. Just add a method in the adapter class to do what you want, in <code>onOptionsItemSelected()</code> call the method on the adapter. The adapter has direct access to all the <code>ViewHolder</code>s and can do whatever is needed.</p>\n"},{"tags":[],"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656621826,"creation_date":1656621826,"answer_id":72821805,"question_id":72814894,"body_markdown":"Update your code like this\r\n\r\n\r\nYour Activity\r\n\r\n    public class ChecklistItems extends AppCompatActivity {\r\n\r\n    private ChecklistAdapter mAdapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_checklist_items);\r\n        mAdapter = new ChecklistAdapter();\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n\r\n            case R.id.edit:\r\n                isEditChecklist = true;\r\n                mAdapter.updateItems(true);\r\n        }\r\n        return true;\r\n    }\r\n    }\r\n\r\nYour Adapter\r\n\r\n    public class ChecklistAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\r\n\r\n    private boolean isEnableDelete = false;\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder  onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new ChecklistChildViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n\r\n        ((ChecklistChildViewHolder) holder).onBind(isEnableDelete);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return x;\r\n    }\r\n\r\n    public void updateItems(boolean isEnableDelete){\r\n        this.isEnableDelete = isEnableDelete;\r\n        notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    public class ChecklistChildViewHolder extends RecyclerView.ViewHolder{\r\n        CheckBox checkBox;\r\n        ImageView delete, move;\r\n\r\n        ChecklistChildViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            checkBox = itemView.findViewById(R.id.checkbox_child);\r\n            delete = itemView.findViewById(R.id.delete_child);\r\n            move = itemView.findViewById(R.id.move_child);\r\n            delete.setVisibility(View.INVISIBLE);\r\n        }\r\n\r\n        public void onBind(boolean isEnableDelete){\r\n            if (isEnableDelete){\r\n                delete.setVisibility(View.VISIBLE);\r\n            }else delete.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"How to access MyViewHolder inner class views outside RecyclerViewAdapter?","body":"<p>Update your code like this</p>\n<p>Your Activity</p>\n<pre><code>public class ChecklistItems extends AppCompatActivity {\n\nprivate ChecklistAdapter mAdapter;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_checklist_items);\n    mAdapter = new ChecklistAdapter();\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()){\n\n        case R.id.edit:\n            isEditChecklist = true;\n            mAdapter.updateItems(true);\n    }\n    return true;\n}\n}\n</code></pre>\n<p>Your Adapter</p>\n<pre><code>public class ChecklistAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\n\nprivate boolean isEnableDelete = false;\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder  onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return new ChecklistChildViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n\n    ((ChecklistChildViewHolder) holder).onBind(isEnableDelete);\n}\n\n@Override\npublic int getItemCount() {\n    return x;\n}\n\npublic void updateItems(boolean isEnableDelete){\n    this.isEnableDelete = isEnableDelete;\n    notifyDataSetChanged();\n\n}\n\npublic class ChecklistChildViewHolder extends RecyclerView.ViewHolder{\n    CheckBox checkBox;\n    ImageView delete, move;\n\n    ChecklistChildViewHolder(@NonNull View itemView) {\n        super(itemView);\n        checkBox = itemView.findViewById(R.id.checkbox_child);\n        delete = itemView.findViewById(R.id.delete_child);\n        move = itemView.findViewById(R.id.move_child);\n        delete.setVisibility(View.INVISIBLE);\n    }\n\n    public void onBind(boolean isEnableDelete){\n        if (isEnableDelete){\n            delete.setVisibility(View.VISIBLE);\n        }else delete.setVisibility(View.INVISIBLE);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72821805,"answer_count":2,"score":1,"last_activity_date":1656621826,"creation_date":1656588074,"question_id":72814894,"body_markdown":"I have a MyViewHolder inner class inside RecyclerViewAdapter inside Checklistitems class. I want access elements of MyViewHolder in method onOptionItemSelected(). \r\nHere, I have three classes, and because of that, it becomes more complicated for me.\r\n\r\n    public class ChecklistItems extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_checklist_items);\r\n    }\r\n\r\n    public class ChecklistAdapter extends RecyclerView.Adapter  &lt;RecyclerView.ViewHolder&gt;{\r\n\r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder  onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            return new ChecklistChildViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n          \r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return x;\r\n        }\r\n\r\n        public class ChecklistChildViewHolder extends RecyclerView.ViewHolder{\r\n            CheckBox checkBox;\r\n            ImageView delete, move;\r\n\r\n            ChecklistChildViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                checkBox = itemView.findViewById(R.id.checkbox_child);\r\n                delete = itemView.findViewById(R.id.delete_child);\r\n                move = itemView.findViewById(R.id.move_child);\r\n                delete.setVisibility(View.INVISIBLE);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n\r\n            case R.id.edit:\r\n                isEditChecklist = true;\r\n                // My problem is in here\r\n                // I want to set visibility of a delete imageView here, when I clicked edit button in the toolbar\r\n                // I have created these objects in order to access the ChecklistChildViewHolder class but the third line below asks\r\n                // for a parameter, I don&#39;t know what to pass\r\n\r\n                ChecklistItems checklistItems = new ChecklistItems();\r\n                ChecklistItems.ChecklistAdapter checklistAdapter = checklistItems.new ChecklistAdapter();\r\n                ChecklistAdapter.ChecklistChildViewHolder checklistChildViewHolder = checklistAdapter.new ChecklistChildViewHolder();\r\n        }\r\n        return true;\r\n    }\r\n    }\r\n\r\n   Any help would be appreciated.","title":"How to access MyViewHolder inner class views outside RecyclerViewAdapter?","body":"<p>I have a MyViewHolder inner class inside RecyclerViewAdapter inside Checklistitems class. I want access elements of MyViewHolder in method onOptionItemSelected().\nHere, I have three classes, and because of that, it becomes more complicated for me.</p>\n<pre><code>public class ChecklistItems extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_checklist_items);\n}\n\npublic class ChecklistAdapter extends RecyclerView.Adapter  &lt;RecyclerView.ViewHolder&gt;{\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder  onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new ChecklistChildViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n      \n    }\n\n    @Override\n    public int getItemCount() {\n        return x;\n    }\n\n    public class ChecklistChildViewHolder extends RecyclerView.ViewHolder{\n        CheckBox checkBox;\n        ImageView delete, move;\n\n        ChecklistChildViewHolder(@NonNull View itemView) {\n            super(itemView);\n            checkBox = itemView.findViewById(R.id.checkbox_child);\n            delete = itemView.findViewById(R.id.delete_child);\n            move = itemView.findViewById(R.id.move_child);\n            delete.setVisibility(View.INVISIBLE);\n        }\n    }\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()){\n\n        case R.id.edit:\n            isEditChecklist = true;\n            // My problem is in here\n            // I want to set visibility of a delete imageView here, when I clicked edit button in the toolbar\n            // I have created these objects in order to access the ChecklistChildViewHolder class but the third line below asks\n            // for a parameter, I don't know what to pass\n\n            ChecklistItems checklistItems = new ChecklistItems();\n            ChecklistItems.ChecklistAdapter checklistAdapter = checklistItems.new ChecklistAdapter();\n            ChecklistAdapter.ChecklistChildViewHolder checklistChildViewHolder = checklistAdapter.new ChecklistChildViewHolder();\n    }\n    return true;\n}\n}\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656618440,"post_id":72821151,"comment_id":128623437,"body_markdown":"Hi welcome to stack overflow! Please don&#39;t post pictures of code. Rather, write a snippet and use the &quot;`&quot; character to write it out.","body":"Hi welcome to stack overflow! Please don&#39;t post pictures of code. Rather, write a snippet and use the &quot;`&quot; character to write it out."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656621063,"post_id":72821151,"comment_id":128624218,"body_markdown":"They both are the same.  The second one implicit means the FirstProgram is in the working or current directory while the first one explicitly include the working directory.","body":"They both are the same.  The second one implicit means the FirstProgram is in the working or current directory while the first one explicitly include the working directory."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1656640848,"post_id":72821151,"comment_id":128627754,"body_markdown":"Can you describe your problem in more detail?","body":"Can you describe your problem in more detail?"}],"answers":[{"tags":[],"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656620589,"creation_date":1656620589,"answer_id":72821609,"question_id":72821151,"body_markdown":"This may not be the answer you are looking for, but should help some readers.  \r\nthe `.` means current folder/directory (depends on OS).  \r\nthe `..` means parent folder/directory.   \r\nin some OSs you also have `~/` for home directory etc&#39;.  \r\nwhen you refer to a file as `./file` then it is the file in the current folder.  \r\nwhen you refer to a file as `file` then depending on the OS it could be either a file on the systems path or the file in the current folder or something else.  \r\nSo, the shell you are using in vS-code conforms to the common way of referencing a file on the local folder.\r\n\r\nnote that if there is a way to remove it, it will be by changing/tweaking the shell that the terminal uses.","title":"How to remove &quot;.\\&quot; when pressing tab on terminal of VSCode Java?","body":"<p>This may not be the answer you are looking for, but should help some readers.<br />\nthe <code>.</code> means current folder/directory (depends on OS).<br />\nthe <code>..</code> means parent folder/directory.<br />\nin some OSs you also have <code>~/</code> for home directory etc'.<br />\nwhen you refer to a file as <code>./file</code> then it is the file in the current folder.<br />\nwhen you refer to a file as <code>file</code> then depending on the OS it could be either a file on the systems path or the file in the current folder or something else.<br />\nSo, the shell you are using in vS-code conforms to the common way of referencing a file on the local folder.</p>\n<p>note that if there is a way to remove it, it will be by changing/tweaking the shell that the terminal uses.</p>\n"}],"owner":{"display_name":"user16831207"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656621655,"creation_date":1656617591,"question_id":72821151,"body_markdown":"I&#39;m compiling a java program, but pressing on the tab it says `.\\FirstProgram.java` instead of `FirstProgram.java` (without the `.\\` symbols).\r\n\r\n\r\n\r\n```\r\nfoo\\bar&gt; java .\\FirstProgram.java\r\n```\r\n\r\ninstead of \r\n\r\n```\r\nfoo\\bar&gt; java FirstProgram.java\r\n```\r\n","title":"How to remove &quot;.\\&quot; when pressing tab on terminal of VSCode Java?","body":"<p>I'm compiling a java program, but pressing on the tab it says <code>.\\FirstProgram.java</code> instead of <code>FirstProgram.java</code> (without the <code>.\\</code> symbols).</p>\n<pre><code>foo\\bar&gt; java .\\FirstProgram.java\n</code></pre>\n<p>instead of</p>\n<pre><code>foo\\bar&gt; java FirstProgram.java\n</code></pre>\n"},{"tags":["java","mongodb","mongotemplate"],"comments":[{"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"score":0,"creation_date":1656615949,"post_id":72820762,"comment_id":128622707,"body_markdown":"In relational Spring Data you can change the inheritance type of the class, so the tables are created separately or there&#39;s only the parent table with all the columns/fields, to me it looks the same case, try to find a inheritance configuration, so you can change how the documents are created there.","body":"In relational Spring Data you can change the inheritance type of the class, so the tables are created separately or there&#39;s only the parent table with all the columns/fields, to me it looks the same case, try to find a inheritance configuration, so you can change how the documents are created there."},{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1656616890,"post_id":72820762,"comment_id":128622997,"body_markdown":"Take a look at https://stackoverflow.com/a/37113372/9391162","body":"Take a look at <a href=\"https://stackoverflow.com/a/37113372/9391162\">stackoverflow.com/a/37113372/9391162</a>"}],"answers":[{"tags":[],"owner":{"account_id":7559084,"reputation":365,"user_id":5737400,"display_name":"Asad Nawaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656621648,"creation_date":1656621648,"answer_id":72821773,"question_id":72820762,"body_markdown":"Answering my own question: The issue posed in the question does not stem from the suggestion i gave. Spring Data will accurately retrieve from the proper collection even if the inheritance is as given above. The issue is somewhere in my project&#39;s logic after adding a new feature. \r\n\r\nSo if anybody stumbles upon this, thinking they have a similar issue; it&#39;s probably your logic somewhere else.","title":"Can the @Document annotation in SpringData be overridden if the parent class also has it?","body":"<p>Answering my own question: The issue posed in the question does not stem from the suggestion i gave. Spring Data will accurately retrieve from the proper collection even if the inheritance is as given above. The issue is somewhere in my project's logic after adding a new feature.</p>\n<p>So if anybody stumbles upon this, thinking they have a similar issue; it's probably your logic somewhere else.</p>\n"}],"owner":{"account_id":7559084,"reputation":365,"user_id":5737400,"display_name":"Asad Nawaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656621648,"creation_date":1656615253,"question_id":72820762,"body_markdown":"I have a microservice that is trying to query from two different collections. Both contain the exact same objects types, except there is a `status` field that can have a value of `&quot;Archived&quot;\\Discarded&quot;`. These objects are stored in the `archived_collection` as opposed to ones that have `status: &quot;Published/Unmapped&quot;`\r\n\r\nSo my question is, is it possible that the collection for the parent class be used if i extend the child class from it and they both have different values for `@Document()`?\r\n\r\nHere&#39;s what the code would look like.\r\n\r\n`Class 1`:\r\n\r\n    @Document(&quot;original_collection&quot;)\r\n    public class parentObject{\r\n    //some fields\r\n    }\r\n`Class 2`:\r\n\r\n    @Document(&quot;archived_collection&quot;)\r\n    public class archivedObject extends parentObject{\r\n    //no extra fields. exact same as parentObject\r\n    }\r\n\r\nMind you, there&#39;s only one `MongoTemplate` object in the code since both these collections are in the same database. So currently, my application seems to not be searching in the archived collection at all and just goes straight to the original collection. My guess is what i&#39;ve described in the question title. If that is the case, I would appreciate some help working around this.\r\n","title":"Can the @Document annotation in SpringData be overridden if the parent class also has it?","body":"<p>I have a microservice that is trying to query from two different collections. Both contain the exact same objects types, except there is a <code>status</code> field that can have a value of <code>&quot;Archived&quot;\\Discarded&quot;</code>. These objects are stored in the <code>archived_collection</code> as opposed to ones that have <code>status: &quot;Published/Unmapped&quot;</code></p>\n<p>So my question is, is it possible that the collection for the parent class be used if i extend the child class from it and they both have different values for <code>@Document()</code>?</p>\n<p>Here's what the code would look like.</p>\n<p><code>Class 1</code>:</p>\n<pre><code>@Document(&quot;original_collection&quot;)\npublic class parentObject{\n//some fields\n}\n</code></pre>\n<p><code>Class 2</code>:</p>\n<pre><code>@Document(&quot;archived_collection&quot;)\npublic class archivedObject extends parentObject{\n//no extra fields. exact same as parentObject\n}\n</code></pre>\n<p>Mind you, there's only one <code>MongoTemplate</code> object in the code since both these collections are in the same database. So currently, my application seems to not be searching in the archived collection at all and just goes straight to the original collection. My guess is what i've described in the question title. If that is the case, I would appreciate some help working around this.</p>\n"},{"tags":["java","spring","hibernate","lazy-loading"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1656621905,"post_id":72821693,"comment_id":128624397,"body_markdown":"Did you try/check similar questions like https://stackoverflow.com/questions/19813492/getting-lazyinitializationexception-on-junit-test-case ?","body":"Did you try/check similar questions like <a href=\"https://stackoverflow.com/questions/19813492/getting-lazyinitializationexception-on-junit-test-case\" title=\"getting lazyinitializationexception on junit test case\">stackoverflow.com/questions/19813492/&hellip;</a> ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656660161,"post_id":72821693,"comment_id":128631026,"body_markdown":"Inject the `EntityManager` and before a `findById` call `flush` and `clear` (and add `@Transactional` to the test). If you don&#39;t you won&#39;t get intermediate steps persisted/flushed to the database and the `findById` will only return the value from the 1st level cache. However the fact that it doesn&#39;t simply work is more of an indication that the way you are adding columns to the board is wrong and you probably should fix the actual service method instead of doing what you do now.","body":"Inject the <code>EntityManager</code> and before a <code>findById</code> call <code>flush</code> and <code>clear</code> (and add <code>@Transactional</code> to the test). If you don&#39;t you won&#39;t get intermediate steps persisted/flushed to the database and the <code>findById</code> will only return the value from the 1st level cache. However the fact that it doesn&#39;t simply work is more of an indication that the way you are adding columns to the board is wrong and you probably should fix the actual service method instead of doing what you do now."}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656621159,"creation_date":1656621159,"question_id":72821693,"body_markdown":"My problem is extremely simple but spring is making hell of my life to solve it.\r\n\r\nI have an entity (Board) which has a collection (Column) that is LAZY (and please don&#39;t suggest to make it eager)\r\n\r\nIn my test class I want to create a simple test case where I can assert that the Columns are being created into the Board\r\n\r\n\r\n    @Test\r\n       void testAddColumn() {\r\n          Board board = new Board(&quot;title&quot;, groupId);\r\n          board = boardRepository.save(board);\r\n    \r\n          assertTrue(board.getColumns().isEmpty());\r\n    \r\n          Column column = new Column(board, &quot;column title&quot;, 2);\r\n          column = boardService.addColumn(board.getId(), column);\r\n    \r\n         \r\n          assertEquals(1, boardRepository.findById(board.getId()).get().getColumns().size()); //this line breaks\r\n    \r\n          Column column2 = new Column(board, &quot;column title2&quot;, 1);\r\n          boardService.addColumn(board.getId(), column2);\r\n          assertEquals(2, boardRepository.findById(board.getId()).get().getColumns().size());\r\n    \r\n          boardService.delete(board.getId());\r\n          \r\n       }\r\n\r\nBut as you can imagine I get:\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role  could not initialize proxy - no Session\r\n\r\nI&#39;ve tried to: \r\n\r\n    @Autowired\r\n       private SessionFactory sessionFactory;\r\n\r\nthen\r\n\r\n\r\n     SessionFactory sessionFactory = entityManagerFactory.unwrap(SessionFactory.class);\r\n          sessionFactory.openSession();\r\n\r\nbut yet hibernate cant find session and throw same error.\r\n\r\nI&#39;ve added @Transactional to the test method, them the connection works, but the whole test logic fails because hibernate wont load intermediary states, and everytime i try to findById() it wont refresh\r\n\r\nHow can i solve this problem, manually open connections and fetch this lazy entities just for this test class without making everything eager","title":"Spring boot allow to manually create hibernate session for test classes","body":"<p>My problem is extremely simple but spring is making hell of my life to solve it.</p>\n<p>I have an entity (Board) which has a collection (Column) that is LAZY (and please don't suggest to make it eager)</p>\n<p>In my test class I want to create a simple test case where I can assert that the Columns are being created into the Board</p>\n<pre><code>@Test\n   void testAddColumn() {\n      Board board = new Board(&quot;title&quot;, groupId);\n      board = boardRepository.save(board);\n\n      assertTrue(board.getColumns().isEmpty());\n\n      Column column = new Column(board, &quot;column title&quot;, 2);\n      column = boardService.addColumn(board.getId(), column);\n\n     \n      assertEquals(1, boardRepository.findById(board.getId()).get().getColumns().size()); //this line breaks\n\n      Column column2 = new Column(board, &quot;column title2&quot;, 1);\n      boardService.addColumn(board.getId(), column2);\n      assertEquals(2, boardRepository.findById(board.getId()).get().getColumns().size());\n\n      boardService.delete(board.getId());\n      \n   }\n</code></pre>\n<p>But as you can imagine I get:\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role  could not initialize proxy - no Session</p>\n<p>I've tried to:</p>\n<pre><code>@Autowired\n   private SessionFactory sessionFactory;\n</code></pre>\n<p>then</p>\n<pre><code> SessionFactory sessionFactory = entityManagerFactory.unwrap(SessionFactory.class);\n      sessionFactory.openSession();\n</code></pre>\n<p>but yet hibernate cant find session and throw same error.</p>\n<p>I've added @Transactional to the test method, them the connection works, but the whole test logic fails because hibernate wont load intermediary states, and everytime i try to findById() it wont refresh</p>\n<p>How can i solve this problem, manually open connections and fetch this lazy entities just for this test class without making everything eager</p>\n"},{"tags":["java","spring","request","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1656619264,"post_id":72821330,"comment_id":128623696,"body_markdown":"There is no HTTP request context in the Kafka consumer. That `RequestContextHolder` is only usable from the MVC controller on the HTTP server side. Please, elaborate why you use it from that `validateData()`  ?","body":"There is no HTTP request context in the Kafka consumer. That <code>RequestContextHolder</code> is only usable from the MVC controller on the HTTP server side. Please, elaborate why you use it from that <code>validateData()</code>  ?"},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1656620351,"post_id":72821330,"comment_id":128624020,"body_markdown":"@ArtemBilan  updated the question, please check","body":"@ArtemBilan  updated the question, please check"},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1656620503,"post_id":72821330,"comment_id":128624063,"body_markdown":"i tried this way https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor/33337838#33337838. but it not worked throw-ed same error","body":"i tried this way <a href=\"https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor/33337838#33337838\" title=\"how to enable request scope in async task executor\">stackoverflow.com/questions/23732089/&hellip;</a>. but it not worked throw-ed same error"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1656620534,"post_id":72821330,"comment_id":128624075,"body_markdown":"There is a Kafka broker in between producer via `StreamBridge` and that your `Consumer`. Your solution is not just async - it is *distributed*. Therefore there is indeed no request context on the other side. It is just not propagated over the network.","body":"There is a Kafka broker in between producer via <code>StreamBridge</code> and that your <code>Consumer</code>. Your solution is not just async - it is <i>distributed</i>. Therefore there is indeed no request context on the other side. It is just not propagated over the network."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1656620648,"post_id":72821330,"comment_id":128624111,"body_markdown":"That one is different. There is an access to an executor to propagate context. In your case there is a network and just `byte[]` as data traveling to the Kafka broker and back to the consumer.","body":"That one is different. There is an access to an executor to propagate context. In your case there is a network and just <code>byte[]</code> as data traveling to the Kafka broker and back to the consumer."},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1656620733,"post_id":72821330,"comment_id":128624133,"body_markdown":"yeah we cannt propagated over network, is this wont work for my scenario. https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor/33337838#33337838.","body":"yeah we cannt propagated over network, is this wont work for my scenario. <a href=\"https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor/33337838#33337838\" title=\"how to enable request scope in async task executor\">stackoverflow.com/questions/23732089/&hellip;</a>."},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1656621122,"post_id":72821330,"comment_id":128624229,"body_markdown":"can i hold the context within the application and used it when consumer read the topic?. i am thinking using the executor and callable we can achieve but its not working for me. I clearly followed the above links suggestions which i pointed. it should working right","body":"can i hold the context within the application and used it when consumer read the topic?. i am thinking using the executor and callable we can achieve but its not working for me. I clearly followed the above links suggestions which i pointed. it should working right"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1656621409,"post_id":72821330,"comment_id":128624288,"body_markdown":"That is not going to work for you since the task is scheduled from the Kafka client, not from your HTTP request controller","body":"That is not going to work for you since the task is scheduled from the Kafka client, not from your HTTP request controller"}],"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656620871,"creation_date":1656618829,"question_id":72821330,"body_markdown":"Hi have implemented producer and consumer in my existing spring boot application.\r\nProducer sending message properly to topic and even consumer also listening consuming message from topic. Here producer used with `StreamBridge`  , it called from rest endpoint from the controller.\r\n\r\nIn the consumer afte it taking message i am making a internal service call it has httpclient realted and RequestContextHolder related calls.\r\n\r\nmy consumer looks like below\r\n\r\n    Consumer&lt;Message&lt;String&gt;&gt; input(){\r\n    return str - &gt; {\r\n    log(str);\r\n    validateservice.validatData(str);\r\n    };}\r\n\r\nmy validateData methods looks as below\r\n\r\n    validateData ()\r\n    {\r\n    .....\r\n    RequestContextHolder.currentRequestAttributes().setAttribute(&quot;text&quot;, document, RequestAttributes.SCOPE_REQUEST);\r\n    ....\r\n    }\r\n\r\nat the above line `RequestContextHolder.currentRequestAttributes()` ... i am getting below error\r\n\r\n    14:28:44.747 [KafkaConsumerDestination{consumerDestinationName=&#39;xyz&#39;, partitions=0, dlqName=&#39;null&#39;}.container-0-C-1] ERROR c.c.v.f.d.s.ValidateData - Error preparing external data\r\n    java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n    \tat org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131)\r\n    \tat com.dfd.vsg.fnc.utils.CustomJAXBConvert.readFromSource(CustomJAXBConvert.java:174)\r\n\r\n\r\nI have gone through https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor/33337838#33337838 and tried all the solutions, its not working.\r\n\r\n\r\nUpdated Question : \r\n\r\nactually validatData is used in controller only, as there are few calls want make few async, so in that process first call will send message to topic and wont look for response. and the message will by consumer and send it to the  validatData() method","title":"No thread-bound request found: Are you referring to request attributes outside of an actual web request","body":"<p>Hi have implemented producer and consumer in my existing spring boot application.\nProducer sending message properly to topic and even consumer also listening consuming message from topic. Here producer used with <code>StreamBridge</code>  , it called from rest endpoint from the controller.</p>\n<p>In the consumer afte it taking message i am making a internal service call it has httpclient realted and RequestContextHolder related calls.</p>\n<p>my consumer looks like below</p>\n<pre><code>Consumer&lt;Message&lt;String&gt;&gt; input(){\nreturn str - &gt; {\nlog(str);\nvalidateservice.validatData(str);\n};}\n</code></pre>\n<p>my validateData methods looks as below</p>\n<pre><code>validateData ()\n{\n.....\nRequestContextHolder.currentRequestAttributes().setAttribute(&quot;text&quot;, document, RequestAttributes.SCOPE_REQUEST);\n....\n}\n</code></pre>\n<p>at the above line <code>RequestContextHolder.currentRequestAttributes()</code> ... i am getting below error</p>\n<pre><code>14:28:44.747 [KafkaConsumerDestination{consumerDestinationName='xyz', partitions=0, dlqName='null'}.container-0-C-1] ERROR c.c.v.f.d.s.ValidateData - Error preparing external data\njava.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131)\n    at com.dfd.vsg.fnc.utils.CustomJAXBConvert.readFromSource(CustomJAXBConvert.java:174)\n</code></pre>\n<p>I have gone through <a href=\"https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor/33337838#33337838\">How to enable request scope in async task executor</a> and tried all the solutions, its not working.</p>\n<p>Updated Question :</p>\n<p>actually validatData is used in controller only, as there are few calls want make few async, so in that process first call will send message to topic and wont look for response. and the message will by consumer and send it to the  validatData() method</p>\n"},{"tags":["java","spring-data","spring-data-mongodb","spring-el"],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656619192,"creation_date":1656550876,"answer_id":72809285,"question_id":72744345,"body_markdown":"# Analysis\r\nThe following query part (line) causes the exception:\r\n```\r\n+ &quot;?#{ #fileNamePatterns== null or #fileNamePatterns.isEmpty() ? {$expr : &#39;true&#39;} : { $expr: { $gt: [ { $size: { $filter: { input: #fileNamePatterns, as: &#39;pattern&#39;, cond: { $regexMatch: { input: &#39;$fileName&#39;, regex: &#39;$$pattern&#39; } } } } }, 0 ] } } },&quot;\r\n```\r\n\r\nSince this query part uses the Spring Expression Language (SpEL for short)  not JSON  it is necessary to respect the SpEL syntax.\r\n\r\nThe exception message states:\r\n\r\n&gt; EL1043E: Unexpected token. Expected &#39;rsquare(])&#39; but was &#39;comma(,)&#39;\r\n\r\nIt seems that the SpEL expression parser tries to parse the `$gt` JSON array as the SpEL indexer expression that accepts the single value: this is why it expects the closing square bracket instead of the comma.\r\n\r\n# Solution\r\nThe solution is made up of the following two changes.\r\n\r\n## Change #1. Correct the expression according to the SpEL syntax\r\nPlease, see the following SpEL-related documentation:\r\n\r\n* [Spring Framework Documentation 5.3.9: 4. Spring Expression Language (SpEL): 4.3. Language Reference: 4.3.3. Inline Lists](https://docs.spring.io/spring-framework/docs/5.3.9/reference/html/core.html#expressions-inline-lists).\r\n\r\n    Please, note:\r\n\r\n    &gt; #### 4.3.3. Inline Lists\r\n    &gt;\r\n    &gt; You can directly express lists in an expression by using `{}` notation.\r\n\r\n* [Spring Framework Documentation 5.3.9: 4. Spring Expression Language (SpEL): 4.3. Language Reference: 4.3.4. Inline Maps](https://docs.spring.io/spring-framework/docs/5.3.9/reference/html/core.html#expressions-inline-maps).\r\n\r\n    Please, note:\r\n\r\n    &gt; #### 4.3.4. Inline Maps\r\n    &gt;\r\n    &gt; You can also directly express maps in an expression by using `{key:value}` notation.\r\n\r\n* [Spring Data MongoDB - Reference Documentation: 15. MongoDB Repositories: 15.2. Query Methods: 15.2.6. JSON-based Queries with SpEL Expressions](https://docs.spring.io/spring-data/mongodb/docs/3.4.1/reference/html/#mongodb.repositories.queries.json-spel).\r\n\r\n    Please, note:\r\n\r\n    &gt; Expressions can be used to invoke functions, evaluate conditionals, and construct values. SpEL expressions used in conjunction with JSON reveal a side-effect, because Map-like declarations inside of SpEL read like JSON, as the following example shows:\r\n    &gt;\r\n    &gt; ```java\r\n    &gt; public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n    &gt;\r\n    &gt;   @Query(&quot;{&#39;id&#39;: ?#{ [0] ? {$exists :true} : [1] }}&quot;)\r\n    &gt;   List&lt;Person&gt; findByQueryWithExpressionAndNestedObject(boolean param0, String param1);\r\n    &gt; }\r\n    &gt; ```\r\n\r\n    Please, note:\r\n\r\n    &gt; SpEL expressions used in conjunction with JSON\r\n\r\n    It is necessary to be careful on where it is SpEL and where it is JSON.\r\n\r\nThe used map syntax looks correct.\r\n\r\nThe used list syntax requires the correction:\r\n\r\n* Now it is: `$gt: [, ]`.\r\n* It should be: `$gt: {, }`.\r\n\r\nFor the sake of completeness, here is the entire corrected query part (line):\r\n\r\n```\r\n+ &quot;?#{ #fileNamePatterns == null or #fileNamePatterns.isEmpty() ? {$expr : &#39;true&#39;} : { $expr: { $gt: { { $size: { $filter: { input: #fileNamePatterns, as: &#39;pattern&#39;, cond: { $regexMatch: { input: &#39;$fileName&#39;, regex: &#39;$$pattern&#39; } } } } }, 0 } } } },&quot;\r\n```\r\n\r\n## Change #2. Annotate query parameters with `@Param` annotation\r\n```\r\n&lt;&gt;\r\n\r\npublic interface FileHistoryRepository extends MongoRepository&lt;FileHistory, ObjectId&gt; {\r\n    &lt;&gt;\r\n\r\n    Page&lt;FileHistory&gt; findHistory(\r\n        @Param(&quot;users&quot;) List&lt;String&gt; users,\r\n        @Param(&quot;fileNamePatterns&quot;) List&lt;String&gt; fileNamePatterns,\r\n        @Param(&quot;from&quot;) LocalDateTime from,\r\n        @Param(&quot;to&quot;) LocalDateTime to,\r\n        Pageable pageable\r\n    );\r\n\r\n    &lt;&gt;\r\n}\r\n```\r\n\r\n## Bonus: Draft manual test method\r\nEnable the detailed logging by adding the following line to the `src/main/resources/application.properties` file:\r\n\r\n```\r\nlogging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG\r\n```\r\n\r\nConsider using the following draft manual test method as a starting point to test both positive (`doc`  found) and negative (`docx`  not found) cases:\r\n\r\n```\r\nprivate void testRepository(final FileHistoryRepository repository) {\r\n    repository.deleteAll();\r\n\r\n    final LocalDateTime now = LocalDateTime.of(2022, 1, 2, 3, 4);\r\n    repository.save(new FileHistory(&quot;test.doc&quot;, &quot;root&quot;, now));\r\n\r\n    final Page&lt;FileHistory&gt; positiveHistoryPage = repository.findHistory(\r\n        List.of(),\r\n        List.of(&quot;doc&quot;),\r\n        now.minus(1, ChronoUnit.DAYS),\r\n        now.plus(1, ChronoUnit.DAYS),\r\n        Pageable.ofSize(10)\r\n    );\r\n    System.out.println(\r\n        String.format(\r\n            &quot;Positive number of history entries: %d&quot;,\r\n            positiveHistoryPage.stream().count()\r\n        )\r\n    );\r\n\r\n    final Page&lt;FileHistory&gt; negativeHistoryPage = repository.findHistory(\r\n        List.of(),\r\n        List.of(&quot;docx&quot;),\r\n        now.minus(1, ChronoUnit.DAYS),\r\n        now.plus(1, ChronoUnit.DAYS),\r\n        Pageable.ofSize(10)\r\n    );\r\n    System.out.println(\r\n        String.format(\r\n            &quot;Negative number of history entries: %d&quot;,\r\n            negativeHistoryPage.stream().count()\r\n        )\r\n    );\r\n}\r\n```\r\n\r\nRunning this method produces the following output:\r\n\r\n```\r\n2022-06-30 04:54:16.055 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Remove using query: {} in collection: fileHistory.\r\n2022-06-30 04:54:16.168  INFO 4083 --- [           main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:10}] to localhost:27017\r\n2022-06-30 04:54:16.207 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Inserting Document containing fields: [fileName, userName, timestamp, _class] in collection: fileHistory\r\n2022-06-30 04:54:16.267 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;$and&quot; : [{ &quot;$expr&quot; : &quot;true&quot;}, { &quot;$expr&quot; : { &quot;$gt&quot; : [{ &quot;$size&quot; : { &quot;$filter&quot; : { &quot;input&quot; : [&quot;doc&quot;], &quot;as&quot; : &quot;pattern&quot;, &quot;cond&quot; : { &quot;$regexMatch&quot; : { &quot;input&quot; : &quot;$fileName&quot;, &quot;regex&quot; : &quot;$$pattern&quot;}}}}}, 0]}}, { &quot;timestamp&quot; : { &quot;$gte&quot; : { &quot;$date&quot; : &quot;2022-01-01T00:04:00Z&quot;}}}, { &quot;timestamp&quot; : { &quot;$lte&quot; : { &quot;$date&quot; : &quot;2022-01-03T00:04:00Z&quot;}}}]} fields: Document{{}} for class: class the.project.FileHistory in collection: fileHistory\r\nPositive number of history entries: 1\r\n2022-06-30 04:54:16.299 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;$and&quot; : [{ &quot;$expr&quot; : &quot;true&quot;}, { &quot;$expr&quot; : { &quot;$gt&quot; : [{ &quot;$size&quot; : { &quot;$filter&quot; : { &quot;input&quot; : [&quot;docx&quot;], &quot;as&quot; : &quot;pattern&quot;, &quot;cond&quot; : { &quot;$regexMatch&quot; : { &quot;input&quot; : &quot;$fileName&quot;, &quot;regex&quot; : &quot;$$pattern&quot;}}}}}, 0]}}, { &quot;timestamp&quot; : { &quot;$gte&quot; : { &quot;$date&quot; : &quot;2022-01-01T00:04:00Z&quot;}}}, { &quot;timestamp&quot; : { &quot;$lte&quot; : { &quot;$date&quot; : &quot;2022-01-03T00:04:00Z&quot;}}}]} fields: Document{{}} for class: class the.project.FileHistory in collection: fileHistory\r\nNegative number of history entries: 0\r\n```\r\n\r\nPlease, note the following actual output entries:\r\n\r\n```\r\nPositive number of history entries: 1\r\nNegative number of history entries: 0\r\n```\r\n\r\nThey are the same as the expected ones.\r\n","title":"Spring Data MongoDb Query malformed SpEL","body":"<h1>Analysis</h1>\n<p>The following query part (line) causes the exception:</p>\n<pre><code>+ &quot;?#{ #fileNamePatterns== null or #fileNamePatterns.isEmpty() ? {$expr : 'true'} : { $expr: { $gt: [ { $size: { $filter: { input: #fileNamePatterns, as: 'pattern', cond: { $regexMatch: { input: '$fileName', regex: '$$pattern' } } } } }, 0 ] } } },&quot;\n</code></pre>\n<p>Since this query part uses the Spring Expression Language (SpEL for short)  not JSON  it is necessary to respect the SpEL syntax.</p>\n<p>The exception message states:</p>\n<blockquote>\n<p>EL1043E: Unexpected token. Expected 'rsquare(])' but was 'comma(,)'</p>\n</blockquote>\n<p>It seems that the SpEL expression parser tries to parse the <code>$gt</code> JSON array as the SpEL indexer expression that accepts the single value: this is why it expects the closing square bracket instead of the comma.</p>\n<h1>Solution</h1>\n<p>The solution is made up of the following two changes.</p>\n<h2>Change #1. Correct the expression according to the SpEL syntax</h2>\n<p>Please, see the following SpEL-related documentation:</p>\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring-framework/docs/5.3.9/reference/html/core.html#expressions-inline-lists\" rel=\"nofollow noreferrer\">Spring Framework Documentation 5.3.9: 4. Spring Expression Language (SpEL): 4.3. Language Reference: 4.3.3. Inline Lists</a>.</p>\n<p>Please, note:</p>\n<blockquote>\n<h4>4.3.3. Inline Lists</h4>\n<p>You can directly express lists in an expression by using <code>{}</code> notation.</p>\n</blockquote>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-framework/docs/5.3.9/reference/html/core.html#expressions-inline-maps\" rel=\"nofollow noreferrer\">Spring Framework Documentation 5.3.9: 4. Spring Expression Language (SpEL): 4.3. Language Reference: 4.3.4. Inline Maps</a>.</p>\n<p>Please, note:</p>\n<blockquote>\n<h4>4.3.4. Inline Maps</h4>\n<p>You can also directly express maps in an expression by using <code>{key:value}</code> notation.</p>\n</blockquote>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-data/mongodb/docs/3.4.1/reference/html/#mongodb.repositories.queries.json-spel\" rel=\"nofollow noreferrer\">Spring Data MongoDB - Reference Documentation: 15. MongoDB Repositories: 15.2. Query Methods: 15.2.6. JSON-based Queries with SpEL Expressions</a>.</p>\n<p>Please, note:</p>\n<blockquote>\n<p>Expressions can be used to invoke functions, evaluate conditionals, and construct values. SpEL expressions used in conjunction with JSON reveal a side-effect, because Map-like declarations inside of SpEL read like JSON, as the following example shows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n\n  @Query(&quot;{'id': ?#{ [0] ? {$exists :true} : [1] }}&quot;)\n  List&lt;Person&gt; findByQueryWithExpressionAndNestedObject(boolean param0, String param1);\n}\n</code></pre>\n</blockquote>\n<p>Please, note:</p>\n<blockquote>\n<p>SpEL expressions used in conjunction with JSON</p>\n</blockquote>\n<p>It is necessary to be careful on where it is SpEL and where it is JSON.</p>\n</li>\n</ul>\n<p>The used map syntax looks correct.</p>\n<p>The used list syntax requires the correction:</p>\n<ul>\n<li>Now it is: <code>$gt: [, ]</code>.</li>\n<li>It should be: <code>$gt: {, }</code>.</li>\n</ul>\n<p>For the sake of completeness, here is the entire corrected query part (line):</p>\n<pre><code>+ &quot;?#{ #fileNamePatterns == null or #fileNamePatterns.isEmpty() ? {$expr : 'true'} : { $expr: { $gt: { { $size: { $filter: { input: #fileNamePatterns, as: 'pattern', cond: { $regexMatch: { input: '$fileName', regex: '$$pattern' } } } } }, 0 } } } },&quot;\n</code></pre>\n<h2>Change #2. Annotate query parameters with <code>@Param</code> annotation</h2>\n<pre><code>&lt;&gt;\n\npublic interface FileHistoryRepository extends MongoRepository&lt;FileHistory, ObjectId&gt; {\n    &lt;&gt;\n\n    Page&lt;FileHistory&gt; findHistory(\n        @Param(&quot;users&quot;) List&lt;String&gt; users,\n        @Param(&quot;fileNamePatterns&quot;) List&lt;String&gt; fileNamePatterns,\n        @Param(&quot;from&quot;) LocalDateTime from,\n        @Param(&quot;to&quot;) LocalDateTime to,\n        Pageable pageable\n    );\n\n    &lt;&gt;\n}\n</code></pre>\n<h2>Bonus: Draft manual test method</h2>\n<p>Enable the detailed logging by adding the following line to the <code>src/main/resources/application.properties</code> file:</p>\n<pre><code>logging.level.org.springframework.data.mongodb.core.MongoTemplate=DEBUG\n</code></pre>\n<p>Consider using the following draft manual test method as a starting point to test both positive (<code>doc</code>  found) and negative (<code>docx</code>  not found) cases:</p>\n<pre><code>private void testRepository(final FileHistoryRepository repository) {\n    repository.deleteAll();\n\n    final LocalDateTime now = LocalDateTime.of(2022, 1, 2, 3, 4);\n    repository.save(new FileHistory(&quot;test.doc&quot;, &quot;root&quot;, now));\n\n    final Page&lt;FileHistory&gt; positiveHistoryPage = repository.findHistory(\n        List.of(),\n        List.of(&quot;doc&quot;),\n        now.minus(1, ChronoUnit.DAYS),\n        now.plus(1, ChronoUnit.DAYS),\n        Pageable.ofSize(10)\n    );\n    System.out.println(\n        String.format(\n            &quot;Positive number of history entries: %d&quot;,\n            positiveHistoryPage.stream().count()\n        )\n    );\n\n    final Page&lt;FileHistory&gt; negativeHistoryPage = repository.findHistory(\n        List.of(),\n        List.of(&quot;docx&quot;),\n        now.minus(1, ChronoUnit.DAYS),\n        now.plus(1, ChronoUnit.DAYS),\n        Pageable.ofSize(10)\n    );\n    System.out.println(\n        String.format(\n            &quot;Negative number of history entries: %d&quot;,\n            negativeHistoryPage.stream().count()\n        )\n    );\n}\n</code></pre>\n<p>Running this method produces the following output:</p>\n<pre><code>2022-06-30 04:54:16.055 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Remove using query: {} in collection: fileHistory.\n2022-06-30 04:54:16.168  INFO 4083 --- [           main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:10}] to localhost:27017\n2022-06-30 04:54:16.207 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Inserting Document containing fields: [fileName, userName, timestamp, _class] in collection: fileHistory\n2022-06-30 04:54:16.267 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;$and&quot; : [{ &quot;$expr&quot; : &quot;true&quot;}, { &quot;$expr&quot; : { &quot;$gt&quot; : [{ &quot;$size&quot; : { &quot;$filter&quot; : { &quot;input&quot; : [&quot;doc&quot;], &quot;as&quot; : &quot;pattern&quot;, &quot;cond&quot; : { &quot;$regexMatch&quot; : { &quot;input&quot; : &quot;$fileName&quot;, &quot;regex&quot; : &quot;$$pattern&quot;}}}}}, 0]}}, { &quot;timestamp&quot; : { &quot;$gte&quot; : { &quot;$date&quot; : &quot;2022-01-01T00:04:00Z&quot;}}}, { &quot;timestamp&quot; : { &quot;$lte&quot; : { &quot;$date&quot; : &quot;2022-01-03T00:04:00Z&quot;}}}]} fields: Document{{}} for class: class the.project.FileHistory in collection: fileHistory\nPositive number of history entries: 1\n2022-06-30 04:54:16.299 DEBUG 4083 --- [           main] o.s.data.mongodb.core.MongoTemplate      : find using query: { &quot;$and&quot; : [{ &quot;$expr&quot; : &quot;true&quot;}, { &quot;$expr&quot; : { &quot;$gt&quot; : [{ &quot;$size&quot; : { &quot;$filter&quot; : { &quot;input&quot; : [&quot;docx&quot;], &quot;as&quot; : &quot;pattern&quot;, &quot;cond&quot; : { &quot;$regexMatch&quot; : { &quot;input&quot; : &quot;$fileName&quot;, &quot;regex&quot; : &quot;$$pattern&quot;}}}}}, 0]}}, { &quot;timestamp&quot; : { &quot;$gte&quot; : { &quot;$date&quot; : &quot;2022-01-01T00:04:00Z&quot;}}}, { &quot;timestamp&quot; : { &quot;$lte&quot; : { &quot;$date&quot; : &quot;2022-01-03T00:04:00Z&quot;}}}]} fields: Document{{}} for class: class the.project.FileHistory in collection: fileHistory\nNegative number of history entries: 0\n</code></pre>\n<p>Please, note the following actual output entries:</p>\n<pre><code>Positive number of history entries: 1\nNegative number of history entries: 0\n</code></pre>\n<p>They are the same as the expected ones.</p>\n"}],"owner":{"account_id":75340,"reputation":378,"user_id":216161,"accept_rate":86,"display_name":"Kronen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72809285,"answer_count":1,"score":1,"last_activity_date":1656619192,"creation_date":1656075039,"question_id":72744345,"body_markdown":"Hi I want to run the following query to filter items, the problem is in the second expression where I want to filter the filenames that match some pattern in the list, but it is giving me the following error for that second expression.\r\n\r\n&gt; Expression [ #fileNames == null or #fileNames.isEmpty() ? {$expr : &#39;true&#39;} : { $expr: { $gt: [ { $size: { $filter: { input: #fileNames, as: &#39;pattern&#39;, cond: { $regexMatch: { input: &#39;$fileName&#39;, regex: &#39;$$pattern&#39; } } } } }, 0 ] } } ] @212: EL1043E: Unexpected token. Expected &#39;rsquare(])&#39; but was &#39;comma(,)&#39;\r\n\r\nThis expression works in mongoDb directly, so what would be the correct way to write this Query?\r\n\r\n```java\r\n@Query(&quot;{ $and :[&quot;\r\n    + &quot;?#{ #users == null or #users.isEmpty() ? {$expr : &#39;true&#39;} : { &#39;userName&#39; : {$in : #users} } },&quot;\r\n    + &quot;?#{ #fileNamePatterns== null or #fileNamePatterns.isEmpty() ? {$expr : &#39;true&#39;} : { $expr: { $gt: [ { $size: { $filter: { input: #fileNamePatterns, as: &#39;pattern&#39;, cond: { $regexMatch: { input: &#39;$fileName&#39;, regex: &#39;$$pattern&#39; } } } } }, 0 ] } } },&quot;\r\n    + &quot;?#{ #from == null ? {$expr : &#39;true&#39;} : { &#39;timestamp&#39; : {$gte : #from} } },&quot;\r\n    + &quot;?#{ #to == null ? {$expr : &#39;true&#39;} : { &#39;timestamp&#39; : {$lte : #to} } }&quot;\r\n    + &quot;]}&quot;)\r\nPage&lt;FileHistory&gt; findHistory(List&lt;String&gt; users, List&lt;String&gt; fileNamePatterns, LocalDateTime from, LocalDateTime to, Pageable pageable);\r\n```\r\n\r\nThe fields in the entity would be:\r\n\r\n```java\r\npublic class FileHistory {\r\n\r\n  @Id\r\n  private ObjectId fileId;\r\n  private String fileName;\r\n  private String userName;\r\n  private LocalDateTime timestamp;\r\n\r\n}\r\n```","title":"Spring Data MongoDb Query malformed SpEL","body":"<p>Hi I want to run the following query to filter items, the problem is in the second expression where I want to filter the filenames that match some pattern in the list, but it is giving me the following error for that second expression.</p>\n<blockquote>\n<p>Expression [ #fileNames == null or #fileNames.isEmpty() ? {$expr : 'true'} : { $expr: { $gt: [ { $size: { $filter: { input: #fileNames, as: 'pattern', cond: { $regexMatch: { input: '$fileName', regex: '$$pattern' } } } } }, 0 ] } } ] @212: EL1043E: Unexpected token. Expected 'rsquare(])' but was 'comma(,)'</p>\n</blockquote>\n<p>This expression works in mongoDb directly, so what would be the correct way to write this Query?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;{ $and :[&quot;\n    + &quot;?#{ #users == null or #users.isEmpty() ? {$expr : 'true'} : { 'userName' : {$in : #users} } },&quot;\n    + &quot;?#{ #fileNamePatterns== null or #fileNamePatterns.isEmpty() ? {$expr : 'true'} : { $expr: { $gt: [ { $size: { $filter: { input: #fileNamePatterns, as: 'pattern', cond: { $regexMatch: { input: '$fileName', regex: '$$pattern' } } } } }, 0 ] } } },&quot;\n    + &quot;?#{ #from == null ? {$expr : 'true'} : { 'timestamp' : {$gte : #from} } },&quot;\n    + &quot;?#{ #to == null ? {$expr : 'true'} : { 'timestamp' : {$lte : #to} } }&quot;\n    + &quot;]}&quot;)\nPage&lt;FileHistory&gt; findHistory(List&lt;String&gt; users, List&lt;String&gt; fileNamePatterns, LocalDateTime from, LocalDateTime to, Pageable pageable);\n</code></pre>\n<p>The fields in the entity would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileHistory {\n\n  @Id\n  private ObjectId fileId;\n  private String fileName;\n  private String userName;\n  private LocalDateTime timestamp;\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","mapping","dto","mapstruct"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1655592575,"post_id":72635934,"comment_id":128369243,"body_markdown":"Hi, could you please add some simple reproducible example, not clear what you want to achieve","body":"Hi, could you please add some simple reproducible example, not clear what you want to achieve"},{"owner":{"account_id":186329,"reputation":387,"user_id":423649,"accept_rate":14,"display_name":"TomerMiz"},"score":0,"creation_date":1655987313,"post_id":72635934,"comment_id":128465430,"body_markdown":"thanks i added some more code - hope its clear","body":"thanks i added some more code - hope its clear"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1655991903,"post_id":72635934,"comment_id":128467491,"body_markdown":"You do not want to map calculated getPrice method to the price field in DTO. You need just perform mapping of price field( without addon adjustment) to DTO price field. Correct?","body":"You do not want to map calculated getPrice method to the price field in DTO. You need just perform mapping of price field( without addon adjustment) to DTO price field. Correct?"},{"owner":{"account_id":186329,"reputation":387,"user_id":423649,"accept_rate":14,"display_name":"TomerMiz"},"score":0,"creation_date":1656580878,"post_id":72635934,"comment_id":128609741,"body_markdown":"yes that is correct","body":"yes that is correct"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656618975,"creation_date":1656618975,"answer_id":72821353,"question_id":72635934,"body_markdown":"Currently, MapStruct only supports mapping from public fields/properties. See contributor [comment and issue][1].\r\n&lt;br&gt;**Solution 1: using MapStruct, create a separate getter for the problematic field**\r\n&lt;br&gt;Objects:\r\n```java\r\npublic class Order {\r\n\r\n    private Integer price;\r\n    private Integer addOn;\r\n    \r\n\r\n    public void setAddOn(Integer addOn){\r\n        this.addOn=addOn;\r\n    }\r\n\r\n    public Integer getAddOn(){\r\n        return addOn;\r\n    }\r\n\r\n    public void setPrice(Integer price){\r\n        this.price=price;\r\n    }\r\n\r\n    public Integer getFullPrice() {\r\n        if (addOn == null) {\r\n            return getPrice();\r\n        } else {\r\n            return addOn + getPrice();\r\n        }\r\n    }\r\n\r\n    public Integer getPrice() {\r\n        return price;\r\n    }\r\n}\r\n\r\npublic class OrderDTO {\r\n\r\n    private Integer price;\r\n    private Integer addOn;\r\n\r\n    public Integer getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Integer price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getAddOn() {\r\n        return addOn;\r\n    }\r\n\r\n    public void setAddOn(Integer addOn) {\r\n        this.addOn = addOn;\r\n    }\r\n}\r\n```\r\nMapper:\r\n```java\r\n@Mapper\r\npublic interface OrderMapper {\r\n    OrderMapper INSTANCE = Mappers.getMapper(OrderMapper.class);\r\n\r\n    OrderDTO map(Order order);\r\n}\r\n```\r\nGenerated code:\r\n```java\r\npublic class OrderMapperImpl implements OrderMapper {\r\n\r\n    @Override\r\n    public OrderDTO map(Order order) {\r\n        if ( order == null ) {\r\n            return null;\r\n        }\r\n\r\n        OrderDTO orderDTO = new OrderDTO();\r\n\r\n        orderDTO.setPrice( order.getPrice() );\r\n        orderDTO.setAddOn( order.getAddOn() );\r\n\r\n        return orderDTO;\r\n    }\r\n}\r\n```\r\nExample of using:\r\n```java\r\n    @Test\r\n    public void mapperMapStructTest() {\r\n\r\n        Integer price = 100;\r\n        Integer addOn = 10;\r\n        Order order = new Order();\r\n        order.setAddOn(addOn);\r\n        order.setPrice(price);\r\n        OrderDTO orderDTO = OrderMapper.INSTANCE.map(order);\r\n\r\n        Assert.assertEquals(orderDTO.getPrice(), price);\r\n        Assert.assertEquals(orderDTO.getAddOn(), addOn);\r\n    }\r\n```\r\n&lt;br&gt;**Solution 2: using [Jackson][2], do not change structure of object**\r\n&lt;br&gt;Unlike MapStruct, Jackson can access private fields thru reflection. The main advantage of that solution is that you do not need to add an additional getter for accessing the problematic field.\r\n```java\r\npublic class TestClass {\r\n    @Test\r\n    public void mapperTest() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        //configuring Jackson ObjectMapper to access private fields\r\n        objectMapper.setVisibility(PropertyAccessor.GETTER, JsonAutoDetect.Visibility.NONE);\r\n        objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n\r\n        Integer price = 100;\r\n        Integer addOn = 10;\r\n        Order order = new Order();\r\n        order.setAddOn(addOn);\r\n        order.setPrice(price);\r\n        OrderDTO orderDTO = objectMapper.convertValue(order, OrderDTO.class);\r\n\r\n        Assert.assertEquals(orderDTO.getPrice(), price);\r\n        Assert.assertEquals(orderDTO.getAddOn(), addOn);\r\n    }\r\n}\r\n```\r\n**Summary:**\r\nI think the first solution is preferable. It is simple and has better performance than the second solution because for conversion Jackson will use reflection to access private fields and use intermediate JSON object.\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/1689#issuecomment-455698321\r\n  [2]: https://github.com/FasterXML/jackson-docs","title":"spring entity to DTO with compute getter","body":"<p>Currently, MapStruct only supports mapping from public fields/properties. See contributor <a href=\"https://github.com/mapstruct/mapstruct/issues/1689#issuecomment-455698321\" rel=\"nofollow noreferrer\">comment and issue</a>.\n<br><strong>Solution 1: using MapStruct, create a separate getter for the problematic field</strong>\n<br>Objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Order {\n\n    private Integer price;\n    private Integer addOn;\n    \n\n    public void setAddOn(Integer addOn){\n        this.addOn=addOn;\n    }\n\n    public Integer getAddOn(){\n        return addOn;\n    }\n\n    public void setPrice(Integer price){\n        this.price=price;\n    }\n\n    public Integer getFullPrice() {\n        if (addOn == null) {\n            return getPrice();\n        } else {\n            return addOn + getPrice();\n        }\n    }\n\n    public Integer getPrice() {\n        return price;\n    }\n}\n\npublic class OrderDTO {\n\n    private Integer price;\n    private Integer addOn;\n\n    public Integer getPrice() {\n        return price;\n    }\n\n    public void setPrice(Integer price) {\n        this.price = price;\n    }\n\n    public Integer getAddOn() {\n        return addOn;\n    }\n\n    public void setAddOn(Integer addOn) {\n        this.addOn = addOn;\n    }\n}\n</code></pre>\n<p>Mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface OrderMapper {\n    OrderMapper INSTANCE = Mappers.getMapper(OrderMapper.class);\n\n    OrderDTO map(Order order);\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrderMapperImpl implements OrderMapper {\n\n    @Override\n    public OrderDTO map(Order order) {\n        if ( order == null ) {\n            return null;\n        }\n\n        OrderDTO orderDTO = new OrderDTO();\n\n        orderDTO.setPrice( order.getPrice() );\n        orderDTO.setAddOn( order.getAddOn() );\n\n        return orderDTO;\n    }\n}\n</code></pre>\n<p>Example of using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void mapperMapStructTest() {\n\n        Integer price = 100;\n        Integer addOn = 10;\n        Order order = new Order();\n        order.setAddOn(addOn);\n        order.setPrice(price);\n        OrderDTO orderDTO = OrderMapper.INSTANCE.map(order);\n\n        Assert.assertEquals(orderDTO.getPrice(), price);\n        Assert.assertEquals(orderDTO.getAddOn(), addOn);\n    }\n</code></pre>\n<p><br><strong>Solution 2: using <a href=\"https://github.com/FasterXML/jackson-docs\" rel=\"nofollow noreferrer\">Jackson</a>, do not change structure of object</strong>\n<br>Unlike MapStruct, Jackson can access private fields thru reflection. The main advantage of that solution is that you do not need to add an additional getter for accessing the problematic field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    @Test\n    public void mapperTest() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        //configuring Jackson ObjectMapper to access private fields\n        objectMapper.setVisibility(PropertyAccessor.GETTER, JsonAutoDetect.Visibility.NONE);\n        objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n\n        Integer price = 100;\n        Integer addOn = 10;\n        Order order = new Order();\n        order.setAddOn(addOn);\n        order.setPrice(price);\n        OrderDTO orderDTO = objectMapper.convertValue(order, OrderDTO.class);\n\n        Assert.assertEquals(orderDTO.getPrice(), price);\n        Assert.assertEquals(orderDTO.getAddOn(), addOn);\n    }\n}\n</code></pre>\n<p><strong>Summary:</strong>\nI think the first solution is preferable. It is simple and has better performance than the second solution because for conversion Jackson will use reflection to access private fields and use intermediate JSON object.</p>\n"}],"owner":{"account_id":186329,"reputation":387,"user_id":423649,"accept_rate":14,"display_name":"TomerMiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656618975,"creation_date":1655316157,"question_id":72635934,"body_markdown":"Trying to understand the best practice here, i have an entity\r\nand i add some login to the getPrice property:\r\n```\r\npublic class Order{\r\n \r\n    private Integer price;\r\n    private Integer addOn;\r\n\r\n    public Integer setAddOn(Integer addOn){\r\n       this.addOn=addOn;\r\n    }\r\n    public Integer getAddOn(){\r\n       return addOn;\r\n    }\r\n    public Integer setPrice(Integer price){\r\n       this.price=price;\r\n    }\r\n    // standard getters and setters\r\n    public Integer getPrice(){\r\n      if(addOn==null){\r\n       return price;\r\n      }\r\n      else{\r\n        return addOn+price;\r\n      }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nand a DTO\r\n```\r\npublic class OrderDTO{\r\n \r\n    private Integer price;\r\n    private Integer addOn;\r\n\r\n    // getters and setters\r\n}\r\n\r\n```\r\n\r\n \r\nthe issue is that when I am mapping the order to orderDTO the price in the DTO is changing\r\nsince the entity price getter is calculating.\r\n```\r\n    OrderDTO orderDTO= modelMapper.map(order, OrderDTO.class);\r\n```\r\n\r\nwhat&#39;s the best approach here?\r\nthanks","title":"spring entity to DTO with compute getter","body":"<p>Trying to understand the best practice here, i have an entity\nand i add some login to the getPrice property:</p>\n<pre><code>public class Order{\n \n    private Integer price;\n    private Integer addOn;\n\n    public Integer setAddOn(Integer addOn){\n       this.addOn=addOn;\n    }\n    public Integer getAddOn(){\n       return addOn;\n    }\n    public Integer setPrice(Integer price){\n       this.price=price;\n    }\n    // standard getters and setters\n    public Integer getPrice(){\n      if(addOn==null){\n       return price;\n      }\n      else{\n        return addOn+price;\n      }\n    }\n}\n\n\n</code></pre>\n<p>and a DTO</p>\n<pre><code>public class OrderDTO{\n \n    private Integer price;\n    private Integer addOn;\n\n    // getters and setters\n}\n\n</code></pre>\n<p>the issue is that when I am mapping the order to orderDTO the price in the DTO is changing\nsince the entity price getter is calculating.</p>\n<pre><code>    OrderDTO orderDTO= modelMapper.map(order, OrderDTO.class);\n</code></pre>\n<p>what's the best approach here?\nthanks</p>\n"},{"tags":["java","selenium","web-scraping"],"comments":[{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656604598,"post_id":72817621,"comment_id":128619124,"body_markdown":"Is there a reason to use such old chrome version? Could you update webdriver (and Chrome browser on your PC)? Latest versions currently are 102,103 ([check this link](https://chromedriver.chromium.org/downloads))","body":"Is there a reason to use such old chrome version? Could you update webdriver (and Chrome browser on your PC)? Latest versions currently are 102,103 (<a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">check this link</a>)"},{"owner":{"account_id":20758222,"reputation":11,"user_id":15244115,"display_name":"Daniel Moreira"},"score":0,"creation_date":1656608527,"post_id":72817621,"comment_id":128620447,"body_markdown":"i try with a new version, but still dont work","body":"i try with a new version, but still dont work"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656608835,"post_id":72817621,"comment_id":128620543,"body_markdown":"what is the error, it is just not able to start or what?","body":"what is the error, it is just not able to start or what?"},{"owner":{"account_id":20758222,"reputation":11,"user_id":15244115,"display_name":"Daniel Moreira"},"score":0,"creation_date":1656609256,"post_id":72817621,"comment_id":128620684,"body_markdown":"is not a error, sorry. Chrome dont get the session saved in user-data, but without headless, it worth","body":"is not a error, sorry. Chrome dont get the session saved in user-data, but without headless, it worth"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656609607,"post_id":72817621,"comment_id":128620804,"body_markdown":"Sounds like you&#39;re doing everything right. Can&#39;t say what is the exact issue.. definitely something related to `headless` mode.","body":"Sounds like you&#39;re doing everything right. Can&#39;t say what is the exact issue.. definitely something related to <code>headless</code> mode."},{"owner":{"account_id":20718629,"reputation":685,"user_id":15213503,"display_name":"MeT"},"score":0,"creation_date":1656615518,"post_id":72817621,"comment_id":128622576,"body_markdown":"Try https://playwright.dev/python/ it has 3 browsers with headless mode: Chromium, Firefox y webkit.","body":"Try <a href=\"https://playwright.dev/python/\" rel=\"nofollow noreferrer\">playwright.dev/python</a> it has 3 browsers with headless mode: Chromium, Firefox y webkit."},{"owner":{"account_id":20758222,"reputation":11,"user_id":15244115,"display_name":"Daniel Moreira"},"score":0,"creation_date":1656630444,"post_id":72817621,"comment_id":128626288,"body_markdown":"So, i returned to Firefox and i gave up chrome","body":"So, i returned to Firefox and i gave up chrome"},{"owner":{"account_id":20699078,"reputation":174,"user_id":15198620,"display_name":"SaC-SeBaS"},"score":0,"creation_date":1656685118,"post_id":72817621,"comment_id":128639400,"body_markdown":"Not question related, but can you explain me how you&#39;re saving the chrome session and how you are accessing to it when the code gets executed again? I&#39;ve been looking for that for a while now.","body":"Not question related, but can you explain me how you&#39;re saving the chrome session and how you are accessing to it when the code gets executed again? I&#39;ve been looking for that for a while now."},{"owner":{"account_id":20758222,"reputation":11,"user_id":15244115,"display_name":"Daniel Moreira"},"score":0,"creation_date":1657039547,"post_id":72817621,"comment_id":128712896,"body_markdown":"https://stackoverflow.com/questions/50635087/how-to-open-a-chrome-profile-through-user-data-dir-argument-of-selenium  use it","body":"<a href=\"https://stackoverflow.com/questions/50635087/how-to-open-a-chrome-profile-through-user-data-dir-argument-of-selenium\" title=\"how to open a chrome profile through user data dir argument of selenium\">stackoverflow.com/questions/50635087/&hellip;</a>  use it"}],"owner":{"account_id":20758222,"reputation":11,"user_id":15244115,"display_name":"Daniel Moreira"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656618963,"creation_date":1656599520,"question_id":72817621,"body_markdown":"I use Selenium WebDriver in a WhatsApp Automation and I try to use headless mode with session saved in Chrome, but it doesn&#39;t work.\r\n\r\nThe DriverFactory:\r\n```java\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\4P\\\\Documents\\\\DRIVER SELENIUM\\\\chromedriver.exe&quot;);\r\n\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n\t\tchromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--headless&quot;);     \r\n\t\tchromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\r\n\t\tchromeOptions.addArguments(&quot;--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.72 Safari/537.36 OPR/60.0.3255.170&quot;);\r\n        chromeOptions.addArguments(&quot;--user-data-dir=C:\\\\Users\\\\4P\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data&quot;);\r\n        chromeOptions.addArguments(&quot;--remote-debugging-port=9222&quot;);\r\n        chromeOptions.addArguments(&quot;--profile-directory=Profile 1&quot;);\r\n        chromeOptions.setBinary(&quot;C:\\\\Users\\\\4P\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\r\n\t\tthis.driver = new _ChromeDriver(chromeOptions);\r\n\t\tthis.driver.manage().window();\r\n\t\tthis.js = (JavascriptExecutor) driver;  \r\n```\r\n\r\n\r\n----------\r\nMy chrome version is  94.0.4606.61.\r\n----------\r\nWith I remove the headless mode, I can get the session with no problem.\r\n\r\nIn another PC, I had success with another configuration, but I don&#39;t have access anymore to it.\r\n\r\nCan anyone help me?\r\n","title":"Selenium - Mode Headless doesn&#39;t work with user-data-dir","body":"<p>I use Selenium WebDriver in a WhatsApp Automation and I try to use headless mode with session saved in Chrome, but it doesn't work.</p>\n<p>The DriverFactory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\4P\\\\Documents\\\\DRIVER SELENIUM\\\\chromedriver.exe&quot;);\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--no-sandbox&quot;);\n        chromeOptions.addArguments(&quot;--headless&quot;);     \n        chromeOptions.addArguments(&quot;--disable-gpu&quot;);\n        chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\n        chromeOptions.addArguments(&quot;--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.72 Safari/537.36 OPR/60.0.3255.170&quot;);\n        chromeOptions.addArguments(&quot;--user-data-dir=C:\\\\Users\\\\4P\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data&quot;);\n        chromeOptions.addArguments(&quot;--remote-debugging-port=9222&quot;);\n        chromeOptions.addArguments(&quot;--profile-directory=Profile 1&quot;);\n        chromeOptions.setBinary(&quot;C:\\\\Users\\\\4P\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\n        this.driver = new _ChromeDriver(chromeOptions);\n        this.driver.manage().window();\n        this.js = (JavascriptExecutor) driver;  \n</code></pre>\n<hr />\n<h2>My chrome version is  94.0.4606.61.</h2>\n<p>With I remove the headless mode, I can get the session with no problem.</p>\n<p>In another PC, I had success with another configuration, but I don't have access anymore to it.</p>\n<p>Can anyone help me?</p>\n"},{"tags":["java","arrays","2d","path-finding"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656598956,"post_id":72817430,"comment_id":128616768,"body_markdown":"What exactly can&#39;t be altered?  Any already existing 1&#39;s?  Or just (0,0, and (9,9)?","body":"What exactly can&#39;t be altered?  Any already existing 1&#39;s?  Or just (0,0, and (9,9)?"},{"owner":{"account_id":17980177,"reputation":17,"user_id":13066718,"display_name":"balse98"},"score":0,"creation_date":1656600200,"post_id":72817430,"comment_id":128617308,"body_markdown":"the existing 1s, (0,0) and (9,9) cant be altered","body":"the existing 1s, (0,0) and (9,9) cant be altered"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1656607047,"post_id":72817430,"comment_id":128619964,"body_markdown":"@balse98 Is it required that there must be a path from (0,0) to (9,9) after all the obstacles have been added? Guaranteeing that a path exists makes the problem harder, especially as the number of obstacles increases.","body":"@balse98 Is it required that there must be a path from (0,0) to (9,9) after all the obstacles have been added? Guaranteeing that a path exists makes the problem harder, especially as the number of obstacles increases."},{"owner":{"account_id":17980177,"reputation":17,"user_id":13066718,"display_name":"balse98"},"score":0,"creation_date":1656623401,"post_id":72817430,"comment_id":128624795,"body_markdown":"No a path doesn&#39;t have to exist, if a path isn&#39;t possible after adding obstacles the program prints &quot;No path found&quot;","body":"No a path doesn&#39;t have to exist, if a path isn&#39;t possible after adding obstacles the program prints &quot;No path found&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7398978,"reputation":61,"user_id":8226426,"display_name":"Petr Jord&#225;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656618598,"creation_date":1656599522,"answer_id":72817622,"question_id":72817430,"body_markdown":"You have many options on how to do it. You can prepare it like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class HelloWorld{\r\n\r\n         public static void main(String []args){\r\n             Random random = new Random();\r\n             int[][] map = new int[10][10];//you can user your existing array\r\n             map[0][0] = 1;\r\n             map[9][9] = 1;\r\n            \r\n             int counter = 20;\r\n             while (counter &gt; 0){\r\n                 int x = random.nextInt(10); \r\n                 int y = random.nextInt(10);\r\n                 if(map[x][y] != 1){\r\n                     System.out.println(x + &quot; &quot; + y);\r\n                     map[x][y]=1;\r\n                     counter--;\r\n                 }\r\n             }\r\n             \r\n            map[0][0] = 0;\r\n            map[9][9] = 0;\r\n         }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Adding 20 1s to a binary 2d array","body":"<p>You have many options on how to do it. You can prepare it like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class HelloWorld{\n\n     public static void main(String []args){\n         Random random = new Random();\n         int[][] map = new int[10][10];//you can user your existing array\n         map[0][0] = 1;\n         map[9][9] = 1;\n        \n         int counter = 20;\n         while (counter &gt; 0){\n             int x = random.nextInt(10); \n             int y = random.nextInt(10);\n             if(map[x][y] != 1){\n                 System.out.println(x + \" \" + y);\n                 map[x][y]=1;\n                 counter--;\n             }\n         }\n         \n        map[0][0] = 0;\n        map[9][9] = 0;\n     }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17980177,"reputation":17,"user_id":13066718,"display_name":"balse98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1656618598,"creation_date":1656598709,"question_id":72817430,"body_markdown":"I&#39;m creating a pathfinding program and I have a 2d int array as with 1s indicating obstacles you can pass through/on and 0s meaning you can.\r\n\r\nThe starting grid is as follows:\r\n```\r\nint[][] map = {\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 1, 1, 1},\r\n                {0, 0, 0, 0, 0, 0, 0, 1, 0, 0},\r\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}\r\n        };\r\n```\r\nThe start point of this is at [0, 0] and the end point is at [9, 9].\r\n\r\nI want to create a method that takes map and returns it with 20 random obstacles (1s) in random positions however, the start point, end point and existing obstacles cannot be altered.","title":"Adding 20 1s to a binary 2d array","body":"<p>I'm creating a pathfinding program and I have a 2d int array as with 1s indicating obstacles you can pass through/on and 0s meaning you can.</p>\n<p>The starting grid is as follows:</p>\n<pre><code>int[][] map = {\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 1, 1, 1},\n                {0, 0, 0, 0, 0, 0, 0, 1, 0, 0},\n                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}\n        };\n</code></pre>\n<p>The start point of this is at [0, 0] and the end point is at [9, 9].</p>\n<p>I want to create a method that takes map and returns it with 20 random obstacles (1s) in random positions however, the start point, end point and existing obstacles cannot be altered.</p>\n"},{"tags":["java","json","unicode","utf-8"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1327993326,"post_id":9075603,"comment_id":11393155,"body_markdown":"3c and 3e *are* `&lt;` and `&gt;`.  What do you need to convert anything for?","body":"3c and 3e <i>are</i> <code>&lt;</code> and <code>&gt;</code>.  What do you need to convert anything for?"},{"owner":{"account_id":188222,"reputation":9617,"user_id":426834,"display_name":"zellus"},"score":0,"creation_date":1327994743,"post_id":9075603,"comment_id":11393477,"body_markdown":"possible duplicate of [How to convert Strings to and from UTF8 byte arrays in Java](http://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/88838/how-to-convert-strings-to-and-from-utf8-byte-arrays-in-java\">How to convert Strings to and from UTF8 byte arrays in Java</a>"},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":2,"creation_date":1328000353,"post_id":9075603,"comment_id":11394875,"body_markdown":"What JSON parser are you using?","body":"What JSON parser are you using?"},{"owner":{"account_id":10108,"reputation":530017,"user_id":18936,"display_name":"bobince"},"score":0,"creation_date":1328050088,"post_id":9075603,"comment_id":11412421,"body_markdown":"Indeed, the correct way to decode JSON string literals is to use a JSON parser. Do not attempt to decode escape sequences yourself because you probably won&#39;t get it exactly right. A JSON parser will give you a standard Unicode String object; if you really need to convert that into UTF-8-encoded bytes you can use `getBytes`, but I&#39;m not sure that&#39;s really relevant.","body":"Indeed, the correct way to decode JSON string literals is to use a JSON parser. Do not attempt to decode escape sequences yourself because you probably won&#39;t get it exactly right. A JSON parser will give you a standard Unicode String object; if you really need to convert that into UTF-8-encoded bytes you can use <code>getBytes</code>, but I&#39;m not sure that&#39;s really relevant."},{"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"score":0,"creation_date":1344954623,"post_id":9075603,"comment_id":15929028,"body_markdown":"If you using a `StringEntitiy` you should take a look at this [answer](http://stackoverflow.com/a/6228377/356895).","body":"If you using a <code>StringEntitiy</code> you should take a look at this <a href=\"http://stackoverflow.com/a/6228377/356895\">answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":765907,"reputation":30034,"user_id":786935,"accept_rate":87,"display_name":"Hemant Metalia"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1327993121,"creation_date":1327993121,"answer_id":9075624,"question_id":9075603,"body_markdown":"    try {\r\n        // Convert from Unicode to UTF-8\r\n        String string = &quot;\\u003c&quot;;\r\n        byte[] utf8 = string.getBytes(&quot;UTF-8&quot;);\r\n    \r\n        // Convert from UTF-8 to Unicode\r\n        string = new String(utf8, &quot;UTF-8&quot;);\r\n    } catch (UnsupportedEncodingException e) {\r\n    }\r\n\r\nrefer [http://www.exampledepot.com/egs/java.lang/unicodetoutf8.html][1]\r\n\r\n\r\n  [1]: http://www.exampledepot.com/egs/java.lang/unicodetoutf8.html","title":"Convert UTF-16 unicode characters to UTF-8 in java","body":"<pre><code>try {\n    // Convert from Unicode to UTF-8\n    String string = \"\\u003c\";\n    byte[] utf8 = string.getBytes(\"UTF-8\");\n\n    // Convert from UTF-8 to Unicode\n    string = new String(utf8, \"UTF-8\");\n} catch (UnsupportedEncodingException e) {\n}\n</code></pre>\n\n<p>refer <a href=\"http://www.exampledepot.com/egs/java.lang/unicodetoutf8.html\" rel=\"noreferrer\">http://www.exampledepot.com/egs/java.lang/unicodetoutf8.html</a></p>\n"},{"tags":[],"owner":{"account_id":1202728,"reputation":941,"user_id":1173047,"accept_rate":80,"display_name":"Rocky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327994603,"creation_date":1327993263,"answer_id":9075649,"question_id":9075603,"body_markdown":"You can try converting the string into a byte array \r\n\r\n    byte[] utfString = str.getBytes(&quot;UTF-8&quot;) ;\r\n\r\nand convert that back to a string object by specifying the UTF-8 encoding like \r\n\r\n    str = new String(utfString,&quot;UTF-8&quot;) ;","title":"Convert UTF-16 unicode characters to UTF-8 in java","body":"<p>You can try converting the string into a byte array </p>\n\n<pre><code>byte[] utfString = str.getBytes(\"UTF-8\") ;\n</code></pre>\n\n<p>and convert that back to a string object by specifying the UTF-8 encoding like </p>\n\n<pre><code>str = new String(utfString,\"UTF-8\") ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13689282,"reputation":1,"user_id":9877537,"display_name":"shubham gulati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656618451,"creation_date":1656618421,"answer_id":72821269,"question_id":9075603,"body_markdown":"You can also try this\r\n\r\n    String s = &quot;Hello World!&quot;;\r\n    String convertedInUTF8 = new String(s, StandardCharsets.US_ASCII);\r\n\r\n\r\n","title":"Convert UTF-16 unicode characters to UTF-8 in java","body":"<p>You can also try this</p>\n<pre><code>String s = &quot;Hello World!&quot;;\nString convertedInUTF8 = new String(s, StandardCharsets.US_ASCII);\n</code></pre>\n"}],"owner":{"account_id":1211193,"reputation":359,"user_id":1179684,"accept_rate":29,"display_name":"Mubbasher Khaliq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66322,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":3,"score":22,"last_activity_date":1656618451,"creation_date":1327993001,"question_id":9075603,"body_markdown":"When I got JSON then there are \\u003c and \\u003e instead of &lt; and &gt;. I want to convert them back to utf-8 in java. any help will be highly appreciated. Thanks. ","title":"Convert UTF-16 unicode characters to UTF-8 in java","body":"<p>When I got JSON then there are \\u003c and \\u003e instead of &lt; and >. I want to convert them back to utf-8 in java. any help will be highly appreciated. Thanks. </p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1656568286,"post_id":72808437,"comment_id":128605517,"body_markdown":"Use `@InjectMocks` and other `Mockito` annotations for JUnit tests. You don&#39;t need real beans to perform testing !","body":"Use <code>@InjectMocks</code> and other <code>Mockito</code> annotations for JUnit tests. You don&#39;t need real beans to perform testing !"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1656588471,"post_id":72808437,"comment_id":128612507,"body_markdown":"What is the structure of your project? Does your main class containing the `@SpringBootApplication` annotation is on top of all your packages?","body":"What is the structure of your project? Does your main class containing the <code>@SpringBootApplication</code> annotation is on top of all your packages?"}],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656617621,"creation_date":1656541095,"question_id":72808437,"body_markdown":"I am trying write some test case but it&#39;s failing with `NoSuchBeanDefinitionException`. \r\nCan you please help me to understand the problem? \r\n\r\n    @Service\r\n    public class PersonService implements IPersonService{\r\n    \r\n        @Autowired\r\n        PersonRepo repo;\r\n    \r\n        @Autowired\r\n        RetrievePersonData retrievePersonData;\r\n\r\n        @Autowired\r\n        PersonDataMerger personDataMerger;\r\n    \r\n        @Autowired\r\n        Clock clock;\r\n    \r\n        // Implementations\r\n    \r\n    }\r\n\r\nNow inside those `RetrievePersonData`, `PersonDataMerger` there are several other classes *autowired*.\r\nBelow is my test class\r\n\r\n        @SpringBootTest\r\n        @ContextConfiguration(classes={ServiceProperties.class, AppConfig.class, EncryptionUtils.class}) \r\n        @ActiveProfile(&quot;test&quot;)\r\n        public class PersonServiceTest {\r\n        \r\n            @Autowired\r\n            PersonService service;\r\n        \r\n            @Test\r\n            public void getDataTest(){\r\n            // call PersonService to get the data and match\r\n        }\r\n     }\r\n\r\nBut it&#39;s failing `NoSuchBeanDefinitionException` - for `PersonService`\r\n\r\nI am not able to figure it out what am I missing?","title":"noSuchBeanDefinationException - Springboot Junit 5","body":"<p>I am trying write some test case but it's failing with <code>NoSuchBeanDefinitionException</code>.\nCan you please help me to understand the problem?</p>\n<pre><code>@Service\npublic class PersonService implements IPersonService{\n\n    @Autowired\n    PersonRepo repo;\n\n    @Autowired\n    RetrievePersonData retrievePersonData;\n\n    @Autowired\n    PersonDataMerger personDataMerger;\n\n    @Autowired\n    Clock clock;\n\n    // Implementations\n\n}\n</code></pre>\n<p>Now inside those <code>RetrievePersonData</code>, <code>PersonDataMerger</code> there are several other classes <em>autowired</em>.\nBelow is my test class</p>\n<pre><code>    @SpringBootTest\n    @ContextConfiguration(classes={ServiceProperties.class, AppConfig.class, EncryptionUtils.class}) \n    @ActiveProfile(&quot;test&quot;)\n    public class PersonServiceTest {\n    \n        @Autowired\n        PersonService service;\n    \n        @Test\n        public void getDataTest(){\n        // call PersonService to get the data and match\n    }\n }\n</code></pre>\n<p>But it's failing <code>NoSuchBeanDefinitionException</code> - for <code>PersonService</code></p>\n<p>I am not able to figure it out what am I missing?</p>\n"},{"tags":["java","unit-testing","playframework","mocking","integration-testing"],"comments":[{"owner":{"account_id":1336023,"reputation":4615,"user_id":1278769,"accept_rate":42,"display_name":"Kris"},"score":0,"creation_date":1468317922,"post_id":38320289,"comment_id":64066214,"body_markdown":"Maybe you can use `Helpers.testServer();` to get the server and then `Helpers.start(server);` to start one.","body":"Maybe you can use <code>Helpers.testServer();</code> to get the server and then <code>Helpers.start(server);</code> to start one."},{"owner":{"account_id":1389489,"reputation":390,"user_id":1479478,"accept_rate":86,"display_name":"Rishabh"},"score":0,"creation_date":1468322472,"post_id":38320289,"comment_id":64069223,"body_markdown":"@Kris how would I provide the Router to the test server created by the Helpers?","body":"@Kris how would I provide the Router to the test server created by the Helpers?"},{"owner":{"account_id":1336023,"reputation":4615,"user_id":1278769,"accept_rate":42,"display_name":"Kris"},"score":0,"creation_date":1468325328,"post_id":38320289,"comment_id":64071281,"body_markdown":"Sorry, never tried it with an Router.","body":"Sorry, never tried it with an Router."}],"answers":[{"tags":[],"owner":{"account_id":8514210,"reputation":1933,"user_id":6383273,"display_name":"asch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656617560,"creation_date":1468395135,"answer_id":38345308,"question_id":38320289,"body_markdown":"Testing of controller should be rather done by inheritance from `WithApplication`\r\n\r\n```java\r\npublic class TestController extends WithApplication {\r\n   @Test  \r\n   public void testSomething() {  \r\n       Helpers.running(Helpers.fakeApplication(), () -&gt; {  \r\n           // put test stuff  \r\n           // put asserts  \r\n       });\r\n   }  \r\n}\r\n```\r\n\r\nIn order to test a controller method use Helpers.fakeRequest and reverse routing. \r\nThe external service may be just mocked with mockito or other mocking framework you like.\r\n\r\nYou can find [here][1] several examples.\r\n\r\n\r\n\r\n  [1]: http://www.codepreference.com/2016/06/unit-testing-powermock-mocking-play.html","title":"Testing Controllers In Play Framework","body":"<p>Testing of controller should be rather done by inheritance from <code>WithApplication</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestController extends WithApplication {\n   @Test  \n   public void testSomething() {  \n       Helpers.running(Helpers.fakeApplication(), () -&gt; {  \n           // put test stuff  \n           // put asserts  \n       });\n   }  \n}\n</code></pre>\n<p>In order to test a controller method use Helpers.fakeRequest and reverse routing.\nThe external service may be just mocked with mockito or other mocking framework you like.</p>\n<p>You can find <a href=\"http://www.codepreference.com/2016/06/unit-testing-powermock-mocking-play.html\" rel=\"nofollow noreferrer\">here</a> several examples.</p>\n"}],"owner":{"account_id":1389489,"reputation":390,"user_id":1479478,"accept_rate":86,"display_name":"Rishabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7020,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38345308,"answer_count":1,"score":3,"last_activity_date":1656617560,"creation_date":1468299281,"question_id":38320289,"body_markdown":"I am using Play Framework and using Java as the language of choice. I have a Controller which makes a REST call to an external service. I intend to mock the external service, so that I can test the functionality of my controller. To achieve this, I have created my test cases as shown below (sample). I am embedding a server within my test to mock the external service.\r\n\r\n    public class SomeControllerTest extends WithApplication {\r\n    \r\n    private static Server SERVER;\r\n    \r\n    @Override\r\n    protected Application provideApplication() {\r\n        final Module testModule = new AbstractModule() {\r\n            @Override\r\n            public void configure() {\r\n                bind(AppDao.class).to(MockAppDaoImpl.class);\r\n            }\r\n        };\r\n        return new GuiceApplicationBuilder().in(Environment.simple()).overrides(testModule).build();\r\n    }\r\n\r\n    @BeforeClass\r\n    public static void setup() {\r\n        Router router = new RoutingDsl()\r\n                .POST(&quot;/api/users&quot;)\r\n                .routeTo(() -&gt; created())\r\n                .build();\r\n        SERVER = Server.forRouter(router, 33373);\r\n        PORT = SERVER.httpPort();\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDown() {\r\n        SERVER.stop();\r\n    }\r\n\r\n    @Test\r\n    public void testCreateUser() {\r\n        ObjectNode obj = Json.newObject();\r\n        obj.put(&quot;name&quot;, &quot;John Doe&quot;);\r\n        obj.put(&quot;email&quot;, &quot;john.doe@example.com&quot;);\r\n        Http.RequestBuilder request = new Http.RequestBuilder()\r\n                .method(POST)\r\n                .bodyJson(obj)\r\n                .uri(&quot;/some/url/here&quot;);\r\n        Result result = route(request);\r\n        assertEquals(ERR_MSG_STATUS_CODE, CREATED, result.status());\r\n        assertEquals(ERR_MSG_CONTENT_TYPE, Http.MimeTypes.JSON, result.contentType().get());\r\n    }\r\n\r\n\r\nMy expectation is that when I run the test, the mock server would run and based on my application&#39;s test configuration, my controller will make a call to the mock server which would return `201` and my test case would pass.\r\nBut, this doesn&#39;t happen, because as soon as `setup()` method completes, the mock server is killed, and my controller cannot make a call to it.\r\n\r\nWhat am I doing wrong here?","title":"Testing Controllers In Play Framework","body":"<p>I am using Play Framework and using Java as the language of choice. I have a Controller which makes a REST call to an external service. I intend to mock the external service, so that I can test the functionality of my controller. To achieve this, I have created my test cases as shown below (sample). I am embedding a server within my test to mock the external service.</p>\n\n<pre><code>public class SomeControllerTest extends WithApplication {\n\nprivate static Server SERVER;\n\n@Override\nprotected Application provideApplication() {\n    final Module testModule = new AbstractModule() {\n        @Override\n        public void configure() {\n            bind(AppDao.class).to(MockAppDaoImpl.class);\n        }\n    };\n    return new GuiceApplicationBuilder().in(Environment.simple()).overrides(testModule).build();\n}\n\n@BeforeClass\npublic static void setup() {\n    Router router = new RoutingDsl()\n            .POST(\"/api/users\")\n            .routeTo(() -&gt; created())\n            .build();\n    SERVER = Server.forRouter(router, 33373);\n    PORT = SERVER.httpPort();\n}\n\n@AfterClass\npublic static void tearDown() {\n    SERVER.stop();\n}\n\n@Test\npublic void testCreateUser() {\n    ObjectNode obj = Json.newObject();\n    obj.put(\"name\", \"John Doe\");\n    obj.put(\"email\", \"john.doe@example.com\");\n    Http.RequestBuilder request = new Http.RequestBuilder()\n            .method(POST)\n            .bodyJson(obj)\n            .uri(\"/some/url/here\");\n    Result result = route(request);\n    assertEquals(ERR_MSG_STATUS_CODE, CREATED, result.status());\n    assertEquals(ERR_MSG_CONTENT_TYPE, Http.MimeTypes.JSON, result.contentType().get());\n}\n</code></pre>\n\n<p>My expectation is that when I run the test, the mock server would run and based on my application's test configuration, my controller will make a call to the mock server which would return <code>201</code> and my test case would pass.\nBut, this doesn't happen, because as soon as <code>setup()</code> method completes, the mock server is killed, and my controller cannot make a call to it.</p>\n\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","jenkins","jenkins-pipeline","jenkins-plugins","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":252684,"reputation":2851,"user_id":530884,"display_name":"Shaybc"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1631453704,"creation_date":1578314208,"answer_id":59612255,"question_id":57107486,"body_markdown":"i simply created a Java class to retrieve the credentials from either global or folder scope:\r\n\r\n\r\n    import com.cloudbees.plugins.credentials.CredentialsProvider;\r\n    import com.cloudbees.plugins.credentials.common.StandardUsernamePasswordCredentials;\r\n    import com.cloudbees.hudson.plugins.folder.Folder\r\n    \r\n    class JenkinsCredentials\r\n    {\r\n        /**\r\n    \t* this method gets a &#39;StandardUsernamePasswordCredentials&#39; for a userName, the &#39;StandardUsernamePasswordCredentials&#39; object\r\n    \t* have 2 fields - user and password, which can be used to login to other systems,\r\n    \t* the username is searched for first in the global jenkins level, and if not found then it is searched at the folder level\r\n         */\r\n        public static StandardUsernamePasswordCredentials getCredentialsByUsername(String userName, String fromFolder) throws Exception\r\n        {\r\n            List credsList = CredentialsProvider.lookupCredentials(StandardUsernamePasswordCredentials.class, Jenkins.getInstance());\r\n            if(credsList == null || credsList.size() == 0)\r\n            {\r\n                credsList = getFolderLevelCredentialsList(fromFolder);\r\n            }\r\n            return credsList.findResult { it.username == userName ? it : null };\r\n        }\r\n    \r\n        /**\r\n    \t* this method gets a &#39;StandardUsernamePasswordCredentials&#39; for a userID, the &#39;StandardUsernamePasswordCredentials&#39; object\r\n    \t* have 2 fields - user and password, which can be used to login to other systems,\r\n    \t* the userID is searched for first in the global jenkins level, and if not found then it is searched at the folder level\r\n         */\r\n        public static StandardUsernamePasswordCredentials getCredentialsByID(String userID, String fromFolder) throws Exception\r\n        {\r\n            List credsList = CredentialsProvider.lookupCredentials(StandardUsernamePasswordCredentials.class, Jenkins.getInstance());\r\n            if(credsList == null || credsList.size() == 0)\r\n            {\r\n                credsList = getFolderLevelCredentialsList(fromFolder);\r\n            }\r\n            return credsList.findResult { it.id == userID ? it : null };\r\n        }\r\n    \r\n        /**\r\n    \t* this method gets a &#39;StandardUsernamePasswordCredentials&#39; for a userName, the &#39;StandardUsernamePasswordCredentials&#39; object\r\n    \t* have 2 fields - user and password, which can be used to login to other systems,\r\n    \t* the username is searched for at the folder level who&#39;s name we provided as &#39;fromFolder&#39;\r\n         */\r\n        public static StandardUsernamePasswordCredentials getFolderCredentialsByUsername(String userName, String fromFolder) throws Exception\r\n        {\r\n            List credsList = getFolderLevelCredentialsList(fromFolder);\r\n            return credsList.findResult { it.username == userName ? it : null };\r\n        }\r\n    \r\n        /**\r\n    \t* this method gets a &#39;StandardUsernamePasswordCredentials&#39; for a userID, the &#39;StandardUsernamePasswordCredentials&#39; object\r\n    \t* have 2 fields - user and password, which can be used to login to other systems,\r\n     \t* the userID is searched for at the folder level who&#39;s name we provided as &#39;fromFolder&#39;\r\n        */\r\n        public static StandardUsernamePasswordCredentials getFolderCredentialsByID(String userID, String fromFolder) throws Exception\r\n        {\r\n            List credsList = getFolderLevelCredentialsList(fromFolder);\r\n            return credsList.findResult { it.id == userID ? it : null };\r\n        }\r\n    \r\n        /**\r\n    \t* this method gets a list of credentials set at a folder level, the method receives the folder name to get the credentials from\r\n         */\r\n        public static List getFolderLevelCredentialsList(String folderName)\r\n        {\r\n            return CredentialsProvider.lookupCredentials(StandardUsernamePasswordCredentials.class, getFolderItem(folderName));\r\n        }\r\n    \r\n        /**\r\n    \t* this method fetch a &#39;Folder&#39; item from jenkins instance by a folder name\r\n    \t* it then can be used in the other methods to search for a user credentials at that folder level\r\n         */\r\n        public static Folder getFolderItem(String folderName)\r\n        {\r\n            def allJenkinsItems = Jenkins.getInstance().getItems();\r\n            for (currentJenkinsItem in allJenkinsItems)\r\n            {\r\n                if(currentJenkinsItem instanceof Folder)\r\n                {\r\n                    if(((Folder)currentJenkinsItem).getFullName().contains(folderName))\r\n                    {\r\n                        return (Folder)currentJenkinsItem;\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nthen you can use it like this:\r\n\r\n**get credentials for userName &#39;shay bc&#39; from folder named &#39;MyJenkinsFolder&#39;:**\r\n\r\n    // get the credentials\r\n    StandardUsernamePasswordCredentials shaybcCredentials = JenkinsCredentials.getFolderCredentialsByUsername(&quot;shay bc&quot;, &quot;MyJenkinsFolder&quot;)\r\n    \r\n    // login to some system using the credentials\r\n    sshSession.login(shaybcCredentials.getUsername(), shaybcCredentials.getPassword())\r\n\r\n**get credentials for userID &#39;sbc&#39; from folder named &#39;MyJenkinsFolder&#39;:**\r\n\r\n    // get the credentials\r\n    StandardUsernamePasswordCredentials sbcCredentials = JenkinsCredentials.getFolderCredentialsByID(&quot;sbc&quot;, &quot;MyJenkinsFolder&quot;)\r\n    \r\n    // login to some system using the credentials\r\n    sshSession.login(sbcCredentials.getUsername(), sbcCredentials.getPassword())\r\n\r\n\r\n","title":"How to read Jenkins credentials at Folder level","body":"<p>i simply created a Java class to retrieve the credentials from either global or folder scope:</p>\n<pre><code>import com.cloudbees.plugins.credentials.CredentialsProvider;\nimport com.cloudbees.plugins.credentials.common.StandardUsernamePasswordCredentials;\nimport com.cloudbees.hudson.plugins.folder.Folder\n\nclass JenkinsCredentials\n{\n    /**\n    * this method gets a 'StandardUsernamePasswordCredentials' for a userName, the 'StandardUsernamePasswordCredentials' object\n    * have 2 fields - user and password, which can be used to login to other systems,\n    * the username is searched for first in the global jenkins level, and if not found then it is searched at the folder level\n     */\n    public static StandardUsernamePasswordCredentials getCredentialsByUsername(String userName, String fromFolder) throws Exception\n    {\n        List credsList = CredentialsProvider.lookupCredentials(StandardUsernamePasswordCredentials.class, Jenkins.getInstance());\n        if(credsList == null || credsList.size() == 0)\n        {\n            credsList = getFolderLevelCredentialsList(fromFolder);\n        }\n        return credsList.findResult { it.username == userName ? it : null };\n    }\n\n    /**\n    * this method gets a 'StandardUsernamePasswordCredentials' for a userID, the 'StandardUsernamePasswordCredentials' object\n    * have 2 fields - user and password, which can be used to login to other systems,\n    * the userID is searched for first in the global jenkins level, and if not found then it is searched at the folder level\n     */\n    public static StandardUsernamePasswordCredentials getCredentialsByID(String userID, String fromFolder) throws Exception\n    {\n        List credsList = CredentialsProvider.lookupCredentials(StandardUsernamePasswordCredentials.class, Jenkins.getInstance());\n        if(credsList == null || credsList.size() == 0)\n        {\n            credsList = getFolderLevelCredentialsList(fromFolder);\n        }\n        return credsList.findResult { it.id == userID ? it : null };\n    }\n\n    /**\n    * this method gets a 'StandardUsernamePasswordCredentials' for a userName, the 'StandardUsernamePasswordCredentials' object\n    * have 2 fields - user and password, which can be used to login to other systems,\n    * the username is searched for at the folder level who's name we provided as 'fromFolder'\n     */\n    public static StandardUsernamePasswordCredentials getFolderCredentialsByUsername(String userName, String fromFolder) throws Exception\n    {\n        List credsList = getFolderLevelCredentialsList(fromFolder);\n        return credsList.findResult { it.username == userName ? it : null };\n    }\n\n    /**\n    * this method gets a 'StandardUsernamePasswordCredentials' for a userID, the 'StandardUsernamePasswordCredentials' object\n    * have 2 fields - user and password, which can be used to login to other systems,\n    * the userID is searched for at the folder level who's name we provided as 'fromFolder'\n    */\n    public static StandardUsernamePasswordCredentials getFolderCredentialsByID(String userID, String fromFolder) throws Exception\n    {\n        List credsList = getFolderLevelCredentialsList(fromFolder);\n        return credsList.findResult { it.id == userID ? it : null };\n    }\n\n    /**\n    * this method gets a list of credentials set at a folder level, the method receives the folder name to get the credentials from\n     */\n    public static List getFolderLevelCredentialsList(String folderName)\n    {\n        return CredentialsProvider.lookupCredentials(StandardUsernamePasswordCredentials.class, getFolderItem(folderName));\n    }\n\n    /**\n    * this method fetch a 'Folder' item from jenkins instance by a folder name\n    * it then can be used in the other methods to search for a user credentials at that folder level\n     */\n    public static Folder getFolderItem(String folderName)\n    {\n        def allJenkinsItems = Jenkins.getInstance().getItems();\n        for (currentJenkinsItem in allJenkinsItems)\n        {\n            if(currentJenkinsItem instanceof Folder)\n            {\n                if(((Folder)currentJenkinsItem).getFullName().contains(folderName))\n                {\n                    return (Folder)currentJenkinsItem;\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>then you can use it like this:</p>\n<p><strong>get credentials for userName 'shay bc' from folder named 'MyJenkinsFolder':</strong></p>\n<pre><code>// get the credentials\nStandardUsernamePasswordCredentials shaybcCredentials = JenkinsCredentials.getFolderCredentialsByUsername(&quot;shay bc&quot;, &quot;MyJenkinsFolder&quot;)\n\n// login to some system using the credentials\nsshSession.login(shaybcCredentials.getUsername(), shaybcCredentials.getPassword())\n</code></pre>\n<p><strong>get credentials for userID 'sbc' from folder named 'MyJenkinsFolder':</strong></p>\n<pre><code>// get the credentials\nStandardUsernamePasswordCredentials sbcCredentials = JenkinsCredentials.getFolderCredentialsByID(&quot;sbc&quot;, &quot;MyJenkinsFolder&quot;)\n\n// login to some system using the credentials\nsshSession.login(sbcCredentials.getUsername(), sbcCredentials.getPassword())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":334904,"reputation":308,"user_id":661659,"display_name":"Kingdon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589906650,"creation_date":1589906650,"answer_id":61896373,"question_id":57107486,"body_markdown":"The class shared by @Shaybc was most of the solution, and although a commenter suggested it was not a complete solution by itself, I was able to guess how to implement it correctly into such a complete solution in my own Groovy script.\r\n\r\nThe Folder returned by JenkinsCredentials.getFolderItem(&#39;foldername&#39;) is taking the same string slug as your folder is addressed by in Jenkins. So if you have a folder with a descriptive name, and a slug, like &quot;Folder Name&quot; and &quot;foldername&quot;, the right string to use to retrieve the folder itself is &quot;foldername&quot;.\r\n\r\nThe example [provided here](https://scriptcrunch.com/groovy-script-retrieve-jenkins-credentials/) shows how to retrieve credentials from the global store, this is `Jenkins.instance` &#160;for complete documentation the script they provide is copied here:\r\n\r\n```\r\nimport jenkins.*\r\nimport jenkins.model.* \r\nimport hudson.*\r\nimport hudson.model.*\r\ndef jenkinsCredentials = com.cloudbees.plugins.credentials.CredentialsProvider.lookupCredentials(\r\n        com.cloudbees.plugins.credentials.Credentials.class,\r\n        Jenkins.instance,\r\n        null,\r\n        null\r\n);\r\nfor (creds in jenkinsCredentials) {\r\n    println(jenkinsCredentials.id)\r\n    }\r\n```\r\n\r\nSo, start your script by defining `class JenkinsCredentials` as @Shaybc described, then instead of calling `CredentialsProvider.lookupCredentials` with `Jenkins.instance`, retrieve the folder and pass it in there instead.\r\n\r\nMy folder was called &quot;ft&quot; and (skipping over the import/boilerplate at the top and the definition of JenkinsCredentials helper class,) the remainder of my invocation in the Groovy script looked like:\r\n\r\n```\r\ndef folder = JenkinsCredentials.getFolderItem(&#39;ft&#39;);\r\n\r\ndef creds = com.cloudbees.plugins.credentials.CredentialsProvider.lookupCredentials(\r\n        com.cloudbees.plugins.credentials.Credentials.class,\r\n        folder,\r\n        null,\r\n        null\r\n);\r\nfor (c in creds) {\r\n    println(c.id + &quot;: &quot; + c.description)\r\n}\r\n```\r\n\r\nHope this helped someone! and by the way, if your credentials are stored in a file instead of a string, you have one more step... the file will not have any useful content in the &quot;description&quot; attribute, you need the byte stream stored at `c.getContent()`\r\n\r\nSo, that final loop with some metaprogramming to dynamically check for the availability of a getContent() method to call:\r\n\r\n```\r\nfor (c in creds) {\r\n if (c.metaClass.respondsTo(c, &#39;getContent&#39;)) {\r\n  println(\r\n   IOUtils.toString(c.getContent(), StandardCharsets.UTF_8)\r\n  )\r\n }\r\n println(c.id + &quot;: &quot; + c.description)\r\n}\r\n```\r\n\r\nThat last part was borrowed from this answer, which shows as well how you can import StandardCharsets and IOUtils: https://stackoverflow.com/a/42360792/661659","title":"How to read Jenkins credentials at Folder level","body":"<p>The class shared by @Shaybc was most of the solution, and although a commenter suggested it was not a complete solution by itself, I was able to guess how to implement it correctly into such a complete solution in my own Groovy script.</p>\n\n<p>The Folder returned by JenkinsCredentials.getFolderItem('foldername') is taking the same string slug as your folder is addressed by in Jenkins. So if you have a folder with a descriptive name, and a slug, like \"Folder Name\" and \"foldername\", the right string to use to retrieve the folder itself is \"foldername\".</p>\n\n<p>The example <a href=\"https://scriptcrunch.com/groovy-script-retrieve-jenkins-credentials/\" rel=\"noreferrer\">provided here</a> shows how to retrieve credentials from the global store, this is <code>Jenkins.instance</code> for complete documentation the script they provide is copied here:</p>\n\n<pre><code>import jenkins.*\nimport jenkins.model.* \nimport hudson.*\nimport hudson.model.*\ndef jenkinsCredentials = com.cloudbees.plugins.credentials.CredentialsProvider.lookupCredentials(\n        com.cloudbees.plugins.credentials.Credentials.class,\n        Jenkins.instance,\n        null,\n        null\n);\nfor (creds in jenkinsCredentials) {\n    println(jenkinsCredentials.id)\n    }\n</code></pre>\n\n<p>So, start your script by defining <code>class JenkinsCredentials</code> as @Shaybc described, then instead of calling <code>CredentialsProvider.lookupCredentials</code> with <code>Jenkins.instance</code>, retrieve the folder and pass it in there instead.</p>\n\n<p>My folder was called \"ft\" and (skipping over the import/boilerplate at the top and the definition of JenkinsCredentials helper class,) the remainder of my invocation in the Groovy script looked like:</p>\n\n<pre><code>def folder = JenkinsCredentials.getFolderItem('ft');\n\ndef creds = com.cloudbees.plugins.credentials.CredentialsProvider.lookupCredentials(\n        com.cloudbees.plugins.credentials.Credentials.class,\n        folder,\n        null,\n        null\n);\nfor (c in creds) {\n    println(c.id + \": \" + c.description)\n}\n</code></pre>\n\n<p>Hope this helped someone! and by the way, if your credentials are stored in a file instead of a string, you have one more step... the file will not have any useful content in the \"description\" attribute, you need the byte stream stored at <code>c.getContent()</code></p>\n\n<p>So, that final loop with some metaprogramming to dynamically check for the availability of a getContent() method to call:</p>\n\n<pre><code>for (c in creds) {\n if (c.metaClass.respondsTo(c, 'getContent')) {\n  println(\n   IOUtils.toString(c.getContent(), StandardCharsets.UTF_8)\n  )\n }\n println(c.id + \": \" + c.description)\n}\n</code></pre>\n\n<p>That last part was borrowed from this answer, which shows as well how you can import StandardCharsets and IOUtils: <a href=\"https://stackoverflow.com/a/42360792/661659\">https://stackoverflow.com/a/42360792/661659</a></p>\n"},{"tags":[],"owner":{"account_id":20156467,"reputation":21,"user_id":14782539,"display_name":"Tim Welch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607372042,"creation_date":1607372042,"answer_id":65188703,"question_id":57107486,"body_markdown":"Just to add to this really awesome class from @Shaybc... If you&#39;re like me and have nested folders, you&#39;ll want to change up the Class method getFolderItem to recurse into all of the &quot;sub-folders&quot;... Otherwise you&#39;ll only ever get a return/hit on the top-level (root) Jenkins items.\r\n\r\nHere&#39;s what that looks like, replacing the getFolderItem method and adding a getFolderItemRecursively method to do the work.\r\n\r\n    \r\n    private static Folder getFolderItemRecursively(Folder folder, String folderName) {\r\n        for (nestedItem in folder.getItems()) {\r\n            if (nestedItem instanceof Folder) {\r\n                if(nestedItem.getFullName().contains(folderName)) {\r\n                    return nestedItem;\r\n                } else {\r\n                    def recurse = getFolderItemRecursively(nestedItem, folderName);\r\n                    if (recurse instanceof Folder) {\r\n                        return recurse;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static Folder getFolderItem(String folderName)\r\n    {\r\n        for (item in Jenkins.getInstance().getItems())\r\n        {\r\n            if(item instanceof Folder)\r\n            {\r\n                if(item.getFullName().contains(folderName))\r\n                {\r\n                    return item;\r\n                } else {\r\n                    def recurse = getFolderItemRecursively(item, folderName);\r\n                    if (recurse instanceof Folder) {\r\n                        return recurse;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to read Jenkins credentials at Folder level","body":"<p>Just to add to this really awesome class from @Shaybc... If you're like me and have nested folders, you'll want to change up the Class method getFolderItem to recurse into all of the &quot;sub-folders&quot;... Otherwise you'll only ever get a return/hit on the top-level (root) Jenkins items.</p>\n<p>Here's what that looks like, replacing the getFolderItem method and adding a getFolderItemRecursively method to do the work.</p>\n<pre><code>private static Folder getFolderItemRecursively(Folder folder, String folderName) {\n    for (nestedItem in folder.getItems()) {\n        if (nestedItem instanceof Folder) {\n            if(nestedItem.getFullName().contains(folderName)) {\n                return nestedItem;\n            } else {\n                def recurse = getFolderItemRecursively(nestedItem, folderName);\n                if (recurse instanceof Folder) {\n                    return recurse;\n                }\n            }\n        }\n    }\n}\npublic static Folder getFolderItem(String folderName)\n{\n    for (item in Jenkins.getInstance().getItems())\n    {\n        if(item instanceof Folder)\n        {\n            if(item.getFullName().contains(folderName))\n            {\n                return item;\n            } else {\n                def recurse = getFolderItemRecursively(item, folderName);\n                if (recurse instanceof Folder) {\n                    return recurse;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621706286,"creation_date":1621493392,"answer_id":67615286,"question_id":57107486,"body_markdown":"Somewhat related to the original ask, I needed to do the inventory of *all* credentials stored in Jenkins. None of the answers so far have provided a solution that works out-of-the-box to dump all Jenkins credentials...\r\nBased on the elements of answers provided by @TimWelch and @Kingdon, I wrote the following groovy (admin) script, which prints all credentials IDs and their type starting from the root folder to the deepest folders (recursive), while also avoiding printing duplicates:\r\n\r\n```\r\nimport jenkins.model.*\r\nimport hudson.model.ModelObject\r\nimport com.cloudbees.plugins.credentials.*\r\nimport com.cloudbees.plugins.credentials.impl.*\r\nimport com.cloudbees.plugins.credentials.domains.*\r\nimport com.cloudbees.jenkins.plugins.sshcredentials.impl.BasicSSHUserPrivateKey\r\nimport com.cloudbees.jenkins.plugins.awscredentials.AWSCredentialsImpl\r\nimport org.jenkinsci.plugins.plaincredentials.StringCredentials\r\nimport org.jenkinsci.plugins.plaincredentials.impl.FileCredentialsImpl\r\nimport com.cloudbees.hudson.plugins.folder.Folder\r\n\r\n\r\nclass DeepCredentialsPrinter {\r\n\r\n  private static final boolean DEBUG = false;\r\n\r\n  private final out;\r\n  private final Set&lt;CredentialsStore&gt; visitedStores = new HashSet&lt;&gt;();\r\n\r\n  DeepCredentialsPrinter(out) {\r\n      this.out = out;\r\n  }\r\n\r\n  private void start() {\r\n    out.println(&quot;Folder,Credentials Type,Credentials ID&quot;) // header\r\n    process(Jenkins.getInstance())\r\n  }\r\n\r\n  private void process(ItemGroup group) {\r\n    printCreds(group);\r\n\r\n    List&lt;ItemGroup&gt; items = group.getItems();\r\n    if (items == null || items.isEmpty()) {\r\n      return;\r\n    }\r\n\r\n    for (item in items) {\r\n      if (item instanceof ItemGroup) {\r\n        process(item);\r\n      } else if (item instanceof Item) {\r\n        printCreds(item)\r\n      } else {\r\n        if (DEBUG) {\r\n          out.println(&quot;[DEBUG] unsupported item type: &quot; + item.getClass().getCanonicalName());\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private void printCreds(ModelObject model) {\r\n    for (store in CredentialsProvider.lookupStores(model)) {\r\n      if (visitedStores.add(store)) { // only visit new stores\r\n        print(model.getFullName(), store.getCredentials(Domain.global()));\r\n      }\r\n    }\r\n  }\r\n\r\n  private void print(String fullname, List&lt;Credentials&gt; creds) {\r\n    if (creds.isEmpty()) {\r\n      if (DEBUG) {\r\n        out.println(&quot;[DEBUG] No credentials in /&quot; + fullname);\r\n      }\r\n    } else {\r\n      for (c in creds) {\r\n        out.printf(&quot;/%s,%s,%s\\n&quot;, fullname, c.getClass().getSimpleName(), c.id)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnew DeepCredentialsPrinter(getBinding().out).start();\r\n```\r\ngist: https://gist.github.com/fabienrenaud/349764873855533abc71b7fadafdf29e\r\n\r\nThe `printCreds` method can easily be extended to print more data for each secret type.","title":"How to read Jenkins credentials at Folder level","body":"<p>Somewhat related to the original ask, I needed to do the inventory of <em>all</em> credentials stored in Jenkins. None of the answers so far have provided a solution that works out-of-the-box to dump all Jenkins credentials...\nBased on the elements of answers provided by @TimWelch and @Kingdon, I wrote the following groovy (admin) script, which prints all credentials IDs and their type starting from the root folder to the deepest folders (recursive), while also avoiding printing duplicates:</p>\n<pre><code>import jenkins.model.*\nimport hudson.model.ModelObject\nimport com.cloudbees.plugins.credentials.*\nimport com.cloudbees.plugins.credentials.impl.*\nimport com.cloudbees.plugins.credentials.domains.*\nimport com.cloudbees.jenkins.plugins.sshcredentials.impl.BasicSSHUserPrivateKey\nimport com.cloudbees.jenkins.plugins.awscredentials.AWSCredentialsImpl\nimport org.jenkinsci.plugins.plaincredentials.StringCredentials\nimport org.jenkinsci.plugins.plaincredentials.impl.FileCredentialsImpl\nimport com.cloudbees.hudson.plugins.folder.Folder\n\n\nclass DeepCredentialsPrinter {\n\n  private static final boolean DEBUG = false;\n\n  private final out;\n  private final Set&lt;CredentialsStore&gt; visitedStores = new HashSet&lt;&gt;();\n\n  DeepCredentialsPrinter(out) {\n      this.out = out;\n  }\n\n  private void start() {\n    out.println(&quot;Folder,Credentials Type,Credentials ID&quot;) // header\n    process(Jenkins.getInstance())\n  }\n\n  private void process(ItemGroup group) {\n    printCreds(group);\n\n    List&lt;ItemGroup&gt; items = group.getItems();\n    if (items == null || items.isEmpty()) {\n      return;\n    }\n\n    for (item in items) {\n      if (item instanceof ItemGroup) {\n        process(item);\n      } else if (item instanceof Item) {\n        printCreds(item)\n      } else {\n        if (DEBUG) {\n          out.println(&quot;[DEBUG] unsupported item type: &quot; + item.getClass().getCanonicalName());\n        }\n      }\n    }\n  }\n\n  private void printCreds(ModelObject model) {\n    for (store in CredentialsProvider.lookupStores(model)) {\n      if (visitedStores.add(store)) { // only visit new stores\n        print(model.getFullName(), store.getCredentials(Domain.global()));\n      }\n    }\n  }\n\n  private void print(String fullname, List&lt;Credentials&gt; creds) {\n    if (creds.isEmpty()) {\n      if (DEBUG) {\n        out.println(&quot;[DEBUG] No credentials in /&quot; + fullname);\n      }\n    } else {\n      for (c in creds) {\n        out.printf(&quot;/%s,%s,%s\\n&quot;, fullname, c.getClass().getSimpleName(), c.id)\n      }\n    }\n  }\n}\n\nnew DeepCredentialsPrinter(getBinding().out).start();\n</code></pre>\n<p>gist: <a href=\"https://gist.github.com/fabienrenaud/349764873855533abc71b7fadafdf29e\" rel=\"nofollow noreferrer\">https://gist.github.com/fabienrenaud/349764873855533abc71b7fadafdf29e</a></p>\n<p>The <code>printCreds</code> method can easily be extended to print more data for each secret type.</p>\n"},{"tags":[],"owner":{"account_id":8860621,"reputation":41,"user_id":6616935,"display_name":"Ravin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656617100,"creation_date":1656617100,"answer_id":72821073,"question_id":57107486,"body_markdown":"    import jenkins.model.*\r\n    import hudson.model.ModelObject\r\n    import com.cloudbees.plugins.credentials.*\r\n    import com.cloudbees.plugins.credentials.impl.*\r\n    import com.cloudbees.plugins.credentials.domains.*\r\n    import com.cloudbees.jenkins.plugins.sshcredentials.impl.BasicSSHUserPrivateKey\r\n    import com.cloudbees.jenkins.plugins.awscredentials.AWSCredentialsImpl\r\n    import org.jenkinsci.plugins.plaincredentials.StringCredentials\r\n    import org.jenkinsci.plugins.plaincredentials.impl.FileCredentialsImpl\r\n    import com.cloudbees.hudson.plugins.folder.Folder\r\n    \r\n    \r\n    class DeepCredentialsPrinter {\r\n    \r\n      private static final boolean DEBUG = false;\r\n    \r\n      private final out;\r\n      private final Set&lt;CredentialsStore&gt; visitedStores = new HashSet&lt;&gt;();\r\n    \r\n      DeepCredentialsPrinter(out) {\r\n          this.out = out;\r\n      }\r\n    \r\n      private void start() {\r\n        process(Jenkins.getInstance())\r\n      }\r\n    \r\n      private void process(ItemGroup group) {\r\n        printCreds(group);\r\n    \r\n        List&lt;ItemGroup&gt; items = group.getItems();\r\n        if (items == null || items.isEmpty()) {\r\n          return;\r\n        }\r\n    \r\n        for (item in items) {\r\n          if (item instanceof ItemGroup) {\r\n            process(item);\r\n          } else if (item instanceof Item) {\r\n            printCreds(item)\r\n          } else {\r\n            if (DEBUG) {\r\n              out.println(&quot;[DEBUG] unsupported item type: &quot; + item.getClass().getCanonicalName());\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      private void printCreds(ModelObject model) {\r\n        for (store in CredentialsProvider.lookupStores(model)) {\r\n          if (visitedStores.add(store)) { // only visit new stores\r\n            print(model.getFullName(), store.getCredentials(Domain.global()));\r\n          }\r\n        }\r\n      }\r\n    \r\n      private void print(String fullname, List&lt;Credentials&gt; creds) {\r\n        if (creds.isEmpty()) {\r\n          if (DEBUG) {\r\n            out.println(&quot;[DEBUG] No credentials in /&quot; + fullname);\r\n          }\r\n        } else {\r\n          for (c in creds) {\r\n            out.println(&quot;Folder: /&quot; + fullname)\r\n      \t\tout.println(&quot;   id: &quot; + c.id)\r\n      \t\tif (c.properties.description) {\r\n       \t \t\tout.println(&quot;   description: &quot; + c.description)\r\n      \t\t}\r\n      \t\tif (c.properties.username) {\r\n        \t\tout.println(&quot;   username: &quot; + c.username)\r\n      \t\t}\r\n      \t\tif (c.properties.password) {\r\n        \t\tout.println(&quot;   password: &quot; + c.password)\r\n      \t\t}\r\n      \t\tif (c.properties.passphrase) {\r\n        \t\tout.println(&quot;   passphrase: &quot; + c.passphrase)\r\n      \t\t}\r\n      \t\tif (c.properties.secret) {\r\n        \t\tout.println(&quot;   secret: &quot; + c.secret)\r\n     \t \t}\r\n      \t\tif (c.properties.secretBytes) {\r\n        \t\tout.println(&quot;    secretBytes: &quot;)\r\n        \t\tout.println(&quot;\\n&quot; + new String(c.secretBytes.getPlainData()))\r\n      \t\t}\r\n      \t\tif (c.properties.privateKeySource) {\r\n        \t\tout.println(&quot;   privateKey: &quot; + c.getPrivateKey())\r\n      \t\t}\r\n      \t\tif (c.properties.apiToken) {\r\n        \t\tout.println(&quot;   apiToken: &quot; + c.apiToken)\r\n      \t\t}\r\n      \t\tif (c.properties.token) {\r\n        \t\tout.println(&quot;   token: &quot; + c.token)\r\n      \t\t}\r\n      \t\tout.println(&quot;&quot;)\r\n    \t\t}\r\n     \t}\r\n      }\r\n    }\r\n    \r\n    new DeepCredentialsPrinter(getBinding().out).start();\r\n\r\n\r\nFrom all the above comments, Here is the code to list all the folder level credentials which prints all properties based on type of credential ","title":"How to read Jenkins credentials at Folder level","body":"<pre><code>import jenkins.model.*\nimport hudson.model.ModelObject\nimport com.cloudbees.plugins.credentials.*\nimport com.cloudbees.plugins.credentials.impl.*\nimport com.cloudbees.plugins.credentials.domains.*\nimport com.cloudbees.jenkins.plugins.sshcredentials.impl.BasicSSHUserPrivateKey\nimport com.cloudbees.jenkins.plugins.awscredentials.AWSCredentialsImpl\nimport org.jenkinsci.plugins.plaincredentials.StringCredentials\nimport org.jenkinsci.plugins.plaincredentials.impl.FileCredentialsImpl\nimport com.cloudbees.hudson.plugins.folder.Folder\n\n\nclass DeepCredentialsPrinter {\n\n  private static final boolean DEBUG = false;\n\n  private final out;\n  private final Set&lt;CredentialsStore&gt; visitedStores = new HashSet&lt;&gt;();\n\n  DeepCredentialsPrinter(out) {\n      this.out = out;\n  }\n\n  private void start() {\n    process(Jenkins.getInstance())\n  }\n\n  private void process(ItemGroup group) {\n    printCreds(group);\n\n    List&lt;ItemGroup&gt; items = group.getItems();\n    if (items == null || items.isEmpty()) {\n      return;\n    }\n\n    for (item in items) {\n      if (item instanceof ItemGroup) {\n        process(item);\n      } else if (item instanceof Item) {\n        printCreds(item)\n      } else {\n        if (DEBUG) {\n          out.println(&quot;[DEBUG] unsupported item type: &quot; + item.getClass().getCanonicalName());\n        }\n      }\n    }\n  }\n\n  private void printCreds(ModelObject model) {\n    for (store in CredentialsProvider.lookupStores(model)) {\n      if (visitedStores.add(store)) { // only visit new stores\n        print(model.getFullName(), store.getCredentials(Domain.global()));\n      }\n    }\n  }\n\n  private void print(String fullname, List&lt;Credentials&gt; creds) {\n    if (creds.isEmpty()) {\n      if (DEBUG) {\n        out.println(&quot;[DEBUG] No credentials in /&quot; + fullname);\n      }\n    } else {\n      for (c in creds) {\n        out.println(&quot;Folder: /&quot; + fullname)\n        out.println(&quot;   id: &quot; + c.id)\n        if (c.properties.description) {\n            out.println(&quot;   description: &quot; + c.description)\n        }\n        if (c.properties.username) {\n            out.println(&quot;   username: &quot; + c.username)\n        }\n        if (c.properties.password) {\n            out.println(&quot;   password: &quot; + c.password)\n        }\n        if (c.properties.passphrase) {\n            out.println(&quot;   passphrase: &quot; + c.passphrase)\n        }\n        if (c.properties.secret) {\n            out.println(&quot;   secret: &quot; + c.secret)\n        }\n        if (c.properties.secretBytes) {\n            out.println(&quot;    secretBytes: &quot;)\n            out.println(&quot;\\n&quot; + new String(c.secretBytes.getPlainData()))\n        }\n        if (c.properties.privateKeySource) {\n            out.println(&quot;   privateKey: &quot; + c.getPrivateKey())\n        }\n        if (c.properties.apiToken) {\n            out.println(&quot;   apiToken: &quot; + c.apiToken)\n        }\n        if (c.properties.token) {\n            out.println(&quot;   token: &quot; + c.token)\n        }\n        out.println(&quot;&quot;)\n        }\n    }\n  }\n}\n\nnew DeepCredentialsPrinter(getBinding().out).start();\n</code></pre>\n<p>From all the above comments, Here is the code to list all the folder level credentials which prints all properties based on type of credential</p>\n"}],"owner":{"account_id":2229182,"reputation":1520,"user_id":1967239,"accept_rate":25,"display_name":"Banoona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8317,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1656617100,"creation_date":1563521056,"question_id":57107486,"body_markdown":"I am trying to migrate credentials from Jenkins to another credentials store.  \r\n\r\nI want to read the credentials from the Jenkins store, and have found this script (https://github.com/tkrzeminski/jenkins-groovy-scripts/blob/master/show-all-credentials.groovy\r\n\r\nThe script does the job OK for SystemCredentialsProvider credentials for the **global domain at root level**.  \r\n\r\n**But my credentials are stored in a Folder**, so the script does not work for me.  \r\n\r\nI am using the Jenkins script console to execute the script.  \r\n\r\nIf I navigate to the Jenkins Credentials configuration page and hover over the icon for one of my credential entries, the tooltip says &quot;Folder Credentials Provider&quot;. \r\n\r\n\r\n\r\n==================================================== \r\n\r\n**Question: How do I read all of the the credentials from a Folder in Jenkins?**\r\n\r\n====================================================\r\n\r\n\r\nPlease see script, below:\r\n\r\n\r\n\r\n\r\n    import jenkins.model.*\r\n    import com.cloudbees.plugins.credentials.*\r\n    import com.cloudbees.plugins.credentials.impl.*\r\n    import com.cloudbees.plugins.credentials.domains.*\r\n    import com.cloudbees.jenkins.plugins.sshcredentials.impl.BasicSSHUserPrivateKey\r\n    import com.cloudbees.jenkins.plugins.awscredentials.AWSCredentialsImpl\r\n    import org.jenkinsci.plugins.plaincredentials.StringCredentials\r\n    import org.jenkinsci.plugins.plaincredentials.impl.FileCredentialsImpl\r\n    \r\n    def showRow = { credentialType, secretId, username = null, password = null, description = null -&gt;\r\n      println(&quot;${credentialType} : &quot;.padLeft(20) + secretId?.padRight(38)+&quot; | &quot; +username?.padRight(20)+&quot; | &quot; +password?.padRight(40) + &quot; | &quot; +description)\r\n    }\r\n    \r\n    // set Credentials domain name (null means is it global)\r\n    domainName = null\r\n    \r\n    credentialsStore = Jenkins.instance.getExtensionList(&#39;com.cloudbees.plugins.credentials.SystemCredentialsProvider&#39;)[0]?.getStore()\r\n    domain = new Domain(domainName, null, Collections.&lt;DomainSpecification&gt;emptyList())\r\n    \r\n    credentialsStore?.getCredentials(domain).each{\r\n      if(it instanceof UsernamePasswordCredentialsImpl)\r\n        showRow(&quot;user/password&quot;, it.id, it.username, it.password?.getPlainText(), it.description)\r\n      else if(it instanceof BasicSSHUserPrivateKey)\r\n        showRow(&quot;ssh priv key&quot;, it.id, it.passphrase?.getPlainText(), it.privateKeySource?.getPrivateKey(), it.description)\r\n      else if(it instanceof AWSCredentialsImpl)\r\n        showRow(&quot;aws&quot;, it.id, it.accessKey, it.secretKey?.getPlainText(), it.description)\r\n      else if(it instanceof StringCredentials)\r\n        showRow(&quot;secret text&quot;, it.id, it.secret?.getPlainText(), &#39;&#39;, it.description)\r\n      else if(it instanceof FileCredentialsImpl)\r\n        showRow(&quot;secret file&quot;, it.id, it.content?.text, &#39;&#39;, it.description)\r\n      else\r\n        showRow(&quot;something else&quot;, it.id, &#39;&#39;, &#39;&#39;, &#39;&#39;)\r\n    }\r\n    \r\n    return","title":"How to read Jenkins credentials at Folder level","body":"<p>I am trying to migrate credentials from Jenkins to another credentials store.  </p>\n\n<p>I want to read the credentials from the Jenkins store, and have found this script (<a href=\"https://github.com/tkrzeminski/jenkins-groovy-scripts/blob/master/show-all-credentials.groovy\" rel=\"noreferrer\">https://github.com/tkrzeminski/jenkins-groovy-scripts/blob/master/show-all-credentials.groovy</a></p>\n\n<p>The script does the job OK for SystemCredentialsProvider credentials for the <strong>global domain at root level</strong>.  </p>\n\n<p><strong>But my credentials are stored in a Folder</strong>, so the script does not work for me.  </p>\n\n<p>I am using the Jenkins script console to execute the script.  </p>\n\n<p>If I navigate to the Jenkins Credentials configuration page and hover over the icon for one of my credential entries, the tooltip says \"Folder Credentials Provider\". </p>\n\n<p>==================================================== </p>\n\n<p><strong>Question: How do I read all of the the credentials from a Folder in Jenkins?</strong></p>\n\n<p>====================================================</p>\n\n<p>Please see script, below:</p>\n\n<pre><code>import jenkins.model.*\nimport com.cloudbees.plugins.credentials.*\nimport com.cloudbees.plugins.credentials.impl.*\nimport com.cloudbees.plugins.credentials.domains.*\nimport com.cloudbees.jenkins.plugins.sshcredentials.impl.BasicSSHUserPrivateKey\nimport com.cloudbees.jenkins.plugins.awscredentials.AWSCredentialsImpl\nimport org.jenkinsci.plugins.plaincredentials.StringCredentials\nimport org.jenkinsci.plugins.plaincredentials.impl.FileCredentialsImpl\n\ndef showRow = { credentialType, secretId, username = null, password = null, description = null -&gt;\n  println(\"${credentialType} : \".padLeft(20) + secretId?.padRight(38)+\" | \" +username?.padRight(20)+\" | \" +password?.padRight(40) + \" | \" +description)\n}\n\n// set Credentials domain name (null means is it global)\ndomainName = null\n\ncredentialsStore = Jenkins.instance.getExtensionList('com.cloudbees.plugins.credentials.SystemCredentialsProvider')[0]?.getStore()\ndomain = new Domain(domainName, null, Collections.&lt;DomainSpecification&gt;emptyList())\n\ncredentialsStore?.getCredentials(domain).each{\n  if(it instanceof UsernamePasswordCredentialsImpl)\n    showRow(\"user/password\", it.id, it.username, it.password?.getPlainText(), it.description)\n  else if(it instanceof BasicSSHUserPrivateKey)\n    showRow(\"ssh priv key\", it.id, it.passphrase?.getPlainText(), it.privateKeySource?.getPrivateKey(), it.description)\n  else if(it instanceof AWSCredentialsImpl)\n    showRow(\"aws\", it.id, it.accessKey, it.secretKey?.getPlainText(), it.description)\n  else if(it instanceof StringCredentials)\n    showRow(\"secret text\", it.id, it.secret?.getPlainText(), '', it.description)\n  else if(it instanceof FileCredentialsImpl)\n    showRow(\"secret file\", it.id, it.content?.text, '', it.description)\n  else\n    showRow(\"something else\", it.id, '', '', '')\n}\n\nreturn\n</code></pre>\n"},{"tags":["java","netbeans","compiler-errors"],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1614691666,"creation_date":1317826622,"answer_id":7663346,"question_id":7663221,"body_markdown":"You don&#39;t &quot;uncheck&quot; that option, you need to add the `-Xlint:unchecked` parameter to the parameters passed to the Java compiler.\r\n\r\nFor Ant based projects, this is done through `Project Properties -&gt; Build -&gt; Compiling` in the &quot;Additional compiler options&quot; input field at the bottom of the dialog (where it says &quot;*e.g.: -Xlint:unchecked*&quot;)\r\n\r\n![enter image description here][1]\r\n\r\nFor Maven projects see [this answer](https://stackoverflow.com/a/12449314)\r\n\r\n  [1]: http://i.stack.imgur.com/jnqSd.png","title":"Where can I find the Xlint option in Netbeans?","body":"<p>You don't &quot;uncheck&quot; that option, you need to add the <code>-Xlint:unchecked</code> parameter to the parameters passed to the Java compiler.</p>\n<p>For Ant based projects, this is done through <code>Project Properties -&gt; Build -&gt; Compiling</code> in the &quot;Additional compiler options&quot; input field at the bottom of the dialog (where it says &quot;<em>e.g.: -Xlint:unchecked</em>&quot;)</p>\n<p><img src=\"https://i.stack.imgur.com/jnqSd.png\" alt=\"enter image description here\" /></p>\n<p>For Maven projects see <a href=\"https://stackoverflow.com/a/12449314\">this answer</a></p>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656617100,"creation_date":1656617100,"answer_id":72821074,"question_id":7663221,"body_markdown":"`-Xlint` is a JVM parameter. In your project follow this steps:\r\n\r\n1. Project properties\r\n2. Run\r\n3. VM Options\r\n\r\nAnd there in the text field you write `-Xlint:unchecked`\r\n\r\n","title":"Where can I find the Xlint option in Netbeans?","body":"<p><code>-Xlint</code> is a JVM parameter. In your project follow this steps:</p>\n<ol>\n<li>Project properties</li>\n<li>Run</li>\n<li>VM Options</li>\n</ol>\n<p>And there in the text field you write <code>-Xlint:unchecked</code></p>\n"}],"owner":{"account_id":411019,"reputation":2223,"user_id":783204,"accept_rate":89,"display_name":"theking963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14635,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":7663346,"answer_count":2,"score":18,"last_activity_date":1656617100,"creation_date":1317826144,"question_id":7663221,"body_markdown":"I get an error `Recompile with -Xlint:unchecked for details.` in Netbeans. Where can I find the option to uncheck?","title":"Where can I find the Xlint option in Netbeans?","body":"<p>I get an error <code>Recompile with -Xlint:unchecked for details.</code> in Netbeans. Where can I find the option to uncheck?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1061117,"reputation":2481,"user_id":1062727,"accept_rate":0,"display_name":"Paulo Buchsbaum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656616964,"creation_date":1656597258,"answer_id":72817062,"question_id":70948103,"body_markdown":"The answer will surprise many, as it surprised myself. It was months and months of attempts and errors, frustrated help requests, until I reached the solution myself. \r\n\r\nIt is of a disconcerting simplicity, but at the same time, It was the most complicated thing in the galaxy, including the boldness of trying it\r\n\r\nThe magic and secret line is:\r\n\r\n          &lt;meta-data android:name=&quot;android.max_aspect&quot; android:value=&quot;2.4&quot;/&gt;\r\n\r\n2.4 is maximum `screen height / screen width` allowed for the app area in the screen.\r\n\r\nIf you omit this statement, the system still [assumes][1] that the maximum aspect ratio is 1.86. \r\n\r\nI don&#39;t know why the system assumes a default so low, if many devices today has a ratio  `screen height /screen width` greater than 1.86.\r\n\r\nFrom what I&#39;ve written inside the question, one really needs to change one of the standard styles of Android\r\n\r\nSo in `styles.xml`:\r\n\r\n    &lt;style name=&quot;AppTheme&quot;&gt; parent=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;   \r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nIn `AndroidManifest.xml` includes \r\n\r\n      &lt;application\r\n        ... \r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;meta-data android:name=&quot;android.max_aspect&quot; android:value=&quot;2.4&quot;/&gt;\r\n        ...  \r\n       &lt;\\application&gt;  \r\n\r\nIt&#39;s all...\r\n\r\nThe only remote reference I found on this subject was on the official blog of developers on a 2017 page in [this][1] post.\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2017/03/update-your-app-to-take-advantage-of.html","title":"How adjust my app in Android 11 in cell phone screen?","body":"<p>The answer will surprise many, as it surprised myself. It was months and months of attempts and errors, frustrated help requests, until I reached the solution myself.</p>\n<p>It is of a disconcerting simplicity, but at the same time, It was the most complicated thing in the galaxy, including the boldness of trying it</p>\n<p>The magic and secret line is:</p>\n<pre><code>      &lt;meta-data android:name=&quot;android.max_aspect&quot; android:value=&quot;2.4&quot;/&gt;\n</code></pre>\n<p>2.4 is maximum <code>screen height / screen width</code> allowed for the app area in the screen.</p>\n<p>If you omit this statement, the system still <a href=\"https://android-developers.googleblog.com/2017/03/update-your-app-to-take-advantage-of.html\" rel=\"nofollow noreferrer\">assumes</a> that the maximum aspect ratio is 1.86.</p>\n<p>I don't know why the system assumes a default so low, if many devices today has a ratio  <code>screen height /screen width</code> greater than 1.86.</p>\n<p>From what I've written inside the question, one really needs to change one of the standard styles of Android</p>\n<p>So in <code>styles.xml</code>:</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot;&gt; parent=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;   \n    &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>In <code>AndroidManifest.xml</code> includes</p>\n<pre><code>  &lt;application\n    ... \n    android:theme=&quot;@style/AppTheme&quot;&gt;\n    &lt;meta-data android:name=&quot;android.max_aspect&quot; android:value=&quot;2.4&quot;/&gt;\n    ...  \n   &lt;\\application&gt;  \n</code></pre>\n<p>It's all...</p>\n<p>The only remote reference I found on this subject was on the official blog of developers on a 2017 page in <a href=\"https://android-developers.googleblog.com/2017/03/update-your-app-to-take-advantage-of.html\" rel=\"nofollow noreferrer\">this</a> post.</p>\n"}],"owner":{"account_id":1061117,"reputation":2481,"user_id":1062727,"accept_rate":0,"display_name":"Paulo Buchsbaum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72817062,"answer_count":1,"score":2,"last_activity_date":1656616964,"creation_date":1643752849,"question_id":70948103,"body_markdown":"Before Android 11, I&#39;ve adjusted my app to fullscreen easily\r\n\r\nMy old phone had the camera hole and base buttons outside the screen area, my new phone has a camera hole and the base buttons inside a screen.\r\n\r\nWith few settings, my app was fullscreen in the old phone.\r\n\r\n**Styles.xml**\r\n\r\n    &lt;style name=&quot;AppTheme.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;   \r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;    \r\n            &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;application\r\n       ...       \r\n       android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n    &lt;/application&gt;\r\n\r\nIn my new phone with  *Android 11*, I&#39;ve searched many `Stackoverflow` question. I&#39;ve tried many different solutions.  In the end, I put in my app the following code in that start of `OnCreate()`.\r\n\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n      window.attributes.layoutInDisplayCutoutMode =\r\n          WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\r\n    }\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n        WindowCompat.setDecorFitsSystemWindows(window, false)\r\n     else {\r\n          @Suppress(&quot;DEPRECATION&quot;)\r\n          window.setFlags(\r\n            WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n            WindowManager.LayoutParams.FLAG_FULLSCREEN\r\n          )\r\n        }\r\n\r\nI wanted a narrow margin near the base buttons and the camera hole, like Chrome. \r\n\r\n\r\nBut all can I get is a wide margin between the app and button (downward) and between the app and the camera hole (upward):\r\n\r\n[![App 1][1]][1]\r\n\r\nBut I would want a narrow  margin:\r\n\r\n[![Ideal][2]][2]\r\n\r\nsimilar to Chrome browser for Android:\r\n\r\n[![My wish][3]][3]\r\n\r\n\r\nHow can I do this programatically?\r\n\r\nI haven&#39;t been able to find a single clue to my problem in Internet (and StackOverflow)\r\n\r\n\r\nI also haven&#39;t been able to figure out how to identify if a given cell phone has the camera hole on the screen or if it has the base buttons on the screen. It looks like it&#39;s based on [`DisplayCutout`][4], `WindowInsets` and `boundingRectTop` and `boundingRectBottom`, but there is no real and clear usage example in Internet.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qHxyJ.png\r\n  [2]: https://i.stack.imgur.com/3PEds.png\r\n  [3]: https://i.stack.imgur.com/Xbjtm.png\r\n  [4]: https://developer.android.com/reference/kotlin/android/view/DisplayCutout","title":"How adjust my app in Android 11 in cell phone screen?","body":"<p>Before Android 11, I've adjusted my app to fullscreen easily</p>\n<p>My old phone had the camera hole and base buttons outside the screen area, my new phone has a camera hole and the base buttons inside a screen.</p>\n<p>With few settings, my app was fullscreen in the old phone.</p>\n<p><strong>Styles.xml</strong></p>\n<pre><code>&lt;style name=&quot;AppTheme.NoActionBar&quot;&gt;\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;   \n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;    \n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;application\n   ...       \n   android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n&lt;/application&gt;\n</code></pre>\n<p>In my new phone with  <em>Android 11</em>, I've searched many <code>Stackoverflow</code> question. I've tried many different solutions.  In the end, I put in my app the following code in that start of <code>OnCreate()</code>.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n  window.attributes.layoutInDisplayCutoutMode =\n      WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\n}\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n    WindowCompat.setDecorFitsSystemWindows(window, false)\n else {\n      @Suppress(&quot;DEPRECATION&quot;)\n      window.setFlags(\n        WindowManager.LayoutParams.FLAG_FULLSCREEN,\n        WindowManager.LayoutParams.FLAG_FULLSCREEN\n      )\n    }\n</code></pre>\n<p>I wanted a narrow margin near the base buttons and the camera hole, like Chrome.</p>\n<p>But all can I get is a wide margin between the app and button (downward) and between the app and the camera hole (upward):</p>\n<p><a href=\"https://i.stack.imgur.com/qHxyJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qHxyJ.png\" alt=\"App 1\" /></a></p>\n<p>But I would want a narrow  margin:</p>\n<p><a href=\"https://i.stack.imgur.com/3PEds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PEds.png\" alt=\"Ideal\" /></a></p>\n<p>similar to Chrome browser for Android:</p>\n<p><a href=\"https://i.stack.imgur.com/Xbjtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xbjtm.png\" alt=\"My wish\" /></a></p>\n<p>How can I do this programatically?</p>\n<p>I haven't been able to find a single clue to my problem in Internet (and StackOverflow)</p>\n<p>I also haven't been able to figure out how to identify if a given cell phone has the camera hole on the screen or if it has the base buttons on the screen. It looks like it's based on <a href=\"https://developer.android.com/reference/kotlin/android/view/DisplayCutout\" rel=\"nofollow noreferrer\"><code>DisplayCutout</code></a>, <code>WindowInsets</code> and <code>boundingRectTop</code> and <code>boundingRectBottom</code>, but there is no real and clear usage example in Internet.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656601549,"post_id":72813165,"comment_id":128617909,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10412104,"reputation":21,"user_id":7677200,"display_name":"Smeki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656581221,"creation_date":1656581221,"answer_id":72813382,"question_id":72813165,"body_markdown":"This is pretty brief introduction into your issue - it would be handy to show versions of libraries you are working with, configurations, etc.\r\n\r\nNevertheless, if you do not want to receive old messages, that has not been ack before, you need to move offset for you consumer group. \r\nOffset is basically pointer at last successfully read item, so when consumer is stopped, it remains here until consumer starts reading again - that is the reason why &quot;old&quot; messages are read. [In this thread][1] are some answers, but it is difficult to answer completely without further information.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29791268/how-to-change-start-offset-for-topic","title":"kafka springboot about receiving messages only from consumer application launch time and ignoring unprocessed messages","body":"<p>This is pretty brief introduction into your issue - it would be handy to show versions of libraries you are working with, configurations, etc.</p>\n<p>Nevertheless, if you do not want to receive old messages, that has not been ack before, you need to move offset for you consumer group.\nOffset is basically pointer at last successfully read item, so when consumer is stopped, it remains here until consumer starts reading again - that is the reason why &quot;old&quot; messages are read. <a href=\"https://stackoverflow.com/questions/29791268/how-to-change-start-offset-for-topic\">In this thread</a> are some answers, but it is difficult to answer completely without further information.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656616654,"creation_date":1656616654,"answer_id":72820982,"question_id":72813165,"body_markdown":"Set consumer settings as `auto.offset.reset=latest` and `enable.auto.commit=false`, then your app will always start reading from the very end of the Kafka topic and ignore whatever was written while the app is stopped (between restarts, for example)\r\n\r\nYou could also add a random UUID to the `group.id` to ensure no other consumer would easily join that consumer group and &quot;take away&quot; events from your app. \r\n\r\nKafka Consumer API also has a method `seekToEnd` that you can try. ","title":"kafka springboot about receiving messages only from consumer application launch time and ignoring unprocessed messages","body":"<p>Set consumer settings as <code>auto.offset.reset=latest</code> and <code>enable.auto.commit=false</code>, then your app will always start reading from the very end of the Kafka topic and ignore whatever was written while the app is stopped (between restarts, for example)</p>\n<p>You could also add a random UUID to the <code>group.id</code> to ensure no other consumer would easily join that consumer group and &quot;take away&quot; events from your app.</p>\n<p>Kafka Consumer API also has a method <code>seekToEnd</code> that you can try.</p>\n"}],"owner":{"account_id":25688949,"reputation":1,"user_id":19450651,"display_name":"L&#234; C&#244;ng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656616654,"creation_date":1656580271,"question_id":72813165,"body_markdown":"Currently when starting consumer application it will receive old messages that have not been processed by `KafkaListener` and I only want to receive the latest messages since starting the consumer application ignore those old messages, I have to do that any?","title":"kafka springboot about receiving messages only from consumer application launch time and ignoring unprocessed messages","body":"<p>Currently when starting consumer application it will receive old messages that have not been processed by <code>KafkaListener</code> and I only want to receive the latest messages since starting the consumer application ignore those old messages, I have to do that any?</p>\n"},{"tags":["java","primefaces"],"answers":[{"tags":[],"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656615250,"creation_date":1656615250,"answer_id":72820761,"question_id":72816780,"body_markdown":"Yes I do this in my apps and you need to use `filterMatchMode=&quot;in&quot;` for the custom filter.\r\n\r\n```xml\r\n&lt;p:column id=&quot;colTemplateKey&quot; headerText=&quot;#{appmsg[&#39;column.emailtemplate.templateKey&#39;]}&quot;\r\n\t\t\tsortBy=&quot;#{row.emailTemplateKey.text}&quot; filterBy=&quot;#{row.templateKey.text}&quot; filterMatchMode=&quot;in&quot;\r\n\t\t\tstyleClass=&quot;col-left&quot; width=&quot;180&quot; sortPriority=&quot;1&quot; sortOrder=&quot;asc&quot;&gt;\r\n\t\t\t&lt;f:facet name=&quot;filter&quot;&gt;\r\n\t\t\t\t\t&lt;p:selectCheckboxMenu id=&quot;chkTemplateKeyFilter&quot; label=&quot;#{appmsg[&#39;label.all&#39;]}&quot; filter=&quot;true&quot;\r\n\t\t\t\t\t\t\t\tfilterMatchMode=&quot;startsWith&quot; updateLabel=&quot;true&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;change&quot; process=&quot;@this&quot; oncomplete=&quot;PF(&#39;tableEntity&#39;).filter();&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;p:ajax event=&quot;toggleSelect&quot; process=&quot;@this&quot; oncomplete=&quot;PF(&#39;tableEntity&#39;).filter();&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;f:selectItems value=&quot;#{emailTemplateKeyFilterOptions}&quot; /&gt;\r\n\t\t\t\t\t&lt;/p:selectCheckboxMenu&gt;\r\n\t\t\t&lt;/f:facet&gt;\r\n\t\t\t&lt;h:outputText value=&quot;#{row.emailTemplateKey.displayText}&quot; /&gt;\r\n&lt;/p:column&gt;","title":"Primefaces - How to filter a treetable using a selectCheckboxMenu?","body":"<p>Yes I do this in my apps and you need to use <code>filterMatchMode=&quot;in&quot;</code> for the custom filter.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p:column id=&quot;colTemplateKey&quot; headerText=&quot;#{appmsg['column.emailtemplate.templateKey']}&quot;\n            sortBy=&quot;#{row.emailTemplateKey.text}&quot; filterBy=&quot;#{row.templateKey.text}&quot; filterMatchMode=&quot;in&quot;\n            styleClass=&quot;col-left&quot; width=&quot;180&quot; sortPriority=&quot;1&quot; sortOrder=&quot;asc&quot;&gt;\n            &lt;f:facet name=&quot;filter&quot;&gt;\n                    &lt;p:selectCheckboxMenu id=&quot;chkTemplateKeyFilter&quot; label=&quot;#{appmsg['label.all']}&quot; filter=&quot;true&quot;\n                                filterMatchMode=&quot;startsWith&quot; updateLabel=&quot;true&quot;&gt;\n                                &lt;p:ajax event=&quot;change&quot; process=&quot;@this&quot; oncomplete=&quot;PF('tableEntity').filter();&quot; /&gt;\n                                &lt;p:ajax event=&quot;toggleSelect&quot; process=&quot;@this&quot; oncomplete=&quot;PF('tableEntity').filter();&quot; /&gt;\n                                &lt;f:selectItems value=&quot;#{emailTemplateKeyFilterOptions}&quot; /&gt;\n                    &lt;/p:selectCheckboxMenu&gt;\n            &lt;/f:facet&gt;\n            &lt;h:outputText value=&quot;#{row.emailTemplateKey.displayText}&quot; /&gt;\n&lt;/p:column&gt;\n</code></pre>\n"}],"owner":{"account_id":8504372,"reputation":43,"user_id":6376429,"display_name":"Antoine Clement"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656615250,"creation_date":1656595994,"question_id":72816780,"body_markdown":"I have a treetable with a filter based on a selectOneMenu, like the primefaces showcase [Showcase][1].\r\n\r\nI am trying to replace the selectOneMenu with a selectCheckBoxMenu to filter with multiple checked values.\r\n\r\nI can the selectCheckBoxMenu with all the necessary items, I get the selected items in my Bean, yet I am not sure how to filter?\r\n\r\nDo I have to rebuild my TreeNode on server side and remove all unwanted node?\r\n\r\n\r\n  [1]: https://www.primefaces.org/showcase/ui/data/treetable/filter.xhtml?jfwid=846bc","title":"Primefaces - How to filter a treetable using a selectCheckboxMenu?","body":"<p>I have a treetable with a filter based on a selectOneMenu, like the primefaces showcase <a href=\"https://www.primefaces.org/showcase/ui/data/treetable/filter.xhtml?jfwid=846bc\" rel=\"nofollow noreferrer\">Showcase</a>.</p>\n<p>I am trying to replace the selectOneMenu with a selectCheckBoxMenu to filter with multiple checked values.</p>\n<p>I can the selectCheckBoxMenu with all the necessary items, I get the selected items in my Bean, yet I am not sure how to filter?</p>\n<p>Do I have to rebuild my TreeNode on server side and remove all unwanted node?</p>\n"},{"tags":["java","user-interface","opengl","graphics","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656615083,"creation_date":1656615083,"answer_id":72820724,"question_id":72818263,"body_markdown":"[glScissor](https://www.khronos.org/registry/OpenGL-Refpages/es2.0/xhtml/glScissor.xml) could work for exactly this purpose (scrolling). \r\n\r\nIt uses a per-fragment &#39;scissor test&#39; to check whether a fragment is in the boundaries of the scissor box specified by ``glScissor``. Nothing can be modified outside of the box, so this is a way to restrict drawing and rendering. \r\n\r\nIt takes in the position of the bottom left of the box as the first two parameters, and the last two are the width and height respectively. (You may have to call ``glEnable(GL_SCISSOR_TEST)`` first, as the scissor test is usually disabled.)\r\n\r\nIn this case, you can set the scissor box to the dimensions of the GUI window, so that you can cut off individual pixels of the GUI when the user scrolls.\r\n\r\n","title":"How make drawing restrictions in own gui window?","body":"<p><a href=\"https://www.khronos.org/registry/OpenGL-Refpages/es2.0/xhtml/glScissor.xml\" rel=\"nofollow noreferrer\">glScissor</a> could work for exactly this purpose (scrolling).</p>\n<p>It uses a per-fragment 'scissor test' to check whether a fragment is in the boundaries of the scissor box specified by <code>glScissor</code>. Nothing can be modified outside of the box, so this is a way to restrict drawing and rendering.</p>\n<p>It takes in the position of the bottom left of the box as the first two parameters, and the last two are the width and height respectively. (You may have to call <code>glEnable(GL_SCISSOR_TEST)</code> first, as the scissor test is usually disabled.)</p>\n<p>In this case, you can set the scissor box to the dimensions of the GUI window, so that you can cut off individual pixels of the GUI when the user scrolls.</p>\n"}],"owner":{"account_id":25543816,"reputation":11,"user_id":19329474,"display_name":"Hesles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72820724,"answer_count":1,"score":0,"last_activity_date":1656615083,"creation_date":1656602334,"question_id":72818263,"body_markdown":"I want make gui window, but i don&#39;t know how to restrict drawing. What i mean? When you scrolling window, some ui elements drawing, and some &quot;being cut off&quot;. See in image this restrict? I need that: [(IMAGE)][1]\r\n\r\n[1]: https://i.stack.imgur.com/y3aek.png\r\nI find glScissor, but i don&#39;t know how to used it","title":"How make drawing restrictions in own gui window?","body":"<p>I want make gui window, but i don't know how to restrict drawing. What i mean? When you scrolling window, some ui elements drawing, and some &quot;being cut off&quot;. See in image this restrict? I need that: <a href=\"https://i.stack.imgur.com/y3aek.png\" rel=\"nofollow noreferrer\">(IMAGE)</a></p>\n<p>I find glScissor, but i don't know how to used it</p>\n"},{"tags":["java","c++","makefile","ant"],"answers":[{"tags":[],"owner":{"account_id":904308,"reputation":94856,"user_id":939557,"accept_rate":78,"display_name":"MadScientist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656614637,"creation_date":1656614637,"answer_id":72820652,"question_id":72820017,"body_markdown":"I&#39;m not sure what ant has to do with this.  But make recipes are just shell scripts (or, if you use Windows cmd.exe instead of a POSIX shell, batch files).  Just like commands you&#39;d write in a batch file or on the command line directly, you have to add quoting to paths that contain whitespace.\r\n\r\nYou don&#39;t actually show us either the make recipe or even the complete compile (`cl`) command line that make invokes so we can&#39;t give you precise advice, but basically if you cut and paste the command line make invoked into your terminal prompt you&#39;d get exactly the same errors about whitespace.  Make is not magic: it only runs the commands you tell it to run.\r\n\r\nJust like you have to add quotes around paths containing whitespace when you run them from the terminal prompt, so too you need to add quotes to these paths when you run them from a makefile recipe.","title":"Ant/Make Compilation Error with File Path Having Spaces","body":"<p>I'm not sure what ant has to do with this.  But make recipes are just shell scripts (or, if you use Windows cmd.exe instead of a POSIX shell, batch files).  Just like commands you'd write in a batch file or on the command line directly, you have to add quoting to paths that contain whitespace.</p>\n<p>You don't actually show us either the make recipe or even the complete compile (<code>cl</code>) command line that make invokes so we can't give you precise advice, but basically if you cut and paste the command line make invoked into your terminal prompt you'd get exactly the same errors about whitespace.  Make is not magic: it only runs the commands you tell it to run.</p>\n<p>Just like you have to add quotes around paths containing whitespace when you run them from the terminal prompt, so too you need to add quotes to these paths when you run them from a makefile recipe.</p>\n"}],"owner":{"account_id":6999740,"reputation":1881,"user_id":5366130,"accept_rate":100,"display_name":"Omid CompSCI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72820652,"answer_count":1,"score":0,"last_activity_date":1656614637,"creation_date":1656611166,"question_id":72820017,"body_markdown":"Unable to produce some MVC to reproduce the issue. So trying to be clear &amp; concise.\r\n\r\n1) We utilize ant/make\r\n\r\n2) The include path to building the C++ portion utilizes a header (jni.h) from the java installed directory\r\n\r\n**Example Error (During Build Process)**\r\n\r\n3) \r\n\r\n    *File.h(2): fatal error C1083: Cannot open include file: &#39;jni.h&#39;: No such file or directory\r\n    make: *** [File.obj] Error 2*\r\n\r\nAnother error also shown is:\r\n \r\n\r\n    cl : Command line warning D9024 : unrecognized source file type &#39;Files\\Java\\jdk1.8.0_281\\include&#39;, object file assumed\r\n    \r\n    cl : Command line warning D9027 : source file &#39;Files\\Java\\jdk1.8.0_281\\include&#39; ignored\r\n    \r\n    cl : Command line warning D9024 : unrecognized source file type &#39;Files\\Java\\jdk1.8.0_281\\include\\win32&#39;, object file assumed\r\n    \r\n    cl : Command line warning D9027 : source file &#39;Files\\Java\\jdk1.8.0_281\\include\\win32&#39; ignored\r\n\r\n4) This is the include path as part of the compilation step (Yes this path exists) *-IC:\\Program Files\\Java\\jdk1.8.0_281\\include* \r\n\r\n5) Now when I copy the files necessary to a path that&#39;s called ProgramFiles\\Java\\... (No spaces in ProgramFiles) it works fine.\r\n\r\n6) I have a variable retrieved from a .platform file which is utilized for the build, which defines JDK_HOME. I believe this file is utilized for ant/make builds and uses these defined variables in this file. \r\n\r\nAny ideas/paths as to ant or make not liking spaces in the include paths, or anything along those lines? I&#39;ve looked at many resources online, but very hard to describe the issue. \r\n\r\nProblem clearly is the space in Program Files. Not sure what is so significant about this.\r\n\r\nHoping the bullet points help in any information needed with anyone who could be familiar with this issue or might have leads. Thank you.","title":"Ant/Make Compilation Error with File Path Having Spaces","body":"<p>Unable to produce some MVC to reproduce the issue. So trying to be clear &amp; concise.</p>\n<ol>\n<li><p>We utilize ant/make</p>\n</li>\n<li><p>The include path to building the C++ portion utilizes a header (jni.h) from the java installed directory</p>\n</li>\n</ol>\n<p><strong>Example Error (During Build Process)</strong></p>\n<p>3)</p>\n<pre><code>*File.h(2): fatal error C1083: Cannot open include file: 'jni.h': No such file or directory\nmake: *** [File.obj] Error 2*\n</code></pre>\n<p>Another error also shown is:</p>\n<pre><code>cl : Command line warning D9024 : unrecognized source file type 'Files\\Java\\jdk1.8.0_281\\include', object file assumed\n\ncl : Command line warning D9027 : source file 'Files\\Java\\jdk1.8.0_281\\include' ignored\n\ncl : Command line warning D9024 : unrecognized source file type 'Files\\Java\\jdk1.8.0_281\\include\\win32', object file assumed\n\ncl : Command line warning D9027 : source file 'Files\\Java\\jdk1.8.0_281\\include\\win32' ignored\n</code></pre>\n<ol start=\"4\">\n<li><p>This is the include path as part of the compilation step (Yes this path exists) <em>-IC:\\Program Files\\Java\\jdk1.8.0_281\\include</em></p>\n</li>\n<li><p>Now when I copy the files necessary to a path that's called ProgramFiles\\Java... (No spaces in ProgramFiles) it works fine.</p>\n</li>\n<li><p>I have a variable retrieved from a .platform file which is utilized for the build, which defines JDK_HOME. I believe this file is utilized for ant/make builds and uses these defined variables in this file.</p>\n</li>\n</ol>\n<p>Any ideas/paths as to ant or make not liking spaces in the include paths, or anything along those lines? I've looked at many resources online, but very hard to describe the issue.</p>\n<p>Problem clearly is the space in Program Files. Not sure what is so significant about this.</p>\n<p>Hoping the bullet points help in any information needed with anyone who could be familiar with this issue or might have leads. Thank you.</p>\n"},{"tags":["java","linux","java-8"],"answers":[{"tags":[],"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656614389,"creation_date":1656614389,"answer_id":72820600,"question_id":72816203,"body_markdown":"I&#39;m somewhat confused. You&#39;re directly invoking the java command, which will use the java that&#39;s already redirected in in the alternatives configuration.  You are literally attempting to set the default java to the java that you&#39;ve just installed? If you don&#39;t change anything, then it should already be pointing to this instance of java.\r\n\r\nSecondly, you&#39;re assuming that the path to java is the one you&#39;re specifying there. It doesn&#39;t have to be the case. When I create a minimal docker container with openjdk-8-jdk (and dpkg, so update-alternatives is available), then the path to java is:\r\n\r\n    root@c330511a7cde:/# update-alternatives --list java\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nSo the path that you *should* have been using was this path.\r\n\r\nNow I&#39;ve manually installed a few more java versions, and because of priorities, java-17 is now the default java, so the output is a bit longer:\r\n\r\n    root@c330511a7cde:/# update-alternatives --list java\r\n    /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n    /usr/lib/jvm/java-17-openjdk-amd64/bin/java\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nIn this case, you&#39;re probably better *finding* the java-8 path from update-alternatives and setting it that way, so something like:\r\n\r\n    java_8_path=$(update-alternatives --list java | grep &#39;java-8-openjdk&#39; | head -1)\r\n    if [ -n &quot;$java_8_path&quot; ]; then\r\n        sudo update-alternatives --set java &quot;$java_8_path&quot; || echo &quot;darn&quot;\r\n    else\r\n        echo &quot;could not find java8 in alternatives list&quot; 1&gt;&amp;2\r\n    fi\r\n","title":"update-alternatives: error: alternative /usr/lib/jvm/jdk1.8.0_312/bin/java for java not registered; not setting","body":"<p>I'm somewhat confused. You're directly invoking the java command, which will use the java that's already redirected in in the alternatives configuration.  You are literally attempting to set the default java to the java that you've just installed? If you don't change anything, then it should already be pointing to this instance of java.</p>\n<p>Secondly, you're assuming that the path to java is the one you're specifying there. It doesn't have to be the case. When I create a minimal docker container with openjdk-8-jdk (and dpkg, so update-alternatives is available), then the path to java is:</p>\n<pre><code>root@c330511a7cde:/# update-alternatives --list java\n/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n<p>So the path that you <em>should</em> have been using was this path.</p>\n<p>Now I've manually installed a few more java versions, and because of priorities, java-17 is now the default java, so the output is a bit longer:</p>\n<pre><code>root@c330511a7cde:/# update-alternatives --list java\n/usr/lib/jvm/java-11-openjdk-amd64/bin/java\n/usr/lib/jvm/java-17-openjdk-amd64/bin/java\n/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n<p>In this case, you're probably better <em>finding</em> the java-8 path from update-alternatives and setting it that way, so something like:</p>\n<pre><code>java_8_path=$(update-alternatives --list java | grep 'java-8-openjdk' | head -1)\nif [ -n &quot;$java_8_path&quot; ]; then\n    sudo update-alternatives --set java &quot;$java_8_path&quot; || echo &quot;darn&quot;\nelse\n    echo &quot;could not find java8 in alternatives list&quot; 1&gt;&amp;2\nfi\n</code></pre>\n"}],"owner":{"account_id":2702634,"reputation":850,"user_id":2721822,"accept_rate":95,"display_name":"Hani Gotc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7962,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656614389,"creation_date":1656593627,"question_id":72816203,"body_markdown":"I am trying to install `Java Developer Kit 8` by running the following commands:\r\n\r\n    sudo apt-get update\r\n    sudo apt-get install -y openjdk-8-jdk\r\n    echo &#39;Updating eventually the correct version of Java...&#39;\r\n    var=$(java -version 2&gt;&amp;1 | awk -F &#39;&quot;&#39; &#39;NR==1 {print $2}&#39;) # get the actual version \r\n    sudo update-alternatives --set java /usr/lib/jvm/jdk${var}/bin/java\r\nThe problem is that I am getting the following error:\r\n\r\n    default: Updating eventually the correct version of Java...\r\n    update-alternatives: error: alternative /usr/lib/jvm/jdk1.8.0_312/bin/java for java not registered; not setting\r\n\r\nIs there a missing step in the commands?\r\n","title":"update-alternatives: error: alternative /usr/lib/jvm/jdk1.8.0_312/bin/java for java not registered; not setting","body":"<p>I am trying to install <code>Java Developer Kit 8</code> by running the following commands:</p>\n<pre><code>sudo apt-get update\nsudo apt-get install -y openjdk-8-jdk\necho 'Updating eventually the correct version of Java...'\nvar=$(java -version 2&gt;&amp;1 | awk -F '&quot;' 'NR==1 {print $2}') # get the actual version \nsudo update-alternatives --set java /usr/lib/jvm/jdk${var}/bin/java\n</code></pre>\n<p>The problem is that I am getting the following error:</p>\n<pre><code>default: Updating eventually the correct version of Java...\nupdate-alternatives: error: alternative /usr/lib/jvm/jdk1.8.0_312/bin/java for java not registered; not setting\n</code></pre>\n<p>Is there a missing step in the commands?</p>\n"},{"tags":["java","rsa","private-key"],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656607147,"creation_date":1656607147,"answer_id":72819266,"question_id":72818880,"body_markdown":"You can run the task in a console in the background. Therefor you can use a `ProcessBuilder`.\r\n\r\n    //split the command every space and create a process builder\r\n    String[] commands = &quot;your command written above...&quot;.split(&quot; &quot;);\r\n    ProcessBuilder pb = new ProcessBuilder(commands);\r\n    // starting the process\r\n    Process process = pb.start();\r\n \r\nIf you need to read the console output (instead of an output file) you can use an input stream: \r\n\r\n    // for reading the output from stream\r\n    BufferedReader stdInput = new BufferedReader(new InputStreamReader(\r\n                process.getInputStream()));\r\n    String s = null;\r\n    while ((s = stdInput.readLine()) != null) {\r\n        System.out.println(s);\r\n    }\r\n\r\nI haven&#39;t tested this code in particular. If you need more info feel free to ask or visit this website: [Process Builder][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-lang-processbuilder-class-java/","title":"Convert RSA Private Key to DER Format in Java","body":"<p>You can run the task in a console in the background. Therefor you can use a <code>ProcessBuilder</code>.</p>\n<pre><code>//split the command every space and create a process builder\nString[] commands = &quot;your command written above...&quot;.split(&quot; &quot;);\nProcessBuilder pb = new ProcessBuilder(commands);\n// starting the process\nProcess process = pb.start();\n</code></pre>\n<p>If you need to read the console output (instead of an output file) you can use an input stream:</p>\n<pre><code>// for reading the output from stream\nBufferedReader stdInput = new BufferedReader(new InputStreamReader(\n            process.getInputStream()));\nString s = null;\nwhile ((s = stdInput.readLine()) != null) {\n    System.out.println(s);\n}\n</code></pre>\n<p>I haven't tested this code in particular. If you need more info feel free to ask or visit this website: <a href=\"https://www.geeksforgeeks.org/java-lang-processbuilder-class-java/\" rel=\"nofollow noreferrer\">Process Builder</a></p>\n"},{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656614204,"creation_date":1656614204,"answer_id":72820573,"question_id":72818880,"body_markdown":"The OpenSSL statement converts the PEM encoded private key in PKCS#1 format into a DER encoded key in PKCS#8 format.\r\n\r\nIn Java, importing the PEM encoded PKCS#1 private key can be done with e.g. [BouncyCastle&#39;s][1] `PEMParser` and `JcaPEMKeyConverter` (using the bcprov und bcpkix jars). The export can be accomplished with `PrivateKey#getEncoded()` which returns the DER encoded PKCS#8 private key:\r\n\r\n```java\r\nimport java.io.FileOutputStream;\r\nimport java.io.FileReader;\r\nimport java.security.KeyPair;\r\nimport org.bouncycastle.openssl.PEMKeyPair;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\n...\r\nString inputFile = &quot;&lt;path to PKCS#1 PEM key&gt;&quot;;\r\nString outputFile = &quot;&lt;path to PKCS#8 DER key&gt;&quot;;\r\ntry (FileReader fileReader = new FileReader(inputFile);\r\n     PEMParser pemParser = new PEMParser(fileReader);\r\n\t FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n\t// Import PEM encoded PKCS#1 private key\r\n\tJcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n\tKeyPair keyPair = converter.getKeyPair((PEMKeyPair)pemParser.readObject());\r\n\t// Export DER encoded PKCS#8 private key\r\n\tbyte[] privateKey = keyPair.getPrivate().getEncoded();\r\n\toutputStream.write(privateKey, 0, privateKey.length);\r\n}\r\n```\r\n\r\n[1]: https://www.bouncycastle.org/latest_releases.html\r\n","title":"Convert RSA Private Key to DER Format in Java","body":"<p>The OpenSSL statement converts the PEM encoded private key in PKCS#1 format into a DER encoded key in PKCS#8 format.</p>\n<p>In Java, importing the PEM encoded PKCS#1 private key can be done with e.g. <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">BouncyCastle's</a> <code>PEMParser</code> and <code>JcaPEMKeyConverter</code> (using the bcprov und bcpkix jars). The export can be accomplished with <code>PrivateKey#getEncoded()</code> which returns the DER encoded PKCS#8 private key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.security.KeyPair;\nimport org.bouncycastle.openssl.PEMKeyPair;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\n...\nString inputFile = &quot;&lt;path to PKCS#1 PEM key&gt;&quot;;\nString outputFile = &quot;&lt;path to PKCS#8 DER key&gt;&quot;;\ntry (FileReader fileReader = new FileReader(inputFile);\n     PEMParser pemParser = new PEMParser(fileReader);\n     FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n    // Import PEM encoded PKCS#1 private key\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n    KeyPair keyPair = converter.getKeyPair((PEMKeyPair)pemParser.readObject());\n    // Export DER encoded PKCS#8 private key\n    byte[] privateKey = keyPair.getPrivate().getEncoded();\n    outputStream.write(privateKey, 0, privateKey.length);\n}\n</code></pre>\n"}],"owner":{"account_id":13326074,"reputation":167,"user_id":9618984,"display_name":"Jean Khechfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72820573,"answer_count":2,"score":1,"last_activity_date":1656614204,"creation_date":1656605129,"question_id":72818880,"body_markdown":"I have a .pem file that contains the private key in this format:\r\n\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n    MIIEpAIBAAKCAQEA3wVu5KhHVJjc9ri5mWKNDW5xXe08smNeu2GSAdBwEaGBHaWj\r\n    ...\r\n    xqDDtaoYKUvwhuKHboTJMs9CtQyrVNk+TDSdfaEdTEWTNeu2UwaP4QBhA==\r\n    -----END RSA PRIVATE KEY-----\r\n\r\nIf I want to convert it manually using OpenSSL I would use this command:\r\n\r\n    openssl pkcs8 -topk8 -inform PEM -outform DER -in secret.pem -nocrypt secret.key\r\n\r\nHowever, I want to do that programmatically using java but I couldn&#39;t figure out how.\r\nAny help is much appreciated","title":"Convert RSA Private Key to DER Format in Java","body":"<p>I have a .pem file that contains the private key in this format:</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA3wVu5KhHVJjc9ri5mWKNDW5xXe08smNeu2GSAdBwEaGBHaWj\n...\nxqDDtaoYKUvwhuKHboTJMs9CtQyrVNk+TDSdfaEdTEWTNeu2UwaP4QBhA==\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>If I want to convert it manually using OpenSSL I would use this command:</p>\n<pre><code>openssl pkcs8 -topk8 -inform PEM -outform DER -in secret.pem -nocrypt secret.key\n</code></pre>\n<p>However, I want to do that programmatically using java but I couldn't figure out how.\nAny help is much appreciated</p>\n"},{"tags":["java","spring-boot","serialization","lazy-loading"],"comments":[{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1593450137,"post_id":62643030,"comment_id":110779790,"body_markdown":"You may need to add logs with related code","body":"You may need to add logs with related code"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1593452063,"post_id":62643030,"comment_id":110780706,"body_markdown":"What do the browser developer tools or Postman have in the body of the 500 error?","body":"What do the browser developer tools or Postman have in the body of the 500 error?"}],"answers":[{"tags":[],"owner":{"account_id":4074210,"reputation":482,"user_id":3346298,"display_name":"Damian229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593452018,"creation_date":1593452018,"answer_id":62643666,"question_id":62643030,"body_markdown":"How is your Controller annotated? is it with @Controller or @Rest?\r\n\r\n - @RestController = @Controller + @ResponseBody(for serializing the response and pass it into the HttpResponse.\r\n\r\nAdd the @ResponseBody in your methods on the controller or change the @Controller tag into a @RestController(take into account that @RestController is available since 4.0 Spring version).\r\n\r\nMore info:https://www.baeldung.com/spring-controller-vs-restcontroller\r\n\r\n","title":"Lazy loading object causing issue during serialization. Getting 500 internal server error","body":"<p>How is your Controller annotated? is it with @Controller or @Rest?</p>\n<ul>\n<li>@RestController = @Controller + @ResponseBody(for serializing the response and pass it into the HttpResponse.</li>\n</ul>\n<p>Add the @ResponseBody in your methods on the controller or change the @Controller tag into a @RestController(take into account that @RestController is available since 4.0 Spring version).</p>\n<p>More info:https://www.baeldung.com/spring-controller-vs-restcontroller</p>\n"},{"tags":[],"owner":{"account_id":4260941,"reputation":306,"user_id":3485316,"display_name":"Pradyskumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656614016,"creation_date":1593452859,"answer_id":62643887,"question_id":62643030,"body_markdown":"The problem was with one of the dependent object which was having oneToMany relationship with the return type object and it was set to **Lazy loading** and issue was during the serialization.\r\n\r\n&gt;Either we can change it to Eager loading or ignore the dependent object by adding `@JsonIgnore` on dependent object.\r\n\r\n \r\nI handled it by adding `@JsonIgnore` annotation on top of the dependent object as I don&#39;t need the dependent object in this particular usecase. Issue is solved now.","title":"Lazy loading object causing issue during serialization. Getting 500 internal server error","body":"<p>The problem was with one of the dependent object which was having oneToMany relationship with the return type object and it was set to <strong>Lazy loading</strong> and issue was during the serialization.</p>\n<blockquote>\n<p>Either we can change it to Eager loading or ignore the dependent object by adding <code>@JsonIgnore</code> on dependent object.</p>\n</blockquote>\n<p>I handled it by adding <code>@JsonIgnore</code> annotation on top of the dependent object as I don't need the dependent object in this particular usecase. Issue is solved now.</p>\n"}],"owner":{"account_id":4260941,"reputation":306,"user_id":3485316,"display_name":"Pradyskumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62643887,"answer_count":2,"score":0,"last_activity_date":1656614174,"creation_date":1593449663,"question_id":62643030,"body_markdown":"I have written API&#39;s which are resulting in 500 error when hit through postman or browser. However, when I debug and see server is not throwing any error and in fact returning a proper response. Other controller I have implemented in a similar way is returning expected result. below is my controller code. Has anyone faced similar situation. Kindly help.\r\n\r\n```\r\n\t@CrossOrigin\r\n\t@GetMapping(value=&quot;/byPatientId/{patientId}&quot;, produces = &quot;application/json&quot;)\r\n\tpublic List&lt;ContactInfo&gt; getAllContacts(@PathVariable String patientId) {\r\n\t\tlogger.info(&quot;Received request for List of ContactInfo for patientId: &quot;+patientId);\r\n\t\tList&lt;ContactInfo&gt; list = \r\n\t\t contactInfoService.getAllContacts(patientId);\r\n\t\treturn list;\r\n\t}\r\n\r\n\t@CrossOrigin\r\n\t@GetMapping(&quot;/byContactId/{contactId}&quot;)\r\n\tpublic ContactInfo getContactById(@PathVariable Integer contactId) {\r\n\t\tlogger.info(&quot;Received request for ContactInfo for contactId: &quot;+contactId);\r\n\t\treturn contactInfoService.getContactById(contactId);\r\n\t}\r\n```","title":"Lazy loading object causing issue during serialization. Getting 500 internal server error","body":"<p>I have written API's which are resulting in 500 error when hit through postman or browser. However, when I debug and see server is not throwing any error and in fact returning a proper response. Other controller I have implemented in a similar way is returning expected result. below is my controller code. Has anyone faced similar situation. Kindly help.</p>\n<pre><code>    @CrossOrigin\n    @GetMapping(value=&quot;/byPatientId/{patientId}&quot;, produces = &quot;application/json&quot;)\n    public List&lt;ContactInfo&gt; getAllContacts(@PathVariable String patientId) {\n        logger.info(&quot;Received request for List of ContactInfo for patientId: &quot;+patientId);\n        List&lt;ContactInfo&gt; list = \n         contactInfoService.getAllContacts(patientId);\n        return list;\n    }\n\n    @CrossOrigin\n    @GetMapping(&quot;/byContactId/{contactId}&quot;)\n    public ContactInfo getContactById(@PathVariable Integer contactId) {\n        logger.info(&quot;Received request for ContactInfo for contactId: &quot;+contactId);\n        return contactInfoService.getContactById(contactId);\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","transactions"],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656614052,"creation_date":1656614052,"answer_id":72820545,"question_id":72820410,"body_markdown":"First of all, you can open more than 1 transaction within the same session. \r\n\r\nNow, flushing doesn&#39;t necessarily relate to transaction commit. When you `save()` an entity - it&#39;ll be flushed if you use Identity generation strategy. When you `select` something - Session will also flush (if flush mode is AUTO). And you can even tell Hibernate not to flush before transaction commits (flush mode MANUAL).\r\n\r\nTransactions are only responsible for ACID, it&#39;s a DB feature. While Session is responsible for managing entities, generating SQL, handling events. It&#39;s a Java thing.\r\n\r\nPS: Session isn&#39;t just a &quot;cache&quot;. It&#39;s also a way to track which entities are changed. So it&#39;s more than just an optimization trick.\r\n","title":"Hibernate Session vs Transaction","body":"<p>First of all, you can open more than 1 transaction within the same session.</p>\n<p>Now, flushing doesn't necessarily relate to transaction commit. When you <code>save()</code> an entity - it'll be flushed if you use Identity generation strategy. When you <code>select</code> something - Session will also flush (if flush mode is AUTO). And you can even tell Hibernate not to flush before transaction commits (flush mode MANUAL).</p>\n<p>Transactions are only responsible for ACID, it's a DB feature. While Session is responsible for managing entities, generating SQL, handling events. It's a Java thing.</p>\n<p>PS: Session isn't just a &quot;cache&quot;. It's also a way to track which entities are changed. So it's more than just an optimization trick.</p>\n"}],"owner":{"account_id":25693555,"reputation":31,"user_id":19454615,"display_name":"dev8872"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1656614052,"creation_date":1656613362,"question_id":72820410,"body_markdown":"I&#39;m a bit confused about the concept of Sessions and Transactions in Hibernate. \r\nAs far as i understand, Hibernate uses Sessions (Persistence Context), which is basically a Cache for Entitys that need to be persist, deleted or whatever in the Database.\r\nSessions encapsulate Transactions, so i start a Session, followed by creating a Transaction. After the Transaction is closed, everything from the Persistence Context is flushed to the Database.The same thing will happen, if i close the Session. \r\n\r\nWhy do i need both? Can i do the same without creating a Transaction?","title":"Hibernate Session vs Transaction","body":"<p>I'm a bit confused about the concept of Sessions and Transactions in Hibernate.\nAs far as i understand, Hibernate uses Sessions (Persistence Context), which is basically a Cache for Entitys that need to be persist, deleted or whatever in the Database.\nSessions encapsulate Transactions, so i start a Session, followed by creating a Transaction. After the Transaction is closed, everything from the Persistence Context is flushed to the Database.The same thing will happen, if i close the Session.</p>\n<p>Why do i need both? Can i do the same without creating a Transaction?</p>\n"},{"tags":["java","spring","hibernate","jpa","join"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656584510,"post_id":72813798,"comment_id":128611115,"body_markdown":"The query searches for all `FaqGroupEntity` where the `faqs.tags.language`  is X. You are not applying a filter to any children, only to the very parent. Not sure if you can even filter children with JPA. Hibernate has `@FilterDef` and `@Filter`, but these have to be enabled/disabled on a per use basis on the session","body":"The query searches for all <code>FaqGroupEntity</code> where the <code>faqs.tags.language</code>  is X. You are not applying a filter to any children, only to the very parent. Not sure if you can even filter children with JPA. Hibernate has <code>@FilterDef</code> and <code>@Filter</code>, but these have to be enabled/disabled on a per use basis on the session"},{"owner":{"account_id":15471867,"reputation":1,"user_id":11161662,"display_name":"MREugeneJ7"},"score":0,"creation_date":1656584787,"post_id":72813798,"comment_id":128611224,"body_markdown":"What I&#39;m wondering is how to also only retrieve the faqs.tag which are equal to that language and not all the tags","body":"What I&#39;m wondering is how to also only retrieve the faqs.tag which are equal to that language and not all the tags"},{"owner":{"account_id":971515,"reputation":1711,"user_id":994006,"accept_rate":75,"display_name":"Nice Books"},"score":0,"creation_date":1656585729,"post_id":72813798,"comment_id":128611564,"body_markdown":"Could you please post your `FaqGroupEntity` ?","body":"Could you please post your <code>FaqGroupEntity</code> ?"},{"owner":{"account_id":15471867,"reputation":1,"user_id":11161662,"display_name":"MREugeneJ7"},"score":0,"creation_date":1656588823,"post_id":72813798,"comment_id":128612638,"body_markdown":"Added on an edit","body":"Added on an edit"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1656597552,"post_id":72813798,"comment_id":128616171,"body_markdown":"It&#39;s not possible to filter a ToMany relationship with a query","body":"It&#39;s not possible to filter a ToMany relationship with a query"},{"owner":{"account_id":15471867,"reputation":1,"user_id":11161662,"display_name":"MREugeneJ7"},"score":0,"creation_date":1656613999,"post_id":72813798,"comment_id":128622146,"body_markdown":"How to do it then?","body":"How to do it then?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1656627215,"post_id":72813798,"comment_id":128625662,"body_markdown":"How to do what? The impossible?","body":"How to do what? The impossible?"}],"owner":{"account_id":15471867,"reputation":1,"user_id":11161662,"display_name":"MREugeneJ7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656613980,"creation_date":1656583014,"question_id":72813798,"body_markdown":"So I have a parent Class with two OneToMany child classes one of which have another two One to many child classes and I&#39;m executing the following query:\r\n\r\n``` \r\n@Query(&quot;Select distinct fg &quot;\r\n\t\t\t+ &quot; from FaqGroupEntity fg &quot;\r\n\t\t\t+ &quot; left join fg.names fgn &quot;\r\n\t\t\t+ &quot; left join fg.faqs f &quot;\r\n\t\t\t+ &quot; left join f.content fc &quot;\r\n\t\t\t+ &quot; left join f.tags ft &quot;\r\n\t\t\t+ &quot; where fgn.language.id = :language &quot;\r\n\t\t\t+ &quot; and  (fc.language.id is null or fc.language.id = :language) &quot;\r\n\t\t\t+ &quot; and (ft.language.id is null or ft.language.id = :language)&quot;)\r\n\tList&lt;FaqGroupEntity&gt; findAllByLanguage(@Param(&quot;language&quot;) int language); \r\n```\r\n\r\nIt seems to be doing the query right but it&#39;s populating each of the &quot;faq&quot; children with all the values regardless of language.\r\n\r\nHere&#39;s The FaqGroupEntity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;FAQ_GROUP&quot;)\r\n@Getter @Setter\r\npublic class FaqGroupEntity {\r\n\r\n\t@GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;UUID&quot;,\r\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n\t@Id\r\n    @Column(name = &quot;ID&quot;)\r\n\tprivate String id;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;group&quot; ,cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;FaqGroupNameEntity&gt; names;\r\n\t\r\n\t@OneToMany\r\n\t@JoinColumn(name = &quot;GROUP_ID&quot;)\r\n\tprivate List&lt;FaqEntity&gt; faqs;\r\n\t\r\n}\r\n\r\n\r\n```\r\n","title":"How to retrieve only the children which meet a criteria using query in a jpa repository","body":"<p>So I have a parent Class with two OneToMany child classes one of which have another two One to many child classes and I'm executing the following query:</p>\n<pre><code>@Query(&quot;Select distinct fg &quot;\n            + &quot; from FaqGroupEntity fg &quot;\n            + &quot; left join fg.names fgn &quot;\n            + &quot; left join fg.faqs f &quot;\n            + &quot; left join f.content fc &quot;\n            + &quot; left join f.tags ft &quot;\n            + &quot; where fgn.language.id = :language &quot;\n            + &quot; and  (fc.language.id is null or fc.language.id = :language) &quot;\n            + &quot; and (ft.language.id is null or ft.language.id = :language)&quot;)\n    List&lt;FaqGroupEntity&gt; findAllByLanguage(@Param(&quot;language&quot;) int language); \n</code></pre>\n<p>It seems to be doing the query right but it's populating each of the &quot;faq&quot; children with all the values regardless of language.</p>\n<p>Here's The FaqGroupEntity</p>\n<pre><code>@Entity\n@Table(name = &quot;FAQ_GROUP&quot;)\n@Getter @Setter\npublic class FaqGroupEntity {\n\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n        name = &quot;UUID&quot;,\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private String id;\n    \n    @OneToMany(mappedBy=&quot;group&quot; ,cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;FaqGroupNameEntity&gt; names;\n    \n    @OneToMany\n    @JoinColumn(name = &quot;GROUP_ID&quot;)\n    private List&lt;FaqEntity&gt; faqs;\n    \n}\n\n\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-connect","jmx"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656613920,"post_id":72809718,"comment_id":128622120,"body_markdown":"`172.17.x.x` is typically the Docker bridge network, not your host IP. Generally, people use Prometheus JMX Exporter. At least, that&#39;s what the Confluent Helm Charts use.","body":"<code>172.17.x.x</code> is typically the Docker bridge network, not your host IP. Generally, people use Prometheus JMX Exporter. At least, that&#39;s what the Confluent Helm Charts use."},{"owner":{"account_id":2802595,"reputation":3065,"user_id":2410547,"accept_rate":37,"display_name":"Ronaldo Lanhellas"},"score":0,"creation_date":1656685063,"post_id":72809718,"comment_id":128639381,"body_markdown":"My docker is running under 172.18.x.x network","body":"My docker is running under 172.18.x.x network"}],"owner":{"account_id":2802595,"reputation":3065,"user_id":2410547,"accept_rate":37,"display_name":"Ronaldo Lanhellas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656613957,"creation_date":1656556180,"question_id":72809718,"body_markdown":"I&#39;m trying to enable JMX in my kafka connect running under docker. I have the following configs in my docker-compose.yml:\r\n\r\n    version: &#39;2&#39;\r\n    services:\r\n      connect-oracle-jmx:\r\n        image: confluentinc/cp-kafka-connect:6.2.4\r\n        ports:\r\n         - 8085:8083\r\n         - 9001:9001\r\n        environment:\r\n         - CONNECT_BOOTSTRAP_SERVERS=kafka01:9093,kafka02:9093,kafka03:9093\r\n         - CONNECT_GROUP_ID=kafka_connect_oracle_cluster_jmx\r\n         - CONNECT_PLUGIN_PATH=/data/plugins\r\n         - CONNECT_CLIENT_ID=kafka_connect_oracle_cluster_client_jmx\r\n         - CONNECT_CONFIG_STORAGE_TOPIC=_kconnect-oracle-configs-jmx\r\n         - CONNECT_OFFSET_STORAGE_TOPIC=_kconnect-oracle-offsets-jmx\r\n         - CONNECT_STATUS_STORAGE_TOPIC=_kconnect-oracle-status-jmx\r\n         - CONNECT_KEY_CONVERTER=org.apache.kafka.connect.json.JsonConverter\r\n         - CONNECT_VALUE_CONVERTER=org.apache.kafka.connect.json.JsonConverter\r\n         - CONNECT_REST_ADVERTISED_HOST_NAME=&quot;kafka-connect&quot;\r\n         - CONNECT_PRODUCER_COMPRESSION_TYPE=gzip\r\n         - KAFKA_JMX_PORT=9001\r\n         - KAFKA_JMX_HOSTNAME=172.17.0.204\r\n        volumes:\r\n         - &quot;/home/uarol/connect/plugins:/data/plugins&quot;\r\n\r\nWell, the `172.17.0.204` is my host where docker is running. If I try `telnet` outside this host, it works normally:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut if I try use `jconsole` I got just blank screen without any error or message. I have entered in my docker container and get the command running under `ps -eaf`:\r\n\r\n    java -Xms256M -Xmx2G -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=172.17.0.204 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.rmi.port=9001 -Dcom.sun.management.jmxremote.port=9001 -Dcom.sun.management.jmxremote.port=9001 -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/connect-log4j.properties -cp /etc/kafka-connect/jars/*:/usr/share/java/kafka/*:/usr/share/java/confluent-common/*:/usr/share/java/kafka-serde-tools/*:/usr/share/java/monitoring-interceptors/*:/usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* org.apache.kafka.connect.cli.ConnectDistributed /etc/kafka-connect/kafka-connect.properties\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cYWyo.png\r\n\r\nAnd more, if I try `netstat -a | grep LISTEN | grep 9001` in host, it gives me an empty response. \r\n\r\nFor me, everything seems to be ok, what I&#39;m missing here?","title":"JMX port answer in telnet but didn&#39;t in jconsole","body":"<p>I'm trying to enable JMX in my kafka connect running under docker. I have the following configs in my docker-compose.yml:</p>\n<pre><code>version: '2'\nservices:\n  connect-oracle-jmx:\n    image: confluentinc/cp-kafka-connect:6.2.4\n    ports:\n     - 8085:8083\n     - 9001:9001\n    environment:\n     - CONNECT_BOOTSTRAP_SERVERS=kafka01:9093,kafka02:9093,kafka03:9093\n     - CONNECT_GROUP_ID=kafka_connect_oracle_cluster_jmx\n     - CONNECT_PLUGIN_PATH=/data/plugins\n     - CONNECT_CLIENT_ID=kafka_connect_oracle_cluster_client_jmx\n     - CONNECT_CONFIG_STORAGE_TOPIC=_kconnect-oracle-configs-jmx\n     - CONNECT_OFFSET_STORAGE_TOPIC=_kconnect-oracle-offsets-jmx\n     - CONNECT_STATUS_STORAGE_TOPIC=_kconnect-oracle-status-jmx\n     - CONNECT_KEY_CONVERTER=org.apache.kafka.connect.json.JsonConverter\n     - CONNECT_VALUE_CONVERTER=org.apache.kafka.connect.json.JsonConverter\n     - CONNECT_REST_ADVERTISED_HOST_NAME=&quot;kafka-connect&quot;\n     - CONNECT_PRODUCER_COMPRESSION_TYPE=gzip\n     - KAFKA_JMX_PORT=9001\n     - KAFKA_JMX_HOSTNAME=172.17.0.204\n    volumes:\n     - &quot;/home/uarol/connect/plugins:/data/plugins&quot;\n</code></pre>\n<p>Well, the <code>172.17.0.204</code> is my host where docker is running. If I try <code>telnet</code> outside this host, it works normally:</p>\n<p><a href=\"https://i.stack.imgur.com/cYWyo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cYWyo.png\" alt=\"enter image description here\" /></a></p>\n<p>But if I try use <code>jconsole</code> I got just blank screen without any error or message. I have entered in my docker container and get the command running under <code>ps -eaf</code>:</p>\n<pre><code>java -Xms256M -Xmx2G -server -XX:+UseG1GC -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35 -XX:+ExplicitGCInvokesConcurrent -XX:MaxInlineLevel=15 -Djava.awt.headless=true -Dcom.sun.management.jmxremote=true -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=172.17.0.204 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.rmi.port=9001 -Dcom.sun.management.jmxremote.port=9001 -Dcom.sun.management.jmxremote.port=9001 -Dkafka.logs.dir=/var/log/kafka -Dlog4j.configuration=file:/etc/kafka/connect-log4j.properties -cp /etc/kafka-connect/jars/*:/usr/share/java/kafka/*:/usr/share/java/confluent-common/*:/usr/share/java/kafka-serde-tools/*:/usr/share/java/monitoring-interceptors/*:/usr/bin/../share/java/kafka/*:/usr/bin/../share/java/confluent-telemetry/* org.apache.kafka.connect.cli.ConnectDistributed /etc/kafka-connect/kafka-connect.properties\n</code></pre>\n<p>And more, if I try <code>netstat -a | grep LISTEN | grep 9001</code> in host, it gives me an empty response.</p>\n<p>For me, everything seems to be ok, what I'm missing here?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656613880,"creation_date":1656613880,"answer_id":72820510,"question_id":72820306,"body_markdown":"If you scroll to the top of the document, you can see that using `org.hibernate.Query` is deprecated since 5.2. You can use `org.hibernate.query.Query` instead. [Here][1]&#39;s the new documentation.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/query/Query.html#setHint-java.lang.String-java.lang.Object-","title":"Deprecated: Hibernate setHint","body":"<p>If you scroll to the top of the document, you can see that using <code>org.hibernate.Query</code> is deprecated since 5.2. You can use <code>org.hibernate.query.Query</code> instead. <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/query/Query.html#setHint-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">Here</a>'s the new documentation.</p>\n"}],"owner":{"account_id":14484635,"reputation":523,"user_id":10462954,"display_name":"R0b1n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72820510,"answer_count":1,"score":2,"last_activity_date":1656613880,"creation_date":1656612789,"question_id":72820306,"body_markdown":"According to the Hibernate 5.2 [doc][1], Hibernate Query setHint is deprecated now. Is there an alternative to that now?\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Query.html#setHint-java.lang.String-java.lang.Object-","title":"Deprecated: Hibernate setHint","body":"<p>According to the Hibernate 5.2 <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/Query.html#setHint-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">doc</a>, Hibernate Query setHint is deprecated now. Is there an alternative to that now?</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656611947,"post_id":72820097,"comment_id":128621519,"body_markdown":"Don&#39;t use `ready()`, at least not in this context. A typical way to code this is to do: `String line; while ((line = br.readLine()) != null) { System.out.println(line); }`.","body":"Don&#39;t use <code>ready()</code>, at least not in this context. A typical way to code this is to do: <code>String line; while ((line = br.readLine()) != null) { System.out.println(line); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":25281712,"reputation":19,"user_id":19109494,"display_name":"nevermindhf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656612095,"creation_date":1656612058,"answer_id":72820186,"question_id":72820097,"body_markdown":"I think everyone does it in a different way (you could also read each byte using loops) but there is a way to read the whole file at once without loops\r\n\r\n    String file = new String(Files.readAllBytes(Paths.get(&quot;file&quot;)));\r\n\r\nYou can also use `Files.readAllLines` depending on what you want to do with data in file.\r\n\r\nedit. First comment under your question also shows a better way","title":"InputStream.ready() [method]","body":"<p>I think everyone does it in a different way (you could also read each byte using loops) but there is a way to read the whole file at once without loops</p>\n<pre><code>String file = new String(Files.readAllBytes(Paths.get(&quot;file&quot;)));\n</code></pre>\n<p>You can also use <code>Files.readAllLines</code> depending on what you want to do with data in file.</p>\n<p>edit. First comment under your question also shows a better way</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656613635,"creation_date":1656612587,"answer_id":72820275,"question_id":72820097,"body_markdown":"Here&#39;s the documentation of [`BufferedReader#ready()`][1]:\r\n\r\n&gt; Tells whether this stream is ready to be read. A buffered character stream is ready if the buffer is not empty, or if the underlying character stream is ready.\r\n&gt;\r\n&gt; _[...]_\r\n&gt;\r\n&gt; **Returns**:\r\n&gt;\r\n&gt; True if the next `read()` is guaranteed not to block for input, false otherwise. Note that returning false does not guarantee that the next read will block.\r\n\r\nSo, this method is about whether or not the next read will block. You&#39;re trying to read the whole file in one go, which means you don&#39;t really care if the next read will block. Worse, what if the reader is not ready? Your loop will break, you&#39;ll close the file, and the code will continue on without having read the whole source.\r\n\r\nA typical way to code what you&#39;re doing is:\r\n\r\n```lang-java\r\ntry (var reader = new BufferedReader(new FileReader(&quot;/some-file.txt&quot;))) {\r\n  String line;\r\n  while ((line = reader.readLine()) != null) {\r\n     System.out.println(line);\r\n  }\r\n}\r\n```\r\n\r\nSince `readLine()` is contracted to return `null` only when the end of the stream is reached.\r\n\r\nNote of caution though. The above did not specify a charset, which means the default charset is used (see documentation for [Java 17 and before][3] and [Java 18+][4]). You can use `FileReader(String,Charset)` to specify a charset.\r\n\r\n---\r\n\r\nThere&#39;s also the [`java.nio.file.*`][2] API that you can use to do the same thing. For example:\r\n\r\n```lang-java\r\ntry (var stream = Files.lines(Path.of(&quot;/some-file.txt&quot;))) {\r\n  stream.forEachOrdered(System.out::println);\r\n}\r\n```\r\n\r\nThe above uses the UTF-8 charset. You can use `Files#lines(Path,Charset)` to use a specific charset.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/BufferedReader.html#ready()\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/package-summary.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\r\n  [4]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()","title":"InputStream.ready() [method]","body":"<p>Here's the documentation of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/BufferedReader.html#ready()\" rel=\"nofollow noreferrer\"><code>BufferedReader#ready()</code></a>:</p>\n<blockquote>\n<p>Tells whether this stream is ready to be read. A buffered character stream is ready if the buffer is not empty, or if the underlying character stream is ready.</p>\n<p><em>[...]</em></p>\n<p><strong>Returns</strong>:</p>\n<p>True if the next <code>read()</code> is guaranteed not to block for input, false otherwise. Note that returning false does not guarantee that the next read will block.</p>\n</blockquote>\n<p>So, this method is about whether or not the next read will block. You're trying to read the whole file in one go, which means you don't really care if the next read will block. Worse, what if the reader is not ready? Your loop will break, you'll close the file, and the code will continue on without having read the whole source.</p>\n<p>A typical way to code what you're doing is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var reader = new BufferedReader(new FileReader(&quot;/some-file.txt&quot;))) {\n  String line;\n  while ((line = reader.readLine()) != null) {\n     System.out.println(line);\n  }\n}\n</code></pre>\n<p>Since <code>readLine()</code> is contracted to return <code>null</code> only when the end of the stream is reached.</p>\n<p>Note of caution though. The above did not specify a charset, which means the default charset is used (see documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">Java 17 and before</a> and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">Java 18+</a>). You can use <code>FileReader(String,Charset)</code> to specify a charset.</p>\n<hr />\n<p>There's also the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.nio.file.*</code></a> API that you can use to do the same thing. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var stream = Files.lines(Path.of(&quot;/some-file.txt&quot;))) {\n  stream.forEachOrdered(System.out::println);\n}\n</code></pre>\n<p>The above uses the UTF-8 charset. You can use <code>Files#lines(Path,Charset)</code> to use a specific charset.</p>\n"}],"owner":{"account_id":8826305,"reputation":149,"user_id":6594442,"display_name":"S. Denis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656613635,"creation_date":1656611612,"question_id":72820097,"body_markdown":"Can someone say that code below is good way to read all file? Maybe the first code block is using the `ready` method in a wrong way.\r\n\r\n    try (var br = new BufferedReader(new FileReader(&quot;/some-file.txt&quot;))) {\r\n     while (br.ready()) {\r\n       System.out.println(br.readLine());\r\n     }\r\n    }\r\n\r\nOr maybe is better approach to read file without method `ready`?\r\n\r\n    try (var br = new BufferedReader(new FileReader(&quot;/some-file.txt&quot;))) {\r\n      while (true) {\r\n         var line = br.readLine();\r\n         if (line == null) break;\r\n         System.out.println(line);\r\n     }\r\n    }\r\n\r\nI tested that two blocks and all blocks print all file content, but I&#39;ve never saw the first way over internet.","title":"InputStream.ready() [method]","body":"<p>Can someone say that code below is good way to read all file? Maybe the first code block is using the <code>ready</code> method in a wrong way.</p>\n<pre><code>try (var br = new BufferedReader(new FileReader(&quot;/some-file.txt&quot;))) {\n while (br.ready()) {\n   System.out.println(br.readLine());\n }\n}\n</code></pre>\n<p>Or maybe is better approach to read file without method <code>ready</code>?</p>\n<pre><code>try (var br = new BufferedReader(new FileReader(&quot;/some-file.txt&quot;))) {\n  while (true) {\n     var line = br.readLine();\n     if (line == null) break;\n     System.out.println(line);\n }\n}\n</code></pre>\n<p>I tested that two blocks and all blocks print all file content, but I've never saw the first way over internet.</p>\n"},{"tags":["java","android","admob","ads"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1641027476,"post_id":70542827,"comment_id":124708729,"body_markdown":"This `appOpenAd.show(currentActivity);` should be inside `onAdLoaded` if you want to show as soon as it is loaded or check out his library: https://github.com/ItzNotABug/AppOpenAdManager.","body":"This <code>appOpenAd.show(currentActivity);</code> should be inside <code>onAdLoaded</code> if you want to show as soon as it is loaded or check out his library: <a href=\"https://github.com/ItzNotABug/AppOpenAdManager\" rel=\"nofollow noreferrer\">github.com/ItzNotABug/AppOpenAdManager</a>."},{"owner":{"account_id":23174008,"reputation":65,"user_id":17272796,"display_name":"Zumatra Hia"},"score":0,"creation_date":1641038045,"post_id":70542827,"comment_id":124710226,"body_markdown":"I tried both options you suggested but both of them gives me the exact thing I already have. Ad only shows when it comes to foreground.","body":"I tried both options you suggested but both of them gives me the exact thing I already have. Ad only shows when it comes to foreground."},{"owner":{"account_id":23174008,"reputation":65,"user_id":17272796,"display_name":"Zumatra Hia"},"score":0,"creation_date":1641039402,"post_id":70542827,"comment_id":124710404,"body_markdown":"Thank you ,I made it work now. I added &quot;showAdOnFirstColdStart= true&quot; to parameters and it works now (Almost works as I wanted to ad loads like in 3-5 seconds but it shows on initial launch at least). Why didn&#39;t you make it true on default? Also your test id is for interstatial ads if it matters I don&#39;t know but thank you for this library. And your answer also.","body":"Thank you ,I made it work now. I added &quot;showAdOnFirstColdStart= true&quot; to parameters and it works now (Almost works as I wanted to ad loads like in 3-5 seconds but it shows on initial launch at least). Why didn&#39;t you make it true on default? Also your test id is for interstatial ads if it matters I don&#39;t know but thank you for this library. And your answer also."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1641065644,"post_id":70542827,"comment_id":124715218,"body_markdown":"Thanks for the Ad Unit catch!","body":"Thanks for the Ad Unit catch!"},{"owner":{"account_id":23174008,"reputation":65,"user_id":17272796,"display_name":"Zumatra Hia"},"score":0,"creation_date":1641204829,"post_id":70542827,"comment_id":124738376,"body_markdown":"How can i make it so app would flow from SplashActivity to MainActivity in the launch only when user touches the &quot;Continue to App&quot; Button?","body":"How can i make it so app would flow from SplashActivity to MainActivity in the launch only when user touches the &quot;Continue to App&quot; Button?"}],"answers":[{"tags":[],"owner":{"account_id":19324543,"reputation":144,"user_id":14127518,"display_name":"Tawhid Monowar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656613255,"creation_date":1656613255,"answer_id":72820390,"question_id":70542827,"body_markdown":"Add this code to your AppOpenManager\r\n\r\n        \r\n        import android.app.Activity\r\n        import androidx.lifecycle.Lifecycle.Event.ON_START\r\n        import android.app.Application\r\n        import android.os.Bundle\r\n        import android.content.Context\r\n        import android.util.Log\r\n        import androidx.lifecycle.LifecycleObserver\r\n        import androidx.lifecycle.OnLifecycleEvent\r\n        import androidx.lifecycle.ProcessLifecycleOwner\r\n        import com.google.android.gms.ads.AdError\r\n        import com.google.android.gms.ads.AdRequest\r\n        import com.google.android.gms.ads.FullScreenContentCallback\r\n        import com.google.android.gms.ads.LoadAdError\r\n        import com.google.android.gms.ads.appopen.AppOpenAd\r\n        import java.util.*\r\n        \r\n        class AppOpenManager (private var myApplication: MyApplication) : LifecycleObserver,Application.ActivityLifecycleCallbacks {\r\n            companion object {\r\n                private const val LOG_TAG = &quot;AppOpenManager&quot;\r\n                private const val AD_UNIT_ID = &quot;ca-app-pub-3940256099942544/3419835294&quot;\r\n            }\r\n            private var appOpenAd: AppOpenAd? = null\r\n            private lateinit var loadCallback: AppOpenAd.AppOpenAdLoadCallback\r\n            private var currentActivity : Activity? = null\r\n            private var isShowingAd : Boolean = false\r\n            private var loadTime:Long = 0\r\n            private var temp = 0\r\n        init{\r\n            this.myApplication.registerActivityLifecycleCallbacks(this)\r\n            ProcessLifecycleOwner.get().lifecycle.addObserver(this)\r\n        }\r\n    \r\n        @OnLifecycleEvent(ON_START)\r\n        fun onStart() {\r\n            showAdIfAvailable()\r\n            Log.d(LOG_TAG, &quot;onStart&quot;)\r\n        }\r\n    \r\n        fun showAdIfAvailable() {\r\n            // Only show ad if there is not already an app open ad currently showing\r\n            // and an ad is available.\r\n            if (!isShowingAd &amp;&amp; isAdAvailable())\r\n            {\r\n                Log.d(LOG_TAG, &quot;Will show ad.&quot;)\r\n                val fullScreenContentCallback = object: FullScreenContentCallback() {\r\n                    override fun onAdDismissedFullScreenContent() {\r\n                        // Set the reference to null so isAdAvailable() returns false.\r\n                        this@AppOpenManager.appOpenAd = null\r\n                        isShowingAd = false\r\n                        fetchAd()\r\n                    }\r\n                    override fun onAdFailedToShowFullScreenContent(adError: AdError) {}\r\n                    override fun onAdShowedFullScreenContent() {\r\n                        isShowingAd = true\r\n                    }\r\n                }\r\n                appOpenAd?.show(currentActivity, fullScreenContentCallback)\r\n            }\r\n            else\r\n            {\r\n                Log.d(LOG_TAG, &quot;Can not show ad.&quot;)\r\n                fetchAd()\r\n            }\r\n        }\r\n        /** Request an ad */\r\n        fun fetchAd() {\r\n            // We will implement this below.\r\n            if (isAdAvailable()) {\r\n                return\r\n            }\r\n            loadCallback = object:AppOpenAd.AppOpenAdLoadCallback() {\r\n                /**\r\n                 * Called when an app open ad has loaded.\r\n                 *\r\n                 * @param ad the loaded app open ad.\r\n                 */\r\n                override fun onAppOpenAdLoaded(ad:AppOpenAd) {\r\n    \r\n                    this@AppOpenManager.appOpenAd = ad\r\n                    this@AppOpenManager.loadTime = (Date()).getTime()\r\n    \r\n                    val fullScreenContentCallback = object: FullScreenContentCallback() {\r\n                        override fun onAdDismissedFullScreenContent() {\r\n                            // Set the reference to null so isAdAvailable() returns false.\r\n                            this@AppOpenManager.appOpenAd = null\r\n                            isShowingAd = false\r\n                            fetchAd()\r\n                        }\r\n                        override fun onAdFailedToShowFullScreenContent(adError: AdError) {}\r\n                        override fun onAdShowedFullScreenContent() {\r\n                            isShowingAd = true\r\n                        }\r\n                    }\r\n                    if(temp==0)\r\n                    {\r\n                        appOpenAd?.show(currentActivity, fullScreenContentCallback)\r\n                        temp=1\r\n                    }\r\n                }\r\n                /**\r\n                 * Called when an app open ad has failed to load.\r\n                 *\r\n                 * @param loadAdError the error.\r\n                 */\r\n                override fun onAppOpenAdFailedToLoad(loadAdError: LoadAdError) {\r\n                    // Handle the error.\r\n                }\r\n            }\r\n    \r\n            val request : AdRequest  = getAdRequest()\r\n            AppOpenAd.load(\r\n                myApplication, AD_UNIT_ID, request,\r\n                AppOpenAd.APP_OPEN_AD_ORIENTATION_PORTRAIT, loadCallback)\r\n        }\r\n    \r\n    \r\n        /** Creates and returns ad request. */\r\n        private fun getAdRequest():AdRequest {\r\n            return AdRequest.Builder().build()\r\n        }\r\n        /** Utility method that checks if ad exists and can be shown. */\r\n        fun isAdAvailable():Boolean {\r\n            return appOpenAd != null &amp;&amp; wasLoadTimeLessThanNHoursAgo(4)\r\n        }\r\n    \r\n        /** Utility method to check if ad was loaded more than n hours ago. */\r\n        private fun wasLoadTimeLessThanNHoursAgo(numHours:Long):Boolean {\r\n            val dateDifference = (Date()).time - this.loadTime\r\n            val numMilliSecondsPerHour:Long = 3600000\r\n            return (dateDifference &lt; (numMilliSecondsPerHour * numHours))\r\n        }\r\n    \r\n        override fun onActivityPaused(activity: Activity) {\r\n    \r\n        }\r\n    \r\n        override fun onActivityStarted(activity: Activity) {\r\n            currentActivity = activity\r\n        }\r\n    \r\n        override fun onActivityDestroyed(activity: Activity) {\r\n            currentActivity = null\r\n        }\r\n    \r\n        override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {\r\n    \r\n        }\r\n    \r\n        override fun onActivityStopped(activity: Activity) {\r\n    \r\n        }\r\n    \r\n        override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {\r\n    \r\n        }\r\n    \r\n        override fun onActivityResumed(activity: Activity) {\r\n            currentActivity = activity\r\n        }\r\n    }\r\n\r\n","title":"Can&#39;t make Admob App Open Ads to appear on app launch","body":"<p>Add this code to your AppOpenManager</p>\n<pre><code>    import android.app.Activity\n    import androidx.lifecycle.Lifecycle.Event.ON_START\n    import android.app.Application\n    import android.os.Bundle\n    import android.content.Context\n    import android.util.Log\n    import androidx.lifecycle.LifecycleObserver\n    import androidx.lifecycle.OnLifecycleEvent\n    import androidx.lifecycle.ProcessLifecycleOwner\n    import com.google.android.gms.ads.AdError\n    import com.google.android.gms.ads.AdRequest\n    import com.google.android.gms.ads.FullScreenContentCallback\n    import com.google.android.gms.ads.LoadAdError\n    import com.google.android.gms.ads.appopen.AppOpenAd\n    import java.util.*\n    \n    class AppOpenManager (private var myApplication: MyApplication) : LifecycleObserver,Application.ActivityLifecycleCallbacks {\n        companion object {\n            private const val LOG_TAG = &quot;AppOpenManager&quot;\n            private const val AD_UNIT_ID = &quot;ca-app-pub-3940256099942544/3419835294&quot;\n        }\n        private var appOpenAd: AppOpenAd? = null\n        private lateinit var loadCallback: AppOpenAd.AppOpenAdLoadCallback\n        private var currentActivity : Activity? = null\n        private var isShowingAd : Boolean = false\n        private var loadTime:Long = 0\n        private var temp = 0\n    init{\n        this.myApplication.registerActivityLifecycleCallbacks(this)\n        ProcessLifecycleOwner.get().lifecycle.addObserver(this)\n    }\n\n    @OnLifecycleEvent(ON_START)\n    fun onStart() {\n        showAdIfAvailable()\n        Log.d(LOG_TAG, &quot;onStart&quot;)\n    }\n\n    fun showAdIfAvailable() {\n        // Only show ad if there is not already an app open ad currently showing\n        // and an ad is available.\n        if (!isShowingAd &amp;&amp; isAdAvailable())\n        {\n            Log.d(LOG_TAG, &quot;Will show ad.&quot;)\n            val fullScreenContentCallback = object: FullScreenContentCallback() {\n                override fun onAdDismissedFullScreenContent() {\n                    // Set the reference to null so isAdAvailable() returns false.\n                    this@AppOpenManager.appOpenAd = null\n                    isShowingAd = false\n                    fetchAd()\n                }\n                override fun onAdFailedToShowFullScreenContent(adError: AdError) {}\n                override fun onAdShowedFullScreenContent() {\n                    isShowingAd = true\n                }\n            }\n            appOpenAd?.show(currentActivity, fullScreenContentCallback)\n        }\n        else\n        {\n            Log.d(LOG_TAG, &quot;Can not show ad.&quot;)\n            fetchAd()\n        }\n    }\n    /** Request an ad */\n    fun fetchAd() {\n        // We will implement this below.\n        if (isAdAvailable()) {\n            return\n        }\n        loadCallback = object:AppOpenAd.AppOpenAdLoadCallback() {\n            /**\n             * Called when an app open ad has loaded.\n             *\n             * @param ad the loaded app open ad.\n             */\n            override fun onAppOpenAdLoaded(ad:AppOpenAd) {\n\n                this@AppOpenManager.appOpenAd = ad\n                this@AppOpenManager.loadTime = (Date()).getTime()\n\n                val fullScreenContentCallback = object: FullScreenContentCallback() {\n                    override fun onAdDismissedFullScreenContent() {\n                        // Set the reference to null so isAdAvailable() returns false.\n                        this@AppOpenManager.appOpenAd = null\n                        isShowingAd = false\n                        fetchAd()\n                    }\n                    override fun onAdFailedToShowFullScreenContent(adError: AdError) {}\n                    override fun onAdShowedFullScreenContent() {\n                        isShowingAd = true\n                    }\n                }\n                if(temp==0)\n                {\n                    appOpenAd?.show(currentActivity, fullScreenContentCallback)\n                    temp=1\n                }\n            }\n            /**\n             * Called when an app open ad has failed to load.\n             *\n             * @param loadAdError the error.\n             */\n            override fun onAppOpenAdFailedToLoad(loadAdError: LoadAdError) {\n                // Handle the error.\n            }\n        }\n\n        val request : AdRequest  = getAdRequest()\n        AppOpenAd.load(\n            myApplication, AD_UNIT_ID, request,\n            AppOpenAd.APP_OPEN_AD_ORIENTATION_PORTRAIT, loadCallback)\n    }\n\n\n    /** Creates and returns ad request. */\n    private fun getAdRequest():AdRequest {\n        return AdRequest.Builder().build()\n    }\n    /** Utility method that checks if ad exists and can be shown. */\n    fun isAdAvailable():Boolean {\n        return appOpenAd != null &amp;&amp; wasLoadTimeLessThanNHoursAgo(4)\n    }\n\n    /** Utility method to check if ad was loaded more than n hours ago. */\n    private fun wasLoadTimeLessThanNHoursAgo(numHours:Long):Boolean {\n        val dateDifference = (Date()).time - this.loadTime\n        val numMilliSecondsPerHour:Long = 3600000\n        return (dateDifference &lt; (numMilliSecondsPerHour * numHours))\n    }\n\n    override fun onActivityPaused(activity: Activity) {\n\n    }\n\n    override fun onActivityStarted(activity: Activity) {\n        currentActivity = activity\n    }\n\n    override fun onActivityDestroyed(activity: Activity) {\n        currentActivity = null\n    }\n\n    override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {\n\n    }\n\n    override fun onActivityStopped(activity: Activity) {\n\n    }\n\n    override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {\n\n    }\n\n    override fun onActivityResumed(activity: Activity) {\n        currentActivity = activity\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23174008,"reputation":65,"user_id":17272796,"display_name":"Zumatra Hia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656613255,"creation_date":1640957713,"question_id":70542827,"body_markdown":"I&#39;m trying to implement Admob App Open Ads and did exactly what it says on Admob page. But ad doesn&#39;t open on app launch but it opens on if app minimized to background and bring back to foreground. I think this is the default Google implementation of app open ads. But I want to make app appear on app launch. Can you help me?\r\n\r\nThere is 2 classes that makes app open ads work. MyApplication and AppOpenManager classes.\r\n\r\n````\r\npublic class MyApplication extends Application {\r\n\r\n    private static AppOpenManager appOpenManager;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        MobileAds.initialize(\r\n                this,\r\n                initializationStatus -&gt; {});\r\n\r\n        appOpenManager = new AppOpenManager(this);\r\n\r\n    }\r\n}\r\n````\r\nand \r\n````\r\n/**\r\n * Prefetches App Open Ads.\r\n */\r\npublic class AppOpenManager implements LifecycleObserver,Application.ActivityLifecycleCallbacks {\r\n    private static final String LOG_TAG = &quot;AppOpenManager&quot;;\r\n    private static final String AD_UNIT_ID = &quot;ca-app-pub-7500195269906423/9767523313&quot;;\r\n    private AppOpenAd appOpenAd = null;\r\n    private Activity currentActivity;\r\n    private AppOpenAd.AppOpenAdLoadCallback loadCallback;\r\n    private final MyApplication myApplication;\r\n    private static boolean isShowingAd = false;\r\n\r\n    /**\r\n     * Constructor\r\n     */\r\n    public AppOpenManager(MyApplication myApplication) {\r\n        this.myApplication = myApplication;\r\n        this.myApplication.registerActivityLifecycleCallbacks(this);\r\n        ProcessLifecycleOwner.get().getLifecycle().addObserver(this);\r\n    }\r\n\r\n    /** LifecycleObserver methods */\r\n    @OnLifecycleEvent(ON_START)\r\n    public void onStart() {\r\n        showAdIfAvailable();\r\n        Log.d(LOG_TAG, &quot;onStart&quot;);\r\n    }\r\n\r\n\r\n    /** Shows the ad if one isn&#39;t already showing. */\r\n    public void showAdIfAvailable() {\r\n        // Only show ad if there is not already an app open ad currently showing\r\n        // and an ad is available.\r\n        if (!isShowingAd &amp;&amp; isAdAvailable()) {\r\n            Log.d(LOG_TAG, &quot;Will show ad.&quot;);\r\n\r\n            FullScreenContentCallback fullScreenContentCallback =\r\n                    new FullScreenContentCallback() {\r\n                        @Override\r\n                        public void onAdDismissedFullScreenContent() {\r\n                            // Set the reference to null so isAdAvailable() returns false.\r\n                            AppOpenManager.this.appOpenAd = null;\r\n                            isShowingAd = false;\r\n                            fetchAd();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onAdFailedToShowFullScreenContent(AdError adError) {}\r\n\r\n                        @Override\r\n                        public void onAdShowedFullScreenContent() {\r\n                            isShowingAd = true;\r\n                        }\r\n                    };\r\n\r\n            appOpenAd.setFullScreenContentCallback(fullScreenContentCallback);\r\n            appOpenAd.show(currentActivity);\r\n\r\n        } else {\r\n            Log.d(LOG_TAG, &quot;Can not show ad.&quot;);\r\n            fetchAd();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Request an ad\r\n     */\r\n    public void fetchAd() {\r\n        // Have unused ad, no need to fetch another.\r\n        if (isAdAvailable()) {\r\n            return;\r\n        }\r\n\r\n        loadCallback =\r\n                new AppOpenAd.AppOpenAdLoadCallback() {\r\n                    /**\r\n                     * Called when an app open ad has loaded.\r\n                     *\r\n                     * @param ad the loaded app open ad.\r\n                     */\r\n                    @Override\r\n                    public void onAdLoaded(AppOpenAd ad) {\r\n                        AppOpenManager.this.appOpenAd = ad;\r\n                    }\r\n\r\n                    /**\r\n                     * Called when an app open ad has failed to load.\r\n                     *\r\n                     * @param loadAdError the error.\r\n                     */\r\n                    @Override\r\n                    public void onAdFailedToLoad(LoadAdError loadAdError) {\r\n                        // Handle the error.\r\n                    }\r\n\r\n                };\r\n        AdRequest request = getAdRequest();\r\n        AppOpenAd.load(\r\n                myApplication, AD_UNIT_ID, request,\r\n                AppOpenAd.APP_OPEN_AD_ORIENTATION_PORTRAIT, loadCallback);\r\n\r\n    }\r\n\r\n    /**\r\n     * Creates and returns ad request.\r\n     */\r\n    private AdRequest getAdRequest() {\r\n        return new AdRequest.Builder().build();\r\n    }\r\n\r\n    /**\r\n     * Utility method that checks if ad exists and can be shown.\r\n     */\r\n    public boolean isAdAvailable() {\r\n        return appOpenAd != null;\r\n    }\r\n\r\n    /** ActivityLifecycleCallback methods */\r\n    @Override\r\n    public void onActivityCreated(Activity activity, Bundle savedInstanceState) {\r\n        currentActivity = activity;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityStarted(Activity activity) {\r\n        currentActivity = activity;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResumed(Activity activity) {\r\n        currentActivity = activity;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityStopped(Activity activity) {}\r\n\r\n    @Override\r\n    public void onActivityPaused(Activity activity) {}\r\n\r\n    @Override\r\n    public void onActivitySaveInstanceState(Activity activity, Bundle bundle) {}\r\n\r\n    @Override\r\n    public void onActivityDestroyed(Activity activity) {\r\n        currentActivity = null;\r\n    }\r\n\r\n}\r\n````","title":"Can&#39;t make Admob App Open Ads to appear on app launch","body":"<p>I'm trying to implement Admob App Open Ads and did exactly what it says on Admob page. But ad doesn't open on app launch but it opens on if app minimized to background and bring back to foreground. I think this is the default Google implementation of app open ads. But I want to make app appear on app launch. Can you help me?</p>\n<p>There is 2 classes that makes app open ads work. MyApplication and AppOpenManager classes.</p>\n<pre><code>public class MyApplication extends Application {\n\n    private static AppOpenManager appOpenManager;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        MobileAds.initialize(\n                this,\n                initializationStatus -&gt; {});\n\n        appOpenManager = new AppOpenManager(this);\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>/**\n * Prefetches App Open Ads.\n */\npublic class AppOpenManager implements LifecycleObserver,Application.ActivityLifecycleCallbacks {\n    private static final String LOG_TAG = &quot;AppOpenManager&quot;;\n    private static final String AD_UNIT_ID = &quot;ca-app-pub-7500195269906423/9767523313&quot;;\n    private AppOpenAd appOpenAd = null;\n    private Activity currentActivity;\n    private AppOpenAd.AppOpenAdLoadCallback loadCallback;\n    private final MyApplication myApplication;\n    private static boolean isShowingAd = false;\n\n    /**\n     * Constructor\n     */\n    public AppOpenManager(MyApplication myApplication) {\n        this.myApplication = myApplication;\n        this.myApplication.registerActivityLifecycleCallbacks(this);\n        ProcessLifecycleOwner.get().getLifecycle().addObserver(this);\n    }\n\n    /** LifecycleObserver methods */\n    @OnLifecycleEvent(ON_START)\n    public void onStart() {\n        showAdIfAvailable();\n        Log.d(LOG_TAG, &quot;onStart&quot;);\n    }\n\n\n    /** Shows the ad if one isn't already showing. */\n    public void showAdIfAvailable() {\n        // Only show ad if there is not already an app open ad currently showing\n        // and an ad is available.\n        if (!isShowingAd &amp;&amp; isAdAvailable()) {\n            Log.d(LOG_TAG, &quot;Will show ad.&quot;);\n\n            FullScreenContentCallback fullScreenContentCallback =\n                    new FullScreenContentCallback() {\n                        @Override\n                        public void onAdDismissedFullScreenContent() {\n                            // Set the reference to null so isAdAvailable() returns false.\n                            AppOpenManager.this.appOpenAd = null;\n                            isShowingAd = false;\n                            fetchAd();\n                        }\n\n                        @Override\n                        public void onAdFailedToShowFullScreenContent(AdError adError) {}\n\n                        @Override\n                        public void onAdShowedFullScreenContent() {\n                            isShowingAd = true;\n                        }\n                    };\n\n            appOpenAd.setFullScreenContentCallback(fullScreenContentCallback);\n            appOpenAd.show(currentActivity);\n\n        } else {\n            Log.d(LOG_TAG, &quot;Can not show ad.&quot;);\n            fetchAd();\n        }\n    }\n\n\n    /**\n     * Request an ad\n     */\n    public void fetchAd() {\n        // Have unused ad, no need to fetch another.\n        if (isAdAvailable()) {\n            return;\n        }\n\n        loadCallback =\n                new AppOpenAd.AppOpenAdLoadCallback() {\n                    /**\n                     * Called when an app open ad has loaded.\n                     *\n                     * @param ad the loaded app open ad.\n                     */\n                    @Override\n                    public void onAdLoaded(AppOpenAd ad) {\n                        AppOpenManager.this.appOpenAd = ad;\n                    }\n\n                    /**\n                     * Called when an app open ad has failed to load.\n                     *\n                     * @param loadAdError the error.\n                     */\n                    @Override\n                    public void onAdFailedToLoad(LoadAdError loadAdError) {\n                        // Handle the error.\n                    }\n\n                };\n        AdRequest request = getAdRequest();\n        AppOpenAd.load(\n                myApplication, AD_UNIT_ID, request,\n                AppOpenAd.APP_OPEN_AD_ORIENTATION_PORTRAIT, loadCallback);\n\n    }\n\n    /**\n     * Creates and returns ad request.\n     */\n    private AdRequest getAdRequest() {\n        return new AdRequest.Builder().build();\n    }\n\n    /**\n     * Utility method that checks if ad exists and can be shown.\n     */\n    public boolean isAdAvailable() {\n        return appOpenAd != null;\n    }\n\n    /** ActivityLifecycleCallback methods */\n    @Override\n    public void onActivityCreated(Activity activity, Bundle savedInstanceState) {\n        currentActivity = activity;\n    }\n\n    @Override\n    public void onActivityStarted(Activity activity) {\n        currentActivity = activity;\n    }\n\n    @Override\n    public void onActivityResumed(Activity activity) {\n        currentActivity = activity;\n    }\n\n    @Override\n    public void onActivityStopped(Activity activity) {}\n\n    @Override\n    public void onActivityPaused(Activity activity) {}\n\n    @Override\n    public void onActivitySaveInstanceState(Activity activity, Bundle bundle) {}\n\n    @Override\n    public void onActivityDestroyed(Activity activity) {\n        currentActivity = null;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","react-redux","multipartform-data"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656614964,"post_id":72820318,"comment_id":128622425,"body_markdown":"Are you getting any errors? What is the problem you are experiencing?","body":"Are you getting any errors? What is the problem you are experiencing?"},{"owner":{"account_id":18462248,"reputation":11,"user_id":13449414,"display_name":"debraj karmakar"},"score":0,"creation_date":1656675780,"post_id":72820318,"comment_id":128636021,"body_markdown":"yes, i am not able to send data in objects format in formdata to catch the request in backend","body":"yes, i am not able to send data in objects format in formdata to catch the request in backend"}],"owner":{"account_id":18462248,"reputation":11,"user_id":13449414,"display_name":"debraj karmakar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656612838,"creation_date":1656612838,"question_id":72820318,"body_markdown":"I am making a **[contact manager application][1]** similarly to phone contact applications.\r\n**Front End - React + Redux**\r\n**Backend - Spring Boot**\r\n\r\nProject Link - [https://github.com/debrajhyper/Personal-Contact-Manager][1]\r\n\r\nwhile Sending the **add_contact** data with Axios I am not able to receive data as expected in the backend.\r\nI want to send data as an **object of objects** which contains **pictures, strings, and objects**. So I have to use **formdata** but with formdata I cannot send objects in the backend as it converts all to strings and in the backend, I&#39;m using **@ModelAttribute** and **@RequestParam** to catch the request.\r\n\r\nI am using this **values usestate** to store the data in frontend\r\n```\r\nconst [values, setValues] = useState({\r\n        profilePic: &quot;&quot;,\r\n        profilePicURL: &quot;&quot;,\r\n        favorite: false,\r\n        name: &quot;&quot;,\r\n        nickName: &quot;&quot;,\r\n        title: &quot;&quot;,\r\n        company: &quot;&quot;,\r\n        email: &quot;&quot;,\r\n        telephoneNumber: {\r\n            code: &quot;&quot;,\r\n            number: &quot;&quot;\r\n        },\r\n        country: {\r\n            code: &quot;&quot;,\r\n            name: &quot;&quot;,\r\n            no: &quot;&quot;\r\n        },\r\n        dateOfBirth: &quot;&quot;,\r\n        address: &quot;&quot;,\r\n        relationship: &quot;&quot;,\r\n        zodiacSign: &quot;&quot;,\r\n        tags: [],\r\n        website: &quot;&quot;,\r\n        socialLinks: {\r\n            facebook: &quot;&quot;,\r\n            twitter: &quot;&quot;,\r\n            linkedIn: &quot;&quot;,\r\n            instagram: &quot;&quot;,\r\n            youtube: &quot;&quot;,\r\n        },\r\n        description: &quot;&quot;,\r\n    });\r\n```\r\n\r\n and on the redux side, I am generating requests with Axios\r\n```\r\nconst config = {\r\n    headers: {\r\n        &#39;content-type&#39;: &#39;multipart/form-data; boundary=&lt;calculated when request is sent&gt;&#39;\r\n    }\r\n}\r\n\r\nexport const addContact = (contact) =&gt; {\r\n    return dispatch =&gt; {\r\n        dispatch(contactRequest());\r\n\r\n         const createFormData = (data) =&gt; {\r\n             return Object.keys(data).reduce((formData, key) =&gt; {\r\n                  formData.append(key, data[key]);\r\n                  return formData;\r\n             }, new FormData());\r\n         };\r\n         const data = createFormData(contact);\r\n\r\n        axiosPrivate.post(&quot;http://localhost:1010/add-contact&quot;, data, config)\r\n        .then(response =&gt; {\r\n            dispatch(contactSuccess(response?.data));\r\n        })\r\n        .catch(error =&gt; {\r\n            dispatch(contactFailure(error?.response?.data?.message));\r\n            const errorMessage = error?.response?.data?.message?.length &gt; 100 ? &#39;Something went wrong&#39; : error?.response?.data?.message;\r\n        })\r\n    }\r\n};\r\n```\r\n\r\n------------------------------ **Modals** ------------------------------\r\n\r\n\r\nand on the backend the modal I used to store the data **Contact.java**\r\n```\r\npackage com.pcm.Model;\r\n\r\nimport java.sql.Date;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.Past;\r\n\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;contact&quot;)\r\npublic class Contact {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int cId;\r\n\t\r\n\tprivate String image;\r\n\t\r\n\tprivate boolean favorite;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\tprivate String nickName;\r\n\t\r\n\tprivate String title;\r\n\t\r\n\tprivate String company;\r\n\t\r\n\t@Column(unique = true)\r\n\tprivate String email;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;contact&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\tprivate ContactTelephoneNumber telephoneNumber;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;contact&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\tprivate ContactCountryName country;\r\n\t\r\n\t@JsonFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n\t@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n\t@Past(message = &quot;The date of birth must be in the past&quot;)\r\n\tprivate Date dateOfBirth;\r\n\t\r\n\tprivate String address;\r\n\t\r\n\tprivate String relationship;\r\n\t\r\n\tprivate String zodiacSign;\r\n\t\r\n\tprivate String[] tags;\r\n\r\n\t@Column(length = 9000)\r\n\tprivate String description;\r\n\t\r\n\tprivate String website;\r\n\t\r\n\t@Valid\r\n\t@OneToOne(mappedBy = &quot;contact&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\tprivate ContactSocialLinks socialLinks;\r\n\r\n\t@JsonIgnore\r\n\t@ManyToOne\r\n\tprivate User user;\r\n\r\n}\r\n```\r\n\r\nThe **ContactTelephoneNumber.java** Modal\r\n```\r\npackage com.pcm.Model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport lombok.Data;\r\n\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;telephone_number&quot;)\r\npublic class ContactTelephoneNumber {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\tprivate String code;\r\n\t\r\n\tprivate String number;\r\n\t\r\n\t@JsonIgnore\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;contact_id&quot;)\r\n\tprivate Contact contact;\r\n\t\r\n}\r\n```\r\n\r\n------------------------------ **Controller** ------------------------------\r\n\r\n```\r\npackage com.pcm.Controller;\r\n\r\nimport java.security.Principal;\r\nimport java.util.List;\r\n\r\nimport javax.validation.Valid;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport com.pcm.Model.Contact;\r\nimport com.pcm.Service.ContactService;\r\n\r\n\r\n@CrossOrigin(&quot;*&quot;)\r\n@RestController\r\npublic class ContactController {\r\n\t\r\n\t@Autowired\r\n\tprivate ContactService contactService;\r\n\t\r\n\t@PostMapping(&quot;/add-contact&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; addContact(@Valid @ModelAttribute Contact contact, @RequestParam(&quot;profilePic&quot;) MultipartFile profilePic, Principal principal ) throws Exception {\r\n\t\t\r\n\t\tString email = principal.getName();\r\n\t\t\r\n        User user = this.userRepository.findByUserName(email);\r\n\t\t\r\n\t\tList&lt;Contact&gt; contactsByUser = this.contactRepository.findContactsByUser(user.getId());\r\n\t\tListIterator&lt;Contact&gt; iterateContactList = contactsByUser.listIterator();\r\n\t\twhile(iterateContactList.hasNext()) {\r\n\t\t\tif(iterateContactList.next().getEmail().equals(contact.getEmail())) {\r\n\t\t    \t  throw new DuplicateKeyException(&quot;Contact already exist&quot;);\r\n\t\t\t}\r\n\t    }\r\n\t\t\r\n\t\tif(profilePic.isEmpty()) {\r\n\t\t\tSystem.out.println(&quot;IMAGE FILE EMPTY&quot;);\r\n\t\t\tcontact.setImage(&quot;default.png&quot;);\r\n\t\t} \r\n\t\telse if(!profilePic.getContentType().equals(&quot;image/jpeg&quot;) &amp;&amp; !profilePic.getContentType().equals(&quot;image/png&quot;)) {\r\n\t\t\tthrow new ValidationException(&quot;Only JPEG/PNG content type are allowed&quot;);\r\n\t\t} \r\n\t\telse {\r\n\t\t\tString imageName = contact.getCId() + &quot;_&quot; + profilePic.getOriginalFilename();\r\n\t\t\t\r\n\t\t\tcontact.setImage(imageName);\r\n\t\t\tSystem.out.println(&quot;PROFILE PIC IMAGE NAME -&gt; &quot; + imageName);\r\n\t\t\t\r\n\t\t\tFile saveFile = new ClassPathResource(&quot;static/upload/&quot;).getFile();\r\n\t\t\tPath path = Paths.get(saveFile.getAbsolutePath() + File.separator + imageName);\r\n\t\t\tSystem.out.println(&quot;IMAGE LOCATION -&gt; &quot; + path);\r\n\t\t\t\r\n\t\t\tFiles.copy(profilePic.getInputStream(), path, StandardCopyOption.REPLACE_EXISTING);\r\n\t\t\tSystem.out.println(&quot;IMAGE FILE SUCCESSFULLY UPLOADED&quot;);\r\n\t\t}\r\n\r\n\t\tif(contact.getTelephoneNumber() != null) {\r\n\t\t\tcontact.getTelephoneNumber().setContact(contact);\r\n\t\t}\r\n\t\tif(contact.getCountry() != null) {\r\n\t\t\tcontact.getCountry().setContact(contact);\r\n\t\t}\r\n\t\tif(contact.getSocialLinks() != null) {\r\n\t\t\tcontact.getSocialLinks().setContact(contact);\r\n\t\t}\r\n\t\t\r\n\t\tcontact.setUser(user);\r\n\t\t\r\n\t\tUser savedUserContact = this.userRepository.save(user);\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;String&gt;(&quot;Contact Added Successfully&quot;, HttpStatus.OK);\r\n\t}\r\n}\r\n```\r\n\r\nI want to send data as i mention in the **values usestate** as object of objects which contains file, strings and objects. And want to store the request in **Contact.java Modal**\r\n\r\nCan anyone help me in figuring out any solution.\r\nyou can look out my project in **[https://github.com/debrajhyper/Personal-Contact-Manager][1]**\r\n\r\n\r\n  [1]: https://github.com/debrajhyper/Personal-Contact-Manager","title":"Problem while Sending object of objects which contain file, strings, objects in the backend in react redux soring boot application","body":"<p>I am making a <strong><a href=\"https://github.com/debrajhyper/Personal-Contact-Manager\" rel=\"nofollow noreferrer\">contact manager application</a></strong> similarly to phone contact applications.\n<strong>Front End - React + Redux</strong>\n<strong>Backend - Spring Boot</strong></p>\n<p>Project Link - <a href=\"https://github.com/debrajhyper/Personal-Contact-Manager\" rel=\"nofollow noreferrer\">https://github.com/debrajhyper/Personal-Contact-Manager</a></p>\n<p>while Sending the <strong>add_contact</strong> data with Axios I am not able to receive data as expected in the backend.\nI want to send data as an <strong>object of objects</strong> which contains <strong>pictures, strings, and objects</strong>. So I have to use <strong>formdata</strong> but with formdata I cannot send objects in the backend as it converts all to strings and in the backend, I'm using <strong>@ModelAttribute</strong> and <strong>@RequestParam</strong> to catch the request.</p>\n<p>I am using this <strong>values usestate</strong> to store the data in frontend</p>\n<pre><code>const [values, setValues] = useState({\n        profilePic: &quot;&quot;,\n        profilePicURL: &quot;&quot;,\n        favorite: false,\n        name: &quot;&quot;,\n        nickName: &quot;&quot;,\n        title: &quot;&quot;,\n        company: &quot;&quot;,\n        email: &quot;&quot;,\n        telephoneNumber: {\n            code: &quot;&quot;,\n            number: &quot;&quot;\n        },\n        country: {\n            code: &quot;&quot;,\n            name: &quot;&quot;,\n            no: &quot;&quot;\n        },\n        dateOfBirth: &quot;&quot;,\n        address: &quot;&quot;,\n        relationship: &quot;&quot;,\n        zodiacSign: &quot;&quot;,\n        tags: [],\n        website: &quot;&quot;,\n        socialLinks: {\n            facebook: &quot;&quot;,\n            twitter: &quot;&quot;,\n            linkedIn: &quot;&quot;,\n            instagram: &quot;&quot;,\n            youtube: &quot;&quot;,\n        },\n        description: &quot;&quot;,\n    });\n</code></pre>\n<p>and on the redux side, I am generating requests with Axios</p>\n<pre><code>const config = {\n    headers: {\n        'content-type': 'multipart/form-data; boundary=&lt;calculated when request is sent&gt;'\n    }\n}\n\nexport const addContact = (contact) =&gt; {\n    return dispatch =&gt; {\n        dispatch(contactRequest());\n\n         const createFormData = (data) =&gt; {\n             return Object.keys(data).reduce((formData, key) =&gt; {\n                  formData.append(key, data[key]);\n                  return formData;\n             }, new FormData());\n         };\n         const data = createFormData(contact);\n\n        axiosPrivate.post(&quot;http://localhost:1010/add-contact&quot;, data, config)\n        .then(response =&gt; {\n            dispatch(contactSuccess(response?.data));\n        })\n        .catch(error =&gt; {\n            dispatch(contactFailure(error?.response?.data?.message));\n            const errorMessage = error?.response?.data?.message?.length &gt; 100 ? 'Something went wrong' : error?.response?.data?.message;\n        })\n    }\n};\n</code></pre>\n<p>------------------------------ <strong>Modals</strong> ------------------------------</p>\n<p>and on the backend the modal I used to store the data <strong>Contact.java</strong></p>\n<pre><code>package com.pcm.Model;\n\nimport java.sql.Date;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\nimport javax.validation.Valid;\nimport javax.validation.constraints.Past;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;contact&quot;)\npublic class Contact {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int cId;\n    \n    private String image;\n    \n    private boolean favorite;\n    \n    private String name;\n    \n    private String nickName;\n    \n    private String title;\n    \n    private String company;\n    \n    @Column(unique = true)\n    private String email;\n    \n    @OneToOne(mappedBy = &quot;contact&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private ContactTelephoneNumber telephoneNumber;\n    \n    @OneToOne(mappedBy = &quot;contact&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private ContactCountryName country;\n    \n    @JsonFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    @Past(message = &quot;The date of birth must be in the past&quot;)\n    private Date dateOfBirth;\n    \n    private String address;\n    \n    private String relationship;\n    \n    private String zodiacSign;\n    \n    private String[] tags;\n\n    @Column(length = 9000)\n    private String description;\n    \n    private String website;\n    \n    @Valid\n    @OneToOne(mappedBy = &quot;contact&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private ContactSocialLinks socialLinks;\n\n    @JsonIgnore\n    @ManyToOne\n    private User user;\n\n}\n</code></pre>\n<p>The <strong>ContactTelephoneNumber.java</strong> Modal</p>\n<pre><code>package com.pcm.Model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport lombok.Data;\n\n\n@Data\n@Entity\n@Table(name = &quot;telephone_number&quot;)\npublic class ContactTelephoneNumber {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    private String code;\n    \n    private String number;\n    \n    @JsonIgnore\n    @OneToOne\n    @JoinColumn(name = &quot;contact_id&quot;)\n    private Contact contact;\n    \n}\n</code></pre>\n<p>------------------------------ <strong>Controller</strong> ------------------------------</p>\n<pre><code>package com.pcm.Controller;\n\nimport java.security.Principal;\nimport java.util.List;\n\nimport javax.validation.Valid;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.pcm.Model.Contact;\nimport com.pcm.Service.ContactService;\n\n\n@CrossOrigin(&quot;*&quot;)\n@RestController\npublic class ContactController {\n    \n    @Autowired\n    private ContactService contactService;\n    \n    @PostMapping(&quot;/add-contact&quot;)\n    public ResponseEntity&lt;String&gt; addContact(@Valid @ModelAttribute Contact contact, @RequestParam(&quot;profilePic&quot;) MultipartFile profilePic, Principal principal ) throws Exception {\n        \n        String email = principal.getName();\n        \n        User user = this.userRepository.findByUserName(email);\n        \n        List&lt;Contact&gt; contactsByUser = this.contactRepository.findContactsByUser(user.getId());\n        ListIterator&lt;Contact&gt; iterateContactList = contactsByUser.listIterator();\n        while(iterateContactList.hasNext()) {\n            if(iterateContactList.next().getEmail().equals(contact.getEmail())) {\n                  throw new DuplicateKeyException(&quot;Contact already exist&quot;);\n            }\n        }\n        \n        if(profilePic.isEmpty()) {\n            System.out.println(&quot;IMAGE FILE EMPTY&quot;);\n            contact.setImage(&quot;default.png&quot;);\n        } \n        else if(!profilePic.getContentType().equals(&quot;image/jpeg&quot;) &amp;&amp; !profilePic.getContentType().equals(&quot;image/png&quot;)) {\n            throw new ValidationException(&quot;Only JPEG/PNG content type are allowed&quot;);\n        } \n        else {\n            String imageName = contact.getCId() + &quot;_&quot; + profilePic.getOriginalFilename();\n            \n            contact.setImage(imageName);\n            System.out.println(&quot;PROFILE PIC IMAGE NAME -&gt; &quot; + imageName);\n            \n            File saveFile = new ClassPathResource(&quot;static/upload/&quot;).getFile();\n            Path path = Paths.get(saveFile.getAbsolutePath() + File.separator + imageName);\n            System.out.println(&quot;IMAGE LOCATION -&gt; &quot; + path);\n            \n            Files.copy(profilePic.getInputStream(), path, StandardCopyOption.REPLACE_EXISTING);\n            System.out.println(&quot;IMAGE FILE SUCCESSFULLY UPLOADED&quot;);\n        }\n\n        if(contact.getTelephoneNumber() != null) {\n            contact.getTelephoneNumber().setContact(contact);\n        }\n        if(contact.getCountry() != null) {\n            contact.getCountry().setContact(contact);\n        }\n        if(contact.getSocialLinks() != null) {\n            contact.getSocialLinks().setContact(contact);\n        }\n        \n        contact.setUser(user);\n        \n        User savedUserContact = this.userRepository.save(user);\n        \n        return new ResponseEntity&lt;String&gt;(&quot;Contact Added Successfully&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I want to send data as i mention in the <strong>values usestate</strong> as object of objects which contains file, strings and objects. And want to store the request in <strong>Contact.java Modal</strong></p>\n<p>Can anyone help me in figuring out any solution.\nyou can look out my project in <strong><a href=\"https://github.com/debrajhyper/Personal-Contact-Manager\" rel=\"nofollow noreferrer\">https://github.com/debrajhyper/Personal-Contact-Manager</a></strong></p>\n"},{"tags":["java","android","webp","vp8","animated-webp"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648743436,"post_id":71695842,"comment_id":126707937,"body_markdown":"you expect answer in java then why have you added the Kotlin tag?","body":"you expect answer in java then why have you added the Kotlin tag?"},{"owner":{"account_id":17544324,"reputation":654,"user_id":12732411,"display_name":"UHS"},"score":0,"creation_date":1648752550,"post_id":71695842,"comment_id":126711178,"body_markdown":"kotlin and java are almost same can be used interchangeably.  :) This encoder is standalone and uses java classes so kotlin code will be fine. If someone gives answwer in kotlin code the answer is acceptable","body":"kotlin and java are almost same can be used interchangeably.  :) This encoder is standalone and uses java classes so kotlin code will be fine. If someone gives answwer in kotlin code the answer is acceptable"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648778658,"post_id":71695842,"comment_id":126716659,"body_markdown":"Ok. That is upto you","body":"Ok. That is upto you"}],"answers":[{"tags":[],"owner":{"account_id":17544324,"reputation":654,"user_id":12732411,"display_name":"UHS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648807756,"creation_date":1648798129,"answer_id":71703275,"question_id":71695842,"body_markdown":"Ok I found that resizing the bitmap causing the issue.\r\nI was able to encode frames if I skipped the resizing \r\n\r\n&gt;  public static Bitmap scalePreserveRatio(Bitmap imageToScale, int destinationWidth,\r\n        int destinationHeight) { \r\n\r\nSo this answer can solve the issue for them who do need resizing.\r\n\r\n# PS: Found the reason behind the issue and solution to mitigate the error. \r\n\r\n**Solution 1:**\r\n\r\n*setting ```Paint``` color as solid color.* \r\n\r\nColor.TRANSPARENT to Color.BLACK In ```paint.setColor(Color.TRANSPARENT);````  \r\n\r\n**Solution 2 and cause of the problem:**\r\n*Write code for reading ALPH chunks in WebP Encoder.*\r\n\r\nAuthor of the encoder says alpha channel is not supported. So you need to write code for ALPH. Currently code for ALPH is same as ICCP. So reading the alpha chunks will allow us to use Color.TRANSPARENT in paint. ","title":"Some animated webp files causing the Exception &quot;java.io.IOException: Not supported FourCC: .V.P.8&quot;","body":"<p>Ok I found that resizing the bitmap causing the issue.\nI was able to encode frames if I skipped the resizing</p>\n<blockquote>\n<p>public static Bitmap scalePreserveRatio(Bitmap imageToScale, int destinationWidth,\nint destinationHeight) {</p>\n</blockquote>\n<p>So this answer can solve the issue for them who do need resizing.</p>\n<h1>PS: Found the reason behind the issue and solution to mitigate the error.</h1>\n<p><strong>Solution 1:</strong></p>\n<p><em>setting <code>Paint</code> color as solid color.</em></p>\n<p>Color.TRANSPARENT to Color.BLACK In ```paint.setColor(Color.TRANSPARENT);````</p>\n<p><strong>Solution 2 and cause of the problem:</strong>\n<em>Write code for reading ALPH chunks in WebP Encoder.</em></p>\n<p>Author of the encoder says alpha channel is not supported. So you need to write code for ALPH. Currently code for ALPH is same as ICCP. So reading the alpha chunks will allow us to use Color.TRANSPARENT in paint.</p>\n"},{"tags":[],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656612624,"creation_date":1656612624,"answer_id":72820280,"question_id":71695842,"body_markdown":"I have read the codes in webp encoder and also read the google&#39;s specification of webp.\r\n\r\nThe encoder is missing the alpha chunk of VP8X. \r\nNeed to read verify if ALPH chunk exist on giveb position and get ALPH data.\r\nThen use those data to write to the image while encoding.\r\nAnd the reading writing must be done according to google&#39;s instruction about those bits.\r\n\r\nhttps://developers.google.com/speed/webp/docs/riff_container","title":"Some animated webp files causing the Exception &quot;java.io.IOException: Not supported FourCC: .V.P.8&quot;","body":"<p>I have read the codes in webp encoder and also read the google's specification of webp.</p>\n<p>The encoder is missing the alpha chunk of VP8X.\nNeed to read verify if ALPH chunk exist on giveb position and get ALPH data.\nThen use those data to write to the image while encoding.\nAnd the reading writing must be done according to google's instruction about those bits.</p>\n<p><a href=\"https://developers.google.com/speed/webp/docs/riff_container\" rel=\"nofollow noreferrer\">https://developers.google.com/speed/webp/docs/riff_container</a></p>\n"}],"owner":{"account_id":17544324,"reputation":654,"user_id":12732411,"display_name":"UHS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656612624,"creation_date":1648742922,"question_id":71695842,"body_markdown":"I am using webp encoder from [this][1]. The authur abandoned the project so no help from there. It had some issue like reading FourcC ICCP and ALPH. I added codes for them and now It can encode bitmaps to animated webp. \r\n\r\nBut the problem is some of animated webp files are throwing error ```Not supported FourC``` while encoding. \r\n\r\nHere How I use the encoder\r\n```java\r\n      WebpBitmapEncoder encoder = new WebpBitmapEncoder(destination);  \r\n      encoder.setLoops(0); // 0 = infinity.  \r\n      for(Bitmap bitmap:bitmap_array)  {\r\n          Bitmap bitmap2 = scalePreserveRatio(bitmap,512,512);\r\n          // Bitmap comp_bitmap = compress(new_bitmap);\r\n          encoder.setDuration(80);  \r\n          encoder.writeFrame(bitmap2, 80); \r\n      }\r\n      encoder.close();\r\n```\r\ndecoding:\r\n```java\r\n            val drawable = GlideApp.with(context).load(source_file).skipMemoryCache(true)\r\n                    .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n                    .submit().get() as WebpDrawable\r\n            drawable.constantState\r\n            val state = drawable.constantState as Drawable.ConstantState\r\n\r\n            val frameLoader: Field = state::class.java.getDeclaredField(&quot;frameLoader&quot;)\r\n            frameLoader.isAccessible = true\r\n\r\n            @Suppress(&quot;NULLABILITY_MISMATCH_BASED_ON_JAVA_ANNOTATIONS&quot;)\r\n            \r\n            val webpFrameLoader = frameLoader.get(state) as WebpFrameLoader\r\n            val webpDecoder: Field = webpFrameLoader.javaClass.getDeclaredField(&quot;webpDecoder&quot;)\r\n            webpDecoder.isAccessible = true\r\n            val standardGifDecoder = webpDecoder.get(webpFrameLoader) as GifDecoder\r\n            Log.d(&quot;ReactNative&quot;, &quot;got ${standardGifDecoder.frameCount} frames:&quot;)\r\n\r\n            for (i in 0 until standardGifDecoder.frameCount) {\r\n                val delay = standardGifDecoder.nextDelay\r\n                val bitmap = standardGifDecoder.nextFrame as Bitmap\r\n                  // bitmap\r\n                standardGifDecoder.advance()\r\n            }\r\n```\r\n\r\nResizing..  \r\n```java\r\n public static Bitmap scalePreserveRatio(Bitmap imageToScale, int destinationWidth,\r\n        int destinationHeight) {\r\n            // NOTE \r\n        if (destinationHeight &gt; 0 &amp;&amp; destinationWidth &gt; 0 &amp;&amp; imageToScale != null) {\r\n            int width = imageToScale.getWidth();\r\n            int height = imageToScale.getHeight();\r\n\r\n            //Calculate the max changing amount and decide which dimension to use\r\n            float widthRatio = (float) destinationWidth / (float) width;\r\n            float heightRatio = (float) destinationHeight / (float) height;\r\n\r\n            //Use the ratio that will fit the image into the desired sizes\r\n            int finalWidth = (int)Math.floor(width * widthRatio);\r\n            int finalHeight = (int)Math.floor(height * widthRatio);\r\n            if (finalWidth &gt; destinationWidth || finalHeight &gt; destinationHeight) {\r\n                finalWidth = (int)Math.floor(width * heightRatio);\r\n                finalHeight = (int)Math.floor(height * heightRatio);\r\n            }\r\n\r\n            //Scale given bitmap to fit into the desired area\r\n            imageToScale = Bitmap.createScaledBitmap(imageToScale, finalWidth, finalHeight, true);\r\n\r\n            //Created a bitmap with desired sizes\r\n            Bitmap scaledImage = Bitmap.createBitmap(destinationWidth, destinationHeight, Bitmap.Config.ARGB_8888);\r\n            Canvas canvas = new Canvas(scaledImage);\r\n\r\n            //Draw background color\r\n            Paint paint = new Paint();\r\n            paint.setColor(Color.TRANSPARENT);\r\n            paint.setStyle(Paint.Style.FILL);\r\n            canvas.drawRect(0, 0, canvas.getWidth(), canvas.getHeight(), paint);\r\n\r\n            //Calculate the ratios and decide which part will have empty areas (width or height)\r\n            float ratioBitmap = (float)finalWidth / (float)finalHeight;\r\n            float destinationRatio = (float) destinationWidth / (float) destinationHeight;\r\n            float left = ratioBitmap &gt;= destinationRatio ? 0 : (float)(destinationWidth - finalWidth) / 2;\r\n            float top = ratioBitmap &lt; destinationRatio ? 0: (float)(destinationHeight - finalHeight) / 2;\r\n            canvas.drawBitmap(imageToScale, left, top, null);\r\n\r\n            return scaledImage;\r\n        } else {\r\n            return imageToScale;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nAnd the location of the error in encoder is  ```read()``` from where errro is being thrown :\r\n```java\r\npackage com.n4no.webpencoder.webp.muxer;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.util.BitSet;\r\n\r\n/**\r\n * @author Bartlomiej Tadych, b4rtaz\r\n */\r\npublic class WebpContainerReader {\r\n\r\n\tprivate final InputStream _inputStream;\r\n\tprivate final boolean _debug;\r\n\tprivate int _fileSize;\r\n\tprivate int _offset;\r\n\r\n\tpublic WebpContainerReader(InputStream inputStream, boolean debug) {\r\n\t\t_inputStream = inputStream;\r\n\t\t_debug = debug;\r\n\t}\r\n\r\n\tpublic void close() throws IOException {\r\n\t}\r\n\r\n\tpublic void readHeader() throws IOException {\r\n\t\tbyte[] fcc = new byte[4];\r\n\r\n\t\tread(fcc, 4);\r\n\t\tif (!isFourCc(fcc, &#39;R&#39;, &#39;I&#39;, &#39;F&#39;, &#39;F&#39;))\r\n\t\t\tthrow new IOException(&quot;Expected RIFF file.&quot;);\r\n\r\n\t\t_fileSize = readUInt32() + 8 - 1;\r\n\r\n\t\tread(fcc, 4);\r\n\t\tif (!isFourCc(fcc, &#39;W&#39;, &#39;E&#39;, &#39;B&#39;, &#39;P&#39;))\r\n\t\t\tthrow new IOException(&quot;Expected Webp file.&quot;);\r\n\t}\r\n\r\n\tpublic WebpChunk read() throws IOException {\r\n\t\tbyte[] fcc = new byte[4];\r\n\r\n\t\tif (read(fcc, 4) &gt; 0) {\r\n\t\t\tif (isFourCc(fcc, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39;))\r\n\t\t\t\treturn readVp8();\r\n\t\t\tif (isFourCc(fcc, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39;))\r\n\t\t\t\treturn readVp8l();\r\n\t\t\tif (isFourCc(fcc, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;X&#39;))\r\n\t\t\t\treturn readVp8x();\r\n\t\t\tif (isFourCc(fcc, &#39;A&#39;, &#39;N&#39;, &#39;I&#39;, &#39;M&#39;))\r\n\t\t\t\treturn readAnim();\r\n\t\t\tif (isFourCc(fcc, &#39;A&#39;, &#39;N&#39;, &#39;M&#39;, &#39;F&#39;))\r\n\t\t\t\treturn readAnmf();\r\n\t\t\tif (isFourCc(fcc, &#39;I&#39;, &#39;C&#39;, &#39;C&#39;, &#39;P&#39;))\r\n                return readIccp();\r\n\t\t\tif (isFourCc(fcc, &#39;A&#39;, &#39;L&#39;, &#39;P&#39;, &#39;H&#39;))\r\n\t\t\t\treturn readAlph();\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\tthrow new IOException(String.format(&quot;Not supported FourCC: %c.%c.%c.%c.&quot;,\r\n\t\t\t\t\tfcc[0], fcc[1], fcc[2], fcc[3]));\r\n\t\t}\r\n\r\n\t\tif (_fileSize != _offset)\r\n\t\t\tthrow new IOException(String.format(&quot;Header has wrong file size: %d, expected: %d&quot;, \r\n\t\t\t\t\t_fileSize, _offset));\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate WebpChunk readVp8x() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\t\tif (chunkSize != 10)\r\n\t\t\tthrow new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\r\n\r\n\t\tbyte[] flags = new byte[4];\r\n\t\tread(flags, 4);\r\n\t\tBitSet bs = BitSet.valueOf(flags);\r\n\r\n\t\tchunk.hasIccp = bs.get(0);\r\n\t\tchunk.hasAnim = bs.get(1);\r\n\t\tchunk.hasExif = bs.get(2);\r\n\t\tchunk.hasXmp = bs.get(3);\r\n\t\tchunk.hasAlpha = bs.get(4);\r\n\r\n\t\tchunk.width = readUInt24();\r\n\t\tchunk.height = readUInt24();\r\n\r\n\t\tdebug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate byte[] readPayload(int bytes) throws IOException {\r\n\t\tbyte[] payload = new byte[bytes];\r\n\t\tif (read(payload, bytes) != bytes)\r\n\t\t\tthrow new IOException(&quot;Can not read all bytes.&quot;);\r\n\t\treturn payload;\r\n\t}\r\n\r\n\tprivate WebpChunk readVp8() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\r\n\t\tchunk.isLossless = false;\r\n\t\tchunk.payload = readPayload(chunkSize);\r\n\r\n\t\tdebug(String.format(&quot;VP8: bytes = %d&quot;, chunkSize));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readVp8l() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\r\n\t\tchunk.isLossless = true;\r\n\t\tchunk.payload = readPayload(chunkSize);\r\n\r\n\t\tdebug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readAnim() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\t\tif (chunkSize != 6)\r\n\t\t\tthrow new IOException(&quot;Expected 6 bytes for ANIM.&quot;);\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.ANIM);\r\n\t\tchunk.background = readUInt32();\r\n\t\tchunk.loops = readUInt16();\r\n\r\n\t\tdebug(String.format(&quot;ANIM: loops = %d&quot;, chunk.loops));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readAnmf() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.ANMF);\r\n\t\tchunk.x = readUInt24();\r\n\t\tchunk.y = readUInt24();\r\n\t\tchunk.width = readUInt24();\r\n\t\tchunk.height = readUInt24();\r\n\t\tchunk.duration = readUInt24();\r\n\r\n\t\tbyte[] flags = new byte[1];\r\n\t\tread(flags, 1);\r\n\t\tBitSet bs = BitSet.valueOf(flags);\r\n\t\tchunk.useAlphaBlending = bs.get(1);\r\n\t\tchunk.disposeToBackgroundColor = bs.get(0);\r\n\r\n\t\tbyte[] cch = new byte[4];\r\n\t\tread(cch, 4);\r\n\t\tif (isFourCc(cch, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39;))\r\n\t\t\tchunk.isLossless = true;\r\n\t\telse if (isFourCc(cch, &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39;))\r\n\t\t\tchunk.isLossless = false;\r\n\t\telse\r\n\t\t\tthrow new IOException(&quot;Not supported ANMF payload.&quot;);\r\n\r\n\t\treadUInt32(); // Payload size.\r\n\t\tint payloadSize = chunkSize - 24;\r\n\t\tchunk.payload = readPayload(payloadSize);\r\n\r\n\t\tdebug(String.format(&quot;ANMF: size = %dx%d, offset = %dx%d, duration = %d, bytes = %d&quot;,\r\n\t\t\t\tchunk.width, chunk.height, chunk.x, chunk.y, chunk.duration, payloadSize));\r\n\t\treturn chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readIccp() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\r\n        chunk.isLossless = false;\r\n        readPayload(chunkSize);\r\n        chunk.payload = null;\r\n        debug(String.format(&quot;iccp: bytes = %d&quot;, chunkSize));\r\n        return chunk;\r\n\t}\r\n\r\n\tprivate WebpChunk readAlph() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\r\n        chunk.isLossless = false;\r\n        readPayload(chunkSize);\r\n        chunk.payload = null;\r\n        debug(String.format(&quot;alph: bytes = %d&quot;, chunkSize));\r\n        return chunk;\r\n\t}\r\n\t//\r\n\r\n\tprivate final int read(byte[] buffer, int bytes) throws IOException {\r\n\t\tint count = _inputStream.read(buffer, 0, bytes);\r\n\t\t_offset += count;\r\n\t\treturn count;\r\n\t}\r\n\r\n\tprivate final int readUint(int bytes) throws IOException {\r\n\t\tbyte[] b = new byte[] { 0, 0, 0, 0 };\r\n\t\tread(b, bytes);\r\n\t\treturn ByteBuffer.wrap(b, 0, 4).order(ByteOrder.LITTLE_ENDIAN).getInt();\r\n\t}\r\n\r\n\tprivate final int readUInt32() throws IOException {\r\n\t\treturn readUint(4);\r\n\t}\r\n\r\n\tprivate final int readUInt24() throws IOException {\r\n\t\treturn readUint(3);\r\n\t}\r\n\r\n\tprivate final int readUInt16() throws IOException {\r\n\t\treturn readUint(2);\r\n\t}\r\n\r\n\tprivate boolean isFourCc(byte[] h, char a, char b, char c, char d) {\r\n\t\treturn h[0] == a &amp;&amp; h[1] == b &amp;&amp; h[2] == c &amp;&amp; h[3] == d;\r\n\t}\r\n\r\n\tprivate void debug(String message) {\r\n\t\tif (_debug)\r\n\t\t\tSystem.out.println(message);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nrest of related files are here on sandbox.\r\nhttps://codesandbox.io/s/polished-water-hl32ud?file=/app/muxer/WebpMuxer.java\r\n\r\nwithout using ```scalePreserveRatio()``` All webp files gets encoded without fail. The scaling function is the culprit here.\r\n\r\nI want to resize and encode these animated webp files. How would I fix this exception.\r\n\r\n  [1]: https://github.com/b4rtaz/android-webp-encoder","title":"Some animated webp files causing the Exception &quot;java.io.IOException: Not supported FourCC: .V.P.8&quot;","body":"<p>I am using webp encoder from <a href=\"https://github.com/b4rtaz/android-webp-encoder\" rel=\"nofollow noreferrer\">this</a>. The authur abandoned the project so no help from there. It had some issue like reading FourcC ICCP and ALPH. I added codes for them and now It can encode bitmaps to animated webp.</p>\n<p>But the problem is some of animated webp files are throwing error <code>Not supported FourC</code> while encoding.</p>\n<p>Here How I use the encoder</p>\n<pre class=\"lang-java prettyprint-override\"><code>      WebpBitmapEncoder encoder = new WebpBitmapEncoder(destination);  \n      encoder.setLoops(0); // 0 = infinity.  \n      for(Bitmap bitmap:bitmap_array)  {\n          Bitmap bitmap2 = scalePreserveRatio(bitmap,512,512);\n          // Bitmap comp_bitmap = compress(new_bitmap);\n          encoder.setDuration(80);  \n          encoder.writeFrame(bitmap2, 80); \n      }\n      encoder.close();\n</code></pre>\n<p>decoding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            val drawable = GlideApp.with(context).load(source_file).skipMemoryCache(true)\n                    .diskCacheStrategy(DiskCacheStrategy.NONE)\n                    .submit().get() as WebpDrawable\n            drawable.constantState\n            val state = drawable.constantState as Drawable.ConstantState\n\n            val frameLoader: Field = state::class.java.getDeclaredField(&quot;frameLoader&quot;)\n            frameLoader.isAccessible = true\n\n            @Suppress(&quot;NULLABILITY_MISMATCH_BASED_ON_JAVA_ANNOTATIONS&quot;)\n            \n            val webpFrameLoader = frameLoader.get(state) as WebpFrameLoader\n            val webpDecoder: Field = webpFrameLoader.javaClass.getDeclaredField(&quot;webpDecoder&quot;)\n            webpDecoder.isAccessible = true\n            val standardGifDecoder = webpDecoder.get(webpFrameLoader) as GifDecoder\n            Log.d(&quot;ReactNative&quot;, &quot;got ${standardGifDecoder.frameCount} frames:&quot;)\n\n            for (i in 0 until standardGifDecoder.frameCount) {\n                val delay = standardGifDecoder.nextDelay\n                val bitmap = standardGifDecoder.nextFrame as Bitmap\n                  // bitmap\n                standardGifDecoder.advance()\n            }\n</code></pre>\n<p>Resizing..</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static Bitmap scalePreserveRatio(Bitmap imageToScale, int destinationWidth,\n        int destinationHeight) {\n            // NOTE \n        if (destinationHeight &gt; 0 &amp;&amp; destinationWidth &gt; 0 &amp;&amp; imageToScale != null) {\n            int width = imageToScale.getWidth();\n            int height = imageToScale.getHeight();\n\n            //Calculate the max changing amount and decide which dimension to use\n            float widthRatio = (float) destinationWidth / (float) width;\n            float heightRatio = (float) destinationHeight / (float) height;\n\n            //Use the ratio that will fit the image into the desired sizes\n            int finalWidth = (int)Math.floor(width * widthRatio);\n            int finalHeight = (int)Math.floor(height * widthRatio);\n            if (finalWidth &gt; destinationWidth || finalHeight &gt; destinationHeight) {\n                finalWidth = (int)Math.floor(width * heightRatio);\n                finalHeight = (int)Math.floor(height * heightRatio);\n            }\n\n            //Scale given bitmap to fit into the desired area\n            imageToScale = Bitmap.createScaledBitmap(imageToScale, finalWidth, finalHeight, true);\n\n            //Created a bitmap with desired sizes\n            Bitmap scaledImage = Bitmap.createBitmap(destinationWidth, destinationHeight, Bitmap.Config.ARGB_8888);\n            Canvas canvas = new Canvas(scaledImage);\n\n            //Draw background color\n            Paint paint = new Paint();\n            paint.setColor(Color.TRANSPARENT);\n            paint.setStyle(Paint.Style.FILL);\n            canvas.drawRect(0, 0, canvas.getWidth(), canvas.getHeight(), paint);\n\n            //Calculate the ratios and decide which part will have empty areas (width or height)\n            float ratioBitmap = (float)finalWidth / (float)finalHeight;\n            float destinationRatio = (float) destinationWidth / (float) destinationHeight;\n            float left = ratioBitmap &gt;= destinationRatio ? 0 : (float)(destinationWidth - finalWidth) / 2;\n            float top = ratioBitmap &lt; destinationRatio ? 0: (float)(destinationHeight - finalHeight) / 2;\n            canvas.drawBitmap(imageToScale, left, top, null);\n\n            return scaledImage;\n        } else {\n            return imageToScale;\n        }\n    }\n\n</code></pre>\n<p>And the location of the error in encoder is  <code>read()</code> from where errro is being thrown :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.n4no.webpencoder.webp.muxer;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.util.BitSet;\n\n/**\n * @author Bartlomiej Tadych, b4rtaz\n */\npublic class WebpContainerReader {\n\n    private final InputStream _inputStream;\n    private final boolean _debug;\n    private int _fileSize;\n    private int _offset;\n\n    public WebpContainerReader(InputStream inputStream, boolean debug) {\n        _inputStream = inputStream;\n        _debug = debug;\n    }\n\n    public void close() throws IOException {\n    }\n\n    public void readHeader() throws IOException {\n        byte[] fcc = new byte[4];\n\n        read(fcc, 4);\n        if (!isFourCc(fcc, 'R', 'I', 'F', 'F'))\n            throw new IOException(&quot;Expected RIFF file.&quot;);\n\n        _fileSize = readUInt32() + 8 - 1;\n\n        read(fcc, 4);\n        if (!isFourCc(fcc, 'W', 'E', 'B', 'P'))\n            throw new IOException(&quot;Expected Webp file.&quot;);\n    }\n\n    public WebpChunk read() throws IOException {\n        byte[] fcc = new byte[4];\n\n        if (read(fcc, 4) &gt; 0) {\n            if (isFourCc(fcc, 'V', 'P', '8', ' '))\n                return readVp8();\n            if (isFourCc(fcc, 'V', 'P', '8', 'L'))\n                return readVp8l();\n            if (isFourCc(fcc, 'V', 'P', '8', 'X'))\n                return readVp8x();\n            if (isFourCc(fcc, 'A', 'N', 'I', 'M'))\n                return readAnim();\n            if (isFourCc(fcc, 'A', 'N', 'M', 'F'))\n                return readAnmf();\n            if (isFourCc(fcc, 'I', 'C', 'C', 'P'))\n                return readIccp();\n            if (isFourCc(fcc, 'A', 'L', 'P', 'H'))\n                return readAlph();\n            \n                \n            throw new IOException(String.format(&quot;Not supported FourCC: %c.%c.%c.%c.&quot;,\n                    fcc[0], fcc[1], fcc[2], fcc[3]));\n        }\n\n        if (_fileSize != _offset)\n            throw new IOException(String.format(&quot;Header has wrong file size: %d, expected: %d&quot;, \n                    _fileSize, _offset));\n        return null;\n    }\n\n    private WebpChunk readVp8x() throws IOException {\n        int chunkSize = readUInt32();\n        if (chunkSize != 10)\n            throw new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\n\n        byte[] flags = new byte[4];\n        read(flags, 4);\n        BitSet bs = BitSet.valueOf(flags);\n\n        chunk.hasIccp = bs.get(0);\n        chunk.hasAnim = bs.get(1);\n        chunk.hasExif = bs.get(2);\n        chunk.hasXmp = bs.get(3);\n        chunk.hasAlpha = bs.get(4);\n\n        chunk.width = readUInt24();\n        chunk.height = readUInt24();\n\n        debug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\n        return chunk;\n    }\n\n    private byte[] readPayload(int bytes) throws IOException {\n        byte[] payload = new byte[bytes];\n        if (read(payload, bytes) != bytes)\n            throw new IOException(&quot;Can not read all bytes.&quot;);\n        return payload;\n    }\n\n    private WebpChunk readVp8() throws IOException {\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\n        chunk.isLossless = false;\n        chunk.payload = readPayload(chunkSize);\n\n        debug(String.format(&quot;VP8: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n\n    private WebpChunk readVp8l() throws IOException {\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\n        chunk.isLossless = true;\n        chunk.payload = readPayload(chunkSize);\n\n        debug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n\n    private WebpChunk readAnim() throws IOException {\n        int chunkSize = readUInt32();\n        if (chunkSize != 6)\n            throw new IOException(&quot;Expected 6 bytes for ANIM.&quot;);\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.ANIM);\n        chunk.background = readUInt32();\n        chunk.loops = readUInt16();\n\n        debug(String.format(&quot;ANIM: loops = %d&quot;, chunk.loops));\n        return chunk;\n    }\n\n    private WebpChunk readAnmf() throws IOException {\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.ANMF);\n        chunk.x = readUInt24();\n        chunk.y = readUInt24();\n        chunk.width = readUInt24();\n        chunk.height = readUInt24();\n        chunk.duration = readUInt24();\n\n        byte[] flags = new byte[1];\n        read(flags, 1);\n        BitSet bs = BitSet.valueOf(flags);\n        chunk.useAlphaBlending = bs.get(1);\n        chunk.disposeToBackgroundColor = bs.get(0);\n\n        byte[] cch = new byte[4];\n        read(cch, 4);\n        if (isFourCc(cch, 'V', 'P', '8', 'L'))\n            chunk.isLossless = true;\n        else if (isFourCc(cch, 'V', 'P', '8', ' '))\n            chunk.isLossless = false;\n        else\n            throw new IOException(&quot;Not supported ANMF payload.&quot;);\n\n        readUInt32(); // Payload size.\n        int payloadSize = chunkSize - 24;\n        chunk.payload = readPayload(payloadSize);\n\n        debug(String.format(&quot;ANMF: size = %dx%d, offset = %dx%d, duration = %d, bytes = %d&quot;,\n                chunk.width, chunk.height, chunk.x, chunk.y, chunk.duration, payloadSize));\n        return chunk;\n    }\n\n    private WebpChunk readIccp() throws IOException {\n        int chunkSize = readUInt32();\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\n        chunk.isLossless = false;\n        readPayload(chunkSize);\n        chunk.payload = null;\n        debug(String.format(&quot;iccp: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n\n    private WebpChunk readAlph() throws IOException {\n        int chunkSize = readUInt32();\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8);\n        chunk.isLossless = false;\n        readPayload(chunkSize);\n        chunk.payload = null;\n        debug(String.format(&quot;alph: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n    //\n\n    private final int read(byte[] buffer, int bytes) throws IOException {\n        int count = _inputStream.read(buffer, 0, bytes);\n        _offset += count;\n        return count;\n    }\n\n    private final int readUint(int bytes) throws IOException {\n        byte[] b = new byte[] { 0, 0, 0, 0 };\n        read(b, bytes);\n        return ByteBuffer.wrap(b, 0, 4).order(ByteOrder.LITTLE_ENDIAN).getInt();\n    }\n\n    private final int readUInt32() throws IOException {\n        return readUint(4);\n    }\n\n    private final int readUInt24() throws IOException {\n        return readUint(3);\n    }\n\n    private final int readUInt16() throws IOException {\n        return readUint(2);\n    }\n\n    private boolean isFourCc(byte[] h, char a, char b, char c, char d) {\n        return h[0] == a &amp;&amp; h[1] == b &amp;&amp; h[2] == c &amp;&amp; h[3] == d;\n    }\n\n    private void debug(String message) {\n        if (_debug)\n            System.out.println(message);\n    }\n}\n\n</code></pre>\n<p>rest of related files are here on sandbox.\n<a href=\"https://codesandbox.io/s/polished-water-hl32ud?file=/app/muxer/WebpMuxer.java\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/polished-water-hl32ud?file=/app/muxer/WebpMuxer.java</a></p>\n<p>without using <code>scalePreserveRatio()</code> All webp files gets encoded without fail. The scaling function is the culprit here.</p>\n<p>I want to resize and encode these animated webp files. How would I fix this exception.</p>\n"},{"tags":["java","gis","geospatial","postgis","geohashing"],"answers":[{"tags":[],"owner":{"account_id":57716,"reputation":20104,"user_id":172881,"accept_rate":100,"display_name":"jer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276441306,"creation_date":1276441306,"answer_id":3032661,"question_id":3032650,"body_markdown":"Look at the [SRTM][1] data sets. There are various versions for various levels of accuracy (and size). You get data in raw format, you will have to interpret it yourself, but it&#39;s not hard. It is very well documented.\r\n\r\n\r\n  [1]: http://www2.jpl.nasa.gov/srtm/","title":"Use GIS to get geographic info for a single point","body":"<p>Look at the <a href=\"http://www2.jpl.nasa.gov/srtm/\" rel=\"nofollow noreferrer\">SRTM</a> data sets. There are various versions for various levels of accuracy (and size). You get data in raw format, you will have to interpret it yourself, but it's not hard. It is very well documented.</p>\n"},{"tags":[],"owner":{"account_id":6824,"reputation":33760,"user_id":11596,"accept_rate":94,"display_name":"unmounted"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656612332,"creation_date":1276488043,"answer_id":3034900,"question_id":3032650,"body_markdown":"Start out looking at PostGIS; it happens to be in C but developed by otherwise [mostly Java guys][1], and supports nice (free) Java tools, such as [uDig][2].\r\n\r\nAs to the geospatial fundamentals: here is an example of some of the interactions I get the feeling you need to get started.\r\n\r\nYou start with a data source, say the free [TIGERLINE][3] census data in the US.  Using [GDAL][4] you format the data for your database; generally you can pipe shapefiles, kml, etc., directly into a table that will have some metadata (place names, etc.) and the key spatially enabled [geometry column][5]. Here I really recommend PostGIS.  I have just such a census-derived table on my laptop, here is how you work with it in your bodies of water example:\r\n\r\n    pepe=&gt; \\d tl_2009_06075_areawater\r\n       Table &quot;public.tl_2009_06075_areawater&quot;\r\n      Column  |          Type          |\r\n    ----------+------------------------\r\n     gid      | integer                |\r\n     ansicode | character varying(8)   |\r\n     hydroid  | character varying(22)  |\r\n     fullname | character varying(100) |\r\n     the_geom | geometry               |\r\n    Indexes:\r\n        &quot;tl_2009_06075_areawater_pkey&quot; PRIMARY KEY, btree (gid)\r\n    Check constraints:\r\n        &quot;enforce_srid_the_geom&quot; CHECK (st_srid(the_geom) = 4269)\r\n\r\nTake note of the number 4269, that is the geometry&#39;s [SRID][6].\r\n\r\nNow say you have a point, for example -122.492983 37.717753 (note it&#39;s Longitude Latitude), given by a GPS input or whatever.  What body of water might it be in?:\r\n\r\n    pepe=&gt; select fullname from tl_2009_06075_areawater \r\n    where the_geom &amp;&amp;\r\n    ST_GeomFromText(&#39;POINT(-122.492983 37.717753)&#39;, 4269);\r\n\r\n       fullname    \r\n    ---------------\r\n     Lk Merced\r\n     \r\n     Pacific Ocean\r\n\r\nLake Merced is a place in San Francisco I walk past all the time -- it is a bit of a tidal marsh so maybe the Census Bureau considers it part of the Pacific Ocean -- interesting, I didn&#39;t know that!  Hope this helps get you started.\r\n\r\n  [1]: http://refractions.net\r\n  [2]: http://udig.refractions.net/\r\n  [3]: https://web.archive.org/web/20170523020601/https://www.census.gov/geo/www/tiger/\r\n  [4]: https://gdal.org/\r\n  [5]: https://web.archive.org/web/20120406022552/http://postgis.refractions.net:80/docs/ch04.html#id2791158\r\n  [6]: https://en.wikipedia.org/wiki/SRID\r\n\r\n","title":"Use GIS to get geographic info for a single point","body":"<p>Start out looking at PostGIS; it happens to be in C but developed by otherwise <a href=\"http://refractions.net\" rel=\"nofollow noreferrer\">mostly Java guys</a>, and supports nice (free) Java tools, such as <a href=\"http://udig.refractions.net/\" rel=\"nofollow noreferrer\">uDig</a>.</p>\n<p>As to the geospatial fundamentals: here is an example of some of the interactions I get the feeling you need to get started.</p>\n<p>You start with a data source, say the free <a href=\"https://web.archive.org/web/20170523020601/https://www.census.gov/geo/www/tiger/\" rel=\"nofollow noreferrer\">TIGERLINE</a> census data in the US.  Using <a href=\"https://gdal.org/\" rel=\"nofollow noreferrer\">GDAL</a> you format the data for your database; generally you can pipe shapefiles, kml, etc., directly into a table that will have some metadata (place names, etc.) and the key spatially enabled <a href=\"https://web.archive.org/web/20120406022552/http://postgis.refractions.net:80/docs/ch04.html#id2791158\" rel=\"nofollow noreferrer\">geometry column</a>. Here I really recommend PostGIS.  I have just such a census-derived table on my laptop, here is how you work with it in your bodies of water example:</p>\n<pre><code>pepe=&gt; \\d tl_2009_06075_areawater\n   Table &quot;public.tl_2009_06075_areawater&quot;\n  Column  |          Type          |\n----------+------------------------\n gid      | integer                |\n ansicode | character varying(8)   |\n hydroid  | character varying(22)  |\n fullname | character varying(100) |\n the_geom | geometry               |\nIndexes:\n    &quot;tl_2009_06075_areawater_pkey&quot; PRIMARY KEY, btree (gid)\nCheck constraints:\n    &quot;enforce_srid_the_geom&quot; CHECK (st_srid(the_geom) = 4269)\n</code></pre>\n<p>Take note of the number 4269, that is the geometry's <a href=\"https://en.wikipedia.org/wiki/SRID\" rel=\"nofollow noreferrer\">SRID</a>.</p>\n<p>Now say you have a point, for example -122.492983 37.717753 (note it's Longitude Latitude), given by a GPS input or whatever.  What body of water might it be in?:</p>\n<pre><code>pepe=&gt; select fullname from tl_2009_06075_areawater \nwhere the_geom &amp;&amp;\nST_GeomFromText('POINT(-122.492983 37.717753)', 4269);\n\n   fullname    \n---------------\n Lk Merced\n \n Pacific Ocean\n</code></pre>\n<p>Lake Merced is a place in San Francisco I walk past all the time -- it is a bit of a tidal marsh so maybe the Census Bureau considers it part of the Pacific Ocean -- interesting, I didn't know that!  Hope this helps get you started.</p>\n"}],"owner":{"account_id":85182,"reputation":8295,"user_id":237676,"accept_rate":75,"display_name":"Patrick Lee Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3034900,"answer_count":2,"score":2,"last_activity_date":1656612332,"creation_date":1276441009,"question_id":3032650,"body_markdown":"I am not quite sure where to start with this. I only just started looking into this in the past week, but hopefully someone can help point me in the right direction.\r\n\r\nThe goal of my project is to be able to take a geohash, decode it to latitude and longitude, check the point against some GIS data, and find out some information about that point such as the terrain(is this a body of water? A lake? An Ocean? Is this a mountainous area? Is this a field?), altitude, or other useful things. Then simply be able to display that information as a starter.\r\n\r\nWhat I have gathered so far is that I need to get some free GIS data (this is for school, so I have no money!). I would like to have world data, and I found some online (http://www.webgis.com/terraindata.html) but I don&#39;t know where to go from here. I saw some tools such as PostGIS as a database.\r\n\r\nI am currently using Java for some other parts of the project, so if possible I would like to stick to Java.\r\n\r\nCan someone help me out, or point me in the right direction?","title":"Use GIS to get geographic info for a single point","body":"<p>I am not quite sure where to start with this. I only just started looking into this in the past week, but hopefully someone can help point me in the right direction.</p>\n\n<p>The goal of my project is to be able to take a geohash, decode it to latitude and longitude, check the point against some GIS data, and find out some information about that point such as the terrain(is this a body of water? A lake? An Ocean? Is this a mountainous area? Is this a field?), altitude, or other useful things. Then simply be able to display that information as a starter.</p>\n\n<p>What I have gathered so far is that I need to get some free GIS data (this is for school, so I have no money!). I would like to have world data, and I found some online (<a href=\"http://www.webgis.com/terraindata.html\" rel=\"nofollow noreferrer\">http://www.webgis.com/terraindata.html</a>) but I don't know where to go from here. I saw some tools such as PostGIS as a database.</p>\n\n<p>I am currently using Java for some other parts of the project, so if possible I would like to stick to Java.</p>\n\n<p>Can someone help me out, or point me in the right direction?</p>\n"},{"tags":["java","datetime","timezone"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656454388,"post_id":72793631,"comment_id":128575546,"body_markdown":"I believe the question has been already answered here https://stackoverflow.com/a/35187046/17949945","body":"I believe the question has been already answered here <a href=\"https://stackoverflow.com/a/35187046/17949945\">stackoverflow.com/a/35187046/17949945</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656454482,"post_id":72793631,"comment_id":128575562,"body_markdown":"Does this answer your question? [How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?](https://stackoverflow.com/questions/35183146/how-can-i-create-a-java-8-localdate-from-a-long-epoch-time-in-milliseconds)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35183146/how-can-i-create-a-java-8-localdate-from-a-long-epoch-time-in-milliseconds\">How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?</a>"},{"owner":{"account_id":16526182,"reputation":75,"user_id":11940879,"display_name":"Illustrious Imp"},"score":0,"creation_date":1656454903,"post_id":72793631,"comment_id":128575643,"body_markdown":"tried that, didnt work well. I tried SystemDefault, it still didnt work. Also, the solutions for Instant.() seem to work only for the current time, not which ever time I want.","body":"tried that, didnt work well. I tried SystemDefault, it still didnt work. Also, the solutions for Instant.() seem to work only for the current time, not which ever time I want."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656455658,"post_id":72793631,"comment_id":128575792,"body_markdown":"*Instant.() seem to work only for the current time* - that&#39;s incorrect check this code https://www.jdoodle.com/ia/sI3 it&#39;ll bring you back to 1970. It **does** work with any amount of milliseconds you provide.","body":"<i>Instant.() seem to work only for the current time</i> - that&#39;s incorrect check this code <a href=\"https://www.jdoodle.com/ia/sI3\" rel=\"nofollow noreferrer\">jdoodle.com/ia/sI3</a> it&#39;ll bring you back to 1970. It <b>does</b> work with any amount of milliseconds you provide."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656535472,"post_id":72793631,"comment_id":128599936,"body_markdown":"@AlexanderIvanchenko Those are not quite duplicates. Those questions are about a moment. This question is about a pair of moments, tracking the beginning and end of a full day. This Question here is *very* likely a duplicate, but I did not find original. Hence my Answer.","body":"@AlexanderIvanchenko Those are not quite duplicates. Those questions are about a moment. This question is about a pair of moments, tracking the beginning and end of a full day. This Question here is <i>very</i> likely a duplicate, but I did not find original. Hence my Answer."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656589016,"post_id":72793631,"comment_id":128612700,"body_markdown":"@BasilBourque OK, retracting the close vote.","body":"@BasilBourque OK, retracting the close vote."}],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656454474,"creation_date":1656454474,"answer_id":72793694,"question_id":72793631,"body_markdown":"Just add this section to your code: \r\n\r\n    date_format.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n\r\nThen it will work as you want :)","title":"Getting the startime and endtime of the day in epochmillis for different timezones - java","body":"<p>Just add this section to your code:</p>\n<pre><code>date_format.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\n</code></pre>\n<p>Then it will work as you want :)</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656612231,"creation_date":1656462089,"answer_id":72794474,"question_id":72793631,"body_markdown":"# *java.time*\r\n\r\nThe modern approach uses the *java.time* classes only. \r\n\r\nNo need to ever use `SimpleDateFormat`, `Date`, `Calendar`, and the other terrible legacy date-time classes. If need be, you can convert to and fro via new conversion methods added to the old classes.\r\n\r\n# Start of day\r\n\r\n&gt;I am trying to get the start time (00:00:00) \r\n\r\nDo not assume the day starts at 00:00. Some dates in some zones start at another time such as 01:00. Let *java.time* determine the first moment of the day using `LocalDate#atStartOfDay`. \r\n\r\n# End of day\r\n\r\n&gt; the end time (23:59:59) of a day\r\n\r\nYou would be missing an entire last second of the day with that approach. \r\n\r\nDate-time work is commonly done with the Half-Open approach. In Half-Open, the beginning is *inclusive* while the ending is *exclusive*. So a day starts with the first moment of the day, and runs up to, but does not include, the first moment of the following day. Half-Open approach neatly contains that full last second of the day. \r\n\r\n# Time zones\r\n\r\n&gt; PST time zone.\r\n\r\nThere is no such thing as a time zone named `PST`. Such 2-4 letter pseudo-zones are used by the popular media to indicate a hint about the time zone. But these pseudo-zones are *not* standardized, and are not even unique! Use only for localized presentation to humans, never for data storage or data exchange.\r\n\r\n[Real time zones][1] are named with `Continent/Region`. \r\n\r\nPerhaps by PST you meant Pacific Standard Time, which often indicates `America/Tijuana`, or `America/Los_Angeles` or `America/Vancouver` or others.\r\n\r\nOr perhaps by PST you meant Philippines Standard Time covering the `Asia/Manila` time zone.\r\n\r\n# Example code\r\n\r\nCapture the current moment as seen in a time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\nExtract the date.\r\n\r\n    LocalDate today = zdt.toLocalDate() ;\r\n\r\nDetermine the first moment of the day.\r\n\r\n    ZonedDateTime zdtStartOfDay = today.atStartOfDay( z ) ;\r\n\r\nAnd determine the first moment of the following day.\r\n\r\n    ZonedDateTime zdtStartOfFollowingDay = today.plusDays( 1 ).atStartOfDay( z ) ;\r\n\r\nYou may want to see the length of time. Not all days are 24 hours.\r\n\r\n    Duration d = Duration.between( zdtStartOfDay , zdtStartOfFollowingDay ) ;\r\n\r\nAdjust both moments to UTC by extracting an [`Instant`][2] object. That class represents a moment as seen in UTC.\r\n\r\n    Instant start = zdtStartOfDay.toInstant() ;\r\n    Instant end = zdtStartOfFollowingDay.toInstant() ;\r\n\r\nFor each, get the count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC, 1970-01-01T00:00Z.\r\n\r\n    long startMilli = start.toEpochMilli() ;\r\n    long endMilli = end.toEpochMilli() ;\r\n\r\nHowever, I strongly recommend against tracking time as a count of milliseconds. This approach is confusing, as at least a [couple dozen epoch reference][3] points are commonly used. And a `long` cannot be interpreted by a human reader, so mistakes may go unnoticed. \r\n\r\nInstead, data storage and data exchange should generally be done as text using the standard [ISO 8601][4] formats. The *java.time* classes use these standard formats by default when parsing/generating text.\r\n\r\n    String startText = start.toString() ;\r\n    String endText = end.toString() ;\r\n\r\n# *ThreeTen-Extra*\r\n\r\nYou may want to add the [*ThreeTen-Extra*][5] library to your project. This gives you access to the [`Interval`][6] class, to represent a span of time as a pair of `Instant` objects.\r\n\r\n    Interval allDayLongToday = org.threeten.extra.Interval.of( start , end ) ;\r\n\r\nThis class provides several helpful methods. These include `contains`, `encloses`, `abuts`, `union`, `intersection`, and more.\r\n\r\n    Instant invoiceRecorded =  some `Instant` ;\r\n    boolean invoiceRecordedToday = allDayLongToday.contains( invoiceRecorded ) ;\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://en.wikipedia.org/wiki/Epoch_(computing)#Notable_epoch_dates_in_computing\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://www.threeten.org/threeten-extra/\r\n  [6]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html","title":"Getting the startime and endtime of the day in epochmillis for different timezones - java","body":"<h1><em>java.time</em></h1>\n<p>The modern approach uses the <em>java.time</em> classes only.</p>\n<p>No need to ever use <code>SimpleDateFormat</code>, <code>Date</code>, <code>Calendar</code>, and the other terrible legacy date-time classes. If need be, you can convert to and fro via new conversion methods added to the old classes.</p>\n<h1>Start of day</h1>\n<blockquote>\n<p>I am trying to get the start time (00:00:00)</p>\n</blockquote>\n<p>Do not assume the day starts at 00:00. Some dates in some zones start at another time such as 01:00. Let <em>java.time</em> determine the first moment of the day using <code>LocalDate#atStartOfDay</code>.</p>\n<h1>End of day</h1>\n<blockquote>\n<p>the end time (23:59:59) of a day</p>\n</blockquote>\n<p>You would be missing an entire last second of the day with that approach.</p>\n<p>Date-time work is commonly done with the Half-Open approach. In Half-Open, the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a day starts with the first moment of the day, and runs up to, but does not include, the first moment of the following day. Half-Open approach neatly contains that full last second of the day.</p>\n<h1>Time zones</h1>\n<blockquote>\n<p>PST time zone.</p>\n</blockquote>\n<p>There is no such thing as a time zone named <code>PST</code>. Such 2-4 letter pseudo-zones are used by the popular media to indicate a hint about the time zone. But these pseudo-zones are <em>not</em> standardized, and are not even unique! Use only for localized presentation to humans, never for data storage or data exchange.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Real time zones</a> are named with <code>Continent/Region</code>.</p>\n<p>Perhaps by PST you meant Pacific Standard Time, which often indicates <code>America/Tijuana</code>, or <code>America/Los_Angeles</code> or <code>America/Vancouver</code> or others.</p>\n<p>Or perhaps by PST you meant Philippines Standard Time covering the <code>Asia/Manila</code> time zone.</p>\n<h1>Example code</h1>\n<p>Capture the current moment as seen in a time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>Extract the date.</p>\n<pre><code>LocalDate today = zdt.toLocalDate() ;\n</code></pre>\n<p>Determine the first moment of the day.</p>\n<pre><code>ZonedDateTime zdtStartOfDay = today.atStartOfDay( z ) ;\n</code></pre>\n<p>And determine the first moment of the following day.</p>\n<pre><code>ZonedDateTime zdtStartOfFollowingDay = today.plusDays( 1 ).atStartOfDay( z ) ;\n</code></pre>\n<p>You may want to see the length of time. Not all days are 24 hours.</p>\n<pre><code>Duration d = Duration.between( zdtStartOfDay , zdtStartOfFollowingDay ) ;\n</code></pre>\n<p>Adjust both moments to UTC by extracting an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> object. That class represents a moment as seen in UTC.</p>\n<pre><code>Instant start = zdtStartOfDay.toInstant() ;\nInstant end = zdtStartOfFollowingDay.toInstant() ;\n</code></pre>\n<p>For each, get the count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC, 1970-01-01T00:00Z.</p>\n<pre><code>long startMilli = start.toEpochMilli() ;\nlong endMilli = end.toEpochMilli() ;\n</code></pre>\n<p>However, I strongly recommend against tracking time as a count of milliseconds. This approach is confusing, as at least a <a href=\"https://en.wikipedia.org/wiki/Epoch_(computing)#Notable_epoch_dates_in_computing\" rel=\"nofollow noreferrer\">couple dozen epoch reference</a> points are commonly used. And a <code>long</code> cannot be interpreted by a human reader, so mistakes may go unnoticed.</p>\n<p>Instead, data storage and data exchange should generally be done as text using the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats. The <em>java.time</em> classes use these standard formats by default when parsing/generating text.</p>\n<pre><code>String startText = start.toString() ;\nString endText = end.toString() ;\n</code></pre>\n<h1><em>ThreeTen-Extra</em></h1>\n<p>You may want to add the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. This gives you access to the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class, to represent a span of time as a pair of <code>Instant</code> objects.</p>\n<pre><code>Interval allDayLongToday = org.threeten.extra.Interval.of( start , end ) ;\n</code></pre>\n<p>This class provides several helpful methods. These include <code>contains</code>, <code>encloses</code>, <code>abuts</code>, <code>union</code>, <code>intersection</code>, and more.</p>\n<pre><code>Instant invoiceRecorded =  some `Instant` ;\nboolean invoiceRecordedToday = allDayLongToday.contains( invoiceRecorded ) ;\n</code></pre>\n"}],"owner":{"account_id":16526182,"reputation":75,"user_id":11940879,"display_name":"Illustrious Imp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72794474,"answer_count":2,"score":-1,"last_activity_date":1656612231,"creation_date":1656453947,"question_id":72793631,"body_markdown":"I am trying to get the start time (00:00:00) and the end time (23:59:59) of a day in the PST time zone. I have tried the following code, but for some reason, I am only getting the start and end times in UTC. I have tried changing the timezone to include &quot;America/Los_angeles&quot;, but the output timestamp is always showing start and end times for GMT/UTC.\r\n\r\nMy code:\r\n\r\n```\r\nval time_zone = ZoneId.of(&quot;America/Los_Angeles&quot;)\r\nval today_date = LocalDate.now(time_zone).plusDays(0)\r\nval start_time = today_date + &quot; &quot; + &quot;00:00:00&quot;\r\nval end_time = today_date + &quot; &quot; + &quot;23:59:59&quot;\r\n\r\nval date_format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\nval start_millis = date_format.parse(start_time).getTime();\r\nval end_millis = date_format.parse(end_time).getTime();\r\n\r\nstart_millis\r\n```\r\n\r\nOutput: \r\n```\r\nres375: Long = 1656460799000\r\n```\r\n\r\nIn the epoch converter, ```1656460799000``` gives me this:\r\n[![The start time is 00:00 in UTC, not in America/Los_Angeles time][1]][1]\r\n\r\nAnything I am missing here? Should I update any package, etc.?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TEawU.png","title":"Getting the startime and endtime of the day in epochmillis for different timezones - java","body":"<p>I am trying to get the start time (00:00:00) and the end time (23:59:59) of a day in the PST time zone. I have tried the following code, but for some reason, I am only getting the start and end times in UTC. I have tried changing the timezone to include &quot;America/Los_angeles&quot;, but the output timestamp is always showing start and end times for GMT/UTC.</p>\n<p>My code:</p>\n<pre><code>val time_zone = ZoneId.of(&quot;America/Los_Angeles&quot;)\nval today_date = LocalDate.now(time_zone).plusDays(0)\nval start_time = today_date + &quot; &quot; + &quot;00:00:00&quot;\nval end_time = today_date + &quot; &quot; + &quot;23:59:59&quot;\n\nval date_format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nval start_millis = date_format.parse(start_time).getTime();\nval end_millis = date_format.parse(end_time).getTime();\n\nstart_millis\n</code></pre>\n<p>Output:</p>\n<pre><code>res375: Long = 1656460799000\n</code></pre>\n<p>In the epoch converter, <code>1656460799000</code> gives me this:\n<a href=\"https://i.stack.imgur.com/TEawU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TEawU.png\" alt=\"The start time is 00:00 in UTC, not in America/Los_Angeles time\" /></a></p>\n<p>Anything I am missing here? Should I update any package, etc.?</p>\n"},{"tags":["java","mouse-cursor"],"comments":[{"owner":{"account_id":1174619,"reputation":7878,"user_id":1150918,"display_name":"Kamiccolo"},"score":0,"creation_date":1384258029,"post_id":19928692,"comment_id":29654963,"body_markdown":"possible duplicate of [How do I set the position of the mouse in Java?](http://stackoverflow.com/questions/2941324/how-do-i-set-the-position-of-the-mouse-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2941324/how-do-i-set-the-position-of-the-mouse-in-java\">How do I set the position of the mouse in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1174619,"reputation":7878,"user_id":1150918,"display_name":"Kamiccolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1384258126,"creation_date":1384258126,"answer_id":19928771,"question_id":19928692,"body_markdown":"[`Robot.mouseMove(x,y)`](http://docs.oracle.com/javase/6/docs/api/java/awt/Robot.html#mouseMove%28int,%20int%29)\r\n\r\nAs mentioned in:\r\nhttps://stackoverflow.com/a/2941373/1150918 by [OscarRyz](https://stackoverflow.com/users/20654/oscarryz).","title":"How to control (move) the mouse cursor?","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Robot.html#mouseMove%28int,%20int%29\" rel=\"nofollow noreferrer\"><code>Robot.mouseMove(x,y)</code></a></p>\n\n<p>As mentioned in:\n<a href=\"https://stackoverflow.com/a/2941373/1150918\">https://stackoverflow.com/a/2941373/1150918</a> by <a href=\"https://stackoverflow.com/users/20654/oscarryz\">OscarRyz</a>.</p>\n"},{"tags":[],"owner":{"account_id":4319300,"reputation":267,"user_id":3528078,"accept_rate":57,"display_name":"Calan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397356241,"creation_date":1397354540,"answer_id":23038296,"question_id":19928692,"body_markdown":"You will need to use the Robot class.\r\n\r\n    Robot r = null;\r\n    try {\r\n        r = new Robot();\r\n    } catch (AWTException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n    r.mouseMove(x, y);//x is the horizontal position on the screen, y is the vertical","title":"How to control (move) the mouse cursor?","body":"<p>You will need to use the Robot class.</p>\n\n<pre><code>Robot r = null;\ntry {\n    r = new Robot();\n} catch (AWTException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nr.mouseMove(x, y);//x is the horizontal position on the screen, y is the vertical\n</code></pre>\n"}],"owner":{"account_id":3506170,"reputation":49,"user_id":2931670,"accept_rate":80,"display_name":"amraa_kaze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19928771,"answer_count":2,"score":0,"last_activity_date":1656612121,"creation_date":1384257929,"question_id":19928692,"body_markdown":"How do I move the mouse cursor (windows) with Java?\r\nI have a pair of values constantly being updated. I want to use them to control the cursor.","title":"How to control (move) the mouse cursor?","body":"<p>How do I move the mouse cursor (windows) with Java?\nI have a pair of values constantly being updated. I want to use them to control the cursor.</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656612317,"post_id":72820116,"comment_id":128621629,"body_markdown":"It is giving you a 500 error. See this link to the description. \nhttps://docs.apigee.com/api-platform/troubleshoot/runtime/500-internal-server-error-0#:~:text=The%20HTTP%20status%20code%20500,other%20error%20code%20is%20suitable.","body":"It is giving you a 500 error. See this link to the description.  <a href=\"https://docs.apigee.com/api-platform/troubleshoot/runtime/500-internal-server-error-0#:~:text=The%20HTTP%20status%20code%20500,other%20error%20code%20is%20suitable\" rel=\"nofollow noreferrer\">docs.apigee.com/api-platform/troubleshoot/runtime/&hellip;</a>."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1656612833,"post_id":72820116,"comment_id":128621798,"body_markdown":"The (remote) server at `Url` didn&#39;t respond with a HTTP &quot;Success&quot; (code 200).  Instead it responded with an HTTP &quot;Error&quot; (code 500).  That (remote) server probably has a log that you could inspect to see what its error was.  You&#39;ll need it to change that response code to somethign in the 2XX range or clients will not interpret the response as a success.","body":"The (remote) server at <code>Url</code> didn&#39;t respond with a HTTP &quot;Success&quot; (code 200).  Instead it responded with an HTTP &quot;Error&quot; (code 500).  That (remote) server probably has a log that you could inspect to see what its error was.  You&#39;ll need it to change that response code to somethign in the 2XX range or clients will not interpret the response as a success."}],"owner":{"account_id":25693303,"reputation":1,"user_id":19454400,"display_name":"Ram-the-coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656611709,"creation_date":1656611709,"question_id":72820116,"body_markdown":"    public Object pRequest(String Url, Object requestBody) throws Exception {\r\n    Object obj = null;\r\n    Object obj = restTemplate.patchForObject(Url, requestBody, Object.class);\r\n    System.out.println(obj);\r\n    }\r\n\r\nThis above method should print &quot;{ &quot;data&quot;: { &quot;message&quot;: &quot;hello&quot; } }&quot;\r\n\r\nI am passing correct url, requestBody then getting below error, but expected response is coming in the ExceptionBody (&quot;{ &quot;data&quot;: { &quot;message&quot;: &quot;hello&quot; } }&quot;)\r\n\r\nHttpServerErrorException$InternalServerError: 500 : &quot;{ &quot;data&quot;: { &quot;message&quot;: &quot;hello&quot; } }&quot;\r\nat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\r\n        at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170)\r\n        at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\r\n        at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n        at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\r\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\r\n        at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n        at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n\r\nis there anything i can correct to get response to print in console rather get it in ExceptionBody ","title":"HttpServerErrorException$InternalServerError: 500 : &quot;{ &quot;data&quot;: { &quot;message&quot;: &quot;hello&quot; } }&quot;","body":"<pre><code>public Object pRequest(String Url, Object requestBody) throws Exception {\nObject obj = null;\nObject obj = restTemplate.patchForObject(Url, requestBody, Object.class);\nSystem.out.println(obj);\n}\n</code></pre>\n<p>This above method should print &quot;{ &quot;data&quot;: { &quot;message&quot;: &quot;hello&quot; } }&quot;</p>\n<p>I am passing correct url, requestBody then getting below error, but expected response is coming in the ExceptionBody (&quot;{ &quot;data&quot;: { &quot;message&quot;: &quot;hello&quot; } }&quot;)</p>\n<p>HttpServerErrorException$InternalServerError: 500 : &quot;{ &quot;data&quot;: { &quot;message&quot;: &quot;hello&quot; } }&quot;\nat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170)\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\nat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)</p>\n<p>is there anything i can correct to get response to print in console rather get it in ExceptionBody</p>\n"},{"tags":["java","eclipse","jsp","servlets"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1656073746,"post_id":72741179,"comment_id":128489149,"body_markdown":"Can you look in the log, as it directs, to get more details and share them?","body":"Can you look in the log, as it directs, to get more details and share them?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1656090350,"post_id":72741179,"comment_id":128495011,"body_markdown":"It sure looks like a release older than 2022-06, as well. You should update and retry.","body":"It sure looks like a release older than 2022-06, as well. You should update and retry."},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1656284959,"post_id":72741179,"comment_id":128527654,"body_markdown":"Image does not show error details.","body":"Image does not show error details."}],"answers":[{"tags":[],"owner":{"account_id":25693420,"reputation":1,"user_id":19454509,"display_name":"ananya singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656611664,"creation_date":1656611664,"answer_id":72820108,"question_id":72741179,"body_markdown":"Create the file in a dynamic project \r\nnew -&gt; Dynamic Web Project, I was facing the same issue this cleared it up.\r\nHope this helps.","title":"Can&#39;t create a Servlet in eclipse due Path for project must have only one segment","body":"<p>Create the file in a dynamic project\nnew -&gt; Dynamic Web Project, I was facing the same issue this cleared it up.\nHope this helps.</p>\n"}],"owner":{"account_id":25636616,"reputation":11,"user_id":19406113,"display_name":"Hritik Shukla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656611664,"creation_date":1656059508,"question_id":72741179,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kfNDu.png\r\nAn error has occurred. See error log for more details.\r\nPath for project must have only one segment.\r\n\r\nfacing issue while adding servlet in eclipse","title":"Can&#39;t create a Servlet in eclipse due Path for project must have only one segment","body":"<p><a href=\"https://i.stack.imgur.com/kfNDu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>An error has occurred. See error log for more details.\nPath for project must have only one segment.</p>\n<p>facing issue while adding servlet in eclipse</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1656627431,"post_id":72820023,"comment_id":128625719,"body_markdown":"Maybe you should consider adding more detail to receive some help (as in: sharing the other configuration)","body":"Maybe you should consider adding more detail to receive some help (as in: sharing the other configuration)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656660501,"post_id":72820023,"comment_id":128631132,"body_markdown":"Remove the `@PropertySource` and `@Profile` and move your `WWWAbacusApplication` to the `com.te` else it won&#39;t detect the `@Configuration` classes.","body":"Remove the <code>@PropertySource</code> and <code>@Profile</code> and move your <code>WWWAbacusApplication</code> to the <code>com.te</code> else it won&#39;t detect the <code>@Configuration</code> classes."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1656672452,"post_id":72820023,"comment_id":128635032,"body_markdown":"@M.Deinum: Yes that was issue. I have already added (scanBasePackages = &quot;com.te&quot;) to fixed this","body":"@M.Deinum: Yes that was issue. I have already added (scanBasePackages = &quot;com.te&quot;) to fixed this"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656611215,"creation_date":1656611215,"question_id":72820023,"body_markdown":"The spring boot program is as below:\r\n\r\n    package com.te.initializer;\r\n    @SpringBootApplication\r\n    public class WWWAbacusApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WWWAbacusApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nDatasource Configuration is multiple:\r\n\r\n    package com.te.configuration;\r\n\r\n    @Configuration\r\n    @PropertySource({ &quot;classpath:application-dev.properties&quot; })\r\n    @EnableJpaRepositories(basePackages = &quot;com.te.repository.www&quot;, entityManagerFactoryRef = &quot;wwwEntityManager&quot;, transactionManagerRef = &quot;wwwTransactionManager&quot;)\r\n    @Profile(&quot;dev&quot;)\r\n    public class WWWDBConfiguration {\r\n    \t@Autowired\r\n    \tprivate Environment env;\r\n    \r\n    \tpublic WWWDBConfiguration() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Primary\r\n    \tpublic LocalContainerEntityManagerFactoryBean wwwEntityManager() {\r\n    \t\tSystem.out.println(&quot;Entity Manager Creation&quot;);\r\n    \t\tLocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n    \t\tem.setDataSource(userDataSource());\r\n    \t\tem.setPackagesToScan(new String[] { &quot;com.te.repository.www&quot; });\r\n    \t\tSystem.out.println(&quot;Entity Manager Creation Vendor&quot;);\r\n    \t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n    \t\tem.setJpaVendorAdapter(vendorAdapter);\r\n    \t\tHashMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n    \t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n    \t\tproperties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\r\n    \t\tem.setJpaPropertyMap(properties);\r\n    \t\tSystem.out.println(&quot;Entity Manager Creation EM Initiated&quot;);\r\n    \t\treturn em;\r\n    \t}\r\n    \r\n    \t@Primary\r\n    \t@Bean\r\n    \t@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    \tpublic DataSource userDataSource() {\r\n    \t\treturn DataSourceBuilder.create().build();\r\n    \t}\r\n    \r\n    \t@Primary\r\n    \t@Bean\r\n    \tpublic PlatformTransactionManager wwwTransactionManager() {\r\n    \t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n    \t\ttransactionManager.setEntityManagerFactory(wwwEntityManager().getObject());\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    }\r\n\r\nSimilarly Another configuration is craeated with only difference is base package in com.te.repository.masterdata and cofiguration properties as &quot;spring.md-datasource&quot;\r\n\r\nIn properties file, It looks like\r\n\r\n    spring.datasource.url=jdbc:oracle:thin:@1xx.1xx.65.1x6:1521/xxxPROD9\r\n    spring.datasource.username=int\r\n    spring.datasource.password=inte\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    \r\n    spring.md-datasource.url=jdbc:oracle:thin:@daq-e-ora01.cosng.net:1521/ir_qa\r\n    spring.md-datasource.username=MASTERDATA\r\n    spring.md-datasource.password=ykw3\r\n    spring.md-datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    \r\n    #spring.jpa.hibernate.ddl=update\r\n    #spring.jpa.database-platform=\r\n    \r\n    spring.jpa.generate-ddl=false\r\n    spring.jpa.show-sql=true\r\n\r\nWhen i run this application i get :\r\n\r\n    2022-06-30 23:08:25.642  INFO 30432 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2022-06-30 23:08:26.862  INFO 30432 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-06-30 23:08:26.895  INFO 30432 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.\r\n\r\nFollowed this -&gt; https://www.baeldung.com/spring-data-jpa-multiple-databases\r\n\r\nEntities are also proper annotated and things work fine with single db. \r\n\r\nNot sure where the issue is there? Is something missing in Main Application or packaging issue?","title":"Spring Boot: Multiple Datasources | Not able to read Repository","body":"<p>The spring boot program is as below:</p>\n<pre><code>package com.te.initializer;\n@SpringBootApplication\npublic class WWWAbacusApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WWWAbacusApplication.class, args);\n    }\n}\n</code></pre>\n<p>Datasource Configuration is multiple:</p>\n<pre><code>package com.te.configuration;\n\n@Configuration\n@PropertySource({ &quot;classpath:application-dev.properties&quot; })\n@EnableJpaRepositories(basePackages = &quot;com.te.repository.www&quot;, entityManagerFactoryRef = &quot;wwwEntityManager&quot;, transactionManagerRef = &quot;wwwTransactionManager&quot;)\n@Profile(&quot;dev&quot;)\npublic class WWWDBConfiguration {\n    @Autowired\n    private Environment env;\n\n    public WWWDBConfiguration() {\n        super();\n    }\n\n    @Bean\n    @Primary\n    public LocalContainerEntityManagerFactoryBean wwwEntityManager() {\n        System.out.println(&quot;Entity Manager Creation&quot;);\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(userDataSource());\n        em.setPackagesToScan(new String[] { &quot;com.te.repository.www&quot; });\n        System.out.println(&quot;Entity Manager Creation Vendor&quot;);\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\n        em.setJpaPropertyMap(properties);\n        System.out.println(&quot;Entity Manager Creation EM Initiated&quot;);\n        return em;\n    }\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n    public DataSource userDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean\n    public PlatformTransactionManager wwwTransactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(wwwEntityManager().getObject());\n        return transactionManager;\n    }\n}\n</code></pre>\n<p>Similarly Another configuration is craeated with only difference is base package in com.te.repository.masterdata and cofiguration properties as &quot;spring.md-datasource&quot;</p>\n<p>In properties file, It looks like</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@1xx.1xx.65.1x6:1521/xxxPROD9\nspring.datasource.username=int\nspring.datasource.password=inte\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n\nspring.md-datasource.url=jdbc:oracle:thin:@daq-e-ora01.cosng.net:1521/ir_qa\nspring.md-datasource.username=MASTERDATA\nspring.md-datasource.password=ykw3\nspring.md-datasource.driver-class-name=oracle.jdbc.OracleDriver\n\n#spring.jpa.hibernate.ddl=update\n#spring.jpa.database-platform=\n\nspring.jpa.generate-ddl=false\nspring.jpa.show-sql=true\n</code></pre>\n<p>When i run this application i get :</p>\n<pre><code>2022-06-30 23:08:25.642  INFO 30432 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-06-30 23:08:26.862  INFO 30432 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-06-30 23:08:26.895  INFO 30432 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.\n</code></pre>\n<p>Followed this -&gt; <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-multiple-databases</a></p>\n<p>Entities are also proper annotated and things work fine with single db.</p>\n<p>Not sure where the issue is there? Is something missing in Main Application or packaging issue?</p>\n"},{"tags":["java","spring","database","data-structures"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1656601144,"post_id":72817972,"comment_id":128617724,"body_markdown":"Could you provide a more complete example?","body":"Could you provide a more complete example?"},{"owner":{"account_id":4371881,"reputation":11,"user_id":3566017,"display_name":"patry6123"},"score":0,"creation_date":1656603696,"post_id":72817972,"comment_id":128618770,"body_markdown":"@Jeremy post edited","body":"@Jeremy post edited"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1656603918,"post_id":72817972,"comment_id":128618862,"body_markdown":"Side note: when you start making fields like `field1, field2, field3, ...` or `fieldA, fieldB, fieldC, ...`, it&#39;s a common code smell that you may really be looking for a collection instead of explicit fields.","body":"Side note: when you start making fields like <code>field1, field2, field3, ...</code> or <code>fieldA, fieldB, fieldC, ...</code>, it&#39;s a common code smell that you may really be looking for a collection instead of explicit fields."},{"owner":{"account_id":4371881,"reputation":11,"user_id":3566017,"display_name":"patry6123"},"score":0,"creation_date":1656604472,"post_id":72817972,"comment_id":128619073,"body_markdown":"@Rogue i have updated fileds name. It is just an example, because I can&#39;t show normal code.","body":"@Rogue i have updated fileds name. It is just an example, because I can&#39;t show normal code."}],"answers":[{"tags":[],"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656610491,"creation_date":1656610491,"answer_id":72819875,"question_id":72817972,"body_markdown":"Use an interface that handles the necessary logic.\r\n\r\n```\r\npublic interface DispositionInterface {\r\n    String getExportableBankAccount()\r\n}\r\n\r\nclass DispositionDetailsA implements DispositionInterface {\r\n\r\n     @Override\r\n     public String getExportableBankAccount() {\r\n         return localBankAccount;\r\n     }\r\n\r\n}\r\n\r\nclass DispositionDetailsB implements DispositionInterface {\r\n\r\n     @Override\r\n     public String getExportableBankAccount() {\r\n         return isExportable ? localBankAccount : null;\r\n     }\r\n}\r\n\r\n```","title":"Class with many subclasses filled depend on field value","body":"<p>Use an interface that handles the necessary logic.</p>\n<pre><code>public interface DispositionInterface {\n    String getExportableBankAccount()\n}\n\nclass DispositionDetailsA implements DispositionInterface {\n\n     @Override\n     public String getExportableBankAccount() {\n         return localBankAccount;\n     }\n\n}\n\nclass DispositionDetailsB implements DispositionInterface {\n\n     @Override\n     public String getExportableBankAccount() {\n         return isExportable ? localBankAccount : null;\n     }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4371881,"reputation":11,"user_id":3566017,"display_name":"patry6123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656610491,"creation_date":1656601059,"question_id":72817972,"body_markdown":"I have a problem with my data structure. \r\n\r\n```\r\npublic class Disposition{\r\n    private long Id;\r\n\r\n    private DispositonType dispositonType;\r\n\r\n    private DispositionDetailsA dispositionA;\r\n    private DispositionDetailsB dispositionB;\r\n...\r\n}\r\n```\r\n\r\nThere is table in database &#39;disposition&#39; and there are many tables &#39;disposition_details_*&#39;\r\n\r\nAnd I have export to another data structure, and I need to transform this data to this new datastructure. Some part of fields are common for disposition_details_*, some are unique just for one dispositionType\r\n\r\nNow I have big switch case for each of fields which are common in disposition_details_*, but it starts to be problematic, and I would like to refactor it, but I don&#39;t have idea what can I do?\r\n\r\n\r\nI thouth about make interfaces, but I&#39;m not sure if it will work propertly, because fields can have different names even if it has the same information. I can&#39;t separate common information to another tabele, because it is on production...\r\n\r\nCould you sugest me any solution. Thank you in advance.\r\n\r\nBest regards,\r\nPatryk\r\n\r\n\r\n//Edit\r\n```\r\npublic class Disposition {\r\n    private long Id;\r\n\r\n    private DispositioType dispositionType;\r\n\r\n    private DispositionDetailsA dispositionDetailsA;\r\n    private DispositionDetailsB dispositionDetailsB;\r\n    private DispositionDetailsC dispositionDetailsC;\r\n    private DispositionDetailsD dispositionDetailsD;\r\n\r\n    \r\n}\r\n\r\n\r\npublic class DispositionDetailsA {\r\n    private long Id;\r\n    private Dispositon disposition;\r\n    private String localBankAccount;\r\n    private boolean isForeignBankAccount;\r\n    private String foreignBankAccount;\r\n    private String foreignBankSwift;\r\n\r\n    private String departmentName;\r\n}\r\n\r\n\r\n\r\npublic class DispositionDetailsB {\r\n    private long Id;\r\n    private Dispositon disposition;\r\n    private String localBankAccount;\r\n    private boolean isForeignBankAccount;\r\n    private String foreignBankAccount;\r\n    private String foreignBankSwift;\r\n\r\n    private String customerName;\r\n    private String documentNumber;\r\n}\r\n\r\n\r\n\r\npublic class DispositionDetailsC {\r\n    private long Id;\r\n    private Dispositon disposition;\r\n    private String localBankAccount;\r\n    private boolean isForeignBankAccount;\r\n    private String foreignBankAccount;\r\n    private String foreignBankSwift;\r\n\r\n    private boolean isExportable;\r\n\r\n    private String documentNumber;\r\n    private String documentTitle;\r\n}\r\n\r\npublic class DispositionDetailsC {\r\n    private long Id;\r\n    private Dispositon disposition;\r\n\r\n    private String departmentName;\r\n    private String customerName;\r\n    private String documentDescription;\r\n}\r\n\r\n\r\n@Getter\r\n@Setter\r\npublic class ExportDataStructure{\r\n\r\n    private long Id;\r\n    private String localBankAccount;\r\n    private boolean isForeignBankAccount;\r\n    private String foreignBankAccount;\r\n    private String foreignBankSwift;\r\n    private String departmentName;\r\n    private String customerName;\r\n    private String documentNumber;\r\n    private String documentTitle;\r\n    private String documentDescription;\r\n}\r\n\r\npublic class Exporter{\r\n\r\n    public ExportDataStructure exportDisposition(Disposition disposition){\r\n        ExportDataStructure export = new ExportDataStructure();\r\n        export.setId(disposition.getId());\r\n        export.setLocalBankAccount(this.exportLocalBankAccount(disposition));\r\n        ...\r\n    } \r\n\r\n    private String exportLocalBankAccount(Disposition disposition){\r\n        switch(disposition.getDispositionType()){\r\n            case DispositionA:\r\n                return disposition.getDispostionDetailsA().getLocalBankAccount();\r\n            case DispositionB:\r\n                return disposition.getDispostionDetailsB().getLocalBankAccount();\r\n            case DispositionC:\r\n                if(disposition.getDispositionC().isExportable()){\r\n                    return disposition.getDispostionDetailsC().getLocalBankAccount();\r\n                }\r\n                else return null;\r\n            case DispositionD:\r\n                return null;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```","title":"Class with many subclasses filled depend on field value","body":"<p>I have a problem with my data structure.</p>\n<pre><code>public class Disposition{\n    private long Id;\n\n    private DispositonType dispositonType;\n\n    private DispositionDetailsA dispositionA;\n    private DispositionDetailsB dispositionB;\n...\n}\n</code></pre>\n<p>There is table in database 'disposition' and there are many tables 'disposition_details_*'</p>\n<p>And I have export to another data structure, and I need to transform this data to this new datastructure. Some part of fields are common for disposition_details_*, some are unique just for one dispositionType</p>\n<p>Now I have big switch case for each of fields which are common in disposition_details_*, but it starts to be problematic, and I would like to refactor it, but I don't have idea what can I do?</p>\n<p>I thouth about make interfaces, but I'm not sure if it will work propertly, because fields can have different names even if it has the same information. I can't separate common information to another tabele, because it is on production...</p>\n<p>Could you sugest me any solution. Thank you in advance.</p>\n<p>Best regards,\nPatryk</p>\n<p>//Edit</p>\n<pre><code>public class Disposition {\n    private long Id;\n\n    private DispositioType dispositionType;\n\n    private DispositionDetailsA dispositionDetailsA;\n    private DispositionDetailsB dispositionDetailsB;\n    private DispositionDetailsC dispositionDetailsC;\n    private DispositionDetailsD dispositionDetailsD;\n\n    \n}\n\n\npublic class DispositionDetailsA {\n    private long Id;\n    private Dispositon disposition;\n    private String localBankAccount;\n    private boolean isForeignBankAccount;\n    private String foreignBankAccount;\n    private String foreignBankSwift;\n\n    private String departmentName;\n}\n\n\n\npublic class DispositionDetailsB {\n    private long Id;\n    private Dispositon disposition;\n    private String localBankAccount;\n    private boolean isForeignBankAccount;\n    private String foreignBankAccount;\n    private String foreignBankSwift;\n\n    private String customerName;\n    private String documentNumber;\n}\n\n\n\npublic class DispositionDetailsC {\n    private long Id;\n    private Dispositon disposition;\n    private String localBankAccount;\n    private boolean isForeignBankAccount;\n    private String foreignBankAccount;\n    private String foreignBankSwift;\n\n    private boolean isExportable;\n\n    private String documentNumber;\n    private String documentTitle;\n}\n\npublic class DispositionDetailsC {\n    private long Id;\n    private Dispositon disposition;\n\n    private String departmentName;\n    private String customerName;\n    private String documentDescription;\n}\n\n\n@Getter\n@Setter\npublic class ExportDataStructure{\n\n    private long Id;\n    private String localBankAccount;\n    private boolean isForeignBankAccount;\n    private String foreignBankAccount;\n    private String foreignBankSwift;\n    private String departmentName;\n    private String customerName;\n    private String documentNumber;\n    private String documentTitle;\n    private String documentDescription;\n}\n\npublic class Exporter{\n\n    public ExportDataStructure exportDisposition(Disposition disposition){\n        ExportDataStructure export = new ExportDataStructure();\n        export.setId(disposition.getId());\n        export.setLocalBankAccount(this.exportLocalBankAccount(disposition));\n        ...\n    } \n\n    private String exportLocalBankAccount(Disposition disposition){\n        switch(disposition.getDispositionType()){\n            case DispositionA:\n                return disposition.getDispostionDetailsA().getLocalBankAccount();\n            case DispositionB:\n                return disposition.getDispostionDetailsB().getLocalBankAccount();\n            case DispositionC:\n                if(disposition.getDispositionC().isExportable()){\n                    return disposition.getDispostionDetailsC().getLocalBankAccount();\n                }\n                else return null;\n            case DispositionD:\n                return null;\n            default:\n                return null;\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","sockets","serversocket"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1656590994,"post_id":72815154,"comment_id":128613392,"body_markdown":"If you really want to go into multi-TCP and bilateral communication, possibly event driven, have a look at https://mina.apache.org/","body":"If you really want to go into multi-TCP and bilateral communication, possibly event driven, have a look at <a href=\"https://mina.apache.org/\" rel=\"nofollow noreferrer\">mina.apache.org</a>"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1656595310,"post_id":72815154,"comment_id":128615166,"body_markdown":"Yes, sockets work both ways, the server can send a reply and the client can read it.","body":"Yes, sockets work both ways, the server can send a reply and the client can read it."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1656598372,"post_id":72815154,"comment_id":128616547,"body_markdown":"In your client `receiveResponse` shouldnt&#39; open a new `ServerSocket`, it should just use the `socket.getInputStream()` from socket you&#39;ve already got available.  Likewise, in your Server, you just use the `socket.getOutputStream()`.  Your&#39;e half way there, just use the same socket you&#39;ve already got available.","body":"In your client <code>receiveResponse</code> shouldnt&#39; open a new <code>ServerSocket</code>, it should just use the <code>socket.getInputStream()</code> from socket you&#39;ve already got available.  Likewise, in your Server, you just use the <code>socket.getOutputStream()</code>.  Your&#39;e half way there, just use the same socket you&#39;ve already got available."},{"owner":{"account_id":15311215,"reputation":1,"user_id":14116018,"display_name":"Abelkelly"},"score":0,"creation_date":1656604457,"post_id":72815154,"comment_id":128619066,"body_markdown":"@kendavidson I would appreciate if you can help provide a more detailed explanation of the solution you suggested; a code snippet showing this would be highly appreciated. Thanks for the help.","body":"@kendavidson I would appreciate if you can help provide a more detailed explanation of the solution you suggested; a code snippet showing this would be highly appreciated. Thanks for the help."}],"answers":[{"tags":[],"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656610305,"creation_date":1656610305,"answer_id":72819848,"question_id":72815154,"body_markdown":"All things being equal (starting from what you already have) you could do something like this:\r\n\r\n```\r\n        public static void receiveResponse(Socket socket) {\r\n            try {                \r\n                DataInputStream in = new DataInputStream(socket.getInputStream());\r\n                String yoo = in.readUTF();\r\n                System.out.println(&quot;Client: &quot; + yoo);\r\n                if(!yoo.isEmpty()){\r\n                    System.out.println(&quot;message received&quot;);\r\n                }\r\n                if(yoo.equalsIgnoreCase(&quot;exit&quot;)){\r\n                    System.out.println(&quot;Hello world&quot;);\r\n                }\r\n    \r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n```\r\n\r\nSome things you&#39;ll need to look at a little:\r\n\r\n- Replacing `Main` class with a `Client` class that manages the communication. This would allow you to maintain `socket`, `inStream` and `outStream` as instance variables.\r\n- Maybe look at replacing `DataInputStream` with a more specific / consistent transfer protocol method (byte count, delimiter, etc).","title":"Sending and receiving messages in java","body":"<p>All things being equal (starting from what you already have) you could do something like this:</p>\n<pre><code>        public static void receiveResponse(Socket socket) {\n            try {                \n                DataInputStream in = new DataInputStream(socket.getInputStream());\n                String yoo = in.readUTF();\n                System.out.println(&quot;Client: &quot; + yoo);\n                if(!yoo.isEmpty()){\n                    System.out.println(&quot;message received&quot;);\n                }\n                if(yoo.equalsIgnoreCase(&quot;exit&quot;)){\n                    System.out.println(&quot;Hello world&quot;);\n                }\n    \n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n<p>Some things you'll need to look at a little:</p>\n<ul>\n<li>Replacing <code>Main</code> class with a <code>Client</code> class that manages the communication. This would allow you to maintain <code>socket</code>, <code>inStream</code> and <code>outStream</code> as instance variables.</li>\n<li>Maybe look at replacing <code>DataInputStream</code> with a more specific / consistent transfer protocol method (byte count, delimiter, etc).</li>\n</ul>\n"}],"owner":{"account_id":15311215,"reputation":1,"user_id":14116018,"display_name":"Abelkelly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656610305,"creation_date":1656589314,"question_id":72815154,"body_markdown":"I&#39;m currently working on a TCP/IP socket request response system using java, I was able to setup some client/server interfaces where the client is able to send messages to the server and the server prints the message so the console. I want the server to also be able to send responses to the client and vis-versa. Is there a way possible I can achieve this ?\r\n\r\nThis is the client code\r\n\r\n```\r\n\r\n     import java.io.*;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            String localhost = &quot;127.0.0.1&quot;;\r\n            int port = 8091;\r\n            sendMessage(localhost, port);\r\n        }\r\n    \r\n        public static void sendMessage(String server, int port) throws IOException {\r\n            // Client\r\n            Socket socket = new Socket(server, port);\r\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n            while(true){\r\n                String input = bufferedReader.readLine();\r\n                output.writeUTF(input);\r\n                System.out.println(&quot;message sent &quot; + input );\r\n    //           receiveResponse(port);\r\n                if(input.equalsIgnoreCase(&quot;exit&quot;))\r\n                    break;\r\n    //            if(output.writeUTF(input)){}\r\n            }\r\n            socket.close();\r\n    \r\n        }\r\n    \r\n        public static void receiveResponse(int port) {\r\n            try {\r\n                ServerSocket serverSocket = new ServerSocket(port);\r\n                Socket as = serverSocket.accept();\r\n                DataInputStream in = new DataInputStream(as.getInputStream());\r\n                String yoo = in.readUTF();\r\n                System.out.println(&quot;Client: &quot; + yoo);\r\n                if(!yoo.isEmpty()){\r\n                    System.out.println(&quot;message received&quot;);\r\n                }\r\n                if(yoo.equalsIgnoreCase(&quot;exit&quot;)){\r\n                    System.out.println(&quot;Hello world&quot;);\r\n                }\r\n    \r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }```\r\n\r\n\r\nBelow is the server code\r\n\r\n    ``` \r\n    import java.io.*;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class Server {\r\n        public static void main(String[] args) throws IOException {\r\n            int port = 8091;\r\n          receiveMessage(port);\r\n    \r\n        }\r\n    \r\n        public static void receiveMessage(int port) throws IOException {\r\n            ServerSocket serverSocket = new ServerSocket(port);\r\n            Socket as = serverSocket.accept();\r\n            System.out.println(&quot;Connected&quot;);\r\n            System.out.println(&quot;incoming = &quot; + as.getInputStream());\r\n            DataInputStream in = new DataInputStream(as.getInputStream());\r\n    \r\n    \r\n    \r\n            System.out.println(in.readUTF());\r\n            // ==========================\r\n    \r\n            while(true){\r\n                String yoo = in.readUTF();\r\n                System.out.println(&quot;Client: &quot; + yoo);\r\n                if(!yoo.isEmpty()){\r\n    //                sendResult();\r\n                    System.out.println(&quot;message received&quot;);\r\n                }\r\n                if(yoo.equalsIgnoreCase(&quot;exit&quot;))\r\n                    break;\r\n            }\r\n            as.close();\r\n        }\r\n    \r\n        public static void sendResult( ) {\r\n            try {\r\n                System.out.println(&quot;HELLO WORLD&quot;);\r\n                System.out.println(&quot;Connected to client&quot;);\r\n    //            ObjectOutputStream os = new ObjectOutputStream(as.getOutputStream());\r\n    //\r\n    //            os.writeObject(result);\r\n    //            System.out.println(&quot;Result sent&quot;);\r\n    \r\n                String str = &quot;Hello World&quot;;\r\n                OutputStreamWriter osw;\r\n                Socket socket = null;\r\n                socket = new Socket(&quot;localhost&quot;, 8090);\r\n                osw =new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\r\n                osw.write(str, 0, str.length());\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n     ```\r\n\r\n","title":"Sending and receiving messages in java","body":"<p>I'm currently working on a TCP/IP socket request response system using java, I was able to setup some client/server interfaces where the client is able to send messages to the server and the server prints the message so the console. I want the server to also be able to send responses to the client and vis-versa. Is there a way possible I can achieve this ?</p>\n<p>This is the client code</p>\n<pre><code>\n     import java.io.*;\n    import java.net.ServerSocket;\n    import java.net.Socket;\n    \n    public class Main {\n        public static void main(String[] args) throws IOException {\n            String localhost = &quot;127.0.0.1&quot;;\n            int port = 8091;\n            sendMessage(localhost, port);\n        }\n    \n        public static void sendMessage(String server, int port) throws IOException {\n            // Client\n            Socket socket = new Socket(server, port);\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n    \n            while(true){\n                String input = bufferedReader.readLine();\n                output.writeUTF(input);\n                System.out.println(&quot;message sent &quot; + input );\n    //           receiveResponse(port);\n                if(input.equalsIgnoreCase(&quot;exit&quot;))\n                    break;\n    //            if(output.writeUTF(input)){}\n            }\n            socket.close();\n    \n        }\n    \n        public static void receiveResponse(int port) {\n            try {\n                ServerSocket serverSocket = new ServerSocket(port);\n                Socket as = serverSocket.accept();\n                DataInputStream in = new DataInputStream(as.getInputStream());\n                String yoo = in.readUTF();\n                System.out.println(&quot;Client: &quot; + yoo);\n                if(!yoo.isEmpty()){\n                    System.out.println(&quot;message received&quot;);\n                }\n                if(yoo.equalsIgnoreCase(&quot;exit&quot;)){\n                    System.out.println(&quot;Hello world&quot;);\n                }\n    \n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n    }```\n\n\nBelow is the server code\n\n    ``` \n    import java.io.*;\n    import java.net.ServerSocket;\n    import java.net.Socket;\n    \n    public class Server {\n        public static void main(String[] args) throws IOException {\n            int port = 8091;\n          receiveMessage(port);\n    \n        }\n    \n        public static void receiveMessage(int port) throws IOException {\n            ServerSocket serverSocket = new ServerSocket(port);\n            Socket as = serverSocket.accept();\n            System.out.println(&quot;Connected&quot;);\n            System.out.println(&quot;incoming = &quot; + as.getInputStream());\n            DataInputStream in = new DataInputStream(as.getInputStream());\n    \n    \n    \n            System.out.println(in.readUTF());\n            // ==========================\n    \n            while(true){\n                String yoo = in.readUTF();\n                System.out.println(&quot;Client: &quot; + yoo);\n                if(!yoo.isEmpty()){\n    //                sendResult();\n                    System.out.println(&quot;message received&quot;);\n                }\n                if(yoo.equalsIgnoreCase(&quot;exit&quot;))\n                    break;\n            }\n            as.close();\n        }\n    \n        public static void sendResult( ) {\n            try {\n                System.out.println(&quot;HELLO WORLD&quot;);\n                System.out.println(&quot;Connected to client&quot;);\n    //            ObjectOutputStream os = new ObjectOutputStream(as.getOutputStream());\n    //\n    //            os.writeObject(result);\n    //            System.out.println(&quot;Result sent&quot;);\n    \n                String str = &quot;Hello World&quot;;\n                OutputStreamWriter osw;\n                Socket socket = null;\n                socket = new Socket(&quot;localhost&quot;, 8090);\n                osw =new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\n                osw.write(str, 0, str.length());\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n    \n    \n     ```\n\n</code></pre>\n"},{"tags":["java","certificate","bouncycastle","csr","certificate-authority"],"answers":[{"tags":[],"owner":{"account_id":462408,"reputation":6118,"user_id":864696,"accept_rate":90,"display_name":"Ross Presser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656610280,"creation_date":1656610280,"answer_id":72819845,"question_id":21140263,"body_markdown":"Answering this obsolete question for posterity:\r\n\r\nDigicert&#39;s [current CertCentral offering](https://www.digicert.com/solutions/security-solutions-for-automation) includes what they call Automation, which wraps up the ACME APIs in a very nice GUI. It relies on another ACME package to do its work -- on Windows targets, that package is `win-acme` -- to generate CSRs, install certs in the proper cert repository for that machine, etc. But the Automation Agent handles all the communication with Digicert, reporting its installed certs and bindings over the REST API, invoking `win-acme` to do the CSR submission, etc. And the server-side web UI makes requesting, renewing or reissuing certs practically turnkey.  End of sales pitch.\r\n\r\n(There are plenty of screenshots at that link so I won&#39;t add any more.)","title":"Automation of SSL Certificate generation using Digicert REST api","body":"<p>Answering this obsolete question for posterity:</p>\n<p>Digicert's <a href=\"https://www.digicert.com/solutions/security-solutions-for-automation\" rel=\"nofollow noreferrer\">current CertCentral offering</a> includes what they call Automation, which wraps up the ACME APIs in a very nice GUI. It relies on another ACME package to do its work -- on Windows targets, that package is <code>win-acme</code> -- to generate CSRs, install certs in the proper cert repository for that machine, etc. But the Automation Agent handles all the communication with Digicert, reporting its installed certs and bindings over the REST API, invoking <code>win-acme</code> to do the CSR submission, etc. And the server-side web UI makes requesting, renewing or reissuing certs practically turnkey.  End of sales pitch.</p>\n<p>(There are plenty of screenshots at that link so I won't add any more.)</p>\n"}],"owner":{"account_id":933072,"reputation":1263,"user_id":962536,"accept_rate":48,"display_name":"Tatha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656610280,"creation_date":1389796595,"question_id":21140263,"body_markdown":"We have a requirement of automating the process of certificate generation and raising a CSR (Certificate Signing Request) with a CA (Digicert in our case) and there by receiving a signed certificate.\r\n\r\nNow Digicert has a set of REST apis to achieve the same [Digicert Api](http://www.digicert.com/rest-api.htm). \r\n\r\nThe overall steps in automating the process will be like \r\n\r\n 1. Generating a private key (using Bouncy Castle api)\r\n 2. Raise a CSR with Digicert using their api. This should be at the same time creating the private key. The CSR would include the public key. More info  on a CSR is mentioned [here](http://www.sslshopper.com/what-is-a-csr-certificate-signing-request.html)\r\n 3. Use  the API to fetch the signed certificate.\r\n\r\nMy question is , has anyone done something similar like this before? What are the few issues that might crop up that i should know of.\r\n\r\nThanks for any help  \r\n\r\n ","title":"Automation of SSL Certificate generation using Digicert REST api","body":"<p>We have a requirement of automating the process of certificate generation and raising a CSR (Certificate Signing Request) with a CA (Digicert in our case) and there by receiving a signed certificate.</p>\n\n<p>Now Digicert has a set of REST apis to achieve the same <a href=\"http://www.digicert.com/rest-api.htm\" rel=\"nofollow\">Digicert Api</a>. </p>\n\n<p>The overall steps in automating the process will be like </p>\n\n<ol>\n<li>Generating a private key (using Bouncy Castle api)</li>\n<li>Raise a CSR with Digicert using their api. This should be at the same time creating the private key. The CSR would include the public key. More info  on a CSR is mentioned <a href=\"http://www.sslshopper.com/what-is-a-csr-certificate-signing-request.html\" rel=\"nofollow\">here</a></li>\n<li>Use  the API to fetch the signed certificate.</li>\n</ol>\n\n<p>My question is , has anyone done something similar like this before? What are the few issues that might crop up that i should know of.</p>\n\n<p>Thanks for any help  </p>\n"},{"tags":["java","android","android-studio","imagebutton"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656610051,"creation_date":1656610051,"answer_id":72819803,"question_id":72819367,"body_markdown":"Welcome to Stackoverflow.\r\n\r\nOne approach to get over this is have an Int array and store the drawables in the array in the format \r\n\r\nvar listOfImages = listOf&lt;Int&gt;(R.drawable.one,R.drawable.two)\r\n\r\nNow set the images as  ImageButton1.setImageResource(listOfImages(0))\r\n\r\nThat way you know which drawablr is being used","title":"ImageButton - how to read the image ID?","body":"<p>Welcome to Stackoverflow.</p>\n<p>One approach to get over this is have an Int array and store the drawables in the array in the format</p>\n<p>var listOfImages = listOf(R.drawable.one,R.drawable.two)</p>\n<p>Now set the images as  ImageButton1.setImageResource(listOfImages(0))</p>\n<p>That way you know which drawablr is being used</p>\n"}],"owner":{"account_id":4007287,"reputation":3,"user_id":3301664,"display_name":"Mariusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72819803,"answer_count":1,"score":-1,"last_activity_date":1656610051,"creation_date":1656607669,"question_id":72819367,"body_markdown":"Sorry for the banal question, but I&#39;m new to Android. I have such a problem. I have several ImageButton elements and I need to change their images depending on what is on them during onClick() event. While setting a new image is not a problem, I can not programmatically read what image is currently (the next image depends on it).I search various sources and can&#39;t find a solution. It is certainly very simple.\r\n\r\nI want to have a code like this:\r\n\r\n\r\n    if (ImageButton1.image... == R.drawable.img1)\r\n    {\r\n       ImageButton1.setImageResource(R.drawable.img2)\r\n       ImageButton2.setImageResource(R.drawable.img3)\r\n       ...\r\n    }\r\n\r\nAny help appreciated. Thanks... ","title":"ImageButton - how to read the image ID?","body":"<p>Sorry for the banal question, but I'm new to Android. I have such a problem. I have several ImageButton elements and I need to change their images depending on what is on them during onClick() event. While setting a new image is not a problem, I can not programmatically read what image is currently (the next image depends on it).I search various sources and can't find a solution. It is certainly very simple.</p>\n<p>I want to have a code like this:</p>\n<pre><code>if (ImageButton1.image... == R.drawable.img1)\n{\n   ImageButton1.setImageResource(R.drawable.img2)\n   ImageButton2.setImageResource(R.drawable.img3)\n   ...\n}\n</code></pre>\n<p>Any help appreciated. Thanks...</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1656605814,"post_id":72818887,"comment_id":128619574,"body_markdown":"Have you considered using a build tool like [Maven](https://maven.apache.org/)?  You&#39;re making your life way harder by doing this by hand.","body":"Have you considered using a build tool like <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a>?  You&#39;re making your life way harder by doing this by hand."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656611427,"post_id":72818887,"comment_id":128621362,"body_markdown":"&quot;_but also includes all of the assorted source files_&quot;  A solution to this is to specify a separate output directory when compiling your code (with `-d` when running `javac`).","body":"&quot;<i>but also includes all of the assorted source files</i>&quot;  A solution to this is to specify a separate output directory when compiling your code (with <code>-d</code> when running <code>javac</code>)."}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656606790,"creation_date":1656606790,"answer_id":72819196,"question_id":72818887,"body_markdown":"Check if your MANIFEST.mf has attribute Main-Class, if not add this attribute as below - \r\n\r\nMain-Class: com.xyz.MainClass","title":"Jar- build with subdirectories but only include .class files","body":"<p>Check if your MANIFEST.mf has attribute Main-Class, if not add this attribute as below -</p>\n<p>Main-Class: com.xyz.MainClass</p>\n"}],"owner":{"account_id":22381602,"reputation":496,"user_id":16595100,"display_name":"Enderbyte09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656609997,"creation_date":1656605152,"question_id":72818887,"body_markdown":"In java I have a project whose directory structure looks like this\r\n```\r\n.\r\n enderbyteprograms\r\n&#160;&#160;  consolecolours.class\r\n&#160;&#160;  consolecolours.java\r\n&#160;&#160;  consolegames\r\n&#160;&#160; &#160;&#160;  games\r\n&#160;&#160; &#160;&#160; &#160;&#160;  Game.class\r\n&#160;&#160; &#160;&#160; &#160;&#160;  Game.java\r\n&#160;&#160; &#160;&#160; &#160;&#160;  guess_the_number.class\r\n&#160;&#160; &#160;&#160; &#160;&#160;  guess_the_number.java\r\n&#160;&#160; &#160;&#160; &#160;&#160;  testgame.class\r\n&#160;&#160; &#160;&#160; &#160;&#160;  testgame.java\r\n&#160;&#160; &#160;&#160;  Main.class\r\n&#160;&#160; &#160;&#160;  Main.java\r\n&#160;&#160; &#160;&#160;  shared.class\r\n&#160;&#160; &#160;&#160;  shared.java\r\n&#160;&#160;  enderlib.class\r\n&#160;&#160;  enderlib.java\r\n META-INF\r\n     MANIFEST.mf\r\n```\r\nI am trying to build this in to a jar that only has the .class files. \r\n```jar cvfm consolegames.jar META-INF/MANIFEST.mf enderbyteprograms/*.class``` only includes the top level of classes, causing the program to complain about not finding the entry point. Building with ```jar cvfm consolegames.jar META-INF/MANIFEST.mf enderbyteprograms/*``` includes the subdirectories but also includes all of the assorted source files leading to unnecessary complexity. How to build a jar file that only includes *.class files but also includes the directory hierarchy? [jar 11.0.15]\r\n\r\nEDIT 1:\r\nThe manifest file is\r\n```\r\nManifest-Version: 1.0\r\nCreated-By: Enderbyte Programs\r\nMain-Class: enderbyteprograms.consolegames.Main\r\n```","title":"Jar- build with subdirectories but only include .class files","body":"<p>In java I have a project whose directory structure looks like this</p>\n<pre><code>.\n enderbyteprograms\n  consolecolours.class\n  consolecolours.java\n  consolegames\n   games\n    Game.class\n    Game.java\n    guess_the_number.class\n    guess_the_number.java\n    testgame.class\n    testgame.java\n   Main.class\n   Main.java\n   shared.class\n   shared.java\n  enderlib.class\n  enderlib.java\n META-INF\n     MANIFEST.mf\n</code></pre>\n<p>I am trying to build this in to a jar that only has the .class files.\n<code>jar cvfm consolegames.jar META-INF/MANIFEST.mf enderbyteprograms/*.class</code> only includes the top level of classes, causing the program to complain about not finding the entry point. Building with <code>jar cvfm consolegames.jar META-INF/MANIFEST.mf enderbyteprograms/*</code> includes the subdirectories but also includes all of the assorted source files leading to unnecessary complexity. How to build a jar file that only includes *.class files but also includes the directory hierarchy? [jar 11.0.15]</p>\n<p>EDIT 1:\nThe manifest file is</p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: Enderbyte Programs\nMain-Class: enderbyteprograms.consolegames.Main\n</code></pre>\n"},{"tags":["java","coordinates","mouseevent","graphstream"],"answers":[{"tags":[],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656609801,"creation_date":1656609801,"answer_id":72819762,"question_id":72818939,"body_markdown":"After a lot of reading and debuging while trying to understand how `view.findNodeOrSpriteAt();` is working I&#39;ve found a solution.\r\n\r\nThe [Camera][1] class *(view.getCamera( ))* have methods to do exactly what I was looking for.  \r\n`transformGuToPx(double x, double y, double z)` -&gt; coordinates to pixels.  \r\n`transformPxToGu(double x, double y)` -&gt; pixels to coordinates.  \r\n\r\nSo, using them I can convert the `MouseEvent` coordinates:\r\n```java\r\nview.getCamera().transformPxToGu(mouseEvent.getX(), mouseEvent.getY());\r\n```\r\n\r\n\r\n\r\n  [1]: https://data.graphstream-project.org/api/gs-core/current/org/graphstream/ui/view/Camera.html","title":"Translate MouseEvent coordinates to GraphStream&#39;s element coordinates","body":"<p>After a lot of reading and debuging while trying to understand how <code>view.findNodeOrSpriteAt();</code> is working I've found a solution.</p>\n<p>The <a href=\"https://data.graphstream-project.org/api/gs-core/current/org/graphstream/ui/view/Camera.html\" rel=\"nofollow noreferrer\">Camera</a> class <em>(view.getCamera( ))</em> have methods to do exactly what I was looking for.<br />\n<code>transformGuToPx(double x, double y, double z)</code> -&gt; coordinates to pixels.<br />\n<code>transformPxToGu(double x, double y)</code> -&gt; pixels to coordinates.</p>\n<p>So, using them I can convert the <code>MouseEvent</code> coordinates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>view.getCamera().transformPxToGu(mouseEvent.getX(), mouseEvent.getY());\n</code></pre>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72819762,"answer_count":1,"score":1,"last_activity_date":1656609801,"creation_date":1656605420,"question_id":72818939,"body_markdown":"***tl;dr*** how to get closest `GraphicElement` coordinates given `MouseEvent` coordinates?\r\n\r\nI created a [big graph][1] that represents the road map of a certain region using `Graphstream` and I&#39;m trying to find the closest node to an occuring `MouseEvent`.\r\n\r\nMy problem is that the `MouseEvent` coordinates are relative to the frame resulotion while my `GraphicElement`&#39;s coordinates are longitude and latitude of real location.\r\n\r\nFor example, when clicking on a Node and get it using `MouseManager` with the following code:\r\n```java\r\n    @Override\r\n    public void mouseReleased(MouseEvent e) {\r\n        super.mouseReleased(e);\r\n        GraphicElement graphicElement = view.findNodeOrSpriteAt(e.getX(), e.getY());\r\n        if(graphicElement!= null){\r\n            System.out.println( &quot;node &quot;+graphicElement.getLabel()+ &quot;, xy (&quot;+graphicElement.getX() +&quot;,&quot;+ graphicElement.getY()+&quot;).&quot;);\r\n            System.out.println( &quot;MouseEvent xy (&quot;+e.getX() +&quot;,&quot;+e.getY()+&quot;).&quot;);\r\n        }\r\n    }\r\n```\r\nthe output will be:\r\n```\r\nnode 2, xy (34.7811627,32.0528169).\r\nMouseEvent xy (281,489).\r\n```\r\n\r\nIs there a `GraphStream` built-in method or someother way I can translate the frame&#39;s coordinates to my coordinates?\r\n\r\n  [1]: https://stackoverflow.com/questions/72691014/make-graphstream-render-only-what-changed","title":"Translate MouseEvent coordinates to GraphStream&#39;s element coordinates","body":"<p><em><strong>tl;dr</strong></em> how to get closest <code>GraphicElement</code> coordinates given <code>MouseEvent</code> coordinates?</p>\n<p>I created a <a href=\"https://stackoverflow.com/questions/72691014/make-graphstream-render-only-what-changed\">big graph</a> that represents the road map of a certain region using <code>Graphstream</code> and I'm trying to find the closest node to an occuring <code>MouseEvent</code>.</p>\n<p>My problem is that the <code>MouseEvent</code> coordinates are relative to the frame resulotion while my <code>GraphicElement</code>'s coordinates are longitude and latitude of real location.</p>\n<p>For example, when clicking on a Node and get it using <code>MouseManager</code> with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void mouseReleased(MouseEvent e) {\n        super.mouseReleased(e);\n        GraphicElement graphicElement = view.findNodeOrSpriteAt(e.getX(), e.getY());\n        if(graphicElement!= null){\n            System.out.println( &quot;node &quot;+graphicElement.getLabel()+ &quot;, xy (&quot;+graphicElement.getX() +&quot;,&quot;+ graphicElement.getY()+&quot;).&quot;);\n            System.out.println( &quot;MouseEvent xy (&quot;+e.getX() +&quot;,&quot;+e.getY()+&quot;).&quot;);\n        }\n    }\n</code></pre>\n<p>the output will be:</p>\n<pre><code>node 2, xy (34.7811627,32.0528169).\nMouseEvent xy (281,489).\n</code></pre>\n<p>Is there a <code>GraphStream</code> built-in method or someother way I can translate the frame's coordinates to my coordinates?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656608879,"creation_date":1656608399,"answer_id":72819514,"question_id":72819467,"body_markdown":"Your pattern has `(?!\\S)` at the end that applies to both alternatives, but asserting a whitespace boundary to the right will not match `inc.,`\r\n\r\n&lt;hr&gt;\r\n\r\nYou could for example use a word boundary `\\b` for both ends to prevent partial word matches (or for the first part you could still use the `(?&lt;!\\S)`) \r\n\r\nThen assert not a word character after `inc.` using a negative lookahead `(?!\\w)`\r\n\r\n\r\n    (?iu)\\b(((Inc)\\.(?!\\w))|(Professional\\sEntity\\b))\r\n\r\n[Regex demo](https://regex101.com/r/0yEbl4/1)\r\n\r\nIf you don&#39;t need the capture groups:\r\n\r\n    (?iu)\\b(?:Inc\\.(?!\\w)|Professional\\sEntity\\b)","title":"Regular expression to check if a word is within a string including delimiters","body":"<p>Your pattern has <code>(?!\\S)</code> at the end that applies to both alternatives, but asserting a whitespace boundary to the right will not match <code>inc.,</code></p>\n<hr>\n<p>You could for example use a word boundary <code>\\b</code> for both ends to prevent partial word matches (or for the first part you could still use the <code>(?&lt;!\\S)</code>)</p>\n<p>Then assert not a word character after <code>inc.</code> using a negative lookahead <code>(?!\\w)</code></p>\n<pre><code>(?iu)\\b(((Inc)\\.(?!\\w))|(Professional\\sEntity\\b))\n</code></pre>\n<p><a href=\"https://regex101.com/r/0yEbl4/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>If you don't need the capture groups:</p>\n<pre><code>(?iu)\\b(?:Inc\\.(?!\\w)|Professional\\sEntity\\b)\n</code></pre>\n"}],"owner":{"account_id":1499143,"reputation":921,"user_id":1404364,"accept_rate":60,"display_name":"0x29A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72819514,"answer_count":1,"score":0,"last_activity_date":1656608879,"creation_date":1656608120,"question_id":72819467,"body_markdown":"I am trying to write a regular expression that matches string that contain a certain word (Professional Entity or Inc.). The closest to this I got to is the following:\r\n\r\n    (?i)(?u)(?&lt;!\\S)(((Inc)\\.)|(Professional\\sEntity))(?!\\S)\r\n\r\nHowever the fails where there are special characters like ,-, etc\r\n\r\n**Sample strings that should work:**\r\n\r\n    test PROFESSIONAL ENTITY new\r\n    test inc. new\r\n    test inc., new\r\n    test inc.,new\r\n    inc., new test\r\n    PROFESSIONAL ENTITY new\r\n    PROFESSIONAL ENTITY new test\r\n    PROFESSIONAL ENTITY, new\r\n    PROFESSIONAL ENTITY,new\r\n    test PROFESSIONAL ENTITY,\r\n    PROFESSIONAL ENTITY,\r\n    PROFESSIONAL ENTITY, new test\r\n    PROFESSIONAL ENTITY,new test\r\n    PROFESSIONAL ENTITY-new test\r\n    PROFESSIONAL ENTITY- new test\r\n\r\n**Sample strings that should not work:**\r\n\r\n    PROFESSIONAL ENTITYnew test\r\n    test inc.test\r\n    test PROFESSIONAL ENTITYnew\r\n    testPROFESSIONAL ENTITY new\r\n\r\n","title":"Regular expression to check if a word is within a string including delimiters","body":"<p>I am trying to write a regular expression that matches string that contain a certain word (Professional Entity or Inc.). The closest to this I got to is the following:</p>\n<pre><code>(?i)(?u)(?&lt;!\\S)(((Inc)\\.)|(Professional\\sEntity))(?!\\S)\n</code></pre>\n<p>However the fails where there are special characters like ,-, etc</p>\n<p><strong>Sample strings that should work:</strong></p>\n<pre><code>test PROFESSIONAL ENTITY new\ntest inc. new\ntest inc., new\ntest inc.,new\ninc., new test\nPROFESSIONAL ENTITY new\nPROFESSIONAL ENTITY new test\nPROFESSIONAL ENTITY, new\nPROFESSIONAL ENTITY,new\ntest PROFESSIONAL ENTITY,\nPROFESSIONAL ENTITY,\nPROFESSIONAL ENTITY, new test\nPROFESSIONAL ENTITY,new test\nPROFESSIONAL ENTITY-new test\nPROFESSIONAL ENTITY- new test\n</code></pre>\n<p><strong>Sample strings that should not work:</strong></p>\n<pre><code>PROFESSIONAL ENTITYnew test\ntest inc.test\ntest PROFESSIONAL ENTITYnew\ntestPROFESSIONAL ENTITY new\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1656600003,"post_id":72817399,"comment_id":128617214,"body_markdown":"1) Remove `container.setLayout(null);` 2) Code it again using layouts. 3) Problem (likely) solved.","body":"1) Remove <code>container.setLayout(null);</code> 2) Code it again using layouts. 3) Problem (likely) solved."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656608083,"creation_date":1656601771,"answer_id":72818151,"question_id":72817399,"body_markdown":"There are lots of problems with your code.\r\n1. You are [shadowing][1] member variables `frame` and `lframe` in the constructor of class `TestFrame`.\r\n```java\r\nJFrame lframe=new JFrame();\r\n```\r\nand\r\n```java\r\nJFrame frame = new JFrame();\r\n```\r\nHere `lframe` and `frame` are local variables and not the class members.\r\n\r\n2. You are incorrectly initializing class member `container`.\r\n```java\r\ncontainer = getContentPane();\r\n```\r\nClass `TestFrame` extends class `javax.swing.JFrame` so `container` actually refers to the [content pane][2] of `TestFrame` when you actually want the content pane of `lframe`. Hence you are not adding any components to `lframe`.\r\n\r\n3. The code in your question does not compile since class `TestFrame` does not correctly implement interface [ActionListener][3] since it does not contain a method named `actionPerformed`.\r\n\r\nThe below code is your code with my fixes added. Note that I don&#39;t have your images, so I added text to the `JLabel`s instead of icons. Also I added a `main` method &amp;ndash; which the code in your question does not have &amp;ndash; in order to be able to run the code as a Java application.\r\n```java\r\nimport java.awt.Container;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPasswordField;\r\nimport javax.swing.JTextField;\r\n\r\npublic class TestFrame extends JFrame implements ActionListener{\r\n\r\n    private JFrame frame; //main frame\r\n    private JFrame lframe; //login frame\r\n    private Container container;\r\n    private JLabel userLabel;\r\n    private JLabel passwordLabel;\r\n    private JTextField userTextField;\r\n    private JPasswordField passwordField;\r\n    private JButton loginButton;\r\n    private JButton resetButton;\r\n    private JCheckBox showPassword;\r\n\r\n\r\n    /**\r\n     * Launch the application.\r\n     */\r\n    \r\n\r\n    /**\r\n     * Create the application. Rest of the program here.\r\n     */\r\n    public TestFrame() {\r\n//        container = getContentPane();\r\n        userLabel = new JLabel(&quot;USERNAME&quot;);\r\n        passwordLabel = new JLabel(&quot;PASSWORD&quot;);\r\n        userTextField = new JTextField();\r\n        passwordField = new JPasswordField();\r\n        loginButton = new JButton(&quot;LOGIN&quot;);\r\n        resetButton = new JButton(&quot;RESET&quot;);\r\n        showPassword = new JCheckBox(&quot;Show Password&quot;);\r\n        /*JFrame*/ lframe=new JFrame();\r\n        container = lframe.getContentPane(); // ADDED this line\r\n        lframe.setTitle(&quot;Login BHMS&quot;);\r\n\r\n        /*JFrame*/ frame = new JFrame();\r\n        frame.setTitle(&quot;Test System&quot;);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(new JLabel(/*new ImageIcon(&quot;test.png&quot;)*/&quot;test.png&quot;));\r\n        frame.setResizable(false);\r\n        JMenuBar menuBar = new JMenuBar();\r\n        frame.setJMenuBar(menuBar);\r\n        \r\n        /**\r\n         *\r\n         * @Main Page, IGNORE-----------------------------------------------------------------------------------------------------------------\r\n         */\r\n        \r\n        frame.setVisible(true); //the main frame\r\n        lframe.setVisible(true); //if the login is successful then the main frame is visible\r\n    }\r\n\r\n    public void login() {\r\n        setLayoutManager();\r\n        setLocationAndSize();\r\n        addComponentsToContainer();\r\n        addActionEvent();\r\n        lframe.setVisible(true);\r\n    }\r\n\r\n    public void setLayoutManager() {\r\n        container.setLayout(null);\r\n    }\r\n \r\n    public void setLocationAndSize() {\r\n        lframe.setBounds(500,500,500,500);\r\n        userLabel.setBounds(50, 150, 100, 30);\r\n        passwordLabel.setBounds(50, 220, 100, 30);\r\n        userTextField.setBounds(150, 150, 150, 30);\r\n        passwordField.setBounds(150, 220, 150, 30);\r\n        showPassword.setBounds(150, 250, 150, 30);\r\n        loginButton.setBounds(50, 300, 100, 30);\r\n        resetButton.setBounds(200, 300, 100, 30);\r\n    }\r\n \r\n    public void addComponentsToContainer() {\r\n        container.add(userLabel);\r\n        container.add(passwordLabel);\r\n        container.add(userTextField);\r\n        container.add(passwordField);\r\n        container.add(showPassword);\r\n        container.add(loginButton);\r\n        container.add(resetButton);\r\n        \r\n        JLabel lblNewLabel = new JLabel(&quot;test1.png&quot;);\r\n//        lblNewLabel.setIcon(new ImageIcon(login.class.getResource(&quot;/development/test1.png&quot;)));\r\n        lblNewLabel.setBounds(106, 10, 204, 113);\r\n        getContentPane().add(lblNewLabel);\r\n    }\r\n \r\n    public void addActionEvent() {\r\n        loginButton.addActionListener(this);\r\n        resetButton.addActionListener(this);\r\n        showPassword.addActionListener(this);\r\n    }\r\n\r\n    public void /*loginA*/actionPerformed(ActionEvent e) {\r\n        //Coding Part of LOGIN button\r\n        if (e.getSource() == loginButton) {\r\n            String userText;\r\n            String pwdText;\r\n            userText = userTextField.getText();\r\n            pwdText = passwordField.getText();\r\n            if (userText.equalsIgnoreCase(&quot;Admin&quot;) &amp;&amp; pwdText.equalsIgnoreCase(&quot;Admin&quot;)) {\r\n                JOptionPane.showMessageDialog(this, &quot;Login Successful.&quot;+&quot; Hello &quot;+userText);\r\n            } \r\n            else {\r\n                JOptionPane.showMessageDialog(this, &quot;Invalid Username or Password&quot;);\r\n            }\r\n        }\r\n        //Coding Part of RESET button\r\n        if (e.getSource() == resetButton) {\r\n            userTextField.setText(&quot;&quot;);\r\n            passwordField.setText(&quot;&quot;);\r\n        }\r\n       //Coding Part of showPassword JCheckBox\r\n        if (e.getSource() == showPassword) {\r\n            if (showPassword.isSelected()) {\r\n                passwordField.setEchoChar((char) 0);\r\n            } else {\r\n                passwordField.setEchoChar(&#39;*&#39;);\r\n            }\r\n        }        \r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            new TestFrame().login();\r\n        });\r\n    }\r\n}\r\n```\r\nThis is how `lframe` looks when I run the above code. Note that when I run the code, `frame` appears &quot;behind&quot; `lframe` and takes up the entire screen.\r\n\r\n[![screen capture][4]][4]\r\n\r\nHowever...\r\n----\r\nThe experts say that a *Swing* application should only have one `JFrame`. Hence I suggest that you make `lframe` a `JDialog` and not a `JFrame`. I suggest that you initialize `frame` but do not make it visible. Only make it visible **after** the user has successfully logged in.\r\n\r\nI also get the impression that you want `frame` to have a background image. If that is the case, then using a `JLabel` is not the way to do it. In order to do it, extend class `javax.swing.JPanel` and override its [paintComponent][5] method.\r\n\r\nThe below code demonstrates. Note that the below code uses [layout managers][6]. Also note that file *test.png* needs to be in the same folder as file *TestFrame.class*. Also, the below code uses [method references][7].\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Container;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.Image;\r\nimport java.awt.event.ActionEvent;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JPasswordField;\r\nimport javax.swing.JTextField;\r\n\r\npublic class TestFrame extends JPanel implements Runnable {\r\n    private boolean initial;\r\n    private char echoChar;\r\n    private Image backgroundImage;\r\n    private JCheckBox showPassword;\r\n    private JDialog lframe; //login frame\r\n    private JFrame frame; //main frame\r\n    private JPasswordField passwordField;\r\n    private JTextField userTextField;\r\n\r\n    public TestFrame() {\r\n        initial = true;\r\n        try {\r\n            backgroundImage = ImageIO.read(getClass().getResource(&quot;test.png&quot;));\r\n        }\r\n        catch (IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void run() {\r\n        createAndDisplayGui();\r\n    }\r\n\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        if (initial &amp;&amp; backgroundImage != null) {\r\n            initial = false;\r\n            Container contentPane = frame.getContentPane();\r\n            backgroundImage = backgroundImage.getScaledInstance(contentPane.getWidth(),\r\n                                                                contentPane.getHeight(),\r\n                                                                Image.SCALE_DEFAULT);\r\n        }\r\n        g.drawImage(backgroundImage, 0, 0, null);\r\n    }\r\n\r\n    private void checkLogin(ActionEvent event) {\r\n        String userText = userTextField.getText();\r\n        String password = new String(passwordField.getPassword());\r\n        if (&quot;Admin&quot;.equals(userText) &amp;&amp; &quot;Admin&quot;.equals(password)) {\r\n            lframe.dispose();\r\n            frame.setVisible(true);\r\n        }\r\n        else {\r\n            JOptionPane.showMessageDialog(lframe,\r\n                                          &quot;Incorrect username or password.&quot;,\r\n                                          &quot;ERROR&quot;,\r\n                                          JOptionPane.ERROR_MESSAGE);\r\n        }\r\n    }\r\n\r\n    private void createAndDisplayGui() {\r\n        frame = new JFrame(&quot;Test System&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.add(this);\r\n        frame.setResizable(false);\r\n        JMenuBar menuBar = new JMenuBar();\r\n        frame.setJMenuBar(menuBar);\r\n        showLogin();\r\n    }\r\n\r\n    private JPanel createLoginButtons() {\r\n        JPanel buttonsPanel = new JPanel();\r\n        JButton loginButton = new JButton(&quot;LOGIN&quot;);\r\n        loginButton.addActionListener(this::checkLogin);\r\n        JButton resetButton = new JButton(&quot;RESET&quot;);\r\n        resetButton.addActionListener(this::resetLogin);\r\n        buttonsPanel.add(loginButton);\r\n        buttonsPanel.add(resetButton);\r\n        return buttonsPanel;\r\n    }\r\n\r\n    private JPanel createLoginForm() {\r\n        JPanel loginForm = new JPanel(new GridBagLayout());\r\n        loginForm.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.LINE_START;\r\n        gbc.insets.bottom = 5;\r\n        gbc.insets.left = 5;\r\n        gbc.insets.right = 5;\r\n        gbc.insets.top = 5;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        JLabel userLabel = new JLabel(&quot;USERNAME&quot;);\r\n        loginForm.add(userLabel, gbc);\r\n        gbc.gridx = 1;\r\n        userTextField = new JTextField(10);\r\n        loginForm.add(userTextField, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        JLabel passwordLabel = new JLabel(&quot;PASSWORD&quot;);\r\n        loginForm.add(passwordLabel, gbc);\r\n        gbc.gridx = 1;\r\n        passwordField = new JPasswordField(10);\r\n        echoChar = passwordField.getEchoChar();\r\n        loginForm.add(passwordField, gbc);\r\n        gbc.gridy = 2;\r\n        showPassword = new JCheckBox(&quot;Show Password&quot;);\r\n        showPassword.addActionListener(this::showOrHidePassword);\r\n        loginForm.add(showPassword, gbc);\r\n        return loginForm;\r\n    }\r\n\r\n    private void resetLogin(ActionEvent event) {\r\n        userTextField.setText(&quot;&quot;);\r\n        passwordField.setText(null);\r\n    }\r\n\r\n    private void showLogin() {\r\n        lframe = new JDialog(frame, &quot;Login BHMS&quot;);\r\n        lframe.setDefaultCloseOperation(JDialog.DO_NOTHING_ON_CLOSE);\r\n        lframe.add(createLoginForm(), BorderLayout.CENTER);\r\n        lframe.add(createLoginButtons(), BorderLayout.PAGE_END);\r\n        lframe.pack();\r\n        lframe.setLocationRelativeTo(null);\r\n        lframe.setVisible(true);\r\n    }\r\n\r\n    private void showOrHidePassword(ActionEvent event) {\r\n        if (showPassword.isSelected()) {\r\n            passwordField.setEchoChar((char) 0);\r\n        }\r\n        else {\r\n            passwordField.setEchoChar(echoChar);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new TestFrame());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/shadowing-in-java/\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\r\n  [4]: https://i.stack.imgur.com/iiHyi.png\r\n  [5]: https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\r\n  [7]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Java GUI- Set the Login Page to appear before the main Frame","body":"<p>There are lots of problems with your code.</p>\n<ol>\n<li>You are <a href=\"https://www.geeksforgeeks.org/shadowing-in-java/\" rel=\"nofollow noreferrer\">shadowing</a> member variables <code>frame</code> and <code>lframe</code> in the constructor of class <code>TestFrame</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>JFrame lframe=new JFrame();\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>JFrame frame = new JFrame();\n</code></pre>\n<p>Here <code>lframe</code> and <code>frame</code> are local variables and not the class members.</p>\n<ol start=\"2\">\n<li>You are incorrectly initializing class member <code>container</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>container = getContentPane();\n</code></pre>\n<p>Class <code>TestFrame</code> extends class <code>javax.swing.JFrame</code> so <code>container</code> actually refers to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">content pane</a> of <code>TestFrame</code> when you actually want the content pane of <code>lframe</code>. Hence you are not adding any components to <code>lframe</code>.</p>\n<ol start=\"3\">\n<li>The code in your question does not compile since class <code>TestFrame</code> does not correctly implement interface <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">ActionListener</a> since it does not contain a method named <code>actionPerformed</code>.</li>\n</ol>\n<p>The below code is your code with my fixes added. Note that I don't have your images, so I added text to the <code>JLabel</code>s instead of icons. Also I added a <code>main</code> method  which the code in your question does not have  in order to be able to run the code as a Java application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Container;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenuBar;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class TestFrame extends JFrame implements ActionListener{\n\n    private JFrame frame; //main frame\n    private JFrame lframe; //login frame\n    private Container container;\n    private JLabel userLabel;\n    private JLabel passwordLabel;\n    private JTextField userTextField;\n    private JPasswordField passwordField;\n    private JButton loginButton;\n    private JButton resetButton;\n    private JCheckBox showPassword;\n\n\n    /**\n     * Launch the application.\n     */\n    \n\n    /**\n     * Create the application. Rest of the program here.\n     */\n    public TestFrame() {\n//        container = getContentPane();\n        userLabel = new JLabel(&quot;USERNAME&quot;);\n        passwordLabel = new JLabel(&quot;PASSWORD&quot;);\n        userTextField = new JTextField();\n        passwordField = new JPasswordField();\n        loginButton = new JButton(&quot;LOGIN&quot;);\n        resetButton = new JButton(&quot;RESET&quot;);\n        showPassword = new JCheckBox(&quot;Show Password&quot;);\n        /*JFrame*/ lframe=new JFrame();\n        container = lframe.getContentPane(); // ADDED this line\n        lframe.setTitle(&quot;Login BHMS&quot;);\n\n        /*JFrame*/ frame = new JFrame();\n        frame.setTitle(&quot;Test System&quot;);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(new JLabel(/*new ImageIcon(&quot;test.png&quot;)*/&quot;test.png&quot;));\n        frame.setResizable(false);\n        JMenuBar menuBar = new JMenuBar();\n        frame.setJMenuBar(menuBar);\n        \n        /**\n         *\n         * @Main Page, IGNORE-----------------------------------------------------------------------------------------------------------------\n         */\n        \n        frame.setVisible(true); //the main frame\n        lframe.setVisible(true); //if the login is successful then the main frame is visible\n    }\n\n    public void login() {\n        setLayoutManager();\n        setLocationAndSize();\n        addComponentsToContainer();\n        addActionEvent();\n        lframe.setVisible(true);\n    }\n\n    public void setLayoutManager() {\n        container.setLayout(null);\n    }\n \n    public void setLocationAndSize() {\n        lframe.setBounds(500,500,500,500);\n        userLabel.setBounds(50, 150, 100, 30);\n        passwordLabel.setBounds(50, 220, 100, 30);\n        userTextField.setBounds(150, 150, 150, 30);\n        passwordField.setBounds(150, 220, 150, 30);\n        showPassword.setBounds(150, 250, 150, 30);\n        loginButton.setBounds(50, 300, 100, 30);\n        resetButton.setBounds(200, 300, 100, 30);\n    }\n \n    public void addComponentsToContainer() {\n        container.add(userLabel);\n        container.add(passwordLabel);\n        container.add(userTextField);\n        container.add(passwordField);\n        container.add(showPassword);\n        container.add(loginButton);\n        container.add(resetButton);\n        \n        JLabel lblNewLabel = new JLabel(&quot;test1.png&quot;);\n//        lblNewLabel.setIcon(new ImageIcon(login.class.getResource(&quot;/development/test1.png&quot;)));\n        lblNewLabel.setBounds(106, 10, 204, 113);\n        getContentPane().add(lblNewLabel);\n    }\n \n    public void addActionEvent() {\n        loginButton.addActionListener(this);\n        resetButton.addActionListener(this);\n        showPassword.addActionListener(this);\n    }\n\n    public void /*loginA*/actionPerformed(ActionEvent e) {\n        //Coding Part of LOGIN button\n        if (e.getSource() == loginButton) {\n            String userText;\n            String pwdText;\n            userText = userTextField.getText();\n            pwdText = passwordField.getText();\n            if (userText.equalsIgnoreCase(&quot;Admin&quot;) &amp;&amp; pwdText.equalsIgnoreCase(&quot;Admin&quot;)) {\n                JOptionPane.showMessageDialog(this, &quot;Login Successful.&quot;+&quot; Hello &quot;+userText);\n            } \n            else {\n                JOptionPane.showMessageDialog(this, &quot;Invalid Username or Password&quot;);\n            }\n        }\n        //Coding Part of RESET button\n        if (e.getSource() == resetButton) {\n            userTextField.setText(&quot;&quot;);\n            passwordField.setText(&quot;&quot;);\n        }\n       //Coding Part of showPassword JCheckBox\n        if (e.getSource() == showPassword) {\n            if (showPassword.isSelected()) {\n                passwordField.setEchoChar((char) 0);\n            } else {\n                passwordField.setEchoChar('*');\n            }\n        }        \n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            new TestFrame().login();\n        });\n    }\n}\n</code></pre>\n<p>This is how <code>lframe</code> looks when I run the above code. Note that when I run the code, <code>frame</code> appears &quot;behind&quot; <code>lframe</code> and takes up the entire screen.</p>\n<p><a href=\"https://i.stack.imgur.com/iiHyi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iiHyi.png\" alt=\"screen capture\" /></a></p>\n<h2>However...</h2>\n<p>The experts say that a <em>Swing</em> application should only have one <code>JFrame</code>. Hence I suggest that you make <code>lframe</code> a <code>JDialog</code> and not a <code>JFrame</code>. I suggest that you initialize <code>frame</code> but do not make it visible. Only make it visible <strong>after</strong> the user has successfully logged in.</p>\n<p>I also get the impression that you want <code>frame</code> to have a background image. If that is the case, then using a <code>JLabel</code> is not the way to do it. In order to do it, extend class <code>javax.swing.JPanel</code> and override its <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">paintComponent</a> method.</p>\n<p>The below code demonstrates. Note that the below code uses <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout managers</a>. Also note that file <em>test.png</em> needs to be in the same folder as file <em>TestFrame.class</em>. Also, the below code uses <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenuBar;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class TestFrame extends JPanel implements Runnable {\n    private boolean initial;\n    private char echoChar;\n    private Image backgroundImage;\n    private JCheckBox showPassword;\n    private JDialog lframe; //login frame\n    private JFrame frame; //main frame\n    private JPasswordField passwordField;\n    private JTextField userTextField;\n\n    public TestFrame() {\n        initial = true;\n        try {\n            backgroundImage = ImageIO.read(getClass().getResource(&quot;test.png&quot;));\n        }\n        catch (IOException x) {\n            x.printStackTrace();\n        }\n    }\n\n    public void run() {\n        createAndDisplayGui();\n    }\n\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        if (initial &amp;&amp; backgroundImage != null) {\n            initial = false;\n            Container contentPane = frame.getContentPane();\n            backgroundImage = backgroundImage.getScaledInstance(contentPane.getWidth(),\n                                                                contentPane.getHeight(),\n                                                                Image.SCALE_DEFAULT);\n        }\n        g.drawImage(backgroundImage, 0, 0, null);\n    }\n\n    private void checkLogin(ActionEvent event) {\n        String userText = userTextField.getText();\n        String password = new String(passwordField.getPassword());\n        if (&quot;Admin&quot;.equals(userText) &amp;&amp; &quot;Admin&quot;.equals(password)) {\n            lframe.dispose();\n            frame.setVisible(true);\n        }\n        else {\n            JOptionPane.showMessageDialog(lframe,\n                                          &quot;Incorrect username or password.&quot;,\n                                          &quot;ERROR&quot;,\n                                          JOptionPane.ERROR_MESSAGE);\n        }\n    }\n\n    private void createAndDisplayGui() {\n        frame = new JFrame(&quot;Test System&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.add(this);\n        frame.setResizable(false);\n        JMenuBar menuBar = new JMenuBar();\n        frame.setJMenuBar(menuBar);\n        showLogin();\n    }\n\n    private JPanel createLoginButtons() {\n        JPanel buttonsPanel = new JPanel();\n        JButton loginButton = new JButton(&quot;LOGIN&quot;);\n        loginButton.addActionListener(this::checkLogin);\n        JButton resetButton = new JButton(&quot;RESET&quot;);\n        resetButton.addActionListener(this::resetLogin);\n        buttonsPanel.add(loginButton);\n        buttonsPanel.add(resetButton);\n        return buttonsPanel;\n    }\n\n    private JPanel createLoginForm() {\n        JPanel loginForm = new JPanel(new GridBagLayout());\n        loginForm.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.insets.bottom = 5;\n        gbc.insets.left = 5;\n        gbc.insets.right = 5;\n        gbc.insets.top = 5;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        JLabel userLabel = new JLabel(&quot;USERNAME&quot;);\n        loginForm.add(userLabel, gbc);\n        gbc.gridx = 1;\n        userTextField = new JTextField(10);\n        loginForm.add(userTextField, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        JLabel passwordLabel = new JLabel(&quot;PASSWORD&quot;);\n        loginForm.add(passwordLabel, gbc);\n        gbc.gridx = 1;\n        passwordField = new JPasswordField(10);\n        echoChar = passwordField.getEchoChar();\n        loginForm.add(passwordField, gbc);\n        gbc.gridy = 2;\n        showPassword = new JCheckBox(&quot;Show Password&quot;);\n        showPassword.addActionListener(this::showOrHidePassword);\n        loginForm.add(showPassword, gbc);\n        return loginForm;\n    }\n\n    private void resetLogin(ActionEvent event) {\n        userTextField.setText(&quot;&quot;);\n        passwordField.setText(null);\n    }\n\n    private void showLogin() {\n        lframe = new JDialog(frame, &quot;Login BHMS&quot;);\n        lframe.setDefaultCloseOperation(JDialog.DO_NOTHING_ON_CLOSE);\n        lframe.add(createLoginForm(), BorderLayout.CENTER);\n        lframe.add(createLoginButtons(), BorderLayout.PAGE_END);\n        lframe.pack();\n        lframe.setLocationRelativeTo(null);\n        lframe.setVisible(true);\n    }\n\n    private void showOrHidePassword(ActionEvent event) {\n        if (showPassword.isSelected()) {\n            passwordField.setEchoChar((char) 0);\n        }\n        else {\n            passwordField.setEchoChar(echoChar);\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new TestFrame());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23190433,"reputation":27,"user_id":17286881,"display_name":"Brainmated"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72818151,"answer_count":1,"score":0,"last_activity_date":1656608083,"creation_date":1656598601,"question_id":72817399,"body_markdown":"I&#39;m working on this code currently which implements a login page right before the main one. The code is as follows:\r\n```java\r\npublic class TestFrame extends JFrame implements ActionListener{\r\n\r\n    private JFrame frame; //main frame\r\n    private JFrame lframe; //login frame\r\n    private Container container;\r\n    private JLabel userLabel;\r\n    private JLabel passwordLabel;\r\n    private JTextField userTextField;\r\n    private JPasswordField passwordField;\r\n    private JButton loginButton;\r\n    private JButton resetButton;\r\n    private JCheckBox showPassword;\r\n\r\n    /**\r\n     * Launch the application.\r\n     */\r\n\r\n    /**\r\n     * Create the application. Rest of the program here.\r\n     */\r\n    public TestFrame() {\r\n        container = getContentPane();\r\n        userLabel = new JLabel(&quot;USERNAME&quot;);\r\n        passwordLabel = new JLabel(&quot;PASSWORD&quot;);\r\n        userTextField = new JTextField();\r\n        passwordField = new JPasswordField();\r\n        loginButton = new JButton(&quot;LOGIN&quot;);\r\n        resetButton = new JButton(&quot;RESET&quot;);\r\n        showPassword = new JCheckBox(&quot;Show Password&quot;);\r\n        JFrame lframe=new JFrame();\r\n        lframe.setTitle(&quot;Login BHMS&quot;);\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.setTitle(&quot;Test System&quot;);\r\n\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(new JLabel(new ImageIcon(&quot;test.png&quot;)));\r\n        frame.setResizable(false);\r\n        JMenuBar menuBar = new JMenuBar();\r\n        frame.setJMenuBar(menuBar);\r\n\r\n        /**\r\n         *\r\n         * @Main Page, IGNORE----------------------------------------------------------------------\r\n         */\r\n\r\n        frame.setVisible(true); //the main frame\r\n        lframe.setVisible(true); //if the login is successful then the main frame is visible\r\n    }\r\n\r\n    public void login() {\r\n        setLayoutManager();\r\n        setLocationAndSize();\r\n        addComponentsToContainer();\r\n        addActionEvent();\r\n        lframe.setVisible(true);\r\n    }\r\n\r\n    public void setLayoutManager() {\r\n        container.setLayout(null);\r\n    }\r\n \r\n    public void setLocationAndSize() {\r\n        lframe.setBounds(500,500,500,500);\r\n        userLabel.setBounds(50, 150, 100, 30);\r\n        passwordLabel.setBounds(50, 220, 100, 30);\r\n        userTextField.setBounds(150, 150, 150, 30);\r\n        passwordField.setBounds(150, 220, 150, 30);\r\n        showPassword.setBounds(150, 250, 150, 30);\r\n        loginButton.setBounds(50, 300, 100, 30);\r\n        resetButton.setBounds(200, 300, 100, 30);\r\n    }\r\n\r\n    public void addComponentsToContainer() {\r\n        container.add(userLabel);\r\n        container.add(passwordLabel);\r\n        container.add(userTextField);\r\n        container.add(passwordField);\r\n        container.add(showPassword);\r\n        container.add(loginButton);\r\n        container.add(resetButton);\r\n\r\n        JLabel lblNewLabel = new JLabel(&quot;&quot;);\r\n        lblNewLabel.setIcon(new ImageIcon(login.class.getResource(&quot;/development/test1.png&quot;)));\r\n        lblNewLabel.setBounds(106, 10, 204, 113);\r\n        getContentPane().add(lblNewLabel);\r\n    }\r\n\r\n    public void addActionEvent() {\r\n        loginButton.addActionListener(this);\r\n        resetButton.addActionListener(this);\r\n        showPassword.addActionListener(this);\r\n    }\r\n\r\n    public void loginActionPerformed(ActionEvent e) {\r\n        //Coding Part of LOGIN button\r\n        if (e.getSource() == loginButton) {\r\n            String userText;\r\n            String pwdText;\r\n            userText = userTextField.getText();\r\n            pwdText = passwordField.getText();\r\n            if (userText.equalsIgnoreCase(&quot;Admin&quot;) &amp;&amp; pwdText.equalsIgnoreCase(&quot;Admin&quot;)) {\r\n                JOptionPane.showMessageDialog(this, &quot;Login Successful.&quot;+&quot; Hello &quot;+userText);\r\n            } \r\n            else {\r\n                JOptionPane.showMessageDialog(this, &quot;Invalid Username or Password&quot;);\r\n            }\r\n        }\r\n        //Coding Part of RESET button\r\n        if (e.getSource() == resetButton) {\r\n            userTextField.setText(&quot;&quot;);\r\n            passwordField.setText(&quot;&quot;);\r\n        }\r\n        //Coding Part of showPassword JCheckBox\r\n        if (e.getSource() == showPassword) {\r\n            if (showPassword.isSelected()) {\r\n                passwordField.setEchoChar((char) 0);\r\n            } else {\r\n                passwordField.setEchoChar(&#39;*&#39;);\r\n            }\r\n        }\r\n    }\r\n```\r\nSo the login page alone works, with the right credentials we get the JOption MessageDialog that the credentials are correct. When I try to implement it in my main class it opens in front of the main Frame minimized like this:\r\n\r\n[![Login Frame][1]][1]\r\n\r\nDoes anyone know what exactly needs to be changed to appear as a whole?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pGy1Q.png","title":"Java GUI- Set the Login Page to appear before the main Frame","body":"<p>I'm working on this code currently which implements a login page right before the main one. The code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestFrame extends JFrame implements ActionListener{\n\n    private JFrame frame; //main frame\n    private JFrame lframe; //login frame\n    private Container container;\n    private JLabel userLabel;\n    private JLabel passwordLabel;\n    private JTextField userTextField;\n    private JPasswordField passwordField;\n    private JButton loginButton;\n    private JButton resetButton;\n    private JCheckBox showPassword;\n\n    /**\n     * Launch the application.\n     */\n\n    /**\n     * Create the application. Rest of the program here.\n     */\n    public TestFrame() {\n        container = getContentPane();\n        userLabel = new JLabel(&quot;USERNAME&quot;);\n        passwordLabel = new JLabel(&quot;PASSWORD&quot;);\n        userTextField = new JTextField();\n        passwordField = new JPasswordField();\n        loginButton = new JButton(&quot;LOGIN&quot;);\n        resetButton = new JButton(&quot;RESET&quot;);\n        showPassword = new JCheckBox(&quot;Show Password&quot;);\n        JFrame lframe=new JFrame();\n        lframe.setTitle(&quot;Login BHMS&quot;);\n\n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;Test System&quot;);\n\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(new JLabel(new ImageIcon(&quot;test.png&quot;)));\n        frame.setResizable(false);\n        JMenuBar menuBar = new JMenuBar();\n        frame.setJMenuBar(menuBar);\n\n        /**\n         *\n         * @Main Page, IGNORE----------------------------------------------------------------------\n         */\n\n        frame.setVisible(true); //the main frame\n        lframe.setVisible(true); //if the login is successful then the main frame is visible\n    }\n\n    public void login() {\n        setLayoutManager();\n        setLocationAndSize();\n        addComponentsToContainer();\n        addActionEvent();\n        lframe.setVisible(true);\n    }\n\n    public void setLayoutManager() {\n        container.setLayout(null);\n    }\n \n    public void setLocationAndSize() {\n        lframe.setBounds(500,500,500,500);\n        userLabel.setBounds(50, 150, 100, 30);\n        passwordLabel.setBounds(50, 220, 100, 30);\n        userTextField.setBounds(150, 150, 150, 30);\n        passwordField.setBounds(150, 220, 150, 30);\n        showPassword.setBounds(150, 250, 150, 30);\n        loginButton.setBounds(50, 300, 100, 30);\n        resetButton.setBounds(200, 300, 100, 30);\n    }\n\n    public void addComponentsToContainer() {\n        container.add(userLabel);\n        container.add(passwordLabel);\n        container.add(userTextField);\n        container.add(passwordField);\n        container.add(showPassword);\n        container.add(loginButton);\n        container.add(resetButton);\n\n        JLabel lblNewLabel = new JLabel(&quot;&quot;);\n        lblNewLabel.setIcon(new ImageIcon(login.class.getResource(&quot;/development/test1.png&quot;)));\n        lblNewLabel.setBounds(106, 10, 204, 113);\n        getContentPane().add(lblNewLabel);\n    }\n\n    public void addActionEvent() {\n        loginButton.addActionListener(this);\n        resetButton.addActionListener(this);\n        showPassword.addActionListener(this);\n    }\n\n    public void loginActionPerformed(ActionEvent e) {\n        //Coding Part of LOGIN button\n        if (e.getSource() == loginButton) {\n            String userText;\n            String pwdText;\n            userText = userTextField.getText();\n            pwdText = passwordField.getText();\n            if (userText.equalsIgnoreCase(&quot;Admin&quot;) &amp;&amp; pwdText.equalsIgnoreCase(&quot;Admin&quot;)) {\n                JOptionPane.showMessageDialog(this, &quot;Login Successful.&quot;+&quot; Hello &quot;+userText);\n            } \n            else {\n                JOptionPane.showMessageDialog(this, &quot;Invalid Username or Password&quot;);\n            }\n        }\n        //Coding Part of RESET button\n        if (e.getSource() == resetButton) {\n            userTextField.setText(&quot;&quot;);\n            passwordField.setText(&quot;&quot;);\n        }\n        //Coding Part of showPassword JCheckBox\n        if (e.getSource() == showPassword) {\n            if (showPassword.isSelected()) {\n                passwordField.setEchoChar((char) 0);\n            } else {\n                passwordField.setEchoChar('*');\n            }\n        }\n    }\n</code></pre>\n<p>So the login page alone works, with the right credentials we get the JOption MessageDialog that the credentials are correct. When I try to implement it in my main class it opens in front of the main Frame minimized like this:</p>\n<p><a href=\"https://i.stack.imgur.com/pGy1Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pGy1Q.png\" alt=\"Login Frame\" /></a></p>\n<p>Does anyone know what exactly needs to be changed to appear as a whole?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1610648739,"post_id":65724591,"comment_id":116205965,"body_markdown":"Works fine for me with Spring Boot `2.4.1`. Any chances to share with us a simple project to let us to reproduce?","body":"Works fine for me with Spring Boot <code>2.4.1</code>. Any chances to share with us a simple project to let us to reproduce?"}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656608023,"creation_date":1656608023,"answer_id":72819445,"question_id":65724591,"body_markdown":"Are you defining a custom `KafkaListenerContainerFactory` bean by any chance? In my case, I was and in such a case, the `spring.kafka.listener.ack-mode=manual_immediate` config has no effect. I had to set the ack mode programmatically into the `kafkaListenerContainerFactory` bean. My container factory bean definition(in Kotlin) ended up looking like below:\r\n\r\n```kotlin\r\n    @Bean\r\n    fun kafkaListenerContainerFactory(consumerFactory: ConsumerFactory&lt;Any, Any&gt;): KafkaListenerContainerFactory&lt;KafkaMessageListenerContainer&lt;Any, Any&gt;&gt; {\r\n        var containerFactory = ConcurrentKafkaListenerContainerFactory&lt;Any, Any&gt;()\r\n        containerFactory.consumerFactory = consumerFactory\r\n        containerFactory.containerProperties.ackMode = ContainerProperties.AckMode.MANUAL_IMMEDIATE\r\n\r\n        return containerFactory as KafkaListenerContainerFactory&lt;KafkaMessageListenerContainer&lt;Any, Any&gt;&gt;\r\n    }\r\n```","title":"Kafka No Acknowledgment available as an argument","body":"<p>Are you defining a custom <code>KafkaListenerContainerFactory</code> bean by any chance? In my case, I was and in such a case, the <code>spring.kafka.listener.ack-mode=manual_immediate</code> config has no effect. I had to set the ack mode programmatically into the <code>kafkaListenerContainerFactory</code> bean. My container factory bean definition(in Kotlin) ended up looking like below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Bean\n    fun kafkaListenerContainerFactory(consumerFactory: ConsumerFactory&lt;Any, Any&gt;): KafkaListenerContainerFactory&lt;KafkaMessageListenerContainer&lt;Any, Any&gt;&gt; {\n        var containerFactory = ConcurrentKafkaListenerContainerFactory&lt;Any, Any&gt;()\n        containerFactory.consumerFactory = consumerFactory\n        containerFactory.containerProperties.ackMode = ContainerProperties.AckMode.MANUAL_IMMEDIATE\n\n        return containerFactory as KafkaListenerContainerFactory&lt;KafkaMessageListenerContainer&lt;Any, Any&gt;&gt;\n    }\n</code></pre>\n"}],"owner":{"account_id":8915427,"reputation":275,"user_id":6654163,"accept_rate":100,"display_name":"Liverpool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2620,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72819445,"answer_count":1,"score":1,"last_activity_date":1656608023,"creation_date":1610647817,"question_id":65724591,"body_markdown":"we are trying to implement Kafka Acknowledgment in java spring project. Without the Acknowledgment, we successfully receive and read the message but when we add the Acknowledge in the method we receive this error:\r\n\r\n    org.springframework.kafka.listener.ListenerExecutionFailedException: invokeHandler Failed; nested exception is java.lang.IllegalStateException: \r\n    No Acknowledgment available as an argument, the listener container must have a MANUAL AckMode to populate the Acknowledgment.;\r\n     nested exception is java.lang.IllegalStateException:\r\n     No Acknowledgment available as an argument, the listener container must have a MANUAL AckMode to populate the Acknowledgment.\r\n     Caused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from \r\n     [proto.DeviceModelOuterClass$DevModel] to\r\n     [org.springframework.kafka.support.Acknowledgment] for GenericMessage [payload=sender: &quot;12345678-1234-1234-1234-123456789102&quot;\r\n\r\n\r\nThe way we implement the Acknowledge is like described in the Kafka API:\r\n\r\n      @KafkaListener(\r\n          id = Constants.TOPIC_LISTENER,\r\n          topics = &quot;${info.dev.name}&quot;,\r\n          autoStartup = &quot;false&quot;,\r\n    \t properties = {\r\n            &quot;value.deserializer=com.cit.iomt.core.DevModelDeserializer&quot;,\r\n            &quot;key.deserializer=org.apache.kafka.common.serialization.UUIDDeserializer&quot;\r\n          })\r\n      public void listenToUpdateTopic(@Payload DevModel message, Acknowledgment a) throws Exception {\r\n        LOG.info(Constants.READ_KAFKA_TOPIC, message);\r\n     a.acknowledge();}\r\n\r\nAnd in the properties file we have this:\r\n\r\n    spring.kafka.listener.ack-mode=manual_immediate\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.consumer.auto-offset-reset=earliest","title":"Kafka No Acknowledgment available as an argument","body":"<p>we are trying to implement Kafka Acknowledgment in java spring project. Without the Acknowledgment, we successfully receive and read the message but when we add the Acknowledge in the method we receive this error:</p>\n<pre><code>org.springframework.kafka.listener.ListenerExecutionFailedException: invokeHandler Failed; nested exception is java.lang.IllegalStateException: \nNo Acknowledgment available as an argument, the listener container must have a MANUAL AckMode to populate the Acknowledgment.;\n nested exception is java.lang.IllegalStateException:\n No Acknowledgment available as an argument, the listener container must have a MANUAL AckMode to populate the Acknowledgment.\n Caused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from \n [proto.DeviceModelOuterClass$DevModel] to\n [org.springframework.kafka.support.Acknowledgment] for GenericMessage [payload=sender: &quot;12345678-1234-1234-1234-123456789102&quot;\n</code></pre>\n<p>The way we implement the Acknowledge is like described in the Kafka API:</p>\n<pre><code>  @KafkaListener(\n      id = Constants.TOPIC_LISTENER,\n      topics = &quot;${info.dev.name}&quot;,\n      autoStartup = &quot;false&quot;,\n     properties = {\n        &quot;value.deserializer=com.cit.iomt.core.DevModelDeserializer&quot;,\n        &quot;key.deserializer=org.apache.kafka.common.serialization.UUIDDeserializer&quot;\n      })\n  public void listenToUpdateTopic(@Payload DevModel message, Acknowledgment a) throws Exception {\n    LOG.info(Constants.READ_KAFKA_TOPIC, message);\n a.acknowledge();}\n</code></pre>\n<p>And in the properties file we have this:</p>\n<pre><code>spring.kafka.listener.ack-mode=manual_immediate\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.consumer.auto-offset-reset=earliest\n</code></pre>\n"},{"tags":["java","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":440735,"reputation":455,"user_id":7858379,"display_name":"Rafael A P Nascimento"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1515001910,"creation_date":1515001910,"answer_id":48082604,"question_id":47886729,"body_markdown":"My application wasn&#39;t able to find the credentials file. I solved that by creating the global environment variable (in */etc/environment* file):\r\n**AWS_CREDENTIAL_PROFILES_FILE=&quot;/home/rafael/.aws/credentials&quot;**\r\n\r\nMake sure your application can see the variable:   \r\n\r\n     System.out.println(System.getenv(&quot;AWS_CREDENTIAL_PROFILES_FILE&quot;));\r\n        //output: /home/rafael/.aws/credentials\r\n\r\n\r\n","title":"ProfileCredentialsProvider: java.lang.IllegalArgumentException: profile file cannot be null","body":"<p>My application wasn't able to find the credentials file. I solved that by creating the global environment variable (in <em>/etc/environment</em> file):\n<strong>AWS_CREDENTIAL_PROFILES_FILE=\"/home/rafael/.aws/credentials\"</strong></p>\n\n<p>Make sure your application can see the variable:   </p>\n\n<pre><code> System.out.println(System.getenv(\"AWS_CREDENTIAL_PROFILES_FILE\"));\n    //output: /home/rafael/.aws/credentials\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8608258,"reputation":3412,"user_id":6447638,"accept_rate":40,"display_name":"batt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656607971,"creation_date":1656607971,"answer_id":72819437,"question_id":47886729,"body_markdown":"Just for eventually help someone that lost too time facing this problem using docker.\r\n\r\nJust launch `docker run` command with `-v ~/.aws:/root/.aws` flag and it works","title":"ProfileCredentialsProvider: java.lang.IllegalArgumentException: profile file cannot be null","body":"<p>Just for eventually help someone that lost too time facing this problem using docker.</p>\n<p>Just launch <code>docker run</code> command with <code>-v ~/.aws:/root/.aws</code> flag and it works</p>\n"}],"owner":{"account_id":440735,"reputation":455,"user_id":7858379,"display_name":"Rafael A P Nascimento"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6974,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48082604,"answer_count":2,"score":3,"last_activity_date":1656607971,"creation_date":1513685436,"question_id":47886729,"body_markdown":"I&#39;m trying to create **AWSCredentials** object by:\r\n\r\n    AWSCredentials cred =  new ProfileCredentialsProvider(&quot;Rafael_Nascimento&quot;).getCredentials();\r\n\r\nThe **credentials** file is located at **~/.aws** folder (Linux), it looks like:\r\n\r\n    # Move this credentials file to (~/.aws/credentials)\r\n    # after you fill in your access and secret keys in the default profile\r\n    # WARNING: To avoid accidental leakage of your credentials,\r\n    #          DO NOT keep this file in your source directory.\r\n    [default]\r\n    aws_access_key_id =  &lt;default_key&gt;\r\n    aws_secret_access_key = &lt;default_secret_key&gt;\r\n    [Rafael_Nascimento]\r\n    aws_secret_access_key = &lt;secret_key_Rafael_Nascimento&gt;\r\n    aws_access_key_id = &lt;key_Rafael_Nascimento&gt;\r\nWhen I run the code I get on that line:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: profile file cannot be null\r\n    \tat com.amazonaws.util.ValidationUtils.assertNotNull(ValidationUtils.java:37)\r\n    \tat com.amazonaws.auth.profile.ProfilesConfigFile.&lt;init&gt;(ProfilesConfigFile.java:142)\r\n    \tat com.amazonaws.auth.profile.ProfilesConfigFile.&lt;init&gt;(ProfilesConfigFile.java:133)\r\n    \tat com.amazonaws.auth.profile.ProfilesConfigFile.&lt;init&gt;(ProfilesConfigFile.java:100)\r\n    \tat com.amazonaws.auth.profile.ProfileCredentialsProvider.getCredentials(ProfileCredentialsProvider.java:135)\r\n\r\nWhat could be wrong?\r\nThanks!\r\n","title":"ProfileCredentialsProvider: java.lang.IllegalArgumentException: profile file cannot be null","body":"<p>I'm trying to create <strong>AWSCredentials</strong> object by:</p>\n\n<pre><code>AWSCredentials cred =  new ProfileCredentialsProvider(\"Rafael_Nascimento\").getCredentials();\n</code></pre>\n\n<p>The <strong>credentials</strong> file is located at <strong>~/.aws</strong> folder (Linux), it looks like:</p>\n\n<pre><code># Move this credentials file to (~/.aws/credentials)\n# after you fill in your access and secret keys in the default profile\n# WARNING: To avoid accidental leakage of your credentials,\n#          DO NOT keep this file in your source directory.\n[default]\naws_access_key_id =  &lt;default_key&gt;\naws_secret_access_key = &lt;default_secret_key&gt;\n[Rafael_Nascimento]\naws_secret_access_key = &lt;secret_key_Rafael_Nascimento&gt;\naws_access_key_id = &lt;key_Rafael_Nascimento&gt;\n</code></pre>\n\n<p>When I run the code I get on that line:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: profile file cannot be null\n    at com.amazonaws.util.ValidationUtils.assertNotNull(ValidationUtils.java:37)\n    at com.amazonaws.auth.profile.ProfilesConfigFile.&lt;init&gt;(ProfilesConfigFile.java:142)\n    at com.amazonaws.auth.profile.ProfilesConfigFile.&lt;init&gt;(ProfilesConfigFile.java:133)\n    at com.amazonaws.auth.profile.ProfilesConfigFile.&lt;init&gt;(ProfilesConfigFile.java:100)\n    at com.amazonaws.auth.profile.ProfileCredentialsProvider.getCredentials(ProfileCredentialsProvider.java:135)\n</code></pre>\n\n<p>What could be wrong?\nThanks!</p>\n"},{"tags":["java","html","report","accessibility","axe"],"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656607026,"creation_date":1656607026,"question_id":72819238,"body_markdown":"I&#39;m using axe core library for accessibility testing, and the current report doesn&#39;t fit my needs. Results are generated under json and txt formats.\r\nLooks like for javascript, there is a way to convert data into a nice HTML report, but I&#39;m looking after a solution also for Java.\r\nDoes anyone have any solution for this?\r\n\r\nAxe core library:\r\nhttps://github.com/dequelabs/axe-core","title":"Build HTML report for AxeCore with Java","body":"<p>I'm using axe core library for accessibility testing, and the current report doesn't fit my needs. Results are generated under json and txt formats.\nLooks like for javascript, there is a way to convert data into a nice HTML report, but I'm looking after a solution also for Java.\nDoes anyone have any solution for this?</p>\n<p>Axe core library:\n<a href=\"https://github.com/dequelabs/axe-core\" rel=\"nofollow noreferrer\">https://github.com/dequelabs/axe-core</a></p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1294944097,"post_id":4683856,"comment_id":5164801,"body_markdown":"Are you talking about [Gson](http://code.google.com/p/google-gson/)?","body":"Are you talking about <a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">Gson</a>?"},{"owner":{"account_id":1800364,"reputation":3399,"user_id":1638871,"accept_rate":100,"display_name":"D. A."},"score":0,"creation_date":1383709892,"post_id":4683856,"comment_id":29442124,"body_markdown":"Change the title then?","body":"Change the title then?"}],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":1,"up_vote_count":116,"is_accepted":false,"score":115,"last_activity_date":1476290104,"creation_date":1294944390,"answer_id":4683925,"question_id":4683856,"body_markdown":"    JsonObject innerObject = new JsonObject();\r\n    innerObject.addProperty(&quot;name&quot;, &quot;john&quot;);\r\n\r\n    JsonObject jsonObject = new JsonObject();\r\n    jsonObject.add(&quot;publisher&quot;, innerObject);\r\n\r\nhttp://www.javadoc.io/doc/com.google.code.gson/gson\r\n\r\n-------\r\n\r\nJust an FYI: Gson is really made for converting Java objects to/from JSON. If this is the main way you&#39;re using Gson, I think you&#39;re missing the point.","title":"Creating GSON Object","body":"<pre><code>JsonObject innerObject = new JsonObject();\ninnerObject.addProperty(\"name\", \"john\");\n\nJsonObject jsonObject = new JsonObject();\njsonObject.add(\"publisher\", innerObject);\n</code></pre>\n\n<p><a href=\"http://www.javadoc.io/doc/com.google.code.gson/gson\" rel=\"noreferrer\">http://www.javadoc.io/doc/com.google.code.gson/gson</a></p>\n\n<hr>\n\n<p>Just an FYI: Gson is really made for converting Java objects to/from JSON. If this is the main way you're using Gson, I think you're missing the point.</p>\n"},{"tags":[],"owner":{"account_id":176317,"reputation":6447,"user_id":406930,"accept_rate":76,"display_name":"Raunak"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1656606886,"creation_date":1295046018,"answer_id":4696873,"question_id":4683856,"body_markdown":"Figured it out how to do it correctly using Java Objects. \r\n\r\n    Creator creator = new Creator(&quot;John&quot;);\r\n    new Gson().toJson(creator);\r\n\r\nImplementation of Creator java class. \r\n\r\n    public class Creator {\r\n\t\r\n        protected HashMap&lt;String, String&gt; publisher = new HashMap&lt;String, String&gt;();\r\n\t\r\n        public Creator(String name){\r\n                publisher.put(&quot;name&quot;, name);\r\n        }\r\n    }","title":"Creating GSON Object","body":"<p>Figured it out how to do it correctly using Java Objects.</p>\n<pre><code>Creator creator = new Creator(&quot;John&quot;);\nnew Gson().toJson(creator);\n</code></pre>\n<p>Implementation of Creator java class.</p>\n<pre><code>public class Creator {\n\n    protected HashMap&lt;String, String&gt; publisher = new HashMap&lt;String, String&gt;();\n\n    public Creator(String name){\n            publisher.put(&quot;name&quot;, name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":176317,"reputation":6447,"user_id":406930,"accept_rate":76,"display_name":"Raunak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130107,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":4696873,"answer_count":2,"score":62,"last_activity_date":1656606886,"creation_date":1294944002,"question_id":4683856,"body_markdown":"How do I create a json Object using Google Gson?\r\nThe following code creates a json object which looks like `{&quot;name&quot;:&quot;john&quot;}`\r\n\r\n    JsonObject jsonObject = new JsonObject();\r\n    jsonObject.addProperty(&quot;name&quot;, &quot;john&quot;);\r\n\r\nHow do I create a jSon Object like this one? \r\n\r\n    {&quot;publisher&quot;:{&quot;name&quot;:&quot;john&quot;}}\r\n\r\n","title":"Creating GSON Object","body":"<p>How do I create a json Object using Google Gson?\nThe following code creates a json object which looks like <code>{\"name\":\"john\"}</code></p>\n\n<pre><code>JsonObject jsonObject = new JsonObject();\njsonObject.addProperty(\"name\", \"john\");\n</code></pre>\n\n<p>How do I create a jSon Object like this one? </p>\n\n<pre><code>{\"publisher\":{\"name\":\"john\"}}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1656601537,"post_id":72817890,"comment_id":128617906,"body_markdown":"Without seeing the code we can only guess. But this sounds like a nightmare of race conditions. Are you sure you&#39;re not just observing the results of checking the same process at different moments in time? It might be that it has nothing to do with subclassing and everything to do with timing.","body":"Without seeing the code we can only guess. But this sounds like a nightmare of race conditions. Are you sure you&#39;re not just observing the results of checking the same process at different moments in time? It might be that it has nothing to do with subclassing and everything to do with timing."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656601618,"post_id":72817890,"comment_id":128617934,"body_markdown":"Please [edit] your question to provide a [mre] demonstrating the problem.","body":"Please <a href=\"https://stackoverflow.com/posts/72817890/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":24917525,"reputation":85,"user_id":18786243,"display_name":"aminbhst"},"score":0,"creation_date":1656602205,"post_id":72817890,"comment_id":128618191,"body_markdown":"@SilvioMayolo I had implemented the same logic on another application and this kind of process that I run would never exit itself, no matter when I accessed it, It was always alive and I could retrieve its String result. Now I have implemented the same thing but with just that difference which I mentioned in the question. Right now I removed the difference and it works like a charm. besides, this is implemented as 2 jobs, first job starts a couple of processes and caches their objects and another job one minute after the initial one retrieves those process objects and extracts their result","body":"@SilvioMayolo I had implemented the same logic on another application and this kind of process that I run would never exit itself, no matter when I accessed it, It was always alive and I could retrieve its String result. Now I have implemented the same thing but with just that difference which I mentioned in the question. Right now I removed the difference and it works like a charm. besides, this is implemented as 2 jobs, first job starts a couple of processes and caches their objects and another job one minute after the initial one retrieves those process objects and extracts their result"},{"owner":{"account_id":24917525,"reputation":85,"user_id":18786243,"display_name":"aminbhst"},"score":0,"creation_date":1656603033,"post_id":72817890,"comment_id":128618517,"body_markdown":"@Slaw sample code added to the question","body":"@Slaw sample code added to the question"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656605848,"post_id":72817890,"comment_id":128619581,"body_markdown":"Perhaps you can find clues by looking at the output and error streams, and checking `exitValue()`.","body":"Perhaps you can find clues by looking at the output and error streams, and checking <code>exitValue()</code>."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656606108,"post_id":72817890,"comment_id":128619662,"body_markdown":"Also, absence of all the code involved will make this harder for anyone to help. Even the posted code has this, which isn&#39;t valid: `public class B extends class A` (&quot;extends class A&quot; should be &quot;extends A&quot;). This needs an MRE.","body":"Also, absence of all the code involved will make this harder for anyone to help. Even the posted code has this, which isn&#39;t valid: <code>public class B extends class A</code> (&quot;extends class A&quot; should be &quot;extends A&quot;). This needs an MRE."}],"owner":{"account_id":24917525,"reputation":85,"user_id":18786243,"display_name":"aminbhst"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656606710,"creation_date":1656600730,"question_id":72817890,"body_markdown":"I have a &quot;class A&quot; which holds a protected HashTable of some processes which have been started inside of class A. &quot;Class B&quot; extends &quot;class A&quot; and when I retrieve the process from within class B, it shows that the process has exited while if I access the same process from within class A, the process is still alive and I can retrieve its result. why is that?\r\n\r\n```java\r\npublic abstract class A {\r\n\r\n    protected final Map&lt;String, Process&gt; processCache = new Hashtable&lt;&gt;();\r\n\r\n    public void processResults(String processId) {\r\n        getScanProcessResult(processId);\r\n        // other logic\r\n    }\r\n\r\n    protected abstract String getScanProcessResult(String id);\r\n}\r\n\r\npublic class B extends A {\r\n\r\n    @Override\r\n    protected String getScanProcessResult(String processId) {\r\n        Process process = super.processCache.get(processId);\r\n        if (process.isAlive) {\r\n            // it&#39;s not alive\r\n        }\r\n    }\r\n}\r\n```\r\nAlso the way this is implemented is as following :\r\nthere are 2 batch jobs.\r\nthe first one starts some processes and saves their objects in the processCache\r\nthe second job starts one minute after the initial one and retrieves the results from those process objects.\r\nthe same logic works fine if instead I use this :\r\n\r\n```\r\npublic void processResults(String processId) {\r\n    Process process = processCache.get(processId);\r\n    if (process.isAlive) {\r\n        // it&#39;s alive\r\n    }\r\n    // other logic\r\n}\r\n```\r\n","title":"Java process exits when accessed via the child class","body":"<p>I have a &quot;class A&quot; which holds a protected HashTable of some processes which have been started inside of class A. &quot;Class B&quot; extends &quot;class A&quot; and when I retrieve the process from within class B, it shows that the process has exited while if I access the same process from within class A, the process is still alive and I can retrieve its result. why is that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class A {\n\n    protected final Map&lt;String, Process&gt; processCache = new Hashtable&lt;&gt;();\n\n    public void processResults(String processId) {\n        getScanProcessResult(processId);\n        // other logic\n    }\n\n    protected abstract String getScanProcessResult(String id);\n}\n\npublic class B extends A {\n\n    @Override\n    protected String getScanProcessResult(String processId) {\n        Process process = super.processCache.get(processId);\n        if (process.isAlive) {\n            // it's not alive\n        }\n    }\n}\n</code></pre>\n<p>Also the way this is implemented is as following :\nthere are 2 batch jobs.\nthe first one starts some processes and saves their objects in the processCache\nthe second job starts one minute after the initial one and retrieves the results from those process objects.\nthe same logic works fine if instead I use this :</p>\n<pre><code>public void processResults(String processId) {\n    Process process = processCache.get(processId);\n    if (process.isAlive) {\n        // it's alive\n    }\n    // other logic\n}\n</code></pre>\n"},{"tags":["java","generics","types","collections"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656603995,"post_id":72818586,"comment_id":128618888,"body_markdown":"I think from a syntax point a view you haven&#39;t declared `V` anywhere that I can see.  `public &lt;V&gt; void something( Map&lt;String, V extends Collections&lt;String&gt;&gt; x );` I think might work.","body":"I think from a syntax point a view you haven&#39;t declared <code>V</code> anywhere that I can see.  <code>public &lt;V&gt; void something( Map&lt;String, V extends Collections&lt;String&gt;&gt; x );</code> I think might work."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1656604476,"post_id":72818586,"comment_id":128619075,"body_markdown":"@markspace Yes, but how do I instantiate the container for eg. `new HashSet&lt;&gt;();` ?","body":"@markspace Yes, but how do I instantiate the container for eg. <code>new HashSet&lt;&gt;();</code> ?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1656604492,"post_id":72818586,"comment_id":128619086,"body_markdown":"Are you reinventing `groupingBy(Entity::getName, toCollection(SomeCollection::new))`?","body":"Are you reinventing <code>groupingBy(Entity::getName, toCollection(SomeCollection::new))</code>?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1656604536,"post_id":72818586,"comment_id":128619105,"body_markdown":"@Sweeper yes just wanted to see how its implemented. So wanted to write my own collector.","body":"@Sweeper yes just wanted to see how its implemented. So wanted to write my own collector."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656605837,"creation_date":1656605476,"answer_id":72818949,"question_id":72818586,"body_markdown":"If you want to allow different implementations of `Collection&lt;String&gt;` to be used as the values of your maps, then you need to define a type parameter for your `MultiMapCollector`. You&#39;ll also need to modify the code to accept some sort of object, such as a `Supplier`, that knows how to create instances of the specific collection type.\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.function.BiConsumer;\r\nimport java.util.function.BinaryOperator;\r\nimport java.util.function.Function;\r\nimport java.util.function.Supplier;\r\nimport java.util.stream.Collector;\r\n\r\npublic class MultiMapCollector&lt;V extends Collection&lt;String&gt;&gt;\r\n    implements Collector&lt;Entity, Map&lt;String, V&gt;, Map&lt;String, V&gt;&gt; {\r\n\r\n  private final Supplier&lt;? extends V&gt; valueSupplier;\r\n\r\n  public MultiMapCollector(Supplier&lt;? extends V&gt; valueSupplier) {\r\n    this.valueSupplier = valueSupplier;\r\n  }\r\n\r\n  @Override\r\n  public Supplier&lt;Map&lt;String, V&gt;&gt; supplier() {\r\n    return HashMap::new;\r\n  }\r\n\r\n  @Override\r\n  public BiConsumer&lt;Map&lt;String, V&gt;, Entity&gt; accumulator() {\r\n    return (map, e) -&gt; map.computeIfAbsent(e.getName(), k -&gt; valueSupplier.get()).add(e.getValue());\r\n  }\r\n\r\n  @Override\r\n  public BinaryOperator&lt;Map&lt;String, V&gt;&gt; combiner() {\r\n    return (map1, map2) -&gt; {\r\n      for (var entry : map2.entrySet()) {\r\n        map1.merge(\r\n            entry.getKey(),\r\n            entry.getValue(),\r\n            (curValue, newValue) -&gt; {\r\n              curValue.addAll(newValue);\r\n              return curValue;\r\n            });\r\n      }\r\n      return map1;\r\n    };\r\n  }\r\n\r\n  @Override\r\n  public Function&lt;Map&lt;String, V&gt;, Map&lt;String, V&gt;&gt; finisher() {\r\n    return Collections::unmodifiableMap;\r\n  }\r\n\r\n  @Override\r\n  public Set&lt;Characteristics&gt; characteristics() {\r\n    return Set.of(Characteristics.UNORDERED);\r\n  }\r\n}\r\n```\r\n\r\nNote `MultiMapCollector` now has the type parameter `&lt;V extends Collection&lt;String&gt;&gt;`, and that everywhere else in the code where `Collection&lt;String&gt;` was used has been replaced with `V`. And then the constructor accepts a `Supplier&lt;? extends V&gt;` which is used to create instances of `V` in the `accumulator()` consumer.\r\n\r\nAlso, note I updated your `combiner()` function to make use of `Map#merge(...)`, though that&#39;s not strictly necessary.\r\n\r\n---\r\n\r\nBy the way, if you want to actually see how `Collectors.groupingBy(...)` is implemented, then you can always look at the [source code][1].\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/Collectors.java#L996","title":"Unexpected Bound - Why can&#39;t I use something like T extends Collection in this Collector?","body":"<p>If you want to allow different implementations of <code>Collection&lt;String&gt;</code> to be used as the values of your maps, then you need to define a type parameter for your <code>MultiMapCollector</code>. You'll also need to modify the code to accept some sort of object, such as a <code>Supplier</code>, that knows how to create instances of the specific collection type.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.function.BiConsumer;\nimport java.util.function.BinaryOperator;\nimport java.util.function.Function;\nimport java.util.function.Supplier;\nimport java.util.stream.Collector;\n\npublic class MultiMapCollector&lt;V extends Collection&lt;String&gt;&gt;\n    implements Collector&lt;Entity, Map&lt;String, V&gt;, Map&lt;String, V&gt;&gt; {\n\n  private final Supplier&lt;? extends V&gt; valueSupplier;\n\n  public MultiMapCollector(Supplier&lt;? extends V&gt; valueSupplier) {\n    this.valueSupplier = valueSupplier;\n  }\n\n  @Override\n  public Supplier&lt;Map&lt;String, V&gt;&gt; supplier() {\n    return HashMap::new;\n  }\n\n  @Override\n  public BiConsumer&lt;Map&lt;String, V&gt;, Entity&gt; accumulator() {\n    return (map, e) -&gt; map.computeIfAbsent(e.getName(), k -&gt; valueSupplier.get()).add(e.getValue());\n  }\n\n  @Override\n  public BinaryOperator&lt;Map&lt;String, V&gt;&gt; combiner() {\n    return (map1, map2) -&gt; {\n      for (var entry : map2.entrySet()) {\n        map1.merge(\n            entry.getKey(),\n            entry.getValue(),\n            (curValue, newValue) -&gt; {\n              curValue.addAll(newValue);\n              return curValue;\n            });\n      }\n      return map1;\n    };\n  }\n\n  @Override\n  public Function&lt;Map&lt;String, V&gt;, Map&lt;String, V&gt;&gt; finisher() {\n    return Collections::unmodifiableMap;\n  }\n\n  @Override\n  public Set&lt;Characteristics&gt; characteristics() {\n    return Set.of(Characteristics.UNORDERED);\n  }\n}\n</code></pre>\n<p>Note <code>MultiMapCollector</code> now has the type parameter <code>&lt;V extends Collection&lt;String&gt;&gt;</code>, and that everywhere else in the code where <code>Collection&lt;String&gt;</code> was used has been replaced with <code>V</code>. And then the constructor accepts a <code>Supplier&lt;? extends V&gt;</code> which is used to create instances of <code>V</code> in the <code>accumulator()</code> consumer.</p>\n<p>Also, note I updated your <code>combiner()</code> function to make use of <code>Map#merge(...)</code>, though that's not strictly necessary.</p>\n<hr />\n<p>By the way, if you want to actually see how <code>Collectors.groupingBy(...)</code> is implemented, then you can always look at the <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/Collectors.java#L996\" rel=\"nofollow noreferrer\">source code</a>.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656606532,"creation_date":1656605839,"answer_id":72819009,"question_id":72818586,"body_markdown":"You need to add a generic type parameter (let&#39;s call it `C`) after the class name, not in the `implements` clause.\r\n\r\nThen, add a constructor that takes in a `Supplier&lt;C&gt;` telling you how to create a `C`, and store the supplier somewhere. Replace all the occurrences of `new HashSet&lt;&gt;()` with `get` calls to the supplier instead.\r\n\r\n```\r\nclass MultiMapCollector&lt;C extends Collection&lt;String&gt;&gt; implements Collector&lt;Entity, Map&lt;String, C&gt;, Map&lt;String, C&gt;&gt; {\r\n\r\n     private final Supplier&lt;C&gt; supplier;\r\n\r\n     public MultiMapCollector(Supplier&lt;C&gt; supplier) {\r\n\r\n         this.supplier = supplier;\r\n     }\r\n\r\n    @Override\r\n    public Supplier&lt;Map&lt;String, C&gt;&gt; supplier() {\r\n        return HashMap::new;\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;Map&lt;String, C&gt;, Entity&gt; accumulator() {\r\n        return (map, e) -&gt; map.computeIfAbsent(e.getName(),\r\n            k -&gt; supplier.get()).add(e.getValue());\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;Map&lt;String, C&gt;&gt; combiner() {\r\n        return (map1, map2) -&gt; {\r\n            map2.keySet().forEach(key -&gt; map1.computeIfAbsent(key, k -&gt; supplier.get()).addAll(map2.get(key)));\r\n            return map1;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;Map&lt;String, C&gt;, Map&lt;String, C&gt;&gt; finisher() {\r\n        return Collections::unmodifiableMap;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        // now you aren&#39;t sure whether the collection is ordered or not\r\n        return Set.of();\r\n    }\r\n}\r\n```\r\n\r\nNow every time you create a `MultiMapCollector`, you need to pass in a supplier:\r\n\r\n    new MultiMapCollector&lt;&gt;(HashSet::new)\r\n\r\nIf you want it to use a default of `HashSet` when you don&#39;t provide anything, add static factory methods and make the constructor private:\r\n\r\n     public static MultiMapCollector&lt;Set&lt;String&gt;&gt; get() {\r\n         return new MultiMapCollector&lt;&gt;(HashSet::new);\r\n     }\r\n\r\n     public static &lt;C extends Collection&lt;String&gt;&gt; MultiMapCollector&lt;C&gt; with(Supplier&lt;C&gt; supplier) {\r\n         return new MultiMapCollector&lt;&gt;(supplier);\r\n     }\r\n\r\nJust like how `Collectors.groupingBy` is a factory method.\r\n\r\nMore generally, you can take a full downstream collector instead of just a `Supplier&lt;C&gt;`, and that is what the 2-parameter overload of `Collectors.groupingBy` does. `groupingBy` just handles the grouping, and the downstream collector (the 2nd argument) handles the groups.\r\n\r\nHere is a sketch of how you would do this:\r\n\r\n```\r\nclass MultiMapCollector&lt;R&gt; implements Collector&lt;Entity, Map&lt;String, R&gt;, Map&lt;String, R&gt;&gt; {\r\n\r\n     private final Collector&lt;String, R, R&gt; downstream;\r\n\r\n     private MultiMapCollector(Collector&lt;String, R, R&gt; downstream) {\r\n\r\n         this.downstream = downstream;\r\n     }\r\n\r\n     public static MultiMapCollector&lt;Set&lt;String&gt;&gt; get() {\r\n         return new MultiMapCollector&lt;&gt;(Collectors.toSet());\r\n     }\r\n\r\n     public static &lt;R&gt; MultiMapCollector&lt;R&gt; with(Collector&lt;String, R, R&gt; downstream) {\r\n         return new MultiMapCollector&lt;&gt;(downstream);\r\n     }\r\n\r\n    @Override\r\n    public Supplier&lt;Map&lt;String, R&gt;&gt; supplier() {\r\n        return HashMap::new;\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;Map&lt;String, R&gt;, Entity&gt; accumulator() {\r\n        return (map, e) -&gt; downstream.accumulator().accept(map.computeIfAbsent(e.getName(),\r\n            k -&gt; downstream.supplier().get()), e.getValue());\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;Map&lt;String, R&gt;&gt; combiner() {\r\n        return (map1, map2) -&gt; {\r\n            map2.keySet().forEach(key -&gt; \r\n                downstream.combiner().apply(\r\n                    map1.computeIfAbsent(key, k -&gt; downstream.supplier().get()),\r\n                    map2.get(key)\r\n                )\r\n            );\r\n            return map1;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;Map&lt;String, R&gt;, Map&lt;String, R&gt;&gt; finisher() {\r\n        return Collections::unmodifiableMap;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Set.of();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Unexpected Bound - Why can&#39;t I use something like T extends Collection in this Collector?","body":"<p>You need to add a generic type parameter (let's call it <code>C</code>) after the class name, not in the <code>implements</code> clause.</p>\n<p>Then, add a constructor that takes in a <code>Supplier&lt;C&gt;</code> telling you how to create a <code>C</code>, and store the supplier somewhere. Replace all the occurrences of <code>new HashSet&lt;&gt;()</code> with <code>get</code> calls to the supplier instead.</p>\n<pre><code>class MultiMapCollector&lt;C extends Collection&lt;String&gt;&gt; implements Collector&lt;Entity, Map&lt;String, C&gt;, Map&lt;String, C&gt;&gt; {\n\n     private final Supplier&lt;C&gt; supplier;\n\n     public MultiMapCollector(Supplier&lt;C&gt; supplier) {\n\n         this.supplier = supplier;\n     }\n\n    @Override\n    public Supplier&lt;Map&lt;String, C&gt;&gt; supplier() {\n        return HashMap::new;\n    }\n\n    @Override\n    public BiConsumer&lt;Map&lt;String, C&gt;, Entity&gt; accumulator() {\n        return (map, e) -&gt; map.computeIfAbsent(e.getName(),\n            k -&gt; supplier.get()).add(e.getValue());\n    }\n\n    @Override\n    public BinaryOperator&lt;Map&lt;String, C&gt;&gt; combiner() {\n        return (map1, map2) -&gt; {\n            map2.keySet().forEach(key -&gt; map1.computeIfAbsent(key, k -&gt; supplier.get()).addAll(map2.get(key)));\n            return map1;\n        };\n    }\n\n    @Override\n    public Function&lt;Map&lt;String, C&gt;, Map&lt;String, C&gt;&gt; finisher() {\n        return Collections::unmodifiableMap;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        // now you aren't sure whether the collection is ordered or not\n        return Set.of();\n    }\n}\n</code></pre>\n<p>Now every time you create a <code>MultiMapCollector</code>, you need to pass in a supplier:</p>\n<pre><code>new MultiMapCollector&lt;&gt;(HashSet::new)\n</code></pre>\n<p>If you want it to use a default of <code>HashSet</code> when you don't provide anything, add static factory methods and make the constructor private:</p>\n<pre><code> public static MultiMapCollector&lt;Set&lt;String&gt;&gt; get() {\n     return new MultiMapCollector&lt;&gt;(HashSet::new);\n }\n\n public static &lt;C extends Collection&lt;String&gt;&gt; MultiMapCollector&lt;C&gt; with(Supplier&lt;C&gt; supplier) {\n     return new MultiMapCollector&lt;&gt;(supplier);\n }\n</code></pre>\n<p>Just like how <code>Collectors.groupingBy</code> is a factory method.</p>\n<p>More generally, you can take a full downstream collector instead of just a <code>Supplier&lt;C&gt;</code>, and that is what the 2-parameter overload of <code>Collectors.groupingBy</code> does. <code>groupingBy</code> just handles the grouping, and the downstream collector (the 2nd argument) handles the groups.</p>\n<p>Here is a sketch of how you would do this:</p>\n<pre><code>class MultiMapCollector&lt;R&gt; implements Collector&lt;Entity, Map&lt;String, R&gt;, Map&lt;String, R&gt;&gt; {\n\n     private final Collector&lt;String, R, R&gt; downstream;\n\n     private MultiMapCollector(Collector&lt;String, R, R&gt; downstream) {\n\n         this.downstream = downstream;\n     }\n\n     public static MultiMapCollector&lt;Set&lt;String&gt;&gt; get() {\n         return new MultiMapCollector&lt;&gt;(Collectors.toSet());\n     }\n\n     public static &lt;R&gt; MultiMapCollector&lt;R&gt; with(Collector&lt;String, R, R&gt; downstream) {\n         return new MultiMapCollector&lt;&gt;(downstream);\n     }\n\n    @Override\n    public Supplier&lt;Map&lt;String, R&gt;&gt; supplier() {\n        return HashMap::new;\n    }\n\n    @Override\n    public BiConsumer&lt;Map&lt;String, R&gt;, Entity&gt; accumulator() {\n        return (map, e) -&gt; downstream.accumulator().accept(map.computeIfAbsent(e.getName(),\n            k -&gt; downstream.supplier().get()), e.getValue());\n    }\n\n    @Override\n    public BinaryOperator&lt;Map&lt;String, R&gt;&gt; combiner() {\n        return (map1, map2) -&gt; {\n            map2.keySet().forEach(key -&gt; \n                downstream.combiner().apply(\n                    map1.computeIfAbsent(key, k -&gt; downstream.supplier().get()),\n                    map2.get(key)\n                )\n            );\n            return map1;\n        };\n    }\n\n    @Override\n    public Function&lt;Map&lt;String, R&gt;, Map&lt;String, R&gt;&gt; finisher() {\n        return Collections::unmodifiableMap;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Set.of();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656606532,"creation_date":1656603764,"question_id":72818586,"body_markdown":"Hi I have written this custom collector for converting a `List` of elements into a `Multimap`:\r\n\r\n    public class MultiMapCollector implements Collector&lt;Entity,\r\n            Map&lt;String, Collection&lt;String&gt;&gt;, Map&lt;String, Collection&lt;String&gt;&gt;&gt; {\r\n    \r\n        @Override\r\n        public Supplier&lt;Map&lt;String, Collection&lt;String&gt;&gt;&gt; supplier() {\r\n            return HashMap::new;\r\n        }\r\n    \r\n        @Override\r\n        public BiConsumer&lt;Map&lt;String, Collection&lt;String&gt;&gt;, Entity&gt; accumulator() {\r\n            return (map, e) -&gt; map.computeIfAbsent(e.getName(),\r\n                    k -&gt; new HashSet&lt;&gt;()).add(e.getValue());\r\n        }\r\n    \r\n        @Override\r\n        public BinaryOperator&lt;Map&lt;String, Collection&lt;String&gt;&gt;&gt; combiner() {\r\n            return (map1, map2) -&gt; {\r\n                map2.keySet().forEach(key -&gt; map1.computeIfAbsent(key, k -&gt; new HashSet&lt;&gt;()).addAll(map2.get(key)));\r\n                return map1;\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public Function&lt;Map&lt;String, Collection&lt;String&gt;&gt;, Map&lt;String, Collection&lt;String&gt;&gt;&gt; finisher() {\r\n            return Collections::unmodifiableMap;\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return Set.of(Characteristics.UNORDERED);\r\n        }\r\n    }\r\n\r\n\r\nNow I want to be able to pass a `List` or a `Set`. \r\n\r\nSo instead of `Map&lt;String, Collection&lt;String&gt;&gt;` I want something like `Map&lt;String, V extends Collection&lt;String&gt;&gt;`\r\n\r\nBut when I do that I get a vague error saying :\r\n\r\n    Unexpected Bounds\r\n\r\n**What am I doing wrong ?** \r\n\r\nI can&#39;t seem to wrap my head around this.\r\n\r\n","title":"Unexpected Bound - Why can&#39;t I use something like T extends Collection in this Collector?","body":"<p>Hi I have written this custom collector for converting a <code>List</code> of elements into a <code>Multimap</code>:</p>\n<pre><code>public class MultiMapCollector implements Collector&lt;Entity,\n        Map&lt;String, Collection&lt;String&gt;&gt;, Map&lt;String, Collection&lt;String&gt;&gt;&gt; {\n\n    @Override\n    public Supplier&lt;Map&lt;String, Collection&lt;String&gt;&gt;&gt; supplier() {\n        return HashMap::new;\n    }\n\n    @Override\n    public BiConsumer&lt;Map&lt;String, Collection&lt;String&gt;&gt;, Entity&gt; accumulator() {\n        return (map, e) -&gt; map.computeIfAbsent(e.getName(),\n                k -&gt; new HashSet&lt;&gt;()).add(e.getValue());\n    }\n\n    @Override\n    public BinaryOperator&lt;Map&lt;String, Collection&lt;String&gt;&gt;&gt; combiner() {\n        return (map1, map2) -&gt; {\n            map2.keySet().forEach(key -&gt; map1.computeIfAbsent(key, k -&gt; new HashSet&lt;&gt;()).addAll(map2.get(key)));\n            return map1;\n        };\n    }\n\n    @Override\n    public Function&lt;Map&lt;String, Collection&lt;String&gt;&gt;, Map&lt;String, Collection&lt;String&gt;&gt;&gt; finisher() {\n        return Collections::unmodifiableMap;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Set.of(Characteristics.UNORDERED);\n    }\n}\n</code></pre>\n<p>Now I want to be able to pass a <code>List</code> or a <code>Set</code>.</p>\n<p>So instead of <code>Map&lt;String, Collection&lt;String&gt;&gt;</code> I want something like <code>Map&lt;String, V extends Collection&lt;String&gt;&gt;</code></p>\n<p>But when I do that I get a vague error saying :</p>\n<pre><code>Unexpected Bounds\n</code></pre>\n<p><strong>What am I doing wrong ?</strong></p>\n<p>I can't seem to wrap my head around this.</p>\n"},{"tags":["java","rendering","graphstream"],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1656606427,"creation_date":1655746889,"question_id":72691014,"body_markdown":"I created a graph that represents the road map of a certain region using `Graphstream`.\r\n\r\n[![Road map][1]][1]\r\n\r\n\r\nNow I want to make it look like the blue node is moving on the graph and for that I&#39;m showing the graph on another thread and, every second, I color a different node blue, like so:\r\n```java\r\npublic void drawGraph(List&lt;MyCustomNodeClass&gt; nodes, List&lt;MyCustomEdgeClass&gt; edges){\r\n    Graph graph = new MultiGraph(&quot;main graph&quot;);\r\n    Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\r\n    ViewerPipe pipeIn = viewer.newViewerPipe();\r\n    viewer.addView(&quot;view1&quot;, new J2DGraphRenderer());\r\n\r\n    pipeIn.addAttributeSink(graph);\r\n    pipeIn.pump();\r\n\r\n    nodes.forEach(node-&gt; graph.addNode(node.getId()));\r\n\r\n    edges.forEach(edge-&gt; graph.getEdge(edge.getId(), edge.getSrc(), edge.getDest()));\r\n\r\n    Node node = graph.getNode(&quot;start&quot;);\r\n\r\n    while(true){\r\n        pipeIn.pump();\r\n\r\n        sleep(100);\r\n\r\n        node.setAttribute(&quot;ui.style&quot;, &quot;z-index: 1; size: 3px; fill-color: black;&quot;);\r\n\r\n        node = node = node.getNeighborNodeIterator().next();;\r\n\r\n        node.setAttribute(&quot;ui.style&quot;, &quot;z-index: 2; size: 10px; fill-color: blue;&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```java \r\nprivate void sleep(long seconds ) {\r\n    try { Thread.sleep( seconds ) ; }\r\n    catch (InterruptedException e) { e.printStackTrace(); }\r\n}\r\n```\r\n\r\nAs the title suggest, my problem is that the graph is huge (15997 edges, 9084 nodes), and it makes it such that the time it takes `GraphStream` to render the graph is greater then the sleep time, so the &quot;animation&quot; doesn&#39;t work well.\r\n\r\nIs there a way to make `GraphStream` only render the objects that changed (only 2 node in this case)? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QVKYs.png","title":"Make Graphstream render only what changed","body":"<p>I created a graph that represents the road map of a certain region using <code>Graphstream</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/QVKYs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QVKYs.png\" alt=\"Road map\" /></a></p>\n<p>Now I want to make it look like the blue node is moving on the graph and for that I'm showing the graph on another thread and, every second, I color a different node blue, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void drawGraph(List&lt;MyCustomNodeClass&gt; nodes, List&lt;MyCustomEdgeClass&gt; edges){\n    Graph graph = new MultiGraph(&quot;main graph&quot;);\n    Viewer viewer = new Viewer(graph, Viewer.ThreadingModel.GRAPH_IN_ANOTHER_THREAD);\n    ViewerPipe pipeIn = viewer.newViewerPipe();\n    viewer.addView(&quot;view1&quot;, new J2DGraphRenderer());\n\n    pipeIn.addAttributeSink(graph);\n    pipeIn.pump();\n\n    nodes.forEach(node-&gt; graph.addNode(node.getId()));\n\n    edges.forEach(edge-&gt; graph.getEdge(edge.getId(), edge.getSrc(), edge.getDest()));\n\n    Node node = graph.getNode(&quot;start&quot;);\n\n    while(true){\n        pipeIn.pump();\n\n        sleep(100);\n\n        node.setAttribute(&quot;ui.style&quot;, &quot;z-index: 1; size: 3px; fill-color: black;&quot;);\n\n        node = node = node.getNeighborNodeIterator().next();;\n\n        node.setAttribute(&quot;ui.style&quot;, &quot;z-index: 2; size: 10px; fill-color: blue;&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private void sleep(long seconds ) {\n    try { Thread.sleep( seconds ) ; }\n    catch (InterruptedException e) { e.printStackTrace(); }\n}\n</code></pre>\n<p>As the title suggest, my problem is that the graph is huge (15997 edges, 9084 nodes), and it makes it such that the time it takes <code>GraphStream</code> to render the graph is greater then the sleep time, so the &quot;animation&quot; doesn't work well.</p>\n<p>Is there a way to make <code>GraphStream</code> only render the objects that changed (only 2 node in this case)?</p>\n"},{"tags":["java","java-package"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1656602553,"post_id":72818274,"comment_id":128618330,"body_markdown":"The package `netscape.javascript` is not part of Java&#39;s public API, and therefore not a public part of the standard library. What version of Java are you using, and what exactly do you need this for? Note that applets are dead, and modern browsers do not support them anymore.","body":"The package <code>netscape.javascript</code> is not part of Java&#39;s public API, and therefore not a public part of the standard library. What version of Java are you using, and what exactly do you need this for? Note that applets are dead, and modern browsers do not support them anymore."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656602720,"post_id":72818274,"comment_id":128618404,"body_markdown":"It&#39;s standard enough that trying to export a package named `netscape.javascript` runs afoul of the **Java Platform Module System**, which [disallows 3rd parties from having a package named `netscape.javascript`](https://stackoverflow.com/questions/72807971/how-to-make-a-package-not-accessible-from-a-module-i-e-how-to-remove-a-package) - because Java owns it. Either way: java ships with both implementations, one is buggy, and i need the other one.","body":"It&#39;s standard enough that trying to export a package named <code>netscape.javascript</code> runs afoul of the <b>Java Platform Module System</b>, which <a href=\"https://stackoverflow.com/questions/72807971/how-to-make-a-package-not-accessible-from-a-module-i-e-how-to-remove-a-package\">disallows 3rd parties from having a package named <code>netscape.javascript</code></a> - because Java owns it. Either way: java ships with both implementations, one is buggy, and i need the other one."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1656618588,"post_id":72818274,"comment_id":128623481,"body_markdown":"Intriguing problem, a suggestion, how about doing a custom class loader which you use while instantiating JSObject (only from plugin) and rest of the class loading from the parent class loader dispatch, which shall prevent the ClassCast. If the same class loader is used from different parts of the program fro the same class, it could work.","body":"Intriguing problem, a suggestion, how about doing a custom class loader which you use while instantiating JSObject (only from plugin) and rest of the class loading from the parent class loader dispatch, which shall prevent the ClassCast. If the same class loader is used from different parts of the program fro the same class, it could work."}],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656606124,"creation_date":1656602379,"question_id":72818274,"body_markdown":"Short Version\r\n=============\r\n\r\nHow do i do the equivalent of the hypothetical syntax:\r\n\r\n    import plugin.jar.netscape.javascript.JSObject; //import netscape.javascript.JSObject from plugin.jar\r\n\r\n    \r\nLong Version\r\n===========\r\n\r\nI am trying to use a certain class in the Java Class Library:\r\n\r\n- **Package:** `netscape.javascript`\r\n- **Class:** `netscape.javascript.JSObject`\r\n- **Documentation**: https://www.oracle.com/webfolder/technetwork/java/plugin2/liveconnect/jsobject-javadoc/netscape/javascript/JSObject.html#getWindow(java.applet.Applet)\r\n\r\nSo normally you would call:\r\n\r\n    import netscape.javascript.JSObject;\r\n\r\nand that would be the end of it.\r\n\r\nBut Java has multiple implementations of JSObject\r\n--------------\r\n\r\nBut there&#39;s a bug in the standard Java libraries; there&#39;s another implementation of **JSObject**:\r\n\r\n- **Package**: `netscape.javascript`\r\n- **Class**: `netscape.javascript.JSObject`\r\n- **Documentation**: https://docs.oracle.com/javafx/2/api/netscape/javascript/JSObject.html\r\n\r\nIn other words:\r\n\r\n| Library | Package | Class |\r\n|--------|----------|-------------|\r\n| plugin.jar | netscape.javascript | netscape.javascript.JSObject |\r\n| jfxrt.jar | netscape.javascript | netscape.javascript.JSObject |\r\n\r\nWhich means we now have two implementations of `netscape.javascript.JSObject`:\r\n\r\n- Implementation 1: `plugin.jar/netscape/javascript/JSObject`\r\n- Implementation 2: `jfxrt.jar/netscape/javascript/JSObject`\r\n\r\nNormally this wouldn&#39;t be a problem. Any *(&quot;built-in&quot;)* java library is allowed to export the same package and same class as other *(&quot;built-in&quot;)* java library.\r\n\r\nBut Java bug\r\n-------------\r\n\r\nThe problem is that *Implementation 2* - the one in `jfxrt.jar` (JavaFX) has some bugs. &lt;sup&gt;[1][1], [2][2], [3][3], [4][4], [5][5], [6][6]&lt;/sup&gt; *(i.e. they forgot to implement a method)*\r\n\r\nSo in the `.java` code file i&#39;m looking at, for this one import, i need to **force** the use of *Implementation 1* of **JSObject** - the one that doesn&#39;t have the bugs. \r\n\r\nExcept the following hypothetical syntax doesn&#39;t work:\r\n\r\n    import plugin.jar.netscape.javascript.JSobject\r\n\r\n**Note**: Even if i knew how to exclude certain Java libraries from a project, doesn&#39;t mean that there isn&#39;t code elsewhere that requires the *Implementation 2*.\r\n\r\nResearch Effort\r\n---------------\r\n\r\nI started by deleting every copy of `jfxrt.jar` i could find on my PC (rip SmartSVN, Minecraft, Aqua Data Studio, SmartSVN-portable, Java 1.8), but the Java compiler kept finding the buggy version of **JSObject**.\r\n\r\nI tried to **View Definition** of the **JSObject** class, and it conjures up a code file from *somewhere*, that definitely has the bugs:\r\n\r\n[![enter image description here][7]][7]\r\n\r\nI&#39;ve tried using [Process Monitor][8] to try to spy on every file access to a file that contains the words:\r\n\r\n- jfxrt.jar\r\n- jfxrt\r\n- JSObject\r\n- netscape\r\n\r\nin order to figure out where this buggy implementation of **JSObject** is coming from; but there is none. I get the impression that the Java runtime might not ship with hundreds of individual `.jar` files, but instead have them lumped into a larger distributable file.\r\n\r\nRegardless of where it comes from:\r\n\r\n- given the situation where the Java Class Library has two competing implementations of a class\r\n- how do i force the import of one *particular* implementation\r\n- rather than letting Java&#39;s equivalent of the Fusion Loader to find the one that it happened to stumble across first?\r\n\r\nAlternative Question\r\n====================\r\n\r\nWhen i press &lt;kbd&gt;F12&lt;/kbd&gt; in Visual Studio Code to view the declaration of a built-in class, where is it getting that code from? If i can figure out where the code comes from, it might help me ask the next question on Stackoverflow.\r\n\r\nBonus Reading\r\n--------------\r\n\r\n- https://stackoverflow.com/questions/13308495/why-is-getwindow-not-able-to-be-resolved\r\n- https://stackoverflow.com/questions/13953920/not-able-to-resolve-jsobject-in-a-java-applet-project\r\n- https://stackoverflow.com/questions/18038951/jsobject-getwindowthis-always-throws-an-exception\r\n- https://stackoverflow.com/questions/13953920/not-able-to-resolve-jsobject-in-a-java-applet-project/14156602#14156602\r\n\r\nWorkaround\r\n-----------\r\n\r\nThe only workaround i have for now is to break the system:\r\n\r\n```\r\n/*\r\n * There&#39;s a bug in Java. There are two implmentations of netscape.javascript.JSObject:\r\n * - plugin.jar/netscape.javascript.JSObject\r\n * - jfxrt.jar/netscape.javascript.JSObject\r\n * \r\n * The 2nd one has a WONTFIX bug (https://stackoverflow.com/q/72818274/12597)\r\n * \r\n * Which means we need to force the use of the implementation in plugin.jar.\r\n * But Java has no way to force to use of a specific class.\r\n * So we have no choice but to not use it.\r\n */\r\n   private JSObject jsWindow;\r\n// jsWindow = JSObject.getWindow(this);\r\n   jsWindow = null; //i hope this feature wasn&#39;t important\r\n```\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8038127\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8006306\r\n  [3]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8044055\r\n  [4]: https://bugs.openjdk.org/browse/JDK-8040626\r\n  [5]: https://javafx-jira.kenai.com/browse/RT-30622\r\n  [6]: https://javafx-jira.kenai.com/browse/RT-37238\r\n  [7]: https://i.stack.imgur.com/S5f23.png\r\n  [8]: https://learn.microsoft.com/en-us/sysinternals/downloads/procmon","title":"How to import a java standard class, from a particular java standard package, from a particular java standard jar?","body":"<h1>Short Version</h1>\n<p>How do i do the equivalent of the hypothetical syntax:</p>\n<pre><code>import plugin.jar.netscape.javascript.JSObject; //import netscape.javascript.JSObject from plugin.jar\n</code></pre>\n<h1>Long Version</h1>\n<p>I am trying to use a certain class in the Java Class Library:</p>\n<ul>\n<li><strong>Package:</strong> <code>netscape.javascript</code></li>\n<li><strong>Class:</strong> <code>netscape.javascript.JSObject</code></li>\n<li><strong>Documentation</strong>: <a href=\"https://www.oracle.com/webfolder/technetwork/java/plugin2/liveconnect/jsobject-javadoc/netscape/javascript/JSObject.html#getWindow(java.applet.Applet)\" rel=\"nofollow noreferrer\">https://www.oracle.com/webfolder/technetwork/java/plugin2/liveconnect/jsobject-javadoc/netscape/javascript/JSObject.html#getWindow(java.applet.Applet)</a></li>\n</ul>\n<p>So normally you would call:</p>\n<pre><code>import netscape.javascript.JSObject;\n</code></pre>\n<p>and that would be the end of it.</p>\n<h2>But Java has multiple implementations of JSObject</h2>\n<p>But there's a bug in the standard Java libraries; there's another implementation of <strong>JSObject</strong>:</p>\n<ul>\n<li><strong>Package</strong>: <code>netscape.javascript</code></li>\n<li><strong>Class</strong>: <code>netscape.javascript.JSObject</code></li>\n<li><strong>Documentation</strong>: <a href=\"https://docs.oracle.com/javafx/2/api/netscape/javascript/JSObject.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/api/netscape/javascript/JSObject.html</a></li>\n</ul>\n<p>In other words:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Library</th>\n<th>Package</th>\n<th>Class</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>plugin.jar</td>\n<td>netscape.javascript</td>\n<td>netscape.javascript.JSObject</td>\n</tr>\n<tr>\n<td>jfxrt.jar</td>\n<td>netscape.javascript</td>\n<td>netscape.javascript.JSObject</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Which means we now have two implementations of <code>netscape.javascript.JSObject</code>:</p>\n<ul>\n<li>Implementation 1: <code>plugin.jar/netscape/javascript/JSObject</code></li>\n<li>Implementation 2: <code>jfxrt.jar/netscape/javascript/JSObject</code></li>\n</ul>\n<p>Normally this wouldn't be a problem. Any <em>(&quot;built-in&quot;)</em> java library is allowed to export the same package and same class as other <em>(&quot;built-in&quot;)</em> java library.</p>\n<h2>But Java bug</h2>\n<p>The problem is that <em>Implementation 2</em> - the one in <code>jfxrt.jar</code> (JavaFX) has some bugs. <sup><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8038127\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8006306\" rel=\"nofollow noreferrer\">2</a>, <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8044055\" rel=\"nofollow noreferrer\">3</a>, <a href=\"https://bugs.openjdk.org/browse/JDK-8040626\" rel=\"nofollow noreferrer\">4</a>, <a href=\"https://javafx-jira.kenai.com/browse/RT-30622\" rel=\"nofollow noreferrer\">5</a>, <a href=\"https://javafx-jira.kenai.com/browse/RT-37238\" rel=\"nofollow noreferrer\">6</a></sup> <em>(i.e. they forgot to implement a method)</em></p>\n<p>So in the <code>.java</code> code file i'm looking at, for this one import, i need to <strong>force</strong> the use of <em>Implementation 1</em> of <strong>JSObject</strong> - the one that doesn't have the bugs.</p>\n<p>Except the following hypothetical syntax doesn't work:</p>\n<pre><code>import plugin.jar.netscape.javascript.JSobject\n</code></pre>\n<p><strong>Note</strong>: Even if i knew how to exclude certain Java libraries from a project, doesn't mean that there isn't code elsewhere that requires the <em>Implementation 2</em>.</p>\n<h2>Research Effort</h2>\n<p>I started by deleting every copy of <code>jfxrt.jar</code> i could find on my PC (rip SmartSVN, Minecraft, Aqua Data Studio, SmartSVN-portable, Java 1.8), but the Java compiler kept finding the buggy version of <strong>JSObject</strong>.</p>\n<p>I tried to <strong>View Definition</strong> of the <strong>JSObject</strong> class, and it conjures up a code file from <em>somewhere</em>, that definitely has the bugs:</p>\n<p><a href=\"https://i.stack.imgur.com/S5f23.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S5f23.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried using <a href=\"https://learn.microsoft.com/en-us/sysinternals/downloads/procmon\" rel=\"nofollow noreferrer\">Process Monitor</a> to try to spy on every file access to a file that contains the words:</p>\n<ul>\n<li>jfxrt.jar</li>\n<li>jfxrt</li>\n<li>JSObject</li>\n<li>netscape</li>\n</ul>\n<p>in order to figure out where this buggy implementation of <strong>JSObject</strong> is coming from; but there is none. I get the impression that the Java runtime might not ship with hundreds of individual <code>.jar</code> files, but instead have them lumped into a larger distributable file.</p>\n<p>Regardless of where it comes from:</p>\n<ul>\n<li>given the situation where the Java Class Library has two competing implementations of a class</li>\n<li>how do i force the import of one <em>particular</em> implementation</li>\n<li>rather than letting Java's equivalent of the Fusion Loader to find the one that it happened to stumble across first?</li>\n</ul>\n<h1>Alternative Question</h1>\n<p>When i press <kbd>F12</kbd> in Visual Studio Code to view the declaration of a built-in class, where is it getting that code from? If i can figure out where the code comes from, it might help me ask the next question on Stackoverflow.</p>\n<h2>Bonus Reading</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13308495/why-is-getwindow-not-able-to-be-resolved\">Why is getWindow() not able to be resolved?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13953920/not-able-to-resolve-jsobject-in-a-java-applet-project\">Not able to resolve JSObject in a java applet project</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18038951/jsobject-getwindowthis-always-throws-an-exception\">JSObject.getWindow(this); always throws an exception</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13953920/not-able-to-resolve-jsobject-in-a-java-applet-project/14156602#14156602\">Not able to resolve JSObject in a java applet project</a></li>\n</ul>\n<h2>Workaround</h2>\n<p>The only workaround i have for now is to break the system:</p>\n<pre><code>/*\n * There's a bug in Java. There are two implmentations of netscape.javascript.JSObject:\n * - plugin.jar/netscape.javascript.JSObject\n * - jfxrt.jar/netscape.javascript.JSObject\n * \n * The 2nd one has a WONTFIX bug (https://stackoverflow.com/q/72818274/12597)\n * \n * Which means we need to force the use of the implementation in plugin.jar.\n * But Java has no way to force to use of a specific class.\n * So we have no choice but to not use it.\n */\n   private JSObject jsWindow;\n// jsWindow = JSObject.getWindow(this);\n   jsWindow = null; //i hope this feature wasn't important\n</code></pre>\n"},{"tags":["java","class","transformation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656601160,"post_id":72813222,"comment_id":128617732,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25646669,"reputation":1,"user_id":19414652,"display_name":"Better"},"score":0,"creation_date":1656606724,"post_id":72813222,"comment_id":128619844,"body_markdown":"I already gave enough code","body":"I already gave enough code"}],"owner":{"account_id":25646669,"reputation":1,"user_id":19414652,"display_name":"Better"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656605937,"creation_date":1656580502,"question_id":72813222,"body_markdown":"So I am using [this answer][1] (the self attacher one) to get instrumentation and adding classfiletransformers\r\n\r\n    if (classfileBuffer == null || classfileBuffer.length == 0) {\r\n            return new byte[0];\r\n        }\r\n\t\t\r\n\t\tString cn = &quot;&quot;;\r\n\t\tbyte[] buffer = new byte[0];\r\n\t\tClass&lt;?&gt; redefineClass = null;\r\n\t\tClassNode node = null;\r\n\t\tClassReader reader = null;\r\n\t\ttry {\r\n\t\t\tcn = className.replaceAll(&quot;/&quot;, &quot;.&quot;);\r\n\t\t\t\r\n\t\t\tbuffer = classfileBuffer;\r\n\t\t\t\r\n\t\t\tredefineClass = Class.forName(cn);\r\n\t\t\t\r\n\t\t\tClassReader r = new ClassReader(classfileBuffer);\r\n\t\t\tnode = new ClassNode();\r\n\t\t\tr.accept(node, 0);\r\n\t\t\t\r\n\t\t\treader = r;\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Something terrible happened: &quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn this.transform(cn, redefineClass, buffer, node, reader);\r\n\r\n(class file transformer code)\r\n\r\nthis.transform:\r\n\r\n    ClassWriter cw = new ClassWriter(reader, 0);\r\n    classNode.accept(cw);\r\n            \r\n    return cw.toByteArray();\r\n\r\n(basically returning classfilebuffer)\r\nand I get this error : \r\n\r\n    Exception in thread &quot;main&quot; java.lang.LinkageError: loader (instance of  sun/misc/Launcher$AppClassLoader): attempted  duplicate class definition for name: &quot;net/minecraft/client/main/Main&quot;\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat Main.main(Main.java:18)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19850695/does-java-have-any-mechanism-for-a-vm-to-trace-method-calls-on-itself-without-u/19912148#19912148\r\n\r\nany way I can fix this?","title":"loader (instance of sun/misc/Launcher$AppClassLoader): attempted duplicate class","body":"<p>So I am using <a href=\"https://stackoverflow.com/questions/19850695/does-java-have-any-mechanism-for-a-vm-to-trace-method-calls-on-itself-without-u/19912148#19912148\">this answer</a> (the self attacher one) to get instrumentation and adding classfiletransformers</p>\n<pre><code>if (classfileBuffer == null || classfileBuffer.length == 0) {\n        return new byte[0];\n    }\n    \n    String cn = &quot;&quot;;\n    byte[] buffer = new byte[0];\n    Class&lt;?&gt; redefineClass = null;\n    ClassNode node = null;\n    ClassReader reader = null;\n    try {\n        cn = className.replaceAll(&quot;/&quot;, &quot;.&quot;);\n        \n        buffer = classfileBuffer;\n        \n        redefineClass = Class.forName(cn);\n        \n        ClassReader r = new ClassReader(classfileBuffer);\n        node = new ClassNode();\n        r.accept(node, 0);\n        \n        reader = r;\n    } catch (Exception e) {\n        System.out.println(&quot;Something terrible happened: &quot;);\n        e.printStackTrace();\n    }\n    \n    return this.transform(cn, redefineClass, buffer, node, reader);\n</code></pre>\n<p>(class file transformer code)</p>\n<p>this.transform:</p>\n<pre><code>ClassWriter cw = new ClassWriter(reader, 0);\nclassNode.accept(cw);\n        \nreturn cw.toByteArray();\n</code></pre>\n<p>(basically returning classfilebuffer)\nand I get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.LinkageError: loader (instance of  sun/misc/Launcher$AppClassLoader): attempted  duplicate class definition for name: &quot;net/minecraft/client/main/Main&quot;\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\nat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\nat Main.main(Main.java:18)\n</code></pre>\n<p>any way I can fix this?</p>\n"},{"tags":["java","scheduled-tasks","wait","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656605906,"creation_date":1656605906,"answer_id":72819019,"question_id":72818467,"body_markdown":"Most natural in this case would probably be a &quot;Hold&quot; block downstream of the &quot;Wait&quot; block.\r\n\r\n2 minutes before departure, you call `myHoldBlock.block()`. No more agents leave the &quot;Wait&quot; block and they will have to stay until the next departure.\r\n\r\nJust ensure to call `myHoldBlock.unblock()` when the next ship wants boarding to start.","title":"Anylogic: how to link a wait block to a schedule of different agents","body":"<p>Most natural in this case would probably be a &quot;Hold&quot; block downstream of the &quot;Wait&quot; block.</p>\n<p>2 minutes before departure, you call <code>myHoldBlock.block()</code>. No more agents leave the &quot;Wait&quot; block and they will have to stay until the next departure.</p>\n<p>Just ensure to call <code>myHoldBlock.unblock()</code> when the next ship wants boarding to start.</p>\n"}],"owner":{"account_id":25611238,"reputation":7,"user_id":19384632,"display_name":"Lorenzo Martello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72819019,"answer_count":1,"score":0,"last_activity_date":1656605906,"creation_date":1656603208,"question_id":72818467,"body_markdown":"I&#39;ve got a boat with capacity 1750 pp, that leaves the port every 2 hours based on a schedule.\r\nThe passengers arrives at a waiting area, they can leave this area if: \r\n - there is a boat at the dock\r\n - (the number of passengers already embarked + passengers that left the waiting area) &lt; 1750\r\n\r\nAll these conditions are working properly, but since it takes time to get to the dock and due to safety protocols, I want to stop the passengers flow 2 minutes before the departure of the boat, in order to not have passengers not embarked on the dock.\r\n\r\nHow can I link the boat schedule (named schDepartureBoat1) with passengers Wait block (named waitForBoat1)?\r\nAt the moment I have the following code in the On enter action of the Wait block:\r\n\r\n    if(cllBoatDock1.size()&gt;0 &amp;&amp; (cllPedOnDock1.size()+cllPedOnBoat1.size()) &lt; 1750) {\r\n     waitForBoat1.freeAll();\r\n    }\r\n\r\nThank you in advance for your help","title":"Anylogic: how to link a wait block to a schedule of different agents","body":"<p>I've got a boat with capacity 1750 pp, that leaves the port every 2 hours based on a schedule.\nThe passengers arrives at a waiting area, they can leave this area if:</p>\n<ul>\n<li>there is a boat at the dock</li>\n<li>(the number of passengers already embarked + passengers that left the waiting area) &lt; 1750</li>\n</ul>\n<p>All these conditions are working properly, but since it takes time to get to the dock and due to safety protocols, I want to stop the passengers flow 2 minutes before the departure of the boat, in order to not have passengers not embarked on the dock.</p>\n<p>How can I link the boat schedule (named schDepartureBoat1) with passengers Wait block (named waitForBoat1)?\nAt the moment I have the following code in the On enter action of the Wait block:</p>\n<pre><code>if(cllBoatDock1.size()&gt;0 &amp;&amp; (cllPedOnDock1.size()+cllPedOnBoat1.size()) &lt; 1750) {\n waitForBoat1.freeAll();\n}\n</code></pre>\n<p>Thank you in advance for your help</p>\n"},{"tags":["java","api","ssl","ssl-certificate","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":22449619,"reputation":1,"user_id":19446766,"display_name":"Valentin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656605870,"creation_date":1656605870,"answer_id":72819015,"question_id":72810686,"body_markdown":"If suddenly someone is faced with a similar problem, then here is the solution.\r\nYou must have 2 certificates: server and client.\r\nThen you put the server one in the cacerts repository in Java with the command:\r\n\r\n&gt; keytool -importcert -storetype PKCS12 -keystore trustStore.p12\r\n&gt; -storepass password -alias mpzCA -file root.crt -noprompt\r\n\r\nThen, in the code, do as below:\r\n\r\n    public class DealerProtocolTests {\r\n        \r\n            @Test\r\n            void sendDealerRequest() throws Exception {\r\n                RestAssured.config = RestAssured.config().sslConfig(\r\n                        new SSLConfig()\r\n                                .trustStore(&quot;src/test/resources/certificate/SERVER.p12&quot;, &quot;password&quot;)\r\n                                .keyStore(&quot;src/test/resources/certificate/CLIENT.p12&quot;, &quot;password&quot;));\r\n                \r\n                Response response = null;\r\n                 response =\r\n                        given()\r\n                                .config(config)\r\n                                .spec(xmlSpec)\r\n                                .basePath(&quot;/xmlInteface&quot;)\r\n                                .body(&quot;&quot;)\r\n                                .when()\r\n                                .get()\r\n                                .then()\r\n                                .statusCode(200)\r\n                                .log().all()\r\n                                .extract().response();\r\n        \r\n                System.out.println(response.prettyPrint());\r\n            }\r\n        }","title":"SSL connect certificate trouble with Rest Assured","body":"<p>If suddenly someone is faced with a similar problem, then here is the solution.\nYou must have 2 certificates: server and client.\nThen you put the server one in the cacerts repository in Java with the command:</p>\n<blockquote>\n<p>keytool -importcert -storetype PKCS12 -keystore trustStore.p12\n-storepass password -alias mpzCA -file root.crt -noprompt</p>\n</blockquote>\n<p>Then, in the code, do as below:</p>\n<pre><code>public class DealerProtocolTests {\n    \n        @Test\n        void sendDealerRequest() throws Exception {\n            RestAssured.config = RestAssured.config().sslConfig(\n                    new SSLConfig()\n                            .trustStore(&quot;src/test/resources/certificate/SERVER.p12&quot;, &quot;password&quot;)\n                            .keyStore(&quot;src/test/resources/certificate/CLIENT.p12&quot;, &quot;password&quot;));\n            \n            Response response = null;\n             response =\n                    given()\n                            .config(config)\n                            .spec(xmlSpec)\n                            .basePath(&quot;/xmlInteface&quot;)\n                            .body(&quot;&quot;)\n                            .when()\n                            .get()\n                            .then()\n                            .statusCode(200)\n                            .log().all()\n                            .extract().response();\n    \n            System.out.println(response.prettyPrint());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22449619,"reputation":1,"user_id":19446766,"display_name":"Valentin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72819015,"answer_count":1,"score":0,"last_activity_date":1656605870,"creation_date":1656566949,"question_id":72810686,"body_markdown":"there is a problem, I have been fighting for several days - how to establish an SSL connection via Rest Assured? Here are my attempts, but with this code:\r\n\r\n    public class ApiTests {\r\n        @BeforeAll\r\n        static void setUp() {\r\n            RestAssured.baseURI = &quot;my host&quot;;\r\n        }\r\n    \r\n        @Test\r\n        void createUserTest() throws Exception {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            String keyStorePass = &quot;my pass&quot;;\r\n            try (FileInputStream fis = new FileInputStream(&quot;D:\\\\Idea_projects\\\\TestApi\\\\src\\\\test\\\\resources\\\\my_cert.p12&quot;)) {\r\n                keyStore.load(fis, keyStorePass.toCharArray());\r\n            }\r\n    \r\n            given()\r\n                    .keyStore(keyStore)\r\n                    .trustStore(&quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.13\\\\lib\\\\security\\\\cacerts&quot;, &quot;changeit&quot;)\r\n                    .contentType(JSON)\r\n                    .when()\r\n                    .post(&quot;users&quot;)\r\n                    .then()\r\n                    .statusCode(200)\r\n                    .body(&quot;name&quot;, is(&quot;Valentin&quot;))\r\n                    .body(&quot;job&quot;, is(&quot;qa&quot;));\r\n        }\r\n    }\r\nThrows exception:\r\n\r\n    No signature of method: io.restassured.config.SSLConfig.keyStore() is applicable for argument types: (java.security.KeyStore) values: [java.security.KeyStore@504497fa]\r\n    Possible solutions: keyStore(java.lang.String), keyStore(java.io.File, java.lang.String), keyStore(java.lang.String, java.lang.String), getKeyStore(), trustStore(java.security.KeyStore)\r\n    groovy.lang.MissingMethodException: No signature of method: io.restassured.config.SSLConfig.keyStore() is applicable for argument types: (java.security.KeyStore) values: [java.security.KeyStore@504497fa]\r\n    Possible solutions: keyStore(java.lang.String), keyStore(java.io.File, java.lang.String), keyStore(java.lang.String, java.lang.String), getKeyStore(), trustStore(java.security.KeyStore)\r\n\r\nI tried to use relaxedHTTPSValidation(), but it says:\r\n\r\n    Received fatal alert: bad_certificate\r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\r\nI.e. as I understand it, I still need to add a certificate somehow, but how? I can&#39;t imagine already.\r\nIf someone can tell me what the problem is or what is wrong in my code, please help :(","title":"SSL connect certificate trouble with Rest Assured","body":"<p>there is a problem, I have been fighting for several days - how to establish an SSL connection via Rest Assured? Here are my attempts, but with this code:</p>\n<pre><code>public class ApiTests {\n    @BeforeAll\n    static void setUp() {\n        RestAssured.baseURI = &quot;my host&quot;;\n    }\n\n    @Test\n    void createUserTest() throws Exception {\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        String keyStorePass = &quot;my pass&quot;;\n        try (FileInputStream fis = new FileInputStream(&quot;D:\\\\Idea_projects\\\\TestApi\\\\src\\\\test\\\\resources\\\\my_cert.p12&quot;)) {\n            keyStore.load(fis, keyStorePass.toCharArray());\n        }\n\n        given()\n                .keyStore(keyStore)\n                .trustStore(&quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.13\\\\lib\\\\security\\\\cacerts&quot;, &quot;changeit&quot;)\n                .contentType(JSON)\n                .when()\n                .post(&quot;users&quot;)\n                .then()\n                .statusCode(200)\n                .body(&quot;name&quot;, is(&quot;Valentin&quot;))\n                .body(&quot;job&quot;, is(&quot;qa&quot;));\n    }\n}\n</code></pre>\n<p>Throws exception:</p>\n<pre><code>No signature of method: io.restassured.config.SSLConfig.keyStore() is applicable for argument types: (java.security.KeyStore) values: [java.security.KeyStore@504497fa]\nPossible solutions: keyStore(java.lang.String), keyStore(java.io.File, java.lang.String), keyStore(java.lang.String, java.lang.String), getKeyStore(), trustStore(java.security.KeyStore)\ngroovy.lang.MissingMethodException: No signature of method: io.restassured.config.SSLConfig.keyStore() is applicable for argument types: (java.security.KeyStore) values: [java.security.KeyStore@504497fa]\nPossible solutions: keyStore(java.lang.String), keyStore(java.io.File, java.lang.String), keyStore(java.lang.String, java.lang.String), getKeyStore(), trustStore(java.security.KeyStore)\n</code></pre>\n<p>I tried to use relaxedHTTPSValidation(), but it says:</p>\n<pre><code>Received fatal alert: bad_certificate\njavax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate\n</code></pre>\n<p>I.e. as I understand it, I still need to add a certificate somehow, but how? I can't imagine already.\nIf someone can tell me what the problem is or what is wrong in my code, please help :(</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1656605783,"post_id":72811074,"comment_id":128619555,"body_markdown":"There is no way in Firestore to test based on a substring like that. If you need this, considering using a full-text search solution, such as those documented here: https://firebase.google.com/docs/firestore/solutions/search","body":"There is no way in Firestore to test based on a substring like that. If you need this, considering using a full-text search solution, such as those documented here: <a href=\"https://firebase.google.com/docs/firestore/solutions/search\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/solutions/search</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657100976,"post_id":72811074,"comment_id":128727291,"body_markdown":"This [answer](https://stackoverflow.com/questions/52627194/search-by-pattern-on-cloud-firestore-collection/52627798) and this [resource](https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444) might also help.","body":"This <a href=\"https://stackoverflow.com/questions/52627194/search-by-pattern-on-cloud-firestore-collection/52627798\">answer</a> and this <a href=\"https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444\" rel=\"nofollow noreferrer\">resource</a> might also help."}],"owner":{"account_id":24192310,"reputation":77,"user_id":18151372,"display_name":"Pratham Jindal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1656605805,"answer_count":0,"score":0,"last_activity_date":1656605718,"creation_date":1656569674,"question_id":72811074,"body_markdown":"I have a string column in firestore document :\r\n\r\n    String display = &quot;Date, Day, Weather, Battery&quot;;\r\n\r\nNow I have a :\r\n\r\n    arraylist&lt;String&gt; = &quot;Date, Weather&quot;;\r\n\r\nNow i want to get all documents from firestore where display contains any item from arraylist.\r\n\r\nCan somebody tell, how can i do it ?","title":"How to compare a string column of firestore with a arraylist?","body":"<p>I have a string column in firestore document :</p>\n<pre><code>String display = &quot;Date, Day, Weather, Battery&quot;;\n</code></pre>\n<p>Now I have a :</p>\n<pre><code>arraylist&lt;String&gt; = &quot;Date, Weather&quot;;\n</code></pre>\n<p>Now i want to get all documents from firestore where display contains any item from arraylist.</p>\n<p>Can somebody tell, how can i do it ?</p>\n"},{"tags":["java","class","object","methods"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1656595820,"post_id":72816649,"comment_id":128615402,"body_markdown":"I&#39;m afraid I&#39;ll have to inform you that the above design is wrong. An employee object itself shouldn&#39;t contain 2 other employee objects that always get created with the object itself. That will only lead to infinite recursion and object creation and have your program crash once the memory is filled up with employee objects. If for every employee created you automatically create 2 more employee objects, then those 2 will automatically create 2 employees each for 4 total, those 4 will then create 8 objects, then 16 etc pp.","body":"I&#39;m afraid I&#39;ll have to inform you that the above design is wrong. An employee object itself shouldn&#39;t contain 2 other employee objects that always get created with the object itself. That will only lead to infinite recursion and object creation and have your program crash once the memory is filled up with employee objects. If for every employee created you automatically create 2 more employee objects, then those 2 will automatically create 2 employees each for 4 total, those 4 will then create 8 objects, then 16 etc pp."},{"owner":{"account_id":21045996,"reputation":124,"user_id":15467315,"display_name":"D S"},"score":0,"creation_date":1656595995,"post_id":72816649,"comment_id":128615477,"body_markdown":"I haven&#39;t created an object employee inside employee class. The employee class contains 2 objects staff1 and staff2. @OHGODSPIDERS","body":"I haven&#39;t created an object employee inside employee class. The employee class contains 2 objects staff1 and staff2. @OHGODSPIDERS"},{"owner":{"account_id":21045996,"reputation":124,"user_id":15467315,"display_name":"D S"},"score":0,"creation_date":1656596146,"post_id":72816649,"comment_id":128615552,"body_markdown":"but both the objects belong to the employee class. Can I declare them outside it and will it work?","body":"but both the objects belong to the employee class. Can I declare them outside it and will it work?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1656596178,"post_id":72816649,"comment_id":128615571,"body_markdown":"No, you have. `employee staff1 = new employee(&quot;x&quot;,&quot;IT&quot;,100000);` &lt;- This will create an employee object for your field and get called on object initialization. Trust me. This can&#39;t and will not work because of the reasons I explained above. And it also makes absolutely no logical sense. An employee doesn&#39;t need to know about other employee objects.","body":"No, you have. <code>employee staff1 = new employee(&quot;x&quot;,&quot;IT&quot;,100000);</code> &lt;- This will create an employee object for your field and get called on object initialization. Trust me. This can&#39;t and will not work because of the reasons I explained above. And it also makes absolutely no logical sense. An employee doesn&#39;t need to know about other employee objects."}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656605477,"creation_date":1656605477,"answer_id":72818950,"question_id":72816649,"body_markdown":"You can use this -\r\n\r\n    public class employee {\r\n    String name;\r\n    int salary;\r\n    String dept;\r\n\r\n    public employee(String n, String d, int s) {\r\n        this.name = n;\r\n        this.salary = s;\r\n        this.dept = d;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        employee staff1 = new employee(&quot;x&quot;, &quot;IT&quot;, 100000);\r\n        employee staff2 = new employee(&quot;y&quot;, &quot;HR&quot;, 200000);\r\n        Display(staff1);\r\n        Display(staff2);\r\n    }\r\n\r\n    public static void Display(employee object) {\r\n\r\n        System.out.println(&quot;name=&#39;&quot; + object.name + &#39;\\&#39;&#39; +\r\n                &quot;, salary=&quot; + object.salary +\r\n                &quot;, dept=&#39;&quot; + object.dept + &#39;\\&#39;&#39;);\r\n    }\r\n    }","title":"How to print the data values of an object?","body":"<p>You can use this -</p>\n<pre><code>public class employee {\nString name;\nint salary;\nString dept;\n\npublic employee(String n, String d, int s) {\n    this.name = n;\n    this.salary = s;\n    this.dept = d;\n}\n\npublic static void main(String args[]) {\n    employee staff1 = new employee(&quot;x&quot;, &quot;IT&quot;, 100000);\n    employee staff2 = new employee(&quot;y&quot;, &quot;HR&quot;, 200000);\n    Display(staff1);\n    Display(staff2);\n}\n\npublic static void Display(employee object) {\n\n    System.out.println(&quot;name='&quot; + object.name + '\\'' +\n            &quot;, salary=&quot; + object.salary +\n            &quot;, dept='&quot; + object.dept + '\\'');\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21045996,"reputation":124,"user_id":15467315,"display_name":"D S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72818950,"answer_count":1,"score":-3,"last_activity_date":1656605477,"creation_date":1656595500,"question_id":72816649,"body_markdown":"I have created a class employee in Java, where each object of the class stands for a staff. The objects take 3 parameters - Name, Dept. and Salary. The program looks like this:\r\n\r\n    public class employee\r\n    {\r\n        String name;\r\n        int salary;\r\n        String dept;\r\n        employee staff1 = new employee(&quot;x&quot;,&quot;IT&quot;,100000);\r\n        employee staff2 = new employee(&quot;y&quot;, &quot;HR&quot;, 200000);\r\n        public employee(String n, String d, int s)\r\n        {\r\n            this.name= n;\r\n            this.salary= s;\r\n            this.dept = d;\r\n        }   \r\n        public static void main (String args [])\r\n        {\r\n            \r\n        }\r\n        public void Display()\r\n        {\r\n                \r\n        \r\n            \r\n            \r\n        }\r\n    }\r\n\r\nI want to make a method (the Display method in the code) which takes the object name as a parameter (the code does not have a parameter) and returns (or prints) its data values. Please also tell me what should come in the main method. Thanks in advance.","title":"How to print the data values of an object?","body":"<p>I have created a class employee in Java, where each object of the class stands for a staff. The objects take 3 parameters - Name, Dept. and Salary. The program looks like this:</p>\n<pre><code>public class employee\n{\n    String name;\n    int salary;\n    String dept;\n    employee staff1 = new employee(&quot;x&quot;,&quot;IT&quot;,100000);\n    employee staff2 = new employee(&quot;y&quot;, &quot;HR&quot;, 200000);\n    public employee(String n, String d, int s)\n    {\n        this.name= n;\n        this.salary= s;\n        this.dept = d;\n    }   \n    public static void main (String args [])\n    {\n        \n    }\n    public void Display()\n    {\n            \n    \n        \n        \n    }\n}\n</code></pre>\n<p>I want to make a method (the Display method in the code) which takes the object name as a parameter (the code does not have a parameter) and returns (or prints) its data values. Please also tell me what should come in the main method. Thanks in advance.</p>\n"},{"tags":["java","json","xml","jackson","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1656616779,"post_id":72818796,"comment_id":128622965,"body_markdown":"Refer: https://github.com/FasterXML/jackson-dataformat-xml Jackson XML bind is not intended to be full JAXB compliant. The behavious you are observing is due to that. One suggestion would be to use JAXB annotations on your POJO classes and use a JAXB provider (refer: https://stackoverflow.com/questions/41249432/list-of-jaxb-providers) and check.","body":"Refer: <a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-dataformat-xml</a> Jackson XML bind is not intended to be full JAXB compliant. The behavious you are observing is due to that. One suggestion would be to use JAXB annotations on your POJO classes and use a JAXB provider (refer: <a href=\"https://stackoverflow.com/questions/41249432/list-of-jaxb-providers\" title=\"list of jaxb providers\">stackoverflow.com/questions/41249432/list-of-jaxb-providers</a>) and check."}],"owner":{"account_id":25692466,"reputation":11,"user_id":19453700,"display_name":"Johan De Schutter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656604746,"creation_date":1656604746,"question_id":72818796,"body_markdown":"I have a problem using Jackson, more specific jackson-dataformat-xml.\r\n\r\nWhen JSON is parsed, there is a check on properties that are annotated with JsonProperty with attibute required to true.\r\nIf the required property is missing, a MismatchedInputException with message &quot;Missing required creator property&quot; is thrown.\r\n\r\nWhen XML is parsed, there is no check on required properties/element. If the required property/element is missing, there is no exception.\r\nAdding DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES doesn&#39;t make any difference.\r\n\r\nThere is constructor is annotated with JsonCreator and with the required property annotated with JsonProperty.\r\n\r\nIt worked when jackson-dataformat-xml version 2.11.4 was used, it doesn&#39;t work since version 2.12.0\r\n\r\nDo I need to use another annotation for a required XML element?\r\n\r\nExample class:\r\n\r\n```\r\n@JsonRootName(value = &quot;bar&quot;)\r\npublic class Bar\r\n{\r\n    @JsonProperty(value = &quot;foo&quot;, required = true)\r\n    private int foo;\r\n\r\n    public Bar()\r\n    {}\r\n\r\n    @JsonCreator\r\n    public Bar(@JsonProperty(value = &quot;foo&quot;, required = true) final int foo)\r\n    {\r\n        this.foo = foo;\r\n    }\r\n\r\n    public int getFoo()\r\n    {\r\n        return this.foo;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode()\r\n    {\r\n        return Objects.hash(this.foo);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(final Object obj)\r\n    {\r\n        if (this == obj)\r\n        {\r\n            return true;\r\n        }\r\n        if (!(obj instanceof Bar))\r\n        {\r\n            return false;\r\n        }\r\n        final Bar other = (Bar) obj;\r\n        return this.foo == other.foo;\r\n    }\r\n\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return &quot;Bar: &quot; + Objects.toString(this.foo);\r\n    }\r\n}\r\n```\r\n\r\n\r\nExample of unit test on JSON, this unit test throws an exception as expected, because property foo is missing.\r\n```\r\n    @Test(expected = JsonProcessingException.class)\r\n    public void deserializeJson() throws Exception\r\n    {\r\n        final ObjectMapper jsonMapper = new ObjectMapper();\r\n\r\n        final Bar expected = new Bar(123);\r\n        final Bar actual = jsonMapper.readValue(&quot;{}&quot;, Bar.class); // missing property foo in JSON string\r\n    }\r\n```\r\n\r\nExample of unit test on XML, this unit test does not throw an exception\r\n\r\n```\r\n  @Test(expected = JsonProcessingException.class)\r\n   public void deserializeXml() throws Exception\r\n   {\r\n       final XmlMapper xmlMapper = new XmlMapper();\r\n       xmlMapper.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\r\n\r\n       final Bar expected = new Bar(123);\r\n       final Bar actual = xmlMapper.readValue(&quot;&lt;bar&gt;&lt;/bar&gt;&quot;, Bar.class); // missing element foo in XML string\r\n\r\n       Assert.fail(&quot;Expected com.fasterxml.jackson.databind.exc.MismatchedInputException: Missing required creator property &#39;foo&#39; (index 0)&quot;);\r\n   }\r\n```","title":"Jackson: jackson-dataformat-xml: Required attribute of JsonProperty annotation is ignored when deserializing from XML to Java","body":"<p>I have a problem using Jackson, more specific jackson-dataformat-xml.</p>\n<p>When JSON is parsed, there is a check on properties that are annotated with JsonProperty with attibute required to true.\nIf the required property is missing, a MismatchedInputException with message &quot;Missing required creator property&quot; is thrown.</p>\n<p>When XML is parsed, there is no check on required properties/element. If the required property/element is missing, there is no exception.\nAdding DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES doesn't make any difference.</p>\n<p>There is constructor is annotated with JsonCreator and with the required property annotated with JsonProperty.</p>\n<p>It worked when jackson-dataformat-xml version 2.11.4 was used, it doesn't work since version 2.12.0</p>\n<p>Do I need to use another annotation for a required XML element?</p>\n<p>Example class:</p>\n<pre><code>@JsonRootName(value = &quot;bar&quot;)\npublic class Bar\n{\n    @JsonProperty(value = &quot;foo&quot;, required = true)\n    private int foo;\n\n    public Bar()\n    {}\n\n    @JsonCreator\n    public Bar(@JsonProperty(value = &quot;foo&quot;, required = true) final int foo)\n    {\n        this.foo = foo;\n    }\n\n    public int getFoo()\n    {\n        return this.foo;\n    }\n\n    @Override\n    public int hashCode()\n    {\n        return Objects.hash(this.foo);\n    }\n\n    @Override\n    public boolean equals(final Object obj)\n    {\n        if (this == obj)\n        {\n            return true;\n        }\n        if (!(obj instanceof Bar))\n        {\n            return false;\n        }\n        final Bar other = (Bar) obj;\n        return this.foo == other.foo;\n    }\n\n    @Override\n    public String toString()\n    {\n        return &quot;Bar: &quot; + Objects.toString(this.foo);\n    }\n}\n</code></pre>\n<p>Example of unit test on JSON, this unit test throws an exception as expected, because property foo is missing.</p>\n<pre><code>    @Test(expected = JsonProcessingException.class)\n    public void deserializeJson() throws Exception\n    {\n        final ObjectMapper jsonMapper = new ObjectMapper();\n\n        final Bar expected = new Bar(123);\n        final Bar actual = jsonMapper.readValue(&quot;{}&quot;, Bar.class); // missing property foo in JSON string\n    }\n</code></pre>\n<p>Example of unit test on XML, this unit test does not throw an exception</p>\n<pre><code>  @Test(expected = JsonProcessingException.class)\n   public void deserializeXml() throws Exception\n   {\n       final XmlMapper xmlMapper = new XmlMapper();\n       xmlMapper.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\n\n       final Bar expected = new Bar(123);\n       final Bar actual = xmlMapper.readValue(&quot;&lt;bar&gt;&lt;/bar&gt;&quot;, Bar.class); // missing element foo in XML string\n\n       Assert.fail(&quot;Expected com.fasterxml.jackson.databind.exc.MismatchedInputException: Missing required creator property 'foo' (index 0)&quot;);\n   }\n</code></pre>\n"},{"tags":["java","xml","xpath","expression"],"comments":[{"owner":{"account_id":2183308,"reputation":19305,"user_id":1932311,"display_name":"Yitzhak Khabinsky"},"score":0,"creation_date":1656603842,"post_id":72818386,"comment_id":128618830,"body_markdown":"While asking an XPath question you need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example):\n(1) Input XML.\n(2) Your logic, and XPath that tries to implement it.\n(3) Desired output based on the #1 above.\n(4) XPath processor and its conformance with the XPath standards: 1.0, 2.0, 3.0, or 3.1.","body":"While asking an XPath question you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: (1) Input XML. (2) Your logic, and XPath that tries to implement it. (3) Desired output based on the #1 above. (4) XPath processor and its conformance with the XPath standards: 1.0, 2.0, 3.0, or 3.1."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656603981,"creation_date":1656603981,"answer_id":72818626,"question_id":72818386,"body_markdown":"Per definition a nodeset, when cast to boolean is true and only true if it has elements (https://www.w3.org/TR/xpath-31/#dt-ebv). With that an existence check for the value element can look like\r\n\r\n    fn:boolean(Customers/Customer[Params/Param[Id/text()=&#39;111&#39;]/Value)\r\n\r\nor if you want to include that in your check as a third alternative\r\n\r\n    Customers/Customer[Params/Param[Id/text()=&#39;111&#39; and not ./Value]","title":"Xpath: Check if node doesn&#39;t exist","body":"<p>Per definition a nodeset, when cast to boolean is true and only true if it has elements (<a href=\"https://www.w3.org/TR/xpath-31/#dt-ebv\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xpath-31/#dt-ebv</a>). With that an existence check for the value element can look like</p>\n<pre><code>fn:boolean(Customers/Customer[Params/Param[Id/text()='111']/Value)\n</code></pre>\n<p>or if you want to include that in your check as a third alternative</p>\n<pre><code>Customers/Customer[Params/Param[Id/text()='111' and not ./Value]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656604687,"creation_date":1656604687,"answer_id":72818781,"question_id":72818386,"body_markdown":"XPath `count(expr)`can be used to check the absence of a condition\r\n\r\n    Customers/Customer[count(Params/Param[Id/text()=&#39;111&#39; and Value/text()=&#39;Param 1 is on&#39;]) = 0 and Params/Param[Id/text()=&#39;112&#39;]/Value/text()=&#39;ON&#39;]/Username/text()\r\n\r\nSo this part checks that that node does not exist  \r\n`count(Params/Param[Id/text()=&#39;111&#39; and Value/text()=&#39;Param 1 is on&#39;]) = 0`  \r\nor  \r\n`count(Params/Param[Id/text()=&#39;111&#39;]) = 0` \r\n\r\nAND this part checks the other expected condition  \r\n`Params/Param[Id/text()=&#39;112&#39;]/Value/text()=&#39;ON&#39;` \r\n\r\nApplied on the sample returns:  \r\n`userThree`","title":"Xpath: Check if node doesn&#39;t exist","body":"<p>XPath <code>count(expr)</code>can be used to check the absence of a condition</p>\n<pre><code>Customers/Customer[count(Params/Param[Id/text()='111' and Value/text()='Param 1 is on']) = 0 and Params/Param[Id/text()='112']/Value/text()='ON']/Username/text()\n</code></pre>\n<p>So this part checks that that node does not exist<br />\n<code>count(Params/Param[Id/text()='111' and Value/text()='Param 1 is on']) = 0</code><br />\nor<br />\n<code>count(Params/Param[Id/text()='111']) = 0</code></p>\n<p>AND this part checks the other expected condition<br />\n<code>Params/Param[Id/text()='112']/Value/text()='ON'</code></p>\n<p>Applied on the sample returns:<br />\n<code>userThree</code></p>\n"}],"owner":{"account_id":19045468,"reputation":13,"user_id":13904704,"display_name":"BenLendvai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72818781,"answer_count":2,"score":0,"last_activity_date":1656604687,"creation_date":1656602854,"question_id":72818386,"body_markdown":"I get the XML from my webshops API call structured much like the example below:\r\n\r\n    &lt;Customers&gt;\r\n    &lt;Customer&gt;\r\n        &lt;Username&gt;userOne&lt;/Username&gt;\r\n        &lt;Params&gt;\r\n            &lt;Param&gt;\r\n                &lt;Id&gt;111&lt;/Id&gt;\r\n                &lt;Name&gt;Param1&lt;/Name&gt;\r\n                &lt;Value&gt;&lt;![CDATA[Param 1 is on]]&gt;&lt;/Value&gt;\r\n            &lt;/Param&gt;\r\n            &lt;Param&gt;\r\n                &lt;Id&gt;112&lt;/Id&gt;\r\n                &lt;Name&gt;Param2&lt;/Name&gt;\r\n                &lt;Value&gt;&lt;![CDATA[OFF]]&gt;&lt;/Value&gt;\r\n            &lt;/Param&gt;\r\n        &lt;/Params&gt;\r\n    &lt;/Customer&gt;\r\n    &lt;Customer&gt;\r\n        &lt;Username&gt;userTwo&lt;/Username&gt;\r\n        &lt;Params&gt;\r\n            &lt;Param&gt;\r\n                &lt;Id&gt;111&lt;/Id&gt;\r\n                &lt;Name&gt;Param1&lt;/Name&gt;\r\n                &lt;Value&gt;&lt;![CDATA[Param 1 is on]]&gt;&lt;/Value&gt;\r\n            &lt;/Param&gt;\r\n            &lt;Param&gt;\r\n                &lt;Id&gt;112&lt;/Id&gt;\r\n                &lt;Name&gt;Param2&lt;/Name&gt;\r\n                &lt;Value&gt;&lt;![CDATA[OFF]]&gt;&lt;/Value&gt;\r\n            &lt;/Param&gt;\r\n        &lt;/Params&gt;\r\n    &lt;/Customer&gt;\r\n    &lt;Customer&gt;\r\n        &lt;Username&gt;userThree&lt;/Username&gt;\r\n        &lt;Params&gt;            \r\n            &lt;Param&gt;\r\n                &lt;Id&gt;112&lt;/Id&gt;\r\n                &lt;Name&gt;Param2&lt;/Name&gt;\r\n                &lt;Value&gt;&lt;![CDATA[ON]]&gt;&lt;/Value&gt;\r\n            &lt;/Param&gt;\r\n        &lt;/Params&gt;\r\n    &lt;/Customer&gt;\r\n&lt;/Customers&gt;\r\n\r\nThere are way more parameters in them, ans the amount varies dependong on many outside factors.\r\nI&#39;m trying to get the usernames for when the values for id&quot;111&quot; and id&quot;112&quot; are what I&#39;m looking for.\r\n`Customers/Customer[Params/Param[Id/text()=&#39;111&#39;]/Value/text()=&#39;Param 1 is on&#39;][Params/Param[Id/text()=&#39;112&#39;]/Value/text()=&#39;OFF&#39;]/Username/text()`\r\n\r\nThe above code returns &quot;userOne&quot; and &quot;userTwo&quot; as expected.\r\n\r\nThe problem is, that Id&quot;111&quot; either has the value &quot;Param 1 is on&quot; or nothing, and if it has no value it won&#39;t show up in the XML.\r\nSo I need an expression that checks if a node with id&quot;111&quot; doesn&#39;t exist and the value of id&quot;112&quot; is &quot;ON&quot;.\r\n\r\nXpath is realy new to me unfortunatelly, and I couldn&#39;t find a way to check specificly if a node doesn&#39;t exist.","title":"Xpath: Check if node doesn&#39;t exist","body":"<p>I get the XML from my webshops API call structured much like the example below:</p>\n<pre><code>&lt;Customers&gt;\n&lt;Customer&gt;\n    &lt;Username&gt;userOne&lt;/Username&gt;\n    &lt;Params&gt;\n        &lt;Param&gt;\n            &lt;Id&gt;111&lt;/Id&gt;\n            &lt;Name&gt;Param1&lt;/Name&gt;\n            &lt;Value&gt;&lt;![CDATA[Param 1 is on]]&gt;&lt;/Value&gt;\n        &lt;/Param&gt;\n        &lt;Param&gt;\n            &lt;Id&gt;112&lt;/Id&gt;\n            &lt;Name&gt;Param2&lt;/Name&gt;\n            &lt;Value&gt;&lt;![CDATA[OFF]]&gt;&lt;/Value&gt;\n        &lt;/Param&gt;\n    &lt;/Params&gt;\n&lt;/Customer&gt;\n&lt;Customer&gt;\n    &lt;Username&gt;userTwo&lt;/Username&gt;\n    &lt;Params&gt;\n        &lt;Param&gt;\n            &lt;Id&gt;111&lt;/Id&gt;\n            &lt;Name&gt;Param1&lt;/Name&gt;\n            &lt;Value&gt;&lt;![CDATA[Param 1 is on]]&gt;&lt;/Value&gt;\n        &lt;/Param&gt;\n        &lt;Param&gt;\n            &lt;Id&gt;112&lt;/Id&gt;\n            &lt;Name&gt;Param2&lt;/Name&gt;\n            &lt;Value&gt;&lt;![CDATA[OFF]]&gt;&lt;/Value&gt;\n        &lt;/Param&gt;\n    &lt;/Params&gt;\n&lt;/Customer&gt;\n&lt;Customer&gt;\n    &lt;Username&gt;userThree&lt;/Username&gt;\n    &lt;Params&gt;            \n        &lt;Param&gt;\n            &lt;Id&gt;112&lt;/Id&gt;\n            &lt;Name&gt;Param2&lt;/Name&gt;\n            &lt;Value&gt;&lt;![CDATA[ON]]&gt;&lt;/Value&gt;\n        &lt;/Param&gt;\n    &lt;/Params&gt;\n&lt;/Customer&gt;\n</code></pre>\n\n<p>There are way more parameters in them, ans the amount varies dependong on many outside factors.\nI'm trying to get the usernames for when the values for id&quot;111&quot; and id&quot;112&quot; are what I'm looking for.\n<code>Customers/Customer[Params/Param[Id/text()='111']/Value/text()='Param 1 is on'][Params/Param[Id/text()='112']/Value/text()='OFF']/Username/text()</code></p>\n<p>The above code returns &quot;userOne&quot; and &quot;userTwo&quot; as expected.</p>\n<p>The problem is, that Id&quot;111&quot; either has the value &quot;Param 1 is on&quot; or nothing, and if it has no value it won't show up in the XML.\nSo I need an expression that checks if a node with id&quot;111&quot; doesn't exist and the value of id&quot;112&quot; is &quot;ON&quot;.</p>\n<p>Xpath is realy new to me unfortunatelly, and I couldn't find a way to check specificly if a node doesn't exist.</p>\n"},{"tags":["javascript","python","java","html","web-hosting"],"comments":[{"owner":{"account_id":11346486,"reputation":365,"user_id":8318833,"display_name":"Ananay Gupta"},"score":0,"creation_date":1672669293,"post_id":69324229,"comment_id":132323505,"body_markdown":"I am a bit confused. I think there are 3 components to your application - a website server that is serving HTML (you mentioned using flask), the website client view (which will be your rendered template) and finally an independent python script running on the client side? (note that in the question I have asked, the client side python script and the flask webserver are not the same application and may not be on the same machine) This is a very different scenario than what the answer is solving, which assumes that the python script and the flask webserver are the same app on the same machine","body":"I am a bit confused. I think there are 3 components to your application - a website server that is serving HTML (you mentioned using flask), the website client view (which will be your rendered template) and finally an independent python script running on the client side? (note that in the question I have asked, the client side python script and the flask webserver are not the same application and may not be on the same machine) This is a very different scenario than what the answer is solving, which assumes that the python script and the flask webserver are the same app on the same machine"},{"owner":{"account_id":11346486,"reputation":365,"user_id":8318833,"display_name":"Ananay Gupta"},"score":0,"creation_date":1672669384,"post_id":69324229,"comment_id":132323536,"body_markdown":"I think a bit more detail about the structure of the application, and potential solutions you have tried might help","body":"I think a bit more detail about the structure of the application, and potential solutions you have tried might help"}],"answers":[{"tags":[],"owner":{"account_id":20231096,"reputation":344,"user_id":14837619,"display_name":"Yechiel babani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642505431,"creation_date":1636444695,"answer_id":69894607,"question_id":69324229,"body_markdown":"You can send the string to your route in flask.\r\nfor example if you set your port in flask to `5000` so when you run it you can see in terminal the link to localhost lets say it looks like this `http://195.128.1.18:5000/` and your route in flask looks like this :\r\n```python\r\n@app.route(&#39;/&#39;)\r\ndef test():\r\n    str = request.args.get(&#39;mystring&#39;, None)\r\n    return str\r\n```\r\nand what it does it&#39;s basically shows the string you sent from  html.  \r\nAnd your html code to send the data looks like this :\r\n```html\r\n&lt;body&gt;\r\n  &lt;form target=&quot;_blank&quot; action=&quot;http://195.128.1.18:5000/&quot;&gt;\r\n       Your String you want to send&lt;input type=&quot;text&quot; name=&quot;mystring&quot;&gt;\r\n       &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n  &lt;/form&gt;\r\n&lt;/body&gt;\r\n```\r\n","title":"how to import data from HTML Button from a server","body":"<p>You can send the string to your route in flask.\nfor example if you set your port in flask to <code>5000</code> so when you run it you can see in terminal the link to localhost lets say it looks like this <code>http://195.128.1.18:5000/</code> and your route in flask looks like this :</p>\n<pre class=\"lang-py prettyprint-override\"><code>@app.route('/')\ndef test():\n    str = request.args.get('mystring', None)\n    return str\n</code></pre>\n<p>and what it does it's basically shows the string you sent from  html.<br />\nAnd your html code to send the data looks like this :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n  &lt;form target=&quot;_blank&quot; action=&quot;http://195.128.1.18:5000/&quot;&gt;\n       Your String you want to send&lt;input type=&quot;text&quot; name=&quot;mystring&quot;&gt;\n       &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n  &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n"}],"owner":{"account_id":22849930,"reputation":1,"user_id":16995708,"display_name":"zeerak.nu7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656604528,"creation_date":1632556821,"question_id":69324229,"body_markdown":"I am working on a project where I need to import data from My website i.e when someone clicks a button then a string should be generated and I should import that string to a python script running on windows on a client-side. For this purpose Ive used Flask-Python but the problem is that In flask we need to create a template folder in the project folder where the python script is saved.\r\nbut in my scenario, I need to run python script on windows and the template folder should be placed on the website page as I need to run HTML file on the webserver and import data from that file. I am facing this problem for a long time please someone help me.","title":"how to import data from HTML Button from a server","body":"<p>I am working on a project where I need to import data from My website i.e when someone clicks a button then a string should be generated and I should import that string to a python script running on windows on a client-side. For this purpose Ive used Flask-Python but the problem is that In flask we need to create a template folder in the project folder where the python script is saved.\nbut in my scenario, I need to run python script on windows and the template folder should be placed on the website page as I need to run HTML file on the webserver and import data from that file. I am facing this problem for a long time please someone help me.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656487667,"post_id":72793253,"comment_id":128581685,"body_markdown":"No. As those are processed by JPA and not Spring, so no. What you should do is not let Hibernate manage your schema but rather something like Flyway or Liquibase for which you can have different sql files for different databases.","body":"No. As those are processed by JPA and not Spring, so no. What you should do is not let Hibernate manage your schema but rather something like Flyway or Liquibase for which you can have different sql files for different databases."},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1656509181,"post_id":72793253,"comment_id":128590229,"body_markdown":"schema being managed by hibernate doesn&#39;t really bother me here. it&#39;s the fact I cannot tell my java app what columnDefinition to use based on dialect. how does liquibase owning the schema help me here?","body":"schema being managed by hibernate doesn&#39;t really bother me here. it&#39;s the fact I cannot tell my java app what columnDefinition to use based on dialect. how does liquibase owning the schema help me here?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656567748,"post_id":72793253,"comment_id":128605396,"body_markdown":"The `columnDefinition` is only useful is you let Hibernate manage/create your database schema. If you don&#39;t care about that you don&#39;t need the `columnDefinition`. Apparently you do care and thus let Hibernate manage your schema (else you wouldn&#39;t need it). As it isn&#39;t going to work with value substitution you need a different means. With Flyway or Liquibase you can use different SQL files to create your schema based on which database is being used.","body":"The <code>columnDefinition</code> is only useful is you let Hibernate manage/create your database schema. If you don&#39;t care about that you don&#39;t need the <code>columnDefinition</code>. Apparently you do care and thus let Hibernate manage your schema (else you wouldn&#39;t need it). As it isn&#39;t going to work with value substitution you need a different means. With Flyway or Liquibase you can use different SQL files to create your schema based on which database is being used."}],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656604361,"creation_date":1656604025,"answer_id":72818641,"question_id":72793253,"body_markdown":"Answer from comments: No. JPA annotations cannot use spring substitutions.\r\n\r\nSo you will need to find a way to **make sure your annotations are completely dialect independent**.\r\n\r\nSo I went ahead and created this work-around to the issue for now. I will just build my own converter:\r\n\r\n        /** This is a database independent way to convert pojo to json to database, then back to\r\n         * pojo from database. There is a better way to do this with {@link com.vladmihalcea.hibernate.type.json.JsonType}, but\r\n         * unfortunately it doesn&#39;t work in H2.\r\n         */\r\n        @javax.persistence.Converter\r\n        public static class ListStringConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n    \r\n            @Override\r\n            public String convertToDatabaseColumn(List&lt;String&gt; myCustomObject) {\r\n                try {\r\n                    return objectMapper.writeValueAsString(myCustomObject);\r\n                } catch (JsonProcessingException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public List&lt;String&gt; convertToEntityAttribute(String databaseDataAsJSONString) {\r\n                try {\r\n                    return objectMapper.readValue(databaseDataAsJSONString, List.class);\r\n                } catch (JsonProcessingException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n\r\nThen use it:\r\n\r\n    @Lob\r\n    @Convert(converter = ListStringConverter.class)\r\n    private List&lt;String&gt; tags = Lists.newArrayList();\r\n\r\nIt actually performs pretty much the same too. No performance impact that I can tell. \r\n\r\nI will remove H2 and replace with **[testcontainers][1]** to make this all moot point. \r\n\r\n\r\n  [1]: https://www.testcontainers.org/","title":"Is there a way to get Spring variable substitution inside JPA annotation values?","body":"<p>Answer from comments: No. JPA annotations cannot use spring substitutions.</p>\n<p>So you will need to find a way to <strong>make sure your annotations are completely dialect independent</strong>.</p>\n<p>So I went ahead and created this work-around to the issue for now. I will just build my own converter:</p>\n<pre><code>    /** This is a database independent way to convert pojo to json to database, then back to\n     * pojo from database. There is a better way to do this with {@link com.vladmihalcea.hibernate.type.json.JsonType}, but\n     * unfortunately it doesn't work in H2.\n     */\n    @javax.persistence.Converter\n    public static class ListStringConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n\n        @Override\n        public String convertToDatabaseColumn(List&lt;String&gt; myCustomObject) {\n            try {\n                return objectMapper.writeValueAsString(myCustomObject);\n            } catch (JsonProcessingException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n        @Override\n        public List&lt;String&gt; convertToEntityAttribute(String databaseDataAsJSONString) {\n            try {\n                return objectMapper.readValue(databaseDataAsJSONString, List.class);\n            } catch (JsonProcessingException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n</code></pre>\n<p>Then use it:</p>\n<pre><code>@Lob\n@Convert(converter = ListStringConverter.class)\nprivate List&lt;String&gt; tags = Lists.newArrayList();\n</code></pre>\n<p>It actually performs pretty much the same too. No performance impact that I can tell.</p>\n<p>I will remove H2 and replace with <strong><a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">testcontainers</a></strong> to make this all moot point.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72818641,"answer_count":1,"score":0,"last_activity_date":1656604361,"creation_date":1656451120,"question_id":72793253,"body_markdown":"This works on SQL server:\r\n\r\n```\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;NVARCHAR(MAX) NULL CHECK(ISJSON(tags) = 1)&quot;)\r\n    private List&lt;String&gt; tags = Lists.newArrayList();\r\n```\r\n\r\nBut you need to do this on H2:\r\n\r\n```\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;json&quot;)\r\n    private List&lt;String&gt; tags = Lists.newArrayList();\r\n```\r\n\r\nIs there a way to use a spring application property:\r\n\r\n```\r\n#h2\r\njson_coldef=json\r\n\r\n#sql server\r\njson_coldef=NVARCHAR(MAX) NULL CHECK(ISJSON(tags) = 1)\r\n```\r\n\r\n\r\nso that I can do this?\r\n\r\n```\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;${json_coldef}&quot;)\r\n    private List&lt;String&gt; tags = Lists.newArrayList();\r\n```\r\n\r\nso that it loads it from a spring property specified at JVM system property?\r\n\r\nIn other words, is there some way I can use spring variables inside the JPA annotation values and get variable substitution?","title":"Is there a way to get Spring variable substitution inside JPA annotation values?","body":"<p>This works on SQL server:</p>\n<pre><code>    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;NVARCHAR(MAX) NULL CHECK(ISJSON(tags) = 1)&quot;)\n    private List&lt;String&gt; tags = Lists.newArrayList();\n</code></pre>\n<p>But you need to do this on H2:</p>\n<pre><code>    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;)\n    private List&lt;String&gt; tags = Lists.newArrayList();\n</code></pre>\n<p>Is there a way to use a spring application property:</p>\n<pre><code>#h2\njson_coldef=json\n\n#sql server\njson_coldef=NVARCHAR(MAX) NULL CHECK(ISJSON(tags) = 1)\n</code></pre>\n<p>so that I can do this?</p>\n<pre><code>    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;${json_coldef}&quot;)\n    private List&lt;String&gt; tags = Lists.newArrayList();\n</code></pre>\n<p>so that it loads it from a spring property specified at JVM system property?</p>\n<p>In other words, is there some way I can use spring variables inside the JPA annotation values and get variable substitution?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8772,"page":1220,"page_size":100}
