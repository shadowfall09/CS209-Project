{"items":[{"tags":["java","jvm","out-of-memory","heap-memory","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":2259169,"reputation":11,"user_id":2174857,"display_name":"user35971"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385963823,"creation_date":1385963823,"answer_id":20321757,"question_id":20321042,"body_markdown":"Please check your flow of functional calls as you are not closing the database connection that once opened  creating the memory leaks \r\n\r\nSee this conversation for further reference   https://stackoverflow.com/questions/9561828/database-connections-and-outofmemoryerror-java-heap-space","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>Please check your flow of functional calls as you are not closing the database connection that once opened  creating the memory leaks </p>\n\n<p>See this conversation for further reference   <a href=\"https://stackoverflow.com/questions/9561828/database-connections-and-outofmemoryerror-java-heap-space\">Database connections and OutOfMemoryError: Java Heap Space</a></p>\n"},{"tags":[],"owner":{"account_id":1141397,"reputation":4287,"user_id":1125197,"accept_rate":80,"display_name":"lichengwu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385999695,"creation_date":1385999695,"answer_id":20332360,"question_id":20321042,"body_markdown":"It&#39;s hard to analyse the reason with such a few information.\n\nAccording to the report, it maybe db connections problem.\n\nTRY:\n\n  - Confirm what&#39;re being hold by `ConnectionQueueStatsProvider`(probably java.util.concurrent.ConcurrentHashMap$Segment[]).\n\n  - Open the source code, find out what&#39;s in `ConnectionQueueStatsProvider&#39;s ConcurrentHashMap`.\n\n----\nIf java.util.concurrent.ConcurrentHashMap$Segment[] token most of the space, you app may have db connection problems.\n\n### Java.util.concurrent.ConcurrentHashMap is only one usage in ConnectionQueueStatsProvider&#39;s:\n\n&lt;pre&gt;&lt;a href=&quot;http://grepcode.com/file/repo1.maven.org/maven2/org.glassfish.core/kernel/3.0.1/com/sun/enterprise/v3/services/impl/monitor/stats/ConnectionQueueStatsProvider.java#66&quot;&gt;66&lt;/a&gt;  &lt;font color=&quot;#7f0055&quot;&gt;&lt;b&gt;private&lt;/b&gt;&lt;/font&gt; &lt;font color=&quot;#7f0055&quot;&gt;&lt;b&gt;final&lt;/b&gt;&lt;/font&gt; &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Map.java#Map&quot; title=&quot;java.util.Map&quot;&gt;Map&lt;/a&gt;&amp;lt;&lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer&quot; title=&quot;java.lang.Integer&quot;&gt;Integer&lt;/a&gt;, &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long&quot; title=&quot;java.lang.Long&quot;&gt;Long&lt;/a&gt;&gt; openConnectionsCount = &lt;font color=&quot;#7f0055&quot;&gt;&lt;b&gt;new&lt;/b&gt;&lt;/font&gt; &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#ConcurrentHashMap&quot; title=&quot;java.util.concurrent.ConcurrentHashMap&quot;&gt;ConcurrentHashMap&lt;/a&gt;&amp;lt;&lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer&quot; title=&quot;java.lang.Integer&quot;&gt;Integer&lt;/a&gt;, &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long&quot; title=&quot;java.lang.Long&quot;&gt;Long&lt;/a&gt;&gt;();&lt;br/&gt;&lt;/pre&gt;\n\nTry to check you code and close the db connections.\n\n","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>It's hard to analyse the reason with such a few information.</p>\n<p>According to the report, it maybe db connections problem.</p>\n<p>TRY:</p>\n<ul>\n<li><p>Confirm what're being hold by <code>ConnectionQueueStatsProvider</code>(probably java.util.concurrent.ConcurrentHashMap$Segment[]).</p>\n</li>\n<li><p>Open the source code, find out what's in <code>ConnectionQueueStatsProvider's ConcurrentHashMap</code>.</p>\n</li>\n</ul>\n<hr />\n<p>If java.util.concurrent.ConcurrentHashMap$Segment[] token most of the space, you app may have db connection problems.</p>\n<h3>Java.util.concurrent.ConcurrentHashMap is only one usage in ConnectionQueueStatsProvider's:</h3>\n<pre><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.glassfish.core/kernel/3.0.1/com/sun/enterprise/v3/services/impl/monitor/stats/ConnectionQueueStatsProvider.java#66\" rel=\"nofollow noreferrer\">66</a>  <b>private</b> <b>final</b> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Map.java#Map\" rel=\"nofollow noreferrer\" title=\"java.util.Map\">Map</a>&lt;<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer\" rel=\"nofollow noreferrer\" title=\"java.lang.Integer\">Integer</a>, <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long\" rel=\"nofollow noreferrer\" title=\"java.lang.Long\">Long</a>> openConnectionsCount = <b>new</b> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#ConcurrentHashMap\" rel=\"nofollow noreferrer\" title=\"java.util.concurrent.ConcurrentHashMap\">ConcurrentHashMap</a>&lt;<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer\" rel=\"nofollow noreferrer\" title=\"java.lang.Integer\">Integer</a>, <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long\" rel=\"nofollow noreferrer\" title=\"java.lang.Long\">Long</a>>();<br/></pre>\n<p>Try to check you code and close the db connections.</p>\n"},{"tags":[],"owner":{"account_id":114769,"reputation":5726,"user_id":301650,"accept_rate":56,"display_name":"Nikem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386015644,"creation_date":1386015644,"answer_id":20337069,"question_id":20321042,"body_markdown":"Well, MAT is pretty obvious here. You have an instance of ConnectionQueueStatsProvider, which has a huge openConnectionsCount map. It seems you fill this map constantly, but never remove anything from it. Memory leak if I ever saw one :)\r\n\r\nIn the future, you might be interested in [Plumbr][1], which is created to find such problems with much lesser effort required.\r\n\r\n\r\n  [1]: http://plumbr.eu","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>Well, MAT is pretty obvious here. You have an instance of ConnectionQueueStatsProvider, which has a huge openConnectionsCount map. It seems you fill this map constantly, but never remove anything from it. Memory leak if I ever saw one :)</p>\n\n<p>In the future, you might be interested in <a href=\"http://plumbr.eu\" rel=\"nofollow\">Plumbr</a>, which is created to find such problems with much lesser effort required.</p>\n"},{"tags":[],"owner":{"account_id":2177927,"reputation":178,"user_id":1928162,"accept_rate":83,"display_name":"robertdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1386294408,"creation_date":1386294408,"answer_id":20414445,"question_id":20321042,"body_markdown":"we think we found the answer. We saw a similar bug reported in the glassfish jira:https://java.net/jira/browse/GLASSFISH-16254. It seems to be a bug with glassfish 3.0.1.\r\n\r\nThey had an out of memory error when glassfish monitoring for thread pool and http service was turned on which is the exact setup we had.\r\n\r\nWe turned off the glassfish monitoring and now we are running stable for 1 week without any out of memory.\r\n\r\nThanks for everyone&#39;s help!","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>we think we found the answer. We saw a similar bug reported in the glassfish jira:<a href=\"https://java.net/jira/browse/GLASSFISH-16254\" rel=\"nofollow\">https://java.net/jira/browse/GLASSFISH-16254</a>. It seems to be a bug with glassfish 3.0.1.</p>\n\n<p>They had an out of memory error when glassfish monitoring for thread pool and http service was turned on which is the exact setup we had.</p>\n\n<p>We turned off the glassfish monitoring and now we are running stable for 1 week without any out of memory.</p>\n\n<p>Thanks for everyone's help!</p>\n"}],"owner":{"account_id":2177927,"reputation":178,"user_id":1928162,"accept_rate":83,"display_name":"robertdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20414445,"answer_count":4,"score":0,"last_activity_date":1635532632,"creation_date":1385959611,"question_id":20321042,"body_markdown":"we experienced an out of memory error in our production environment last week. This out of memory error occurs maybe once a week and the current workaround is to restart the application server. We are using glassfish 3.0.1. The heap dump generated was around 5gb.\r\n\r\nPlease help in analyzing the heap dump below. Here is the leak suspects report generated using eclipse MAT. How do we analyze the report below?\r\n\r\n    One instance of \r\n    &quot;com.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider&quot; loaded by \r\n    &quot;org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970&quot; occupies \r\n    2,104,143,312 (87.97%) bytes. The instance is referenced by \r\n    org.glassfish.flashlight.impl.client.ReflectiveClientInvoker @ 0x600a63768 , loaded by \r\n    &quot;org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38&quot;. The memory is \r\n    accumulated in one instance of &quot;java.util.concurrent.ConcurrentHashMap$Segment[]&quot; loaded \r\n    by &quot;&lt;system class loader&gt;&quot;.\r\n\r\n    Keywords\r\n    org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970\r\n    org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38\r\n    java.util.concurrent.ConcurrentHashMap$Segment[]\r\n    com.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider\r\n\r\n![shortest paths to accumulation point][1]\r\n![accumulated objects][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xvS3g.png\r\n  [2]: http://i.stack.imgur.com/48DAb.png","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>we experienced an out of memory error in our production environment last week. This out of memory error occurs maybe once a week and the current workaround is to restart the application server. We are using glassfish 3.0.1. The heap dump generated was around 5gb.</p>\n\n<p>Please help in analyzing the heap dump below. Here is the leak suspects report generated using eclipse MAT. How do we analyze the report below?</p>\n\n<pre><code>One instance of \n\"com.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider\" loaded by \n\"org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970\" occupies \n2,104,143,312 (87.97%) bytes. The instance is referenced by \norg.glassfish.flashlight.impl.client.ReflectiveClientInvoker @ 0x600a63768 , loaded by \n\"org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38\". The memory is \naccumulated in one instance of \"java.util.concurrent.ConcurrentHashMap$Segment[]\" loaded \nby \"&lt;system class loader&gt;\".\n\nKeywords\norg.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970\norg.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38\njava.util.concurrent.ConcurrentHashMap$Segment[]\ncom.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/xvS3g.png\" alt=\"shortest paths to accumulation point\">\n<img src=\"https://i.stack.imgur.com/48DAb.png\" alt=\"accumulated objects\"></p>\n"},{"tags":["java","linux","amazon-ec2","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1391175391,"post_id":21481277,"comment_id":32422422,"body_markdown":"All answers suggesting to increase the heap size should be deleted, IMO. Such advice is like instructing a victim with a severed limb where to get more blood.","body":"All answers suggesting to increase the heap size should be deleted, IMO. Such advice is like instructing a victim with a severed limb where to get more blood."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1391175099,"creation_date":1391175099,"answer_id":21481334,"question_id":21481277,"body_markdown":"It&#39;s a  very bad idea to construct `StringBuffer` object for passing it inside `JSONTokener`. This class has constructor directly from `Reader` or `InputStream`, so your code should be something like that:\r\n\r\n`JSONTokener jTokener = new JSONTokener(new BufferedReader(new InputStreamReader(s3Object.getObjectContent())));`\r\n","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>It's a  very bad idea to construct <code>StringBuffer</code> object for passing it inside <code>JSONTokener</code>. This class has constructor directly from <code>Reader</code> or <code>InputStream</code>, so your code should be something like that:</p>\n\n<p><code>JSONTokener jTokener = new JSONTokener(new BufferedReader(new InputStreamReader(s3Object.getObjectContent())));</code></p>\n"},{"tags":[],"owner":{"account_id":1789331,"reputation":1792,"user_id":1630096,"accept_rate":89,"display_name":"Anastasios Vlasopoulos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1391175273,"creation_date":1391175273,"answer_id":21481390,"question_id":21481277,"body_markdown":"Your java have run out of heap memory. You can increase your heap memory up to 4gb on a 32bit system. If you&#39;re on a 64 bit system you can go higher. If you ask for over 4gb on a 32 bit system you will get invalid value from java and it will exit.\r\n\r\nBelow is how you can set your memory heap up to 6gb on a 64bit system using cmd command:\r\n\r\n    java -Xmx6144M -d64","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>Your java have run out of heap memory. You can increase your heap memory up to 4gb on a 32bit system. If you're on a 64 bit system you can go higher. If you ask for over 4gb on a 32 bit system you will get invalid value from java and it will exit.</p>\n\n<p>Below is how you can set your memory heap up to 6gb on a 64bit system using cmd command:</p>\n\n<pre><code>java -Xmx6144M -d64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1391175703,"creation_date":1391175703,"answer_id":21481531,"question_id":21481277,"body_markdown":"You are declaring hashIndex outside of the loop\r\n\r\n    StringBuffer hashIndex = new StringBuffer(&quot;&quot;);\r\n\r\n    ...\r\n\r\n    for(int i=0;i&lt;jsonArray.length();i++) {\r\n\r\n        hashIndex.append(...);\r\n\r\nThis means that the StringBuffer keeps getting bigger and bigger as you iterate the buckets until it finally explodes!\r\n\r\nI think you meant to declare `hashIndex` inside the loop.\r\n    ","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>You are declaring hashIndex outside of the loop</p>\n\n<pre><code>StringBuffer hashIndex = new StringBuffer(\"\");\n\n...\n\nfor(int i=0;i&lt;jsonArray.length();i++) {\n\n    hashIndex.append(...);\n</code></pre>\n\n<p>This means that the StringBuffer keeps getting bigger and bigger as you iterate the buckets until it finally explodes!</p>\n\n<p>I think you meant to declare <code>hashIndex</code> inside the loop.</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21481531,"answer_count":3,"score":0,"last_activity_date":1635532612,"creation_date":1391174925,"question_id":21481277,"body_markdown":"Please have a look at the following code\r\n\r\n    public void createHash() throws IOException\r\n    {\r\n    \tSystem.out.println(&quot;Hash Creation Started&quot;);\r\n    \t\r\n    \tStringBuffer hashIndex = new StringBuffer(&quot;&quot;);\r\n    \t\r\n    \t\r\n    \tAmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\r\n    \tRegion usWest2 = Region.getRegion(Regions.US_EAST_1);\r\n    \ts3.setRegion(usWest2);\r\n    \t\r\n    \tstrBuffer = new StringBuffer(&quot;&quot;);\r\n    \t\r\n    \t\r\n    \ttry\r\n    \t{\r\n    \t\t//List all the Buckets\r\n    \t\tList&lt;Bucket&gt;buckets = s3.listBuckets();\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;buckets.size();i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;- &quot;+(buckets.get(i)).getName());\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t//Downloading the Object\r\n    \t\tSystem.out.println(&quot;Downloading Object&quot;);\r\n    \t\tS3Object s3Object = s3.getObject(new GetObjectRequest(&quot;JsonBucket&quot;, &quot;Articles_4.json&quot;));\r\n    \t\tSystem.out.println(&quot;Content-Type: &quot;  + s3Object.getObjectMetadata().getContentType());\r\n    \t\t\r\n    \t\t\r\n    \t\t//Read the JSON File\r\n    \t\tBufferedReader reader = new BufferedReader(new InputStreamReader(s3Object.getObjectContent()));\r\n            while (true) {\r\n                String line = reader.readLine();\r\n                if (line == null) break;\r\n    \r\n               // System.out.println(&quot;    &quot; + line);\r\n                strBuffer.append(line);\r\n                \r\n            }\r\n            \r\n            JSONTokener jTokener = new JSONTokener(strBuffer.toString());\r\n            jsonArray = new JSONArray(jTokener);\r\n     \r\n            System.out.println(&quot;Json array length: &quot;+jsonArray.length());\r\n            \r\n            \r\n            for(int i=0;i&lt;jsonArray.length();i++)\r\n            {\r\n            \tJSONObject jsonObject1 = jsonArray.getJSONObject(i);\r\n            \t\r\n            \t//Add Title and Body Together to the list\r\n            \tString titleAndBodyContainer = jsonObject1.getString(&quot;title&quot;)+&quot; &quot;+jsonObject1.getString(&quot;body&quot;);\r\n            \t\r\n            \t\r\n            \t//Remove full stops and commas\r\n            \ttitleAndBodyContainer = titleAndBodyContainer.replaceAll(&quot;\\\\.(?=\\\\s|$)&quot;, &quot; &quot;);\r\n            \ttitleAndBodyContainer = titleAndBodyContainer.replaceAll(&quot;,&quot;, &quot; &quot;);\r\n            \ttitleAndBodyContainer = titleAndBodyContainer.toLowerCase();\r\n            \t\r\n            \t\t        \t \r\n            \t//Create a word list without duplicated words\r\n            \tStringBuilder result = new StringBuilder();\r\n            \t\r\n            \tHashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n            \tfor(String s : titleAndBodyContainer.split(&quot; &quot;)) {\r\n            \t    if (!set.contains(s)) {\r\n            \t        result.append(s);\r\n            \t        result.append(&quot; &quot;);\r\n            \t        set.add(s);\r\n            \t    }\r\n            \t}\r\n            \t//System.out.println(result.toString());\r\n            \t\r\n            \t\r\n            \t//Re-Arranging everything into Alphabetic Order\r\n            \tString testString = &quot;acarus acarpous accession absently missy duckweed settling&quot;;\r\n            \tString testHash = &quot;058 057 05@ 03o dwr 6ug i^&amp;&quot;;\r\n            \tString[]finalWordHolder = (result.toString()).split(&quot; &quot;);\r\n            \tArrays.sort(finalWordHolder);\r\n            \t\r\n            \t\r\n            \t//Navigate through text and create the Hash\r\n            \tfor(int arrayCount=0;arrayCount&lt;finalWordHolder.length;arrayCount++)\r\n            \t{\r\n            \t\t\r\n            \t\tIterator iter = completedWordMap.entrySet().iterator();\r\n            \t\t\r\n            \t\twhile(iter.hasNext())\r\n            \t\t{\r\n            \t\t\tMap.Entry mEntry = (Map.Entry)iter.next();\r\n            \t\t\tString key = (String)mEntry.getKey();\r\n            \t\t\tString value = (String)mEntry.getValue();\r\n            \t\t\t\r\n            \t\t\tif(finalWordHolder[arrayCount].equals(value))\r\n            \t\t\t{\r\n            \t\t\t\thashIndex.append(key); //Adding Hash Keys\r\n            \t\t\t\t//hashIndex.append(&quot; &quot;);\r\n            \t\t\t} \r\n            \t\t}\r\n            \t\t\r\n            \t}\r\n            \t\r\n            \t//System.out.println(hashIndex.toString().trim());\r\n            \t\r\n            \tjsonObject1.put(&quot;hash_index&quot;, hashIndex.toString().trim()); //Add the Hash to the JSON Object\r\n            \tjsonObject1.put(&quot;primary_key&quot;, i); //Create the primary key\r\n            \tjsonObjectHolder.add(jsonObject1); //Add the JSON Object to the JSON collection\r\n            \t\r\n            \tSystem.out.println(&quot;JSON Number: &quot;+i);\r\n            }\r\n            \r\n            System.out.println(&quot;Hash Creation Completed&quot;);\r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nI am not capable of running this code either in my local machine or in Amazon EC2, I get the following error\r\n\r\n![enter image description here][1]\r\n\r\nI am worried because this &quot;test&quot; is running on 6mb JSON file, while the original file will be terabytes. I am using  Linux instance in EC2, but I am not a Linux guy. How can I get rid of this?\r\n\r\n  [1]: http://i.stack.imgur.com/UsxnL.png","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>Please have a look at the following code</p>\n\n<pre><code>public void createHash() throws IOException\n{\n    System.out.println(\"Hash Creation Started\");\n\n    StringBuffer hashIndex = new StringBuffer(\"\");\n\n\n    AmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\n    Region usWest2 = Region.getRegion(Regions.US_EAST_1);\n    s3.setRegion(usWest2);\n\n    strBuffer = new StringBuffer(\"\");\n\n\n    try\n    {\n        //List all the Buckets\n        List&lt;Bucket&gt;buckets = s3.listBuckets();\n\n        for(int i=0;i&lt;buckets.size();i++)\n        {\n            System.out.println(\"- \"+(buckets.get(i)).getName());\n        }\n\n\n        //Downloading the Object\n        System.out.println(\"Downloading Object\");\n        S3Object s3Object = s3.getObject(new GetObjectRequest(\"JsonBucket\", \"Articles_4.json\"));\n        System.out.println(\"Content-Type: \"  + s3Object.getObjectMetadata().getContentType());\n\n\n        //Read the JSON File\n        BufferedReader reader = new BufferedReader(new InputStreamReader(s3Object.getObjectContent()));\n        while (true) {\n            String line = reader.readLine();\n            if (line == null) break;\n\n           // System.out.println(\"    \" + line);\n            strBuffer.append(line);\n\n        }\n\n        JSONTokener jTokener = new JSONTokener(strBuffer.toString());\n        jsonArray = new JSONArray(jTokener);\n\n        System.out.println(\"Json array length: \"+jsonArray.length());\n\n\n        for(int i=0;i&lt;jsonArray.length();i++)\n        {\n            JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n\n            //Add Title and Body Together to the list\n            String titleAndBodyContainer = jsonObject1.getString(\"title\")+\" \"+jsonObject1.getString(\"body\");\n\n\n            //Remove full stops and commas\n            titleAndBodyContainer = titleAndBodyContainer.replaceAll(\"\\\\.(?=\\\\s|$)\", \" \");\n            titleAndBodyContainer = titleAndBodyContainer.replaceAll(\",\", \" \");\n            titleAndBodyContainer = titleAndBodyContainer.toLowerCase();\n\n\n            //Create a word list without duplicated words\n            StringBuilder result = new StringBuilder();\n\n            HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\n            for(String s : titleAndBodyContainer.split(\" \")) {\n                if (!set.contains(s)) {\n                    result.append(s);\n                    result.append(\" \");\n                    set.add(s);\n                }\n            }\n            //System.out.println(result.toString());\n\n\n            //Re-Arranging everything into Alphabetic Order\n            String testString = \"acarus acarpous accession absently missy duckweed settling\";\n            String testHash = \"058 057 05@ 03o dwr 6ug i^&amp;\";\n            String[]finalWordHolder = (result.toString()).split(\" \");\n            Arrays.sort(finalWordHolder);\n\n\n            //Navigate through text and create the Hash\n            for(int arrayCount=0;arrayCount&lt;finalWordHolder.length;arrayCount++)\n            {\n\n                Iterator iter = completedWordMap.entrySet().iterator();\n\n                while(iter.hasNext())\n                {\n                    Map.Entry mEntry = (Map.Entry)iter.next();\n                    String key = (String)mEntry.getKey();\n                    String value = (String)mEntry.getValue();\n\n                    if(finalWordHolder[arrayCount].equals(value))\n                    {\n                        hashIndex.append(key); //Adding Hash Keys\n                        //hashIndex.append(\" \");\n                    } \n                }\n\n            }\n\n            //System.out.println(hashIndex.toString().trim());\n\n            jsonObject1.put(\"hash_index\", hashIndex.toString().trim()); //Add the Hash to the JSON Object\n            jsonObject1.put(\"primary_key\", i); //Create the primary key\n            jsonObjectHolder.add(jsonObject1); //Add the JSON Object to the JSON collection\n\n            System.out.println(\"JSON Number: \"+i);\n        }\n\n        System.out.println(\"Hash Creation Completed\");\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I am not capable of running this code either in my local machine or in Amazon EC2, I get the following error</p>\n\n<p><img src=\"https://i.stack.imgur.com/UsxnL.png\" alt=\"enter image description here\"></p>\n\n<p>I am worried because this \"test\" is running on 6mb JSON file, while the original file will be terabytes. I am using  Linux instance in EC2, but I am not a Linux guy. How can I get rid of this?</p>\n"},{"tags":["java","out-of-memory","heap-memory"],"comments":[{"owner":{"display_name":"user177800"},"score":0,"creation_date":1393882315,"post_id":22157849,"comment_id":33626285,"body_markdown":"possible duplicate of [How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)](http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap\">How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)</a>"}],"answers":[{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczy≈Ñski - Vash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1393883720,"creation_date":1393882788,"answer_id":22158042,"question_id":22157849,"body_markdown":"The problem in your code is that you use new String that is not optimal and future more you have an infinite loop the cause your heap to end.\r\n\r\nInside the while loop you never change the value of variable &#39;page&#39; because of that when skip the if that you call break you will skip it every time.\r\n","title":"java.lang.OutOfMemoryError: Java heap space (StringBuffer)","body":"<p>The problem in your code is that you use new String that is not optimal and future more you have an infinite loop the cause your heap to end.</p>\n\n<p>Inside the while loop you never change the value of variable 'page' because of that when skip the if that you call break you will skip it every time.</p>\n"}],"owner":{"account_id":4114615,"reputation":19,"user_id":3376554,"display_name":"user3376554"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5834,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635532582,"creation_date":1393882179,"question_id":22157849,"body_markdown":"I am writing a crawler of Google Play Store. My method visit(link) takes the html code in a string Page and visit all the other applications that link to the page is through the method searchApp(page) that re-calls visit(link). But I get OutOfMemoyError and I could not find a solution. I would not increase the JVM heap size. How can I fix it?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at java.util.Arrays.copyOfRange(Arrays.java:2694)\r\n        at java.lang.String.&lt;init&gt;(String.java:203)\r\n        at java.lang.StringBuffer.toString(StringBuffer.java:561)\r\n        at java.io.BufferedReader.readLine(BufferedReader.java:352)\r\n        at java.io.BufferedReader.readLine(BufferedReader.java:382)\r\n        at Main.visita(Main.java:34)\r\n        at Main.cercaApp(Main.java:83)\r\n&lt;p&gt;\r\n\r\n    public static void visit(String link)  {\r\n\t\ttry {\r\n\t\t\tURL my_url = new URL(link);\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(my_url.openStream()));\r\n\t\t\tString strTemp;\r\n\t\t\tStringBuilder builder= new StringBuilder();\r\n\r\n\t\t\twhile(null != (strTemp =br.readLine())){\r\n\t\t\t\tbuilder.append(new String(strTemp.trim()));\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\t\t\tString page = new String(builder.toString());\r\n\t\t\tbuilder=null; strTemp=null;\r\n\t\t\tSystem.gc();\r\n\t\t\tpage =page.toLowerCase();\r\n\t\t\t\r\n\t\t\tsearchApp(page);\r\n\t\t\tpage=null; System.gc();\r\n\t\t} \r\n\r\n\t\tcatch (Exception ex) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tpublic static void searchApp(String page){\r\n\t\tint i=0, j=0, k=0;\r\n\t\tString link=new String (&quot;&quot;);\r\n\t\twhile(true){\r\n\t\t\ti=page.indexOf(&quot;/store/apps/details?&quot;,i);\r\n\t\t\tif(i==-1)\r\n\t\t\t\tbreak;\r\n\t\t\tj=page.indexOf(&quot;\\&quot;&quot;,i);\r\n\t\t\tk=page.indexOf(&quot;&amp;&quot;,i);\r\n\t\t\tif(k&lt;j)\r\n\t\t\t\tj=k;\r\n\t\t\tk=page.indexOf(&quot;&lt;&quot;,i);\r\n\t\t\tif(k != -1 &amp;&amp; k&lt;j)\r\n\t\t\t\tj=k;\r\n\t\t\tk=page.indexOf(&quot;)&quot;,i);\r\n\t\t\tif(k != -1 &amp;&amp; k&lt;j)\r\n\t\t\t\tj=k;\r\n\t\t\t\r\n\t\t\ttry{\r\n\t\t\t\tlink=new String(&quot;https://play.google.com&quot;+page.substring(i,j));\r\n\t\t\t\tif(!(link.contains(&quot;%&quot;) || link.contains(&quot;\\\\&quot;))){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!linkVisited.contains(link))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlinkVisited.add(new String(link));\r\n\t\t\t\t\t\tSystem.out.println(&quot;ADDED : &quot;);\r\n\t\t\t\t\t\tSystem.out.println(link);\r\n\t\t\t\t\t\tvisita(link);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ti=j;\r\n\t\t\t}\r\n\t\t\tcatch(StringIndexOutOfBoundsException e){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpage=null;\r\n\t\tSystem.gc();\r\n\t}\r\n\r\n","title":"java.lang.OutOfMemoryError: Java heap space (StringBuffer)","body":"<p>I am writing a crawler of Google Play Store. My method visit(link) takes the html code in a string Page and visit all the other applications that link to the page is through the method searchApp(page) that re-calls visit(link). But I get OutOfMemoyError and I could not find a solution. I would not increase the JVM heap size. How can I fix it?</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOfRange(Arrays.java:2694)\n    at java.lang.String.&lt;init&gt;(String.java:203)\n    at java.lang.StringBuffer.toString(StringBuffer.java:561)\n    at java.io.BufferedReader.readLine(BufferedReader.java:352)\n    at java.io.BufferedReader.readLine(BufferedReader.java:382)\n    at Main.visita(Main.java:34)\n    at Main.cercaApp(Main.java:83)\n</code></pre>\n\n<p><p></p>\n\n<pre><code>public static void visit(String link)  {\n    try {\n        URL my_url = new URL(link);\n        BufferedReader br = new BufferedReader(new InputStreamReader(my_url.openStream()));\n        String strTemp;\n        StringBuilder builder= new StringBuilder();\n\n        while(null != (strTemp =br.readLine())){\n            builder.append(new String(strTemp.trim()));\n        }\n        br.close();\n        String page = new String(builder.toString());\n        builder=null; strTemp=null;\n        System.gc();\n        page =page.toLowerCase();\n\n        searchApp(page);\n        page=null; System.gc();\n    } \n\n    catch (Exception ex) {\n        return;\n    }\n\n}\n\n\npublic static void searchApp(String page){\n    int i=0, j=0, k=0;\n    String link=new String (\"\");\n    while(true){\n        i=page.indexOf(\"/store/apps/details?\",i);\n        if(i==-1)\n            break;\n        j=page.indexOf(\"\\\"\",i);\n        k=page.indexOf(\"&amp;\",i);\n        if(k&lt;j)\n            j=k;\n        k=page.indexOf(\"&lt;\",i);\n        if(k != -1 &amp;&amp; k&lt;j)\n            j=k;\n        k=page.indexOf(\")\",i);\n        if(k != -1 &amp;&amp; k&lt;j)\n            j=k;\n\n        try{\n            link=new String(\"https://play.google.com\"+page.substring(i,j));\n            if(!(link.contains(\"%\") || link.contains(\"\\\\\"))){\n\n                if (!linkVisited.contains(link))\n                {\n                    linkVisited.add(new String(link));\n                    System.out.println(\"ADDED : \");\n                    System.out.println(link);\n                    visita(link);\n                }\n            }\n            i=j;\n        }\n        catch(StringIndexOutOfBoundsException e){\n            break;\n        }\n    }\n    page=null;\n    System.gc();\n}\n</code></pre>\n"},{"tags":["java","command-execution"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635532406,"creation_date":1635532406,"answer_id":69773383,"question_id":69773330,"body_markdown":"    char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\r\n\r\nIf the string is less than 4 characters long, this will crash because it doesn&#39;t know what to return for num.charAt().  You want to rewrite this so it only gets the characters if the length of the string is long enough.","title":"Build is successful but I kept getting the &#39;Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1&#39;","body":"<pre><code>char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\n</code></pre>\n<p>If the string is less than 4 characters long, this will crash because it doesn't know what to return for num.charAt().  You want to rewrite this so it only gets the characters if the length of the string is long enough.</p>\n"},{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635532498,"creation_date":1635532498,"answer_id":69773405,"question_id":69773330,"body_markdown":"So your problem looks like it&#39;s here:\r\n\r\n    String num = &quot; &quot;, roman = &quot; &quot;;\r\n\r\nSo at the point above you&#39;ve initialized `num` to be a String with a single character, a space, in it.\r\n\r\n    char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\r\n\r\nIn the following line above, you are asking for the first ( `char(0)` cause string character indexing is zero-based in Java), second (`char(1)`), third (`char(2)`) and fourth (`char(3)`) characters.\r\n\r\nThis fails cause the string only has the single character.\r\n\r\nAlso, just because code compiles doesn&#39;t mean it will run successfully.","title":"Build is successful but I kept getting the &#39;Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1&#39;","body":"<p>So your problem looks like it's here:</p>\n<pre><code>String num = &quot; &quot;, roman = &quot; &quot;;\n</code></pre>\n<p>So at the point above you've initialized <code>num</code> to be a String with a single character, a space, in it.</p>\n<pre><code>char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\n</code></pre>\n<p>In the following line above, you are asking for the first ( <code>char(0)</code> cause string character indexing is zero-based in Java), second (<code>char(1)</code>), third (<code>char(2)</code>) and fourth (<code>char(3)</code>) characters.</p>\n<p>This fails cause the string only has the single character.</p>\n<p>Also, just because code compiles doesn't mean it will run successfully.</p>\n"}],"owner":{"account_id":18832029,"reputation":1,"user_id":13735607,"display_name":"TDBC Craft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635532498,"creation_date":1635532109,"question_id":69773330,"body_markdown":"I have 3 classes but I think the problems are occurring between the Main and the Roman Numerals class. . . would also include the class Variables as well. . . \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main{\r\n\r\npublic static void main (String[] args){\r\n    System.out.println(&quot;Press 1 for RPS, 2 for Flowchart, 3 for Roman Numerals, 4 for Ascendant&quot;);\r\n    Scanner Selection = new Scanner(System.in);\r\n    Variables sel = new Variables(); \r\n    sel.run = Selection.nextLine();\r\n        {\r\n        if (sel.run.equals(&quot;1&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 1!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to RPS Class\\n&quot;);\r\n        RPS JackEnPoy = new RPS();\r\n        JackEnPoy.RockPaperScissors();\r\n        }\r\n        else if (sel.run.equals(&quot;2&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 2!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to Flowchart Class\\n&quot;);\r\n        Flowchart chart = new Flowchart();\r\n        chart.Flow();\r\n        }\r\n        else if (sel.run.equals(&quot;3&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 3!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to RomanNumerals Class\\n&quot;);\r\n        RomanNumerals rn = new RomanNumerals();\r\n        rn.Numeral();\r\n        }\r\n        else if (sel.run.equals(&quot;4&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 4!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to Ascending Class\\n&quot;);\r\n        //Ascending aorder = new Ascending();\r\n        //aorder.Ascendant();\r\n\r\n        }\r\n        }\r\n    }\r\n}\r\n```\r\nand the class **variables** for the other classes\r\n```\r\nclass Variables{\r\n\r\nString run;\r\n//RPS\r\nString guide;\r\nString RW = &quot;Rock Smashes Scissors!&quot;;\r\nString PW = &quot;Paper Covers Rock!&quot;;\r\nString SW = &quot;Scissors Shreds Paper!&quot;;\r\nString T = &quot;Impasse!&quot;;\r\n//Flowchart\r\nint x;\r\nint y;\r\nint z;\r\nboolean YN;\r\n}\r\n```\r\nand this is the Roman Numerals that I&#39;ve been currently trying to work on whilst the RPS(Rock Paper Scissors) class and Flowchart class worked fine\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\npublic class RomanNumerals{\r\n\r\npublic static void Numeral()\r\n{\r\n//Declarations\r\nString num = &quot; &quot;, roman = &quot; &quot;;\r\nchar sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\r\nint convert;\r\n\r\n//String from num to Integer\r\nconvert = Integer.parseInt(num);\r\nnum = JOptionPane.showInputDialog(&quot;Convert from Whole Numbers to Roman Numerals(Maximum:3000)&quot;);\r\n\r\n\r\n//&#39;if&#39; more than 3k then terminate &#39;else&#39; attempt conversion\r\nif (convert &gt; 3000)\r\n{\r\n//Invalid Message with WARNING_MESSAGE dialog\r\nJOptionPane.showMessageDialog (null, &quot;Input had exceeded the maximum of 3000&quot;, &quot;RomanNumerals3000&quot;, JOptionPane.WARNING_MESSAGE);\r\n}\r\nelse\r\n{\r\nif (ichi == &#39;1&#39;)//0001\r\nroman += &quot;I&quot;;\r\nif (ichi == &#39;2&#39;)//0002\r\nroman += &quot;II&quot;;\r\nif (ichi == &#39;3&#39;)//0003\r\nroman += &quot;III&quot;;\r\nif (ichi == &#39;4&#39;)//0004\r\nroman += &quot;IV&quot;;\r\nif (ichi == &#39;5&#39;)//0005\r\nroman += &quot;V&quot;;\r\nif (ichi == &#39;6&#39;)//0006\r\nroman += &quot;VI&quot;;\r\nif (ichi == &#39;7&#39;)//0007\r\nroman += &quot;VII&quot;;\r\nif (ichi == &#39;8&#39;)//0008\r\nroman += &quot;VIII&quot;;\r\nif (ichi == &#39;9&#39;)//0009\r\nroman += &quot;IX&quot;;\r\n    if (jyu == &#39;1&#39;)//0010\r\n    roman += &quot;X&quot;;\r\n    if (jyu == &#39;2&#39;)//0020\r\n    roman += &quot;XX&quot;;\r\n    if (jyu == &#39;3&#39;)//0030\r\n    roman += &quot;XXX&quot;;\r\n    if (jyu == &#39;4&#39;)//0040\r\n    roman += &quot;XL&quot;;\r\n    if (jyu == &#39;5&#39;)//0050\r\n    roman += &quot;L&quot;;\r\n    if (jyu == &#39;6&#39;)//0060\r\n    roman += &quot;LX&quot;;\r\n    if (jyu == &#39;7&#39;)//0070\r\n    roman += &quot;LXX&quot;;\r\n    if (jyu == &#39;8&#39;)//0080\r\n    roman += &quot;LXXX&quot;;\r\n    if (jyu == &#39;9&#39;)//0090\r\n    roman += &quot;XC&quot;;\r\n        if (hachi == &#39;1&#39;)//0100\r\n        roman += &quot;C&quot;;\r\n        if (hachi == &#39;2&#39;)//0200\r\n        roman += &quot;CC&quot;;\r\n        if (hachi == &#39;3&#39;)//0300\r\n        roman += &quot;CCC&quot;;\r\n        if (hachi == &#39;4&#39;)//0400\r\n        roman += &quot;CD&quot;;\r\n        if (hachi == &#39;5&#39;)//0500\r\n        roman += &quot;D&quot;;\r\n        if (hachi == &#39;6&#39;)//0600\r\n        roman += &quot;DC&quot;;\r\n        if (hachi == &#39;7&#39;)//0700\r\n        roman += &quot;DCC&quot;;\r\n        if (hachi == &#39;8&#39;)//0800\r\n        roman += &quot;DCCC&quot;;\r\n        if (hachi == &#39;9&#39;)//0900\r\n        roman += &quot;CM&quot;;\r\n                if (sen == &#39;1&#39;)//1000\r\n                roman += &quot;M&quot;;\r\n                if (sen == &#39;2&#39;)//2000\r\n                roman += &quot;MM&quot;;\r\n                if (sen == &#39;3&#39;)//3000\r\n                roman += &quot;MMM&quot;;\r\nJOptionPane.showMessageDialog(null, &quot;Whole Number Form = &quot; + num + &quot;\\nRoman Numeral Form = &quot; + roman, &quot;Converted!!!&quot;, JOptionPane.INFORMATION_MESSAGE,null);\r\n}\r\nSystem.exit(0);\r\n}\r\n}\r\n```\r\nand the output went on like this. . \r\n```Press 1 for RPS, 2 for Flowchart, 3 for Roman Numerals, 4 for Ascendant\r\n3\r\nYou have chosen and initialized 3!\r\n\r\nAttempting to Connect to RomanNumerals Class\r\n\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\r\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)\r\n\tat java.base/java.lang.String.charAt(String.java:1512)\r\n\tat RomanNumerals.Numeral(RomanNumerals.java:9)\r\n\tat Main.main(Main.java:27)\r\nCommand execution failed.```\r\nI&#39;m still new here and can&#39;t figure out on why am I getting this error after initiating 3 as in the RomanNumerals class. . ","title":"Build is successful but I kept getting the &#39;Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1&#39;","body":"<p>I have 3 classes but I think the problems are occurring between the Main and the Roman Numerals class. . . would also include the class Variables as well. . .</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n\npublic static void main (String[] args){\n    System.out.println(&quot;Press 1 for RPS, 2 for Flowchart, 3 for Roman Numerals, 4 for Ascendant&quot;);\n    Scanner Selection = new Scanner(System.in);\n    Variables sel = new Variables(); \n    sel.run = Selection.nextLine();\n        {\n        if (sel.run.equals(&quot;1&quot;)){\n        System.out.println(&quot;You have chosen and initialized 1!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to RPS Class\\n&quot;);\n        RPS JackEnPoy = new RPS();\n        JackEnPoy.RockPaperScissors();\n        }\n        else if (sel.run.equals(&quot;2&quot;)){\n        System.out.println(&quot;You have chosen and initialized 2!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to Flowchart Class\\n&quot;);\n        Flowchart chart = new Flowchart();\n        chart.Flow();\n        }\n        else if (sel.run.equals(&quot;3&quot;)){\n        System.out.println(&quot;You have chosen and initialized 3!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to RomanNumerals Class\\n&quot;);\n        RomanNumerals rn = new RomanNumerals();\n        rn.Numeral();\n        }\n        else if (sel.run.equals(&quot;4&quot;)){\n        System.out.println(&quot;You have chosen and initialized 4!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to Ascending Class\\n&quot;);\n        //Ascending aorder = new Ascending();\n        //aorder.Ascendant();\n\n        }\n        }\n    }\n}\n</code></pre>\n<p>and the class <strong>variables</strong> for the other classes</p>\n<pre><code>class Variables{\n\nString run;\n//RPS\nString guide;\nString RW = &quot;Rock Smashes Scissors!&quot;;\nString PW = &quot;Paper Covers Rock!&quot;;\nString SW = &quot;Scissors Shreds Paper!&quot;;\nString T = &quot;Impasse!&quot;;\n//Flowchart\nint x;\nint y;\nint z;\nboolean YN;\n}\n</code></pre>\n<p>and this is the Roman Numerals that I've been currently trying to work on whilst the RPS(Rock Paper Scissors) class and Flowchart class worked fine</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\npublic class RomanNumerals{\n\npublic static void Numeral()\n{\n//Declarations\nString num = &quot; &quot;, roman = &quot; &quot;;\nchar sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\nint convert;\n\n//String from num to Integer\nconvert = Integer.parseInt(num);\nnum = JOptionPane.showInputDialog(&quot;Convert from Whole Numbers to Roman Numerals(Maximum:3000)&quot;);\n\n\n//'if' more than 3k then terminate 'else' attempt conversion\nif (convert &gt; 3000)\n{\n//Invalid Message with WARNING_MESSAGE dialog\nJOptionPane.showMessageDialog (null, &quot;Input had exceeded the maximum of 3000&quot;, &quot;RomanNumerals3000&quot;, JOptionPane.WARNING_MESSAGE);\n}\nelse\n{\nif (ichi == '1')//0001\nroman += &quot;I&quot;;\nif (ichi == '2')//0002\nroman += &quot;II&quot;;\nif (ichi == '3')//0003\nroman += &quot;III&quot;;\nif (ichi == '4')//0004\nroman += &quot;IV&quot;;\nif (ichi == '5')//0005\nroman += &quot;V&quot;;\nif (ichi == '6')//0006\nroman += &quot;VI&quot;;\nif (ichi == '7')//0007\nroman += &quot;VII&quot;;\nif (ichi == '8')//0008\nroman += &quot;VIII&quot;;\nif (ichi == '9')//0009\nroman += &quot;IX&quot;;\n    if (jyu == '1')//0010\n    roman += &quot;X&quot;;\n    if (jyu == '2')//0020\n    roman += &quot;XX&quot;;\n    if (jyu == '3')//0030\n    roman += &quot;XXX&quot;;\n    if (jyu == '4')//0040\n    roman += &quot;XL&quot;;\n    if (jyu == '5')//0050\n    roman += &quot;L&quot;;\n    if (jyu == '6')//0060\n    roman += &quot;LX&quot;;\n    if (jyu == '7')//0070\n    roman += &quot;LXX&quot;;\n    if (jyu == '8')//0080\n    roman += &quot;LXXX&quot;;\n    if (jyu == '9')//0090\n    roman += &quot;XC&quot;;\n        if (hachi == '1')//0100\n        roman += &quot;C&quot;;\n        if (hachi == '2')//0200\n        roman += &quot;CC&quot;;\n        if (hachi == '3')//0300\n        roman += &quot;CCC&quot;;\n        if (hachi == '4')//0400\n        roman += &quot;CD&quot;;\n        if (hachi == '5')//0500\n        roman += &quot;D&quot;;\n        if (hachi == '6')//0600\n        roman += &quot;DC&quot;;\n        if (hachi == '7')//0700\n        roman += &quot;DCC&quot;;\n        if (hachi == '8')//0800\n        roman += &quot;DCCC&quot;;\n        if (hachi == '9')//0900\n        roman += &quot;CM&quot;;\n                if (sen == '1')//1000\n                roman += &quot;M&quot;;\n                if (sen == '2')//2000\n                roman += &quot;MM&quot;;\n                if (sen == '3')//3000\n                roman += &quot;MMM&quot;;\nJOptionPane.showMessageDialog(null, &quot;Whole Number Form = &quot; + num + &quot;\\nRoman Numeral Form = &quot; + roman, &quot;Converted!!!&quot;, JOptionPane.INFORMATION_MESSAGE,null);\n}\nSystem.exit(0);\n}\n}\n</code></pre>\n<p>and the output went on like this. .</p>\n<pre><code>3\nYou have chosen and initialized 3!\n\nAttempting to Connect to RomanNumerals Class\n\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\n    at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)\n    at java.base/java.lang.String.charAt(String.java:1512)\n    at RomanNumerals.Numeral(RomanNumerals.java:9)\n    at Main.main(Main.java:27)\nCommand execution failed.```\nI'm still new here and can't figure out on why am I getting this error after initiating 3 as in the RomanNumerals class. . \n</code></pre>\n"},{"tags":["java","jackson","yaml"],"comments":[{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1634671877,"post_id":69618623,"comment_id":123087154,"body_markdown":"In the second line, `!&lt;java.util.ImmutableCollections$List12&gt;` is wrong since an `ActionInstance` object is expected. More importantly, Jackson is a high-level abstraction and therefore should never generate YAML tags (as that is not a JSON feature) so the question arises what you&#39;re doing to get this output. Please show the code generating this YAML output.","body":"In the second line, <code>!&lt;java.util.ImmutableCollections$List12&gt;</code> is wrong since an <code>ActionInstance</code> object is expected. More importantly, Jackson is a high-level abstraction and therefore should never generate YAML tags (as that is not a JSON feature) so the question arises what you&#39;re doing to get this output. Please show the code generating this YAML output."}],"answers":[{"tags":[],"owner":{"account_id":237719,"reputation":1310,"user_id":506114,"accept_rate":65,"display_name":"Walter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635532477,"creation_date":1635532477,"answer_id":69773398,"question_id":69618623,"body_markdown":"The solution was quite simple:\r\n\r\nactions: !&lt;java.util.ArrayList&gt;\r\n- arguments:\r\n  - 90.00\r\n  action: !&lt;com.walterjwhite.stackoverflow.Action&gt; Left","title":"Unable to deserialize Object Array via Jackson Yaml","body":"<p>The solution was quite simple:</p>\n<p>actions: !&lt;java.util.ArrayList&gt;</p>\n<ul>\n<li>arguments:\n<ul>\n<li>90.00\naction: !&lt;com.walterjwhite.stackoverflow.Action&gt; Left</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":237719,"reputation":1310,"user_id":506114,"accept_rate":65,"display_name":"Walter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69773398,"answer_count":1,"score":0,"last_activity_date":1635532477,"creation_date":1634570586,"question_id":69618623,"body_markdown":"I am attempting to deserialize a YAML configuration file which maps a particular action (enum) to arguments (String[]).  In order to have a starting point for the YAML, I first built the object structure in Java and then serialized it.\r\n\r\nReading that output back in and deserializing it also results in the exception below which is unexpected because that is straight from the horse&#39;s mouth.\r\n\r\n\r\nMy Java structure:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(doNotUseGetters = true)\r\n    @Data\r\n    public class Session {\r\n      @EqualsAndHashCode.Exclude protected List&lt;ActionInstance&gt; actions;\r\n    }\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(doNotUseGetters = true)\r\n    @Data\r\n    public class ActionInstance {\r\n      protected Action action;\r\n      protected String[] arguments;\r\n    }\r\n    \r\n    public enum Action {\r\n      Left,\r\n      Right,\r\n      Up,\r\n      Down;\r\n    }\r\n\r\nYAML (this is taken directly from the serialized output from Jackson, reading it back causes the exception below):\r\n\r\n    actions: !&lt;java.util.ImmutableCollections$List12&gt;\r\n    - !&lt;java.util.ImmutableCollections$List12&gt;\r\n      arguments:\r\n      - 90.00\r\n      action: Left\r\n\r\n\r\nJackson Service to deserialize:\r\n\r\n    objectMapper.readValue(inputStream, Session.class)\r\n\r\n\r\nException:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException\r\n    Unexpected token (VALUE_STRING), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class Action\r\n\r\nEDIT #1:\r\n\r\n    final Session export = new Session();\r\n            export.setActions(\r\n                List.of(\r\n                    new ActionInstance(Action.Left, new String[] {&quot;90.00&quot;})));\r\n            final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            serializationService.serialize(export, baos);\r\n\r\nThe Jackson implementation I have is roughly this:\r\n\r\n    outputStream.write(objectMapper.writeValueAsBytes(data));\r\n\r\n\r\nObjectMapperProvider:\r\n\r\n    public class ObjectMapperProvider implements Provider&lt;ObjectMapper&gt; {\r\n      protected final ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\r\n      protected final JavaTimeModule javaTimeModule = new JavaTimeModule();\r\n    \r\n      @Inject\r\n      public ObjectMapperProvider() {\r\n        // Hack time module to allow &#39;Z&#39; at the end of string (i.e. javascript json&#39;s)\r\n        javaTimeModule.addDeserializer(\r\n            LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\r\n        objectMapper.registerModule(javaTimeModule);\r\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    \r\n        objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator());","title":"Unable to deserialize Object Array via Jackson Yaml","body":"<p>I am attempting to deserialize a YAML configuration file which maps a particular action (enum) to arguments (String[]).  In order to have a starting point for the YAML, I first built the object structure in Java and then serialized it.</p>\n<p>Reading that output back in and deserializing it also results in the exception below which is unexpected because that is straight from the horse's mouth.</p>\n<p>My Java structure:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@ToString(doNotUseGetters = true)\n@Data\npublic class Session {\n  @EqualsAndHashCode.Exclude protected List&lt;ActionInstance&gt; actions;\n}\n\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString(doNotUseGetters = true)\n@Data\npublic class ActionInstance {\n  protected Action action;\n  protected String[] arguments;\n}\n\npublic enum Action {\n  Left,\n  Right,\n  Up,\n  Down;\n}\n</code></pre>\n<p>YAML (this is taken directly from the serialized output from Jackson, reading it back causes the exception below):</p>\n<pre><code>actions: !&lt;java.util.ImmutableCollections$List12&gt;\n- !&lt;java.util.ImmutableCollections$List12&gt;\n  arguments:\n  - 90.00\n  action: Left\n</code></pre>\n<p>Jackson Service to deserialize:</p>\n<pre><code>objectMapper.readValue(inputStream, Session.class)\n</code></pre>\n<p>Exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException\nUnexpected token (VALUE_STRING), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class Action\n</code></pre>\n<p>EDIT #1:</p>\n<pre><code>final Session export = new Session();\n        export.setActions(\n            List.of(\n                new ActionInstance(Action.Left, new String[] {&quot;90.00&quot;})));\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        serializationService.serialize(export, baos);\n</code></pre>\n<p>The Jackson implementation I have is roughly this:</p>\n<pre><code>outputStream.write(objectMapper.writeValueAsBytes(data));\n</code></pre>\n<p>ObjectMapperProvider:</p>\n<pre><code>public class ObjectMapperProvider implements Provider&lt;ObjectMapper&gt; {\n  protected final ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\n  protected final JavaTimeModule javaTimeModule = new JavaTimeModule();\n\n  @Inject\n  public ObjectMapperProvider() {\n    // Hack time module to allow 'Z' at the end of string (i.e. javascript json's)\n    javaTimeModule.addDeserializer(\n        LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\n    objectMapper.registerModule(javaTimeModule);\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n\n    objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator());\n</code></pre>\n"},{"tags":["java","jsr310"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":3,"creation_date":1422383064,"post_id":28177370,"comment_id":44723826,"body_markdown":"Take a look at the [DateTimeFormatter](http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) class.  It even has examples of how to convert to and from `String`s.","body":"Take a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> class.  It even has examples of how to convert to and from <code>String</code>s."},{"owner":{"account_id":2277518,"reputation":2956,"user_id":2003420,"display_name":"El Bert"},"score":2,"creation_date":1422383078,"post_id":28177370,"comment_id":44723830,"body_markdown":"You should show some code, what you have tried so far and what&#39;s not working so people can help you.","body":"You should show some code, what you have tried so far and what&#39;s not working so people can help you."},{"owner":{"account_id":3656330,"reputation":2835,"user_id":3047258,"accept_rate":100,"display_name":"Jasko"},"score":0,"creation_date":1422383358,"post_id":28177370,"comment_id":44723997,"body_markdown":"I tried to do that but because of this annoying &quot;it does not meet our quality standards&quot; thing  I  finally gave up,it took me 15 minutes just to post this because i had to correct &quot;i&quot; with &quot;I&quot;.","body":"I tried to do that but because of this annoying &quot;it does not meet our quality standards&quot; thing  I  finally gave up,it took me 15 minutes just to post this because i had to correct &quot;i&quot; with &quot;I&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5381119,"reputation":266,"user_id":4286300,"accept_rate":100,"display_name":"nom"},"down_vote_count":19,"up_vote_count":1,"is_accepted":false,"score":-18,"last_activity_date":1422383349,"creation_date":1422383349,"answer_id":28177493,"question_id":28177370,"body_markdown":"A pretty nice way to do this is to use `SimpleDateFormat` I&#39;ll show you how:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;d MMMM YYYY&quot;);\r\n    Date d = new Date();\r\n    sdf.format(d);\r\nI see that you have the date in a variable:\r\n\r\n    sdf.format(variable_name);\r\nCheers.","title":"How to format LocalDate to string?","body":"<p>A pretty nice way to do this is to use <code>SimpleDateFormat</code> I'll show you how:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"d MMMM YYYY\");\nDate d = new Date();\nsdf.format(d);\n</code></pre>\n\n<p>I see that you have the date in a variable:</p>\n\n<pre><code>sdf.format(variable_name);\n</code></pre>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"down_vote_count":0,"up_vote_count":459,"is_accepted":true,"score":459,"last_activity_date":1422385784,"creation_date":1422385427,"answer_id":28178034,"question_id":28177370,"body_markdown":"SimpleDateFormat will not work if he is starting with LocalDate which is new in Java 8.  From what I can see, you will have to use DateTimeFormatter, http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html.\r\n\r\n    LocalDate localDate = LocalDate.now();//For reference\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd LLLL yyyy&quot;);\r\n    String formattedString = localDate.format(formatter);\r\n\r\nThat should print 05 May 1988.  To get the period after the day and before the month, you might have to use &quot;dd&#39;.LLLL yyyy&quot;\r\n\r\n\r\n","title":"How to format LocalDate to string?","body":"<p>SimpleDateFormat will not work if he is starting with LocalDate which is new in Java 8.  From what I can see, you will have to use DateTimeFormatter, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a>.</p>\n\n<pre><code>LocalDate localDate = LocalDate.now();//For reference\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd LLLL yyyy\");\nString formattedString = localDate.format(formatter);\n</code></pre>\n\n<p>That should print 05 May 1988.  To get the period after the day and before the month, you might have to use \"dd'.LLLL yyyy\"</p>\n"},{"tags":[],"owner":{"account_id":11176477,"reputation":79,"user_id":8201905,"display_name":"pete"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519584054,"creation_date":1519584054,"answer_id":48977053,"question_id":28177370,"body_markdown":"  With the help of ProgrammersBlock posts I came up with this.  My needs were slightly different.  I needed to take a string and return it as a LocalDate object.  I was handed code that was using the older Calendar and SimpleDateFormat.  I wanted to make it a little more current.  This is what I came up with.\r\n\r\n        import java.time.LocalDate;\r\n        import java.time.format.DateTimeFormatter;\r\n\r\n\r\n        void ExampleFormatDate() {\r\n\r\n        LocalDate formattedDate = null;  //Declare LocalDate variable to receive the formatted date.\r\n        DateTimeFormatter dateTimeFormatter;  //Declare date formatter\r\n        String rawDate = &quot;2000-01-01&quot;;  //Test string that holds a date to format and parse.\r\n\r\n        dateTimeFormatter = DateTimeFormatter.ISO_LOCAL_DATE;\r\n\r\n        //formattedDate.parse(String string) wraps the String.format(String string, DateTimeFormatter format) method.\r\n        //First, the rawDate string is formatted according to DateTimeFormatter.  Second, that formatted string is parsed into\r\n        //the LocalDate formattedDate object.\r\n        formattedDate = formattedDate.parse(String.format(rawDate, dateTimeFormatter));\r\n        \r\n    }\r\n\r\nHopefully this will help someone, if anyone sees a better way of doing this task please add your input.","title":"How to format LocalDate to string?","body":"<p>With the help of ProgrammersBlock posts I came up with this.  My needs were slightly different.  I needed to take a string and return it as a LocalDate object.  I was handed code that was using the older Calendar and SimpleDateFormat.  I wanted to make it a little more current.  This is what I came up with.</p>\n\n<pre><code>    import java.time.LocalDate;\n    import java.time.format.DateTimeFormatter;\n\n\n    void ExampleFormatDate() {\n\n    LocalDate formattedDate = null;  //Declare LocalDate variable to receive the formatted date.\n    DateTimeFormatter dateTimeFormatter;  //Declare date formatter\n    String rawDate = \"2000-01-01\";  //Test string that holds a date to format and parse.\n\n    dateTimeFormatter = DateTimeFormatter.ISO_LOCAL_DATE;\n\n    //formattedDate.parse(String string) wraps the String.format(String string, DateTimeFormatter format) method.\n    //First, the rawDate string is formatted according to DateTimeFormatter.  Second, that formatted string is parsed into\n    //the LocalDate formattedDate object.\n    formattedDate = formattedDate.parse(String.format(rawDate, dateTimeFormatter));\n\n}\n</code></pre>\n\n<p>Hopefully this will help someone, if anyone sees a better way of doing this task please add your input.</p>\n"},{"tags":[],"owner":{"account_id":7089178,"reputation":1027,"user_id":5424998,"display_name":"karthik r"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1549619392,"creation_date":1533753693,"answer_id":51753616,"question_id":28177370,"body_markdown":"    System.out.println(LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd.MMMM yyyy&quot;)));\r\n\r\n_The above answer shows it for today_","title":"How to format LocalDate to string?","body":"<pre><code>System.out.println(LocalDate.now().format(DateTimeFormatter.ofPattern(\"dd.MMMM yyyy\")));\n</code></pre>\n\n<p><em>The above answer shows it for today</em></p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1549268350,"creation_date":1537713536,"answer_id":52467175,"question_id":28177370,"body_markdown":"Could be short as:\r\n\r\n\r\n    LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));","title":"How to format LocalDate to string?","body":"<p>Could be short as:</p>\n\n<pre><code>LocalDate.now().format(DateTimeFormatter.ofPattern(\"dd/MM/yyyy\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1438909,"reputation":1075,"user_id":1359643,"display_name":"Inoy"},"down_vote_count":9,"up_vote_count":4,"is_accepted":false,"score":-5,"last_activity_date":1610999766,"creation_date":1562970367,"answer_id":57014642,"question_id":28177370,"body_markdown":"**There is a built-in way to format LocalDate** in **Joda library**\r\n\r\n    import org.joda.time.LocalDate;\r\n\r\n    LocalDate localDate = LocalDate.now();\r\n    String dateFormat = &quot;MM/dd/yyyy&quot;;\r\n    localDate.toString(dateFormat);\r\n\r\nIn case you don&#39;t have it already - add this to the build.gradle:\r\n\r\n    implementation &#39;joda-time:joda-time:2.9.5&#39;\r\n\r\n\r\nHappy coding! :)","title":"How to format LocalDate to string?","body":"<p><strong>There is a built-in way to format LocalDate</strong> in <strong>Joda library</strong></p>\n<pre><code>import org.joda.time.LocalDate;\n\nLocalDate localDate = LocalDate.now();\nString dateFormat = &quot;MM/dd/yyyy&quot;;\nlocalDate.toString(dateFormat);\n</code></pre>\n<p>In case you don't have it already - add this to the build.gradle:</p>\n<pre><code>implementation 'joda-time:joda-time:2.9.5'\n</code></pre>\n<p>Happy coding! :)</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1620767787,"creation_date":1620767787,"answer_id":67494463,"question_id":28177370,"body_markdown":"# *java.time*\r\n\r\n***Unfortunately, all existing answers have missed a crucial thing, `Locale`.***\r\n\r\nA date-time parsing/formatting type (e.g. `DateTimeFormatter` of the modern API or `SimpleDateFormat` of the legacy API) is `Locale`-sensitive. The symbols used in its pattern print the text based on the `Locale` used with them. In absence of a `Locale`, it uses the default `Locale` of the JVM. Check [this answer](https://stackoverflow.com/a/65544056/10819573) to learn more about it.\r\n\r\nThe text in the expected output, `05.May 1988` is in English and thus, the existing solutions will produce the expected result only as a result of mere coincidence (when the default `Locale` of the JVM an English `Locale`).\r\n\r\n**Solution using `java.time`, the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt;:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocalDate date = LocalDate.of(1988, 5, 5);\r\n    \t\tfinal DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd.MMMM uuuu&quot;, Locale.ENGLISH);\r\n    \t\tString output = dtf.format(date);\r\n    \t\tSystem.out.println(output);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    05.May 1988\r\n\r\nHere, you can use `yyyy` instead of `uuuu` but [I prefer](https://stackoverflow.com/a/65928023/10819573) `u` to `y`.\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n","title":"How to format LocalDate to string?","body":"<h1><em>java.time</em></h1>\n<p><em><strong>Unfortunately, all existing answers have missed a crucial thing, <code>Locale</code>.</strong></em></p>\n<p>A date-time parsing/formatting type (e.g. <code>DateTimeFormatter</code> of the modern API or <code>SimpleDateFormat</code> of the legacy API) is <code>Locale</code>-sensitive. The symbols used in its pattern print the text based on the <code>Locale</code> used with them. In absence of a <code>Locale</code>, it uses the default <code>Locale</code> of the JVM. Check <a href=\"https://stackoverflow.com/a/65544056/10819573\">this answer</a> to learn more about it.</p>\n<p>The text in the expected output, <code>05.May 1988</code> is in English and thus, the existing solutions will produce the expected result only as a result of mere coincidence (when the default <code>Locale</code> of the JVM an English <code>Locale</code>).</p>\n<p><strong>Solution using <code>java.time</code>, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"noreferrer\">modern date-time API</a><sup>*</sup>:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDate date = LocalDate.of(1988, 5, 5);\n        final DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd.MMMM uuuu&quot;, Locale.ENGLISH);\n        String output = dtf.format(date);\n        System.out.println(output);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>05.May 1988\n</code></pre>\n<p>Here, you can use <code>yyyy</code> instead of <code>uuuu</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer</a> <code>u</code> to <code>y</code>.</p>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":3656330,"reputation":2835,"user_id":3047258,"accept_rate":100,"display_name":"Jasko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505994,"favorite_count":0,"down_vote_count":4,"up_vote_count":267,"accepted_answer_id":28178034,"answer_count":7,"score":263,"last_activity_date":1635531960,"creation_date":1422382912,"question_id":28177370,"body_markdown":"I have a `LocalDate` variable called `date`, when I print it displays 1988-05-05 I need to convert this to be printed as 05.May 1988. How to do this?","title":"How to format LocalDate to string?","body":"<p>I have a <code>LocalDate</code> variable called <code>date</code>, when I print it displays 1988-05-05 I need to convert this to be printed as 05.May 1988. How to do this?</p>\n"},{"tags":["java","regex","templates"],"comments":[{"owner":{"account_id":877196,"reputation":8245,"user_id":118469,"display_name":"laginimaineb"},"score":0,"creation_date":1244307043,"post_id":959731,"comment_id":768763,"body_markdown":"One thing to note, though, is that StringBuffer is the same as StringBuilder just synchronized. However, since in this example you don&#39;t need to synchronize the building of the String you might be better off using StringBuilder (even though acquiring locks is nearly a zero-cost operation).","body":"One thing to note, though, is that StringBuffer is the same as StringBuilder just synchronized. However, since in this example you don&#39;t need to synchronize the building of the String you might be better off using StringBuilder (even though acquiring locks is nearly a zero-cost operation)."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1244338758,"post_id":959731,"comment_id":769688,"body_markdown":"Unfortunately, you have to use StringBuffer in this case; it&#39;s what the appendXXX() methods expect. They&#39;ve been around since Java 4, and StringBuilder wasn&#39;t added until Java 5. As you said though, it&#39;s no big deal, just annoying.","body":"Unfortunately, you have to use StringBuffer in this case; it&#39;s what the appendXXX() methods expect. They&#39;ve been around since Java 4, and StringBuilder wasn&#39;t added until Java 5. As you said though, it&#39;s no big deal, just annoying."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":4,"creation_date":1244348434,"post_id":959731,"comment_id":769892,"body_markdown":"One more thing: appendReplacement(), like the replaceXXX() methods, looks for capture-group references like $1, $2, etc., and replaces them with the text from the associated capture groups. If your replacement text might contain dollar signs or backslashes (which are used to escape dollar signs), you could have a problem. The easiest way to deal with that is to break the append operation into two steps as I&#39;ve done in the code above.","body":"One more thing: appendReplacement(), like the replaceXXX() methods, looks for capture-group references like $1, $2, etc., and replaces them with the text from the associated capture groups. If your replacement text might contain dollar signs or backslashes (which are used to escape dollar signs), you could have a problem. The easiest way to deal with that is to break the append operation into two steps as I&#39;ve done in the code above."},{"owner":{"account_id":28530,"reputation":4817,"user_id":76295,"accept_rate":68,"display_name":"Mark"},"score":0,"creation_date":1244411135,"post_id":959731,"comment_id":771558,"body_markdown":"Alan - very impressed you spotted that.  I didn&#39;t think such a simple problem would be so difficult to solve!","body":"Alan - very impressed you spotted that.  I didn&#39;t think such a simple problem would be so difficult to solve!"},{"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1254413455,"post_id":959731,"comment_id":1358076,"body_markdown":"use http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29","body":"use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/regex/&hellip;</a>"},{"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"score":0,"creation_date":1346928840,"post_id":959731,"comment_id":16499372,"body_markdown":"FYI - Spring&#39;s UriTemplate.expand(Object...) uses exactly the above code except the fix added by @AlanMoore . http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/util/UriTemplate.html#expand(java.lang.Object...)","body":"FYI - Spring&#39;s UriTemplate.expand(Object...) uses exactly the above code except the fix added by @AlanMoore . <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/util/UriTemplate.html#expand(java.lang.Object...)\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/javadoc-api/org/&hellip;</a>"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1511360092,"post_id":959731,"comment_id":81827950,"body_markdown":"Wow, that&#39;s very, very cool. A clean, minimal, efficient and complete solution. Thanks y&#39;all. One of the few examples where regexp DO make sense.","body":"Wow, that&#39;s very, very cool. A clean, minimal, efficient and complete solution. Thanks y&#39;all. One of the few examples where regexp DO make sense."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ≈Ωi≈æka"},"score":0,"creation_date":1516123174,"post_id":959731,"comment_id":83557849,"body_markdown":"See `java.text.MessageFormat.format(&quot;Foo {} {}&quot;, &quot;bar&quot;, 1);`","body":"See <code>java.text.MessageFormat.format(&quot;Foo {} {}&quot;, &quot;bar&quot;, 1);</code>"},{"owner":{"account_id":4966019,"reputation":413,"user_id":3995317,"display_name":"Erik Lievaart"},"score":1,"creation_date":1616570247,"post_id":959731,"comment_id":118040391,"body_markdown":"note: overloaded methods with StringBuilder were added to Matcher in java9. From Java9 onward, you&#39;ll want to use StringBuilder instead of StringBuffer.","body":"note: overloaded methods with StringBuilder were added to Matcher in java9. From Java9 onward, you&#39;ll want to use StringBuilder instead of StringBuffer."}],"answers":[{"tags":[],"owner":{"account_id":8642,"reputation":9789,"user_id":15661,"display_name":"hallidave"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1244298839,"creation_date":1244297254,"answer_id":959748,"question_id":959731,"body_markdown":"You could try using a templating library like Apache Velocity.\r\n\r\nhttp://velocity.apache.org/\r\n\r\nHere is an example:\r\n\r\n    import org.apache.velocity.VelocityContext;\r\n    import org.apache.velocity.app.Velocity;\r\n    \r\n    import java.io.StringWriter;\r\n    \r\n    public class TemplateExample {\r\n        public static void main(String args[]) throws Exception {\r\n            Velocity.init();\r\n    \r\n            VelocityContext context = new VelocityContext();\r\n            context.put(&quot;name&quot;, &quot;Mark&quot;);\r\n            context.put(&quot;invoiceNumber&quot;, &quot;42123&quot;);\r\n            context.put(&quot;dueDate&quot;, &quot;June 6, 2009&quot;);\r\n    \r\n            String template = &quot;Hello $name. Please find attached invoice&quot; +\r\n                              &quot; $invoiceNumber which is due on $dueDate.&quot;;\r\n            StringWriter writer = new StringWriter();\r\n            Velocity.evaluate(context, writer, &quot;TemplateName&quot;, template);\r\n    \r\n            System.out.println(writer);\r\n        }\r\n    }\r\n\r\nThe output would be:\r\n\r\n&lt;pre&gt;Hello Mark. Please find attached invoice 42123 which is due on June 6, 2009.&lt;/pre&gt;","title":"How to replace a set of tokens in a Java String?","body":"<p>You could try using a templating library like Apache Velocity.</p>\n\n<p><a href=\"http://velocity.apache.org/\" rel=\"noreferrer\">http://velocity.apache.org/</a></p>\n\n<p>Here is an example:</p>\n\n<pre><code>import org.apache.velocity.VelocityContext;\nimport org.apache.velocity.app.Velocity;\n\nimport java.io.StringWriter;\n\npublic class TemplateExample {\n    public static void main(String args[]) throws Exception {\n        Velocity.init();\n\n        VelocityContext context = new VelocityContext();\n        context.put(\"name\", \"Mark\");\n        context.put(\"invoiceNumber\", \"42123\");\n        context.put(\"dueDate\", \"June 6, 2009\");\n\n        String template = \"Hello $name. Please find attached invoice\" +\n                          \" $invoiceNumber which is due on $dueDate.\";\n        StringWriter writer = new StringWriter();\n        Velocity.evaluate(context, writer, \"TemplateName\", template);\n\n        System.out.println(writer);\n    }\n}\n</code></pre>\n\n<p>The output would be:</p>\n\n<pre>Hello Mark. Please find attached invoice 42123 which is due on June 6, 2009.</pre>\n"},{"tags":[],"owner":{"account_id":36251,"reputation":10399,"user_id":103260,"accept_rate":56,"display_name":"Ricardo Marimon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1299253346,"creation_date":1244297370,"answer_id":959754,"question_id":959731,"body_markdown":"It depends of where the actual data that you want to replace is located.  You might have a Map like this:\r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;String, String&gt;();\r\n\r\ncontaining all the data that can be replaced.  Then you can iterate over the map and change everything in the String as follows:\r\n\r\n    String s = &quot;Your String with [Fields]&quot;;\r\n    for (Map.Entry&lt;String, String&gt; e : values.entrySet()) {\r\n      s = s.replaceAll(&quot;\\\\[&quot; + e.getKey() + &quot;\\\\]&quot;, e.getValue());\r\n    }\r\n\r\nYou could also iterate over the String and find the elements in the map.  But that is a little  bit more complicated because you need to parse the String searching for the [].  You could do it with a regular expression using Pattern and Matcher.\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>It depends of where the actual data that you want to replace is located.  You might have a Map like this:</p>\n\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>containing all the data that can be replaced.  Then you can iterate over the map and change everything in the String as follows:</p>\n\n<pre><code>String s = \"Your String with [Fields]\";\nfor (Map.Entry&lt;String, String&gt; e : values.entrySet()) {\n  s = s.replaceAll(\"\\\\[\" + e.getKey() + \"\\\\]\", e.getValue());\n}\n</code></pre>\n\n<p>You could also iterate over the String and find the elements in the map.  But that is a little  bit more complicated because you need to parse the String searching for the [].  You could do it with a regular expression using Pattern and Matcher.</p>\n"},{"tags":[],"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1300031603,"creation_date":1244297530,"answer_id":959761,"question_id":959731,"body_markdown":"    String.format(&quot;Hello %s Please find attached %s which is due on %s&quot;, name, invoice, date)\r\n\r\n ","title":"How to replace a set of tokens in a Java String?","body":"<pre><code>String.format(\"Hello %s Please find attached %s which is due on %s\", name, invoice, date)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27671,"reputation":15568,"user_id":73274,"accept_rate":100,"display_name":"Paul Morie"},"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1244298814,"creation_date":1244297609,"answer_id":959766,"question_id":959731,"body_markdown":"I really don&#39;t think you need to use a templating engine or anything like that for this.  You can use the [`String.format`][1] method, like so:\r\n\r\n    String template = &quot;Hello %s Please find attached %s which is due on %s&quot;;\r\n    \r\n    String message = String.format(template, name, invoiceNumber, dueDate);\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)","title":"How to replace a set of tokens in a Java String?","body":"<p>I really don't think you need to use a templating engine or anything like that for this.  You can use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)\" rel=\"noreferrer\"><code>String.format</code></a> method, like so:</p>\n\n<pre><code>String template = \"Hello %s Please find attached %s which is due on %s\";\n\nString message = String.format(template, name, invoiceNumber, dueDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":877196,"reputation":8245,"user_id":118469,"display_name":"laginimaineb"},"down_vote_count":3,"up_vote_count":77,"is_accepted":true,"score":74,"last_activity_date":1244298202,"creation_date":1244297814,"answer_id":959776,"question_id":959731,"body_markdown":"The most efficient way would be using a matcher to continually find the expressions and replace them, then append the text to a string builder:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\[(.+?)\\\\]&quot;);\r\n    Matcher matcher = pattern.matcher(text);\r\n    HashMap&lt;String,String&gt; replacements = new HashMap&lt;String,String&gt;();\r\n    //populate the replacements map ...\r\n    StringBuilder builder = new StringBuilder();\r\n    int i = 0;\r\n    while (matcher.find()) {\r\n        String replacement = replacements.get(matcher.group(1));\r\n        builder.append(text.substring(i, matcher.start()));\r\n        if (replacement == null)\r\n            builder.append(matcher.group(0));\r\n        else\r\n            builder.append(replacement);\r\n        i = matcher.end();\r\n    }\r\n    builder.append(text.substring(i, text.length()));\r\n    return builder.toString();","title":"How to replace a set of tokens in a Java String?","body":"<p>The most efficient way would be using a matcher to continually find the expressions and replace them, then append the text to a string builder:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\[(.+?)\\\\]\");\nMatcher matcher = pattern.matcher(text);\nHashMap&lt;String,String&gt; replacements = new HashMap&lt;String,String&gt;();\n//populate the replacements map ...\nStringBuilder builder = new StringBuilder();\nint i = 0;\nwhile (matcher.find()) {\n    String replacement = replacements.get(matcher.group(1));\n    builder.append(text.substring(i, matcher.start()));\n    if (replacement == null)\n        builder.append(matcher.group(0));\n    else\n        builder.append(replacement);\n    i = matcher.end();\n}\nbuilder.append(text.substring(i, text.length()));\nreturn builder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"A. Knauf"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1244308540,"creation_date":1244300551,"answer_id":959880,"question_id":959731,"body_markdown":"Unfortunately the comfortable method String.format mentioned above is only available starting with Java 1.5 (which should be pretty standard nowadays, but you never know). Instead of that you might also use Java&#39;s [class MessageFormat][2] for replacing the placeholders.\r\n\r\nIt supports placeholders in the form &#39;{number}&#39;, so your message would look like &quot;Hello {0} Please find attached {1} which is due on {2}&quot;. These Strings can easily be externalized using ResourceBundles (e. g. for localization with multiple locales). The replacing would be done using the static&#39;format&#39; method of class MessageFormat:\r\n\r\n    String msg = &quot;Hello {0} Please find attached {1} which is due on {2}&quot;;\r\n    String[] values = {\r\n      &quot;John Doe&quot;, &quot;invoice #123&quot;, &quot;2009-06-30&quot;\r\n    };\r\n    System.out.println(MessageFormat.format(msg, values));\r\n\r\n\r\n\r\n\r\n\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/MessageFormat.html","title":"How to replace a set of tokens in a Java String?","body":"<p>Unfortunately the comfortable method String.format mentioned above is only available starting with Java 1.5 (which should be pretty standard nowadays, but you never know). Instead of that you might also use Java's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">class MessageFormat</a> for replacing the placeholders.</p>\n\n<p>It supports placeholders in the form '{number}', so your message would look like \"Hello {0} Please find attached {1} which is due on {2}\". These Strings can easily be externalized using ResourceBundles (e. g. for localization with multiple locales). The replacing would be done using the static'format' method of class MessageFormat:</p>\n\n<pre><code>String msg = \"Hello {0} Please find attached {1} which is due on {2}\";\nString[] values = {\n  \"John Doe\", \"invoice #123\", \"2009-06-30\"\n};\nSystem.out.println(MessageFormat.format(msg, values));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26926,"reputation":461,"user_id":70510,"display_name":"Francois Gravel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244301690,"creation_date":1244301690,"answer_id":959915,"question_id":959731,"body_markdown":"In the past, I&#39;ve solved this kind of problem with [StringTemplate][1] and [Groovy Templates][2].  \r\n\r\nUltimately, the decision of using a templating engine or not should be based on the following factors:\r\n\r\n - Will you have many of these templates in the application?\r\n - Do you need the ability to modify the templates without restarting the application?\r\n - Who will be maintaining these templates?  A Java programmer or a business analyst involved on the project?\r\n - Will you need to the ability to put logic in your templates, like conditional text based on values in the variables? \r\n - Will you need the ability to include other templates in a template?\r\n\r\nIf any of the above applies to your project, I would consider using a templating engine, most of which provide this functionality, and more.\r\n\r\n[2]: http://groovy.codehaus.org/Groovy+Templates\r\n[1]: http://www.stringtemplate.org/","title":"How to replace a set of tokens in a Java String?","body":"<p>In the past, I've solved this kind of problem with <a href=\"http://www.stringtemplate.org/\" rel=\"nofollow noreferrer\">StringTemplate</a> and <a href=\"http://groovy.codehaus.org/Groovy+Templates\" rel=\"nofollow noreferrer\">Groovy Templates</a>.  </p>\n\n<p>Ultimately, the decision of using a templating engine or not should be based on the following factors:</p>\n\n<ul>\n<li>Will you have many of these templates in the application?</li>\n<li>Do you need the ability to modify the templates without restarting the application?</li>\n<li>Who will be maintaining these templates?  A Java programmer or a business analyst involved on the project?</li>\n<li>Will you need to the ability to put logic in your templates, like conditional text based on values in the variables? </li>\n<li>Will you need the ability to include other templates in a template?</li>\n</ul>\n\n<p>If any of the above applies to your project, I would consider using a templating engine, most of which provide this functionality, and more.</p>\n"},{"tags":[],"owner":{"account_id":78886,"reputation":710,"user_id":224166,"accept_rate":58,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286197172,"creation_date":1286197172,"answer_id":3855442,"question_id":959731,"body_markdown":"http://github.com/niesfisch/tokenreplacer","title":"How to replace a set of tokens in a Java String?","body":"<p><a href=\"http://github.com/niesfisch/tokenreplacer\" rel=\"nofollow\">http://github.com/niesfisch/tokenreplacer</a></p>\n"},{"tags":[],"owner":{"account_id":691481,"reputation":1,"user_id":564109,"display_name":"mtwom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294239840,"creation_date":1294239840,"answer_id":4605520,"question_id":959731,"body_markdown":"I used\r\n\r\n    String template = &quot;Hello %s Please find attached %s which is due on %s&quot;;\r\n    \r\n    String message = String.format(template, name, invoiceNumber, dueDate);\r\n\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>I used</p>\n\n<pre><code>String template = \"Hello %s Please find attached %s which is due on %s\";\n\nString message = String.format(template, name, invoiceNumber, dueDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1476121608,"creation_date":1316658723,"answer_id":7508926,"question_id":959731,"body_markdown":"You can use template library for complex template replacement.\r\n\r\nFreeMarker is a very good choice.\r\n\r\nhttp://freemarker.sourceforge.net/\r\n\r\n\r\nBut for simple task, there is a simple utility class can help you.\r\n\r\n[`org.apache.commons.lang3.text.StrSubstitutor`][1]\r\n\r\nIt is very powerful, customizable, and easy to use.\r\n\r\n&gt; This class takes a piece of text and substitutes all the variables\r\n&gt; within it. The default definition of a variable is ${variableName}.\r\n&gt; The prefix and suffix can be changed via constructors and set methods.\r\n&gt; \r\n&gt; Variable values are typically resolved from a map, but could also be\r\n&gt; resolved from system properties, or by supplying a custom variable\r\n&gt; resolver.\r\n\r\nFor example, if you want to substitute system environment variable into a template string,\r\nhere is the code:\r\n\r\n    public class SysEnvSubstitutor {\r\n    \tpublic static final String replace(final String source) {\r\n    \t\tStrSubstitutor strSubstitutor = new StrSubstitutor(\r\n    \t\t\t\tnew StrLookup&lt;Object&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String lookup(final String key) {\r\n    \t\t\t\t\t\treturn System.getenv(key);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\treturn strSubstitutor.replace(source);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/text/StrSubstitutor.html","title":"How to replace a set of tokens in a Java String?","body":"<p>You can use template library for complex template replacement.</p>\n\n<p>FreeMarker is a very good choice.</p>\n\n<p><a href=\"http://freemarker.sourceforge.net/\" rel=\"noreferrer\">http://freemarker.sourceforge.net/</a></p>\n\n<p>But for simple task, there is a simple utility class can help you.</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"noreferrer\"><code>org.apache.commons.lang3.text.StrSubstitutor</code></a></p>\n\n<p>It is very powerful, customizable, and easy to use.</p>\n\n<blockquote>\n  <p>This class takes a piece of text and substitutes all the variables\n  within it. The default definition of a variable is ${variableName}.\n  The prefix and suffix can be changed via constructors and set methods.</p>\n  \n  <p>Variable values are typically resolved from a map, but could also be\n  resolved from system properties, or by supplying a custom variable\n  resolver.</p>\n</blockquote>\n\n<p>For example, if you want to substitute system environment variable into a template string,\nhere is the code:</p>\n\n<pre><code>public class SysEnvSubstitutor {\n    public static final String replace(final String source) {\n        StrSubstitutor strSubstitutor = new StrSubstitutor(\n                new StrLookup&lt;Object&gt;() {\n                    @Override\n                    public String lookup(final String key) {\n                        return System.getenv(key);\n                    }\n                });\n        return strSubstitutor.replace(source);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920904,"reputation":977,"user_id":1732450,"display_name":"mihu86"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370970787,"creation_date":1366288489,"answer_id":16083135,"question_id":959731,"body_markdown":"My solution for replacing ${variable} style tokens (inspired by the answers here and by the Spring UriTemplate):\r\n\r\n    public static String substituteVariables(String template, Map&lt;String, String&gt; variables) {\r\n        Pattern pattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\r\n        Matcher matcher = pattern.matcher(template);\r\n        // StringBuilder cannot be used here because Matcher expects StringBuffer\r\n        StringBuffer buffer = new StringBuffer();\r\n        while (matcher.find()) {\r\n            if (variables.containsKey(matcher.group(1))) {\r\n                String replacement = variables.get(matcher.group(1));\r\n                // quote to work properly with $ and {,} signs\r\n                matcher.appendReplacement(buffer, replacement != null ? Matcher.quoteReplacement(replacement) : &quot;null&quot;);\r\n            }\r\n        }\r\n        matcher.appendTail(buffer);\r\n        return buffer.toString();\r\n    }","title":"How to replace a set of tokens in a Java String?","body":"<p>My solution for replacing ${variable} style tokens (inspired by the answers here and by the Spring UriTemplate):</p>\n\n<pre><code>public static String substituteVariables(String template, Map&lt;String, String&gt; variables) {\n    Pattern pattern = Pattern.compile(\"\\\\$\\\\{(.+?)\\\\}\");\n    Matcher matcher = pattern.matcher(template);\n    // StringBuilder cannot be used here because Matcher expects StringBuffer\n    StringBuffer buffer = new StringBuffer();\n    while (matcher.find()) {\n        if (variables.containsKey(matcher.group(1))) {\n            String replacement = variables.get(matcher.group(1));\n            // quote to work properly with $ and {,} signs\n            matcher.appendReplacement(buffer, replacement != null ? Matcher.quoteReplacement(replacement) : \"null\");\n        }\n    }\n    matcher.appendTail(buffer);\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3390138,"reputation":201,"user_id":2845137,"display_name":"user2845137"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1380860711,"creation_date":1380859559,"answer_id":19173034,"question_id":959731,"body_markdown":"    System.out.println(MessageFormat.format(&quot;Hello {0}! You have {1} messages&quot;, &quot;Join&quot;,10L));\r\n\r\n**Output:**\r\nHello Join! You have 10 messages&quot;\r\n","title":"How to replace a set of tokens in a Java String?","body":"<pre><code>System.out.println(MessageFormat.format(\"Hello {0}! You have {1} messages\", \"Join\",10L));\n</code></pre>\n\n<p><strong>Output:</strong>\nHello Join! You have 10 messages\"</p>\n"},{"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484908380,"creation_date":1484908380,"answer_id":41761483,"question_id":959731,"body_markdown":"With Apache Commons Library, you can simply use [Stringutils.replaceEach][1]:\r\n\r\n    public static String replaceEach(String text,\r\n                                 String[] searchList,\r\n                                 String[] replacementList)\r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; Replaces all occurrences of Strings within another String.\r\n&gt; \r\n&gt; A null reference passed to this method is a no-op, or if any &quot;search\r\n&gt; string&quot; or &quot;string to replace&quot; is null, that replace will be ignored.\r\n&gt; This will not repeat. For repeating replaces, call the overloaded\r\n&gt; method.\r\n\r\n \r\n\r\n     StringUtils.replaceEach(null, *, *)        = null\r\n    \r\n      StringUtils.replaceEach(&quot;&quot;, *, *)          = &quot;&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, null, null) = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[0], null) = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, null, new String[0]) = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[]{&quot;a&quot;}, null)  = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[]{&quot;a&quot;}, new String[]{&quot;&quot;})  = &quot;b&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[]{null}, new String[]{&quot;a&quot;})  = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;abcde&quot;, new String[]{&quot;ab&quot;, &quot;d&quot;}, new String[]{&quot;w&quot;, &quot;t&quot;})  = &quot;wcte&quot;\r\n      (example of how it does not repeat)\r\n      \r\n    StringUtils.replaceEach(&quot;abcde&quot;, new String[]{&quot;ab&quot;, &quot;d&quot;}, new String[]{&quot;d&quot;, &quot;t&quot;})  = &quot;dcte&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-","title":"How to replace a set of tokens in a Java String?","body":"<p>With Apache Commons Library, you can simply use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\">Stringutils.replaceEach</a>:</p>\n\n<pre><code>public static String replaceEach(String text,\n                             String[] searchList,\n                             String[] replacementList)\n</code></pre>\n\n<p>From the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Replaces all occurrences of Strings within another String.</p>\n  \n  <p>A null reference passed to this method is a no-op, or if any \"search\n  string\" or \"string to replace\" is null, that replace will be ignored.\n  This will not repeat. For repeating replaces, call the overloaded\n  method.</p>\n</blockquote>\n\n<pre><code> StringUtils.replaceEach(null, *, *)        = null\n\n  StringUtils.replaceEach(\"\", *, *)          = \"\"\n\n  StringUtils.replaceEach(\"aba\", null, null) = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", new String[0], null) = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", null, new String[0]) = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", new String[]{\"a\"}, null)  = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", new String[]{\"a\"}, new String[]{\"\"})  = \"b\"\n\n  StringUtils.replaceEach(\"aba\", new String[]{null}, new String[]{\"a\"})  = \"aba\"\n\n  StringUtils.replaceEach(\"abcde\", new String[]{\"ab\", \"d\"}, new String[]{\"w\", \"t\"})  = \"wcte\"\n  (example of how it does not repeat)\n\nStringUtils.replaceEach(\"abcde\", new String[]{\"ab\", \"d\"}, new String[]{\"d\", \"t\"})  = \"dcte\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497584435,"creation_date":1497584435,"answer_id":44580414,"question_id":959731,"body_markdown":"FYI\r\n\r\nIn the new language Kotlin,\r\nyou can use &quot;String Templates&quot; in your source code directly, \r\nno 3rd party library or template engine need to do the variable replacement.\r\n\r\nIt is a feature of the language itself.\r\n\r\nSee:\r\nhttps://kotlinlang.org/docs/reference/basic-types.html#string-templates\r\n\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>FYI</p>\n\n<p>In the new language Kotlin,\nyou can use \"String Templates\" in your source code directly, \nno 3rd party library or template engine need to do the variable replacement.</p>\n\n<p>It is a feature of the language itself.</p>\n\n<p>See:\n<a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/basic-types.html#string-templates</a></p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574082298,"creation_date":1572287596,"answer_id":58596552,"question_id":959731,"body_markdown":"The following replaces variables of the form `&lt;&lt;VAR&gt;&gt;`, with values looked up from a Map. You can [test it online here](https://repl.it/repls/JoyfulLumberingRecursion)\r\n\r\nFor example, with the following input string\r\n\r\n    BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\r\n    Hi there &lt;&lt;Weight&gt;&gt; was here\r\n\r\nand the following variable values\r\n\r\n    Weight, 42\r\n    Height, HEIGHT 51\r\n\r\noutputs the following\r\n\r\n    BMI=(42/(HEIGHT 51*HEIGHT 51)) * 70\r\n    \r\n    Hi there 42 was here\r\n\r\nHere&#39;s the code\r\n\r\n\r\n      static Pattern pattern = Pattern.compile(&quot;&lt;&lt;([a-z][a-z0-9]*)&gt;&gt;&quot;, Pattern.CASE_INSENSITIVE);\r\n    \r\n      public static String replaceVarsWithValues(String message, Map&lt;String,String&gt; varValues) {\r\n        try {\r\n          StringBuffer newStr = new StringBuffer(message);\r\n          int lenDiff = 0;\r\n          Matcher m = pattern.matcher(message);\r\n          while (m.find()) {\r\n            String fullText = m.group(0);\r\n            String keyName = m.group(1);\r\n            String newValue = varValues.get(keyName)+&quot;&quot;;\r\n            String replacementText = newValue;\r\n            newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\r\n            lenDiff += fullText.length() - replacementText.length();\r\n          }\r\n          return newStr.toString();\r\n        } catch (Exception e) {\r\n          return message;\r\n        }\r\n      }\r\n    \r\n    \r\n      public static void main(String args[]) throws Exception {\r\n          String testString = &quot;BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\\n\\nHi there &lt;&lt;Weight&gt;&gt; was here&quot;;\r\n          HashMap&lt;String,String&gt; values = new HashMap&lt;&gt;();\r\n          values.put(&quot;Weight&quot;, &quot;42&quot;);\r\n          values.put(&quot;Height&quot;, &quot;HEIGHT 51&quot;);\r\n          System.out.println(replaceVarsWithValues(testString, values));\r\n      }\r\n\r\n\r\nand although not requested, you can use a similar approach to replace variables in a string with properties from your application.properties file, though this may already be being done:\r\n\r\n```  \r\nprivate static Pattern patternMatchForProperties =\r\n      Pattern.compile(&quot;[$][{]([.a-z0-9_]*)[}]&quot;, Pattern.CASE_INSENSITIVE);\r\n\r\nprotected String replaceVarsWithProperties(String message) {\r\n    try {\r\n      StringBuffer newStr = new StringBuffer(message);\r\n      int lenDiff = 0;\r\n      Matcher m = patternMatchForProperties.matcher(message);\r\n      while (m.find()) {\r\n        String fullText = m.group(0);\r\n        String keyName = m.group(1);\r\n        String newValue = System.getProperty(keyName);\r\n        String replacementText = newValue;\r\n        newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\r\n        lenDiff += fullText.length() - replacementText.length();\r\n      }\r\n      return newStr.toString();\r\n    } catch (Exception e) {\r\n      return message;\r\n    }\r\n  }\r\n```\r\n\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>The following replaces variables of the form <code>&lt;&lt;VAR&gt;&gt;</code>, with values looked up from a Map. You can <a href=\"https://repl.it/repls/JoyfulLumberingRecursion\" rel=\"nofollow noreferrer\">test it online here</a></p>\n\n<p>For example, with the following input string</p>\n\n<pre><code>BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\nHi there &lt;&lt;Weight&gt;&gt; was here\n</code></pre>\n\n<p>and the following variable values</p>\n\n<pre><code>Weight, 42\nHeight, HEIGHT 51\n</code></pre>\n\n<p>outputs the following</p>\n\n<pre><code>BMI=(42/(HEIGHT 51*HEIGHT 51)) * 70\n\nHi there 42 was here\n</code></pre>\n\n<p>Here's the code</p>\n\n<pre><code>  static Pattern pattern = Pattern.compile(\"&lt;&lt;([a-z][a-z0-9]*)&gt;&gt;\", Pattern.CASE_INSENSITIVE);\n\n  public static String replaceVarsWithValues(String message, Map&lt;String,String&gt; varValues) {\n    try {\n      StringBuffer newStr = new StringBuffer(message);\n      int lenDiff = 0;\n      Matcher m = pattern.matcher(message);\n      while (m.find()) {\n        String fullText = m.group(0);\n        String keyName = m.group(1);\n        String newValue = varValues.get(keyName)+\"\";\n        String replacementText = newValue;\n        newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\n        lenDiff += fullText.length() - replacementText.length();\n      }\n      return newStr.toString();\n    } catch (Exception e) {\n      return message;\n    }\n  }\n\n\n  public static void main(String args[]) throws Exception {\n      String testString = \"BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\\n\\nHi there &lt;&lt;Weight&gt;&gt; was here\";\n      HashMap&lt;String,String&gt; values = new HashMap&lt;&gt;();\n      values.put(\"Weight\", \"42\");\n      values.put(\"Height\", \"HEIGHT 51\");\n      System.out.println(replaceVarsWithValues(testString, values));\n  }\n</code></pre>\n\n<p>and although not requested, you can use a similar approach to replace variables in a string with properties from your application.properties file, though this may already be being done:</p>\n\n<pre><code>private static Pattern patternMatchForProperties =\n      Pattern.compile(\"[$][{]([.a-z0-9_]*)[}]\", Pattern.CASE_INSENSITIVE);\n\nprotected String replaceVarsWithProperties(String message) {\n    try {\n      StringBuffer newStr = new StringBuffer(message);\n      int lenDiff = 0;\n      Matcher m = patternMatchForProperties.matcher(message);\n      while (m.find()) {\n        String fullText = m.group(0);\n        String keyName = m.group(1);\n        String newValue = System.getProperty(keyName);\n        String replacementText = newValue;\n        newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\n        lenDiff += fullText.length() - replacementText.length();\n      }\n      return newStr.toString();\n    } catch (Exception e) {\n      return message;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635531954,"creation_date":1629842183,"answer_id":68914529,"question_id":959731,"body_markdown":"You can use Apache Commons [StringSubstitutor][1]:\r\n\r\nFor example:\r\n\r\n     // Build map\r\n     Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n     valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n     valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n     String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n    \r\n     // Build StringSubstitutor\r\n     StringSubstitutor sub = new StringSubstitutor(valuesMap);\r\n    \r\n     // Replace\r\n     String resolvedString = sub.replace(templateString);\r\n\r\n \r\nyielding:\r\n\r\n     &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n\r\nYou can also customize the prefix and suffix delimiters (`${` and `}` respectively in the example above) by using:\r\n\r\n  * [setVariablePrefix][2]\r\n  * [setVariableSuffix][3]\r\n\r\nYou can also specify a default value using syntax like below:\r\n\r\n    String templateString = &quot;The ${animal:giraffe} jumped over the ${target}.&quot;;\r\n\r\nwhich would yield `&quot;The giraffe jumped over the lazy dog.&quot;` when no `animal` parameter was supplied.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html\r\n  [2]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setValueDelimiter-java.lang.String-\r\n  [3]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setVariablePrefix-java.lang.String-","title":"How to replace a set of tokens in a Java String?","body":"<p>You can use Apache Commons <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">StringSubstitutor</a>:</p>\n<p>For example:</p>\n<pre><code> // Build map\n Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\n valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\n valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\n String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\n\n // Build StringSubstitutor\n StringSubstitutor sub = new StringSubstitutor(valuesMap);\n\n // Replace\n String resolvedString = sub.replace(templateString);\n</code></pre>\n<p>yielding:</p>\n<pre><code> &quot;The quick brown fox jumped over the lazy dog.&quot;\n</code></pre>\n<p>You can also customize the prefix and suffix delimiters (<code>${</code> and <code>}</code> respectively in the example above) by using:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setValueDelimiter-java.lang.String-\" rel=\"nofollow noreferrer\">setVariablePrefix</a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setVariablePrefix-java.lang.String-\" rel=\"nofollow noreferrer\">setVariableSuffix</a></li>\n</ul>\n<p>You can also specify a default value using syntax like below:</p>\n<pre><code>String templateString = &quot;The ${animal:giraffe} jumped over the ${target}.&quot;;\n</code></pre>\n<p>which would yield <code>&quot;The giraffe jumped over the lazy dog.&quot;</code> when no <code>animal</code> parameter was supplied.</p>\n"}],"owner":{"account_id":28530,"reputation":4817,"user_id":76295,"accept_rate":68,"display_name":"Mark"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180809,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"accepted_answer_id":959776,"answer_count":16,"score":119,"last_activity_date":1635531954,"creation_date":1244296828,"question_id":959731,"body_markdown":"I have the following template String: `&quot;Hello [Name] Please find attached [Invoice Number] which is due on [Due Date]&quot;`.\r\n\r\nI also have String variables for name, invoice number and due date - what&#39;s the best way to replace the tokens in the template with the variables?  \r\n\r\n(Note that if a variable happens to contain a token it should NOT be replaced).\r\n\r\n----------\r\n\r\n**EDIT**\r\n\r\nWith thanks to @laginimaineb and @alan-moore, **here&#39;s my solution:**\r\n\r\n    public static String replaceTokens(String text, \r\n                                       Map&lt;String, String&gt; replacements) {\r\n        Pattern pattern = Pattern.compile(&quot;\\\\[(.+?)\\\\]&quot;);\r\n        Matcher matcher = pattern.matcher(text);\r\n        StringBuffer buffer = new StringBuffer();\r\n\r\n        while (matcher.find()) {\r\n            String replacement = replacements.get(matcher.group(1));\r\n            if (replacement != null) {\r\n                // matcher.appendReplacement(buffer, replacement);\r\n                // see comment \r\n                matcher.appendReplacement(buffer, &quot;&quot;);\r\n                buffer.append(replacement);\r\n            }\r\n        }\r\n        matcher.appendTail(buffer);\r\n        return buffer.toString();\r\n    }","title":"How to replace a set of tokens in a Java String?","body":"<p>I have the following template String: <code>\"Hello [Name] Please find attached [Invoice Number] which is due on [Due Date]\"</code>.</p>\n\n<p>I also have String variables for name, invoice number and due date - what's the best way to replace the tokens in the template with the variables?  </p>\n\n<p>(Note that if a variable happens to contain a token it should NOT be replaced).</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>With thanks to @laginimaineb and @alan-moore, <strong>here's my solution:</strong></p>\n\n<pre><code>public static String replaceTokens(String text, \n                                   Map&lt;String, String&gt; replacements) {\n    Pattern pattern = Pattern.compile(\"\\\\[(.+?)\\\\]\");\n    Matcher matcher = pattern.matcher(text);\n    StringBuffer buffer = new StringBuffer();\n\n    while (matcher.find()) {\n        String replacement = replacements.get(matcher.group(1));\n        if (replacement != null) {\n            // matcher.appendReplacement(buffer, replacement);\n            // see comment \n            matcher.appendReplacement(buffer, \"\");\n            buffer.append(replacement);\n        }\n    }\n    matcher.appendTail(buffer);\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":["java","design-patterns","functional-programming","dry"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1635626116,"post_id":69773059,"comment_id":123347849,"body_markdown":"`ValidCommand` looks incorrect - `aLong` and `aString` are never used, and `playlistId` and `requestUserId` are never declared. Also, it doesn&#39;t make sense to store the arguments to the predicate in the command (if that&#39;s what the intent is).","body":"<code>ValidCommand</code> looks incorrect - <code>aLong</code> and <code>aString</code> are never used, and <code>playlistId</code> and <code>requestUserId</code> are never declared. Also, it doesn&#39;t make sense to store the arguments to the predicate in the command (if that&#39;s what the intent is)."}],"answers":[{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635531653,"creation_date":1635531653,"answer_id":69773258,"question_id":69773059,"body_markdown":"What about creating a utility function:\r\n\r\n    private void validate(Long aLong, String aString) {\r\n        if (!condition(aLong, aString)){\r\n            throw new CustomException();\r\n        }\r\n    }\r\n\r\nand then adjusting your code to use it like:\r\n\r\n    public ClassA method1 (arguments...){\r\n        validate(aLong, aString);\r\n        return doSomething(arguments...);\r\n    }\r\n","title":"How to wrap a command inside if-else statements with same condition used in many places","body":"<p>What about creating a utility function:</p>\n<pre><code>private void validate(Long aLong, String aString) {\n    if (!condition(aLong, aString)){\n        throw new CustomException();\n    }\n}\n</code></pre>\n<p>and then adjusting your code to use it like:</p>\n<pre><code>public ClassA method1 (arguments...){\n    validate(aLong, aString);\n    return doSomething(arguments...);\n}\n</code></pre>\n"}],"owner":{"account_id":6004030,"reputation":31,"user_id":4716476,"display_name":"tsiskoS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635531653,"creation_date":1635530480,"question_id":69773059,"body_markdown":"I have a class with many public methods. Each method executes a single task when a single condition is met. The conditions in all methods are exactly the same as seen below:\r\n\r\n```\r\npublic class MyClass{\r\n\t\r\n\tpublic ClassA method1 (arguments...){\r\n\r\n\t\tif(condition(aLong, aString)){\r\n\t\t\treturn doSomething(arguments...)\r\n\t\t}else{\r\n\t\t\tthrow new CustomException();\r\n\t\t}\r\n\r\n\t}\r\n\r\n    public void method2 (arguments...){\r\n\r\n\t\tif(condition(aLong, aString)){\r\n\t\t\tdoSomethingElse(arguments...)\r\n\t\t}else{\r\n\t\t\tthrow new CustomException();\r\n\t\t}\r\n\r\n\t}\r\n\r\n    public List&lt;ClassB&gt; method3 (arguments...){\r\n\r\n\t\tif(condition(aLong, aString)){\r\n\t\t\treturn doSomethingDifferent(arguments...)\r\n\t\t}else{\r\n\t\t\tthrow new CustomException();\r\n\t\t}\r\n\t}\r\n\r\n    private boolean condition(Long aLong, String aString){\r\n        // some code\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\nI wanted to get rid of the repeating if...else condition by using the command pattern, so i created a class like below to wrap the actual execution inside an if else statement.\r\n\r\n```\r\npublic abstract class ValidCommand&lt;T extends Serializable&gt; {\r\n\r\n    private BiPredicate&lt;Long,String&gt; predicate;\r\n    private Long aLong;\r\n    private String aString\r\n    \r\n    public ValidCommand(BiPredicate&lt;Long,String&gt; predicate,Long aLong, String aString){\r\n        this.predicate = predicate;        \r\n        this.aLong = aLong;\r\n        this.aString = aString;\r\n    }\r\n\r\n    public T execute(){\r\n        if(predicate.test(playlistId, requestUserId)){\r\n            return onExecution();\r\n        }else{\r\n            throw new CustomException();\r\n        }\r\n    }\r\n\r\n    protected abstract T onExecution();\r\n\r\n}\r\n```\r\nand I refactored the class with the methods as below:\r\n\r\n```\r\npublic class MyClass{\r\n\r\n    private BiPredicate&lt;Long,String&gt; predicate = (a,b) -&gt; condition(a,b);\r\n    \r\n    public ClassA method1(arguments...){\r\n\r\n\t\tValidCommand&lt;ClassA&gt; validCommand= new ValidCommand(predicate,aLong,aString){\r\n\t\t\t@Override\r\n\t\t\tprotected Serializable onExecution() {\r\n\t\t\t\treturn doSomething();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn validCommand.execute();\r\n\t}\r\n    .\r\n    .\r\n    .\r\n \r\n}\r\n```\r\n\r\nMy question is if there is a better way of doing this in Java and if is worth bothering in terms of code readability and DRY principles. Note that the number of methods inside MyClass may increase and probably all of them will share the same condition.","title":"How to wrap a command inside if-else statements with same condition used in many places","body":"<p>I have a class with many public methods. Each method executes a single task when a single condition is met. The conditions in all methods are exactly the same as seen below:</p>\n<pre><code>public class MyClass{\n    \n    public ClassA method1 (arguments...){\n\n        if(condition(aLong, aString)){\n            return doSomething(arguments...)\n        }else{\n            throw new CustomException();\n        }\n\n    }\n\n    public void method2 (arguments...){\n\n        if(condition(aLong, aString)){\n            doSomethingElse(arguments...)\n        }else{\n            throw new CustomException();\n        }\n\n    }\n\n    public List&lt;ClassB&gt; method3 (arguments...){\n\n        if(condition(aLong, aString)){\n            return doSomethingDifferent(arguments...)\n        }else{\n            throw new CustomException();\n        }\n    }\n\n    private boolean condition(Long aLong, String aString){\n        // some code\n        return true;\n    }\n}\n\n</code></pre>\n<p>I wanted to get rid of the repeating if...else condition by using the command pattern, so i created a class like below to wrap the actual execution inside an if else statement.</p>\n<pre><code>public abstract class ValidCommand&lt;T extends Serializable&gt; {\n\n    private BiPredicate&lt;Long,String&gt; predicate;\n    private Long aLong;\n    private String aString\n    \n    public ValidCommand(BiPredicate&lt;Long,String&gt; predicate,Long aLong, String aString){\n        this.predicate = predicate;        \n        this.aLong = aLong;\n        this.aString = aString;\n    }\n\n    public T execute(){\n        if(predicate.test(playlistId, requestUserId)){\n            return onExecution();\n        }else{\n            throw new CustomException();\n        }\n    }\n\n    protected abstract T onExecution();\n\n}\n</code></pre>\n<p>and I refactored the class with the methods as below:</p>\n<pre><code>public class MyClass{\n\n    private BiPredicate&lt;Long,String&gt; predicate = (a,b) -&gt; condition(a,b);\n    \n    public ClassA method1(arguments...){\n\n        ValidCommand&lt;ClassA&gt; validCommand= new ValidCommand(predicate,aLong,aString){\n            @Override\n            protected Serializable onExecution() {\n                return doSomething();\n            }\n        };\n\n        return validCommand.execute();\n    }\n    .\n    .\n    .\n \n}\n</code></pre>\n<p>My question is if there is a better way of doing this in Java and if is worth bothering in terms of code readability and DRY principles. Note that the number of methods inside MyClass may increase and probably all of them will share the same condition.</p>\n"},{"tags":["java","rest","http","oauth"],"answers":[{"tags":[],"owner":{"account_id":12799317,"reputation":123,"user_id":9261127,"display_name":"okno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524515158,"creation_date":1524515158,"answer_id":49989426,"question_id":49989063,"body_markdown":"I think you forgot to encode your auth parameter  (&#39;oauth-key&#39;, &#39;oauth-secret&#39;) in base 64. Just like you did in python. \r\n\r\nI don&#39;t know what oauth server you are using but i am pretty sure it returns Json so you might have to change your HttpResonse generics to ```HttpResponse&lt;JsonNode&gt;```. \r\n \r\n\r\n","title":"Covert Python Http request to Java","body":"<p>I think you forgot to encode your auth parameter  ('oauth-key', 'oauth-secret') in base 64. Just like you did in python. </p>\n\n<p>I don't know what oauth server you are using but i am pretty sure it returns Json so you might have to change your HttpResonse generics to <code>HttpResponse&lt;JsonNode&gt;</code>. </p>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635530747,"creation_date":1524516015,"answer_id":49989608,"question_id":49989063,"body_markdown":"The username and password are not supposed to be part of the JSON body. It is not in the Python code. The username and password are part of the `auth` parameter. What this does is create an `Authorization` header. Based on this `HTTPBasicAuth`, it seems that [Basic Authentication][1] is used. What this means is that the value of the `Authorization` header should be `\r\n`&quot;Basic base64(username:password)&quot;`, where `base64` is a generic function that will base 64 encode the string `&quot;&lt;username&gt;:&lt;password&gt;&quot;`, the username and password, delimited with a colon.\r\n\r\nWith Java 8, you can use the [Base64][2] class to encode the value. So you would do\r\n\r\n    String credentials = &quot;ouath-key:oauth-secret&quot;;\r\n    String base64 = Base64.getEncoder().encodeAsString(credentials.getBytes(StandardCharsets.UTF_8));\r\n    HttpResponse&lt;String&gt; response = Unirest.post(&quot;http://35.192.98.23:8080/oauth/token&quot;)\r\n                      .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                      .header(&quot;Authorization&quot;, &quot;Basic &quot; + base64)\r\n                      ...\r\n\r\n\r\n\r\n\r\n[1]: https://en.wikipedia.org/wiki/Basic_access_authentication\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"Covert Python Http request to Java","body":"<p>The username and password are not supposed to be part of the JSON body. It is not in the Python code. The username and password are part of the <code>auth</code> parameter. What this does is create an <code>Authorization</code> header. Based on this <code>HTTPBasicAuth</code>, it seems that <a href=\"https://en.wikipedia.org/wiki/Basic_access_authentication\" rel=\"nofollow noreferrer\">Basic Authentication</a> is used. What this means is that the value of the <code>Authorization</code> header should be <code> </code>&quot;Basic base64(username:password)&quot;<code>, where </code>base64<code>is a generic function that will base 64 encode the string</code>&quot;:&quot;`, the username and password, delimited with a colon.</p>\n<p>With Java 8, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> class to encode the value. So you would do</p>\n<pre><code>String credentials = &quot;ouath-key:oauth-secret&quot;;\nString base64 = Base64.getEncoder().encodeAsString(credentials.getBytes(StandardCharsets.UTF_8));\nHttpResponse&lt;String&gt; response = Unirest.post(&quot;http://35.192.98.23:8080/oauth/token&quot;)\n                  .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                  .header(&quot;Authorization&quot;, &quot;Basic &quot; + base64)\n                  ...\n</code></pre>\n"}],"owner":{"account_id":2421862,"reputation":1343,"user_id":5157998,"accept_rate":59,"display_name":"rishi007bansod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49989608,"answer_count":2,"score":1,"last_activity_date":1635530747,"creation_date":1524513547,"question_id":49989063,"body_markdown":"I want to convert following Python code snippet of Http request to equivalent Java code,\r\n\r\n    import requests\r\n    from requests.auth import HTTPBasicAuth\r\n    from numpy import array\r\n    try:\r\n        from commands import getoutput # python 2\r\n    except ImportError:\r\n        from subprocess import getoutput # python 3\r\n    \r\n    \r\n    SELDON_API_IP=&quot;35.192.98.23&quot;\r\n    \r\n    def get_token():\r\n        payload = {&#39;grant_type&#39;: &#39;client_credentials&#39;}\r\n        response = requests.post(\r\n                    &quot;http://{}:8080/oauth/token&quot;.format(SELDON_API_IP),\r\n                    auth=HTTPBasicAuth(&#39;oauth-key&#39;, &#39;oauth-secret&#39;),\r\n                    data=payload)\r\n        token =  response.json()[&quot;access_token&quot;]\r\n        return token\r\n    \r\n    def rest_request():\r\n        token = get_token()\r\n        headers = {&#39;Authorization&#39;: &#39;Bearer &#39;+token}\r\n        payload = {&#39;meta&#39;:{},&#39;data&#39;:{&#39;ndarray&#39;:[[101]]}}\r\n        response = requests.post(\r\n                    &quot;http://{}:8080/api/v0.1/predictions&quot;.format(SELDON_API_IP),\r\n                    headers=headers,\r\n                    json=payload)\r\n        print(response.text)\r\n    \r\n    rest_request()\r\n\r\nI tried converting `get_token()` part using unirest Java\r\n\r\n    HttpResponse&lt;String&gt; response = Unirest.post(&quot;http://35.192.98.23:8080/oauth/token&quot;)\r\n                      .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                      .body(&quot;{\\&quot;grant_type\\&quot;:\\&quot;client_credentials\\&quot;,\\&quot;username\\&quot;: \\&quot;oauth-key\\&quot;,\\&quot;password\\&quot;: \\&quot;oauth-secret\\&quot;}&quot;)\r\n                      .asString();\r\n\r\nBut in this Java code I am getting error &quot;Full Authentication Required&quot;. How can I convert this complete Python snippet to Java code(with or without unirest, anything is fine)?\r\n\r\n\r\n ","title":"Covert Python Http request to Java","body":"<p>I want to convert following Python code snippet of Http request to equivalent Java code,</p>\n\n<pre><code>import requests\nfrom requests.auth import HTTPBasicAuth\nfrom numpy import array\ntry:\n    from commands import getoutput # python 2\nexcept ImportError:\n    from subprocess import getoutput # python 3\n\n\nSELDON_API_IP=\"35.192.98.23\"\n\ndef get_token():\n    payload = {'grant_type': 'client_credentials'}\n    response = requests.post(\n                \"http://{}:8080/oauth/token\".format(SELDON_API_IP),\n                auth=HTTPBasicAuth('oauth-key', 'oauth-secret'),\n                data=payload)\n    token =  response.json()[\"access_token\"]\n    return token\n\ndef rest_request():\n    token = get_token()\n    headers = {'Authorization': 'Bearer '+token}\n    payload = {'meta':{},'data':{'ndarray':[[101]]}}\n    response = requests.post(\n                \"http://{}:8080/api/v0.1/predictions\".format(SELDON_API_IP),\n                headers=headers,\n                json=payload)\n    print(response.text)\n\nrest_request()\n</code></pre>\n\n<p>I tried converting <code>get_token()</code> part using unirest Java</p>\n\n<pre><code>HttpResponse&lt;String&gt; response = Unirest.post(\"http://35.192.98.23:8080/oauth/token\")\n                  .header(\"content-type\", \"application/json\")\n                  .body(\"{\\\"grant_type\\\":\\\"client_credentials\\\",\\\"username\\\": \\\"oauth-key\\\",\\\"password\\\": \\\"oauth-secret\\\"}\")\n                  .asString();\n</code></pre>\n\n<p>But in this Java code I am getting error \"Full Authentication Required\". How can I convert this complete Python snippet to Java code(with or without unirest, anything is fine)?</p>\n"},{"tags":["java","android","android-studio","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":10702580,"reputation":3643,"user_id":7877391,"display_name":"c-an"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625412251,"creation_date":1625412251,"answer_id":68246199,"question_id":50521351,"body_markdown":"This caused because of the RAM size is small in my case.\r\n\r\n1. Open AVD Manager\r\n2. Select the device &gt; Show Advanced Settings &gt; Change the RAM.\r\n\r\nIf you can&#39;t edit the setting, then create new device.\r\n\r\nrelated:\r\n\r\nhttps://stackoverflow.com/questions/40068344/how-can-i-change-the-ram-amount-that-the-android-emulator-is-using\r\nhttps://stackoverflow.com/questions/63371056/the-system-ui-isnt-responding-in-android-emulator-flutter","title":"Android Studio- ADV &quot;System UI isn&#39;t responding&quot;","body":"<p>This caused because of the RAM size is small in my case.</p>\n<ol>\n<li>Open AVD Manager</li>\n<li>Select the device &gt; Show Advanced Settings &gt; Change the RAM.</li>\n</ol>\n<p>If you can't edit the setting, then create new device.</p>\n<p>related:</p>\n<p><a href=\"https://stackoverflow.com/questions/40068344/how-can-i-change-the-ram-amount-that-the-android-emulator-is-using\">How can I change the ram amount that the android emulator is using?</a>\n<a href=\"https://stackoverflow.com/questions/63371056/the-system-ui-isnt-responding-in-android-emulator-flutter\">The system ui isn&#39;t responding in android emulator (Flutter)</a></p>\n"}],"owner":{"account_id":13585926,"reputation":13,"user_id":9800652,"display_name":"Huzaifa Sufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635530311,"creation_date":1527220950,"question_id":50521351,"body_markdown":"So I&#39;m a beginner in Android Studio. I have created a Nexus S as an ADV. Every time I launch that device, it says &quot;System UI isn&#39;t responding&quot;. I get 2 options; close app, wait.\r\n\r\nWhen I click close, nothing happens but when I click wait, it just goes on as if nothing happened.\r\n\r\nI was just wondering what I can do to get rid of this problem?\r\nAlso does increasing the RAM on the device make it any faster? Can I do anything to make it faster?\r\n\r\nThanks","title":"Android Studio- ADV &quot;System UI isn&#39;t responding&quot;","body":"<p>So I'm a beginner in Android Studio. I have created a Nexus S as an ADV. Every time I launch that device, it says \"System UI isn't responding\". I get 2 options; close app, wait.</p>\n\n<p>When I click close, nothing happens but when I click wait, it just goes on as if nothing happened.</p>\n\n<p>I was just wondering what I can do to get rid of this problem?\nAlso does increasing the RAM on the device make it any faster? Can I do anything to make it faster?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","date","jdatechooser"],"comments":[{"owner":{"account_id":22099306,"reputation":37,"user_id":16356018,"display_name":"Thevinu"},"score":0,"creation_date":1635404247,"post_id":69749298,"comment_id":123289640,"body_markdown":"checkboxes allow a more distinctive look in the event there are multiple choices to select. and yes I am referring to JDateChooser. If you have a way to do it with radio buttons I&#39;m happy to know that to","body":"checkboxes allow a more distinctive look in the event there are multiple choices to select. and yes I am referring to JDateChooser. If you have a way to do it with radio buttons I&#39;m happy to know that to"},{"owner":{"account_id":22099306,"reputation":37,"user_id":16356018,"display_name":"Thevinu"},"score":0,"creation_date":1635405764,"post_id":69749298,"comment_id":123290187,"body_markdown":"the output will be all the dates in the format &quot;MMM dd, yyyy&quot; to be written in the console.","body":"the output will be all the dates in the format &quot;MMM dd, yyyy&quot; to be written in the console."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1635405890,"post_id":69749298,"comment_id":123290231,"body_markdown":"[Edit] your question and add that the output will be written to the console. Don&#39;t add question details in a comment.","body":"<a href=\"https://stackoverflow.com/posts/69749298/edit\">Edit</a> your question and add that the output will be written to the console. Don&#39;t add question details in a comment."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635530079,"creation_date":1635403699,"answer_id":69749414,"question_id":69749298,"body_markdown":"Obviously schoolwork, so I‚Äôll be brief, enough to point you in the right direction while letting you actually do your own assignment yourself.\r\n\r\nSeems obvious that you would use checkbox widgets for the days of the week, not a [combo box](https://en.wikipedia.org/wiki/Combo_box).\r\n\r\nUse `LocalDate` class for the date. Use the `plusDays` method to move from one date to another. Test each using `getDayOfWeek` to match against `DayOfWeek` objects. Use `EnumSet` and its `contains` method for that check. \r\n\r\nUse an `ArrayList&lt; LocalDate &gt;` to collect the dates you want to remember.\r\n\r\nMake the finished list unmodifiable with a call to `List.copyOf`.\r\n\r\nReport the values of the collected `LocalDate` objects by using `DateTimeFormatter`. To automatically localize, use `.ofLocalizedDate`.\r\n\r\n----------\r\n\r\n\r\nIn advanced Java, we might do something like this untested code.\r\n\r\n    List&lt; LocalDate &gt; dates = \r\n        LocalDate.of( 2021 , 10 , 1 )\r\n        .datesUntil( LocalDate.of( 2021 , 10 , 8 ) )\r\n        .filter( \r\n            localDate -&gt; EnumSet.of( DayOfWeek.TUESDAY , DayOfWeek.THURSDAY ).contains( localDate.getDayOfWeek() )\r\n        )\r\n        .toList() \r\n    ;\r\n\r\n","title":"Get all specific week days within the range of two date choosers and 7 checkboxes","body":"<p>Obviously schoolwork, so I‚Äôll be brief, enough to point you in the right direction while letting you actually do your own assignment yourself.</p>\n<p>Seems obvious that you would use checkbox widgets for the days of the week, not a <a href=\"https://en.wikipedia.org/wiki/Combo_box\" rel=\"nofollow noreferrer\">combo box</a>.</p>\n<p>Use <code>LocalDate</code> class for the date. Use the <code>plusDays</code> method to move from one date to another. Test each using <code>getDayOfWeek</code> to match against <code>DayOfWeek</code> objects. Use <code>EnumSet</code> and its <code>contains</code> method for that check.</p>\n<p>Use an <code>ArrayList&lt; LocalDate &gt;</code> to collect the dates you want to remember.</p>\n<p>Make the finished list unmodifiable with a call to <code>List.copyOf</code>.</p>\n<p>Report the values of the collected <code>LocalDate</code> objects by using <code>DateTimeFormatter</code>. To automatically localize, use <code>.ofLocalizedDate</code>.</p>\n<hr />\n<p>In advanced Java, we might do something like this untested code.</p>\n<pre><code>List&lt; LocalDate &gt; dates = \n    LocalDate.of( 2021 , 10 , 1 )\n    .datesUntil( LocalDate.of( 2021 , 10 , 8 ) )\n    .filter( \n        localDate -&gt; EnumSet.of( DayOfWeek.TUESDAY , DayOfWeek.THURSDAY ).contains( localDate.getDayOfWeek() )\n    )\n    .toList() \n;\n</code></pre>\n"}],"owner":{"account_id":22099306,"reputation":37,"user_id":16356018,"display_name":"Thevinu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69749414,"answer_count":1,"score":0,"last_activity_date":1635530079,"creation_date":1635403035,"question_id":69749298,"body_markdown":"I have 2 [JDateChooser][1] controls and 7 `JCheckBox` controls.\r\nThe date choosers will set a range between two dates, and the 7 checkboxes will filter the dates.\r\n\r\nThe 7 checkboxes are:\r\nMonday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday\r\n\r\n**For example:**\r\n\r\n- I select Oct 01, 2021, from the first date chooser. \r\n- I select Oct 08, 2021, from the second date chooser.\r\n- I select Monday and Tuesday from the checkboxes.\r\n\r\nThe output will be all Mondays and Tuesdays in the dates range Oct 01, 2021 - Oct 08, 2021.\r\n\r\nI searched everywhere but no answer and I don&#39;t even know where to begin.\r\n\r\n\r\n  [1]: https://toedter.com/jcalendar/","title":"Get all specific week days within the range of two date choosers and 7 checkboxes","body":"<p>I have 2 <a href=\"https://toedter.com/jcalendar/\" rel=\"nofollow noreferrer\">JDateChooser</a> controls and 7 <code>JCheckBox</code> controls.\nThe date choosers will set a range between two dates, and the 7 checkboxes will filter the dates.</p>\n<p>The 7 checkboxes are:\nMonday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday</p>\n<p><strong>For example:</strong></p>\n<ul>\n<li>I select Oct 01, 2021, from the first date chooser.</li>\n<li>I select Oct 08, 2021, from the second date chooser.</li>\n<li>I select Monday and Tuesday from the checkboxes.</li>\n</ul>\n<p>The output will be all Mondays and Tuesdays in the dates range Oct 01, 2021 - Oct 08, 2021.</p>\n<p>I searched everywhere but no answer and I don't even know where to begin.</p>\n"},{"tags":["java","spring","rest","option-type"],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635438066,"creation_date":1635437752,"answer_id":69757597,"question_id":69757551,"body_markdown":"If you want to send a message to the client about the non-existence of such id, you have to handle such edge cases.\r\nprobably you can use Optional and handle if optional.isPresent() returns false, you can send a customized message and let your client know that no data exist with such id.\r\n\r\nYou can use a wrapper class to achieve this.\r\n\r\n    class ErrorResponse {\r\n      private String status;\r\n      private int statusCode;\r\n      private String message;\r\n    \r\n      public ErrorResponse(String status, int statusCode, String message){\r\n          this.status = status;\r\n          -----\r\n          -----\r\n       }\r\n    }\r\n\r\nSet this feilds and return this class object as a response.","title":"Best use of Optionals in RestAPI Spring application","body":"<p>If you want to send a message to the client about the non-existence of such id, you have to handle such edge cases.\nprobably you can use Optional and handle if optional.isPresent() returns false, you can send a customized message and let your client know that no data exist with such id.</p>\n<p>You can use a wrapper class to achieve this.</p>\n<pre><code>class ErrorResponse {\n  private String status;\n  private int statusCode;\n  private String message;\n\n  public ErrorResponse(String status, int statusCode, String message){\n      this.status = status;\n      -----\n      -----\n   }\n}\n</code></pre>\n<p>Set this feilds and return this class object as a response.</p>\n"},{"tags":[],"owner":{"account_id":14845249,"reputation":140,"user_id":10720730,"display_name":"Danish"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1635529677,"creation_date":1635439049,"answer_id":69757917,"question_id":69757551,"body_markdown":"Most followed practice I have followed or seen people doing is you should handle it in service and use wrapper class for response. By this way you will achieve two things i.e. you will have a constant Response object that you can use in all of your application and also you can use exceptions etc very easily with that. You should always handle any sought of business logic in service layer as MVC states. I am posting an example here so that you can understand better what I am trying to say here. \r\n\r\nController: \r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Response getFilm(@PathVariable int id) {\r\n        return filmService.getFilm(id);\r\n    }\r\n\r\nService: \r\n```java\r\npublic Response getFilm(int id){\r\n  Optional&lt;Film&gt; film = repo.findById(id);\r\n  return film.map(f -&gt; Response.builder().status(200).data(f).message(&quot;request  successful&quot;))\r\n             .orElseGet(() -&gt; Response.builder().status(422).data(null).message(&quot;Film with given id not found&quot;);\r\n\r\n}\r\n```\r\nand Response class with be like as suggested by @Adrash as well\r\n\r\n    class Response {\r\n      private int status;\r\n      private Object data;\r\n      private String message;\r\n       \r\n      //you can use lombok or IDE  generate getter setters to generate getters setters\r\n     }\r\n\r\n**Note: I have used lombok builder method to create response object in service layer.**\r\n\r\n\r\n\r\n","title":"Best use of Optionals in RestAPI Spring application","body":"<p>Most followed practice I have followed or seen people doing is you should handle it in service and use wrapper class for response. By this way you will achieve two things i.e. you will have a constant Response object that you can use in all of your application and also you can use exceptions etc very easily with that. You should always handle any sought of business logic in service layer as MVC states. I am posting an example here so that you can understand better what I am trying to say here.</p>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic Response getFilm(@PathVariable int id) {\n    return filmService.getFilm(id);\n}\n</code></pre>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response getFilm(int id){\n  Optional&lt;Film&gt; film = repo.findById(id);\n  return film.map(f -&gt; Response.builder().status(200).data(f).message(&quot;request  successful&quot;))\n             .orElseGet(() -&gt; Response.builder().status(422).data(null).message(&quot;Film with given id not found&quot;);\n\n}\n</code></pre>\n<p>and Response class with be like as suggested by @Adrash as well</p>\n<pre><code>class Response {\n  private int status;\n  private Object data;\n  private String message;\n   \n  //you can use lombok or IDE  generate getter setters to generate getters setters\n }\n</code></pre>\n<p><strong>Note: I have used lombok builder method to create response object in service layer.</strong></p>\n"},{"tags":[],"owner":{"display_name":"user17275084"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635463048,"creation_date":1635463048,"answer_id":69761969,"question_id":69757551,"body_markdown":"You have to follow the standards, so you should not write the code in controller, instead you should write the code in services and also, you can wrap your response in a class provide it a appropriate custom message so that it makes sense to the client. as @Adarsh mentioned above the Wrapper class you can create exactly same and it would solve your problem. and follow the standards as mentioned by @Danish.","title":"Best use of Optionals in RestAPI Spring application","body":"<p>You have to follow the standards, so you should not write the code in controller, instead you should write the code in services and also, you can wrap your response in a class provide it a appropriate custom message so that it makes sense to the client. as @Adarsh mentioned above the Wrapper class you can create exactly same and it would solve your problem. and follow the standards as mentioned by @Danish.</p>\n"}],"owner":{"account_id":14996835,"reputation":51,"user_id":10825918,"display_name":"Tovarisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4094,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69757917,"answer_count":3,"score":2,"last_activity_date":1635529677,"creation_date":1635437528,"question_id":69757551,"body_markdown":"I am kind of confused about the way I should design repository -&gt; service -&gt; controller communication using Optionals in my RestAPI Spring app. \r\nFor instance, client wants to find film by id, but film is not present and repository returns empty Optional. I have two ways of dealing with it:\r\n\r\n1) Service method returns Optional value or throws Exception which can be handled in Controller using ControllerAdvice.\r\n\r\n2) Service returns Optional and Controller deals with it (return value if present or handle exception, or maybe just do something else).\r\n\r\nI know that using exceptions for such simple situations is not best practice, probably you may suggest other ways of letting client know that id is wrong.\r\n\r\nMethod in RestController currently:\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public FilmGetDto getFilm(@PathVariable int id) {\r\n        return filmService.getFilm(id);\r\n    }\r\n\r\n","title":"Best use of Optionals in RestAPI Spring application","body":"<p>I am kind of confused about the way I should design repository -&gt; service -&gt; controller communication using Optionals in my RestAPI Spring app.\nFor instance, client wants to find film by id, but film is not present and repository returns empty Optional. I have two ways of dealing with it:</p>\n<ol>\n<li><p>Service method returns Optional value or throws Exception which can be handled in Controller using ControllerAdvice.</p>\n</li>\n<li><p>Service returns Optional and Controller deals with it (return value if present or handle exception, or maybe just do something else).</p>\n</li>\n</ol>\n<p>I know that using exceptions for such simple situations is not best practice, probably you may suggest other ways of letting client know that id is wrong.</p>\n<p>Method in RestController currently:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic FilmGetDto getFilm(@PathVariable int id) {\n    return filmService.getFilm(id);\n}\n</code></pre>\n"},{"tags":["java","multithreading","timer"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635511821,"post_id":69769064,"comment_id":123324860,"body_markdown":"Do you run timer function each time a click occurs in a button for example ?","body":"Do you run timer function each time a click occurs in a button for example ?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1635512272,"post_id":69769064,"comment_id":123325065,"body_markdown":"Don‚Äôt spawn threads uncontrolled. Use an executorservice","body":"Don‚Äôt spawn threads uncontrolled. Use an executorservice"},{"owner":{"account_id":19653667,"reputation":21,"user_id":14386840,"display_name":"angryduck"},"score":0,"creation_date":1635512674,"post_id":69769064,"comment_id":123325252,"body_markdown":"Yes, that&#39;s right. When clicked, the function runs and operates normally after 10 seconds.","body":"Yes, that&#39;s right. When clicked, the function runs and operates normally after 10 seconds."}],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635513379,"creation_date":1635512891,"answer_id":69769431,"question_id":69769064,"body_markdown":"Using Thread is not a good idea for your use case, use `TimerTask` and `java.util.Timer`\r\n```\r\n// class wide variables\r\nTimerTask timerTask;\r\nTimer timer = new Timer(&quot;myTimer&quot;);\r\nint limitTimer = 10;\r\n\r\npublic TimerTask createTask() {\r\n    limitTimer = 10;\r\n    return new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Time&gt;&gt; &quot; + limitTime);\r\n            limitTime--;\r\n            if (limitTime &lt;= 0) {\r\n                cancel();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvoid click() {\r\n   if (timerTask != null) {\r\n      timerTask.cancel();\r\n   }\r\n\r\n   timerTask = createTask();\r\n   timer.scheduleAtFixedRate(timerTask, 0, 1000);\r\n}\r\n```\r\n\r\nWhen invoking click method, it&#39;ll cancel the old timer and starts a new one.\r\n\r\n**Note**: `limitTimer` variable is not thread safe, so if you update it somewhere else, it can lead to strange behavior.","title":"How do you handle duplicate calls of Java threads?","body":"<p>Using Thread is not a good idea for your use case, use <code>TimerTask</code> and <code>java.util.Timer</code></p>\n<pre><code>// class wide variables\nTimerTask timerTask;\nTimer timer = new Timer(&quot;myTimer&quot;);\nint limitTimer = 10;\n\npublic TimerTask createTask() {\n    limitTimer = 10;\n    return new TimerTask() {\n        @Override\n        public void run() {\n            System.out.println(&quot;Time&gt;&gt; &quot; + limitTime);\n            limitTime--;\n            if (limitTime &lt;= 0) {\n                cancel();\n            }\n        }\n    }\n}\n\nvoid click() {\n   if (timerTask != null) {\n      timerTask.cancel();\n   }\n\n   timerTask = createTask();\n   timer.scheduleAtFixedRate(timerTask, 0, 1000);\n}\n</code></pre>\n<p>When invoking click method, it'll cancel the old timer and starts a new one.</p>\n<p><strong>Note</strong>: <code>limitTimer</code> variable is not thread safe, so if you update it somewhere else, it can lead to strange behavior.</p>\n"}],"owner":{"account_id":19653667,"reputation":21,"user_id":14386840,"display_name":"angryduck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69769431,"answer_count":1,"score":1,"last_activity_date":1635529546,"creation_date":1635511306,"question_id":69769064,"body_markdown":"    private int limitTime = 10;\r\n\tvoid timer() {\r\n\t\tlimitTime = 10;\r\n\t\tThread thread = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\t\r\n\t\t\t\tstop = false;\r\n\t\t\t\twhile(!stop) {\r\n\t\t\t\t\tSystem.out.println(&quot;Time &gt;&gt; &quot; + limitTime);\r\n\t\t\t\t\t//Platform.runLater(()-&gt;{\r\n\t\t\t\t\t\tlbLimitTime.setText(Integer.toString(limitTime));\r\n\t\t\t\t\t\tlimitTime -= 1;\r\n\t\t\t\t\t//});\t\r\n\t\t\t\t\t\tif(limitTime &lt; 1) stop = true;\r\n\t\t\t\t\ttry { Thread.sleep(1000); } catch (InterruptedException e) {}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tthread.setDaemon(true);\r\n\t\tthread.start();\t\r\n\t}\r\n\r\nWe are creating **GUI** programs using **JavaFX**.\r\n\r\nI try to set a timer for 10 seconds every time I click.\r\n\r\nIf the timer function is duplicated by clicking 10 seconds before, the time goes twice as fast.\r\n\r\nWhat part do you think I don&#39;t understand?\r\n\r\nThe timer function is called whenever a click occurs.\r\n\r\nWhen a click occurs, I want to initialize the existing timer and flow normally for 1 second.","title":"How do you handle duplicate calls of Java threads?","body":"<pre><code>private int limitTime = 10;\nvoid timer() {\n    limitTime = 10;\n    Thread thread = new Thread() {\n        @Override\n        public void run() { \n            stop = false;\n            while(!stop) {\n                System.out.println(&quot;Time &gt;&gt; &quot; + limitTime);\n                //Platform.runLater(()-&gt;{\n                    lbLimitTime.setText(Integer.toString(limitTime));\n                    limitTime -= 1;\n                //});   \n                    if(limitTime &lt; 1) stop = true;\n                try { Thread.sleep(1000); } catch (InterruptedException e) {}\n            }\n        };\n    };\n    thread.setDaemon(true);\n    thread.start(); \n}\n</code></pre>\n<p>We are creating <strong>GUI</strong> programs using <strong>JavaFX</strong>.</p>\n<p>I try to set a timer for 10 seconds every time I click.</p>\n<p>If the timer function is duplicated by clicking 10 seconds before, the time goes twice as fast.</p>\n<p>What part do you think I don't understand?</p>\n<p>The timer function is called whenever a click occurs.</p>\n<p>When a click occurs, I want to initialize the existing timer and flow normally for 1 second.</p>\n"},{"tags":["java","android","gradle","android-studio"],"comments":[{"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"score":0,"creation_date":1377812325,"post_id":18520875,"comment_id":27237072,"body_markdown":"how do you compile ? using command line or built-in command ? Can you post the dependencies section of build.gradle ?","body":"how do you compile ? using command line or built-in command ? Can you post the dependencies section of build.gradle ?"},{"owner":{"account_id":1759084,"reputation":6013,"user_id":1606657,"accept_rate":80,"display_name":"wasp256"},"score":0,"creation_date":1377849783,"post_id":18520875,"comment_id":27247687,"body_markdown":"Updated the gradle file, and I&#39;m compiling with the build-in command","body":"Updated the gradle file, and I&#39;m compiling with the build-in command"}],"answers":[{"tags":[],"owner":{"account_id":203374,"reputation":47785,"user_id":450989,"display_name":"Grzegorz ≈ªur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1377850639,"creation_date":1377850324,"answer_id":18528035,"question_id":18520875,"body_markdown":"Change your dependencies like that\r\n\r\n    dependencies {\r\n       compile &#39;com.android.support:support-v4:13.0.+&#39;\r\n       compile &#39;org.beanshell:bsh:2.0b4&#39;\r\n    }\r\n\r\nYou can now remove manually downloaded dependencies in `libs` directory.\r\n\r\nWhat you did was adding libraries to Android Studio project only. You should always add them to Gradle build files as only this is interpreted by Android Build Tools.\r\n\r\nThere is also new version of build tools 18.0.1, you can install them and change version in you `build.gradle`. As far as I know they can handle `aar` dependencies better.","title":"Adding external .jar to androidstudio project","body":"<p>Change your dependencies like that</p>\n\n<pre><code>dependencies {\n   compile 'com.android.support:support-v4:13.0.+'\n   compile 'org.beanshell:bsh:2.0b4'\n}\n</code></pre>\n\n<p>You can now remove manually downloaded dependencies in <code>libs</code> directory.</p>\n\n<p>What you did was adding libraries to Android Studio project only. You should always add them to Gradle build files as only this is interpreted by Android Build Tools.</p>\n\n<p>There is also new version of build tools 18.0.1, you can install them and change version in you <code>build.gradle</code>. As far as I know they can handle <code>aar</code> dependencies better.</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1635529415,"creation_date":1393400551,"answer_id":22034898,"question_id":18520875,"body_markdown":"Try this...\r\n\r\n 1. Create libs folder under your application folder.\r\n 2. Add .jar files to libs folder.\r\n 3. Then add .jar files to app&#39;s build.gradle dependency.\r\n 4. Finally Sync project with Gradle files.\r\n\r\n\r\n \r\n**1.Create libs folder:**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n**2.Add .jar to libs folder:**\r\n\r\n![enter image description here][2]\r\n\r\n\r\n**3.Edit app&#39;s build.gradle dependency:**\r\n    \r\n\r\n - Open app/build.gradle\r\n\r\n\r\n\r\n![enter image description here][3]\r\n\r\n\r\n**4.Sync project with Gradle files:**\r\n\r\n - Finally add .jar files to your application.\r\n\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zFSgq.png\r\n  [2]: http://i.stack.imgur.com/CB7K4.png\r\n  [3]: http://i.stack.imgur.com/zbZPz.png\r\n  [4]: http://i.stack.imgur.com/4q29M.png","title":"Adding external .jar to androidstudio project","body":"<p>Try this...</p>\n<ol>\n<li>Create libs folder under your application folder.</li>\n<li>Add .jar files to libs folder.</li>\n<li>Then add .jar files to app's build.gradle dependency.</li>\n<li>Finally Sync project with Gradle files.</li>\n</ol>\n<p><strong>1.Create libs folder:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/zFSgq.png\" alt=\"enter image description here\" /></p>\n<p><strong>2.Add .jar to libs folder:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/CB7K4.png\" alt=\"enter image description here\" /></p>\n<p><strong>3.Edit app's build.gradle dependency:</strong></p>\n<ul>\n<li>Open app/build.gradle</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/zbZPz.png\" alt=\"enter image description here\" /></p>\n<p><strong>4.Sync project with Gradle files:</strong></p>\n<ul>\n<li>Finally add .jar files to your application.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/4q29M.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":1759084,"reputation":6013,"user_id":1606657,"accept_rate":80,"display_name":"wasp256"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10539,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":18528035,"answer_count":2,"score":4,"last_activity_date":1635529415,"creation_date":1377810004,"question_id":18520875,"body_markdown":"I&#39;ve added the external library `bsh-2.0b4.jar` to an android project in android-studio by going into `Project structure -&gt; Modules -&gt; myProject -&gt; Tab-Dependencies -&gt; + Sign` and then add the .jar file.\r\nI also tried to copy the file into the /libs directory and then rightclick in studio and `add as library...` (both methods independently!!). I inserted the following code as a test\r\n\r\n      import bsh.Interpreter;\r\n      ...\r\n      Interpreter interpreter = new Interpreter();\r\n      interpreter.eval(&quot;result = (7+21*6)/(32-27)&quot;);\r\n      return interpreter.get(&quot;result&quot;).toString();\r\n\r\nI compile with the buildin button in android.\r\nThe build.gradle looks like:\r\n\r\n      buildscript {\r\n        repositories {\r\n          mavenCentral()\r\n        }\r\n        dependencies {\r\n         classpath &#39;com.android.tools.build:gradle:0.5.+&#39;\r\n        }\r\n      }\r\n      apply plugin: &#39;android&#39;\r\n\r\n      repositories {\r\n        mavenCentral()\r\n      }\r\n\r\n      android {\r\n         compileSdkVersion 17\r\n         buildToolsVersion &quot;17.0.0&quot;\r\n\r\n         defaultConfig {\r\n            minSdkVersion 9\r\n            targetSdkVersion 17\r\n         }\r\n      }\r\n\r\n      dependencies {\r\n         compile &#39;com.android.support:support-v4:13.0.+&#39;\r\n      }\r\n\r\n\r\nBut when I compile everything I receive the error\r\n\r\n\r\n      Gradle: error: package bsh does not exist\r\n      Gradle: error: cannot find symbol class Interpreter\r\n\r\nCan anyone help me pls?\r\n      ","title":"Adding external .jar to androidstudio project","body":"<p>I've added the external library <code>bsh-2.0b4.jar</code> to an android project in android-studio by going into <code>Project structure -&gt; Modules -&gt; myProject -&gt; Tab-Dependencies -&gt; + Sign</code> and then add the .jar file.\nI also tried to copy the file into the /libs directory and then rightclick in studio and <code>add as library...</code> (both methods independently!!). I inserted the following code as a test</p>\n\n<pre><code>  import bsh.Interpreter;\n  ...\n  Interpreter interpreter = new Interpreter();\n  interpreter.eval(\"result = (7+21*6)/(32-27)\");\n  return interpreter.get(\"result\").toString();\n</code></pre>\n\n<p>I compile with the buildin button in android.\nThe build.gradle looks like:</p>\n\n<pre><code>  buildscript {\n    repositories {\n      mavenCentral()\n    }\n    dependencies {\n     classpath 'com.android.tools.build:gradle:0.5.+'\n    }\n  }\n  apply plugin: 'android'\n\n  repositories {\n    mavenCentral()\n  }\n\n  android {\n     compileSdkVersion 17\n     buildToolsVersion \"17.0.0\"\n\n     defaultConfig {\n        minSdkVersion 9\n        targetSdkVersion 17\n     }\n  }\n\n  dependencies {\n     compile 'com.android.support:support-v4:13.0.+'\n  }\n</code></pre>\n\n<p>But when I compile everything I receive the error</p>\n\n<pre><code>  Gradle: error: package bsh does not exist\n  Gradle: error: cannot find symbol class Interpreter\n</code></pre>\n\n<p>Can anyone help me pls?</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":2,"creation_date":1394295746,"post_id":22271693,"comment_id":33831078,"body_markdown":"`lid==&quot;1&quot;` - you cannot compare `String` contents using the equality operator.  `==` tests whether two objects are the same object.  Use `equals()` instead (and consider doing some basic Java tutorials).  Through string interning, `lid==&quot;1&quot;` **might** be true sometimes, but you have no control over that.  BTW, if you learned how to use the debugger, you would find that in seconds.","body":"<code>lid==&quot;1&quot;</code> - you cannot compare <code>String</code> contents using the equality operator.  <code>==</code> tests whether two objects are the same object.  Use <code>equals()</code> instead (and consider doing some basic Java tutorials).  Through string interning, <code>lid==&quot;1&quot;</code> <b>might</b> be true sometimes, but you have no control over that.  BTW, if you learned how to use the debugger, you would find that in seconds."}],"answers":[{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394297948,"creation_date":1394297948,"answer_id":22272270,"question_id":22271693,"body_markdown":"I guess, You had been called the same URL value like (&quot;a url&quot;). If yes, try to load different URLs in the web view. \r\n\r\nIf not, do the following changes in your code,\r\n\r\n - Put break points to debug your code where you get EditText value.\r\n\r\n    String lid = idbox.getText().toString(); //check lid is **null** or **not** \r\n\r\n  \r\n    \r\n - Change the if condition like this,\r\n\r\n    if(lid.equalsIgnoreCase(&quot;1&quot;))\r\n       {\r\n       //task for rendering web page\r\n       }\r\n\r\n - Check your custom view client class.\r\n\r\n","title":"Can you please help me with this code?","body":"<p>I guess, You had been called the same URL value like (\"a url\"). If yes, try to load different URLs in the web view. </p>\n\n<p>If not, do the following changes in your code,</p>\n\n<ul>\n<li><p>Put break points to debug your code where you get EditText value.</p>\n\n<p>String lid = idbox.getText().toString(); //check lid is <strong>null</strong> or <strong>not</strong> </p></li>\n<li><p>Change the if condition like this,</p>\n\n<p>if(lid.equalsIgnoreCase(\"1\"))\n   {\n   //task for rendering web page\n   }</p></li>\n<li><p>Check your custom view client class.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635529362,"creation_date":1394303732,"answer_id":22273411,"question_id":22271693,"body_markdown":"Never mind, **You written onClick() method definition is wrongly!** \r\n\r\nI confused because,\r\n\r\n - Have you been adding the onclick(**android:onClick=&quot;onClick&quot;**) function for button in xml. \r\n\r\n   In spite of I did some bit changes in your code,\r\n\r\n**activity_main.xml:**\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:weightSum=&quot;2&quot; &gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/urlValue&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;2dp&quot;\r\n            android:layout_weight=&quot;1.5&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/urlBtn&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;2dp&quot;\r\n            android:layout_weight=&quot;0.5&quot; \r\n            android:text=&quot;load&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/webView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n**MainActivity.java:**\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n    private EditText getUrlValue;\r\n    private Button loadUrl;\r\n    private WebView webView;\r\n    String loadId = &quot;&quot;;\r\n    String URL_ONE = &quot;a_url&quot;;\r\n    String URL_TWO = &quot;b_url&quot;;\r\n    String URL_THREE = &quot;c_url&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        getUrlValue = (EditText)findViewById(R.id.urlValue);\r\n        loadUrl = (Button)findViewById(R.id.urlBtn);\r\n        webView = (WebView)findViewById(R.id.webView);\r\n        \r\n        //initial view for webView\r\n        getUrlValue.setText(&quot;1&quot;); //here web page will load first url= &quot;a url&quot;\r\n        \r\n        webView.setWebViewClient(new OurViewClient());\r\n        \r\n        //onClick Event for load url button\r\n        loadUrl.setOnClickListener(new View.OnClickListener() {\r\n            \r\n            @Override\r\n            public void onClick(View v) {\r\n            \r\n                loadId = getUrlValue.getText().toString();\r\n                if(loadId.equalsIgnoreCase(&quot;1&quot;)){\r\n                    try{\r\n                        \r\n                        webView.loadUrl(URL_ONE);\r\n                        }catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n                }\r\n                else if(loadId.equalsIgnoreCase(&quot;2&quot;)){\r\n                    try{\r\n                        webView.loadUrl(URL_TWO);\r\n                        }catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n                    \r\n                }\r\n                else{\r\n                    try{\r\n                        webView.loadUrl(URL_THREE);\r\n                        }catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n               }\r\n            }\r\n           });\r\n            \r\n        }\r\n     }\r\n\r\n - remember to add internet permission in the manifest xml file.","title":"Can you please help me with this code?","body":"<p>Never mind, <strong>You written onClick() method definition is wrongly!</strong></p>\n<p>I confused because,</p>\n<ul>\n<li><p>Have you been adding the onclick(<strong>android:onClick=&quot;onClick&quot;</strong>) function for button in xml.</p>\n<p>In spite of I did some bit changes in your code,</p>\n</li>\n</ul>\n<p><strong>activity_main.xml:</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\ntools:context=&quot;.MainActivity&quot; &gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:weightSum=&quot;2&quot; &gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/urlValue&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;2dp&quot;\n        android:layout_weight=&quot;1.5&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/urlBtn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;2dp&quot;\n        android:layout_weight=&quot;0.5&quot; \n        android:text=&quot;load&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>public class MainActivity extends Activity {\n\nprivate EditText getUrlValue;\nprivate Button loadUrl;\nprivate WebView webView;\nString loadId = &quot;&quot;;\nString URL_ONE = &quot;a_url&quot;;\nString URL_TWO = &quot;b_url&quot;;\nString URL_THREE = &quot;c_url&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    \n    getUrlValue = (EditText)findViewById(R.id.urlValue);\n    loadUrl = (Button)findViewById(R.id.urlBtn);\n    webView = (WebView)findViewById(R.id.webView);\n    \n    //initial view for webView\n    getUrlValue.setText(&quot;1&quot;); //here web page will load first url= &quot;a url&quot;\n    \n    webView.setWebViewClient(new OurViewClient());\n    \n    //onClick Event for load url button\n    loadUrl.setOnClickListener(new View.OnClickListener() {\n        \n        @Override\n        public void onClick(View v) {\n        \n            loadId = getUrlValue.getText().toString();\n            if(loadId.equalsIgnoreCase(&quot;1&quot;)){\n                try{\n                    \n                    webView.loadUrl(URL_ONE);\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n            }\n            else if(loadId.equalsIgnoreCase(&quot;2&quot;)){\n                try{\n                    webView.loadUrl(URL_TWO);\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n                \n            }\n            else{\n                try{\n                    webView.loadUrl(URL_THREE);\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n           }\n        }\n       });\n        \n    }\n }\n</code></pre>\n<ul>\n<li>remember to add internet permission in the manifest xml file.</li>\n</ul>\n"}],"owner":{"account_id":4138749,"reputation":1,"user_id":3394718,"display_name":"user3394718"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635529362,"creation_date":1394294896,"question_id":22271693,"body_markdown":"\r\nThe problem: When I Type a ID and press the button, it will not load the ID&#39;s webpage...\r\n\r\n&quot;a url&quot; is the website page i&#39;m trying to create, (Hidden for number of reasons)\r\n\r\nIt should be working, it loads the first site, but when I try to call for the IDs, the WebView does not change... Can someone please help me? -Thanks, JG1\r\n\r\n\r\nMy code: \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        wv.setWebViewClient(new OurViewClient());\r\n        wv.getSettings().setJavaScriptEnabled(true);\r\n        try {\r\n            String url = &quot;a url&quot;;\r\n            wv.loadUrl(url);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        String lid = &quot;0&quot;;\r\n\r\n        //Clicking button changes to the color\r\n\r\n    }\r\n\r\n    final EditText idbox = (EditText) findViewById(R.id.editText1);\r\n    final Button idbutton = (Button) findViewById(R.id.idbtn);\r\n    final WebView wv = (WebView) findViewById(R.id.webView1);\r\n\r\n    public void onClick(View v) {\r\n        idbutton.setOnClickListener(new OnClickListener() {\r\n            public void onClick(View v) {\r\n                String lid = idbox.getText().toString();\r\n                if (lid == &quot;1&quot;) {\r\n                    wv.setWebViewClient(new OurViewClient());\r\n                    try {\r\n                        String urla = &quot;a url&quot;;\r\n                        wv.loadUrl(urla);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                if (lid == &quot;2&quot;) {\r\n                    wv.setWebViewClient(new OurViewClient());\r\n                    try {\r\n                        String urlb = &quot;a url&quot;;\r\n                        wv.loadUrl(urlb);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                if (lid == &quot;3&quot;) {\r\n                    wv.setWebViewClient(new OurViewClient());\r\n                    try {\r\n                        String urlc = &quot;a url&quot;;\r\n                        wv.loadUrl(urlc);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }","title":"Can you please help me with this code?","body":"<p>The problem: When I Type a ID and press the button, it will not load the ID's webpage...</p>\n\n<p>\"a url\" is the website page i'm trying to create, (Hidden for number of reasons)</p>\n\n<p>It should be working, it loads the first site, but when I try to call for the IDs, the WebView does not change... Can someone please help me? -Thanks, JG1</p>\n\n<p>My code: </p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    wv.setWebViewClient(new OurViewClient());\n    wv.getSettings().setJavaScriptEnabled(true);\n    try {\n        String url = \"a url\";\n        wv.loadUrl(url);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    String lid = \"0\";\n\n    //Clicking button changes to the color\n\n}\n\nfinal EditText idbox = (EditText) findViewById(R.id.editText1);\nfinal Button idbutton = (Button) findViewById(R.id.idbtn);\nfinal WebView wv = (WebView) findViewById(R.id.webView1);\n\npublic void onClick(View v) {\n    idbutton.setOnClickListener(new OnClickListener() {\n        public void onClick(View v) {\n            String lid = idbox.getText().toString();\n            if (lid == \"1\") {\n                wv.setWebViewClient(new OurViewClient());\n                try {\n                    String urla = \"a url\";\n                    wv.loadUrl(urla);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n            if (lid == \"2\") {\n                wv.setWebViewClient(new OurViewClient());\n                try {\n                    String urlb = \"a url\";\n                    wv.loadUrl(urlb);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n            if (lid == \"3\") {\n                wv.setWebViewClient(new OurViewClient());\n                try {\n                    String urlc = \"a url\";\n                    wv.loadUrl(urlc);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635467164,"post_id":69761451,"comment_id":123313089,"body_markdown":"PDF has nothing to do with this. They aren&#39;t special.","body":"PDF has nothing to do with this. They aren&#39;t special."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1635467269,"post_id":69761451,"comment_id":123313109,"body_markdown":"You&#39;ve probably messed up. The code as pasted wouldn&#39;t compile (I notice a missing closing paren on the `.putNextEntry` line). Question not answerable if the code that causes the problem isn&#39;t actually in your question.","body":"You&#39;ve probably messed up. The code as pasted wouldn&#39;t compile (I notice a missing closing paren on the <code>.putNextEntry</code> line). Question not answerable if the code that causes the problem isn&#39;t actually in your question."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1635468653,"post_id":69761451,"comment_id":123313339,"body_markdown":"Instead of writing your own loop for copying a file, use [Files.copy](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)).  I don‚Äôt know for certain whether that‚Äôs the cause of your problem, but using Files.copy can at least reduce the possible culprits.","body":"Instead of writing your own loop for copying a file, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)\" rel=\"nofollow noreferrer\">Files.copy</a>.  I don‚Äôt know for certain whether that‚Äôs the cause of your problem, but using Files.copy can at least reduce the possible culprits."}],"answers":[{"tags":[],"owner":{"account_id":335360,"reputation":149,"user_id":662417,"accept_rate":78,"display_name":"user662417"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635528572,"creation_date":1635528572,"answer_id":69772749,"question_id":69761451,"body_markdown":"This issue is resolved now. In the previous loop where I was creating the pdf files, the output stream was not closed and hence it was causing issue.","title":"Zipping pdf files and downloading is giving corrupted file in java","body":"<p>This issue is resolved now. In the previous loop where I was creating the pdf files, the output stream was not closed and hence it was causing issue.</p>\n"}],"owner":{"account_id":335360,"reputation":149,"user_id":662417,"accept_rate":78,"display_name":"user662417"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69772749,"answer_count":1,"score":-1,"last_activity_date":1635528572,"creation_date":1635458549,"question_id":69761451,"body_markdown":"I have tried this code for other files like .txt and excel files and they all are working fine. Same code if I use for pdf files, it will not show any error but when the file is downloaded, the zip folder will be corrupted. Is there any separate reading and writing process for pdf files? \r\n\r\n                       //create byte buffer\r\n                        byte[] buffer = new byte[1024];\r\n                        ZipOutputStream zout = new \r\n                        ZipOutputStream(response.getOutputStream());\r\n                        Files[] files = new File(location).listFiles();\r\n                        for(File pdfFile: files)\r\n                                {\r\n                                       FileInputStream fin = new FileInputStream(pdfFile);\r\n                                       zout.putNextEntry(new ZipEntry(pdfFile);\r\n                                       int length;\r\n                                       while((length = fin.read(buffer)) &gt; 0)\r\n                                        {\r\n                                           zout.write(buffer, 0, length);\r\n                                        }\r\n                                zout.closeEntry();\r\n                                fin.close();\r\n                                }\r\n                     zout.close();\r\n                        \r\n                ","title":"Zipping pdf files and downloading is giving corrupted file in java","body":"<p>I have tried this code for other files like .txt and excel files and they all are working fine. Same code if I use for pdf files, it will not show any error but when the file is downloaded, the zip folder will be corrupted. Is there any separate reading and writing process for pdf files?</p>\n<pre><code>                   //create byte buffer\n                    byte[] buffer = new byte[1024];\n                    ZipOutputStream zout = new \n                    ZipOutputStream(response.getOutputStream());\n                    Files[] files = new File(location).listFiles();\n                    for(File pdfFile: files)\n                            {\n                                   FileInputStream fin = new FileInputStream(pdfFile);\n                                   zout.putNextEntry(new ZipEntry(pdfFile);\n                                   int length;\n                                   while((length = fin.read(buffer)) &gt; 0)\n                                    {\n                                       zout.write(buffer, 0, length);\n                                    }\n                            zout.closeEntry();\n                            fin.close();\n                            }\n                 zout.close();\n                    \n            \n</code></pre>\n"},{"tags":["java","android","epoch"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1332027491,"creation_date":1332025870,"answer_id":9754618,"question_id":9754600,"body_markdown":"You&#39;d create a `Date` from the `long` - that&#39;s easy:\r\n\r\n    Date date = new Date(epochTime);\r\n\r\nNote that `epochTime` here ought to be in milliseconds since the epoch - if you&#39;ve got *seconds* since the epoch, multiply by 1000.\r\n\r\nThen you&#39;d create a `SimpleDateFormat` specifying the relevant pattern, culture and time zone. For example:\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.US);\r\n    format.setTimeZone(...);\r\n\r\nThen use that to format the date to a string:\r\n\r\n    String text = format.format(date);","title":"Converting Epoch time to date string","body":"<p>You'd create a <code>Date</code> from the <code>long</code> - that's easy:</p>\n\n<pre><code>Date date = new Date(epochTime);\n</code></pre>\n\n<p>Note that <code>epochTime</code> here ought to be in milliseconds since the epoch - if you've got <em>seconds</em> since the epoch, multiply by 1000.</p>\n\n<p>Then you'd create a <code>SimpleDateFormat</code> specifying the relevant pattern, culture and time zone. For example:</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"dd/MM/yyyy\", Locale.US);\nformat.setTimeZone(...);\n</code></pre>\n\n<p>Then use that to format the date to a string:</p>\n\n<pre><code>String text = format.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552891,"reputation":3634,"user_id":878519,"accept_rate":90,"display_name":"Reinard"},"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1410942987,"creation_date":1332025939,"answer_id":9754625,"question_id":9754600,"body_markdown":"Look into [SimpleDateFormat][1]\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    sdf.format(new Date(myTimeAsLong));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html?is-external=true","title":"Converting Epoch time to date string","body":"<p>Look into <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html?is-external=true\">SimpleDateFormat</a></p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\nsdf.format(new Date(myTimeAsLong));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266938,"reputation":1228,"user_id":554801,"accept_rate":100,"display_name":"Ajibola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386177560,"creation_date":1332026824,"answer_id":9754710,"question_id":9754600,"body_markdown":"You need to be aware that epoch time in java is in milliseconds, while what you are converting may be in seconds. Ensure that both sides of the conversions are in milliseconds, and then you can fetch the date parameters from the Date object.","title":"Converting Epoch time to date string","body":"<p>You need to be aware that epoch time in java is in milliseconds, while what you are converting may be in seconds. Ensure that both sides of the conversions are in milliseconds, and then you can fetch the date parameters from the Date object.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414538664,"creation_date":1404197788,"answer_id":24504143,"question_id":9754600,"body_markdown":"# Joda-Time\r\n\r\nIf by epoch time you meant a count of milliseconds since first moment of 1970 in UTC, then here is some example code using the Joda-Time library‚Ä¶\r\n\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;Europe/Paris&quot; );\r\n    DateTime dateTime = new DateTime( yourMilliseconds, timeZone );\r\n    String output = DateTimeFormat.forStyle( &quot;S-&quot; ).withLocale( Locale.CANADA_FRENCH ).print( dateTime );\r\n\r\n# Other Epochs\r\n\r\nThat definition of epoch is common because of its use within Unix. But be aware that at least a [couple dozen epoch definitions][1] are used by various computer systems.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Epoch_(reference_date)#Notable_epoch_dates_in_computing","title":"Converting Epoch time to date string","body":"<h1>Joda-Time</h1>\n\n<p>If by epoch time you meant a count of milliseconds since first moment of 1970 in UTC, then here is some example code using the Joda-Time library‚Ä¶</p>\n\n<pre><code>DateTimeZone timeZone = DateTimeZone.forID( \"Europe/Paris\" );\nDateTime dateTime = new DateTime( yourMilliseconds, timeZone );\nString output = DateTimeFormat.forStyle( \"S-\" ).withLocale( Locale.CANADA_FRENCH ).print( dateTime );\n</code></pre>\n\n<h1>Other Epochs</h1>\n\n<p>That definition of epoch is common because of its use within Unix. But be aware that at least a <a href=\"https://en.wikipedia.org/wiki/Epoch_(reference_date)#Notable_epoch_dates_in_computing\" rel=\"nofollow\">couple dozen epoch definitions</a> are used by various computer systems.</p>\n"},{"tags":[],"owner":{"account_id":393010,"reputation":4140,"user_id":754625,"accept_rate":44,"display_name":"Damith Ganegoda"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1457504493,"creation_date":1406178658,"answer_id":24925567,"question_id":9754600,"body_markdown":"    Date date = new Date(String); \r\nthis is deprecated.\r\n\r\nsolution\r\n\r\n      Date date = new Date(1406178443 * 1000L);\r\n      DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n      format.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n      String formatted = format.format(date);\r\n\r\nmake sure multiply by 1000L","title":"Converting Epoch time to date string","body":"<pre><code>Date date = new Date(String); \n</code></pre>\n\n<p>this is deprecated.</p>\n\n<p>solution</p>\n\n<pre><code>  Date date = new Date(1406178443 * 1000L);\n  DateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\");\n  format.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n  String formatted = format.format(date);\n</code></pre>\n\n<p>make sure multiply by 1000L</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1635528557,"creation_date":1414513418,"answer_id":26613416,"question_id":9754600,"body_markdown":"Try this...\r\n\r\nsample Epoch timestamp is 1414492391238\r\n\r\n**Method:**\r\n\r\n    public static String GetHumanReadableDate(long epochSec, String dateFormatStr) {\r\n\t\tDate date = new Date(epochSec * 1000);\r\n\t\tSimpleDateFormat format = new SimpleDateFormat(dateFormatStr,\r\n\t\t\t\tLocale.getDefault());\r\n\t\treturn format.format(date);\r\n\t}\r\n\r\n**Usability:**\r\n\r\n    long timestamp = Long.parseLong(engTime) / 1000;\r\n\tString engTime_ = GetHumanReadableDate(timestamp, &quot;dd-MM-yyyy HH:mm:ss aa&quot;);\r\n\r\n**Result:**\r\n\r\n 28-10-2014 16:03:11 pm","title":"Converting Epoch time to date string","body":"<p>Try this...</p>\n<p>sample Epoch timestamp is 1414492391238</p>\n<p><strong>Method:</strong></p>\n<pre><code>public static String GetHumanReadableDate(long epochSec, String dateFormatStr) {\n    Date date = new Date(epochSec * 1000);\n    SimpleDateFormat format = new SimpleDateFormat(dateFormatStr,\n            Locale.getDefault());\n    return format.format(date);\n}\n</code></pre>\n<p><strong>Usability:</strong></p>\n<pre><code>long timestamp = Long.parseLong(engTime) / 1000;\nString engTime_ = GetHumanReadableDate(timestamp, &quot;dd-MM-yyyy HH:mm:ss aa&quot;);\n</code></pre>\n<p><strong>Result:</strong></p>\n<p>28-10-2014 16:03:11 pm</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613493641,"creation_date":1458515845,"answer_id":36120833,"question_id":9754600,"body_markdown":"If the method should be portable, better use the default (local time) `TimeZone.getDefault()`:\r\n    \r\n    String epochToIso8601(long time) {\r\n        String format = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n        SimpleDateFormat sdf = new SimpleDateFormat(format, Locale.getDefault());\r\n        sdf.setTimeZone(TimeZone.getDefault());\r\n        return sdf.format(new Date(time * 1000));\r\n\t}","title":"Converting Epoch time to date string","body":"<p>If the method should be portable, better use the default (local time) <code>TimeZone.getDefault()</code>:</p>\n<pre><code>String epochToIso8601(long time) {\n    String format = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n    SimpleDateFormat sdf = new SimpleDateFormat(format, Locale.getDefault());\n    sdf.setTimeZone(TimeZone.getDefault());\n    return sdf.format(new Date(time * 1000));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8485787,"reputation":4528,"user_id":6363952,"accept_rate":50,"display_name":"Charitha Goonewardena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476129368,"creation_date":1476129368,"answer_id":39965806,"question_id":9754600,"body_markdown":"try this\r\n\r\n    Date date = new Date(1476126532838L);\r\n    DateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n    String formatted = format.format(date);\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;));//your zone\r\n    formatted = format.format(date);\r\n    System.out.println(formatted);","title":"Converting Epoch time to date string","body":"<p>try this</p>\n\n<pre><code>Date date = new Date(1476126532838L);\nDateFormat format = new SimpleDateFormat(\"dd/MM/yyyy HH:mm:ss\");\nformat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\nString formatted = format.format(date);\nformat.setTimeZone(TimeZone.getTimeZone(\"Asia/Colombo\"));//your zone\nformatted = format.format(date);\nSystem.out.println(formatted);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550049716,"creation_date":1550049716,"answer_id":54666535,"question_id":9754600,"body_markdown":"Time for someone to provide the modern answer (valid and recommended since 2014).\r\n\r\n## java.time\r\n\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter\r\n\t\t\t\t.ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.US);\r\n\t\t\r\n\t\tString facebookTime = &quot;1548410106047&quot;;\r\n\t\tlong fbt = Long.parseLong(facebookTime);\r\n\t\tZonedDateTime dateTime = Instant.ofEpochMilli(fbt).atZone(ZoneId.of(&quot;America/Indiana/Knox&quot;));\r\n\t\tSystem.out.println(dateTime.format(formatter));\r\n\r\nThe output is:\r\n\r\n&gt; January 25, 2019 at 3:55:06 AM CST\r\n\r\nIf you wanted only the date and in a shorter format, use for example\r\n\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter\r\n\t\t\t\t.ofLocalizedDate(FormatStyle.SHORT).withLocale(Locale.US);\r\n\r\n&gt; 1/25/19\r\n\r\nNote how the snippet allows you to specify time zone, language (locale) and how long or short of a format you want.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - My example string was taken from [this duplicate question](https://stackoverflow.com/questions/54664956/converting-the-timestamp-from-facebook-data-after-downloading-messages-in-json-f)","title":"Converting Epoch time to date string","body":"<p>Time for someone to provide the modern answer (valid and recommended since 2014).</p>\n\n<h2>java.time</h2>\n\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter\n            .ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.US);\n\n    String facebookTime = \"1548410106047\";\n    long fbt = Long.parseLong(facebookTime);\n    ZonedDateTime dateTime = Instant.ofEpochMilli(fbt).atZone(ZoneId.of(\"America/Indiana/Knox\"));\n    System.out.println(dateTime.format(formatter));\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>January 25, 2019 at 3:55:06 AM CST</p>\n</blockquote>\n\n<p>If you wanted only the date and in a shorter format, use for example</p>\n\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter\n            .ofLocalizedDate(FormatStyle.SHORT).withLocale(Locale.US);\n</code></pre>\n\n<blockquote>\n  <p>1/25/19</p>\n</blockquote>\n\n<p>Note how the snippet allows you to specify time zone, language (locale) and how long or short of a format you want.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li>My example string was taken from <a href=\"https://stackoverflow.com/questions/54664956/converting-the-timestamp-from-facebook-data-after-downloading-messages-in-json-f\">this duplicate question</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15779260,"reputation":1,"user_id":11386170,"display_name":"Ali Musa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555718214,"creation_date":1555715587,"answer_id":55768800,"question_id":9754600,"body_markdown":"ArLiteDTMConv Utility help converting EPOUCH-UNIX Date-Time values, Form EPOUCH-UNIX-To-Date-format and Vise-Versa. You can set the result to a variable and then use the variable in your script or when passing as parameter or introduce in any DB criteria for both Window and Linux. (Download a zip file on this link)\r\n\r\n  [1]: https://communities.bmc.com/docs/DOC-111256","title":"Converting Epoch time to date string","body":"<p>ArLiteDTMConv Utility help converting EPOUCH-UNIX Date-Time values, Form EPOUCH-UNIX-To-Date-format and Vise-Versa. You can set the result to a variable and then use the variable in your script or when passing as parameter or introduce in any DB criteria for both Window and Linux. (Download a zip file on this link)</p>\n"}],"owner":{"account_id":1291932,"reputation":797,"user_id":1243862,"accept_rate":61,"display_name":"nexus490"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113366,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":9754625,"answer_count":10,"score":33,"last_activity_date":1635528557,"creation_date":1332025705,"question_id":9754600,"body_markdown":"I have seen this question asked multiple times and none of the answers seem to be what i need.\r\n\r\nI have a long type variable which has an epoch time stored in it.\r\n\r\nWhat i want to do is convert it to a String\r\n\r\nfor example if the epoch time stored was for today the final string would read:\r\n\r\n17/03/2012\r\n\r\nHow would i to this?","title":"Converting Epoch time to date string","body":"<p>I have seen this question asked multiple times and none of the answers seem to be what i need.</p>\n\n<p>I have a long type variable which has an epoch time stored in it.</p>\n\n<p>What i want to do is convert it to a String</p>\n\n<p>for example if the epoch time stored was for today the final string would read:</p>\n\n<p>17/03/2012</p>\n\n<p>How would i to this?</p>\n"},{"tags":["java","android","xml","android-edittext"],"comments":[{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1517461042,"post_id":48555599,"comment_id":84107305,"body_markdown":"your question is about edit text while you have posted code for textview ?","body":"your question is about edit text while you have posted code for textview ?"},{"owner":{"account_id":12558546,"reputation":127,"user_id":9137241,"accept_rate":45,"display_name":"EquiWare"},"score":0,"creation_date":1517461111,"post_id":48555599,"comment_id":84107326,"body_markdown":"i realized that afterwards","body":"i realized that afterwards"}],"answers":[{"tags":[],"owner":{"account_id":12558546,"reputation":127,"user_id":9137241,"accept_rate":45,"display_name":"EquiWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517461177,"creation_date":1517461084,"answer_id":48555630,"question_id":48555599,"body_markdown":"The padding in the background was stopping me from doing this so in `android:paddingLeft = 10dp` is the correct not in the layoutXML file rather the background","title":"EditText with permanent indent at start","body":"<p>The padding in the background was stopping me from doing this so in <code>android:paddingLeft = 10dp</code> is the correct not in the layoutXML file rather the background</p>\n"},{"tags":[],"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517461808,"creation_date":1517461808,"answer_id":48555758,"question_id":48555599,"body_markdown":"Remove padding from background.xml\r\n\r\nuse `paddingLeft=&quot;10dp&quot;`\r\n\r\nin Edittext","title":"EditText with permanent indent at start","body":"<p>Remove padding from background.xml</p>\n\n<p>use <code>paddingLeft=\"10dp\"</code></p>\n\n<p>in Edittext</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635528534,"creation_date":1517462903,"answer_id":48555916,"question_id":48555599,"body_markdown":"Try this...\r\n\r\nno need to set fixed height and width for edittext here.\r\n\r\n**.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n      &lt;android.support.constraint.ConstraintLayout\r\n      xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n      xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      tools:context=&quot;com.silambarasan.test.MainActivity&quot;\r\n      &gt;\r\n\r\n      &lt;EditText \r\n        android:id=&quot;@+id/w_SearchBarFullScreen&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;32dp&quot;\r\n        android:layout_marginStart=&quot;32dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/web_search_bar&quot;\r\n        android:elevation=&quot;5dp&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:imeOptions=&quot;actionSearch&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        /&gt;\r\n     &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n**web_search_bar.xml (Drawable)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;solid android:color=&quot;#fff&quot; /&gt;\r\n      &lt;stroke\r\n         android:width=&quot;3dp&quot;\r\n         android:color=&quot;#e0e0e0&quot; /&gt;\r\n      &lt;corners\r\n         android:radius=&quot;15dp&quot;/&gt;\r\n      &lt;padding\r\n         android:left=&quot;15dp&quot;\r\n         android:top=&quot;15dp&quot;\r\n         android:right=&quot;15dp&quot;\r\n         android:bottom=&quot;15dp&quot; /&gt;\r\n    &lt;/shape&gt;\r\n\r\n**Result**:\r\n\r\n[![edittext][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I3BL1.png","title":"EditText with permanent indent at start","body":"<p>Try this...</p>\n<p>no need to set fixed height and width for edittext here.</p>\n<p><strong>.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;android.support.constraint.ConstraintLayout\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n  android:layout_width=&quot;match_parent&quot;\n  android:layout_height=&quot;match_parent&quot;\n  tools:context=&quot;com.silambarasan.test.MainActivity&quot;\n  &gt;\n\n  &lt;EditText \n    android:id=&quot;@+id/w_SearchBarFullScreen&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;8dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:background=&quot;@drawable/web_search_bar&quot;\n    android:elevation=&quot;5dp&quot;\n    android:focusable=&quot;true&quot;\n    android:imeOptions=&quot;actionSearch&quot;\n    android:inputType=&quot;text&quot;\n    android:maxLines=&quot;1&quot;\n    android:singleLine=&quot;true&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    /&gt;\n &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p><strong>web_search_bar.xml (Drawable)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;solid android:color=&quot;#fff&quot; /&gt;\n  &lt;stroke\n     android:width=&quot;3dp&quot;\n     android:color=&quot;#e0e0e0&quot; /&gt;\n  &lt;corners\n     android:radius=&quot;15dp&quot;/&gt;\n  &lt;padding\n     android:left=&quot;15dp&quot;\n     android:top=&quot;15dp&quot;\n     android:right=&quot;15dp&quot;\n     android:bottom=&quot;15dp&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<p><strong>Result</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/I3BL1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I3BL1.png\" alt=\"edittext\" /></a></p>\n"}],"owner":{"account_id":12558546,"reputation":127,"user_id":9137241,"accept_rate":45,"display_name":"EquiWare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48555630,"answer_count":3,"score":0,"last_activity_date":1635528534,"creation_date":1517460928,"question_id":48555599,"body_markdown":"My EditText has a background that makes it round and with a stroke of 3dp, I am trying to have a permanent indent implemented so that the text doesn&#39;t start in the stroke of the background. All ive come across is android: paddingStart/paddingEnd and I can not seem to get it to work. Is there any other way of achieving this programmatically or no? I would want it about 1dp past the stroke or maybe 3dp but I can&#39;t find a way to achieve this.\r\n\r\n\r\nxml\r\n\r\n        \r\n    &lt;EditText android:id=&quot;@+id/w_SearchBarFullScreen&quot;\r\n          xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n          android:layout_width=&quot;355dp&quot;\r\n          android:layout_height=&quot;40dp&quot;\r\n          android:layout_marginBottom=&quot;8dp&quot;\r\n          android:layout_marginTop=&quot;8dp&quot;\r\n          android:background=&quot;@drawable/web_search_bar&quot;\r\n          android:imeOptions=&quot;actionSearch&quot;\r\n          android:inputType=&quot;text&quot;\r\n          android:maxLines=&quot;1&quot;\r\n          android:singleLine=&quot;true&quot;\r\n          android:text=&quot;    &quot;\r\n          android:elevation=&quot;5dp&quot;\r\n          android:focusable=&quot;true&quot;/&gt;\r\n\r\nbackground xml\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;solid android:color=&quot;#fff&quot; /&gt;\r\n\r\n    &lt;stroke\r\n        android:width=&quot;3dp&quot;\r\n        android:color=&quot;#e0e0e0&quot; /&gt;\r\n    &lt;corners\r\n        android:radius=&quot;15dp&quot;/&gt;\r\n\r\n    &lt;padding\r\n        android:left=&quot;0dp&quot;\r\n        android:top=&quot;0dp&quot;\r\n        android:right=&quot;0dp&quot;\r\n        android:bottom=&quot;0dp&quot; /&gt;\r\n    &lt;/shape&gt;","title":"EditText with permanent indent at start","body":"<p>My EditText has a background that makes it round and with a stroke of 3dp, I am trying to have a permanent indent implemented so that the text doesn't start in the stroke of the background. All ive come across is android: paddingStart/paddingEnd and I can not seem to get it to work. Is there any other way of achieving this programmatically or no? I would want it about 1dp past the stroke or maybe 3dp but I can't find a way to achieve this.</p>\n\n<p>xml</p>\n\n<pre><code>&lt;EditText android:id=\"@+id/w_SearchBarFullScreen\"\n      xmlns:android=\"http://schemas.android.com/apk/res/android\" \n      android:layout_width=\"355dp\"\n      android:layout_height=\"40dp\"\n      android:layout_marginBottom=\"8dp\"\n      android:layout_marginTop=\"8dp\"\n      android:background=\"@drawable/web_search_bar\"\n      android:imeOptions=\"actionSearch\"\n      android:inputType=\"text\"\n      android:maxLines=\"1\"\n      android:singleLine=\"true\"\n      android:text=\"    \"\n      android:elevation=\"5dp\"\n      android:focusable=\"true\"/&gt;\n</code></pre>\n\n<p>background xml</p>\n\n<pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;solid android:color=\"#fff\" /&gt;\n\n&lt;stroke\n    android:width=\"3dp\"\n    android:color=\"#e0e0e0\" /&gt;\n&lt;corners\n    android:radius=\"15dp\"/&gt;\n\n&lt;padding\n    android:left=\"0dp\"\n    android:top=\"0dp\"\n    android:right=\"0dp\"\n    android:bottom=\"0dp\" /&gt;\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":["java","spring","kotlin","ldap","spring-ldap"],"comments":[{"owner":{"account_id":7442080,"reputation":304,"user_id":5659556,"display_name":"ParkerM"},"score":0,"creation_date":1642701266,"post_id":69770628,"comment_id":125147796,"body_markdown":"It would be helpful if you could post a stack trace of the thrown Exception.","body":"It would be helpful if you could post a stack trace of the thrown Exception."}],"answers":[{"tags":[],"owner":{"account_id":23050052,"reputation":84,"user_id":17167030,"display_name":"Vinayak Kamati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635528395,"creation_date":1635528395,"answer_id":69772711,"question_id":69770628,"body_markdown":"Check once your property name is the same or not as mentioned here. ` isTestOnBorrow = true`\r\n\r\n ```\r\n&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\r\n&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;\r\n\r\n```","title":"how to set up dirContextValidator?","body":"<p>Check once your property name is the same or not as mentioned here. <code> isTestOnBorrow = true</code></p>\n<pre><code>&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\n&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;\n\n</code></pre>\n"}],"owner":{"account_id":18295321,"reputation":101,"user_id":17280903,"display_name":"Venot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635528395,"creation_date":1635517925,"question_id":69770628,"body_markdown":"https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/pooling.html\r\n\r\n    open fun create(): LdapTemplate {\r\n            return LdapTemplate(PooledContextSource(\r\n                PoolConfig().apply {\r\n                    maxTotalPerKey = 10\r\n                    isTestOnBorrow = true\r\n                    isTestWhileIdle = true\r\n                    minEvictableIdleTimeMillis = timeToMillis\r\n                })\r\n                .apply {\r\n                    contextSource = ldapContextSourceFactory.create()\r\n                })\r\n                .apply {\r\n                    setIgnorePartialResultException(true)\r\n                    afterPropertiesSet()\r\n                }\r\n        }\r\n\r\nif add this \r\n\r\n    isTestOnBorrow = true\r\n    isTestWhileIdle = true  \r\n\r\ndoesn‚Äôt work\r\n\r\n    Failed to borrow DirContext from pool.; nested exception is java.util.NoSuchElementException: Unable to validate object\r\n\r\nhow to set up dirContextValidator ?\r\n","title":"how to set up dirContextValidator?","body":"<p><a href=\"https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/pooling.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/pooling.html</a></p>\n<pre><code>open fun create(): LdapTemplate {\n        return LdapTemplate(PooledContextSource(\n            PoolConfig().apply {\n                maxTotalPerKey = 10\n                isTestOnBorrow = true\n                isTestWhileIdle = true\n                minEvictableIdleTimeMillis = timeToMillis\n            })\n            .apply {\n                contextSource = ldapContextSourceFactory.create()\n            })\n            .apply {\n                setIgnorePartialResultException(true)\n                afterPropertiesSet()\n            }\n    }\n</code></pre>\n<p>if add this</p>\n<pre><code>isTestOnBorrow = true\nisTestWhileIdle = true  \n</code></pre>\n<p>doesn‚Äôt work</p>\n<pre><code>Failed to borrow DirContext from pool.; nested exception is java.util.NoSuchElementException: Unable to validate object\n</code></pre>\n<p>how to set up dirContextValidator ?</p>\n"},{"tags":["java","import","business-objects","business-objects-sdk"],"answers":[{"tags":[],"owner":{"account_id":1777799,"reputation":6787,"user_id":1621233,"accept_rate":25,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635506117,"creation_date":1635506117,"answer_id":69767947,"question_id":69764440,"body_markdown":"You&#39;ll need `rebean.wi.adapter.jar` and `cecore.jar`.  They are located in the following directory with BO client or server software is installed:\r\n`C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java\\lib`\r\n\r\nNote that these are not available publicly -- you will need to install the software.","title":"where to get java SDK for BusinessObjects","body":"<p>You'll need <code>rebean.wi.adapter.jar</code> and <code>cecore.jar</code>.  They are located in the following directory with BO client or server software is installed:\n<code>C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java\\lib</code></p>\n<p>Note that these are not available publicly -- you will need to install the software.</p>\n"}],"owner":{"account_id":22253733,"reputation":1,"user_id":16486208,"display_name":"Vita Yeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635528249,"creation_date":1635488305,"question_id":69764440,"body_markdown":"I want to import the packages, for example: \r\n\r\n    import java.io.PrintWriter;\r\n    import java.text.DateFormat;\r\n    import java.util.Date;\r\n\r\nthese packages have already existed so it doesn&#39;t pop up any error messages.\r\nWhen I want to import others packages:\r\n\r\n    import com.businessobjects.rebean.wi.DocumentInstance;\r\n    import com.businessobjects.rebean.wi.Prompt;\r\n    import com.businessobjects.rebean.wi.Prompts;\r\n    import com.businessobjects.rebean.wi.ReportEngine;\r\n    import com.businessobjects.rebean.wi.ReportEngines;\r\n    import com.crystaldecisions.enterprise.ocaframework.ServiceNames;\r\n    import com.crystaldecisions.sdk.exception.SDKException;\r\n    import com.crystaldecisions.sdk.framework.CrystalEnterprise;\r\n    import com.crystaldecisions.sdk.framework.IEnterpriseSession;\r\n    import com.crystaldecisions.sdk.framework.ISessionMgr;\r\n    import com.crystaldecisions.sdk.occa.infostore.IInfoObject;\r\n    import com.crystaldecisions.sdk.occa.infostore.IInfoObjects;\r\n    import com.crystaldecisions.sdk.occa.infostore.IInfoStore;\r\n    import com.crystaldecisions.sdk.plugin.desktop.folder.IFolder;\r\n\r\n\r\n\r\nIt will say &quot;the import cannot be resolved&quot;, but where I can get the jar files to resolve these problems?\r\n\r\nI tried to search these jar files in the java lib folder but was not able to get them.\r\n\r\nCan anyone tell the exact folder path for these jar files, if it is there?\r\nOr where can I download those packages.....\r\nI found the website (https://help.sap.com/doc/javadocs_bip_42/4.2/en-US/bip/en/com/crystaldecisions/sdk/exception/package-summary.html) but I still don&#39;t know how to import it......","title":"where to get java SDK for BusinessObjects","body":"<p>I want to import the packages, for example:</p>\n<pre><code>import java.io.PrintWriter;\nimport java.text.DateFormat;\nimport java.util.Date;\n</code></pre>\n<p>these packages have already existed so it doesn't pop up any error messages.\nWhen I want to import others packages:</p>\n<pre><code>import com.businessobjects.rebean.wi.DocumentInstance;\nimport com.businessobjects.rebean.wi.Prompt;\nimport com.businessobjects.rebean.wi.Prompts;\nimport com.businessobjects.rebean.wi.ReportEngine;\nimport com.businessobjects.rebean.wi.ReportEngines;\nimport com.crystaldecisions.enterprise.ocaframework.ServiceNames;\nimport com.crystaldecisions.sdk.exception.SDKException;\nimport com.crystaldecisions.sdk.framework.CrystalEnterprise;\nimport com.crystaldecisions.sdk.framework.IEnterpriseSession;\nimport com.crystaldecisions.sdk.framework.ISessionMgr;\nimport com.crystaldecisions.sdk.occa.infostore.IInfoObject;\nimport com.crystaldecisions.sdk.occa.infostore.IInfoObjects;\nimport com.crystaldecisions.sdk.occa.infostore.IInfoStore;\nimport com.crystaldecisions.sdk.plugin.desktop.folder.IFolder;\n</code></pre>\n<p>It will say &quot;the import cannot be resolved&quot;, but where I can get the jar files to resolve these problems?</p>\n<p>I tried to search these jar files in the java lib folder but was not able to get them.</p>\n<p>Can anyone tell the exact folder path for these jar files, if it is there?\nOr where can I download those packages.....\nI found the website (<a href=\"https://help.sap.com/doc/javadocs_bip_42/4.2/en-US/bip/en/com/crystaldecisions/sdk/exception/package-summary.html\" rel=\"nofollow noreferrer\">https://help.sap.com/doc/javadocs_bip_42/4.2/en-US/bip/en/com/crystaldecisions/sdk/exception/package-summary.html</a>) but I still don't know how to import it......</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1648419,"reputation":5309,"user_id":1519469,"display_name":"HelloWorld123456789"},"score":0,"creation_date":1635525394,"post_id":69772175,"comment_id":123330666,"body_markdown":"Please provide more details and some *code* to show what you have done so far.","body":"Please provide more details and some <i>code</i> to show what you have done so far."},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635525906,"post_id":69772175,"comment_id":123330840,"body_markdown":"Done @HelloWorld123456789","body":"Done @HelloWorld123456789"},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1635526086,"post_id":69772175,"comment_id":123330891,"body_markdown":"&quot;I need to create method at BookingSystem class which called addHotel&quot;.  Your code already has such a method and is implemented.  What is your specific issue?","body":"&quot;I need to create method at BookingSystem class which called addHotel&quot;.  Your code already has such a method and is implemented.  What is your specific issue?"},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635526393,"post_id":69772175,"comment_id":123330990,"body_markdown":"How to add Hotel to Hotel Class .. Also I want to check from you if it correct or not? (the addHotel); @Andy","body":"How to add Hotel to Hotel Class .. Also I want to check from you if it correct or not? (the addHotel); @Andy"},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1635526651,"post_id":69772175,"comment_id":123331084,"body_markdown":"Your `addHotel` seems incomplete in that it creates an instance but *does not set any fields* so you&#39;ll have to figure out how you want to set the fields (you prompt for name but don&#39;t set it).  Also your application only needs one scanner (since there is only one stdin) so this usually results in errors along the way.","body":"Your <code>addHotel</code> seems incomplete in that it creates an instance but <i>does not set any fields</i> so you&#39;ll have to figure out how you want to set the fields (you prompt for name but don&#39;t set it).  Also your application only needs one scanner (since there is only one stdin) so this usually results in errors along the way."},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635526906,"post_id":69772175,"comment_id":123331159,"body_markdown":"Yeah it is incomplete, I need to know How to complete that, Also thanks I think I understand NOW A LITTLE BIT. @Andy","body":"Yeah it is incomplete, I need to know How to complete that, Also thanks I think I understand NOW A LITTLE BIT. @Andy"},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635527122,"post_id":69772175,"comment_id":123331242,"body_markdown":"Okay, It is Okay","body":"Okay, It is Okay"}],"answers":[{"tags":[],"owner":{"display_name":"user2711811"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635528236,"creation_date":1635527888,"answer_id":69772627,"question_id":69772175,"body_markdown":"(Your question is more suitable to https://softwareengineering.stackexchange.com/ - recommend asking it there...)\r\n\r\nGeneral speaking it wouldn&#39;t  make sense to have a `Hotel` without a name, location or number of rooms so I&#39;d recommend adding a constructor with minimal required information:\r\n\r\n    public Hotel (String name, String location, int rooms) {\r\n        this.name = name;\r\n        this.location = location;\r\n        this.noOfRooms = rooms;\r\n    }\r\n\r\n`bookingDate` makes no sense as a single property of a hotel but rather a property of each booked room so you have a design issue - this is not addressed here.\r\n\r\nAgain, `roomPrice` usually varies by room so in a robust solution this would be a property of a room not a hotel - not addressed here.\r\n\r\nWhy is there a `noOfRooms` and a `numberOfRooms` list.  In fact, the `numberOfRooms` list doesn&#39;t make sense as a list.  I&#39;d just keep the `noOfRooms` and get rid of `numberOfRooms`.\r\n\r\nAn implied property, `nbrOfAvailableRooms` can be derived from `noOfRooms - bookedRooms.size();`\r\n\r\nI would assume your `bookedRooms` is a list of room numbers which are booked but that&#39;s not possible to tell from your implementation.  You should focus on what you want `Book` to do.\r\n\r\nThe `Book` interface method is not documented but it looks like it should simply take an available asset (room) and consider it booked.  It should return a boolean success not a String - especially not `null`.\r\n\r\n**I recommend writing (in pseudo code) what you want a `Book` implementation to do - include that in question.  That is the core issue you are having.**\r\n\r\n","title":"What is the relationship between two classes they are tied to a Third class?","body":"<p>(Your question is more suitable to <a href=\"https://softwareengineering.stackexchange.com/\">https://softwareengineering.stackexchange.com/</a> - recommend asking it there...)</p>\n<p>General speaking it wouldn't  make sense to have a <code>Hotel</code> without a name, location or number of rooms so I'd recommend adding a constructor with minimal required information:</p>\n<pre><code>public Hotel (String name, String location, int rooms) {\n    this.name = name;\n    this.location = location;\n    this.noOfRooms = rooms;\n}\n</code></pre>\n<p><code>bookingDate</code> makes no sense as a single property of a hotel but rather a property of each booked room so you have a design issue - this is not addressed here.</p>\n<p>Again, <code>roomPrice</code> usually varies by room so in a robust solution this would be a property of a room not a hotel - not addressed here.</p>\n<p>Why is there a <code>noOfRooms</code> and a <code>numberOfRooms</code> list.  In fact, the <code>numberOfRooms</code> list doesn't make sense as a list.  I'd just keep the <code>noOfRooms</code> and get rid of <code>numberOfRooms</code>.</p>\n<p>An implied property, <code>nbrOfAvailableRooms</code> can be derived from <code>noOfRooms - bookedRooms.size();</code></p>\n<p>I would assume your <code>bookedRooms</code> is a list of room numbers which are booked but that's not possible to tell from your implementation.  You should focus on what you want <code>Book</code> to do.</p>\n<p>The <code>Book</code> interface method is not documented but it looks like it should simply take an available asset (room) and consider it booked.  It should return a boolean success not a String - especially not <code>null</code>.</p>\n<p><strong>I recommend writing (in pseudo code) what you want a <code>Book</code> implementation to do - include that in question.  That is the core issue you are having.</strong></p>\n"}],"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635528236,"creation_date":1635525121,"question_id":69772175,"body_markdown":"Getting stuck with my Travail System Project, Confusing a little bit about understanding that if there Classes called Bookable, Hotel and BookingSystem. \r\nHotel class is implements Bookable. Furthermore, BookingSystem Class is composition from Bookable, So, I need to create method at BookingSystem class which called addHotel. \r\nwhat I must do about it to make a relationship between Hotel Class and BookingSystem Class. \r\nThanks In Advance. \r\nIsraa \r\n\r\n\r\n\r\n\r\n\r\nHotal Class: \r\n\r\n\r\n\r\n    public class Hotel implements Bookable {\r\n\tprivate String name, location;\r\n\tprivate int noOfRooms;\r\n\tprivate double roomPrice;\r\n\tprivate Date bookingDate;\r\n\tprivate ArrayList&lt;Integer&gt; bookedRooms = new ArrayList&lt;Integer&gt;();\r\n    private ArrayList&lt;Integer&gt; numberOfrooms = new ArrayList&lt;Integer&gt;();\r\n\tpublic Hotel() {\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\r\n\tpublic void setLocation(String location) {\r\n\t\tthis.location = location;\r\n\t}\r\n\r\n\tpublic int getNoOfRooms() {\r\n\t\treturn noOfRooms;\r\n\t}\r\n\r\n\tpublic void setNoOfRooms(int noOfRooms) {\r\n\t\tthis.noOfRooms = noOfRooms;\r\n\t}\r\n\r\n\tpublic double getRoomPrice() {\r\n\t\treturn roomPrice;\r\n\t}\r\n\r\n\tpublic void setRoomPrice(double roomPrice) {\r\n\t\tthis.roomPrice = roomPrice;\r\n\t}\r\n\r\n\tpublic Date getBookingDate() {\r\n\t\treturn bookingDate;\r\n\t}\r\n\r\n\tpublic void setBookingDate(Date bookingDate) {\r\n\t\tthis.bookingDate = bookingDate;\r\n\t}\r\n\r\n\tpublic ArrayList&lt;Integer&gt; getBookedRooms() {\r\n\t\treturn bookedRooms;\r\n\t}\r\n\r\n\tpublic void setBookedRooms(ArrayList&lt;Integer&gt; bookedRooms) {\r\n\t\tthis.bookedRooms = bookedRooms;\r\n\t}\r\n\tpublic String Book() {\r\n        \r\n\t\tif ( numberOfrooms.size() != (bookedRooms.size())) {\r\n\t\t\tfor (int i = 0; i &lt; bookedRooms.size(); i++) {\r\n\t\t\t\tint oldVal = bookedRooms.get(i);\r\n\t\t\t\tint newVal = oldVal + 1;\r\n\t\t\t\tbookedRooms.add(bookedRooms.set(i, newVal));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n    }\r\n\r\n Bookable class: \r\n\r\n\r\n\r\n\r\n\r\n     public interface Bookable {\r\n     public String Book();\r\n     }\r\n\r\nBookingSytsem Class:\r\n\r\n     public class BookingSystem {\r\n\tprivate ArrayList&lt;Customer&gt; customer = new ArrayList&lt;Customer&gt;();\r\n\tprivate ArrayList&lt;Bookable&gt; bookable = new ArrayList&lt;Bookable&gt;();\r\n\tprivate ArrayList&lt;Operation&gt; operation = new ArrayList&lt;Operation&gt;();\r\n\r\n\tpublic BookingSystem() {\r\n\t}\r\n\r\n\t// **\r\n\tpublic void addCustomer(String name, int id) {\r\n\t\tCustomer customers = new Customer(id, name);\r\n\t\tcustomer.add(customers);\r\n\t\tSystem.out.println(&quot;new customer &quot; + customers.getName() + &quot; added&quot;);\r\n\t}\r\n\r\n\t// **\r\n\tpublic void deleteCustomer(String name, int id) {\r\n\t\tCustomer customers = new Customer(id, name);\r\n\t\tif (customer.contains(name)) {\r\n\t\t\tcustomer.remove(name);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Customer &quot; + customers.getName() + &quot; deleted&quot;);\r\n\t}\r\n\r\n\tpublic Customer findCustomer(int id) {\r\n\t\tfor (Customer c : customer) {\r\n\t\t\tif (c.getId() == id) {\r\n\t\t\t\treturn c;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic void addHotel() {\r\n\t\tHotel H1 = new Hotel();\r\n\t\tScanner name = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please Enter the name of Hotel: &quot;);\r\n\t\tString n1 = name.nextLine();\r\n\t\tbookable.add(H1);\r\n\t\tSystem.out.println(&quot;The Hotel &quot; + name + &quot;added&quot;);\r\n\t}\r\n\r\n\tpublic void makeABooking(Customer c, Bookable b) {\r\n\t\tScanner input =new Scanner(System.in);\r\n        System.out.println(&quot;Please Enter your name: &quot;);\r\n        String name = input.nextLine();\r\n        System.out.println(&quot;Please Enter your ID: &quot;);\r\n        int ID = input.nextInt();\r\n        while(true) {\r\n        \t if(ID == -1 &amp;&amp; ID == 0) {\r\n             \tSystem.out.println(&quot;Invalid ID. Enter again: &quot;);\r\n             \t  name = input.nextLine();\r\n                 System.out.println(&quot;Please Enter your ID: &quot;);\r\n                 ID = input.nextInt();\r\n             } \t \r\n        }\r\n\t}\r\n    }","title":"What is the relationship between two classes they are tied to a Third class?","body":"<p>Getting stuck with my Travail System Project, Confusing a little bit about understanding that if there Classes called Bookable, Hotel and BookingSystem.\nHotel class is implements Bookable. Furthermore, BookingSystem Class is composition from Bookable, So, I need to create method at BookingSystem class which called addHotel.\nwhat I must do about it to make a relationship between Hotel Class and BookingSystem Class.\nThanks In Advance.\nIsraa</p>\n<p>Hotal Class:</p>\n<pre><code>public class Hotel implements Bookable {\nprivate String name, location;\nprivate int noOfRooms;\nprivate double roomPrice;\nprivate Date bookingDate;\nprivate ArrayList&lt;Integer&gt; bookedRooms = new ArrayList&lt;Integer&gt;();\nprivate ArrayList&lt;Integer&gt; numberOfrooms = new ArrayList&lt;Integer&gt;();\npublic Hotel() {\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getLocation() {\n    return location;\n}\n\npublic void setLocation(String location) {\n    this.location = location;\n}\n\npublic int getNoOfRooms() {\n    return noOfRooms;\n}\n\npublic void setNoOfRooms(int noOfRooms) {\n    this.noOfRooms = noOfRooms;\n}\n\npublic double getRoomPrice() {\n    return roomPrice;\n}\n\npublic void setRoomPrice(double roomPrice) {\n    this.roomPrice = roomPrice;\n}\n\npublic Date getBookingDate() {\n    return bookingDate;\n}\n\npublic void setBookingDate(Date bookingDate) {\n    this.bookingDate = bookingDate;\n}\n\npublic ArrayList&lt;Integer&gt; getBookedRooms() {\n    return bookedRooms;\n}\n\npublic void setBookedRooms(ArrayList&lt;Integer&gt; bookedRooms) {\n    this.bookedRooms = bookedRooms;\n}\npublic String Book() {\n    \n    if ( numberOfrooms.size() != (bookedRooms.size())) {\n        for (int i = 0; i &lt; bookedRooms.size(); i++) {\n            int oldVal = bookedRooms.get(i);\n            int newVal = oldVal + 1;\n            bookedRooms.add(bookedRooms.set(i, newVal));\n        }\n    }\n    return null;\n}\n}\n</code></pre>\n<p>Bookable class:</p>\n<pre><code> public interface Bookable {\n public String Book();\n }\n</code></pre>\n<p>BookingSytsem Class:</p>\n<pre><code> public class BookingSystem {\nprivate ArrayList&lt;Customer&gt; customer = new ArrayList&lt;Customer&gt;();\nprivate ArrayList&lt;Bookable&gt; bookable = new ArrayList&lt;Bookable&gt;();\nprivate ArrayList&lt;Operation&gt; operation = new ArrayList&lt;Operation&gt;();\n\npublic BookingSystem() {\n}\n\n// **\npublic void addCustomer(String name, int id) {\n    Customer customers = new Customer(id, name);\n    customer.add(customers);\n    System.out.println(&quot;new customer &quot; + customers.getName() + &quot; added&quot;);\n}\n\n// **\npublic void deleteCustomer(String name, int id) {\n    Customer customers = new Customer(id, name);\n    if (customer.contains(name)) {\n        customer.remove(name);\n    }\n    System.out.println(&quot;Customer &quot; + customers.getName() + &quot; deleted&quot;);\n}\n\npublic Customer findCustomer(int id) {\n    for (Customer c : customer) {\n        if (c.getId() == id) {\n            return c;\n        }\n    }\n    return null;\n}\n\npublic void addHotel() {\n    Hotel H1 = new Hotel();\n    Scanner name = new Scanner(System.in);\n    System.out.println(&quot;Please Enter the name of Hotel: &quot;);\n    String n1 = name.nextLine();\n    bookable.add(H1);\n    System.out.println(&quot;The Hotel &quot; + name + &quot;added&quot;);\n}\n\npublic void makeABooking(Customer c, Bookable b) {\n    Scanner input =new Scanner(System.in);\n    System.out.println(&quot;Please Enter your name: &quot;);\n    String name = input.nextLine();\n    System.out.println(&quot;Please Enter your ID: &quot;);\n    int ID = input.nextInt();\n    while(true) {\n         if(ID == -1 &amp;&amp; ID == 0) {\n            System.out.println(&quot;Invalid ID. Enter again: &quot;);\n              name = input.nextLine();\n             System.out.println(&quot;Please Enter your ID: &quot;);\n             ID = input.nextInt();\n         }   \n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","multithreading","android-intent"],"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":1,"creation_date":1394810813,"post_id":22408780,"comment_id":34071938,"body_markdown":"&quot;having timer thread&quot; I bet you do not need your own thread. try   `postRunableDelayed`","body":"&quot;having timer thread&quot; I bet you do not need your own thread. try   <code>postRunableDelayed</code>"}],"answers":[{"tags":[],"owner":{"account_id":3685312,"reputation":1255,"user_id":3069183,"accept_rate":29,"display_name":"Lucian Novac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394809740,"creation_date":1394809740,"answer_id":22408805,"question_id":22408780,"body_markdown":"just call `finish()` when you make the intent from A to B","title":"How to destroy previous activity when you jumped to next activity","body":"<p>just call <code>finish()</code> when you make the intent from A to B</p>\n"},{"tags":[],"owner":{"account_id":3098140,"reputation":847,"user_id":2622936,"accept_rate":48,"display_name":"Andr&#225;s Kov&#225;cs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1394811057,"creation_date":1394811057,"answer_id":22409363,"question_id":22408780,"body_markdown":" You have to clear the activity backstack.\r\n\r\n    intent = new Intent(this, Activity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    StartActivity(intent);","title":"How to destroy previous activity when you jumped to next activity","body":"<p>You have to clear the activity backstack.</p>\n\n<pre><code>intent = new Intent(this, Activity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nStartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635528126,"creation_date":1394813249,"answer_id":22410227,"question_id":22408780,"body_markdown":"Try this...\r\n\r\n**MainActivity.java:**\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tnew Waiting(5);\r\n\t}\r\n\r\n\tpublic class Waiting {\r\n\t\tTimer timer;\r\n\r\n\t\tpublic Waiting(int seconds) {\r\n\t\t\ttimer = new Timer();\r\n\t\t\ttimer.schedule(new WaitingTask(), seconds * 1000);\r\n\t\t}\r\n\r\n\t\tclass WaitingTask extends TimerTask {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(&quot;Hi, I&#39;m waiting here!&quot;);\r\n\r\n\t\t\t\tIntent intent = new Intent(MainActivity.this,\r\n\t\t\t\t\t\tMainActivity1.class);\r\n\t\t\t\tMainActivity.this.finish();\r\n\t\t\t\tstartActivity(intent);\r\n\t\t\t\ttimer.cancel();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n     }\r\n\r\n**MainActivity1.java**\r\n\r\n    public class MainActivity1 extends Activity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main_activity1);\r\n\t  }\r\n\r\n    }","title":"How to destroy previous activity when you jumped to next activity","body":"<p>Try this...</p>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>public class MainActivity extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    new Waiting(5);\n}\n\npublic class Waiting {\n    Timer timer;\n\n    public Waiting(int seconds) {\n        timer = new Timer();\n        timer.schedule(new WaitingTask(), seconds * 1000);\n    }\n\n    class WaitingTask extends TimerTask {\n\n        @Override\n        public void run() {\n            System.out.println(&quot;Hi, I'm waiting here!&quot;);\n\n            Intent intent = new Intent(MainActivity.this,\n                    MainActivity1.class);\n            MainActivity.this.finish();\n            startActivity(intent);\n            timer.cancel();\n        }\n\n    }\n}\n }\n</code></pre>\n<p><strong>MainActivity1.java</strong></p>\n<pre><code>public class MainActivity1 extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main_activity1);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2895151,"reputation":133,"user_id":2483098,"accept_rate":62,"display_name":"Roshaan Nayyar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22409363,"answer_count":3,"score":0,"last_activity_date":1635528126,"creation_date":1394809670,"question_id":22408780,"body_markdown":"I have activity A, having timer thread. after 5 sec it jumps to activity B via intent. how to destroy activity A when you are on activity B so that back button don&#39;t let you go back to activity A.","title":"How to destroy previous activity when you jumped to next activity","body":"<p>I have activity A, having timer thread. after 5 sec it jumps to activity B via intent. how to destroy activity A when you are on activity B so that back button don't let you go back to activity A.</p>\n"},{"tags":["java","android","android-fragments","android-activity","android-fragmentactivity"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1499837003,"post_id":45049002,"comment_id":77071734,"body_markdown":"Where is the Fragment instance in your Activity code? Why can&#39;t you just call methods on that Fragment? Remove the ViewPager for now. it&#39;s only complicated things","body":"Where is the Fragment instance in your Activity code? Why can&#39;t you just call methods on that Fragment? Remove the ViewPager for now. it&#39;s only complicated things"},{"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"score":1,"creation_date":1499837091,"post_id":45049002,"comment_id":77071764,"body_markdown":"You can create a public method in your fragment and call that using fragment instance you created.","body":"You can create a public method in your fragment and call that using fragment instance you created."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1499837109,"post_id":45049002,"comment_id":77071772,"body_markdown":"By the way, `Main2Activity extends Fragment`, is not an Activity. Please fix your class naming conventions if you want others to understand the code","body":"By the way, <code>Main2Activity extends Fragment</code>, is not an Activity. Please fix your class naming conventions if you want others to understand the code"},{"owner":{"account_id":9842095,"reputation":1057,"user_id":7290822,"display_name":"sumit"},"score":0,"creation_date":1499837302,"post_id":45049002,"comment_id":77071851,"body_markdown":"why are you complicating things for this simple task just use an interface and pass the id for respective button click and accordingly change the color inside your fragment","body":"why are you complicating things for this simple task just use an interface and pass the id for respective button click and accordingly change the color inside your fragment"},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837339,"post_id":45049002,"comment_id":77071867,"body_markdown":"@cricket_007 Just added the Fragment instance... or at least what I think it is. Sorry, just started learning about Fragments, still a little confused of everything","body":"@cricket_007 Just added the Fragment instance... or at least what I think it is. Sorry, just started learning about Fragments, still a little confused of everything"},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837370,"post_id":45049002,"comment_id":77071877,"body_markdown":"@RajenRaiyarela do you have a link to how I can do that by any chance?","body":"@RajenRaiyarela do you have a link to how I can do that by any chance?"},{"owner":{"account_id":6867709,"reputation":343,"user_id":5279468,"display_name":"Sagar Pujari"},"score":0,"creation_date":1499837410,"post_id":45049002,"comment_id":77071890,"body_markdown":"Create a setter method for dataPasser in Main2Activity and call that method from MainActivity and pass context to that.","body":"Create a setter method for dataPasser in Main2Activity and call that method from MainActivity and pass context to that."},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837476,"post_id":45049002,"comment_id":77071917,"body_markdown":"@sumit I&#39;ve tried that but then I get a cyclic inheritance error. I&#39;m probably not doing it right though","body":"@sumit I&#39;ve tried that but then I get a cyclic inheritance error. I&#39;m probably not doing it right though"},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837550,"post_id":45049002,"comment_id":77071944,"body_markdown":"@SagarPujari do you have an an example by any chance? That sounds like it could work. Thanks","body":"@SagarPujari do you have an an example by any chance? That sounds like it could work. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499838893,"creation_date":1499838053,"answer_id":45049260,"question_id":45049002,"body_markdown":"Issue in your code is OnDataPass instance has to be created in your Activity and not Fragment as you want to pass data from Activity to Fragment and not Fragment to Activity. \r\n\r\nSo sample code block for Activity and Fragment classes will be like this.\r\n\r\n    public class MainActivity extends AppCompatActivity implements MyFragment.OnDataPass{\r\n    \r\n              MyFragment fragmentInstance;\r\n        \r\n              \r\n        \r\n              @Override\r\n              protected void onCreate(Bundle savedInstanceState) {\r\n                  super.onCreate(savedInstanceState);\r\n                  setContentView(R.layout.activity_main);\r\n        \r\n                  fragmentInstance = new MyFragment();\r\n              }\r\n        \r\n              private void loadMyFragment(){\r\n                 fragmentInstance = new MyFragment();\r\n                 //code to load fragment\r\n        \r\n              }\r\n    \r\n    \t  public void passData(String data) {\r\n    \t     if (fragmentInstance != null) fragmentInstance.dataFromActivity(data);\r\n    \t  }\r\n    \r\n    \t  @Override\r\n              public void onDataPass(String data){\r\n                 //handle data and do the needful. Instead of String you can even use bundle here.\r\n              }\r\n        }\r\n\r\nSo as i mentioned in my comment, have created a public method named `dataFromActivity` which you can call from Activity class to pass data from your Activity to Fragment.\r\n\r\n    public class MyFragment extends Fragment {\r\n           OnDataPass dataPasser;\r\n    \r\n           public interface OnDataPass {\r\n        \t    void onDataPass(String data);\r\n           }\r\n    \r\n    \t@Override\r\n    \tpublic void onAttach(Context a) {\r\n    \t    super.onAttach(a);\r\n    \t    dataPasser = (OnDataPass) a;\r\n    \t}\r\n    \r\n    \t@Override\r\n        \tpublic void onDetach() {\r\n                super.onDetach();\r\n    \r\n                dataPasser = null;\r\n    \t}\r\n    \r\n    \tpublic void passData(String data) {\r\n    \t    if (dataPasser != null) dataPasser.onDataPass(data);\r\n    \t}\r\n    \r\n            //method called from Activity\r\n            public void dataFromActivity(String data){\r\n                //handle data and do the needful. Instead of String you can even use bundle here.\r\n            }\r\n        }\r\n\r\nFragment will user `OnDataPass` interface to send data from Fragment to Activity.","title":"Java Android - Send data from activity to fragment","body":"<p>Issue in your code is OnDataPass instance has to be created in your Activity and not Fragment as you want to pass data from Activity to Fragment and not Fragment to Activity. </p>\n\n<p>So sample code block for Activity and Fragment classes will be like this.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements MyFragment.OnDataPass{\n\n          MyFragment fragmentInstance;\n\n\n\n          @Override\n          protected void onCreate(Bundle savedInstanceState) {\n              super.onCreate(savedInstanceState);\n              setContentView(R.layout.activity_main);\n\n              fragmentInstance = new MyFragment();\n          }\n\n          private void loadMyFragment(){\n             fragmentInstance = new MyFragment();\n             //code to load fragment\n\n          }\n\n      public void passData(String data) {\n         if (fragmentInstance != null) fragmentInstance.dataFromActivity(data);\n      }\n\n      @Override\n          public void onDataPass(String data){\n             //handle data and do the needful. Instead of String you can even use bundle here.\n          }\n    }\n</code></pre>\n\n<p>So as i mentioned in my comment, have created a public method named <code>dataFromActivity</code> which you can call from Activity class to pass data from your Activity to Fragment.</p>\n\n<pre><code>public class MyFragment extends Fragment {\n       OnDataPass dataPasser;\n\n       public interface OnDataPass {\n            void onDataPass(String data);\n       }\n\n    @Override\n    public void onAttach(Context a) {\n        super.onAttach(a);\n        dataPasser = (OnDataPass) a;\n    }\n\n    @Override\n        public void onDetach() {\n            super.onDetach();\n\n            dataPasser = null;\n    }\n\n    public void passData(String data) {\n        if (dataPasser != null) dataPasser.onDataPass(data);\n    }\n\n        //method called from Activity\n        public void dataFromActivity(String data){\n            //handle data and do the needful. Instead of String you can even use bundle here.\n        }\n    }\n</code></pre>\n\n<p>Fragment will user <code>OnDataPass</code> interface to send data from Fragment to Activity.</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635527979,"creation_date":1499839103,"answer_id":45049512,"question_id":45049002,"body_markdown":"Try this.....\r\n\r\n**Main2Activity.java**\r\n\r\n     public class Main2Activity extends Fragment implements View.OnClickListener  {\r\n     .......\r\n\r\n\t   //method to change button background at run time.\r\n\t   public void changeButtonColor(View view){\r\n\t\t  switch(view.getId()){\r\n\t\t  case R.id.btnTESTa:\r\n\t\t\t  btnTESTa.setBackgroundColor(Color.RED)\r\n               i = 1;\r\n\t\t\t  break;\r\n\t\t  case R.id. btnTESTb:\r\n\t\t\t  btnTESTb.setBackgroundColor(Color.GREEN)\r\n               i = 2;\r\n\t\t\t  break;\r\n\t\t  case R.id. btnTESTc:\r\n\t\t\t  btnTESTc.setBackgroundColor(Color.BLUE)\r\n               i = 3;\r\n\t\t\t  break;\r\n\t\t  }\r\n\t   }\r\n     ........\r\n     }\r\n**MainActivity.java**\r\n\r\n     public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\r\n\r\n      .........\r\n\r\n\t  private Main2Activity fragment2;\r\n\t  private Main3Activity fragment3;\r\n\t  private Main4Activity fragment4;\r\n\r\n\t  public void onClickBtn1(View v){\r\n   \t   \t  fragment2.changeButtonColor(v);\r\n\t  }\r\n\r\n\t  public void onClickBtn2(View v){\r\n   \t   \t  fragment3.changeButtonColor(v);\r\n\t  }\r\n\r\n\t  public void onClickBtn3(View v){\r\n   \t      fragment4.changeButtonColor(v);\r\n\t  }\r\n\r\n\t  public void onClickBtn4(View v){\r\n   \t\t   //fragment transaction code here\r\n\t  }\r\n\r\n \t  private void setupViewPager(ViewPager viewPager) {\r\n   \t \t  .......\r\n\t\t  fragment2 = new Main2Activity();\r\n\t\t  fragment3 = new Main3Activity();\r\n\t\t  fragment4 = new Main4Activity();\r\n\r\n    \t\tadapter.addFragment(fragment2, &quot;TAB1&quot;);\r\n    \t\tadapter.addFragment(fragment3, &quot;TAB2&quot;);\r\n    \t\tadapter.addFragment(fragment4, &quot;TAB3&quot;);\r\n    \t\t.......\r\n\t   }\r\n       .......\r\n     }","title":"Java Android - Send data from activity to fragment","body":"<p>Try this.....</p>\n<p><strong>Main2Activity.java</strong></p>\n<pre><code> public class Main2Activity extends Fragment implements View.OnClickListener  {\n .......\n\n   //method to change button background at run time.\n   public void changeButtonColor(View view){\n      switch(view.getId()){\n      case R.id.btnTESTa:\n          btnTESTa.setBackgroundColor(Color.RED)\n           i = 1;\n          break;\n      case R.id. btnTESTb:\n          btnTESTb.setBackgroundColor(Color.GREEN)\n           i = 2;\n          break;\n      case R.id. btnTESTc:\n          btnTESTc.setBackgroundColor(Color.BLUE)\n           i = 3;\n          break;\n      }\n   }\n ........\n }\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code> public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\n\n  .........\n\n  private Main2Activity fragment2;\n  private Main3Activity fragment3;\n  private Main4Activity fragment4;\n\n  public void onClickBtn1(View v){\n      fragment2.changeButtonColor(v);\n  }\n\n  public void onClickBtn2(View v){\n      fragment3.changeButtonColor(v);\n  }\n\n  public void onClickBtn3(View v){\n      fragment4.changeButtonColor(v);\n  }\n\n  public void onClickBtn4(View v){\n       //fragment transaction code here\n  }\n\n  private void setupViewPager(ViewPager viewPager) {\n      .......\n      fragment2 = new Main2Activity();\n      fragment3 = new Main3Activity();\n      fragment4 = new Main4Activity();\n\n        adapter.addFragment(fragment2, &quot;TAB1&quot;);\n        adapter.addFragment(fragment3, &quot;TAB2&quot;);\n        adapter.addFragment(fragment4, &quot;TAB3&quot;);\n        .......\n   }\n   .......\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6867709,"reputation":343,"user_id":5279468,"display_name":"Sagar Pujari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499839429,"creation_date":1499839429,"answer_id":45049612,"question_id":45049002,"body_markdown":"Add setter method in Main2Activity as below\r\n \r\n     public void setDataPasser(OnDataPass dataPasser) {\r\n        this.dataPasser = dataPasser;\r\n    }\r\n\r\nThen call this setter method in MainActivity.\r\nThen update the following method in your MainActivity:\r\n\r\n    private void setupViewPager(ViewPager viewPager) {\r\n    SectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\r\n    Main2Activity fragment = new Main2Activity();\r\n    fragment.setListener(this);\r\n    adapter.addFragment(fragment, &quot;TAB1&quot;);\r\n    viewPager.setAdapter(adapter);","title":"Java Android - Send data from activity to fragment","body":"<p>Add setter method in Main2Activity as below</p>\n\n<pre><code> public void setDataPasser(OnDataPass dataPasser) {\n    this.dataPasser = dataPasser;\n}\n</code></pre>\n\n<p>Then call this setter method in MainActivity.\nThen update the following method in your MainActivity:</p>\n\n<pre><code>private void setupViewPager(ViewPager viewPager) {\nSectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\nMain2Activity fragment = new Main2Activity();\nfragment.setListener(this);\nadapter.addFragment(fragment, \"TAB1\");\nviewPager.setAdapter(adapter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5620925,"reputation":812,"user_id":4450805,"accept_rate":78,"display_name":"pamobo0609"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500324118,"creation_date":1500324118,"answer_id":45153331,"question_id":45049002,"body_markdown":"There are several ways to communicate between `activities` and `fragments`, however, the usage you give them is based on the requirements for your app. &lt;br&gt;&lt;/br&gt;\r\nIf the data is needed for `Fragment` initialization, you can pass it using the `newInstance` method of every `fragment` as parameter or parameters.&lt;br&gt;&lt;/br&gt;\r\nIf you need to pass data in `runtime`, you need to use an `interface`, which is going to initialize in the `onAttach` method of every fragment using the activity `Context` and going null every time he fragment gets destroyed.&lt;br&gt;&lt;/br&gt;\r\nTo summarize on the second option, you need to:&lt;br&gt;&lt;/br&gt;\r\n\r\n 1. Declare an `interface`, most likely inside the `fragment` you&#39;re working on.\r\n 2. Declare a global variable of the `interface`&#39;s type.\r\n 3. Initialize the variable in the `onAttach` method of the fragment.\r\n 4. Nullify the variable in the `onDestroy` method.\r\n 5. Call the interface methods in the buttons you want.\r\n 6. Implement the `interface` in the `activity` and handle the callback methods.","title":"Java Android - Send data from activity to fragment","body":"<p>There are several ways to communicate between <code>activities</code> and <code>fragments</code>, however, the usage you give them is based on the requirements for your app. <br>\nIf the data is needed for <code>Fragment</code> initialization, you can pass it using the <code>newInstance</code> method of every <code>fragment</code> as parameter or parameters.<br>\nIf you need to pass data in <code>runtime</code>, you need to use an <code>interface</code>, which is going to initialize in the <code>onAttach</code> method of every fragment using the activity <code>Context</code> and going null every time he fragment gets destroyed.<br>\nTo summarize on the second option, you need to:<br></p>\n\n<ol>\n<li>Declare an <code>interface</code>, most likely inside the <code>fragment</code> you're working on.</li>\n<li>Declare a global variable of the <code>interface</code>'s type.</li>\n<li>Initialize the variable in the <code>onAttach</code> method of the fragment.</li>\n<li>Nullify the variable in the <code>onDestroy</code> method.</li>\n<li>Call the interface methods in the buttons you want.</li>\n<li>Implement the <code>interface</code> in the <code>activity</code> and handle the callback methods.</li>\n</ol>\n"}],"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1635527979,"creation_date":1499836817,"question_id":45049002,"body_markdown":"I&#39;ve been trying to figure out how to pass data from `Activity` to a `Fragment` for the past day and haven&#39;t gotten very far. I know how to pass data from `Fragment` to `Activity` though. I don&#39;t think I can use a bundle for my situation because my `Fragment` will have already been created and will need to continue to listen to `Activity` for any changes. I&#39;ve also tried creating an interface but I get some cyclic error. It was very easy for me to pass data from `Fragment` to Activity, I feel like I&#39;m overthinking how to pass data back from `Activity` to `Fragment`.\r\n\r\n[![image description here][1]][1]\r\n\r\n\r\nThis is a simple version of what I&#39;m trying to do. `Activity` is on top and the bottom buttons are from the `Fragment` layout. \r\n\r\nWhen I click on BTN1 from `MainActivity`, I would like button TESTBTN 1A to change to the color red and store i = 1. Then button TESTBTN 1B will change to green and i = 2. And button TESTBTN 1C will change to blue and i = 3. When NEXT FRAGMENT is clicked, it will take the `Fragment` to the next one (and hopefully not lose the button color changes).\r\n\r\n**Here&#39;s the main part of my `MainActivity`**\r\n        \r\n    public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mSectionsPageAdapter = new SectionsPageAdapter(getSupportFragmentManager());\r\n        mViewPager = (ViewPager) findViewById(R.id.container);\r\n        setupViewPager(mViewPager);\r\n    }\r\n\r\n\r\n    public void onClickBtn1(View v){\r\n        //need to send data over to fragment1 to be stored and to change color\r\n    }\r\n\r\n    public void onClickBtn2(View v){\r\n        //need to send data over to fragment1 to be stored and to change color\r\n    }\r\n\r\n    public void onClickBtn3(View v){\r\n        //need to send data over to fragment1 to be stored and to change color\r\n    }\r\n\r\n    public void onClickBtn4(View v){\r\n        //go to next fragment\r\n    }\r\n\r\n    //used for when fragment passes data to activity\r\n    @Override\r\n    public void onDataPass(String data) {\r\n        Log.d(&quot;LOG&quot;, &quot;passed data: &quot; + data);\r\n    }\r\n\r\n    private void setupViewPager(ViewPager viewPager) {\r\n        SectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\r\n        adapter.addFragment(new Main2Activity(), &quot;TAB1&quot;);\r\n        adapter.addFragment(new Main3Activity(), &quot;TAB2&quot;);\r\n        adapter.addFragment(new Main4Activity(), &quot;TAB3&quot;);\r\n        viewPager.setAdapter(adapter);\r\n\r\n\r\n**and here is my `Fragment`**\r\n   \r\n    public class Main2Activity extends Fragment implements View.OnClickListener  {\r\n    int i;\r\n    Button btnTESTa, btnTESTb, btnTESTc;     \r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,  Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.activity_main2,container,false);\r\n        btnTESTa = view.findViewById(R.id.btnTESTa);\r\n        btnTESTb = view.findViewById(R.id.btnTESTb);\r\n        btnTESTc = view.findViewById(R.id.btnTESTc);\r\n\r\n        btnTESTa.setOnClickListener(this);\r\n        btnTESTb.setOnClickListener(this);\r\n        btnTESTc.setOnClickListener(this);\r\n\r\n        return view;\r\n    }\r\n\r\n    //NEED TO CREATE A WAY TO LISTEN FOR DATA SENT OVER FROM ACTIVITY TO CHANGE BUTTON COLORS AND STORE INT I VALUE\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.btnTESTa:\r\n                i = 0;\r\n                break;\r\n            case R.id.btnTESTb:\r\n                i = 1;\r\n                break;\r\n            case R.id.btnTESTc:\r\n                i = 2;\r\n                break;\r\n        }\r\n\r\n        passData(String.valueOf(i));\r\n    }\r\n\r\n    //used to pass data over from fragment to activity\r\n    OnDataPass dataPasser;\r\n\r\n    public interface OnDataPass {\r\n        void onDataPass(String data);\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(Context a) {\r\n        super.onAttach(a);\r\n        dataPasser = (OnDataPass) a;\r\n    }\r\n\r\n    public void passData(String data) {\r\n        dataPasser.onDataPass(data);\r\n    }\r\n\r\n\r\nAnd here is my SectionsPageAdapter\r\n    public class SectionsPageAdapter extends FragmentPagerAdapter {\r\n\r\n    private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\r\n    private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\r\n\r\n    public void addFragment(Fragment fragment, String title) {\r\n        mFragmentList.add(fragment);\r\n        mFragmentTitleList.add(title);\r\n    }\r\n\r\n    public SectionsPageAdapter(FragmentManager fm) {\r\n        super(fm);\r\n    }\r\n\r\n    @Override\r\n    public CharSequence getPageTitle(int position) {\r\n        return mFragmentTitleList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        return mFragmentList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return mFragmentList.size();\r\n    }\r\n\r\n\r\n\r\nAny help on how I can achieve sending data from my `Activity` to `Fragment` to change the button color is greatly appreciated, thanks!\r\n  [1]: https://i.stack.imgur.com/ngeEL.png","title":"Java Android - Send data from activity to fragment","body":"<p>I've been trying to figure out how to pass data from <code>Activity</code> to a <code>Fragment</code> for the past day and haven't gotten very far. I know how to pass data from <code>Fragment</code> to <code>Activity</code> though. I don't think I can use a bundle for my situation because my <code>Fragment</code> will have already been created and will need to continue to listen to <code>Activity</code> for any changes. I've also tried creating an interface but I get some cyclic error. It was very easy for me to pass data from <code>Fragment</code> to Activity, I feel like I'm overthinking how to pass data back from <code>Activity</code> to <code>Fragment</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ngeEL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ngeEL.png\" alt=\"image description here\"></a></p>\n\n<p>This is a simple version of what I'm trying to do. <code>Activity</code> is on top and the bottom buttons are from the <code>Fragment</code> layout. </p>\n\n<p>When I click on BTN1 from <code>MainActivity</code>, I would like button TESTBTN 1A to change to the color red and store i = 1. Then button TESTBTN 1B will change to green and i = 2. And button TESTBTN 1C will change to blue and i = 3. When NEXT FRAGMENT is clicked, it will take the <code>Fragment</code> to the next one (and hopefully not lose the button color changes).</p>\n\n<p><strong>Here's the main part of my <code>MainActivity</code></strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mSectionsPageAdapter = new SectionsPageAdapter(getSupportFragmentManager());\n    mViewPager = (ViewPager) findViewById(R.id.container);\n    setupViewPager(mViewPager);\n}\n\n\npublic void onClickBtn1(View v){\n    //need to send data over to fragment1 to be stored and to change color\n}\n\npublic void onClickBtn2(View v){\n    //need to send data over to fragment1 to be stored and to change color\n}\n\npublic void onClickBtn3(View v){\n    //need to send data over to fragment1 to be stored and to change color\n}\n\npublic void onClickBtn4(View v){\n    //go to next fragment\n}\n\n//used for when fragment passes data to activity\n@Override\npublic void onDataPass(String data) {\n    Log.d(\"LOG\", \"passed data: \" + data);\n}\n\nprivate void setupViewPager(ViewPager viewPager) {\n    SectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\n    adapter.addFragment(new Main2Activity(), \"TAB1\");\n    adapter.addFragment(new Main3Activity(), \"TAB2\");\n    adapter.addFragment(new Main4Activity(), \"TAB3\");\n    viewPager.setAdapter(adapter);\n</code></pre>\n\n<p><strong>and here is my <code>Fragment</code></strong></p>\n\n<pre><code>public class Main2Activity extends Fragment implements View.OnClickListener  {\nint i;\nButton btnTESTa, btnTESTb, btnTESTc;     \n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,  Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.activity_main2,container,false);\n    btnTESTa = view.findViewById(R.id.btnTESTa);\n    btnTESTb = view.findViewById(R.id.btnTESTb);\n    btnTESTc = view.findViewById(R.id.btnTESTc);\n\n    btnTESTa.setOnClickListener(this);\n    btnTESTb.setOnClickListener(this);\n    btnTESTc.setOnClickListener(this);\n\n    return view;\n}\n\n//NEED TO CREATE A WAY TO LISTEN FOR DATA SENT OVER FROM ACTIVITY TO CHANGE BUTTON COLORS AND STORE INT I VALUE\n\n@Override\npublic void onClick(View v) {\n    switch (v.getId()) {\n        case R.id.btnTESTa:\n            i = 0;\n            break;\n        case R.id.btnTESTb:\n            i = 1;\n            break;\n        case R.id.btnTESTc:\n            i = 2;\n            break;\n    }\n\n    passData(String.valueOf(i));\n}\n\n//used to pass data over from fragment to activity\nOnDataPass dataPasser;\n\npublic interface OnDataPass {\n    void onDataPass(String data);\n}\n\n@Override\npublic void onAttach(Context a) {\n    super.onAttach(a);\n    dataPasser = (OnDataPass) a;\n}\n\npublic void passData(String data) {\n    dataPasser.onDataPass(data);\n}\n</code></pre>\n\n<p>And here is my SectionsPageAdapter\n    public class SectionsPageAdapter extends FragmentPagerAdapter {</p>\n\n<pre><code>private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\nprivate final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\n\npublic void addFragment(Fragment fragment, String title) {\n    mFragmentList.add(fragment);\n    mFragmentTitleList.add(title);\n}\n\npublic SectionsPageAdapter(FragmentManager fm) {\n    super(fm);\n}\n\n@Override\npublic CharSequence getPageTitle(int position) {\n    return mFragmentTitleList.get(position);\n}\n\n@Override\npublic Fragment getItem(int position) {\n    return mFragmentList.get(position);\n}\n\n@Override\npublic int getCount() {\n    return mFragmentList.size();\n}\n</code></pre>\n\n<p>Any help on how I can achieve sending data from my <code>Activity</code> to <code>Fragment</code> to change the button color is greatly appreciated, thanks!</p>\n"},{"tags":["java","unit-testing","junit","resteasy"],"comments":[{"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"score":0,"creation_date":1635501590,"post_id":69766849,"comment_id":123321134,"body_markdown":"so you want to unit test, for example, when `id` is passed as null?","body":"so you want to unit test, for example, when <code>id</code> is passed as null?"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1635511774,"post_id":69766849,"comment_id":123324844,"body_markdown":"I want to test that id is marked as required / Notnull","body":"I want to test that id is marked as required / Notnull"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1635524042,"post_id":69766849,"comment_id":123330153,"body_markdown":"What is your runtime container? Or have you looked at Arquillian?","body":"What is your runtime container? Or have you looked at Arquillian?"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1635527612,"post_id":69766849,"comment_id":123331382,"body_markdown":"@JamesR.Perkins I am looking for way to do this without test container like arquillian. But I am afraid that is not possible.","body":"@JamesR.Perkins I am looking for way to do this without test container like arquillian. But I am afraid that is not possible."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1635533360,"post_id":69766849,"comment_id":123333140,"body_markdown":"You either need a container or a mock container to really test it. You could use a standalone container like a `VertxJaxrsServer` or the `NettyJaxrsServer`. These are part of RESTEasy.","body":"You either need a container or a mock container to really test it. You could use a standalone container like a <code>VertxJaxrsServer</code> or the <code>NettyJaxrsServer</code>. These are part of RESTEasy."}],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635527669,"creation_date":1635500963,"question_id":69766849,"body_markdown":"I have the following `javax.ws.rs` endpoint interface. \r\n\r\n    @POST\r\n    @Path(&quot;{id}&quot;)\r\n    Response save(\r\n    \t\t@PathParam(&quot;id&quot;) @NotNull String id,\r\n    \t\t@HeaderParam(&quot;header&quot;) @NotNull String header,\r\n    \t\t@NotNull @Valid SomeFancyBody body);\r\n\r\nNow I need a unit test that checks that pathparam, header and body are marked as `NotNull` / `Valid`.\r\n\r\nI dont like to mock the endpoint or generate it in my unit tests and call this endpoint with wrong data. I trust the library that implements the ws.rs api (RestEasy) and I am sure that if I define this correctly `@NotNull` and `@Valid` will do its job.\r\n\r\nSo does anyone have any idea how to test this elegantly and easily?\r\n\r\nEdit: Runtime - Java 8, Wildfly","title":"What is the most simple way to test endpoint definition and required params","body":"<p>I have the following <code>javax.ws.rs</code> endpoint interface.</p>\n<pre><code>@POST\n@Path(&quot;{id}&quot;)\nResponse save(\n        @PathParam(&quot;id&quot;) @NotNull String id,\n        @HeaderParam(&quot;header&quot;) @NotNull String header,\n        @NotNull @Valid SomeFancyBody body);\n</code></pre>\n<p>Now I need a unit test that checks that pathparam, header and body are marked as <code>NotNull</code> / <code>Valid</code>.</p>\n<p>I dont like to mock the endpoint or generate it in my unit tests and call this endpoint with wrong data. I trust the library that implements the ws.rs api (RestEasy) and I am sure that if I define this correctly <code>@NotNull</code> and <code>@Valid</code> will do its job.</p>\n<p>So does anyone have any idea how to test this elegantly and easily?</p>\n<p>Edit: Runtime - Java 8, Wildfly</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"score":1,"creation_date":1260436637,"post_id":1879700,"comment_id":20211160,"body_markdown":"Why dont you use a [set](http://java.sun.com/javase/6/docs/api/java/util/Set.html) then ?","body":"Why dont you use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">set</a> then ?"}],"answers":[{"tags":[],"owner":{"account_id":45406,"reputation":128657,"user_id":133802,"accept_rate":82,"display_name":"David Hedlund"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1357542793,"creation_date":1260436442,"answer_id":1879710,"question_id":1879700,"body_markdown":"I think a real neat solution for enforcing unique array lists is [this one][1], if it&#39;s not too much code for what you&#39;re trying to achieve.\r\n\r\n    public class UniqueOverridingList extends ArrayList {\r\n    \r\n        public enum LAST_RESULT {\r\n            ADD, OVERRIDE, NOTHING;\r\n        }\r\n    \r\n        private LAST_RESULT lastResult;\r\n    \r\n        public boolean add(T obj) {\r\n            for (int i = 0; i &lt; size(); i++) {\r\n                if (obj.equals(get(i))) {\r\n                    set(i, obj);\r\n                    lastResult = LAST_RESULT.OVERRIDE;\r\n                    return true;\r\n                }\r\n            }\r\n            boolean b = super.add(obj);\r\n            if (b) {\r\n                lastResult = LAST_RESULT.ADD;\r\n            } else {\r\n                lastResult = LAST_RESULT.NOTHING;\r\n            }\r\n            return b;\r\n        }\r\n    \r\n        public boolean addAll(Collection c) {\r\n            boolean result = true;\r\n            for (T t : c) {\r\n                if (!add(t)) {\r\n                    result = false;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public LAST_RESULT getLastResult() {\r\n            return lastResult;\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: http://weblog.dangertree.net/2007/06/09/unique-arraylist/","title":"How to remove Duplicate value from arraylist in Android","body":"<p>I think a real neat solution for enforcing unique array lists is <a href=\"http://weblog.dangertree.net/2007/06/09/unique-arraylist/\" rel=\"nofollow noreferrer\">this one</a>, if it's not too much code for what you're trying to achieve.</p>\n\n<pre><code>public class UniqueOverridingList extends ArrayList {\n\n    public enum LAST_RESULT {\n        ADD, OVERRIDE, NOTHING;\n    }\n\n    private LAST_RESULT lastResult;\n\n    public boolean add(T obj) {\n        for (int i = 0; i &lt; size(); i++) {\n            if (obj.equals(get(i))) {\n                set(i, obj);\n                lastResult = LAST_RESULT.OVERRIDE;\n                return true;\n            }\n        }\n        boolean b = super.add(obj);\n        if (b) {\n            lastResult = LAST_RESULT.ADD;\n        } else {\n            lastResult = LAST_RESULT.NOTHING;\n        }\n        return b;\n    }\n\n    public boolean addAll(Collection c) {\n        boolean result = true;\n        for (T t : c) {\n            if (!add(t)) {\n                result = false;\n            }\n        }\n        return result;\n    }\n\n    public LAST_RESULT getLastResult() {\n        return lastResult;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50124,"reputation":3055,"user_id":149395,"accept_rate":75,"display_name":"Scharrels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260438117,"creation_date":1260438117,"answer_id":1879868,"question_id":1879700,"body_markdown":"The class David Hedlund suggested can be made a lot shorter:\r\n\r\n    public class UniqueArrayList extends ArrayList {\r\n        /**\r\n         * Only add the object if there is not\r\n         * another copy of it in the list\r\n         */\r\n        public boolean add(T obj) {\r\n            if(this.contains(obj))\r\n               return false;\r\n            return super.add(obj);\r\n        }\r\n    \r\n        public boolean addAll(Collection c) {\r\n            boolean result = false;\r\n            for (T t : c) {\r\n                if (add(t)) {\r\n                    result = true;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nThe `addAll` operation is modified too. The [documentation][1] states:\r\n\r\n&gt; Returns: true if this list changed as a result of the call.\r\n\r\nI modified the method to reflect this behaviour. There&#39;s still one problem. The documentation of the addAll() method also states:\r\n\r\n&gt;Appends all of the elements in the specified collection to the end of this list, in the order that they are returned by the specified collection&#39;s iterator.\r\n\r\nThe order might be broken by using this method. A possible workaround for this problem might be not supporting the `addAll` method.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html#add%28java.lang.Object%29","title":"How to remove Duplicate value from arraylist in Android","body":"<p>The class David Hedlund suggested can be made a lot shorter:</p>\n\n<pre><code>public class UniqueArrayList extends ArrayList {\n    /**\n     * Only add the object if there is not\n     * another copy of it in the list\n     */\n    public boolean add(T obj) {\n        if(this.contains(obj))\n           return false;\n        return super.add(obj);\n    }\n\n    public boolean addAll(Collection c) {\n        boolean result = false;\n        for (T t : c) {\n            if (add(t)) {\n                result = true;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>The <code>addAll</code> operation is modified too. The <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html#add%28java.lang.Object%29\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>Returns: true if this list changed as a result of the call.</p>\n</blockquote>\n\n<p>I modified the method to reflect this behaviour. There's still one problem. The documentation of the addAll() method also states:</p>\n\n<blockquote>\n  <p>Appends all of the elements in the specified collection to the end of this list, in the order that they are returned by the specified collection's iterator.</p>\n</blockquote>\n\n<p>The order might be broken by using this method. A possible workaround for this problem might be not supporting the <code>addAll</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2256304,"reputation":361,"user_id":1987424,"display_name":"Freyr"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1525429198,"creation_date":1358432776,"answer_id":14381212,"question_id":1879700,"body_markdown":"Try below code,\r\n\r\n    ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\r\n    String newValue;\r\n    \r\n    // repeated additions:\r\n    if (!values.contains(newValue)) {values.add(newValue);}\r\n\r\n","title":"How to remove Duplicate value from arraylist in Android","body":"<p>Try below code,</p>\n\n<pre><code>ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\nString newValue;\n\n// repeated additions:\nif (!values.contains(newValue)) {values.add(newValue);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3766062,"reputation":5113,"user_id":3129572,"display_name":"Vaishali Sutariya"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1525429214,"creation_date":1404735418,"answer_id":24610428,"question_id":1879700,"body_markdown":"                \r\n    HashSet hs = new HashSet();\r\n\r\n\ths.addAll(demoArrayList); // demoArrayList= name of arrayList from which u want to remove duplicates \r\n\r\n\tdemoArrayList.clear();\r\n\tdemoArrayList.addAll(hs);","title":"How to remove Duplicate value from arraylist in Android","body":"<pre><code>HashSet hs = new HashSet();\n\nhs.addAll(demoArrayList); // demoArrayList= name of arrayList from which u want to remove duplicates \n\ndemoArrayList.clear();\ndemoArrayList.addAll(hs);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1635527586,"creation_date":1425982032,"answer_id":28960839,"question_id":1879700,"body_markdown":"Try this...\r\n\r\n        ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\r\n\t\tHashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\r\n\t\thashSet.addAll(values);\r\n\t\tvalues.clear();\r\n\t\tvalues.addAll(hashSet);","title":"How to remove Duplicate value from arraylist in Android","body":"<p>Try this...</p>\n<pre><code>    ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\n    HashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\n    hashSet.addAll(values);\n    values.clear();\n    values.addAll(hashSet);\n</code></pre>\n"}],"owner":{"account_id":576928,"reputation":769,"user_id":227958,"display_name":"Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79045,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"closed_date":1467986485,"answer_count":5,"score":38,"last_activity_date":1635527586,"creation_date":1260436253,"question_id":1879700,"body_markdown":"    ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\r\n    values.add(&quot;s&quot;);\r\n    values.add(&quot;n&quot;);\r\n    values.add(&quot;a&quot;);\r\n    values.add(&quot;s&quot;);\r\n\r\nIn this Array, I want to remove repeated values.\r\n\r\n\r\n","title":"How to remove Duplicate value from arraylist in Android","body":"<pre><code>ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\nvalues.add(\"s\");\nvalues.add(\"n\");\nvalues.add(\"a\");\nvalues.add(\"s\");\n</code></pre>\n\n<p>In this Array, I want to remove repeated values.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15976711,"reputation":168,"user_id":11529410,"display_name":"seqre"},"score":0,"creation_date":1635519587,"post_id":69770939,"comment_id":123328374,"body_markdown":"Why do you have `while(true)` in `formatPercentage`? It&#39;s not needed","body":"Why do you have <code>while(true)</code> in <code>formatPercentage</code>? It&#39;s not needed"},{"owner":{"account_id":15088681,"reputation":1230,"user_id":10889184,"display_name":"B.Simsek"},"score":0,"creation_date":1635519724,"post_id":69770939,"comment_id":123328414,"body_markdown":"i have change it.","body":"i have change it."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1635519753,"post_id":69770939,"comment_id":123328427,"body_markdown":"Reading [Differences between System.out.println() and return in Java](https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java) might help you, as your methods both print stuff themself as well as returning values that you then print again. You should rather decide on one of those (either have your methods print and not return, or have them not print and instead return).","body":"Reading <a href=\"https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java\">Differences between System.out.println() and return in Java</a> might help you, as your methods both print stuff themself as well as returning values that you then print again. You should rather decide on one of those (either have your methods print and not return, or have them not print and instead return)."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635525277,"creation_date":1635525277,"answer_id":69772201,"question_id":69770939,"body_markdown":"Try this:\r\n\r\n    public class ProgressBar {\r\n    \tprivate int length;\r\n    \tprivate int maxSteps;\r\n    \tprivate int step;\r\n    \tprivate char symbol;\r\n\r\n    \tpublic ProgressBar(int length, int maxSteps, char symbol) {\r\n    \t\tthis.length = length;\r\n    \t\tthis.maxSteps = maxSteps;\r\n    \t\tthis.symbol = symbol;\r\n    \t}\r\n    \t\r\n    \tpublic void increment() {\r\n    \t\tincrement(1);\r\n    \t}\r\n    \t\r\n    \tpublic void increment(int numSteps) {\r\n    \t\tstep+=numSteps;\r\n    \t\tprint();\r\n    \t}\r\n    \t\r\n    \tprivate void print() {\r\n    \t\tfloat percentage = (float)step/(float)maxSteps;\r\n    \t\tint numSymbols = (int) Math.floor((double)length*percentage);\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; Math.min(numSymbols, length); i++) {\r\n    \t\t\tbuilder.append(symbol);\r\n    \t\t}\r\n    \t\tfor (int i = Math.min(length, numSymbols); i &lt; length; i++) {\r\n    \t\t\tbuilder.append(&#39; &#39;);\r\n    \t\t}\r\n    \t\tbuilder.append(String.format(&quot;[%s ]&quot;, symbol));\r\n    \t\t\r\n    \t\tif (numSymbols &gt;= length) {\r\n    \t\t\tbuilder.append(&quot; done&quot;);\r\n    \t\t} else {\r\n    \t\t\tbuilder.append(String.format(&quot;%d %%&quot;, (int)(percentage*100)));\r\n    \t\t}\r\n    \t\tSystem.out.println(builder.toString());\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String [] args) {\r\n    \t\tProgressBar bar = new ProgressBar(10, 50, &#39;=&#39;);\r\n    \t\tbar.increment(10);\r\n    \t\tbar.increment(15);\r\n    \t\tbar.increment(20);\r\n    \t\tbar.increment(5);\r\n    \t\tSystem.out.println(&quot;Now exceeding max..&quot;);\r\n    \t\tbar.increment(10);\r\n    \t\tbar.increment(5);\r\n    \t}\r\n    }","title":"Progressbar come outside bracket","body":"<p>Try this:</p>\n<pre><code>public class ProgressBar {\n    private int length;\n    private int maxSteps;\n    private int step;\n    private char symbol;\n\n    public ProgressBar(int length, int maxSteps, char symbol) {\n        this.length = length;\n        this.maxSteps = maxSteps;\n        this.symbol = symbol;\n    }\n    \n    public void increment() {\n        increment(1);\n    }\n    \n    public void increment(int numSteps) {\n        step+=numSteps;\n        print();\n    }\n    \n    private void print() {\n        float percentage = (float)step/(float)maxSteps;\n        int numSymbols = (int) Math.floor((double)length*percentage);\n        StringBuilder builder = new StringBuilder();\n        \n        for (int i = 0; i &lt; Math.min(numSymbols, length); i++) {\n            builder.append(symbol);\n        }\n        for (int i = Math.min(length, numSymbols); i &lt; length; i++) {\n            builder.append(' ');\n        }\n        builder.append(String.format(&quot;[%s ]&quot;, symbol));\n        \n        if (numSymbols &gt;= length) {\n            builder.append(&quot; done&quot;);\n        } else {\n            builder.append(String.format(&quot;%d %%&quot;, (int)(percentage*100)));\n        }\n        System.out.println(builder.toString());\n    }\n    \n    public static void main(String [] args) {\n        ProgressBar bar = new ProgressBar(10, 50, '=');\n        bar.increment(10);\n        bar.increment(15);\n        bar.increment(20);\n        bar.increment(5);\n        System.out.println(&quot;Now exceeding max..&quot;);\n        bar.increment(10);\n        bar.increment(5);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635527414,"creation_date":1635527414,"answer_id":69772552,"question_id":69770939,"body_markdown":"Change your `repeatString` method to the following:  Don&#39;t print anything here, just build up the string and return it.\r\n```\r\npublic static String repeatString(int number, String str) {\r\n\t\tString pad = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; number; i++) {\r\n\t\t\tpad += str;\r\n\t\t}\r\n\t\treturn pad;\r\n}","title":"Progressbar come outside bracket","body":"<p>Change your <code>repeatString</code> method to the following:  Don't print anything here, just build up the string and return it.</p>\n<pre><code>public static String repeatString(int number, String str) {\n        String pad = &quot;&quot;;\n        for (int i = 0; i &lt; number; i++) {\n            pad += str;\n        }\n        return pad;\n}\n</code></pre>\n"}],"owner":{"account_id":15088681,"reputation":1230,"user_id":10889184,"display_name":"B.Simsek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69772552,"answer_count":2,"score":0,"last_activity_date":1635527497,"creation_date":1635519332,"question_id":69770939,"body_markdown":"i am making a progress bar for my school assignment. But when i run my code my progress bar come outside my bracket, but the = most be inside the bracket.\r\n\r\n      public static String repeatString(int number, String str) {\r\n            for (int i = 0; i &lt; number; i++) {\r\n                System.out.print(str);            \r\n            }\r\n            return str;\r\n        }\r\n    \r\n        public static String formatPercentage(int percentage) {\r\n        if (percentage == 100) {\r\n            return &quot;done&quot;;\r\n        }\r\n        else{\r\n            return percentage + &quot;%&quot;;\r\n        }\r\n            \r\n        }\r\n    \r\n        public static String formatBar(int percentage, int length) {\r\n            int amount = percentage * length/ 100;\r\n            int size = length - amount;\r\n            return &quot;[&quot; + repeatString(amount, &quot;=&quot;) + repeatString(size, &quot; &quot;) + &quot;] &quot; + formatPercentage(percentage);\r\n        }\r\n\r\n\r\nthis is the result: \r\n\r\n              [= ] 5%\r\n    ==        [= ] 20%\r\n    =======   [= ] 70%\r\n    ==========[= ] done\r\n    ==============      [= ] 70%","title":"Progressbar come outside bracket","body":"<p>i am making a progress bar for my school assignment. But when i run my code my progress bar come outside my bracket, but the = most be inside the bracket.</p>\n<pre><code>  public static String repeatString(int number, String str) {\n        for (int i = 0; i &lt; number; i++) {\n            System.out.print(str);            \n        }\n        return str;\n    }\n\n    public static String formatPercentage(int percentage) {\n    if (percentage == 100) {\n        return &quot;done&quot;;\n    }\n    else{\n        return percentage + &quot;%&quot;;\n    }\n        \n    }\n\n    public static String formatBar(int percentage, int length) {\n        int amount = percentage * length/ 100;\n        int size = length - amount;\n        return &quot;[&quot; + repeatString(amount, &quot;=&quot;) + repeatString(size, &quot; &quot;) + &quot;] &quot; + formatPercentage(percentage);\n    }\n</code></pre>\n<p>this is the result:</p>\n<pre><code>          [= ] 5%\n==        [= ] 20%\n=======   [= ] 70%\n==========[= ] done\n==============      [= ] 70%\n</code></pre>\n"},{"tags":["java","forkjoinpool","java-17","openjdk-17"],"comments":[{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1635525680,"post_id":69768534,"comment_id":123330774,"body_markdown":"This parallel stream hack was never an intended feature. You can parallelize network calls easily by submitting tasks to an ExecutorService.","body":"This parallel stream hack was never an intended feature. You can parallelize network calls easily by submitting tasks to an ExecutorService."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1635528526,"post_id":69768534,"comment_id":123331648,"body_markdown":"@MikeFHay yes and no. If a developer decides not to assume that a parallel stream will use the pool of the current worker thread when the caller happens to be in such a worker thread, we can consider this feature a surprising behavior which can break the program in the way described in this question. If it‚Äôs not an intended feature that developers can use, it‚Äôs still a source of bugs that developers have to deal with. The JDK developers had enough time from JDK&#160;8 to JDK&#160;17 to remove this surprising behavior and didn‚Äôt. Deliberately.","body":"@MikeFHay yes and no. If a developer decides not to assume that a parallel stream will use the pool of the current worker thread when the caller happens to be in such a worker thread, we can consider this feature a surprising behavior which can break the program in the way described in this question. If it‚Äôs not an intended feature that developers can use, it‚Äôs still a source of bugs that developers have to deal with. The JDK developers had enough time from JDK 8 to JDK 17 to remove this surprising behavior and didn‚Äôt. Deliberately."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1635527131,"creation_date":1635525454,"answer_id":69772222,"question_id":69768534,"body_markdown":"You have submitted one task, but that uses `parallelStream()` internally which then runs each http on different threads of the same fork join pool.\r\n\r\nThere is a difference in the way JDK16 and 17 deal with the situation that the all the available threads in the pool are in use - this is where the `saturated` parameter becomes relevent. \r\n\r\nWhen `threads &gt; urls.size()` the pool is never saturated, but in your second case `threads == urls.size()` so all the threads are in use. Replace `null` in the constructor of the `ForkJoinPool` by a `saturate` variable to see when saturate test condition is triggered:\r\n\r\n    Predicate&lt;? super ForkJoinPool&gt; saturate = pool -&gt; {\r\n        boolean allow = false;\r\n        System.out.println(Thread.currentThread().getName()+&quot; saturate:&quot;+allow);\r\n        return allow;\r\n    };\r\n\r\nOn JDK16 `saturate` predicate gets called several times but continues, whereas on JDK17 the processing stops on first call if it returns false. If you switch `allow = true` then JDK17 won&#39;t send `RejectedExecutionException` when the number of in-progress requests is the same as the threads in use for the `parallelStream()`, and will continue processing further requests when other requests are completed.\r\n\r\n\r\n    \r\n\r\n","title":"Why does Java 17 throw a RejectedExecutionException when adding tasks to a ForkJoinPool?","body":"<p>You have submitted one task, but that uses <code>parallelStream()</code> internally which then runs each http on different threads of the same fork join pool.</p>\n<p>There is a difference in the way JDK16 and 17 deal with the situation that the all the available threads in the pool are in use - this is where the <code>saturated</code> parameter becomes relevent.</p>\n<p>When <code>threads &gt; urls.size()</code> the pool is never saturated, but in your second case <code>threads == urls.size()</code> so all the threads are in use. Replace <code>null</code> in the constructor of the <code>ForkJoinPool</code> by a <code>saturate</code> variable to see when saturate test condition is triggered:</p>\n<pre><code>Predicate&lt;? super ForkJoinPool&gt; saturate = pool -&gt; {\n    boolean allow = false;\n    System.out.println(Thread.currentThread().getName()+&quot; saturate:&quot;+allow);\n    return allow;\n};\n</code></pre>\n<p>On JDK16 <code>saturate</code> predicate gets called several times but continues, whereas on JDK17 the processing stops on first call if it returns false. If you switch <code>allow = true</code> then JDK17 won't send <code>RejectedExecutionException</code> when the number of in-progress requests is the same as the threads in use for the <code>parallelStream()</code>, and will continue processing further requests when other requests are completed.</p>\n"}],"owner":{"account_id":243605,"reputation":6605,"user_id":515902,"accept_rate":64,"display_name":"TTT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2018,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69772222,"answer_count":1,"score":6,"last_activity_date":1635527131,"creation_date":1635508927,"question_id":69768534,"body_markdown":"I used Java 16 to make requests to an API over HTTP. To speed this up overall, I&#39;ve loaded this onto a custom `ForkJoinPool`. I&#39;ve compiled a reproducing example below.\r\n\r\nSince moving to Java 17 (openjdk build 17.0.1+12-39), this throws a RejectedExecutionException:\r\n\r\n```banana\r\nCaused by: java.util.concurrent.RejectedExecutionException: Thread limit exceeded replacing blocked worker\r\n\tat java.base/java.util.concurrent.ForkJoinPool.tryCompensate(ForkJoinPool.java:1819)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.compensatedBlock(ForkJoinPool.java:3446)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3432)\r\n\tat java.base/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1898)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2072)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:553)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\r\n\tat Test.lambda$retrieveMany$1(Test.java:30)\r\n```\r\n\r\nWhy does this happen? Did something change regarding ForkJoinPool that I&#39;m unaware of?\r\n\r\n**Code**\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ForkJoinPool;\r\n\r\nimport static java.util.concurrent.TimeUnit.MINUTES;\r\nimport static java.util.stream.Collectors.toList;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        final List&lt;String&gt; urls = List.of(&quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;);\r\n\r\n        // This succeeds on JDK 16, 17\r\n        retrieveMany(urls, 4);\r\n\r\n        // This fails on JDK 17, but succeeds on 16\r\n        retrieveMany(urls, 3);\r\n    }\r\n\r\n    private static List&lt;String&gt; retrieveMany(List&lt;String&gt; urls, int threads) throws InterruptedException, ExecutionException {\r\n        return new ForkJoinPool(threads, ForkJoinPool.defaultForkJoinWorkerThreadFactory, (t, e) -&gt; {}, true, 0, threads, 1, null, 1, MINUTES)\r\n                .submit(() -&gt; urls.parallelStream()\r\n                        .map(url -&gt; {\r\n                            try {\r\n                                return HttpClient.newBuilder().build().send(HttpRequest.newBuilder(URI.create(url)).build(), BodyHandlers.ofString()).body();\r\n                            } catch (IOException | InterruptedException aE) { }\r\n                            return null;\r\n                        })\r\n                        .collect(toList()))\r\n                .get();\r\n    }\r\n\r\n}\r\n```","title":"Why does Java 17 throw a RejectedExecutionException when adding tasks to a ForkJoinPool?","body":"<p>I used Java 16 to make requests to an API over HTTP. To speed this up overall, I've loaded this onto a custom <code>ForkJoinPool</code>. I've compiled a reproducing example below.</p>\n<p>Since moving to Java 17 (openjdk build 17.0.1+12-39), this throws a RejectedExecutionException:</p>\n<pre><code>Caused by: java.util.concurrent.RejectedExecutionException: Thread limit exceeded replacing blocked worker\n    at java.base/java.util.concurrent.ForkJoinPool.tryCompensate(ForkJoinPool.java:1819)\n    at java.base/java.util.concurrent.ForkJoinPool.compensatedBlock(ForkJoinPool.java:3446)\n    at java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3432)\n    at java.base/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1898)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2072)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:553)\n    at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\n    at Test.lambda$retrieveMany$1(Test.java:30)\n</code></pre>\n<p>Why does this happen? Did something change regarding ForkJoinPool that I'm unaware of?</p>\n<p><strong>Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ForkJoinPool;\n\nimport static java.util.concurrent.TimeUnit.MINUTES;\nimport static java.util.stream.Collectors.toList;\n\npublic class Test {\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        final List&lt;String&gt; urls = List.of(&quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;);\n\n        // This succeeds on JDK 16, 17\n        retrieveMany(urls, 4);\n\n        // This fails on JDK 17, but succeeds on 16\n        retrieveMany(urls, 3);\n    }\n\n    private static List&lt;String&gt; retrieveMany(List&lt;String&gt; urls, int threads) throws InterruptedException, ExecutionException {\n        return new ForkJoinPool(threads, ForkJoinPool.defaultForkJoinWorkerThreadFactory, (t, e) -&gt; {}, true, 0, threads, 1, null, 1, MINUTES)\n                .submit(() -&gt; urls.parallelStream()\n                        .map(url -&gt; {\n                            try {\n                                return HttpClient.newBuilder().build().send(HttpRequest.newBuilder(URI.create(url)).build(), BodyHandlers.ofString()).body();\n                            } catch (IOException | InterruptedException aE) { }\n                            return null;\n                        })\n                        .collect(toList()))\n                .get();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","localdatetime"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1636353477,"post_id":69770270,"comment_id":123524058,"body_markdown":"A question: [Get first and last day of month using threeten, LocalDate](https://stackoverflow.com/q/22223786/10819573).","body":"A question: <a href=\"https://stackoverflow.com/q/22223786/10819573\">Get first and last day of month using threeten, LocalDate</a>."}],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635516574,"creation_date":1635516574,"answer_id":69770347,"question_id":69770270,"body_markdown":"Use [YearMonth.atEndOfMonth][1]\r\n\r\n```java\r\nLocalDate date = LocalDate.now();\r\nYearMonth month = YearMonth.from(date);\r\nLocalDate end = month.atEndOfMonth();\r\n```\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#atEndOfMonth--","title":"Get the month last date","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#atEndOfMonth--\" rel=\"noreferrer\">YearMonth.atEndOfMonth</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate date = LocalDate.now();\nYearMonth month = YearMonth.from(date);\nLocalDate end = month.atEndOfMonth();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635516794,"creation_date":1635516794,"answer_id":69770396,"question_id":69770270,"body_markdown":"```java\r\nimport java.time.LocalDateTime;\r\nimport java.time.temporal.TemporalAdjusters;\r\n\r\npublic class Main {\r\n    public static void main(String args[]) {\r\n      LocalDateTime a = LocalDateTime.of(2021, 10, 29, 0, 0);\r\n      LocalDateTime b = a.with(TemporalAdjusters.lastDayOfMonth());\r\n      \r\n      System.out.println(a);\r\n      System.out.println(b);\r\n    }\r\n}\r\n```","title":"Get the month last date","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.time.temporal.TemporalAdjusters;\n\npublic class Main {\n    public static void main(String args[]) {\n      LocalDateTime a = LocalDateTime.of(2021, 10, 29, 0, 0);\n      LocalDateTime b = a.with(TemporalAdjusters.lastDayOfMonth());\n      \n      System.out.println(a);\n      System.out.println(b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635527101,"creation_date":1635526666,"answer_id":69772424,"question_id":69770270,"body_markdown":"You asked:\r\n\r\n&gt; How do I add the endTime of day to the localDateTime. I see an option called LocalTime.MAX but it adds trailing .99999\r\n\r\nDo not use `LocalDateTime` if you are tracking moments, specific points on the timeline. That class lacks the context of a time zone or offset-from-UTC. For moments, use `Instant`, `OffsetDateTime`, or `ZonedDateTime`. \r\n\r\nRepresent an entire month with [`YearMonth`][1].\r\n\r\nYou should not try to nail down the last moment of the month. That last moment is infinitely divisible. Generally, the best way to define a span of time is the Half-Open approach rather than Fully-Closed. In Half-Open, the beginning is *inclusive* while the ending is *exclusive*. \r\n\r\nSo a day starts with first moment of the day and runs up to, but does not include, the first moment of the *next* day. A month starts with the first moment of the first day of the month and runs up to, but does not include, the first moment of the first of the *next* month.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    \r\n    YearMonth currentMonth = YearMonth.now( z ) ;\r\n    YearMonth followingMonth = currentMonth.plusMonths( 1 ) ;\r\n    \r\n    ZonedDateTime start = currentMonth.atDay( 1 ).atStartOfDay( z ) ;\r\n    ZonedDateTime end = followingMonth.atDay( 1 ).atStartOfDay( z ) ;\r\n\r\nTo represent that span of time, add the [*ThreeTen-Extra*][2] library to your project. Use the [`Interval`][3] class with its handy comparison methods such as `abuts`, `overlaps`, and `contains`. \r\n\r\n\r\n    org.threeten.extra.Interval interval = Interval.of( start.toInstant() , end.toInstant() ) ; \r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\r\n  [2]: https://www.threeten.org/threeten-extra/\r\n  [3]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html","title":"Get the month last date","body":"<p>You asked:</p>\n<blockquote>\n<p>How do I add the endTime of day to the localDateTime. I see an option called LocalTime.MAX but it adds trailing .99999</p>\n</blockquote>\n<p>Do not use <code>LocalDateTime</code> if you are tracking moments, specific points on the timeline. That class lacks the context of a time zone or offset-from-UTC. For moments, use <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code>.</p>\n<p>Represent an entire month with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>.</p>\n<p>You should not try to nail down the last moment of the month. That last moment is infinitely divisible. Generally, the best way to define a span of time is the Half-Open approach rather than Fully-Closed. In Half-Open, the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>.</p>\n<p>So a day starts with first moment of the day and runs up to, but does not include, the first moment of the <em>next</em> day. A month starts with the first moment of the first day of the month and runs up to, but does not include, the first moment of the first of the <em>next</em> month.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\n\nYearMonth currentMonth = YearMonth.now( z ) ;\nYearMonth followingMonth = currentMonth.plusMonths( 1 ) ;\n\nZonedDateTime start = currentMonth.atDay( 1 ).atStartOfDay( z ) ;\nZonedDateTime end = followingMonth.atDay( 1 ).atStartOfDay( z ) ;\n</code></pre>\n<p>To represent that span of time, add the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. Use the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class with its handy comparison methods such as <code>abuts</code>, <code>overlaps</code>, and <code>contains</code>.</p>\n<pre><code>org.threeten.extra.Interval interval = Interval.of( start.toInstant() , end.toInstant() ) ; \n</code></pre>\n"}],"owner":{"account_id":22288920,"reputation":157,"user_id":16516119,"display_name":"joseph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69770396,"answer_count":3,"score":3,"last_activity_date":1635527101,"creation_date":1635516234,"question_id":69770270,"body_markdown":"I have a LocalDateTime object I want to get the last date of the month. So if the localDateTime points to today&#39;s date of 29th October. I want to convert it to 31st October &lt;br&gt; Is there a clean and easy way to do it?\r\n&lt;br&gt;\r\nMy Thoughts: &lt;br&gt;\r\nOne way would be to get the month and then make a switch statement. But that would be the long and tedious approach. Not sure if there is an inbuilt method &lt;br&gt; to do the same","title":"Get the month last date","body":"<p>I have a LocalDateTime object I want to get the last date of the month. So if the localDateTime points to today's date of 29th October. I want to convert it to 31st October <br> Is there a clean and easy way to do it?\n<br>\nMy Thoughts: <br>\nOne way would be to get the month and then make a switch statement. But that would be the long and tedious approach. Not sure if there is an inbuilt method <br> to do the same</p>\n"},{"tags":["java","firebase","spring-boot","react-native","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":5557748,"reputation":3715,"user_id":4408508,"display_name":"Suraj Malviya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635526833,"creation_date":1555510543,"answer_id":55729670,"question_id":55728501,"body_markdown":"Firebase admin APIs and SDK gives you the analytical tools present in firebase console itself in `Reports Tab` and also the ability to extract and export the message delivery data in BigQuery to further use it. Once you get the data, you can process it as per your use case.\r\n\r\nYou can further study about the message delivery stuff [here][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/understand-delivery","title":"How to know if a notification from FCM not reach the target device?","body":"<p>Firebase admin APIs and SDK gives you the analytical tools present in firebase console itself in <code>Reports Tab</code> and also the ability to extract and export the message delivery data in BigQuery to further use it. Once you get the data, you can process it as per your use case.</p>\n<p>You can further study about the message delivery stuff <a href=\"https://firebase.google.com/docs/cloud-messaging/understand-delivery\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":13069725,"reputation":783,"user_id":9443693,"display_name":"Nguyen Hoang Vu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635526833,"creation_date":1555507182,"question_id":55728501,"body_markdown":"I want to know if a notification from FCM reach a target device or not, so I can send an sms instead. How can I do that?\r\nI&#39;m building a cross OS app with react native, and I&#39;m using FCM to send notification, but there is a problem, if the device is not online, the notification will not reach it. There is constraint in time, so I want to send an sms instead. Is there any approach for this situation?","title":"How to know if a notification from FCM not reach the target device?","body":"<p>I want to know if a notification from FCM reach a target device or not, so I can send an sms instead. How can I do that?\nI'm building a cross OS app with react native, and I'm using FCM to send notification, but there is a problem, if the device is not online, the notification will not reach it. There is constraint in time, so I want to send an sms instead. Is there any approach for this situation?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6471354,"reputation":1382,"user_id":5011400,"accept_rate":78,"display_name":"Yati Sawhney"},"score":4,"creation_date":1525878881,"post_id":50256720,"comment_id":87531304,"body_markdown":"No this will return you an empty list even if nothing gets filtered","body":"No this will return you an empty list even if nothing gets filtered"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":1,"creation_date":1688135217,"post_id":50256720,"comment_id":135037557,"body_markdown":"I tested all Collectors returned by `java.util.stream.Collectors.toXXX` and they will all return an empty collection (not `null`) if provided an empty stream.","body":"I tested all Collectors returned by <code>java.util.stream.Collectors.toXXX</code> and they will all return an empty collection (not <code>null</code>) if provided an empty stream."}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"M·∫°nh Quy·∫øt Nguy·ªÖn"},"down_vote_count":2,"up_vote_count":73,"is_accepted":true,"score":71,"last_activity_date":1576260960,"creation_date":1525878897,"answer_id":50256753,"question_id":50256720,"body_markdown":"`Collector.toList()` will return an **empty** List for you.\r\n\r\nHere is the implementation:\r\n\r\n    public static &lt;T&gt;\r\n    Collector&lt;T, ?, List&lt;T&gt;&gt; toList() {\r\n        return new CollectorImpl&lt;&gt;((Supplier&lt;List&lt;T&gt;&gt;) ArrayList::new, List::add,\r\n                                   (left, right) -&gt; { left.addAll(right); return left; },\r\n                                   CH_ID);\r\n    }\r\n\r\nAs you can see `ArrayList::new` is being used as a container for your items.\r\n\r\n\r\nFrom JavaDoc of [Collector](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html):\r\n\r\n&gt; A mutable reduction operation that\r\n&gt; **accumulates input elements into a mutable result container**, optionally\r\n&gt; transforming the accumulated result into a final representation after\r\n&gt; all input elements have been processed. Reduction operations can be\r\n&gt; performed either sequentially or in parallel.\r\n&gt; \r\n&gt; A Collector is specified by four functions that work together to\r\n&gt; accumulate entries into a mutable result container, and optionally\r\n&gt; perform a final transform on the result. They are:\r\n&gt; \r\n&gt; - **creation of a new result container (supplier())** \r\n\r\n&gt; - incorporating a new data element into a result container (accumulator()) \r\n&gt; - combining two result containers into one (combiner()) \r\n&gt; - performing an optional final transform on the container (finisher())\r\n\r\n\r\nAnd\r\n\r\n&gt; A sequential implementation of a reduction using a collector would\r\n&gt; **create a single result container using the supplier function**, and\r\n&gt; invoke the accumulator function once for each input element. A\r\n&gt; parallel implementation would partition the input, **create a result**\r\n&gt; **container for each partition**, accumulate the contents of each\r\n&gt; partition into a subresult for that partition, and then use the\r\n&gt; combiner function to merge the subresults into a combined result.\r\n\r\nSo as long as you don&#39;t do weird things like combine function return `null`, the `Collector` always return at least a `mutable container` using your provided `supplier` function. \r\n\r\nAnd I think it&#39;s very counter-intuitive if an implementation would ever return `null` container.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p><code>Collector.toList()</code> will return an <strong>empty</strong> List for you.</p>\n\n<p>Here is the implementation:</p>\n\n<pre><code>public static &lt;T&gt;\nCollector&lt;T, ?, List&lt;T&gt;&gt; toList() {\n    return new CollectorImpl&lt;&gt;((Supplier&lt;List&lt;T&gt;&gt;) ArrayList::new, List::add,\n                               (left, right) -&gt; { left.addAll(right); return left; },\n                               CH_ID);\n}\n</code></pre>\n\n<p>As you can see <code>ArrayList::new</code> is being used as a container for your items.</p>\n\n<p>From JavaDoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"noreferrer\">Collector</a>:</p>\n\n<blockquote>\n  <p>A mutable reduction operation that\n  <strong>accumulates input elements into a mutable result container</strong>, optionally\n  transforming the accumulated result into a final representation after\n  all input elements have been processed. Reduction operations can be\n  performed either sequentially or in parallel.</p>\n  \n  <p>A Collector is specified by four functions that work together to\n  accumulate entries into a mutable result container, and optionally\n  perform a final transform on the result. They are:</p>\n  \n  <ul>\n  <li><p><strong>creation of a new result container (supplier())</strong> </p></li>\n  <li><p>incorporating a new data element into a result container (accumulator()) </p></li>\n  <li>combining two result containers into one (combiner()) </li>\n  <li>performing an optional final transform on the container (finisher())</li>\n  </ul>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>A sequential implementation of a reduction using a collector would\n  <strong>create a single result container using the supplier function</strong>, and\n  invoke the accumulator function once for each input element. A\n  parallel implementation would partition the input, <strong>create a result</strong>\n  <strong>container for each partition</strong>, accumulate the contents of each\n  partition into a subresult for that partition, and then use the\n  combiner function to merge the subresults into a combined result.</p>\n</blockquote>\n\n<p>So as long as you don't do weird things like combine function return <code>null</code>, the <code>Collector</code> always return at least a <code>mutable container</code> using your provided <code>supplier</code> function. </p>\n\n<p>And I think it's very counter-intuitive if an implementation would ever return <code>null</code> container.</p>\n"},{"tags":[],"owner":{"account_id":6190535,"reputation":338,"user_id":4823365,"display_name":"Jan Ossowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525879004,"creation_date":1525879004,"answer_id":50256788,"question_id":50256720,"body_markdown":"This is collector-dependant. The one You&#39;re using (Collectors.toList()) returns an empty list.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>This is collector-dependant. The one You're using (Collectors.toList()) returns an empty list.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1525879852,"creation_date":1525879852,"answer_id":50257061,"question_id":50256720,"body_markdown":"This is not dependent on `Stream.collect`, but on the individual [`Collector`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html). `Collectors.toList()` will return an empty `ArrayList`.\r\n\r\nThat said, there&#39;s no reason someone couldn&#39;t use a weird `Collector` to return null in certain circumstances:\r\n\r\n    .collect(\r\n        Collector.of(\r\n            ArrayList::new,\r\n            ArrayList::add,\r\n            (a, b) -&gt; {\r\n                a.addAll(b);\r\n                return a;\r\n            },\r\n            a -&gt; a.isEmpty() ? null : a  // finisher replaces empty list with null\r\n        )\r\n    );\r\n\r\nSo the `Collector` is the thing you need to remember to check. I believe all of the [`Collectors` available out-of-the-box](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) will return empty collections, as you&#39;d expect.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>This is not dependent on <code>Stream.collect</code>, but on the individual <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"noreferrer\"><code>Collector</code></a>. <code>Collectors.toList()</code> will return an empty <code>ArrayList</code>.</p>\n\n<p>That said, there's no reason someone couldn't use a weird <code>Collector</code> to return null in certain circumstances:</p>\n\n<pre><code>.collect(\n    Collector.of(\n        ArrayList::new,\n        ArrayList::add,\n        (a, b) -&gt; {\n            a.addAll(b);\n            return a;\n        },\n        a -&gt; a.isEmpty() ? null : a  // finisher replaces empty list with null\n    )\n);\n</code></pre>\n\n<p>So the <code>Collector</code> is the thing you need to remember to check. I believe all of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\"><code>Collectors</code> available out-of-the-box</a> will return empty collections, as you'd expect.</p>\n"},{"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525880927,"creation_date":1525880927,"answer_id":50257396,"question_id":50256720,"body_markdown":"I think this part of the documentation says that it cannot be null:\r\n\r\n&gt; Returns a Collector that accumulates the input elements into a **ne**w\r\n&gt; **List**.\r\n\r\n**Highlights** added by me. I think this **new List** means that something that isn&#39;t null.\r\n\r\nI started to check `ReferencePipeline.collect()` to check whether it&#39;s true for the actual implementation. Unfortunately, it was a futile attempt. There are so many cases here, like is it parallel? is it after a `forEach`? etc.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>I think this part of the documentation says that it cannot be null:</p>\n\n<blockquote>\n  <p>Returns a Collector that accumulates the input elements into a <strong>ne</strong>w\n  <strong>List</strong>.</p>\n</blockquote>\n\n<p><strong>Highlights</strong> added by me. I think this <strong>new List</strong> means that something that isn't null.</p>\n\n<p>I started to check <code>ReferencePipeline.collect()</code> to check whether it's true for the actual implementation. Unfortunately, it was a futile attempt. There are so many cases here, like is it parallel? is it after a <code>forEach</code>? etc.</p>\n"},{"tags":[],"owner":{"account_id":14060187,"reputation":29,"user_id":10156461,"display_name":"Romio Ranjan Sahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599408198,"creation_date":1599317575,"answer_id":63755244,"question_id":50256720,"body_markdown":"No collect will never return null, in order to check use `isEmpty()` instead of null","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>No collect will never return null, in order to check use <code>isEmpty()</code> instead of null</p>\n"},{"tags":[],"owner":{"account_id":262364,"reputation":2977,"user_id":547185,"accept_rate":43,"display_name":"AHHP"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1607261366,"creation_date":1607261366,"answer_id":65168618,"question_id":50256720,"body_markdown":"You could use `Collectors::collectingAndThen` to pass collect() result to a `Function&lt;T,R&gt;`. Return value of the `Function&lt;T,R&gt;` will be return value of collect().\r\n```java\r\nList&lt;String&gt; filteredList = inputList.stream()\r\n .filter(c -&gt; c.isActive())\r\n .collect(Collectors.collectingAndThen(Collectors.toList(), c -&gt; !c.isEmpty()?c:null));","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>You could use <code>Collectors::collectingAndThen</code> to pass collect() result to a <code>Function&lt;T,R&gt;</code>. Return value of the <code>Function&lt;T,R&gt;</code> will be return value of collect().</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; filteredList = inputList.stream()\n .filter(c -&gt; c.isActive())\n .collect(Collectors.collectingAndThen(Collectors.toList(), c -&gt; !c.isEmpty()?c:null));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23184525,"reputation":11,"user_id":17281859,"display_name":"user17281859"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635526383,"creation_date":1635526383,"answer_id":69772380,"question_id":50256720,"body_markdown":"I believe the following code is a good implementation if you really need to return null when the list is empty (assuming the type of the variable `c` is `MyObj`):\r\n\r\n```\r\nimport static java.util.stream.Collectors.collectingAndThen;\r\nimport static java.util.stream.Collectors.toList;\r\n\r\n...\r\n\r\n  List&lt;String&gt; filteredList = inputList.stream()\r\n    .filter(MyObj::isActive)\r\n    .collect(collectingAndThen(toList(), Stream::of)\r\n    .filter(List::isEmpty)\r\n    .findAny()\r\n    .orElse(null);\r\n```","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>I believe the following code is a good implementation if you really need to return null when the list is empty (assuming the type of the variable <code>c</code> is <code>MyObj</code>):</p>\n<pre><code>import static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.toList;\n\n...\n\n  List&lt;String&gt; filteredList = inputList.stream()\n    .filter(MyObj::isActive)\n    .collect(collectingAndThen(toList(), Stream::of)\n    .filter(List::isEmpty)\n    .findAny()\n    .orElse(null);\n</code></pre>\n"}],"owner":{"account_id":15978,"reputation":9755,"user_id":34372,"accept_rate":62,"display_name":"Dean Schulze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71591,"favorite_count":0,"down_vote_count":1,"up_vote_count":56,"accepted_answer_id":50256753,"answer_count":7,"score":55,"last_activity_date":1635526383,"creation_date":1525878777,"question_id":50256720,"body_markdown":"The JavaDoc for Stream.collect() says that it returns &quot;the result of the reduction&quot;.  That doesn&#39;t tell me if code like this can return null for `filteredList`:\r\n\r\n    List&lt;String&gt; filteredList = inputList.stream()\r\n        .filter(c -&gt; c.isActive())\r\n        .collect(Collectors.toList());\r\n\r\nI would expect that if it could return null then it would return an `Optional`, but it doesn&#39;t say that either.\r\n\r\nIs it documented anywhere whether `Stream.collect()` can return null?","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>The JavaDoc for Stream.collect() says that it returns &quot;the result of the reduction&quot;.  That doesn't tell me if code like this can return null for <code>filteredList</code>:</p>\n<pre><code>List&lt;String&gt; filteredList = inputList.stream()\n    .filter(c -&gt; c.isActive())\n    .collect(Collectors.toList());\n</code></pre>\n<p>I would expect that if it could return null then it would return an <code>Optional</code>, but it doesn't say that either.</p>\n<p>Is it documented anywhere whether <code>Stream.collect()</code> can return null?</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":119946,"reputation":4761,"user_id":312041,"display_name":"tym32167"},"score":3,"creation_date":1635524553,"post_id":69772051,"comment_id":123330352,"body_markdown":"why dont use enum for that purpose?","body":"why dont use enum for that purpose?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1635524617,"post_id":69772051,"comment_id":123330374,"body_markdown":"No, there is not possible besides using reflection or manually mapping all options.","body":"No, there is not possible besides using reflection or manually mapping all options."},{"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1635524722,"post_id":69772051,"comment_id":123330410,"body_markdown":"Why not use an actual enum?","body":"Why not use an actual enum?"}],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635526164,"creation_date":1635525797,"answer_id":69772288,"question_id":69772051,"body_markdown":"Technically, there is, using reflection:\r\n\r\n```java\r\n    String getConstantName(int value) {\r\n        // use reflection to check all fields of NUMS\r\n        for (Field f : NUMS.class.getFields()) {\r\n            try {\r\n                if (f.getInt(null) == value) {\r\n                    return f.getName();\r\n                }\r\n            } catch (IllegalAccessException e) {\r\n                // ignore\r\n            }\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n```\r\n\r\nBut this is just for education purposes, please don&#39;t use approaches like this in real code. As other people suggested, just use an `enum`.","title":"How to get member name from Interface that acts at Enum, Java","body":"<p>Technically, there is, using reflection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String getConstantName(int value) {\n        // use reflection to check all fields of NUMS\n        for (Field f : NUMS.class.getFields()) {\n            try {\n                if (f.getInt(null) == value) {\n                    return f.getName();\n                }\n            } catch (IllegalAccessException e) {\n                // ignore\n            }\n        }\n        return &quot;&quot;;\n    }\n</code></pre>\n<p>But this is just for education purposes, please don't use approaches like this in real code. As other people suggested, just use an <code>enum</code>.</p>\n"}],"owner":{"account_id":13653414,"reputation":176,"user_id":9850636,"display_name":"BOB123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69772288,"answer_count":1,"score":0,"last_activity_date":1635526164,"creation_date":1635524472,"question_id":69772051,"body_markdown":"Say I&#39;m having the following Interface :\r\n\r\n    public interface NUMS {\r\n      public static final int ZERO = 0;\r\n      public static final int ONE = 1;\r\n      public static final int TWO = 2;\r\n     }\r\n\r\nThen I have a function that returns int between 0-2.\r\nIs there any option to get the member name that the number represents in the Interface?\r\n\r\nex:\r\n\r\nfunctions return 1, I want to map it back to ONE, without using Map/Array.\r\n\r\n\r\n\r\nThanks!\r\n","title":"How to get member name from Interface that acts at Enum, Java","body":"<p>Say I'm having the following Interface :</p>\n<pre><code>public interface NUMS {\n  public static final int ZERO = 0;\n  public static final int ONE = 1;\n  public static final int TWO = 2;\n }\n</code></pre>\n<p>Then I have a function that returns int between 0-2.\nIs there any option to get the member name that the number represents in the Interface?</p>\n<p>ex:</p>\n<p>functions return 1, I want to map it back to ONE, without using Map/Array.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-mvc","foreach","nullpointerexception"],"comments":[{"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"score":0,"creation_date":1635524041,"post_id":69771726,"comment_id":123330152,"body_markdown":"There is no reason this piece of Expression language would throw a NullPointerException. Are you sure there isn&#39;t another EL statement that could throw it?","body":"There is no reason this piece of Expression language would throw a NullPointerException. Are you sure there isn&#39;t another EL statement that could throw it?"},{"owner":{"account_id":23139822,"reputation":1,"user_id":17243491,"display_name":"Oscar"},"score":0,"creation_date":1635525376,"post_id":69771726,"comment_id":123330656,"body_markdown":"Yes, I am sure, I did debug and test, I dont&#180;n know why, but any jstl tag don&#180;t work.","body":"Yes, I am sure, I did debug and test, I dont&#180;n know why, but any jstl tag don&#180;t work."}],"owner":{"account_id":23139822,"reputation":1,"user_id":17243491,"display_name":"Oscar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635526158,"creation_date":1635522896,"question_id":69771726,"body_markdown":"I am using spring 5.3.7, and in my JSP  I added the line below \r\n\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n\r\nWhen I start my application, Its responde the error below\r\n\r\n&gt; [10/29/21 10:23:38:455 CDT] 000000c8 ServletWrappe E\r\n&gt; com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: An\r\n&gt; exception was thrown by one of the service methods of the servlet\r\n&gt; [/WEB-INF/jsp/private/inicio.jsp] in application [MyApplication].\r\n&gt; Exception created : [java.lang.NullPointerException \tat\r\n&gt; org.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:106)\r\n&gt; \tat com.ibm._jsp._main._jspx_meth_c_forEach_0(_main.java:1225) \tat\r\n&gt; com.ibm._jsp._main._jspService(_main.java:358).\r\n\r\nThe object response has data, I validated it, but for testing I add the line below, but the error continues.\r\n\r\n    &lt;c:forEach var = &quot;i&quot; items=&quot;1,4,5,6,7,8,9&quot;&gt; \r\n    \r\n      Item &lt;c:out value = &quot;No. ${i}&quot;/&gt;&lt;p&gt; \r\n    \r\n    &lt;/c:forEach&gt;\r\n\r\nAlso, I have below dependency in my pom.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNote. This issue is only with JSTL Tags, if I remove the code of JSTL, my application start without problems.\r\n\r\nI hope someone can help me, thanks for reading.","title":"JSTL Library Tags Error, NullPointerException","body":"<p>I am using spring 5.3.7, and in my JSP  I added the line below</p>\n<pre><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\n</code></pre>\n<p>When I start my application, Its responde the error below</p>\n<blockquote>\n<p>[10/29/21 10:23:38:455 CDT] 000000c8 ServletWrappe E\ncom.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: An\nexception was thrown by one of the service methods of the servlet\n[/WEB-INF/jsp/private/inicio.jsp] in application [MyApplication].\nException created : [java.lang.NullPointerException   at\norg.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:106)\nat com.ibm._jsp._main._jspx_meth_c_forEach_0(_main.java:1225)   at\ncom.ibm._jsp._main._jspService(_main.java:358).</p>\n</blockquote>\n<p>The object response has data, I validated it, but for testing I add the line below, but the error continues.</p>\n<pre><code>&lt;c:forEach var = &quot;i&quot; items=&quot;1,4,5,6,7,8,9&quot;&gt; \n\n  Item &lt;c:out value = &quot;No. ${i}&quot;/&gt;&lt;p&gt; \n\n&lt;/c:forEach&gt;\n</code></pre>\n<p>Also, I have below dependency in my pom.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note. This issue is only with JSTL Tags, if I remove the code of JSTL, my application start without problems.</p>\n<p>I hope someone can help me, thanks for reading.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635340204,"creation_date":1635340204,"answer_id":69739313,"question_id":69739146,"body_markdown":"Use MaterialButton instead of Button. MaterialButton is a subtype of Button that supports additional features. The Button that is in your XML layout is actually a MaterialButton if you&#39;re using a Material Components theme. The theme automatically swaps out Buttons for MaterialButtons when your XML is inflated. So, when dynamically creating buttons in your Java code, you must use MaterialButton if you want it to match the original.\r\n\r\nAlso, when using MaterialButton, never call `setBackground()` because this causes undefined behavior. It likely will prevent the ripple effect from occurring as well.\r\n\r\nAlternatively, you can define your Button in its own XML file, even with the layout params it needs for LinearLayout. Then inflate the XML each time you need another button.\r\n\r\n```\r\nfor(String text : readFromSharedPreferences) {\r\n    Button btn = requireContext().getLayoutInflater()\r\n        .inflate(R.layout.my_button, layout, true); // true adds it to layout\r\n    btn.setText(text);\r\n    btn.setTag(text);\r\n}\r\n```","title":"Adding basic click animation to dynamic buttons","body":"<p>Use MaterialButton instead of Button. MaterialButton is a subtype of Button that supports additional features. The Button that is in your XML layout is actually a MaterialButton if you're using a Material Components theme. The theme automatically swaps out Buttons for MaterialButtons when your XML is inflated. So, when dynamically creating buttons in your Java code, you must use MaterialButton if you want it to match the original.</p>\n<p>Also, when using MaterialButton, never call <code>setBackground()</code> because this causes undefined behavior. It likely will prevent the ripple effect from occurring as well.</p>\n<p>Alternatively, you can define your Button in its own XML file, even with the layout params it needs for LinearLayout. Then inflate the XML each time you need another button.</p>\n<pre><code>for(String text : readFromSharedPreferences) {\n    Button btn = requireContext().getLayoutInflater()\n        .inflate(R.layout.my_button, layout, true); // true adds it to layout\n    btn.setText(text);\n    btn.setTag(text);\n}\n</code></pre>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635526112,"creation_date":1635339470,"question_id":69739146,"body_markdown":"I have a simple button that looks like:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:tag=&quot;general&quot;\r\n    android:id=&quot;@+id/root&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;#343535&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.fragments.GeneralFragment&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/hello&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:onClick=&quot;onClick&quot;\r\n        android:text=&quot;@string/hello&quot; /&gt;\r\n```\r\n\r\nInstead of static, these buttons should now be dynamic\r\n\r\n```java  \r\nButton button = (Button) layout.getChildAt(0);\r\nfor(String text : readFromSharedPreferences) {\r\n        // Set the layout\r\n        Button btn = new Button(this.getContext());\r\n        btn.setTextAlignment(View.TEXT_ALIGNMENT_TEXT_START);\r\n        btn.setText(text);\r\n        btn.setTag(text);\r\n        btn.setLayoutParams(button.getLayoutParams());\r\n        btn.setBackground(button.getBackground());\r\n        layout.addView(btn);\r\n```\r\nThe static button has an animation when I click on it. That looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut the dynamic button has no animation. So when I click on it, nothing happens. That looks like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I add this animation to my dynamic buttons?\r\n\r\nUpdate\r\n------\r\nI have figured out that my loop contains an on-touch listener. That looks like this:\r\n```java\r\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\r\n    // No code in here\r\n});\r\n```\r\nIf I remove that listener (even if it contains no code), the animation works great but I would like to keep it, because of my swipe function that is placed into it.\r\n\r\nThat is my whole code:\r\n\r\n```java\r\n// Swiping to link\r\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\r\n    @Override\r\n    public void onSwipeLeft() {\r\n        super.onSwipeLeft();\r\n\r\n        // Alert to ask\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n        builder.setTitle(&quot;Delete&quot;);\r\n        builder.setMessage(&quot;Do you want to delete?&quot;);\r\n        // Delete\r\n        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\r\n            // Set the SharedPreferences as String\r\n            ArrayList&lt;String&gt; currentSharedPreferences = readFromSharedPreferences(getContext());\r\n            currentSharedPreferences.remove(btn.getTag().toString());\r\n            Gson gson = new Gson();\r\n            String currentSharedPreferencesAsText = gson.toJson(currentSharedPreferences);\r\n\r\n            // Update the SharedPreference k-text\r\n            SharedPreferences mPrefs = getContext().getSharedPreferences(&quot;k-texts&quot;, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor prefsEditor = mPrefs.edit();\r\n            prefsEditor.putString(&quot;k-text&quot;, currentSharedPreferencesAsText);\r\n            prefsEditor.apply();\r\n\r\n            // Start the animation\r\n            btn.animate()\r\n                    .translationX(-btn.getWidth())\r\n                    .alpha(0.0f)\r\n                    .setDuration(300)\r\n                    .setListener(new AnimatorListenerAdapter() {\r\n                        @Override\r\n                        public void onAnimationEnd(Animator animation) {\r\n                            super.onAnimationEnd(animation);\r\n                            btn.clearAnimation();\r\n                            btn.setVisibility(View.GONE);\r\n                            Snackbar.make(view, &quot;Entry deleted.&quot;, Snackbar.LENGTH_LONG).setAction(&quot;Delete&quot;, null).show();\r\n                        }\r\n                    });\r\n        });\r\n        // Cancel\r\n        builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\r\n            // Silence is golden\r\n        });\r\n\r\n        builder.show();\r\n    }\r\n\r\n    @Override\r\n    public void onClick() {\r\n        MainActivity mainActivity = new MainActivity();\r\n        Tts tts = new Tts(getContext(), _mediaPlayer, mainActivity.barTop, mainActivity.barBottom);\r\n        try {\r\n            tts.say(btn.getTag().toString());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n});\r\n```\r\nWell I could use \r\n```java\r\n@Override\r\npublic boolean onTouch(View view, MotionEvent motionEvent) {\r\n    return false;\r\n}\r\n```\r\nThen the animation will work but `onClick()` wouldn&#39;t work anymore.\r\n\r\nAnother update\r\n--------------\r\nI had a similar problem on another view. There my **static button** was not having a click effect. Then I have just simply added `android:foreground=&quot;?attr/selectableItemBackground&quot;` and it worked! The same way I have just tried with my dynamic button. So I have added `btn.setForeground(button.getForeground());` but that doesn&#39;t do anything.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Su87W.gif\r\n  [2]: https://i.stack.imgur.com/iNIPR.gif","title":"Adding basic click animation to dynamic buttons","body":"<p>I have a simple button that looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:tag=&quot;general&quot;\n    android:id=&quot;@+id/root&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#343535&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.fragments.GeneralFragment&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/hello&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:gravity=&quot;center_vertical&quot;\n        android:onClick=&quot;onClick&quot;\n        android:text=&quot;@string/hello&quot; /&gt;\n</code></pre>\n<p>Instead of static, these buttons should now be dynamic</p>\n<pre class=\"lang-java prettyprint-override\"><code>Button button = (Button) layout.getChildAt(0);\nfor(String text : readFromSharedPreferences) {\n        // Set the layout\n        Button btn = new Button(this.getContext());\n        btn.setTextAlignment(View.TEXT_ALIGNMENT_TEXT_START);\n        btn.setText(text);\n        btn.setTag(text);\n        btn.setLayoutParams(button.getLayoutParams());\n        btn.setBackground(button.getBackground());\n        layout.addView(btn);\n</code></pre>\n<p>The static button has an animation when I click on it. That looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Su87W.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Su87W.gif\" alt=\"enter image description here\" /></a></p>\n<p>But the dynamic button has no animation. So when I click on it, nothing happens. That looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/iNIPR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iNIPR.gif\" alt=\"enter image description here\" /></a></p>\n<p>How can I add this animation to my dynamic buttons?</p>\n<h2>Update</h2>\n<p>I have figured out that my loop contains an on-touch listener. That looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>btn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\n    // No code in here\n});\n</code></pre>\n<p>If I remove that listener (even if it contains no code), the animation works great but I would like to keep it, because of my swipe function that is placed into it.</p>\n<p>That is my whole code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Swiping to link\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\n    @Override\n    public void onSwipeLeft() {\n        super.onSwipeLeft();\n\n        // Alert to ask\n        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n        builder.setTitle(&quot;Delete&quot;);\n        builder.setMessage(&quot;Do you want to delete?&quot;);\n        // Delete\n        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\n            // Set the SharedPreferences as String\n            ArrayList&lt;String&gt; currentSharedPreferences = readFromSharedPreferences(getContext());\n            currentSharedPreferences.remove(btn.getTag().toString());\n            Gson gson = new Gson();\n            String currentSharedPreferencesAsText = gson.toJson(currentSharedPreferences);\n\n            // Update the SharedPreference k-text\n            SharedPreferences mPrefs = getContext().getSharedPreferences(&quot;k-texts&quot;, Context.MODE_PRIVATE);\n            SharedPreferences.Editor prefsEditor = mPrefs.edit();\n            prefsEditor.putString(&quot;k-text&quot;, currentSharedPreferencesAsText);\n            prefsEditor.apply();\n\n            // Start the animation\n            btn.animate()\n                    .translationX(-btn.getWidth())\n                    .alpha(0.0f)\n                    .setDuration(300)\n                    .setListener(new AnimatorListenerAdapter() {\n                        @Override\n                        public void onAnimationEnd(Animator animation) {\n                            super.onAnimationEnd(animation);\n                            btn.clearAnimation();\n                            btn.setVisibility(View.GONE);\n                            Snackbar.make(view, &quot;Entry deleted.&quot;, Snackbar.LENGTH_LONG).setAction(&quot;Delete&quot;, null).show();\n                        }\n                    });\n        });\n        // Cancel\n        builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\n            // Silence is golden\n        });\n\n        builder.show();\n    }\n\n    @Override\n    public void onClick() {\n        MainActivity mainActivity = new MainActivity();\n        Tts tts = new Tts(getContext(), _mediaPlayer, mainActivity.barTop, mainActivity.barBottom);\n        try {\n            tts.say(btn.getTag().toString());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n});\n</code></pre>\n<p>Well I could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean onTouch(View view, MotionEvent motionEvent) {\n    return false;\n}\n</code></pre>\n<p>Then the animation will work but <code>onClick()</code> wouldn't work anymore.</p>\n<h2>Another update</h2>\n<p>I had a similar problem on another view. There my <strong>static button</strong> was not having a click effect. Then I have just simply added <code>android:foreground=&quot;?attr/selectableItemBackground&quot;</code> and it worked! The same way I have just tried with my dynamic button. So I have added <code>btn.setForeground(button.getForeground());</code> but that doesn't do anything.</p>\n"},{"tags":["java","eclipse-rcp","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635505913,"creation_date":1635505913,"answer_id":69767902,"question_id":69767252,"body_markdown":"First, of course with that code the horizontal scrollbar is not coming, you did not set the style bit to include a horizontal scrollbar. You should leave the default style bits in place and let NatTable do the necessary actions.\r\n\r\nSecond, you are not providing enough information on your setup. Are you using percentage sized columns? What are you triggering to delete a row? Is it a custom command or the NatTable default command?\r\n\r\nWhat I know is that there is an issue with percentage sizing and setting the scrollbar invisible because that does not trigger a resize on the Composite. Feel free to create a ticket so I can have a look at this.","title":"Table resizing and occupy the space left by vertical scrollbar","body":"<p>First, of course with that code the horizontal scrollbar is not coming, you did not set the style bit to include a horizontal scrollbar. You should leave the default style bits in place and let NatTable do the necessary actions.</p>\n<p>Second, you are not providing enough information on your setup. Are you using percentage sized columns? What are you triggering to delete a row? Is it a custom command or the NatTable default command?</p>\n<p>What I know is that there is an issue with percentage sizing and setting the scrollbar invisible because that does not trigger a resize on the Composite. Feel free to create a ticket so I can have a look at this.</p>\n"}],"owner":{"account_id":22581587,"reputation":7,"user_id":16766157,"display_name":"Ashray M V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69767902,"answer_count":1,"score":0,"last_activity_date":1635525475,"creation_date":1635502699,"question_id":69767252,"body_markdown":"I want the table to resize and occupy the space left by vertical scrollbar when I delete the rows.\r\n\r\nThis is the table with vertical scrollbar:\r\n\r\n![][1]\r\n\r\nAnd when I delete the rows, then I get this the table without vertical scrollbar:\r\n\r\n![][2].\r\n\r\nI tried using \r\n```\r\nnatTable natTable = new NatTable(panel, SWT.NO_BACKGROUND | SWT.NO_REDRAW_RESIZE | SWT.DOUBLE_BUFFERED | SWT.V_SCROLL);\r\n```\r\nand was working fine but the horizontal scrollbar was not coming even after I tried to set it from the viewportlayer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NMe8C.png\r\n  [2]: https://i.stack.imgur.com/vD2F7.png","title":"Table resizing and occupy the space left by vertical scrollbar","body":"<p>I want the table to resize and occupy the space left by vertical scrollbar when I delete the rows.</p>\n<p>This is the table with vertical scrollbar:</p>\n<p><img src=\"https://i.stack.imgur.com/NMe8C.png\" alt=\"\" /></p>\n<p>And when I delete the rows, then I get this the table without vertical scrollbar:</p>\n<p><img src=\"https://i.stack.imgur.com/vD2F7.png\" alt=\"\" />.</p>\n<p>I tried using</p>\n<pre><code>natTable natTable = new NatTable(panel, SWT.NO_BACKGROUND | SWT.NO_REDRAW_RESIZE | SWT.DOUBLE_BUFFERED | SWT.V_SCROLL);\n</code></pre>\n<p>and was working fine but the horizontal scrollbar was not coming even after I tried to set it from the viewportlayer.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635345854,"creation_date":1635345854,"answer_id":69740786,"question_id":69740689,"body_markdown":"You need the closing `&lt;/manifest&gt;` tag under the `&lt;/application&gt;`:\r\n\r\n       (...)\r\n       &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"XML document structures must start and end within the same entity?","body":"<p>You need the closing <code>&lt;/manifest&gt;</code> tag under the <code>&lt;/application&gt;</code>:</p>\n<pre><code>   (...)\n   &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22109886,"reputation":208,"user_id":16364947,"display_name":"AshishVE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635348674,"creation_date":1635348674,"answer_id":69741493,"question_id":69740689,"body_markdown":"Close the manifest tag after application tag. \r\n\r\n`&lt;/application&gt;&lt;/manifest&gt;`\r\n\r\n    android:icon=&quot;@drawable/ic_launcher&quot;  // check in drawable folder under res whether the default image ic_launcher is present or not. That is the default icon for your application. \r\n\r\n","title":"XML document structures must start and end within the same entity?","body":"<p>Close the manifest tag after application tag.</p>\n<p><code>&lt;/application&gt;&lt;/manifest&gt;</code></p>\n<pre><code>android:icon=&quot;@drawable/ic_launcher&quot;  // check in drawable folder under res whether the default image ic_launcher is present or not. That is the default icon for your application. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16043004,"reputation":1,"user_id":11578944,"display_name":"MatthewC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635525280,"creation_date":1635525280,"answer_id":69772202,"question_id":69740689,"body_markdown":"You are missing `&lt;/manifest&gt;` on the last line. It&#39;s also likely that `android:icon=&quot;@drawable/ic_launcher&quot;` should be changed to `android:icon=&quot;@mipmap/ic_launcher&quot;`. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.4&quot; &gt;\r\n    \r\n        &lt;application\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"XML document structures must start and end within the same entity?","body":"<p>You are missing <code>&lt;/manifest&gt;</code> on the last line. It's also likely that <code>android:icon=&quot;@drawable/ic_launcher&quot;</code> should be changed to <code>android:icon=&quot;@mipmap/ic_launcher&quot;</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.4&quot; &gt;\n\n    &lt;application\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/AppTheme&quot; &gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":22842350,"reputation":1,"user_id":16989141,"display_name":"Mohammed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1635525280,"creation_date":1635345515,"question_id":69740689,"body_markdown":"What is the problem? \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.4&quot; &gt;\r\n\r\n    &lt;application\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;receiver android:name=&quot;.MainActivity&quot;\r\n            tools:ignore=&quot;IntentFilterExportedReceiver&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;\r\n\r\n                &lt;/action&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n```","title":"XML document structures must start and end within the same entity?","body":"<p>What is the problem?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.4&quot; &gt;\n\n    &lt;application\n        android:icon=&quot;@drawable/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/AppTheme&quot; &gt;\n        &lt;receiver android:name=&quot;.MainActivity&quot;\n            tools:ignore=&quot;IntentFilterExportedReceiver&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;\n\n                &lt;/action&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1306384918,"post_id":6133737,"comment_id":7119169,"body_markdown":"Please describe your `TableModel`.","body":"Please describe your <code>TableModel</code>."}],"answers":[{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1306385145,"creation_date":1306385145,"answer_id":6133788,"question_id":6133737,"body_markdown":"If you&#39;re using DefaultTableModel, set [column count][1] to zero.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/swing/table/DefaultTableModel.html#setColumnCount%28int%29","title":"How to remove all columns from JTable?","body":"<p>If you're using DefaultTableModel, set <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/table/DefaultTableModel.html#setColumnCount%28int%29\">column count</a> to zero.</p>\n"},{"tags":[],"owner":{"account_id":7786675,"reputation":610,"user_id":5891226,"accept_rate":20,"display_name":"Chetan Bhagat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1472882612,"creation_date":1472882612,"answer_id":39303772,"question_id":6133737,"body_markdown":"&gt;Faster Way::Dynamic Remove all the Column on JTable\r\n\r\n    //JTable variable name is jTable1_info....\r\n\tmodel_info=(DefaultTableModel)jTable1_info.getModel();\r\n\t//Clear all the column name on jtable jpanel-4\r\n    model_info.setColumnCount(0);\r\nBefore code on this Example\r\n     \r\n    //import the DefaultTableModel\r\n\timport javax.swing.table.DefaultTableModel;\r\n\t\r\n\tpublic final class homepage extends javax.swing.JFrame implements ActionListener\r\n\t{\r\n\t\tDefaultTableModel model_info;\r\n\t\tpublic homepage() throws InterruptedException\r\n\t\t{\r\n\t\t\tinitComponents();\r\n\t\t\tcreate_column();//call method create jtable column names                \r\n\t\t}\r\n\t}\r\n\tprivate void create_column()\r\n\t{\r\n\t\tmodel_info=(DefaultTableModel)jTable1_info.getModel();\r\n\t\tmodel_info.addColumn(&quot;Column_Name&quot;);\r\n\t\tmodel_info.addColumn(&quot;Column_type&quot;);\r\n\t\tmodel_info.addColumn(&quot;Column_size&quot;);        \r\n\t}\r\n\r\n","title":"How to remove all columns from JTable?","body":"<blockquote>\n  <p>Faster Way::Dynamic Remove all the Column on JTable</p>\n</blockquote>\n\n<pre><code>//JTable variable name is jTable1_info....\nmodel_info=(DefaultTableModel)jTable1_info.getModel();\n//Clear all the column name on jtable jpanel-4\nmodel_info.setColumnCount(0);\n</code></pre>\n\n<p>Before code on this Example</p>\n\n<pre><code>//import the DefaultTableModel\nimport javax.swing.table.DefaultTableModel;\n\npublic final class homepage extends javax.swing.JFrame implements ActionListener\n{\n    DefaultTableModel model_info;\n    public homepage() throws InterruptedException\n    {\n        initComponents();\n        create_column();//call method create jtable column names                \n    }\n}\nprivate void create_column()\n{\n    model_info=(DefaultTableModel)jTable1_info.getModel();\n    model_info.addColumn(\"Column_Name\");\n    model_info.addColumn(\"Column_type\");\n    model_info.addColumn(\"Column_size\");        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5782237,"reputation":11,"user_id":4562498,"display_name":"Adoliu Alexandru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584717107,"creation_date":1584625532,"answer_id":60758525,"question_id":6133737,"body_markdown":"            TableColumnModel cm = jTableThatUCreated.getColumnModel();\r\n            while (cm.getColumnCount()!=0) {                \r\n                TableColumn column = cm.getColumn(0);\r\n                cm.removeColumn(column);\r\n            }\r\n\r\nJava 7 doesnt setColumnNumber(0) as previous answers.","title":"How to remove all columns from JTable?","body":"<pre><code>        TableColumnModel cm = jTableThatUCreated.getColumnModel();\n        while (cm.getColumnCount()!=0) {                \n            TableColumn column = cm.getColumn(0);\n            cm.removeColumn(column);\n        }\n</code></pre>\n\n<p>Java 7 doesnt setColumnNumber(0) as previous answers.</p>\n"},{"tags":[],"owner":{"account_id":20600216,"reputation":1,"user_id":15121640,"display_name":"Ph∆∞·ªõc Sang Hu·ª≥nh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635524815,"creation_date":1635502939,"answer_id":69767305,"question_id":6133737,"body_markdown":"this is my solution:\r\n\r\n    dtf = (DefaultTableModel) table.getModel();\r\n    for (int i = table.getRowCount()-1; i &gt;=0 ; i--) {\r\n        dtf.removeRow(i);\r\n    }\r\n    table.setModel(dtf);","title":"How to remove all columns from JTable?","body":"<p>this is my solution:</p>\n<pre><code>dtf = (DefaultTableModel) table.getModel();\nfor (int i = table.getRowCount()-1; i &gt;=0 ; i--) {\n    dtf.removeRow(i);\n}\ntable.setModel(dtf);\n</code></pre>\n"}],"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6734,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39303772,"answer_count":4,"score":5,"last_activity_date":1635524815,"creation_date":1306384605,"question_id":6133737,"body_markdown":"How to remove all columns? Thanks.","title":"How to remove all columns from JTable?","body":"<p>How to remove all columns? Thanks.</p>\n"},{"tags":["java","cdi"],"comments":[{"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"score":0,"creation_date":1635506755,"post_id":69767665,"comment_id":123322969,"body_markdown":"yes, it&#39;s javax.sql.DataSource and no, I am not using Spring","body":"yes, it&#39;s javax.sql.DataSource and no, I am not using Spring"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635524519,"creation_date":1635524519,"answer_id":69772062,"question_id":69767665,"body_markdown":"First things first your library needs a datasource, let&#39;s declare the dependency:\r\n\r\n```java\r\npublic class MyLibraryDao {\r\n   @Inject\r\n   protected DataSource dataSource;\r\n}\r\n```\r\n\r\nNow the rest of the application that is using the library is responsible to provide a datasource to CDI; a simple way is:\r\n\r\n```java\r\n// Example; your implementation may vary\r\npublic class AppDatasourceProducer {\r\n    private static final DS_NAME = &quot;MY_APP_DS_NAME&quot;;\r\n\r\n    @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\r\n    protected DataSource dataSource;\r\n\r\n    @Produces\r\n    @ApplicationScoped\r\n    public DataSource getDatasource() {\r\n        return dataSource;\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s changed? Now **your application** is responsible for knowing the datasource name **AND** providing the datasource itself. The example above can work in JEE environments that honor the `@Resource` annotation. Using a different implementation for the provider would work in e.g. a desktop environment (standalone application), making your library reusable.\r\n\r\nThe exact datasource name may be fixed, just like in the example, or read from configuration, e.g. from system properties (like mentioned in a comment); e.g.:\r\n\r\n```java\r\n// Example 2, DS name from system properties\r\n@ApplicationScoped\r\npublic class AppDatasourceProducer {\r\n    protected DataSource dataSource;\r\n\r\n    @PostConstruct\r\n    void init() throws Exception {\r\n        String dsName = System.getProperty(&quot;XXXXX&quot;);\r\n        InitialContext ic = new InitialContext();\r\n        dataSource = (DataSource) ic.lookup(dsName);\r\n    }\r\n\r\n    @Produces\r\n    @ApplicationScoped\r\n    public DataSource getDatasource() {\r\n        return dataSource;\r\n    }\r\n}\r\n```\r\n\r\nGoing further:\r\n\r\n1) An application that uses your library may be using several datasources, for whatever reason. You may want to provide a qualifier to specify the datasource to be used by your app.\r\n2) I used field injection in `MyLibraryDao` for simplicity. If you change to constructor injection then, at least `MyLibraryDao`, will be usable in non-CDI environments as well, i.e. if you have obtained a `DataSource` somehow, you can now do `new MyLibraryDao(datasource)`. Even more reusability.","title":"how to pass a datasource to a library?","body":"<p>First things first your library needs a datasource, let's declare the dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyLibraryDao {\n   @Inject\n   protected DataSource dataSource;\n}\n</code></pre>\n<p>Now the rest of the application that is using the library is responsible to provide a datasource to CDI; a simple way is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example; your implementation may vary\npublic class AppDatasourceProducer {\n    private static final DS_NAME = &quot;MY_APP_DS_NAME&quot;;\n\n    @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\n    protected DataSource dataSource;\n\n    @Produces\n    @ApplicationScoped\n    public DataSource getDatasource() {\n        return dataSource;\n    }\n}\n</code></pre>\n<p>What's changed? Now <strong>your application</strong> is responsible for knowing the datasource name <strong>AND</strong> providing the datasource itself. The example above can work in JEE environments that honor the <code>@Resource</code> annotation. Using a different implementation for the provider would work in e.g. a desktop environment (standalone application), making your library reusable.</p>\n<p>The exact datasource name may be fixed, just like in the example, or read from configuration, e.g. from system properties (like mentioned in a comment); e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example 2, DS name from system properties\n@ApplicationScoped\npublic class AppDatasourceProducer {\n    protected DataSource dataSource;\n\n    @PostConstruct\n    void init() throws Exception {\n        String dsName = System.getProperty(&quot;XXXXX&quot;);\n        InitialContext ic = new InitialContext();\n        dataSource = (DataSource) ic.lookup(dsName);\n    }\n\n    @Produces\n    @ApplicationScoped\n    public DataSource getDatasource() {\n        return dataSource;\n    }\n}\n</code></pre>\n<p>Going further:</p>\n<ol>\n<li>An application that uses your library may be using several datasources, for whatever reason. You may want to provide a qualifier to specify the datasource to be used by your app.</li>\n<li>I used field injection in <code>MyLibraryDao</code> for simplicity. If you change to constructor injection then, at least <code>MyLibraryDao</code>, will be usable in non-CDI environments as well, i.e. if you have obtained a <code>DataSource</code> somehow, you can now do <code>new MyLibraryDao(datasource)</code>. Even more reusability.</li>\n</ol>\n"}],"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69772062,"answer_count":1,"score":1,"last_activity_date":1635524519,"creation_date":1635504807,"question_id":69767665,"body_markdown":"I am writing a library which retrieves data from a specific data schema. This library holds a Datasource object which can be anything. Right now I have defined the name of the datasource within the library which I would like to avoid.\r\n\r\n    import javax.sql.DataSource\r\n\r\n    public class MyLibraryDao.java {\r\n       private static final DS_NAME = &quot;MY_DS_NAME&quot;;\r\n\r\n       @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\r\n       protected DataSource dataSource;\r\n    }\r\n \r\nThe DAO class is not directly exposed to the client. There is a service layer inbetween:\r\n\r\n    import javax.inject.Inject;\r\n    import javax.enterprise.context.ApplicationScoped;\r\n    import javax.enterprise.inject.Model;\r\n    \r\n    @ApplicationScoped\r\n    @Model\r\n    public class MyLibraryService {\r\n    \r\n        @Inject\r\n        MyLibraryDao dao;\r\n    }\r\n\r\nNow, how would I pass the datasource object to the library?\r\n\r\nI assume I need to create a constructor in the DAO with takes a DataSource but what about the service? \r\nThe library will be used in a CDI environment.\r\n\r\n","title":"how to pass a datasource to a library?","body":"<p>I am writing a library which retrieves data from a specific data schema. This library holds a Datasource object which can be anything. Right now I have defined the name of the datasource within the library which I would like to avoid.</p>\n<pre><code>import javax.sql.DataSource\n\npublic class MyLibraryDao.java {\n   private static final DS_NAME = &quot;MY_DS_NAME&quot;;\n\n   @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\n   protected DataSource dataSource;\n}\n</code></pre>\n<p>The DAO class is not directly exposed to the client. There is a service layer inbetween:</p>\n<pre><code>import javax.inject.Inject;\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.enterprise.inject.Model;\n\n@ApplicationScoped\n@Model\npublic class MyLibraryService {\n\n    @Inject\n    MyLibraryDao dao;\n}\n</code></pre>\n<p>Now, how would I pass the datasource object to the library?</p>\n<p>I assume I need to create a constructor in the DAO with takes a DataSource but what about the service?\nThe library will be used in a CDI environment.</p>\n"},{"tags":["java","android-studio","google-play","google-play-console"],"answers":[{"tags":[],"owner":{"account_id":2921308,"reputation":7300,"user_id":2503495,"accept_rate":75,"display_name":"Kuya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635524376,"creation_date":1615363916,"answer_id":66560727,"question_id":65515535,"body_markdown":"The SDK version is the API version. Example OS version 6.0 is API version 23\r\n\r\nSo if you only want your app to run on OS version 6.0+ then set your `minSdkVersion` in build.gradle (module) file to 23 (see line 10)\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;your.package.name&quot;\r\n            minSdkVersion 23\r\n            targetSdkVersion 30\r\n            multiDexEnabled true\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\nThis is the important one. Setting it in the manifest.xml file is okay, but this is the one that really matters.\r\n\r\n\r\n**EDIT:**&lt;br&gt;\r\nAlso, specifying `minSdkVersion` and `targetSdkVersion` in the manifest.xml file is not necessary; however, if you are going to specify it, you need to make sure that your manifest.xml file and gradle.build file have the same settings.\r\n\r\n    &lt;uses-sdk android:minSdkVersion=&quot;23&quot; android:targetSdkVersion=&quot;30&quot; /&gt;","title":"Questions on rolling-out app on Google Play Console which includes questions on `aewt` and `UID` and SDK, API versions","body":"<p>The SDK version is the API version. Example OS version 6.0 is API version 23</p>\n<p>So if you only want your app to run on OS version 6.0+ then set your <code>minSdkVersion</code> in build.gradle (module) file to 23 (see line 10)</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;your.package.name&quot;\n        minSdkVersion 23\n        targetSdkVersion 30\n        multiDexEnabled true\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n<p>This is the important one. Setting it in the manifest.xml file is okay, but this is the one that really matters.</p>\n<p><strong>EDIT:</strong><br>\nAlso, specifying <code>minSdkVersion</code> and <code>targetSdkVersion</code> in the manifest.xml file is not necessary; however, if you are going to specify it, you need to make sure that your manifest.xml file and gradle.build file have the same settings.</p>\n<pre><code>&lt;uses-sdk android:minSdkVersion=&quot;23&quot; android:targetSdkVersion=&quot;30&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":19646989,"reputation":71,"user_id":14381788,"display_name":"Steve Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635524376,"creation_date":1609377232,"question_id":65515535,"body_markdown":"Dear Android developers geniuses,\r\n\r\nI need help with rolling-out my app in the Google Play Console. I‚Äôve stumbled on a chain of problems that appears to be like a catch 22 situation. I‚Äôve started rolling-out my app using Internal testing and soon I discover when I got the pre-launch report, that my app triggered two errors, which I was told will prevent me from continuing the rollout until they‚Äôve been fixed. The two errors are the:\r\n\r\n    `java.lang.SecurityException: Calling from not trusted UID!`\r\n\r\nand\r\n\r\n    `java.lang.NoClassDefFoundError: aewt` \r\n\r\nI‚Äôve done my research here on this platform and elsewhere, and I found a few possible solutions which I tried to fix. I then rebuild another bundle and uploaded it to the internal testing but to no avail, these problems persist.\r\nI followed this link for attempting to solve the problem `aewt` [https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\r\n][1]\r\nAnd this to solve the `UID!` problem\r\n[https://stackoverflow.com/questions/51360801/calling-from-not-trusted-uid][2]\r\n\r\nNone worked.\r\n\r\nIt then dawned on me that these problems appear on the old version of Android from android 5 and below. So I‚Äôve decided to limit the usage of my app to android 6.0 and above. Little did I know that this will turn out to be a perplexing task as well. And I‚Äôm confused as hell. \r\n\r\nI followed the instructions on here: [https://developer.android.com/training/basics/supporting-devices/platforms] and added the suggested codes to my app. But here again, it didn‚Äôt work and I was able to run my app on the emulators that run Android version 5.0 and below. \r\n\r\nThe first code that I used was this:\r\n\r\n    `&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; ...&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;6&quot; android:targetSdkVersion=&quot;15&quot; /&gt;\r\n        ...\r\n    &lt;/manifest&gt;`.\r\n\r\nHowever, I couldn‚Äôt figure out what is the SDK version. Was it the OS version? Or the API version? Or maybe another set of numbers which I couldn‚Äôt find a reference to on the web. I know that this issue is been covered lengthy on this platform but I still couldn‚Äôt find the right answer. Anyway, I‚Äôve tried every logical possibility on this using a combination of OS versions and then API versions but none of them seems to prevent my app from running on the old Android version.\r\n\r\nI‚Äôve also added this code to the MainActivity:\r\n\r\n    `private void setUpActionBar() {\r\n       // Make sure we&#39;re running on Marshmallow or higher to use ActionBar APIs\r\n       if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n           ActionBar actionBar = getActionBar();\r\n           actionBar.setDisplayHomeAsUpEnabled(true);\r\n       }\r\n    }`\r\n\r\nBut still, my app was happy to run on older OS‚Äôs\r\n\r\nHere is a recap of my problems. I get error messages on rolling out my app which appears to be unsolvable which prevents me from continuing from rolling out my app. An attempt to limits the distribution of my app to OS 6.0 and higher has failed too. \r\n \r\nWhat shall I do now?\r\n\r\n 1. Try to roll-out my app on the production track and hope for the best?\r\n 2. Is the SDK number the OS number or the API or neither?\r\n 3. Is there another method in which I can tell Android not to get installed on an older versions? Please Help!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\r\n  [2]: https://stackoverflow.com/questions/51360801/calling-from-not-trusted-uid","title":"Questions on rolling-out app on Google Play Console which includes questions on `aewt` and `UID` and SDK, API versions","body":"<p>Dear Android developers geniuses,</p>\n<p>I need help with rolling-out my app in the Google Play Console. I‚Äôve stumbled on a chain of problems that appears to be like a catch 22 situation. I‚Äôve started rolling-out my app using Internal testing and soon I discover when I got the pre-launch report, that my app triggered two errors, which I was told will prevent me from continuing the rollout until they‚Äôve been fixed. The two errors are the:</p>\n<pre><code>`java.lang.SecurityException: Calling from not trusted UID!`\n</code></pre>\n<p>and</p>\n<pre><code>`java.lang.NoClassDefFoundError: aewt` \n</code></pre>\n<p>I‚Äôve done my research here on this platform and elsewhere, and I found a few possible solutions which I tried to fix. I then rebuild another bundle and uploaded it to the internal testing but to no avail, these problems persist.\nI followed this link for attempting to solve the problem <code>aewt</code> <a href=\"https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\">https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\n</a>\nAnd this to solve the <code>UID!</code> problem\n<a href=\"https://stackoverflow.com/questions/51360801/calling-from-not-trusted-uid\">Calling from not trusted UID</a></p>\n<p>None worked.</p>\n<p>It then dawned on me that these problems appear on the old version of Android from android 5 and below. So I‚Äôve decided to limit the usage of my app to android 6.0 and above. Little did I know that this will turn out to be a perplexing task as well. And I‚Äôm confused as hell.</p>\n<p>I followed the instructions on here: [https://developer.android.com/training/basics/supporting-devices/platforms] and added the suggested codes to my app. But here again, it didn‚Äôt work and I was able to run my app on the emulators that run Android version 5.0 and below.</p>\n<p>The first code that I used was this:</p>\n<pre><code>`&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; ...&gt;\n&lt;uses-sdk android:minSdkVersion=&quot;6&quot; android:targetSdkVersion=&quot;15&quot; /&gt;\n    ...\n&lt;/manifest&gt;`.\n</code></pre>\n<p>However, I couldn‚Äôt figure out what is the SDK version. Was it the OS version? Or the API version? Or maybe another set of numbers which I couldn‚Äôt find a reference to on the web. I know that this issue is been covered lengthy on this platform but I still couldn‚Äôt find the right answer. Anyway, I‚Äôve tried every logical possibility on this using a combination of OS versions and then API versions but none of them seems to prevent my app from running on the old Android version.</p>\n<p>I‚Äôve also added this code to the MainActivity:</p>\n<pre><code>`private void setUpActionBar() {\n   // Make sure we're running on Marshmallow or higher to use ActionBar APIs\n   if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n       ActionBar actionBar = getActionBar();\n       actionBar.setDisplayHomeAsUpEnabled(true);\n   }\n}`\n</code></pre>\n<p>But still, my app was happy to run on older OS‚Äôs</p>\n<p>Here is a recap of my problems. I get error messages on rolling out my app which appears to be unsolvable which prevents me from continuing from rolling out my app. An attempt to limits the distribution of my app to OS 6.0 and higher has failed too.</p>\n<p>What shall I do now?</p>\n<ol>\n<li>Try to roll-out my app on the production track and hope for the best?</li>\n<li>Is the SDK number the OS number or the API or neither?</li>\n<li>Is there another method in which I can tell Android not to get installed on an older versions? Please Help!</li>\n</ol>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094120,"post_id":46557448,"comment_id":80068716,"body_markdown":"Have you tried the gui interface to load the war files","body":"Have you tried the gui interface to load the war files"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507094261,"post_id":46557448,"comment_id":80068768,"body_markdown":"@VivekSingh, what makes the difference?","body":"@VivekSingh, what makes the difference?"},{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094391,"post_id":46557448,"comment_id":80068822,"body_markdown":"@Yakoob Sometimes tomcat not able to load the war files automatically so you have to do it manually using GUI web interface. It happens several times to me.","body":"@Yakoob Sometimes tomcat not able to load the war files automatically so you have to do it manually using GUI web interface. It happens several times to me."},{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094514,"post_id":46557448,"comment_id":80068868,"body_markdown":"@Yakoob I hope you know how to configure the tomcat manager and set the rules.","body":"@Yakoob I hope you know how to configure the tomcat manager and set the rules."},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507094577,"post_id":46557448,"comment_id":80068891,"body_markdown":"@VivekSingh, I added role for GUI and deployed again. But now the project itself is not running","body":"@VivekSingh, I added role for GUI and deployed again. But now the project itself is not running"},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507094641,"post_id":46557448,"comment_id":80068916,"body_markdown":"do you have tomcat set up to explode out the war file?\nwhen you navigate back into webapps do you see a directory with your project exploded out?","body":"do you have tomcat set up to explode out the war file? when you navigate back into webapps do you see a directory with your project exploded out?"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507094737,"post_id":46557448,"comment_id":80068955,"body_markdown":"@shinjw, I did not get your point. I see a directory of the project in my local system under wtpwebapps. But not in the server machine","body":"@shinjw, I did not get your point. I see a directory of the project in my local system under wtpwebapps. But not in the server machine"},{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094938,"post_id":46557448,"comment_id":80069007,"body_markdown":"@Yakoob There might be some issue with the tomcat configuration. Can you share server and tomcat-user.xml file. It might be helpfull to understand the issue more clearly.","body":"@Yakoob There might be some issue with the tomcat configuration. Can you share server and tomcat-user.xml file. It might be helpfull to understand the issue more clearly."},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507094956,"post_id":46557448,"comment_id":80069012,"body_markdown":"when you deploy an application by dropping in war file into the webapps directory... you&#39;d need to make sure that your exploded project is cleaned *deleted*\n\nin other words when you&#39;re doing a manual deployment you would need to make sure that webapps is clean (with the exception of ROOT if you&#39;re using the web gui)","body":"when you deploy an application by dropping in war file into the webapps directory... you&#39;d need to make sure that your exploded project is cleaned <i>deleted</i>  in other words when you&#39;re doing a manual deployment you would need to make sure that webapps is clean (with the exception of ROOT if you&#39;re using the web gui)"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507095080,"post_id":46557448,"comment_id":80069057,"body_markdown":"@shinjw, it works when I delete the directory of the project under webapps. Then I place the new WAR file and deploy again. New changes are appearing now.","body":"@shinjw, it works when I delete the directory of the project under webapps. Then I place the new WAR file and deploy again. New changes are appearing now."},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507095161,"post_id":46557448,"comment_id":80069085,"body_markdown":"just to confirm. did it work on the target machine?","body":"just to confirm. did it work on the target machine?"},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507095183,"post_id":46557448,"comment_id":80069094,"body_markdown":"Possible duplicate of [How to deploy a war file in Tomcat 7](https://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7\">How to deploy a war file in Tomcat 7</a>"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507095501,"post_id":46557448,"comment_id":80069198,"body_markdown":"@shinjw, yes it works in target machine.","body":"@shinjw, yes it works in target machine."}],"answers":[{"tags":[],"owner":{"account_id":6481666,"reputation":65,"user_id":5018455,"display_name":"Joginder Kumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507094580,"creation_date":1507094580,"answer_id":46557530,"question_id":46557448,"body_markdown":"you should clear the log and temp files of tomcat","title":"Server tomcat not deploying latest WAR changes","body":"<p>you should clear the log and temp files of tomcat</p>\n"},{"tags":[],"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507097317,"creation_date":1507095012,"answer_id":46557614,"question_id":46557448,"body_markdown":"Try checking the autoDeploy flag in server.xml. Below is the description for this flag.\r\n\r\n    &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n\r\n**autoDeploy**\r\n\r\nThis flag value indicates if Tomcat should check periodically for new or updated web applications while Tomcat is running. If true, Tomcat periodically checks the appBase and xmlBase directories and deploys any new web applications or context XML descriptors found. Updated web applications or context XML descriptors will trigger a reload of the web application. The flag&#39;s value defaults to true.","title":"Server tomcat not deploying latest WAR changes","body":"<p>Try checking the autoDeploy flag in server.xml. Below is the description for this flag.</p>\n\n<pre><code>&lt;Host name=\"localhost\"  appBase=\"webapps\" unpackWARs=\"true\" autoDeploy=\"true\"&gt;\n</code></pre>\n\n<p><strong>autoDeploy</strong></p>\n\n<p>This flag value indicates if Tomcat should check periodically for new or updated web applications while Tomcat is running. If true, Tomcat periodically checks the appBase and xmlBase directories and deploys any new web applications or context XML descriptors found. Updated web applications or context XML descriptors will trigger a reload of the web application. The flag's value defaults to true.</p>\n"},{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507095961,"creation_date":1507095961,"answer_id":46557795,"question_id":46557448,"body_markdown":"Manual deploy:\r\nTo deploy or redeploy a war file is simply dropping your war file into the `$CATALINA_HOME/webapps` directory of a Tomcat instance. If the server is running, the deployment will start instantly as Tomcat unpacks the archive.\r\n\r\nIf Tomcat is not running, then the server will deploy the project the next time it is started.\r\n\r\nSometimes you need to stop Tomcat and delete everything from `$CATALINA_HOME/temp`, `$CATALINA_HOME/logs` directories and delete the war and the related unpacked folder from `$CATALINA_HOME/webapps` directory. After that just copy your war to the right place and start Tomcat.\r\n\r\nIf the deployment is finished without error then you can see the following message in the tomcat log:\r\n\r\n    OK - Deployed application at context path /myapp\r\n\r\nOtherwise an error message will appear which describes what was the error.\r\n\r\nWe need to see the Tomcat logfile if you need more help. ","title":"Server tomcat not deploying latest WAR changes","body":"<p>Manual deploy:\nTo deploy or redeploy a war file is simply dropping your war file into the <code>$CATALINA_HOME/webapps</code> directory of a Tomcat instance. If the server is running, the deployment will start instantly as Tomcat unpacks the archive.</p>\n\n<p>If Tomcat is not running, then the server will deploy the project the next time it is started.</p>\n\n<p>Sometimes you need to stop Tomcat and delete everything from <code>$CATALINA_HOME/temp</code>, <code>$CATALINA_HOME/logs</code> directories and delete the war and the related unpacked folder from <code>$CATALINA_HOME/webapps</code> directory. After that just copy your war to the right place and start Tomcat.</p>\n\n<p>If the deployment is finished without error then you can see the following message in the tomcat log:</p>\n\n<pre><code>OK - Deployed application at context path /myapp\n</code></pre>\n\n<p>Otherwise an error message will appear which describes what was the error.</p>\n\n<p>We need to see the Tomcat logfile if you need more help. </p>\n"},{"tags":[],"owner":{"account_id":13283000,"reputation":1,"user_id":9589961,"display_name":"sreelakshmi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635524323,"creation_date":1634465951,"answer_id":69603314,"question_id":46557448,"body_markdown":"1)Please check your war file size. Then update it in the =apache-tomcat-9.0.53\\webapps\\manager\\WEB-INF\\web.xml file.\r\n\r\n2)Remove dependency &quot;javax.validation&quot; from POM file\r\n\r\n3)Add dependency org.glassfish.web\r\n        \r\n4)Check your log files. and modify dependencies accordingly.","title":"Server tomcat not deploying latest WAR changes","body":"<p>1)Please check your war file size. Then update it in the =apache-tomcat-9.0.53\\webapps\\manager\\WEB-INF\\web.xml file.</p>\n<p>2)Remove dependency &quot;javax.validation&quot; from POM file</p>\n<p>3)Add dependency org.glassfish.web</p>\n<p>4)Check your log files. and modify dependencies accordingly.</p>\n"}],"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5586,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1635524323,"creation_date":1507094015,"question_id":46557448,"body_markdown":"I&#39;m new to deployment process. Kindly advice me. \r\n\r\nI have created a WAR file in my development machine. Then in the server machine, I have installed Tomcat which is clean and new. Then I copied the WAR file and placed it under webapps. Then I started the server, it worked. \r\n\r\nLater I made few changes in the code and created WAR file and deployed the same in webapps folder. But it is not taking the latest changes.\r\n\r\nI did in the following way\r\n\r\n    1. Stopped tomcat instance by shutdown.bat\r\n    2. Placed the new WAR file in webapps.\r\n    3. Started the tomcat instance by startup.bat\r\n\r\nStill no changes are reflecting? What could be the reason?   ","title":"Server tomcat not deploying latest WAR changes","body":"<p>I'm new to deployment process. Kindly advice me. </p>\n\n<p>I have created a WAR file in my development machine. Then in the server machine, I have installed Tomcat which is clean and new. Then I copied the WAR file and placed it under webapps. Then I started the server, it worked. </p>\n\n<p>Later I made few changes in the code and created WAR file and deployed the same in webapps folder. But it is not taking the latest changes.</p>\n\n<p>I did in the following way</p>\n\n<pre><code>1. Stopped tomcat instance by shutdown.bat\n2. Placed the new WAR file in webapps.\n3. Started the tomcat instance by startup.bat\n</code></pre>\n\n<p>Still no changes are reflecting? What could be the reason?   </p>\n"},{"tags":["java","maven","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635524210,"creation_date":1635524210,"answer_id":69771997,"question_id":69771678,"body_markdown":"Try removing the\r\n\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n\r\nfrom the `beam-runners-direct-java` dependency.","title":"How to add Apache Beam direct runner to classpath?","body":"<p>Try removing the</p>\n<pre><code>&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n<p>from the <code>beam-runners-direct-java</code> dependency.</p>\n"}],"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69771997,"answer_count":1,"score":0,"last_activity_date":1635524210,"creation_date":1635522645,"question_id":69771678,"body_markdown":"I am trying a simple spinoff of the MinimalWordCount example project for Apache Beam. I started a new project rather than downloading their archetpye. I&#39;m running into an apparently common problem, that is not being solved by the common solution:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: No Runner was specified and the DirectRunner was not found on the classpath.\r\nSpecify a runner by either:\r\n    Explicitly specifying a runner by providing the &#39;runner&#39; property\r\n    Adding the DirectRunner to the classpath\r\n    Calling &#39;PipelineOptions.setRunner(PipelineRunner)&#39; directly\r\n```\r\n\r\nThe common solution here on SO is to add the correct dependencies, which I have done. Here is my very simple POM:\r\n\r\n```json\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test_pipeline&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.beam/beam-runners-direct-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n            &lt;artifactId&gt;beam-runners-direct-java&lt;/artifactId&gt;\r\n            &lt;version&gt;2.33.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n            &lt;artifactId&gt;beam-sdks-java-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.33.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-extensions-json-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n            &lt;artifactId&gt;beam-sdks-java-extensions-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.33.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSo how do I add the direct runner to my classpath (or solve this issue in any other way)?","title":"How to add Apache Beam direct runner to classpath?","body":"<p>I am trying a simple spinoff of the MinimalWordCount example project for Apache Beam. I started a new project rather than downloading their archetpye. I'm running into an apparently common problem, that is not being solved by the common solution:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No Runner was specified and the DirectRunner was not found on the classpath.\nSpecify a runner by either:\n    Explicitly specifying a runner by providing the 'runner' property\n    Adding the DirectRunner to the classpath\n    Calling 'PipelineOptions.setRunner(PipelineRunner)' directly\n</code></pre>\n<p>The common solution here on SO is to add the correct dependencies, which I have done. Here is my very simple POM:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test_pipeline&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.beam/beam-runners-direct-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-runners-direct-java&lt;/artifactId&gt;\n            &lt;version&gt;2.33.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-sdks-java-core&lt;/artifactId&gt;\n            &lt;version&gt;2.33.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.beam/beam-sdks-java-extensions-json-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-sdks-java-extensions-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.33.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So how do I add the direct runner to my classpath (or solve this issue in any other way)?</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633377668,"creation_date":1633278532,"answer_id":69426776,"question_id":69026907,"body_markdown":"I mean literally it is said right there in the error message what you should do. Just provide the configuration class in @SpringBootTest annotation. Also for contract tests you should not start any databases or repositories. You should mock them out.","title":"Unable to find a @SpringBootConfiguration when doing spring cloud contract test","body":"<p>I mean literally it is said right there in the error message what you should do. Just provide the configuration class in @SpringBootTest annotation. Also for contract tests you should not start any databases or repositories. You should mock them out.</p>\n"},{"tags":[],"owner":{"account_id":132714,"reputation":1619,"user_id":333580,"display_name":"BStateham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635524198,"creation_date":1635524198,"answer_id":69771995,"question_id":69026907,"body_markdown":"Make sure that the classes you are testing are in the same namespace as your `@SpringBootApplication` class, or are in namespaces UNDER the namespace that contains your `@SpringBootApplication` class.  \r\n\r\nFor example, if your app class is in `com.example.demo.MyApplication` but the classes you are testing is `com.example.MyClass` S\r\n\r\nOr if they need to be in separate namespace trees, you may try adding the list of app classes to your @SpringBootTest annotation, e.g. \r\n\r\n```java\r\n@SpringBootTest(classes=YouAppClassName.class)\r\npublic abstract class RestBase extends TestBase {\r\n ...\r\n}\r\n```\r\n\r\n```","title":"Unable to find a @SpringBootConfiguration when doing spring cloud contract test","body":"<p>Make sure that the classes you are testing are in the same namespace as your <code>@SpringBootApplication</code> class, or are in namespaces UNDER the namespace that contains your <code>@SpringBootApplication</code> class.</p>\n<p>For example, if your app class is in <code>com.example.demo.MyApplication</code> but the classes you are testing is <code>com.example.MyClass</code> S</p>\n<p>Or if they need to be in separate namespace trees, you may try adding the list of app classes to your @SpringBootTest annotation, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes=YouAppClassName.class)\npublic abstract class RestBase extends TestBase {\n ...\n}\n</code></pre>\n<pre><code></code></pre>\n"}],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69426776,"answer_count":2,"score":0,"last_activity_date":1635524198,"creation_date":1630572143,"question_id":69026907,"body_markdown":"I have a spring boot project as producer which have API endpoints, created via RouterFunction.\r\n\r\nThat API endpoint call handler which call a service and then make a call to JPA repository.\r\n\r\nWe have used liquibase to create db tables and for writing testcases we have used postgressql testcontainer.\r\n\r\nI have written base class for producer as below:\r\n\r\n    @SpringBootTest\r\n    public abstract class RestBase extends TestBase {\r\n    \r\n        @Autowired\r\n        private AccountHandler accountHandler;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            RestAssuredWebTestClient.webTestClient(WebTestClient.bindToRouterFunction(\r\n                    new RouterConfig(accountHandler).routes()).build());\r\n    \r\n        }\r\n    }\r\n\r\nHowever, when I am trying to run mvn clean install, below stack trace is coming.\r\n\r\n    [INFO] Running com.example.RestTest\r\n    2021-09-02 13:46:26.207  INFO 25420 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.RestTest], using SpringBootContextLoader\r\n    2021-09-02 13:46:26.208  INFO 25420 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.RestTest]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    2021-09-02 13:46:26.208  INFO 25420 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.RestTest]: RestTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.127 s &lt;&lt;&lt; FAILURE! - in com.example.RestTest\r\n    [ERROR] com.example.RestTest  Time elapsed: 0.127 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\r\n    2021-09-02 13:46:26.346  INFO 25420 --- [           main] c.e.e.c.ContainerEnvironmentResource     : Stopping all test containers.\r\n    2021-09-02 13:46:26.778  INFO 25420 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-09-02 13:46:26.781  INFO 25420 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2021-09-02 13:46:26.795  INFO 25420 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Errors: \r\n    [ERROR]   RestTest &#187; IllegalState Unable to find a @SpringBootConfiguration, you need to...\r\n\r\nHow to solve this issue? Is there any issue with my base test class?\r\n\r\nRouter Config class looks like below:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class RouterConfig {\r\n    \r\n        private final AccountHandler accountHandler;\r\n    \r\n        @Bean\r\n        public RouterFunction&lt;ServerResponse&gt; routes (){\r\n            return route()\r\n                    .GET(&quot;/accounts&quot;,accountHandler::retrieveAccountByFilter)\r\n                    .build();\r\n        }\r\n    }","title":"Unable to find a @SpringBootConfiguration when doing spring cloud contract test","body":"<p>I have a spring boot project as producer which have API endpoints, created via RouterFunction.</p>\n<p>That API endpoint call handler which call a service and then make a call to JPA repository.</p>\n<p>We have used liquibase to create db tables and for writing testcases we have used postgressql testcontainer.</p>\n<p>I have written base class for producer as below:</p>\n<pre><code>@SpringBootTest\npublic abstract class RestBase extends TestBase {\n\n    @Autowired\n    private AccountHandler accountHandler;\n\n    @BeforeEach\n    public void setup() {\n        RestAssuredWebTestClient.webTestClient(WebTestClient.bindToRouterFunction(\n                new RouterConfig(accountHandler).routes()).build());\n\n    }\n}\n</code></pre>\n<p>However, when I am trying to run mvn clean install, below stack trace is coming.</p>\n<pre><code>[INFO] Running com.example.RestTest\n2021-09-02 13:46:26.207  INFO 25420 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.RestTest], using SpringBootContextLoader\n2021-09-02 13:46:26.208  INFO 25420 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.example.RestTest]: no resource found for suffixes {-context.xml, Context.groovy}.\n2021-09-02 13:46:26.208  INFO 25420 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.RestTest]: RestTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.127 s &lt;&lt;&lt; FAILURE! - in com.example.RestTest\n[ERROR] com.example.RestTest  Time elapsed: 0.127 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\n2021-09-02 13:46:26.346  INFO 25420 --- [           main] c.e.e.c.ContainerEnvironmentResource     : Stopping all test containers.\n2021-09-02 13:46:26.778  INFO 25420 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2021-09-02 13:46:26.781  INFO 25420 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2021-09-02 13:46:26.795  INFO 25420 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   RestTest ¬ª IllegalState Unable to find a @SpringBootConfiguration, you need to...\n</code></pre>\n<p>How to solve this issue? Is there any issue with my base test class?</p>\n<p>Router Config class looks like below:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class RouterConfig {\n\n    private final AccountHandler accountHandler;\n\n    @Bean\n    public RouterFunction&lt;ServerResponse&gt; routes (){\n        return route()\n                .GET(&quot;/accounts&quot;,accountHandler::retrieveAccountByFilter)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":6,"creation_date":1635523358,"post_id":69771761,"comment_id":123329890,"body_markdown":"I would strongly suggest you reorganize your data into a defined class.  If you know the names of the fields, then there&#39;s no reason to store them in a map.  Just make a TaskGroup class, then you&#39;ll have a lot more control.","body":"I would strongly suggest you reorganize your data into a defined class.  If you know the names of the fields, then there&#39;s no reason to store them in a map.  Just make a TaskGroup class, then you&#39;ll have a lot more control."},{"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"score":2,"creation_date":1635523916,"post_id":69771761,"comment_id":123330098,"body_markdown":"Take a look at the documentation for ArrayList.contains() and HashMap.equals(). I think you will find that .contains() does not support the kind of operation you are trying to do","body":"Take a look at the documentation for ArrayList.contains() and HashMap.equals(). I think you will find that .contains() does not support the kind of operation you are trying to do"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1635524999,"post_id":69771761,"comment_id":123330521,"body_markdown":"It is a great point that you should be using a proper class instead of a Map, but even using a Map, you should be using a `List&lt;Map&lt;K, V&gt;&gt;` (for some K and V), not an `ArrayList&lt;HashMap&gt;`. Code to the interface, not the implementation.","body":"It is a great point that you should be using a proper class instead of a Map, but even using a Map, you should be using a <code>List&lt;Map&lt;K, V&gt;&gt;</code> (for some K and V), not an <code>ArrayList&lt;HashMap&gt;</code>. Code to the interface, not the implementation."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1635525985,"post_id":69771761,"comment_id":123330861,"body_markdown":"Contains is meant to check the type directly stored in the list.  The only ways I could think of doing this would be to create your own class by extending `ArrayList` or `AbstractList` or creating a wrapper class that has an instance of  your `List` and an appropriate contains method.  I would advise doing neither  Imo, your best bet would be an auxiliary contains method that is not part of the List interface.","body":"Contains is meant to check the type directly stored in the list.  The only ways I could think of doing this would be to create your own class by extending <code>ArrayList</code> or <code>AbstractList</code> or creating a wrapper class that has an instance of  your <code>List</code> and an appropriate contains method.  I would advise doing neither  Imo, your best bet would be an auxiliary contains method that is not part of the List interface."}],"owner":{"account_id":17911188,"reputation":17,"user_id":13013286,"display_name":"CodeRich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635523695,"creation_date":1635523046,"question_id":69771761,"body_markdown":"I have an ArrayList of HashMaps \r\n\r\n     ArrayList&lt;HashMap&gt; t = getDatabaseList();\r\n\r\nand the data inside looks like \r\n\r\n    t=[{taskGroupID=CYQW1634868825, taskGroupName=Fitness, taskGroupColorString=#FFFF3838}, {taskGroupID=ETHC1634868825, taskGroupName=School, taskGroupColorString=#FFFFC107}, {taskGroupID=AAAA1634868825, taskGroupName=Task, taskGroupColorString=#FF00CA38}]\r\n\r\nI am trying to use the contain method to detect if there is a Hashmap entry-set that contains the key taskGroupName with a value of Fitness. However, I have no idea exactly what to put in the method.\r\n\r\nSomething like below in pseudocode\r\n\r\n    if(t.contains(key=taskGroupName, val=Fitness)){\r\n       //run code if detected\r\n    }\r\n\r\nI did initialize a new Hashmap variable and set the values exactly to what is found in the arraylist and passed it through the contain method just to test if it turns true and it did pass to true and ran the code when detected \r\n\r\n    ArrayList&lt;HashMap&gt; t = getDatabaseList();\r\n    HashMap&lt;String,String&gt; tempVar = new HashMap&lt;&gt;();\r\n                           tempVar.put(&quot;taskGroupName&quot;, &quot;Fitness&quot;);\r\n                           tempVar.put(&quot;taskGroupID&quot;, &quot;CYQW1634868825&quot;);\r\n                           tempVar.put(&quot;taskGroupColorString&quot;, &quot;#FFFF3838&quot;);\r\n\r\n    if(t.contains(tempVar)){\r\n           //detected to true and ran code\r\n    }\r\n\r\n\r\nBut if I change say the taskGroupID value of tempVar to one number different, it does not pass to true since it is not exact value and I just want to detect that there is a set with the value of Fitness for taskGroupName without caring about the rest of the values of the other categories cause those might not be the same everytime the ArrayList gets populated.\r\n\r\nThe other way solution I know at the moment is to run the for loop with the code below but I&#39;m curious as how to achieve it with the contain method instead.\r\n\r\n    for(HashMap&lt;String,Object&gt; hashEntry: t){\r\n             String text = (String) hashEntry.get(&quot;taskGroupName&quot;);\r\n             if(text.equals(&quot;Fitness&quot;)){\r\n                  //run code if it is Fitness\r\n             }\r\n\r\n    }\r\n\r\n\r\n","title":"How to use contain method for an ArrayList of HashMaps in Java?","body":"<p>I have an ArrayList of HashMaps</p>\n<pre><code> ArrayList&lt;HashMap&gt; t = getDatabaseList();\n</code></pre>\n<p>and the data inside looks like</p>\n<pre><code>t=[{taskGroupID=CYQW1634868825, taskGroupName=Fitness, taskGroupColorString=#FFFF3838}, {taskGroupID=ETHC1634868825, taskGroupName=School, taskGroupColorString=#FFFFC107}, {taskGroupID=AAAA1634868825, taskGroupName=Task, taskGroupColorString=#FF00CA38}]\n</code></pre>\n<p>I am trying to use the contain method to detect if there is a Hashmap entry-set that contains the key taskGroupName with a value of Fitness. However, I have no idea exactly what to put in the method.</p>\n<p>Something like below in pseudocode</p>\n<pre><code>if(t.contains(key=taskGroupName, val=Fitness)){\n   //run code if detected\n}\n</code></pre>\n<p>I did initialize a new Hashmap variable and set the values exactly to what is found in the arraylist and passed it through the contain method just to test if it turns true and it did pass to true and ran the code when detected</p>\n<pre><code>ArrayList&lt;HashMap&gt; t = getDatabaseList();\nHashMap&lt;String,String&gt; tempVar = new HashMap&lt;&gt;();\n                       tempVar.put(&quot;taskGroupName&quot;, &quot;Fitness&quot;);\n                       tempVar.put(&quot;taskGroupID&quot;, &quot;CYQW1634868825&quot;);\n                       tempVar.put(&quot;taskGroupColorString&quot;, &quot;#FFFF3838&quot;);\n\nif(t.contains(tempVar)){\n       //detected to true and ran code\n}\n</code></pre>\n<p>But if I change say the taskGroupID value of tempVar to one number different, it does not pass to true since it is not exact value and I just want to detect that there is a set with the value of Fitness for taskGroupName without caring about the rest of the values of the other categories cause those might not be the same everytime the ArrayList gets populated.</p>\n<p>The other way solution I know at the moment is to run the for loop with the code below but I'm curious as how to achieve it with the contain method instead.</p>\n<pre><code>for(HashMap&lt;String,Object&gt; hashEntry: t){\n         String text = (String) hashEntry.get(&quot;taskGroupName&quot;);\n         if(text.equals(&quot;Fitness&quot;)){\n              //run code if it is Fitness\n         }\n\n}\n</code></pre>\n"},{"tags":["java","android","curl"],"comments":[{"owner":{"account_id":4965695,"reputation":1490,"user_id":3995126,"display_name":"kelvin"},"score":0,"creation_date":1597985523,"post_id":63516091,"comment_id":112316132,"body_markdown":"Why are you fetching all user data for login?","body":"Why are you fetching all user data for login?"},{"owner":{"account_id":19262318,"reputation":27,"user_id":14077916,"display_name":"Komang Putra"},"score":0,"creation_date":1597986179,"post_id":63516091,"comment_id":112316270,"body_markdown":"i am just pick nik_baru and password only for login and rest of all just showing user&#39;s data","body":"i am just pick nik_baru and password only for login and rest of all just showing user&#39;s data"},{"owner":{"account_id":4965695,"reputation":1490,"user_id":3995126,"display_name":"kelvin"},"score":0,"creation_date":1597986345,"post_id":63516091,"comment_id":112316302,"body_markdown":"thats not the way you do authentication. API should respond if the user is valid or not with the data of that particular user. Thats how would do it!!","body":"thats not the way you do authentication. API should respond if the user is valid or not with the data of that particular user. Thats how would do it!!"},{"owner":{"account_id":19262318,"reputation":27,"user_id":14077916,"display_name":"Komang Putra"},"score":0,"creation_date":1597986567,"post_id":63516091,"comment_id":112316354,"body_markdown":"So i must createa php file for API ?","body":"So i must createa php file for API ?"},{"owner":{"account_id":4965695,"reputation":1490,"user_id":3995126,"display_name":"kelvin"},"score":0,"creation_date":1597986706,"post_id":63516091,"comment_id":112316385,"body_markdown":"who is the owner of http://hrd.tvip.co.id/rest_server/api/login/index","body":"who is the owner of <a href=\"http://hrd.tvip.co.id/rest_server/api/login/index\" rel=\"nofollow noreferrer\">hrd.tvip.co.id/rest_server/api/login/index</a>"},{"owner":{"account_id":19262318,"reputation":27,"user_id":14077916,"display_name":"Komang Putra"},"score":0,"creation_date":1597986936,"post_id":63516091,"comment_id":112316455,"body_markdown":"my company... why ?","body":"my company... why ?"},{"owner":{"account_id":2921308,"reputation":7300,"user_id":2503495,"accept_rate":75,"display_name":"Kuya"},"score":0,"creation_date":1597998028,"post_id":63516091,"comment_id":112320409,"body_markdown":"Yes, you need to create a login file (in your server language: PHP, ASP, whatever) that will accept the credentials (ex: username &amp; password) that you send it, perform the login in attempt using those credentials and respond with a success or failure.","body":"Yes, you need to create a login file (in your server language: PHP, ASP, whatever) that will accept the credentials (ex: username &amp; password) that you send it, perform the login in attempt using those credentials and respond with a success or failure."},{"owner":{"account_id":19262318,"reputation":27,"user_id":14077916,"display_name":"Komang Putra"},"score":0,"creation_date":1597998458,"post_id":63516091,"comment_id":112320592,"body_markdown":"uumm. can you give me an example, please? because this is my first time i use Curl...","body":"uumm. can you give me an example, please? because this is my first time i use Curl..."},{"owner":{"account_id":2921308,"reputation":7300,"user_id":2503495,"accept_rate":75,"display_name":"Kuya"},"score":0,"creation_date":1597998574,"post_id":63516091,"comment_id":112320648,"body_markdown":"an example of server login file? You should have your website programmer create a login file for you that does the login attempt based on the credential you send. The login file is heavily dependent on the version of OS your server is running. I wouldn&#39;t know that, but your website programmer should.","body":"an example of server login file? You should have your website programmer create a login file for you that does the login attempt based on the credential you send. The login file is heavily dependent on the version of OS your server is running. I wouldn&#39;t know that, but your website programmer should."},{"owner":{"account_id":19262318,"reputation":27,"user_id":14077916,"display_name":"Komang Putra"},"score":0,"creation_date":1597999871,"post_id":63516091,"comment_id":112321254,"body_markdown":"yes, i mean that","body":"yes, i mean that"}],"answers":[{"tags":[],"owner":{"account_id":2921308,"reputation":7300,"user_id":2503495,"accept_rate":75,"display_name":"Kuya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635523497,"creation_date":1598001607,"answer_id":63520035,"question_id":63516091,"body_markdown":"This is just an example... the &lt;b&gt;exact&lt;/b&gt; coding for your particular login system may be different.\r\n\r\nThe server login file `PHP` would be similar to this:\r\n\r\n    if (isset($_POST[&#39;username&#39;]) &amp;&amp; $_POST[&#39;username&#39;] != &#39;&#39;) {\r\n\t\t$loginPassword = $_POST[&#39;password&#39;];\r\n\t\t$username = $_POST[&#39;username&#39;];\r\n\t\t$sql = &quot;SELECT `id`, `username`, `email`, `password`, `key` FROM `TABLE_NAME` WHERE `username`=:username&quot;;\r\n\t\t$LoginRS_query = $conn-&gt;prepare($sql);\r\n\t\t$LoginRS_query-&gt;bindValue(&#39;:username&#39;, $username, PDO::PARAM_STR);\r\n\t\t$LoginRS_query-&gt;execute();\r\n\t\t$LoginRS = $LoginRS_query-&gt;fetch(PDO::FETCH_ASSOC);\r\n\t\t$totalRows = $LoginRS_query-&gt;rowCount();\r\n\t\t\r\n\t\tif($totalRows &gt; 0) {\r\n\t\t\t$db_key = $LoginRS[&#39;key&#39;];\r\n\t\t\t$peppered = hash_hmac(&quot;sha256&quot;, $loginPassword, $db_key);\r\n\t\t\t$db_pwd = $LoginRS[&#39;password&#39;];\r\n\t\t\tif(password_verify($peppered, $db_pwd)) {\r\n\t\t\t\t$loginFoundUser = &#39;true&#39;;\r\n\t\t\t} else {\r\n\t\t\t\t$loginFoundUser = &#39;false&#39;;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif($loginFoundUser == &#39;true&#39;) {\r\n\t\t\t$loginID =  $LoginRS[&#39;id&#39;];\r\n\t\t\t$loginUserName = $LoginRS[&#39;username&#39;];\r\n\t\t\t\r\n\t\t\t$LoginRS_query-&gt;closeCursor();\r\n\t\t\t\r\n\t\t\techo &quot;success&quot;;\r\n\t\t\t\r\n\t\t\t$response = array(&#39;id&#39; =&gt; $loginID, &#39;username&#39; =&gt; $loginUserName);\r\n        \techo json_encode($response);\r\n\t\t} else {\r\n\t\t\t$LoginRS_query-&gt;closeCursor();\r\n\t\t\techo &quot;no user found&quot;;\r\n\t\t}\r\n\t} else {\r\n\t\techo &quot;access failed&quot;;\r\n\t}\r\n\r\nThen in your activity file inside `sendLogin()` ...\r\n\r\n    public void onResponse(String response) {\r\n        if (response.contains(&quot;success&quot;)) {\r\n            String res = response.substring(response.indexOf(&quot;{&quot;));\r\n\t        try {\r\n                JSONObject jsonObject = new JSONObject(res);\r\n    \t        final String loginID = jsonObject.getString(&quot;id&quot;);\r\n\t            final String loginUser = jsonObject.getString(&quot;username&quot;);\r\n\t            \r\n\t\t        Intent intent = new Intent(MainActivity.this, menu.class);\r\n    \t\t\tintent.putExtra(&quot;id&quot;, loginID); // added this line\r\n\t    \t\tintent.putExtra(&quot;username&quot;, loginUser); // added this line\r\n\t\t    \tstartActivity(intent);\r\n\t\t\t    finish();\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(getApplicationContext(), &quot;Login Error &quot; + e, Toast.LENGTH_LONG).show();\r\n            }\r\n    \t}else{\r\n\t    \tToast.makeText(getApplicationContext(), &quot;Username &amp; Password Salah&quot;, Toast.LENGTH_LONG).show();\r\n\t    }\r\n\r\nThe `intent.putExtra` is only needed if you will need your username or ID elsewhere to perform other tasks","title":"Make android login form using Curl","body":"<p>This is just an example... the <b>exact</b> coding for your particular login system may be different.</p>\n<p>The server login file <code>PHP</code> would be similar to this:</p>\n<pre><code>if (isset($_POST['username']) &amp;&amp; $_POST['username'] != '') {\n    $loginPassword = $_POST['password'];\n    $username = $_POST['username'];\n    $sql = &quot;SELECT `id`, `username`, `email`, `password`, `key` FROM `TABLE_NAME` WHERE `username`=:username&quot;;\n    $LoginRS_query = $conn-&gt;prepare($sql);\n    $LoginRS_query-&gt;bindValue(':username', $username, PDO::PARAM_STR);\n    $LoginRS_query-&gt;execute();\n    $LoginRS = $LoginRS_query-&gt;fetch(PDO::FETCH_ASSOC);\n    $totalRows = $LoginRS_query-&gt;rowCount();\n    \n    if($totalRows &gt; 0) {\n        $db_key = $LoginRS['key'];\n        $peppered = hash_hmac(&quot;sha256&quot;, $loginPassword, $db_key);\n        $db_pwd = $LoginRS['password'];\n        if(password_verify($peppered, $db_pwd)) {\n            $loginFoundUser = 'true';\n        } else {\n            $loginFoundUser = 'false';\n        }\n    }\n    \n    if($loginFoundUser == 'true') {\n        $loginID =  $LoginRS['id'];\n        $loginUserName = $LoginRS['username'];\n        \n        $LoginRS_query-&gt;closeCursor();\n        \n        echo &quot;success&quot;;\n        \n        $response = array('id' =&gt; $loginID, 'username' =&gt; $loginUserName);\n        echo json_encode($response);\n    } else {\n        $LoginRS_query-&gt;closeCursor();\n        echo &quot;no user found&quot;;\n    }\n} else {\n    echo &quot;access failed&quot;;\n}\n</code></pre>\n<p>Then in your activity file inside <code>sendLogin()</code> ...</p>\n<pre><code>public void onResponse(String response) {\n    if (response.contains(&quot;success&quot;)) {\n        String res = response.substring(response.indexOf(&quot;{&quot;));\n        try {\n            JSONObject jsonObject = new JSONObject(res);\n            final String loginID = jsonObject.getString(&quot;id&quot;);\n            final String loginUser = jsonObject.getString(&quot;username&quot;);\n            \n            Intent intent = new Intent(MainActivity.this, menu.class);\n            intent.putExtra(&quot;id&quot;, loginID); // added this line\n            intent.putExtra(&quot;username&quot;, loginUser); // added this line\n            startActivity(intent);\n            finish();\n        } catch (JSONException e) {\n            e.printStackTrace();\n            Toast.makeText(getApplicationContext(), &quot;Login Error &quot; + e, Toast.LENGTH_LONG).show();\n        }\n    }else{\n        Toast.makeText(getApplicationContext(), &quot;Username &amp; Password Salah&quot;, Toast.LENGTH_LONG).show();\n    }\n</code></pre>\n<p>The <code>intent.putExtra</code> is only needed if you will need your username or ID elsewhere to perform other tasks</p>\n"}],"owner":{"account_id":19262318,"reputation":27,"user_id":14077916,"display_name":"Komang Putra"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63520035,"answer_count":1,"score":0,"last_activity_date":1635523497,"creation_date":1597980452,"question_id":63516091,"body_markdown":"I need help to make login using Curl, I just tried make it but it always failed. do I need php file or no ? if yes, can you give me an example how to use it.\r\n\r\nhere is my url to make login using nik_baru and password\r\n\r\n[http://hrd.tvip.co.id/rest_server/api/login/index][1]\r\n\r\n\r\nAnd here is my code\r\n```\r\npackage com.example.eis2;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText editTextnik_baru;\r\n    EditText editTextpassword;\r\n    Button buttonlogin;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        editTextnik_baru = (EditText) findViewById(R.id.editTextnik_baru);\r\n        editTextpassword = (EditText) findViewById(R.id.editTextpassword);\r\n        buttonlogin = (Button) findViewById(R.id.buttonlogin);\r\n\r\n        buttonlogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if(!editTextnik_baru.getText().equals(&quot;&quot;)){\r\n                    sendLogin();\r\n\r\n                } else {\r\n                    editTextnik_baru.setError(&quot;Please insert NIK&quot;);\r\n                    editTextpassword.setError(&quot;Please insert password&quot;);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void sendLogin() {\r\n        String url = &quot;http://hrd.tvip.co.id/rest_server/api/login/index&quot;;\r\n        url += editTextnik_baru.getText();\r\n        final String nik_baru = editTextnik_baru.getText().toString().trim();\r\n\r\n        StringRequest loginRequest = new StringRequest(Request.Method.GET, url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        try {\r\n                            JSONArray array = new JSONArray(&quot;data&quot;);\r\n                            JSONObject json = array.getJSONObject(0);\r\n                            String status = json.getString(&quot;nik_baru&quot;);\r\n                            System.out.println(&quot;data &quot;+ status);\r\n//                            JSONObject json = getJSONObject(&quot;data&quot;);\r\n                            if(status.equals(nik_baru)){\r\n                                Log.d(&quot;tvip&quot;, &quot;success&quot;);\r\n                                Intent intent = new Intent(MainActivity.this, menu.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            }else{\r\n                                Toast.makeText(getApplicationContext(), &quot;Username &amp; Password Salah&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(getApplicationContext(),&quot;Error&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n        ){\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams(){\r\n                HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;nik_baru&quot;, editTextnik_baru.getText().toString());\r\n                params.put(&quot;password&quot;, editTextpassword.getText().toString());\r\n                return params;\r\n            }\r\n        };\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n        requestQueue.add(loginRequest);\r\n    }\r\n}\r\n``` \r\n\r\nand this is it&#39;s xml code\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#00d0ff&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/logoeis&quot;\r\n        android:layout_width=&quot;148dp&quot;\r\n        android:layout_height=&quot;140dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;90dp&quot;\r\n        app:srcCompat=&quot;@drawable/logoeis&quot; /&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/logoasa&quot;\r\n        android:layout_width=&quot;38dp&quot;\r\n        android:layout_height=&quot;43dp&quot;\r\n        android:layout_below=&quot;@+id/logoeis&quot;\r\n        android:layout_marginLeft=&quot;300dp&quot;\r\n        android:layout_marginTop=&quot;-200dp&quot;\r\n        app:srcCompat=&quot;@drawable/logoasa&quot; /&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/logotvip&quot;\r\n        android:layout_width=&quot;38dp&quot;\r\n        android:layout_height=&quot;43dp&quot;\r\n        android:layout_below=&quot;@+id/logoeis&quot;\r\n        android:layout_marginLeft=&quot;250dp&quot;\r\n        android:layout_marginTop=&quot;-200dp&quot;\r\n        app:srcCompat=&quot;@drawable/logotvip&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextnik_baru&quot;\r\n        android:layout_width=&quot;241dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:layout_below=&quot;@+id/logoeis&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:hint=&quot;NIK Baru&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:selectAllOnFocus=&quot;true&quot;/&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextpassword&quot;\r\n        android:layout_width=&quot;241dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/editTextnik_baru&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:selectAllOnFocus=&quot;true&quot;/&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/buttonlogin&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/editTextpassword&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Login&quot;\r\n        android:layout_marginTop=&quot;15dp&quot; /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/eis&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Employee Information System&quot;\r\n        android:textSize=&quot;23dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:layout_below=&quot;@+id/buttonlogin&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/version&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Version 1.0&quot;\r\n        android:textSize=&quot;23dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:layout_below=&quot;@+id/eis&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nCan you guys solve this problem ?\r\n\r\n\r\n  [1]: http://hrd.tvip.co.id/rest_server/api/login/index","title":"Make android login form using Curl","body":"<p>I need help to make login using Curl, I just tried make it but it always failed. do I need php file or no ? if yes, can you give me an example how to use it.</p>\n<p>here is my url to make login using nik_baru and password</p>\n<p><a href=\"http://hrd.tvip.co.id/rest_server/api/login/index\" rel=\"nofollow noreferrer\">http://hrd.tvip.co.id/rest_server/api/login/index</a></p>\n<p>And here is my code</p>\n<pre><code>package com.example.eis2;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText editTextnik_baru;\n    EditText editTextpassword;\n    Button buttonlogin;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        editTextnik_baru = (EditText) findViewById(R.id.editTextnik_baru);\n        editTextpassword = (EditText) findViewById(R.id.editTextpassword);\n        buttonlogin = (Button) findViewById(R.id.buttonlogin);\n\n        buttonlogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if(!editTextnik_baru.getText().equals(&quot;&quot;)){\n                    sendLogin();\n\n                } else {\n                    editTextnik_baru.setError(&quot;Please insert NIK&quot;);\n                    editTextpassword.setError(&quot;Please insert password&quot;);\n                }\n            }\n        });\n    }\n    private void sendLogin() {\n        String url = &quot;http://hrd.tvip.co.id/rest_server/api/login/index&quot;;\n        url += editTextnik_baru.getText();\n        final String nik_baru = editTextnik_baru.getText().toString().trim();\n\n        StringRequest loginRequest = new StringRequest(Request.Method.GET, url,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n                            JSONArray array = new JSONArray(&quot;data&quot;);\n                            JSONObject json = array.getJSONObject(0);\n                            String status = json.getString(&quot;nik_baru&quot;);\n                            System.out.println(&quot;data &quot;+ status);\n//                            JSONObject json = getJSONObject(&quot;data&quot;);\n                            if(status.equals(nik_baru)){\n                                Log.d(&quot;tvip&quot;, &quot;success&quot;);\n                                Intent intent = new Intent(MainActivity.this, menu.class);\n                                startActivity(intent);\n                                finish();\n                            }else{\n                                Toast.makeText(getApplicationContext(), &quot;Username &amp; Password Salah&quot;, Toast.LENGTH_LONG).show();\n                            }\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(getApplicationContext(),&quot;Error&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }\n        ){\n            @Override\n            protected Map&lt;String, String&gt; getParams(){\n                HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;nik_baru&quot;, editTextnik_baru.getText().toString());\n                params.put(&quot;password&quot;, editTextpassword.getText().toString());\n                return params;\n            }\n        };\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n        requestQueue.add(loginRequest);\n    }\n}\n</code></pre>\n<p>and this is it's xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#00d0ff&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/logoeis&quot;\n        android:layout_width=&quot;148dp&quot;\n        android:layout_height=&quot;140dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;90dp&quot;\n        app:srcCompat=&quot;@drawable/logoeis&quot; /&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/logoasa&quot;\n        android:layout_width=&quot;38dp&quot;\n        android:layout_height=&quot;43dp&quot;\n        android:layout_below=&quot;@+id/logoeis&quot;\n        android:layout_marginLeft=&quot;300dp&quot;\n        android:layout_marginTop=&quot;-200dp&quot;\n        app:srcCompat=&quot;@drawable/logoasa&quot; /&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/logotvip&quot;\n        android:layout_width=&quot;38dp&quot;\n        android:layout_height=&quot;43dp&quot;\n        android:layout_below=&quot;@+id/logoeis&quot;\n        android:layout_marginLeft=&quot;250dp&quot;\n        android:layout_marginTop=&quot;-200dp&quot;\n        app:srcCompat=&quot;@drawable/logotvip&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/editTextnik_baru&quot;\n        android:layout_width=&quot;241dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:layout_below=&quot;@+id/logoeis&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:hint=&quot;NIK Baru&quot;\n        android:inputType=&quot;text&quot;\n        android:textColor=&quot;#000000&quot;\n        android:selectAllOnFocus=&quot;true&quot;/&gt;\n    &lt;EditText\n        android:id=&quot;@+id/editTextpassword&quot;\n        android:layout_width=&quot;241dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/editTextnik_baru&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:hint=&quot;Password&quot;\n        android:textColor=&quot;#000000&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:selectAllOnFocus=&quot;true&quot;/&gt;\n    &lt;Button\n        android:id=&quot;@+id/buttonlogin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/editTextpassword&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;Login&quot;\n        android:layout_marginTop=&quot;15dp&quot; /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/eis&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Employee Information System&quot;\n        android:textSize=&quot;23dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:textColor=&quot;#000000&quot;\n        android:layout_below=&quot;@+id/buttonlogin&quot;\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\n    &lt;TextView\n        android:id=&quot;@+id/version&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Version 1.0&quot;\n        android:textSize=&quot;23dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:textColor=&quot;#000000&quot;\n        android:layout_below=&quot;@+id/eis&quot;\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Can you guys solve this problem ?</p>\n"},{"tags":["javascript","java","sql","jsp","web"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1635523131,"post_id":69771692,"comment_id":123329821,"body_markdown":"Hello and welcome to StackOverflow. Please read [the Stack Overflow question checklist](http://meta.stackexchange.com/q/156810/204922). You might also want to learn about [Minimal, Complete, and Verifiable Examples](http://stackoverflow.com/help/mcve).","body":"Hello and welcome to StackOverflow. Please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635558076,"post_id":69771692,"comment_id":123338207,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1215678,"reputation":539,"user_id":1183327,"accept_rate":60,"display_name":"Arrvi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635523466,"creation_date":1635523466,"answer_id":69771865,"question_id":69771692,"body_markdown":"After quick run through the code I think you&#39;re experiencing DB connection leak. Each query in your DAOs opens new connection to DB and never closes it. Try using [try with resources][1] syntax for connections.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"My website keeps loading indefinitely after 3 operations","body":"<p>After quick run through the code I think you're experiencing DB connection leak. Each query in your DAOs opens new connection to DB and never closes it. Try using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try with resources</a> syntax for connections.</p>\n"}],"owner":{"account_id":23184008,"reputation":1,"user_id":17281430,"display_name":"Fatted"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635523466,"creation_date":1635522735,"question_id":69771692,"body_markdown":"i can&#39;t understand why my site after 3 operations goes into a literally infinite loop. i am using eclipse and i am hosting the server with tomcat, as database i use workbench. The server initially does not give errors, or so it seems for the first two operations, but then as soon as I perform the third operation the site does not respond and goes into infinite upload (I attach photos and code).\r\n\r\nI don&#39;t think it&#39;s a code problem, maybe it will be Tomcat max cache? I&#39;ve been banging my head for more than 3 days but I just can&#39;t solve it, finally I don&#39;t have any kind of error inside the Eclipse console, and the only way to get my site up and running is to totally restart the tomcat server.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vERum.png\r\n\r\nThis is my code: https://github.com/Fatted/Olysmart_TSW2021 (download the zip,databse is included)\r\n\r\nI already thank those who will help me or who at least had some time to read this post, thanks!","title":"My website keeps loading indefinitely after 3 operations","body":"<p>i can't understand why my site after 3 operations goes into a literally infinite loop. i am using eclipse and i am hosting the server with tomcat, as database i use workbench. The server initially does not give errors, or so it seems for the first two operations, but then as soon as I perform the third operation the site does not respond and goes into infinite upload (I attach photos and code).</p>\n<p>I don't think it's a code problem, maybe it will be Tomcat max cache? I've been banging my head for more than 3 days but I just can't solve it, finally I don't have any kind of error inside the Eclipse console, and the only way to get my site up and running is to totally restart the tomcat server.</p>\n<p><a href=\"https://i.stack.imgur.com/vERum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vERum.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code: <a href=\"https://github.com/Fatted/Olysmart_TSW2021\" rel=\"nofollow noreferrer\">https://github.com/Fatted/Olysmart_TSW2021</a> (download the zip,databse is included)</p>\n<p>I already thank those who will help me or who at least had some time to read this post, thanks!</p>\n"},{"tags":["java","spring","spring-repositories"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1558992235,"post_id":56332441,"comment_id":99271738,"body_markdown":"findAll() doesn&#39;t return a null list. You get a NPE because `cityRepository` is null. Spring will never, ever, ever autowire a static field. Don&#39;t make assumptions. Use your debugger, or traces in the code to understand what is happening.","body":"findAll() doesn&#39;t return a null list. You get a NPE because <code>cityRepository</code> is null. Spring will never, ever, ever autowire a static field. Don&#39;t make assumptions. Use your debugger, or traces in the code to understand what is happening."},{"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"score":0,"creation_date":1559031117,"post_id":56332441,"comment_id":99281164,"body_markdown":"what an oversight... i simply deleted the `static` declaration in front of the repository and it works now... I will look much harder into my own code in the future","body":"what an oversight... i simply deleted the <code>static</code> declaration in front of the repository and it works now... I will look much harder into my own code in the future"}],"answers":[{"tags":[],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1559031154,"creation_date":1559031154,"answer_id":56337771,"question_id":56332441,"body_markdown":"removed the `static` declaration in front of the repository, it works fine now","title":"Spring CrudRepository method findAll() returns an empty list","body":"<p>removed the <code>static</code> declaration in front of the repository, it works fine now</p>\n"}],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56337771,"answer_count":1,"score":1,"last_activity_date":1635523421,"creation_date":1558991098,"question_id":56332441,"body_markdown":"So, my problem is in the title - crudrepository method `findAll()` returns a null list. I&#39;ve overriden Crud&#39;s method because it returned an iterable instead of a list.\r\n\r\nI&#39;ve tried using the `JpaRepository` instead of `CrudRepository` (I didn&#39;t override the `findAll()` method then), but got the same result.\r\n\r\nMy code:\r\n\r\nEvent.java\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    public class Event{\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Long id;\r\n\t\t\r\n\t\t@Column(nullable=false)\r\n\t\tprivate String name;\r\n\t\t\r\n\t\t@Column(nullable=false)\r\n\t\tprivate LocalDateTime time;\r\n\r\n\t\t@ManyToOne\r\n\t\t@JoinColumn\r\n\t\tprivate City city;\r\n\r\n    }\r\n\r\nCity.java\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    public class City {\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Long id;\r\n\t\t\r\n\t\t@Column(nullable=false)\r\n\t\tprivate Long code;\r\n\t\t\r\n\t\t@Column(nullable=false)\r\n\t\tprivate String name;\r\n\t\t\r\n\t\t\t@OneToMany(mappedBy = &quot;city&quot;, cascade = CascadeType.ALL)\r\n\t\t\tprivate Set&lt;Event&gt; events;\r\n\t\t}\r\n\r\n\tCityRepository.java\r\n\r\n\t\t@Repository\r\n\t\tpublic interface CityRepository extends CrudRepository&lt;City, Long&gt; {\r\n\t\t\r\n\t\t@Override\r\n\t\tList&lt;City&gt; findAll();\r\n    }\r\n\r\nEventsController.java\r\n\r\n    @Controller\r\n    @RequestMapping\r\n    public class EventsController {\r\n\r\n\t\t@Autowired\r\n\t\tstatic CityRepository cityRepository;\r\n\r\n\t\tpublic static List&lt;Event&gt; eventList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t@RequestMapping\r\n\t\tpublic String eventEntry(Model model) {\r\n\t\t\t\r\n\t\t\tmodel.addAttribute(&quot;event&quot;, new Event());\r\n\t\t\tmodel.addAttribute(&quot;cities&quot;, cityRepository.findAll());\r\n\t\t\t\r\n\t\t\treturn &quot;eventEntry&quot;;\r\n\t\t}\r\n    }\r\n\r\neventEntry.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n\t  xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t\t&lt;title&gt;Event entry&lt;/title&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\r\n\t\t&lt;h3&gt;New event&lt;/h3&gt;\r\n\t\t\r\n\t\t&lt;form method=&quot;POST&quot; th:object=&quot;${event}&quot;&gt;\r\n\t\t\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;label for=&quot;city&quot;&gt;City: &lt;/label&gt;\r\n\t\t\t\t&lt;select th:field=&quot;*{city}&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;&quot; &gt;Choose a city&lt;/option&gt;\r\n\t\t\t\t\t&lt;option th:each=&quot;city : ${cities}&quot; th:value=&quot;${city}&quot; th:text=&quot;${city}&quot;&gt;&lt;/option&gt;\r\n\t\t\t\t&lt;/select&gt;\r\n\t\t\t\t&lt;span class=&quot;validation-error&quot; th:if=&quot;${#fields.hasErrors(&#39;city&#39;)}&quot; th:errors=&quot;*{city}&quot;&gt;City Error&lt;/span&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;label for=&quot;name&quot;&gt;Name: &lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; /&gt;\r\n\t\t\t\t&lt;span class=&quot;validation-error&quot; th:if=&quot;${#fields.hasErrors(&#39;name&#39;)}&quot; th:errors=&quot;*{name}&quot;&gt;Name Error&lt;/span&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;label for=&quot;time&quot;&gt;Time: &lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;datetime-local&quot; th:field=&quot;*{time}&quot; /&gt;\r\n\t\t\t\t&lt;span class=&quot;validation-error&quot; th:if=&quot;${#fields.hasErrors(&#39;time&#39;)}&quot; th:errors=&quot;*{time}&quot;&gt;Time Error&lt;/span&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;input type=&quot;submit&quot; th:value=&quot;Save&quot;&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t\r\n\t\t&lt;/form&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nI am using an embedded H2 database with a `data.sql` file used to fill data into the database (I don&#39;t have the `schema.sql` file since tables are created using annotations). \r\nWhen viewing the H2 database console and using the `SELECT * FROM CITY` I&#39;m getting the list of the cities.\r\n\r\nI am getting a `NullPointerException` on this line from the EventController class: `model.addAttribute(&quot;cities&quot;, cityRepository.findAll());`\r\nCan someone explain why?","title":"Spring CrudRepository method findAll() returns an empty list","body":"<p>So, my problem is in the title - crudrepository method <code>findAll()</code> returns a null list. I've overriden Crud's method because it returned an iterable instead of a list.</p>\n<p>I've tried using the <code>JpaRepository</code> instead of <code>CrudRepository</code> (I didn't override the <code>findAll()</code> method then), but got the same result.</p>\n<p>My code:</p>\n<p>Event.java</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\npublic class Event{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable=false)\n    private String name;\n    \n    @Column(nullable=false)\n    private LocalDateTime time;\n\n    @ManyToOne\n    @JoinColumn\n    private City city;\n\n}\n</code></pre>\n<p>City.java</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\npublic class City {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable=false)\n    private Long code;\n    \n    @Column(nullable=false)\n    private String name;\n    \n        @OneToMany(mappedBy = &quot;city&quot;, cascade = CascadeType.ALL)\n        private Set&lt;Event&gt; events;\n    }\n\nCityRepository.java\n\n    @Repository\n    public interface CityRepository extends CrudRepository&lt;City, Long&gt; {\n    \n    @Override\n    List&lt;City&gt; findAll();\n}\n</code></pre>\n<p>EventsController.java</p>\n<pre><code>@Controller\n@RequestMapping\npublic class EventsController {\n\n    @Autowired\n    static CityRepository cityRepository;\n\n    public static List&lt;Event&gt; eventList = new ArrayList&lt;&gt;();\n    \n    @RequestMapping\n    public String eventEntry(Model model) {\n        \n        model.addAttribute(&quot;event&quot;, new Event());\n        model.addAttribute(&quot;cities&quot;, cityRepository.findAll());\n        \n        return &quot;eventEntry&quot;;\n    }\n}\n</code></pre>\n<p>eventEntry.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n  xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Event entry&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;h3&gt;New event&lt;/h3&gt;\n    \n    &lt;form method=&quot;POST&quot; th:object=&quot;${event}&quot;&gt;\n    \n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label for=&quot;city&quot;&gt;City: &lt;/label&gt;\n            &lt;select th:field=&quot;*{city}&quot;&gt;\n                &lt;option value=&quot;&quot; &gt;Choose a city&lt;/option&gt;\n                &lt;option th:each=&quot;city : ${cities}&quot; th:value=&quot;${city}&quot; th:text=&quot;${city}&quot;&gt;&lt;/option&gt;\n            &lt;/select&gt;\n            &lt;span class=&quot;validation-error&quot; th:if=&quot;${#fields.hasErrors('city')}&quot; th:errors=&quot;*{city}&quot;&gt;City Error&lt;/span&gt;\n        &lt;/div&gt;\n    \n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label for=&quot;name&quot;&gt;Name: &lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; /&gt;\n            &lt;span class=&quot;validation-error&quot; th:if=&quot;${#fields.hasErrors('name')}&quot; th:errors=&quot;*{name}&quot;&gt;Name Error&lt;/span&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label for=&quot;time&quot;&gt;Time: &lt;/label&gt;\n            &lt;input type=&quot;datetime-local&quot; th:field=&quot;*{time}&quot; /&gt;\n            &lt;span class=&quot;validation-error&quot; th:if=&quot;${#fields.hasErrors('time')}&quot; th:errors=&quot;*{time}&quot;&gt;Time Error&lt;/span&gt;\n        &lt;/div&gt;\n                    \n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;input type=&quot;submit&quot; th:value=&quot;Save&quot;&gt;\n        &lt;/div&gt;\n        \n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I am using an embedded H2 database with a <code>data.sql</code> file used to fill data into the database (I don't have the <code>schema.sql</code> file since tables are created using annotations).\nWhen viewing the H2 database console and using the <code>SELECT * FROM CITY</code> I'm getting the list of the cities.</p>\n<p>I am getting a <code>NullPointerException</code> on this line from the EventController class: <code>model.addAttribute(&quot;cities&quot;, cityRepository.findAll());</code>\nCan someone explain why?</p>\n"},{"tags":["java","optimization","time","minesweeper"],"comments":[{"owner":{"account_id":14943184,"reputation":10724,"user_id":10789207,"display_name":"AirSquid"},"score":0,"creation_date":1635523771,"post_id":69770245,"comment_id":123330038,"body_markdown":"You are likely timing out on a test that generates a very &quot;dense&quot; minefield because you are using acceptance/rejection testing for the placement of a mine, which if the field is very dense, you could be in that loop for a loooooong time.  Is there a way to randomly distribute the mines without having to test the placement to see if there is already one there?  (hint:  yes)","body":"You are likely timing out on a test that generates a very &quot;dense&quot; minefield because you are using acceptance/rejection testing for the placement of a mine, which if the field is very dense, you could be in that loop for a loooooong time.  Is there a way to randomly distribute the mines without having to test the placement to see if there is already one there?  (hint:  yes)"}],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635521952,"creation_date":1635517726,"answer_id":69770580,"question_id":69770245,"body_markdown":"I think using arrays of size `(m + 2, n + 2)` confused your math here. I&#39;ll continue on your work, always use `m + 2` and `n + 2` in your calculations to avoid any confusion.\r\n\r\n`int r = (int) (Math.random() * ((m + 2) * (n + 2)));`\r\n\r\nGenerate a random number than can span all your array cells.\r\n```\r\nint q = r / (n + 2);\r\nint rem = r % (n + 2);\r\n\r\n// Increment num only if q and rem are in the ranges and the position does not have a mine on it\r\nif (q &gt; 0 &amp;&amp; q &lt;= m &amp;&amp; rem &gt; 0 &amp;&amp; rem &lt;= n &amp;&amp; !minePositions[q][rem]) {\r\n    minePositions[q][rem] = true;\r\n    num++;\r\n}\r\n```\r\n\r\nThe full code\r\n```\r\nint m = Integer.parseInt(args[0]);\r\nint n = Integer.parseInt(args[1]);\r\nint k = Integer.parseInt(args[2]);\r\n\r\nboolean[][] minePositions = new boolean[m + 2][n + 2];\r\nint[][] grid = new int[m + 2][n + 2];\r\n\r\nint num = 0;\r\nwhile (num != k) {\r\n    int r = (int) (Math.random() * ((m + 2) * (n + 2)));\r\n    int q = r / (n + 2);\r\n    int rem = r % (n + 2);\r\n\r\n    if (q &gt; 0 &amp;&amp; q &lt;= m &amp;&amp; rem &gt; 0 &amp;&amp; rem &lt;= n &amp;&amp; !minePositions[q][rem]) {\r\n        minePositions[q][rem] = true;\r\n        num++;\r\n    }\r\n}\r\n\r\nfor (int i = 1; i &lt;= m; i++) {\r\n    for (int j = 1; j &lt;= n; j++) {\r\n        if (minePositions[i - 1][j + 1]) grid[i][j]++;\r\n        if (minePositions[i][j + 1]) grid[i][j]++;\r\n        if (minePositions[i + 1][j + 1]) grid[i][j]++;\r\n        if (minePositions[i - 1][j]) grid[i][j]++;\r\n        if (minePositions[i + 1][j]) grid[i][j]++;\r\n        if (minePositions[i - 1][j - 1]) grid[i][j]++;\r\n        if (minePositions[i][j - 1]) grid[i][j]++;\r\n        if (minePositions[i + 1][j - 1]) grid[i][j]++;\r\n    }\r\n    for (int j = 1; j &lt;= n; j++) {\r\n        if (minePositions[i][j]) System.out.print(&quot;*  &quot;);\r\n        else System.out.print(grid[i][j] + &quot;  &quot;);\r\n    }\r\n    System.out.print(&quot;\\n&quot;);\r\n}\r\n```","title":"Minesweeper program exceeding time limit","body":"<p>I think using arrays of size <code>(m + 2, n + 2)</code> confused your math here. I'll continue on your work, always use <code>m + 2</code> and <code>n + 2</code> in your calculations to avoid any confusion.</p>\n<p><code>int r = (int) (Math.random() * ((m + 2) * (n + 2)));</code></p>\n<p>Generate a random number than can span all your array cells.</p>\n<pre><code>int q = r / (n + 2);\nint rem = r % (n + 2);\n\n// Increment num only if q and rem are in the ranges and the position does not have a mine on it\nif (q &gt; 0 &amp;&amp; q &lt;= m &amp;&amp; rem &gt; 0 &amp;&amp; rem &lt;= n &amp;&amp; !minePositions[q][rem]) {\n    minePositions[q][rem] = true;\n    num++;\n}\n</code></pre>\n<p>The full code</p>\n<pre><code>int m = Integer.parseInt(args[0]);\nint n = Integer.parseInt(args[1]);\nint k = Integer.parseInt(args[2]);\n\nboolean[][] minePositions = new boolean[m + 2][n + 2];\nint[][] grid = new int[m + 2][n + 2];\n\nint num = 0;\nwhile (num != k) {\n    int r = (int) (Math.random() * ((m + 2) * (n + 2)));\n    int q = r / (n + 2);\n    int rem = r % (n + 2);\n\n    if (q &gt; 0 &amp;&amp; q &lt;= m &amp;&amp; rem &gt; 0 &amp;&amp; rem &lt;= n &amp;&amp; !minePositions[q][rem]) {\n        minePositions[q][rem] = true;\n        num++;\n    }\n}\n\nfor (int i = 1; i &lt;= m; i++) {\n    for (int j = 1; j &lt;= n; j++) {\n        if (minePositions[i - 1][j + 1]) grid[i][j]++;\n        if (minePositions[i][j + 1]) grid[i][j]++;\n        if (minePositions[i + 1][j + 1]) grid[i][j]++;\n        if (minePositions[i - 1][j]) grid[i][j]++;\n        if (minePositions[i + 1][j]) grid[i][j]++;\n        if (minePositions[i - 1][j - 1]) grid[i][j]++;\n        if (minePositions[i][j - 1]) grid[i][j]++;\n        if (minePositions[i + 1][j - 1]) grid[i][j]++;\n    }\n    for (int j = 1; j &lt;= n; j++) {\n        if (minePositions[i][j]) System.out.print(&quot;*  &quot;);\n        else System.out.print(grid[i][j] + &quot;  &quot;);\n    }\n    System.out.print(&quot;\\n&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":21806106,"reputation":15,"user_id":16104284,"display_name":"Alinaswe klb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69770580,"answer_count":1,"score":1,"last_activity_date":1635523355,"creation_date":1635516111,"question_id":69770245,"body_markdown":"I am following a course by princeton university on cousera, I wrote the following code for the following problem: \r\n&gt;Minesweeper. Minesweeper is a 1960s era video game played on an m-by-n grid of cells. The goal is to deduce which cells contain hidden mines using clues about the number of mines in neighboring cells. Write a program Minesweeper.java that takes three integer command-line arguments m, n, and k and prints an m-by-n grid of cells with k mines, using asterisks for mines and integers for the neighboring mine counts (with two space characters between each cell). To do so,\r\nGenerate an m-by-n grid of cells, with exactly k of the mn cells containing mines, uniformly at random.\r\nFor each cell not containing a mine, count the number of neighboring mines (above, below, left, right, or diagonal).\r\n\r\nEvery time I submit to the grader; it says the 60 second limit was exceeded, and it stops grading.\r\n\r\nThis is the desired output\r\n\r\n![enter image description here][1]\r\n```\r\npublic class Minesweeper {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int m = Integer.parseInt(args[0]);\r\n        int n = Integer.parseInt(args[1]);\r\n        int k = Integer.parseInt(args[2]);\r\n\r\n        boolean[][] minePositions = new boolean[m + 2][n + 2];\r\n        int[][] grid = new int[m + 2][n + 2];\r\n\r\n        int num = 0;\r\n        while (num != k) {\r\n            if ((m * n) == k) {\r\n                for (int f = 1; f &lt;= m; f++) {\r\n                    for (int z = 1; z &lt;= n; z++) {\r\n                        minePositions[f][z] = true;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            int r = (int) (Math.random() * (m * n - 1));\r\n            int q = r / n;\r\n            int rem = r % n;\r\n            if (q == 0) {\r\n                q = 1;\r\n            }\r\n            else if (q &gt; (m - 1)) {\r\n                q = m - 1;\r\n            }\r\n            if (rem == 0) {\r\n                rem = 1;\r\n            }\r\n            else if (rem &gt; (n - 1)) {\r\n                rem = n - 1;\r\n            }\r\n            \r\n            if (!minePositions[q][rem]) {\r\n                minePositions[q][rem] = true;\r\n                num++;\r\n            }\r\n        }\r\n\r\n        for (int i = 1; i &lt;= m; i++) {\r\n            for (int j = 1; j &lt;= n; j++) {\r\n                if (minePositions[i - 1][j + 1]) grid[i][j]++;\r\n                if (minePositions[i][j + 1]) grid[i][j]++;\r\n                if (minePositions[i + 1][j + 1]) grid[i][j]++;\r\n                if (minePositions[i - 1][j]) grid[i][j]++;\r\n                if (minePositions[i + 1][j]) grid[i][j]++;\r\n                if (minePositions[i - 1][j - 1]) grid[i][j]++;\r\n                if (minePositions[i][j - 1]) grid[i][j]++;\r\n                if (minePositions[i + 1][j - 1]) grid[i][j]++;\r\n            }\r\n            for (int j = 1; j &lt;= n; j++) {\r\n                if (minePositions[i][j]) System.out.print(&quot;*  &quot;);\r\n                else System.out.print(grid[i][j] + &quot;  &quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/YqwyB.png","title":"Minesweeper program exceeding time limit","body":"<p>I am following a course by princeton university on cousera, I wrote the following code for the following problem:</p>\n<blockquote>\n<p>Minesweeper. Minesweeper is a 1960s era video game played on an m-by-n grid of cells. The goal is to deduce which cells contain hidden mines using clues about the number of mines in neighboring cells. Write a program Minesweeper.java that takes three integer command-line arguments m, n, and k and prints an m-by-n grid of cells with k mines, using asterisks for mines and integers for the neighboring mine counts (with two space characters between each cell). To do so,\nGenerate an m-by-n grid of cells, with exactly k of the mn cells containing mines, uniformly at random.\nFor each cell not containing a mine, count the number of neighboring mines (above, below, left, right, or diagonal).</p>\n</blockquote>\n<p>Every time I submit to the grader; it says the 60 second limit was exceeded, and it stops grading.</p>\n<p>This is the desired output</p>\n<p><img src=\"https://i.stack.imgur.com/YqwyB.png\" alt=\"enter image description here\" /></p>\n<pre><code>public class Minesweeper {\n\n    public static void main(String[] args) {\n\n        int m = Integer.parseInt(args[0]);\n        int n = Integer.parseInt(args[1]);\n        int k = Integer.parseInt(args[2]);\n\n        boolean[][] minePositions = new boolean[m + 2][n + 2];\n        int[][] grid = new int[m + 2][n + 2];\n\n        int num = 0;\n        while (num != k) {\n            if ((m * n) == k) {\n                for (int f = 1; f &lt;= m; f++) {\n                    for (int z = 1; z &lt;= n; z++) {\n                        minePositions[f][z] = true;\n                    }\n                }\n                break;\n            }\n            int r = (int) (Math.random() * (m * n - 1));\n            int q = r / n;\n            int rem = r % n;\n            if (q == 0) {\n                q = 1;\n            }\n            else if (q &gt; (m - 1)) {\n                q = m - 1;\n            }\n            if (rem == 0) {\n                rem = 1;\n            }\n            else if (rem &gt; (n - 1)) {\n                rem = n - 1;\n            }\n            \n            if (!minePositions[q][rem]) {\n                minePositions[q][rem] = true;\n                num++;\n            }\n        }\n\n        for (int i = 1; i &lt;= m; i++) {\n            for (int j = 1; j &lt;= n; j++) {\n                if (minePositions[i - 1][j + 1]) grid[i][j]++;\n                if (minePositions[i][j + 1]) grid[i][j]++;\n                if (minePositions[i + 1][j + 1]) grid[i][j]++;\n                if (minePositions[i - 1][j]) grid[i][j]++;\n                if (minePositions[i + 1][j]) grid[i][j]++;\n                if (minePositions[i - 1][j - 1]) grid[i][j]++;\n                if (minePositions[i][j - 1]) grid[i][j]++;\n                if (minePositions[i + 1][j - 1]) grid[i][j]++;\n            }\n            for (int j = 1; j &lt;= n; j++) {\n                if (minePositions[i][j]) System.out.print(&quot;*  &quot;);\n                else System.out.print(grid[i][j] + &quot;  &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1507810424,"creation_date":1507809715,"answer_id":46709107,"question_id":46708665,"body_markdown":"You could define a exception handler method in your `@ControllerAdvice` which is specifically for `MultipartException` and then qualify it with a specific `HttpStatus`. For example:\r\n\r\n    @ExceptionHandler(MultipartException.class)\r\n    @ResponseStatus(value = HttpStatus.PAYLOAD_TOO_LARGE)\r\n    public ResponseEntity&lt;ServiceException&gt; handleMultipartException(MultipartException ex) {\r\n        ...\r\n    }\r\n\r\nThis should allow you to focus on the &#39;maximum file size&#39; exception without having to get into servlet container specifics.\r\n\r\n**Update 1** in response to this comment:\r\n\r\n&gt; Sounds good, what about getPermittedSize and getActualSize provided by SizeLimitExceededException is there a chance to get this values not only if Tomcat is used? \r\n\r\nBy intercepting this error on the basis of (a) the exception type and (b) the HTTP status ... you are making the solution generally applicable. But in so doing you might lose the sort of detailed information that one servlet container (but perhaps not another) might give you. You could perhaps enforce your own maximum size by setting `spring.http.multipart.max-file-size` in which case you would be able to report &#39;permitted size&#39; but if you want to report &#39;actual size&#39; then you&#39;ll have to consider one of the following:\r\n\r\n- Have to use something provided by the servlet container \r\n- Choose a `spring.http.multipart.max-file-size` which is less thatn the supported maximum for your servlet container and then apply your own max size check inside your controller and throw your own specific exception type containing the actual and permitted sizes.","title":"Spring Boot handle SizeLimitExceededException","body":"<p>You could define a exception handler method in your <code>@ControllerAdvice</code> which is specifically for <code>MultipartException</code> and then qualify it with a specific <code>HttpStatus</code>. For example:</p>\n\n<pre><code>@ExceptionHandler(MultipartException.class)\n@ResponseStatus(value = HttpStatus.PAYLOAD_TOO_LARGE)\npublic ResponseEntity&lt;ServiceException&gt; handleMultipartException(MultipartException ex) {\n    ...\n}\n</code></pre>\n\n<p>This should allow you to focus on the 'maximum file size' exception without having to get into servlet container specifics.</p>\n\n<p><strong>Update 1</strong> in response to this comment:</p>\n\n<blockquote>\n  <p>Sounds good, what about getPermittedSize and getActualSize provided by SizeLimitExceededException is there a chance to get this values not only if Tomcat is used? </p>\n</blockquote>\n\n<p>By intercepting this error on the basis of (a) the exception type and (b) the HTTP status ... you are making the solution generally applicable. But in so doing you might lose the sort of detailed information that one servlet container (but perhaps not another) might give you. You could perhaps enforce your own maximum size by setting <code>spring.http.multipart.max-file-size</code> in which case you would be able to report 'permitted size' but if you want to report 'actual size' then you'll have to consider one of the following:</p>\n\n<ul>\n<li>Have to use something provided by the servlet container </li>\n<li>Choose a <code>spring.http.multipart.max-file-size</code> which is less thatn the supported maximum for your servlet container and then apply your own max size check inside your controller and throw your own specific exception type containing the actual and permitted sizes.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12795274,"reputation":595,"user_id":9258519,"display_name":"Saad Joudi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635522960,"creation_date":1635522314,"answer_id":69771598,"question_id":46708665,"body_markdown":"This working fine in my @RestControllerAdvice and the exception is more specific than MultipartException : \r\n\r\n\t@ExceptionHandler(MaxUploadSizeExceededException.class)\r\n\t@ResponseStatus(value = HttpStatus.PAYLOAD_TOO_LARGE)\r\n\tpublic ResponseEntity handleMultipartException(MaxUploadSizeExceededException e) {\r\n\r\n\t\tMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n\t\tresult.put(&quot;message&quot;, &quot;Error ==&gt; Large File &quot;);\r\n\t\treturn  ResponseEntity.status(HttpStatus.PAYLOAD_TOO_LARGE)\r\n\t\t\t\t.body(result);\r\n\r\n\t}\r\n\r\nPS : when using @RestControllerAdvice(annotations = RestController.class) \r\nit doens&#39;t work .. you have to put @RestControllerAdvice without RestController.class annotation","title":"Spring Boot handle SizeLimitExceededException","body":"<p>This working fine in my @RestControllerAdvice and the exception is more specific than MultipartException :</p>\n<pre><code>@ExceptionHandler(MaxUploadSizeExceededException.class)\n@ResponseStatus(value = HttpStatus.PAYLOAD_TOO_LARGE)\npublic ResponseEntity handleMultipartException(MaxUploadSizeExceededException e) {\n\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n    result.put(&quot;message&quot;, &quot;Error ==&gt; Large File &quot;);\n    return  ResponseEntity.status(HttpStatus.PAYLOAD_TOO_LARGE)\n            .body(result);\n\n}\n</code></pre>\n<p>PS : when using @RestControllerAdvice(annotations = RestController.class)\nit doens't work .. you have to put @RestControllerAdvice without RestController.class annotation</p>\n"}],"owner":{"account_id":1208968,"reputation":1661,"user_id":1177897,"accept_rate":65,"display_name":"Nabor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8784,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":46709107,"answer_count":2,"score":8,"last_activity_date":1635522960,"creation_date":1507808416,"question_id":46708665,"body_markdown":"I use Spring boot 1.5.7.  \r\nI have not configured CommonsMultipartResolver, because Spring Boot handles file uploads already.\r\n\r\nIf my upload exceeds the maximum permited size, an ugly Exception is thrown.  \r\nThis is handled by my controller.\r\n\r\n\t@ControllerAdvice\r\n\tpublic abstract class DefaultController implements InitializingBean {\r\n\t\t@ExceptionHandler(Exception.class)\r\n\t\tpublic ResponseEntity&lt;ServiceException&gt; handleException(final Exception ex) {\r\n\t\t\t...\r\n\t\t\t} else if (ex instanceof MultipartException) {\r\n\t\t\t\tMultipartException me = (MultipartException) ex;\r\n\t\t\t\tThrowable cause = ex.getCause();\r\n\t\t\t\tif (cause instanceof IllegalStateException) {\r\n\t\t\t\t\tThrowable cause2 = cause.getCause();\r\n\t\t\t\t\tif (cause2 instanceof SizeLimitExceededException) {\r\n\t\t\t\t\t\t// this is tomcat specific\r\n\t\t\t\t\t\tSizeLimitExceededException slee = (SizeLimitExceededException) cause2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\nThis kind of handling is not only complex but also sadly Tomcat specific, because the SizeLimitExceededException is in the package `org.apache.tomcat.util.http.fileupload.FileUploadBase`.\r\n\r\nHow can I handle the error case, that some one uploads a bigger file then allowed and return a nice message, regardless which Servlet Engine is used?\r\n","title":"Spring Boot handle SizeLimitExceededException","body":"<p>I use Spring boot 1.5.7.<br>\nI have not configured CommonsMultipartResolver, because Spring Boot handles file uploads already.</p>\n\n<p>If my upload exceeds the maximum permited size, an ugly Exception is thrown.<br>\nThis is handled by my controller.</p>\n\n<pre><code>@ControllerAdvice\npublic abstract class DefaultController implements InitializingBean {\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ServiceException&gt; handleException(final Exception ex) {\n        ...\n        } else if (ex instanceof MultipartException) {\n            MultipartException me = (MultipartException) ex;\n            Throwable cause = ex.getCause();\n            if (cause instanceof IllegalStateException) {\n                Throwable cause2 = cause.getCause();\n                if (cause2 instanceof SizeLimitExceededException) {\n                    // this is tomcat specific\n                    SizeLimitExceededException slee = (SizeLimitExceededException) cause2;\n                }\n            }\n        }\n</code></pre>\n\n<p>This kind of handling is not only complex but also sadly Tomcat specific, because the SizeLimitExceededException is in the package <code>org.apache.tomcat.util.http.fileupload.FileUploadBase</code>.</p>\n\n<p>How can I handle the error case, that some one uploads a bigger file then allowed and return a nice message, regardless which Servlet Engine is used?</p>\n"},{"tags":["java","android","android-recyclerview","fragment","adapter"],"comments":[{"owner":{"account_id":7247949,"reputation":4924,"user_id":5529263,"display_name":"Boken"},"score":0,"creation_date":1553801311,"post_id":55405312,"comment_id":97531571,"body_markdown":"Base on this code it&#39;s hard to say where are you using `FoodFragment`. Are both fragments are in the same Activity? Have you got `TrackingFragment` with `FoodAdapter`, right?","body":"Base on this code it&#39;s hard to say where are you using <code>FoodFragment</code>. Are both fragments are in the same Activity? Have you got <code>TrackingFragment</code> with <code>FoodAdapter</code>, right?"},{"owner":{"account_id":15541849,"reputation":33,"user_id":11212322,"display_name":"Flex"},"score":0,"creation_date":1553802023,"post_id":55405312,"comment_id":97531899,"body_markdown":"I&#39;m not entirely sure what you mean. FoodFragment is called from a MenuActivity  with a bottomNavigationView, and then TrackingFragment is called from the FoodFragment. FoodAdapter is connected to TrackingFrackment yes.","body":"I&#39;m not entirely sure what you mean. FoodFragment is called from a MenuActivity  with a bottomNavigationView, and then TrackingFragment is called from the FoodFragment. FoodAdapter is connected to TrackingFrackment yes."},{"owner":{"account_id":5259648,"reputation":894,"user_id":4201505,"display_name":"glm9637"},"score":0,"creation_date":1553804066,"post_id":55405312,"comment_id":97532917,"body_markdown":"But how exactly is you layout designed? You have a MenuActivity, which displays the FoodFragment, and when you select something, you replace you food Fragment with the TrackingFragment, or do you open a new Activity, which displays the Tracking fragment?","body":"But how exactly is you layout designed? You have a MenuActivity, which displays the FoodFragment, and when you select something, you replace you food Fragment with the TrackingFragment, or do you open a new Activity, which displays the Tracking fragment?"},{"owner":{"account_id":15541849,"reputation":33,"user_id":11212322,"display_name":"Flex"},"score":0,"creation_date":1553804992,"post_id":55405312,"comment_id":97533306,"body_markdown":"In the MenuActivity I have a fragment_container in a FrameLayout. I simply replace the fragments in that container whenever I have to display a new fragment.","body":"In the MenuActivity I have a fragment_container in a FrameLayout. I simply replace the fragments in that container whenever I have to display a new fragment."}],"answers":[{"tags":[],"owner":{"account_id":3914811,"reputation":382,"user_id":3238938,"accept_rate":50,"display_name":"Damien Diehl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1553804415,"creation_date":1553804415,"answer_id":55406232,"question_id":55405312,"body_markdown":"To get your data from FoodAdapter to TrackingFragment, you can add TrackingFragment (or an interface it implements, ideally) as a parameter to the FoodAdapter constructor, then use that instance to forward your ViewHolder clicks to TrackingFragment for handling.\r\n\r\nTo get your data from TrackingFragment to FoodFragment, use the setTargetFragment/onActivityResult pattern for fragment &lt;-&gt; fragment communication. This answer has an example: https://stackoverflow.com/a/13733914/3238938","title":"Passing data from RecyclerView.Adapter to fragment onClick","body":"<p>To get your data from FoodAdapter to TrackingFragment, you can add TrackingFragment (or an interface it implements, ideally) as a parameter to the FoodAdapter constructor, then use that instance to forward your ViewHolder clicks to TrackingFragment for handling.</p>\n\n<p>To get your data from TrackingFragment to FoodFragment, use the setTargetFragment/onActivityResult pattern for fragment &lt;-> fragment communication. This answer has an example: <a href=\"https://stackoverflow.com/a/13733914/3238938\">https://stackoverflow.com/a/13733914/3238938</a></p>\n"},{"tags":[],"owner":{"account_id":15472676,"reputation":582,"user_id":11162243,"display_name":"Alexander Gapanowich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553804730,"creation_date":1553804730,"answer_id":55406307,"question_id":55405312,"body_markdown":"The most simple is to add variables you need to your activity, set their values with onClick() and then retrieve data in other fragment: \r\n\r\n - in activity: \r\n\r\n \r\n\r\n        String foods;\r\n    \r\n        public String getFoods() {\r\n            return foods;\r\n        }\r\n    \r\n        public void setFoods(String foods) {\r\n            this.foods = foods;\r\n        }\r\n\r\n - in adapter: \r\n\r\n  \r\n\r\n           holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                   ((YourActivity)getActivity()).setFoods(&quot;Any value&quot;);\r\n                }\r\n            });\r\n\r\n     \r\n - in destination fragment: \r\n\r\n    `String foods = ((YourActivity)getActivity()).getFoods();`\r\n\r\n  \r\n\r\n  ","title":"Passing data from RecyclerView.Adapter to fragment onClick","body":"<p>The most simple is to add variables you need to your activity, set their values with onClick() and then retrieve data in other fragment: </p>\n\n<ul>\n<li><p>in activity: </p>\n\n<pre><code>String foods;\n\npublic String getFoods() {\n    return foods;\n}\n\npublic void setFoods(String foods) {\n    this.foods = foods;\n}\n</code></pre></li>\n<li><p>in adapter: </p>\n\n<pre><code>   holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n           ((YourActivity)getActivity()).setFoods(\"Any value\");\n        }\n    });\n</code></pre></li>\n<li><p>in destination fragment: </p>\n\n<p><code>String foods = ((YourActivity)getActivity()).getFoods();</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4927991,"reputation":358,"user_id":3968719,"display_name":"Juan Hurtado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553805182,"creation_date":1553805182,"answer_id":55406414,"question_id":55405312,"body_markdown":"Add an interface to your adapter as follow\r\n\r\n    public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.ViewHolder&gt; {\r\n    \r\n    interface OnClickListener {\r\n        void onClick(FoodActivity clickedItem);\r\n    }\r\n    \r\n    private OnClickListener mCallback; \r\n    private ArrayList&lt;FoodActivity&gt; list;\r\n    \r\n    public FoodAdapter(ArrayList&lt;FoodActivity&gt; list){\r\n        this.list = list;\r\n    }\r\n    \r\n    public void setOnClickListener(OnClickListener callback) {\r\n        mCallback = callback;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.listview_item_food, parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final ViewHolder holder, final int position) {\r\n        holder.foods.setText(list.get(position).getName());\r\n        holder.carbo.setText(list.get(position).getCarbohydrates());\r\n        holder.protein.setText(list.get(position).getProtein());\r\n        holder.fats.setText(list.get(position).getFats());\r\n\r\n        //Get items from recyclerview when user clicks them. Then send them to FoodFragment\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (mCallback != null)\r\n                    mCallback.onClick(list.get(position));\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView foods, carbo, fats, protein;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            carbo = itemView.findViewById(R.id.carbo);\r\n            protein = itemView.findViewById(R.id.protein);\r\n            fats = itemView.findViewById(R.id.fats);\r\n            foods = itemView.findViewById(R.id.food);\r\n        }\r\n    }\r\n    }","title":"Passing data from RecyclerView.Adapter to fragment onClick","body":"<p>Add an interface to your adapter as follow</p>\n\n<pre><code>public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.ViewHolder&gt; {\n\ninterface OnClickListener {\n    void onClick(FoodActivity clickedItem);\n}\n\nprivate OnClickListener mCallback; \nprivate ArrayList&lt;FoodActivity&gt; list;\n\npublic FoodAdapter(ArrayList&lt;FoodActivity&gt; list){\n    this.list = list;\n}\n\npublic void setOnClickListener(OnClickListener callback) {\n    mCallback = callback;\n}\n\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.listview_item_food, parent, false);\n\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull final ViewHolder holder, final int position) {\n    holder.foods.setText(list.get(position).getName());\n    holder.carbo.setText(list.get(position).getCarbohydrates());\n    holder.protein.setText(list.get(position).getProtein());\n    holder.fats.setText(list.get(position).getFats());\n\n    //Get items from recyclerview when user clicks them. Then send them to FoodFragment\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (mCallback != null)\n                mCallback.onClick(list.get(position));\n        }\n    });\n}\n\n\n@Override\npublic int getItemCount() {\n    return list.size();\n}\n\nclass ViewHolder extends RecyclerView.ViewHolder {\n    TextView foods, carbo, fats, protein;\n\n    public ViewHolder(View itemView) {\n        super(itemView);\n\n        carbo = itemView.findViewById(R.id.carbo);\n        protein = itemView.findViewById(R.id.protein);\n        fats = itemView.findViewById(R.id.fats);\n        foods = itemView.findViewById(R.id.food);\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635522671,"creation_date":1635520512,"answer_id":69771205,"question_id":55405312,"body_markdown":"Android sometimes is a little complicated, when it involves the full stack:\r\n\r\n01 RecyclerView Adapter\r\n\r\n    /** 01. Some Adapter */\r\n    public class SomeAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n        \r\n        private WeakReference&lt;Context&gt; mContext;\r\n    \r\n        /** Constructor */\r\n        public SomeAdapter(@NonNull Context context) {\r\n            this.mContext = new WeakReference&lt;&gt;(context);\r\n        }\r\n\r\n        @NonNull\r\n        protected Context getContext() {\r\n            return this.mContext.get();\r\n        }\r\n\r\n        /** Call to Activity from within the adapter. */\r\n        private void someMethod() {\r\n            SomeActivity activity = (SomeActivity) getContext();\r\n            synchronized(activity) {activity.showLoginDialog();}\r\n        }\r\n    }\r\n02 AppCompatActivity\r\n\r\n    /** 02. Some Activity */\r\n    public class SomeActivity extends AppCompatActivity {\r\n\r\n        @Nullable\r\n        private BaseFragment currentFragment = null;\r\n\r\n        /** Constructor */\r\n        public SomeActivity() {}\r\n\r\n        public void setCurrentFragment(Fragment fragment) {\r\n            this.currentFragment = fragment;\r\n        }\r\n\r\n        /** Call to the current Fragment. */\r\n        public void someMethod() {\r\n            if (currentFragment != null) {\r\n                currentFragment.someMethod();\r\n            }\r\n        }\r\n    }\r\n\r\n03 Fragment\r\n\r\n    /** Some Fragment */\r\n    public class SomeFragment extends Fragment {\r\n\r\n        /** Constructor */\r\n        public SomeFragment() {}\r\n\r\n        @Override\r\n        public void onAttach(@NonNull Context context) {\r\n            super.onAttach(context);\r\n            ((BaseActivity) context).setCurrentFragment(this);\r\n        }\r\n\r\n        @Override\r\n        public void onDetach() {\r\n            super.onDetach();\r\n            ((BaseActivity) getActivity()).setCurrentFragment(this);\r\n        }\r\n    }\r\n\r\n","title":"Passing data from RecyclerView.Adapter to fragment onClick","body":"<p>Android sometimes is a little complicated, when it involves the full stack:</p>\n<p>01 RecyclerView Adapter</p>\n<pre><code>/** 01. Some Adapter */\npublic class SomeAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    \n    private WeakReference&lt;Context&gt; mContext;\n\n    /** Constructor */\n    public SomeAdapter(@NonNull Context context) {\n        this.mContext = new WeakReference&lt;&gt;(context);\n    }\n\n    @NonNull\n    protected Context getContext() {\n        return this.mContext.get();\n    }\n\n    /** Call to Activity from within the adapter. */\n    private void someMethod() {\n        SomeActivity activity = (SomeActivity) getContext();\n        synchronized(activity) {activity.showLoginDialog();}\n    }\n}\n</code></pre>\n<p>02 AppCompatActivity</p>\n<pre><code>/** 02. Some Activity */\npublic class SomeActivity extends AppCompatActivity {\n\n    @Nullable\n    private BaseFragment currentFragment = null;\n\n    /** Constructor */\n    public SomeActivity() {}\n\n    public void setCurrentFragment(Fragment fragment) {\n        this.currentFragment = fragment;\n    }\n\n    /** Call to the current Fragment. */\n    public void someMethod() {\n        if (currentFragment != null) {\n            currentFragment.someMethod();\n        }\n    }\n}\n</code></pre>\n<p>03 Fragment</p>\n<pre><code>/** Some Fragment */\npublic class SomeFragment extends Fragment {\n\n    /** Constructor */\n    public SomeFragment() {}\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        ((BaseActivity) context).setCurrentFragment(this);\n    }\n\n    @Override\n    public void onDetach() {\n        super.onDetach();\n        ((BaseActivity) getActivity()).setCurrentFragment(this);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15541849,"reputation":33,"user_id":11212322,"display_name":"Flex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1635522671,"creation_date":1553800603,"question_id":55405312,"body_markdown":"I&#39;m trying to figure out how to get data from a clicked item in a RecyclerView to a listview in a Fragment. I can&#39;t seem to figure out how to do this, as I can&#39;t get my bundle to work. \r\n\r\nI&#39;ve tried various solutions offered here on Stackoverflow, but none of them have worked. I have managed to get the info from the recyclerview, but I am stuck trying to figure out how I can pass it to the fragment. Can someone please help me?\r\n\r\nThe Adapter class: \r\n\r\n```\r\npublic class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.ViewHolder&gt; {\r\n\r\n    private Context context;\r\n\r\n    ArrayList&lt;FoodActivity&gt; list;\r\n    public FoodAdapter(ArrayList&lt;FoodActivity&gt; list){\r\n        this.list = list;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.listview_item_food, parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final ViewHolder holder, final int position) {\r\n        holder.foods.setText(list.get(position).getName());\r\n        holder.carbo.setText(list.get(position).getCarbohydrates());\r\n        holder.protein.setText(list.get(position).getProtein());\r\n        holder.fats.setText(list.get(position).getFats());\r\n\r\n        //Get items from recyclerview when user clicks them. Then send them to FoodFragment\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                String foods = list.get(position).getName();\r\n                String carbo = list.get(position).getCarbohydrates();\r\n                String protein = list.get(position).getProtein();\r\n                String fats = list.get(position).getFats();\r\n\r\n                Toast.makeText(v.getContext(), &quot;test: &quot; + foods, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView foods, carbo, fats, protein;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            carbo = itemView.findViewById(R.id.carbo);\r\n            protein = itemView.findViewById(R.id.protein);\r\n            fats = itemView.findViewById(R.id.fats);\r\n            foods = itemView.findViewById(R.id.food);\r\n        }\r\n    }\r\n}\r\n```\r\nThe Fragment where the data comes from:\r\n```\r\npublic class TrackingFragment extends Fragment {\r\n\r\n    DatabaseReference databaseReference;\r\n    ArrayList&lt;FoodActivity&gt; list;\r\n    RecyclerView recyclerView;\r\n    SearchView searchView;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_tracking, container, false);\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;foods&quot;);\r\n        recyclerView = view.findViewById(R.id.rv);\r\n        searchView = view.findViewById(R.id.searchFood);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        if(databaseReference != null){\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    if(dataSnapshot.exists()){\r\n                        list = new ArrayList&lt;&gt;();\r\n                        for(DataSnapshot ds : dataSnapshot.getChildren()){\r\n                            list.add(ds.getValue(FoodActivity.class));\r\n                        }\r\n                        FoodAdapter adapter = new FoodAdapter(list);\r\n                        recyclerView.setAdapter(adapter);\r\n\r\n\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                    Toast.makeText(getActivity(), databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n        if(searchView != null){\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    search(newText);\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void search(String str){\r\n        ArrayList&lt;FoodActivity&gt; searchList = new ArrayList&lt;&gt;();\r\n        for(FoodActivity object : list){\r\n            if(object.getName().toLowerCase().contains(str.toLowerCase())){\r\n                searchList.add(object);\r\n            }\r\n        }\r\n        FoodAdapter foodAdapter = new FoodAdapter(searchList);\r\n        recyclerView.setAdapter(foodAdapter);\r\n    }\r\n\r\n}\r\n```\r\nAnd the class where it needs to go:\r\n```\r\npublic class FoodFragment extends Fragment {\r\n\r\n    ImageButton addFood;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_food, container, false);\r\n\r\n        addFood = view.findViewById(R.id.addFood);\r\n\r\n        addFood.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                FragmentTransaction fr = getFragmentManager().beginTransaction();\r\n                fr.replace(R.id.fragment_container, new TrackingFragment());\r\n                fr.addToBackStack(null).commit();\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n}\r\n```","title":"Passing data from RecyclerView.Adapter to fragment onClick","body":"<p>I'm trying to figure out how to get data from a clicked item in a RecyclerView to a listview in a Fragment. I can't seem to figure out how to do this, as I can't get my bundle to work. </p>\n\n<p>I've tried various solutions offered here on Stackoverflow, but none of them have worked. I have managed to get the info from the recyclerview, but I am stuck trying to figure out how I can pass it to the fragment. Can someone please help me?</p>\n\n<p>The Adapter class: </p>\n\n<pre><code>public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.ViewHolder&gt; {\n\n    private Context context;\n\n    ArrayList&lt;FoodActivity&gt; list;\n    public FoodAdapter(ArrayList&lt;FoodActivity&gt; list){\n        this.list = list;\n    }\n\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.listview_item_food, parent, false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull final ViewHolder holder, final int position) {\n        holder.foods.setText(list.get(position).getName());\n        holder.carbo.setText(list.get(position).getCarbohydrates());\n        holder.protein.setText(list.get(position).getProtein());\n        holder.fats.setText(list.get(position).getFats());\n\n        //Get items from recyclerview when user clicks them. Then send them to FoodFragment\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                String foods = list.get(position).getName();\n                String carbo = list.get(position).getCarbohydrates();\n                String protein = list.get(position).getProtein();\n                String fats = list.get(position).getFats();\n\n                Toast.makeText(v.getContext(), \"test: \" + foods, Toast.LENGTH_SHORT).show();\n\n\n            }\n        });\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    class ViewHolder extends RecyclerView.ViewHolder {\n        TextView foods, carbo, fats, protein;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            carbo = itemView.findViewById(R.id.carbo);\n            protein = itemView.findViewById(R.id.protein);\n            fats = itemView.findViewById(R.id.fats);\n            foods = itemView.findViewById(R.id.food);\n        }\n    }\n}\n</code></pre>\n\n<p>The Fragment where the data comes from:</p>\n\n<pre><code>public class TrackingFragment extends Fragment {\n\n    DatabaseReference databaseReference;\n    ArrayList&lt;FoodActivity&gt; list;\n    RecyclerView recyclerView;\n    SearchView searchView;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_tracking, container, false);\n\n        databaseReference = FirebaseDatabase.getInstance().getReference().child(\"foods\");\n        recyclerView = view.findViewById(R.id.rv);\n        searchView = view.findViewById(R.id.searchFood);\n\n        return view;\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n\n        if(databaseReference != null){\n            databaseReference.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    if(dataSnapshot.exists()){\n                        list = new ArrayList&lt;&gt;();\n                        for(DataSnapshot ds : dataSnapshot.getChildren()){\n                            list.add(ds.getValue(FoodActivity.class));\n                        }\n                        FoodAdapter adapter = new FoodAdapter(list);\n                        recyclerView.setAdapter(adapter);\n\n\n                    }\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError databaseError) {\n                    Toast.makeText(getActivity(), databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n        if(searchView != null){\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n                @Override\n                public boolean onQueryTextSubmit(String query) {\n                    return false;\n                }\n\n                @Override\n                public boolean onQueryTextChange(String newText) {\n                    search(newText);\n                    return true;\n                }\n            });\n        }\n    }\n\n    private void search(String str){\n        ArrayList&lt;FoodActivity&gt; searchList = new ArrayList&lt;&gt;();\n        for(FoodActivity object : list){\n            if(object.getName().toLowerCase().contains(str.toLowerCase())){\n                searchList.add(object);\n            }\n        }\n        FoodAdapter foodAdapter = new FoodAdapter(searchList);\n        recyclerView.setAdapter(foodAdapter);\n    }\n\n}\n</code></pre>\n\n<p>And the class where it needs to go:</p>\n\n<pre><code>public class FoodFragment extends Fragment {\n\n    ImageButton addFood;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_food, container, false);\n\n        addFood = view.findViewById(R.id.addFood);\n\n        addFood.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                FragmentTransaction fr = getFragmentManager().beginTransaction();\n                fr.replace(R.id.fragment_container, new TrackingFragment());\n                fr.addToBackStack(null).commit();\n            }\n        });\n\n        return view;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","netbeans","ide"],"comments":[{"owner":{"account_id":20030009,"reputation":11,"user_id":14683015,"display_name":"14PaoloT"},"score":0,"creation_date":1605989824,"post_id":64947255,"comment_id":114824593,"body_markdown":"I apparently solved deleting %appdata% files.","body":"I apparently solved deleting %appdata% files."}],"answers":[{"tags":[],"owner":{"account_id":18905071,"reputation":23,"user_id":13792367,"display_name":"Guriqbal Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605989912,"creation_date":1605989912,"answer_id":64947661,"question_id":64947255,"body_markdown":"That means the default project destination folder that NetBeans picking up for you (or you manually) is not empty and has some files inside it. Open the Explorer and create a new folder inside the same directory and select that while creating a Project.","title":"Project Folder already exists and is not empty. in Apache NetBeans 12.1","body":"<p>That means the default project destination folder that NetBeans picking up for you (or you manually) is not empty and has some files inside it. Open the Explorer and create a new folder inside the same directory and select that while creating a Project.</p>\n"}],"owner":{"account_id":20030009,"reputation":11,"user_id":14683015,"display_name":"14PaoloT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635521981,"creation_date":1605987282,"question_id":64947255,"body_markdown":"After using Apache Netbeans 12.1 for some days, today (without touching the installation folders) I tried to create a new project but I got the error message \r\n\r\n&gt; &quot;Project Folder already exists and is not empty&quot;\r\n\r\n NetBeans creates instead a `&quot;default folder&quot;`, that doesn&#39;t open automatically in which you cannot create any package or class.\r\n\r\n----\r\n I used to save my projects in a different folder in my hard disk instead of the default one (the one that NetBeans creates inside &quot;Documents&quot;) but I&#39;ve never got any kind of problem. \r\n\r\n---\r\n\r\nI deleted all my folders in which I used to have Java projects and i re-installed NetBeans, Java and JDK many and many times (trying different methods like uninstalling from control panel, from uninstall.exe, etc...) but I was not able to solve it. \r\n\r\nI started to think that may be a compatibility issue with NetBeans and JDK because I&#39;m not able to create any package or class and also because after the reinstallation I noticed that the NetBeans User Interface changed, like it was a new version of the software (may be not compatible with my JDK yet?).\r\n\r\n---\r\n I&#39;m currently using Windows 10. Thanks for your time.","title":"Project Folder already exists and is not empty. in Apache NetBeans 12.1","body":"<p>After using Apache Netbeans 12.1 for some days, today (without touching the installation folders) I tried to create a new project but I got the error message</p>\n<blockquote>\n<p>&quot;Project Folder already exists and is not empty&quot;</p>\n</blockquote>\n<p>NetBeans creates instead a <code>&quot;default folder&quot;</code>, that doesn't open automatically in which you cannot create any package or class.</p>\n<hr />\n<p>I used to save my projects in a different folder in my hard disk instead of the default one (the one that NetBeans creates inside &quot;Documents&quot;) but I've never got any kind of problem.</p>\n<hr />\n<p>I deleted all my folders in which I used to have Java projects and i re-installed NetBeans, Java and JDK many and many times (trying different methods like uninstalling from control panel, from uninstall.exe, etc...) but I was not able to solve it.</p>\n<p>I started to think that may be a compatibility issue with NetBeans and JDK because I'm not able to create any package or class and also because after the reinstallation I noticed that the NetBeans User Interface changed, like it was a new version of the software (may be not compatible with my JDK yet?).</p>\n<hr />\n<p>I'm currently using Windows 10. Thanks for your time.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1465566355,"post_id":37747896,"comment_id":62969320,"body_markdown":"Remember that relativize returns something that can be passed to resolve, and [resolve assumes its Path represents a directory.](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.nio.file.Path-)  Therefore, relativize also assumes its Path is a directory.","body":"Remember that relativize returns something that can be passed to resolve, and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.nio.file.Path-\" rel=\"nofollow noreferrer\">resolve assumes its Path represents a directory.</a>  Therefore, relativize also assumes its Path is a directory."},{"owner":{"account_id":3297914,"reputation":542,"user_id":2774728,"display_name":"Bruno Leite"},"score":0,"creation_date":1585243246,"post_id":37747896,"comment_id":107699221,"body_markdown":"I understood that after some time by just thinking this: I&#39;m navigating on directories on terminal and I want to go from Path A to Path B with a single cd command. That&#39;s the output of relativize","body":"I understood that after some time by just thinking this: I&#39;m navigating on directories on terminal and I want to go from Path A to Path B with a single cd command. That&#39;s the output of relativize"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1465566467,"creation_date":1465566467,"answer_id":37749932,"question_id":37747896,"body_markdown":"First of all, the current working directory is completely irrelevant. I could reproduce your problem even under Windows, not having any of these files and directories on my system, the only difference being the use of `\\\\` instead of `/`.\r\n\r\nWhat should `relativize` do? If you have a path like `foo bar baz` and ask for relativizing `foo bar hello`, you‚Äôll get `.. hello` as that‚Äôs the path, relative to `foo bar baz` to get to `foo bar hello`, i.e `Paths.get(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;).resolve(Paths.get(&quot;..&quot;, &quot;hello&quot;)).normalize()` produces the same path as `Paths.get(&quot;foo&quot;, &quot;bar&quot;, &quot;hello&quot;)`, regardless of any real file system structure.\r\n\r\nNow you ran into the bug [JDK-6925169](https://bugs.openjdk.java.net/browse/JDK-6925169), as suggested by the user [Berger](https://stackoverflow.com/users/5612858/berger) in a comment. The `Path` implementation does not handle `.` and `..` components correctly in `relativize`, but treats them like any other path component.\r\n\r\nSo whether you use `Paths.get(&quot;..&quot;, &quot;..&quot;, &quot;temp&quot;, &quot;delete&quot;, &quot;dictionary.txt&quot;)` or `Paths.get(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;)`, it makes no difference, in either case, the implementation treats it as five nonmatching path components that have to be removed to resolve to `Paths.get(&quot;zoo.txt&quot;)`. This applies to both, Windows and Linux. You may verify it with the following platform-independent code:\r\n\r\n    Path relative = Paths.get(&quot;zoo.txt&quot;);\r\n    Path base1 = Paths.get(&quot;..&quot;, &quot;..&quot;, &quot;temp&quot;, &quot;delete&quot;, &quot;dictionary.txt&quot;);\r\n    Path base2 = Paths.get(&quot;a&quot;,  &quot;b&quot;,  &quot;c&quot;,    &quot;d&quot;,      &quot;e&quot;);\r\n\r\n    Path relativized1 = base1.relativize(relative);\r\n    System.out.println(&quot;relativized1: &quot;+relativized1);\r\n    Path relativized2 = base2.relativize(relative);\r\n    System.out.println(&quot;relativized2: &quot;+relativized2);\r\n\r\n    Path resolved1 = base1.resolve(relativized1).normalize();\r\n    System.out.println(&quot;resolved1=&quot;+resolved1);\r\n    Path resolved2 = base2.resolve(relativized2).normalize();\r\n    System.out.println(&quot;resolved2=&quot;+resolved2);\r\n\r\nSince `relatize` incorrectly treats all component the same, the relativized paths are the same, but since the `normalize` operation *does* handle the `..` path components, the first resolved path will exhibit the problem whereas the second resolves to the expected `zoo.txt`.\r\n\r\nIt might be important for the understanding, that all path components, including `dictionary.txt`, are treated like directories. The documentation of `relativize` doesn‚Äôt mention that explicitly, but you can derive it from the documented relationship to [`resolve`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.nio.file.Path-), whose documentation says ‚Äú*‚Ä¶ this method considers this path to be a directory*‚Äù.","title":"Understanding java.nio.file.Path.relativize(Path other)","body":"<p>First of all, the current working directory is completely irrelevant. I could reproduce your problem even under Windows, not having any of these files and directories on my system, the only difference being the use of <code>\\\\</code> instead of <code>/</code>.</p>\n\n<p>What should <code>relativize</code> do? If you have a path like <code>foo bar baz</code> and ask for relativizing <code>foo bar hello</code>, you‚Äôll get <code>.. hello</code> as that‚Äôs the path, relative to <code>foo bar baz</code> to get to <code>foo bar hello</code>, i.e <code>Paths.get(\"foo\", \"bar\", \"baz\").resolve(Paths.get(\"..\", \"hello\")).normalize()</code> produces the same path as <code>Paths.get(\"foo\", \"bar\", \"hello\")</code>, regardless of any real file system structure.</p>\n\n<p>Now you ran into the bug <a href=\"https://bugs.openjdk.java.net/browse/JDK-6925169\" rel=\"noreferrer\">JDK-6925169</a>, as suggested by the user <a href=\"https://stackoverflow.com/users/5612858/berger\">Berger</a> in a comment. The <code>Path</code> implementation does not handle <code>.</code> and <code>..</code> components correctly in <code>relativize</code>, but treats them like any other path component.</p>\n\n<p>So whether you use <code>Paths.get(\"..\", \"..\", \"temp\", \"delete\", \"dictionary.txt\")</code> or <code>Paths.get(\"a\", \"b\", \"c\", \"d\", \"e\")</code>, it makes no difference, in either case, the implementation treats it as five nonmatching path components that have to be removed to resolve to <code>Paths.get(\"zoo.txt\")</code>. This applies to both, Windows and Linux. You may verify it with the following platform-independent code:</p>\n\n<pre><code>Path relative = Paths.get(\"zoo.txt\");\nPath base1 = Paths.get(\"..\", \"..\", \"temp\", \"delete\", \"dictionary.txt\");\nPath base2 = Paths.get(\"a\",  \"b\",  \"c\",    \"d\",      \"e\");\n\nPath relativized1 = base1.relativize(relative);\nSystem.out.println(\"relativized1: \"+relativized1);\nPath relativized2 = base2.relativize(relative);\nSystem.out.println(\"relativized2: \"+relativized2);\n\nPath resolved1 = base1.resolve(relativized1).normalize();\nSystem.out.println(\"resolved1=\"+resolved1);\nPath resolved2 = base2.resolve(relativized2).normalize();\nSystem.out.println(\"resolved2=\"+resolved2);\n</code></pre>\n\n<p>Since <code>relatize</code> incorrectly treats all component the same, the relativized paths are the same, but since the <code>normalize</code> operation <em>does</em> handle the <code>..</code> path components, the first resolved path will exhibit the problem whereas the second resolves to the expected <code>zoo.txt</code>.</p>\n\n<p>It might be important for the understanding, that all path components, including <code>dictionary.txt</code>, are treated like directories. The documentation of <code>relativize</code> doesn‚Äôt mention that explicitly, but you can derive it from the documented relationship to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html#resolve-java.nio.file.Path-\" rel=\"noreferrer\"><code>resolve</code></a>, whose documentation says ‚Äú<em>‚Ä¶ this method considers this path to be a directory</em>‚Äù.</p>\n"},{"tags":[],"owner":{"account_id":6811756,"reputation":577,"user_id":5241646,"display_name":"ZackOfAllTrades"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1635520965,"creation_date":1479319967,"answer_id":40639318,"question_id":37747896,"body_markdown":"   Given the example paths below: \r\n\r\n    Path p1 = Paths.get(&quot;java/temp/zoo.txt&quot;);\r\n    Path p2 = Paths.get(&quot;java/bin/elephant.bin&quot;);\r\n    \r\n    Path p1Top2 = p1.relativize(p2);\r\n    System.out.println(p1Top2); \r\n\r\n\r\nWe want to get from `zoo.txt` to `elephant.bin` in this example. \r\nSo, let&#39;s start at `zoo.txt` and ask ourselves: how do I get from `zoo.txt` to `elephant.bin`.  First I have to go up a directory, so I use &quot;`..`&quot;   Now I&#39;m in `temp`. (Trace the steps with your finger if it helps!). I have to go up one more to `java` so, I use &quot;`..`&quot; again.  Now I&#39;m in `java`.  The directory `bin` is in `java`, so, I go down to it using &quot;`/bin`&quot;.  Once more I go down using &quot;`/elephant.bin`&quot;. We have arrived at our destination.\r\n\r\nPut all of the above steps we took together and you get the output:\r\n\r\n    ../../bin/elephant.bin","title":"Understanding java.nio.file.Path.relativize(Path other)","body":"<p>Given the example paths below:</p>\n<pre><code>Path p1 = Paths.get(&quot;java/temp/zoo.txt&quot;);\nPath p2 = Paths.get(&quot;java/bin/elephant.bin&quot;);\n\nPath p1Top2 = p1.relativize(p2);\nSystem.out.println(p1Top2); \n</code></pre>\n<p>We want to get from <code>zoo.txt</code> to <code>elephant.bin</code> in this example.\nSo, let's start at <code>zoo.txt</code> and ask ourselves: how do I get from <code>zoo.txt</code> to <code>elephant.bin</code>.  First I have to go up a directory, so I use &quot;<code>..</code>&quot;   Now I'm in <code>temp</code>. (Trace the steps with your finger if it helps!). I have to go up one more to <code>java</code> so, I use &quot;<code>..</code>&quot; again.  Now I'm in <code>java</code>.  The directory <code>bin</code> is in <code>java</code>, so, I go down to it using &quot;<code>/bin</code>&quot;.  Once more I go down using &quot;<code>/elephant.bin</code>&quot;. We have arrived at our destination.</p>\n<p>Put all of the above steps we took together and you get the output:</p>\n<pre><code>../../bin/elephant.bin\n</code></pre>\n"}],"owner":{"account_id":53010,"reputation":3081,"user_id":158499,"accept_rate":100,"display_name":"Lucas T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12202,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":37749932,"answer_count":2,"score":10,"last_activity_date":1635520965,"creation_date":1465560424,"question_id":37747896,"body_markdown":"I am trying to familiarize myself with java.nio.file.Path.relativize() to no avail.\r\n\r\nI have read the javadocs, and I have seen examples. However, I still cannot get my head around the following example(I use Linux, apologies to window users):\r\n\r\nWorking directory for program is: /home/userspace/workspace/java8. \r\n\r\nWith two files: /home/userspace/workspace/java8/zoo.txt and /home/userspace/temp/delete/dictionary.txt \r\n\r\nThe following program calls Path.relativize(): \r\n\r\n    package certExam.java8.ch9NIO.paths;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    public class Relativize \r\n    {\r\n        public static void main(String[] args) \r\n        {\r\n            Path relativePathToZoo = Paths.get(&quot;zoo.txt&quot;);\r\n            Path relativePathToDictionary = Paths.get(&quot;../../temp/delete/dictionary.txt&quot;);\r\n            System.out.println(&quot;relativePathToZoo.relativize(relativePathToDictionary): &quot;+relativePathToZoo.relativize(relativePathToDictionary));\r\n            System.out.println(&quot;relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath(): &quot;+relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath());\r\n            System.out.println(&quot;relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath().normalize(): &quot;+relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath().normalize());\r\n            System.out.println(&quot;relativePathToDictionary.relativize(relativePathToZoo): &quot;+relativePathToDictionary.relativize(relativePathToZoo));\r\n            System.out.println(&quot;relativePathToDictionary.relativize(relativePathToZoo).toAbsolutePath().normalize(): &quot;+relativePathToDictionary.relativize(relativePathToZoo).toAbsolutePath().normalize());\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nThe output is:\r\n\r\n    relativePathToZoo.relativize(relativePathToDictionary): ../../../temp/delete/dictionary.txt \r\n        relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath(): /home/userspace/workspace/java8/../../../temp/delete/dictionary.txt \r\n        relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath().normalize(): /home/temp/delete/dictionary.txt \r\n        relativePathToDictionary.relativize(relativePathToZoo): ../../../../../zoo.txt \r\n        relativePathToDictionary.relativize(relativePathToZoo).toAbsolutePath().normalize(): /zoo.txt\r\n\r\nMy question, the bit I cannot understand is: Why does relativePathToDictionary.relativize(relativePathToZoo) output ../../../../../zoo.txt?\r\n\r\nWhen normalized, it would make you think that zoo.txt lives in the root directory. \r\n\r\nHow does relativize() work out such a deep path? I understand that relativize() works in relation to the current working directory, so it adds **..** to every path. But I am cannot understand, how it worked out the path to zoo.txt in relation to dictionary.txt. ","title":"Understanding java.nio.file.Path.relativize(Path other)","body":"<p>I am trying to familiarize myself with java.nio.file.Path.relativize() to no avail.</p>\n<p>I have read the javadocs, and I have seen examples. However, I still cannot get my head around the following example(I use Linux, apologies to window users):</p>\n<p>Working directory for program is: /home/userspace/workspace/java8.</p>\n<p>With two files: /home/userspace/workspace/java8/zoo.txt and /home/userspace/temp/delete/dictionary.txt</p>\n<p>The following program calls Path.relativize():</p>\n<pre><code>package certExam.java8.ch9NIO.paths;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\npublic class Relativize \n{\n    public static void main(String[] args) \n    {\n        Path relativePathToZoo = Paths.get(&quot;zoo.txt&quot;);\n        Path relativePathToDictionary = Paths.get(&quot;../../temp/delete/dictionary.txt&quot;);\n        System.out.println(&quot;relativePathToZoo.relativize(relativePathToDictionary): &quot;+relativePathToZoo.relativize(relativePathToDictionary));\n        System.out.println(&quot;relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath(): &quot;+relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath());\n        System.out.println(&quot;relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath().normalize(): &quot;+relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath().normalize());\n        System.out.println(&quot;relativePathToDictionary.relativize(relativePathToZoo): &quot;+relativePathToDictionary.relativize(relativePathToZoo));\n        System.out.println(&quot;relativePathToDictionary.relativize(relativePathToZoo).toAbsolutePath().normalize(): &quot;+relativePathToDictionary.relativize(relativePathToZoo).toAbsolutePath().normalize());\n        System.out.println();\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>relativePathToZoo.relativize(relativePathToDictionary): ../../../temp/delete/dictionary.txt \n    relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath(): /home/userspace/workspace/java8/../../../temp/delete/dictionary.txt \n    relativePathToZoo.relativize(relativePathToDictionary).toAbsolutePath().normalize(): /home/temp/delete/dictionary.txt \n    relativePathToDictionary.relativize(relativePathToZoo): ../../../../../zoo.txt \n    relativePathToDictionary.relativize(relativePathToZoo).toAbsolutePath().normalize(): /zoo.txt\n</code></pre>\n<p>My question, the bit I cannot understand is: Why does relativePathToDictionary.relativize(relativePathToZoo) output ../../../../../zoo.txt?</p>\n<p>When normalized, it would make you think that zoo.txt lives in the root directory.</p>\n<p>How does relativize() work out such a deep path? I understand that relativize() works in relation to the current working directory, so it adds <strong>..</strong> to every path. But I am cannot understand, how it worked out the path to zoo.txt in relation to dictionary.txt.</p>\n"},{"tags":["java","war","jdeps"],"comments":[{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1635522278,"post_id":69771293,"comment_id":123329481,"body_markdown":"How did you run jdeps on your file?","body":"How did you run jdeps on your file?"},{"owner":{"account_id":15950372,"reputation":99,"user_id":11509861,"display_name":"Silta"},"score":0,"creation_date":1635845803,"post_id":69771293,"comment_id":123395240,"body_markdown":"I run &quot;jdeps -v myFile.war&quot; with java 11.","body":"I run &quot;jdeps -v myFile.war&quot; with java 11."},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":1,"creation_date":1635900527,"post_id":69771293,"comment_id":123414504,"body_markdown":"I do not believe you can run this on a .war file. See the [tools page on the jdeps command](https://docs.oracle.com/en/java/javase/11/tools/jdeps.html) that explicitly states &quot;A pathname to the .class file, directory, or JAR file to analyze.&quot; and &quot;package-level or class-level dependencies&quot;.","body":"I do not believe you can run this on a .war file. See the <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jdeps.html\" rel=\"nofollow noreferrer\">tools page on the jdeps command</a> that explicitly states &quot;A pathname to the .class file, directory, or JAR file to analyze.&quot; and &quot;package-level or class-level dependencies&quot;."},{"owner":{"account_id":15950372,"reputation":99,"user_id":11509861,"display_name":"Silta"},"score":0,"creation_date":1636019145,"post_id":69771293,"comment_id":123447862,"body_markdown":"I was thinking that there might be a chance he would take it into account, but that didn&#39;t seem to be possible. Thank you","body":"I was thinking that there might be a chance he would take it into account, but that didn&#39;t seem to be possible. Thank you"}],"owner":{"account_id":15950372,"reputation":99,"user_id":11509861,"display_name":"Silta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635520863,"creation_date":1635520863,"question_id":69771293,"body_markdown":"Is it possible to run Jdeps on a .war file?\r\n\r\nI get this error when trying:\r\n\r\n    Exception in thread &quot;main&quot; com.sun.tools.classfile.Dependencies$ClassFileError\r\n            at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader.scan(ClassFileReader.java:165)\r\n            at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader.entries(ClassFileReader.java:114)\r\n            at jdk.jdeps/com.sun.tools.jdeps.Archive.contains(Archive.java:95)\r\n            at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.addRoot(JdepsConfiguration.java:495)\r\n            at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:597)\r\n            at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\r\n            at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\r\n            at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\r\n    Caused by: com.sun.tools.classfile.ConstantPool$InvalidIndex: invalid index #13907\r\n            at jdk.jdeps/com.sun.tools.classfile.ConstantPool.get(ConstantPool.java:269)\r\n            at jdk.jdeps/com.sun.tools.classfile.ConstantPool.get(ConstantPool.java:280)\r\n            at jdk.jdeps/com.sun.tools.classfile.ConstantPool.getClassInfo(ConstantPool.java:291)\r\n            at jdk.jdeps/com.sun.tools.classfile.ClassFile.getName(ClassFile.java:123)\r\n            at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader.scan(ClassFileReader.java:162)","title":"Jdeps and war archives","body":"<p>Is it possible to run Jdeps on a .war file?</p>\n<p>I get this error when trying:</p>\n<pre><code>Exception in thread &quot;main&quot; com.sun.tools.classfile.Dependencies$ClassFileError\n        at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader.scan(ClassFileReader.java:165)\n        at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader.entries(ClassFileReader.java:114)\n        at jdk.jdeps/com.sun.tools.jdeps.Archive.contains(Archive.java:95)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.addRoot(JdepsConfiguration.java:495)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:597)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\n        at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\nCaused by: com.sun.tools.classfile.ConstantPool$InvalidIndex: invalid index #13907\n        at jdk.jdeps/com.sun.tools.classfile.ConstantPool.get(ConstantPool.java:269)\n        at jdk.jdeps/com.sun.tools.classfile.ConstantPool.get(ConstantPool.java:280)\n        at jdk.jdeps/com.sun.tools.classfile.ConstantPool.getClassInfo(ConstantPool.java:291)\n        at jdk.jdeps/com.sun.tools.classfile.ClassFile.getName(ClassFile.java:123)\n        at jdk.jdeps/com.sun.tools.jdeps.ClassFileReader.scan(ClassFileReader.java:162)\n</code></pre>\n"},{"tags":["java","csv","file","oop","structure"],"comments":[{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":1,"creation_date":1635517896,"post_id":69770574,"comment_id":123327687,"body_markdown":"What have you tried so far? Show us your code, and what is the issue?","body":"What have you tried so far? Show us your code, and what is the issue?"},{"owner":{"account_id":33558,"reputation":907,"user_id":94034,"accept_rate":83,"display_name":"Oren Yosifon"},"score":0,"creation_date":1635517935,"post_id":69770574,"comment_id":123327706,"body_markdown":"Do you mean you need to output only the rows which are not common to both files?","body":"Do you mean you need to output only the rows which are not common to both files?"},{"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"score":0,"creation_date":1635517984,"post_id":69770574,"comment_id":123327722,"body_markdown":"yes, output the ones that are not common.","body":"yes, output the ones that are not common."},{"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"score":0,"creation_date":1635518238,"post_id":69770574,"comment_id":123327831,"body_markdown":"Read file 1, store the lines in a list -&gt; file1list\nMaintain a separate list -&gt;uncommon\nRead file 2 line by line, if the line doesn&#39;t exist in file1list, put it in uncommon\nreturn uncommon\n\nWould be great if you show what have you done so far and issue you faced","body":"Read file 1, store the lines in a list -&gt; file1list Maintain a separate list -&gt;uncommon Read file 2 line by line, if the line doesn&#39;t exist in file1list, put it in uncommon return uncommon  Would be great if you show what have you done so far and issue you faced"},{"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"score":0,"creation_date":1635518577,"post_id":69770574,"comment_id":123327989,"body_markdown":"files need not to be in sorted order, files are large over 7k entries, im working on 1.8","body":"files need not to be in sorted order, files are large over 7k entries, im working on 1.8"},{"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"score":0,"creation_date":1635518607,"post_id":69770574,"comment_id":123327996,"body_markdown":"I am new to java, so gathering inputs and ideas on how to achieve this. and, yes ill try what @DeepanshuRathi has suggested.","body":"I am new to java, so gathering inputs and ideas on how to achieve this. and, yes ill try what @DeepanshuRathi has suggested."}],"answers":[{"tags":[],"owner":{"account_id":15149829,"reputation":26,"user_id":10932429,"display_name":"Alien F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635520599,"creation_date":1635520599,"answer_id":69771230,"question_id":69770574,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; f = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;D&quot; });\r\n\t\tList&lt;String&gt; s = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\r\n\t\tSystem.out.println(Arrays.toString(nonCommonLines(f, s).toArray()));\r\n\t}\r\n\r\n\tpublic static List&lt;String&gt; nonCommonLines(List&lt;String&gt; first, List&lt;String&gt; second) {\r\n\t\tList&lt;String&gt; nonCommonReturn = new ArrayList&lt;String&gt;();\r\n\t\tif (first != null &amp;&amp; second != null) {\r\n\t\t\tfor (String firstIterator : first) {\r\n\t\t\t\tif (Collections.frequency(second, firstIterator) == 0) {\r\n\t\t\t\t\tnonCommonReturn.add(firstIterator);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (String secondIterator : second) {\r\n\t\t\t\tif (Collections.frequency(first, secondIterator) == 0) {\r\n\t\t\t\t\tnonCommonReturn.add(secondIterator);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (first == null)\r\n\t\t\t\tnonCommonReturn.addAll(second);\r\n\t\t\tif (second == null)\r\n\t\t\t\tnonCommonReturn.addAll(first);\r\n\t\t}\r\n\t\treturn nonCommonReturn;\r\n\t}\r\n\r\n","title":"compare data from 2 files and return the data thats not in either of the files?","body":"<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; f = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;D&quot; });\n    List&lt;String&gt; s = Arrays.asList(new String[] { &quot;A&quot;, &quot;B&quot;, &quot;C&quot; });\n    System.out.println(Arrays.toString(nonCommonLines(f, s).toArray()));\n}\n\npublic static List&lt;String&gt; nonCommonLines(List&lt;String&gt; first, List&lt;String&gt; second) {\n    List&lt;String&gt; nonCommonReturn = new ArrayList&lt;String&gt;();\n    if (first != null &amp;&amp; second != null) {\n        for (String firstIterator : first) {\n            if (Collections.frequency(second, firstIterator) == 0) {\n                nonCommonReturn.add(firstIterator);\n            }\n        }\n        for (String secondIterator : second) {\n            if (Collections.frequency(first, secondIterator) == 0) {\n                nonCommonReturn.add(secondIterator);\n            }\n        }\n    } else {\n        if (first == null)\n            nonCommonReturn.addAll(second);\n        if (second == null)\n            nonCommonReturn.addAll(first);\n    }\n    return nonCommonReturn;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635520601,"creation_date":1635520601,"answer_id":69771231,"question_id":69770574,"body_markdown":"7k entries is not a lot. With today&#39;s computers having gigabytes of RAM, you should be able to store the entire contents of both files in memory so consider the following code (which is suitable for Java 8)\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Testings {\r\n\r\n    public static void main(String[] args) {\r\n        Path path1 = Paths.get(&quot;path-to-first-file&quot;);\r\n        Path path2 = Paths.get(&quot;path-to-second-file&quot;);\r\n        try {\r\n            List&lt;String&gt; lines1 = Files.readAllLines(path1);\r\n\r\n            // Make copy of &#39;lines1&#39;.\r\n            List&lt;String&gt; org1 = new ArrayList&lt;&gt;(lines1);\r\n\r\n            List&lt;String&gt; lines2 = Files.readAllLines(path2);\r\n\r\n            // Now &#39;lines1&#39; only contains lines that are not in &#39;lines2&#39;.\r\n            lines1.removeAll(lines2);\r\n\r\n            // Now &#39;lines2&#39; only contains lines that are not in [original] &#39;lines1&#39;.\r\n            lines2.removeAll(org1);\r\n\r\n            // &#39;lines1&#39; now contains lines that were not common in the original lists.\r\n            lines1.addAll(lines2);\r\n        }\r\n        catch (IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"compare data from 2 files and return the data thats not in either of the files?","body":"<p>7k entries is not a lot. With today's computers having gigabytes of RAM, you should be able to store the entire contents of both files in memory so consider the following code (which is suitable for Java 8)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Testings {\n\n    public static void main(String[] args) {\n        Path path1 = Paths.get(&quot;path-to-first-file&quot;);\n        Path path2 = Paths.get(&quot;path-to-second-file&quot;);\n        try {\n            List&lt;String&gt; lines1 = Files.readAllLines(path1);\n\n            // Make copy of 'lines1'.\n            List&lt;String&gt; org1 = new ArrayList&lt;&gt;(lines1);\n\n            List&lt;String&gt; lines2 = Files.readAllLines(path2);\n\n            // Now 'lines1' only contains lines that are not in 'lines2'.\n            lines1.removeAll(lines2);\n\n            // Now 'lines2' only contains lines that are not in [original] 'lines1'.\n            lines2.removeAll(org1);\n\n            // 'lines1' now contains lines that were not common in the original lists.\n            lines1.addAll(lines2);\n        }\n        catch (IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635520601,"creation_date":1635517692,"question_id":69770574,"body_markdown":"lets say i have 2 files with ids and dates column\r\n\r\n    file1:\r\n    empid1: date 1\r\n    empid1: date 2\r\n    empid2: date 3\r\n    empid2: date 4\r\n\r\n    file2:\r\n    empid1: date 1\r\n    empid2: date 3\r\n    empid3: date 5\r\n\r\nso, now, when i compare the 2 files, my main goal is to retrieve those data that are not in the file 2 and vice versa.\r\nCan anyone help me or guide me on how to achieve this?\r\n","title":"compare data from 2 files and return the data thats not in either of the files?","body":"<p>lets say i have 2 files with ids and dates column</p>\n<pre><code>file1:\nempid1: date 1\nempid1: date 2\nempid2: date 3\nempid2: date 4\n\nfile2:\nempid1: date 1\nempid2: date 3\nempid3: date 5\n</code></pre>\n<p>so, now, when i compare the 2 files, my main goal is to retrieve those data that are not in the file 2 and vice versa.\nCan anyone help me or guide me on how to achieve this?</p>\n"},{"tags":["java","count","sum"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":7,"creation_date":1635484452,"post_id":69763919,"comment_id":123315826,"body_markdown":"sum is usually when you add numbers together `int sum = 1 + 2;`  I do not see anything like this in your code.","body":"sum is usually when you add numbers together <code>int sum = 1 + 2;</code>  I do not see anything like this in your code."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635486391,"post_id":69763919,"comment_id":123316181,"body_markdown":"Indeed summing usually accumulates, e.g. `sum = sum + i`","body":"Indeed summing usually accumulates, e.g. <code>sum = sum + i</code>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635484645,"creation_date":1635484645,"answer_id":69763963,"question_id":69763919,"body_markdown":"One good approach here is make use of the modulus:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int input = 122333;\r\n    int sum = 0;\r\n\r\n    while (input &gt; 0) {\r\n        sum += input % 10;\r\n        input /= 10;\r\n    }\r\n\r\n    System.out.println(&quot;Sum of all terms is: &quot; + sum);  // 14\r\n\r\nThe `input % 10` term will return the final rightmost digit in the input.  We added this to the running total, and then divide the input by 10 to advance the next digit.","title":"Sum of n terms.. 122333=14","body":"<p>One good approach here is make use of the modulus:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int input = 122333;\nint sum = 0;\n\nwhile (input &gt; 0) {\n    sum += input % 10;\n    input /= 10;\n}\n\nSystem.out.println(&quot;Sum of all terms is: &quot; + sum);  // 14\n</code></pre>\n<p>The <code>input % 10</code> term will return the final rightmost digit in the input.  We added this to the running total, and then divide the input by 10 to advance the next digit.</p>\n"},{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635490145,"creation_date":1635489549,"answer_id":69764638,"question_id":69763919,"body_markdown":"If by &#39;sum of N terms&#39; you mean,\r\n\r\nN=4 \r\n\r\nSum= 1+2+2+ 3+3+3+4+4+4+4....N*N\r\n\r\nThen it&#39;s safe to say that it&#39;s Sum(i*i) where 0&lt;i&lt;=N,\r\nthis solution will give you answer:\r\n\r\n```java\r\nint sum = 0;\r\nfor (int i = 1; i &lt;= n; i++) {\r\n    sum += i * i;\r\n}\r\nSystem.out.println(sum);\r\n```\r\n","title":"Sum of n terms.. 122333=14","body":"<p>If by 'sum of N terms' you mean,</p>\n<p>N=4</p>\n<p>Sum= 1+2+2+ 3+3+3+4+4+4+4....N*N</p>\n<p>Then it's safe to say that it's Sum(i*i) where 0&lt;i&lt;=N,\nthis solution will give you answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = 0;\nfor (int i = 1; i &lt;= n; i++) {\n    sum += i * i;\n}\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23086998,"reputation":9,"user_id":17198371,"display_name":"Cesar Villarreal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635520524,"creation_date":1635520524,"answer_id":69771208,"question_id":69763919,"body_markdown":"I finally did it \r\n\r\n    \r\n    for (i = 1; i &lt;= n; i++){\r\n    \r\n      for ( j = 0; j &lt; i; j++){    \r\n    \tres=res+i;\r\n    \r\n    \tSystem.out.print(i);\r\n    \t\t\t\t\t\t    \t\r\n    \t\t} \t\t\t\t\t\t    \r\n    }\r\n    \t\t\t\t\t\t\r\n    System.out.println(&quot; La sumatoria es &quot;+res);\t\r\n\r\n\t\r\n\t\t\t\t\t\t\t\r\n\t\t","title":"Sum of n terms.. 122333=14","body":"<p>I finally did it</p>\n<pre><code>for (i = 1; i &lt;= n; i++){\n\n  for ( j = 0; j &lt; i; j++){    \n    res=res+i;\n\n    System.out.print(i);\n                                \n        }                           \n}\n                        \nSystem.out.println(&quot; La sumatoria es &quot;+res);    \n\n\n                        \n    \n</code></pre>\n"}],"owner":{"account_id":23086998,"reputation":9,"user_id":17198371,"display_name":"Cesar Villarreal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":3,"score":-3,"last_activity_date":1635520524,"creation_date":1635484313,"question_id":69763919,"body_markdown":"im need to calculate the sum of n terms i wrote this code but it print me all the nums but no the sum \r\n\r\n    for (i = 1; i &lt;= n; i++){\r\n      for ( j = 0; j &lt; i; j++){ \r\n    \t\tSystem.out.print(i);\r\n    \t}  \r\n    }\r\n\r\nAnd this is what it print \r\n\r\n122333444455555\r\n\r\nThanks for your help\r\n\r\n\r\n","title":"Sum of n terms.. 122333=14","body":"<p>im need to calculate the sum of n terms i wrote this code but it print me all the nums but no the sum</p>\n<pre><code>for (i = 1; i &lt;= n; i++){\n  for ( j = 0; j &lt; i; j++){ \n        System.out.print(i);\n    }  \n}\n</code></pre>\n<p>And this is what it print</p>\n<p>122333444455555</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","spring-mvc","spring-boot","spring-data","h2"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1497347771,"post_id":44516942,"comment_id":76028278,"body_markdown":"Well you explicitly disabled auto configuration for JPA so obviously there is no auto configured `EntityManagerFactory`. Either remove the exclude or manually define a `EntityManagerFactory`. Also your `spring.datasource` properties are pretty much useless as well as you also exclude auto configuration for the datasource.","body":"Well you explicitly disabled auto configuration for JPA so obviously there is no auto configured <code>EntityManagerFactory</code>. Either remove the exclude or manually define a <code>EntityManagerFactory</code>. Also your <code>spring.datasource</code> properties are pretty much useless as well as you also exclude auto configuration for the datasource."},{"owner":{"account_id":2169385,"reputation":173,"user_id":1921790,"accept_rate":14,"display_name":"kiran rathod"},"score":0,"creation_date":1497348845,"post_id":44516942,"comment_id":76029023,"body_markdown":"please check update above","body":"please check update above"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1497348973,"post_id":44516942,"comment_id":76029123,"body_markdown":"Don&#39;t post a snippet of a stack trace, post the full stracktrace.","body":"Don&#39;t post a snippet of a stack trace, post the full stracktrace."},{"owner":{"account_id":2169385,"reputation":173,"user_id":1921790,"accept_rate":14,"display_name":"kiran rathod"},"score":0,"creation_date":1497349627,"post_id":44516942,"comment_id":76029563,"body_markdown":"M.Deinum I have posted full stacktrace","body":"M.Deinum I have posted full stacktrace"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1497350344,"post_id":44516942,"comment_id":76030047,"body_markdown":"You cannot combine annotations on fields and set/get methods. Either use the field level or set/get methods not both. Also the error is in your `Address` class not posted here.","body":"You cannot combine annotations on fields and set/get methods. Either use the field level or set/get methods not both. Also the error is in your <code>Address</code> class not posted here."},{"owner":{"account_id":2169385,"reputation":173,"user_id":1921790,"accept_rate":14,"display_name":"kiran rathod"},"score":0,"creation_date":1497351989,"post_id":44516942,"comment_id":76031202,"body_markdown":"I thought Address class is no way related to this that&#39;s why I did not post here but error was just because of Address class I just temp comment on address from shop and its working ,you are excellent thank you so much for your help solved now.","body":"I thought Address class is no way related to this that&#39;s why I did not post here but error was just because of Address class I just temp comment on address from shop and its working ,you are excellent thank you so much for your help solved now."}],"answers":[{"tags":[],"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497347863,"creation_date":1497347863,"answer_id":44518175,"question_id":44516942,"body_markdown":"If you dismiss auto configuration, then you should provide it by yourself.\r\n\r\nSee example:\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() throws URISyntaxException {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        entityManagerFactoryBean.setDataSource(your_datasource);\r\n        entityManagerFactoryBean.setPackagesToScan(package_to_scan);\r\n        //additional config of factory\r\n\r\n        return entityManagerFactoryBean;\r\n    }\r\n\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager jpaTransactionManager(EntityManagerFactory entityManagerFactory) throws URISyntaxException {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n        return transactionManager;\r\n    }","title":"Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration-Spring boot","body":"<p>If you dismiss auto configuration, then you should provide it by yourself.</p>\n\n<p>See example:</p>\n\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() throws URISyntaxException {\n    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n    entityManagerFactoryBean.setDataSource(your_datasource);\n    entityManagerFactoryBean.setPackagesToScan(package_to_scan);\n    //additional config of factory\n\n    return entityManagerFactoryBean;\n}\n\n@Bean(name = \"transactionManager\")\npublic PlatformTransactionManager jpaTransactionManager(EntityManagerFactory entityManagerFactory) throws URISyntaxException {\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(entityManagerFactory);\n    return transactionManager;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3648149,"reputation":2060,"user_id":3040886,"accept_rate":20,"display_name":"Ronny Shibley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525473145,"creation_date":1525473145,"answer_id":50183871,"question_id":44516942,"body_markdown":"If you have this piece of code, just remove it. \r\n\r\n    public HibernateJpaSessionFactoryBean sessionFactory() {\r\n\t    return new HibernateJpaSessionFactoryBean();\r\n\t}","title":"Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration-Spring boot","body":"<p>If you have this piece of code, just remove it. </p>\n\n<pre><code>public HibernateJpaSessionFactoryBean sessionFactory() {\n    return new HibernateJpaSessionFactoryBean();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4884041,"reputation":655,"user_id":3936975,"display_name":"Dharmender Rawat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583580845,"creation_date":1583580845,"answer_id":60577106,"question_id":44516942,"body_markdown":"This problem is due to tomcat connection pooling. Try to add following dependency in your pom.xml\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nIt solved my problem.","title":"Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration-Spring boot","body":"<p>This problem is due to tomcat connection pooling. Try to add following dependency in your pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>It solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":19030517,"reputation":1,"user_id":13892731,"display_name":"Sai Seetharamaiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635520510,"creation_date":1635520510,"answer_id":69771204,"question_id":44516942,"body_markdown":"Issue resolved when I have updated my spring boot parent version to 2.1.1 in pom.xml\r\n```\r\n&lt;!-- Inherit defaults from Spring Boot --&gt;\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```","title":"Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration-Spring boot","body":"<p>Issue resolved when I have updated my spring boot parent version to 2.1.1 in pom.xml</p>\n<pre><code>&lt;!-- Inherit defaults from Spring Boot --&gt;\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":2169385,"reputation":173,"user_id":1921790,"accept_rate":14,"display_name":"kiran rathod"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38163,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1635520510,"creation_date":1497344714,"question_id":44516942,"body_markdown":"following is my code \r\n\r\n**Spring boot Entry class**\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(&quot;com.test.assertmanagementdigital4.repositories&quot;)\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class,HibernateJpaAutoConfiguration.class})\r\n    @ComponentScan(&quot;com.test.assertmanagementdigital4&quot;)\r\n    public class AssertManagementDigital4Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AssertManagementDigital4Application.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n**Controller**\r\n\r\n@RestController\r\npublic class ShopController {\r\n\r\n    \t@Autowired\r\n    \tprivate ShopService shopService;\r\n    \t\r\n    \t@RequestMapping(value=&quot;/shops&quot;,method=RequestMethod.POST)\r\n    \tpublic void shopDetails(@RequestBody Shop shop){\r\n    \t\tshopService.addShopDetails(shop);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**entities**\r\n\r\n    @Entity\r\n    @Table(name=&quot;ShopDetails&quot;)\r\n    public class Shop {\r\n    \t\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \tprivate String shopName;\r\n    \tprivate Address address;\r\n    \r\n    \tpublic String getShopName() {\r\n    \t\treturn shopName;\r\n    \t}\r\n    \r\n    \tpublic void setShopName(String shopName) {\r\n    \t\tthis.shopName = shopName;\r\n    \t}\r\n    \r\n    \t@OneToMany\r\n    \t@JoinColumn(name=&quot;add_Id&quot;)\r\n    \tpublic Address getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(Address address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Shop [id=&quot; + id + &quot;, shopName=&quot; + shopName + &quot;, address=&quot; + address + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n**spring data repository**\r\n\r\n\r\n    @Repository\r\n    public interface ShopRepository extends CrudRepository&lt;Shop,Long&gt;{\r\n    \r\n    }\r\n\r\n**Service classs**\r\n\r\n    @Service\r\n    public class ShopService {\r\n    \t@Autowired\r\n    \tprivate ShopRepository shopRepository;\r\n    \t\r\n    \tpublic void addShopDetails(Shop shop) {\r\n    \t\tshopRepository.save(shop);\r\n    \t}\r\n    }\r\n\r\n**application.properties**\r\n\r\n    #spring.datasource.type=org.apache.commons.dbcp.BasicDataSource\r\n    spring.datasource.url:jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n    spring.datasource.username:sa\r\n    spring.datasource.password:\r\n    spring.datasource.driver-class-name:org.h2.Driver\r\n    spring.datasource.platform:h2\r\n    \r\n      # enable H2 web console and set url for web console\r\n      # http://localhost:8080/console\r\n      spring.h2.console.enabled:true\r\n      spring.h2.console.path:/console\r\n      \r\n  **build.gradle** \r\n\r\n     buildscript {\r\n    \text {\r\n    \t\tspringBootVersion = &#39;1.5.4.RELEASE&#39;\r\n    \t}\r\n    \trepositories {\r\n    \t\tmavenCentral()\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    \r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n    \tcompile(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    \tcompile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \truntime(&#39;com.h2database:h2&#39;)\r\n    \ttestCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    }\r\n\r\nI know this question is already posted by someone but that does not solved my problem I&#39;m still getting the following error ,could you please let me know what is wrong with this\r\n\r\n    Description:\r\n    \r\n    Field shopRepository in com.test.assertmanagementdigital4.service.ShopService required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\nIf I remove exclude auto configuration, I got following error\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1078) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\r\n    \tat com.test.assertmanagementdigital4.AssertManagementDigital4Application.main(AssertManagementDigital4Application.java:20) [bin/:na]\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:954) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:882) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:370) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:359) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n    \t... 16 common frames omitted\r\n    Caused by: org.hibernate.MappingException: Could not determine type for: java.util.Set, at table: address, for columns: [org.hibernate.mapping.Column(shop)]\r\n    \tat org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:431) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:398) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.mapping.Property.isValid(Property.java:225) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:595) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.mapping.RootClass.validate(RootClass.java:265) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:329) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:443) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \t... 22 common frames omitted\r\n\r\n","title":"Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration-Spring boot","body":"<p>following is my code </p>\n\n<p><strong>Spring boot Entry class</strong></p>\n\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(\"com.test.assertmanagementdigital4.repositories\")\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class,HibernateJpaAutoConfiguration.class})\n@ComponentScan(\"com.test.assertmanagementdigital4\")\npublic class AssertManagementDigital4Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AssertManagementDigital4Application.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<p>@RestController\npublic class ShopController {</p>\n\n<pre><code>    @Autowired\n    private ShopService shopService;\n\n    @RequestMapping(value=\"/shops\",method=RequestMethod.POST)\n    public void shopDetails(@RequestBody Shop shop){\n        shopService.addShopDetails(shop);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>entities</strong></p>\n\n<pre><code>@Entity\n@Table(name=\"ShopDetails\")\npublic class Shop {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String shopName;\n    private Address address;\n\n    public String getShopName() {\n        return shopName;\n    }\n\n    public void setShopName(String shopName) {\n        this.shopName = shopName;\n    }\n\n    @OneToMany\n    @JoinColumn(name=\"add_Id\")\n    public Address getAddress() {\n        return address;\n    }\n\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n\n    @Override\n    public String toString() {\n        return \"Shop [id=\" + id + \", shopName=\" + shopName + \", address=\" + address + \"]\";\n    }\n\n\n}\n</code></pre>\n\n<p><strong>spring data repository</strong></p>\n\n<pre><code>@Repository\npublic interface ShopRepository extends CrudRepository&lt;Shop,Long&gt;{\n\n}\n</code></pre>\n\n<p><strong>Service classs</strong></p>\n\n<pre><code>@Service\npublic class ShopService {\n    @Autowired\n    private ShopRepository shopRepository;\n\n    public void addShopDetails(Shop shop) {\n        shopRepository.save(shop);\n    }\n}\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>#spring.datasource.type=org.apache.commons.dbcp.BasicDataSource\nspring.datasource.url:jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\nspring.datasource.username:sa\nspring.datasource.password:\nspring.datasource.driver-class-name:org.h2.Driver\nspring.datasource.platform:h2\n\n  # enable H2 web console and set url for web console\n  # http://localhost:8080/console\n  spring.h2.console.enabled:true\n  spring.h2.console.path:/console\n</code></pre>\n\n<p><strong>build.gradle</strong> </p>\n\n<pre><code> buildscript {\n    ext {\n        springBootVersion = '1.5.4.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\n\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-data-jpa')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    runtime('com.h2database:h2')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n\n<p>I know this question is already posted by someone but that does not solved my problem I'm still getting the following error ,could you please let me know what is wrong with this</p>\n\n<pre><code>Description:\n\nField shopRepository in com.test.assertmanagementdigital4.service.ShopService required a bean named 'entityManagerFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n</code></pre>\n\n<p>If I remove exclude auto configuration, I got following error</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1078) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE]\n    at com.test.assertmanagementdigital4.AssertManagementDigital4Application.main(AssertManagementDigital4Application.java:20) [bin/:na]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:954) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:882) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:370) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:359) ~[spring-orm-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    ... 16 common frames omitted\nCaused by: org.hibernate.MappingException: Could not determine type for: java.util.Set, at table: address, for columns: [org.hibernate.mapping.Column(shop)]\n    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:431) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:398) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.mapping.Property.isValid(Property.java:225) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:595) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.mapping.RootClass.validate(RootClass.java:265) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:329) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:443) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    ... 22 common frames omitted\n</code></pre>\n"},{"tags":["java","vaadin","vaadin14"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1635513908,"post_id":69769047,"comment_id":123325793,"body_markdown":"Which Vaadin version you use? The answer is different for Vaadin 8 and 14 for example.","body":"Which Vaadin version you use? The answer is different for Vaadin 8 and 14 for example."},{"owner":{"account_id":14325595,"reputation":91,"user_id":10347787,"display_name":"mackesmilian"},"score":0,"creation_date":1635514204,"post_id":69769047,"comment_id":123325946,"body_markdown":"Oh sorry, I&#39;m using Vaadin 14","body":"Oh sorry, I&#39;m using Vaadin 14"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1635514249,"post_id":69769047,"comment_id":123325975,"body_markdown":"It would also help, if you could be a bit more explicit: how do you\npreserve the state right now?  What have you tried to _not_ preserve it?","body":"It would also help, if you could be a bit more explicit: how do you preserve the state right now?  What have you tried to <i>not</i> preserve it?"},{"owner":{"account_id":14325595,"reputation":91,"user_id":10347787,"display_name":"mackesmilian"},"score":0,"creation_date":1635515058,"post_id":69769047,"comment_id":123326355,"body_markdown":"@cfrick Of course, sorry: I followed this [article](https://vaadin.com/docs/v14/flow/advanced/tutorial-preserving-state-on-refresh) on how to preserve the state and it worked as intended. \nAs for what I did to not preserve it: Nothing, because I don&#39;t know how. I wasn&#39;t able to find any solutions/tips online and I&#39;m not very experienced with Vaadin.","body":"@cfrick Of course, sorry: I followed this <a href=\"https://vaadin.com/docs/v14/flow/advanced/tutorial-preserving-state-on-refresh\" rel=\"nofollow noreferrer\">article</a> on how to preserve the state and it worked as intended.  As for what I did to not preserve it: Nothing, because I don&#39;t know how. I wasn&#39;t able to find any solutions/tips online and I&#39;m not very experienced with Vaadin."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":2,"creation_date":1635751243,"post_id":69769047,"comment_id":123368484,"body_markdown":"Might it make sense to have two separate Views - let&#39;s call them &quot;PreservingView&quot; and &quot;RegularView&quot; - so that if you actually want to completely reload, you&#39;ll redirect to &quot;RegularView&quot; and otherwise you&#39;ll stick to &quot;PreservingView&quot;?","body":"Might it make sense to have two separate Views - let&#39;s call them &quot;PreservingView&quot; and &quot;RegularView&quot; - so that if you actually want to completely reload, you&#39;ll redirect to &quot;RegularView&quot; and otherwise you&#39;ll stick to &quot;PreservingView&quot;?"},{"owner":{"account_id":14325595,"reputation":91,"user_id":10347787,"display_name":"mackesmilian"},"score":0,"creation_date":1636614252,"post_id":69769047,"comment_id":123605532,"body_markdown":"@ollitietavainen That would be an option, yes. Thank you.","body":"@ollitietavainen That would be an option, yes. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635520402,"creation_date":1635520402,"answer_id":69771183,"question_id":69769047,"body_markdown":"In Vaadin 14 you can annotate specific [views / components][1] with `@PreserveOnRefresh` annotation. So if you have two views in your app like following, the `RegularView` will not be refreshed on reload.\r\n\r\n    @Route(&quot;preserve&quot;)\r\n    @PreserveOnRefresh\r\n    public class PreservedView extends VerticalLayout {\r\n    \r\n        public PreservedView() {\r\n            // ...\r\n        }\r\n    }\r\n    \r\n    @Route(&quot;regular&quot;)\r\n    public class RegularView extends VerticalLayout {\r\n    \r\n        public RegularView () {\r\n            // ...\r\n        }\r\n    }\r\n\r\n  [1]: https://vaadin.com/docs/v14/flow/advanced/tutorial-preserving-state-on-refresh/#preserving-the-state-of-a-component","title":"Preserve View State in Vaadin only in specific cases","body":"<p>In Vaadin 14 you can annotate specific <a href=\"https://vaadin.com/docs/v14/flow/advanced/tutorial-preserving-state-on-refresh/#preserving-the-state-of-a-component\" rel=\"nofollow noreferrer\">views / components</a> with <code>@PreserveOnRefresh</code> annotation. So if you have two views in your app like following, the <code>RegularView</code> will not be refreshed on reload.</p>\n<pre><code>@Route(&quot;preserve&quot;)\n@PreserveOnRefresh\npublic class PreservedView extends VerticalLayout {\n\n    public PreservedView() {\n        // ...\n    }\n}\n\n@Route(&quot;regular&quot;)\npublic class RegularView extends VerticalLayout {\n\n    public RegularView () {\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14325595,"reputation":91,"user_id":10347787,"display_name":"mackesmilian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635520402,"creation_date":1635511250,"question_id":69769047,"body_markdown":"So, I have a view which should preserve the state when a user reloads. This is easy to do and well documented. However, in one case I reload the page from the server side after the user performs a specific action in which case I would actually want the view to completely reload.\r\n\r\nIs there a way to differentiate between those cases and influence when the view should preserve its state? ","title":"Preserve View State in Vaadin only in specific cases","body":"<p>So, I have a view which should preserve the state when a user reloads. This is easy to do and well documented. However, in one case I reload the page from the server side after the user performs a specific action in which case I would actually want the view to completely reload.</p>\n<p>Is there a way to differentiate between those cases and influence when the view should preserve its state?</p>\n"},{"tags":["java","spring","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"score":0,"creation_date":1635511866,"post_id":69768246,"comment_id":123324881,"body_markdown":"please specify which data is not populated , could you please provide the service method where you are passing values to hibernate.","body":"please specify which data is not populated , could you please provide the service method where you are passing values to hibernate."}],"answers":[{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635520153,"creation_date":1635516106,"answer_id":69770242,"question_id":69768246,"body_markdown":"You have to mention fetch type in your mappings and also add getter and setter if not added to your entity like below.\r\n\r\n    @Entity\r\n    @Table(name = &quot;course_registration&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class CourseRegistration {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        @JoinColumn(name = &quot;student_id&quot;)\r\n        private Student student;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        @JoinColumn(name = &quot;course_id&quot;)\r\n        private Course course;\r\n    \r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Student {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;student&quot;)\r\n        private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\r\n        \r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;course&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Course {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;course&quot;)\r\n        private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\r\n        \r\n    }\r\n\r\nadd below dependency to enable getter and setter with lambok.\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;","title":"ManyToOne relationship does not populate new entity","body":"<p>You have to mention fetch type in your mappings and also add getter and setter if not added to your entity like below.</p>\n<pre><code>@Entity\n@Table(name = &quot;course_registration&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CourseRegistration {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JsonIgnore\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JsonIgnore\n    @JoinColumn(name = &quot;course_id&quot;)\n    private Course course;\n\n}\n\n\n@Entity\n@Table(name = &quot;student&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Student {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;student&quot;)\n    private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\n    \n}\n\n@Entity\n@Table(name = &quot;course&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Course {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;course&quot;)\n    private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\n    \n}\n</code></pre>\n<p>add below dependency to enable getter and setter with lambok.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635519415,"creation_date":1635519415,"answer_id":69770962,"question_id":69768246,"body_markdown":"My bet is that you are missing the cascade option on your `@OneToMany` annotation. Try the following:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;course&quot;)\r\npublic class Course {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;course&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\r\n\r\n    public Course() {}\r\n}\r\n```\r\n\r\n`ALL` means that the following operation are propagaed to the associated entity (in this case `CourseRegistration`): PERSIST, MERGE, REMOVE, REFRESH and DETACH.","title":"ManyToOne relationship does not populate new entity","body":"<p>My bet is that you are missing the cascade option on your <code>@OneToMany</code> annotation. Try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;course&quot;)\npublic class Course {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;course&quot;, cascade = CascadeType.ALL)\n    private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\n\n    public Course() {}\n}\n</code></pre>\n<p><code>ALL</code> means that the following operation are propagaed to the associated entity (in this case <code>CourseRegistration</code>): PERSIST, MERGE, REMOVE, REFRESH and DETACH.</p>\n"}],"owner":{"account_id":12346942,"reputation":115,"user_id":9007452,"display_name":"John Friday"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69770962,"answer_count":2,"score":-2,"last_activity_date":1635520153,"creation_date":1635507561,"question_id":69768246,"body_markdown":"My goal was to create a new entity to handle the problem with @ManyToMany relationship.\r\nI&#39;m wondering to audit new entity but hibernate does not populate the CourseRegistration-new entity with data.\r\n\r\n    @Entity\r\n    @Table(name = &quot;course_registration&quot;)\r\n    public class CourseRegistration {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;student_id&quot;)\r\n        private Student student;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;course_id&quot;)\r\n        private Course course;\r\n    \r\n        public CourseRegistration() {}\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;student&quot;)\r\n        private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\r\n    \r\n        public Student() {}\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;course&quot;)\r\n    public class Course {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;course&quot;)\r\n        private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\r\n    \r\n        public Course() {}\r\n    }","title":"ManyToOne relationship does not populate new entity","body":"<p>My goal was to create a new entity to handle the problem with @ManyToMany relationship.\nI'm wondering to audit new entity but hibernate does not populate the CourseRegistration-new entity with data.</p>\n<pre><code>@Entity\n@Table(name = &quot;course_registration&quot;)\npublic class CourseRegistration {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;course_id&quot;)\n    private Course course;\n\n    public CourseRegistration() {}\n}\n\n\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;student&quot;)\n    private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\n\n    public Student() {}\n}\n\n@Entity\n@Table(name = &quot;course&quot;)\npublic class Course {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;course&quot;)\n    private List&lt;CourseRegistration&gt; registrations = new ArrayList&lt;&gt;();\n\n    public Course() {}\n}\n</code></pre>\n"},{"tags":["java","spring","validation","get","annotations"],"comments":[{"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"score":0,"creation_date":1635517660,"post_id":69770254,"comment_id":123327591,"body_markdown":"put a @Valid after DateTimeFormat annotation","body":"put a @Valid after DateTimeFormat annotation"}],"answers":[{"tags":[],"owner":{"account_id":17689981,"reputation":31,"user_id":12841996,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635519836,"creation_date":1635519836,"answer_id":69771053,"question_id":69770254,"body_markdown":"On the controller side validate the date and if the date does not lie in specific range then pass error message.\r\n \r\n\r\n     SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n        LocalDate date1 = sdf.parse(&quot;30/01/2020&quot;);\r\n        LocalDate date2 = sdf.parse(&quot;30/01/2021&quot;);\r\n       int result = date1.compareTo(departureDate);\r\n       if(result&gt;0){\r\n        //date1 is after departure date \r\n       }\r\n     similarly, check both condition.","title":"How I can use the complex validation condition for GET request in Spring","body":"<p>On the controller side validate the date and if the date does not lie in specific range then pass error message.</p>\n<pre><code> SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\n    LocalDate date1 = sdf.parse(&quot;30/01/2020&quot;);\n    LocalDate date2 = sdf.parse(&quot;30/01/2021&quot;);\n   int result = date1.compareTo(departureDate);\n   if(result&gt;0){\n    //date1 is after departure date \n   }\n similarly, check both condition.\n</code></pre>\n"}],"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635519836,"creation_date":1635516151,"question_id":69770254,"body_markdown":"Suppose I need to validate the @RequestParam parameter in a GET request. Validation is complex and not basic.\r\nFor example, I want the date\r\n `@RequestParam (value = &quot;departureDate&quot;) @DateTimeFormat (pattern = &quot;dd.MM.yyyy&quot;) LocalDate departureDate)`\r\n was in the specified range.\r\nHow can I implement it?\r\n\r\nFor a POST request, I can write my own annotation, in it I need to refer to the request class as a parameter, in a GET request I do not have this class, there are only incoming @RequestParam parameters.\r\n\r\nI would be grateful for an example of complex validation for GET.","title":"How I can use the complex validation condition for GET request in Spring","body":"<p>Suppose I need to validate the @RequestParam parameter in a GET request. Validation is complex and not basic.\nFor example, I want the date\n<code>@RequestParam (value = &quot;departureDate&quot;) @DateTimeFormat (pattern = &quot;dd.MM.yyyy&quot;) LocalDate departureDate)</code>\nwas in the specified range.\nHow can I implement it?</p>\n<p>For a POST request, I can write my own annotation, in it I need to refer to the request class as a parameter, in a GET request I do not have this class, there are only incoming @RequestParam parameters.</p>\n<p>I would be grateful for an example of complex validation for GET.</p>\n"},{"tags":["java","spring-boot","tomcat","tomcat10"],"owner":{"account_id":16167826,"reputation":33,"user_id":11672357,"display_name":"Razilein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635525824,"answer_count":0,"score":1,"last_activity_date":1635519787,"creation_date":1635519787,"question_id":69771043,"body_markdown":"I wanted to check if my application is running with Apache Tomcat 10.0.12.\r\nIt works with Apache Tomcat 9.0.54 just fine.\r\n\r\nIn the manager the application is marked as running. The logfiles also say the application was deployed. There are no errors.\r\n\r\n```\r\n29-Oct-2021 16:53:38.111 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploye Web-Applikations-Verzeichnis [...\\Tomcat10\\webapps\\ROOT]\r\n29-Oct-2021 16:53:41.639 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n29-Oct-2021 16:53:41.653 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [...\\Tomcat10\\webapps\\ROOT] has finished in [3.541] ms\r\n```\r\n\r\nWhen opening my application in the browser I&#39;m getting this:\r\n\r\n```\r\nHTTP Status 404 ‚Äì nicht gefunden\r\nType Status Report\r\n\r\nMessage The requested resource [/] is not available\r\n\r\nBeschreibung The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\nApache Tomcat/10.0.12\r\n```\r\n\r\n\r\nHow can I check what the problem is? I&#39;ve tried to deploy my application with another context than ROOT but that changed nothing.\r\nAlso opening index.html didn&#39;t change anything.","title":"HTTP 400 - Java spring-boot webapp with tomcat 10 is not working","body":"<p>I wanted to check if my application is running with Apache Tomcat 10.0.12.\nIt works with Apache Tomcat 9.0.54 just fine.</p>\n<p>In the manager the application is marked as running. The logfiles also say the application was deployed. There are no errors.</p>\n<pre><code>29-Oct-2021 16:53:38.111 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploye Web-Applikations-Verzeichnis [...\\Tomcat10\\webapps\\ROOT]\n29-Oct-2021 16:53:41.639 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n29-Oct-2021 16:53:41.653 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [...\\Tomcat10\\webapps\\ROOT] has finished in [3.541] ms\n</code></pre>\n<p>When opening my application in the browser I'm getting this:</p>\n<pre><code>HTTP Status 404 ‚Äì nicht gefunden\nType Status Report\n\nMessage The requested resource [/] is not available\n\nBeschreibung The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\n\nApache Tomcat/10.0.12\n</code></pre>\n<p>How can I check what the problem is? I've tried to deploy my application with another context than ROOT but that changed nothing.\nAlso opening index.html didn't change anything.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1801288,"reputation":365,"user_id":1639576,"accept_rate":29,"display_name":"bharathp"},"score":0,"creation_date":1635506633,"post_id":69767755,"comment_id":123322923,"body_markdown":"I tried out your code and it seems to working fine. I see this when I call `approveBusiness` function\n`update business set approved=1 where business_id=?` Can you share the code where you are calling it from? Perhaps you are not calling the method.","body":"I tried out your code and it seems to working fine. I see this when I call <code>approveBusiness</code> function <code>update business set approved=1 where business_id=?</code> Can you share the code where you are calling it from? Perhaps you are not calling the method."},{"owner":{"account_id":19650469,"reputation":363,"user_id":14384426,"display_name":"perrywinkle"},"score":0,"creation_date":1635514086,"post_id":69767755,"comment_id":123325875,"body_markdown":"Hi, I&#39;m pretty sure it has nothing to do with not calling it because I have verified that. Although, I have discovered interesting behaviour where the approval would work for only users which I manually add into the database. Any ideas?","body":"Hi, I&#39;m pretty sure it has nothing to do with not calling it because I have verified that. Although, I have discovered interesting behaviour where the approval would work for only users which I manually add into the database. Any ideas?"}],"answers":[{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635517980,"creation_date":1635517980,"answer_id":69770636,"question_id":69767755,"body_markdown":"Can you please check that your primary key is of type Long But, you passed it in the string format? try to typecast to check if the problem is because of typecasting. \r\n\r\nAlso, make sure you are modifying the existing entity.","title":"Problem with JPA CrudRepository Update Query","body":"<p>Can you please check that your primary key is of type Long But, you passed it in the string format? try to typecast to check if the problem is because of typecasting.</p>\n<p>Also, make sure you are modifying the existing entity.</p>\n"},{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635519772,"creation_date":1635519772,"answer_id":69771041,"question_id":69767755,"body_markdown":"I think you need to specify the name of parameter like \r\n\r\n    void approveBusiness(@Param(&quot;businessId&quot;) String businessId); \r\n    // it&#39;s org.springframework.data.repository.query.Param class for import\r\n\r\nAs for rejectBusiness I would try additionally to Param change the annotation @Modifying as follows:\r\n    \r\n    @Modifying(clearAutomatically = true)\r\n    @Query(&quot;DELETE FROM Business WHERE businessId = :businessId&quot;)\r\n    void rejectBusiness(@Param(&quot;businessId&quot;) String businessId);\r\n\r\nTry removing @Transactional annotation for both methods","title":"Problem with JPA CrudRepository Update Query","body":"<p>I think you need to specify the name of parameter like</p>\n<pre><code>void approveBusiness(@Param(&quot;businessId&quot;) String businessId); \n// it's org.springframework.data.repository.query.Param class for import\n</code></pre>\n<p>As for rejectBusiness I would try additionally to Param change the annotation @Modifying as follows:</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Query(&quot;DELETE FROM Business WHERE businessId = :businessId&quot;)\nvoid rejectBusiness(@Param(&quot;businessId&quot;) String businessId);\n</code></pre>\n<p>Try removing @Transactional annotation for both methods</p>\n"}],"owner":{"account_id":19650469,"reputation":363,"user_id":14384426,"display_name":"perrywinkle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635519772,"creation_date":1635505268,"question_id":69767755,"body_markdown":"I am encountering issues with my repository which extends `CrudRepository`, specifically with the update and delete `queries`. The repository interface is as shown below:\r\n```package com.rmit.sept.bk_loginservices.Repositories;\r\n\r\nimport com.rmit.sept.bk_loginservices.model.Business;\r\nimport org.springframework.data.jpa.repository.Modifying;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Repository\r\npublic interface BusinessRepository extends CrudRepository&lt;Business, Long&gt; {\r\n\r\n    // Don&#39;t use `SELECT * FROM Business WHERE businessId = :businessId` it doesn&#39;t work!\r\n    @Query(&quot;FROM Business b WHERE b.userKey = :userKey&quot;)\r\n    Business getBusinessByUserPrimaryKey(Long userKey);\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Business b SET b.approved = 1 WHERE b.businessId = :businessId&quot;)\r\n    void approveBusiness(String businessId);\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;DELETE FROM Business WHERE businessId = :businessId&quot;)\r\n    void rejectBusiness(String businessId);\r\n}\r\n```\r\nFor whatever reason, the `approveBusiness` and `rejectBusiness` methods do not throw any errors and do not modify the MySQL database. I have no idea why it is doing this, and am struggling to locate the issue. So far, I have:\r\n1. Verified that the correct query is being executed by turning on `spring.jpa.show-sql=true`\r\n2. Verified that the controller and service layers are behaving as expected, and are passing in the correct `businessId` parameter.\r\n3. Removed and readded the `@Transactional` annotation at the class level and for each method(as shown)\r\n\r\nAny input would be great. \r\nHere is the configuration used in `application.properties`:\r\n```spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57InnoDBDialect\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n```\r\n\r\nand here is the Business class itself:\r\n```\r\npackage com.rmit.sept.bk_loginservices.model;\r\n\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name=&quot;business&quot;)\r\npublic class Business{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, name = &quot;businessId&quot;)\r\n    private String businessId;\r\n    @Column(name = &quot;approved&quot;)\r\n    private Boolean approved;\r\n    @Column(name = &quot;businessAddress&quot;)\r\n    private String businessAddress;\r\n    @Column(name = &quot;userKey&quot;)\r\n    private Long userKey;\r\n\r\n    // Hibernate needs this\r\n    public Business(){\r\n\r\n    }\r\n\r\n    public Business(String businessId, boolean isApproved, String businessAddress, Long userKey){\r\n        this.businessId = businessId;\r\n        this.approved = isApproved;\r\n        this.businessAddress = businessAddress;\r\n        this.userKey = userKey;\r\n    }\r\n\r\n    public Long getUserKey() {\r\n        return userKey;\r\n    }\r\n\r\n    public void setUserKey(Long userKey) {\r\n        this.userKey = userKey;\r\n    }\r\n\r\n    public String getBusinessAddress() {\r\n        return businessAddress;\r\n    }\r\n\r\n    public void setBusinessAddress(String businessAddress) {\r\n        this.businessAddress = businessAddress;\r\n    }\r\n\r\n    public String getBusinessId() {\r\n        return businessId;\r\n    }\r\n\r\n    public void setBusinessId(String businessId){\r\n        this.businessId = businessId;\r\n    }\r\n\r\n    public Boolean getApproved() {\r\n        return approved;\r\n    }\r\n\r\n    public void setApproved(Boolean isApproved) {\r\n        this.approved = isApproved;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```","title":"Problem with JPA CrudRepository Update Query","body":"<p>I am encountering issues with my repository which extends <code>CrudRepository</code>, specifically with the update and delete <code>queries</code>. The repository interface is as shown below:</p>\n<pre><code>\nimport com.rmit.sept.bk_loginservices.model.Business;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Repository\npublic interface BusinessRepository extends CrudRepository&lt;Business, Long&gt; {\n\n    // Don't use `SELECT * FROM Business WHERE businessId = :businessId` it doesn't work!\n    @Query(&quot;FROM Business b WHERE b.userKey = :userKey&quot;)\n    Business getBusinessByUserPrimaryKey(Long userKey);\n\n    @Modifying\n    @Transactional\n    @Query(&quot;UPDATE Business b SET b.approved = 1 WHERE b.businessId = :businessId&quot;)\n    void approveBusiness(String businessId);\n\n    @Modifying\n    @Transactional\n    @Query(&quot;DELETE FROM Business WHERE businessId = :businessId&quot;)\n    void rejectBusiness(String businessId);\n}\n</code></pre>\n<p>For whatever reason, the <code>approveBusiness</code> and <code>rejectBusiness</code> methods do not throw any errors and do not modify the MySQL database. I have no idea why it is doing this, and am struggling to locate the issue. So far, I have:</p>\n<ol>\n<li>Verified that the correct query is being executed by turning on <code>spring.jpa.show-sql=true</code></li>\n<li>Verified that the controller and service layers are behaving as expected, and are passing in the correct <code>businessId</code> parameter.</li>\n<li>Removed and readded the <code>@Transactional</code> annotation at the class level and for each method(as shown)</li>\n</ol>\n<p>Any input would be great.\nHere is the configuration used in <code>application.properties</code>:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57InnoDBDialect\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>and here is the Business class itself:</p>\n<pre><code>package com.rmit.sept.bk_loginservices.model;\n\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name=&quot;business&quot;)\npublic class Business{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, name = &quot;businessId&quot;)\n    private String businessId;\n    @Column(name = &quot;approved&quot;)\n    private Boolean approved;\n    @Column(name = &quot;businessAddress&quot;)\n    private String businessAddress;\n    @Column(name = &quot;userKey&quot;)\n    private Long userKey;\n\n    // Hibernate needs this\n    public Business(){\n\n    }\n\n    public Business(String businessId, boolean isApproved, String businessAddress, Long userKey){\n        this.businessId = businessId;\n        this.approved = isApproved;\n        this.businessAddress = businessAddress;\n        this.userKey = userKey;\n    }\n\n    public Long getUserKey() {\n        return userKey;\n    }\n\n    public void setUserKey(Long userKey) {\n        this.userKey = userKey;\n    }\n\n    public String getBusinessAddress() {\n        return businessAddress;\n    }\n\n    public void setBusinessAddress(String businessAddress) {\n        this.businessAddress = businessAddress;\n    }\n\n    public String getBusinessId() {\n        return businessId;\n    }\n\n    public void setBusinessId(String businessId){\n        this.businessId = businessId;\n    }\n\n    public Boolean getApproved() {\n        return approved;\n    }\n\n    public void setApproved(Boolean isApproved) {\n        this.approved = isApproved;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1635485411,"post_id":69763024,"comment_id":123315997,"body_markdown":"Set `implicitlyWait()` **before** using the driver for loading url.","body":"Set <code>implicitlyWait()</code> <b>before</b> using the driver for loading url."}],"owner":{"account_id":18320560,"reputation":160,"user_id":13341425,"display_name":"JackElia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635493478,"answer_count":0,"score":1,"last_activity_date":1635519497,"creation_date":1635475614,"question_id":69763024,"body_markdown":"My code in java only prints search half of the time when I use implicitlyWait() but when I use Thread.sleep() it always works. (The slider always ends up clicked) Why?\r\n```\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\r\n        ChromeDriver driver = new ChromeDriver();\r\n\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\r\n        String minerAddress = &quot;0fB3583c11320BB9c7F512e06ce9c3A9218568C9&quot;;\r\n        String ethermineURL = String.format(&quot;https://ethermine.org/miners/%s/dashboard&quot;, minerAddress);\r\n\r\n        driver.get(ethermineURL);\r\n        //Thread.sleep(5000);\r\n        String search = driver.findElement(By.xpath(&quot;//div[@class=&#39;active table-container&#39;]//tbody&quot;)).getText();\r\n\r\n        System.out.println(search);\r\n\r\n        driver.findElement(By.xpath(&quot;//div[@class=&#39;slider round&#39;]&quot;)).click();\r\n```\r\n\r\n","title":"Why does my selnium search only print an element half of the time with implicitlyWait?","body":"<p>My code in java only prints search half of the time when I use implicitlyWait() but when I use Thread.sleep() it always works. (The slider always ends up clicked) Why?</p>\n<pre><code>        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\n        ChromeDriver driver = new ChromeDriver();\n\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n\n        String minerAddress = &quot;0fB3583c11320BB9c7F512e06ce9c3A9218568C9&quot;;\n        String ethermineURL = String.format(&quot;https://ethermine.org/miners/%s/dashboard&quot;, minerAddress);\n\n        driver.get(ethermineURL);\n        //Thread.sleep(5000);\n        String search = driver.findElement(By.xpath(&quot;//div[@class='active table-container']//tbody&quot;)).getText();\n\n        System.out.println(search);\n\n        driver.findElement(By.xpath(&quot;//div[@class='slider round']&quot;)).click();\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635526488,"post_id":69770335,"comment_id":123331024,"body_markdown":"If &quot;the worker thread periodically runs every few minutes or so,&quot; Then what is the point of having more than one of them?","body":"If &quot;the worker thread periodically runs every few minutes or so,&quot; Then what is the point of having more than one of them?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635526675,"post_id":69770335,"comment_id":123331092,"body_markdown":"FYI: The `isEmpty()` method does _not_ tell you whether or not the queue is empty in a multi-threaded environment. It only tells you whether or not the queue _was_ empty at some moment in the very recent past. You can _make_ it tell whether the queue is empty by using an explicit mutex that all threads lock whenever they access the queue, but another way to deal with the problem would be to have your workers `poll()` the queue, and then sleep whenever the `poll()` returns nothing.","body":"FYI: The <code>isEmpty()</code> method does <i>not</i> tell you whether or not the queue is empty in a multi-threaded environment. It only tells you whether or not the queue <i>was</i> empty at some moment in the very recent past. You can <i>make</i> it tell whether the queue is empty by using an explicit mutex that all threads lock whenever they access the queue, but another way to deal with the problem would be to have your workers <code>poll()</code> the queue, and then sleep whenever the <code>poll()</code> returns nothing."}],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635519362,"creation_date":1635519362,"answer_id":69770944,"question_id":69770335,"body_markdown":"As you have well identified, calling isEmpty() and then poll() isn&#39;t thread safe unless you synchronize, but it&#39;s quite sad to do so with a concurrent datastructure.\r\n\r\nIn fact you shouldn&#39;t call isEmpty() beforehand. Whether you call take() and it blocks until there&#39;s an item, or you call poll() directly without checking isEmpty() first and know that, if you get null, then it means that the queue was empty.\r\nYou also have the intermediate option between take() and poll() by specifying a time limit.\r\n\r\nI suggest you to use poll() directly and handle null, like so:\r\n\r\n    while (true) {\r\n      Integer itemId = idsOfItemsToDelete.poll();\r\n      if (itemId==null) break;\r\n      job.addSubAssignment(DeletionAssignment.of(itemId));\r\n    }\r\n\r\nEven if several threads execute this same code concurrently, you are guaranteed to not get twice the same item. However, retrieval won&#39;t be equally distributed, i.e. it may happen that one of the thread take all items and the other take none.","title":"Thread safely while polling a blocking queue in a while loop","body":"<p>As you have well identified, calling isEmpty() and then poll() isn't thread safe unless you synchronize, but it's quite sad to do so with a concurrent datastructure.</p>\n<p>In fact you shouldn't call isEmpty() beforehand. Whether you call take() and it blocks until there's an item, or you call poll() directly without checking isEmpty() first and know that, if you get null, then it means that the queue was empty.\nYou also have the intermediate option between take() and poll() by specifying a time limit.</p>\n<p>I suggest you to use poll() directly and handle null, like so:</p>\n<pre><code>while (true) {\n  Integer itemId = idsOfItemsToDelete.poll();\n  if (itemId==null) break;\n  job.addSubAssignment(DeletionAssignment.of(itemId));\n}\n</code></pre>\n<p>Even if several threads execute this same code concurrently, you are guaranteed to not get twice the same item. However, retrieval won't be equally distributed, i.e. it may happen that one of the thread take all items and the other take none.</p>\n"}],"owner":{"account_id":16155509,"reputation":43,"user_id":11662812,"display_name":"varlog23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635519362,"creation_date":1635516516,"question_id":69770335,"body_markdown":"Consider the below example where an `ItemDeletionManager` can enqueue items to delete.\r\nA worker thread can call it&#39;s `createJob()` method that will create a compound job to delete all items at once.\r\nAssume that the worker thread periodically runs every few minutes or so. But items to delete can get enqueued every few seconds. This is why it&#39;s necessary to create a compound job and not have the worker create one job for one item on each iteration.\r\n\r\nIf we now have two workers that share the same manager like below,\r\n\r\n```\r\nItemDeletionManager itemManager = new ItemDeletionManager();\r\n\r\nDeletionWorker a = new DeletionWorker(itemManager);\r\nDeletionWorker b = new DeletionWorker(itemManager);\r\n\r\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(2);\r\nscheduledExecutorService.scheduleAtFixedRate(a, 0, 10, TimeUnit.MINUTES);\r\nscheduledExecutorService.scheduleAtFixedRate(b, 0, 10, TimeUnit.MINUTES);\r\n```\r\n\r\nI could end up in a situation where there is exactly one item to delete, and both workers have validated that the blocking queue isn&#39;t empty. But after one thread polls for the item to delete and creats it&#39;s deletion assignment, the second worker gets a `null` and ends up creating a deletion assignment of null.\r\n\r\nThe easiest option would be to `synchronize` `ItemDeletionManager`&#39;s create job. But is there a better solution?\r\n\r\n```\r\n\r\n/**\r\n * Worker that executes ItemDeletionManager&#39;s create job.\r\n */\r\nclass DeletionWorker implements Runnable {\r\n\r\n\tItemDeletionManager itemManager;\r\n\r\n\tpublic DeletionWorker(ItemDeletionManager itemManager) {\r\n\t\tthis.itemManager = itemManager;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\titemManager.createJob();\r\n\t}\r\n}\r\n\r\n/**\r\n * Manages deletion of Items.\r\n */\r\nclass ItemDeletionManager {\r\n\r\n\tprivate final Queue&lt;Integer&gt; idsOfItemsToDelete;\r\n\r\n\tpublic ItemDeletionManager() {\r\n\t\tthis.idsOfItemsToDelete = new LinkedBlockingQueue&lt;&gt;();\r\n\t}\r\n\r\n\tpublic void enqueue(int itemId) {\r\n\t\tthis.idsOfItemsToDelete.add(itemId);\r\n\t}\r\n\r\n\tpublic CompoundJob createJob() {\r\n\t\tCompoundJob job = new CompoundJob();\r\n\t\twhile (!idsOfItemsToDelete.isEmpty()) {\r\n\t\t\t// 2 threads can reach this point at the same time\r\n\t\t\tInteger itemId = idsOfItemsToDelete.poll();\r\n\t\t\tjob.addSubAssignment(DeletionAssignment.of(itemId));\r\n\t\t}\r\n\t\treturn job;\r\n\t}\r\n}\r\n\r\n/**\r\n * Implementers of this handle its respective requirement.\r\n * Eg: DeletionAssignment handles deletion of item, CreationAssignment handles creation of item and so on..\r\n */\r\ninterface Assignment {\r\n\r\n\tvoid execute();\r\n}\r\n\r\n/**\r\n * Executes a collection of assignments.\r\n */\r\nclass CompoundJob {\r\n\r\n\tprivate final List&lt;Assignment&gt; subAssignments = new ArrayList&lt;&gt;();\r\n\r\n\tpublic void addSubAssignment(Assignment assignment) {\r\n\t\tsubAssignments.add(assignment);\r\n\t}\r\n\r\n\tpublic void doJob() {\r\n\t\tfor (Assignment assignment : subAssignments) {\r\n\t\t\tassignment.execute();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Thread safely while polling a blocking queue in a while loop","body":"<p>Consider the below example where an <code>ItemDeletionManager</code> can enqueue items to delete.\nA worker thread can call it's <code>createJob()</code> method that will create a compound job to delete all items at once.\nAssume that the worker thread periodically runs every few minutes or so. But items to delete can get enqueued every few seconds. This is why it's necessary to create a compound job and not have the worker create one job for one item on each iteration.</p>\n<p>If we now have two workers that share the same manager like below,</p>\n<pre><code>ItemDeletionManager itemManager = new ItemDeletionManager();\n\nDeletionWorker a = new DeletionWorker(itemManager);\nDeletionWorker b = new DeletionWorker(itemManager);\n\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(2);\nscheduledExecutorService.scheduleAtFixedRate(a, 0, 10, TimeUnit.MINUTES);\nscheduledExecutorService.scheduleAtFixedRate(b, 0, 10, TimeUnit.MINUTES);\n</code></pre>\n<p>I could end up in a situation where there is exactly one item to delete, and both workers have validated that the blocking queue isn't empty. But after one thread polls for the item to delete and creats it's deletion assignment, the second worker gets a <code>null</code> and ends up creating a deletion assignment of null.</p>\n<p>The easiest option would be to <code>synchronize</code> <code>ItemDeletionManager</code>'s create job. But is there a better solution?</p>\n<pre><code>\n/**\n * Worker that executes ItemDeletionManager's create job.\n */\nclass DeletionWorker implements Runnable {\n\n    ItemDeletionManager itemManager;\n\n    public DeletionWorker(ItemDeletionManager itemManager) {\n        this.itemManager = itemManager;\n    }\n\n    @Override\n    public void run() {\n        itemManager.createJob();\n    }\n}\n\n/**\n * Manages deletion of Items.\n */\nclass ItemDeletionManager {\n\n    private final Queue&lt;Integer&gt; idsOfItemsToDelete;\n\n    public ItemDeletionManager() {\n        this.idsOfItemsToDelete = new LinkedBlockingQueue&lt;&gt;();\n    }\n\n    public void enqueue(int itemId) {\n        this.idsOfItemsToDelete.add(itemId);\n    }\n\n    public CompoundJob createJob() {\n        CompoundJob job = new CompoundJob();\n        while (!idsOfItemsToDelete.isEmpty()) {\n            // 2 threads can reach this point at the same time\n            Integer itemId = idsOfItemsToDelete.poll();\n            job.addSubAssignment(DeletionAssignment.of(itemId));\n        }\n        return job;\n    }\n}\n\n/**\n * Implementers of this handle its respective requirement.\n * Eg: DeletionAssignment handles deletion of item, CreationAssignment handles creation of item and so on..\n */\ninterface Assignment {\n\n    void execute();\n}\n\n/**\n * Executes a collection of assignments.\n */\nclass CompoundJob {\n\n    private final List&lt;Assignment&gt; subAssignments = new ArrayList&lt;&gt;();\n\n    public void addSubAssignment(Assignment assignment) {\n        subAssignments.add(assignment);\n    }\n\n    public void doJob() {\n        for (Assignment assignment : subAssignments) {\n            assignment.execute();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","api","dart"],"owner":{"account_id":18542843,"reputation":11,"user_id":13510935,"display_name":"saeed pouryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635519223,"creation_date":1635519223,"question_id":69770913,"body_markdown":"I published the app and I encounter an error on some devices (Android)\r\n\r\nOn some devices, the app does not connect to the web service (API) to send or receive information This problem occurs in the Android version\r\n\r\nI also put the Android Permission in AndroidManifest But it does not work\r\n\r\nOne of the devices : Samsung Galaxy A10 | Android 8\r\n\r\nThis device has this version installed : `v7a`\r\n \r\n\r\n\r\n\r\nAndroidManifest.xml :\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       package=&quot;com.example.test&quot;&gt;\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n\r\n    &lt;queries&gt;\r\n      &lt;intent&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;data android:scheme=&quot;https&quot; /&gt;\r\n      &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;io.flutter.app.FlutterApplication&quot;\r\n        android:label=&quot;test&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n\r\n        &lt;activity\r\n          android:name=&quot;com.yalantis.ucrop.UCropActivity&quot;\r\n          android:screenOrientation=&quot;portrait&quot;\r\n          android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;/&gt;\r\n       \r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            \r\n            &lt;meta-data\r\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n              android:resource=&quot;@style/NormalTheme&quot;\r\n              /&gt;\r\n            \r\n            &lt;meta-data\r\n              android:name= &quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\r\n              android:resource=&quot;@drawable/launch_background&quot;\r\n              /&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n            \r\n\r\n            &lt;intent-filter&gt;\r\n              &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n              &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n              &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n              &lt;!-- Accepts URIs that begin with YOUR_SCHEME://YOUR_HOST --&gt;\r\n              &lt;data android:scheme=&quot;test&quot; android:host=&quot;transaction-ok&quot; /&gt;\r\n              &lt;data android:scheme=&quot;test&quot; android:host=&quot;transaction-faild&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n\r\n        &lt;/activity&gt;\r\n        &lt;!-- Don&#39;t delete the meta-data below.\r\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;flutterEmbedding&quot;\r\n            android:value=&quot;2&quot; /&gt;\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\n\r\nnetworkSecurityConfig : [https://i.stack.imgur.com/jZGdL.png][1]\r\n\r\n\r\nand my code :\r\n\r\n    static Future loginCode(String phone) async {\r\n\r\n        String url = &#39;https://panel.test.ir/api/v1/login_code/lawyer&#39;;\r\n\r\n        try{\r\n          var response = await http.post(\r\n            url,\r\n            body: {\r\n              &quot;mobile_number&quot;: phone\r\n            },\r\n            headers: {\r\n              accept : acceptValue\r\n            }\r\n          ).timeout(Duration(seconds: 30));\r\n          print(response.statusCode);\r\n\r\n          var data = jsonDecode(response.body);\r\n\r\n          try{\r\n            showToast(data[&#39;message&#39;]);\r\n          }catch(e){}\r\n\r\n          if(response.statusCode == 200){\r\n        \r\n            if(data[&#39;new_user&#39;] == null){\r\n              return false;\r\n            }else{\r\n              return true;\r\n            }\r\n      \r\n          }else{\r\n            showError(response);\r\n            return null;\r\n          }\r\n        }catch(e){\r\n          showToast(&quot;Send Data Error&quot;);\r\n          return null;\r\n        }\r\n    }\r\n  \r\n\r\n\r\n\r\nAnd after 30 seconds, the request will be canceled automatically\r\n\r\n\r\nandroid -&gt; app -&gt; BG: [image][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jZGdL.png\r\n  [2]: https://i.stack.imgur.com/MWMMh.png","title":"Flutter does not connect to the server on some devices In Release Mode","body":"<p>I published the app and I encounter an error on some devices (Android)</p>\n<p>On some devices, the app does not connect to the web service (API) to send or receive information This problem occurs in the Android version</p>\n<p>I also put the Android Permission in AndroidManifest But it does not work</p>\n<p>One of the devices : Samsung Galaxy A10 | Android 8</p>\n<p>This device has this version installed : <code>v7a</code></p>\n<p>AndroidManifest.xml :</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   package=&quot;com.example.test&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n\n&lt;queries&gt;\n  &lt;intent&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot; /&gt;\n  &lt;/intent&gt;\n&lt;/queries&gt;\n\n&lt;application\n    android:name=&quot;io.flutter.app.FlutterApplication&quot;\n    android:label=&quot;test&quot;\n    android:usesCleartextTraffic=&quot;true&quot;\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n\n    &lt;activity\n      android:name=&quot;com.yalantis.ucrop.UCropActivity&quot;\n      android:screenOrientation=&quot;portrait&quot;\n      android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;/&gt;\n   \n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:launchMode=&quot;singleTop&quot;\n        android:theme=&quot;@style/LaunchTheme&quot;\n        android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n        \n        &lt;meta-data\n          android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n          android:resource=&quot;@style/NormalTheme&quot;\n          /&gt;\n        \n        &lt;meta-data\n          android:name= &quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\n          android:resource=&quot;@drawable/launch_background&quot;\n          /&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n        &lt;/intent-filter&gt;\n        \n\n        &lt;intent-filter&gt;\n          &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n          &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n          &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n          &lt;!-- Accepts URIs that begin with YOUR_SCHEME://YOUR_HOST --&gt;\n          &lt;data android:scheme=&quot;test&quot; android:host=&quot;transaction-ok&quot; /&gt;\n          &lt;data android:scheme=&quot;test&quot; android:host=&quot;transaction-faild&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n\n    &lt;/activity&gt;\n    &lt;!-- Don't delete the meta-data below.\n         This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n    &lt;meta-data\n        android:name=&quot;flutterEmbedding&quot;\n        android:value=&quot;2&quot; /&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>networkSecurityConfig : <a href=\"https://i.stack.imgur.com/jZGdL.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jZGdL.png</a></p>\n<p>and my code :</p>\n<pre><code>static Future loginCode(String phone) async {\n\n    String url = 'https://panel.test.ir/api/v1/login_code/lawyer';\n\n    try{\n      var response = await http.post(\n        url,\n        body: {\n          &quot;mobile_number&quot;: phone\n        },\n        headers: {\n          accept : acceptValue\n        }\n      ).timeout(Duration(seconds: 30));\n      print(response.statusCode);\n\n      var data = jsonDecode(response.body);\n\n      try{\n        showToast(data['message']);\n      }catch(e){}\n\n      if(response.statusCode == 200){\n    \n        if(data['new_user'] == null){\n          return false;\n        }else{\n          return true;\n        }\n  \n      }else{\n        showError(response);\n        return null;\n      }\n    }catch(e){\n      showToast(&quot;Send Data Error&quot;);\n      return null;\n    }\n}\n</code></pre>\n<p>And after 30 seconds, the request will be canceled automatically</p>\n<p>android -&gt; app -&gt; BG: <a href=\"https://i.stack.imgur.com/MWMMh.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635518798,"creation_date":1635518798,"answer_id":69770826,"question_id":44277172,"body_markdown":"You don&#39;t mention what server you&#39;re trying to connect to, but I ran into the &quot;A3 BAD User is authenticated but not connected&quot; error with imap and outlook.office365.com. I tried to set up the same account in Outlook to make sure it was working in general. Although I was able to add the account, when I actually tried to look at the inbox Outlook became unresponsive. So in my case, it was a problem with the account in general, not with how I was trying to connect.  I was able to connect successfully with pop3 in case that&#39;s an option for you.","title":"How to fix the intermittent issue when dealing with spring integration?","body":"<p>You don't mention what server you're trying to connect to, but I ran into the &quot;A3 BAD User is authenticated but not connected&quot; error with imap and outlook.office365.com. I tried to set up the same account in Outlook to make sure it was working in general. Although I was able to add the account, when I actually tried to look at the inbox Outlook became unresponsive. So in my case, it was a problem with the account in general, not with how I was trying to connect.  I was able to connect successfully with pop3 in case that's an option for you.</p>\n"}],"owner":{"account_id":2714662,"reputation":53,"user_id":2342297,"display_name":"VIJAYKUMAR SUBRAMANI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635518798,"creation_date":1496211864,"question_id":44277172,"body_markdown":"We are using spring integration to poll the emails from outlook box.\r\n\r\nIntermittently, we are seeing these exceptions.\r\n\r\n**Javax.mail.MessagingException: A4400 NO Server Unavailable\r\njavax.mail.MessagingException: A3 BAD User is authenticated but not connected.;**\r\n\r\n02:20:03.858 [task-scheduler-2] ERROR o.s.i.handler.LoggingHandler - org.springframework.messaging.MessagingException: failure occurred while polling for mail; nested exception is javax.mail.MessagingException: A4400 NO Server Unavailabl\r\ne. 15;\r\n  nested exception is:\r\n        com.sun.mail.iap.CommandFailedException: A4400 NO Server Unavailable. 15\r\n        at org.springframework.integration.mail.MailReceivingMessageSource.receive(MailReceivingMessageSource.java:131)\r\n        at org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:224)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:245)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.access$000(AbstractPollingEndpoint.java:58)\r\n\r\n\r\n\r\n02:20:05.321 [task-scheduler-2] ERROR o.s.i.handler.LoggingHandler - org.springframework.messaging.MessagingException: failure occurred while polling for mail; nested exception is javax.mail.MessagingException: A3 BAD User is authenticated but not connected.;\r\n  nested exception is:\r\n        com.sun.mail.iap.BadCommandException: A3 BAD User is authenticated but not connected.\r\n: at org.springframework.integration.mail.MailReceivingMessageSource.receive(MailReceivingMessageSource.java:131)\r\n\r\n**Code snippet:**\r\n\r\n@Bean\r\n    public IntegrationFlow imapIdleFlow() {\r\n        return IntegrationFlows\r\n            .from(\r\n                Mail.imapInboundAdapter()\r\n                    .searchTermStrategy((f, l) -&gt;)\r\n                    .javaMailProperties(p -&gt; p\r\n                        .put(&quot;mail.debug&quot;, )\r\n                        .put(&quot;mail.imap.connectionpoolsize&quot;, ))\r\n                   \r\nI don&#39;t get the solution When I surfed the solution for this.\r\n            ","title":"How to fix the intermittent issue when dealing with spring integration?","body":"<p>We are using spring integration to poll the emails from outlook box.</p>\n\n<p>Intermittently, we are seeing these exceptions.</p>\n\n<p><strong>Javax.mail.MessagingException: A4400 NO Server Unavailable\njavax.mail.MessagingException: A3 BAD User is authenticated but not connected.;</strong></p>\n\n<p>02:20:03.858 [task-scheduler-2] ERROR o.s.i.handler.LoggingHandler - org.springframework.messaging.MessagingException: failure occurred while polling for mail; nested exception is javax.mail.MessagingException: A4400 NO Server Unavailabl\ne. 15;\n  nested exception is:\n        com.sun.mail.iap.CommandFailedException: A4400 NO Server Unavailable. 15\n        at org.springframework.integration.mail.MailReceivingMessageSource.receive(MailReceivingMessageSource.java:131)\n        at org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:224)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:245)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.access$000(AbstractPollingEndpoint.java:58)</p>\n\n<p>02:20:05.321 [task-scheduler-2] ERROR o.s.i.handler.LoggingHandler - org.springframework.messaging.MessagingException: failure occurred while polling for mail; nested exception is javax.mail.MessagingException: A3 BAD User is authenticated but not connected.;\n  nested exception is:\n        com.sun.mail.iap.BadCommandException: A3 BAD User is authenticated but not connected.\n: at org.springframework.integration.mail.MailReceivingMessageSource.receive(MailReceivingMessageSource.java:131)</p>\n\n<p><strong>Code snippet:</strong></p>\n\n<p>@Bean\n    public IntegrationFlow imapIdleFlow() {\n        return IntegrationFlows\n            .from(\n                Mail.imapInboundAdapter()\n                    .searchTermStrategy((f, l) ->)\n                    .javaMailProperties(p -> p\n                        .put(\"mail.debug\", )\n                        .put(\"mail.imap.connectionpoolsize\", ))</p>\n\n<p>I don't get the solution When I surfed the solution for this.</p>\n"},{"tags":["java","spring","spring-boot","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":3069371,"reputation":91,"user_id":2600402,"display_name":"Fosizzle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635518197,"creation_date":1635518197,"answer_id":69770687,"question_id":69770556,"body_markdown":"Mockito doesn&#39;t know what to do - you can do it manually though: \r\n\r\n```\r\n @Before\r\n    public void setUp() {\r\n        String[] items = new String[2];\r\n        items[0] = &quot;a&quot;;\r\n        items[1] = &quot;b&quot;;\r\n        ReflectionTestUtils.setField(controller, &quot;items&quot;, \r\n               items);\r\n    }\r\n```","title":"@Value coming as null in junit 5","body":"<p>Mockito doesn't know what to do - you can do it manually though:</p>\n<pre><code> @Before\n    public void setUp() {\n        String[] items = new String[2];\n        items[0] = &quot;a&quot;;\n        items[1] = &quot;b&quot;;\n        ReflectionTestUtils.setField(controller, &quot;items&quot;, \n               items);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635518782,"creation_date":1635518782,"answer_id":69770824,"question_id":69770556,"body_markdown":"Naturally, we&#39;ll need a properties file to define the values we want to inject with the @Value annotation. And so, we&#39;ll first need to define a @PropertySource in our configuration class ‚Äî with the properties file name.\r\n\r\n    @PropertySource(&quot;classpath:values.properties&quot;)\r\n    class ControllerClass {\r\n\r\n    @Value(&quot;${app.items}&quot;)\r\n    String[] items; -- coming as null while running test cases\r\n    \r\n    // remaing code \r\n    \r\n    }\r\n\r\nif it is not working use **. properties** file like mentioned [here](https://www.baeldung.com/spring-value-annotation).","title":"@Value coming as null in junit 5","body":"<p>Naturally, we'll need a properties file to define the values we want to inject with the @Value annotation. And so, we'll first need to define a @PropertySource in our configuration class ‚Äî with the properties file name.</p>\n<pre><code>@PropertySource(&quot;classpath:values.properties&quot;)\nclass ControllerClass {\n\n@Value(&quot;${app.items}&quot;)\nString[] items; -- coming as null while running test cases\n\n// remaing code \n\n}\n</code></pre>\n<p>if it is not working use <strong>. properties</strong> file like mentioned <a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3895538,"reputation":517,"user_id":3224680,"accept_rate":50,"display_name":"r-developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69770687,"answer_count":2,"score":2,"last_activity_date":1635518782,"creation_date":1635517628,"question_id":69770556,"body_markdown":"I am testing my application but while running the test cases I am getting NUllPointer Exception as it&#39;s not able to map the value from YML file.\r\n\r\nCan you please let me know how to achieve this ?\r\n\r\n**ControllerClass**\r\n\r\n    class ControllerClass {\r\n    \r\n    @Value(&quot;${app.items}&quot;)\r\n    String[] items; -- coming as null while running test cases\r\n    \r\n    // remaing code \r\n    \r\n    }\r\n\r\n**application-test.yml**\r\n\r\n    app:\r\n     items: a, b, c, d\r\n\r\n**Test class**\r\n\r\n    @SpringJUnitConfig\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test)\r\n    class TestControllerClass {\r\n    \r\n    @InjectMock\r\n    ControllerClass controller;\r\n    \r\n    @Mock\r\n    ServiceClass service;\r\n    \r\n    @Test\r\n    //test case\r\n    \r\n    }\r\n\r\n","title":"@Value coming as null in junit 5","body":"<p>I am testing my application but while running the test cases I am getting NUllPointer Exception as it's not able to map the value from YML file.</p>\n<p>Can you please let me know how to achieve this ?</p>\n<p><strong>ControllerClass</strong></p>\n<pre><code>class ControllerClass {\n\n@Value(&quot;${app.items}&quot;)\nString[] items; -- coming as null while running test cases\n\n// remaing code \n\n}\n</code></pre>\n<p><strong>application-test.yml</strong></p>\n<pre><code>app:\n items: a, b, c, d\n</code></pre>\n<p><strong>Test class</strong></p>\n<pre><code>@SpringJUnitConfig\n@SpringBootTest\n@ActiveProfiles(&quot;test)\nclass TestControllerClass {\n\n@InjectMock\nControllerClass controller;\n\n@Mock\nServiceClass service;\n\n@Test\n//test case\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3801676,"reputation":2535,"user_id":3155154,"accept_rate":88,"display_name":"Nitek"},"score":0,"creation_date":1446278770,"post_id":33449280,"comment_id":54686168,"body_markdown":"I&#39;m guessing the JSON you did post here is not exactly the JSON you are trying to parse - Are you sure you made an exact copy?","body":"I&#39;m guessing the JSON you did post here is not exactly the JSON you are trying to parse - Are you sure you made an exact copy?"},{"owner":{"account_id":7071029,"reputation":39,"user_id":5412625,"accept_rate":9,"display_name":"simon peter"},"score":0,"creation_date":1446281011,"post_id":33449280,"comment_id":54686558,"body_markdown":"yes it is an exact copy","body":"yes it is an exact copy"},{"owner":{"account_id":1402515,"reputation":4978,"user_id":1331011,"accept_rate":100,"display_name":"Wormbo"},"score":0,"creation_date":1446288062,"post_id":33449280,"comment_id":54688192,"body_markdown":"Please show the code you use to process the JSON data.","body":"Please show the code you use to process the JSON data."},{"owner":{"account_id":7071029,"reputation":39,"user_id":5412625,"accept_rate":9,"display_name":"simon peter"},"score":0,"creation_date":1446289293,"post_id":33449280,"comment_id":54688521,"body_markdown":"can u please check my code now","body":"can u please check my code now"}],"answers":[{"tags":[],"owner":{"account_id":3005685,"reputation":1397,"user_id":2550273,"accept_rate":50,"display_name":"Rustam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446286647,"creation_date":1446286647,"answer_id":33450450,"question_id":33449280,"body_markdown":"You have an array of EventBO, but trying to read as object. If you unmarshal like this:\r\n\r\n    EventBO bo = gson.fromJson(JSON, EventBO.class);\r\n\r\nthan you will receive error &quot;java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $&quot;\r\n\r\nBut if you change code to:\r\n\r\n    EventBO[] list = gson.fromJson(JSON, EventBO[].class);\r\n\r\nyou successfully unmarshal this json\r\n\r\nP.S. Tested with Gson 2.4","title":"How to solve the issue &quot;Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $&quot;","body":"<p>You have an array of EventBO, but trying to read as object. If you unmarshal like this:</p>\n\n<pre><code>EventBO bo = gson.fromJson(JSON, EventBO.class);\n</code></pre>\n\n<p>than you will receive error \"java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\"</p>\n\n<p>But if you change code to:</p>\n\n<pre><code>EventBO[] list = gson.fromJson(JSON, EventBO[].class);\n</code></pre>\n\n<p>you successfully unmarshal this json</p>\n\n<p>P.S. Tested with Gson 2.4</p>\n"},{"tags":[],"owner":{"account_id":14401721,"reputation":1213,"user_id":10403133,"display_name":"Nasib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635518688,"creation_date":1635518688,"answer_id":69770804,"question_id":33449280,"body_markdown":"    Kotlin\r\n\r\nLate answer and i don&#39;t think many face this issue but, i was dealing with a dumb server, that returned the data however it wanted, strange huh?\r\nyes,\r\n\r\n    //response 1\r\n    {\r\n    &quot;genre&quot;:&quot;drama,thriller&quot;\r\n    }\r\n    \r\n    //response 2\r\n    {\r\n    &quot;genre&quot;:null\r\n    }\r\n    \r\n    //response 3\r\n    {\r\n    &quot;genre&quot;:[&quot;drama&quot;, &quot;action&quot;, &quot;blah&quot;, &quot;blah&quot;]\r\n    }\r\n\r\nYou can think how unfair this is.\r\n\r\ni so changed my genre&#39;s data type to `Any?`\r\n\r\nlike\r\n\r\n    data class Model(...\r\n    ....\r\n    val genre:Any?\r\n    ...\r\n    )\r\n\r\n\r\nnow to use it, i do something like this\r\n  \r\n\r\n    movieInfo.mInfo.genre?.let {\r\n                      if (it is String) {\r\n                         tv_genre.text = it\r\n                      } else if (it is List&lt;*&gt;) {\r\n                         val builder = StringBuilder()\r\n                         it.forEach {\r\n                            if (it is String) {\r\n                               builder.append(it)\r\n                            }\r\n                         }\r\n                         tv_genre.text = builder.toString()\r\n                      }\r\n                   }","title":"How to solve the issue &quot;Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $&quot;","body":"<pre><code>Kotlin\n</code></pre>\n<p>Late answer and i don't think many face this issue but, i was dealing with a dumb server, that returned the data however it wanted, strange huh?\nyes,</p>\n<pre><code>//response 1\n{\n&quot;genre&quot;:&quot;drama,thriller&quot;\n}\n\n//response 2\n{\n&quot;genre&quot;:null\n}\n\n//response 3\n{\n&quot;genre&quot;:[&quot;drama&quot;, &quot;action&quot;, &quot;blah&quot;, &quot;blah&quot;]\n}\n</code></pre>\n<p>You can think how unfair this is.</p>\n<p>i so changed my genre's data type to <code>Any?</code></p>\n<p>like</p>\n<pre><code>data class Model(...\n....\nval genre:Any?\n...\n)\n</code></pre>\n<p>now to use it, i do something like this</p>\n<pre><code>movieInfo.mInfo.genre?.let {\n                  if (it is String) {\n                     tv_genre.text = it\n                  } else if (it is List&lt;*&gt;) {\n                     val builder = StringBuilder()\n                     it.forEach {\n                        if (it is String) {\n                           builder.append(it)\n                        }\n                     }\n                     tv_genre.text = builder.toString()\n                  }\n               }\n</code></pre>\n"}],"owner":{"account_id":7071029,"reputation":39,"user_id":5412625,"accept_rate":9,"display_name":"simon peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635518688,"creation_date":1446277420,"question_id":33449280,"body_markdown":"I am getting &quot;Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $&quot; when I am retrieve the list from database.How to fix this issue where I am mistaken in my code..thanks in advance.\r\n\r\n\r\nJson response I am getting is below,\r\n\r\n  \r\n\r\n   \r\n\r\n       [{\r\n        &quot;eventId&quot;:1,\r\n        &quot;ringeeUserId&quot;:2,\r\n        &quot;text&quot;:&quot;Reception1&quot;,\r\n        &quot;place&quot;:&quot;Erode&quot;,\r\n        &quot;eventDate&quot;:&quot;2015-10-03&quot;,\r\n        &quot;startTime&quot;:&quot;09:00 AM&quot;,\r\n        &quot;endTime&quot;:&quot;12:00 PM&quot;,\r\n        &quot;isActive&quot;:0,\r\n        &quot;isDelete&quot;:0,\r\n        &quot;eventUserRelationBOs&quot;:[]\r\n        }]\r\n\r\n   \r\nEventBO class file is below, \r\n\r\n     package com.ringeeapp.service.businessobjects;\r\n    \r\n        import java.io.Serializable;\r\n        import java.util.List;\r\n    \r\n        public class EventBO implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 281625146097131515L;\r\n    \r\n    \tprivate long eventId;\r\n    \r\n    \tprivate long ringeeUserId;\r\n    \r\n    \tprivate String text;\r\n    \r\n    \tprivate String place;\r\n    \r\n    \tprivate String eventDate;\r\n    \r\n    \tprivate String startTime;\r\n    \r\n    \tprivate String endTime;\r\n    \t\r\n    \tprivate int isActive;\r\n    \r\n    \tprivate int isDelete;\r\n    \t \t\r\n    \tprivate List&lt;EventUserRelationBO&gt; eventUserRelationBOs;\r\n    \r\n    \tpublic long getEventId() {\r\n    \t\treturn eventId;\r\n    \t}\r\n    \r\n    \tpublic void setEventId(long eventId) {\r\n    \t\tthis.eventId = eventId;\r\n    \t}\r\n    \r\n    \tpublic long getRingeeUserId() {\r\n    \t\treturn ringeeUserId;\r\n    \t}\r\n    \r\n    \tpublic void setRingeeUserId(long ringeeUserId) {\r\n    \t\tthis.ringeeUserId = ringeeUserId;\r\n    \t}\r\n    \r\n    \tpublic String getText() {\r\n    \t\treturn text;\r\n    \t}\r\n    \r\n    \tpublic void setText(String text) {\r\n    \t\tthis.text = text;\r\n    \t}\r\n    \r\n    \tpublic String getPlace() {\r\n    \t\treturn place;\r\n    \t}\r\n    \r\n    \tpublic void setPlace(String place) {\r\n    \t\tthis.place = place;\r\n    \t}\r\n    \r\n    \tpublic String getEventDate() {\r\n    \t\treturn eventDate;\r\n    \t}\r\n    \r\n    \tpublic void setEventDate(String eventDate) {\r\n    \t\tthis.eventDate = eventDate;\r\n    \t}\r\n    \r\n    \tpublic String getStartTime() {\r\n    \t\treturn startTime;\r\n    \t}\r\n    \r\n    \tpublic void setStartTime(String startTime) {\r\n    \t\tthis.startTime = startTime;\r\n    \t}\r\n    \r\n    \tpublic String getEndTime() {\r\n    \t\treturn endTime;\r\n    \t}\r\n    \r\n    \tpublic void setEndTime(String endTime) {\r\n    \t\tthis.endTime = endTime;\r\n    \t}\r\n    \r\n    \tpublic int getIsDelete() {\r\n    \t\treturn isDelete;\r\n    \t}\r\n    \r\n    \tpublic void setIsDelete(int isDelete) {\r\n    \t\tthis.isDelete = isDelete;\r\n    \t}\r\n    \r\n    \tpublic int getIsActive() {\r\n    \t\treturn isActive;\r\n    \t}\r\n    \r\n    \tpublic void setIsActive(int isActive) {\r\n    \t\tthis.isActive = isActive;\r\n    \t}\r\n    \t    \r\n    \tpublic List&lt;EventUserRelationBO&gt; getEventUserRelationBOs() {\r\n    \t\treturn eventUserRelationBOs;\r\n    \t}\r\n    \r\n    \tpublic void setEventUserRelationBOs(List&lt;EventUserRelationBO&gt; eventUserRelationBOs) {\r\n    \t\tthis.eventUserRelationBOs = eventUserRelationBOs;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe below code that process json data\r\n\r\n    public @ResponseBody String getAllInvites(@RequestParam(&quot;userBO&quot;) String userBo) {\r\n    \t\tList&lt;EventBO&gt; eventBOs = new ArrayList&lt;EventBO&gt;();\r\n    \t\tUserBO userBO = gson.fromJson(userBo, UserBO.class);\r\n    \t\ttry {\r\n    \t\t\teventBOs = manageEventServiceImpl.getAllInvites(userBO);\r\n    \t\t\tlog.info(&quot;getting all events for user &quot; + userBO.getRingeeUserId());\r\n    \t\t} catch (UserServiceException serExp) {\r\n    \t\t\tlog.error(&quot;Error while getting event for userId id&quot; + userBO.getRingeeUserId(), serExp);\r\n    \t\t}\r\n    \t\treturn gson.toJson(eventBOs);\r\n    \t}\r\n\r\n","title":"How to solve the issue &quot;Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $&quot;","body":"<p>I am getting \"Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\" when I am retrieve the list from database.How to fix this issue where I am mistaken in my code..thanks in advance.</p>\n\n<p>Json response I am getting is below,</p>\n\n<pre><code>   [{\n    \"eventId\":1,\n    \"ringeeUserId\":2,\n    \"text\":\"Reception1\",\n    \"place\":\"Erode\",\n    \"eventDate\":\"2015-10-03\",\n    \"startTime\":\"09:00 AM\",\n    \"endTime\":\"12:00 PM\",\n    \"isActive\":0,\n    \"isDelete\":0,\n    \"eventUserRelationBOs\":[]\n    }]\n</code></pre>\n\n<p>EventBO class file is below, </p>\n\n<pre><code> package com.ringeeapp.service.businessobjects;\n\n    import java.io.Serializable;\n    import java.util.List;\n\n    public class EventBO implements Serializable {\n\n    private static final long serialVersionUID = 281625146097131515L;\n\n    private long eventId;\n\n    private long ringeeUserId;\n\n    private String text;\n\n    private String place;\n\n    private String eventDate;\n\n    private String startTime;\n\n    private String endTime;\n\n    private int isActive;\n\n    private int isDelete;\n\n    private List&lt;EventUserRelationBO&gt; eventUserRelationBOs;\n\n    public long getEventId() {\n        return eventId;\n    }\n\n    public void setEventId(long eventId) {\n        this.eventId = eventId;\n    }\n\n    public long getRingeeUserId() {\n        return ringeeUserId;\n    }\n\n    public void setRingeeUserId(long ringeeUserId) {\n        this.ringeeUserId = ringeeUserId;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public String getPlace() {\n        return place;\n    }\n\n    public void setPlace(String place) {\n        this.place = place;\n    }\n\n    public String getEventDate() {\n        return eventDate;\n    }\n\n    public void setEventDate(String eventDate) {\n        this.eventDate = eventDate;\n    }\n\n    public String getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(String startTime) {\n        this.startTime = startTime;\n    }\n\n    public String getEndTime() {\n        return endTime;\n    }\n\n    public void setEndTime(String endTime) {\n        this.endTime = endTime;\n    }\n\n    public int getIsDelete() {\n        return isDelete;\n    }\n\n    public void setIsDelete(int isDelete) {\n        this.isDelete = isDelete;\n    }\n\n    public int getIsActive() {\n        return isActive;\n    }\n\n    public void setIsActive(int isActive) {\n        this.isActive = isActive;\n    }\n\n    public List&lt;EventUserRelationBO&gt; getEventUserRelationBOs() {\n        return eventUserRelationBOs;\n    }\n\n    public void setEventUserRelationBOs(List&lt;EventUserRelationBO&gt; eventUserRelationBOs) {\n        this.eventUserRelationBOs = eventUserRelationBOs;\n    }\n\n}\n</code></pre>\n\n<p>The below code that process json data</p>\n\n<pre><code>public @ResponseBody String getAllInvites(@RequestParam(\"userBO\") String userBo) {\n        List&lt;EventBO&gt; eventBOs = new ArrayList&lt;EventBO&gt;();\n        UserBO userBO = gson.fromJson(userBo, UserBO.class);\n        try {\n            eventBOs = manageEventServiceImpl.getAllInvites(userBO);\n            log.info(\"getting all events for user \" + userBO.getRingeeUserId());\n        } catch (UserServiceException serExp) {\n            log.error(\"Error while getting event for userId id\" + userBO.getRingeeUserId(), serExp);\n        }\n        return gson.toJson(eventBOs);\n    }\n</code></pre>\n"},{"tags":["java","data-structures","queue"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1294418440,"post_id":4626812,"comment_id":5090411,"body_markdown":"Do you need the queue to be thread safe?","body":"Do you need the queue to be thread safe?"},{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":1,"creation_date":1506697892,"post_id":4626812,"comment_id":79938104,"body_markdown":"`Queue` is an interface. http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashSet.java#HashSet.add%28java.lang.Object%29","body":"<code>Queue</code> is an interface. <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/HashSet.java#HashSet.add%28java.lang.Object%29\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1512903393,"creation_date":1294412625,"answer_id":4626828,"question_id":4626812,"body_markdown":"    Queue&lt;String&gt; qe=new LinkedList&lt;String&gt;();\r\n    \r\n    qe.add(&quot;b&quot;);\r\n    qe.add(&quot;a&quot;);\r\n    qe.add(&quot;c&quot;);\r\n            \r\n\r\nSince [`Queue`][1] is an interface, you can&#39;t create an instance of it as you illustrated\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Queue.html","title":"How do I instantiate a Queue object in java?","body":"<pre><code>Queue&lt;String&gt; qe=new LinkedList&lt;String&gt;();\n\nqe.add(\"b\");\nqe.add(\"a\");\nqe.add(\"c\");\n</code></pre>\n\n<p>Since <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Queue.html\" rel=\"noreferrer\"><code>Queue</code></a> is an interface, you can't create an instance of it as you illustrated</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":166,"is_accepted":true,"score":166,"last_activity_date":1561225118,"creation_date":1294412635,"answer_id":4626830,"question_id":4626812,"body_markdown":"A `Queue` is an interface, which means you cannot construct a `Queue` directly.\r\n\r\nThe best option is to construct off a class that already implements the `Queue` interface, like one of the following: `AbstractQueue`, `ArrayBlockingQueue`, `ArrayDeque`, `ConcurrentLinkedQueue`, `DelayQueue`, `LinkedBlockingQueue`, `LinkedList`, `PriorityBlockingQueue`, `PriorityQueue`, or `SynchronousQueue`.\r\n\r\nAn alternative is to write your own class which implements the necessary Queue interface.  It is not needed except in those rare cases where you wish to do something special while providing the rest of your program with a `Queue`.\r\n\r\n    public class MyQueue&lt;T extends Tree&gt; implements Queue&lt;T&gt; {\r\n       public T element() {\r\n         ... your code to return an element goes here ...\r\n       }\r\n\r\n       public boolean offer(T element) {\r\n         ... your code to accept a submission offer goes here ...\r\n       }\r\n\r\n       ... etc ...\r\n    }\r\n\r\nAn even less used alternative is to construct an anonymous class that implements `Queue`.  You probably don&#39;t want to do this, but it&#39;s listed as an option for the sake of covering all the bases.\r\n\r\n    new Queue&lt;Tree&gt;() {\r\n       public Tree element() {\r\n         ...\r\n       };\r\n\r\n       public boolean offer(Tree element) {\r\n         ...\r\n       };\r\n       ...\r\n    };\r\n","title":"How do I instantiate a Queue object in java?","body":"<p>A <code>Queue</code> is an interface, which means you cannot construct a <code>Queue</code> directly.</p>\n\n<p>The best option is to construct off a class that already implements the <code>Queue</code> interface, like one of the following: <code>AbstractQueue</code>, <code>ArrayBlockingQueue</code>, <code>ArrayDeque</code>, <code>ConcurrentLinkedQueue</code>, <code>DelayQueue</code>, <code>LinkedBlockingQueue</code>, <code>LinkedList</code>, <code>PriorityBlockingQueue</code>, <code>PriorityQueue</code>, or <code>SynchronousQueue</code>.</p>\n\n<p>An alternative is to write your own class which implements the necessary Queue interface.  It is not needed except in those rare cases where you wish to do something special while providing the rest of your program with a <code>Queue</code>.</p>\n\n<pre><code>public class MyQueue&lt;T extends Tree&gt; implements Queue&lt;T&gt; {\n   public T element() {\n     ... your code to return an element goes here ...\n   }\n\n   public boolean offer(T element) {\n     ... your code to accept a submission offer goes here ...\n   }\n\n   ... etc ...\n}\n</code></pre>\n\n<p>An even less used alternative is to construct an anonymous class that implements <code>Queue</code>.  You probably don't want to do this, but it's listed as an option for the sake of covering all the bases.</p>\n\n<pre><code>new Queue&lt;Tree&gt;() {\n   public Tree element() {\n     ...\n   };\n\n   public boolean offer(Tree element) {\n     ...\n   };\n   ...\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7621,"reputation":9153,"user_id":13285,"display_name":"zmf"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1574363502,"creation_date":1294412671,"answer_id":4626844,"question_id":4626812,"body_markdown":"Queue is an interface; you can&#39;t explicitly construct a Queue. You&#39;ll have to instantiate one of its implementing classes. Something like:\r\n\r\n    Queue linkedList = new LinkedList();\r\n\r\n\r\n[Here&#39;s a link to the Java tutorial on this subject.][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/concepts/interface.html","title":"How do I instantiate a Queue object in java?","body":"<p>Queue is an interface; you can't explicitly construct a Queue. You'll have to instantiate one of its implementing classes. Something like:</p>\n\n<pre><code>Queue linkedList = new LinkedList();\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">Here's a link to the Java tutorial on this subject.</a></p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":170,"is_accepted":false,"score":170,"last_activity_date":1294412715,"creation_date":1294412715,"answer_id":4626858,"question_id":4626812,"body_markdown":"[`Queue`][1] is an interface. You can&#39;t instantiate an interface directly except via an anonymous inner class. Typically this *isn&#39;t* what you want to do for a collection. Instead, choose an existing implementation. For example:\r\n\r\n    Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();\r\n\r\nor\r\n\r\n    Queue&lt;Integer&gt; q = new ArrayDeque&lt;Integer&gt;();\r\n\r\nTypically you pick a collection implementation by the performance and concurrency characteristics you&#39;re interested in.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Queue.html","title":"How do I instantiate a Queue object in java?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Queue.html\" rel=\"noreferrer\"><code>Queue</code></a> is an interface. You can't instantiate an interface directly except via an anonymous inner class. Typically this <em>isn't</em> what you want to do for a collection. Instead, choose an existing implementation. For example:</p>\n\n<pre><code>Queue&lt;Integer&gt; q = new LinkedList&lt;Integer&gt;();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Queue&lt;Integer&gt; q = new ArrayDeque&lt;Integer&gt;();\n</code></pre>\n\n<p>Typically you pick a collection implementation by the performance and concurrency characteristics you're interested in.</p>\n"},{"tags":[],"owner":{"account_id":4031532,"reputation":1055,"user_id":3317430,"display_name":"lcl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506697996,"creation_date":1394152613,"answer_id":22239188,"question_id":4626812,"body_markdown":"`Queue` is an interface in java, you could not do that.\r\ntry:\r\n\r\n    Queue&lt;Integer&gt; Q = new LinkedList&lt;Integer&gt;();","title":"How do I instantiate a Queue object in java?","body":"<p><code>Queue</code> is an interface in java, you could not do that.\ntry:</p>\n\n<pre><code>Queue&lt;Integer&gt; Q = new LinkedList&lt;Integer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7800757,"reputation":101,"user_id":5900284,"display_name":"Sujit"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1454965323,"creation_date":1454965323,"answer_id":35279257,"question_id":4626812,"body_markdown":"Queue is an interface in java, you can not do that.\r\n\r\nInstead you have two options:\r\n\r\noption1:\r\n\r\n    Queue&lt;Integer&gt; Q = new LinkedList&lt;&gt;();\r\n\r\noption2:\r\n\r\n    Queue&lt;Integer&gt; Q = new ArrayDeque&lt;&gt;();\r\n\r\nI recommend using option2 as it is bit faster than the other","title":"How do I instantiate a Queue object in java?","body":"<p>Queue is an interface in java, you can not do that.</p>\n\n<p>Instead you have two options:</p>\n\n<p>option1:</p>\n\n<pre><code>Queue&lt;Integer&gt; Q = new LinkedList&lt;&gt;();\n</code></pre>\n\n<p>option2:</p>\n\n<pre><code>Queue&lt;Integer&gt; Q = new ArrayDeque&lt;&gt;();\n</code></pre>\n\n<p>I recommend using option2 as it is bit faster than the other</p>\n"},{"tags":[],"owner":{"account_id":7507054,"reputation":466,"user_id":5703255,"display_name":"Java Guru"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1593629372,"creation_date":1465213294,"answer_id":37656514,"question_id":4626812,"body_markdown":"[Queue in Java][1] is defined as an interface and many ready-to-use implementation is present as part of JDK release.\r\nHere are some:\r\n[LinkedList][2], Priority Queue, ArrayBlockingQueue, ConcurrentLinkedQueue, Linked Transfer Queue, [Synchronous Queue][3] etc.\r\n\r\nSO You can create any of these class and hold it as Queue reference. for example\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    \r\n    public class QueueExample {\r\n    \r\n     public static void main (String[] args) {\r\n      Queue que = new LinkedList();\r\n      que.add(&quot;first&quot;);\r\n      que.offer(&quot;second&quot;);\r\n      que.offer(&quot;third&quot;);\r\n      System.out.println(&quot;Queue Print:: &quot; + que);\r\n      \r\n      String head = que.element();\r\n      System.out.println(&quot;Head element:: &quot; + head);\r\n      \r\n      String element1 = que.poll();\r\n      System.out.println(&quot;Removed Element:: &quot; + element1);\r\n      \r\n      System.out.println(&quot;Queue Print after poll:: &quot; + que);\r\n      String element2 = que.remove();\r\n      System.out.println(&quot;Removed Element:: &quot; + element2);\r\n      \r\n      System.out.println(&quot;Queue Print after remove:: &quot; + que);  \r\n     }\r\n    }\r\n\r\nYou can also implement your own custom Queue implementing Queue interface.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20180508024116/http://singletonjava.blogspot.com:80/2016/03/java-queue-example.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\r\n  [3]: https://web.archive.org/web/20170830095206/http://singletonjava.blogspot.com/2016/02/java-synchronousqueue-synchronous-queue.html","title":"How do I instantiate a Queue object in java?","body":"<p><a href=\"https://web.archive.org/web/20180508024116/http://singletonjava.blogspot.com:80/2016/03/java-queue-example.html\" rel=\"nofollow noreferrer\">Queue in Java</a> is defined as an interface and many ready-to-use implementation is present as part of JDK release.\nHere are some:\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">LinkedList</a>, Priority Queue, ArrayBlockingQueue, ConcurrentLinkedQueue, Linked Transfer Queue, <a href=\"https://web.archive.org/web/20170830095206/http://singletonjava.blogspot.com/2016/02/java-synchronousqueue-synchronous-queue.html\" rel=\"nofollow noreferrer\">Synchronous Queue</a> etc.</p>\n<p>SO You can create any of these class and hold it as Queue reference. for example</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\n\npublic class QueueExample {\n\n public static void main (String[] args) {\n  Queue que = new LinkedList();\n  que.add(&quot;first&quot;);\n  que.offer(&quot;second&quot;);\n  que.offer(&quot;third&quot;);\n  System.out.println(&quot;Queue Print:: &quot; + que);\n  \n  String head = que.element();\n  System.out.println(&quot;Head element:: &quot; + head);\n  \n  String element1 = que.poll();\n  System.out.println(&quot;Removed Element:: &quot; + element1);\n  \n  System.out.println(&quot;Queue Print after poll:: &quot; + que);\n  String element2 = que.remove();\n  System.out.println(&quot;Removed Element:: &quot; + element2);\n  \n  System.out.println(&quot;Queue Print after remove:: &quot; + que);  \n }\n}\n</code></pre>\n<p>You can also implement your own custom Queue implementing Queue interface.</p>\n"},{"tags":[],"owner":{"account_id":8161752,"reputation":5609,"user_id":6145568,"display_name":"devDeejay"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1488928066,"creation_date":1488928066,"answer_id":42660060,"question_id":4626812,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ByzWn.png\r\n\r\nThe Queue interface extends java.util.Collection with additional insertion, extraction, and inspection operations like:\r\n\r\n`+offer(element: E):` boolean // **Inserting an element**\r\n\r\n`+poll(): E`  // **Retrieves the element and returns NULL if queue is empty** \r\n\r\n`+remove(): E` // **Retrieves and removes the element and throws an Exception if queue is empty** \r\n\r\n`+peek(): E` // **Retrieves,but does not remove, the head of this queue, returning null if this queue is empty.** \r\n\r\n`+element(): E` // **Retrieves, but does not remove, the head of this queue, throws an exception if te queue is empty.**\r\n\r\nExample Code for implementing Queue:\r\n\r\n\tjava.util.Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\r\n\tqueue.offer(&quot;Hello&quot;);\r\n\tqueue.offer(&quot;StackOverFlow&quot;);\r\n\tqueue.offer(&quot;User&quot;);\r\n\t\r\n\tSystem.out.println(queue.peek());\r\n\t\r\n\twhile (queue.size() &gt; 0){\r\n\t\tSystem.out.println(queue.remove() + &quot; &quot;);\r\n\t}\r\n\t//Since Queue is empty now so this will return NULL\r\n\tSystem.out.println(queue.peek());\r\n\r\nOutput Of the code :\r\n\r\n    Hello\r\n    Hello \r\n    StackOverFlow \r\n    User \r\n    null\r\n\r\n","title":"How do I instantiate a Queue object in java?","body":"<p><a href=\"https://i.stack.imgur.com/ByzWn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ByzWn.png\" alt=\"enter image description here\"></a></p>\n\n<p>The Queue interface extends java.util.Collection with additional insertion, extraction, and inspection operations like:</p>\n\n<p><code>+offer(element: E):</code> boolean // <strong>Inserting an element</strong></p>\n\n<p><code>+poll(): E</code>  // <strong>Retrieves the element and returns NULL if queue is empty</strong> </p>\n\n<p><code>+remove(): E</code> // <strong>Retrieves and removes the element and throws an Exception if queue is empty</strong> </p>\n\n<p><code>+peek(): E</code> // <strong>Retrieves,but does not remove, the head of this queue, returning null if this queue is empty.</strong> </p>\n\n<p><code>+element(): E</code> // <strong>Retrieves, but does not remove, the head of this queue, throws an exception if te queue is empty.</strong></p>\n\n<p>Example Code for implementing Queue:</p>\n\n<pre><code>java.util.Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\nqueue.offer(\"Hello\");\nqueue.offer(\"StackOverFlow\");\nqueue.offer(\"User\");\n\nSystem.out.println(queue.peek());\n\nwhile (queue.size() &gt; 0){\n    System.out.println(queue.remove() + \" \");\n}\n//Since Queue is empty now so this will return NULL\nSystem.out.println(queue.peek());\n</code></pre>\n\n<p>Output Of the code :</p>\n\n<pre><code>Hello\nHello \nStackOverFlow \nUser \nnull\n</code></pre>\n"}],"owner":{"account_id":131054,"reputation":2823,"user_id":330776,"accept_rate":94,"display_name":"wam090"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392217,"favorite_count":0,"down_vote_count":2,"up_vote_count":166,"accepted_answer_id":4626830,"answer_count":8,"score":164,"last_activity_date":1635518316,"creation_date":1294412538,"question_id":4626812,"body_markdown":"When I try:\r\n\r\n    Queue&lt;Integer&gt; q = new Queue&lt;Integer&gt;();\r\n\r\nThe compiler is giving me an error. Any help?\r\n\r\nAlso, if I want to initialize a queue do I have to implement the methods of the queue?","title":"How do I instantiate a Queue object in java?","body":"<p>When I try:</p>\n<pre><code>Queue&lt;Integer&gt; q = new Queue&lt;Integer&gt;();\n</code></pre>\n<p>The compiler is giving me an error. Any help?</p>\n<p>Also, if I want to initialize a queue do I have to implement the methods of the queue?</p>\n"},{"tags":["java","junit","junit4"],"owner":{"account_id":11144873,"reputation":147,"user_id":8180023,"display_name":"kosteklvp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1635518239,"creation_date":1635518239,"question_id":69770700,"body_markdown":"I have such an example of test class with inner static test class inside. I need to run all tests simultaneously in one run. I use JUnit 4.13.\r\n\r\n    @RunWith(Enclosed.class)\r\n    public class OuterClassTest {\r\n    \r\n      public static class InnerClassTest {\r\n    \r\n        @Test\r\n        public void innerTest() {\r\n        }\r\n    \r\n      }\r\n    \r\n      @Test\r\n      public void outerTest() {\r\n      }\r\n    \r\n    }\r\n\r\nIf I run `OuterClassTest` like this, it only runs `innerTest`.\r\n\r\nIf I remove `@RunWith(Enclosed.class)` annotation from `OuterClassTest`, it only runs `outerTest`.\r\n\r\n**How can I run this class, so that both tests run simultaneously?**","title":"How to run tests from outer class and nested inner classes simultaneously in JUnit 4?","body":"<p>I have such an example of test class with inner static test class inside. I need to run all tests simultaneously in one run. I use JUnit 4.13.</p>\n<pre><code>@RunWith(Enclosed.class)\npublic class OuterClassTest {\n\n  public static class InnerClassTest {\n\n    @Test\n    public void innerTest() {\n    }\n\n  }\n\n  @Test\n  public void outerTest() {\n  }\n\n}\n</code></pre>\n<p>If I run <code>OuterClassTest</code> like this, it only runs <code>innerTest</code>.</p>\n<p>If I remove <code>@RunWith(Enclosed.class)</code> annotation from <code>OuterClassTest</code>, it only runs <code>outerTest</code>.</p>\n<p><strong>How can I run this class, so that both tests run simultaneously?</strong></p>\n"},{"tags":["java","events","keypress","keyevent","enter"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635500540,"post_id":69766586,"comment_id":123320705,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1635518492,"post_id":69766586,"comment_id":123327944,"body_markdown":"You can add an `Action` to the Enter button. This Action will need to extend `TextAction`. The TextAction class has a method that will return the last text component that had focus. See: https://stackoverflow.com/questions/5668690/what-text-input-component-last-had-the-focus/5668974#5668974 for a basic example.","body":"You can add an <code>Action</code> to the Enter button. This Action will need to extend <code>TextAction</code>. The TextAction class has a method that will return the last text component that had focus. See: <a href=\"https://stackoverflow.com/questions/5668690/what-text-input-component-last-had-the-focus/5668974#5668974\" title=\"what text input component last had the focus\">stackoverflow.com/questions/5668690/&hellip;</a> for a basic example."}],"answers":[{"tags":[],"owner":{"display_name":"user6289922"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635501465,"creation_date":1635501465,"answer_id":69766975,"question_id":69766586,"body_markdown":"The question is very unclear but perhaps you are looking for an ActionListener to be attached to a button.","title":"Is there any way to press ENTER by clicking jButton to pass a event to a jTextfield?","body":"<p>The question is very unclear but perhaps you are looking for an ActionListener to be attached to a button.</p>\n"}],"owner":{"account_id":8555727,"reputation":3,"user_id":6411336,"display_name":"Hasan Dulanga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635518214,"creation_date":1635499880,"question_id":69766586,"body_markdown":"I have coded for multi Jtextfields in my project and used KeyPressed Events for each fields for Enter Key. Now I use a Touch Monitor.&lt;br&gt;And now I want to Use a button and do the same thing by pressing Enter key of the key board.&lt;br&gt;\r\n(Not want grabfocus() or any other solutions. Just want to know is there any way to Press Enter Key by a code and run code each fields I coded.)\r\n\r\nExample fields:\r\n\r\n\r\n[![https://i.stack.imgur.com/L180a.jpg][1]][1]\r\n\r\nHere is an example frame. &lt;br&gt;If my cursor is on field 1 I want to run the code I use with `Event.getKeyCode()==10`. &lt;br&gt;If my cursor is on field 2 I want to run the code I use with `Event.getKeyCode()==10`. &lt;br&gt;If my cursor is on field 3 I want to run the code I use with `Event.getKeyCode()==10`. &lt;br&gt;If my cursor is on field 4 I want to run the code I use with `Event.getKeyCode()==10`. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L180a.jpg","title":"Is there any way to press ENTER by clicking jButton to pass a event to a jTextfield?","body":"<p>I have coded for multi Jtextfields in my project and used KeyPressed Events for each fields for Enter Key. Now I use a Touch Monitor.<br>And now I want to Use a button and do the same thing by pressing Enter key of the key board.<br>\n(Not want grabfocus() or any other solutions. Just want to know is there any way to Press Enter Key by a code and run code each fields I coded.)</p>\n<p>Example fields:</p>\n<p><a href=\"https://i.stack.imgur.com/L180a.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L180a.jpg\" alt=\"https://i.stack.imgur.com/L180a.jpg\" /></a></p>\n<p>Here is an example frame. <br>If my cursor is on field 1 I want to run the code I use with <code>Event.getKeyCode()==10</code>. <br>If my cursor is on field 2 I want to run the code I use with <code>Event.getKeyCode()==10</code>. <br>If my cursor is on field 3 I want to run the code I use with <code>Event.getKeyCode()==10</code>. <br>If my cursor is on field 4 I want to run the code I use with <code>Event.getKeyCode()==10</code>.</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":1,"creation_date":1635512175,"post_id":69767765,"comment_id":123325009,"body_markdown":"If you want the JLabelImage to show in the mainFrame you should add it to this frame","body":"If you want the JLabelImage to show in the mainFrame you should add it to this frame"},{"owner":{"account_id":22650225,"reputation":1,"user_id":16825001,"display_name":"Khan"},"score":0,"creation_date":1635514506,"post_id":69767765,"comment_id":123326094,"body_markdown":"i want the mainframe to change it size according to the size of the image","body":"i want the mainframe to change it size according to the size of the image"},{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635514542,"post_id":69767765,"comment_id":123326116,"body_markdown":"but the problem you don&#39;t add the image to your frame, so nothing will show","body":"but the problem you don&#39;t add the image to your frame, so nothing will show"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - ÈÄÄ„Åó„Åü"},"score":0,"creation_date":1635516182,"post_id":69767765,"comment_id":123326941,"body_markdown":"1. Load the image;\n 2. Gather all the information required for that image and store it into a List Interface or something of a similar concept;\n 3. Display the image sized to accommodate the container which has been\n    previously initialized to a specific size to suite your GUI. Google... &quot;Resize Image to fit JLabel with Java&quot;.","body":"1. Load the image;  2. Gather all the information required for that image and store it into a List Interface or something of a similar concept;  3. Display the image sized to accommodate the container which has been     previously initialized to a specific size to suite your GUI. Google... &quot;Resize Image to fit JLabel with Java&quot;."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1635517916,"post_id":69767765,"comment_id":123327696,"body_markdown":"There is no need to scale the image and there is no need to set the preferred size of the label. Swing components will determine their own preferred size. Use `ImageIO` to read images. You will get an error message if the image is not found.","body":"There is no need to scale the image and there is no need to set the preferred size of the label. Swing components will determine their own preferred size. Use <code>ImageIO</code> to read images. You will get an error message if the image is not found."}],"owner":{"account_id":22650225,"reputation":1,"user_id":16825001,"display_name":"Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635517810,"creation_date":1635505309,"question_id":69767765,"body_markdown":"here is my code\r\n\r\n\r\n----------\r\ni have attached the images of output and the required result can anyone help me with this \r\ni&#39;ll be very thankful \r\n\r\n```\r\nprivate void jButton1MouseClicked(java.awt.event.MouseEvent evt) {                                      \r\n        FileNameExtensionFilter fnef = new FileNameExtensionFilter(&quot;IMAGES&quot;, &quot;png&quot;, &quot;jpg&quot;, &quot;jpeg&quot;);\r\n        JFileChooser ImageFile = new JFileChooser();\r\n        ImageFile.addChoosableFileFilter(fnef);\r\n        int openDialog = ImageFile.showOpenDialog(null);\r\n        if (openDialog == JFileChooser.APPROVE_OPTION) {\r\n            File choosenFile = ImageFile.getSelectedFile();\r\n            String choosenFilePath = choosenFile.getAbsolutePath();\r\n            JOptionPane.showMessageDialog(null, choosenFilePath);\r\n            //displaying the image \r\n            ImageIcon imgIcon = new ImageIcon(choosenFilePath);\r\n            //getting the height width of the image \r\n            Image image = imgIcon.getImage().getScaledInstance(imgIcon.getIconWidth(), imgIcon.getIconHeight(), Image.SCALE_SMOOTH);\r\n            NewJFrame mainFrame =new NewJFrame();\r\n            JLabelImage.setIcon(new ImageIcon(image));\r\n            JLabelImage.setPreferredSize(new Dimension(imgIcon.getIconWidth(),imgIcon.getIconHeight()));\r\n            mainFrame.pack();\r\n            mainFrame.setLocationRelativeTo(null);\r\n            mainFrame.setVisible(true);\r\n        }\r\n        \r\n    }        \r\n```\r\ni&#39;m supposed to get like this:\r\n\r\n[![https://i.stack.imgur.com/JKgFj.png][1]][1]\r\n\r\nGetting this:\r\n\r\n[![https://i.stack.imgur.com/hMCwO.png][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JKgFj.png\r\n  [2]: https://i.stack.imgur.com/hMCwO.png","title":"I want to change the size of my JFrame Panel to the size of selected image here is my code","body":"<p>here is my code</p>\n<hr />\n<p>i have attached the images of output and the required result can anyone help me with this\ni'll be very thankful</p>\n<pre><code>private void jButton1MouseClicked(java.awt.event.MouseEvent evt) {                                      \n        FileNameExtensionFilter fnef = new FileNameExtensionFilter(&quot;IMAGES&quot;, &quot;png&quot;, &quot;jpg&quot;, &quot;jpeg&quot;);\n        JFileChooser ImageFile = new JFileChooser();\n        ImageFile.addChoosableFileFilter(fnef);\n        int openDialog = ImageFile.showOpenDialog(null);\n        if (openDialog == JFileChooser.APPROVE_OPTION) {\n            File choosenFile = ImageFile.getSelectedFile();\n            String choosenFilePath = choosenFile.getAbsolutePath();\n            JOptionPane.showMessageDialog(null, choosenFilePath);\n            //displaying the image \n            ImageIcon imgIcon = new ImageIcon(choosenFilePath);\n            //getting the height width of the image \n            Image image = imgIcon.getImage().getScaledInstance(imgIcon.getIconWidth(), imgIcon.getIconHeight(), Image.SCALE_SMOOTH);\n            NewJFrame mainFrame =new NewJFrame();\n            JLabelImage.setIcon(new ImageIcon(image));\n            JLabelImage.setPreferredSize(new Dimension(imgIcon.getIconWidth(),imgIcon.getIconHeight()));\n            mainFrame.pack();\n            mainFrame.setLocationRelativeTo(null);\n            mainFrame.setVisible(true);\n        }\n        \n    }        \n</code></pre>\n<p>i'm supposed to get like this:</p>\n<p><a href=\"https://i.stack.imgur.com/JKgFj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKgFj.png\" alt=\"https://i.stack.imgur.com/JKgFj.png\" /></a></p>\n<p>Getting this:</p>\n<p><a href=\"https://i.stack.imgur.com/hMCwO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMCwO.png\" alt=\"https://i.stack.imgur.com/hMCwO.png\" /></a></p>\n"},{"tags":["java","image","swing","rotation","graphics2d"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1524073900,"post_id":8639567,"comment_id":86827896,"body_markdown":"Please see: [Why is ‚ÄúCan someone help me?‚Äù not an actual question?](http://meta.stackoverflow.com/q/284236)","body":"Please see: <a href=\"http://meta.stackoverflow.com/q/284236\">Why is ‚ÄúCan someone help me?‚Äù not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":265101,"reputation":8176,"user_id":551841,"accept_rate":100,"display_name":"AlanFoster"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1436460457,"creation_date":1324939126,"answer_id":8639615,"question_id":8639567,"body_markdown":"This is how you can do it. This code assumes the existance of a buffered image called &#39;image&#39; (like your comment says)\r\n\r\n    // The required drawing location\r\n    int drawLocationX = 300;\r\n    int drawLocationY = 300;\r\n    \r\n    // Rotation information\r\n\r\n    double rotationRequired = Math.toRadians (45);\r\n    double locationX = image.getWidth() / 2;\r\n    double locationY = image.getHeight() / 2;\r\n    AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\r\n    AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\r\n\r\n    // Drawing the rotated image at the required drawing locations\r\n    g2d.drawImage(op.filter(image, null), drawLocationX, drawLocationY, null);\r\n","title":"Java: Rotating Images","body":"<p>This is how you can do it. This code assumes the existance of a buffered image called 'image' (like your comment says)</p>\n\n<pre><code>// The required drawing location\nint drawLocationX = 300;\nint drawLocationY = 300;\n\n// Rotation information\n\ndouble rotationRequired = Math.toRadians (45);\ndouble locationX = image.getWidth() / 2;\ndouble locationY = image.getHeight() / 2;\nAffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\nAffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\n\n// Drawing the rotated image at the required drawing locations\ng2d.drawImage(op.filter(image, null), drawLocationX, drawLocationY, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1324939291,"creation_date":1324939291,"answer_id":8639631,"question_id":8639567,"body_markdown":"`AffineTransform` instances can be concatenated (added together).  Therefore you can have a transform that combines &#39;shift to origin&#39;, &#39;rotate&#39; and &#39;shift back to desired position&#39;.","title":"Java: Rotating Images","body":"<p><code>AffineTransform</code> instances can be concatenated (added together).  Therefore you can have a transform that combines 'shift to origin', 'rotate' and 'shift back to desired position'.</p>\n"},{"tags":[],"owner":{"account_id":305083,"reputation":1014,"user_id":614999,"accept_rate":43,"display_name":"arturgspb"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1500554232,"creation_date":1500554232,"answer_id":45214965,"question_id":8639567,"body_markdown":"    public static BufferedImage rotateCw( BufferedImage img )\r\n    {\r\n        int         width  = img.getWidth();\r\n        int         height = img.getHeight();\r\n        BufferedImage   newImage = new BufferedImage( height, width, img.getType() );\r\n     \r\n        for( int i=0 ; i &lt; width ; i++ )\r\n            for( int j=0 ; j &lt; height ; j++ )\r\n                newImage.setRGB( height-1-j, i, img.getRGB(i,j) );\r\n     \r\n        return newImage;\r\n    }\r\nfrom https://coderanch.com/t/485958/java/Rotating-buffered-image","title":"Java: Rotating Images","body":"<pre><code>public static BufferedImage rotateCw( BufferedImage img )\n{\n    int         width  = img.getWidth();\n    int         height = img.getHeight();\n    BufferedImage   newImage = new BufferedImage( height, width, img.getType() );\n\n    for( int i=0 ; i &lt; width ; i++ )\n        for( int j=0 ; j &lt; height ; j++ )\n            newImage.setRGB( height-1-j, i, img.getRGB(i,j) );\n\n    return newImage;\n}\n</code></pre>\n\n<p>from <a href=\"https://coderanch.com/t/485958/java/Rotating-buffered-image\" rel=\"nofollow noreferrer\">https://coderanch.com/t/485958/java/Rotating-buffered-image</a></p>\n"},{"tags":[],"owner":{"account_id":7747117,"reputation":379,"user_id":5864444,"accept_rate":100,"display_name":"tobahhh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1527113453,"creation_date":1517262646,"answer_id":48510565,"question_id":8639567,"body_markdown":"A simple way to do it without the use of such a complicated draw statement:\r\n        \r\n        //Make a backup so that we can reset our graphics object after using it.\r\n        AffineTransform backup = g2d.getTransform();\r\n        //rx is the x coordinate for rotation, ry is the y coordinate for rotation, and angle\r\n        //is the angle to rotate the image. If you want to rotate around the center of an image,\r\n        //use the image&#39;s center x and y coordinates for rx and ry.\r\n        AffineTransform a = AffineTransform.getRotateInstance(angle, rx, ry);\r\n        //Set our Graphics2D object to the transform\r\n        g2d.setTransform(a);\r\n        //Draw our image like normal\r\n        g2d.drawImage(image, x, y, null);\r\n        //Reset our graphics object so we can draw with it again.\r\n        g2d.setTransform(backup);","title":"Java: Rotating Images","body":"<p>A simple way to do it without the use of such a complicated draw statement:</p>\n\n<pre><code>    //Make a backup so that we can reset our graphics object after using it.\n    AffineTransform backup = g2d.getTransform();\n    //rx is the x coordinate for rotation, ry is the y coordinate for rotation, and angle\n    //is the angle to rotate the image. If you want to rotate around the center of an image,\n    //use the image's center x and y coordinates for rx and ry.\n    AffineTransform a = AffineTransform.getRotateInstance(angle, rx, ry);\n    //Set our Graphics2D object to the transform\n    g2d.setTransform(a);\n    //Draw our image like normal\n    g2d.drawImage(image, x, y, null);\n    //Reset our graphics object so we can draw with it again.\n    g2d.setTransform(backup);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1058077,"reputation":570,"user_id":3309694,"accept_rate":100,"display_name":"Vallerious"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606083359,"creation_date":1606083359,"answer_id":64960185,"question_id":8639567,"body_markdown":"Sorry, but all the answers are difficult to understand for me as a beginner in graphics...\r\n\r\nAfter some fiddling, this is working for me and it is easy to reason about.\r\n\r\n    @Override\r\n    public void draw(Graphics2D g) {\r\n        AffineTransform tr = new AffineTransform();\r\n        // X and Y are the coordinates of the image\r\n        tr.translate((int)getX(), (int)getY());\r\n        tr.rotate(\r\n                Math.toRadians(this.rotationAngle),\r\n                img.getWidth() / 2,\r\n                img.getHeight() / 2\r\n        );\r\n\r\n        // img is a BufferedImage instance\r\n        g.drawImage(img, tr, null);\r\n    }\r\nI suppose that if you want to rotate a rectangular image this method wont work and will cut the image, but I thing you should create square png images and rotate that.\r\n","title":"Java: Rotating Images","body":"<p>Sorry, but all the answers are difficult to understand for me as a beginner in graphics...</p>\n<p>After some fiddling, this is working for me and it is easy to reason about.</p>\n<pre><code>@Override\npublic void draw(Graphics2D g) {\n    AffineTransform tr = new AffineTransform();\n    // X and Y are the coordinates of the image\n    tr.translate((int)getX(), (int)getY());\n    tr.rotate(\n            Math.toRadians(this.rotationAngle),\n            img.getWidth() / 2,\n            img.getHeight() / 2\n    );\n\n    // img is a BufferedImage instance\n    g.drawImage(img, tr, null);\n}\n</code></pre>\n<p>I suppose that if you want to rotate a rectangular image this method wont work and will cut the image, but I thing you should create square png images and rotate that.</p>\n"},{"tags":[],"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629910385,"creation_date":1629910385,"answer_id":68926993,"question_id":8639567,"body_markdown":"I struggled a little with the existing answers because my image to be rotated is not always a square, furthermore the accepted answer has a comment asking &quot;Any info on how to circumvent the cutoff problem&quot; that is not answered.\r\nSo for those who had the issue of image being croped when rotated here is the code that worked for me :\r\n\r\n    public static BufferedImage rotate(BufferedImage bimg, Double angle) {\r\n        double sin = Math.abs(Math.sin(Math.toRadians(angle))),\r\n               cos = Math.abs(Math.cos(Math.toRadians(angle)));\r\n        int w = bimg.getWidth();\r\n        int h = bimg.getHeight();\r\n        int neww = (int) Math.floor(w*cos + h*sin),\r\n            newh = (int) Math.floor(h*cos + w*sin);\r\n        BufferedImage rotated = new BufferedImage(neww, newh, bimg.getType());\r\n        Graphics2D graphic = rotated.createGraphics();\r\n        graphic.translate((neww-w)/2, (newh-h)/2);\r\n        graphic.rotate(Math.toRadians(angle), w/2, h/2);\r\n        graphic.drawRenderedImage(bimg, null);\r\n        graphic.dispose();\r\n        return rotated;\r\n    }","title":"Java: Rotating Images","body":"<p>I struggled a little with the existing answers because my image to be rotated is not always a square, furthermore the accepted answer has a comment asking &quot;Any info on how to circumvent the cutoff problem&quot; that is not answered.\nSo for those who had the issue of image being croped when rotated here is the code that worked for me :</p>\n<pre><code>public static BufferedImage rotate(BufferedImage bimg, Double angle) {\n    double sin = Math.abs(Math.sin(Math.toRadians(angle))),\n           cos = Math.abs(Math.cos(Math.toRadians(angle)));\n    int w = bimg.getWidth();\n    int h = bimg.getHeight();\n    int neww = (int) Math.floor(w*cos + h*sin),\n        newh = (int) Math.floor(h*cos + w*sin);\n    BufferedImage rotated = new BufferedImage(neww, newh, bimg.getType());\n    Graphics2D graphic = rotated.createGraphics();\n    graphic.translate((neww-w)/2, (newh-h)/2);\n    graphic.rotate(Math.toRadians(angle), w/2, h/2);\n    graphic.drawRenderedImage(bimg, null);\n    graphic.dispose();\n    return rotated;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633745743,"creation_date":1633744887,"answer_id":69503190,"question_id":8639567,"body_markdown":"I think the sturdiest and easiest approach is to not only rotate the image, but also the coordinates you&#39;re working with. This code will turn a bufferedImage around the topleft corner and draw it accordingly without cropping, and the returned image will be drawn in the right place. If you know what a vector and matrix are and look at the wikipedia article for rotation matrix you will understand this code easily. I also added a little hand drawing to it. In the 2nd part of the algorithm we determine the position and dimension of the bigger rectangle, which contains our rotated bufferedImage. The first 4 points we define are technically not used, but they still help you understand where the points are initially. [![Rotation hand drawing][1]][1]\r\n\r\n    public void drawRotated(final Graphics g, final BufferedImage bufferedImage, final int x, final int y, final int width, final int height, final double angle) {\r\n        final Rectangle collision = new Rectangle(x, y, width, height);\r\n        final BufferedImage resize = resize(bufferedImage, collision.width, collision.height);\r\n        final BufferedImage rotate = rotate(resize, angle, collision);\r\n        g.drawImage(rotate, collision.x, collision.y, collision.width, collision.height, null);\r\n    }\r\n\r\n    public static BufferedImage resize(final BufferedImage bufferedImage, final int newWidth, final int newHeight) {\r\n        final BufferedImage resized = new BufferedImage(newWidth, newHeight, bufferedImage.getType());\r\n        final Graphics g = resized.createGraphics();\r\n        g.drawImage(bufferedImage, 0, 0, newWidth, newHeight, null);\r\n        return resized;\r\n    }\r\n    \r\n    public static BufferedImage rotate(final BufferedImage bufferedImage, final double angle, final Rectangle collision) {\r\n        final double sin = Math.sin(Math.toRadians(angle));\r\n        final double cos = Math.cos(Math.toRadians(angle));\r\n        \r\n        final int x1 = collision.x;\r\n        final int y1 = collision.y;\r\n        \r\n        final int x2 = collision.x+collision.width;\r\n        final int y2 = collision.y;\r\n        \r\n        final int x3 = collision.x;\r\n        final int y3 = collision.y+collision.height;\r\n        \r\n        final int x4 = collision.x+collision.width;\r\n        final int y4 = collision.y+collision.height;\r\n        \r\n        //turn all 4 points around the top left point\r\n        final int newx1 = collision.x;\r\n        final int newy1 = collision.y;\r\n        \r\n        //the y component is 0\r\n        final int newx2 = (int) (collision.x+collision.width*cos);\r\n        final int newy2 = (int) (collision.y+collision.width*sin);\r\n        \r\n        //the x component is 0\r\n        final int newx3 = (int) (collision.x-collision.height*sin);\r\n        final int newy3 = (int) (collision.y+collision.height*cos);\r\n\r\n        final int newx4 = (int) (collision.x+collision.width*cos-collision.height*sin);\r\n        final int newy4 = (int) (collision.y+collision.width*sin+collision.height*cos);\r\n        \r\n        //determine the new position of our bigger rectangle containing our image\r\n        collision.x = Math.min(Math.min(newx1, newx2), Math.min(newx3, newx4));\r\n        collision.y = Math.min(Math.min(newy1, newy2), Math.min(newy3, newy4));\r\n        \r\n        //determine the new dimensions of our bigger rectangle containing our image\r\n        collision.width = Math.max(Math.max(newx1, newx2), Math.max(newx3, newx4))-collision.x;\r\n        collision.height = Math.max(Math.max(newy1, newy2), Math.max(newy3, newy4))-collision.y;\r\n        \r\n        final BufferedImage rotated = new BufferedImage(collision.width, collision.height, bufferedImage.getType());\r\n        final Graphics2D g2d = rotated.createGraphics();\r\n        g2d.translate(newx1- collision.x, newy1- collision.y);\r\n        g2d.rotate(Math.toRadians(angle), 0, 0);\r\n        g2d.drawRenderedImage(bufferedImage, null);\r\n        g2d.dispose();\r\n        return rotated;\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/l3Wgw.jpg","title":"Java: Rotating Images","body":"<p>I think the sturdiest and easiest approach is to not only rotate the image, but also the coordinates you're working with. This code will turn a bufferedImage around the topleft corner and draw it accordingly without cropping, and the returned image will be drawn in the right place. If you know what a vector and matrix are and look at the wikipedia article for rotation matrix you will understand this code easily. I also added a little hand drawing to it. In the 2nd part of the algorithm we determine the position and dimension of the bigger rectangle, which contains our rotated bufferedImage. The first 4 points we define are technically not used, but they still help you understand where the points are initially. <a href=\"https://i.stack.imgur.com/l3Wgw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l3Wgw.jpg\" alt=\"Rotation hand drawing\" /></a></p>\n<pre><code>public void drawRotated(final Graphics g, final BufferedImage bufferedImage, final int x, final int y, final int width, final int height, final double angle) {\n    final Rectangle collision = new Rectangle(x, y, width, height);\n    final BufferedImage resize = resize(bufferedImage, collision.width, collision.height);\n    final BufferedImage rotate = rotate(resize, angle, collision);\n    g.drawImage(rotate, collision.x, collision.y, collision.width, collision.height, null);\n}\n\npublic static BufferedImage resize(final BufferedImage bufferedImage, final int newWidth, final int newHeight) {\n    final BufferedImage resized = new BufferedImage(newWidth, newHeight, bufferedImage.getType());\n    final Graphics g = resized.createGraphics();\n    g.drawImage(bufferedImage, 0, 0, newWidth, newHeight, null);\n    return resized;\n}\n\npublic static BufferedImage rotate(final BufferedImage bufferedImage, final double angle, final Rectangle collision) {\n    final double sin = Math.sin(Math.toRadians(angle));\n    final double cos = Math.cos(Math.toRadians(angle));\n    \n    final int x1 = collision.x;\n    final int y1 = collision.y;\n    \n    final int x2 = collision.x+collision.width;\n    final int y2 = collision.y;\n    \n    final int x3 = collision.x;\n    final int y3 = collision.y+collision.height;\n    \n    final int x4 = collision.x+collision.width;\n    final int y4 = collision.y+collision.height;\n    \n    //turn all 4 points around the top left point\n    final int newx1 = collision.x;\n    final int newy1 = collision.y;\n    \n    //the y component is 0\n    final int newx2 = (int) (collision.x+collision.width*cos);\n    final int newy2 = (int) (collision.y+collision.width*sin);\n    \n    //the x component is 0\n    final int newx3 = (int) (collision.x-collision.height*sin);\n    final int newy3 = (int) (collision.y+collision.height*cos);\n\n    final int newx4 = (int) (collision.x+collision.width*cos-collision.height*sin);\n    final int newy4 = (int) (collision.y+collision.width*sin+collision.height*cos);\n    \n    //determine the new position of our bigger rectangle containing our image\n    collision.x = Math.min(Math.min(newx1, newx2), Math.min(newx3, newx4));\n    collision.y = Math.min(Math.min(newy1, newy2), Math.min(newy3, newy4));\n    \n    //determine the new dimensions of our bigger rectangle containing our image\n    collision.width = Math.max(Math.max(newx1, newx2), Math.max(newx3, newx4))-collision.x;\n    collision.height = Math.max(Math.max(newy1, newy2), Math.max(newy3, newy4))-collision.y;\n    \n    final BufferedImage rotated = new BufferedImage(collision.width, collision.height, bufferedImage.getType());\n    final Graphics2D g2d = rotated.createGraphics();\n    g2d.translate(newx1- collision.x, newy1- collision.y);\n    g2d.rotate(Math.toRadians(angle), 0, 0);\n    g2d.drawRenderedImage(bufferedImage, null);\n    g2d.dispose();\n    return rotated;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635517756,"creation_date":1635517756,"answer_id":69770584,"question_id":8639567,"body_markdown":"Here is a solution for rotations of 90, 180 &amp; 270 degrees.\r\n\r\nFor these cases, the AffineTransform can introduce some loss/interpolation.\r\n\r\nThis solution is lossless &amp; can also handle (esoteric?) Colour Models with more than 8 Bits/Pixel which `BufferedImage.getRGB(int x, int y)` cannot.\r\n\r\nThe solution proceeds on a pixel-by-pixel basis, which has the advantage of being simple to code.\r\n\r\nIt is possible to read the original Image row-by-row to gain performance, but its more complex, so I&#39;ve left that out.\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.WritableRaster;\r\n    /**\r\n     * N.B. this example uses the new switch/case/Arrow notation, which requires Java 14.\r\n     */\r\n    public enum Rotation {\r\n    \tCLOCKWISE_90,\r\n    \tCLOCKWISE_180,\r\n    \tCLOCKWISE_270;\r\n    \r\n    \tpublic BufferedImage rotate(final BufferedImage original) {\r\n    \r\n    \t\tfinal int oW = original.getWidth();\r\n    \t\tfinal int oH = original.getHeight();\r\n    \r\n    \t\tfinal BufferedImage rotated = \r\n    \t\tswitch (this) {\r\n    \t\t\tcase CLOCKWISE_180 -&gt; new BufferedImage(oW, oH, original.getType());\r\n    \t\t\tdefault            -&gt; new BufferedImage(oH, oW, original.getType());\r\n    \t\t};\r\n    \r\n    \t\tfinal WritableRaster rasterOriginal = original.copyData(null);\r\n    \t\tfinal WritableRaster rasterRotated  = rotated .copyData(null);\r\n    \t\t/*\r\n    \t\t * The Data for 1 Pixel...\r\n    \t\t */\r\n    \t\tfinal int[] onePixel = new int[original.getSampleModel().getNumBands()];\r\n    \t\t/*\r\n    \t\t * Copy the Pixels one-by-one into the result...\r\n    \t\t */\r\n    \t\tfor     (int x = 0; x &lt; oW; x++)  {\r\n    \t\t\tfor (int y = 0; y &lt; oH; y++)  {\r\n    \t\t\t\t;                         rasterOriginal.getPixel(         x,          y, onePixel);\r\n    \t\t\t\tswitch (this) {\r\n    \t\t\t\t\tcase CLOCKWISE_90  -&gt; rasterRotated .setPixel(oH - 1 - y,          x, onePixel);\r\n    \t\t\t\t\tcase CLOCKWISE_270 -&gt; rasterRotated .setPixel(         y, oW - 1 - x, onePixel);\r\n    \t\t\t\t\tdefault            -&gt; rasterRotated .setPixel(oW - 1 - x, oH - 1 - y, onePixel);\r\n    \t\t\t\t};\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\trotated.setData(rasterRotated);\r\n    \r\n    \t\treturn rotated;\r\n    \t}\r\n    }\r\n\r\n","title":"Java: Rotating Images","body":"<p>Here is a solution for rotations of 90, 180 &amp; 270 degrees.</p>\n<p>For these cases, the AffineTransform can introduce some loss/interpolation.</p>\n<p>This solution is lossless &amp; can also handle (esoteric?) Colour Models with more than 8 Bits/Pixel which <code>BufferedImage.getRGB(int x, int y)</code> cannot.</p>\n<p>The solution proceeds on a pixel-by-pixel basis, which has the advantage of being simple to code.</p>\n<p>It is possible to read the original Image row-by-row to gain performance, but its more complex, so I've left that out.</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.awt.image.WritableRaster;\n/**\n * N.B. this example uses the new switch/case/Arrow notation, which requires Java 14.\n */\npublic enum Rotation {\n    CLOCKWISE_90,\n    CLOCKWISE_180,\n    CLOCKWISE_270;\n\n    public BufferedImage rotate(final BufferedImage original) {\n\n        final int oW = original.getWidth();\n        final int oH = original.getHeight();\n\n        final BufferedImage rotated = \n        switch (this) {\n            case CLOCKWISE_180 -&gt; new BufferedImage(oW, oH, original.getType());\n            default            -&gt; new BufferedImage(oH, oW, original.getType());\n        };\n\n        final WritableRaster rasterOriginal = original.copyData(null);\n        final WritableRaster rasterRotated  = rotated .copyData(null);\n        /*\n         * The Data for 1 Pixel...\n         */\n        final int[] onePixel = new int[original.getSampleModel().getNumBands()];\n        /*\n         * Copy the Pixels one-by-one into the result...\n         */\n        for     (int x = 0; x &lt; oW; x++)  {\n            for (int y = 0; y &lt; oH; y++)  {\n                ;                         rasterOriginal.getPixel(         x,          y, onePixel);\n                switch (this) {\n                    case CLOCKWISE_90  -&gt; rasterRotated .setPixel(oH - 1 - y,          x, onePixel);\n                    case CLOCKWISE_270 -&gt; rasterRotated .setPixel(         y, oW - 1 - x, onePixel);\n                    default            -&gt; rasterRotated .setPixel(oW - 1 - x, oH - 1 - y, onePixel);\n                };\n            }\n        }\n        rotated.setData(rasterRotated);\n\n        return rotated;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1040836,"reputation":862,"user_id":1046894,"accept_rate":71,"display_name":"Jimmt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124524,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":8639615,"answer_count":8,"score":23,"last_activity_date":1635517756,"creation_date":1324938697,"question_id":8639567,"body_markdown":"I need to be able to rotate images individually(in java). The only thing I have found so far is g2d.drawImage(image, affinetransform, ImageObserver ). Unfortunately, I need to draw the image at a specific point, and there is no method with an argument that 1.rotates the image separately and 2. allows me to set the x and y. any help is appreciated","title":"Java: Rotating Images","body":"<p>I need to be able to rotate images individually(in java). The only thing I have found so far is g2d.drawImage(image, affinetransform, ImageObserver ). Unfortunately, I need to draw the image at a specific point, and there is no method with an argument that 1.rotates the image separately and 2. allows me to set the x and y. any help is appreciated</p>\n"},{"tags":["java","image","swing","jframe","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635517362,"creation_date":1635517362,"answer_id":69770504,"question_id":69769751,"body_markdown":"&gt; it would be nice if you could explain why when i run this i the image isnt resizing\r\n\r\nWell, the first thing is to learn how to display the image at its actual size BEFORE attempting to scale the image. You can&#39;t display a scaled image if you don&#39;t know how to display the default image.\r\n\r\nThe problem with your code is that you can&#39;t even display the actual image, so trying to display a scaled image has no chance of working.\r\n\r\nWith that in mind you have several structural issues:\r\n\r\n1. Don&#39;t call you class &quot;Frame&quot;. There is an AWT component with that name and it is confusing. A class name should be more descriptive. \r\n2. Don&#39;t extend JFrame. You should only extend a class when you add functionality to the class. Adding components to a frame is not adding functionality,  \r\n3. Components need to be added to the frame BEFORE the frame is made visible. \r\n4. Don&#39;t use setSize(). How can the frame size and the image size be the same? The frame contains a titlebar and borders so it must be larger. Instead you should be using `pack()` before the setVisible(...) statement.\r\n5. Variable names should NOT start with an upper case character. Be consistent.\r\n6. Method names should be descriptive. What does the &quot;Image&quot; method do. Nobody could guess by looking at the method name. Maybe something like &quot;readImages&quot; or &quot;loadImages&quot;?\r\n\r\n**In the Image class:**\r\n\r\n    iPic = ImageIO.read(new File(Picture[i]));\r\n    oPic = new BufferedImage(750 , 500 , iPic.getType());\r\n    Pics[i] = (Image) oPic;\r\n\r\nWhat is the point of the &quot;oPic&quot; variable. The purpose of this method is to read the image, not scale the image. The &quot;oPic&quot; variable just contains an empty BufferedImage.\r\n\r\nSo get rid of that variable and just add the &quot;iPic&quot; image to the array.\r\n\r\n**In the Frame class:**\r\n\r\n    pics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\r\n    ImageIcon WelcomeImage = new ImageIcon(pics[0]);\r\n\r\nThe above code does nothing because the `getScaledInstance(...)` returns a new instance of the Image. So you need to assign it to a variable before you can use it:\r\n\r\n      //  pics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\r\n      //  ImageIcon WelcomeImage = new ImageIcon(pics[0]);\r\n      Image scaled = pics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\r\n      ImageIcon WelcomeImage = new ImageIcon(scaled);\r\n\r\nI suggest you learn Swing basics by reading the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html). Each section contains examples and the code will be better structured. The examples will show you how to create a class without extending JFrame.","title":"This was supposed to get an image in the array and resize it before printing it out to the frame","body":"<blockquote>\n<p>it would be nice if you could explain why when i run this i the image isnt resizing</p>\n</blockquote>\n<p>Well, the first thing is to learn how to display the image at its actual size BEFORE attempting to scale the image. You can't display a scaled image if you don't know how to display the default image.</p>\n<p>The problem with your code is that you can't even display the actual image, so trying to display a scaled image has no chance of working.</p>\n<p>With that in mind you have several structural issues:</p>\n<ol>\n<li>Don't call you class &quot;Frame&quot;. There is an AWT component with that name and it is confusing. A class name should be more descriptive.</li>\n<li>Don't extend JFrame. You should only extend a class when you add functionality to the class. Adding components to a frame is not adding functionality,</li>\n<li>Components need to be added to the frame BEFORE the frame is made visible.</li>\n<li>Don't use setSize(). How can the frame size and the image size be the same? The frame contains a titlebar and borders so it must be larger. Instead you should be using <code>pack()</code> before the setVisible(...) statement.</li>\n<li>Variable names should NOT start with an upper case character. Be consistent.</li>\n<li>Method names should be descriptive. What does the &quot;Image&quot; method do. Nobody could guess by looking at the method name. Maybe something like &quot;readImages&quot; or &quot;loadImages&quot;?</li>\n</ol>\n<p><strong>In the Image class:</strong></p>\n<pre><code>iPic = ImageIO.read(new File(Picture[i]));\noPic = new BufferedImage(750 , 500 , iPic.getType());\nPics[i] = (Image) oPic;\n</code></pre>\n<p>What is the point of the &quot;oPic&quot; variable. The purpose of this method is to read the image, not scale the image. The &quot;oPic&quot; variable just contains an empty BufferedImage.</p>\n<p>So get rid of that variable and just add the &quot;iPic&quot; image to the array.</p>\n<p><strong>In the Frame class:</strong></p>\n<pre><code>pics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\nImageIcon WelcomeImage = new ImageIcon(pics[0]);\n</code></pre>\n<p>The above code does nothing because the <code>getScaledInstance(...)</code> returns a new instance of the Image. So you need to assign it to a variable before you can use it:</p>\n<pre><code>  //  pics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\n  //  ImageIcon WelcomeImage = new ImageIcon(pics[0]);\n  Image scaled = pics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\n  ImageIcon WelcomeImage = new ImageIcon(scaled);\n</code></pre>\n<p>I suggest you learn Swing basics by reading the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a>. Each section contains examples and the code will be better structured. The examples will show you how to create a class without extending JFrame.</p>\n"}],"owner":{"account_id":23182585,"reputation":1,"user_id":17280202,"display_name":"Adeife Kunle-Adenuga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635517492,"creation_date":1635514150,"question_id":69769751,"body_markdown":"The cods first goes to the array and gets the file name. Then it converts it to a Buffered Image and changes the size of the image. It then sends the array of pictures to the main method where it is converted to a JLabel before adding it to the frame. I understand my programming convesion skills are kinda lacking but it would be nice if you could explain why when i run this i the image isnt resizing\r\n\r\nThis is the main class\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Image;\r\n    import java.io.IOException;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    \r\n    public class Frame extends JFrame\r\n    {\r\n    \t\r\n    \t\r\n    \tpublic Frame(JLabel welcomeImage)\r\n    \t{\r\n    \t\tsetTitle(&quot;Tower Defence Game&quot;);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetResizable(false);\r\n    \t\tsetSize(750 , 500);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tsetVisible(true);\r\n    \t\tgetContentPane().setBackground(Color.BLACK);\r\n    \t\tadd(welcomeImage);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static JLabel WelcomeImage(Image[] pics)\r\n    \t{\r\n    \t\t\r\n    \t\tpics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\r\n    \t\tImageIcon WelcomeImage = new ImageIcon(pics[0]);\r\n    \t\t\r\n    \t\tJLabel JWelcomeImage = new JLabel();\r\n    \t\tJWelcomeImage.setIcon(WelcomeImage);\t\r\n    \t\t\r\n    \t\treturn JWelcomeImage;\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException \r\n    \t{\r\n    \t\t\r\n    \t\tImage[] pics = Images.Image();\r\n    \t\tJLabel welcomeImage = WelcomeImage(pics);\r\n    \t\tJFrame frame = new Frame(welcomeImage);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThis is the class that would hold all the images\r\n\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n\r\n\r\n    public class Images\r\n    {\r\n    \t\r\n    \tpublic static Image[] Image() throws IOException\r\n    \t{\r\n    \t\t//Getting all the Picture in a png format \r\n    \t\tString Picture[] =  {&quot;apple.png&quot;};\r\n    \t\t\r\n    \t\t//Getting the Picture as an image\r\n    \t\tImage[] Pics = new Image[Picture.length];\r\n    \t\t\r\n    \t\tBufferedImage iPic;\t\t\r\n    \t\tBufferedImage oPic;\r\n    \t\t\r\n    \t\t//Using a for loop to put the Picture in an array\r\n    \t\tfor(int i = 0; i &lt; Picture.length; i++)\r\n    \t\t{\r\n    \t\t\tiPic = ImageIO.read(new File(Picture[i]));\r\n    \t\t\toPic = new BufferedImage(750 , 500 , iPic.getType());\r\n    \t\t\tPics[i] = (Image) oPic;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn Pics;\r\n    \t\t\r\n    \t}\r\n    \r\n    \t\r\n        }\r\n\r\n\r\n","title":"This was supposed to get an image in the array and resize it before printing it out to the frame","body":"<p>The cods first goes to the array and gets the file name. Then it converts it to a Buffered Image and changes the size of the image. It then sends the array of pictures to the main method where it is converted to a JLabel before adding it to the frame. I understand my programming convesion skills are kinda lacking but it would be nice if you could explain why when i run this i the image isnt resizing</p>\n<p>This is the main class</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Image;\nimport java.io.IOException;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class Frame extends JFrame\n{\n    \n    \n    public Frame(JLabel welcomeImage)\n    {\n        setTitle(&quot;Tower Defence Game&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setResizable(false);\n        setSize(750 , 500);\n        setLocationRelativeTo(null);\n        setVisible(true);\n        getContentPane().setBackground(Color.BLACK);\n        add(welcomeImage);\n    }\n    \n    \n    public static JLabel WelcomeImage(Image[] pics)\n    {\n        \n        pics[0].getScaledInstance(750, 1000, Image.SCALE_DEFAULT);\n        ImageIcon WelcomeImage = new ImageIcon(pics[0]);\n        \n        JLabel JWelcomeImage = new JLabel();\n        JWelcomeImage.setIcon(WelcomeImage);    \n        \n        return JWelcomeImage;   \n    }\n    \n    \n    public static void main(String[] args) throws IOException \n    {\n        \n        Image[] pics = Images.Image();\n        JLabel welcomeImage = WelcomeImage(pics);\n        JFrame frame = new Frame(welcomeImage);\n    }\n\n}\n</code></pre>\n<p>This is the class that would hold all the images</p>\n<pre><code>import java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\n\n\npublic class Images\n{\n    \n    public static Image[] Image() throws IOException\n    {\n        //Getting all the Picture in a png format \n        String Picture[] =  {&quot;apple.png&quot;};\n        \n        //Getting the Picture as an image\n        Image[] Pics = new Image[Picture.length];\n        \n        BufferedImage iPic;     \n        BufferedImage oPic;\n        \n        //Using a for loop to put the Picture in an array\n        for(int i = 0; i &lt; Picture.length; i++)\n        {\n            iPic = ImageIO.read(new File(Picture[i]));\n            oPic = new BufferedImage(750 , 500 , iPic.getType());\n            Pics[i] = (Image) oPic;\n        }\n        \n        return Pics;\n        \n    }\n\n    \n    }\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":14846857,"reputation":19,"user_id":10721955,"display_name":"Aimin"},"score":0,"creation_date":1635517430,"post_id":69758425,"comment_id":123327494,"body_markdown":"@AlexMamo I&#39;ve added some more info, hope it&#39;ll help","body":"@AlexMamo I&#39;ve added some more info, hope it&#39;ll help"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635518044,"post_id":69758425,"comment_id":123327742,"body_markdown":"Most likely you should use your own adapters.","body":"Most likely you should use your own adapters."}],"owner":{"account_id":14846857,"reputation":19,"user_id":10721955,"display_name":"Aimin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635517408,"creation_date":1635441501,"question_id":69758425,"body_markdown":"I am creating an application and I need to use a nested FirebaseRecyclerAdapter. But I can&#39;t find examples on the Internet of how to do it correctly, maybe someone can show with an example how to do it correctly.\r\n\r\n\r\nHere is my main adapter inside which I need to implement the second adapter:\r\n\r\n    FirebaseRecyclerOptions options = new FirebaseRecyclerOptions.Builder&lt;DataSnapshot&gt;()\r\n                    .setLifecycleOwner((LifecycleOwner)mContext)\r\n                    .setQuery(FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).child(postId).child(&quot;Comments&quot;), new SnapshotParser&lt;DataSnapshot&gt;() {\r\n                        @NonNull\r\n                        @Override\r\n                        public DataSnapshot parseSnapshot(@NonNull DataSnapshot snapshot) {\r\n                            return snapshot;\r\n                        }\r\n                    }).build();\r\n    \r\n            adapter = new FirebaseRecyclerAdapter&lt;DataSnapshot, CommentAdapter&gt;(options)\r\n            {\r\n                @NonNull\r\n                @Override\r\n                public CommentAdapter onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                    View view = LayoutInflater.from(parent.getContext())\r\n                            .inflate(R.layout.comments, parent, false);\r\n                    return new CommentAdapter(view);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                protected void onBindViewHolder(@NonNull CommentAdapter holder, int position, @NonNull DataSnapshot model) {\r\n                    String comment = model.child(&quot;comment&quot;).getValue(String.class);\r\n                    Long dateLong = Long.parseLong(model.child(&quot;time&quot;).getValue(String.class));\r\n                    commentID = model.child(&quot;commentId&quot;).getValue(String.class);\r\n    \r\n                    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyy HH:mm&quot;);\r\n                    Date date = new Date(dateLong);\r\n    \r\n                    Query query = postsReference.orderByKey().equalTo(postId);\r\n                    query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            for(DataSnapshot dataSnapshot : snapshot.getChildren())\r\n                            {\r\n                                String image = dataSnapshot.child(&quot;avatarUri&quot;).getValue(String.class);\r\n                                String nickname = dataSnapshot.child(&quot;nickname&quot;).getValue(String.class);\r\n    \r\n                                Picasso.get().load(image).into(holder.avatar);\r\n                                holder.nick.setText(nickname);\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                        }\r\n                    });\r\n                    \r\n                    holder.comment.setText(comment);\r\n                    holder.date.setText(simpleDateFormat.format(date));\r\n    \r\n                    holder.reply.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            writeComment.setText(&quot;@&quot; + holder.nick.getText()+&quot; &quot;);\r\n                            replyLayout.setVisibility(View.VISIBLE);\r\n                            replyLayout.setBackgroundColor(Color.parseColor(&quot;#FF262726&quot;));\r\n                            replyTo.setText(&quot;Replying to &quot; + holder.nick.getText());\r\n    \r\n                        }\r\n                    });\r\n    \r\n                    replyLinearLayoutManager = new LinearLayoutManager(mContext, LinearLayoutManager.VERTICAL, false);\r\n                    holder.mRecyclerView.setLayoutManager(replyLinearLayoutManager);\r\n                    holder.mRecyclerView.setHasFixedSize(true);\r\n\r\nFirebaseRecyclerAdapter replyAdapter = setReplyAdapter();\r\n\r\n                holder.mRecyclerView.setAdapter(replyAdapter);\r\n                replyAdapter.startListening();\r\n                }\r\n            };\r\n\r\n\r\nReply class:\r\n\r\n    public class Reply {\r\n        private String userId;\r\n        private String comment;\r\n        private String date;\r\n        private String commentId;\r\n        \r\n        public Reply()\r\n        {\r\n    \r\n        }\r\n    \r\n        public Reply(String userId, String comment, String date, String commentId)\r\n        {\r\n            this.comment = comment;\r\n            this.userId = userId;\r\n            this.date = date;\r\n            this.commentId = commentId;\r\n        }\r\n        \r\n        public String getCommentId() {\r\n            return commentId;\r\n        }\r\n    \r\n        public void setCommentId(String commentId) {\r\n            this.commentId = commentId;\r\n        }\r\n    \r\n        public String getUserId() {\r\n            return userId;\r\n        }\r\n    \r\n        public void setUserId(String userId) {\r\n            this.userId = userId;\r\n        }\r\n    \r\n        public String getComment() {\r\n            return comment;\r\n        }\r\n    \r\n        public void setComment(String comment) {\r\n            this.comment = comment;\r\n        }\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    }\r\n\r\n\r\nReplyRecyclerViewAdapter:\r\n\r\n    public class ReplyRecyclerViewAdapter extends RecyclerView.ViewHolder{\r\n         CircleImageView avatar;\r\n         TextView nick, comment, date, reply;\r\n    \r\n        public ReplyRecyclerViewAdapter(@NonNull View view) {\r\n            super(view);\r\n    \r\n            avatar = view.findViewById(R.id.commentator_avatar_reply);\r\n            nick = view.findViewById(R.id.commentator_nick_reply);\r\n            comment = view.findViewById(R.id.comment_text_reply);\r\n            date = view.findViewById(R.id.reply_date);\r\n            reply = view.findViewById(R.id.reply);\r\n        }\r\n    }\r\n\r\n\r\nAnd this is the method in which I call the nested adapter initialization, but I have a problem that when I try to call a variable of this class from holder, the variable does not see them. I marked these fields with comments in the code.\r\n\r\n\r\n     private FirebaseRecyclerAdapter setReplyAdapter()\r\n        {\r\n            FirebaseRecyclerOptions optionsReply = new FirebaseRecyclerOptions.Builder&lt;DataSnapshot&gt;()\r\n                    .setLifecycleOwner((LifecycleOwner)mContext)\r\n                    .setQuery(FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).child(postId).child(&quot;Comments&quot;).child(commentID).child(&quot;Reply&quot;), new SnapshotParser&lt;DataSnapshot&gt;() {\r\n                        @NonNull\r\n                        @Override\r\n                        public DataSnapshot parseSnapshot(@NonNull DataSnapshot snapshot) {\r\n                            return snapshot;\r\n                        }\r\n                    }).build();\r\n    \r\n            FirebaseRecyclerAdapter replyAdapter = new FirebaseRecyclerAdapter&lt;DataSnapshot, ReplyRecyclerViewAdapter&gt;(optionsReply)\r\n            {\r\n    \r\n                @NonNull\r\n                @Override\r\n                public ReplyRecyclerViewAdapter onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                    View view = LayoutInflater.from(parent.getContext())\r\n                            .inflate(R.layout.comments, parent, false);\r\n    \r\n                    return new ReplyRecyclerViewAdapter(view);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                protected void onBindViewHolder(@NonNull ReplyRecyclerViewAdapter holder, int position, @NonNull DataSnapshot model) {\r\n                    String comment = model.child(&quot;comment&quot;).getValue(String.class);\r\n                    Long dateLong = Long.parseLong(model.child(&quot;time&quot;).getValue(String.class));\r\n                    commentID = model.child(&quot;commentId&quot;).getValue(String.class);\r\n                    replyReference = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).child(postId).child(&quot;Comments&quot;).child(commentID).child(&quot;Reply&quot;);\r\n    \r\n                    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyy HH:mm&quot;);\r\n    \r\n                   Date date = new Date(dateLong);\r\n    \r\n                    Query query = postsReference.orderByKey().equalTo(postId);\r\n                    query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            for(DataSnapshot dataSnapshot : snapshot.getChildren())\r\n                            {\r\n                                String image = dataSnapshot.child(&quot;avatarUri&quot;).getValue(String.class);\r\n                                String nickname = dataSnapshot.child(&quot;nickname&quot;).getValue(String.class);\r\n    \r\n    \r\n                                Picasso.get().load(image).into(holder.avatar); //holder.avatar it cannot find avatar variable\r\n                                holder.nick.setText(nickname); //the same is here\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n                    holder.comment.setText(comment); //here\r\n                    holder.date.setText(simpleDateFormat.format(date)); //here\r\n                    \r\n                }\r\n            };\r\n    \r\n            return replyAdapter;\r\n        }\r\n\r\n","title":"Nested FIrebaseRecyclerAdapter","body":"<p>I am creating an application and I need to use a nested FirebaseRecyclerAdapter. But I can't find examples on the Internet of how to do it correctly, maybe someone can show with an example how to do it correctly.</p>\n<p>Here is my main adapter inside which I need to implement the second adapter:</p>\n<pre><code>FirebaseRecyclerOptions options = new FirebaseRecyclerOptions.Builder&lt;DataSnapshot&gt;()\n                .setLifecycleOwner((LifecycleOwner)mContext)\n                .setQuery(FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).child(postId).child(&quot;Comments&quot;), new SnapshotParser&lt;DataSnapshot&gt;() {\n                    @NonNull\n                    @Override\n                    public DataSnapshot parseSnapshot(@NonNull DataSnapshot snapshot) {\n                        return snapshot;\n                    }\n                }).build();\n\n        adapter = new FirebaseRecyclerAdapter&lt;DataSnapshot, CommentAdapter&gt;(options)\n        {\n            @NonNull\n            @Override\n            public CommentAdapter onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext())\n                        .inflate(R.layout.comments, parent, false);\n                return new CommentAdapter(view);\n            }\n\n\n            @Override\n            protected void onBindViewHolder(@NonNull CommentAdapter holder, int position, @NonNull DataSnapshot model) {\n                String comment = model.child(&quot;comment&quot;).getValue(String.class);\n                Long dateLong = Long.parseLong(model.child(&quot;time&quot;).getValue(String.class));\n                commentID = model.child(&quot;commentId&quot;).getValue(String.class);\n\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyy HH:mm&quot;);\n                Date date = new Date(dateLong);\n\n                Query query = postsReference.orderByKey().equalTo(postId);\n                query.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        for(DataSnapshot dataSnapshot : snapshot.getChildren())\n                        {\n                            String image = dataSnapshot.child(&quot;avatarUri&quot;).getValue(String.class);\n                            String nickname = dataSnapshot.child(&quot;nickname&quot;).getValue(String.class);\n\n                            Picasso.get().load(image).into(holder.avatar);\n                            holder.nick.setText(nickname);\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n                \n                holder.comment.setText(comment);\n                holder.date.setText(simpleDateFormat.format(date));\n\n                holder.reply.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        writeComment.setText(&quot;@&quot; + holder.nick.getText()+&quot; &quot;);\n                        replyLayout.setVisibility(View.VISIBLE);\n                        replyLayout.setBackgroundColor(Color.parseColor(&quot;#FF262726&quot;));\n                        replyTo.setText(&quot;Replying to &quot; + holder.nick.getText());\n\n                    }\n                });\n\n                replyLinearLayoutManager = new LinearLayoutManager(mContext, LinearLayoutManager.VERTICAL, false);\n                holder.mRecyclerView.setLayoutManager(replyLinearLayoutManager);\n                holder.mRecyclerView.setHasFixedSize(true);\n</code></pre>\n<p>FirebaseRecyclerAdapter replyAdapter = setReplyAdapter();</p>\n<pre><code>            holder.mRecyclerView.setAdapter(replyAdapter);\n            replyAdapter.startListening();\n            }\n        };\n</code></pre>\n<p>Reply class:</p>\n<pre><code>public class Reply {\n    private String userId;\n    private String comment;\n    private String date;\n    private String commentId;\n    \n    public Reply()\n    {\n\n    }\n\n    public Reply(String userId, String comment, String date, String commentId)\n    {\n        this.comment = comment;\n        this.userId = userId;\n        this.date = date;\n        this.commentId = commentId;\n    }\n    \n    public String getCommentId() {\n        return commentId;\n    }\n\n    public void setCommentId(String commentId) {\n        this.commentId = commentId;\n    }\n\n    public String getUserId() {\n        return userId;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getComment() {\n        return comment;\n    }\n\n    public void setComment(String comment) {\n        this.comment = comment;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n}\n</code></pre>\n<p>ReplyRecyclerViewAdapter:</p>\n<pre><code>public class ReplyRecyclerViewAdapter extends RecyclerView.ViewHolder{\n     CircleImageView avatar;\n     TextView nick, comment, date, reply;\n\n    public ReplyRecyclerViewAdapter(@NonNull View view) {\n        super(view);\n\n        avatar = view.findViewById(R.id.commentator_avatar_reply);\n        nick = view.findViewById(R.id.commentator_nick_reply);\n        comment = view.findViewById(R.id.comment_text_reply);\n        date = view.findViewById(R.id.reply_date);\n        reply = view.findViewById(R.id.reply);\n    }\n}\n</code></pre>\n<p>And this is the method in which I call the nested adapter initialization, but I have a problem that when I try to call a variable of this class from holder, the variable does not see them. I marked these fields with comments in the code.</p>\n<pre><code> private FirebaseRecyclerAdapter setReplyAdapter()\n    {\n        FirebaseRecyclerOptions optionsReply = new FirebaseRecyclerOptions.Builder&lt;DataSnapshot&gt;()\n                .setLifecycleOwner((LifecycleOwner)mContext)\n                .setQuery(FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).child(postId).child(&quot;Comments&quot;).child(commentID).child(&quot;Reply&quot;), new SnapshotParser&lt;DataSnapshot&gt;() {\n                    @NonNull\n                    @Override\n                    public DataSnapshot parseSnapshot(@NonNull DataSnapshot snapshot) {\n                        return snapshot;\n                    }\n                }).build();\n\n        FirebaseRecyclerAdapter replyAdapter = new FirebaseRecyclerAdapter&lt;DataSnapshot, ReplyRecyclerViewAdapter&gt;(optionsReply)\n        {\n\n            @NonNull\n            @Override\n            public ReplyRecyclerViewAdapter onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                View view = LayoutInflater.from(parent.getContext())\n                        .inflate(R.layout.comments, parent, false);\n\n                return new ReplyRecyclerViewAdapter(view);\n            }\n\n\n            @Override\n            protected void onBindViewHolder(@NonNull ReplyRecyclerViewAdapter holder, int position, @NonNull DataSnapshot model) {\n                String comment = model.child(&quot;comment&quot;).getValue(String.class);\n                Long dateLong = Long.parseLong(model.child(&quot;time&quot;).getValue(String.class));\n                commentID = model.child(&quot;commentId&quot;).getValue(String.class);\n                replyReference = FirebaseDatabase.getInstance().getReference(&quot;Posts&quot;).child(postId).child(&quot;Comments&quot;).child(commentID).child(&quot;Reply&quot;);\n\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyy HH:mm&quot;);\n\n               Date date = new Date(dateLong);\n\n                Query query = postsReference.orderByKey().equalTo(postId);\n                query.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        for(DataSnapshot dataSnapshot : snapshot.getChildren())\n                        {\n                            String image = dataSnapshot.child(&quot;avatarUri&quot;).getValue(String.class);\n                            String nickname = dataSnapshot.child(&quot;nickname&quot;).getValue(String.class);\n\n\n                            Picasso.get().load(image).into(holder.avatar); //holder.avatar it cannot find avatar variable\n                            holder.nick.setText(nickname); //the same is here\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n\n                holder.comment.setText(comment); //here\n                holder.date.setText(simpleDateFormat.format(date)); //here\n                \n            }\n        };\n\n        return replyAdapter;\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1635516124,"post_id":69770136,"comment_id":123326906,"body_markdown":"[mcve] please .. and put a bit of effort into the code formatting to make it readable ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. and put a bit of effort into the code formatting to make it readable .."}],"answers":[{"tags":[],"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635517147,"creation_date":1635517147,"answer_id":69770473,"question_id":69770136,"body_markdown":"You want to display an alert if the same is already present in the info.txt file. Otherwise, you want to open another window. *The way your method has been written, it does **not*** do that. There are too many logical flaws in your code. \r\n\r\nHere is the while loop that you have used. I have added comments to make each task more clear to understand.\r\n\r\n    // if there are more names in the file\r\n    while(n.hasNextLine()) \r\n    {\r\n        // retrieve a name\r\n        String s = n.nextLine();\r\n           \r\n        // check is the inputted name matches with the retrieved name \r\n        if(s.equalsIgnoreCase(name)) \r\n        {\r\n            // if it does, show error dialog and exit\r\n            displayMessage(&quot;Unsuccessfull login. Try again.&quot;, AlertType.ERROR);                         \r\n            break;\r\n        }\r\n\r\n        // if it does not, create a new window\r\n        Pane root;\r\n        try \r\n        {\r\n            root = FXMLLoader.load(getClass().getResource(&quot;/view/CreditCard.fxml&quot;));\r\n            Stage stage=new Stage();\r\n            stage.setScene(new Scene(root, 600, 400));\r\n            stage.setTitle(&quot;CrediCard&quot;);\r\n            stage.show();\r\n        } \r\n        catch (IOException e) { e.printStackTrace(); }\r\n            \r\n        // exit after one iteration\r\n        break;            \r\n    }\r\n\r\n*The last break statement is the problem*. What is happening here is, you check if the first name in the file matches the input name. If it does, show alert, else show new window. *Your method will not check any other name in the file with the input name.* It&#39;s easy to figure out why that happens.\r\n\r\nIf you want to check all the names in the file against the input name and then, if none of the name matches the input name then do what you stated. Here is the way that will work.\r\n\r\n    void submitButton(ActionEvent actionEvent)\r\n    {\r\n        File infoFile = new File(&quot;path/to/file&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        String inputName = nameTextField.getText();\r\n\r\n        while (scanner.hasNextLine())\r\n        {\r\n            String fileName = scanner.nextLine();\r\n      \r\n            if (inputName.equalsIgnoreCase(fileName))\r\n            {\r\n                // show alert\r\n                return;\r\n            }\r\n        }\r\n       \r\n        // you will only reach here if none of the file name matches the input name\r\n        // show new window\r\n    } ","title":"how to compare input with file data","body":"<p>You want to display an alert if the same is already present in the info.txt file. Otherwise, you want to open another window. <em>The way your method has been written, it does <strong>not</strong></em> do that. There are too many logical flaws in your code.</p>\n<p>Here is the while loop that you have used. I have added comments to make each task more clear to understand.</p>\n<pre><code>// if there are more names in the file\nwhile(n.hasNextLine()) \n{\n    // retrieve a name\n    String s = n.nextLine();\n       \n    // check is the inputted name matches with the retrieved name \n    if(s.equalsIgnoreCase(name)) \n    {\n        // if it does, show error dialog and exit\n        displayMessage(&quot;Unsuccessfull login. Try again.&quot;, AlertType.ERROR);                         \n        break;\n    }\n\n    // if it does not, create a new window\n    Pane root;\n    try \n    {\n        root = FXMLLoader.load(getClass().getResource(&quot;/view/CreditCard.fxml&quot;));\n        Stage stage=new Stage();\n        stage.setScene(new Scene(root, 600, 400));\n        stage.setTitle(&quot;CrediCard&quot;);\n        stage.show();\n    } \n    catch (IOException e) { e.printStackTrace(); }\n        \n    // exit after one iteration\n    break;            \n}\n</code></pre>\n<p><em>The last break statement is the problem</em>. What is happening here is, you check if the first name in the file matches the input name. If it does, show alert, else show new window. <em>Your method will not check any other name in the file with the input name.</em> It's easy to figure out why that happens.</p>\n<p>If you want to check all the names in the file against the input name and then, if none of the name matches the input name then do what you stated. Here is the way that will work.</p>\n<pre><code>void submitButton(ActionEvent actionEvent)\n{\n    File infoFile = new File(&quot;path/to/file&quot;);\n    Scanner scanner = new Scanner(System.in);\n\n    String inputName = nameTextField.getText();\n\n    while (scanner.hasNextLine())\n    {\n        String fileName = scanner.nextLine();\n  \n        if (inputName.equalsIgnoreCase(fileName))\n        {\n            // show alert\n            return;\n        }\n    }\n   \n    // you will only reach here if none of the file name matches the input name\n    // show new window\n} \n</code></pre>\n"}],"owner":{"account_id":18005888,"reputation":17,"user_id":13086677,"display_name":"AAA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69770473,"answer_count":1,"score":-1,"last_activity_date":1635517147,"creation_date":1635515646,"question_id":69770136,"body_markdown":"I&#39;m trying to compare user input name to the exists names in the file javaFx if it the same name will get alert if not another window will appear. but I always get new window even if the name exists any suggestion? \r\n\r\n```\r\nvoid submitBu(ActionEvent event) throws FileNotFoundException {\r\n    \t\r\n    \tFile file=new File(&quot;/Users/AL/info.txt&quot;);\r\n    \t\r\n    \tString name=nameTextField.getText();\r\n    \t\r\n\t\tScanner n =new Scanner(file);\r\n\t\t\r\n\t\t\t//show alert if info already exists in file\r\n\t\t\r\n\t\t\r\n\t\twhile(n.hasNextLine()) {\r\n\t\t\tString s=n.nextLine();\r\n\t\t\t\r\n\t\tif(s.equalsIgnoreCase(name)) {\r\n\t\t\t displayMessage(&quot;Unsuccessfull login. Try again.&quot;, AlertType.ERROR);\r\n\t\t\t break;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\r\n\t\t\tPane root;\r\n\t\t\ttry {\r\n\t\t\t\troot = FXMLLoader.load(getClass().getResource(&quot;/view/CreditCard.fxml&quot;));\r\n\t\t\t\tStage stage=new Stage();\r\n\t\t        stage.setScene(new Scene(root, 600, 400));\r\n\t\t        stage.setTitle(&quot;CrediCard&quot;);\r\n\t\t        stage.show();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\tbreak;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t}\r\n    }\r\n    \r\n\r\n```","title":"how to compare input with file data","body":"<p>I'm trying to compare user input name to the exists names in the file javaFx if it the same name will get alert if not another window will appear. but I always get new window even if the name exists any suggestion?</p>\n<pre><code>void submitBu(ActionEvent event) throws FileNotFoundException {\n        \n        File file=new File(&quot;/Users/AL/info.txt&quot;);\n        \n        String name=nameTextField.getText();\n        \n        Scanner n =new Scanner(file);\n        \n            //show alert if info already exists in file\n        \n        \n        while(n.hasNextLine()) {\n            String s=n.nextLine();\n            \n        if(s.equalsIgnoreCase(name)) {\n             displayMessage(&quot;Unsuccessfull login. Try again.&quot;, AlertType.ERROR);\n             break;\n        }\n        \n        \n            \n\n            Pane root;\n            try {\n                root = FXMLLoader.load(getClass().getResource(&quot;/view/CreditCard.fxml&quot;));\n                Stage stage=new Stage();\n                stage.setScene(new Scene(root, 600, 400));\n                stage.setTitle(&quot;CrediCard&quot;);\n                stage.show();\n            } catch (IOException e) {\n                \n                e.printStackTrace();\n            }\n            \n            \n        \n        break;\n        \n        \n        \n        }\n    }\n    \n\n</code></pre>\n"},{"tags":["java","maven","asciidoctor"],"answers":[{"tags":[],"owner":{"account_id":18030424,"reputation":11,"user_id":13105206,"display_name":"tim-danger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635516760,"creation_date":1635516760,"answer_id":69770387,"question_id":69450555,"body_markdown":"The idea is to only manage a single Maven project that contains all documentation including documentation from related projects that are also in our Gitlab repository. That is why I wanted to reference .adoc-files in those related projects by using ```include::https://concreteURLToAdocFile```.\r\n\r\nHowever, we realized, that it is a better idea to use the ```maven-dependency-plugin``` to first copy the .adoc-files from the other projects and then reference them locally.\r\n\r\nThis solution solved our concrete problem, however, it did not answer my original question. ","title":"Ascii-Doc Maven Plugin (include resources via https)","body":"<p>The idea is to only manage a single Maven project that contains all documentation including documentation from related projects that are also in our Gitlab repository. That is why I wanted to reference .adoc-files in those related projects by using <code>include::https://concreteURLToAdocFile</code>.</p>\n<p>However, we realized, that it is a better idea to use the <code>maven-dependency-plugin</code> to first copy the .adoc-files from the other projects and then reference them locally.</p>\n<p>This solution solved our concrete problem, however, it did not answer my original question.</p>\n"}],"owner":{"account_id":18030424,"reputation":11,"user_id":13105206,"display_name":"tim-danger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635516760,"creation_date":1633437262,"question_id":69450555,"body_markdown":"Is there a way to configure the asciidoc-maven-plugin to include https-resources? I did some research and found the follwing (interesting) information, however, was not able to solve the problem according to the hints provided:\r\n\r\n - https://github.com/asciidoctor/asciidoctor/issues/1049\r\n - https://github.com/asciidoctor/asciidoctor-maven-plugin/issues/153\r\n\r\nThe latter link seemed to adress the exact problem I have, however, upgrading / changing versions did not have any effect.\r\n\r\nThe following pom.xml file is a minimum working example that allows you to replicate the problem:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;de.myproject&lt;/groupId&gt;\r\n  &lt;artifactId&gt;my-project&lt;/artifactId&gt;\r\n  &lt;version&gt;${revision}&lt;/version&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\r\n\t&lt;asciidoctor.maven.plugin.version&gt;2.2.1&lt;/asciidoctor.maven.plugin.version&gt;\r\n\t&lt;asciidoctorj.diagram.version&gt;2.2.0&lt;/asciidoctorj.diagram.version&gt;\r\n\t&lt;asciidoctorj.version&gt;2.5.2&lt;/asciidoctorj.version&gt;\r\n\t&lt;jruby.version&gt;9.2.17.0&lt;/jruby.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n\r\n    &lt;plugins&gt;\r\n\t  &lt;plugin&gt;\r\n        &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n        &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${asciidoctor.maven.plugin.version}&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n          &lt;execution&gt;\r\n\t\t    &lt;id&gt;output-html5&lt;/id&gt; \r\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n              &lt;sourceDirectory&gt;src/main/docs&lt;/sourceDirectory&gt;\r\n              &lt;outputDirectory&gt;target/docs&lt;/outputDirectory&gt;\r\n              &lt;backend&gt;html5&lt;/backend&gt;\r\n\t\t\t  &lt;doctype&gt;book&lt;/doctype&gt;\r\n\t\t      &lt;attributes&gt;\r\n\t\t\t    &lt;safe-mode&gt;UNSAFE&lt;/safe-mode&gt;\r\n                &lt;allow-uri-read&gt;true&lt;/allow-uri-read&gt;\r\n              &lt;/attributes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n\t\t  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;asciidoctorj&lt;/artifactId&gt;\r\n            &lt;version&gt;${asciidoctorj.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n\t\t  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jruby&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jruby-complete&lt;/artifactId&gt;\r\n            &lt;version&gt;${jruby.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\t\r\n  &lt;/build&gt;\r\n  \r\n&lt;/project&gt;\r\n```\r\nNow, if I save the following .adoc-file to the ```src/main/docs``` folder and run ```mvn clean install```, I just get a notice *Unresolved directive in my-project.adoc - include https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/README.adoc* instead of the actual document:\r\n``` \r\n= my-project\r\ninclude::https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/README.adoc[]\r\n```\r\nHowever, if I donwload the above document (README.adoc) and reference it locally, I get the desired result. But this is not the way I want to include documentation by first downloading the file and then referencing it locally. \r\n\r\nDoes someone have an idea?\r\n","title":"Ascii-Doc Maven Plugin (include resources via https)","body":"<p>Is there a way to configure the asciidoc-maven-plugin to include https-resources? I did some research and found the follwing (interesting) information, however, was not able to solve the problem according to the hints provided:</p>\n<ul>\n<li><a href=\"https://github.com/asciidoctor/asciidoctor/issues/1049\" rel=\"nofollow noreferrer\">https://github.com/asciidoctor/asciidoctor/issues/1049</a></li>\n<li><a href=\"https://github.com/asciidoctor/asciidoctor-maven-plugin/issues/153\" rel=\"nofollow noreferrer\">https://github.com/asciidoctor/asciidoctor-maven-plugin/issues/153</a></li>\n</ul>\n<p>The latter link seemed to adress the exact problem I have, however, upgrading / changing versions did not have any effect.</p>\n<p>The following pom.xml file is a minimum working example that allows you to replicate the problem:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.myproject&lt;/groupId&gt;\n  &lt;artifactId&gt;my-project&lt;/artifactId&gt;\n  &lt;version&gt;${revision}&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\n    &lt;asciidoctor.maven.plugin.version&gt;2.2.1&lt;/asciidoctor.maven.plugin.version&gt;\n    &lt;asciidoctorj.diagram.version&gt;2.2.0&lt;/asciidoctorj.diagram.version&gt;\n    &lt;asciidoctorj.version&gt;2.5.2&lt;/asciidoctorj.version&gt;\n    &lt;jruby.version&gt;9.2.17.0&lt;/jruby.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n        &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${asciidoctor.maven.plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;output-html5&lt;/id&gt; \n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;sourceDirectory&gt;src/main/docs&lt;/sourceDirectory&gt;\n              &lt;outputDirectory&gt;target/docs&lt;/outputDirectory&gt;\n              &lt;backend&gt;html5&lt;/backend&gt;\n              &lt;doctype&gt;book&lt;/doctype&gt;\n              &lt;attributes&gt;\n                &lt;safe-mode&gt;UNSAFE&lt;/safe-mode&gt;\n                &lt;allow-uri-read&gt;true&lt;/allow-uri-read&gt;\n              &lt;/attributes&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n            &lt;artifactId&gt;asciidoctorj&lt;/artifactId&gt;\n            &lt;version&gt;${asciidoctorj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.jruby&lt;/groupId&gt;\n            &lt;artifactId&gt;jruby-complete&lt;/artifactId&gt;\n            &lt;version&gt;${jruby.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    \n  &lt;/build&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<p>Now, if I save the following .adoc-file to the <code>src/main/docs</code> folder and run <code>mvn clean install</code>, I just get a notice <em>Unresolved directive in my-project.adoc - include <a href=\"https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/README.adoc\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/README.adoc</a></em> instead of the actual document:</p>\n<pre><code>= my-project\ninclude::https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/README.adoc[]\n</code></pre>\n<p>However, if I donwload the above document (README.adoc) and reference it locally, I get the desired result. But this is not the way I want to include documentation by first downloading the file and then referencing it locally.</p>\n<p>Does someone have an idea?</p>\n"},{"tags":["java","maven","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1635518202,"post_id":69770376,"comment_id":123327814,"body_markdown":"Why is the package add via antrun plugin? Install it into a repository manager and second I really strongly recommend to upgrade your plugins...","body":"Why is the package add via antrun plugin? Install it into a repository manager and second I really strongly recommend to upgrade your plugins..."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":1,"creation_date":1635518848,"post_id":69770376,"comment_id":123328097,"body_markdown":"Why the f...hell are these external classes added like this? Is this a case of &quot;when long-time Ant users become Maven users&quot;? :) This is even weirder than the usual simple, but likewise wrong approach to copy a dependency&#39;s JAR into a `lib` folder. The clean Maven way is to [`install:install-file`](https://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html) into a local repo or to [`deploy:deploy-file`](https://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html) into a remote repo and declare the JAR as `&lt;dependency&gt;` in the POM.","body":"Why the f...hell are these external classes added like this? Is this a case of &quot;when long-time Ant users become Maven users&quot;? :) This is even weirder than the usual simple, but likewise wrong approach to copy a dependency&#39;s JAR into a <code>lib</code> folder. The clean Maven way is to <a href=\"https://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html\" rel=\"nofollow noreferrer\"><code>install:install-file</code></a> into a local repo or to <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html\" rel=\"nofollow noreferrer\"><code>deploy:deploy-file</code></a> into a remote repo and declare the JAR as <code>&lt;dependency&gt;</code> in the POM."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1635519164,"post_id":69770376,"comment_id":123328216,"body_markdown":"As was said before. A proper `&lt;dependency&gt;` will probably solve your problems.","body":"As was said before. A proper <code>&lt;dependency&gt;</code> will probably solve your problems."},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":1,"creation_date":1635521732,"post_id":69770376,"comment_id":123329242,"body_markdown":"@GeroldBroser The external jar may come from another company","body":"@GeroldBroser The external jar may come from another company"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1635522484,"post_id":69770376,"comment_id":123329575,"body_markdown":"@ka3ak This does not make a difference. You need to use a proper `&lt;dependency&gt;`, not some Ant unjar task.","body":"@ka3ak This does not make a difference. You need to use a proper <code>&lt;dependency&gt;</code>, not some Ant unjar task."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635522490,"post_id":69770376,"comment_id":123329578,"body_markdown":"It doesn&#39;t matter were it comes from. A JAR is JAR and there is a canonical way to handle such external ones in Maven. I described it above.","body":"It doesn&#39;t matter were it comes from. A JAR is JAR and there is a canonical way to handle such external ones in Maven. I described it above."},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1635522598,"post_id":69770376,"comment_id":123329628,"body_markdown":"@GeroldBroser Yeah, I know. Thanks. I&#39;ve installed it manually and it works, but it would be great to know how to accomplish it with some configuration in pom.xml, so that it&#39;s installed into local repo during build (or before the build).","body":"@GeroldBroser Yeah, I know. Thanks. I&#39;ve installed it manually and it works, but it would be great to know how to accomplish it with some configuration in pom.xml, so that it&#39;s installed into local repo during build (or before the build)."},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1635522777,"post_id":69770376,"comment_id":123329687,"body_markdown":"@GeroldBroser I think I&#39;ve found the answer here https://stackoverflow.com/a/38339518/971355 Trying...","body":"@GeroldBroser I think I&#39;ve found the answer here <a href=\"https://stackoverflow.com/a/38339518/971355\">stackoverflow.com/a/38339518/971355</a> Trying..."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1635522893,"post_id":69770376,"comment_id":123329730,"body_markdown":"Yes, that&#39;s it. Just in case, the manual ways: https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html, https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html.","body":"Yes, that&#39;s it. Just in case, the manual ways: <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a>&zwnj;&#8203;, <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-3rd-party-jars-remote.htm&zwnj;&#8203;l</a>."}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635516699,"creation_date":1635516699,"question_id":69770376,"body_markdown":"Not sure why Maven Javadoc Plugin reports:\r\n\r\n    [ERROR] /project/src/main/a/b/SomeClass.java:3: error: package com.x does not exist\r\n    [ERROR] import com.x.y;\r\n\r\nThe plugin related part in pom.xml\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                        &lt;sourcepath&gt;${project.basedir}/src/main/java&lt;/sourcepath&gt;\r\n                        &lt;excludePackageNames&gt;com.x.*&lt;/excludePackageNames&gt;\r\n                        &lt;dependencySourceExcludes&gt;com.x.*&lt;/dependencySourceExcludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nAs can be seen from the above code I tried to include the project sources that I want to be processed by JavaDoc in `&lt;sourcepath&gt;` and exclude the problematic package\r\n\r\nThe problem may be caused by the fact that package `com.x.y` is contained within an external jar which is added to the project in the following configuration:\r\n\r\n               &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;tasks&gt;\r\n                                    &lt;echo&gt;Unpack JAR archive with JNI interface&lt;/echo&gt;\r\n                                    &lt;unjar src=&quot;${project.basedir}/x/lib63.jar&quot; dest=&quot;${project.build.directory}/classes&quot;&gt;\r\n                                        &lt;patternset&gt;\r\n                                            &lt;include name=&quot;**/*.class&quot;/&gt;\r\n                                        &lt;/patternset&gt;\r\n                                    &lt;/unjar&gt;\r\n                                &lt;/tasks&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;run&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nHow to ignore those import errors?\r\n\r\nI don&#39;t use the plugin on daily basis so I may not understand all the nuances.\r\nBut I don&#39;t understand why it even tries to analyze the imports. Shouldn&#39;t it just analyze my sources and create html files based on javadoc comments?\r\n\r\nP.S. Without javadoc plugin the build is successful","title":"maven javadoc plugin: package doesn&#39;t exist when an external JAR is used","body":"<p>Not sure why Maven Javadoc Plugin reports:</p>\n<pre><code>[ERROR] /project/src/main/a/b/SomeClass.java:3: error: package com.x does not exist\n[ERROR] import com.x.y;\n</code></pre>\n<p>The plugin related part in pom.xml</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;sourcepath&gt;${project.basedir}/src/main/java&lt;/sourcepath&gt;\n                    &lt;excludePackageNames&gt;com.x.*&lt;/excludePackageNames&gt;\n                    &lt;dependencySourceExcludes&gt;com.x.*&lt;/dependencySourceExcludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>As can be seen from the above code I tried to include the project sources that I want to be processed by JavaDoc in <code>&lt;sourcepath&gt;</code> and exclude the problematic package</p>\n<p>The problem may be caused by the fact that package <code>com.x.y</code> is contained within an external jar which is added to the project in the following configuration:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;tasks&gt;\n                                &lt;echo&gt;Unpack JAR archive with JNI interface&lt;/echo&gt;\n                                &lt;unjar src=&quot;${project.basedir}/x/lib63.jar&quot; dest=&quot;${project.build.directory}/classes&quot;&gt;\n                                    &lt;patternset&gt;\n                                        &lt;include name=&quot;**/*.class&quot;/&gt;\n                                    &lt;/patternset&gt;\n                                &lt;/unjar&gt;\n                            &lt;/tasks&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>How to ignore those import errors?</p>\n<p>I don't use the plugin on daily basis so I may not understand all the nuances.\nBut I don't understand why it even tries to analyze the imports. Shouldn't it just analyze my sources and create html files based on javadoc comments?</p>\n<p>P.S. Without javadoc plugin the build is successful</p>\n"},{"tags":["java","hbase","google-cloud-bigtable","bigtable"],"comments":[{"owner":{"account_id":4244507,"reputation":1608,"user_id":3473568,"accept_rate":70,"display_name":"Billy Jacobson"},"score":0,"creation_date":1635455840,"post_id":69760591,"comment_id":123310770,"body_markdown":"That is not supported by the Bigtable mutation API","body":"That is not supported by the Bigtable mutation API"},{"owner":{"account_id":375135,"reputation":376,"user_id":725779,"accept_rate":43,"display_name":"iralls"},"score":1,"creation_date":1635459638,"post_id":69760591,"comment_id":123311781,"body_markdown":"@BillyJacobson I guess I should have rephrased the question - do you have any alternative approaches to something like this (atomic read + modify value), or is it just not possible?","body":"@BillyJacobson I guess I should have rephrased the question - do you have any alternative approaches to something like this (atomic read + modify value), or is it just not possible?"}],"answers":[{"tags":[],"owner":{"account_id":4244507,"reputation":1608,"user_id":3473568,"accept_rate":70,"display_name":"Billy Jacobson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635516680,"creation_date":1635516680,"answer_id":69770371,"question_id":69760591,"body_markdown":"Doing a mapping like this is not supported by Bigtable, so here is an option you could try. This will only work with single cluster instances due to consistency required for it.\r\n\r\nYou could add a column to keep track of row version (in addition to the existing row versions) and then you can read the data and version, modify it in memory and then do a checkAndMutate with the version and new value. Something like this: \r\n\r\n    Row row = dataClient.readRow(tableId, rowkey);\r\n    ArrayList&lt;RowCell&gt; cells = row.getCells();\r\n\r\n    // Get the value and timestamp/version from the cell you are targetting.\r\n    RowCell cell = cells.get(...);\r\n    long version = cell.getTimestamp();\r\n    ByteString value = cell.getValue();\r\n\r\n    // Do your mapping to the new value.\r\n    ByteString newValue = ...;\r\n\r\n    Mutation mutation =\r\n        Mutation.create().setCell(COLUMN_FAMILY_NAME, COLUMN_NAME, timestamp, newValue);\r\n\r\n    // Filter on a column that tracks the version to do validation.\r\n    Filter filter =\r\n        FILTERS\r\n            .chain()\r\n            .filter(FILTERS.family().exactMatch(COLUMN_FAMILY_NAME))\r\n            .filter(FILTERS.qualifier().exactMatch(VERSION_COLUMN))\r\n            .filter(FILTERS.value().exactMatch(version));\r\n\r\n    ConditionalRowMutation conditionalRowMutation =\r\n        ConditionalRowMutation.create(tableId, rowkey).condition(filter).then(mutation);\r\n\r\n    boolean success = dataClient.checkAndMutateRow(conditionalRowMutation);\r\n\r\n","title":"BigTable ReadModifyWriteRow Support for Mapping Function","body":"<p>Doing a mapping like this is not supported by Bigtable, so here is an option you could try. This will only work with single cluster instances due to consistency required for it.</p>\n<p>You could add a column to keep track of row version (in addition to the existing row versions) and then you can read the data and version, modify it in memory and then do a checkAndMutate with the version and new value. Something like this:</p>\n<pre><code>Row row = dataClient.readRow(tableId, rowkey);\nArrayList&lt;RowCell&gt; cells = row.getCells();\n\n// Get the value and timestamp/version from the cell you are targetting.\nRowCell cell = cells.get(...);\nlong version = cell.getTimestamp();\nByteString value = cell.getValue();\n\n// Do your mapping to the new value.\nByteString newValue = ...;\n\nMutation mutation =\n    Mutation.create().setCell(COLUMN_FAMILY_NAME, COLUMN_NAME, timestamp, newValue);\n\n// Filter on a column that tracks the version to do validation.\nFilter filter =\n    FILTERS\n        .chain()\n        .filter(FILTERS.family().exactMatch(COLUMN_FAMILY_NAME))\n        .filter(FILTERS.qualifier().exactMatch(VERSION_COLUMN))\n        .filter(FILTERS.value().exactMatch(version));\n\nConditionalRowMutation conditionalRowMutation =\n    ConditionalRowMutation.create(tableId, rowkey).condition(filter).then(mutation);\n\nboolean success = dataClient.checkAndMutateRow(conditionalRowMutation);\n</code></pre>\n"}],"owner":{"account_id":375135,"reputation":376,"user_id":725779,"accept_rate":43,"display_name":"iralls"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69770371,"answer_count":1,"score":2,"last_activity_date":1635516680,"creation_date":1635453264,"question_id":69760591,"body_markdown":"I am aware that BigTable supports operations `append` and `increment` using `ReadModifyWriteRow` requests, but I&#39;m wondering if there is support or an alternative way to use more generic mapping functions where the value from the cell can be accessed and modified within some sort of closure? For instance, bitwise `AND`ing a long value in a cell:\r\n\r\n```java\r\nFunction&lt;Long, Long&gt; modifyFunc = f -&gt; f &amp; 10L;\r\n\r\nReadModifyWriteRow\r\n  .create(&quot;tableName&quot;, &quot;rowKey&quot;)\r\n  .apply(&quot;family&quot;, &quot;qualifier&quot;, modifyFunc);\r\n```","title":"BigTable ReadModifyWriteRow Support for Mapping Function","body":"<p>I am aware that BigTable supports operations <code>append</code> and <code>increment</code> using <code>ReadModifyWriteRow</code> requests, but I'm wondering if there is support or an alternative way to use more generic mapping functions where the value from the cell can be accessed and modified within some sort of closure? For instance, bitwise <code>AND</code>ing a long value in a cell:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;Long, Long&gt; modifyFunc = f -&gt; f &amp; 10L;\n\nReadModifyWriteRow\n  .create(&quot;tableName&quot;, &quot;rowKey&quot;)\n  .apply(&quot;family&quot;, &quot;qualifier&quot;, modifyFunc);\n</code></pre>\n"},{"tags":["java","localdatetime"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1635508716,"post_id":69768428,"comment_id":123323647,"body_markdown":"This is because `30:27` is neither a date nor a `DateTime`, it&#39;s a `Duration`","body":"This is because <code>30:27</code> is neither a date nor a <code>DateTime</code>, it&#39;s a <code>Duration</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635508743,"post_id":69768428,"comment_id":123323658,"body_markdown":"A `LocalDateTime` represents a date and a time, e.g. 2021-10-29T12:58:00. Your string &quot;30:27&quot; looks like a `Duration`. Is it a duration?","body":"A <code>LocalDateTime</code> represents a date and a time, e.g. 2021-10-29T12:58:00. Your string &quot;30:27&quot; looks like a <code>Duration</code>. Is it a duration?"},{"owner":{"account_id":2411866,"reputation":7488,"user_id":2153459,"accept_rate":67,"display_name":"Daniel Scott"},"score":0,"creation_date":1635508767,"post_id":69768428,"comment_id":123323664,"body_markdown":"Are you sure you want a `LocalDateTime` object here? If it&#39;s a race time that you&#39;re looking to model, then you should probably be using a `Duration` https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html","body":"Are you sure you want a <code>LocalDateTime</code> object here? If it&#39;s a race time that you&#39;re looking to model, then you should probably be using a <code>Duration</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/Duration.html</a>"},{"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"score":0,"creation_date":1635509268,"post_id":69768428,"comment_id":123323848,"body_markdown":"Can duration represent minutes?","body":"Can duration represent minutes?"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1635515638,"creation_date":1635508723,"answer_id":69768479,"question_id":69768428,"body_markdown":"Well, `LocalDateTime` expects a date component to be present, and a valid time component. Your `30:27` text contains neither: obviously, `30:27` as a *wall clock time* does not exist.\r\n\r\nIt seems you are looking for a *duration* here. Use `Duration`. Note that `Duration` does not have a method to [parse][1] the text `30:27` successfully, so we have to convert it to a ISO period/duration string:\r\n\r\n```java\r\nString[] components = athleteAttributes[3].trim().split(&quot;:&quot;);\r\nString durationStr = String.format(&quot;PT%sM%sS&quot;, components[0], components[1]);\r\nDuration duration = Duration.parse(durationStr);\r\n```\r\n\r\nAlternatively, you could use\r\n\r\n```java\r\nString[] components = athleteAttributes[3].trim().split(&quot;:&quot;);\r\nint minutes = Integer.parseInt(components[0]);\r\nint seconds = Integer.parseInt(components[1]);\r\nDuration duration = Duration.ofMinutes(minutes).plusSeconds(seconds);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)","title":"java.time.format.DateTimeParseException, and I do not know how to solve it","body":"<p>Well, <code>LocalDateTime</code> expects a date component to be present, and a valid time component. Your <code>30:27</code> text contains neither: obviously, <code>30:27</code> as a <em>wall clock time</em> does not exist.</p>\n<p>It seems you are looking for a <em>duration</em> here. Use <code>Duration</code>. Note that <code>Duration</code> does not have a method to <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">parse</a> the text <code>30:27</code> successfully, so we have to convert it to a ISO period/duration string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] components = athleteAttributes[3].trim().split(&quot;:&quot;);\nString durationStr = String.format(&quot;PT%sM%sS&quot;, components[0], components[1]);\nDuration duration = Duration.parse(durationStr);\n</code></pre>\n<p>Alternatively, you could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] components = athleteAttributes[3].trim().split(&quot;:&quot;);\nint minutes = Integer.parseInt(components[0]);\nint seconds = Integer.parseInt(components[1]);\nDuration duration = Duration.ofMinutes(minutes).plusSeconds(seconds);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635516647,"creation_date":1635509626,"answer_id":69768693,"question_id":69768428,"body_markdown":"## What you wrote makes no sense\r\nJust read it and think: A minute + seconds value has absolutely squat to do with the concept of a &#39;local date time&#39;. It&#39;s like writing:\r\n\r\n```\r\nApple a = new Caravan();\r\n```\r\n\r\njust as crazy.\r\n\r\nThose minutes+Seconds represent a __Duration__.\r\n\r\nUnfortunately, `DateTimeFormatter` is fundamentally designed to parse wallclock dates and times.\r\n\r\nThere&#39;s a more central problem here...\r\n\r\n## The problem with wallclock time and durations\r\n\r\nWallclock time and duration are utterly unrelated but humanity doesn&#39;t act like it:\r\n\r\nTV and printed results of races tend to state that someone e.g. ran a mile in &quot;04:23&quot;, which looks exactly like the wallclock time of &quot;It is 23 seconds and 4 minutes past midnight&quot;. However, there is absolutely no relationship __whatsoever__ between these two concepts. This means it&#39;s very confusing when computers need to deal with this stuff: Is `&quot;04:23&quot;`:\r\n\r\n* Someone ran a race in 4 hours and 23 minutes and unspecified seconds.\r\n* Someone ran a race in 4 minutes and 23 seconds.\r\n* It is 23 minutes past 4 o&#39;clock in the early morning.\r\n* It is 23 seconds and 4 minutes past midnight.\r\n\r\nAll of them are reasonable; it depends on context.\r\n\r\nGenerally I say when humans have weird, inconsistent behaviour, software should just make do, but in the ISO (standards) world, this confusion is so hated that they flat out refuse to treat something like &quot;04:23&quot; as a fair way to put in text the notion of &#39;a duration of 4 minutes and 23 seconds&#39;.\r\n\r\nInstead, you get the [ISO8601 Durations format](https://en.wikipedia.org/wiki/ISO_8601#Durations) which would write that as `&quot;PT30m27s&quot;` (P for: This is a period of time, then the T to indicate we aren&#39;t going to name any weeks or days, we&#39;re moving straight to the sub-day stuff, and then 30 minutes and 27 seconds&#39;. You can parse that out of the box `Duration.parse(&quot;PT30m27s&quot;)` works, but you don&#39;t have that kind of string input.\r\n\r\nWhat you have is something that in terms of the date/time APIs is a wallclock time and nothing but wallclock time.\r\n\r\nI explain all this so that you understand why this method simply does not exist: There is no:\r\n\r\n```\r\nDuration d = Duration.parse(&quot;30:27&quot;, DateTimeFormatter.ofPattern(&quot;mm:ss&quot;));\r\n```\r\n\r\nNor any other way to directly turn a string+datetimeformat pattern into an instance of Duration.\r\n\r\n## But wait! There is a trick...\r\n\r\nWe treat the string as wallclock time and then fetch the duration between midnight and that time.\r\n\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.of(&quot;[HH:]mm:ss&quot;);\r\nLocalTime lt = LocalTime.parse(&quot;30:27&quot;, formatter);\r\nDuration d = Duration.between(LocalTime.MIN, lt);\r\n```\r\n\r\nNB: EDITED: Added the `[HH:]` which is mandatory here.\r\n\r\nThat accomplishes your goals: Readable, flexibility in specifying the format string, using just the tools in `java.time`.","title":"java.time.format.DateTimeParseException, and I do not know how to solve it","body":"<h2>What you wrote makes no sense</h2>\n<p>Just read it and think: A minute + seconds value has absolutely squat to do with the concept of a 'local date time'. It's like writing:</p>\n<pre><code>Apple a = new Caravan();\n</code></pre>\n<p>just as crazy.</p>\n<p>Those minutes+Seconds represent a <strong>Duration</strong>.</p>\n<p>Unfortunately, <code>DateTimeFormatter</code> is fundamentally designed to parse wallclock dates and times.</p>\n<p>There's a more central problem here...</p>\n<h2>The problem with wallclock time and durations</h2>\n<p>Wallclock time and duration are utterly unrelated but humanity doesn't act like it:</p>\n<p>TV and printed results of races tend to state that someone e.g. ran a mile in &quot;04:23&quot;, which looks exactly like the wallclock time of &quot;It is 23 seconds and 4 minutes past midnight&quot;. However, there is absolutely no relationship <strong>whatsoever</strong> between these two concepts. This means it's very confusing when computers need to deal with this stuff: Is <code>&quot;04:23&quot;</code>:</p>\n<ul>\n<li>Someone ran a race in 4 hours and 23 minutes and unspecified seconds.</li>\n<li>Someone ran a race in 4 minutes and 23 seconds.</li>\n<li>It is 23 minutes past 4 o'clock in the early morning.</li>\n<li>It is 23 seconds and 4 minutes past midnight.</li>\n</ul>\n<p>All of them are reasonable; it depends on context.</p>\n<p>Generally I say when humans have weird, inconsistent behaviour, software should just make do, but in the ISO (standards) world, this confusion is so hated that they flat out refuse to treat something like &quot;04:23&quot; as a fair way to put in text the notion of 'a duration of 4 minutes and 23 seconds'.</p>\n<p>Instead, you get the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO8601 Durations format</a> which would write that as <code>&quot;PT30m27s&quot;</code> (P for: This is a period of time, then the T to indicate we aren't going to name any weeks or days, we're moving straight to the sub-day stuff, and then 30 minutes and 27 seconds'. You can parse that out of the box <code>Duration.parse(&quot;PT30m27s&quot;)</code> works, but you don't have that kind of string input.</p>\n<p>What you have is something that in terms of the date/time APIs is a wallclock time and nothing but wallclock time.</p>\n<p>I explain all this so that you understand why this method simply does not exist: There is no:</p>\n<pre><code>Duration d = Duration.parse(&quot;30:27&quot;, DateTimeFormatter.ofPattern(&quot;mm:ss&quot;));\n</code></pre>\n<p>Nor any other way to directly turn a string+datetimeformat pattern into an instance of Duration.</p>\n<h2>But wait! There is a trick...</h2>\n<p>We treat the string as wallclock time and then fetch the duration between midnight and that time.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.of(&quot;[HH:]mm:ss&quot;);\nLocalTime lt = LocalTime.parse(&quot;30:27&quot;, formatter);\nDuration d = Duration.between(LocalTime.MIN, lt);\n</code></pre>\n<p>NB: EDITED: Added the <code>[HH:]</code> which is mandatory here.</p>\n<p>That accomplishes your goals: Readable, flexibility in specifying the format string, using just the tools in <code>java.time</code>.</p>\n"}],"owner":{"account_id":23182000,"reputation":21,"user_id":17279700,"display_name":"Darius Boengiu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69768479,"answer_count":2,"score":-1,"last_activity_date":1635516647,"creation_date":1635508454,"question_id":69768428,"body_markdown":"I am trying to get data about some athletes from a csv file, then create athlete objects that are going to be stored in a list.\r\nThe problem is that I get an error when I try to parse the time they&#39;ve got as LocalDateTime.This is the error I get:\r\n\r\n  **Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;30:27&#39; could not \r\n  be parsed: Unable to obtain LocalDateTime from TemporalAccessor: {MinuteOfHour=30, \r\n  MicroOfSecond=0, MilliOfSecond=0, SecondOfMinute=27, NanoOfSecond=0},ISO of type \r\n  java.time.format.Parsed**\r\n\r\nThis is the code:\r\n\t    \r\n\r\n    public static void addAthletes() {\r\n        try (BufferedReader br = new BufferedReader(\r\n                new FileReader(&quot;C:\\\\Users\\\\****\\\\******\\\\**********\\\\src\\\\main\\\\java\\\\ro\\\\sci\\\\tema10_ski_biathlon_standings\\\\standings.csv&quot;))) {\r\n            String line = null;\r\n            while ((line = br.readLine()) != null) {\r\n                athleteList.add(getAthleteFromCsvLine(line));\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static Athlete getAthleteFromCsvLine(String line) {\r\n\r\n        String[] athleteAttributes = line.split(&quot;,&quot;);\r\n\r\n        if (athleteAttributes.length != 7) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n\r\n        int athleteNumber = Integer.parseInt(athleteAttributes[0].trim());\r\n        LocalDateTime skiTimeResults = LocalDateTime.parse(athleteAttributes[3].trim(),\r\n                DateTimeFormatter.ofPattern(&quot;mm:ss&quot;));\r\n\r\n         return new Athlete(\r\n                 athleteNumber,\r\n                 athleteAttributes[1],\r\n                 athleteAttributes[2],\r\n                 skiTimeResults,\r\n                 athleteAttributes[4],\r\n                 athleteAttributes[5],\r\n                 athleteAttributes[6]\r\n         );\r\n\r\n    }\r\n\r\nPlease help me overcome this","title":"java.time.format.DateTimeParseException, and I do not know how to solve it","body":"<p>I am trying to get data about some athletes from a csv file, then create athlete objects that are going to be stored in a list.\nThe problem is that I get an error when I try to parse the time they've got as LocalDateTime.This is the error I get:</p>\n<p><strong>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '30:27' could not\nbe parsed: Unable to obtain LocalDateTime from TemporalAccessor: {MinuteOfHour=30,\nMicroOfSecond=0, MilliOfSecond=0, SecondOfMinute=27, NanoOfSecond=0},ISO of type\njava.time.format.Parsed</strong></p>\n<p>This is the code:</p>\n<pre><code>public static void addAthletes() {\n    try (BufferedReader br = new BufferedReader(\n            new FileReader(&quot;C:\\\\Users\\\\****\\\\******\\\\**********\\\\src\\\\main\\\\java\\\\ro\\\\sci\\\\tema10_ski_biathlon_standings\\\\standings.csv&quot;))) {\n        String line = null;\n        while ((line = br.readLine()) != null) {\n            athleteList.add(getAthleteFromCsvLine(line));\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static Athlete getAthleteFromCsvLine(String line) {\n\n    String[] athleteAttributes = line.split(&quot;,&quot;);\n\n    if (athleteAttributes.length != 7) {\n        throw new IllegalArgumentException();\n    }\n\n    int athleteNumber = Integer.parseInt(athleteAttributes[0].trim());\n    LocalDateTime skiTimeResults = LocalDateTime.parse(athleteAttributes[3].trim(),\n            DateTimeFormatter.ofPattern(&quot;mm:ss&quot;));\n\n     return new Athlete(\n             athleteNumber,\n             athleteAttributes[1],\n             athleteAttributes[2],\n             skiTimeResults,\n             athleteAttributes[4],\n             athleteAttributes[5],\n             athleteAttributes[6]\n     );\n\n}\n</code></pre>\n<p>Please help me overcome this</p>\n"},{"tags":["java","design-patterns","lexical-analysis"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635146658,"creation_date":1635076427,"answer_id":69696488,"question_id":69696293,"body_markdown":"Have you considered the following \r\n\r\n```\r\npublic interface Token {\r\n   String getType();\r\n   String getValue();\r\n}\r\n\r\npublic interface Tokenizer {\r\n   // either \r\n   Iterable&lt;Token&gt; parse(String input);\r\n\r\n   // or\r\n   Stream&lt;Token&gt; parse(String input);\r\n}\r\n\r\npublic class GrammarTokenizer implements Tokenizer {\r\n   private final Grammar grammar;\r\n\r\n   // constructor \r\n\r\n   // method implementations \r\n} \r\n```\r\n","title":"Patterns for making two packages as loosely coupled as possible","body":"<p>Have you considered the following</p>\n<pre><code>public interface Token {\n   String getType();\n   String getValue();\n}\n\npublic interface Tokenizer {\n   // either \n   Iterable&lt;Token&gt; parse(String input);\n\n   // or\n   Stream&lt;Token&gt; parse(String input);\n}\n\npublic class GrammarTokenizer implements Tokenizer {\n   private final Grammar grammar;\n\n   // constructor \n\n   // method implementations \n} \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233637"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635516490,"creation_date":1635076520,"answer_id":69696499,"question_id":69696293,"body_markdown":"Implementing interfaces might help when you want to pass some objects between classes while trying to avoid tight coupling between the classes. In your case, maybe create a Token Interface and reference that interface from your tokenizers and parsers instead of directly referencing the concrete Token Class (the Token Class should implement the Token Interface).\r\n\r\n","title":"Patterns for making two packages as loosely coupled as possible","body":"<p>Implementing interfaces might help when you want to pass some objects between classes while trying to avoid tight coupling between the classes. In your case, maybe create a Token Interface and reference that interface from your tokenizers and parsers instead of directly referencing the concrete Token Class (the Token Class should implement the Token Interface).</p>\n"}],"owner":{"account_id":5606749,"reputation":83,"user_id":4484126,"display_name":"bitcasual"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69696488,"answer_count":2,"score":0,"last_activity_date":1635516490,"creation_date":1635074964,"question_id":69696293,"body_markdown":"So I&#39;m learning to build a parser for a intro class for software design. \r\n\r\nI have built a tokenizer package that splits my input string into Token objects that have getters for both the value and type. I can also return a raw String for value and type of the current token.\r\n\r\nMy public facing interface from the Tokenizer currently looks like this.\r\n\r\n```java\r\npublic Tokenizer(Grammar rules, String input)\r\npublic Token getCurrentToken() {...} // Token has public getters similar to the two methods below\r\npublic String getCurrentValue() {...}\r\npublic String getCurrentType() {...}\r\npublic void nextToken() throws InvalidTokenException {...}\r\npublic void previousToken() {...}\r\n```\r\nIn my Parser class I also have a TokenReceiver(interface) and a TokenizerAdapter class (implements Receiver and my specific tokenizer)\r\n\r\n```java\r\n  public void next();\r\n  public Token getToken();\r\n  public String getType();\r\n  public String getValue();\r\n  public Token getToken();\r\n}\r\n```\r\n\r\nThe rules are that each of the different steps in the parsing has to be done with different packages that are as loosely coupled as possible to any implementation details of the other packages, i.e. the parser should in theory work with **any** tokenizer I find(for example on Github), not just my own Tokenizer implementation, provided I just make an Adapter for it. \r\n\r\nIf I send back the Token objects from the Tokenizer then my parser will have to know about the Token objects (the getter methods specifically), which adds coupling to my Tokenizer implementation. \r\n\r\nSending back straight Strings for the value and type and then creating a another Token class in the Parser package and recreating Tokens objects feels instinctively wrong to me. Could an anonymous inner class for Token in the adapter class be a good solution?\r\n\r\nI&#39;m looking for what kind of patterns or concepts that can help me reference my Tokens from the Tokenizer while preserving a loose coupling to my specific tokenizer implementation. \r\n\r\nSorry if question is really stupid and the answer is really obvious, design patterns are still very abstract to me and we&#39;re learning about so many of them I have a hard time knowing which one to use for different circumstances. ","title":"Patterns for making two packages as loosely coupled as possible","body":"<p>So I'm learning to build a parser for a intro class for software design.</p>\n<p>I have built a tokenizer package that splits my input string into Token objects that have getters for both the value and type. I can also return a raw String for value and type of the current token.</p>\n<p>My public facing interface from the Tokenizer currently looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Tokenizer(Grammar rules, String input)\npublic Token getCurrentToken() {...} // Token has public getters similar to the two methods below\npublic String getCurrentValue() {...}\npublic String getCurrentType() {...}\npublic void nextToken() throws InvalidTokenException {...}\npublic void previousToken() {...}\n</code></pre>\n<p>In my Parser class I also have a TokenReceiver(interface) and a TokenizerAdapter class (implements Receiver and my specific tokenizer)</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void next();\n  public Token getToken();\n  public String getType();\n  public String getValue();\n  public Token getToken();\n}\n</code></pre>\n<p>The rules are that each of the different steps in the parsing has to be done with different packages that are as loosely coupled as possible to any implementation details of the other packages, i.e. the parser should in theory work with <strong>any</strong> tokenizer I find(for example on Github), not just my own Tokenizer implementation, provided I just make an Adapter for it.</p>\n<p>If I send back the Token objects from the Tokenizer then my parser will have to know about the Token objects (the getter methods specifically), which adds coupling to my Tokenizer implementation.</p>\n<p>Sending back straight Strings for the value and type and then creating a another Token class in the Parser package and recreating Tokens objects feels instinctively wrong to me. Could an anonymous inner class for Token in the adapter class be a good solution?</p>\n<p>I'm looking for what kind of patterns or concepts that can help me reference my Tokens from the Tokenizer while preserving a loose coupling to my specific tokenizer implementation.</p>\n<p>Sorry if question is really stupid and the answer is really obvious, design patterns are still very abstract to me and we're learning about so many of them I have a hard time knowing which one to use for different circumstances.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454086843,"creation_date":1454086446,"answer_id":35089897,"question_id":35089257,"body_markdown":"I doubt you will be able to do this using Spring Expression Language (SpEL) inside of a Jackson annotation, as you are trying (with or without the `@Value` annotation).\r\n\r\nI would do this by creating a `JsonSerializer&lt;YourPojo&gt;` and/or `JsonDeserializer&lt;YourPojo&gt;` that takes in your SpEL expressions and creates (or reads) using the provided field names.\r\n\r\n    //make me a spring managed bean!\r\n    public class PojoSerializer extends JsonSerializer&lt;YourPojo&gt; {\r\n        @Value(&quot;${property.file.reference.name&quot;)\r\n        private String nameField;\r\n\r\n        @Value(&quot;${property.file.reference.address&quot;)\r\n        private String addrField;\r\n        \r\n        @Override\r\n        public void serialize(YourPojo pojo, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n            jgen.writeStartObject();\r\n            jgen.writeStringField(nameField, pojo.getName());\r\n            jgen.writeStringField(addrField, pojo.getAddress());\r\n            jgen.writeEndObject();\r\n        }\r\n    }\r\n\r\nBeing that this is a Spring managed bean, you would need to plug this into your Spring managed `ObjectMapper`.\r\n\r\n    ObjectMapper mapper = //my ObjectMapper from spring\r\n    PojoSerializer pojoSerializer = //my PojoSerializer from spring\r\n\r\n    SimpleModule module = new SimpleModule(&quot;MyModule&quot;, new Version(1, 0, 0, null));\r\n    module.addSerializer(YourPojo.class, pojoSerializer);\r\n    mapper.registerModule(module);\r\n\r\nSome of this might not be necessary with SpringBoot&#39;s AutoConfiguration.  I am generally unaware to what SpringBoot will pick up for its Jackson AutoConfiguration, but `JsonSerializer` and `JsonDeserializer` might be autoregistered if they are in the `ApplicationContext`.","title":"Conditional JsonProperty using Jackson with Spring Boot","body":"<p>I doubt you will be able to do this using Spring Expression Language (SpEL) inside of a Jackson annotation, as you are trying (with or without the <code>@Value</code> annotation).</p>\n\n<p>I would do this by creating a <code>JsonSerializer&lt;YourPojo&gt;</code> and/or <code>JsonDeserializer&lt;YourPojo&gt;</code> that takes in your SpEL expressions and creates (or reads) using the provided field names.</p>\n\n<pre><code>//make me a spring managed bean!\npublic class PojoSerializer extends JsonSerializer&lt;YourPojo&gt; {\n    @Value(\"${property.file.reference.name\")\n    private String nameField;\n\n    @Value(\"${property.file.reference.address\")\n    private String addrField;\n\n    @Override\n    public void serialize(YourPojo pojo, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\n        jgen.writeStartObject();\n        jgen.writeStringField(nameField, pojo.getName());\n        jgen.writeStringField(addrField, pojo.getAddress());\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n\n<p>Being that this is a Spring managed bean, you would need to plug this into your Spring managed <code>ObjectMapper</code>.</p>\n\n<pre><code>ObjectMapper mapper = //my ObjectMapper from spring\nPojoSerializer pojoSerializer = //my PojoSerializer from spring\n\nSimpleModule module = new SimpleModule(\"MyModule\", new Version(1, 0, 0, null));\nmodule.addSerializer(YourPojo.class, pojoSerializer);\nmapper.registerModule(module);\n</code></pre>\n\n<p>Some of this might not be necessary with SpringBoot's AutoConfiguration.  I am generally unaware to what SpringBoot will pick up for its Jackson AutoConfiguration, but <code>JsonSerializer</code> and <code>JsonDeserializer</code> might be autoregistered if they are in the <code>ApplicationContext</code>.</p>\n"},{"tags":[],"owner":{"account_id":7008480,"reputation":51,"user_id":5372166,"display_name":"Matiz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589454740,"creation_date":1589454740,"answer_id":61795939,"question_id":35089257,"body_markdown":"I apologize for reviving an old question however I still was not able to find satisfying answer.\r\n\r\nHere&#39;s my solution using extended `JacksonAnnotationIntrospector` which allows to use `${environment.properties}` within `@JsonProperty` annotation\r\n\r\nFirst extend the introspector\r\n```\r\npublic class DynamicJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\r\n    private final Environment environment;\r\n\r\n    public DynamicJacksonAnnotationIntrospector(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    @Override\r\n    public PropertyName findNameForSerialization(Annotated a) {\r\n        PropertyName name = super.findNameForSerialization(a);\r\n        if (name == null) {\r\n            return null;\r\n        }\r\n        String simpleName = name.getSimpleName();\r\n        return PropertyName.construct(environment.resolvePlaceholders(simpleName), name.getNamespace());\r\n    }\r\n    //For deserialization I think the same mechanism could be used,\r\n    //just override `findNameForDeserialization`, although I haven&#39;t tested it\r\n}\r\n```\r\n\r\nThen use it with `ObjectMapper` configuration\r\n```\r\n@Configuration\r\npublic class ObjectMapperConfiguration {\r\n    @Bean\r\n    public ObjectMapper getObjectMapper(DynamicJacksonAnnotationIntrospector introspector) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        SerializationConfig config = mapper.getSerializationConfig().withInsertedAnnotationIntrospector(introspector);\r\n        mapper.setConfig(config);\r\n        return mapper;\r\n    }\r\n\r\n    @Bean\r\n    public DynamicJacksonAnnotationIntrospector introspector(Environment environment) {\r\n        return new DynamicJacksonAnnotationIntrospector(environment);\r\n    }\r\n}\r\n```\r\n\r\nExamples:\r\n```\r\npublic class DynamicTestClass {\r\n    @JsonProperty(&quot;${dynamic.property.name}&quot;)\r\n    private String dynamicPropertyName;\r\n    //getters/setters\r\n}\r\n```\r\n```\r\n@ContextConfiguration(classes = [\r\n        ObjectMapperConfiguration\r\n])\r\n@TestPropertySource(&quot;classpath:test.properties&quot;)\r\nclass DynamicJacksonAnnotationIntrospectorTest extends Specification {\r\n    @Autowired\r\n    ObjectMapper mapper\r\n\r\n    def &quot;should find name for serialization from properties&quot;() {\r\n        def bean = new DynamicTestClass()\r\n        bean.dynamicPropertyName = &quot;qwerty&quot;\r\n\r\n        when:\r\n        def result = mapper.writeValueAsString(bean)\r\n\r\n        then:\r\n        result == &quot;{\\&quot;overriddenName\\&quot;:\\&quot;qwerty\\&quot;}&quot;\r\n    }\r\n}\r\n```\r\ntest.properties\r\n```\r\ndynamic.property.name=overriddenName\r\n```\r\n\r\nThe solution is reverse compatible so you can still use constant values in `@JsonProperty`","title":"Conditional JsonProperty using Jackson with Spring Boot","body":"<p>I apologize for reviving an old question however I still was not able to find satisfying answer.</p>\n\n<p>Here's my solution using extended <code>JacksonAnnotationIntrospector</code> which allows to use <code>${environment.properties}</code> within <code>@JsonProperty</code> annotation</p>\n\n<p>First extend the introspector</p>\n\n<pre><code>public class DynamicJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\n    private final Environment environment;\n\n    public DynamicJacksonAnnotationIntrospector(Environment environment) {\n        this.environment = environment;\n    }\n\n    @Override\n    public PropertyName findNameForSerialization(Annotated a) {\n        PropertyName name = super.findNameForSerialization(a);\n        if (name == null) {\n            return null;\n        }\n        String simpleName = name.getSimpleName();\n        return PropertyName.construct(environment.resolvePlaceholders(simpleName), name.getNamespace());\n    }\n    //For deserialization I think the same mechanism could be used,\n    //just override `findNameForDeserialization`, although I haven't tested it\n}\n</code></pre>\n\n<p>Then use it with <code>ObjectMapper</code> configuration</p>\n\n<pre><code>@Configuration\npublic class ObjectMapperConfiguration {\n    @Bean\n    public ObjectMapper getObjectMapper(DynamicJacksonAnnotationIntrospector introspector) {\n        ObjectMapper mapper = new ObjectMapper();\n        SerializationConfig config = mapper.getSerializationConfig().withInsertedAnnotationIntrospector(introspector);\n        mapper.setConfig(config);\n        return mapper;\n    }\n\n    @Bean\n    public DynamicJacksonAnnotationIntrospector introspector(Environment environment) {\n        return new DynamicJacksonAnnotationIntrospector(environment);\n    }\n}\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>public class DynamicTestClass {\n    @JsonProperty(\"${dynamic.property.name}\")\n    private String dynamicPropertyName;\n    //getters/setters\n}\n</code></pre>\n\n<pre><code>@ContextConfiguration(classes = [\n        ObjectMapperConfiguration\n])\n@TestPropertySource(\"classpath:test.properties\")\nclass DynamicJacksonAnnotationIntrospectorTest extends Specification {\n    @Autowired\n    ObjectMapper mapper\n\n    def \"should find name for serialization from properties\"() {\n        def bean = new DynamicTestClass()\n        bean.dynamicPropertyName = \"qwerty\"\n\n        when:\n        def result = mapper.writeValueAsString(bean)\n\n        then:\n        result == \"{\\\"overriddenName\\\":\\\"qwerty\\\"}\"\n    }\n}\n</code></pre>\n\n<p>test.properties</p>\n\n<pre><code>dynamic.property.name=overriddenName\n</code></pre>\n\n<p>The solution is reverse compatible so you can still use constant values in <code>@JsonProperty</code></p>\n"},{"tags":[],"owner":{"account_id":11338255,"reputation":170,"user_id":8523788,"display_name":"Alexey Osetsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635516057,"creation_date":1635172971,"answer_id":69710089,"question_id":35089257,"body_markdown":"This is [Matiz](https://stackoverflow.com/users/5372166/matiz) &#39;s augmented answer.\r\n\r\nSolution using extended `JacksonAnnotationIntrospector` which allows to use `${environment.properties}` within `@JsonProperty` annotation\r\n\r\n\r\n```\r\npublic class DynamicJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\r\n    private final Environment environment;\r\n\r\n    public DynamicJacksonAnnotationIntrospector(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    @Override\r\n    public PropertyName findNameForSerialization(Annotated a) {\r\n        return injectEnvironmentInJsonProperty(super.findNameForSerialization(a));\r\n    }\r\n\r\n    @Override\r\n    public PropertyName findNameForDeserialization(Annotated a){\r\n        return injectEnvironmentInJsonProperty(super.findNameForDeserialization(a));\r\n    }\r\n\r\n    @Override\r\n    public PropertyName findRootName(AnnotatedClass ac) {\r\n        return injectEnvironmentInJsonProperty(super.findNameForDeserialization(ac));\r\n    }\r\n\r\n    private PropertyName injectEnvironmentInJsonProperty(PropertyName name){\r\n        if (name == null) {\r\n            return null;\r\n        }\r\n        String simpleName = name.getSimpleName();\r\n        log.info(environment.resolvePlaceholders(simpleName));\r\n        return PropertyName.construct(environment.resolvePlaceholders(simpleName), name.getNamespace());\r\n    }\r\n}\r\n```\r\n\r\nCreate webconfig class for entity recognition in controller.\r\n```\r\n@EnableWebMvc\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    private final ApplicationContext context;\r\n\r\n    @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        //JSON\r\n        AnnotationIntrospector pairedIntrospectors = AnnotationIntrospector.pair(introspector(context.getEnvironment()),\r\n                new JacksonAnnotationIntrospector());\r\n        converters.add(new MappingJackson2HttpMessageConverter(\r\n                Jackson2ObjectMapperBuilder.json()\r\n                        .annotationIntrospector(pairedIntrospectors)\r\n                        .build()));\r\n    }\r\n\r\n    @Bean\r\n    public DynamicJacksonAnnotationIntrospector introspector(Environment environment) {\r\n        return new DynamicJacksonAnnotationIntrospector(environment);\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper getObjectMapper(DynamicJacksonAnnotationIntrospector introspector) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        SerializationConfig serializationConfig = mapper.getSerializationConfig()\r\n                .withInsertedAnnotationIntrospector(introspector);\r\n        mapper.setConfig(serializationConfig);\r\n        DeserializationConfig deserializationConfig = mapper.getDeserializationConfig()\r\n                .withInsertedAnnotationIntrospector(introspector);\r\n        mapper.setConfig(deserializationConfig);\r\n        return mapper;\r\n    }\r\n}\r\n```\r\n\r\nAnd disable class in autoconfiguration for spring boot\r\n```\r\nspring:\r\n  autoconfigure:\r\n    exclude:\r\n      - org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration\r\n```    \r\n\r\n\r\nExamples\r\n```\r\n@Getter\r\n@Setter\r\npublic class DynamicTestClass {\r\n    @JsonProperty(&quot;${dynamic.property.name}&quot;)\r\n    private String dynamicPropertyName;\r\n}\r\n```\r\n\r\n```\r\n@Slf4j\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK, classes = JiraSmCoreApplication.class)\r\n@TestPropertySource(&quot;classpath:application-test.yml&quot;)\r\npublic class DynamicJacksonAnnotationIntrospectorTest {\r\n    @Autowired\r\n    MappingJackson2HttpMessageConverter mapper;\r\n\r\n    @Test\r\n    public void shouldFindNameForSerializationFromProperties() throws JsonProcessingException {\r\n        DynamicTestClass bean = new DynamicTestClass();\r\n        bean.setDynamicPropertyName(&quot;qwerty&quot;);\r\n        log.info(mapper.getObjectMapper().writeValueAsString(bean));\r\n    }\r\n}\r\n```\r\n\r\napplication-test.yml\r\n```\r\nspring:\r\n  autoconfigure:\r\n    exclude:\r\n      - org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration\r\n\r\ndynamic:\r\n  property:\r\n    name: overriddenName\r\n```\r\n","title":"Conditional JsonProperty using Jackson with Spring Boot","body":"<p>This is <a href=\"https://stackoverflow.com/users/5372166/matiz\">Matiz</a> 's augmented answer.</p>\n<p>Solution using extended <code>JacksonAnnotationIntrospector</code> which allows to use <code>${environment.properties}</code> within <code>@JsonProperty</code> annotation</p>\n<pre><code>public class DynamicJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\n    private final Environment environment;\n\n    public DynamicJacksonAnnotationIntrospector(Environment environment) {\n        this.environment = environment;\n    }\n\n    @Override\n    public PropertyName findNameForSerialization(Annotated a) {\n        return injectEnvironmentInJsonProperty(super.findNameForSerialization(a));\n    }\n\n    @Override\n    public PropertyName findNameForDeserialization(Annotated a){\n        return injectEnvironmentInJsonProperty(super.findNameForDeserialization(a));\n    }\n\n    @Override\n    public PropertyName findRootName(AnnotatedClass ac) {\n        return injectEnvironmentInJsonProperty(super.findNameForDeserialization(ac));\n    }\n\n    private PropertyName injectEnvironmentInJsonProperty(PropertyName name){\n        if (name == null) {\n            return null;\n        }\n        String simpleName = name.getSimpleName();\n        log.info(environment.resolvePlaceholders(simpleName));\n        return PropertyName.construct(environment.resolvePlaceholders(simpleName), name.getNamespace());\n    }\n}\n</code></pre>\n<p>Create webconfig class for entity recognition in controller.</p>\n<pre><code>@EnableWebMvc\n@Configuration\n@RequiredArgsConstructor\npublic class WebConfig implements WebMvcConfigurer {\n\n    private final ApplicationContext context;\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        //JSON\n        AnnotationIntrospector pairedIntrospectors = AnnotationIntrospector.pair(introspector(context.getEnvironment()),\n                new JacksonAnnotationIntrospector());\n        converters.add(new MappingJackson2HttpMessageConverter(\n                Jackson2ObjectMapperBuilder.json()\n                        .annotationIntrospector(pairedIntrospectors)\n                        .build()));\n    }\n\n    @Bean\n    public DynamicJacksonAnnotationIntrospector introspector(Environment environment) {\n        return new DynamicJacksonAnnotationIntrospector(environment);\n    }\n\n    @Bean\n    @Primary\n    public ObjectMapper getObjectMapper(DynamicJacksonAnnotationIntrospector introspector) {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        SerializationConfig serializationConfig = mapper.getSerializationConfig()\n                .withInsertedAnnotationIntrospector(introspector);\n        mapper.setConfig(serializationConfig);\n        DeserializationConfig deserializationConfig = mapper.getDeserializationConfig()\n                .withInsertedAnnotationIntrospector(introspector);\n        mapper.setConfig(deserializationConfig);\n        return mapper;\n    }\n}\n</code></pre>\n<p>And disable class in autoconfiguration for spring boot</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration\n</code></pre>\n<p>Examples</p>\n<pre><code>@Getter\n@Setter\npublic class DynamicTestClass {\n    @JsonProperty(&quot;${dynamic.property.name}&quot;)\n    private String dynamicPropertyName;\n}\n</code></pre>\n<pre><code>@Slf4j\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.MOCK, classes = JiraSmCoreApplication.class)\n@TestPropertySource(&quot;classpath:application-test.yml&quot;)\npublic class DynamicJacksonAnnotationIntrospectorTest {\n    @Autowired\n    MappingJackson2HttpMessageConverter mapper;\n\n    @Test\n    public void shouldFindNameForSerializationFromProperties() throws JsonProcessingException {\n        DynamicTestClass bean = new DynamicTestClass();\n        bean.setDynamicPropertyName(&quot;qwerty&quot;);\n        log.info(mapper.getObjectMapper().writeValueAsString(bean));\n    }\n}\n</code></pre>\n<p>application-test.yml</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration\n\ndynamic:\n  property:\n    name: overriddenName\n</code></pre>\n"}],"owner":{"account_id":4304834,"reputation":41,"user_id":3517514,"display_name":"AldousP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8023,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1635516057,"creation_date":1454084669,"question_id":35089257,"body_markdown":"A Spring Boot application is tasked with updating a remote integration API every so many minutes. This application can be deployed to a test or prod environment, the application is informed of the end point it should be looking at through an &quot;application.properties&quot; flag. A POJO is being serialized with Jackson and pushed to the endpoint, with the JsonProperty annotations containing the field IDs for the API that it is being pushed to.\r\n\r\nie \r\n\r\n    @JsonProperty(&quot;field_001)\r\n    private String name;\r\n\r\n    @JsonProperty(&quot;field_002)\r\n    private String address;\r\n\r\nThe field labels for these values differ on the test endpoint. So the test endpoint might expect the properties to map as\r\n\r\n    @JsonProperty(&quot;field_005)\r\n    private String name;\r\n\r\n    @JsonProperty(&quot;field_006)\r\n    private String address;\r\n\r\nI would like to be able to utilize the Spring Boot native support for profile based properties files. To read in the JsonProperty annotation values at run time from an external properties file.\r\n\r\nSo for example, \r\n\r\nThere might be three files application.properties, application-test.properties and application-prod.properties.\r\nSpring Boot could read in the test or prod properties in addition to the vanilla properties file based on the &quot;spring.profiles.active&quot; setting.\r\n\r\n...-test.properties would contain the constant values for the test server fields. And ...-prod.properties would contain the constant values for the prod server fields.\r\n\r\nNesting annotations such as Spring&#39;s @Value tag, like this:\r\n\r\n    @JsonProperty(@Value(&quot;${property.file.reference.here})) \r\n\r\ndoesn&#39;t seem to work. \r\n","title":"Conditional JsonProperty using Jackson with Spring Boot","body":"<p>A Spring Boot application is tasked with updating a remote integration API every so many minutes. This application can be deployed to a test or prod environment, the application is informed of the end point it should be looking at through an \"application.properties\" flag. A POJO is being serialized with Jackson and pushed to the endpoint, with the JsonProperty annotations containing the field IDs for the API that it is being pushed to.</p>\n\n<p>ie </p>\n\n<pre><code>@JsonProperty(\"field_001)\nprivate String name;\n\n@JsonProperty(\"field_002)\nprivate String address;\n</code></pre>\n\n<p>The field labels for these values differ on the test endpoint. So the test endpoint might expect the properties to map as</p>\n\n<pre><code>@JsonProperty(\"field_005)\nprivate String name;\n\n@JsonProperty(\"field_006)\nprivate String address;\n</code></pre>\n\n<p>I would like to be able to utilize the Spring Boot native support for profile based properties files. To read in the JsonProperty annotation values at run time from an external properties file.</p>\n\n<p>So for example, </p>\n\n<p>There might be three files application.properties, application-test.properties and application-prod.properties.\nSpring Boot could read in the test or prod properties in addition to the vanilla properties file based on the \"spring.profiles.active\" setting.</p>\n\n<p>...-test.properties would contain the constant values for the test server fields. And ...-prod.properties would contain the constant values for the prod server fields.</p>\n\n<p>Nesting annotations such as Spring's @Value tag, like this:</p>\n\n<pre><code>@JsonProperty(@Value(\"${property.file.reference.here})) \n</code></pre>\n\n<p>doesn't seem to work. </p>\n"},{"tags":["java","spring-boot","swagger"],"answers":[{"tags":[],"owner":{"account_id":2381486,"reputation":1692,"user_id":2083415,"accept_rate":25,"display_name":"Amazia Gur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516632987,"creation_date":1516632987,"answer_id":48384386,"question_id":48384161,"body_markdown":"what worked for me is:\r\n\r\n        @Bean\r\n        public Docket customImplementation(){\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;your base package&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n\r\nnotice paths is not specific, its any.\r\n","title":"Swagger-ui.html not showing api list","body":"<p>what worked for me is:</p>\n\n<pre><code>    @Bean\n    public Docket customImplementation(){\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.basePackage(\"your base package\"))\n            .paths(PathSelectors.any())\n            .build();\n</code></pre>\n\n<p>notice paths is not specific, its any.</p>\n"},{"tags":[],"owner":{"account_id":7496240,"reputation":395,"user_id":5696407,"display_name":"mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516634010,"creation_date":1516634010,"answer_id":48384723,"question_id":48384161,"body_markdown":"     @Bean\n        public Docket api() {\n            return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \n                      .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.boot&quot;)))\n                      .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.cloud&quot;)))\n                      .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.security&quot;)))\n                         .build();\n        }","title":"Swagger-ui.html not showing api list","body":"<pre><code> @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \n                  .apis(Predicates.not(RequestHandlerSelectors.basePackage(\"org.springframework.boot\")))\n                  .apis(Predicates.not(RequestHandlerSelectors.basePackage(\"org.springframework.cloud\")))\n                  .apis(Predicates.not(RequestHandlerSelectors.basePackage(\"org.springframework.security\")))\n                     .build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1072326,"reputation":1069,"user_id":1071302,"accept_rate":43,"display_name":"Sundar G"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1517292371,"creation_date":1517291484,"answer_id":48514713,"question_id":48384161,"body_markdown":"I fixed the problem. The problem is browser cache. I just cleared all the cache, and then I&#39;m able to get the swagger-ui.html with all api list.\r\n","title":"Swagger-ui.html not showing api list","body":"<p>I fixed the problem. The problem is browser cache. I just cleared all the cache, and then I'm able to get the swagger-ui.html with all api list.</p>\n"},{"tags":[],"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567752981,"creation_date":1567752981,"answer_id":57817116,"question_id":48384161,"body_markdown":"Although the OP issue was solved already, I stumbled upon this thread and my solution was somewhat different. Here it is for others should they find themselves in the same position:\r\n\r\nI had the same issue, but with using swagger-codegen-maven-plugin (v3)\r\nThe API is defined in a api.yml specification file and I generate the interface and models with the plugin.\r\n\r\nIt has an option to also generate a controller, in which case it was showing in the UI. However when I configure the controllers to be ignored/skipped for generation and just implement my own it was not showing.\r\n\r\nThe problem was the package. The plugin also auto generates the SwaggerDocumentationConfig class which includes all controllers from the API package that is configured. My own controllers had to be in the exact same package.\r\n\r\nCode snippets to clarify:\r\n\r\nIn my pom.xml I have configured the plugin with:\r\n```xml\r\n&lt;apiPackage&gt;a.b.c.spec.api&lt;/apiPackage&gt;\r\n```\r\n\r\nThe auto generated SwaggerDocumentationConfig class contains:\r\n```java\r\n  @Bean\r\n  public Docket customImplementation() {\r\n    return (new Docket(DocumentationType.SWAGGER_2)).select()\r\n      .apis(RequestHandlerSelectors\r\n        .basePackage(&quot;a.b.c.spec.api&quot;))\r\n      .build().apiInfo(this.apiInfo());\r\n  }\r\n```\r\n\r\nMy controller lives in the package `a.b.c.api` so I had to change the apiPackage property to align and the issue was resolved.","title":"Swagger-ui.html not showing api list","body":"<p>Although the OP issue was solved already, I stumbled upon this thread and my solution was somewhat different. Here it is for others should they find themselves in the same position:</p>\n\n<p>I had the same issue, but with using swagger-codegen-maven-plugin (v3)\nThe API is defined in a api.yml specification file and I generate the interface and models with the plugin.</p>\n\n<p>It has an option to also generate a controller, in which case it was showing in the UI. However when I configure the controllers to be ignored/skipped for generation and just implement my own it was not showing.</p>\n\n<p>The problem was the package. The plugin also auto generates the SwaggerDocumentationConfig class which includes all controllers from the API package that is configured. My own controllers had to be in the exact same package.</p>\n\n<p>Code snippets to clarify:</p>\n\n<p>In my pom.xml I have configured the plugin with:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;apiPackage&gt;a.b.c.spec.api&lt;/apiPackage&gt;\n</code></pre>\n\n<p>The auto generated SwaggerDocumentationConfig class contains:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public Docket customImplementation() {\n    return (new Docket(DocumentationType.SWAGGER_2)).select()\n      .apis(RequestHandlerSelectors\n        .basePackage(\"a.b.c.spec.api\"))\n      .build().apiInfo(this.apiInfo());\n  }\n</code></pre>\n\n<p>My controller lives in the package <code>a.b.c.api</code> so I had to change the apiPackage property to align and the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":2491169,"reputation":31,"user_id":2168575,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592724712,"creation_date":1592724712,"answer_id":62495690,"question_id":48384161,"body_markdown":"This solved my issue.\r\n\r\nAdd .pathMapping(&quot;/&quot;) in the Docket\r\n\r\n    return new Docket(DocumentationType.SWAGGER_2)\r\n        \t\t.select()\r\n        \t\t  .apis(RequestHandlerSelectors.any())\r\n        \t\t  .paths(PathSelectors.any())\r\n        \t\t  .build()\r\n        \t\t  .pathMapping(&quot;/&quot;);","title":"Swagger-ui.html not showing api list","body":"<p>This solved my issue.</p>\n<p>Add .pathMapping(&quot;/&quot;) in the Docket</p>\n<pre><code>return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n              .apis(RequestHandlerSelectors.any())\n              .paths(PathSelectors.any())\n              .build()\n              .pathMapping(&quot;/&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11291045,"reputation":11,"user_id":8280131,"display_name":"Mittul Mandhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594909331,"creation_date":1594909331,"answer_id":62936875,"question_id":48384161,"body_markdown":"I am working on maven based Java Spring Boot project.\r\nIn my case, it was a version mismatch of swagger and swagger-ui dependency in pom.xml","title":"Swagger-ui.html not showing api list","body":"<p>I am working on maven based Java Spring Boot project.\nIn my case, it was a version mismatch of swagger and swagger-ui dependency in pom.xml</p>\n"},{"tags":[],"owner":{"account_id":23073774,"reputation":1,"user_id":17187028,"display_name":"Thanh Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634603252,"creation_date":1634603252,"answer_id":69623860,"question_id":48384161,"body_markdown":"In my scenario, it&#39;s because of the @Profile(&quot;dev&quot;) configuration in SwaggerConfig limited for dev profile only, while I was running with another profile.","title":"Swagger-ui.html not showing api list","body":"<p>In my scenario, it's because of the @Profile(&quot;dev&quot;) configuration in SwaggerConfig limited for dev profile only, while I was running with another profile.</p>\n"},{"tags":[],"owner":{"account_id":21919935,"reputation":1,"user_id":16203306,"display_name":"Suhaail Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635515750,"creation_date":1635515750,"answer_id":69770163,"question_id":48384161,"body_markdown":"Checking versions of Swagger-UI and springfox-swagger2 in pox.xml\r\n\r\nAdding @EnableSwagger2 in application.java helped. \r\n\r\n\r\n","title":"Swagger-ui.html not showing api list","body":"<p>Checking versions of Swagger-UI and springfox-swagger2 in pox.xml</p>\n<p>Adding @EnableSwagger2 in application.java helped.</p>\n"}],"owner":{"account_id":1072326,"reputation":1069,"user_id":1071302,"accept_rate":43,"display_name":"Sundar G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23951,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":48514713,"answer_count":8,"score":5,"last_activity_date":1635515750,"creation_date":1516632366,"question_id":48384161,"body_markdown":"I&#39;m using spring boot + swagger 2 for documenting all the REST API .I&#39;m able to list all the api of a controller when i have the below project structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf i move the swaggerconfig.java to the config package then i&#39;m not able to list all api of a controller.i&#39;m getting\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Vs2n.png\r\n  [2]: https://i.stack.imgur.com/oRIA1.png\r\n\r\nThis is my **SwaggerConfig.java**\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    //@ComponentScan(basePackages=&quot;com.javainuse.swaggertest&quot;)\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic Docket postsApi() {\r\n    \t\treturn new Docket(DocumentationType.SWAGGER_2).groupName(&quot;public-api&quot;)\r\n    \t\t\t\t.apiInfo(apiInfo()).select().paths(postPaths()).build();\r\n    \t}\r\n    \r\n    \tprivate Predicate&lt;String&gt; postPaths() {\r\n    \t\treturn or(regex(&quot;/api/posts.*&quot;), regex(&quot;/api/javainuse.*&quot;));\r\n    \t}\r\n    \r\n    \tprivate ApiInfo apiInfo() {\r\n    \t\treturn new ApiInfoBuilder().title(&quot;JavaInUse API&quot;)\r\n    \t\t\t\t.description(&quot;JavaInUse API reference for developers&quot;)\r\n    \t\t\t\t.termsOfServiceUrl(&quot;http://javainuse.com&quot;)\r\n    \t\t\t\t.contact(&quot;javainuse@gmail.com&quot;).license(&quot;JavaInUse License&quot;)\r\n    \t\t\t\t.licenseUrl(&quot;javainuse@gmail.com&quot;).version(&quot;1.0&quot;).build();\r\n    \t}\r\n    \r\n    }\r\nWhat i&#39;m doing wrong","title":"Swagger-ui.html not showing api list","body":"<p>I'm using spring boot + swagger 2 for documenting all the REST API .I'm able to list all the api of a controller when i have the below project structure.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Vs2n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3Vs2n.png\" alt=\"enter image description here\"></a></p>\n\n<p>If i move the swaggerconfig.java to the config package then i'm not able to list all api of a controller.i'm getting\n<a href=\"https://i.stack.imgur.com/oRIA1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oRIA1.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is my <strong>SwaggerConfig.java</strong></p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n//@ComponentScan(basePackages=\"com.javainuse.swaggertest\")\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket postsApi() {\n        return new Docket(DocumentationType.SWAGGER_2).groupName(\"public-api\")\n                .apiInfo(apiInfo()).select().paths(postPaths()).build();\n    }\n\n    private Predicate&lt;String&gt; postPaths() {\n        return or(regex(\"/api/posts.*\"), regex(\"/api/javainuse.*\"));\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder().title(\"JavaInUse API\")\n                .description(\"JavaInUse API reference for developers\")\n                .termsOfServiceUrl(\"http://javainuse.com\")\n                .contact(\"javainuse@gmail.com\").license(\"JavaInUse License\")\n                .licenseUrl(\"javainuse@gmail.com\").version(\"1.0\").build();\n    }\n\n}\n</code></pre>\n\n<p>What i'm doing wrong</p>\n"},{"tags":["java","regex","xml","java-8"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":3,"creation_date":1635508099,"post_id":69767050,"comment_id":123323420,"body_markdown":"Don&#39;t struggle with regex, this is not a job for regular expressions. See the classic post at https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454. It is much better to use XSLT or XQuery for this kind of job.","body":"Don&#39;t struggle with regex, this is not a job for regular expressions. See the classic post at <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>. It is much better to use XSLT or XQuery for this kind of job."}],"answers":[{"tags":[],"owner":{"account_id":1238505,"reputation":2193,"user_id":1201612,"display_name":"S&#233;bastien Helbert"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635515673,"creation_date":1635504345,"answer_id":69767577,"question_id":69767050,"body_markdown":"Use `&lt;a&gt;.*&lt;\\/a&gt;` pattern with dot all option (flag s) and replace by something like `&lt;a&gt;&lt;b&gt;world&lt;/b&gt;&lt;/a&gt;`\r\n\r\nor replace `&lt;b&gt;.*&lt;\\/b&gt;` by `&lt;b&gt;world&lt;/b&gt;`\r\n\r\nsee : https://regex101.com/r/fhdwbz/4","title":"Regex replace all tags by one","body":"<p>Use <code>&lt;a&gt;.*&lt;\\/a&gt;</code> pattern with dot all option (flag s) and replace by something like <code>&lt;a&gt;&lt;b&gt;world&lt;/b&gt;&lt;/a&gt;</code></p>\n<p>or replace <code>&lt;b&gt;.*&lt;\\/b&gt;</code> by <code>&lt;b&gt;world&lt;/b&gt;</code></p>\n<p>see : <a href=\"https://regex101.com/r/fhdwbz/4\" rel=\"nofollow noreferrer\">https://regex101.com/r/fhdwbz/4</a></p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635508281,"creation_date":1635508281,"answer_id":69768395,"question_id":69767050,"body_markdown":"XSLT solution:\r\n\r\n    &lt;xsl:template match=&quot;/a&quot;&gt;\r\n      &lt;a&gt;\r\n        &lt;xsl:copy-of select=&quot;c&quot;/&gt;\r\n        &lt;b&gt;world&lt;/b&gt;\r\n      &lt;/a&gt;\r\n    &lt;/xsl:template&gt;","title":"Regex replace all tags by one","body":"<p>XSLT solution:</p>\n<pre><code>&lt;xsl:template match=&quot;/a&quot;&gt;\n  &lt;a&gt;\n    &lt;xsl:copy-of select=&quot;c&quot;/&gt;\n    &lt;b&gt;world&lt;/b&gt;\n  &lt;/a&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69768395,"answer_count":2,"score":-1,"last_activity_date":1635515673,"creation_date":1635501787,"question_id":69767050,"body_markdown":"I&#39;m always struggling with Regex, I want to replace multiple tags in my xml by one.\r\n\r\nThe content of each tag of `&lt;b&gt;` is dynamic, and it could include another `tags`\r\n\r\nSo having\r\n\r\n       &lt;a&gt;\r\n         &lt;c&gt;hi&lt;/c&gt;\r\n         &lt;b&gt;hello1&lt;/b&gt;\r\n         &lt;b&gt;&lt;f&gt;bla&lt;/f&gt;&lt;/b&gt;\r\n         &lt;b&gt;hello3&lt;/b&gt;\r\n         &lt;b&gt;hello4&lt;/b&gt;\r\n       &lt;/a&gt;\r\n\r\nI want to replace all `&lt;b&gt;` tags by just one tag of mine `&lt;b&gt;world&lt;/b&gt;`and left `&lt;c&gt;` as it is.\r\n\r\n        &lt;a&gt;\r\n         &lt;c&gt;hi&lt;/c&gt;\r\n         &lt;b&gt;world&lt;/b&gt;\r\n       &lt;/a&gt;\r\n\r\nAny idea how? It&#39;s better use an XML Parser instead?\r\n\r\nRegards.","title":"Regex replace all tags by one","body":"<p>I'm always struggling with Regex, I want to replace multiple tags in my xml by one.</p>\n<p>The content of each tag of <code>&lt;b&gt;</code> is dynamic, and it could include another <code>tags</code></p>\n<p>So having</p>\n<pre><code>   &lt;a&gt;\n     &lt;c&gt;hi&lt;/c&gt;\n     &lt;b&gt;hello1&lt;/b&gt;\n     &lt;b&gt;&lt;f&gt;bla&lt;/f&gt;&lt;/b&gt;\n     &lt;b&gt;hello3&lt;/b&gt;\n     &lt;b&gt;hello4&lt;/b&gt;\n   &lt;/a&gt;\n</code></pre>\n<p>I want to replace all <code>&lt;b&gt;</code> tags by just one tag of mine <code>&lt;b&gt;world&lt;/b&gt;</code>and left <code>&lt;c&gt;</code> as it is.</p>\n<pre><code>    &lt;a&gt;\n     &lt;c&gt;hi&lt;/c&gt;\n     &lt;b&gt;world&lt;/b&gt;\n   &lt;/a&gt;\n</code></pre>\n<p>Any idea how? It's better use an XML Parser instead?</p>\n<p>Regards.</p>\n"},{"tags":["java","xml","ibm-midrange","db2-400"],"answers":[{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635514807,"creation_date":1635514807,"answer_id":69769934,"question_id":69769666,"body_markdown":"Are you running the scheduled job under your own user profile?  Or a different one?\r\n\r\nAccording to [docs][1]\r\n[![enter image description here][2]][2]\r\n\r\nIf I recall correctly, you can have user specific key store configured.  So if you&#39;re running under a different profile in batch, that would explain the issue.\r\n\r\n  [1]: https://www.ibm.com/docs/en/i/7.3?topic=systools-http-function-overview\r\n  [2]: https://i.stack.imgur.com/qzh9O.png","title":"Certificate error with SYSTOOLS.HTTPGETCLOB","body":"<p>Are you running the scheduled job under your own user profile?  Or a different one?</p>\n<p>According to <a href=\"https://www.ibm.com/docs/en/i/7.3?topic=systools-http-function-overview\" rel=\"nofollow noreferrer\">docs</a>\n<a href=\"https://i.stack.imgur.com/qzh9O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzh9O.png\" alt=\"enter image description here\" /></a></p>\n<p>If I recall correctly, you can have user specific key store configured.  So if you're running under a different profile in batch, that would explain the issue.</p>\n"}],"owner":{"account_id":14231400,"reputation":1040,"user_id":10280525,"display_name":"Nifriz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635515653,"creation_date":1635513868,"question_id":69769666,"body_markdown":"Based on this: https://stackoverflow.com/questions/69302388/get-an-xml-from-web-with-a-sql-db2-on-iseries\r\n\r\nThe program I made works correctly in Interactive mode or in debug, but if I schedule it, I obtain a SQL4302 error:\r\n\r\n    [SQL4302] Java stored procedure or user-defined function SYSTOOLS.HTTPGETCLOB, specific name HTTPG00005 aborted with an exception &quot;com.ibm.jsse2.util.h: PKIX path building failed:   com.ibm.security.cert.IBMCertPathBuilderException: unable to find valid certification path to requested target&quot;.                                   \r\n\r\nHow can I fix it?","title":"Certificate error with SYSTOOLS.HTTPGETCLOB","body":"<p>Based on this: <a href=\"https://stackoverflow.com/questions/69302388/get-an-xml-from-web-with-a-sql-db2-on-iseries\">Get an XML from WEB with a SQL DB2 on Iseries</a></p>\n<p>The program I made works correctly in Interactive mode or in debug, but if I schedule it, I obtain a SQL4302 error:</p>\n<pre><code>[SQL4302] Java stored procedure or user-defined function SYSTOOLS.HTTPGETCLOB, specific name HTTPG00005 aborted with an exception &quot;com.ibm.jsse2.util.h: PKIX path building failed:   com.ibm.security.cert.IBMCertPathBuilderException: unable to find valid certification path to requested target&quot;.                                   \n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","sonarqube","java-17","switch-expression"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1634652219,"post_id":69631357,"comment_id":123079196,"body_markdown":"@JohannesKuhn Anyway, there is no case if `type` were `null` ‚Äì but then I remembered that the switch will cause an NPE to be thrown.","body":"@JohannesKuhn Anyway, there is no case if <code>type</code> were <code>null</code> ‚Äì but then I remembered that the switch will cause an NPE to be thrown."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1634660886,"post_id":69631357,"comment_id":123083261,"body_markdown":"In the interest of future readers, you shall mention the Sonar version in use here. Agreed, the reported error looks inappropriate.","body":"In the interest of future readers, you shall mention the Sonar version in use here. Agreed, the reported error looks inappropriate."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1634684092,"creation_date":1634650257,"answer_id":69631786,"question_id":69631357,"body_markdown":"This is not a bug, Sonar correctly evaluates that if the listing is *exhaustive* the [switch-expression](https://openjdk.java.net/jeps/361) can never fall into the `default` branch.\r\n\r\nOn the other hand, if you decide to not list all possible enum constants, the `default` branch, however, must be declared. Otherwise, the code would not be compilable, because of the requirement that every enum constant can be matched.\r\n\r\nNote: Your code contains a switch expression, not a switch statement.","title":"Java-17 - switch case - Unused method parameters should be removed","body":"<p>This is not a bug, Sonar correctly evaluates that if the listing is <em>exhaustive</em> the <a href=\"https://openjdk.java.net/jeps/361\" rel=\"nofollow noreferrer\">switch-expression</a> can never fall into the <code>default</code> branch.</p>\n<p>On the other hand, if you decide to not list all possible enum constants, the <code>default</code> branch, however, must be declared. Otherwise, the code would not be compilable, because of the requirement that every enum constant can be matched.</p>\n<p>Note: Your code contains a switch expression, not a switch statement.</p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1635515526,"creation_date":1634650264,"answer_id":69631787,"question_id":69631357,"body_markdown":"Technically the syntax `default -&gt; null;` is not a &quot;parameter&quot;. The [JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28) refers to various components within a switch block as a &quot;rule&quot;, &quot;label&quot;, or &quot;expression&quot;; while the relevant [JEP](https://openjdk.java.net/jeps/361) also uses the term &quot;clause&quot;.\r\n\r\nRegardless of what you call its components, Switch _Expressions_ are distinct from the older Switch _Statements_. In particular, Switch Expressions are _exhaustive_.\r\n\r\nFrom the JEP,\r\n&gt; ***Exhaustiveness***\r\n&gt;\r\n&gt; The cases of a switch expression must be *exhaustive*; for all possible values there must be a matching switch label. (Obviously switch statements are not required to be exhaustive.)\r\n&gt;\r\n&gt;In practice this normally means that a default clause is required; however, in the case of an `enum switch` expression that covers all known constants, a default clause is inserted by the compiler to indicate that the enum definition has changed between compile-time and runtime. Relying on this implicit default clause insertion makes for more robust code; now when code is recompiled, the compiler checks that all cases are explicitly handled. Had the developer inserted an explicit default clause (as is the case today) a possible error will have been hidden.\r\n\r\nSonar is smart enough to know when all of the bases are covered, making a default clause not only unreachable, but making it interfere with the behavior described above.","title":"Java-17 - switch case - Unused method parameters should be removed","body":"<p>Technically the syntax <code>default -&gt; null;</code> is not a &quot;parameter&quot;. The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">JLS</a> refers to various components within a switch block as a &quot;rule&quot;, &quot;label&quot;, or &quot;expression&quot;; while the relevant <a href=\"https://openjdk.java.net/jeps/361\" rel=\"nofollow noreferrer\">JEP</a> also uses the term &quot;clause&quot;.</p>\n<p>Regardless of what you call its components, Switch <em>Expressions</em> are distinct from the older Switch <em>Statements</em>. In particular, Switch Expressions are <em>exhaustive</em>.</p>\n<p>From the JEP,</p>\n<blockquote>\n<p><em><strong>Exhaustiveness</strong></em></p>\n<p>The cases of a switch expression must be <em>exhaustive</em>; for all possible values there must be a matching switch label. (Obviously switch statements are not required to be exhaustive.)</p>\n<p>In practice this normally means that a default clause is required; however, in the case of an <code>enum switch</code> expression that covers all known constants, a default clause is inserted by the compiler to indicate that the enum definition has changed between compile-time and runtime. Relying on this implicit default clause insertion makes for more robust code; now when code is recompiled, the compiler checks that all cases are explicitly handled. Had the developer inserted an explicit default clause (as is the case today) a possible error will have been hidden.</p>\n</blockquote>\n<p>Sonar is smart enough to know when all of the bases are covered, making a default clause not only unreachable, but making it interfere with the behavior described above.</p>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3029,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":69631786,"answer_count":2,"score":7,"last_activity_date":1635515526,"creation_date":1634648714,"question_id":69631357,"body_markdown":"I have a simple method which takes an enum and returns a String:\r\n\r\n    public static String enumToString(MyEnum type) {\r\n        return switch (type) {\r\n            case Enum1 -&gt; &quot;String_1&quot;;\r\n            case Enum2 -&gt; &quot;String_2&quot;;\r\n            case Enum3 -&gt; &quot;String_3&quot;;\r\n            case Enum4 -&gt; &quot;String_4&quot;;\r\n            case Enum5 -&gt; &quot;String_5&quot;;\r\n            case Enum6 -&gt; &quot;String_6&quot;;\r\n            default -&gt; null;\r\n        };\r\n    }\r\n\r\nBut Sonar gives me this Major error:[Unused method parameters should be removed][1].\r\n\r\nas you can see the parameter type is used in the switch. For more details when I use old switch case every thing is OK.\r\n\r\nAny idea about the issue, does sonar cover new Java syntaxes?\r\n\r\n-----\r\n\r\nHmm, I notice that when I remove `default -&gt; null;` sonar pass correctly! this is weird. \r\n\r\n    public static String enumToString(MyEnum type) {\r\n        return switch (type) {\r\n            case Enum1 -&gt; &quot;String_1&quot;;\r\n            case Enum2 -&gt; &quot;String_2&quot;;\r\n            case Enum3 -&gt; &quot;String_3&quot;;\r\n            case Enum4 -&gt; &quot;String_4&quot;;\r\n            case Enum5 -&gt; &quot;String_5&quot;;\r\n            case Enum6 -&gt; &quot;String_6&quot;;\r\n            //default -&gt; null;\r\n        };\r\n    }\r\n\r\n  [1]: https://sonarcloud.io/organizations/default/rules?languages=java&amp;open=java%3AS1172&amp;q=S1172","title":"Java-17 - switch case - Unused method parameters should be removed","body":"<p>I have a simple method which takes an enum and returns a String:</p>\n<pre><code>public static String enumToString(MyEnum type) {\n    return switch (type) {\n        case Enum1 -&gt; &quot;String_1&quot;;\n        case Enum2 -&gt; &quot;String_2&quot;;\n        case Enum3 -&gt; &quot;String_3&quot;;\n        case Enum4 -&gt; &quot;String_4&quot;;\n        case Enum5 -&gt; &quot;String_5&quot;;\n        case Enum6 -&gt; &quot;String_6&quot;;\n        default -&gt; null;\n    };\n}\n</code></pre>\n<p>But Sonar gives me this Major error:<a href=\"https://sonarcloud.io/organizations/default/rules?languages=java&amp;open=java%3AS1172&amp;q=S1172\" rel=\"nofollow noreferrer\">Unused method parameters should be removed</a>.</p>\n<p>as you can see the parameter type is used in the switch. For more details when I use old switch case every thing is OK.</p>\n<p>Any idea about the issue, does sonar cover new Java syntaxes?</p>\n<hr />\n<p>Hmm, I notice that when I remove <code>default -&gt; null;</code> sonar pass correctly! this is weird.</p>\n<pre><code>public static String enumToString(MyEnum type) {\n    return switch (type) {\n        case Enum1 -&gt; &quot;String_1&quot;;\n        case Enum2 -&gt; &quot;String_2&quot;;\n        case Enum3 -&gt; &quot;String_3&quot;;\n        case Enum4 -&gt; &quot;String_4&quot;;\n        case Enum5 -&gt; &quot;String_5&quot;;\n        case Enum6 -&gt; &quot;String_6&quot;;\n        //default -&gt; null;\n    };\n}\n</code></pre>\n"},{"tags":["java","mockito","httpclient","junit5"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1635511075,"post_id":69768931,"comment_id":123324568,"body_markdown":"You should add your test class to your question. Have you defined your httpClient as a Mock, like `HttpClient httpClient = Mockito.mock(HttpClient.class)`?","body":"You should add your test class to your question. Have you defined your httpClient as a Mock, like <code>HttpClient httpClient = Mockito.mock(HttpClient.class)</code>?"},{"owner":{"account_id":448756,"reputation":574,"user_id":7369265,"accept_rate":40,"display_name":"Ranjit Soni"},"score":0,"creation_date":1635513134,"post_id":69768931,"comment_id":123325472,"body_markdown":"Hi @TheFrozenOne, I have added the test class, Thanks","body":"Hi @TheFrozenOne, I have added the test class, Thanks"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635514201,"creation_date":1635514201,"answer_id":69769765,"question_id":69768931,"body_markdown":"The problem is that the `EsignEventProducer` constructor creates a new `HttpClient`, rather than using the mock. Instead, the `HttpClient` instance should be passed into the constructor.\r\n\r\n    @Autowired\r\n    public EsignEventProducer(@Value(&quot;${producer.http.endpoint}&quot;) String producerEndpoint, HttpClient httpClient) {\r\n        this.producerEndpoint = producerEndpoint;\r\n        this.httpClient = httpClient;\r\n    }\r\n","title":"How to mock HttpClient&#39;s send method in junit 5?","body":"<p>The problem is that the <code>EsignEventProducer</code> constructor creates a new <code>HttpClient</code>, rather than using the mock. Instead, the <code>HttpClient</code> instance should be passed into the constructor.</p>\n<pre><code>@Autowired\npublic EsignEventProducer(@Value(&quot;${producer.http.endpoint}&quot;) String producerEndpoint, HttpClient httpClient) {\n    this.producerEndpoint = producerEndpoint;\n    this.httpClient = httpClient;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635515403,"creation_date":1635515403,"answer_id":69770078,"question_id":69768931,"body_markdown":"There are a couple of thing mixed up in your test, I would stick to one type of mock creation, either via annotations or explicitly.\r\nThe main problem is, as Tim Moore mentioned, is that your mock is not injected.\r\nYou are calling `MockitoAnnotations.initMocks(this);` before `httpClient = Mockito.mock(HttpClient.class);`, so your HttpClient mock isn&#39;t injected. The easiest way would be to annotate the httpClient field like this:\r\n\r\n    @Mock\r\n    private HttpClient httpClient;\r\nand delete the explicit `Mockito.mock(HttpClient.class);` call in your setup method.\r\nSo the whole class would look like this:\r\n\r\n    class MyProgramTest {\r\n    \r\n    @InjectMocks\r\n    private MyEventProducer myEventProducer;\r\n    \r\n    @Mock\r\n    private HttpClient httpClient;\r\n    @Mock\r\n    private HttpResponse&lt;Object&gt; httpResponse;\r\n    \r\n    @Mock\r\n    private HttpRequest request;\r\n    \r\n    private MyEvent schema;\r\n    \r\n    @BeforeEach\r\n    void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n        schema = new MyEvent();\r\n        schema.setId(&quot;123&quot;);\r\n        schema.setName(&quot;PACKAGE_COMPLETE&quot;);\r\n        schema.setCreatedDate(&quot;2021-10-20T16:17:58.408Z&quot;);\r\n        schema.setSessionUser(&quot;dummySession&quot;);\r\n    }\r\n    \r\n    @Test\r\n    void testSendMessage() throws Exception {\r\n        ReflectionTestUtils.setField(myEventProducer, &quot;producerEndpoint&quot;,    &quot;http://localhost:8080/endpointservice/my_topic&quot;);\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        String jsonString = objectMapper.writeValueAsString(schema);\r\n        String xCorrelationId = &quot;dummyXCorrelationId&quot;;\r\n        Mockito.when(httpClient.send(Mockito.any(HttpRequest.class), HttpResponse.BodyHandlers.ofString())).thenReturn(null);\r\n        myEventProducer.sendMessage(objectMapper, jsonString, xCorrelationId);\r\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\r\n    }\r\n    }\r\n\r\n","title":"How to mock HttpClient&#39;s send method in junit 5?","body":"<p>There are a couple of thing mixed up in your test, I would stick to one type of mock creation, either via annotations or explicitly.\nThe main problem is, as Tim Moore mentioned, is that your mock is not injected.\nYou are calling <code>MockitoAnnotations.initMocks(this);</code> before <code>httpClient = Mockito.mock(HttpClient.class);</code>, so your HttpClient mock isn't injected. The easiest way would be to annotate the httpClient field like this:</p>\n<pre><code>@Mock\nprivate HttpClient httpClient;\n</code></pre>\n<p>and delete the explicit <code>Mockito.mock(HttpClient.class);</code> call in your setup method.\nSo the whole class would look like this:</p>\n<pre><code>class MyProgramTest {\n\n@InjectMocks\nprivate MyEventProducer myEventProducer;\n\n@Mock\nprivate HttpClient httpClient;\n@Mock\nprivate HttpResponse&lt;Object&gt; httpResponse;\n\n@Mock\nprivate HttpRequest request;\n\nprivate MyEvent schema;\n\n@BeforeEach\nvoid setUp() {\n    MockitoAnnotations.initMocks(this);\n    schema = new MyEvent();\n    schema.setId(&quot;123&quot;);\n    schema.setName(&quot;PACKAGE_COMPLETE&quot;);\n    schema.setCreatedDate(&quot;2021-10-20T16:17:58.408Z&quot;);\n    schema.setSessionUser(&quot;dummySession&quot;);\n}\n\n@Test\nvoid testSendMessage() throws Exception {\n    ReflectionTestUtils.setField(myEventProducer, &quot;producerEndpoint&quot;,    &quot;http://localhost:8080/endpointservice/my_topic&quot;);\n    ObjectMapper objectMapper = new ObjectMapper();\n    String jsonString = objectMapper.writeValueAsString(schema);\n    String xCorrelationId = &quot;dummyXCorrelationId&quot;;\n    Mockito.when(httpClient.send(Mockito.any(HttpRequest.class), HttpResponse.BodyHandlers.ofString())).thenReturn(null);\n    myEventProducer.sendMessage(objectMapper, jsonString, xCorrelationId);\n    verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":448756,"reputation":574,"user_id":7369265,"accept_rate":40,"display_name":"Ranjit Soni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635515403,"creation_date":1635510688,"question_id":69768931,"body_markdown":"I am calling external service using send() method of HttpClient&#39;s instance.\r\n```\r\npublic class MyProgram {\r\n\t\r\n\t\r\n\tprivate String producerEndpoint;\r\n\tprivate HttpClient httpClient;\r\n\t\r\n\t\r\n\t@Autowired\r\n\tpublic EsignEventProducer(@Value(&quot;${producer.http.endpoint}&quot;)String producerEndpoint) {\r\n\t\tthis.producerEndpoint=producerEndpoint;\r\n\t\tthis.httpClient=HttpClient.newBuilder().build();\r\n\t}\r\n\t\r\n\tpublic void sendMessage(ObjectMapper objectMapper, String jsonString, String xCorrelationId) throws Exception {\r\n\r\n\t\tProduceRequest produceRequest=new ProduceRequest();\r\n\t\tProduceRecord produceRecord=new ProduceRecord();\r\n\t\tproduceRecord.setValue(Optional.of(objectMapper.readTree(jsonString)));\r\n\t\tproduceRequest.setRecords(Arrays.asList(produceRecord));\r\n\t\t\r\n\t\tHttpRequest request=HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(producerEndpoint))\r\n\t\t\t\t.POST(HttpRequest.BodyPublishers.ofString(objectMapper.writeValueAsString(produceRequest)))\r\n\t\t\t\t.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON.toString())\r\n\t\t\t\t.setHeader(IdTypeConstants.XCORRELATIONID, xCorrelationId)\r\n\t\t\t\t.build();\r\n\t\t\r\n\t\thttpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n\t}\r\n}\r\n```\r\nWhile creating Junit Testcases, I am mocking  ```httpClient.send(request, HttpResponse.BodyHandlers.ofString());``` as  given below, but still instead of mocking, it is calling actual method.\r\nFollowing is Junit Test class.\r\n```\r\nclass MyProgramTest {\r\n\t\r\n\t@InjectMocks\r\n\tprivate MyEventProducer myEventProducer;\r\n\t\r\n\tprivate HttpClient httpClient;\r\n\tprivate HttpResponse&lt;Object&gt; httpResponse;\r\n\t\r\n\t@Mock\r\n\tprivate HttpRequest request;\r\n\t\r\n\tprivate MyEvent schema;\r\n\t\r\n\t@BeforeEach\r\n\tvoid setUp() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\tschema = new MyEvent();\r\n\t\tschema.setId(&quot;123&quot;);\r\n\t\tschema.setName(&quot;PACKAGE_COMPLETE&quot;);\r\n\t\tschema.setCreatedDate(&quot;2021-10-20T16:17:58.408Z&quot;);\r\n\t\tschema.setSessionUser(&quot;dummySession&quot;);\r\n\t\thttpClient = Mockito.mock(HttpClient.class);\r\n\t\thttpResponse = Mockito.mock(HttpResponse.class);\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testSendMessage() throws Exception {\r\n\t\tReflectionTestUtils.setField(myEventProducer, &quot;producerEndpoint&quot;, &quot;http://localhost:8080/endpointservice/my_topic&quot;);\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tString jsonString = objectMapper.writeValueAsString(schema);\r\n\t\tString xCorrelationId = &quot;dummyXCorrelationId&quot;;\r\n\t\tMockito.when(httpClient.send(Mockito.any(HttpRequest.class), HttpResponse.BodyHandlers.ofString())).thenReturn(null);\r\n\t\tmyEventProducer.sendMessage(objectMapper, jsonString, xCorrelationId);\r\n\t\tverify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\r\n\t}\r\n}\r\n\r\n```\r\nI am using Junit 5 with gradle and httpClient from java.net package.\r\nPlease help, Thanks","title":"How to mock HttpClient&#39;s send method in junit 5?","body":"<p>I am calling external service using send() method of HttpClient's instance.</p>\n<pre><code>public class MyProgram {\n    \n    \n    private String producerEndpoint;\n    private HttpClient httpClient;\n    \n    \n    @Autowired\n    public EsignEventProducer(@Value(&quot;${producer.http.endpoint}&quot;)String producerEndpoint) {\n        this.producerEndpoint=producerEndpoint;\n        this.httpClient=HttpClient.newBuilder().build();\n    }\n    \n    public void sendMessage(ObjectMapper objectMapper, String jsonString, String xCorrelationId) throws Exception {\n\n        ProduceRequest produceRequest=new ProduceRequest();\n        ProduceRecord produceRecord=new ProduceRecord();\n        produceRecord.setValue(Optional.of(objectMapper.readTree(jsonString)));\n        produceRequest.setRecords(Arrays.asList(produceRecord));\n        \n        HttpRequest request=HttpRequest.newBuilder()\n                .uri(URI.create(producerEndpoint))\n                .POST(HttpRequest.BodyPublishers.ofString(objectMapper.writeValueAsString(produceRequest)))\n                .setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON.toString())\n                .setHeader(IdTypeConstants.XCORRELATIONID, xCorrelationId)\n                .build();\n        \n        httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n    }\n}\n</code></pre>\n<p>While creating Junit Testcases, I am mocking  <code>httpClient.send(request, HttpResponse.BodyHandlers.ofString());</code> as  given below, but still instead of mocking, it is calling actual method.\nFollowing is Junit Test class.</p>\n<pre><code>class MyProgramTest {\n    \n    @InjectMocks\n    private MyEventProducer myEventProducer;\n    \n    private HttpClient httpClient;\n    private HttpResponse&lt;Object&gt; httpResponse;\n    \n    @Mock\n    private HttpRequest request;\n    \n    private MyEvent schema;\n    \n    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.initMocks(this);\n        schema = new MyEvent();\n        schema.setId(&quot;123&quot;);\n        schema.setName(&quot;PACKAGE_COMPLETE&quot;);\n        schema.setCreatedDate(&quot;2021-10-20T16:17:58.408Z&quot;);\n        schema.setSessionUser(&quot;dummySession&quot;);\n        httpClient = Mockito.mock(HttpClient.class);\n        httpResponse = Mockito.mock(HttpResponse.class);\n    }\n    \n    @Test\n    void testSendMessage() throws Exception {\n        ReflectionTestUtils.setField(myEventProducer, &quot;producerEndpoint&quot;, &quot;http://localhost:8080/endpointservice/my_topic&quot;);\n        ObjectMapper objectMapper = new ObjectMapper();\n        String jsonString = objectMapper.writeValueAsString(schema);\n        String xCorrelationId = &quot;dummyXCorrelationId&quot;;\n        Mockito.when(httpClient.send(Mockito.any(HttpRequest.class), HttpResponse.BodyHandlers.ofString())).thenReturn(null);\n        myEventProducer.sendMessage(objectMapper, jsonString, xCorrelationId);\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n    }\n}\n\n</code></pre>\n<p>I am using Junit 5 with gradle and httpClient from java.net package.\nPlease help, Thanks</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1635512288,"post_id":69768506,"comment_id":123325072,"body_markdown":"Check the return value of `db.insert(TABLE_NAME, null, values)`. If it is not -1 then the row is added in the table.","body":"Check the return value of <code>db.insert(TABLE_NAME, null, values)</code>. If it is not -1 then the row is added in the table."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1635514523,"post_id":69768506,"comment_id":123326105,"body_markdown":"Or use `insertOrThrow()` instead to get an exception with details why it might be failing.","body":"Or use <code>insertOrThrow()</code> instead to get an exception with details why it might be failing."}],"answers":[{"tags":[],"owner":{"account_id":23182091,"reputation":1,"user_id":17279777,"display_name":"cschurig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635509694,"creation_date":1635509694,"answer_id":69768711,"question_id":69768506,"body_markdown":"Try `db.beginTransaction()` after calling `getWritableDatabase()` and use `db.endTransaction()` instead of `db.close()` in `addNewLocation(...)`.","title":"Saving the Latitude and Longitude on map click to SQLite database not working","body":"<p>Try <code>db.beginTransaction()</code> after calling <code>getWritableDatabase()</code> and use <code>db.endTransaction()</code> instead of <code>db.close()</code> in <code>addNewLocation(...)</code>.</p>\n"}],"owner":{"account_id":1876738,"reputation":685,"user_id":1697806,"accept_rate":43,"display_name":"Allrounder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635515194,"creation_date":1635508814,"question_id":69768506,"body_markdown":"I am trying to save the Latitude and Longitude to my SQLite database.  However it is not saving it and not getting any error messages.\r\n\r\nThis is my code I have so far:\r\n\r\n    dbHandler = new DBHandler(MapsActivity.this);\r\n        googleMap.setOnMapLongClickListener(new GoogleMap.OnMapLongClickListener() {\r\n\r\n            @Override\r\n            public void onMapLongClick(LatLng latLng) {\r\n\r\n                String latLong = latLng.latitude + &quot; : &quot; + latLng.longitude;\r\n\r\n                dbHandler.addNewLocation(latLong);\r\n\r\n                MarkerOptions markerOptions = new MarkerOptions();\r\n                markerOptions.position(latLng);\r\n                markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\r\n                googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                googleMap.addMarker(markerOptions);\r\n                Toast.makeText(MapsActivity.this, &quot;Location has been added.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\nAnd then the DBHandler class:\r\n\r\n    public class DBHandler extends SQLiteOpenHelper {\r\n\r\n    private static final String DB_NAME = &quot;locationsdb&quot;;\r\n    private static final int DB_VERSION = 1;\r\n    private static final String TABLE_NAME = &quot;mylocations&quot;;\r\n    private static final String ID_COL = &quot;id&quot;;\r\n    private static final String NAME_LAT = &quot;lat&quot;;\r\n\r\n    public DBHandler(Context context) {\r\n        super(context, DB_NAME, null, DB_VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String query = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (&quot;\r\n                + ID_COL + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\r\n                + NAME_LAT + &quot; TEXT)&quot;;\r\n\r\n        db.execSQL(query);\r\n    }\r\n\r\n    public void addNewLocation(String latLong) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(NAME_LAT, latLong);\r\n        db.insert(TABLE_NAME, null, values);\r\n        db.close();\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // this method is called to check if the table exists already.\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n    }\r\n\r\nThen when I check the database there is nothing saved in it?\r\n\r\nCan someone please let me know what I am doing wrong here?\r\n\r\nThanks","title":"Saving the Latitude and Longitude on map click to SQLite database not working","body":"<p>I am trying to save the Latitude and Longitude to my SQLite database.  However it is not saving it and not getting any error messages.</p>\n<p>This is my code I have so far:</p>\n<pre><code>dbHandler = new DBHandler(MapsActivity.this);\n    googleMap.setOnMapLongClickListener(new GoogleMap.OnMapLongClickListener() {\n\n        @Override\n        public void onMapLongClick(LatLng latLng) {\n\n            String latLong = latLng.latitude + &quot; : &quot; + latLng.longitude;\n\n            dbHandler.addNewLocation(latLong);\n\n            MarkerOptions markerOptions = new MarkerOptions();\n            markerOptions.position(latLng);\n            markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\n            googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\n            googleMap.addMarker(markerOptions);\n            Toast.makeText(MapsActivity.this, &quot;Location has been added.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n<p>And then the DBHandler class:</p>\n<pre><code>public class DBHandler extends SQLiteOpenHelper {\n\nprivate static final String DB_NAME = &quot;locationsdb&quot;;\nprivate static final int DB_VERSION = 1;\nprivate static final String TABLE_NAME = &quot;mylocations&quot;;\nprivate static final String ID_COL = &quot;id&quot;;\nprivate static final String NAME_LAT = &quot;lat&quot;;\n\npublic DBHandler(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    String query = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (&quot;\n            + ID_COL + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\n            + NAME_LAT + &quot; TEXT)&quot;;\n\n    db.execSQL(query);\n}\n\npublic void addNewLocation(String latLong) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues values = new ContentValues();\n    values.put(NAME_LAT, latLong);\n    db.insert(TABLE_NAME, null, values);\n    db.close();\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // this method is called to check if the table exists already.\n    db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n    onCreate(db);\n}\n}\n</code></pre>\n<p>Then when I check the database there is nothing saved in it?</p>\n<p>Can someone please let me know what I am doing wrong here?</p>\n<p>Thanks</p>\n"},{"tags":["javascript","java","image","web","multimedia"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635518542,"post_id":69769964,"comment_id":123327970,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":13032647,"reputation":504,"user_id":9418580,"display_name":"Anonymous User"},"score":0,"creation_date":1651573557,"post_id":69769964,"comment_id":127390230,"body_markdown":"Did you find any solution to this?","body":"Did you find any solution to this?"},{"owner":{"account_id":3849367,"reputation":960,"user_id":3189895,"accept_rate":75,"display_name":"unbreak"},"score":0,"creation_date":1668498430,"post_id":69769964,"comment_id":131413137,"body_markdown":"Also I need solution for this.","body":"Also I need solution for this."}],"owner":{"account_id":23182967,"reputation":21,"user_id":17280536,"display_name":"askanode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635514919,"creation_date":1635514919,"question_id":69769964,"body_markdown":"1 of our external API&#39;s doesn&#39;t allow Multiframe images. \r\n\r\nSo, There is a need to detect and convert a multiframe image to single frame image.\r\n\r\n\r\nCan anyone help?\r\n\r\nThanks,\r\nAskanode :) ","title":"How to detect/convert a Multiframe image to single frame image in java/javascript?","body":"<p>1 of our external API's doesn't allow Multiframe images.</p>\n<p>So, There is a need to detect and convert a multiframe image to single frame image.</p>\n<p>Can anyone help?</p>\n<p>Thanks,\nAskanode :)</p>\n"},{"tags":["java","datetime","arraylist","date-difference"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1360577973,"post_id":14810084,"comment_id":20744236,"body_markdown":"Well what did you *expect* `getTime()` to do, when called on a string? What *exactly* does your `ArrayList` consist of? (And why do you apparently have a variable called `ArrayList`? That&#39;s very confusing.)","body":"Well what did you <i>expect</i> <code>getTime()</code> to do, when called on a string? What <i>exactly</i> does your <code>ArrayList</code> consist of? (And why do you apparently have a variable called <code>ArrayList</code>? That&#39;s very confusing.)"},{"owner":{"account_id":2340647,"reputation":283,"user_id":2052015,"accept_rate":69,"display_name":"user2052015"},"score":0,"creation_date":1360580582,"post_id":14810084,"comment_id":20745368,"body_markdown":"i expect getTime() to help me to find the difference of the first and last timestamps.but apparently it does not work wirith Strings but it does not work either with integer type. My Arraylist consists of only timestamps. my variable doesnt called actually Arraylist.i wrote ot like this just to make it obvious that it is an array list.","body":"i expect getTime() to help me to find the difference of the first and last timestamps.but apparently it does not work wirith Strings but it does not work either with integer type. My Arraylist consists of only timestamps. my variable doesnt called actually Arraylist.i wrote ot like this just to make it obvious that it is an array list."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1360580698,"post_id":14810084,"comment_id":20745429,"body_markdown":"You need to show samples of your *actual data*.Just saying they&#39;re strings is not terribly helpful - strings in what format?","body":"You need to show samples of your <i>actual data</i>.Just saying they&#39;re strings is not terribly helpful - strings in what format?"},{"owner":{"account_id":2340647,"reputation":283,"user_id":2052015,"accept_rate":69,"display_name":"user2052015"},"score":0,"creation_date":1360585097,"post_id":14810084,"comment_id":20746526,"body_markdown":"I added some more information to my code, could you please take a look again? I guess now it s more clear what i m trying to do!! Thanks a lot...","body":"I added some more information to my code, could you please take a look again? I guess now it s more clear what i m trying to do!! Thanks a lot..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1360586131,"post_id":14810084,"comment_id":20747052,"body_markdown":"You still haven&#39;t shared the thing I&#39;ve asked for twice: the data. You&#39;ve said it contains &quot;timestamps&quot; but *nothing* about what those look like.","body":"You still haven&#39;t shared the thing I&#39;ve asked for twice: the data. You&#39;ve said it contains &quot;timestamps&quot; but <i>nothing</i> about what those look like."}],"answers":[{"tags":[],"owner":{"account_id":536794,"reputation":21199,"user_id":905619,"accept_rate":88,"display_name":"poitroae"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1360578041,"creation_date":1360578041,"answer_id":14810128,"question_id":14810084,"body_markdown":"You should make your `ArrayList x` to an `ArrayList&lt;TimeStamp&gt; x`. Subsequently, your method `get(int)` will return an object of type `TimeStamp` (instead of a type `String`). On a `TimeStamp` you are allowed to invoke `getTime()`.\r\n\r\nBy the way, do you really need `java.sql.TimeStamp`? Maybe a simple `Date` or `Calendar` is easier and more appropriate.","title":"How to find the difference of two timestamps in java?","body":"<p>You should make your <code>ArrayList x</code> to an <code>ArrayList&lt;TimeStamp&gt; x</code>. Subsequently, your method <code>get(int)</code> will return an object of type <code>TimeStamp</code> (instead of a type <code>String</code>). On a <code>TimeStamp</code> you are allowed to invoke <code>getTime()</code>.</p>\n\n<p>By the way, do you really need <code>java.sql.TimeStamp</code>? Maybe a simple <code>Date</code> or <code>Calendar</code> is easier and more appropriate.</p>\n"},{"tags":[],"owner":{"account_id":2322211,"reputation":310,"user_id":2037621,"display_name":"Marc-Emmanuel Ramage"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1360579734,"creation_date":1360579734,"answer_id":14810648,"question_id":14810084,"body_markdown":"Assuming you have Timestamp objects or Date Objects in your ArrayList you could do:\r\n\r\n    Timestamp a = timeSt.get(0);\r\n    \r\n    Timestamp b = timeSt.get(timeSt.size()-1);\r\n    \r\n    long diff = b.getTime() - a.getTime();","title":"How to find the difference of two timestamps in java?","body":"<p>Assuming you have Timestamp objects or Date Objects in your ArrayList you could do:</p>\n\n<pre><code>Timestamp a = timeSt.get(0);\n\nTimestamp b = timeSt.get(timeSt.size()-1);\n\nlong diff = b.getTime() - a.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2322211,"reputation":310,"user_id":2037621,"display_name":"Marc-Emmanuel Ramage"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1360581450,"creation_date":1360581450,"answer_id":14811167,"question_id":14810084,"body_markdown":"Maybe like this:\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;ss S&quot;);\r\n    Date firstParsedDate = dateFormat.parse(a);\r\n    Date secondParsedDate = dateFormat.parse(b);\r\n    long diff = secondParsedDate.getTime() - firstParsedDate.getTime();","title":"How to find the difference of two timestamps in java?","body":"<p>Maybe like this:</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"ss S\");\nDate firstParsedDate = dateFormat.parse(a);\nDate secondParsedDate = dateFormat.parse(b);\nlong diff = secondParsedDate.getTime() - firstParsedDate.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18175401,"reputation":49,"user_id":13224251,"display_name":"Tiouliandine Maxim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635514570,"creation_date":1635513828,"answer_id":69769653,"question_id":14810084,"body_markdown":"You can calculate the difference with the both following methods(also you can modify the mentioned methods to return difference as &#39;millisecond&#39;, &#39;day&#39;, &#39;month&#39;, etc by adding additional if statement or using switch case):\r\n\r\n    private Long calculateDifference(String date1, String date2, String value) {\r\n            Timestamp date_1 = stringToTimestamp(date1);\r\n            Timestamp date_2 = stringToTimestamp(date2);\r\n            long milliseconds = date_1.getTime() - date_2.getTime();\r\n            if (value.equals(&quot;second&quot;))\r\n                return milliseconds / 1000;\r\n            if (value.equals(&quot;minute&quot;))\r\n                return milliseconds / 1000 / 60;\r\n            if (value.equals(&quot;hours&quot;))\r\n                return milliseconds / 1000 / 3600;\r\n            else\r\n                return new Long(999999999);\r\n        }\r\n\r\n    private Timestamp stringToTimestamp(String date) {\r\n            try {\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                Date parsedDate = dateFormat.parse(date);\r\n                return new Timestamp(parsedDate.getTime());\r\n            } catch (Exception e) {\r\n                return null;\r\n            }\r\n        }\r\n\r\nFor example:\r\n\r\n    calculateDifference(&quot;2021-10-20 10:00:01&quot;, &quot;2021-10-20 10:15:01&quot;, &quot;minute&quot;);\r\n\r\nwill return &#39;-15&#39;\r\n\r\nor\r\n\r\n    calculateDifference(&quot;2021-10-20 12:00:01&quot;, &quot;2021-10-20 10:15:01&quot;, &quot;minute&quot;);\r\n\r\nwill return &#39;105&#39;\r\n","title":"How to find the difference of two timestamps in java?","body":"<p>You can calculate the difference with the both following methods(also you can modify the mentioned methods to return difference as 'millisecond', 'day', 'month', etc by adding additional if statement or using switch case):</p>\n<pre><code>private Long calculateDifference(String date1, String date2, String value) {\n        Timestamp date_1 = stringToTimestamp(date1);\n        Timestamp date_2 = stringToTimestamp(date2);\n        long milliseconds = date_1.getTime() - date_2.getTime();\n        if (value.equals(&quot;second&quot;))\n            return milliseconds / 1000;\n        if (value.equals(&quot;minute&quot;))\n            return milliseconds / 1000 / 60;\n        if (value.equals(&quot;hours&quot;))\n            return milliseconds / 1000 / 3600;\n        else\n            return new Long(999999999);\n    }\n\nprivate Timestamp stringToTimestamp(String date) {\n        try {\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            Date parsedDate = dateFormat.parse(date);\n            return new Timestamp(parsedDate.getTime());\n        } catch (Exception e) {\n            return null;\n        }\n    }\n</code></pre>\n<p>For example:</p>\n<pre><code>calculateDifference(&quot;2021-10-20 10:00:01&quot;, &quot;2021-10-20 10:15:01&quot;, &quot;minute&quot;);\n</code></pre>\n<p>will return '-15'</p>\n<p>or</p>\n<pre><code>calculateDifference(&quot;2021-10-20 12:00:01&quot;, &quot;2021-10-20 10:15:01&quot;, &quot;minute&quot;);\n</code></pre>\n<p>will return '105'</p>\n"}],"owner":{"account_id":2340647,"reputation":283,"user_id":2052015,"accept_rate":69,"display_name":"user2052015"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114631,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":14811167,"answer_count":4,"score":12,"last_activity_date":1635514570,"creation_date":1360577875,"question_id":14810084,"body_markdown":"I have an `ArrayList` including several number of time-stamps and the aim is finding the difference of the first and the last elements of the `ArrayList`.\r\n\r\n    String a = ArrayList.get(0);\r\n    String b = ArrayList.get(ArrayList.size()-1);\r\n    long diff = b.getTime() - a.getTime();\r\n\r\nI also converted the types to int but still it gives me an error `The method getTime is undefined for the type String`.\r\n\r\nAdditional info :\r\n\r\nI have a class A which includes \r\n\r\n    String timeStamp = new SimpleDateFormat(&quot;ss S&quot;).format(new Date());\r\n\r\nand there is a class B which has a method `private void dialogDuration(String timeStamp)`\r\n\r\nand `dialogueDuration` method includes:\r\n\r\n    String a = timeSt.get(0); // timeSt  is an ArrayList which includes all the timeStamps\r\n    String b = timeSt.get(timeSt.size()-1);   // This method aims finding the difference of the first and the last elements(timestamps) of the ArrayList  (in seconds)\r\n\r\n\tlong i = Long.parseLong(a);\r\n\tlong j = Long.parseLong(b);\r\n\r\n\tlong diff = j.getTime()- i.getTime();\r\n\r\n\tSystem.out.println(&quot;a: &quot; +i); \r\n\tSystem.out.println(&quot;b: &quot; +j); \r\n\r\nAnd one condition is that the statement(`String timeStamp = new SimpleDateFormat(&quot;ss S&quot;).format(new Date());`) wont be changed in class A. And an object of class B is created in class A so that it invokes the `dialogueDuration(timeStamp)` method and passes the values of time-stamps to class B.\r\n\r\nMy problem is this subtraction does not work, it gives an error `cannot invoke getTime() method on the primitive type long`. It gives the same kind of error also for int and String types?\r\n\r\nThanks a lot in advance!","title":"How to find the difference of two timestamps in java?","body":"<p>I have an <code>ArrayList</code> including several number of time-stamps and the aim is finding the difference of the first and the last elements of the <code>ArrayList</code>.</p>\n\n<pre><code>String a = ArrayList.get(0);\nString b = ArrayList.get(ArrayList.size()-1);\nlong diff = b.getTime() - a.getTime();\n</code></pre>\n\n<p>I also converted the types to int but still it gives me an error <code>The method getTime is undefined for the type String</code>.</p>\n\n<p>Additional info :</p>\n\n<p>I have a class A which includes </p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"ss S\").format(new Date());\n</code></pre>\n\n<p>and there is a class B which has a method <code>private void dialogDuration(String timeStamp)</code></p>\n\n<p>and <code>dialogueDuration</code> method includes:</p>\n\n<pre><code>String a = timeSt.get(0); // timeSt  is an ArrayList which includes all the timeStamps\nString b = timeSt.get(timeSt.size()-1);   // This method aims finding the difference of the first and the last elements(timestamps) of the ArrayList  (in seconds)\n\nlong i = Long.parseLong(a);\nlong j = Long.parseLong(b);\n\nlong diff = j.getTime()- i.getTime();\n\nSystem.out.println(\"a: \" +i); \nSystem.out.println(\"b: \" +j); \n</code></pre>\n\n<p>And one condition is that the statement(<code>String timeStamp = new SimpleDateFormat(\"ss S\").format(new Date());</code>) wont be changed in class A. And an object of class B is created in class A so that it invokes the <code>dialogueDuration(timeStamp)</code> method and passes the values of time-stamps to class B.</p>\n\n<p>My problem is this subtraction does not work, it gives an error <code>cannot invoke getTime() method on the primitive type long</code>. It gives the same kind of error also for int and String types?</p>\n\n<p>Thanks a lot in advance!</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635514468,"creation_date":1635514468,"answer_id":69769838,"question_id":69765918,"body_markdown":"Your `setLink` method assumes that the `XWPFTableCell` has paragraphs already. But that is not the case for new created empty `XWPFTableCell`s. So the code lines in body of `for (XWPFParagraph paragraph : cell.getParagraphs())` will not get reached, since `cell.getParagraphs()` returns an empty `List`.\r\n\r\nYour `setLink` method should better look like so:\r\n\r\n    ...\r\n     static void setLink(XWPFTableCell cell, String text, String link) {\r\n      XWPFParagraph paragraph = cell.addParagraph();\r\n      XWPFRun run = paragraph.createHyperlinkRun(link);\r\n      run.setText(text);\r\n      run.setUnderline(UnderlinePatterns.SINGLE);\r\n      run.setColor(&quot;0000FF&quot;);\r\n     }\r\n    ...\r\n\r\nThe setting the font size should not be done inside `setLink`. For this you have `setFontSize`. This method also assumes that the `XWPFTableCell` has paragraphs already. But this is true because it gets called after setting text into the cell.\r\n\r\nSo both the methods could be called like:\r\n\r\n    ...\r\n     XWPFTableCell desCell = desRow.getCell(col);\r\n     setLink(desCell, text, encURL);\r\n     setFontSize(desCell, 6);\r\n    ...\r\n\r\n\r\n\r\n","title":"Apache POI 5 : Set hyperlinks in word table cell","body":"<p>Your <code>setLink</code> method assumes that the <code>XWPFTableCell</code> has paragraphs already. But that is not the case for new created empty <code>XWPFTableCell</code>s. So the code lines in body of <code>for (XWPFParagraph paragraph : cell.getParagraphs())</code> will not get reached, since <code>cell.getParagraphs()</code> returns an empty <code>List</code>.</p>\n<p>Your <code>setLink</code> method should better look like so:</p>\n<pre><code>...\n static void setLink(XWPFTableCell cell, String text, String link) {\n  XWPFParagraph paragraph = cell.addParagraph();\n  XWPFRun run = paragraph.createHyperlinkRun(link);\n  run.setText(text);\n  run.setUnderline(UnderlinePatterns.SINGLE);\n  run.setColor(&quot;0000FF&quot;);\n }\n...\n</code></pre>\n<p>The setting the font size should not be done inside <code>setLink</code>. For this you have <code>setFontSize</code>. This method also assumes that the <code>XWPFTableCell</code> has paragraphs already. But this is true because it gets called after setting text into the cell.</p>\n<p>So both the methods could be called like:</p>\n<pre><code>...\n XWPFTableCell desCell = desRow.getCell(col);\n setLink(desCell, text, encURL);\n setFontSize(desCell, 6);\n...\n</code></pre>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69769838,"answer_count":1,"score":0,"last_activity_date":1635514468,"creation_date":1635496658,"question_id":69765918,"body_markdown":"I have got a JDBC result-set which I am trying to show it in a table in docx file . One of the columns in the result-set is a link . I am able to parse the link but not able to set it as hyperlink in the cell . I went through multiple SO questions but cant achieve that . File is getting generated but the link columns are coming as blank . \r\n\r\n```\r\n// Set Custom Font Size\r\n\tstatic void setFontSize(XWPFTableCell cell, int size) {\r\n\t\tfor (XWPFParagraph paragraph : cell.getParagraphs()) {\r\n\t\t\tfor (XWPFRun run : paragraph.getRuns()) {\r\n\t\t\t\trun.setFontSize(size);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Set table cell as link\r\n\tstatic void setLink(XWPFTableCell cell, String text, String link,int size) {\r\n\t\tfor (XWPFParagraph paragraph : cell.getParagraphs()) {\r\n\t\t\tXWPFRun run = paragraph.createHyperlinkRun(link);\r\n\t\t\trun.setText(text);\r\n\t\t\trun.setUnderline(UnderlinePatterns.SINGLE);\r\n\t\t\trun.setColor(&quot;0000FF&quot;);\r\n\t\t\trun.setFontSize(size);\r\n\t\t}\r\n\t}\r\npublic Void extractData(ResultSet rs) throws SQLException, DataAccessException {\r\n\r\n\t\tResultSetMetaData rsmd = rs.getMetaData();\r\n\t\tint columnsNumber = rsmd.getColumnCount();\r\n\t\tXWPFDocument document = new XWPFDocument();\r\n\r\n\t\t// Set page orientation\r\n\t\tCTDocument1 ctDocument = document.getDocument();\r\n\t\tCTBody ctBody = ctDocument.getBody();\r\n\t\tCTSectPr ctSectPr = (ctBody.isSetSectPr()) ? ctBody.getSectPr() : ctBody.addNewSectPr();\r\n\t\tCTPageSz ctPageSz = (ctSectPr.isSetPgSz()) ? ctSectPr.getPgSz() : ctSectPr.addNewPgSz();\r\n\t\tctPageSz.setOrient(STPageOrientation.LANDSCAPE);\r\n\r\n\t\t// set paper size A3\r\n\t\tctPageSz.setW(java.math.BigInteger.valueOf(Math.round(16.5 * 1440))); // 16.5 inches\r\n\t\tctPageSz.setH(java.math.BigInteger.valueOf(Math.round(11.7 * 1440))); // 11.7 inches\r\n\r\n\t\t// Creating Table with 1 row and as many columns as in the result set\r\n\t\tXWPFTable table = document.createTable(1, columnsNumber);\r\n\r\n\t\t// Get header Row\r\n\t\tXWPFTableRow header = table.getRow(0);\r\n\t\t// Set header columns\r\n\t\tfor (int col = 0; col &lt; columnsNumber; col++) {\r\n\t\t\theader.getCell(col).setText(rsmd.getColumnLabel(col + 1));\r\n\t\t\t// header.getCell(col).getCTTc().addNewTcPr().addNewShd().setFill(&quot;0394fc&quot;);\r\n\t\t\tsetFontSize(header.getCell(col), 6);\r\n\r\n\t\t}\r\n\t\t// Set data rows\r\n\t\twhile (rs.next()) {\r\n\t\t\tXWPFTableRow desRow = table.createRow();\r\n\t\t\tfor (int col = 0; col &lt; columnsNumber; col++) {\r\n\t\t\t\tfinal var value = rs.getObject(col + 1);\r\n\t\t\t\tString v = value == null ? &quot;&quot; : value.toString();\r\n\r\n\t\t\t\tif (v.startsWith(&quot;&lt;a&quot;)) {\r\n\t\t\t\t\tDocument doc = Jsoup.parse(v);\r\n\t\t\t\t\tElements rows = doc.getElementsByTag(&quot;a&quot;);\r\n\t\t\t\t\tString text = &quot;&quot;;\r\n\t\t\t\t\tfor (Element element : rows) {\r\n\t\t\t\t\t\ttext = element.text();\r\n\t\t\t\t\t\tString href = element.attr(&quot;href&quot;).trim();\r\n\t\t\t\t\t\tString encURL = &quot;&quot;;\r\n\t\t\t\t\t\tencURL = href.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n\t\t\t\t\t\tsetLink(desRow.getCell(col), text, encURL,6);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdesRow.getCell(col).setText(v);\r\n\t\t\t\t\tsetFontSize(desRow.getCell(col), 6);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttable.removeBorders();\r\n\t\tXWPFStyles styles = document.createStyles();\r\n\t\tXWPFStyle style;\r\n\t\tstyle = createTableStyle(styles, &quot;ListTableStyle&quot;);\r\n\t\ttable.setStyleID(style.getStyleId());\r\n\t\ttry {\r\n\t\t\tdocument.write(os);\r\n\t\t\tdocument.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.error(&quot;Error occurred: {0}&quot;, e);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n```","title":"Apache POI 5 : Set hyperlinks in word table cell","body":"<p>I have got a JDBC result-set which I am trying to show it in a table in docx file . One of the columns in the result-set is a link . I am able to parse the link but not able to set it as hyperlink in the cell . I went through multiple SO questions but cant achieve that . File is getting generated but the link columns are coming as blank .</p>\n<pre><code>// Set Custom Font Size\n    static void setFontSize(XWPFTableCell cell, int size) {\n        for (XWPFParagraph paragraph : cell.getParagraphs()) {\n            for (XWPFRun run : paragraph.getRuns()) {\n                run.setFontSize(size);\n            }\n        }\n    }\n\n    // Set table cell as link\n    static void setLink(XWPFTableCell cell, String text, String link,int size) {\n        for (XWPFParagraph paragraph : cell.getParagraphs()) {\n            XWPFRun run = paragraph.createHyperlinkRun(link);\n            run.setText(text);\n            run.setUnderline(UnderlinePatterns.SINGLE);\n            run.setColor(&quot;0000FF&quot;);\n            run.setFontSize(size);\n        }\n    }\npublic Void extractData(ResultSet rs) throws SQLException, DataAccessException {\n\n        ResultSetMetaData rsmd = rs.getMetaData();\n        int columnsNumber = rsmd.getColumnCount();\n        XWPFDocument document = new XWPFDocument();\n\n        // Set page orientation\n        CTDocument1 ctDocument = document.getDocument();\n        CTBody ctBody = ctDocument.getBody();\n        CTSectPr ctSectPr = (ctBody.isSetSectPr()) ? ctBody.getSectPr() : ctBody.addNewSectPr();\n        CTPageSz ctPageSz = (ctSectPr.isSetPgSz()) ? ctSectPr.getPgSz() : ctSectPr.addNewPgSz();\n        ctPageSz.setOrient(STPageOrientation.LANDSCAPE);\n\n        // set paper size A3\n        ctPageSz.setW(java.math.BigInteger.valueOf(Math.round(16.5 * 1440))); // 16.5 inches\n        ctPageSz.setH(java.math.BigInteger.valueOf(Math.round(11.7 * 1440))); // 11.7 inches\n\n        // Creating Table with 1 row and as many columns as in the result set\n        XWPFTable table = document.createTable(1, columnsNumber);\n\n        // Get header Row\n        XWPFTableRow header = table.getRow(0);\n        // Set header columns\n        for (int col = 0; col &lt; columnsNumber; col++) {\n            header.getCell(col).setText(rsmd.getColumnLabel(col + 1));\n            // header.getCell(col).getCTTc().addNewTcPr().addNewShd().setFill(&quot;0394fc&quot;);\n            setFontSize(header.getCell(col), 6);\n\n        }\n        // Set data rows\n        while (rs.next()) {\n            XWPFTableRow desRow = table.createRow();\n            for (int col = 0; col &lt; columnsNumber; col++) {\n                final var value = rs.getObject(col + 1);\n                String v = value == null ? &quot;&quot; : value.toString();\n\n                if (v.startsWith(&quot;&lt;a&quot;)) {\n                    Document doc = Jsoup.parse(v);\n                    Elements rows = doc.getElementsByTag(&quot;a&quot;);\n                    String text = &quot;&quot;;\n                    for (Element element : rows) {\n                        text = element.text();\n                        String href = element.attr(&quot;href&quot;).trim();\n                        String encURL = &quot;&quot;;\n                        encURL = href.replaceAll(&quot; &quot;, &quot;%20&quot;);\n                        setLink(desRow.getCell(col), text, encURL,6);\n                    }\n\n                } else {\n                    desRow.getCell(col).setText(v);\n                    setFontSize(desRow.getCell(col), 6);\n                }\n            }\n        }\n\n        table.removeBorders();\n        XWPFStyles styles = document.createStyles();\n        XWPFStyle style;\n        style = createTableStyle(styles, &quot;ListTableStyle&quot;);\n        table.setStyleID(style.getStyleId());\n        try {\n            document.write(os);\n            document.close();\n        } catch (IOException e) {\n            log.error(&quot;Error occurred: {0}&quot;, e);\n        }\n        return null;\n    }\n\n</code></pre>\n"},{"tags":["java","spring-boot","rest","if-statement","nullpointerexception"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":1,"creation_date":1635514490,"post_id":69769800,"comment_id":123326082,"body_markdown":"You can bind directly Category in the params and spring will do the rest for you","body":"You can bind directly Category in the params and spring will do the rest for you"},{"owner":{"account_id":22980193,"reputation":31,"user_id":17107241,"display_name":"leorosignoli"},"score":0,"creation_date":1635519886,"post_id":69769800,"comment_id":123328474,"body_markdown":"@b.GHILAS This doesn&#39;t work for me, because I need to pass the values separately.","body":"@b.GHILAS This doesn&#39;t work for me, because I need to pass the values separately."},{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635522359,"post_id":69769800,"comment_id":123329516,"body_markdown":"What do you mean pass the values separately ?","body":"What do you mean pass the values separately ?"},{"owner":{"account_id":22980193,"reputation":31,"user_id":17107241,"display_name":"leorosignoli"},"score":0,"creation_date":1635526710,"post_id":69769800,"comment_id":123331102,"body_markdown":"@b.GHILAS, I mean that I cannot alter the method&#39;s declaration.","body":"@b.GHILAS, I mean that I cannot alter the method&#39;s declaration."}],"owner":{"account_id":22980193,"reputation":31,"user_id":17107241,"display_name":"leorosignoli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635514325,"creation_date":1635514325,"question_id":69769800,"body_markdown":"I have the following method that gets multiple optional values as parameters. \r\n\r\n    @GetMapping(path = &quot;/search&quot;, produces = {MediaType.APPLICATION_JSON_VALUE , MediaType.APPLICATION_XML_VALUE})\r\n\tpublic ResponseEntity&lt;String&gt; getCategoriesByExample(\r\n\t\t\t@RequestParam(required = false) String id,\r\n\t\t\t@RequestParam(required = false) String name,\r\n    ...\r\n    ){\r\n\r\nThe problem is, since all the parameters are optional, when I assign them in a object I need to check all of them for nullability in such a way that multiple *IF&#39;s* are necessary. If I don&#39;t, the  program throws an error for assigning the variable a null value.\r\n\r\n    Category cat = new Category();\r\n\t\t\r\n\t\tif (id!=null) \r\n\t\t\tcat.setId(UUID.fromString(id));\r\n\t\t\r\n\t\tif (name!=null) \r\n\t\t\tcat.setName(name);\r\n    ...\r\n\r\nSo is there a way for me to  to check all of then without using the *if* statement?","title":"Check for Null values without IF statements","body":"<p>I have the following method that gets multiple optional values as parameters.</p>\n<pre><code>@GetMapping(path = &quot;/search&quot;, produces = {MediaType.APPLICATION_JSON_VALUE , MediaType.APPLICATION_XML_VALUE})\npublic ResponseEntity&lt;String&gt; getCategoriesByExample(\n        @RequestParam(required = false) String id,\n        @RequestParam(required = false) String name,\n...\n){\n</code></pre>\n<p>The problem is, since all the parameters are optional, when I assign them in a object I need to check all of them for nullability in such a way that multiple <em>IF's</em> are necessary. If I don't, the  program throws an error for assigning the variable a null value.</p>\n<pre><code>Category cat = new Category();\n    \n    if (id!=null) \n        cat.setId(UUID.fromString(id));\n    \n    if (name!=null) \n        cat.setName(name);\n...\n</code></pre>\n<p>So is there a way for me to  to check all of then without using the <em>if</em> statement?</p>\n"},{"tags":["java","eclipse","gwt","lambda"],"comments":[{"owner":{"account_id":7130364,"reputation":153,"user_id":5983976,"display_name":"Ilya K."},"score":0,"creation_date":1518465368,"post_id":48754280,"comment_id":84509701,"body_markdown":"Sorry, I accidentally deleted someones comment wich asked if I checked compiler set up for my Eclipse, or smth. The answer is - no, I did not and I do not know how to do this. Can anyone tell me how to st up the compiler for Eclipse?","body":"Sorry, I accidentally deleted someones comment wich asked if I checked compiler set up for my Eclipse, or smth. The answer is - no, I did not and I do not know how to do this. Can anyone tell me how to st up the compiler for Eclipse?"},{"owner":{"account_id":7130364,"reputation":153,"user_id":5983976,"display_name":"Ilya K."},"score":0,"creation_date":1518465728,"post_id":48754280,"comment_id":84509928,"body_markdown":"Correction: if what was meant is a Project-&gt;Preferences-&gt;Java Compiler-&gt;Compiler compliance level it is already set to 1.8. Thank you.","body":"Correction: if what was meant is a Project-&gt;Preferences-&gt;Java Compiler-&gt;Compiler compliance level it is already set to 1.8. Thank you."},{"owner":{"account_id":5106841,"reputation":9841,"user_id":4094678,"display_name":"cantSleepNow"},"score":1,"creation_date":1518466812,"post_id":48754280,"comment_id":84510527,"body_markdown":"So why luna+kepler patch? Why not simply get kepler? Or even better oxygen immediately? I","body":"So why luna+kepler patch? Why not simply get kepler? Or even better oxygen immediately? I"},{"owner":{"account_id":7130364,"reputation":153,"user_id":5983976,"display_name":"Ilya K."},"score":0,"creation_date":1518467177,"post_id":48754280,"comment_id":84510739,"body_markdown":"@cantSleepNow I am trying different Eclipse version now, thank you","body":"@cantSleepNow I am trying different Eclipse version now, thank you"},{"owner":{"account_id":5106841,"reputation":9841,"user_id":4094678,"display_name":"cantSleepNow"},"score":1,"creation_date":1518467575,"post_id":48754280,"comment_id":84510936,"body_markdown":"Nice, just clean install of oxygen should work, I Use it and have lambdas all over the code","body":"Nice, just clean install of oxygen should work, I Use it and have lambdas all over the code"}],"answers":[{"tags":[],"owner":{"account_id":7130364,"reputation":153,"user_id":5983976,"display_name":"Ilya K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1518469628,"creation_date":1518469628,"answer_id":48755516,"question_id":48754280,"body_markdown":"The error was here:\r\n\r\n    private void addResizeListener() {\r\n    this.resizeHandler = Window.addResizeHandler((ResizeEvent event)-&gt;\r\n             {resizeTimer.schedule(TIME_GAP);});}\r\n\r\nNormally it should have highlighted it with red and not allow to compile at all. But, somehow it managed to ignore it and start compilation. The correct form of lambda function is:\r\n\r\n    private void addResizeListener() {\r\n            this.resizeHandler = Window.addResizeHandler(event -&gt; \r\n            {resizeTimer.schedule(TIME_GAP);});}\r\nDiscarding all latest changes and `git pull` from the last point solved the case. I did not understand why it did not highlighted it with red previously.","title":"Java 8 Eclipse Luna 4.4 GWT 2.8 Error: Lambda expressions are allowed only at source level 1.8 or above","body":"<p>The error was here:</p>\n\n<pre><code>private void addResizeListener() {\nthis.resizeHandler = Window.addResizeHandler((ResizeEvent event)-&gt;\n         {resizeTimer.schedule(TIME_GAP);});}\n</code></pre>\n\n<p>Normally it should have highlighted it with red and not allow to compile at all. But, somehow it managed to ignore it and start compilation. The correct form of lambda function is:</p>\n\n<pre><code>private void addResizeListener() {\n        this.resizeHandler = Window.addResizeHandler(event -&gt; \n        {resizeTimer.schedule(TIME_GAP);});}\n</code></pre>\n\n<p>Discarding all latest changes and <code>git pull</code> from the last point solved the case. I did not understand why it did not highlighted it with red previously.</p>\n"}],"owner":{"account_id":7130364,"reputation":153,"user_id":5983976,"display_name":"Ilya K."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48755516,"answer_count":1,"score":0,"last_activity_date":1635514298,"creation_date":1518464478,"question_id":48754280,"body_markdown":"I have a resize handler with timer in my GWT DialogBox which centers the box in the browser window. It uses a lambda function:\r\n\r\n    public class MyBox extends DialogBox {\r\n\r\n    private HandlerRegistration resizeHandler = null;\r\n    private static final int TIME_GAP = 500;\r\n    private Timer resizeTimer = new Timer() {\r\n        @Override public void run() {\r\n            center();\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onLoad() {\r\n        addResizeListener();\r\n    }\r\n\r\n    @Override\r\n    protected void onUnload() {\r\n        resizeTimer.cancel();\r\n        resizeHandler.removeHandler();\r\n    }\r\n\r\n    private void addResizeListener() {\r\n        this.resizeHandler = Window.addResizeHandler(\r\n                (ResizeEvent event)-&gt;{resizeTimer.schedule(TIME_GAP);});\r\n    }\r\n}\r\n\r\nWhen I compile it I get:\r\n\r\n    [ERROR] Line 117: Lambda expressions are allowed only at source level 1.8 or above\r\n         [ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\r\n\r\nI have Eclipse Luna 4.4.2 build 20150219-0600, that is supposed to work out of box with Java 8. Here is what I tried:\r\n\r\n - installed Kepler patch\r\n - checked Preferences-&gt;Java-&gt;Compiler = 1.8 for project and Eclipse env\r\n - checked my Java-&gt;Build Path-&gt;Class Path -- JRE libs are 1.8.0_162\r\n - checked Installation Details-&gt;Configuration -- everything has jdk.1.8\r\n - checked Installed JREs -- Java SE 1.8.0_162\r\n - checked that $JAVA_HOME points to jdk1.8.0_162.jdk\r\n\r\n\r\nStill gives me error. Any thoughts? Thanks a lot!\r\n\r\n \r\n\r\n","title":"Java 8 Eclipse Luna 4.4 GWT 2.8 Error: Lambda expressions are allowed only at source level 1.8 or above","body":"<p>I have a resize handler with timer in my GWT DialogBox which centers the box in the browser window. It uses a lambda function:</p>\n\n<pre><code>public class MyBox extends DialogBox {\n\nprivate HandlerRegistration resizeHandler = null;\nprivate static final int TIME_GAP = 500;\nprivate Timer resizeTimer = new Timer() {\n    @Override public void run() {\n        center();\n    }\n};\n\n@Override\nprotected void onLoad() {\n    addResizeListener();\n}\n\n@Override\nprotected void onUnload() {\n    resizeTimer.cancel();\n    resizeHandler.removeHandler();\n}\n\nprivate void addResizeListener() {\n    this.resizeHandler = Window.addResizeHandler(\n            (ResizeEvent event)-&gt;{resizeTimer.schedule(TIME_GAP);});\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When I compile it I get:</p>\n\n<pre><code>[ERROR] Line 117: Lambda expressions are allowed only at source level 1.8 or above\n     [ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\n</code></pre>\n\n<p>I have Eclipse Luna 4.4.2 build 20150219-0600, that is supposed to work out of box with Java 8. Here is what I tried:</p>\n\n<ul>\n<li>installed Kepler patch</li>\n<li>checked Preferences->Java->Compiler = 1.8 for project and Eclipse env</li>\n<li>checked my Java->Build Path->Class Path -- JRE libs are 1.8.0_162</li>\n<li>checked Installation Details->Configuration -- everything has jdk.1.8</li>\n<li>checked Installed JREs -- Java SE 1.8.0_162</li>\n<li>checked that $JAVA_HOME points to jdk1.8.0_162.jdk</li>\n</ul>\n\n<p>Still gives me error. Any thoughts? Thanks a lot!</p>\n"},{"tags":["java","android","android-studio","android-intent","android-fragmentactivity"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1635511237,"post_id":69768996,"comment_id":123324636,"body_markdown":"Does this answer your question? [TransactionTooLargeException on API 28+ when sharing bitmap despite using Intent.EXTRA\\_STREAM](https://stackoverflow.com/questions/56416395/transactiontoolargeexception-on-api-28-when-sharing-bitmap-despite-using-intent)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/56416395/transactiontoolargeexception-on-api-28-when-sharing-bitmap-despite-using-intent\">TransactionTooLargeException on API 28+ when sharing bitmap despite using Intent.EXTRA_STREAM</a>"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1635511288,"post_id":69768996,"comment_id":123324655,"body_markdown":"Pass an identifier as the extra rather than your current values. Have the other activity use that identifier to get the needed data, such as retrieving it from a repository singleton. Or, perhaps you do not need a separate activity for that screen, and it can be another fragment within your original activity.","body":"Pass an identifier as the extra rather than your current values. Have the other activity use that identifier to get the needed data, such as retrieving it from a repository singleton. Or, perhaps you do not need a separate activity for that screen, and it can be another fragment within your original activity."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1635805875,"post_id":69768996,"comment_id":123386919,"body_markdown":"Looks like `mImage` is probably not a `String`, but a relatively large bitmap.","body":"Looks like <code>mImage</code> is probably not a <code>String</code>, but a relatively large bitmap."}],"answers":[{"tags":[],"owner":{"account_id":23111370,"reputation":21,"user_id":17219280,"display_name":"special N9NE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635514292,"creation_date":1635513963,"answer_id":69769690,"question_id":69768996,"body_markdown":"This error means you sending more than 1 MB of data through intent, in this case, your bitmap is too large for intent.\r\n\r\nThe solution is to reduce bitmap size or use different ways to pass bitmap like services, etc.","title":"Move from Fragment to Activity Causes android.os.TransactionTooLargeException","body":"<p>This error means you sending more than 1 MB of data through intent, in this case, your bitmap is too large for intent.</p>\n<p>The solution is to reduce bitmap size or use different ways to pass bitmap like services, etc.</p>\n"}],"owner":{"account_id":19743248,"reputation":169,"user_id":14456261,"display_name":"Matan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635514292,"creation_date":1635510990,"question_id":69768996,"body_markdown":"I&#39;m trying to move from a Fragment to an Activity using Intents, and where I run my code, it causes `android.os.TransactionTooLargeException`.\r\n\r\nMy Fragment code (CardFragment.java):\r\n```\r\n@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n\r\n    txtName = view.findViewById(R.id.txt_name);\r\n    btnFood = view.findViewById(R.id.btn_food);\r\n\r\n    txtName.setText(mName);\r\n\r\n    Bitmap bm = StringToBitMap(mImage);\r\n    btnFood.setImageBitmap(bm);\r\n\r\n    btnFood.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            Intent intent = new Intent(getActivity(), Recipes.class);\r\n            intent.putExtra(&quot;Name&quot;, mName);\r\n            intent.putExtra(&quot;Recipe&quot;, mRecipe);\r\n            intent.putExtra(&quot;Image&quot;, mImage);\r\n            startActivity(intent);\r\n        }\r\n    });\r\n}\r\n```\r\nThe `mName`, `mRecipe` and `mImage` are String variables.\r\n\r\nMy Activity code (Recipes.java):\r\n```\r\npublic class Recipes extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_recipes);\r\n\r\n        TextView txtName = findViewById(R.id.txt_name);\r\n        TextView txtRecipe = findViewById(R.id.txt_recipe);\r\n        ImageView imgView = findViewById(R.id.img_view);\r\n\r\n        txtName.setText(getIntent().getStringExtra(&quot;Name&quot;));\r\n        txtRecipe.setText(getIntent().getStringExtra(&quot;Recipe&quot;));\r\n\r\n        Bitmap bm = CardFragment.StringToBitMap(getIntent().getStringExtra(&quot;Image&quot;));\r\n        imgView.setImageBitmap(bm);\r\n    }\r\n}\r\n```\r\n\r\nEvery time I run this code, I get this error message:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.company.recipeapp, PID: 12160\r\n    java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 2355168 bytes\r\n        at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:161)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.os.TransactionTooLargeException: data parcel size 2355168 bytes\r\n        at android.os.BinderProxy.transactNative(Native Method)\r\n        at android.os.BinderProxy.transact(BinderProxy.java:540)\r\n        at android.app.IActivityTaskManager$Stub$Proxy.activityStopped(IActivityTaskManager.java:4408)\r\n        at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:145)\r\n        at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```\r\n\r\nWhat is this error and how can I solve it? Maybe because there are multiple `CardFragment`s in my previous view? Thanks for the help.","title":"Move from Fragment to Activity Causes android.os.TransactionTooLargeException","body":"<p>I'm trying to move from a Fragment to an Activity using Intents, and where I run my code, it causes <code>android.os.TransactionTooLargeException</code>.</p>\n<p>My Fragment code (CardFragment.java):</p>\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    txtName = view.findViewById(R.id.txt_name);\n    btnFood = view.findViewById(R.id.btn_food);\n\n    txtName.setText(mName);\n\n    Bitmap bm = StringToBitMap(mImage);\n    btnFood.setImageBitmap(bm);\n\n    btnFood.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(getActivity(), Recipes.class);\n            intent.putExtra(&quot;Name&quot;, mName);\n            intent.putExtra(&quot;Recipe&quot;, mRecipe);\n            intent.putExtra(&quot;Image&quot;, mImage);\n            startActivity(intent);\n        }\n    });\n}\n</code></pre>\n<p>The <code>mName</code>, <code>mRecipe</code> and <code>mImage</code> are String variables.</p>\n<p>My Activity code (Recipes.java):</p>\n<pre><code>public class Recipes extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_recipes);\n\n        TextView txtName = findViewById(R.id.txt_name);\n        TextView txtRecipe = findViewById(R.id.txt_recipe);\n        ImageView imgView = findViewById(R.id.img_view);\n\n        txtName.setText(getIntent().getStringExtra(&quot;Name&quot;));\n        txtRecipe.setText(getIntent().getStringExtra(&quot;Recipe&quot;));\n\n        Bitmap bm = CardFragment.StringToBitMap(getIntent().getStringExtra(&quot;Image&quot;));\n        imgView.setImageBitmap(bm);\n    }\n}\n</code></pre>\n<p>Every time I run this code, I get this error message:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.company.recipeapp, PID: 12160\n    java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 2355168 bytes\n        at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:161)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.os.TransactionTooLargeException: data parcel size 2355168 bytes\n        at android.os.BinderProxy.transactNative(Native Method)\n        at android.os.BinderProxy.transact(BinderProxy.java:540)\n        at android.app.IActivityTaskManager$Stub$Proxy.activityStopped(IActivityTaskManager.java:4408)\n        at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:145)\n        at android.os.Handler.handleCallback(Handler.java:938)¬†\n        at android.os.Handler.dispatchMessage(Handler.java:99)¬†\n        at android.os.Looper.loop(Looper.java:223)¬†\n        at android.app.ActivityThread.main(ActivityThread.java:7656)¬†\n        at java.lang.reflect.Method.invoke(Native Method)¬†\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)¬†\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)¬†\n</code></pre>\n<p>What is this error and how can I solve it? Maybe because there are multiple <code>CardFragment</code>s in my previous view? Thanks for the help.</p>\n"},{"tags":["java","jsr310"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635502815,"post_id":69766433,"comment_id":123321591,"body_markdown":"No, there is no way to set the time in an existing `LocalDateTime` object. The object is immutable. As most objects of classes of java.time.","body":"No, there is no way to set the time in an existing <code>LocalDateTime</code> object. The object is immutable. As most objects of classes of java.time."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635499467,"creation_date":1635499467,"answer_id":69766491,"question_id":69766433,"body_markdown":"If you look at `LocalDateTime` you&#39;ll see:\r\n```\r\n\r\n    /**\r\n     * The date part.\r\n     */\r\n    private final LocalDate date;\r\n    /**\r\n     * The time part.\r\n     */\r\n    private final LocalTime time;\r\n```\r\nSo `LocalDateTime` is immutable. This is good because it means that you can pass an instance to other code without worrying that it might get modified, and simplifies access from multiple threads.\r\n\r\nI does mean that you will need to create a new instance to modify the time.","title":"Modifiying time in LocalTimeDate object","body":"<p>If you look at <code>LocalDateTime</code> you'll see:</p>\n<pre><code>\n    /**\n     * The date part.\n     */\n    private final LocalDate date;\n    /**\n     * The time part.\n     */\n    private final LocalTime time;\n</code></pre>\n<p>So <code>LocalDateTime</code> is immutable. This is good because it means that you can pass an instance to other code without worrying that it might get modified, and simplifies access from multiple threads.</p>\n<p>I does mean that you will need to create a new instance to modify the time.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635499595,"creation_date":1635499595,"answer_id":69766520,"question_id":69766433,"body_markdown":"`LocalDateTime` is immutable, meaning you cannot change a `LocalDateTime` object (only create new objects). If you use modifying operations, another `LocalDateTime` object is created.\r\n\r\nYou could obviously create another object manually but you can also get a `LocalDate`-object using `.toLocalDate` and get a `LocalDateTime`-object again using `.atStartOfDay`:\r\n\r\n    yourLocalDateTime.toLocalDate().atStartOfDay()","title":"Modifiying time in LocalTimeDate object","body":"<p><code>LocalDateTime</code> is immutable, meaning you cannot change a <code>LocalDateTime</code> object (only create new objects). If you use modifying operations, another <code>LocalDateTime</code> object is created.</p>\n<p>You could obviously create another object manually but you can also get a <code>LocalDate</code>-object using <code>.toLocalDate</code> and get a <code>LocalDateTime</code>-object again using <code>.atStartOfDay</code>:</p>\n<pre><code>yourLocalDateTime.toLocalDate().atStartOfDay()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635514077,"creation_date":1635499673,"answer_id":69766545,"question_id":69766433,"body_markdown":"A given `LocalDateTime` object can not be modified, since those are immutable. But you can get a new `LocalDateTime` object with the desired dates.\r\n\r\nThere are several ways to do this (all assuming `ldt` is the input and `atMidnight` is a variable of type `LocalDateTime`):\r\n\r\n1. `atMidnight = ldt.with(LocalTime.MIDNIGHT)` (preferred method)\r\n2. `atMidnight = ldt.truncatedTo(ChronoUnit.DAYS)`\r\n3. `atMidnight = ldt.toLocalDate().atStartOfDay()`\r\n\r\nLastly, if you really meant &quot;with no time&quot;, then you can simply convert the `LocalDateTime` to a `LocalDate` using `toLocalDate`.","title":"Modifiying time in LocalTimeDate object","body":"<p>A given <code>LocalDateTime</code> object can not be modified, since those are immutable. But you can get a new <code>LocalDateTime</code> object with the desired dates.</p>\n<p>There are several ways to do this (all assuming <code>ldt</code> is the input and <code>atMidnight</code> is a variable of type <code>LocalDateTime</code>):</p>\n<ol>\n<li><code>atMidnight = ldt.with(LocalTime.MIDNIGHT)</code> (preferred method)</li>\n<li><code>atMidnight = ldt.truncatedTo(ChronoUnit.DAYS)</code></li>\n<li><code>atMidnight = ldt.toLocalDate().atStartOfDay()</code></li>\n</ol>\n<p>Lastly, if you really meant &quot;with no time&quot;, then you can simply convert the <code>LocalDateTime</code> to a <code>LocalDate</code> using <code>toLocalDate</code>.</p>\n"}],"owner":{"account_id":22288920,"reputation":157,"user_id":16516119,"display_name":"joseph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69766545,"answer_count":3,"score":1,"last_activity_date":1635514077,"creation_date":1635499203,"question_id":69766433,"body_markdown":"Given a `LocalDateTime` object in Java. How do I set the time for this to 00:00:00 ?\r\nOne way is to create a new `LocalDateTime` object with the same date as this one and set it to 0.\r\nIs there another way to do it?","title":"Modifiying time in LocalTimeDate object","body":"<p>Given a <code>LocalDateTime</code> object in Java. How do I set the time for this to 00:00:00 ?\nOne way is to create a new <code>LocalDateTime</code> object with the same date as this one and set it to 0.\nIs there another way to do it?</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635513619,"creation_date":1635513619,"answer_id":69769605,"question_id":69761068,"body_markdown":"[Ideally, you shouldn&#39;t have multiple registries](https://www.confluent.io/blog/17-ways-to-mess-up-self-managed-schema-registry/). \r\n\r\nBut if you are aware of the architectural design behind that decision, then you must create two unique producers with different registry urls. The comma separation is for load balancing against one &quot;registry cluster&quot;, not a loop over multiple, unique registries \r\n\r\n","title":"How to produce messages to different Kafka topics and schema registries from the same producer","body":"<p><a href=\"https://www.confluent.io/blog/17-ways-to-mess-up-self-managed-schema-registry/\" rel=\"nofollow noreferrer\">Ideally, you shouldn't have multiple registries</a>.</p>\n<p>But if you are aware of the architectural design behind that decision, then you must create two unique producers with different registry urls. The comma separation is for load balancing against one &quot;registry cluster&quot;, not a loop over multiple, unique registries</p>\n"}],"owner":{"account_id":9309515,"reputation":95,"user_id":6911904,"display_name":"siri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635514054,"creation_date":1635455989,"question_id":69761068,"body_markdown":"I&#39;m trying to produce messages to different kafka topics from the same producer in my Java application. \r\n\r\nThis is how I create my producer and send a message to the topics. \r\n\r\n    @Bean\r\n    public Producer producer() {\r\n        Properties config = sdpProperties();\r\n        config.setProperty(&quot;schema.registry.url&quot;, &quot;&quot;);\r\n        config.setProperty(&quot;client.id&quot;, &quot;1&quot;);   ...\r\n        return new Producer(config);\r\n    }\r\n    producer.send(topic1, genericRecord, datasetId1);\r\n    producer.send(topic2, genericRecord, datasetId2);\r\n\r\n\r\nHowever, these two different topics have different schema.registry.urls. Through research, I saw that you can set more than one registry url in the config but when I try to follow this, it only validates against the second url. Messages to topic2 are produced correctly but messages to topic1 are not. Messages to both topics are only validated against url2 instead of validated topic1 against url1 and topic2 against url2.\r\n\r\n     config.setProperty(&quot;schema.registry.url&quot;, &quot;ur1,url2&quot;);\r\n\r\n\r\nHow can I use the same producer to send messages to these two different topics even though they have different schema.registry.urls? Am I setting this config incorrectly? \r\n\r\n","title":"How to produce messages to different Kafka topics and schema registries from the same producer","body":"<p>I'm trying to produce messages to different kafka topics from the same producer in my Java application.</p>\n<p>This is how I create my producer and send a message to the topics.</p>\n<pre><code>@Bean\npublic Producer producer() {\n    Properties config = sdpProperties();\n    config.setProperty(&quot;schema.registry.url&quot;, &quot;&quot;);\n    config.setProperty(&quot;client.id&quot;, &quot;1&quot;);   ...\n    return new Producer(config);\n}\nproducer.send(topic1, genericRecord, datasetId1);\nproducer.send(topic2, genericRecord, datasetId2);\n</code></pre>\n<p>However, these two different topics have different schema.registry.urls. Through research, I saw that you can set more than one registry url in the config but when I try to follow this, it only validates against the second url. Messages to topic2 are produced correctly but messages to topic1 are not. Messages to both topics are only validated against url2 instead of validated topic1 against url1 and topic2 against url2.</p>\n<pre><code> config.setProperty(&quot;schema.registry.url&quot;, &quot;ur1,url2&quot;);\n</code></pre>\n<p>How can I use the same producer to send messages to these two different topics even though they have different schema.registry.urls? Am I setting this config incorrectly?</p>\n"},{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":1666939,"reputation":1710,"user_id":1534157,"display_name":"Janesh Kodikara"},"score":0,"creation_date":1635513069,"post_id":69769376,"comment_id":123325439,"body_markdown":"Do you have (Module Controllers)[https://jmeter.apache.org/usermanual/component_reference.html#Module_Controller] in the test ? If yes please ensure that they are attached to the target test fragments. The mapping is lost when you when you rename the items. `A fragment name is made up of the Controller name and all its parent names`","body":"Do you have (Module Controllers)[<a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Module_Controller]\" rel=\"nofollow noreferrer\">jmeter.apache.org/usermanual/&hellip;</a> in the test ? If yes please ensure that they are attached to the target test fragments. The mapping is lost when you when you rename the items. <code>A fragment name is made up of the Controller name and all its parent names</code>"},{"owner":{"account_id":23181298,"reputation":1,"user_id":17279088,"display_name":"andi"},"score":1,"creation_date":1635515940,"post_id":69769376,"comment_id":123326799,"body_markdown":"Thanks for your fast reply. Turns out i had a section in my test where the Module Controller was not attached to the target test fragments. (I didn&#180;t wirte the test myself). Removed this section and now its working.","body":"Thanks for your fast reply. Turns out i had a section in my test where the Module Controller was not attached to the target test fragments. (I didn&#180;t wirte the test myself). Removed this section and now its working."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635513895,"creation_date":1635513895,"answer_id":69769671,"question_id":69769376,"body_markdown":"I believe the error is self-explanatory:\r\n\r\n 1. You have a [Module Controller][1] somewhere in your Test Plan\r\n 2. The Module Controller doesn&#39;t refer to any [Test Fragment][2]\r\n\r\nSo you just need to find the problematic Module Controller and choose which Test Fragment you want to execute at this place:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see on attempt to run the test containing the Module Controller not connected to any Test Fragment I&#39;m getting the same error as you do, however when I explicitly point the Module Controller to the Test Fragment - the underlying Sampler gets executed \r\n\r\n\r\n  [1]: https://guide.blazemeter.com/hc/en-us/articles/207421345-Using-JMeter-Module-Controller-Using-JMeter-Module-Controller\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Test_Fragment\r\n  [3]: https://i.stack.imgur.com/ShEoR.gif","title":"JMeter Error in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException","body":"<p>I believe the error is self-explanatory:</p>\n<ol>\n<li>You have a <a href=\"https://guide.blazemeter.com/hc/en-us/articles/207421345-Using-JMeter-Module-Controller-Using-JMeter-Module-Controller\" rel=\"nofollow noreferrer\">Module Controller</a> somewhere in your Test Plan</li>\n<li>The Module Controller doesn't refer to any <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Test_Fragment\" rel=\"nofollow noreferrer\">Test Fragment</a></li>\n</ol>\n<p>So you just need to find the problematic Module Controller and choose which Test Fragment you want to execute at this place:</p>\n<p><a href=\"https://i.stack.imgur.com/ShEoR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ShEoR.gif\" alt=\"enter image description here\" /></a></p>\n<p>As you can see on attempt to run the test containing the Module Controller not connected to any Test Fragment I'm getting the same error as you do, however when I explicitly point the Module Controller to the Test Fragment - the underlying Sampler gets executed</p>\n"}],"owner":{"account_id":23181298,"reputation":1,"user_id":17279088,"display_name":"andi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635513895,"creation_date":1635512647,"question_id":69769376,"body_markdown":"I have a JMeter test which works in GUI-Mode but when i try to run it in NonGui-Mode i get this error:\r\n\r\n ```\r\nWARNING: package sun.awt.X11 not in java.desktop\r\nError in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException: ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\r\nAn error occurred: Error in NonGUIDriver ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\r\n```\r\n\r\nJMeter version: 5.4.1\r\n\r\nJava version: openjdk version &quot;1.8.0_292&quot;\r\n\r\n\r\n\r\n\r\n\r\n","title":"JMeter Error in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException","body":"<p>I have a JMeter test which works in GUI-Mode but when i try to run it in NonGui-Mode i get this error:</p>\n<pre><code>WARNING: package sun.awt.X11 not in java.desktop\nError in NonGUIDriver org.apache.jorphan.util.JMeterStopTestException: ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\nAn error occurred: Error in NonGUIDriver ModuleController:[Mod] Login has no selected Controller (did you rename some element in the path to target controller?), test was shutdown as a consequence\n</code></pre>\n<p>JMeter version: 5.4.1</p>\n<p>Java version: openjdk version &quot;1.8.0_292&quot;</p>\n"},{"tags":["java","android","kotlin","encryption","android-keystore"],"comments":[{"owner":{"account_id":2593783,"reputation":1344,"user_id":5251245,"display_name":"Jameido"},"score":0,"creation_date":1634631908,"post_id":69627115,"comment_id":123070204,"body_markdown":"Does this answer your question? [Key permanently invalidated Exception after adding/removing fingerprint](https://stackoverflow.com/questions/44886119/key-permanently-invalidated-exception-after-adding-removing-fingerprint)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44886119/key-permanently-invalidated-exception-after-adding-removing-fingerprint\">Key permanently invalidated Exception after adding/removing fingerprint</a>"},{"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"score":0,"creation_date":1634632535,"post_id":69627115,"comment_id":123070484,"body_markdown":"Thanks for replay Jaameido, I also saw this but, could not figured where to handle this in my class, I tried in getOrCreateSecretKey method but it not worked","body":"Thanks for replay Jaameido, I also saw this but, could not figured where to handle this in my class, I tried in getOrCreateSecretKey method but it not worked"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1634634919,"post_id":69627115,"comment_id":123071476,"body_markdown":"IIRC, the exception is thrown when you try to do `Cipher.init` with an invalidated key. Check your stacktrace.","body":"IIRC, the exception is thrown when you try to do <code>Cipher.init</code> with an invalidated key. Check your stacktrace."},{"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"score":0,"creation_date":1634650351,"post_id":69627115,"comment_id":123078250,"body_markdown":"@Michael I updated post, I couldn&#39;t fixed it yet","body":"@Michael I updated post, I couldn&#39;t fixed it yet"}],"answers":[{"tags":[],"owner":{"account_id":4153564,"reputation":66,"user_id":3405369,"display_name":"daidalos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635513840,"creation_date":1635513478,"answer_id":69769565,"question_id":69627115,"body_markdown":"This happens because in your key generator parameters you include the **[setUserAuthenticationRequired(true)][1]** which invalidates the key when all biometrics are removed or a new one is added on the device.  \r\n\r\nThis means that when you try to decrypt using such a key after you have removed a fingerprint and add another you will get the **KeyPermanentlyInvalidatedException** thrown when you call **cipher.init**.\r\n \r\nCatching the exception, deleting the invalid key and generating a new one is part of the solution because with the new key you will not be able to decrypt your encrypted(with the previous key) data anymore. For this you will have to have a fallback flow where you ask the user for the data to be encrypted again with the new key.\r\n\r\nAs final notes:  \r\n- You could use the **[setInvalidatedByBiometricEnrollment][2]** method (available from API 24) when generating new keys and set it to false which will narrow down a little bit the cases where the key will be invalidated but is probably considered a little bit less secure.\r\n\r\n- Setting the setUserAuthenticationRequired to false when generating the key (which would also resolve your issue) is not recommended.\r\n\r\n  [1]: https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setUserAuthenticationRequired(boolean)\r\n  [2]: https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setInvalidatedByBiometricEnrollment(boolean)","title":"Key permanently invalidated exception biometric authorization Android","body":"<p>This happens because in your key generator parameters you include the <strong><a href=\"https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setUserAuthenticationRequired(boolean)\" rel=\"noreferrer\">setUserAuthenticationRequired(true)</a></strong> which invalidates the key when all biometrics are removed or a new one is added on the device.</p>\n<p>This means that when you try to decrypt using such a key after you have removed a fingerprint and add another you will get the <strong>KeyPermanentlyInvalidatedException</strong> thrown when you call <strong>cipher.init</strong>.</p>\n<p>Catching the exception, deleting the invalid key and generating a new one is part of the solution because with the new key you will not be able to decrypt your encrypted(with the previous key) data anymore. For this you will have to have a fallback flow where you ask the user for the data to be encrypted again with the new key.</p>\n<p>As final notes:</p>\n<ul>\n<li><p>You could use the <strong><a href=\"https://developer.android.com/reference/android/security/keystore/KeyGenParameterSpec.Builder#setInvalidatedByBiometricEnrollment(boolean)\" rel=\"noreferrer\">setInvalidatedByBiometricEnrollment</a></strong> method (available from API 24) when generating new keys and set it to false which will narrow down a little bit the cases where the key will be invalidated but is probably considered a little bit less secure.</p>\n</li>\n<li><p>Setting the setUserAuthenticationRequired to false when generating the key (which would also resolve your issue) is not recommended.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1780,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69769565,"answer_count":1,"score":2,"last_activity_date":1635513840,"creation_date":1634630627,"question_id":69627115,"body_markdown":"Im trying to implement biometric authorization in Android app. I followed android official  documentation and it was worked everything fine until today, so when I removed finger print and add new one, now its throwing exception, I tried to put try catch in getOrCreateSecretKey but it was same :( \r\n\r\nandroid.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated\r\n\r\n    private class CryptographyManagerImpl : CryptographyManager {\r\n    \r\n        private val KEY_SIZE = 256\r\n        private val ANDROID_KEYSTORE = &quot;AndroidKeyStore&quot;\r\n        private val ENCRYPTION_BLOCK_MODE = KeyProperties.BLOCK_MODE_GCM\r\n        private val ENCRYPTION_PADDING = KeyProperties.ENCRYPTION_PADDING_NONE\r\n        private val ENCRYPTION_ALGORITHM = KeyProperties.KEY_ALGORITHM_AES\r\n    \r\n        override fun getInitializedCipherForEncryption(keyName: String): Cipher {\r\n            val cipher = getCipher()\r\n            val secretKey = getOrCreateSecretKey(keyName)\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey)\r\n            return cipher\r\n        }\r\n    \r\n        override fun getInitializedCipherForDecryption(\r\n            keyName: String,\r\n            initializationVector: ByteArray\r\n        ): Cipher {\r\n            val cipher = getCipher()\r\n            val secretKey = getOrCreateSecretKey(keyName)\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, GCMParameterSpec(128, initializationVector))\r\n            return cipher\r\n        }\r\n    \r\n        override fun encryptData(plaintext: String, cipher: Cipher): CiphertextWrapper {\r\n            val ciphertext = cipher.doFinal(plaintext.toByteArray(Charset.forName(&quot;UTF-8&quot;)))\r\n            return CiphertextWrapper(ciphertext, cipher.iv)\r\n        }\r\n    \r\n        override fun decryptData(ciphertext: ByteArray, cipher: Cipher): String {\r\n            val plaintext = cipher.doFinal(ciphertext)\r\n            return String(plaintext, Charset.forName(&quot;UTF-8&quot;))\r\n        }\r\n    \r\n        private fun getCipher(): Cipher {\r\n            val transformation = &quot;$ENCRYPTION_ALGORITHM/$ENCRYPTION_BLOCK_MODE/$ENCRYPTION_PADDING&quot;\r\n            return Cipher.getInstance(transformation)\r\n        }\r\n    \r\n        private fun getOrCreateSecretKey(keyName: String): SecretKey {\r\n            // If Secretkey was previously created for that keyName, then grab and return it.\r\n            val keyStore = KeyStore.getInstance(ANDROID_KEYSTORE)\r\n            keyStore.load(null) // Keystore must be loaded before it can be accessed\r\n            keyStore.getKey(keyName, null)?.let { return it as SecretKey }\r\n    \r\n            // if you reach here, then a new SecretKey must be generated for that keyName\r\n            val paramsBuilder = KeyGenParameterSpec.Builder(\r\n                keyName,\r\n                KeyProperties.PURPOSE_ENCRYPT or KeyProperties.PURPOSE_DECRYPT\r\n            )\r\n            paramsBuilder.apply {\r\n                setBlockModes(ENCRYPTION_BLOCK_MODE)\r\n                setEncryptionPaddings(ENCRYPTION_PADDING)\r\n                setKeySize(KEY_SIZE)\r\n                setUserAuthenticationRequired(true)\r\n            }\r\n    \r\n            val keyGenParams = paramsBuilder.build()\r\n            val keyGenerator = KeyGenerator.getInstance(\r\n                KeyProperties.KEY_ALGORITHM_AES,\r\n                ANDROID_KEYSTORE\r\n            )\r\n            keyGenerator.init(keyGenParams)\r\n            return keyGenerator.generateKey()\r\n        }\r\n\r\nException\r\n\r\n    2021-10-19 17:28:05.252 6613-6613/com.samplebet E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.samplebet, PID: 6613\r\n        java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;\r\n         Caused by: android.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated\r\n            at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1533)\r\n            at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1548)\r\n            at android.security.keystore.KeyStoreCryptoOperationUtils.getInvalidKeyExceptionForInit(KeyStoreCryptoOperationUtils.java:54)\r\n            at android.security.keystore.KeyStoreCryptoOperationUtils.getExceptionForCipherInit(KeyStoreCryptoOperationUtils.java:89)\r\n            at android.security.keystore.AndroidKeyStoreCipherSpiBase.ensureKeystoreOperationInitialized(AndroidKeyStoreCipherSpiBase.java:265)\r\n            at android.security.keystore.AndroidKeyStoreCipherSpiBase.engineInit(AndroidKeyStoreCipherSpiBase.java:148)\r\n            at javax.crypto.Cipher.tryTransformWithProvider(Cipher.java:2980)\r\n            at javax.crypto.Cipher.tryCombinations(Cipher.java:2891)\r\n            at javax.crypto.Cipher$SpiAndProviderUpdater.updateAndGetSpiAndProvider(Cipher.java:2796)\r\n            at javax.crypto.Cipher.chooseProvider(Cipher.java:773)\r\n            at javax.crypto.Cipher.init(Cipher.java:1288)\r\n            at javax.crypto.Cipher.init(Cipher.java:1223)\r\n            at com.samplebet.biometric.CryptographyManagerImpl.getInitializedCipherForDecryption(CryptographyManager.kt:98)\r\n            at com.samplebet.auth.AuthActivity.showBiometricPromptForDecryption(AuthActivity.kt:120)\r\n            at com.samplebet.auth.AuthActivity.onCreate$lambda-5(AuthActivity.kt:87)\r\n            at com.samplebet.auth.AuthActivity.$r8$lambda$xxAGKHOwnj6tq1hGqTWaney7IFw(Unknown Source:0)\r\n            at com.samplebet.auth.AuthActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\r\n            at android.view.View.performClick(View.java:8160)\r\n            at android.widget.TextView.performClick(TextView.java:16222)\r\n            at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n            at android.view.View.performClickInternal(View.java:8137)\r\n            at android.view.View.access$3700(View.java:888)\r\n            at android.view.View$PerformClick.run(View.java:30236)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:246)","title":"Key permanently invalidated exception biometric authorization Android","body":"<p>Im trying to implement biometric authorization in Android app. I followed android official  documentation and it was worked everything fine until today, so when I removed finger print and add new one, now its throwing exception, I tried to put try catch in getOrCreateSecretKey but it was same :(</p>\n<p>android.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated</p>\n<pre><code>private class CryptographyManagerImpl : CryptographyManager {\n\n    private val KEY_SIZE = 256\n    private val ANDROID_KEYSTORE = &quot;AndroidKeyStore&quot;\n    private val ENCRYPTION_BLOCK_MODE = KeyProperties.BLOCK_MODE_GCM\n    private val ENCRYPTION_PADDING = KeyProperties.ENCRYPTION_PADDING_NONE\n    private val ENCRYPTION_ALGORITHM = KeyProperties.KEY_ALGORITHM_AES\n\n    override fun getInitializedCipherForEncryption(keyName: String): Cipher {\n        val cipher = getCipher()\n        val secretKey = getOrCreateSecretKey(keyName)\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey)\n        return cipher\n    }\n\n    override fun getInitializedCipherForDecryption(\n        keyName: String,\n        initializationVector: ByteArray\n    ): Cipher {\n        val cipher = getCipher()\n        val secretKey = getOrCreateSecretKey(keyName)\n        cipher.init(Cipher.DECRYPT_MODE, secretKey, GCMParameterSpec(128, initializationVector))\n        return cipher\n    }\n\n    override fun encryptData(plaintext: String, cipher: Cipher): CiphertextWrapper {\n        val ciphertext = cipher.doFinal(plaintext.toByteArray(Charset.forName(&quot;UTF-8&quot;)))\n        return CiphertextWrapper(ciphertext, cipher.iv)\n    }\n\n    override fun decryptData(ciphertext: ByteArray, cipher: Cipher): String {\n        val plaintext = cipher.doFinal(ciphertext)\n        return String(plaintext, Charset.forName(&quot;UTF-8&quot;))\n    }\n\n    private fun getCipher(): Cipher {\n        val transformation = &quot;$ENCRYPTION_ALGORITHM/$ENCRYPTION_BLOCK_MODE/$ENCRYPTION_PADDING&quot;\n        return Cipher.getInstance(transformation)\n    }\n\n    private fun getOrCreateSecretKey(keyName: String): SecretKey {\n        // If Secretkey was previously created for that keyName, then grab and return it.\n        val keyStore = KeyStore.getInstance(ANDROID_KEYSTORE)\n        keyStore.load(null) // Keystore must be loaded before it can be accessed\n        keyStore.getKey(keyName, null)?.let { return it as SecretKey }\n\n        // if you reach here, then a new SecretKey must be generated for that keyName\n        val paramsBuilder = KeyGenParameterSpec.Builder(\n            keyName,\n            KeyProperties.PURPOSE_ENCRYPT or KeyProperties.PURPOSE_DECRYPT\n        )\n        paramsBuilder.apply {\n            setBlockModes(ENCRYPTION_BLOCK_MODE)\n            setEncryptionPaddings(ENCRYPTION_PADDING)\n            setKeySize(KEY_SIZE)\n            setUserAuthenticationRequired(true)\n        }\n\n        val keyGenParams = paramsBuilder.build()\n        val keyGenerator = KeyGenerator.getInstance(\n            KeyProperties.KEY_ALGORITHM_AES,\n            ANDROID_KEYSTORE\n        )\n        keyGenerator.init(keyGenParams)\n        return keyGenerator.generateKey()\n    }\n</code></pre>\n<p>Exception</p>\n<pre><code>2021-10-19 17:28:05.252 6613-6613/com.samplebet E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.samplebet, PID: 6613\n    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)¬†\n     Caused by: android.security.keystore.KeyPermanentlyInvalidatedException: Key permanently invalidated\n        at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1533)\n        at android.security.KeyStore.getInvalidKeyException(KeyStore.java:1548)\n        at android.security.keystore.KeyStoreCryptoOperationUtils.getInvalidKeyExceptionForInit(KeyStoreCryptoOperationUtils.java:54)\n        at android.security.keystore.KeyStoreCryptoOperationUtils.getExceptionForCipherInit(KeyStoreCryptoOperationUtils.java:89)\n        at android.security.keystore.AndroidKeyStoreCipherSpiBase.ensureKeystoreOperationInitialized(AndroidKeyStoreCipherSpiBase.java:265)\n        at android.security.keystore.AndroidKeyStoreCipherSpiBase.engineInit(AndroidKeyStoreCipherSpiBase.java:148)\n        at javax.crypto.Cipher.tryTransformWithProvider(Cipher.java:2980)\n        at javax.crypto.Cipher.tryCombinations(Cipher.java:2891)\n        at javax.crypto.Cipher$SpiAndProviderUpdater.updateAndGetSpiAndProvider(Cipher.java:2796)\n        at javax.crypto.Cipher.chooseProvider(Cipher.java:773)\n        at javax.crypto.Cipher.init(Cipher.java:1288)\n        at javax.crypto.Cipher.init(Cipher.java:1223)\n        at com.samplebet.biometric.CryptographyManagerImpl.getInitializedCipherForDecryption(CryptographyManager.kt:98)\n        at com.samplebet.auth.AuthActivity.showBiometricPromptForDecryption(AuthActivity.kt:120)\n        at com.samplebet.auth.AuthActivity.onCreate$lambda-5(AuthActivity.kt:87)\n        at com.samplebet.auth.AuthActivity.$r8$lambda$xxAGKHOwnj6tq1hGqTWaney7IFw(Unknown Source:0)\n        at com.samplebet.auth.AuthActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\n        at android.view.View.performClick(View.java:8160)\n        at android.widget.TextView.performClick(TextView.java:16222)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View.performClickInternal(View.java:8137)\n        at android.view.View.access$3700(View.java:888)\n        at android.view.View$PerformClick.run(View.java:30236)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n</code></pre>\n"},{"tags":["java","android","firebase","google-maps","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635508386,"post_id":69766071,"comment_id":123323529,"body_markdown":"Can you please indicate the exact data you want to get?","body":"Can you please indicate the exact data you want to get?"},{"owner":{"account_id":10536766,"reputation":49,"user_id":7764395,"display_name":"Rafael Campos"},"score":0,"creation_date":1635509983,"post_id":69766071,"comment_id":123324115,"body_markdown":"In the Users node, the Name, Emergency Type and Alert Level","body":"In the Users node, the Name, Emergency Type and Alert Level"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635513645,"creation_date":1635513645,"answer_id":69769611,"question_id":69766071,"body_markdown":"According to your last comment:\r\n\r\n&gt; In the Users node, the Name, Emergency Type, and Alert Level\r\n\r\nTo be able to get the values of the indicated fields that correspond to a specific user and add them to a Google Map, please use the following lines of code:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference userLocationRef = rootRef.child(&quot;User Location&quot;).child(uid);\r\n    userLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\r\n            if (userLocationTask.isSuccessful()) {\r\n                DataSnapshot userLocationSnapshot = userLocationTask.getResult();\r\n                double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\r\n                double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\r\n\r\n                DatabaseReference uidRef = rootRef.child(&quot;Users&quot;).child(uid);\r\n                uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\r\n                        if (userTask.isSuccessful()) {\r\n                            DataSnapshot userSnapshot = userTask.getResult();\r\n                            String name = userSnapshot.child(&quot;Name&quot;).getValue(String.class);\r\n                            String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\r\n                            String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\r\n\r\n                            MarkerOptions markerOptions = new MarkerOptions();\r\n                            LatLng latLng = new LatLng(latitude, longitude);\r\n                            markerOptions.position(latLng);\r\n                            markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\r\n                            googleMap.addMarker(markerOptions);\r\n                        } else {\r\n                            Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nThe result of the following code will be the addition of a marker that corresponds to the user location on the Google Map. The title of the marker will contain, the name, the emergency type, and the alert level.\r\n\r\nThis will indeed work for a single user, if you need to show all users, then simply loop through the DataSnapshot object using getChildren() method like this:\r\n\r\n    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference userLocationRef = rootRef.child(uid).child(&quot;User Location&quot;);\r\n    userLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\r\n            if (userLocationTask.isSuccessful()) {\r\n                for (DataSnapshot userLocationSnapshot : userLocationTask.getResult().getChildren()) {\r\n                    double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\r\n                    double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\r\n\r\n                    DatabaseReference usersRef = rootRef.child(&quot;Users&quot;).child(uid);\r\n                    usersRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\r\n                            if (userTask.isSuccessful()) {\r\n                                for (DataSnapshot userSnapshot : userTask.getResult().getChildren()) {\r\n                                    String name = userSnapshot.child(&quot;name&quot;).getValue(String.class);\r\n                                    String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\r\n                                    String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\r\n\r\n                                    MarkerOptions markerOptions = new MarkerOptions();\r\n                                    LatLng latLng = new LatLng(latitude, longitude);\r\n                                    markerOptions.position(latLng);\r\n                                    markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\r\n                                    googleMap.addMarker(markerOptions);\r\n                                }\r\n                            } else {\r\n                                Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n            }\r\n        }\r\n    });","title":"Displaying data from Firebase into custom Info Window","body":"<p>According to your last comment:</p>\n<blockquote>\n<p>In the Users node, the Name, Emergency Type, and Alert Level</p>\n</blockquote>\n<p>To be able to get the values of the indicated fields that correspond to a specific user and add them to a Google Map, please use the following lines of code:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userLocationRef = rootRef.child(&quot;User Location&quot;).child(uid);\nuserLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\n        if (userLocationTask.isSuccessful()) {\n            DataSnapshot userLocationSnapshot = userLocationTask.getResult();\n            double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\n            double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\n\n            DatabaseReference uidRef = rootRef.child(&quot;Users&quot;).child(uid);\n            uidRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\n                    if (userTask.isSuccessful()) {\n                        DataSnapshot userSnapshot = userTask.getResult();\n                        String name = userSnapshot.child(&quot;Name&quot;).getValue(String.class);\n                        String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\n                        String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\n\n                        MarkerOptions markerOptions = new MarkerOptions();\n                        LatLng latLng = new LatLng(latitude, longitude);\n                        markerOptions.position(latLng);\n                        markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\n                        googleMap.addMarker(markerOptions);\n                    } else {\n                        Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don't ignore potential errors!\n                    }\n                }\n            });\n        } else {\n            Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result of the following code will be the addition of a marker that corresponds to the user location on the Google Map. The title of the marker will contain, the name, the emergency type, and the alert level.</p>\n<p>This will indeed work for a single user, if you need to show all users, then simply loop through the DataSnapshot object using getChildren() method like this:</p>\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userLocationRef = rootRef.child(uid).child(&quot;User Location&quot;);\nuserLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userLocationTask) {\n        if (userLocationTask.isSuccessful()) {\n            for (DataSnapshot userLocationSnapshot : userLocationTask.getResult().getChildren()) {\n                double latitude = userLocationSnapshot.child(&quot;latitude&quot;).getValue(Double.class);\n                double longitude = userLocationSnapshot.child(&quot;longitude&quot;).getValue(Double.class);\n\n                DatabaseReference usersRef = rootRef.child(&quot;Users&quot;).child(uid);\n                usersRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; userTask) {\n                        if (userTask.isSuccessful()) {\n                            for (DataSnapshot userSnapshot : userTask.getResult().getChildren()) {\n                                String name = userSnapshot.child(&quot;name&quot;).getValue(String.class);\n                                String emergencyType = userSnapshot.child(&quot;Emergency Type&quot;).getValue(String.class);\n                                String alertLevel = userSnapshot.child(&quot;Alert Level&quot;).getValue(String.class);\n\n                                MarkerOptions markerOptions = new MarkerOptions();\n                                LatLng latLng = new LatLng(latitude, longitude);\n                                markerOptions.position(latLng);\n                                markerOptions.title(name + &quot;/&quot; + emergencyType + &quot;/&quot; + alertLevel);\n                                googleMap.addMarker(markerOptions);\n                            }\n                        } else {\n                            Log.d(&quot;TAG&quot;, userTask.getException().getMessage()); //Don't ignore potential errors!\n                        }\n                    }\n                });\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, userLocationTask.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":10536766,"reputation":49,"user_id":7764395,"display_name":"Rafael Campos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69769611,"answer_count":1,"score":0,"last_activity_date":1635513707,"creation_date":1635497466,"question_id":69766071,"body_markdown":"I&#39;m trying to display a couple of user details from Firebase into a custom Map Marker after the location data has been retrieved from the database but I don&#39;t know if I should implement FirebaseRecyclerAdapter or a normal one. How should I do this? \r\n\r\nI&#39;m trying to at least retrieve the user&#39;s name, emergency type, and alert level and display on the Info Window when the marker is clicked:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    {\r\n      &quot;Blocked Users&quot; : {\r\n        &quot;RCX2HZXIwlSmMHFgDytf1DgZBgi2&quot; : 0,\r\n        &quot;vqP3H4maEfQxCBHEWqsH9q4O1M52&quot; : 0\r\n      },\r\n      &quot;User Location&quot; : {\r\n        &quot;RCX2HZXIwlSmMHFgDytf1DgZBgi2&quot; : {\r\n          &quot;latitude&quot; : 15.506605,\r\n          &quot;longitude&quot; : 120.86838\r\n        },\r\n        &quot;vqP3H4maEfQxCBHEWqsH9q4O1M52&quot; : {\r\n          &quot;latitude&quot; : 37.3259633,\r\n          &quot;longitude&quot; : -121.898475\r\n        }\r\n      },\r\n      &quot;Users&quot; : {\r\n        &quot;RCX2HZXIwlSmMHFgDytf1DgZBgi2&quot; : {\r\n          &quot;Alert Level&quot; : &quot;High&quot;,\r\n          &quot;Emergency Type&quot; : &quot;Natural Disaster&quot;,\r\n          &quot;address&quot; : &quot;Lapaz Tarlac&quot;,\r\n          &quot;emergencyNum&quot; : &quot;0981232387346&quot;,\r\n          &quot;name&quot; : &quot;Rafael Campos&quot;,\r\n          &quot;phoneNum&quot; : &quot;0981233445675&quot;\r\n        },\r\n        &quot;vqP3H4maEfQxCBHEWqsH9q4O1M52&quot; : {\r\n          &quot;Alert Level&quot; : &quot;High&quot;,\r\n          &quot;Emergency Type&quot; : &quot;Natural Disaster&quot;,\r\n          &quot;address&quot; : &quot;Lapaz Tarlac&quot;,\r\n          &quot;emergencyNum&quot; : &quot;9876876650987&quot;,\r\n          &quot;name&quot; : &quot;Rafael Campos&quot;,\r\n          &quot;phoneNum&quot; : &quot;089098786876&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere is my onMapReady():\r\n\r\n```\r\n@Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference locationRef = rootRef.child(&quot;User Location&quot;);\r\n\r\n\r\n\r\n        locationRef.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n\r\n                    LocationSend send = snapshot.getValue(LocationSend.class);\r\n                    LatLng location = new LatLng(send.getLatitude(), send.getLongitude());\r\n                    mMap.addMarker(new MarkerOptions().position(location).title(getCompleteAddress(send.getLatitude(), send.getLongitude())));\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(location));\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(location, 14F));\r\n                    mMap.setInfoWindowAdapter(new InfoWindowAdapter(Retrieve.this));\r\n                    Log.d(&quot;TAG&quot;, &quot;latitude, longitude&quot;);\r\n                    notification();\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                LocationSend send = snapshot.getValue(LocationSend.class);\r\n                notification();\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n```\r\nMy adapter:\r\n\r\n```\r\npublic class InfoWindowAdapter implements GoogleMap.InfoWindowAdapter{\r\n\r\n    Context context;\r\n    public InfoWindowAdapter(Context context){\r\n        this.context = context;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View getInfoWindow(@NonNull Marker marker) {\r\n        View infoView = LayoutInflater.from(context).inflate(R.layout.infowindow, null);\r\n        TextView title = infoView.findViewById(R.id.title);\r\n        TextView alert = infoView.findViewById(R.id.alert);\r\n        TextView type = infoView.findViewById(R.id.type);\r\n        title.setText(marker.getTitle());\r\n        alert.setText(marker.getSnippet());\r\n        type.setText(marker.getSnippet());\r\n\r\n        return infoView;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View getInfoContents(@NonNull Marker marker) {\r\n        return null;\r\n    }\r\n}","title":"Displaying data from Firebase into custom Info Window","body":"<p>I'm trying to display a couple of user details from Firebase into a custom Map Marker after the location data has been retrieved from the database but I don't know if I should implement FirebaseRecyclerAdapter or a normal one. How should I do this?</p>\n<p>I'm trying to at least retrieve the user's name, emergency type, and alert level and display on the Info Window when the marker is clicked:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>{\n  \"Blocked Users\" : {\n    \"RCX2HZXIwlSmMHFgDytf1DgZBgi2\" : 0,\n    \"vqP3H4maEfQxCBHEWqsH9q4O1M52\" : 0\n  },\n  \"User Location\" : {\n    \"RCX2HZXIwlSmMHFgDytf1DgZBgi2\" : {\n      \"latitude\" : 15.506605,\n      \"longitude\" : 120.86838\n    },\n    \"vqP3H4maEfQxCBHEWqsH9q4O1M52\" : {\n      \"latitude\" : 37.3259633,\n      \"longitude\" : -121.898475\n    }\n  },\n  \"Users\" : {\n    \"RCX2HZXIwlSmMHFgDytf1DgZBgi2\" : {\n      \"Alert Level\" : \"High\",\n      \"Emergency Type\" : \"Natural Disaster\",\n      \"address\" : \"Lapaz Tarlac\",\n      \"emergencyNum\" : \"0981232387346\",\n      \"name\" : \"Rafael Campos\",\n      \"phoneNum\" : \"0981233445675\"\n    },\n    \"vqP3H4maEfQxCBHEWqsH9q4O1M52\" : {\n      \"Alert Level\" : \"High\",\n      \"Emergency Type\" : \"Natural Disaster\",\n      \"address\" : \"Lapaz Tarlac\",\n      \"emergencyNum\" : \"9876876650987\",\n      \"name\" : \"Rafael Campos\",\n      \"phoneNum\" : \"089098786876\"\n    }\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here is my onMapReady():</p>\n<pre><code>@Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        mMap = googleMap;\n\n        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n        DatabaseReference locationRef = rootRef.child(&quot;User Location&quot;);\n\n\n\n        locationRef.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n\n                    LocationSend send = snapshot.getValue(LocationSend.class);\n                    LatLng location = new LatLng(send.getLatitude(), send.getLongitude());\n                    mMap.addMarker(new MarkerOptions().position(location).title(getCompleteAddress(send.getLatitude(), send.getLongitude())));\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(location));\n                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(location, 14F));\n                    mMap.setInfoWindowAdapter(new InfoWindowAdapter(Retrieve.this));\n                    Log.d(&quot;TAG&quot;, &quot;latitude, longitude&quot;);\n                    notification();\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                LocationSend send = snapshot.getValue(LocationSend.class);\n                notification();\n            }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n</code></pre>\n<p>My adapter:</p>\n<pre><code>public class InfoWindowAdapter implements GoogleMap.InfoWindowAdapter{\n\n    Context context;\n    public InfoWindowAdapter(Context context){\n        this.context = context;\n    }\n\n    @Nullable\n    @Override\n    public View getInfoWindow(@NonNull Marker marker) {\n        View infoView = LayoutInflater.from(context).inflate(R.layout.infowindow, null);\n        TextView title = infoView.findViewById(R.id.title);\n        TextView alert = infoView.findViewById(R.id.alert);\n        TextView type = infoView.findViewById(R.id.type);\n        title.setText(marker.getTitle());\n        alert.setText(marker.getSnippet());\n        type.setText(marker.getSnippet());\n\n        return infoView;\n    }\n\n    @Nullable\n    @Override\n    public View getInfoContents(@NonNull Marker marker) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","angular","keycloak"],"comments":[{"owner":{"account_id":23182707,"reputation":21,"user_id":17280310,"display_name":"Sruthi k"},"score":0,"creation_date":1635567923,"post_id":69769493,"comment_id":123339235,"body_markdown":"Can anyone suggest a solution?","body":"Can anyone suggest a solution?"},{"owner":{"account_id":6953181,"reputation":2215,"user_id":5335153,"display_name":"Kevin Sanchez"},"score":0,"creation_date":1636084670,"post_id":69769493,"comment_id":123468560,"body_markdown":"I don&#39;t know if I understand your question, but do you want to change the internal theme in Keycloak admin pages or in your angular app?. If you want to change Keycloack theme you can do it by creating your own Theme. If what you want is to use the same keycloak&#39;s theme in Angular you will have to create your own css in your angular app in order to match it with Keycloak css.","body":"I don&#39;t know if I understand your question, but do you want to change the internal theme in Keycloak admin pages or in your angular app?. If you want to change Keycloack theme you can do it by creating your own Theme. If what you want is to use the same keycloak&#39;s theme in Angular you will have to create your own css in your angular app in order to match it with Keycloak css."},{"owner":{"account_id":23182707,"reputation":21,"user_id":17280310,"display_name":"Sruthi k"},"score":0,"creation_date":1636528360,"post_id":69769493,"comment_id":123577957,"body_markdown":"I want to change in angular app.that custom css I want to load it from Keycloak.Is it possible?","body":"I want to change in angular app.that custom css I want to load it from Keycloak.Is it possible?"}],"owner":{"account_id":23182707,"reputation":21,"user_id":17280310,"display_name":"Sruthi k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635513147,"creation_date":1635513147,"question_id":69769493,"body_markdown":"I am trying to set up Keycloak for multi tenant application in angular.I have created realms in Keycloak and integrated in angular app.For login page theme is applied from keycloak. After user is logged in, for dashboard and other application pages I want css to get applied from Keycloak themes.Is it possible using Keycloak to apply css for application pages?What is the better way to do this?","title":"Custom css for application pages in angular using Keycloak","body":"<p>I am trying to set up Keycloak for multi tenant application in angular.I have created realms in Keycloak and integrated in angular app.For login page theme is applied from keycloak. After user is logged in, for dashboard and other application pages I want css to get applied from Keycloak themes.Is it possible using Keycloak to apply css for application pages?What is the better way to do this?</p>\n"},{"tags":["java","arrays","char"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1635506408,"post_id":69767935,"comment_id":123322848,"body_markdown":"Have you tried stepping through the code in a debugger? Hint: when you&#39;re more than half way through the loop, you&#39;re swapping elements back to where they started...","body":"Have you tried stepping through the code in a debugger? Hint: when you&#39;re more than half way through the loop, you&#39;re swapping elements back to where they started..."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1635506662,"post_id":69767935,"comment_id":123322929,"body_markdown":"Yes a funny implementation. Worth in the for loop: `System.out.printf(&quot;[%d] %d [%d] %d%n&quot;, i, tabCar[i], lastPlace - i, tabCar[lastPlace - i]):` Oh, and next time `i &lt; tabCar.length / 2`","body":"Yes a funny implementation. Worth in the for loop: <code>System.out.printf(&quot;[%d] %d [%d] %d%n&quot;, i, tabCar[i], lastPlace - i, tabCar[lastPlace - i]):</code> Oh, and next time <code>i &lt; tabCar.length &#47; 2</code>"}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635512932,"creation_date":1635512932,"answer_id":69769447,"question_id":69767935,"body_markdown":"since you are running the loop till tabCar.length whats happening is its reverting the changes once the i value becomes more than tabCar.lenght/2\r\nthat is :\r\n\r\n    a b c d e f ---&gt;original\r\n    f b c d e a ---&gt; i=0\r\n    f e c d b a ---&gt; i=1\r\n    f e d c b a ---&gt; i=2\r\n    f e c d b a ---&gt; i=3 (reverting the changes)\r\n    f b c d e a ---&gt; i=4\r\n    a b c d e f ---&gt; i=5\r\n\r\nso you should stop the loop when it reaches the half way (tabCar.length/2)\r\n\r\n    public static void reverseArray(char[] tabCar) {\r\n        int lastPlace = tabCar.length - 1;\r\n        for (int i = 0; i &lt; tabCar.length / 2; i++) {\r\n            char tempChar = tabCar[i];\r\n            tabCar[i] = tabCar[lastPlace - i];\r\n            tabCar[lastPlace - i] = tempChar;\r\n        }\r\n    }\r\n\r\n","title":"char array not modified after passing trough a method that should modify it in java","body":"<p>since you are running the loop till tabCar.length whats happening is its reverting the changes once the i value becomes more than tabCar.lenght/2\nthat is :</p>\n<pre><code>a b c d e f ---&gt;original\nf b c d e a ---&gt; i=0\nf e c d b a ---&gt; i=1\nf e d c b a ---&gt; i=2\nf e c d b a ---&gt; i=3 (reverting the changes)\nf b c d e a ---&gt; i=4\na b c d e f ---&gt; i=5\n</code></pre>\n<p>so you should stop the loop when it reaches the half way (tabCar.length/2)</p>\n<pre><code>public static void reverseArray(char[] tabCar) {\n    int lastPlace = tabCar.length - 1;\n    for (int i = 0; i &lt; tabCar.length / 2; i++) {\n        char tempChar = tabCar[i];\n        tabCar[i] = tabCar[lastPlace - i];\n        tabCar[lastPlace - i] = tempChar;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user10734354"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69769447,"answer_count":1,"score":0,"last_activity_date":1635512932,"creation_date":1635506079,"question_id":69767935,"body_markdown":"Hello i have a problem with the code i&#39;ve written down below. From what i&#39;ve understand so far  what is passed to the method is the memory reference of charArray thus the variable charArray and tabCar should point at the same memory place. thus the modification done in my method reverseArray should be seen but somehow the 2 print statement display the same array... Could somebody explain to me why ?\r\n\r\n\r\n```java\r\npublic static void reverseArray(char[] tabCar){\r\n    int lastPlace = tabCar.length - 1;\r\n    for(int i = 0 ; i &lt; tabCar.length ; i++){\r\n        char tempChar = tabCar[i];\r\n        tabCar[i] = tabCar[lastPlace - i];\r\n        tabCar[lastPlace - i] = tempChar;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    char[] charArray = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n    System.out.println(&quot;Before reverseArray : &quot; + Arrays.toString(charArray));\r\n    reverseArray(charArray);\r\n    System.out.println(&quot;After reverseArray : &quot; + Arrays.toString(charArray));\r\n}\r\n```","title":"char array not modified after passing trough a method that should modify it in java","body":"<p>Hello i have a problem with the code i've written down below. From what i've understand so far  what is passed to the method is the memory reference of charArray thus the variable charArray and tabCar should point at the same memory place. thus the modification done in my method reverseArray should be seen but somehow the 2 print statement display the same array... Could somebody explain to me why ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void reverseArray(char[] tabCar){\n    int lastPlace = tabCar.length - 1;\n    for(int i = 0 ; i &lt; tabCar.length ; i++){\n        char tempChar = tabCar[i];\n        tabCar[i] = tabCar[lastPlace - i];\n        tabCar[lastPlace - i] = tempChar;\n    }\n}\n\npublic static void main(String[] args) {\n    char[] charArray = {'a','b','c','d','e','f'};\n    System.out.println(&quot;Before reverseArray : &quot; + Arrays.toString(charArray));\n    reverseArray(charArray);\n    System.out.println(&quot;After reverseArray : &quot; + Arrays.toString(charArray));\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1635511496,"post_id":69769090,"comment_id":123324730,"body_markdown":"T cannot be primitive","body":"T cannot be primitive"},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1635512268,"post_id":69769090,"comment_id":123325064,"body_markdown":"That is a reason we have IntStream instead of using Stream","body":"That is a reason we have IntStream instead of using Stream"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1635512958,"post_id":69769090,"comment_id":123325383,"body_markdown":"You could overload the method ...","body":"You could overload the method ..."},{"owner":{"account_id":14415230,"reputation":185,"user_id":12479250,"display_name":"Alexey Ismagilov"},"score":0,"creation_date":1635514175,"post_id":69769090,"comment_id":123325928,"body_markdown":"I understand that the `Comparator&lt;Integer&gt;` can compare two `int` without any problems. But I don&#39;t really understand how to make sorting of both primitive and complex types possible with one function, so as not to write the same code twice.","body":"I understand that the <code>Comparator&lt;Integer&gt;</code> can compare two <code>int</code> without any problems. But I don&#39;t really understand how to make sorting of both primitive and complex types possible with one function, so as not to write the same code twice."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637249683,"post_id":69769090,"comment_id":123780892,"body_markdown":"If providing one function was possible, do you think they would have added [18 `sort` methods to `Arrays`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html) (not counting the parallel ones)?","body":"If providing one function was possible, do you think they would have added <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">18 <code>sort</code> methods to <code>Arrays</code></a> (not counting the parallel ones)?"},{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1640383284,"post_id":69769090,"comment_id":124581706,"body_markdown":"Even if JLS technically allowed that - the compiler would have to resort to boxing your `primitive[]` array to a respective `wrapper[]` array (e.g. `int[]` to `Integer[]`) anyway since any generic type is not a primitive by definition. So, you can just do that conversion yourself (`int[]` to `Integer[]`) right before calling sort as this is effectively identical to what the compiler would do if the `sort(T[] a, Comparator&lt;T&gt; c)` was allowed to accept primitive arrays","body":"Even if JLS technically allowed that - the compiler would have to resort to boxing your <code>primitive[]</code> array to a respective <code>wrapper[]</code> array (e.g. <code>int[]</code> to <code>Integer[]</code>) anyway since any generic type is not a primitive by definition. So, you can just do that conversion yourself (<code>int[]</code> to <code>Integer[]</code>) right before calling sort as this is effectively identical to what the compiler would do if the <code>sort(T[] a, Comparator&lt;T&gt; c)</code> was allowed to accept primitive arrays"}],"owner":{"account_id":14415230,"reputation":185,"user_id":12479250,"display_name":"Alexey Ismagilov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635512407,"creation_date":1635511424,"question_id":69769090,"body_markdown":"I&#39;m trying to write a sorting method that would receive an array and a comparator for its elements as input. But an argument for an interface in java cannot be a primitive type, so for an array of elements of type `int`, a `Comparator&lt;Integer&gt;` is needed, not a `Comparator&lt;int&gt;`. In the case of an array of objects, my prototype looks like this:\r\n```\r\npublic static &lt;T&gt; void sort(T[] a, java.util.Comparator&lt;T&gt; c) {\r\n    ...\r\n}\r\n```\r\nIn this case , the situation is as follows:\r\n```\r\nsort(new Integer[10], new IntegerComparator()); // compiled\r\nsort(new int[10], new IntegerComparator()); // not compiled\r\n```\r\nwhere\r\n```\r\npublic class IntegerComparator implements java.util.Comparator&lt;Integer&gt; {\r\n    public CountingComparator() {}\r\n    public int compare(Integer l, Integer r) { return l.compareTo(r); }\r\n}\r\n```\r\n\r\nIs there a way in java to get a wrapper over `T` as a type if `T` is primitive and `T` otherwise?","title":"Getting a type or wrapper if the type is primitive","body":"<p>I'm trying to write a sorting method that would receive an array and a comparator for its elements as input. But an argument for an interface in java cannot be a primitive type, so for an array of elements of type <code>int</code>, a <code>Comparator&lt;Integer&gt;</code> is needed, not a <code>Comparator&lt;int&gt;</code>. In the case of an array of objects, my prototype looks like this:</p>\n<pre><code>public static &lt;T&gt; void sort(T[] a, java.util.Comparator&lt;T&gt; c) {\n    ...\n}\n</code></pre>\n<p>In this case , the situation is as follows:</p>\n<pre><code>sort(new Integer[10], new IntegerComparator()); // compiled\nsort(new int[10], new IntegerComparator()); // not compiled\n</code></pre>\n<p>where</p>\n<pre><code>public class IntegerComparator implements java.util.Comparator&lt;Integer&gt; {\n    public CountingComparator() {}\n    public int compare(Integer l, Integer r) { return l.compareTo(r); }\n}\n</code></pre>\n<p>Is there a way in java to get a wrapper over <code>T</code> as a type if <code>T</code> is primitive and <code>T</code> otherwise?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635508991,"post_id":69768328,"comment_id":123323746,"body_markdown":"use `@Controller` not `@RestController`.","body":"use <code>@Controller</code> not <code>@RestController</code>."}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635512314,"creation_date":1635512314,"answer_id":69769294,"question_id":69768328,"body_markdown":"```\r\n@RequestMapping(value = &quot;/session&quot;, method = RequestMethod.POST)\r\npublic String joinSession(RedirectAttributes redirectAttributes){\r\n\t/* --- */\r\n\tredirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;!!!Wrong Password!!!&quot;);\r\n\treturn &quot;redirect:/dashboard&quot;;\r\n}\r\n```","title":"RedirectAttributes not working in SpringBoot project","body":"<pre><code>@RequestMapping(value = &quot;/session&quot;, method = RequestMethod.POST)\npublic String joinSession(RedirectAttributes redirectAttributes){\n    /* --- */\n    redirectAttributes.addFlashAttribute(&quot;error&quot;, &quot;!!!Wrong Password!!!&quot;);\n    return &quot;redirect:/dashboard&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":22772301,"reputation":545,"user_id":16958679,"display_name":"mcool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69769294,"answer_count":1,"score":0,"last_activity_date":1635512314,"creation_date":1635507965,"question_id":69768328,"body_markdown":"I am trying to set up `RedirectAttributes`, but nothing happens when I do so. Here is my controller:\r\n```\r\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\r\n\r\n\r\n    @GetMapping(&quot;/run-1&quot;)\r\n    public String getTests(RedirectAttributes redirectAttributes) {\r\n        logger.info(&quot;Info Log in Main controller class&quot;);\r\n        logger.info(workingDir);\r\n        redirectAttributes.addFlashAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\r\n        redirectAttributes.addAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\r\n        return &quot;redirect:uploadStatus&quot;;\r\n\r\n    }\r\n```\r\n\r\nThis is a SpringBoot project, and since it is the Umbrella over Spring MVC, then I assumed I could use `RedirectAttributes`. So, what is going on? When I hit this end point, I am returned: `redirect:uploadStatus`\r\n","title":"RedirectAttributes not working in SpringBoot project","body":"<p>I am trying to set up <code>RedirectAttributes</code>, but nothing happens when I do so. Here is my controller:</p>\n<pre><code>import org.springframework.web.servlet.mvc.support.RedirectAttributes;\n\n\n    @GetMapping(&quot;/run-1&quot;)\n    public String getTests(RedirectAttributes redirectAttributes) {\n        logger.info(&quot;Info Log in Main controller class&quot;);\n        logger.info(workingDir);\n        redirectAttributes.addFlashAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\n        redirectAttributes.addAttribute(&quot;uploadStatus&quot;, &quot;redirectWithRedirectView&quot;);\n        return &quot;redirect:uploadStatus&quot;;\n\n    }\n</code></pre>\n<p>This is a SpringBoot project, and since it is the Umbrella over Spring MVC, then I assumed I could use <code>RedirectAttributes</code>. So, what is going on? When I hit this end point, I am returned: <code>redirect:uploadStatus</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8094,"page":1898,"page_size":100}
