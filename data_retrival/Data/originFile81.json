{"items":[{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92137,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1699126120,"creation_date":1428964559,"answer_id":29616222,"question_id":29606249,"body_markdown":"Mockito does work with proxies, and does support spies. Your syntax is a bit off, though:\r\n\r\n    /* BAD */  A a = Mockito.spy(A.class);\r\n    /* GOOD */ A a = Mockito.spy(new A());\r\n\r\nThe reason for the different behavior is that `a` doesn&#39;t _delegate_ to the parameter to `spy()`, but instead shallow-copies the field values to a brand new generated subclass of A with all of its methods overridden. Consequently, in Spring, references to `this` from within A refer to the unwrapped instance, where in Mockito references to `this` refer to the generated Mockito subclass—including the implicit reference to `this` in the `m2()` call within `m1`.\r\n\r\nThough this sounds like it would allow for use of AOP, I&#39;m not in a position to test that it works, and believe it would depend on the implementation details of Mockito and Spring AOP (and the order in which the wrapping happens). One example of Mockito behavior appearing incomplete or counterintuitive is when [the object being spied upon creates an instance of an inner class](https://stackoverflow.com/a/33656445/1426891) in its constructor or field initializers, including lambdas and anonymous inner classes. These inner class instances keep a reference to their outer classes, but Mockito&#39;s shallow copying does not change all references to refer to the spy instead of the original object.\r\n\r\n[_Editorial:_ Remember that Mockito is a test framework and is not designed for use in production. Also, even if you can get the two code-generating systems to work well together, will you and your coworkers be able to read/understand/debug the test a year from now? :) ]","title":"How does Mockito spy mock internal method calls?","body":"<p>Mockito does work with proxies, and does support spies. Your syntax is a bit off, though:</p>\n<pre><code>/* BAD */  A a = Mockito.spy(A.class);\n/* GOOD */ A a = Mockito.spy(new A());\n</code></pre>\n<p>The reason for the different behavior is that <code>a</code> doesn't <em>delegate</em> to the parameter to <code>spy()</code>, but instead shallow-copies the field values to a brand new generated subclass of A with all of its methods overridden. Consequently, in Spring, references to <code>this</code> from within A refer to the unwrapped instance, where in Mockito references to <code>this</code> refer to the generated Mockito subclass—including the implicit reference to <code>this</code> in the <code>m2()</code> call within <code>m1</code>.</p>\n<p>Though this sounds like it would allow for use of AOP, I'm not in a position to test that it works, and believe it would depend on the implementation details of Mockito and Spring AOP (and the order in which the wrapping happens). One example of Mockito behavior appearing incomplete or counterintuitive is when <a href=\"https://stackoverflow.com/a/33656445/1426891\">the object being spied upon creates an instance of an inner class</a> in its constructor or field initializers, including lambdas and anonymous inner classes. These inner class instances keep a reference to their outer classes, but Mockito's shallow copying does not change all references to refer to the spy instead of the original object.</p>\n<p>[<em>Editorial:</em> Remember that Mockito is a test framework and is not designed for use in production. Also, even if you can get the two code-generating systems to work well together, will you and your coworkers be able to read/understand/debug the test a year from now? :) ]</p>\n"}],"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29616222,"answer_count":1,"score":1,"last_activity_date":1699126120,"creation_date":1428930940,"question_id":29606249,"body_markdown":"I always thought Mockito works some some kind of proxy and things like that. But now I found out, that Mockito allows me to do something like\r\n\r\n    class A {\r\n      public String m1() {\r\n        return m2();\r\n      }\r\n    \r\n      public String m2() {\r\n        return &quot;Hello&quot;;\r\n      }\r\n    }\r\n    \r\n    class TestA {\r\n      public testM1() {\r\n        A a = Mockito.spy(A.class);\r\n        when(a.m2()).thenReturn(&quot;Bye&quot;);\r\n        Assert.assertEquals(a.m1(), &quot;Bye&quot;);\r\n      }\r\n    }\r\n\r\nThis wouldn&#39;t work with proxies. How does it do this?\r\nCould that technique be used to allow calling internal AOP-methods? (see https://stackoverflow.com/questions/13564627/spring-aop-not-working-for-method-call-inside-another-method)","title":"How does Mockito spy mock internal method calls?","body":"<p>I always thought Mockito works some some kind of proxy and things like that. But now I found out, that Mockito allows me to do something like</p>\n\n<pre><code>class A {\n  public String m1() {\n    return m2();\n  }\n\n  public String m2() {\n    return \"Hello\";\n  }\n}\n\nclass TestA {\n  public testM1() {\n    A a = Mockito.spy(A.class);\n    when(a.m2()).thenReturn(\"Bye\");\n    Assert.assertEquals(a.m1(), \"Bye\");\n  }\n}\n</code></pre>\n\n<p>This wouldn't work with proxies. How does it do this?\nCould that technique be used to allow calling internal AOP-methods? (see <a href=\"https://stackoverflow.com/questions/13564627/spring-aop-not-working-for-method-call-inside-another-method\">Spring AOP not working for method call inside another method</a>)</p>\n"},{"tags":["java","windows","maven","environment-variables"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699133540,"post_id":77423522,"comment_id":136493850,"body_markdown":"Please do not ask multiple questions in one. You didn&#39;t explain your actual issue. What is really the problem you are having?","body":"Please do not ask multiple questions in one. You didn&#39;t explain your actual issue. What is really the problem you are having?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699165415,"post_id":77423522,"comment_id":136495594,"body_markdown":"[How are Windows Environment variables evaluated?](https://stackoverflow.com/questions/5126512)","body":"<a href=\"https://stackoverflow.com/questions/5126512\">How are Windows Environment variables evaluated?</a>"}],"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699125929,"creation_date":1699125929,"question_id":77423522,"body_markdown":"There are a lot of similar posts on here, such as\r\nhttps://stackoverflow.com/questions/68503422/showing-java-home-is-not-defined-correctly-when-i-check-maven-version-in-windows and \r\nhttps://stackoverflow.com/questions/44680125/how-do-i-fix-maven-error-the-java-home-environment-variable-is-not-defined-corre\r\n\r\nBut none of them have helped me.  I do not have \\bin on the end of my JAVA_HOME variable.  \r\n```\r\nC:\\Users\\user1&gt;mvn -version\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n\r\nC:\\Users\\user1&gt;echo %JAVA_HOME%\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_351\r\n\r\nC:\\Users\\user1&gt;java -version\r\njava version &quot;11.0.19&quot; 2023-04-18 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.19+9-LTS-224)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.19+9-LTS-224, mixed mode)\r\n```\r\nHow are the system environment variables evaluated?  Do system environment variables take precedence over user environment variables?  And do path variables at top take precedence over those beneath them?  How do I work with multiple JDK versions?  ","title":"windows 10 mvn -version The JAVA_HOME environment variable is not defined correctly, this environment variable is needed to run this program","body":"<p>There are a lot of similar posts on here, such as\n<a href=\"https://stackoverflow.com/questions/68503422/showing-java-home-is-not-defined-correctly-when-i-check-maven-version-in-windows\">Showing JAVA_HOME is not defined correctly when I check Maven version in windows 10</a> and\n<a href=\"https://stackoverflow.com/questions/44680125/how-do-i-fix-maven-error-the-java-home-environment-variable-is-not-defined-corre\">How do I fix maven error The JAVA_HOME environment variable is not defined correctly?</a></p>\n<p>But none of them have helped me.  I do not have \\bin on the end of my JAVA_HOME variable.</p>\n<pre><code>C:\\Users\\user1&gt;mvn -version\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n\nC:\\Users\\user1&gt;echo %JAVA_HOME%\nC:\\Program Files (x86)\\Java\\jre1.8.0_351\n\nC:\\Users\\user1&gt;java -version\njava version &quot;11.0.19&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.19+9-LTS-224)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.19+9-LTS-224, mixed mode)\n</code></pre>\n<p>How are the system environment variables evaluated?  Do system environment variables take precedence over user environment variables?  And do path variables at top take precedence over those beneath them?  How do I work with multiple JDK versions?</p>\n"},{"tags":["java","spring","oracle","jdbc"],"comments":[{"owner":{"account_id":273136,"reputation":1626,"user_id":564553,"accept_rate":92,"display_name":"BPS"},"score":0,"creation_date":1491839202,"post_id":43327452,"comment_id":73719484,"body_markdown":"Please also include the code you are using to make the call from Java.","body":"Please also include the code you are using to make the call from Java."},{"owner":{"account_id":4777722,"reputation":1871,"user_id":3860389,"display_name":"gvenzl"},"score":0,"creation_date":1491842978,"post_id":43327452,"comment_id":73721823,"body_markdown":"`No more data to read from socket` mean that your connection has been terminated on the other end. Under no circumstances will the database terminate a connection on a function call for you. It could be an interruption in the network itself and TCP terminating your connection but it could also be an issue on the database itself, causing it to drop the connection. If you do have access to the database, look at the alert log for errors. It&#39;s usually located under `$ORACLE_BASE/diag/rdbms/&lt;DBName&gt;/&lt;SID&gt;/trace/alert_&lt;SID&gt;.log`","body":"<code>No more data to read from socket</code> mean that your connection has been terminated on the other end. Under no circumstances will the database terminate a connection on a function call for you. It could be an interruption in the network itself and TCP terminating your connection but it could also be an issue on the database itself, causing it to drop the connection. If you do have access to the database, look at the alert log for errors. It&#39;s usually located under <code>$ORACLE_BASE&#47;diag&#47;rdbms&#47;&lt;DBName&gt;&#47;&lt;SID&gt;&#47;trace&#47;alert_&lt;SID&gt;.log</code>"}],"answers":[{"tags":[],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501149166,"creation_date":1501149166,"answer_id":45347250,"question_id":43327452,"body_markdown":"Check this [question][1]: it seems very similar to yours. It says that a possible solution can be either \r\n\r\n - upgrading the oracle or \r\n - setting oracle parameter _optim_peek_user_binds = false\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7839907/no-more-data-to-read-from-socket-error","title":"SQLRecoverableException: No more data to read from socket only occurs when invoking an oracle package","body":"<p>Check this <a href=\"https://stackoverflow.com/questions/7839907/no-more-data-to-read-from-socket-error\">question</a>: it seems very similar to yours. It says that a possible solution can be either </p>\n\n<ul>\n<li>upgrading the oracle or </li>\n<li>setting oracle parameter _optim_peek_user_binds = false</li>\n</ul>\n"}],"owner":{"account_id":7443220,"reputation":21,"user_id":5660423,"display_name":"user5660423"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699124926,"creation_date":1491838713,"question_id":43327452,"body_markdown":"The following error only occurs when invoking an oracle package. Hundreds of different functions are invoked without any problem, but sometimes (not always) when this package is invoked the following exception occurs.\r\n\r\n    due to exception [CallableStatementCallback; SQL [{? = call RCREDITO.PQCRESLG0026.FNRECALCULO(?, ?, ?, ?, ?, ?)}]; No more data to read from socket; nested exception is java.sql.SQLRecoverableException: No more data to read from socket]: org.springframework.dao.RecoverableDataAccessException: CallableStatementCallback; SQL [{? = call RCREDITO.PQCRESLG0026.FNRECALCULO(?, ?, ?, ?, ?, ?)}]; No more data to read from socket; nested exception is java.sql.SQLRecoverableException: No more data to read from socket\r\n   \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:201)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:120)\r\n\tat org.springframework.boot.context.web.ErrorPageFilter.access$000(ErrorPageFilter.java:61)\r\n\tat org.springframework.boot.context.web.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:95)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:113)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:231)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149)\r\n\tat org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:169)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:150)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:854)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:511)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:122)\r\n\tCaused by: java.sql.SQLRecoverableException: No more data to read from socket\r\n\tat oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1142)\r\n\tat oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:1099)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:288)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:191)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:523)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)\r\n\tat oracle.jdbc.driver.T4CStatement.fetch(T4CStatement.java:1073)\r\n\tat oracle.jdbc.driver.OracleResultSetImpl.close_or_fetch_from_next(OracleResultSetImpl.java:359)\r\n\tat oracle.jdbc.driver.OracleResultSetImpl.next(OracleResultSetImpl.java:263)\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.processResultSet(JdbcTemplate.java:1321)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.extractOutputParameters(JdbcTemplate.java:1279)\r\n\tat org.springframework.jdbc.core.JdbcTemplate$6.doInCallableStatement(JdbcTemplate.java:1186)\r\n\tat org.springframework.jdbc.core.JdbcTemplate$6.doInCallableStatement(JdbcTemplate.java:1173)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1121)\r\n\t... 154 more\r\n\tWARN  [org.jboss.jca.core.connectionmanager.listener.TxConnectionListener] (ConnectionValidator) IJ000305: Connection error occured: org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@57aeca52[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@584799b0 connection handles=0 lastUse=1491082422691 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@44bb1f17 pool internal context=SemaphoreArrayListManagedConnectionPool@58f64241[pool=jdbc/SCL] xaResource=LocalXAResourceImpl@f77e708[connectionListener=57aeca52 connectionManager=5f5cabf6 warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\r\n\tWith the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,\r\n\tAdvanced Analytics and Real Application Testing options jndiName=java:/jdbc/SCL] txSync=null]: java.sql.SQLRecoverableException: No more data to read from socket\r\n\tat oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1142)\r\n\tat oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:1099)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:288)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:191)\r\n\tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:523)\r\n\tat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)\r\n\tat oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:852)\r\n\tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1153)\r\n\tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1275)\r\n\tat oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1890)\r\n\tat oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1855)\r\n\tat oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:304)\r\n\tat org.jboss.jca.adapters.jdbc.CheckValidConnectionSQL.isValidConnection(CheckValidConnectionSQL.java:74)\r\n\tat org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.isValidConnection(BaseWrapperManagedConnectionFactory.java:1100)\r\n\tat org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.checkValid(BaseWrapperManagedConnection.java:513)\r\n\tat org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.getInvalidConnections(BaseWrapperManagedConnectionFactory.java:921)\r\n\tat org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.validateConnections(SemaphoreArrayListManagedConnectionPool.java:987)\r\n\tat org.jboss.jca.core.connectionmanager.pool.validator.ConnectionValidator$ConnectionValidatorRunner.run(ConnectionValidator.java:277)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n**The oracle package:**\r\n\r\n    \tFUNCTION  FNCATALOGO (PA_FIPAISID        RCREDITO.CREDCLIENTEUNICOPEDIDO.FIPAIS%TYPE,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPA_FICANAL         RCREDITO.CREDCLIENTEUNICOPEDIDO.FICANAL%TYPE,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPA_FISUCURSAL  RCREDITO.CREDCLIENTEUNICOPEDIDO.FISUCURSAL%TYPE,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t PA_FIFOLIO          RCREDITO.CREDCLIENTEUNICOPEDIDO.FIFOLIO%TYPE)\r\n\t\t\t\t\t\t\t\t\t\t\tRETURN  RCREDITO.PATYPES.rcgCursor\r\n\t  IS\r\n\t\t rcl_CursorSalida        RCREDITO.PATYPES.rcgCursor;\r\n\t\tcsl_5                            PLS_INTEGER := 5;\r\n\t   csl_n1                         NUMBER(1):=-1;\r\n\t   csl_sysdate                DATE:=SYSDATE;\r\n\t   csl_user                      VARCHAR2(100):=USER;\r\n\t   VL_ATRASO              RCREDITO.CLASIFICACTEU.FIDIASATRASOMAX%TYPE;\r\n\t   VL_DEPTO                 RCREDITO.CLASIFICACTEU.FIDEPTOID%TYPE;\r\n\t   VL_TIPODEPTO        RCREDITO.CLASIFICACTEU.FIDEPTOID%TYPE;\r\n\t   VL_TOTAL               NUMBER:=0;\r\n\t\tREGULARIZACIONES ARRAY_REGULARIZACIONES;\r\n\t\tvi number(3):=0;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t  CURSOR CUR_REGULARIZACIONES IS (SELECT TPP.FIFOLIO,TPP.FIPLAZO\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   FROM RCREDITO.TACPLANESPAGO  TPP\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tWHERE TPP.FIFOLIO                =TPP.FIFOLIO+csl_0                            \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND TPP.FIIDTIPOPLAN IN (CSL_1,CSL_2,CSL_3,CSL_4,CSL_5,CSL_9,CSL_10)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND TPP.FIPAIS               =TPP.FIPAIS+csl_0                            \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND TPP.FIIDZONA        =TPP.FIIDZONA+csl_0                            \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND TPP.FIREGIONAL     =TPP.FIREGIONAL+csl_0                            \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND TPP.FIDEPTOID         =TPP.FIDEPTOID+csl_0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  AND VL_ATRASO BETWEEN FIDIASATRASMIN AND FIDIASATRASMAX\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   AND FNSTATUS=CSL_1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   AND FNTIPOCONVENIO=CSL_2);                                     \r\n\t  BEGIN\r\n\t  \r\n\t  /*OBTENEMOS EL DEPARTAMENTO Y DIAS DE ATRASO DEL CLIENTE*/\r\n\t\t\t\tSELECT FIDIASATRASOMAX,FIDEPTOID,FITIPODEPTO\r\n\t\t\t\t\tINTO VL_ATRASO,VL_DEPTO,VL_TIPODEPTO\r\n\t\t\t\t   FROM RCREDITO.CLASIFICACTEU \r\n\t\t\t\tWHERE FIPAIS           =PA_FIPAISID\r\n\t\t\t\t\t  AND FICANAL       =PA_FICANAL\r\n\t\t\t\t\t  AND FISUCURSAL=PA_FISUCURSAL\r\n\t\t\t\t\t  AND FIFOLIO       =PA_FIFOLIO;\r\n\t  \r\n\t  /*OBTENEMOS EL TOTAL DE PLANES QUE LE CORRESPONDEN AL CLIENTE PARA INICIALIZAR EL ARRAY */\r\n\tSELECT COUNT(CSL_1)\r\n\t   INTO VL_TOTAL\r\n\t   FROM RCREDITO.TACPLANESPAGO  TPP\r\n\tWHERE TPP.FIFOLIO                =TPP.FIFOLIO+csl_0                            \r\n\t\t  AND TPP.FIIDTIPOPLAN IN (CSL_1,CSL_2,CSL_3,CSL_4,CSL_5,CSL_9,CSL_10)\r\n\t\t  AND TPP.FIPAIS               =TPP.FIPAIS+csl_0                            \r\n\t\t  AND TPP.FIIDZONA        =TPP.FIIDZONA+csl_0                            \r\n\t\t   AND TPP.FIREGIONAL     =TPP.FIREGIONAL+csl_0                            \r\n\t\t   AND TPP.FIDEPTOID         =TPP.FIDEPTOID+csl_0\r\n\t\t   AND VL_ATRASO BETWEEN FIDIASATRASMIN AND FIDIASATRASMAX\r\n\t\t   AND FNSTATUS=CSL_1\r\n\t\t   AND FNTIPOCONVENIO=CSL_2;\r\n\r\n\t/*Inicializamos el array de regularizaciones*/\r\n\t  REGULARIZACIONES:= ARRAY_REGULARIZACIONES();\r\n\t  REGULARIZACIONES.EXTEND(VL_TOTAL);\r\n\r\n\t\t\t /*POR CADA PLAN QUE APLIQUE PARA EL CLIENTE SE APLICAN LOS RESPECTIVOS CALCULOS*/   \r\n\t\t\t\tFOR CUR_TACPLANES IN CUR_REGULARIZACIONES\r\n\t\t\t\t  LOOP\r\n\t\t\t\t\t\t\tvi:=vi+csl_1;\r\n\t\t\t\t\t\t\tREGULARIZACIONES(vi):=FNCALCULO(PA_FIPAISID,PA_FICANAL,PA_FISUCURSAL,PA_FIFOLIO,CUR_TACPLANES.FIFOLIO,csl_n1);\r\n\t\t\t\t  END LOOP;\r\n\t\t\t\t  \r\n\t\t\t\t  OPEN rcl_CursorSalida FOR\r\n\t\t\t\t   SELECT    FIPAISID                                                       AS FIPAIS,\r\n\t\t\t\t\t\t\t\t\tFICANAL                                                         AS FICANAL ,\r\n\t\t\t\t\t\t\t\t\tFISUCURSAL                                                  AS FISUCURSAL ,\r\n\t\t\t\t\t\t\t\t\tFIFOLIO                                                          AS FIFOLIO,\r\n\t\t\t\t\t\t\t\t\tFOLIOWEB                                                      AS FW ,\r\n\t\t\t\t\t\t\t\t\tIDPLAN                                                            AS FIFOLIOPLAN,\r\n\t\t\t\t\t\t\t\t\tPLAZO                                                              AS RPLAZO,\r\n\t\t\t\t\t\t\t\t   DIASPROMESA                                               AS fidiaspromesa ,\r\n\t\t\t\t\t\t\t\t   TIPOPP,\r\n\t\t\t\t\t\t\t\t\tTIPOCONVENIO                                            AS RTIPOCONV,\r\n\t\t\t\t\t\t\t\t\tTIPOPLAN                                                        AS RPLAN,\r\n\t\t\t\t\t\t\t\t\tTIPODEPTO                                                     AS  FISEGMENTO,\r\n\t\t\t\t\t\t\t\t\tPORENGANCHEMINIMO                               AS  FIENGANCHEMINIMO,\r\n\t\t\t\t\t\t\t\t\tPAGOSUGERIDO ,\r\n\t\t\t\t\t\t\t\t\tPAGOREQUERIDO ,\r\n\t\t\t\t\t\t\t\t\tSALDOATRASADO                                         AS RSALDOATRASADO,\r\n\t\t\t\t\t\t\t\t\tCAPITALATRASADO                                      AS RSALDOXDEVENGAR  ,\r\n\t\t\t\t\t\t\t\t\t INTERESDEVENGADO                                  AS  RINTERESATRASADO,\r\n\t\t\t\t\t\t\t\t\t MORATORIOS                                                 AS RMORATORIOS,\r\n\t\t\t\t\t\t\t\t\t DEVENGOSEMANAL                                       AS RABONOSEMANAL, \r\n\t\t\t\t\t\t\t\t\t TOTALBONIFICACIONES                              AS RBONIFICACIONES,\r\n\t\t\t\t\t\t\t\t\t  BONIFICACIONMORATORIOS                   AS RBONIFMORATORIO,\r\n\t\t\t\t\t\t\t\t\t  PORBONIFICACIONMORATORIOS ,\r\n\t\t\t\t\t\t\t\t\t  BONIFICACIONINTERESDEVENGADO    AS RBONIFINTERES,\r\n\t\t\t\t\t\t\t\t\t  PORBONIFINTERESDEVENGADO               AS RPORCBONIFINTERES,\r\n\t\t\t\t\t\t\t\t\t  PAGOPUNTUALPLAN                                     AS RPAGOPUNTUAL ,\r\n\t\t\t\t\t\t\t\t\t  ATRASADOMASPP                                         AS RSALDOATRASADOCONBONIF ,\r\n\t\t\t\t\t\t\t\t\t  DEVENGODURANTEPLAN                             AS RBONIFDEVENGOSEM,\r\n\t\t\t\t\t\t\t\t\t   PAGOINICIALCALCULO ,\r\n\t\t\t\t\t\t\t\t\t   PAGOSEMANALCALCULO                             AS PAGOSEMANALPLAN,\r\n\t\t\t\t\t\t\t\t\t   PAGOSEMPUNTUALCALCULO                      AS RPAGOSEMPUNTUALPLAN,\r\n\t\t\t\t\t\t\t\t\t   PAGOSEMANALATRASADOCALCULO        AS RPAGOSEMATRASADO,\r\n\t\t\t\t\t\t\t\t\t   PAGOTOTALCALCULO,\r\n\t\t\t\t\t\t\t\t\t   PAGOTOTALREONDEADO,\r\n\t\t\t\t\t\t\t\t\t   PAGOINICIAL                                          AS RPAGOINICIAL ,\r\n\t\t\t\t\t\t\t\t\t   PAGOSEMANAL,\r\n\t\t\t\t\t\t\t\t\t   SALDOAPAGARATRASADO ,\r\n\t\t\t\t\t\t\t\t\t   SALDOAPAGARPUNTUAL,\r\n\t\t\t\t\t\t\t\t\t   SALDOAPAGAR                                         AS RSALDOXPAGAR,\r\n\t\t\t\t\t\t\t\t\t  SALDOTOTALMORAS ,\r\n\t\t\t\t\t\t\t\t\t  SALDOTOTAL                                            AS RFNSALDO,\r\n\t\t\t\t\t\t\t\t\t SALDOPORDEVENGAR ,\r\n\t\t\t\t\t\t\t\t\t  CAPITALPORDEVENGAR ,\r\n\t\t\t\t\t\t\t\t\t  INTERESPORDEVENGAR ,\r\n\t\t\t\t\t\t\t\t\t  INTERESESPORDEVENGARPLAZO ,\r\n\t\t\t\t\t\t\t\t\t  CAPITALPORDEVENGARPLAZO ,\r\n\t\t\t\t\t\t\t\t\t  BONIFICACIONINTERESPORDEVENGAR ,\r\n\t\t\t\t\t\t\t\t\t  TOTALBONIFICACIONES ,\r\n\t\t\t\t\t\t\t\t\t  SALDOAPAGARMORATORIOS ,\r\n\t\t\t\t\t\t\t\t\t  SALDODEVENGODURANTEPLAN ,\r\n\t\t\t\t\t\t\t\t\t   SALDOCAPITALPORDEVENGAR\r\n\t\t\t\t\t FROM TABLE(REGULARIZACIONES);\r\n\t\t\t\t\t RETURN rcl_CursorSalida;\r\n\t\tEXCEPTION WHEN \r\n\t\t\tOTHERS THEN\r\n\t\t\t   RCREDITO.SPREGISTRAERROR (SYSDATE, SQLCODE, SQLERRM, &#39;PQCRESLG0029&#39;);\r\n\t\t\t\t\t   OPEN rcl_CursorSalida FOR\r\n\t\t\t\t\t\t\t\t\t\tSELECT   csl_0                                                   AS FIIDMENSAJE,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&#39;Ocurrio un error en la aplicacion&#39; AS FCMENSAJE\r\n\t\t\t\t\t\t\t\t\t   FROM DUAL;\r\n\t\t\t\t\t\t  RETURN rcl_CursorSalida;\r\n\t  END FNCATALOGO;\r\n\r\nSpring&#39;s StoredProcedure class is used for invocation of functions. Access is via a webservice REST (RestController) with BASIC authentication.\r\n\r\nThe jdbc driver used is ojdbc7.jar than the official version for Oracle 12 and Java 7.\r\n\r\nJava code\r\n\r\n    \tprivate class Function extends StoredProcedure {\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public List execWithReturnCursor(String functionName, Map&lt;String,Object&gt; inputs) {\r\n\r\n            logger.info(&quot;INICIANDO EJECUCION DE FUNCION&quot;);\r\n\r\n            setDataSource(dataSource);\r\n            setFunction(true);\r\n            setSql(functionName);\r\n\r\n            if(getOutput() == null &amp;&amp; getMapper() != null) {\r\n                super.declareParameter(new SqlOutParameter(&quot;cursor&quot;, OracleTypes.CURSOR, getMapper()));\r\n            }\r\n            else {\r\n                super.declareParameter(new SqlOutParameter(&quot;cursor&quot;, OracleTypes.CURSOR, new BeanPropertyRowMapper(getOutput())));\r\n            }\r\n\r\n            for (Map.Entry&lt;String,Object&gt; entry : inputs.entrySet()) {\r\n                Object value = inputs.get(entry.getKey());\r\n                LOGGER.debug(&quot;Parametro {} &quot;,entry.getKey());\r\n                LOGGER.debug(&quot;Valor {} &quot;,value);\r\n                super.declareParameter(new SqlParameter(entry.getKey(), OracleStoreProcedure.getType(value)));\r\n            }\r\n\r\n            compile();\r\n            String fn = functionName+&quot;(&quot;+inputs+&quot;)&quot;;\r\n\r\n            //LOGGER.info(fn);\r\n            try {\r\n                Map resultado = super.execute(inputs);\r\n                return (List) resultado.get(&quot;cursor&quot;);\r\n            }\r\n            catch(Throwable seq){\r\n                logger.info(&quot;Ocurrio un problema al invocar la funcion{}&quot;, seq);\r\n                return new ArrayList();\r\n            }\r\n        }\r\n    }","title":"SQLRecoverableException: No more data to read from socket only occurs when invoking an oracle package","body":"<p>The following error only occurs when invoking an oracle package. Hundreds of different functions are invoked without any problem, but sometimes (not always) when this package is invoked the following exception occurs.</p>\n\n<pre><code>due to exception [CallableStatementCallback; SQL [{? = call RCREDITO.PQCRESLG0026.FNRECALCULO(?, ?, ?, ?, ?, ?)}]; No more data to read from socket; nested exception is java.sql.SQLRecoverableException: No more data to read from socket]: org.springframework.dao.RecoverableDataAccessException: CallableStatementCallback; SQL [{? = call RCREDITO.PQCRESLG0026.FNRECALCULO(?, ?, ?, ?, ?, ?)}]; No more data to read from socket; nested exception is java.sql.SQLRecoverableException: No more data to read from socket\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:201)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:120)\nat org.springframework.boot.context.web.ErrorPageFilter.access$000(ErrorPageFilter.java:61)\nat org.springframework.boot.context.web.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:95)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.boot.context.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:113)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:231)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149)\nat org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:169)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:150)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)\nat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:854)\nat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:511)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:745)\nat org.jboss.threads.JBossThread.run(JBossThread.java:122)\nCaused by: java.sql.SQLRecoverableException: No more data to read from socket\nat oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1142)\nat oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:1099)\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:288)\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:191)\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:523)\nat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)\nat oracle.jdbc.driver.T4CStatement.fetch(T4CStatement.java:1073)\nat oracle.jdbc.driver.OracleResultSetImpl.close_or_fetch_from_next(OracleResultSetImpl.java:359)\nat oracle.jdbc.driver.OracleResultSetImpl.next(OracleResultSetImpl.java:263)\nat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:92)\nat org.springframework.jdbc.core.JdbcTemplate.processResultSet(JdbcTemplate.java:1321)\nat org.springframework.jdbc.core.JdbcTemplate.extractOutputParameters(JdbcTemplate.java:1279)\nat org.springframework.jdbc.core.JdbcTemplate$6.doInCallableStatement(JdbcTemplate.java:1186)\nat org.springframework.jdbc.core.JdbcTemplate$6.doInCallableStatement(JdbcTemplate.java:1173)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1121)\n... 154 more\nWARN  [org.jboss.jca.core.connectionmanager.listener.TxConnectionListener] (ConnectionValidator) IJ000305: Connection error occured: org.jboss.jca.core.connectionmanager.listener.TxConnectionListener@57aeca52[state=NORMAL managed connection=org.jboss.jca.adapters.jdbc.local.LocalManagedConnection@584799b0 connection handles=0 lastUse=1491082422691 trackByTx=false pool=org.jboss.jca.core.connectionmanager.pool.strategy.OnePool@44bb1f17 pool internal context=SemaphoreArrayListManagedConnectionPool@58f64241[pool=jdbc/SCL] xaResource=LocalXAResourceImpl@f77e708[connectionListener=57aeca52 connectionManager=5f5cabf6 warned=false currentXid=null productName=Oracle productVersion=Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\nWith the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,\nAdvanced Analytics and Real Application Testing options jndiName=java:/jdbc/SCL] txSync=null]: java.sql.SQLRecoverableException: No more data to read from socket\nat oracle.jdbc.driver.T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1142)\nat oracle.jdbc.driver.T4CMAREngine.unmarshalSB1(T4CMAREngine.java:1099)\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:288)\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:191)\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:523)\nat oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)\nat oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:852)\nat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1153)\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1275)\nat oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1890)\nat oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1855)\nat oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:304)\nat org.jboss.jca.adapters.jdbc.CheckValidConnectionSQL.isValidConnection(CheckValidConnectionSQL.java:74)\nat org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.isValidConnection(BaseWrapperManagedConnectionFactory.java:1100)\nat org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnection.checkValid(BaseWrapperManagedConnection.java:513)\nat org.jboss.jca.adapters.jdbc.BaseWrapperManagedConnectionFactory.getInvalidConnections(BaseWrapperManagedConnectionFactory.java:921)\nat org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.validateConnections(SemaphoreArrayListManagedConnectionPool.java:987)\nat org.jboss.jca.core.connectionmanager.pool.validator.ConnectionValidator$ConnectionValidatorRunner.run(ConnectionValidator.java:277)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p><strong>The oracle package:</strong></p>\n\n<pre><code>    FUNCTION  FNCATALOGO (PA_FIPAISID        RCREDITO.CREDCLIENTEUNICOPEDIDO.FIPAIS%TYPE,\n                                                        PA_FICANAL         RCREDITO.CREDCLIENTEUNICOPEDIDO.FICANAL%TYPE,\n                                                        PA_FISUCURSAL  RCREDITO.CREDCLIENTEUNICOPEDIDO.FISUCURSAL%TYPE,\n                                                         PA_FIFOLIO          RCREDITO.CREDCLIENTEUNICOPEDIDO.FIFOLIO%TYPE)\n                                        RETURN  RCREDITO.PATYPES.rcgCursor\n  IS\n     rcl_CursorSalida        RCREDITO.PATYPES.rcgCursor;\n    csl_5                            PLS_INTEGER := 5;\n   csl_n1                         NUMBER(1):=-1;\n   csl_sysdate                DATE:=SYSDATE;\n   csl_user                      VARCHAR2(100):=USER;\n   VL_ATRASO              RCREDITO.CLASIFICACTEU.FIDIASATRASOMAX%TYPE;\n   VL_DEPTO                 RCREDITO.CLASIFICACTEU.FIDEPTOID%TYPE;\n   VL_TIPODEPTO        RCREDITO.CLASIFICACTEU.FIDEPTOID%TYPE;\n   VL_TOTAL               NUMBER:=0;\n    REGULARIZACIONES ARRAY_REGULARIZACIONES;\n    vi number(3):=0;\n\n      CURSOR CUR_REGULARIZACIONES IS (SELECT TPP.FIFOLIO,TPP.FIPLAZO\n                                                                           FROM RCREDITO.TACPLANESPAGO  TPP\n                                                                        WHERE TPP.FIFOLIO                =TPP.FIFOLIO+csl_0                            \n                                                                              AND TPP.FIIDTIPOPLAN IN (CSL_1,CSL_2,CSL_3,CSL_4,CSL_5,CSL_9,CSL_10)\n                                                                              AND TPP.FIPAIS               =TPP.FIPAIS+csl_0                            \n                                                                              AND TPP.FIIDZONA        =TPP.FIIDZONA+csl_0                            \n                                                                              AND TPP.FIREGIONAL     =TPP.FIREGIONAL+csl_0                            \n                                                                              AND TPP.FIDEPTOID         =TPP.FIDEPTOID+csl_0\n                                                                              AND VL_ATRASO BETWEEN FIDIASATRASMIN AND FIDIASATRASMAX\n                                                                               AND FNSTATUS=CSL_1\n                                                                               AND FNTIPOCONVENIO=CSL_2);                                     \n  BEGIN\n\n  /*OBTENEMOS EL DEPARTAMENTO Y DIAS DE ATRASO DEL CLIENTE*/\n            SELECT FIDIASATRASOMAX,FIDEPTOID,FITIPODEPTO\n                INTO VL_ATRASO,VL_DEPTO,VL_TIPODEPTO\n               FROM RCREDITO.CLASIFICACTEU \n            WHERE FIPAIS           =PA_FIPAISID\n                  AND FICANAL       =PA_FICANAL\n                  AND FISUCURSAL=PA_FISUCURSAL\n                  AND FIFOLIO       =PA_FIFOLIO;\n\n  /*OBTENEMOS EL TOTAL DE PLANES QUE LE CORRESPONDEN AL CLIENTE PARA INICIALIZAR EL ARRAY */\nSELECT COUNT(CSL_1)\n   INTO VL_TOTAL\n   FROM RCREDITO.TACPLANESPAGO  TPP\nWHERE TPP.FIFOLIO                =TPP.FIFOLIO+csl_0                            \n      AND TPP.FIIDTIPOPLAN IN (CSL_1,CSL_2,CSL_3,CSL_4,CSL_5,CSL_9,CSL_10)\n      AND TPP.FIPAIS               =TPP.FIPAIS+csl_0                            \n      AND TPP.FIIDZONA        =TPP.FIIDZONA+csl_0                            \n       AND TPP.FIREGIONAL     =TPP.FIREGIONAL+csl_0                            \n       AND TPP.FIDEPTOID         =TPP.FIDEPTOID+csl_0\n       AND VL_ATRASO BETWEEN FIDIASATRASMIN AND FIDIASATRASMAX\n       AND FNSTATUS=CSL_1\n       AND FNTIPOCONVENIO=CSL_2;\n\n/*Inicializamos el array de regularizaciones*/\n  REGULARIZACIONES:= ARRAY_REGULARIZACIONES();\n  REGULARIZACIONES.EXTEND(VL_TOTAL);\n\n         /*POR CADA PLAN QUE APLIQUE PARA EL CLIENTE SE APLICAN LOS RESPECTIVOS CALCULOS*/   \n            FOR CUR_TACPLANES IN CUR_REGULARIZACIONES\n              LOOP\n                        vi:=vi+csl_1;\n                        REGULARIZACIONES(vi):=FNCALCULO(PA_FIPAISID,PA_FICANAL,PA_FISUCURSAL,PA_FIFOLIO,CUR_TACPLANES.FIFOLIO,csl_n1);\n              END LOOP;\n\n              OPEN rcl_CursorSalida FOR\n               SELECT    FIPAISID                                                       AS FIPAIS,\n                                FICANAL                                                         AS FICANAL ,\n                                FISUCURSAL                                                  AS FISUCURSAL ,\n                                FIFOLIO                                                          AS FIFOLIO,\n                                FOLIOWEB                                                      AS FW ,\n                                IDPLAN                                                            AS FIFOLIOPLAN,\n                                PLAZO                                                              AS RPLAZO,\n                               DIASPROMESA                                               AS fidiaspromesa ,\n                               TIPOPP,\n                                TIPOCONVENIO                                            AS RTIPOCONV,\n                                TIPOPLAN                                                        AS RPLAN,\n                                TIPODEPTO                                                     AS  FISEGMENTO,\n                                PORENGANCHEMINIMO                               AS  FIENGANCHEMINIMO,\n                                PAGOSUGERIDO ,\n                                PAGOREQUERIDO ,\n                                SALDOATRASADO                                         AS RSALDOATRASADO,\n                                CAPITALATRASADO                                      AS RSALDOXDEVENGAR  ,\n                                 INTERESDEVENGADO                                  AS  RINTERESATRASADO,\n                                 MORATORIOS                                                 AS RMORATORIOS,\n                                 DEVENGOSEMANAL                                       AS RABONOSEMANAL, \n                                 TOTALBONIFICACIONES                              AS RBONIFICACIONES,\n                                  BONIFICACIONMORATORIOS                   AS RBONIFMORATORIO,\n                                  PORBONIFICACIONMORATORIOS ,\n                                  BONIFICACIONINTERESDEVENGADO    AS RBONIFINTERES,\n                                  PORBONIFINTERESDEVENGADO               AS RPORCBONIFINTERES,\n                                  PAGOPUNTUALPLAN                                     AS RPAGOPUNTUAL ,\n                                  ATRASADOMASPP                                         AS RSALDOATRASADOCONBONIF ,\n                                  DEVENGODURANTEPLAN                             AS RBONIFDEVENGOSEM,\n                                   PAGOINICIALCALCULO ,\n                                   PAGOSEMANALCALCULO                             AS PAGOSEMANALPLAN,\n                                   PAGOSEMPUNTUALCALCULO                      AS RPAGOSEMPUNTUALPLAN,\n                                   PAGOSEMANALATRASADOCALCULO        AS RPAGOSEMATRASADO,\n                                   PAGOTOTALCALCULO,\n                                   PAGOTOTALREONDEADO,\n                                   PAGOINICIAL                                          AS RPAGOINICIAL ,\n                                   PAGOSEMANAL,\n                                   SALDOAPAGARATRASADO ,\n                                   SALDOAPAGARPUNTUAL,\n                                   SALDOAPAGAR                                         AS RSALDOXPAGAR,\n                                  SALDOTOTALMORAS ,\n                                  SALDOTOTAL                                            AS RFNSALDO,\n                                 SALDOPORDEVENGAR ,\n                                  CAPITALPORDEVENGAR ,\n                                  INTERESPORDEVENGAR ,\n                                  INTERESESPORDEVENGARPLAZO ,\n                                  CAPITALPORDEVENGARPLAZO ,\n                                  BONIFICACIONINTERESPORDEVENGAR ,\n                                  TOTALBONIFICACIONES ,\n                                  SALDOAPAGARMORATORIOS ,\n                                  SALDODEVENGODURANTEPLAN ,\n                                   SALDOCAPITALPORDEVENGAR\n                 FROM TABLE(REGULARIZACIONES);\n                 RETURN rcl_CursorSalida;\n    EXCEPTION WHEN \n        OTHERS THEN\n           RCREDITO.SPREGISTRAERROR (SYSDATE, SQLCODE, SQLERRM, 'PQCRESLG0029');\n                   OPEN rcl_CursorSalida FOR\n                                    SELECT   csl_0                                                   AS FIIDMENSAJE,\n                                                    'Ocurrio un error en la aplicacion' AS FCMENSAJE\n                                   FROM DUAL;\n                      RETURN rcl_CursorSalida;\n  END FNCATALOGO;\n</code></pre>\n\n<p>Spring's StoredProcedure class is used for invocation of functions. Access is via a webservice REST (RestController) with BASIC authentication.</p>\n\n<p>The jdbc driver used is ojdbc7.jar than the official version for Oracle 12 and Java 7.</p>\n\n<p>Java code</p>\n\n<pre><code>    private class Function extends StoredProcedure {\n\n    @SuppressWarnings(\"unchecked\")\n    public List execWithReturnCursor(String functionName, Map&lt;String,Object&gt; inputs) {\n\n        logger.info(\"INICIANDO EJECUCION DE FUNCION\");\n\n        setDataSource(dataSource);\n        setFunction(true);\n        setSql(functionName);\n\n        if(getOutput() == null &amp;&amp; getMapper() != null) {\n            super.declareParameter(new SqlOutParameter(\"cursor\", OracleTypes.CURSOR, getMapper()));\n        }\n        else {\n            super.declareParameter(new SqlOutParameter(\"cursor\", OracleTypes.CURSOR, new BeanPropertyRowMapper(getOutput())));\n        }\n\n        for (Map.Entry&lt;String,Object&gt; entry : inputs.entrySet()) {\n            Object value = inputs.get(entry.getKey());\n            LOGGER.debug(\"Parametro {} \",entry.getKey());\n            LOGGER.debug(\"Valor {} \",value);\n            super.declareParameter(new SqlParameter(entry.getKey(), OracleStoreProcedure.getType(value)));\n        }\n\n        compile();\n        String fn = functionName+\"(\"+inputs+\")\";\n\n        //LOGGER.info(fn);\n        try {\n            Map resultado = super.execute(inputs);\n            return (List) resultado.get(\"cursor\");\n        }\n        catch(Throwable seq){\n            logger.info(\"Ocurrio un problema al invocar la funcion{}\", seq);\n            return new ArrayList();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","collectors","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699094891,"creation_date":1699094891,"answer_id":77421701,"question_id":77421123,"body_markdown":"First the method needs to change to accept the function. I&#39;m using wildcard here for more flexibility:\r\n```java\r\npublic &lt;R&gt; Map&lt;R, Member&gt; getMemberMap(Function&lt;? super Member, ? extends R&gt; mapper) { \r\n    return getMemberList().stream()\r\n            .collect(Collectors.toUnmodifiableMap(mapper, Function.identity()));\r\n}\r\n```\r\nYou can then call it as needed:\r\n```java\r\ngetMemberMap(Member::getId);\r\ngetMemberMap(Member::getCode);\r\ngetMemberMap(Member::getName);\r\ngetMemberMap(member -&gt; member.getName().toUpperCase());\r\n```","title":"How to take Generic Function&lt;T,R&gt; input parameter for mapper","body":"<p>First the method needs to change to accept the function. I'm using wildcard here for more flexibility:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;R&gt; Map&lt;R, Member&gt; getMemberMap(Function&lt;? super Member, ? extends R&gt; mapper) { \n    return getMemberList().stream()\n            .collect(Collectors.toUnmodifiableMap(mapper, Function.identity()));\n}\n</code></pre>\n<p>You can then call it as needed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getMemberMap(Member::getId);\ngetMemberMap(Member::getCode);\ngetMemberMap(Member::getName);\ngetMemberMap(member -&gt; member.getName().toUpperCase());\n</code></pre>\n"}],"owner":{"account_id":20053840,"reputation":13,"user_id":14701970,"display_name":"Paschan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77421701,"answer_count":1,"score":0,"last_activity_date":1699124237,"creation_date":1699082853,"question_id":77421123,"body_markdown":"I have a list of members which I need to map for different keys for different usage and I want to turn map method to takes keyMapper as an input parameter for Collectors.toMap() method.\r\n\r\n\r\n    public Map&lt;String, Member&gt; getMemberMap(){\r\n        Collections.unmodifiableMap(getMemberList().stream.collect(Collectors.toMap(Member::getName, Function.identity())));\r\n    }\r\n\r\nHow can I turn this method take a Function&lt;T,R&gt; key mapper for different fields of Member to map.\r\n\r\nSuch as getMemberMap({id}) or getMemberMap({code})\r\n","title":"How to take Generic Function&lt;T,R&gt; input parameter for mapper","body":"<p>I have a list of members which I need to map for different keys for different usage and I want to turn map method to takes keyMapper as an input parameter for Collectors.toMap() method.</p>\n<pre><code>public Map&lt;String, Member&gt; getMemberMap(){\n    Collections.unmodifiableMap(getMemberList().stream.collect(Collectors.toMap(Member::getName, Function.identity())));\n}\n</code></pre>\n<p>How can I turn this method take a Function&lt;T,R&gt; key mapper for different fields of Member to map.</p>\n<p>Such as getMemberMap({id}) or getMemberMap({code})</p>\n"},{"tags":["java","fxml"],"owner":{"account_id":29352320,"reputation":11,"user_id":22489139,"display_name":"Gabriele Nardella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699123436,"creation_date":1699112031,"question_id":77422689,"body_markdown":"I am coding a simple card game in Java using JavaFXML for the UI. I am using a GridPane to organize the card positions, some cells contain ImageViews ( max 1 per cell ) which contain playing cards images. I am facing an issue when I try to switch two cards on the screen using animations.\r\n\r\n I started coding animations to make cards move but I realized a problem : I have for example an ImageView with the ID &quot;wastePile&quot; which contains the last card discarded and an ImageView with the ID &quot;handCard&quot; that contains the current card in the hand of the player. If I create a parallel transition that make the two ImageViews move and switch their positions, a the end of it the &quot;wastePile&quot; imageView will not be in its correct position on the screen anymore, so I created a function that, at the end of the animation, instantly switches the two ImageViews to their initial positions and then their content so that the user doesn&#39;t notice the switch. The mechanism I created only works for the first switch, after that cards start moving out of the screen as if coordinates were wrong, can you help me understand what I am doing wrong?\r\n\r\n    public void cardsSwitchAnimation (ImageView image,Integer imageViewPosition) {\r\n\r\n\t\tImageView destinationImage = imageViews.get(imageViewPosition);\r\n\t\t\r\n\t\t\r\n\t\tTranslateTransition translateFirstImage = getTranslateAnimation(image, destinationImage);\r\n\t\tTranslateTransition translateSecondImage = getTranslateAnimation(destinationImage, image);\r\n\t\tParallelTransition pt = new ParallelTransition();\r\n\t\tpt.setDelay(Duration.millis(1000));\r\n\t\tpt.getChildren().add(translateFirstImage);\r\n\t\tpt.getChildren().add(translateSecondImage);\r\n\t\tpt.setOnFinished(e -&gt; {\r\n\t\t\tImageView destImage = imageViews.get(imageViewPosition);\r\n\t\t\tswitchImages(image, destImage);\r\n\t\t});\r\n\t\tpt.play();\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tpublic TranslateTransition getTranslateAnimation(ImageView movingImage, ImageView destinationImage) {\r\n\t\tdouble startX = destinationImage.getBoundsInParent().getCenterX();\r\n\t\tdouble startY = destinationImage.getBoundsInParent().getCenterY();\r\n\t\tdouble destinationX = movingImage.getBoundsInParent().getCenterX();\r\n\t\tdouble destinationY = movingImage.getBoundsInParent().getCenterY();\r\n\t\tTranslateTransition translate = new TranslateTransition(Duration.millis(1000), movingImage);\r\n\t\ttranslate.setByX( startX - destinationX );\r\n\t\ttranslate.setByY( startY - destinationY );\r\n\t\treturn translate;\r\n\t}\r\n\t\r\n\tprivate void switchImages(ImageView image, ImageView destinationImage) {\r\n\t\tImage temporary = image.getImage();\r\n\t\tDouble firstImageRotate = image.getRotate();\r\n\t\tDouble firstImageX = image.getLayoutX();\r\n\t\tDouble firstImageY = image.getLayoutY();\r\n\t\tDouble secondImageX = destinationImage.getLayoutX();\r\n\t\tDouble secondImageY = destinationImage.getLayoutY();\r\n\t\t\r\n\t\t\r\n\t\timage.setLayoutX(secondImageX - image.getLayoutX());\r\n\t\timage.setLayoutY(secondImageY - image.getLayoutY());\r\n\t\timage.setRotate(destinationImage.getRotate());\r\n\t\timage.setImage(destinationImage.getImage());\r\n\t\t\r\n\t\tdestinationImage.setLayoutX(firstImageX - destinationImage.getLayoutX());\r\n\t\tdestinationImage.setLayoutY(firstImageY - destinationImage.getLayoutY());\r\n\t\tdestinationImage.setRotate(firstImageRotate);\r\n\t\tdestinationImage.setImage(temporary);\r\n\t}\r\n","title":"How to switch two ImageViews using an animation in JavaFX","body":"<p>I am coding a simple card game in Java using JavaFXML for the UI. I am using a GridPane to organize the card positions, some cells contain ImageViews ( max 1 per cell ) which contain playing cards images. I am facing an issue when I try to switch two cards on the screen using animations.</p>\n<p>I started coding animations to make cards move but I realized a problem : I have for example an ImageView with the ID &quot;wastePile&quot; which contains the last card discarded and an ImageView with the ID &quot;handCard&quot; that contains the current card in the hand of the player. If I create a parallel transition that make the two ImageViews move and switch their positions, a the end of it the &quot;wastePile&quot; imageView will not be in its correct position on the screen anymore, so I created a function that, at the end of the animation, instantly switches the two ImageViews to their initial positions and then their content so that the user doesn't notice the switch. The mechanism I created only works for the first switch, after that cards start moving out of the screen as if coordinates were wrong, can you help me understand what I am doing wrong?</p>\n<pre><code>public void cardsSwitchAnimation (ImageView image,Integer imageViewPosition) {\n\n    ImageView destinationImage = imageViews.get(imageViewPosition);\n    \n    \n    TranslateTransition translateFirstImage = getTranslateAnimation(image, destinationImage);\n    TranslateTransition translateSecondImage = getTranslateAnimation(destinationImage, image);\n    ParallelTransition pt = new ParallelTransition();\n    pt.setDelay(Duration.millis(1000));\n    pt.getChildren().add(translateFirstImage);\n    pt.getChildren().add(translateSecondImage);\n    pt.setOnFinished(e -&gt; {\n        ImageView destImage = imageViews.get(imageViewPosition);\n        switchImages(image, destImage);\n    });\n    pt.play();\n    return;\n}\n\npublic TranslateTransition getTranslateAnimation(ImageView movingImage, ImageView destinationImage) {\n    double startX = destinationImage.getBoundsInParent().getCenterX();\n    double startY = destinationImage.getBoundsInParent().getCenterY();\n    double destinationX = movingImage.getBoundsInParent().getCenterX();\n    double destinationY = movingImage.getBoundsInParent().getCenterY();\n    TranslateTransition translate = new TranslateTransition(Duration.millis(1000), movingImage);\n    translate.setByX( startX - destinationX );\n    translate.setByY( startY - destinationY );\n    return translate;\n}\n\nprivate void switchImages(ImageView image, ImageView destinationImage) {\n    Image temporary = image.getImage();\n    Double firstImageRotate = image.getRotate();\n    Double firstImageX = image.getLayoutX();\n    Double firstImageY = image.getLayoutY();\n    Double secondImageX = destinationImage.getLayoutX();\n    Double secondImageY = destinationImage.getLayoutY();\n    \n    \n    image.setLayoutX(secondImageX - image.getLayoutX());\n    image.setLayoutY(secondImageY - image.getLayoutY());\n    image.setRotate(destinationImage.getRotate());\n    image.setImage(destinationImage.getImage());\n    \n    destinationImage.setLayoutX(firstImageX - destinationImage.getLayoutX());\n    destinationImage.setLayoutY(firstImageY - destinationImage.getLayoutY());\n    destinationImage.setRotate(firstImageRotate);\n    destinationImage.setImage(temporary);\n}\n</code></pre>\n"},{"tags":["java","tensorflow2.0","tracking","yolo","coco"],"comments":[{"owner":{"account_id":27653278,"reputation":395,"user_id":21107707,"display_name":"vs07"},"score":1,"creation_date":1699123046,"post_id":77423360,"comment_id":136492776,"body_markdown":"If the FPS of the video enables, you could determine where your cow is going by first saving it&#39;s location and &quot;area coverage&quot; on the image that the user selects. Then,  in subsequent frames, you can check nearby cows and determine which cow has the most &quot;area&quot; shared with the original. You repeat this precess to hopefully get a clean video of where your target cow is going. However, this approach requires the video to be pretty smooth, and the camera not to be jittery. It&#39;s a difficult task regardless. Imagine a human having to track a cow in a 10 FPS video. Good luck!","body":"If the FPS of the video enables, you could determine where your cow is going by first saving it&#39;s location and &quot;area coverage&quot; on the image that the user selects. Then,  in subsequent frames, you can check nearby cows and determine which cow has the most &quot;area&quot; shared with the original. You repeat this precess to hopefully get a clean video of where your target cow is going. However, this approach requires the video to be pretty smooth, and the camera not to be jittery. It&#39;s a difficult task regardless. Imagine a human having to track a cow in a 10 FPS video. Good luck!"}],"owner":{"account_id":18706856,"reputation":23,"user_id":13637817,"display_name":"Aboumouadine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699122788,"creation_date":1699122788,"question_id":77423360,"body_markdown":"I am currently working on an android app to detect cows in videos and track them. \r\n\r\nI use Java, YOLO, Coco dataset and tensorflow. \r\n\r\nI have a question about tracking cows and identifying each one as they look all similar. \r\n\r\nThe goal is that the user will be able to select one cow to track. \r\n\r\ncan you suggest an idea to solve this? \r\n\r\nThank you in advance!","title":"Tracking animals in videos with android","body":"<p>I am currently working on an android app to detect cows in videos and track them.</p>\n<p>I use Java, YOLO, Coco dataset and tensorflow.</p>\n<p>I have a question about tracking cows and identifying each one as they look all similar.</p>\n<p>The goal is that the user will be able to select one cow to track.</p>\n<p>can you suggest an idea to solve this?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","hibernate","nhibernate-mapping"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1699104451,"post_id":77422110,"comment_id":136490785,"body_markdown":"You need to use `List&lt;Employee&gt;` instead of `&lt;List&gt;Employee` in `UserRepository`.","body":"You need to use <code>List&lt;Employee&gt;</code> instead of <code>&lt;List&gt;Employee</code> in <code>UserRepository</code>."}],"answers":[{"tags":[],"owner":{"account_id":25285238,"reputation":405,"user_id":19112370,"display_name":"Harshali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699105298,"creation_date":1699105298,"answer_id":77422259,"question_id":77422110,"body_markdown":"You should mention which field OR fields you need as result. It looks like you only have `ClassCastException` with second query because you didn&#39;t mention which details you need in result but set `&lt;List&gt;Employee` return type in query.\r\n\r\nUpdate your query with this and try. It might solve your `ClassCastException`\r\n\r\n    @Query(value = &quot;SELECT e FROM Employee e WHERE e.fullName = :name&quot;)\r\n    public List&lt;Employee&gt; getEmployeeByName(@Param(&quot;name&quot;) String name);","title":"Exception when use @Query () to return list of Employee","body":"<p>You should mention which field OR fields you need as result. It looks like you only have <code>ClassCastException</code> with second query because you didn't mention which details you need in result but set <code>&lt;List&gt;Employee</code> return type in query.</p>\n<p>Update your query with this and try. It might solve your <code>ClassCastException</code></p>\n<pre><code>@Query(value = &quot;SELECT e FROM Employee e WHERE e.fullName = :name&quot;)\npublic List&lt;Employee&gt; getEmployeeByName(@Param(&quot;name&quot;) String name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1798188,"reputation":103,"user_id":1637118,"display_name":"Timur Celikel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699121185,"creation_date":1699120872,"answer_id":77423226,"question_id":77422110,"body_markdown":"In addition to what @Mark Rotteveel said in a comment about `List&lt;Employee&gt;` instead of `&lt;List&gt;Employee`, keep in mind that because you are using the spring-boot-starter-data-jpa dependency in your project so you don&#39;t even need to use @Query for simple queries like these. \r\n\r\nYou could just define the following single line of code in your UserRepository and Spring Data JPA will create the query auto-magically:\r\n\r\n    List&lt;Employee&gt; findAllByName(String name);\r\n\r\nAs long as you have implemented CrudRepository or JpaRepository in your UserRepository you get a whole bunch of basic CRUD operational queries for free. So outside of your repository you can just do:\r\n\r\n    List&lt;Employee&gt; employees = userRepository.findAll();\r\n\r\nAlso, it&#39;s nit-picky but UserRepository should definitely be renamed to EmployeeRepository. ","title":"Exception when use @Query () to return list of Employee","body":"<p>In addition to what @Mark Rotteveel said in a comment about <code>List&lt;Employee&gt;</code> instead of <code>&lt;List&gt;Employee</code>, keep in mind that because you are using the spring-boot-starter-data-jpa dependency in your project so you don't even need to use @Query for simple queries like these.</p>\n<p>You could just define the following single line of code in your UserRepository and Spring Data JPA will create the query auto-magically:</p>\n<pre><code>List&lt;Employee&gt; findAllByName(String name);\n</code></pre>\n<p>As long as you have implemented CrudRepository or JpaRepository in your UserRepository you get a whole bunch of basic CRUD operational queries for free. So outside of your repository you can just do:</p>\n<pre><code>List&lt;Employee&gt; employees = userRepository.findAll();\n</code></pre>\n<p>Also, it's nit-picky but UserRepository should definitely be renamed to EmployeeRepository.</p>\n"}],"owner":{"account_id":29751608,"reputation":1,"user_id":22801395,"display_name":"ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699125007,"accepted_answer_id":77422259,"answer_count":2,"score":0,"last_activity_date":1699121185,"creation_date":1699102841,"question_id":77422110,"body_markdown":"i am using spring boot want to return all list of my Employee class using @Query() annotation but it returns exception here is my code\r\n//here is my repository clas\r\n\r\n```java\r\npackage com.employee.Dao;\r\n\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.employee.Entities.Employee;\r\n\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;Employee,Long&gt; {\r\n\t\r\n\t@Query(&quot;select e FROM Employee e&quot;)\r\n\tpublic &lt;List&gt;Employee getAllEmployee();\r\n\t\r\n\t@Query(value = &quot;  From Employee e where e.fullName=:name&quot;)\r\n\tpublic &lt;List&gt;Employee getEmployeeByName(@Param(&quot;name&quot;) String name);\r\n\r\n}\r\n```\r\n\r\nHere is my controller class\r\n\r\n```java\r\n@GetMapping(&quot;/main&quot;)\r\npublic String main(@ModelAttribute Employee employee, ModelMap model, HttpSession session) {\r\n\tList&lt;Employee&gt; allEmployeeQuery = this.empservice.getAllEmployeeQuery();\r\n\t\tallEmployeeQuery.forEach(a-&gt;System.out.println(a));\r\n\treturn &quot;main&quot;;\r\n}\r\n```\r\nI want to get list of allEmploy using @Query() annotation but it throws an exception. Here are the details of the exception\r\n```none\r\n[2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class com.employee.Entities.Employee cannot be cast to class java.util.List (com.employee.Entities.Employee is in unnamed module of loader &#39;app&#39;; java.util.List is in module java.base of loader &#39;bootstrap&#39;)] with root cause\r\n\r\njava.lang.ClassCastException: class com.employee.Entities.Employee cannot be cast to class java.util.List (com.employee.Entities.Employee is in unnamed module of loader &#39;app&#39;; java.util.List is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat com.employee.service.EmpService.getAllEmployeeQuery(EmpService.java:22) ~[classes/:na]\r\n\tat com.employee.MainController.main(MainController.java:37) ~[classes/:na]\r\n```\r\n\r\nI am using Spring Boot and Hibernate.","title":"Exception when use @Query () to return list of Employee","body":"<p>i am using spring boot want to return all list of my Employee class using @Query() annotation but it returns exception here is my code\n//here is my repository clas</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.employee.Dao;\n\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport com.employee.Entities.Employee;\n\n@Repository\npublic interface UserRepository extends CrudRepository&lt;Employee,Long&gt; {\n    \n    @Query(&quot;select e FROM Employee e&quot;)\n    public &lt;List&gt;Employee getAllEmployee();\n    \n    @Query(value = &quot;  From Employee e where e.fullName=:name&quot;)\n    public &lt;List&gt;Employee getEmployeeByName(@Param(&quot;name&quot;) String name);\n\n}\n</code></pre>\n<p>Here is my controller class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/main&quot;)\npublic String main(@ModelAttribute Employee employee, ModelMap model, HttpSession session) {\n    List&lt;Employee&gt; allEmployeeQuery = this.empservice.getAllEmployeeQuery();\n        allEmployeeQuery.forEach(a-&gt;System.out.println(a));\n    return &quot;main&quot;;\n}\n</code></pre>\n<p>I want to get list of allEmploy using @Query() annotation but it throws an exception. Here are the details of the exception</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class com.employee.Entities.Employee cannot be cast to class java.util.List (com.employee.Entities.Employee is in unnamed module of loader 'app'; java.util.List is in module java.base of loader 'bootstrap')] with root cause\n\njava.lang.ClassCastException: class com.employee.Entities.Employee cannot be cast to class java.util.List (com.employee.Entities.Employee is in unnamed module of loader 'app'; java.util.List is in module java.base of loader 'bootstrap')\n    at com.employee.service.EmpService.getAllEmployeeQuery(EmpService.java:22) ~[classes/:na]\n    at com.employee.MainController.main(MainController.java:37) ~[classes/:na]\n</code></pre>\n<p>I am using Spring Boot and Hibernate.</p>\n"},{"tags":["java","interface"],"owner":{"account_id":29826774,"reputation":1,"user_id":22858516,"display_name":"Ankit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699121506,"answer_count":0,"score":0,"last_activity_date":1699121173,"creation_date":1699121173,"question_id":77423251,"body_markdown":"I am facing the error &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:&quot; even though I have implemented the interface and classes correctly.\r\n\r\nI am not able to understand why is it throwing this error I tried using cmd+ click to check if the functions call are pointing to right classes and everything seems to be ok..\r\n\r\nI am trying to learn interfaces callback. And these files are in the same package called Src..\r\n\r\n**Stack Trace:\r\n**\r\n\r\n``` /usr/bin/env /Users/ankitshw/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home/bin/java -XX:+ShowCodeDetailsInExceptionMessages -cp /Users/ankitshw/Library/Application\\ Support/Code/User/workspaceStorage/1f7cf243dbcc01888351871e74299bca/redhat.java/jdt_ws/JavaCodes_7539afab/bin Src.groceryStore \r\nankitshw@88665a35e50c JavaCodes %  /usr/bin/env /Users/ankitshw/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home/bin/java -XX:+ShowCodeDetailsInExceptionMessages -cp /Users/ank\r\nitshw/Library/Application\\ Support/Code/User/workspaceStorage/1f7cf243dbcc01888351871e74299bca/redhat.java/jdt_ws/JavaCodes_7539afab/bin Src.groceryStore \r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Src/Customer (wrong name: Src/customer)\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at Src.groceryStore.main(groceryStore.java:46)\r\n```\r\n\r\n**Code**\r\n\r\n`\r\n```\r\npackage Src;\r\n\r\ninterface member{\r\n    void callBack(); \r\n}\r\n\r\nclass store{\r\n\r\n    member m[] = new member[2]; // created an array object of type memeber example : like integer type\r\n    int count =0;\r\n\r\n    void register(member mem){ // receiving an object of member class\r\n\r\n        m[count++] = mem; // initializing the array object using the same member class object\r\n\r\n    }\r\n\r\n    void inviteSale(){\r\n\r\n        for(int i=0 ;i&lt;count;i ++){\r\n            m[i].callBack();\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nclass customer implements member{\r\n\r\n    String name;\r\n    customer(String name){\r\n        this.name = name;\r\n    }\r\n\r\n    public void callBack(){\r\n        System.out.println(this.name + &quot;here and I will come at 9:15 Sharp&quot;);\r\n    }\r\n}\r\n\r\npublic class groceryStore {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        store st = new store();\r\n        customer cs = new customer(&quot;Ankit&quot;);\r\n        customer cs1 = new customer(&quot;Aniket&quot;);\r\n        st.register(cs); // I can use the object of customer just because the customer is implementing member\r\n        st.register(cs1);\r\n        \r\n        st.inviteSale();\r\n\r\n    }\r\n    \r\n}\r\n```\r\n`\r\n\r\n","title":"Facing error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError during implementation of nterfaces in java","body":"<p>I am facing the error &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:&quot; even though I have implemented the interface and classes correctly.</p>\n<p>I am not able to understand why is it throwing this error I tried using cmd+ click to check if the functions call are pointing to right classes and everything seems to be ok..</p>\n<p>I am trying to learn interfaces callback. And these files are in the same package called Src..</p>\n<p>**Stack Trace:\n**</p>\n<pre><code>ankitshw@88665a35e50c JavaCodes %  /usr/bin/env /Users/ankitshw/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home/bin/java -XX:+ShowCodeDetailsInExceptionMessages -cp /Users/ank\nitshw/Library/Application\\ Support/Code/User/workspaceStorage/1f7cf243dbcc01888351871e74299bca/redhat.java/jdt_ws/JavaCodes_7539afab/bin Src.groceryStore \nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Src/Customer (wrong name: Src/customer)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at Src.groceryStore.main(groceryStore.java:46)\n</code></pre>\n<p><strong>Code</strong></p>\n<p>`</p>\n<pre><code>package Src;\n\ninterface member{\n    void callBack(); \n}\n\nclass store{\n\n    member m[] = new member[2]; // created an array object of type memeber example : like integer type\n    int count =0;\n\n    void register(member mem){ // receiving an object of member class\n\n        m[count++] = mem; // initializing the array object using the same member class object\n\n    }\n\n    void inviteSale(){\n\n        for(int i=0 ;i&lt;count;i ++){\n            m[i].callBack();\n        }\n\n    }\n\n\n}\n\nclass customer implements member{\n\n    String name;\n    customer(String name){\n        this.name = name;\n    }\n\n    public void callBack(){\n        System.out.println(this.name + &quot;here and I will come at 9:15 Sharp&quot;);\n    }\n}\n\npublic class groceryStore {\n\n    public static void main(String[] args) {\n\n        store st = new store();\n        customer cs = new customer(&quot;Ankit&quot;);\n        customer cs1 = new customer(&quot;Aniket&quot;);\n        st.register(cs); // I can use the object of customer just because the customer is implementing member\n        st.register(cs1);\n        \n        st.inviteSale();\n\n    }\n    \n}\n</code></pre>\n<p>`</p>\n"},{"tags":["python","java","flutter","dart","arabic-support"],"comments":[{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":2,"creation_date":1698935580,"post_id":77410424,"comment_id":136469659,"body_markdown":"Can you post your code?","body":"Can you post your code?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698944601,"post_id":77410424,"comment_id":136471639,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10164946,"reputation":67,"user_id":7507231,"display_name":"Tarikul Islam Tuhin"},"score":0,"creation_date":1698981583,"post_id":77410424,"comment_id":136476418,"body_markdown":"@Ada, Sorry. I updated my question and added the code.","body":"@Ada, Sorry. I updated my question and added the code."},{"owner":{"account_id":6267437,"reputation":626,"user_id":4872676,"display_name":"Andj"},"score":0,"creation_date":1699085162,"post_id":77410424,"comment_id":136489215,"body_markdown":"I assume you mean an interchangeable pause mark? There are two in your string. Both substrings are &lt;U+0020 U+06DB U+0020&gt; which leads to the results you get. From your description of the problem I assume that there are editorial errors in the string.","body":"I assume you mean an interchangeable pause mark? There are two in your string. Both substrings are &lt;U+0020 U+06DB U+0020&gt; which leads to the results you get. From your description of the problem I assume that there are editorial errors in the string."},{"owner":{"account_id":10164946,"reputation":67,"user_id":7507231,"display_name":"Tarikul Islam Tuhin"},"score":0,"creation_date":1699116256,"post_id":77410424,"comment_id":136492061,"body_markdown":"@Andj Thanks for your comment. How to solve this editorial error?","body":"@Andj Thanks for your comment. How to solve this editorial error?"},{"owner":{"account_id":6267437,"reputation":626,"user_id":4872676,"display_name":"Andj"},"score":0,"creation_date":1699120409,"post_id":77410424,"comment_id":136492488,"body_markdown":"It appears to be how Quranic texts are typeset, not my specialty,  I have included some code in an answer to optionally include the space and the pause mark.","body":"It appears to be how Quranic texts are typeset, not my specialty,  I have included some code in an answer to optionally include the space and the pause mark."}],"answers":[{"tags":[],"owner":{"account_id":6267437,"reputation":626,"user_id":4872676,"display_name":"Andj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699120619,"creation_date":1699120281,"answer_id":77423190,"question_id":77410424,"body_markdown":"The annotation is a non-spacing mark using a space character as the base. The best way to handle this is to use a regex pattern that optionally includes the space and the pause mark in question.\r\n\r\nI will use the *regex* module rather than the *re*, since it has better Unicode support. I will use the pattern `r&#39;([\\p{Block=Arabic}]+(?:\\u0020\\u06DB)?)&#39;`. This looks for a string of characters from the Arabic block, optionally ending in `\\u0020\\u06DB`.\r\n\r\nAnd then use `regex.findall()` to get all the matches. \r\n\r\nIt is possible that you may need to expand the blocks to include additional blocks for Quaranic text in the `[\\p{Block=Arabic}]+` of the pattern.\r\n\r\nAdditionally the second component of the pattern could be expanded to include additional pause marks.\r\n\r\n```py\r\nimport regex\r\ntext = &#39;ذَٰلِكَ ٱلْكِتَـٰبُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ&#39;\r\npattern = r&#39;([\\p{Block=Arabic}]+(?:\\u0020\\u06DB)?)&#39;\r\nresults = regex.findall(pattern, text)\r\nprint(results)\r\n# [&#39;ذَٰلِكَ&#39;, &#39;ٱلْكِتَـٰبُ&#39;, &#39;لَا&#39;, &#39;رَيْبَ ۛ&#39;, &#39;فِيهِ ۛ&#39;, &#39;هُدًى&#39;, &#39;لِّلْمُتَّقِينَ&#39;]\r\n```\r\n","title":"How to split Arabic Text properly with the Pause Mark programmatically","body":"<p>The annotation is a non-spacing mark using a space character as the base. The best way to handle this is to use a regex pattern that optionally includes the space and the pause mark in question.</p>\n<p>I will use the <em>regex</em> module rather than the <em>re</em>, since it has better Unicode support. I will use the pattern <code>r'([\\p{Block=Arabic}]+(?:\\u0020\\u06DB)?)'</code>. This looks for a string of characters from the Arabic block, optionally ending in <code>\\u0020\\u06DB</code>.</p>\n<p>And then use <code>regex.findall()</code> to get all the matches.</p>\n<p>It is possible that you may need to expand the blocks to include additional blocks for Quaranic text in the <code>[\\p{Block=Arabic}]+</code> of the pattern.</p>\n<p>Additionally the second component of the pattern could be expanded to include additional pause marks.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import regex\ntext = 'ذَٰلِكَ ٱلْكِتَـٰبُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ'\npattern = r'([\\p{Block=Arabic}]+(?:\\u0020\\u06DB)?)'\nresults = regex.findall(pattern, text)\nprint(results)\n# ['ذَٰلِكَ', 'ٱلْكِتَـٰبُ', 'لَا', 'رَيْبَ ۛ', 'فِيهِ ۛ', 'هُدًى', 'لِّلْمُتَّقِينَ']\n</code></pre>\n"}],"owner":{"account_id":10164946,"reputation":67,"user_id":7507231,"display_name":"Tarikul Islam Tuhin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699120619,"creation_date":1698935259,"question_id":77410424,"body_markdown":"I tried to split a Arabic string based on if it finds space between words. However, it split the pause mark separately even though there is no space with a word with the pause mark. For example, \r\n &quot;ذَٰلِكَ ٱلْكِتَـٰبُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ&quot;, here two pause mark are given in this text. One with the text فِيهِ with no space, and other the رَيْبَ.\r\n\r\nCode: (&quot;ذَٰلِكَ ٱلْكِتَـٰبُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ&quot;).split(&quot; &quot;)\r\n\r\nHowever, when I tried to split, it gave me a result like this. \r\n[ذَٰلِكَ, الْكِتَابُ, لَا, رَيْبَ, ۛ, فِيهِ, ۛ, هُدًى, لِّلْمُتَّقِينَ]\r\n\r\nI am expecting to have a result like this. \r\n\r\n[ذَٰلِكَ, الْكِتَابُ, لَا, رَيْبَ ۛ, فِيهِ ۛ, هُدًى, لِّلْمُتَّقِينَ]","title":"How to split Arabic Text properly with the Pause Mark programmatically","body":"<p>I tried to split a Arabic string based on if it finds space between words. However, it split the pause mark separately even though there is no space with a word with the pause mark. For example,\n&quot;ذَٰلِكَ ٱلْكِتَـٰبُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ&quot;, here two pause mark are given in this text. One with the text فِيهِ with no space, and other the رَيْبَ.</p>\n<p>Code: (&quot;ذَٰلِكَ ٱلْكِتَـٰبُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ&quot;).split(&quot; &quot;)</p>\n<p>However, when I tried to split, it gave me a result like this.\n[ذَٰلِكَ, الْكِتَابُ, لَا, رَيْبَ, ۛ, فِيهِ, ۛ, هُدًى, لِّلْمُتَّقِينَ]</p>\n<p>I am expecting to have a result like this.</p>\n<p>[ذَٰلِكَ, الْكِتَابُ, لَا, رَيْبَ ۛ, فِيهِ ۛ, هُدًى, لِّلْمُتَّقِينَ]</p>\n"},{"tags":["java","tomcat","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3708015,"reputation":3812,"user_id":3086018,"accept_rate":57,"display_name":"jcgarcia"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1614195066,"creation_date":1486716497,"answer_id":42155035,"question_id":42154614,"body_markdown":"As you said, the `spring-boot-starter-web` includes the `spring-boot-starter-tomcat`. You could check it [here][1]\r\n\r\nThe `spring-boot-starter-tomcat` includes the `tomcat-embed-core`. You could check it [here][2]\r\n\r\nBut, seems like `tomcat-embed-core` doesn&#39;t include `tomcat-embed-jasper`. In fact, is `tomcat-embed-jasper` who includes dependency with `tomcat-embed-core`. Check it [here][3]\r\n\r\nAnyway, the `tomcat-embed-jasper` is marked as `provided`, so indicates that you expect the JDK or a container to provide the dependency at runtime. This scope is only available on the compilation and test classpath, and is not transitive.\r\n\r\nIn conclusion, the `spring-boot-starter-web` includes the tomcat embedded dependency but it doesn&#39;t includes the jasper embedded dependency, so that should be the reason to declare it separately.\r\n\r\nAlso, remember that using Spring IO Platform as parent you are able to manage dependencies easily. To know more about this you [could read my post][4]\r\n\r\nHope it helps,\r\n\r\n\r\n\r\n  [1]: http://search.maven.org/#artifactdetails%7Corg.springframework.boot%7Cspring-boot-starter-web%7C1.5.1.RELEASE%7Cjar\r\n  [2]: http://search.maven.org/#artifactdetails%7Corg.springframework.boot%7Cspring-boot-starter-tomcat%7C1.5.1.RELEASE%7Cjar\r\n  [3]: http://search.maven.org/#artifactdetails%7Corg.apache.tomcat.embed%7Ctomcat-embed-jasper%7C9.0.0.M17%7Cjar\r\n  [4]: https://dzone.com/articles/how-to-use-spring-io-platform-and-spring-boot-toge","title":"springboot embedded tomcat and tomcat-embed-jasper","body":"<p>As you said, the <code>spring-boot-starter-web</code> includes the <code>spring-boot-starter-tomcat</code>. You could check it <a href=\"http://search.maven.org/#artifactdetails%7Corg.springframework.boot%7Cspring-boot-starter-web%7C1.5.1.RELEASE%7Cjar\" rel=\"noreferrer\">here</a></p>\n<p>The <code>spring-boot-starter-tomcat</code> includes the <code>tomcat-embed-core</code>. You could check it <a href=\"http://search.maven.org/#artifactdetails%7Corg.springframework.boot%7Cspring-boot-starter-tomcat%7C1.5.1.RELEASE%7Cjar\" rel=\"noreferrer\">here</a></p>\n<p>But, seems like <code>tomcat-embed-core</code> doesn't include <code>tomcat-embed-jasper</code>. In fact, is <code>tomcat-embed-jasper</code> who includes dependency with <code>tomcat-embed-core</code>. Check it <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.tomcat.embed%7Ctomcat-embed-jasper%7C9.0.0.M17%7Cjar\" rel=\"noreferrer\">here</a></p>\n<p>Anyway, the <code>tomcat-embed-jasper</code> is marked as <code>provided</code>, so indicates that you expect the JDK or a container to provide the dependency at runtime. This scope is only available on the compilation and test classpath, and is not transitive.</p>\n<p>In conclusion, the <code>spring-boot-starter-web</code> includes the tomcat embedded dependency but it doesn't includes the jasper embedded dependency, so that should be the reason to declare it separately.</p>\n<p>Also, remember that using Spring IO Platform as parent you are able to manage dependencies easily. To know more about this you <a href=\"https://dzone.com/articles/how-to-use-spring-io-platform-and-spring-boot-toge\" rel=\"noreferrer\">could read my post</a></p>\n<p>Hope it helps,</p>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516031685,"creation_date":1516031685,"answer_id":48266448,"question_id":42154614,"body_markdown":"Extended from jcgarcia&#39;s answer.\r\n\r\nEven it is &lt;scope&gt;provided&lt;/scope&gt;, but when you build as war, &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; will include two more jar :\r\n ecj-3.12.3.jar\r\n tomcat-embed-jasper-8.5.23.jar\r\n\r\n","title":"springboot embedded tomcat and tomcat-embed-jasper","body":"<p>Extended from jcgarcia's answer.</p>\n\n<p>Even it is provided, but when you build as war, spring-boot-maven-plugin will include two more jar :\n ecj-3.12.3.jar\n tomcat-embed-jasper-8.5.23.jar</p>\n"},{"tags":[],"owner":{"account_id":21925754,"reputation":11,"user_id":16208404,"display_name":"Jay K.C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670045020,"creation_date":1670045020,"answer_id":74664206,"question_id":42154614,"body_markdown":"To those who are still facing this error in 2022 with Java Version 17, Maven Version 3.0.0 and Package Jar. I also ran into the same issue just now, seems like even though we set `&lt;scope&gt;Provided&lt;/scope&gt;` Maven is not picking up the jar. What you can do instead is just take that &lt;scope&gt; completely off while adding the dependency and run the Maven to install dependencies again. It will fix it for sure. So your pom.xml file will go:-\r\n\r\nFrom\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"springboot embedded tomcat and tomcat-embed-jasper","body":"<p>To those who are still facing this error in 2022 with Java Version 17, Maven Version 3.0.0 and Package Jar. I also ran into the same issue just now, seems like even though we set <code>&lt;scope&gt;Provided&lt;/scope&gt;</code> Maven is not picking up the jar. What you can do instead is just take that  completely off while adding the dependency and run the Maven to install dependencies again. It will fix it for sure. So your pom.xml file will go:-</p>\n<p>From</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29801543,"reputation":1,"user_id":22839223,"display_name":"saman khosravi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699120186,"creation_date":1698842915,"answer_id":77402742,"question_id":42154614,"body_markdown":"In [Spring Initializr](https://start.spring.io/), do not use last version specially with (snapshot) like 3.2.0(snapshot) use lower version like 2.7.17 in this state  with lower version no problem by entering jasper dependency","title":"springboot embedded tomcat and tomcat-embed-jasper","body":"<p>In <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializr</a>, do not use last version specially with (snapshot) like 3.2.0(snapshot) use lower version like 2.7.17 in this state  with lower version no problem by entering jasper dependency</p>\n"}],"owner":{"account_id":3259605,"reputation":523,"user_id":2745421,"accept_rate":56,"display_name":"tuty_fruity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56263,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":42155035,"answer_count":4,"score":28,"last_activity_date":1699120186,"creation_date":1486714848,"question_id":42154614,"body_markdown":"I sometimes see these following declaration in pom.xml...\r\n   \r\n       &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        ....\r\n\r\n\r\nas you can see, spring-boot-starter-web was declared as well\r\nas tomcat-embed-jasper.\r\n\r\nisn&#39;t it spring-boot-starter-web already have an embedded tomcat?\r\nwhy some developers still declare tomcat-embed-jasper along with boot-starter-web? or is there any reason?","title":"springboot embedded tomcat and tomcat-embed-jasper","body":"<p>I sometimes see these following declaration in pom.xml...</p>\n\n<pre><code>   &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    ....\n</code></pre>\n\n<p>as you can see, spring-boot-starter-web was declared as well\nas tomcat-embed-jasper.</p>\n\n<p>isn't it spring-boot-starter-web already have an embedded tomcat?\nwhy some developers still declare tomcat-embed-jasper along with boot-starter-web? or is there any reason?</p>\n"},{"tags":["java","ssl","bouncycastle","pem"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1699036824,"post_id":77413281,"comment_id":136485380,"body_markdown":"Do your PKCS#8 keys only contain RSA keys?","body":"Do your PKCS#8 keys only contain RSA keys?"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1699039087,"post_id":77413281,"comment_id":136485765,"body_markdown":"@Topaco it can also be EC","body":"@Topaco it can also be EC"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1699044965,"post_id":77413281,"comment_id":136486686,"body_markdown":"I can only process PKCS#8 keys that contain an RSA key with this code. EC (P-256) and Ed25519 result in an exception, see here: https://onecompiler.com/java/3zsepdcx9. Post a (non-productive) PKCS#8 key that contains an EC key and can be processed.","body":"I can only process PKCS#8 keys that contain an RSA key with this code. EC (P-256) and Ed25519 result in an exception, see here: <a href=\"https://onecompiler.com/java/3zsepdcx9\" rel=\"nofollow noreferrer\">onecompiler.com/java/3zsepdcx9</a>. Post a (non-productive) PKCS#8 key that contains an EC key and can be processed."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1699091244,"post_id":77413281,"comment_id":136489652,"body_markdown":"@Topaco I forgot to add the security provider in my code snippet. I have adjusted it and also tried it out on my side. The EC private key passes now and only PKCS#8 - ED25519 is failing. Can you try with the new code snippet? For the last key I only get a classcast exception.","body":"@Topaco I forgot to add the security provider in my code snippet. I have adjusted it and also tried it out on my side. The EC private key passes now and only PKCS#8 - ED25519 is failing. Can you try with the new code snippet? For the last key I only get a classcast exception."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1699121134,"post_id":77413281,"comment_id":136492558,"body_markdown":"If really only one key type is used (e.g. RSA), I would suggest a key-specific extraction. Of course, you could also do this for multiple key types (as suggested in the answer). But even that is not particularly elegant. Whether this is really an improvement (with regard to robustness, security, etc.) is more a matter of opinion.","body":"If really only one key type is used (e.g. RSA), I would suggest a key-specific extraction. Of course, you could also do this for multiple key types (as suggested in the answer). But even that is not particularly elegant. Whether this is really an improvement (with regard to robustness, security, etc.) is more a matter of opinion."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699119120,"creation_date":1699119120,"answer_id":77423131,"question_id":77413281,"body_markdown":"**Why it doesn&#39;t work for Ed25519**\r\n\r\n[`[Jca]MiscPEMGenerator`](https://github.com/bcgit/bc-java/blob/main/pkix/src/main/java/org/bouncycastle/openssl/MiscPEMGenerator.java#L95) generates the OpenSSL &#39;traditional&#39; formats for RSA, DSA, and EC(DSA), which `PEMParser` reads back to `PEMKeyPair` type as desired, but for other algorithms including Ed25519 it generates PKCS8 format -- the same format you started with (except not encrypted even if your input was), which reads back to `PrivateKeyInfo`, accomplishing nothing.\r\n\r\n**What you can do**\r\n\r\nFor Ed25519 the JCA API actually allows you to generate the public key directly. The other algorithms don&#39;t, but for RSA the &#39;CRT&#39; sub-API which in practice is always used contains the needed information and for EC the PKCS8 format in practice&lt;sup&gt;1&lt;/sup&gt; does. Only for DSA, which you didn&#39;t ask for but I included for near-completeness, do you need an unsafe hack. (I didn&#39;t include DH because in practice DH is not used with long-term keys that would be stored anywhere.)\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; The [SEC1 ECPrivateKey format](https://www.rfc-editor.org/rfc/rfc5915#section-3) used in PKCS8 formally has the `publicKey` field OPTIONAL, but I have never encounted software that doesn&#39;t generate it.\r\n\r\n\t\tPublicKey publicKey = null;\r\n\t\tif( privateKey instanceof RSAPrivateCrtKey )\r\n\t\t\tpublicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new RSAPublicKeySpec(\r\n\t\t\t\t\t((RSAPrivateCrtKey)privateKey).getModulus(), ((RSAPrivateCrtKey)privateKey).getPublicExponent() ));\r\n\t\telse if( privateKey instanceof DSAPrivateKey ){\r\n\t\t\tDSAParams dsap = ((DSAPrivateKey)privateKey).getParams();\r\n\t\t\tpublicKey = KeyFactory.getInstance(&quot;DSA&quot;).generatePublic(new DSAPublicKeySpec(\r\n\t\t\t\t\tdsap.getG().modPow( ((DSAPrivateKey)privateKey).getX(), dsap.getP()), dsap.getP(), dsap.getQ(), dsap.getG() ));\r\n\t\t\t// WARNING! VULNERABLE TO SIDE-CHANNEL ATTACKS!\r\n\t\t}else if( privateKey instanceof ECPrivateKey ){\r\n\t\t\tASN1BitString wrappt = org.bouncycastle.asn1.sec.ECPrivateKey.getInstance(privateKeyInfo.getPrivateKey().getOctets()).getPublicKey();\r\n\t\t\tpublicKey = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new X509EncodedKeySpec(\r\n\t\t\t\t\tnew SubjectPublicKeyInfo(privateKeyInfo.getPrivateKeyAlgorithm(), wrappt).getEncoded() ));\r\n\t\t}else if( privateKey instanceof EdDSAPrivateKey ){\r\n\t\t\tpublicKey = ((EdDSAPrivateKey)privateKey).getPublicKey();\r\n\t\t}else ; // handle error if/as appropriate\r\n","title":"Extract public key from PrivateKeyInfo with Bouncy Castle","body":"<p><strong>Why it doesn't work for Ed25519</strong></p>\n<p><a href=\"https://github.com/bcgit/bc-java/blob/main/pkix/src/main/java/org/bouncycastle/openssl/MiscPEMGenerator.java#L95\" rel=\"nofollow noreferrer\"><code>[Jca]MiscPEMGenerator</code></a> generates the OpenSSL 'traditional' formats for RSA, DSA, and EC(DSA), which <code>PEMParser</code> reads back to <code>PEMKeyPair</code> type as desired, but for other algorithms including Ed25519 it generates PKCS8 format -- the same format you started with (except not encrypted even if your input was), which reads back to <code>PrivateKeyInfo</code>, accomplishing nothing.</p>\n<p><strong>What you can do</strong></p>\n<p>For Ed25519 the JCA API actually allows you to generate the public key directly. The other algorithms don't, but for RSA the 'CRT' sub-API which in practice is always used contains the needed information and for EC the PKCS8 format in practice<sup>1</sup> does. Only for DSA, which you didn't ask for but I included for near-completeness, do you need an unsafe hack. (I didn't include DH because in practice DH is not used with long-term keys that would be stored anywhere.)</p>\n<p><sup>1</sup> The <a href=\"https://www.rfc-editor.org/rfc/rfc5915#section-3\" rel=\"nofollow noreferrer\">SEC1 ECPrivateKey format</a> used in PKCS8 formally has the <code>publicKey</code> field OPTIONAL, but I have never encounted software that doesn't generate it.</p>\n<pre><code>    PublicKey publicKey = null;\n    if( privateKey instanceof RSAPrivateCrtKey )\n        publicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new RSAPublicKeySpec(\n                ((RSAPrivateCrtKey)privateKey).getModulus(), ((RSAPrivateCrtKey)privateKey).getPublicExponent() ));\n    else if( privateKey instanceof DSAPrivateKey ){\n        DSAParams dsap = ((DSAPrivateKey)privateKey).getParams();\n        publicKey = KeyFactory.getInstance(&quot;DSA&quot;).generatePublic(new DSAPublicKeySpec(\n                dsap.getG().modPow( ((DSAPrivateKey)privateKey).getX(), dsap.getP()), dsap.getP(), dsap.getQ(), dsap.getG() ));\n        // WARNING! VULNERABLE TO SIDE-CHANNEL ATTACKS!\n    }else if( privateKey instanceof ECPrivateKey ){\n        ASN1BitString wrappt = org.bouncycastle.asn1.sec.ECPrivateKey.getInstance(privateKeyInfo.getPrivateKey().getOctets()).getPublicKey();\n        publicKey = KeyFactory.getInstance(&quot;EC&quot;).generatePublic(new X509EncodedKeySpec(\n                new SubjectPublicKeyInfo(privateKeyInfo.getPrivateKeyAlgorithm(), wrappt).getEncoded() ));\n    }else if( privateKey instanceof EdDSAPrivateKey ){\n        publicKey = ((EdDSAPrivateKey)privateKey).getPublicKey();\n    }else ; // handle error if/as appropriate\n</code></pre>\n"}],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77423131,"answer_count":1,"score":0,"last_activity_date":1699119120,"creation_date":1698965147,"question_id":77413281,"body_markdown":"I am trying to obtain the public key from a private key, for some use cases it is simple if the type is of the instance `PEMKeyPair` and `PEMEncryptedKeyPair`. These two can be easily converted to a `java.security.KeyPair` with `JcaPEMKeyConverter`. However if I have an object of the type `PrivateKeyInfo` and `PKCS8EncryptedPrivateKeyInfo` I can only extract the private key with the `JcaPEMKeyConverter` and I am not sure if there is an utility available or a better way to also extract the public key from it. Currently I am using a workaround which is not that efficient as I create a pem file and then reread it with a pemparser to extract the public key, this happends in the `extractPublicKey` method. See below for the full code snippet:\r\n\r\n```\r\nimport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.openssl.PEMDecryptorProvider;\r\nimport org.bouncycastle.openssl.PEMEncryptedKeyPair;\r\nimport org.bouncycastle.openssl.PEMKeyPair;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.openssl.jcajce.JcaMiscPEMGenerator;\r\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\nimport org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\r\nimport org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder;\r\nimport org.bouncycastle.operator.InputDecryptorProvider;\r\nimport org.bouncycastle.operator.OperatorCreationException;\r\nimport org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\r\nimport org.bouncycastle.pkcs.PKCSException;\r\nimport org.bouncycastle.util.io.pem.PemObject;\r\nimport org.bouncycastle.util.io.pem.PemWriter;\r\n\r\nimport java.io.IOException;\r\nimport java.io.Reader;\r\nimport java.io.StringReader;\r\nimport java.io.StringWriter;\r\nimport java.security.KeyPair;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\nimport java.security.Security;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\npublic class App {\r\n\r\n    private static final JcaPEMKeyConverter keyConverter = new JcaPEMKeyConverter();\r\n    private static final JceOpenSSLPKCS8DecryptorProviderBuilder pkcs8DecryptorProviderBuilder = new JceOpenSSLPKCS8DecryptorProviderBuilder();\r\n    private static final JcePEMDecryptorProviderBuilder pemDecryptorProviderBuilder = new JcePEMDecryptorProviderBuilder();\r\n\r\n    public static void main(String[] args) {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        List&lt;Object&gt; objects = parsePemContent(PEM_CONTENT);\r\n        Object object = objects.get(0);\r\n\r\n        KeyPair keyPair = extractKeyPair(object, null).orElseThrow();\r\n        PrivateKey privateKey = keyPair.getPrivate();\r\n        PublicKey publicKey = keyPair.getPublic();\r\n    }\r\n\r\n    private static List&lt;Object&gt; parsePemContent(String pemContent) {\r\n        try (Reader stringReader = new StringReader(pemContent);\r\n             PEMParser pemParser = new PEMParser(stringReader)) {\r\n\r\n            List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n            for (Object object = pemParser.readObject(); object != null; object = pemParser.readObject()) {\r\n                objects.add(object);\r\n            }\r\n\r\n            return objects;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static Optional&lt;KeyPair&gt; extractKeyPair(Object object, char[] keyPassword) {\r\n        try {\r\n            PrivateKeyInfo privateKeyInfo = null;\r\n            PEMKeyPair pemKeyPair = null;\r\n            KeyPair keyPair = null;\r\n\r\n            if (object instanceof PrivateKeyInfo) {\r\n                privateKeyInfo = (PrivateKeyInfo) object;\r\n            } else if (object instanceof PKCS8EncryptedPrivateKeyInfo) {\r\n                InputDecryptorProvider decryptorProvider = pkcs8DecryptorProviderBuilder.build(keyPassword);\r\n                PKCS8EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) object;\r\n                privateKeyInfo = encryptedPrivateKeyInfo.decryptPrivateKeyInfo(decryptorProvider);\r\n            } else if (object instanceof PEMKeyPair) {\r\n                pemKeyPair = (PEMKeyPair) object;\r\n            } else if (object instanceof PEMEncryptedKeyPair) {\r\n                PEMDecryptorProvider decryptorProvider = pemDecryptorProviderBuilder.build(keyPassword);\r\n                PEMEncryptedKeyPair encryptedKeyPair = (PEMEncryptedKeyPair) object;\r\n                pemKeyPair = encryptedKeyPair.decryptKeyPair(decryptorProvider);\r\n            }\r\n\r\n            if (privateKeyInfo != null) {\r\n                PrivateKey privateKey = keyConverter.getPrivateKey(privateKeyInfo);\r\n                PublicKey publicKey = extractPublicKey(privateKey);\r\n                keyPair = new KeyPair(publicKey, privateKey);\r\n            }\r\n\r\n            if (pemKeyPair != null) {\r\n                keyPair = keyConverter.getKeyPair(pemKeyPair);\r\n            }\r\n\r\n            return Optional.ofNullable(keyPair);\r\n        } catch (IOException | OperatorCreationException | PKCSException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static PublicKey extractPublicKey(PrivateKey privateKey) {\r\n        try (StringWriter writer = new StringWriter()) {\r\n            JcaMiscPEMGenerator pemGenerator = new JcaMiscPEMGenerator(privateKey);\r\n            PemObject pemObject = pemGenerator.generate();\r\n\r\n            PemWriter pemWriter = new PemWriter(writer);\r\n            pemWriter.writeObject(pemObject);\r\n            pemWriter.close();\r\n\r\n            try (StringReader stringReader = new StringReader(writer.toString());\r\n                 PEMParser pemParser = new PEMParser(stringReader)) {\r\n                PEMKeyPair pemKeyPair = (PEMKeyPair) pemParser.readObject();\r\n                KeyPair keyPair = keyConverter.getKeyPair(pemKeyPair);\r\n                return keyPair.getPublic();\r\n            }\r\n        } catch (IOException exception) {\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n\r\n    private static final String PEM_CONTENT = &quot;&quot;&quot;\r\n            Bag Attributes\r\n                friendlyName: client\r\n                localKeyID: 54 69 6D 65 20 31 35 39 39 34 30 31 38 32 38 37 32 35\\s\r\n            Key Attributes: &lt;No Attributes&gt;\r\n            -----BEGIN PRIVATE KEY-----\r\n            MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCTBHn+btuggNTb\r\n            B5eOMTSpKnIL6+GTObUkn6PdTSV8Ids65tJCRWBOKARNCbJsRCfJeHdtvFojYZXm\r\n            r6PKi84CsYPafn/D/8rIJCvbvUFM1K+zB7MpF3UzRhyU3QqsTfdutr72nLhUXlzl\r\n            eH6bNJ547N8hz8NpU48jMNz7xB4MlekjrhlLHtgq8Qb43Q+lZm2VUW8iGC5xoDK1\r\n            SnPlm5AoWVCaRbaN6nmfoeSIAdlzixtO41ZYGQm1Blhzsk08fQ4H5I6zHKYKyHY8\r\n            k5oKpE7+wB7fGM0qyI19wAy1UuEa5hvSilrM66GoHkQ5bEa78QeD5PHw5ohofpKh\r\n            Vys+vIFVAgMBAAECggEAR0OsPwFNxQeuJl4PwQVpGXdRwSWeOteGTzJzJBr5SKrA\r\n            slShJy6p+Di9nPpOWtzOzIJwoejjaLMtDp2lL9GFExkpaQhYtpGPomSmPeYHeU6/\r\n            vHDHD+wnC6u4vxBG1C8W+bvr5W8iiwMS1MkL1gAzsTphDuq/Npcik1RkSkZOqppj\r\n            t6kQVxJ7yJ+iSPFzubABv4luxLg30ESSw/vD8MfaNWcud3XE5YAKACjqQqi2IEkE\r\n            IJ/sCrqAq71bdlsFkAwm2T/8ecIBoUKuCYS9gteVAMXfT0lV5cAIag+zZ5cyOiBL\r\n            Nx8UW3J5tc06u8mcYEIBQsWtrmNOkaV6ntFgG0r+IQKBgQDR182z6pQkVBPdHSI1\r\n            V7gITifOmxZEUBWSnb3ekrHtCNcUzQ62Cd+0mCPcnhB40nm+7PfpOVsVu7gJEZb7\r\n            e6xT8uYm4ZkFQqNzZQcx8TWXHEeaAArwzMetDrgz+bwZlWcUcG7S3RMybvWPqScz\r\n            AXjYNGriZScHW8yh0CEUDsyVGwKBgQCzWvzj/W7D3d0C2dSJoSLsyseFd0kdUHA7\r\n            1zj4PqOqfpZAdEe6elUKRADx1lIi/YVd2h5h4aN+dsZ71feCJLnZkCLIkeWn2M6Q\r\n            5O9vtbmQ8YhxGktiqP7km3KgAdZk4C53Tacjq3R37JSOEX3vnJHUoXzkxXA71g7/\r\n            SassCX1aTwKBgQCXoeZ9tOuZmLvF0rCOdTWBouA29nBPqsL78EpsU/qIOxQYbtjL\r\n            iDUDrdB0Mi/a7tSUt22pNQ3xlXU18GT2knaDLwlKXUiSuYWc9AsP9qnv6LqAuLkv\r\n            Kfq7veAzhql6nzAeX+RlMOUXU4DUb7norI6jRLVbpRZfxeEHqHrOoKcKswKBgBV4\r\n            4SnSX35ng1wiBAXuGqZKqJRb8Y7m4GjpnVJq/WEeApL42NWEa8Xs2kgZpn+15k+U\r\n            G2sQfmhXg++zcAxOpUlcri1g+iOcGy7RmbDACtVFdVZFFZ1cKhfoXFK3pZkyFZ4G\r\n            1+m3TxxEYIyZn4AeOH9CThd9Y7BmMilyAmIlSLKVAoGADbX0WVnQieiA2NdgUqmX\r\n            QIcg3Hsspsx5Ro7EReYuHVAC2J7WOrnINLPsCU+jLdnDm4iXgvjdb9Lsx3qCyAUA\r\n            +K9GqpcRYXRGTz7+YdFVneU19WK6Jeo5vmy66KXVGBk/134aQ0QKQ1Tfnd+fmAtV\r\n            iVDJeabSN63mDyr6CX6j5/0=\r\n            -----END PRIVATE KEY-----\r\n            Bag Attributes\r\n                friendlyName: client\r\n                localKeyID: 54 69 6D 65 20 31 35 39 39 34 30 31 38 32 38 37 32 35\\s\r\n            subject=/C=NL/O=Altindag/OU=Altindag/CN=black-hole\r\n            issuer=/C=NL/O=Thunderberry/OU=Certificate Authority/CN=Root-CA\r\n            -----BEGIN CERTIFICATE-----\r\n            MIIDGjCCAgICCQDLR+kGVrMOoTANBgkqhkiG9w0BAQUFADBWMQswCQYDVQQGEwJO\r\n            TDEVMBMGA1UEChMMVGh1bmRlcmJlcnJ5MR4wHAYDVQQLExVDZXJ0aWZpY2F0ZSBB\r\n            dXRob3JpdHkxEDAOBgNVBAMTB1Jvb3QtQ0EwHhcNMjAwOTA2MDg0MTI0WhcNMjUw\r\n            OTA1MDg0MTI0WjBIMQswCQYDVQQGEwJOTDERMA8GA1UEChMIQWx0aW5kYWcxETAP\r\n            BgNVBAsTCEFsdGluZGFnMRMwEQYDVQQDEwpibGFjay1ob2xlMIIBIjANBgkqhkiG\r\n            9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkwR5/m7boIDU2weXjjE0qSpyC+vhkzm1JJ+j\r\n            3U0lfCHbOubSQkVgTigETQmybEQnyXh3bbxaI2GV5q+jyovOArGD2n5/w//KyCQr\r\n            271BTNSvswezKRd1M0YclN0KrE33bra+9py4VF5c5Xh+mzSeeOzfIc/DaVOPIzDc\r\n            +8QeDJXpI64ZSx7YKvEG+N0PpWZtlVFvIhgucaAytUpz5ZuQKFlQmkW2jep5n6Hk\r\n            iAHZc4sbTuNWWBkJtQZYc7JNPH0OB+SOsxymCsh2PJOaCqRO/sAe3xjNKsiNfcAM\r\n            tVLhGuYb0opazOuhqB5EOWxGu/EHg+Tx8OaIaH6SoVcrPryBVQIDAQABMA0GCSqG\r\n            SIb3DQEBBQUAA4IBAQCWrAt3mlE+6iT8N55rFPqgOLBcdXizSQqW2ycMvwau9FqL\r\n            V5i6nHDV6jWoGIuOmo4IvkXWBN/Q+SPqoAeSvJw5WgVpd6CF1+QlcdpP9k3utJqK\r\n            OZJduZxgqTYHw+QUQbDCGHlVJCQZKKHqKQryXdP18SAXQt0GrDkmE53FUUF9Act3\r\n            NxDUiMf3AgbS6NxY9oH3RR5LvcyvM8FYHaGX1mjjQzY8Fr0TmR+x8ItrXDphN0MW\r\n            J3EuJE2qz7Dx7CQgJAiaQ43o7qMuVfqzKqSv8Sk46OBQCss0VNpqfsUCq0niIJJB\r\n            NNPJMUaSaIx0aKdbvoEAVeekkGMBWakVW4z0xNMK\r\n            -----END CERTIFICATE-----\r\n                        \r\n            &quot;&quot;&quot;;\r\n\r\n}\r\n```\r\n\r\nI used Java 17 and the following bouncy castle dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\r\n    &lt;version&gt;1.76&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAny idea whether it is possible to extract the public key from a `PrivateKeyInfo` without the need of using the workaround in the method `extractPublicKey` which temporally creates a pem string of the private key with `JcaMiscPEMGenerator` to reprocess with the PEMParser to obtain the `PEMKeyPair` which in return holds the private and public key.","title":"Extract public key from PrivateKeyInfo with Bouncy Castle","body":"<p>I am trying to obtain the public key from a private key, for some use cases it is simple if the type is of the instance <code>PEMKeyPair</code> and <code>PEMEncryptedKeyPair</code>. These two can be easily converted to a <code>java.security.KeyPair</code> with <code>JcaPEMKeyConverter</code>. However if I have an object of the type <code>PrivateKeyInfo</code> and <code>PKCS8EncryptedPrivateKeyInfo</code> I can only extract the private key with the <code>JcaPEMKeyConverter</code> and I am not sure if there is an utility available or a better way to also extract the public key from it. Currently I am using a workaround which is not that efficient as I create a pem file and then reread it with a pemparser to extract the public key, this happends in the <code>extractPublicKey</code> method. See below for the full code snippet:</p>\n<pre><code>import org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openssl.PEMDecryptorProvider;\nimport org.bouncycastle.openssl.PEMEncryptedKeyPair;\nimport org.bouncycastle.openssl.PEMKeyPair;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.jcajce.JcaMiscPEMGenerator;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\nimport org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\nimport org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder;\nimport org.bouncycastle.operator.InputDecryptorProvider;\nimport org.bouncycastle.operator.OperatorCreationException;\nimport org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\nimport org.bouncycastle.pkcs.PKCSException;\nimport org.bouncycastle.util.io.pem.PemObject;\nimport org.bouncycastle.util.io.pem.PemWriter;\n\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.io.StringReader;\nimport java.io.StringWriter;\nimport java.security.KeyPair;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\nimport java.security.Security;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\npublic class App {\n\n    private static final JcaPEMKeyConverter keyConverter = new JcaPEMKeyConverter();\n    private static final JceOpenSSLPKCS8DecryptorProviderBuilder pkcs8DecryptorProviderBuilder = new JceOpenSSLPKCS8DecryptorProviderBuilder();\n    private static final JcePEMDecryptorProviderBuilder pemDecryptorProviderBuilder = new JcePEMDecryptorProviderBuilder();\n\n    public static void main(String[] args) {\n        Security.addProvider(new BouncyCastleProvider());\n\n        List&lt;Object&gt; objects = parsePemContent(PEM_CONTENT);\n        Object object = objects.get(0);\n\n        KeyPair keyPair = extractKeyPair(object, null).orElseThrow();\n        PrivateKey privateKey = keyPair.getPrivate();\n        PublicKey publicKey = keyPair.getPublic();\n    }\n\n    private static List&lt;Object&gt; parsePemContent(String pemContent) {\n        try (Reader stringReader = new StringReader(pemContent);\n             PEMParser pemParser = new PEMParser(stringReader)) {\n\n            List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n            for (Object object = pemParser.readObject(); object != null; object = pemParser.readObject()) {\n                objects.add(object);\n            }\n\n            return objects;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static Optional&lt;KeyPair&gt; extractKeyPair(Object object, char[] keyPassword) {\n        try {\n            PrivateKeyInfo privateKeyInfo = null;\n            PEMKeyPair pemKeyPair = null;\n            KeyPair keyPair = null;\n\n            if (object instanceof PrivateKeyInfo) {\n                privateKeyInfo = (PrivateKeyInfo) object;\n            } else if (object instanceof PKCS8EncryptedPrivateKeyInfo) {\n                InputDecryptorProvider decryptorProvider = pkcs8DecryptorProviderBuilder.build(keyPassword);\n                PKCS8EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) object;\n                privateKeyInfo = encryptedPrivateKeyInfo.decryptPrivateKeyInfo(decryptorProvider);\n            } else if (object instanceof PEMKeyPair) {\n                pemKeyPair = (PEMKeyPair) object;\n            } else if (object instanceof PEMEncryptedKeyPair) {\n                PEMDecryptorProvider decryptorProvider = pemDecryptorProviderBuilder.build(keyPassword);\n                PEMEncryptedKeyPair encryptedKeyPair = (PEMEncryptedKeyPair) object;\n                pemKeyPair = encryptedKeyPair.decryptKeyPair(decryptorProvider);\n            }\n\n            if (privateKeyInfo != null) {\n                PrivateKey privateKey = keyConverter.getPrivateKey(privateKeyInfo);\n                PublicKey publicKey = extractPublicKey(privateKey);\n                keyPair = new KeyPair(publicKey, privateKey);\n            }\n\n            if (pemKeyPair != null) {\n                keyPair = keyConverter.getKeyPair(pemKeyPair);\n            }\n\n            return Optional.ofNullable(keyPair);\n        } catch (IOException | OperatorCreationException | PKCSException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static PublicKey extractPublicKey(PrivateKey privateKey) {\n        try (StringWriter writer = new StringWriter()) {\n            JcaMiscPEMGenerator pemGenerator = new JcaMiscPEMGenerator(privateKey);\n            PemObject pemObject = pemGenerator.generate();\n\n            PemWriter pemWriter = new PemWriter(writer);\n            pemWriter.writeObject(pemObject);\n            pemWriter.close();\n\n            try (StringReader stringReader = new StringReader(writer.toString());\n                 PEMParser pemParser = new PEMParser(stringReader)) {\n                PEMKeyPair pemKeyPair = (PEMKeyPair) pemParser.readObject();\n                KeyPair keyPair = keyConverter.getKeyPair(pemKeyPair);\n                return keyPair.getPublic();\n            }\n        } catch (IOException exception) {\n            throw new RuntimeException(exception);\n        }\n    }\n\n    private static final String PEM_CONTENT = &quot;&quot;&quot;\n            Bag Attributes\n                friendlyName: client\n                localKeyID: 54 69 6D 65 20 31 35 39 39 34 30 31 38 32 38 37 32 35\\s\n            Key Attributes: &lt;No Attributes&gt;\n            -----BEGIN PRIVATE KEY-----\n            MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCTBHn+btuggNTb\n            B5eOMTSpKnIL6+GTObUkn6PdTSV8Ids65tJCRWBOKARNCbJsRCfJeHdtvFojYZXm\n            r6PKi84CsYPafn/D/8rIJCvbvUFM1K+zB7MpF3UzRhyU3QqsTfdutr72nLhUXlzl\n            eH6bNJ547N8hz8NpU48jMNz7xB4MlekjrhlLHtgq8Qb43Q+lZm2VUW8iGC5xoDK1\n            SnPlm5AoWVCaRbaN6nmfoeSIAdlzixtO41ZYGQm1Blhzsk08fQ4H5I6zHKYKyHY8\n            k5oKpE7+wB7fGM0qyI19wAy1UuEa5hvSilrM66GoHkQ5bEa78QeD5PHw5ohofpKh\n            Vys+vIFVAgMBAAECggEAR0OsPwFNxQeuJl4PwQVpGXdRwSWeOteGTzJzJBr5SKrA\n            slShJy6p+Di9nPpOWtzOzIJwoejjaLMtDp2lL9GFExkpaQhYtpGPomSmPeYHeU6/\n            vHDHD+wnC6u4vxBG1C8W+bvr5W8iiwMS1MkL1gAzsTphDuq/Npcik1RkSkZOqppj\n            t6kQVxJ7yJ+iSPFzubABv4luxLg30ESSw/vD8MfaNWcud3XE5YAKACjqQqi2IEkE\n            IJ/sCrqAq71bdlsFkAwm2T/8ecIBoUKuCYS9gteVAMXfT0lV5cAIag+zZ5cyOiBL\n            Nx8UW3J5tc06u8mcYEIBQsWtrmNOkaV6ntFgG0r+IQKBgQDR182z6pQkVBPdHSI1\n            V7gITifOmxZEUBWSnb3ekrHtCNcUzQ62Cd+0mCPcnhB40nm+7PfpOVsVu7gJEZb7\n            e6xT8uYm4ZkFQqNzZQcx8TWXHEeaAArwzMetDrgz+bwZlWcUcG7S3RMybvWPqScz\n            AXjYNGriZScHW8yh0CEUDsyVGwKBgQCzWvzj/W7D3d0C2dSJoSLsyseFd0kdUHA7\n            1zj4PqOqfpZAdEe6elUKRADx1lIi/YVd2h5h4aN+dsZ71feCJLnZkCLIkeWn2M6Q\n            5O9vtbmQ8YhxGktiqP7km3KgAdZk4C53Tacjq3R37JSOEX3vnJHUoXzkxXA71g7/\n            SassCX1aTwKBgQCXoeZ9tOuZmLvF0rCOdTWBouA29nBPqsL78EpsU/qIOxQYbtjL\n            iDUDrdB0Mi/a7tSUt22pNQ3xlXU18GT2knaDLwlKXUiSuYWc9AsP9qnv6LqAuLkv\n            Kfq7veAzhql6nzAeX+RlMOUXU4DUb7norI6jRLVbpRZfxeEHqHrOoKcKswKBgBV4\n            4SnSX35ng1wiBAXuGqZKqJRb8Y7m4GjpnVJq/WEeApL42NWEa8Xs2kgZpn+15k+U\n            G2sQfmhXg++zcAxOpUlcri1g+iOcGy7RmbDACtVFdVZFFZ1cKhfoXFK3pZkyFZ4G\n            1+m3TxxEYIyZn4AeOH9CThd9Y7BmMilyAmIlSLKVAoGADbX0WVnQieiA2NdgUqmX\n            QIcg3Hsspsx5Ro7EReYuHVAC2J7WOrnINLPsCU+jLdnDm4iXgvjdb9Lsx3qCyAUA\n            +K9GqpcRYXRGTz7+YdFVneU19WK6Jeo5vmy66KXVGBk/134aQ0QKQ1Tfnd+fmAtV\n            iVDJeabSN63mDyr6CX6j5/0=\n            -----END PRIVATE KEY-----\n            Bag Attributes\n                friendlyName: client\n                localKeyID: 54 69 6D 65 20 31 35 39 39 34 30 31 38 32 38 37 32 35\\s\n            subject=/C=NL/O=Altindag/OU=Altindag/CN=black-hole\n            issuer=/C=NL/O=Thunderberry/OU=Certificate Authority/CN=Root-CA\n            -----BEGIN CERTIFICATE-----\n            MIIDGjCCAgICCQDLR+kGVrMOoTANBgkqhkiG9w0BAQUFADBWMQswCQYDVQQGEwJO\n            TDEVMBMGA1UEChMMVGh1bmRlcmJlcnJ5MR4wHAYDVQQLExVDZXJ0aWZpY2F0ZSBB\n            dXRob3JpdHkxEDAOBgNVBAMTB1Jvb3QtQ0EwHhcNMjAwOTA2MDg0MTI0WhcNMjUw\n            OTA1MDg0MTI0WjBIMQswCQYDVQQGEwJOTDERMA8GA1UEChMIQWx0aW5kYWcxETAP\n            BgNVBAsTCEFsdGluZGFnMRMwEQYDVQQDEwpibGFjay1ob2xlMIIBIjANBgkqhkiG\n            9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkwR5/m7boIDU2weXjjE0qSpyC+vhkzm1JJ+j\n            3U0lfCHbOubSQkVgTigETQmybEQnyXh3bbxaI2GV5q+jyovOArGD2n5/w//KyCQr\n            271BTNSvswezKRd1M0YclN0KrE33bra+9py4VF5c5Xh+mzSeeOzfIc/DaVOPIzDc\n            +8QeDJXpI64ZSx7YKvEG+N0PpWZtlVFvIhgucaAytUpz5ZuQKFlQmkW2jep5n6Hk\n            iAHZc4sbTuNWWBkJtQZYc7JNPH0OB+SOsxymCsh2PJOaCqRO/sAe3xjNKsiNfcAM\n            tVLhGuYb0opazOuhqB5EOWxGu/EHg+Tx8OaIaH6SoVcrPryBVQIDAQABMA0GCSqG\n            SIb3DQEBBQUAA4IBAQCWrAt3mlE+6iT8N55rFPqgOLBcdXizSQqW2ycMvwau9FqL\n            V5i6nHDV6jWoGIuOmo4IvkXWBN/Q+SPqoAeSvJw5WgVpd6CF1+QlcdpP9k3utJqK\n            OZJduZxgqTYHw+QUQbDCGHlVJCQZKKHqKQryXdP18SAXQt0GrDkmE53FUUF9Act3\n            NxDUiMf3AgbS6NxY9oH3RR5LvcyvM8FYHaGX1mjjQzY8Fr0TmR+x8ItrXDphN0MW\n            J3EuJE2qz7Dx7CQgJAiaQ43o7qMuVfqzKqSv8Sk46OBQCss0VNpqfsUCq0niIJJB\n            NNPJMUaSaIx0aKdbvoEAVeekkGMBWakVW4z0xNMK\n            -----END CERTIFICATE-----\n                        \n            &quot;&quot;&quot;;\n\n}\n</code></pre>\n<p>I used Java 17 and the following bouncy castle dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\n    &lt;version&gt;1.76&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Any idea whether it is possible to extract the public key from a <code>PrivateKeyInfo</code> without the need of using the workaround in the method <code>extractPublicKey</code> which temporally creates a pem string of the private key with <code>JcaMiscPEMGenerator</code> to reprocess with the PEMParser to obtain the <code>PEMKeyPair</code> which in return holds the private and public key.</p>\n"},{"tags":["java","arraylist","junit","junit5"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698503501,"post_id":77379650,"comment_id":136415498,"body_markdown":"Can you please add the whole test method to your question? Is `self` of type `User` ?","body":"Can you please add the whole test method to your question? Is <code>self</code> of type <code>User</code> ?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698503922,"post_id":77379650,"comment_id":136415555,"body_markdown":"And please add the implementation of `self.getPost(int).isAfter(...)`.","body":"And please add the implementation of <code>self.getPost(int).isAfter(...)</code>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698504054,"post_id":77379650,"comment_id":136415577,"body_markdown":"What do you expect `addPost` to return?","body":"What do you expect <code>addPost</code> to return?"},{"owner":{"account_id":28435122,"reputation":1,"user_id":21755315,"display_name":"Absentia"},"score":0,"creation_date":1698512736,"post_id":77379650,"comment_id":136416438,"body_markdown":"I&#39;ve edited the post to add the requested method\nself is of type User\naddPost should return the newly added Post to the ArrayList","body":"I&#39;ve edited the post to add the requested method self is of type User addPost should return the newly added Post to the ArrayList"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698526237,"post_id":77379650,"comment_id":136417788,"body_markdown":"you are using `@ParameterizedTest` - what does the method `userAndStringProvider` do exactly?","body":"you are using <code>@ParameterizedTest</code> - what does the method <code>userAndStringProvider</code> do exactly?"},{"owner":{"account_id":28435122,"reputation":1,"user_id":21755315,"display_name":"Absentia"},"score":0,"creation_date":1698768938,"post_id":77379650,"comment_id":136446169,"body_markdown":"here&#39;s the method asked\npublic static Stream&lt;Arguments&gt; userAndStringProvider() {\n\t\treturn Stream.generate(() -&gt; Arguments.of(userSupplier(), stringSupplier())).limit(LG_STREAM);\n\t}\npublic static List&lt;User&gt; allUser() {\n\t\treturn Collections.unmodifiableList(allUsers);\n\t}\npublic static User userSupplier () {\n\t\treturn getRandomElt(allUsers);\n\t}","body":"here&#39;s the method asked public static Stream&lt;Arguments&gt; userAndStringProvider() { \t\treturn Stream.generate(() -&gt; Arguments.of(userSupplier(), stringSupplier())).limit(LG_STREAM); \t} public static List&lt;User&gt; allUser() { \t\treturn Collections.unmodifiableList(allUsers); \t} public static User userSupplier () { \t\treturn getRandomElt(allUsers); \t}"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698826568,"post_id":77379650,"comment_id":136453060,"body_markdown":"I added the code to your question, and we&#39;re getting closer to the source of your `IllegalArgumentException`: the name of the `getRandomElt` method looks as if it has to do with &quot;a call to a random generator&quot; as @ThomasKl&#228;ger wrote it in his answer. Can you please also add the sourcecode of the `getRandomElt` method to your question - and a statement if it&#39;s possible to change the test data provider and any of the methods it uses.","body":"I added the code to your question, and we&#39;re getting closer to the source of your <code>IllegalArgumentException</code>: the name of the <code>getRandomElt</code> method looks as if it has to do with &quot;a call to a random generator&quot; as @ThomasKl&#228;ger wrote it in his answer. Can you please also add the sourcecode of the <code>getRandomElt</code> method to your question - and a statement if it&#39;s possible to change the test data provider and any of the methods it uses."},{"owner":{"account_id":28435122,"reputation":1,"user_id":21755315,"display_name":"Absentia"},"score":0,"creation_date":1698875851,"post_id":77379650,"comment_id":136461793,"body_markdown":"heres the code of getRandomElt\n\npublic static &lt;T&gt; T getRandomElt(Collection&lt;T&gt; c) {\n\t\tint index = randInt(c.size());\n\t\tif (c instanceof List&lt;?&gt;) {\n\t\t\treturn ((List&lt;T&gt;) c).get(index);\n\t\t}\n\t\tint i = 0;\n\t\tfor (T elt : c) {\n\t\t\tif (i == index) {\n\t\t\t\treturn elt;\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\t\tthrow new NoSuchElementException();\n\t}","body":"heres the code of getRandomElt  public static &lt;T&gt; T getRandomElt(Collection&lt;T&gt; c) { \t\tint index = randInt(c.size()); \t\tif (c instanceof List&lt;?&gt;) { \t\t\treturn ((List&lt;T&gt;) c).get(index); \t\t} \t\tint i = 0; \t\tfor (T elt : c) { \t\t\tif (i == index) { \t\t\t\treturn elt; \t\t\t} \t\t\ti++; \t\t} \t\tthrow new NoSuchElementException(); \t}"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1698997011,"post_id":77379650,"comment_id":136477734,"body_markdown":"now, the code for the method `int randInt(int)` is missing - but probably it calls `java.util.Random.nextInt(int)` somewhere. Can you confirm this or provide the code? And please: edit your question to add it directly there.","body":"now, the code for the method <code>int randInt(int)</code> is missing - but probably it calls <code>java.util.Random.nextInt(int)</code> somewhere. Can you confirm this or provide the code? And please: edit your question to add it directly there."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698516362,"creation_date":1698516362,"answer_id":77380652,"question_id":77379650,"body_markdown":"You add new posts to the end of the `listPosts`:\r\n\r\n        public Post addPost(String msg) {\r\n            listPosts.add(new Post(msg));\r\n            Index++;\r\n            return new Post(msg);\r\n        }\r\n\r\nThat means that the posts are ordered in ascending `dateCreation` order (i.e. `listPosts.get(0)` is created first, then `listPosts.get(1)`, then later posts) and that also means that\r\n\r\n        self.getPost(i).isAfter(self.getPost(i + 1))\r\n\r\ncan never be true. You either have to change that condition to\r\n\r\n        self.getPost(i).isBefore(self.getPost(i + 1))\r\n\r\nor add new posts to the front of the list:\r\n\r\n        public Post addPost(String msg) {\r\n            listPosts.add(0, new Post(msg));\r\n            Index++;\r\n            return new Post(msg);\r\n        }\r\n\r\n-----\r\nAlso note that `addPost()` creates two distinct `Post` objects which probably is not what you want. You probably want\r\n\r\n        public Post addPost(String msg) {\r\n            Post post = new Post(msg);\r\n            listPosts.add(0, post);\r\n            Index++;\r\n            return post;\r\n        }\r\n\r\n---\r\nFor the `IllegalArgumentException` with the message &quot;bound must be positive&quot;:\r\n\r\nA search over the JDK17 source code result in a single possible cause for that message: a call to a random generator with an upper bound that is less than zero.\r\n\r\nSince your code doesn&#39;t contain any usage of a random generator it is impossible to say what the problem is.\r\n\r\nMaybe when you include the stacktrace of that exception that could help to pin down the problem.\r\n","title":"Junit tests are failing but my methods seems fine in Java assignment","body":"<p>You add new posts to the end of the <code>listPosts</code>:</p>\n<pre><code>    public Post addPost(String msg) {\n        listPosts.add(new Post(msg));\n        Index++;\n        return new Post(msg);\n    }\n</code></pre>\n<p>That means that the posts are ordered in ascending <code>dateCreation</code> order (i.e. <code>listPosts.get(0)</code> is created first, then <code>listPosts.get(1)</code>, then later posts) and that also means that</p>\n<pre><code>    self.getPost(i).isAfter(self.getPost(i + 1))\n</code></pre>\n<p>can never be true. You either have to change that condition to</p>\n<pre><code>    self.getPost(i).isBefore(self.getPost(i + 1))\n</code></pre>\n<p>or add new posts to the front of the list:</p>\n<pre><code>    public Post addPost(String msg) {\n        listPosts.add(0, new Post(msg));\n        Index++;\n        return new Post(msg);\n    }\n</code></pre>\n<hr />\n<p>Also note that <code>addPost()</code> creates two distinct <code>Post</code> objects which probably is not what you want. You probably want</p>\n<pre><code>    public Post addPost(String msg) {\n        Post post = new Post(msg);\n        listPosts.add(0, post);\n        Index++;\n        return post;\n    }\n</code></pre>\n<hr />\n<p>For the <code>IllegalArgumentException</code> with the message &quot;bound must be positive&quot;:</p>\n<p>A search over the JDK17 source code result in a single possible cause for that message: a call to a random generator with an upper bound that is less than zero.</p>\n<p>Since your code doesn't contain any usage of a random generator it is impossible to say what the problem is.</p>\n<p>Maybe when you include the stacktrace of that exception that could help to pin down the problem.</p>\n"},{"tags":[],"owner":{"account_id":28435122,"reputation":1,"user_id":21755315,"display_name":"Absentia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699118451,"creation_date":1699118451,"answer_id":77423090,"question_id":77379650,"body_markdown":"so recently I was in a meeting with my professor, and showed him this error and here&#39;s the answer\r\nApparently I&#39;m supposed to have 3 indexes instead of one, and that&#39;s what have been messing with th tests causing them to fails\r\nAlas, when I did the changes, the tests were successful\r\n```\r\n\tpublic Post addPost(String msg) {\r\n        Post post = new Post(msg);\r\n        listPosts.add(0, post);\r\n        previousIndex++; //index of the previous post\r\n        nextIndex++;     //index of the next post\r\n        lastIndex++;     //index of the last post visited (or current post)\r\n        return post;\r\n\t}\r\n```\r\nAnd for getPost, it was correct this whole time\r\nI want to thank everyone that participated in helping me solve this issues, and I wish you all a good rest of day\r\nThanks and Goodbye\r\n","title":"Junit tests are failing but my methods seems fine in Java assignment","body":"<p>so recently I was in a meeting with my professor, and showed him this error and here's the answer\nApparently I'm supposed to have 3 indexes instead of one, and that's what have been messing with th tests causing them to fails\nAlas, when I did the changes, the tests were successful</p>\n<pre><code>    public Post addPost(String msg) {\n        Post post = new Post(msg);\n        listPosts.add(0, post);\n        previousIndex++; //index of the previous post\n        nextIndex++;     //index of the next post\n        lastIndex++;     //index of the last post visited (or current post)\n        return post;\n    }\n</code></pre>\n<p>And for getPost, it was correct this whole time\nI want to thank everyone that participated in helping me solve this issues, and I wish you all a good rest of day\nThanks and Goodbye</p>\n"}],"owner":{"account_id":28435122,"reputation":1,"user_id":21755315,"display_name":"Absentia"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77423090,"answer_count":2,"score":0,"last_activity_date":1699118451,"creation_date":1698499413,"question_id":77379650,"body_markdown":"I&#39;m working on an assignement that&#39;s due next week\r\nSo basically I have a class User with the following attributes \r\n\r\n``` lang-java\r\nprivate String userName, password;\r\nprivate final Instant registrationDate;\r\nprivate HashSet&lt;User&gt; setSubs;\r\nprivate ArrayList&lt;Post&gt; listPosts;\r\nprivate int Index;\r\n```\r\n\r\n\r\nThe methods I&#39;m trying to test are\r\n\r\n``` lang-java\r\npublic Post addPost(String msg) {\r\n    Post post = new Post(msg);\r\n    listPosts.add(0, post);\r\n    Index++;\r\n    return post;\r\n}\r\n```\r\nand\r\n``` lang-java  \r\npublic Post getPost(int i) {\r\n    return listPosts.get(i);\r\n}\r\n```\r\nHere&#39;s the class Post attributes\r\n \r\n``` lang-java\r\nprivate final String textPost; \r\nprivate final Instant dateCreation; //this.dateCreation = Instant.now();\r\nprivate HashSet&lt;User&gt; likedUsers;\r\n```\r\n\r\nHere&#39;s the issue I&#39;m facing, when testing the method addPost it gives the error `org.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;`, when looking at the test&#39;s class I noticed that its failing in this bit \r\n\r\n``` lang-java\r\n    for (int i = 0; i &lt; (self.getPostNb() - 1); i++) { //getPostNb() = listPost.size()\r\n\t\tassertTrue(self.getPost(i).isAfter(self.getPost(i + 1)));\r\n\t}\r\n```\r\nAnd for the method getPost it gives the error error `java.lang.IllegalArgumentException: bound must be positive` whithout even running the test \r\n\r\nPlease any advice to fix them?\r\nthanks\r\n   \r\n\r\nI need the Junit tests to all return successful, but only addPost and getPost are failing which made two other methods that uses them to also be aborted\r\n\r\nEdit: \r\nassertInvariant method\r\n\r\n```\r\npublic void assertInvariant(User self) {\r\n    // Put here the code to check the invariant:\r\n\t// @invariant getName() != null &amp;&amp; !getName().isBlank();\r\n\tassertNotNull(self.getName());\r\n\tassertFalse(self.getName().isBlank());\r\n\t// @invariant getPassword() != null &amp;&amp; !getPassword().isBlank();\r\n\tassertNotNull(self.getPassword());\r\n\tassertFalse(self.getPassword().isBlank());\r\n\t// @invariant getRegistrationDate() != null;\r\n\tassertNotNull(self.getRegistrationDate());\r\n\t// @invariant getSubscriptions() != null &amp;&amp; !getSubscriptions().contains(null);\r\n\tassertNotNull(self.getSubscriptions());\r\n\tassertFalse(self.getSubscriptions().contains(null));\r\n\t// @invariant getSubscriptionNb() == getSubscriptions().size();\r\n\tassertEquals(self.getSubscriptionNb(), self.getSubscriptions().size());\r\n\t// @invariant getPosts() != null &amp;&amp; !getPosts().contains(null);\r\n\tassertNotNull(self.getPosts());\r\n\tassertFalse(self.getPosts().contains(null));\r\n\t// @invariant (\\forall int i, j; i &gt;= 0 &amp;&amp; i &lt; j &amp;&amp; j &lt; getPostNb(); getPost(i).isAfter(getPost(j)));\r\n\tfor (int i = 0; i &lt; (self.getPostNb() - 1); i++) {\r\n\t\tassertTrue(self.getPost(i).isAfter(self.getPost(i + 1)));\r\n\t}\r\n\t// @invariant getPostNb() == getPosts().size();\r\n\tassertTrue(self.getPostNb() == self.getPosts().size());\r\n\t// @invariant previousIndex() &gt;= -1 &amp;&amp; previousIndex() &lt; getPosts().size();\r\n\tassertTrue(self.previousIndex() &gt;= -1);\r\n\tassertTrue(self.previousIndex() &lt; self.getPosts().size());\r\n\t// @invariant nextIndex() &gt;= 0 &amp;&amp; nextIndex() &lt;= getPosts().size();\r\n\tassertTrue(self.nextIndex() &gt;= 0);\r\n\tassertTrue(self.nextIndex() &lt;= self.getPosts().size());\r\n\t// @invariant nextIndex() == previousIndex() + 1;\r\n\tassertTrue(self.nextIndex() == self.previousIndex() + 1);\r\n\t// @invariant lastIndex() &gt;= -1 &amp;&amp; lastIndex() &lt; getPosts().size();\r\n\tassertTrue(self.lastIndex() &gt;= -1);\r\n\tassertTrue(self.lastIndex() &lt; self.getPosts().size());\r\n\t// @invariant lastIndex() == previousIndex() || lastIndex() == nextIndex();\r\n\tassertTrue(self.lastIndex() == self.previousIndex() || self.lastIndex() == self.nextIndex());\r\n}\r\n```\r\n\r\nTest method for addPost\r\n\r\n``` lang-java\r\n@ParameterizedTest\r\n@MethodSource(&quot;userAndStringProvider&quot;)\r\npublic void testaddPost(User self, String msg) {\r\n\tassumeTrue(self != null);\r\n\r\n\t// Invariant:\r\n\tassertInvariant(self);\r\n\r\n\t// Pr&#233;-conditions:\r\n\t// @requires msg != null;\r\n\tassumeTrue(msg != null);\r\n\r\n\t// Oldies:\r\n\tInstant oldDate = Instant.now();\r\n\t// Wait until oldDate is really old:\r\n\tArrayList&lt;User&gt; list = new ArrayList&lt;User&gt;(1);\r\n\twhile (!oldDate.isBefore(Instant.now())) {\r\n\t\tlist.add(self);\r\n\t}\r\n\t// old in:@ensures getPostNb() == \\old(getPostNb()) + 1;\r\n\tint oldPostNb = self.getPostNb();\r\n\t// @ensures \\old(lastIndex() &gt;= 0) ==&gt; nextIndex() == \\old(nextIndex() + 1);\r\n\tint oldNextIndex = self.nextIndex();\r\n\t// @ensures \\old(lastIndex() &gt;= 0) ==&gt; previousIndex() == \\old(previousIndex() + 1);\r\n\tint oldPrevIndex = self.previousIndex();\r\n\t// @ensures \\old(lastIndex() &gt;= 0) ==&gt; lastIndex() == \\old(lastIndex() + 1);\r\n\tint oldLastIndex = self.lastIndex();\r\n\r\n\t// Ex&#233;cution:\r\n\tPost result = self.addPost(msg);\r\n\r\n\t// Wait until exec date is really old:\r\n\tInstant execDate = Instant.now();\r\n\twhile (!execDate.isBefore(Instant.now())) {\r\n\t\tlist.add(null);\r\n\t}\r\n\tlist = null;\r\n\t// Post-conditions:\r\n\t// @ensures getPost(0).equals(\\result);\r\n\tassertEquals(self.getPost(0), result);\r\n\t// @ensures \\result.getText().equals(msg);\r\n\tassertEquals(msg, result.getText());\r\n\t// @ensures getPostNb() == \\old(getPostNb()) + 1;\r\n\tassertEquals(oldPostNb + 1, self.getPostNb());\r\n\t// @ensures oldDate.isBefore(\\result.getDate());\r\n\tassertTrue(oldDate.isBefore(result.getDate()));\r\n\t// @ensures \\result.getDate().isBefore(Instant.now());\r\n\tassertTrue(result.getDate().isBefore(Instant.now()));\r\n\tif (oldLastIndex &gt;= 0) {\r\n\t// @ensures \\old(lastIndex() &gt;= 0) ==&gt; nextIndex() == \\old(nextIndex() + 1);\r\n\t\tassertEquals(oldNextIndex + 1, self.nextIndex());\r\n\t\t// @ensures \\old(lastIndex() &gt;= 0) ==&gt; previousIndex() == \\old(previousIndex() + 1);\r\n\t\tassertEquals(oldPrevIndex + 1, self.previousIndex());\r\n\t\t// @ensures \\old(lastIndex() &gt;= 0) ==&gt; lastIndex() == \\old(lastIndex() + 1);\r\n\t\tassertEquals(oldLastIndex + 1, self.lastIndex());\r\n\t} else {\r\n\t\t// @ensures \\old(lastIndex() == -1) ==&gt; nextIndex() == \\old(nextIndex());\r\n\t\tassertEquals(oldNextIndex, self.nextIndex());\r\n\t\t// @ensures \\old(lastIndex() == -1) ==&gt; previousIndex() == \\old(previousIndex());\r\n\t\tassertEquals(oldPrevIndex, self.previousIndex());\r\n\t\t// @ensures \\old(lastIndex() == -1) ==&gt; lastIndex() == \\old(lastIndex());\r\n\t\tassertEquals(oldLastIndex, self.lastIndex());\r\n\t}\r\n\r\n\t// Invariant:\r\n\tassertInvariant(self);\r\n}\r\n```\r\nTest method for getPost\r\n\r\n``` lang-java\r\npublic void testgetPost(User self, int i) {\r\n\tassumeTrue(self != null);\r\n\r\n    // Invariant:\r\n\tassertInvariant(self);\r\n\r\n\t// Pr&#233;-conditions:\r\n\t// @requires i &gt;= 0 &amp;&amp; i &lt; getPostNb();\r\n\tassumeTrue(i &gt;= 0 &amp;&amp; i &lt; self.getPostNb());\r\n\r\n\t// Save state for purity check:\r\n\tsaveState(self);\r\n\r\n\t// Oldies:\r\n\r\n\t// Ex&#233;cution:\r\n\tPost result = self.getPost(i);\r\n\r\n\t// Post-conditions:\r\n\t// @ensures \\result.equals(getPosts().get(i));\r\n\tassertEquals(self.getPosts().get(i), result);\r\n\r\n\t// Assert purity:\r\n\tassertPurity(self);\r\n\r\n\t// Invariant:\r\n\tassertInvariant(self);\r\n}\r\n```    \r\n\r\nisAfter/isBefore method\r\n\r\n``` lang-java\r\npublic boolean isAfter(Post p) {\r\n    return getDate().isAfter(p.getDate()); //getDate().isBefore(p.getDate())\r\n}\r\n```\r\nPS. I shouldn&#39;t be changing the test methods\r\n\r\nUPDATE: the test data is provided by\r\n``` lang-java\r\npublic static Stream&lt;Arguments&gt; userAndStringProvider() {\r\n    return Stream\r\n            .generate(() -&gt; Arguments.of(userSupplier(), stringSupplier()))\r\n            .limit(LG_STREAM);\r\n}\r\n\r\npublic static List&lt;User&gt; allUser() {\r\n    return Collections.unmodifiableList(allUsers);\r\n}\r\n\r\npublic static User userSupplier() {\r\n    return getRandomElt(allUsers);\r\n}\r\n\r\npublic static &lt;T&gt; T getRandomElt(Collection&lt;T&gt; c) {\r\n    int index = randInt(c.size());\r\n    if (c instanceof List&lt;?&gt;) {\r\n        return ((List&lt;T&gt;) c).get(index);\r\n    }\r\n    int i = 0;\r\n    for (T elt : c) {\r\n        if (i == index) {\r\n            return elt;\r\n        }\r\n        i++;\r\n    }\r\n    throw new NoSuchElementException();\r\n}\r\n```","title":"Junit tests are failing but my methods seems fine in Java assignment","body":"<p>I'm working on an assignement that's due next week\nSo basically I have a class User with the following attributes</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String userName, password;\nprivate final Instant registrationDate;\nprivate HashSet&lt;User&gt; setSubs;\nprivate ArrayList&lt;Post&gt; listPosts;\nprivate int Index;\n</code></pre>\n<p>The methods I'm trying to test are</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Post addPost(String msg) {\n    Post post = new Post(msg);\n    listPosts.add(0, post);\n    Index++;\n    return post;\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Post getPost(int i) {\n    return listPosts.get(i);\n}\n</code></pre>\n<p>Here's the class Post attributes</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final String textPost; \nprivate final Instant dateCreation; //this.dateCreation = Instant.now();\nprivate HashSet&lt;User&gt; likedUsers;\n</code></pre>\n<p>Here's the issue I'm facing, when testing the method addPost it gives the error <code>org.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;</code>, when looking at the test's class I noticed that its failing in this bit</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; (self.getPostNb() - 1); i++) { //getPostNb() = listPost.size()\n        assertTrue(self.getPost(i).isAfter(self.getPost(i + 1)));\n    }\n</code></pre>\n<p>And for the method getPost it gives the error error <code>java.lang.IllegalArgumentException: bound must be positive</code> whithout even running the test</p>\n<p>Please any advice to fix them?\nthanks</p>\n<p>I need the Junit tests to all return successful, but only addPost and getPost are failing which made two other methods that uses them to also be aborted</p>\n<p>Edit:\nassertInvariant method</p>\n<pre><code>public void assertInvariant(User self) {\n    // Put here the code to check the invariant:\n    // @invariant getName() != null &amp;&amp; !getName().isBlank();\n    assertNotNull(self.getName());\n    assertFalse(self.getName().isBlank());\n    // @invariant getPassword() != null &amp;&amp; !getPassword().isBlank();\n    assertNotNull(self.getPassword());\n    assertFalse(self.getPassword().isBlank());\n    // @invariant getRegistrationDate() != null;\n    assertNotNull(self.getRegistrationDate());\n    // @invariant getSubscriptions() != null &amp;&amp; !getSubscriptions().contains(null);\n    assertNotNull(self.getSubscriptions());\n    assertFalse(self.getSubscriptions().contains(null));\n    // @invariant getSubscriptionNb() == getSubscriptions().size();\n    assertEquals(self.getSubscriptionNb(), self.getSubscriptions().size());\n    // @invariant getPosts() != null &amp;&amp; !getPosts().contains(null);\n    assertNotNull(self.getPosts());\n    assertFalse(self.getPosts().contains(null));\n    // @invariant (\\forall int i, j; i &gt;= 0 &amp;&amp; i &lt; j &amp;&amp; j &lt; getPostNb(); getPost(i).isAfter(getPost(j)));\n    for (int i = 0; i &lt; (self.getPostNb() - 1); i++) {\n        assertTrue(self.getPost(i).isAfter(self.getPost(i + 1)));\n    }\n    // @invariant getPostNb() == getPosts().size();\n    assertTrue(self.getPostNb() == self.getPosts().size());\n    // @invariant previousIndex() &gt;= -1 &amp;&amp; previousIndex() &lt; getPosts().size();\n    assertTrue(self.previousIndex() &gt;= -1);\n    assertTrue(self.previousIndex() &lt; self.getPosts().size());\n    // @invariant nextIndex() &gt;= 0 &amp;&amp; nextIndex() &lt;= getPosts().size();\n    assertTrue(self.nextIndex() &gt;= 0);\n    assertTrue(self.nextIndex() &lt;= self.getPosts().size());\n    // @invariant nextIndex() == previousIndex() + 1;\n    assertTrue(self.nextIndex() == self.previousIndex() + 1);\n    // @invariant lastIndex() &gt;= -1 &amp;&amp; lastIndex() &lt; getPosts().size();\n    assertTrue(self.lastIndex() &gt;= -1);\n    assertTrue(self.lastIndex() &lt; self.getPosts().size());\n    // @invariant lastIndex() == previousIndex() || lastIndex() == nextIndex();\n    assertTrue(self.lastIndex() == self.previousIndex() || self.lastIndex() == self.nextIndex());\n}\n</code></pre>\n<p>Test method for addPost</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;userAndStringProvider&quot;)\npublic void testaddPost(User self, String msg) {\n    assumeTrue(self != null);\n\n    // Invariant:\n    assertInvariant(self);\n\n    // Pré-conditions:\n    // @requires msg != null;\n    assumeTrue(msg != null);\n\n    // Oldies:\n    Instant oldDate = Instant.now();\n    // Wait until oldDate is really old:\n    ArrayList&lt;User&gt; list = new ArrayList&lt;User&gt;(1);\n    while (!oldDate.isBefore(Instant.now())) {\n        list.add(self);\n    }\n    // old in:@ensures getPostNb() == \\old(getPostNb()) + 1;\n    int oldPostNb = self.getPostNb();\n    // @ensures \\old(lastIndex() &gt;= 0) ==&gt; nextIndex() == \\old(nextIndex() + 1);\n    int oldNextIndex = self.nextIndex();\n    // @ensures \\old(lastIndex() &gt;= 0) ==&gt; previousIndex() == \\old(previousIndex() + 1);\n    int oldPrevIndex = self.previousIndex();\n    // @ensures \\old(lastIndex() &gt;= 0) ==&gt; lastIndex() == \\old(lastIndex() + 1);\n    int oldLastIndex = self.lastIndex();\n\n    // Exécution:\n    Post result = self.addPost(msg);\n\n    // Wait until exec date is really old:\n    Instant execDate = Instant.now();\n    while (!execDate.isBefore(Instant.now())) {\n        list.add(null);\n    }\n    list = null;\n    // Post-conditions:\n    // @ensures getPost(0).equals(\\result);\n    assertEquals(self.getPost(0), result);\n    // @ensures \\result.getText().equals(msg);\n    assertEquals(msg, result.getText());\n    // @ensures getPostNb() == \\old(getPostNb()) + 1;\n    assertEquals(oldPostNb + 1, self.getPostNb());\n    // @ensures oldDate.isBefore(\\result.getDate());\n    assertTrue(oldDate.isBefore(result.getDate()));\n    // @ensures \\result.getDate().isBefore(Instant.now());\n    assertTrue(result.getDate().isBefore(Instant.now()));\n    if (oldLastIndex &gt;= 0) {\n    // @ensures \\old(lastIndex() &gt;= 0) ==&gt; nextIndex() == \\old(nextIndex() + 1);\n        assertEquals(oldNextIndex + 1, self.nextIndex());\n        // @ensures \\old(lastIndex() &gt;= 0) ==&gt; previousIndex() == \\old(previousIndex() + 1);\n        assertEquals(oldPrevIndex + 1, self.previousIndex());\n        // @ensures \\old(lastIndex() &gt;= 0) ==&gt; lastIndex() == \\old(lastIndex() + 1);\n        assertEquals(oldLastIndex + 1, self.lastIndex());\n    } else {\n        // @ensures \\old(lastIndex() == -1) ==&gt; nextIndex() == \\old(nextIndex());\n        assertEquals(oldNextIndex, self.nextIndex());\n        // @ensures \\old(lastIndex() == -1) ==&gt; previousIndex() == \\old(previousIndex());\n        assertEquals(oldPrevIndex, self.previousIndex());\n        // @ensures \\old(lastIndex() == -1) ==&gt; lastIndex() == \\old(lastIndex());\n        assertEquals(oldLastIndex, self.lastIndex());\n    }\n\n    // Invariant:\n    assertInvariant(self);\n}\n</code></pre>\n<p>Test method for getPost</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void testgetPost(User self, int i) {\n    assumeTrue(self != null);\n\n    // Invariant:\n    assertInvariant(self);\n\n    // Pré-conditions:\n    // @requires i &gt;= 0 &amp;&amp; i &lt; getPostNb();\n    assumeTrue(i &gt;= 0 &amp;&amp; i &lt; self.getPostNb());\n\n    // Save state for purity check:\n    saveState(self);\n\n    // Oldies:\n\n    // Exécution:\n    Post result = self.getPost(i);\n\n    // Post-conditions:\n    // @ensures \\result.equals(getPosts().get(i));\n    assertEquals(self.getPosts().get(i), result);\n\n    // Assert purity:\n    assertPurity(self);\n\n    // Invariant:\n    assertInvariant(self);\n}\n</code></pre>\n<p>isAfter/isBefore method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isAfter(Post p) {\n    return getDate().isAfter(p.getDate()); //getDate().isBefore(p.getDate())\n}\n</code></pre>\n<p>PS. I shouldn't be changing the test methods</p>\n<p>UPDATE: the test data is provided by</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stream&lt;Arguments&gt; userAndStringProvider() {\n    return Stream\n            .generate(() -&gt; Arguments.of(userSupplier(), stringSupplier()))\n            .limit(LG_STREAM);\n}\n\npublic static List&lt;User&gt; allUser() {\n    return Collections.unmodifiableList(allUsers);\n}\n\npublic static User userSupplier() {\n    return getRandomElt(allUsers);\n}\n\npublic static &lt;T&gt; T getRandomElt(Collection&lt;T&gt; c) {\n    int index = randInt(c.size());\n    if (c instanceof List&lt;?&gt;) {\n        return ((List&lt;T&gt;) c).get(index);\n    }\n    int i = 0;\n    for (T elt : c) {\n        if (i == index) {\n            return elt;\n        }\n        i++;\n    }\n    throw new NoSuchElementException();\n}\n</code></pre>\n"},{"tags":["java","gradle","jdbc","h2"],"answers":[{"tags":[],"owner":{"account_id":28638921,"reputation":15,"user_id":21928458,"display_name":"hounan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699118170,"creation_date":1699117736,"answer_id":77423045,"question_id":77422906,"body_markdown":"if i change it to DB_URL to, ./graldew build works, i guess it might because jdbc:h2:mem:db is used for an in-memory database that exists only for the duration of your application&#39;s runtime\r\n```\r\nprivate static final String DB_URL = &quot;jdbc:h2:~/test;MODE=POSTGRESQL&quot;;\r\n```","title":"h2 connection test failed when run ./gradlew build","body":"<p>if i change it to DB_URL to, ./graldew build works, i guess it might because jdbc:h2:mem:db is used for an in-memory database that exists only for the duration of your application's runtime</p>\n<pre><code>private static final String DB_URL = &quot;jdbc:h2:~/test;MODE=POSTGRESQL&quot;;\n</code></pre>\n"}],"owner":{"account_id":28638921,"reputation":15,"user_id":21928458,"display_name":"hounan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699118170,"creation_date":1699115455,"question_id":77422906,"body_markdown":"I got JdbcSQLInvalidAuthorizationSpecException when run ./gradlew build \r\nIf i click the run button from intellij, my tests passed.\r\n```\r\nUserDaoJdbcImpTest &gt; initializationError FAILED\r\n    java.lang.RuntimeException at UserDaoJdbcImpTest.java:52\r\n        Caused by: org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException at UserDaoJdbcImpTest.java:32\r\n\r\n```\r\n\r\n```\r\nprivate static final String DB_URL = &quot;jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=POSTGRESQL&quot;;\r\n    private static final String USER = &quot;sa&quot;;\r\n    private static final String PASSWORD = &quot;&quot;;\r\n    private UserDaoJdbc userDaoJdbc;\r\n    private static final String TABLE_NAME = &quot;user_details&quot;;\r\n\r\n    @BeforeAll\r\n    public static void setUpDatabase() throws ClassNotFoundException {\r\n        Class.forName(&quot;org.h2.Driver&quot;);\r\n        try(Connection connection = DriverManager.getConnection(DB_URL, USER, PASSWORD);\r\n            Statement statement = connection.createStatement()) {\r\n\r\n            // setup user_details table\r\n            ;\r\n\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```","title":"h2 connection test failed when run ./gradlew build","body":"<p>I got JdbcSQLInvalidAuthorizationSpecException when run ./gradlew build\nIf i click the run button from intellij, my tests passed.</p>\n<pre><code>UserDaoJdbcImpTest &gt; initializationError FAILED\n    java.lang.RuntimeException at UserDaoJdbcImpTest.java:52\n        Caused by: org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException at UserDaoJdbcImpTest.java:32\n\n</code></pre>\n<pre><code>private static final String DB_URL = &quot;jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=POSTGRESQL&quot;;\n    private static final String USER = &quot;sa&quot;;\n    private static final String PASSWORD = &quot;&quot;;\n    private UserDaoJdbc userDaoJdbc;\n    private static final String TABLE_NAME = &quot;user_details&quot;;\n\n    @BeforeAll\n    public static void setUpDatabase() throws ClassNotFoundException {\n        Class.forName(&quot;org.h2.Driver&quot;);\n        try(Connection connection = DriverManager.getConnection(DB_URL, USER, PASSWORD);\n            Statement statement = connection.createStatement()) {\n\n            // setup user_details table\n            ;\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1699026299,"post_id":77417947,"comment_id":136483323,"body_markdown":"There aren&#39;t many (12 or something, if you want to include the overseas territories?), just list them out by hand.","body":"There aren&#39;t many (12 or something, if you want to include the overseas territories?), just list them out by hand."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1699026575,"post_id":77417947,"comment_id":136483388,"body_markdown":"@AndyTurner I count 29 for the US alone (https://en.wikipedia.org/wiki/List_of_tz_database_time_zones, sort by Country Code, ignore the links)","body":"@AndyTurner I count 29 for the US alone (<a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>, sort by Country Code, ignore the links)"},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1699026746,"post_id":77417947,"comment_id":136483423,"body_markdown":"@S&#246;ren according to https://en.wikipedia.org/wiki/Time_in_the_United_States, there are 11 defined by 15 USC 260.","body":"@S&#246;ren according to <a href=\"https://en.wikipedia.org/wiki/Time_in_the_United_States\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Time_in_the_United_States</a>, there are 11 defined by 15 USC 260."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1699027046,"post_id":77417947,"comment_id":136483498,"body_markdown":"@AndyTurner That&#39;s current time zones. The time zone database (which is used by Java) also includes historical differences.","body":"@AndyTurner That&#39;s current time zones. The time zone database (which is used by Java) also includes historical differences."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1699027643,"post_id":77417947,"comment_id":136483640,"body_markdown":"`TimeZone` is a legacy class, years ago supplanted by the modern *java.time* classes, defined in JSR 310, and built into Java 8+. Instead use `java.time.ZoneId` and`ZoneOffset`. For Java 6 &amp; 7, use the ThreeTen-Backport library.","body":"<code>TimeZone</code> is a legacy class, years ago supplanted by the modern <i>java.time</i> classes, defined in JSR 310, and built into Java 8+. Instead use <code>java.time.ZoneId</code> and<code>ZoneOffset</code>. For Java 6 &amp; 7, use the ThreeTen-Backport library."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699036686,"creation_date":1699031151,"answer_id":77418513,"question_id":77417947,"body_markdown":"&gt; _&quot;... I can filter these on whether they include &#39;America&#39; or &#39;Canada&#39;, but this includes a number of time zones that are not applicable for my application.&quot;_\r\n\r\nYou&#39;ll need to continue the filter; what time-zones are not applicable?\r\n\r\nHere is the _Wikipedia_ article on the _&quot;timezone&quot; database_.\\\r\n_[Wikipedia &amp;ndash; Tz_database](https://en.wikipedia.org/wiki/Tz_database)_.\r\n\r\nAdditionally, if you&#39;re using a _Unix_ system, you can typically find the _database_ in the _`/usr/share/zoneinfo/`_ folder.\r\n\r\nAnd, here is a high-resolution image of the _time-zone_ areas.\\\r\n_[Wikimedia &amp;ndash; World_Time_Zones_Map.png](https://upload.wikimedia.org/wikipedia/commons/8/88/World_Time_Zones_Map.png)_.\r\n\r\nYou can try filtering by the _offset_ value, if this improves the precision.\r\n\r\n```java\r\nStream.of(TimeZone.getAvailableIDs())\r\n      .filter(x -&gt; {\r\n          int v = TimeZone.getTimeZone(x).getRawOffset();\r\n          return v &gt;= -9 * 3_600_000 &amp;&amp; v &lt;= -5 * 3_600_000;\r\n      });\r\n```\r\n\r\nHere is a sorted output.\r\n\r\n```none\r\nAST\r\nAmerica/Anchorage\r\nAmerica/Atikokan\r\nAmerica/Bahia_Banderas\r\nAmerica/Belize\r\nAmerica/Bogota\r\nAmerica/Boise\r\nAmerica/Cambridge_Bay\r\nAmerica/Cancun\r\nAmerica/Cayman\r\nAmerica/Chicago\r\nAmerica/Chihuahua\r\nAmerica/Ciudad_Juarez\r\nAmerica/Coral_Harbour\r\nAmerica/Costa_Rica\r\nAmerica/Creston\r\nAmerica/Dawson\r\nAmerica/Dawson_Creek\r\nAmerica/Denver\r\nAmerica/Detroit\r\nAmerica/Edmonton\r\nAmerica/Eirunepe\r\nAmerica/El_Salvador\r\nAmerica/Ensenada\r\nAmerica/Fort_Nelson\r\nAmerica/Fort_Wayne\r\nAmerica/Grand_Turk\r\nAmerica/Guatemala\r\nAmerica/Guayaquil\r\nAmerica/Havana\r\nAmerica/Hermosillo\r\nAmerica/Indiana/Indianapolis\r\nAmerica/Indiana/Knox\r\nAmerica/Indiana/Marengo\r\nAmerica/Indiana/Petersburg\r\nAmerica/Indiana/Tell_City\r\nAmerica/Indiana/Vevay\r\nAmerica/Indiana/Vincennes\r\nAmerica/Indiana/Winamac\r\nAmerica/Indianapolis\r\nAmerica/Inuvik\r\nAmerica/Iqaluit\r\nAmerica/Jamaica\r\nAmerica/Juneau\r\nAmerica/Kentucky/Louisville\r\nAmerica/Kentucky/Monticello\r\nAmerica/Knox_IN\r\nAmerica/Lima\r\nAmerica/Los_Angeles\r\nAmerica/Louisville\r\nAmerica/Managua\r\nAmerica/Matamoros\r\nAmerica/Mazatlan\r\nAmerica/Menominee\r\nAmerica/Merida\r\nAmerica/Metlakatla\r\nAmerica/Mexico_City\r\nAmerica/Monterrey\r\nAmerica/Montreal\r\nAmerica/Nassau\r\nAmerica/New_York\r\nAmerica/Nipigon\r\nAmerica/Nome\r\nAmerica/North_Dakota/Beulah\r\nAmerica/North_Dakota/Center\r\nAmerica/North_Dakota/New_Salem\r\nAmerica/Ojinaga\r\nAmerica/Panama\r\nAmerica/Pangnirtung\r\nAmerica/Phoenix\r\nAmerica/Port-au-Prince\r\nAmerica/Porto_Acre\r\nAmerica/Rainy_River\r\nAmerica/Rankin_Inlet\r\nAmerica/Regina\r\nAmerica/Resolute\r\nAmerica/Rio_Branco\r\nAmerica/Santa_Isabel\r\nAmerica/Shiprock\r\nAmerica/Sitka\r\nAmerica/Swift_Current\r\nAmerica/Tegucigalpa\r\nAmerica/Thunder_Bay\r\nAmerica/Tijuana\r\nAmerica/Toronto\r\nAmerica/Vancouver\r\nAmerica/Whitehorse\r\nAmerica/Winnipeg\r\nAmerica/Yakutat\r\nAmerica/Yellowknife\r\nBrazil/Acre\r\nCST\r\nCST6CDT\r\nCanada/Central\r\nCanada/Eastern\r\nCanada/Mountain\r\nCanada/Pacific\r\nCanada/Saskatchewan\r\nCanada/Yukon\r\nChile/EasterIsland\r\nCuba\r\nEST\r\nEST5EDT\r\nEtc/GMT+5\r\nEtc/GMT+6\r\nEtc/GMT+7\r\nEtc/GMT+8\r\nEtc/GMT+9\r\nIET\r\nJamaica\r\nMST\r\nMST7MDT\r\nMexico/BajaNorte\r\nMexico/BajaSur\r\nMexico/General\r\nNavajo\r\nPNT\r\nPST\r\nPST8PDT\r\nPacific/Easter\r\nPacific/Galapagos\r\nPacific/Gambier\r\nPacific/Pitcairn\r\nSystemV/CST6\r\nSystemV/CST6CDT\r\nSystemV/EST5\r\nSystemV/EST5EDT\r\nSystemV/MST7\r\nSystemV/MST7MDT\r\nSystemV/PST8\r\nSystemV/PST8PDT\r\nSystemV/YST9\r\nSystemV/YST9YDT\r\nUS/Alaska\r\nUS/Arizona\r\nUS/Central\r\nUS/East-Indiana\r\nUS/Eastern\r\nUS/Indiana-Starke\r\nUS/Michigan\r\nUS/Mountain\r\nUS/Pacific\r\n```","title":"Java Timezones - Get Timezones in US or Canada","body":"<blockquote>\n<p><em>&quot;... I can filter these on whether they include 'America' or 'Canada', but this includes a number of time zones that are not applicable for my application.&quot;</em></p>\n</blockquote>\n<p>You'll need to continue the filter; what time-zones are not applicable?</p>\n<p>Here is the <em>Wikipedia</em> article on the <em>&quot;timezone&quot; database</em>.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\">Wikipedia – Tz_database</a></em>.</p>\n<p>Additionally, if you're using a <em>Unix</em> system, you can typically find the <em>database</em> in the <em><code>/usr/share/zoneinfo/</code></em> folder.</p>\n<p>And, here is a high-resolution image of the <em>time-zone</em> areas.<br />\n<em><a href=\"https://upload.wikimedia.org/wikipedia/commons/8/88/World_Time_Zones_Map.png\" rel=\"nofollow noreferrer\">Wikimedia – World_Time_Zones_Map.png</a></em>.</p>\n<p>You can try filtering by the <em>offset</em> value, if this improves the precision.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(TimeZone.getAvailableIDs())\n      .filter(x -&gt; {\n          int v = TimeZone.getTimeZone(x).getRawOffset();\n          return v &gt;= -9 * 3_600_000 &amp;&amp; v &lt;= -5 * 3_600_000;\n      });\n</code></pre>\n<p>Here is a sorted output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>AST\nAmerica/Anchorage\nAmerica/Atikokan\nAmerica/Bahia_Banderas\nAmerica/Belize\nAmerica/Bogota\nAmerica/Boise\nAmerica/Cambridge_Bay\nAmerica/Cancun\nAmerica/Cayman\nAmerica/Chicago\nAmerica/Chihuahua\nAmerica/Ciudad_Juarez\nAmerica/Coral_Harbour\nAmerica/Costa_Rica\nAmerica/Creston\nAmerica/Dawson\nAmerica/Dawson_Creek\nAmerica/Denver\nAmerica/Detroit\nAmerica/Edmonton\nAmerica/Eirunepe\nAmerica/El_Salvador\nAmerica/Ensenada\nAmerica/Fort_Nelson\nAmerica/Fort_Wayne\nAmerica/Grand_Turk\nAmerica/Guatemala\nAmerica/Guayaquil\nAmerica/Havana\nAmerica/Hermosillo\nAmerica/Indiana/Indianapolis\nAmerica/Indiana/Knox\nAmerica/Indiana/Marengo\nAmerica/Indiana/Petersburg\nAmerica/Indiana/Tell_City\nAmerica/Indiana/Vevay\nAmerica/Indiana/Vincennes\nAmerica/Indiana/Winamac\nAmerica/Indianapolis\nAmerica/Inuvik\nAmerica/Iqaluit\nAmerica/Jamaica\nAmerica/Juneau\nAmerica/Kentucky/Louisville\nAmerica/Kentucky/Monticello\nAmerica/Knox_IN\nAmerica/Lima\nAmerica/Los_Angeles\nAmerica/Louisville\nAmerica/Managua\nAmerica/Matamoros\nAmerica/Mazatlan\nAmerica/Menominee\nAmerica/Merida\nAmerica/Metlakatla\nAmerica/Mexico_City\nAmerica/Monterrey\nAmerica/Montreal\nAmerica/Nassau\nAmerica/New_York\nAmerica/Nipigon\nAmerica/Nome\nAmerica/North_Dakota/Beulah\nAmerica/North_Dakota/Center\nAmerica/North_Dakota/New_Salem\nAmerica/Ojinaga\nAmerica/Panama\nAmerica/Pangnirtung\nAmerica/Phoenix\nAmerica/Port-au-Prince\nAmerica/Porto_Acre\nAmerica/Rainy_River\nAmerica/Rankin_Inlet\nAmerica/Regina\nAmerica/Resolute\nAmerica/Rio_Branco\nAmerica/Santa_Isabel\nAmerica/Shiprock\nAmerica/Sitka\nAmerica/Swift_Current\nAmerica/Tegucigalpa\nAmerica/Thunder_Bay\nAmerica/Tijuana\nAmerica/Toronto\nAmerica/Vancouver\nAmerica/Whitehorse\nAmerica/Winnipeg\nAmerica/Yakutat\nAmerica/Yellowknife\nBrazil/Acre\nCST\nCST6CDT\nCanada/Central\nCanada/Eastern\nCanada/Mountain\nCanada/Pacific\nCanada/Saskatchewan\nCanada/Yukon\nChile/EasterIsland\nCuba\nEST\nEST5EDT\nEtc/GMT+5\nEtc/GMT+6\nEtc/GMT+7\nEtc/GMT+8\nEtc/GMT+9\nIET\nJamaica\nMST\nMST7MDT\nMexico/BajaNorte\nMexico/BajaSur\nMexico/General\nNavajo\nPNT\nPST\nPST8PDT\nPacific/Easter\nPacific/Galapagos\nPacific/Gambier\nPacific/Pitcairn\nSystemV/CST6\nSystemV/CST6CDT\nSystemV/EST5\nSystemV/EST5EDT\nSystemV/MST7\nSystemV/MST7MDT\nSystemV/PST8\nSystemV/PST8PDT\nSystemV/YST9\nSystemV/YST9YDT\nUS/Alaska\nUS/Arizona\nUS/Central\nUS/East-Indiana\nUS/Eastern\nUS/Indiana-Starke\nUS/Michigan\nUS/Mountain\nUS/Pacific\n</code></pre>\n"}],"owner":{"account_id":20854479,"reputation":21,"user_id":15318182,"display_name":"AJS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699117546,"creation_date":1699025641,"question_id":77417947,"body_markdown":"Is there any way to filter out the TimeZoneIDs to only include time zones associated with the United States or Canada?\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\r\n\r\nI am returning all available IDs using TimeZone.getAvailableIDs(). I can filter these on whether they include &#39;America&#39; or &#39;Canada&#39;, but this includes a number of time zones that are not applicable for my application.","title":"Java Timezones - Get Timezones in US or Canada","body":"<p>Is there any way to filter out the TimeZoneIDs to only include time zones associated with the United States or Canada?</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html</a></p>\n<p>I am returning all available IDs using TimeZone.getAvailableIDs(). I can filter these on whether they include 'America' or 'Canada', but this includes a number of time zones that are not applicable for my application.</p>\n"},{"tags":["java","android","android-studio","bluetooth"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1698481082,"post_id":77378035,"comment_id":136413475,"body_markdown":"In the cases where you&#39;ve determined that you need to ask for permission or ask the user to enable Bluetooth, you must wait for the respective callbacks (`onRequestPermissionResult`, `onActivityResult`) before you do `startDiscovery` or any such calls. Also, you only seem to ask for `permission.BLUETOOTH_CONNECT`, but `startDiscovery` requires `permission.BLUETOOTH_SCAN`.","body":"In the cases where you&#39;ve determined that you need to ask for permission or ask the user to enable Bluetooth, you must wait for the respective callbacks (<code>onRequestPermissionResult</code>, <code>onActivityResult</code>) before you do <code>startDiscovery</code> or any such calls. Also, you only seem to ask for <code>permission.BLUETOOTH_CONNECT</code>, but <code>startDiscovery</code> requires <code>permission.BLUETOOTH_SCAN</code>."}],"owner":{"account_id":25585400,"reputation":31,"user_id":19363240,"display_name":"yolopoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699117173,"creation_date":1698467350,"question_id":77378035,"body_markdown":"I am trying to search for bluetooth device in Android. I am following the tutorial in [this page][1]. I test by printing log but it can only print 1 but not 2. It means it cannot enter the `BroadcastReceiver`. I tried to move the receiver inside `registerReceiver` with calling function but it does not work. May I ask why?\r\n\r\n    public class ScanList extends AppCompatActivity {\r\n\r\n    BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    BroadcastReceiver mReceiver;\r\n    int REQUEST_ENABLE_BT = 1;\r\n    ArrayAdapter&lt;String&gt; mArrayAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scan_list);\r\n\r\n\r\n        if (mBluetoothAdapter != null) {\r\n            if (!mBluetoothAdapter.isEnabled()) {\r\n                Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                if (ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(\r\n                            this,\r\n                            new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_ENABLE_BT\r\n                    );\r\n                }\r\n                startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n            }\r\n        }\r\n\r\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n        registerReceiver(receiver, filter);\r\n        mBluetoothAdapter.startDiscovery();\r\n        Log.i(&quot;devi&quot;, &quot;1&quot;);   // can only print this line\r\n    }\r\n\r\n    // Create a BroadcastReceiver for ACTION_FOUND.\r\n    private BroadcastReceiver receiver = new BroadcastReceiver() {\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.i(&quot;devi&quot;, &quot;2&quot;);\r\n            String action = intent.getAction();\r\n\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n                // Discovery has found a device. Get the BluetoothDevice\r\n                // object and its info from the Intent.\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                if (ActivityCompat.checkSelfPermission(ScanList.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(\r\n                            ScanList.this,\r\n                            new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_ENABLE_BT\r\n                    );\r\n                }\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress(); // MAC address\r\n                Log.i(&quot;devi&quot;, deviceName);\r\n                Log.i(&quot;devi&quot;, deviceHardwareAddress);\r\n\r\n\r\n                Intent reintent = new Intent(ScanList.this, MainActivity.class);\r\n                Bundle extras = new Bundle();\r\n                extras.putString(&quot;name&quot;,deviceName);\r\n                extras.putString(&quot;address&quot;,deviceHardwareAddress);\r\n                reintent.putExtras(extras);\r\n                startActivity(reintent);\r\n                finish();\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        unregisterReceiver(receiver);\r\n    }\r\n    }\r\n\r\n\r\n**Edit**\r\n\r\nI can get device now by adding\r\n\r\n    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(\r\n                                MainActivity.this,\r\n                                new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 1001\r\n                    );\r\n\r\n         }\r\nin front of `mBluetoothAdapter.startDiscovery();` and `String deviceName = device.getName();`.  However, it is very unstable that clicking scan is not a must to enter `BroadcastReceiver`. Also, it crash when enter `BroadcastReceiver`. It said\r\n\r\n&gt; Bluetooth keeps stopping\r\n\r\nBluetooth is my app name. How can I solve this?\r\n\r\n**Edit2**\r\n\r\nI have solved it. The problem is that not every device has a name. If it scans a device without name and shows in logcat, it gives null and crash. To solve it just add if statement and check whether `getName` is null.\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/bluetooth#java","title":"Android bluetooth cannot enter BroadcastReceiver","body":"<p>I am trying to search for bluetooth device in Android. I am following the tutorial in <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth#java\" rel=\"nofollow noreferrer\">this page</a>. I test by printing log but it can only print 1 but not 2. It means it cannot enter the <code>BroadcastReceiver</code>. I tried to move the receiver inside <code>registerReceiver</code> with calling function but it does not work. May I ask why?</p>\n<pre><code>public class ScanList extends AppCompatActivity {\n\nBluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\nBroadcastReceiver mReceiver;\nint REQUEST_ENABLE_BT = 1;\nArrayAdapter&lt;String&gt; mArrayAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_scan_list);\n\n\n    if (mBluetoothAdapter != null) {\n        if (!mBluetoothAdapter.isEnabled()) {\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(\n                        this,\n                        new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_ENABLE_BT\n                );\n            }\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n        }\n    }\n\n    IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n    registerReceiver(receiver, filter);\n    mBluetoothAdapter.startDiscovery();\n    Log.i(&quot;devi&quot;, &quot;1&quot;);   // can only print this line\n}\n\n// Create a BroadcastReceiver for ACTION_FOUND.\nprivate BroadcastReceiver receiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        Log.i(&quot;devi&quot;, &quot;2&quot;);\n        String action = intent.getAction();\n\n        if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n            // Discovery has found a device. Get the BluetoothDevice\n            // object and its info from the Intent.\n            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n            if (ActivityCompat.checkSelfPermission(ScanList.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(\n                        ScanList.this,\n                        new String[]{Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_ENABLE_BT\n                );\n            }\n            String deviceName = device.getName();\n            String deviceHardwareAddress = device.getAddress(); // MAC address\n            Log.i(&quot;devi&quot;, deviceName);\n            Log.i(&quot;devi&quot;, deviceHardwareAddress);\n\n\n            Intent reintent = new Intent(ScanList.this, MainActivity.class);\n            Bundle extras = new Bundle();\n            extras.putString(&quot;name&quot;,deviceName);\n            extras.putString(&quot;address&quot;,deviceHardwareAddress);\n            reintent.putExtras(extras);\n            startActivity(reintent);\n            finish();\n        }\n    }\n};\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    unregisterReceiver(receiver);\n}\n}\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>I can get device now by adding</p>\n<pre><code>if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(\n                            MainActivity.this,\n                            new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 1001\n                );\n\n     }\n</code></pre>\n<p>in front of <code>mBluetoothAdapter.startDiscovery();</code> and <code>String deviceName = device.getName();</code>.  However, it is very unstable that clicking scan is not a must to enter <code>BroadcastReceiver</code>. Also, it crash when enter <code>BroadcastReceiver</code>. It said</p>\n<blockquote>\n<p>Bluetooth keeps stopping</p>\n</blockquote>\n<p>Bluetooth is my app name. How can I solve this?</p>\n<p><strong>Edit2</strong></p>\n<p>I have solved it. The problem is that not every device has a name. If it scans a device without name and shows in logcat, it gives null and crash. To solve it just add if statement and check whether <code>getName</code> is null.</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":4659250,"reputation":1043,"user_id":3773914,"display_name":"tt_emrah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613404581,"creation_date":1491472998,"answer_id":43251912,"question_id":43251808,"body_markdown":"instead it should be:\r\n\r\n    for(int i=0; i &lt; word.length; i++)\r\n    {\r\n        if(word[i].length() &gt;= rts.length())\r\n        {\r\n            rts = word[i];\r\n        }\r\n    }","title":"How to find the longest word in a given string?","body":"<p>instead it should be:</p>\n<pre><code>for(int i=0; i &lt; word.length; i++)\n{\n    if(word[i].length() &gt;= rts.length())\n    {\n        rts = word[i];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2379738,"reputation":1407,"user_id":2082004,"accept_rate":100,"display_name":"MSD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491473230,"creation_date":1491473230,"answer_id":43252022,"question_id":43251808,"body_markdown":"You can try like ,\r\n\r\n      String s=&quot;Today is the happiest day of my life&quot;;\r\n      String[] word=s.split(&quot; &quot;);\r\n      String rts=&quot; &quot;;\r\n      for(int i=0;i&lt;word.length;i++){\r\n         if(word[i].length()&gt;=rts.length()){\r\n           rts=word[i];\r\n         }\r\n      }\r\n      System.out.println(rts);\r\n      System.out.println(rts.length());","title":"How to find the longest word in a given string?","body":"<p>You can try like ,</p>\n\n<pre><code>  String s=\"Today is the happiest day of my life\";\n  String[] word=s.split(\" \");\n  String rts=\" \";\n  for(int i=0;i&lt;word.length;i++){\n     if(word[i].length()&gt;=rts.length()){\n       rts=word[i];\n     }\n  }\n  System.out.println(rts);\n  System.out.println(rts.length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1705913,"reputation":484,"user_id":1564958,"accept_rate":100,"display_name":"Madhavi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491474192,"creation_date":1491474192,"answer_id":43252416,"question_id":43251808,"body_markdown":"    for(int i=0;i&lt;word.length;i++){\r\n                for(int j=0;j&lt;word.length;j++){\r\n                    if(word[i].length()&gt;=word[j].length()){\r\n    \t\t\t\t   if(word[j].length()&gt;=rts.length()) {\r\n    \t\t\t\t      rts=word[j];\r\n    \t\t\t\t   }\r\n                    } else if(word[i].length()&gt;=rts.length()){\r\n    \t\t\t\t   rts=word[i];\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n                }\r\n            }","title":"How to find the longest word in a given string?","body":"<pre><code>for(int i=0;i&lt;word.length;i++){\n            for(int j=0;j&lt;word.length;j++){\n                if(word[i].length()&gt;=word[j].length()){\n                   if(word[j].length()&gt;=rts.length()) {\n                      rts=word[j];\n                   }\n                } else if(word[i].length()&gt;=rts.length()){\n                   rts=word[i];\n                }\n\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8433338,"reputation":20028,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1646567147,"creation_date":1491474591,"answer_id":43252551,"question_id":43251808,"body_markdown":"Here is a &quot;one-liner&quot; you can use with the Java 8 streams API:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String s = &quot;Today is the happiest day of my life&quot;;\r\n        String longest = Arrays.stream(s.split(&quot; &quot;))\r\n                .max(Comparator.comparingInt(String::length))\r\n                .orElse(null);\r\n        System.out.println(longest);\r\n    }\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n    happiest\r\n\r\nTry it out [**here**][1].\r\n\r\n\r\n  [1]: https://onecompiler.com/java/3xvap9p65","title":"How to find the longest word in a given string?","body":"<p>Here is a &quot;one-liner&quot; you can use with the Java 8 streams API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Main {\n    public static void main(String[] args) {\n        String s = &quot;Today is the happiest day of my life&quot;;\n        String longest = Arrays.stream(s.split(&quot; &quot;))\n                .max(Comparator.comparingInt(String::length))\n                .orElse(null);\n        System.out.println(longest);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>happiest\n</code></pre>\n<p>Try it out <a href=\"https://onecompiler.com/java/3xvap9p65\" rel=\"nofollow noreferrer\"><strong>here</strong></a>.</p>\n"},{"tags":[],"owner":{"account_id":6917936,"reputation":41,"user_id":5311478,"display_name":"Vivekanandan V"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531396202,"creation_date":1528104438,"answer_id":50677354,"question_id":43251808,"body_markdown":"        String s= &quot;Today is the happiest day of my life by vijayakumar&quot;;\r\n               String [] word = s.split(&quot; &quot;);\r\n        String maxlethWord = &quot;&quot;;\r\n        for(int i = 0; i &lt; word.length; i++){\r\n                if(word[i].length() &gt;= maxlethWord.length()){\r\n                      maxlethWord = word[i];\r\n                } \r\n        }\r\n         System.out.println(maxlethWord);  ","title":"How to find the longest word in a given string?","body":"<pre><code>    String s= \"Today is the happiest day of my life by vijayakumar\";\n           String [] word = s.split(\" \");\n    String maxlethWord = \"\";\n    for(int i = 0; i &lt; word.length; i++){\n            if(word[i].length() &gt;= maxlethWord.length()){\n                  maxlethWord = word[i];\n            } \n    }\n     System.out.println(maxlethWord);  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1807696,"reputation":1138,"user_id":1644446,"display_name":"Supun Dharmarathne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528105258,"creation_date":1528105258,"answer_id":50677594,"question_id":43251808,"body_markdown":"Try this one.\r\n\r\n   \r\n\r\n       public static void main( String[] args )\r\n    \t{\r\n    \t\tString s = &quot;Today is the happiest day of my life&quot;;\r\n    \t\tString[] word = s.split( &quot; &quot; );\r\n    \t\tString rts = &quot; &quot;;\r\n    \r\n    \t\tfor ( int i = 0; i &lt; word.length; i++ )\r\n    \t\t{\r\n    \t\t\tif ( word[i].length() &gt; rts.length() )\r\n    \t\t\t\trts = word[i];\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println( rts );\r\n        }","title":"How to find the longest word in a given string?","body":"<p>Try this one.</p>\n\n<pre><code>   public static void main( String[] args )\n    {\n        String s = \"Today is the happiest day of my life\";\n        String[] word = s.split( \" \" );\n        String rts = \" \";\n\n        for ( int i = 0; i &lt; word.length; i++ )\n        {\n            if ( word[i].length() &gt; rts.length() )\n                rts = word[i];\n\n        }\n        System.out.println( rts );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581826702,"creation_date":1555912462,"answer_id":55789764,"question_id":43251808,"body_markdown":"// the below Java Program will find Smallest and  Largest Word in a String \r\n\r\n    class SmallestAndLargestWord \r\n    { \r\n      \r\n        static String minWord = &quot;&quot;, maxWord = &quot;&quot;; \r\n      \r\n        static void minMaxLengthWords(String input)  \r\n        { \r\n            // minWord and maxWord are received by reference  \r\n            // and not by value \r\n            // will be used to store and return output \r\n            int len = input.length(); \r\n            int si = 0, ei = 0; \r\n            int min_length = len, min_start_index = 0, \r\n                  max_length = 0, max_start_index = 0; \r\n      \r\n            // Loop while input string is not empty \r\n            while (ei &lt;= len)  \r\n            { \r\n                if (ei &lt; len &amp;&amp; input.charAt(ei) != &#39; &#39;) \r\n                { \r\n                    ei++; \r\n                }  \r\n                else\r\n                { \r\n                    // end of a word \r\n                    // find curr word length \r\n                    int curr_length = ei - si; \r\n      \r\n                    if (curr_length &lt; min_length)  \r\n                    { \r\n                        min_length = curr_length; \r\n                        min_start_index = si; \r\n                    } \r\n      \r\n                    if (curr_length &gt; max_length)  \r\n                    { \r\n                        max_length = curr_length; \r\n                        max_start_index = si; \r\n                    } \r\n                    ei++; \r\n                    si = ei; \r\n                } \r\n            } \r\n      \r\n            // store minimum and maximum length words \r\n            minWord = input.substring(min_start_index, min_start_index + min_length); \r\n            maxWord = input.substring(max_start_index, max_length); \r\n        } \r\n      \r\n        // Driver code \r\n        public static void main(String[] args) \r\n        { \r\n            String a = &quot;GeeksforGeeks A Computer Science portal for Geeks&quot;; \r\n      \r\n            minMaxLengthWords(a); \r\n      \r\n            // to take input in string use getline(cin, a); \r\n            System.out.print(&quot;Minimum length word: &quot;\r\n                    + minWord \r\n                    + &quot;\\nMaximum length word: &quot;\r\n                    + maxWord); \r\n        } \r\n    } \r\n      \r\n**\r\n\r\n    Input : &quot;GeeksforGeeks A computer Science portal for Geeks&quot;\r\n    Output : Minimum length word: A\r\n             Maximum length word: GeeksforGeeks\r\n\r\n**","title":"How to find the longest word in a given string?","body":"<p>// the below Java Program will find Smallest and  Largest Word in a String </p>\n\n<pre><code>class SmallestAndLargestWord \n{ \n\n    static String minWord = \"\", maxWord = \"\"; \n\n    static void minMaxLengthWords(String input)  \n    { \n        // minWord and maxWord are received by reference  \n        // and not by value \n        // will be used to store and return output \n        int len = input.length(); \n        int si = 0, ei = 0; \n        int min_length = len, min_start_index = 0, \n              max_length = 0, max_start_index = 0; \n\n        // Loop while input string is not empty \n        while (ei &lt;= len)  \n        { \n            if (ei &lt; len &amp;&amp; input.charAt(ei) != ' ') \n            { \n                ei++; \n            }  \n            else\n            { \n                // end of a word \n                // find curr word length \n                int curr_length = ei - si; \n\n                if (curr_length &lt; min_length)  \n                { \n                    min_length = curr_length; \n                    min_start_index = si; \n                } \n\n                if (curr_length &gt; max_length)  \n                { \n                    max_length = curr_length; \n                    max_start_index = si; \n                } \n                ei++; \n                si = ei; \n            } \n        } \n\n        // store minimum and maximum length words \n        minWord = input.substring(min_start_index, min_start_index + min_length); \n        maxWord = input.substring(max_start_index, max_length); \n    } \n\n    // Driver code \n    public static void main(String[] args) \n    { \n        String a = \"GeeksforGeeks A Computer Science portal for Geeks\"; \n\n        minMaxLengthWords(a); \n\n        // to take input in string use getline(cin, a); \n        System.out.print(\"Minimum length word: \"\n                + minWord \n                + \"\\nMaximum length word: \"\n                + maxWord); \n    } \n} \n</code></pre>\n\n<p>**</p>\n\n<pre><code>Input : \"GeeksforGeeks A computer Science portal for Geeks\"\nOutput : Minimum length word: A\n         Maximum length word: GeeksforGeeks\n</code></pre>\n\n<p>**</p>\n"},{"tags":[],"owner":{"account_id":15836212,"reputation":86,"user_id":11425994,"display_name":"Krayzzee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604326062,"creation_date":1604326062,"answer_id":64647088,"question_id":43251808,"body_markdown":"I haven&#39;t seen an answer where you create a list of the words.\r\nSo here is another way to solve the problem:\r\n\r\n    String s = &quot;Today is the happiest day of my life&quot;;;\r\n    List&lt;String&gt; strings = Arrays.asList(s.split(&quot; &quot;));    \r\n    String biggestWord = Collections.max(strings, Comparator.comparing(String::length));\r\n    System.out.println(biggestWord);\r\n\r\nOutput:\r\n\r\n    happiest","title":"How to find the longest word in a given string?","body":"<p>I haven't seen an answer where you create a list of the words.\nSo here is another way to solve the problem:</p>\n<pre><code>String s = &quot;Today is the happiest day of my life&quot;;;\nList&lt;String&gt; strings = Arrays.asList(s.split(&quot; &quot;));    \nString biggestWord = Collections.max(strings, Comparator.comparing(String::length));\nSystem.out.println(biggestWord);\n</code></pre>\n<p>Output:</p>\n<pre><code>happiest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8495232,"reputation":2977,"user_id":6370015,"accept_rate":44,"display_name":"Kishan Donga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699116926,"creation_date":1699116926,"answer_id":77422995,"question_id":43251808,"body_markdown":"This is the below dart program to find the largest word in the string.\r\nFor example, if the input is &quot;The quick brown fox jumps over the lazy dog&quot;, the output should be &quot;jumps&quot;.\r\n\r\n    void main() {\r\n      print(findLongestWord(&#39;The quick brown fox jumps over the lazy dog&#39;));\r\n    }\r\n    \r\n    findLongestWord(String input) {\r\n      int length = 0;\r\n      int tempLength = 0;\r\n      int index = 0;\r\n    \r\n      for (var i = 0; i &lt; input.length; i++) {\r\n        if (input[i] != &#39; &#39;) {\r\n          tempLength++;\r\n        } else {\r\n          if (tempLength &gt;= length) {\r\n            length = tempLength;\r\n            index = i - length;\r\n          }\r\n          tempLength = 0;\r\n        }\r\n      }\r\n    \r\n       return input.substring(index, index + length);\r\n    }\r\n    \r\n\r\n \r\n","title":"How to find the longest word in a given string?","body":"<p>This is the below dart program to find the largest word in the string.\nFor example, if the input is &quot;The quick brown fox jumps over the lazy dog&quot;, the output should be &quot;jumps&quot;.</p>\n<pre><code>void main() {\n  print(findLongestWord('The quick brown fox jumps over the lazy dog'));\n}\n\nfindLongestWord(String input) {\n  int length = 0;\n  int tempLength = 0;\n  int index = 0;\n\n  for (var i = 0; i &lt; input.length; i++) {\n    if (input[i] != ' ') {\n      tempLength++;\n    } else {\n      if (tempLength &gt;= length) {\n        length = tempLength;\n        index = i - length;\n      }\n      tempLength = 0;\n    }\n  }\n\n   return input.substring(index, index + length);\n}\n</code></pre>\n"}],"owner":{"account_id":10577651,"reputation":29,"user_id":7792531,"display_name":"Suraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65136,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":9,"score":1,"last_activity_date":1699116926,"creation_date":1491472759,"question_id":43251808,"body_markdown":"In a given string, I want to **find the longest word** then print it in the console.\r\n\r\nThe output I get is the second longest word i.e `&quot;Today&quot;`, but I should get `&quot;Happiest&quot;` instead.  \r\nMay I know what I am doing wrong? Is there a better/different way to find the longest word in a string?\r\n \r\n    public class DemoString {\r\n    \tpublic static void main(String[] args) {\r\n            String s = &quot;Today is the happiest day of my life&quot;;\r\n            String[] word = s.split(&quot; &quot;);\r\n    \t\tString longword = &quot; &quot;;\r\n    \t\tfor (int i = 0; i &lt; word.length; i++)\r\n    \t\t\tfor (int j = 1 + i; j &lt; word.length; j++)\r\n    \t\t\t\tif (word[i].length() &gt;= word[j].length())\r\n    \t\t\t\t\tlongword = word[i];\r\n\r\n    \t\tSystem.out.println(longword + &quot; is the longest word with &quot; + longword.length() + &quot; characters.&quot;);\r\n    \t\tSystem.out.println(rts.length());\r\n        }\r\n    }\r\n","title":"How to find the longest word in a given string?","body":"<p>In a given string, I want to <strong>find the longest word</strong> then print it in the console.</p>\n<p>The output I get is the second longest word i.e <code>&quot;Today&quot;</code>, but I should get <code>&quot;Happiest&quot;</code> instead.<br />\nMay I know what I am doing wrong? Is there a better/different way to find the longest word in a string?</p>\n<pre><code>public class DemoString {\n    public static void main(String[] args) {\n        String s = &quot;Today is the happiest day of my life&quot;;\n        String[] word = s.split(&quot; &quot;);\n        String longword = &quot; &quot;;\n        for (int i = 0; i &lt; word.length; i++)\n            for (int j = 1 + i; j &lt; word.length; j++)\n                if (word[i].length() &gt;= word[j].length())\n                    longword = word[i];\n\n        System.out.println(longword + &quot; is the longest word with &quot; + longword.length() + &quot; characters.&quot;);\n        System.out.println(rts.length());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-location"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667947340,"post_id":74367916,"comment_id":131289007,"body_markdown":"There is a link in the documentation how to use LocationRequest.Builder: https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder","body":"There is a link in the documentation how to use LocationRequest.Builder: <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667947693,"creation_date":1667947693,"answer_id":74368019,"question_id":74367916,"body_markdown":"```java\r\nLocationRequest locationRequest = \r\n new LocationRequest.Builder(\r\n  LocationRequest.PRIORITY_HIGH_ACCURACY,\r\n  10000\r\n ).build();\r\n\r\nlocationRequest.setFastestInterval(5000);\r\n```","title":"How can I create location request in Android? &quot;LocationRequest.create()&quot; is deprecated now","body":"<pre class=\"lang-java prettyprint-override\"><code>LocationRequest locationRequest = \n new LocationRequest.Builder(\n  LocationRequest.PRIORITY_HIGH_ACCURACY,\n  10000\n ).build();\n\nlocationRequest.setFastestInterval(5000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29800075,"reputation":1,"user_id":22838032,"display_name":"Prasad Musini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699116208,"creation_date":1698818901,"answer_id":77400648,"question_id":74367916,"body_markdown":"    locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\r\n                    .setIntervalMillis(INTERVAL_MILLIS)             // Sets the interval for location updates\r\n                    .setMinUpdateIntervalMillis(INTERVAL_MILLIS/2)  // Sets the fastest allowed interval of location updates.\r\n                    .setWaitForAccurateLocation(false)              // Want Accurate location updates make it true or you get approximate updates\r\n                    .setMaxUpdateDelayMillis(100)                   // Sets the longest a location update may be delayed.\r\n                    .build();","title":"How can I create location request in Android? &quot;LocationRequest.create()&quot; is deprecated now","body":"<pre><code>locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 100)\n                .setIntervalMillis(INTERVAL_MILLIS)             // Sets the interval for location updates\n                .setMinUpdateIntervalMillis(INTERVAL_MILLIS/2)  // Sets the fastest allowed interval of location updates.\n                .setWaitForAccurateLocation(false)              // Want Accurate location updates make it true or you get approximate updates\n                .setMaxUpdateDelayMillis(100)                   // Sets the longest a location update may be delayed.\n                .build();\n</code></pre>\n"}],"owner":{"account_id":14058986,"reputation":47,"user_id":10155542,"display_name":"Mukesh Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3058,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1699116208,"creation_date":1667946950,"question_id":74367916,"body_markdown":"LocationRequest.create()\r\n&quot;This method is deprecated. Use LocationRequest.Builder instead.&quot; says in documentation. But I don&#39;t no how to use it. \r\n\r\n```\r\nLocationRequest locationRequest = LocationRequest.create();\r\n&#160; &#160; locationRequest.setInterval(10000);\r\n&#160; &#160; locationRequest.setFastestInterval(5000);\r\n&#160; &#160; locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n```\r\n\r\n\r\nI want to change location settings programmaticaly, so I need the variable locationRequest. Can anyone help me to create the variabel locationRequest.\r\nI use Java as programming language.","title":"How can I create location request in Android? &quot;LocationRequest.create()&quot; is deprecated now","body":"<p>LocationRequest.create()\n&quot;This method is deprecated. Use LocationRequest.Builder instead.&quot; says in documentation. But I don't no how to use it.</p>\n<pre><code>LocationRequest locationRequest = LocationRequest.create();\n    locationRequest.setInterval(10000);\n    locationRequest.setFastestInterval(5000);\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n</code></pre>\n<p>I want to change location settings programmaticaly, so I need the variable locationRequest. Can anyone help me to create the variabel locationRequest.\nI use Java as programming language.</p>\n"},{"tags":["java","google-api","google-oauth","google-sheets-api","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1699105565,"post_id":77422210,"comment_id":136490912,"body_markdown":"your using code for an installed app &quot;AuthorizationCodeInstalledApp&quot;  Make sure you created native app credentials on google developer console.  I suspect you have created web app credentials.   Redirect uri wont be an issue once you are using the correct type of credentials","body":"your using code for an installed app &quot;AuthorizationCodeInstalledApp&quot;  Make sure you created native app credentials on google developer console.  I suspect you have created web app credentials.   Redirect uri wont be an issue once you are using the correct type of credentials"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699115927,"creation_date":1699115927,"answer_id":77422937,"question_id":77422210,"body_markdown":"There are several types of apps you can create.  Lets look at two these two have redirect uris.\r\n\r\n1. web\r\n2. installed\r\n\r\nThe redirect uri tells the authorization server where to return the authorization code to.  In the case of a web app it would be the domain where the app is hosted.  in the case of an installed app it is localhost or the machine the app is running on.  That is why installed apps have an inbuilt redirect uri hard coded in the code.\r\n\r\nIf you are creating an installed app you use `AuthorizationCodeInstalledApp` and create [native app credentials][1].  These credentials do not have the ability to change the redirect uri as its in built. as you have seen.\r\n\r\nWeb apps on the other hand use [GoogleAuthorizationCodeFlow.Builder][2] and send the redirect uri that is configured in your application.  They require that you create [web app credentials][3] and configure the redirect uri in google cloud console.\r\n\r\nSo i suspect you have one of two issues.\r\n\r\n1. You are currently using code for an installed app.  Make sure you created native app credtails.\r\n2. You are trying to create a web app and are using the wrong code. Change your code to support web application. \r\n\r\n\r\n  [1]: https://youtu.be/qwqJcyLQSSQ?si=AFM2mtDgpw0D2Hwc\r\n  [2]: https://developers.google.com/api-client-library/java/google-api-java-client/oauth2#web_server_applications\r\n  [3]: https://youtu.be/pBVAyU4pZOU?si=TLOFCcKDgNXokH6M","title":"How can I set up a Google OAuth2 client using https scheme in Java using?","body":"<p>There are several types of apps you can create.  Lets look at two these two have redirect uris.</p>\n<ol>\n<li>web</li>\n<li>installed</li>\n</ol>\n<p>The redirect uri tells the authorization server where to return the authorization code to.  In the case of a web app it would be the domain where the app is hosted.  in the case of an installed app it is localhost or the machine the app is running on.  That is why installed apps have an inbuilt redirect uri hard coded in the code.</p>\n<p>If you are creating an installed app you use <code>AuthorizationCodeInstalledApp</code> and create <a href=\"https://youtu.be/qwqJcyLQSSQ?si=AFM2mtDgpw0D2Hwc\" rel=\"nofollow noreferrer\">native app credentials</a>.  These credentials do not have the ability to change the redirect uri as its in built. as you have seen.</p>\n<p>Web apps on the other hand use <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/oauth2#web_server_applications\" rel=\"nofollow noreferrer\">GoogleAuthorizationCodeFlow.Builder</a> and send the redirect uri that is configured in your application.  They require that you create <a href=\"https://youtu.be/pBVAyU4pZOU?si=TLOFCcKDgNXokH6M\" rel=\"nofollow noreferrer\">web app credentials</a> and configure the redirect uri in google cloud console.</p>\n<p>So i suspect you have one of two issues.</p>\n<ol>\n<li>You are currently using code for an installed app.  Make sure you created native app credtails.</li>\n<li>You are trying to create a web app and are using the wrong code. Change your code to support web application.</li>\n</ol>\n"}],"owner":{"account_id":1462149,"reputation":308,"user_id":1376157,"accept_rate":50,"display_name":"kvitso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699115927,"creation_date":1699104683,"question_id":77422210,"body_markdown":"I am writing an application that uses the Spreadsheets API. Because I am using the write scope, which is sensitive, the OAuth2 redirect URI must use https instead of http (except when using localhost).\r\n\r\nThe credential object used in my API calls are fethed like this:\r\n\r\n    @Bean\r\n    public Credential credential(@Autowired LocalServerReceiver localServerReceiver) throws GeneralSecurityException, IOException {\r\n        HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n        // Load client secrets from your credentials JSON file\r\n        InputStream credentialsStream = Talespire.class.getResourceAsStream(GOOGLE_SHEETS_CLIENT_SECRET_JSON);\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(credentialsStream));\r\n        // Set up authorization code flow\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(&quot;tokens&quot;)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .setApprovalPrompt(&quot;force&quot;)\r\n                .build();\r\n\r\n        return new AuthorizationCodeInstalledApp(flow, localServerReceiver).authorize(&quot;user&quot;);\r\n    }\r\nThe injected `LocalServerReceiver` is set up using the `Builder` it provides. In my dev environment, I set it up using localhost as host, which works fine since it does not require http. However, when moving to the production environment, there is no way to set the host (which is used to determine the callback URL) to use https-scheme. If it set host to https://app.comain.com, the resulting callback URL becomes `http://https://app.domain.com/Callback` which is obviously wrong. If I sneakily try to manually change the redirect-uri parameter in the authentication URL (to use https instead of http), I get an authorization-error (`Error 400: bad_request`) from Google when opening it in the browser. I am suspecting https require additional parameters or something, but I cannot find any documentation about it.\r\n\r\nThe LocalServerReveiver code (source https://github.com/googleapis/google-oauth-java-client/blob/main/google-oauth-client-jetty/src/main/java/com/google/api/client/extensions/jetty/auth/oauth2/LocalServerReceiver.java) is hardcoded to use the http-scheme (line 138), so I do not see a built-in method to set this up with the https-scheme, like specified. \r\n\r\nDoes anybody know how I can get around this?\r\n\r\nRelevant libs/dependencies\r\nLocalServerReceiver: google-oauth-client-jetty-1.34.1.jar\r\nGoogleAuthorizatoinCodeFlow: google-api-client-1.35.2.jar\r\nAuthorizationCodeInstalledApp: google-oauth-client-java6-1.34.1.jar\r\n\r\n*edit: While reading through this post, it strikes me that perhaps the AuthorizationCodeInstalledApp is not the correct class to use to generate the Credential object here (based on its name and the fact that the dependency uses &quot;java6&quot; in its name). Could this be the case, and that I need to use a different class for this? And if so, which one should I use?*\r\n","title":"How can I set up a Google OAuth2 client using https scheme in Java using?","body":"<p>I am writing an application that uses the Spreadsheets API. Because I am using the write scope, which is sensitive, the OAuth2 redirect URI must use https instead of http (except when using localhost).</p>\n<p>The credential object used in my API calls are fethed like this:</p>\n<pre><code>@Bean\npublic Credential credential(@Autowired LocalServerReceiver localServerReceiver) throws GeneralSecurityException, IOException {\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    // Load client secrets from your credentials JSON file\n    InputStream credentialsStream = Talespire.class.getResourceAsStream(GOOGLE_SHEETS_CLIENT_SECRET_JSON);\n    GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(credentialsStream));\n    // Set up authorization code flow\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            httpTransport, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(&quot;tokens&quot;)))\n            .setAccessType(&quot;offline&quot;)\n            .setApprovalPrompt(&quot;force&quot;)\n            .build();\n\n    return new AuthorizationCodeInstalledApp(flow, localServerReceiver).authorize(&quot;user&quot;);\n}\n</code></pre>\n<p>The injected <code>LocalServerReceiver</code> is set up using the <code>Builder</code> it provides. In my dev environment, I set it up using localhost as host, which works fine since it does not require http. However, when moving to the production environment, there is no way to set the host (which is used to determine the callback URL) to use https-scheme. If it set host to <a href=\"https://app.comain.com\" rel=\"nofollow noreferrer\">https://app.comain.com</a>, the resulting callback URL becomes <code>http://https://app.domain.com/Callback</code> which is obviously wrong. If I sneakily try to manually change the redirect-uri parameter in the authentication URL (to use https instead of http), I get an authorization-error (<code>Error 400: bad_request</code>) from Google when opening it in the browser. I am suspecting https require additional parameters or something, but I cannot find any documentation about it.</p>\n<p>The LocalServerReveiver code (source <a href=\"https://github.com/googleapis/google-oauth-java-client/blob/main/google-oauth-client-jetty/src/main/java/com/google/api/client/extensions/jetty/auth/oauth2/LocalServerReceiver.java\" rel=\"nofollow noreferrer\">https://github.com/googleapis/google-oauth-java-client/blob/main/google-oauth-client-jetty/src/main/java/com/google/api/client/extensions/jetty/auth/oauth2/LocalServerReceiver.java</a>) is hardcoded to use the http-scheme (line 138), so I do not see a built-in method to set this up with the https-scheme, like specified.</p>\n<p>Does anybody know how I can get around this?</p>\n<p>Relevant libs/dependencies\nLocalServerReceiver: google-oauth-client-jetty-1.34.1.jar\nGoogleAuthorizatoinCodeFlow: google-api-client-1.35.2.jar\nAuthorizationCodeInstalledApp: google-oauth-client-java6-1.34.1.jar</p>\n<p><em>edit: While reading through this post, it strikes me that perhaps the AuthorizationCodeInstalledApp is not the correct class to use to generate the Credential object here (based on its name and the fact that the dependency uses &quot;java6&quot; in its name). Could this be the case, and that I need to use a different class for this? And if so, which one should I use?</em></p>\n"},{"tags":["java","android","sharedpreferences"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699100197,"post_id":77421872,"comment_id":136490421,"body_markdown":"Try editor.commit(); instead as you finish();","body":"Try editor.commit(); instead as you finish();"},{"owner":{"account_id":7262850,"reputation":309,"user_id":14136006,"display_name":"Roop Kishore"},"score":0,"creation_date":1699107093,"post_id":77421872,"comment_id":136491079,"body_markdown":"working with  &#39;editor.commit()&#39;, why it&#39;s not working with apply() now? and why was it working before using editor.apply().  I am confused with this.","body":"working with  &#39;editor.commit()&#39;, why it&#39;s not working with apply() now? and why was it working before using editor.apply().  I am confused with this."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699107262,"post_id":77421872,"comment_id":136491096,"body_markdown":"Apply() is asynchronous. Maybe the activity is already destroyed before it gets applied. It was just a thought. Commit() is executed directly on the main thread and hence before you call finish().","body":"Apply() is asynchronous. Maybe the activity is already destroyed before it gets applied. It was just a thought. Commit() is executed directly on the main thread and hence before you call finish()."},{"owner":{"account_id":7262850,"reputation":309,"user_id":14136006,"display_name":"Roop Kishore"},"score":0,"creation_date":1699107427,"post_id":77421872,"comment_id":136491125,"body_markdown":"so Asynchronous execution of &#39;apply()&#39; needs activity context?","body":"so Asynchronous execution of &#39;apply()&#39; needs activity context?"}],"owner":{"account_id":7262850,"reputation":309,"user_id":14136006,"display_name":"Roop Kishore"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699115257,"creation_date":1699098228,"question_id":77421872,"body_markdown":" 1. I am creating a login activity using firebase mobile authentication. After successful authentication I get success\r\n    callback from firebase.\r\n 2. After getting successful callback response, I am saving login ID(mobile number) and loginStatus in SharedPreference.\r\n 3. Before some time it was creating the file in Device File Explorer(data/data/&lt;my package&gt;/prefs) folder\r\n\r\n I didn&#39;t even change the login of saving, but still it stopped working, \r\nInstead it&#39;s creating xml file in this location\r\n\r\n*/data/user/0/&lt;my package&gt;/shared_prefs/AUTHENTICATION_FILE_NAME.xml*\r\n\r\nBut also, while reading this file, it gives false as loginStatus which was saved as true earlier.\r\nHere is my Code. Thanks in advance.\r\n\r\n..........Saving........\r\n\r\n        private void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\r\n            mAuth.signInWithCredential(credential)\r\n                    .addOnCompleteListener(this, task -&gt; {\r\n                        if (task.isSuccessful()) {\r\n                            SharedPreferences preferences = mContext.getSharedPreferences(&quot;AUTHENTICATION_FILE_NAME&quot;, Context.MODE_PRIVATE);\r\n                            SharedPreferences.Editor editor = preferences.edit();\r\n                            editor.putBoolean(Constants.IS_USER_LOGGED_IN, true);\r\n                            editor.putString(Constants.MOBILE_NUMBER, phoneNumber);\r\n                            editor.apply();\r\n                            Intent intent = new Intent(LoginActivity.this, DashboardActivity.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        } else {\r\n                             if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\r\n                                //TODO\r\n                            }\r\n                        }\r\n                    });\r\n        }\r\n\r\n\r\n................Reading Back the SharedPreference.........\r\n\r\n                    SharedPreferences prfs = mContext.getSharedPreferences(&quot;AUTHENTICATION_FILE_NAME&quot;, Context.MODE_PRIVATE);\r\n                    boolean loginStatus = prfs.getBoolean(Constants.IS_USER_LOGGED_IN, false);\r\n                    if(loginStatus){\r\n                        startActivity(new Intent(MainActivity.this, DashboardActivity.class));\r\n                        finish();\r\n                    }else{\r\n                        startActivity(new Intent(MainActivity.this, LoginActivity.class));\r\n                        finish();\r\n                    }\r\n\r\nmContext holds the Activity Context;\r\nPlease help.\r\n   ","title":"SharedPreference not creating file in Device File Explorer location","body":"<ol>\n<li>I am creating a login activity using firebase mobile authentication. After successful authentication I get success\ncallback from firebase.</li>\n<li>After getting successful callback response, I am saving login ID(mobile number) and loginStatus in SharedPreference.</li>\n<li>Before some time it was creating the file in Device File Explorer(data/data//prefs) folder</li>\n</ol>\n<p>I didn't even change the login of saving, but still it stopped working,\nInstead it's creating xml file in this location</p>\n<p><em>/data/user/0//shared_prefs/AUTHENTICATION_FILE_NAME.xml</em></p>\n<p>But also, while reading this file, it gives false as loginStatus which was saved as true earlier.\nHere is my Code. Thanks in advance.</p>\n<p>..........Saving........</p>\n<pre><code>    private void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, task -&gt; {\n                    if (task.isSuccessful()) {\n                        SharedPreferences preferences = mContext.getSharedPreferences(&quot;AUTHENTICATION_FILE_NAME&quot;, Context.MODE_PRIVATE);\n                        SharedPreferences.Editor editor = preferences.edit();\n                        editor.putBoolean(Constants.IS_USER_LOGGED_IN, true);\n                        editor.putString(Constants.MOBILE_NUMBER, phoneNumber);\n                        editor.apply();\n                        Intent intent = new Intent(LoginActivity.this, DashboardActivity.class);\n                        startActivity(intent);\n                        finish();\n                    } else {\n                         if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\n                            //TODO\n                        }\n                    }\n                });\n    }\n</code></pre>\n<p>................Reading Back the SharedPreference.........</p>\n<pre><code>                SharedPreferences prfs = mContext.getSharedPreferences(&quot;AUTHENTICATION_FILE_NAME&quot;, Context.MODE_PRIVATE);\n                boolean loginStatus = prfs.getBoolean(Constants.IS_USER_LOGGED_IN, false);\n                if(loginStatus){\n                    startActivity(new Intent(MainActivity.this, DashboardActivity.class));\n                    finish();\n                }else{\n                    startActivity(new Intent(MainActivity.this, LoginActivity.class));\n                    finish();\n                }\n</code></pre>\n<p>mContext holds the Activity Context;\nPlease help.</p>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10034892,"reputation":59,"user_id":7419952,"accept_rate":50,"display_name":"fotrenc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699115034,"creation_date":1699115034,"answer_id":77422886,"question_id":77417334,"body_markdown":"How to solve it in a short way:\r\n- run application under java 1.8.\r\n- add only in maven new version of rest-assured dependency\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;   -- newest version\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nNow it will be possible to run application and tests with Rest-assured requests.","title":"Problem with rest-assured tests from onlyfullstack repository","body":"<p>How to solve it in a short way:</p>\n<ul>\n<li>run application under java 1.8.</li>\n<li>add only in maven new version of rest-assured dependency</li>\n</ul>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;   -- newest version\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Now it will be possible to run application and tests with Rest-assured requests.</p>\n"}],"owner":{"account_id":10034892,"reputation":59,"user_id":7419952,"accept_rate":50,"display_name":"fotrenc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77422886,"answer_count":1,"score":0,"last_activity_date":1699115034,"creation_date":1699020748,"question_id":77417334,"body_markdown":"I tried to run tests from repository:\r\nhttps://github.com/onlyfullstack/rest-assured-tutorial.git\r\nbut I received such error during any test execution:\r\n```\r\n...\\rest-assured-tutorial\\src\\test\\java\\onlyfullstack\\authorization\\OAuth2AuthorizationTest.java:30:17\r\njava: cannot access io.restassured.common.mapper.TypeRef\r\n  class file for io.restassured.common.mapper.TypeRef not found\r\n```\r\nIt was exactly in this place:\r\n```\r\n    @Test\r\n    public void callOAuth2ProtectedApi() throws JSONException {\r\n        String accessToken = getAccessTokenFromOAuth2();\r\n        Student request = new Student(1l, &quot;Elon Musk&quot;, &quot;elonmusk@gmail.com&quot;, &quot;pccoe&quot;);\r\n\r\n        Student response = RestAssured.given()\r\n                .auth()\r\n                .oauth2(accessToken)\r\n                .baseUri(&quot;http://localhost:8088&quot;)\r\n                .pathParam(&quot;student_rollNumber&quot;, &quot;2&quot;)\r\n                .body(request)\r\n                .contentType(ContentType.JSON)\r\n                .when()\r\n                .get(&quot;/students/{student_rollNumber}&quot;)\r\n                .then()\r\n                .extract()\r\n                .as(Student.class);   -- here\r\n        System.out.println(&quot;Student api Response - &quot; + response);\r\n        Assert.assertEquals(response, request);\r\n    }\r\n```\r\ndoes anybody now why such error appeared?\r\nI changed such things in pom.xml:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.2&lt;/version&gt;   -- newest version\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\nI added:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI try to run this on Microsoft\\jdk-11.0.16.101-hotspot.\r\n\r\nBR,\r\nfotrenc","title":"Problem with rest-assured tests from onlyfullstack repository","body":"<p>I tried to run tests from repository:\n<a href=\"https://github.com/onlyfullstack/rest-assured-tutorial.git\" rel=\"nofollow noreferrer\">https://github.com/onlyfullstack/rest-assured-tutorial.git</a>\nbut I received such error during any test execution:</p>\n<pre><code>...\\rest-assured-tutorial\\src\\test\\java\\onlyfullstack\\authorization\\OAuth2AuthorizationTest.java:30:17\njava: cannot access io.restassured.common.mapper.TypeRef\n  class file for io.restassured.common.mapper.TypeRef not found\n</code></pre>\n<p>It was exactly in this place:</p>\n<pre><code>    @Test\n    public void callOAuth2ProtectedApi() throws JSONException {\n        String accessToken = getAccessTokenFromOAuth2();\n        Student request = new Student(1l, &quot;Elon Musk&quot;, &quot;elonmusk@gmail.com&quot;, &quot;pccoe&quot;);\n\n        Student response = RestAssured.given()\n                .auth()\n                .oauth2(accessToken)\n                .baseUri(&quot;http://localhost:8088&quot;)\n                .pathParam(&quot;student_rollNumber&quot;, &quot;2&quot;)\n                .body(request)\n                .contentType(ContentType.JSON)\n                .when()\n                .get(&quot;/students/{student_rollNumber}&quot;)\n                .then()\n                .extract()\n                .as(Student.class);   -- here\n        System.out.println(&quot;Student api Response - &quot; + response);\n        Assert.assertEquals(response, request);\n    }\n</code></pre>\n<p>does anybody now why such error appeared?\nI changed such things in pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;   -- newest version\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>I added:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I try to run this on Microsoft\\jdk-11.0.16.101-hotspot.</p>\n<p>BR,\nfotrenc</p>\n"},{"tags":["java","android","android-studio","android-location"],"owner":{"account_id":2622452,"reputation":68,"user_id":2270200,"accept_rate":17,"display_name":"krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699114808,"creation_date":1699110354,"question_id":77422570,"body_markdown":"        public class MyFirebaseMessagingService extends FirebaseMessagingService implements LocationListener{\r\n    \r\n        private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n      \r\n        private FusedLocationProviderClient fusedLocationClient;\r\n        String lat = &quot;&quot;, lon = &quot;&quot;;\r\n        @SuppressLint(&quot;WrongThread&quot;)\r\n        @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n    Log.e(&quot;remoteMessage&quot;,&quot;#&quot;+remoteMessage.toString());\r\n    \r\n         \r\n           // messageDao = chatDatabase.messageDao();\r\n            try {\r\n                fusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\r\n    fetchlocation();\r\n                // Check if message contains a data payload.\r\n              \r\n            } catch (Exception e) {\r\n    \r\n            }\r\n    \r\n    \r\n            // Also if you intend on generating your own notifications as a result of a received FCM\r\n            // message, here is where that should be initiated. See sendNotification method below.\r\n        }\r\n     \r\n    \r\n    \r\n    \r\n    \r\n    \r\n         private void fetchlocation()\r\n        {\r\n    Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation&quot;);\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation1&quot;);\r\n            fusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n                    Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation2&quot;+task.getResult());\r\n                    Location location = task.getResult();\r\n                    if (location != null) {\r\n                        Log.e(&quot;clatzz&quot;, &quot;@&quot; + location.getLatitude());\r\n                        lat = &quot;&quot; + location.getLatitude();\r\n                        Log.e(&quot;clonzz&quot;, &quot;@&quot; + location.getLongitude());\r\n                        lon = &quot;&quot; + location.getLongitude();\r\n                        String val=lat+&quot;,&quot;+lon;\r\n                       // savelocation(val);\r\n                        Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation3&quot;);\r\n                    }\r\n                }\r\n    \r\n            });\r\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n            fusedLocationClient.getCurrentLocation(PRIORITY_HIGH_ACCURACY, new CancellationToken() {\r\n                @Override\r\n                public boolean isCancellationRequested() {\r\n                    return false;\r\n                }\r\n    \r\n                @NonNull\r\n                @Override\r\n                public CancellationToken onCanceledRequested(@NonNull OnTokenCanceledListener onTokenCanceledListener) {\r\n                    return null;\r\n                }\r\n            }).addOnSuccessListener(location -&gt; {\r\n                Location  currentLocation = location;\r\n                Log.e(&quot;currentLocation&quot;,&quot;#&quot;+currentLocation.toString());\r\n                // use this current location\r\n            });\r\n            Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation4&quot;);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n            Log.e(&quot;location&quot;,&quot;#&quot;+location.toString());\r\n            try{\r\n                lat= String.valueOf(location.getLatitude());\r\n                lon= String.valueOf(location.getLongitude());\r\n    \r\n               // LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n            }catch (Exception e)\r\n            {\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n     &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n        \r\n        compileSdk 33\r\n        targetSdk 33\r\n        \r\n        \r\n           implementation &#39;com.google.firebase:firebase-inappmessaging-display&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:23.1.2&#39;\r\n        implementation &#39;com.google.android.libraries.places:places:3.0.0&#39;\r\n        \r\n        implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n     \r\n\r\n\r\n\r\n \r\n\r\n&gt;   this code app open time working good but app closed or minimized scenario fcm message receive time location null. how to solve this problem anyone help me. app open time fcm message received time location fetching correctly. \r\nhere FusedLocationProviderClient i used latest libray and also my code android sdk 33 support based code","title":"How to fecth location fcm service running time in android java","body":"<pre><code>    public class MyFirebaseMessagingService extends FirebaseMessagingService implements LocationListener{\n\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\n  \n    private FusedLocationProviderClient fusedLocationClient;\n    String lat = &quot;&quot;, lon = &quot;&quot;;\n    @SuppressLint(&quot;WrongThread&quot;)\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\nLog.e(&quot;remoteMessage&quot;,&quot;#&quot;+remoteMessage.toString());\n\n     \n       // messageDao = chatDatabase.messageDao();\n        try {\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\nfetchlocation();\n            // Check if message contains a data payload.\n          \n        } catch (Exception e) {\n\n        }\n\n\n        // Also if you intend on generating your own notifications as a result of a received FCM\n        // message, here is where that should be initiated. See sendNotification method below.\n    }\n \n\n\n\n\n\n     private void fetchlocation()\n    {\nLog.e(&quot;fetchlocation&quot;,&quot;fetchlocation&quot;);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation1&quot;);\n        fusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Location&gt; task) {\n                Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation2&quot;+task.getResult());\n                Location location = task.getResult();\n                if (location != null) {\n                    Log.e(&quot;clatzz&quot;, &quot;@&quot; + location.getLatitude());\n                    lat = &quot;&quot; + location.getLatitude();\n                    Log.e(&quot;clonzz&quot;, &quot;@&quot; + location.getLongitude());\n                    lon = &quot;&quot; + location.getLongitude();\n                    String val=lat+&quot;,&quot;+lon;\n                   // savelocation(val);\n                    Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation3&quot;);\n                }\n            }\n\n        });\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n        fusedLocationClient.getCurrentLocation(PRIORITY_HIGH_ACCURACY, new CancellationToken() {\n            @Override\n            public boolean isCancellationRequested() {\n                return false;\n            }\n\n            @NonNull\n            @Override\n            public CancellationToken onCanceledRequested(@NonNull OnTokenCanceledListener onTokenCanceledListener) {\n                return null;\n            }\n        }).addOnSuccessListener(location -&gt; {\n            Location  currentLocation = location;\n            Log.e(&quot;currentLocation&quot;,&quot;#&quot;+currentLocation.toString());\n            // use this current location\n        });\n        Log.e(&quot;fetchlocation&quot;,&quot;fetchlocation4&quot;);\n    }\n\n\n\n\n    @Override\n    public void onLocationChanged(Location location) {\n        Log.e(&quot;location&quot;,&quot;#&quot;+location.toString());\n        try{\n            lat= String.valueOf(location.getLatitude());\n            lon= String.valueOf(location.getLongitude());\n\n           // LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n        }catch (Exception e)\n        {\n\n        }\n    }\n\n\n\n\n\n\n}\n\n\n &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n    \n    compileSdk 33\n    targetSdk 33\n    \n    \n       implementation 'com.google.firebase:firebase-inappmessaging-display'\n    implementation 'com.google.firebase:firebase-messaging:23.1.2'\n    implementation 'com.google.android.libraries.places:places:3.0.0'\n    \n    implementation 'com.google.android.gms:play-services-location:21.0.1'\n \n</code></pre>\n<blockquote>\n<p>this code app open time working good but app closed or minimized scenario fcm message receive time location null. how to solve this problem anyone help me. app open time fcm message received time location fetching correctly.\nhere FusedLocationProviderClient i used latest libray and also my code android sdk 33 support based code</p>\n</blockquote>\n"},{"tags":["java","android","android-recyclerview","imageview","android-glide"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699121226,"post_id":77422854,"comment_id":136492566,"body_markdown":"Glide is setting the bitmap before the result bitmap is generated. Before the thread is ready.","body":"Glide is setting the bitmap before the result bitmap is generated. Before the thread is ready."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699121346,"post_id":77422854,"comment_id":136492584,"body_markdown":"`resultBitmap=pdfToBitmap(new ..... ` Change to `Bitmap resultBitmap=pdfToBitmap(new ... `.","body":"<code>resultBitmap=pdfToBitmap(new ..... </code> Change to <code>Bitmap resultBitmap=pdfToBitmap(new ... </code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699121401,"post_id":77422854,"comment_id":136492588,"body_markdown":"Then immediately after that line, in the run(), use runOnUiThread() to let Glide set that bitmap.","body":"Then immediately after that line, in the run(), use runOnUiThread() to let Glide set that bitmap."}],"owner":{"account_id":19614935,"reputation":25,"user_id":14356650,"display_name":"Shivanshu Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699114737,"creation_date":1699114585,"question_id":77422854,"body_markdown":"I&#39;m trying to create thumbnail of a file and show it in icon of recyclerview. I&#39;m using Glide to show those images but when I open the app, the images are displayed repeatedly and they&#39;re not correct. Please help me render correct image for each file.\r\n\r\n```\r\nprivate Bitmap pdfToBitmap(File pdfFile, ViewHolder holder) {\r\n    Bitmap bitmap = null;\r\n    try {\r\n        PdfRenderer renderer = new PdfRenderer(ParcelFileDescriptor.open(pdfFile, ParcelFileDescriptor.MODE_READ_ONLY));\r\n        final int pageCount = renderer.getPageCount();\r\n        if (pageCount &gt; 0) {\r\n            PdfRenderer.Page page = renderer.openPage(0);\r\n            int width = page.getWidth();\r\n            int height = page.getHeight();\r\n\r\n            bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n\r\n            String timeStamp = new SimpleDateFormat(&quot;ddMMyyyy&quot;).format(new Date());\r\n            String path = pdfFile.getAbsolutePath() + timeStamp + &quot;.jpg&quot;;\r\n            imgFile = new File(path);\r\n            FileOutputStream fos = new FileOutputStream(imgFile);\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n            fos.close();\r\n            page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\r\n            page.close();\r\n            renderer.close();\r\n        }\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n        Log.e(&quot;error123&quot;, &quot;Nahi ho paya&quot;);\r\n    }\r\n    return bitmap;\r\n}\r\n```\r\n\r\n```\r\n@Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        PidifyFile currentFile = files.get(position);\r\n        holder.pdfName.setText(currentFile.getName());\r\n        Date lModified = currentFile.getDateCreated();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM dd, yyyy hh:mm aa&quot;);\r\n        holder.pdfDate.setText(sdf.format(lModified));\r\n//        holder.pdfSize.setText(humanReadableByteCountSI(currentFile.length()));\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                 resultBitmap=pdfToBitmap(new File(currentFile.getFilePath()), holder);\r\n            }\r\n        }).start();\r\n//        using Glide for smooth loading of images in recycler view\r\n        Glide.with(holder.itemView.getContext())\r\n                .asBitmap()\r\n                .load(resultBitmap)\r\n                .into(holder.pdfImg);\r\n    }\r\n\r\n\r\n```","title":"How to show appropriate image for each pdf file in recyclerview using Glide?","body":"<p>I'm trying to create thumbnail of a file and show it in icon of recyclerview. I'm using Glide to show those images but when I open the app, the images are displayed repeatedly and they're not correct. Please help me render correct image for each file.</p>\n<pre><code>private Bitmap pdfToBitmap(File pdfFile, ViewHolder holder) {\n    Bitmap bitmap = null;\n    try {\n        PdfRenderer renderer = new PdfRenderer(ParcelFileDescriptor.open(pdfFile, ParcelFileDescriptor.MODE_READ_ONLY));\n        final int pageCount = renderer.getPageCount();\n        if (pageCount &gt; 0) {\n            PdfRenderer.Page page = renderer.openPage(0);\n            int width = page.getWidth();\n            int height = page.getHeight();\n\n            bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n\n            String timeStamp = new SimpleDateFormat(&quot;ddMMyyyy&quot;).format(new Date());\n            String path = pdfFile.getAbsolutePath() + timeStamp + &quot;.jpg&quot;;\n            imgFile = new File(path);\n            FileOutputStream fos = new FileOutputStream(imgFile);\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n            fos.close();\n            page.render(bitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_DISPLAY);\n            page.close();\n            renderer.close();\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n        Log.e(&quot;error123&quot;, &quot;Nahi ho paya&quot;);\n    }\n    return bitmap;\n}\n</code></pre>\n<pre><code>@Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        PidifyFile currentFile = files.get(position);\n        holder.pdfName.setText(currentFile.getName());\n        Date lModified = currentFile.getDateCreated();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM dd, yyyy hh:mm aa&quot;);\n        holder.pdfDate.setText(sdf.format(lModified));\n//        holder.pdfSize.setText(humanReadableByteCountSI(currentFile.length()));\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                 resultBitmap=pdfToBitmap(new File(currentFile.getFilePath()), holder);\n            }\n        }).start();\n//        using Glide for smooth loading of images in recycler view\n        Glide.with(holder.itemView.getContext())\n                .asBitmap()\n                .load(resultBitmap)\n                .into(holder.pdfImg);\n    }\n\n\n</code></pre>\n"},{"tags":["java","android-studio","user-permissions"],"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699114684,"creation_date":1699114684,"question_id":77422860,"body_markdown":"I have created a permission for media files but i cannot get the permission, I added permission in manifiest file also.\r\n\r\nCreated a method for permission and asked for permission from the user.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    public static final int REQUEST_CODE=1;\r\n    ArrayList&lt;MusicFiles&gt; musicFiles;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        permission();\r\n        initViewPager();\r\n    }\r\n    private void permission(){\r\n        if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE)\r\n        != PackageManager.PERMISSION_GRANTED)\r\n        {\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}\r\n            ,REQUEST_CODE);\r\n        }\r\n        else {\r\n            Toast.makeText(this, &quot;Permission Granted!&quot;,Toast.LENGTH_SHORT).show();\r\n            musicFiles=getAllAudio(this);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode==REQUEST_CODE)\r\n        {\r\n            if (grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n\r\n                Toast.makeText(this, &quot;Permission Granted!&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n            else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}\r\n                        ,REQUEST_CODE);\r\n            }\r\n        }\r\n    }\r\n\r\n   public static ArrayList&lt;MusicFiles&gt; getAllAudio(Context context)\r\n    {\r\n        ArrayList&lt;MusicFiles&gt; tempAudioList =new ArrayList&lt;&gt;();\r\n        Uri uri= MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n        String[] projection ={\r\n                MediaStore.Audio.Media.ALBUM,\r\n                MediaStore.Audio.Media.TITLE,\r\n                MediaStore.Audio.Media.AUTHOR,\r\n                MediaStore.Audio.Media.DATA,\r\n                MediaStore.Audio.Media.ARTIST\r\n        };\r\n        Cursor cursor=context.getContentResolver().query(uri,projection,\r\n                null,null,null);\r\n        if (cursor!=null)\r\n        {\r\n            while (cursor.moveToNext())\r\n            {\r\n                String album= cursor.getString(0);\r\n                String title= cursor.getString(1);\r\n                String duration= cursor.getString(2);\r\n                String path= cursor.getString(3);\r\n                String artist= cursor.getString(4);\r\n\r\n                MusicFiles musicFiles=new MusicFiles(path,title,artist,album,duration);\r\n                Log.e(&quot;Path: &quot;+path,&quot;Album : &quot;+ album);\r\n                tempAudioList.add(musicFiles);\r\n\r\n            }\r\n            cursor.close();\r\n        }\r\n        return tempAudioList;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried change the WRITE to READ but permission not getting, Iam testing this on real device.\r\n\r\nI want to get the user permission on media that should shows the Song information, like Album, music, artist, more,\r\n\r\nI have also added log to see the details in log windows","title":"Permission Dialog Box not Showing","body":"<p>I have created a permission for media files but i cannot get the permission, I added permission in manifiest file also.</p>\n<p>Created a method for permission and asked for permission from the user.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    public static final int REQUEST_CODE=1;\n    ArrayList&lt;MusicFiles&gt; musicFiles;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        permission();\n        initViewPager();\n    }\n    private void permission(){\n        if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE)\n        != PackageManager.PERMISSION_GRANTED)\n        {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}\n            ,REQUEST_CODE);\n        }\n        else {\n            Toast.makeText(this, &quot;Permission Granted!&quot;,Toast.LENGTH_SHORT).show();\n            musicFiles=getAllAudio(this);\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode==REQUEST_CODE)\n        {\n            if (grantResults[0]==PackageManager.PERMISSION_GRANTED){\n\n                Toast.makeText(this, &quot;Permission Granted!&quot;,Toast.LENGTH_SHORT).show();\n            }\n            else {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}\n                        ,REQUEST_CODE);\n            }\n        }\n    }\n\n   public static ArrayList&lt;MusicFiles&gt; getAllAudio(Context context)\n    {\n        ArrayList&lt;MusicFiles&gt; tempAudioList =new ArrayList&lt;&gt;();\n        Uri uri= MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n        String[] projection ={\n                MediaStore.Audio.Media.ALBUM,\n                MediaStore.Audio.Media.TITLE,\n                MediaStore.Audio.Media.AUTHOR,\n                MediaStore.Audio.Media.DATA,\n                MediaStore.Audio.Media.ARTIST\n        };\n        Cursor cursor=context.getContentResolver().query(uri,projection,\n                null,null,null);\n        if (cursor!=null)\n        {\n            while (cursor.moveToNext())\n            {\n                String album= cursor.getString(0);\n                String title= cursor.getString(1);\n                String duration= cursor.getString(2);\n                String path= cursor.getString(3);\n                String artist= cursor.getString(4);\n\n                MusicFiles musicFiles=new MusicFiles(path,title,artist,album,duration);\n                Log.e(&quot;Path: &quot;+path,&quot;Album : &quot;+ album);\n                tempAudioList.add(musicFiles);\n\n            }\n            cursor.close();\n        }\n        return tempAudioList;\n    }\n\n}\n</code></pre>\n<p>I tried change the WRITE to READ but permission not getting, Iam testing this on real device.</p>\n<p>I want to get the user permission on media that should shows the Song information, like Album, music, artist, more,</p>\n<p>I have also added log to see the details in log windows</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1699115264,"post_id":77422855,"comment_id":136491962,"body_markdown":"1) Create a custom object with two properties: Rectangle and Color 2) Create an ArrayList that contains instances of these objects. 3) in the paintComponent() method you iterate through this list to paint each rectangle. 4) in your mouseClicked event you search this ArrayLIst to find the Rectangle that was clicked and change the color and then repaint the component. See the `DrawOnComponent` example from [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for a working example to get you started. You just need to add the mouseClicked logic.","body":"1) Create a custom object with two properties: Rectangle and Color 2) Create an ArrayList that contains instances of these objects. 3) in the paintComponent() method you iterate through this list to paint each rectangle. 4) in your mouseClicked event you search this ArrayLIst to find the Rectangle that was clicked and change the color and then repaint the component. See the <code>DrawOnComponent</code> example from <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for a working example to get you started. You just need to add the mouseClicked logic."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699119385,"post_id":77422855,"comment_id":136492388,"body_markdown":"Help us to help you. You can improve this question by editing it to show more code, preferably a [complete but minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of what you have so far.","body":"Help us to help you. You can improve this question by editing it to show more code, preferably a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete but minimal reproducible example</a> of what you have so far."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699121110,"post_id":77422855,"comment_id":136492553,"body_markdown":"Hi,  user20377701, and welcome to Stack Overflow. To better understand Stack Overflow and how to use it, here are some resources: [take the tour](https://stackoverflow.com/tour), [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask), the [Help Center](https://stackoverflow.com/help).","body":"Hi,  user20377701, and welcome to Stack Overflow. To better understand Stack Overflow and how to use it, here are some resources: <a href=\"https://stackoverflow.com/tour\">take the tour</a>, <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>, the <a href=\"https://stackoverflow.com/help\">Help Center</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699281558,"post_id":77422855,"comment_id":136508416,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699619408,"post_id":77422855,"comment_id":136557950,"body_markdown":"Rectangle2D doesn&#39;t have color properties it depends on the way you paint it.","body":"Rectangle2D doesn&#39;t have color properties it depends on the way you paint it."}],"owner":{"account_id":26783138,"reputation":1,"user_id":20377701,"display_name":"user20377701"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699114590,"creation_date":1699114590,"question_id":77422855,"body_markdown":"I need to change the mouseClicked function so it will change Rectangle2D color to red\r\n\r\n```\r\npublic void mouseClicked(MouseEvent event) {\r\n\t\t\tcurrent = find(event.getPoint());\r\n\t\t\tif (current != null &amp;&amp; event.getClickCount() &gt;= 2) {\r\n\t\t\t\tremove(current);\r\n\t\t\t\t\r\n\t\t    }\r\n\t\t}\r\n\r\npublic Rectangle2D find(Point2D p) {\r\n\t\tfor(Rectangle2D r : squares)\r\n\t\t\tif(r.contains(p))\r\n\t\t\t\treturn r;\r\n\t\treturn null;\r\n\t}\r\n```\r\n","title":"Change color of Rectangle2D object by double clicking on it","body":"<p>I need to change the mouseClicked function so it will change Rectangle2D color to red</p>\n<pre><code>public void mouseClicked(MouseEvent event) {\n            current = find(event.getPoint());\n            if (current != null &amp;&amp; event.getClickCount() &gt;= 2) {\n                remove(current);\n                \n            }\n        }\n\npublic Rectangle2D find(Point2D p) {\n        for(Rectangle2D r : squares)\n            if(r.contains(p))\n                return r;\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","bytecode","instrumentation","agent","javaagents"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1639683509,"post_id":70384228,"comment_id":124418415,"body_markdown":"`It&#39;s clumsy and bug-prone.`. It&#39;s bug prone to just replace all the bytecode with a previous, precompiled bytecode.","body":"<code>It&#39;s clumsy and bug-prone.</code>. It&#39;s bug prone to just replace all the bytecode with a previous, precompiled bytecode."},{"owner":{"account_id":2972684,"reputation":13,"user_id":2524436,"display_name":"calvinchso"},"score":0,"creation_date":1639689202,"post_id":70384228,"comment_id":124420304,"body_markdown":"So is it still technically possible to swap a class thru java instrumentation?","body":"So is it still technically possible to swap a class thru java instrumentation?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1639692178,"post_id":70384228,"comment_id":124421215,"body_markdown":"Yes, but you can not add or remove methods or fields. (And a new version may add additional methods - which is why most agents modify the bytecode instead of blindly replacing it.) `ClassDefinition` has a [constructor](https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/ClassDefinition.html#ClassDefinition-java.lang.Class-byte:A-).","body":"Yes, but you can not add or remove methods or fields. (And a new version may add additional methods - which is why most agents modify the bytecode instead of blindly replacing it.) <code>ClassDefinition</code> has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/ClassDefinition.html#ClassDefinition-java.lang.Class-byte:A-\" rel=\"nofollow noreferrer\">constructor</a>."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1639730939,"post_id":70384228,"comment_id":124428382,"body_markdown":"You are confusing two unrelated things. Javassist is used to get the bytecode here, i.e. the `byte[]` array returned by `cc.toBytecode()`. Regardless of what you use to bring this bytecode to live, the way you’re using Javassist does not change. You can implement a `ClassFileTransformer` as shown in that blog or call `redefineClasses`, it doesn’t matter. In either case, you need the `byte[]` array.","body":"You are confusing two unrelated things. Javassist is used to get the bytecode here, i.e. the <code>byte[]</code> array returned by <code>cc.toBytecode()</code>. Regardless of what you use to bring this bytecode to live, the way you’re using Javassist does not change. You can implement a <code>ClassFileTransformer</code> as shown in that blog or call <code>redefineClasses</code>, it doesn’t matter. In either case, you need the <code>byte[]</code> array."},{"owner":{"account_id":2972684,"reputation":13,"user_id":2524436,"display_name":"calvinchso"},"score":0,"creation_date":1640974381,"post_id":70384228,"comment_id":124702668,"body_markdown":"@kriegaex, thanks for the answer and suggestion.","body":"@kriegaex, thanks for the answer and suggestion."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699114322,"creation_date":1639712340,"answer_id":70388155,"question_id":70384228,"body_markdown":"Because you are new to Java instrumentation, I want to elaborate a little more on Johannes&#39; correct comments: I recommend you to not just read the Baeldung article but also some related javadocs.\r\n\r\nFor example, the Java 8 API documentation for [`Instrumentation.redefineClasses`](https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#redefineClasses-java.lang.instrument.ClassDefinition...-) clearly states the limitations when redefining classes:\r\n\r\n&gt; The redefinition may change method bodies, the constant pool and attributes. The redefinition must not add, remove or rename fields or methods, change the signatures of methods, or change inheritance. These restrictions maybe be lifted in future versions.\r\n\r\nAlas, the restrictions have not been lifted as of Java 17. The same method is described there as follows:\r\n\r\n&gt; The supported class file changes are described in [JVM TI RedefineClasses](https://docs.oracle.com/en/java/javase/17/docs/specs/jvmti.html#RedefineClasses).\r\n\r\nThe document pointed to basically says the same as the Java 8 documentation, only in some more detail:\r\n\r\n&gt; The redefinition may change method bodies, the constant pool and attributes (unless explicitly prohibited). The redefinition must not add, remove or rename fields or methods, change the signatures of methods, change modifiers, or change inheritance. The redefinition must not change the `NestHost`, `NestMembers`, `Record`, or `PermittedSubclasses` attributes. These restrictions may be lifted in future versions.\r\n\r\nBesides, the very same restrictions apply to [`Instrumentation.retransformClasses`](https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#retransformClasses-java.lang.Class...-), the difference basically being that you do not start from scratch there but use existing class bytes as an input and can chain multiple transformers in order to incrementally instrument your existing class. But even with redefinition, the base line stays the original class, if it was loaded before.","title":"Replacing / Swapping a Java class in Java agent instrumentation","body":"<p>Because you are new to Java instrumentation, I want to elaborate a little more on Johannes' correct comments: I recommend you to not just read the Baeldung article but also some related javadocs.</p>\n<p>For example, the Java 8 API documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#redefineClasses-java.lang.instrument.ClassDefinition...-\" rel=\"nofollow noreferrer\"><code>Instrumentation.redefineClasses</code></a> clearly states the limitations when redefining classes:</p>\n<blockquote>\n<p>The redefinition may change method bodies, the constant pool and attributes. The redefinition must not add, remove or rename fields or methods, change the signatures of methods, or change inheritance. These restrictions maybe be lifted in future versions.</p>\n</blockquote>\n<p>Alas, the restrictions have not been lifted as of Java 17. The same method is described there as follows:</p>\n<blockquote>\n<p>The supported class file changes are described in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jvmti.html#RedefineClasses\" rel=\"nofollow noreferrer\">JVM TI RedefineClasses</a>.</p>\n</blockquote>\n<p>The document pointed to basically says the same as the Java 8 documentation, only in some more detail:</p>\n<blockquote>\n<p>The redefinition may change method bodies, the constant pool and attributes (unless explicitly prohibited). The redefinition must not add, remove or rename fields or methods, change the signatures of methods, change modifiers, or change inheritance. The redefinition must not change the <code>NestHost</code>, <code>NestMembers</code>, <code>Record</code>, or <code>PermittedSubclasses</code> attributes. These restrictions may be lifted in future versions.</p>\n</blockquote>\n<p>Besides, the very same restrictions apply to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#retransformClasses-java.lang.Class...-\" rel=\"nofollow noreferrer\"><code>Instrumentation.retransformClasses</code></a>, the difference basically being that you do not start from scratch there but use existing class bytes as an input and can chain multiple transformers in order to incrementally instrument your existing class. But even with redefinition, the base line stays the original class, if it was loaded before.</p>\n"}],"owner":{"account_id":2972684,"reputation":13,"user_id":2524436,"display_name":"calvinchso"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1639737761,"accepted_answer_id":70388155,"answer_count":1,"score":-1,"last_activity_date":1699114375,"creation_date":1639680840,"question_id":70384228,"body_markdown":"I&#39;ve read this [post](https://www.baeldung.com/java-instrumentation#loading-a-java-agent) which does the bytecode instrumentation in a &quot;line by line&quot; approach. It&#39;s clumsy and bug-prone. I wonder if Javassit supports &quot;replacing&quot; or &quot;swapping&quot; a class with an instrumented class. I see the [redefineClasses](https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#redefineClasses-java.lang.instrument.ClassDefinition...-) method but I&#39;m not sure it&#39;s used for that purposes, plus I can&#39;t find any examples around that. \r\n\r\nI appreciate if anyone in SO can give me an example on using ```redefineClasses``` in ```Javassist```\r\n\r\nMy goal is to use Java instrumentation to extract some meaningful data inside multiple  Java classes and methods, much more than just printing start/end time in those examples. That&#39;s why I think &quot;swapping a Java class&quot; approach is more efficient during development.\r\n\r\nWhat do you guys think and recommend?","title":"Replacing / Swapping a Java class in Java agent instrumentation","body":"<p>I've read this <a href=\"https://www.baeldung.com/java-instrumentation#loading-a-java-agent\" rel=\"nofollow noreferrer\">post</a> which does the bytecode instrumentation in a &quot;line by line&quot; approach. It's clumsy and bug-prone. I wonder if Javassit supports &quot;replacing&quot; or &quot;swapping&quot; a class with an instrumented class. I see the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#redefineClasses-java.lang.instrument.ClassDefinition...-\" rel=\"nofollow noreferrer\">redefineClasses</a> method but I'm not sure it's used for that purposes, plus I can't find any examples around that.</p>\n<p>I appreciate if anyone in SO can give me an example on using <code>redefineClasses</code> in <code>Javassist</code></p>\n<p>My goal is to use Java instrumentation to extract some meaningful data inside multiple  Java classes and methods, much more than just printing start/end time in those examples. That's why I think &quot;swapping a Java class&quot; approach is more efficient during development.</p>\n<p>What do you guys think and recommend?</p>\n"},{"tags":["java","spring","spring-integration","integration","multiserver"],"comments":[{"owner":{"account_id":1560426,"reputation":8053,"user_id":1450401,"accept_rate":61,"display_name":"edwin"},"score":0,"creation_date":1640262570,"post_id":70459246,"comment_id":124555778,"body_markdown":"I guess you mean to run in a cluster. Answer yes, but you need to set infrastructure to do this. https://stackoverflow.com/questions/40662400/spring-inbound-integration-on-cluster-mode","body":"I guess you mean to run in a cluster. Answer yes, but you need to set infrastructure to do this. <a href=\"https://stackoverflow.com/questions/40662400/spring-inbound-integration-on-cluster-mode\" title=\"spring inbound integration on cluster mode\">stackoverflow.com/questions/40662400/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699114252,"creation_date":1640266824,"answer_id":70462923,"question_id":70459246,"body_markdown":"It is really one of the features of Spring Integration to easy implement a distributed solution. You just need add a messaging middle ware into your cluster infrastructure and have all the nodes connected to some destination for sending and receiving. A good example could be a `SubscribableJmsChannel` which you just simple can declare in your application context and all the nodes of your cluster are going to subscribe to this channel for round-robin consumption from JMS queue. It already wouldn&#39;t matter which node produces to this channel. \r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/jms.html#jms-channel.\r\n\r\nAnother sample of similar distributed channels are: AMQP, Kafka, Redis, ZeroMQ.\r\n\r\nYou also can have a shared message store and use it in the `QueueChannel` definition: https://docs.spring.io/spring-integration/docs/current/reference/html/system-management.html#message-store","title":"Can Spring Integration be used in Mutli Server Environment","body":"<p>It is really one of the features of Spring Integration to easy implement a distributed solution. You just need add a messaging middle ware into your cluster infrastructure and have all the nodes connected to some destination for sending and receiving. A good example could be a <code>SubscribableJmsChannel</code> which you just simple can declare in your application context and all the nodes of your cluster are going to subscribe to this channel for round-robin consumption from JMS queue. It already wouldn't matter which node produces to this channel.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jms.html#jms-channel\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jms.html#jms-channel</a>.</p>\n<p>Another sample of similar distributed channels are: AMQP, Kafka, Redis, ZeroMQ.</p>\n<p>You also can have a shared message store and use it in the <code>QueueChannel</code> definition: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/system-management.html#message-store\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/system-management.html#message-store</a></p>\n"}],"owner":{"account_id":11760122,"reputation":21,"user_id":8606452,"display_name":"Kshitiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699114252,"creation_date":1640246524,"question_id":70459246,"body_markdown":"Can we use Spring Integration to configure directory polling for files such that - \r\n\r\nWith 2 servers configured, polling occurs on 1 server and corresponding processing get distributed b/w both the servers.\r\n\r\nAlso, can we switch the polling on either of the servers on runtime ?\r\n\r\n**Edit -**\r\nTried configuring JBDC MetaStore and run the two instances separately, able to poll and process but getting intermittently **DeadLockLoserDataAccessException**\r\n\r\nConfiguration below\r\n\r\n    @Bean\r\n    public MessageChannel fileInputChannel(){\r\n    return new DirectChannel();\r\n    }\r\n    \r\n    @Bean(PollerMetadata.DEFAULT_POLLER)\r\n    public PollerMetadata defaultPoller(){\r\n    PollerMetadata pollermetadata = new PollerMetadata();\r\n    pollermetadata.setMaxMessagesPerPoll(-1);\r\n    pollermetadata.setTrigger(new PeriodicTrigger(1000));\r\n    return pollermetadata;\r\n    }\r\n    \r\n    @Bean\r\n    @InBoundChannelAdapter(value = &quot;fileInputChannel&quot;){\r\n    FileReadingMessageSource source = new FileReadingMessageSource();\r\n    source.setDirectory(&quot;Mylocalpath&quot;);\r\n    FileSystemPersistentAcceptOnceFileListFilter acceptOnce = new FileSystemPersistentAcceptOnceFileListFilter();\r\n    ChainFileListFilter&lt;File&gt; chainFilter = ChainFileListFilter(&quot;.*\\\\.txt&quot;));\r\n    chainFilter.addFilter(acceptOnce);\r\n    source.setFilter(chainFilter);\r\n    source.setUseWatchService(true);\r\n    source.setWatchEvents(FileReadingMessageSource.WatchEventType.CREATE,FileReadingMessageSource.WatchEventType.MODIFY);\r\n    return source;\r\n    }\r\n    \r\n    @Bean\r\n    public IntegrationFlow processFileFlow(){\r\n    return IntegrationFlows.from(&quot;fileInputChannel&quot;)\r\n    .handle(service).get();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Can Spring Integration be used in Mutli Server Environment","body":"<p>Can we use Spring Integration to configure directory polling for files such that -</p>\n<p>With 2 servers configured, polling occurs on 1 server and corresponding processing get distributed b/w both the servers.</p>\n<p>Also, can we switch the polling on either of the servers on runtime ?</p>\n<p><strong>Edit -</strong>\nTried configuring JBDC MetaStore and run the two instances separately, able to poll and process but getting intermittently <strong>DeadLockLoserDataAccessException</strong></p>\n<p>Configuration below</p>\n<pre><code>@Bean\npublic MessageChannel fileInputChannel(){\nreturn new DirectChannel();\n}\n\n@Bean(PollerMetadata.DEFAULT_POLLER)\npublic PollerMetadata defaultPoller(){\nPollerMetadata pollermetadata = new PollerMetadata();\npollermetadata.setMaxMessagesPerPoll(-1);\npollermetadata.setTrigger(new PeriodicTrigger(1000));\nreturn pollermetadata;\n}\n\n@Bean\n@InBoundChannelAdapter(value = &quot;fileInputChannel&quot;){\nFileReadingMessageSource source = new FileReadingMessageSource();\nsource.setDirectory(&quot;Mylocalpath&quot;);\nFileSystemPersistentAcceptOnceFileListFilter acceptOnce = new FileSystemPersistentAcceptOnceFileListFilter();\nChainFileListFilter&lt;File&gt; chainFilter = ChainFileListFilter(&quot;.*\\\\.txt&quot;));\nchainFilter.addFilter(acceptOnce);\nsource.setFilter(chainFilter);\nsource.setUseWatchService(true);\nsource.setWatchEvents(FileReadingMessageSource.WatchEventType.CREATE,FileReadingMessageSource.WatchEventType.MODIFY);\nreturn source;\n}\n\n@Bean\npublic IntegrationFlow processFileFlow(){\nreturn IntegrationFlows.from(&quot;fileInputChannel&quot;)\n.handle(service).get();\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1699102856,"post_id":77422062,"comment_id":136490615,"body_markdown":"You didn&#39;t explain what you need to do","body":"You didn&#39;t explain what you need to do"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1699104396,"post_id":77422062,"comment_id":136490781,"body_markdown":"Your code looks ok, it should print 2 for the string input you provided, and also print correct indexes.","body":"Your code looks ok, it should print 2 for the string input you provided, and also print correct indexes."},{"owner":{"account_id":29824833,"reputation":11,"user_id":22857082,"display_name":"skyRain"},"score":0,"creation_date":1699106621,"post_id":77422062,"comment_id":136491031,"body_markdown":"Sorry for the misunderstanding, I&#39;m trying to solve a problem and my code passes all tests except this:\n\nInput:\n\nqqqqqqqqqqqqqqqqfunfunfwewewewewewqwyeqetweweutqeyqtiwteyurewrererwreeruiouuuieuyoweyuiyuihjknbsbdgfuirghbuhfjlvfhiorhgldfjhfoihjfhdhiihhhfhoihoirehghfhofjhvhrruuuhrhurhuhuhfghfdsjfghfghdfghdfgdfhgjdfhjgheodfhdfbjhtubdjbndfjhgdfjhfjhgfdjghfkjfdhueighfdjk\nfunf\n\nOutput:\n\n1\n17\n\nAnd my code output is\n\n2\n17\n20","body":"Sorry for the misunderstanding, I&#39;m trying to solve a problem and my code passes all tests except this:  Input:  qqqqqqqqqqqqqqqqfunfunfwewewewewewqwyeqetweweutqeyqtiwteyure&zwnj;&#8203;wrererwreeruiouuuieu&zwnj;&#8203;yoweyuiyuihjknbsbdgf&zwnj;&#8203;uirghbuhfjlvfhiorhgl&zwnj;&#8203;dfjhfoihjfhdhiihhhfh&zwnj;&#8203;oihoirehghfhofjhvhrr&zwnj;&#8203;uuuhrhurhuhuhfghfdsj&zwnj;&#8203;fghfghdfghdfgdfhgjdf&zwnj;&#8203;hjgheodfhdfbjhtubdjb&zwnj;&#8203;ndfjhgdfjhfjhgfdjghf&zwnj;&#8203;kjfdhueighfdjk funf  Output:  1 17  And my code output is  2 17 20"},{"owner":{"account_id":2307261,"reputation":7757,"user_id":2026293,"display_name":"pczeus"},"score":1,"creation_date":1699111908,"post_id":77422062,"comment_id":136491602,"body_markdown":"You should update your question with the exact problematic input, the expected output, and an explanation of what the expected output means.","body":"You should update your question with the exact problematic input, the expected output, and an explanation of what the expected output means."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699113336,"creation_date":1699112946,"answer_id":77422749,"question_id":77422062,"body_markdown":"&gt; _&#39;... I need to find the positions and number of occurrences of the string &quot;funf&quot;. ...&#39;_\r\n\r\nUtilize the _[String#indexOf](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int))_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\nList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\nint i = -1;\r\nwhile ((i = s.indexOf(&quot;funf&quot;, ++i)) != -1) l.add(i);\r\n```","title":"Java String Task","body":"<blockquote>\n<p><em>'... I need to find the positions and number of occurrences of the string &quot;funf&quot;. ...'</em></p>\n</blockquote>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)\" rel=\"nofollow noreferrer\">String#indexOf</a></em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\nint i = -1;\nwhile ((i = s.indexOf(&quot;funf&quot;, ++i)) != -1) l.add(i);\n</code></pre>\n"}],"owner":{"account_id":29824833,"reputation":11,"user_id":22857082,"display_name":"skyRain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699114156,"creation_date":1699102106,"question_id":77422062,"body_markdown":"I have such a problem, I wrote the code and it is almost correct, but it incorrectly considers the situation when in the String\r\n&quot;qqqqqqqqqqqqqqqqfunfunfwewewewewewqwyeqet&quot; I need to find the positions and number of occurrences of the string &quot;funf&quot;.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        String s = scan.nextLine();\r\n        String s1 = scan.nextLine();\r\n\r\n        Main main = new Main();\r\n        int howManyTimes = main.calculation(s, s1);\r\n        System.out.println(howManyTimes);\r\n\r\n        int position = -1;\r\n        while ((position = findNextWordPosition(s, s1, position + 1)) != -1) {\r\n            System.out.println(position + 1);\r\n        }\r\n    }\r\n\r\n    public int calculation(String s, String s1) {\r\n\r\n        int howManyTimes = 0;\r\n        for (int i = 0; i &lt; s.length() - s1.length() + 1; i++) {\r\n            int counter = 0;\r\n            for (int j = 0; j &lt; s1.length() &amp;&amp; s1.charAt(j) == s.charAt(i+j); j++) {\r\n                counter++;\r\n            }\r\n            if (s1.length() == counter) {\r\n                howManyTimes++;\r\n            }\r\n        }\r\n        return howManyTimes;\r\n    }\r\n    static int findNextWordPosition(String s, String s1, int startIndex) {\r\n        if (s.isEmpty() || s1.isEmpty() || startIndex &lt; 0) {\r\n            return -1;\r\n        }\r\n\r\n        int position = s.indexOf(s1, startIndex);\r\n\r\n        return position;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nMy code handles this situation incorrectly, please help.","title":"Java String Task","body":"<p>I have such a problem, I wrote the code and it is almost correct, but it incorrectly considers the situation when in the String\n&quot;qqqqqqqqqqqqqqqqfunfunfwewewewewewqwyeqet&quot; I need to find the positions and number of occurrences of the string &quot;funf&quot;.</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        String s = scan.nextLine();\n        String s1 = scan.nextLine();\n\n        Main main = new Main();\n        int howManyTimes = main.calculation(s, s1);\n        System.out.println(howManyTimes);\n\n        int position = -1;\n        while ((position = findNextWordPosition(s, s1, position + 1)) != -1) {\n            System.out.println(position + 1);\n        }\n    }\n\n    public int calculation(String s, String s1) {\n\n        int howManyTimes = 0;\n        for (int i = 0; i &lt; s.length() - s1.length() + 1; i++) {\n            int counter = 0;\n            for (int j = 0; j &lt; s1.length() &amp;&amp; s1.charAt(j) == s.charAt(i+j); j++) {\n                counter++;\n            }\n            if (s1.length() == counter) {\n                howManyTimes++;\n            }\n        }\n        return howManyTimes;\n    }\n    static int findNextWordPosition(String s, String s1, int startIndex) {\n        if (s.isEmpty() || s1.isEmpty() || startIndex &lt; 0) {\n            return -1;\n        }\n\n        int position = s.indexOf(s1, startIndex);\n\n        return position;\n    }\n}\n\n</code></pre>\n<p>My code handles this situation incorrectly, please help.</p>\n"},{"tags":["java","android","google-mlkit"],"comments":[{"owner":{"account_id":18397088,"reputation":226,"user_id":13401226,"display_name":"zhouyi"},"score":0,"creation_date":1698432295,"post_id":77373855,"comment_id":136409693,"body_markdown":"Did you see any error logs from ML Kit libraries?","body":"Did you see any error logs from ML Kit libraries?"},{"owner":{"account_id":17884753,"reputation":1,"user_id":12992700,"display_name":"user12992700"},"score":0,"creation_date":1698573035,"post_id":77373855,"comment_id":136420497,"body_markdown":"No sign of any error in MLKit, logs - only info about Timeout, but these are provided by myself.","body":"No sign of any error in MLKit, logs - only info about Timeout, but these are provided by myself."},{"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"score":0,"creation_date":1698579084,"post_id":77373855,"comment_id":136421043,"body_markdown":"Did you code this instruction: barcodeScanner= new BarcodeScannerMLKit();","body":"Did you code this instruction: barcodeScanner= new BarcodeScannerMLKit();"},{"owner":{"account_id":17884753,"reputation":1,"user_id":12992700,"display_name":"user12992700"},"score":0,"creation_date":1698650054,"post_id":77373855,"comment_id":136427312,"body_markdown":"@SudoKoach yes, I have indeed. I haven&#39;t the exact code as the root of the problem is the method call displayed above, none of the barcodes passed to scan finish its processing in other way than throwing `java.util.concurrent.TimeoutException: Timed out waiting for Task`. I have chcecked that proper images are going on scanner input (but I suppose scanner should work even if there is no barcode on image).","body":"@SudoKoach yes, I have indeed. I haven&#39;t the exact code as the root of the problem is the method call displayed above, none of the barcodes passed to scan finish its processing in other way than throwing <code>java.util.concurrent.TimeoutException: Timed out waiting for Task</code>. I have chcecked that proper images are going on scanner input (but I suppose scanner should work even if there is no barcode on image)."},{"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"score":0,"creation_date":1698658636,"post_id":77373855,"comment_id":136428605,"body_markdown":"According to https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks, the Tasks.await is a static method that returns the Task&#39;s result.  That means the Tasks.await must be called from outside the BarcodeScannerMLKit class.","body":"According to <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a>, the Tasks.await is a static method that returns the Task&#39;s result.  That means the Tasks.await must be called from outside the BarcodeScannerMLKit class."},{"owner":{"account_id":17884753,"reputation":1,"user_id":12992700,"display_name":"user12992700"},"score":0,"creation_date":1698732083,"post_id":77373855,"comment_id":136439153,"body_markdown":"@SudoKoach I have changed code for clarity - MyBarcodeScannerMLKit class is mine to manage, I do use Task.await outside the Google&#39;s MLKit class. Is it enough? I think so.","body":"@SudoKoach I have changed code for clarity - MyBarcodeScannerMLKit class is mine to manage, I do use Task.await outside the Google&#39;s MLKit class. Is it enough? I think so."},{"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"score":0,"creation_date":1698853920,"post_id":77373855,"comment_id":136458250,"body_markdown":"@user12992700 See my answer below.","body":"@user12992700 See my answer below."},{"owner":{"account_id":17884753,"reputation":1,"user_id":12992700,"display_name":"user12992700"},"score":0,"creation_date":1698942474,"post_id":77373855,"comment_id":136471210,"body_markdown":"It may be useful I do use findBarcode in separate thread. Would you like to explain to me why Tasks.await should be used outside this class?","body":"It may be useful I do use findBarcode in separate thread. Would you like to explain to me why Tasks.await should be used outside this class?"},{"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"score":0,"creation_date":1699009879,"post_id":77373855,"comment_id":136479784,"body_markdown":"In &#167; Threading of page https://developers.google.com/android/guides/tasks, it’s written: “Listeners attached to a thread are run on the application main (UI) thread by default.” The task “barcodeScanner.process(inputImage).” is a thread running on the app main thread and Tasks.await is the “parent” thread running also on the app main thread. So there is a conflict of threads. In the &#167; it’s also written “When attaching a listener, you can also specify an Executor that is used to schedule listeners.” Never tried to apply that suggestion. That could be a good challenge.","body":"In &#167; Threading of page <a href=\"https://developers.google.com/android/guides/tasks\" rel=\"nofollow noreferrer\">developers.google.com/android/guides/tasks</a>, it’s written: “Listeners attached to a thread are run on the application main (UI) thread by default.” The task “barcodeScanner.process(inputImage).” is a thread running on the app main thread and Tasks.await is the “parent” thread running also on the app main thread. So there is a conflict of threads. In the &#167; it’s also written “When attaching a listener, you can also specify an Executor that is used to schedule listeners.” Never tried to apply that suggestion. That could be a good challenge."},{"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"score":0,"creation_date":1699780564,"post_id":77373855,"comment_id":136572345,"body_markdown":"@user12992700 Check out this question:https://stackoverflow.com/questions/77457397/can-i-run-five-text-recognizer-synchronously. It&#39;s an interesting use case of a specific Executor and the function await.","body":"@user12992700 Check out this question:<a href=\"https://stackoverflow.com/questions/77457397/can-i-run-five-text-recognizer-synchronously\" title=\"can i run five text recognizer synchronously\">stackoverflow.com/questions/77457397/&hellip;</a>. It&#39;s an interesting use case of a specific Executor and the function await."}],"answers":[{"tags":[],"owner":{"account_id":26709621,"reputation":376,"user_id":20315230,"display_name":"SudoKoach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699113494,"creation_date":1698772418,"answer_id":77397904,"question_id":77373855,"body_markdown":"Here is a short snippet tested that doesn&#39;t make use of the Tasks.await() method.\r\n  \r\n\r\n    public class BarcodeReader {\r\n    \r\n        BarcodeScanner barcodereader;\r\n    \r\n        public BarcodeReader() {\r\n            barcodereader = BarcodeScanning.getClient();\r\n        }\r\n    \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        void readBarcode(Bitmap bmp) {\r\n            \r\n            InputImage image = InputImage.fromBitmap(bmp, 0);\r\n            Task&lt;List&lt;Barcode&gt;&gt; result = barcodereader.process(image);\r\n    \r\n    /* barcodetext is a TextView in MainActivity layout. \r\n    \r\n       Waiting for the Task result to be complete.\r\n       The flag &quot;isComplete()&quot; is triggered whatever\r\n                            the result: success or failure. \r\n    */\r\n            while (!result.isComplete()) {\r\n                barcodetext.setText(&quot;&quot;);\r\n            }\r\n            barcodetext.setVisibility(View.VISIBLE);\r\n            if (result.isSuccessful() &amp;&amp; !result.getResult().isEmpty()) {\r\n                Barcode barcode = result.getResult().get(0);\r\n                barcodetext.setText(barcode.getRawValue());\r\n            } else {\r\n                barcodetext.setText(&quot;&gt;&gt;&gt;&gt;&gt; Reading error!&quot;);\r\n            }\r\n            barcodereader.close();\r\n        }\r\n    }\r\n    \r\n    public class MainActivity {\r\n    \t.....\r\n    \t\r\n    /* Calling instructions in MainActivity. */\r\n    \tBarcodeReader barcodereader = new BarcodeReader();\r\n    \tBitmap bmp=previewView.getBitmap();\r\n    \tbarcodereader.readBarcode(bmp);\r\n    \t\r\n    \t......\r\n    }","title":"MLKit Barcode Scanner does not finish its calculations","body":"<p>Here is a short snippet tested that doesn't make use of the Tasks.await() method.</p>\n<pre><code>public class BarcodeReader {\n\n    BarcodeScanner barcodereader;\n\n    public BarcodeReader() {\n        barcodereader = BarcodeScanning.getClient();\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    void readBarcode(Bitmap bmp) {\n        \n        InputImage image = InputImage.fromBitmap(bmp, 0);\n        Task&lt;List&lt;Barcode&gt;&gt; result = barcodereader.process(image);\n\n/* barcodetext is a TextView in MainActivity layout. \n\n   Waiting for the Task result to be complete.\n   The flag &quot;isComplete()&quot; is triggered whatever\n                        the result: success or failure. \n*/\n        while (!result.isComplete()) {\n            barcodetext.setText(&quot;&quot;);\n        }\n        barcodetext.setVisibility(View.VISIBLE);\n        if (result.isSuccessful() &amp;&amp; !result.getResult().isEmpty()) {\n            Barcode barcode = result.getResult().get(0);\n            barcodetext.setText(barcode.getRawValue());\n        } else {\n            barcodetext.setText(&quot;&gt;&gt;&gt;&gt;&gt; Reading error!&quot;);\n        }\n        barcodereader.close();\n    }\n}\n\npublic class MainActivity {\n    .....\n    \n/* Calling instructions in MainActivity. */\n    BarcodeReader barcodereader = new BarcodeReader();\n    Bitmap bmp=previewView.getBitmap();\n    barcodereader.readBarcode(bmp);\n    \n    ......\n}\n</code></pre>\n"}],"owner":{"account_id":17884753,"reputation":1,"user_id":12992700,"display_name":"user12992700"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699113494,"creation_date":1698406658,"question_id":77373855,"body_markdown":"I am testing MLKit Barcode scanner functionality, but its processing does not end. I had to finish its calculation after 10000ms so that the further processing goes in normal manner.\r\n\r\nI have tried previous versions of MLKit barcode. My current packages are:\r\n\r\n```\r\n   compileSdk 34\r\n    implementation &#39;com.google.mlkit:barcode-scanning:17.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-base:18.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-tflite-java:16.1.0&#39;\r\n```\r\n\r\nThe very code is as following (Java)\r\n\r\n```\r\npublic class MyBarcodeScannerMLKit {\r\n    @NonNull\r\n    private final BarcodeScanner barcodeScanner;\r\n\r\n\r\n    public MyBarcodeScannerMLKit() {\r\n        barcodeScanner = BarcodeScanning.getClient(getCustomBarcodeScannerOptions());\r\n    }\r\n\r\n    @NonNull\r\n    private BarcodeScannerOptions getCustomBarcodeScannerOptions() {\r\n        return new BarcodeScannerOptions\r\n                .Builder()\r\n                .setBarcodeFormats(Barcode.FORMAT_PDF417)\r\n                .enableAllPotentialBarcodes()\r\n                .build();\r\n    }\r\n    @Nullable\r\n    public String findBarcode(@NonNull Bitmap bitmap) throws ExecutionException, InterruptedException, TimeoutException {\r\n        InputImage inputImage = InputImage.fromBitmap(bitmap, 0);\r\n        List&lt;String&gt; barcodesMLKit = Tasks.await(barcodeScanner.process(inputImage),\r\n                10000,\r\n                java.util.concurrent.TimeUnit.MILLISECONDS)\r\n                .stream()\r\n                .map(Barcode::getDisplayValue)\r\n                .filter(value -&gt; !Objects.equals(value, &quot;&quot;))\r\n                .collect(Collectors.toList());\r\n\r\n        if (barcodesMLKit.isEmpty()) return null;\r\n        return barcodesMLKit.get(0);\r\n    }\r\n}\r\n```\r\n\r\nEvery single barcode I have passed (approx 200 x 100px image) results in timeout error.","title":"MLKit Barcode Scanner does not finish its calculations","body":"<p>I am testing MLKit Barcode scanner functionality, but its processing does not end. I had to finish its calculation after 10000ms so that the further processing goes in normal manner.</p>\n<p>I have tried previous versions of MLKit barcode. My current packages are:</p>\n<pre><code>   compileSdk 34\n    implementation 'com.google.mlkit:barcode-scanning:17.2.0'\n    implementation 'com.google.android.gms:play-services-base:18.2.0'\n    implementation 'com.google.android.gms:play-services-tflite-java:16.1.0'\n</code></pre>\n<p>The very code is as following (Java)</p>\n<pre><code>public class MyBarcodeScannerMLKit {\n    @NonNull\n    private final BarcodeScanner barcodeScanner;\n\n\n    public MyBarcodeScannerMLKit() {\n        barcodeScanner = BarcodeScanning.getClient(getCustomBarcodeScannerOptions());\n    }\n\n    @NonNull\n    private BarcodeScannerOptions getCustomBarcodeScannerOptions() {\n        return new BarcodeScannerOptions\n                .Builder()\n                .setBarcodeFormats(Barcode.FORMAT_PDF417)\n                .enableAllPotentialBarcodes()\n                .build();\n    }\n    @Nullable\n    public String findBarcode(@NonNull Bitmap bitmap) throws ExecutionException, InterruptedException, TimeoutException {\n        InputImage inputImage = InputImage.fromBitmap(bitmap, 0);\n        List&lt;String&gt; barcodesMLKit = Tasks.await(barcodeScanner.process(inputImage),\n                10000,\n                java.util.concurrent.TimeUnit.MILLISECONDS)\n                .stream()\n                .map(Barcode::getDisplayValue)\n                .filter(value -&gt; !Objects.equals(value, &quot;&quot;))\n                .collect(Collectors.toList());\n\n        if (barcodesMLKit.isEmpty()) return null;\n        return barcodesMLKit.get(0);\n    }\n}\n</code></pre>\n<p>Every single barcode I have passed (approx 200 x 100px image) results in timeout error.</p>\n"},{"tags":["java","xslt","avro"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1699132319,"post_id":77422774,"comment_id":136493724,"body_markdown":"There is no equivalent of XSLT for Avro. I&#39;m not sure the concept even makes sense for Avro, given that it&#39;s schema-based.","body":"There is no equivalent of XSLT for Avro. I&#39;m not sure the concept even makes sense for Avro, given that it&#39;s schema-based."},{"owner":{"account_id":29279414,"reputation":77,"user_id":22432372,"display_name":"paratrooper"},"score":0,"creation_date":1699133534,"post_id":77422774,"comment_id":136493849,"body_markdown":"@jonhanson XML is also schema based (XSD) just like avro, and it does have transformation concept, hence, XSLT","body":"@jonhanson XML is also schema based (XSD) just like avro, and it does have transformation concept, hence, XSLT"},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1699139524,"post_id":77422774,"comment_id":136494318,"body_markdown":"Schemas are optional with XML and are primarily for validation - you can still read the XML without the schema. With Avro you typically require the schema to be able to read the data.","body":"Schemas are optional with XML and are primarily for validation - you can still read the XML without the schema. With Avro you typically require the schema to be able to read the data."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699281024,"post_id":77422774,"comment_id":136508270,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29279414,"reputation":77,"user_id":22432372,"display_name":"paratrooper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699113364,"creation_date":1699113364,"question_id":77422774,"body_markdown":"I&#39;m trying to transform a payload from avro schema `purchase-order` to another payload of the schema `invoice`.   \r\nWhen I was working with XML, I remember we can do this easily using XSLT. is there any XSLT equivalent for avro? I&#39;m still unable to find such a library for Java. Can anybody point me to a direction how to achieve this?\r\n\r\nThanks","title":"is there any XSLT equivalent for avro payload","body":"<p>I'm trying to transform a payload from avro schema <code>purchase-order</code> to another payload of the schema <code>invoice</code>.<br />\nWhen I was working with XML, I remember we can do this easily using XSLT. is there any XSLT equivalent for avro? I'm still unable to find such a library for Java. Can anybody point me to a direction how to achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","exception","groovy","rest-assured","gmavenplus"],"owner":{"account_id":16063162,"reputation":111,"user_id":11593509,"display_name":"Sunfile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699112749,"creation_date":1699112749,"question_id":77422735,"body_markdown":"I&#39;m working on a PR for RestAssured. There is some Groovy compilation in that project. Because of upgrading to Java 11, I&#39;ve switched from the gmaven plugin to the gmavenplus plugin. \r\n\r\nAfterwards, tests are failing. The expected Java exception is no longer thrown. Instead, a groovy invocation error is thrown because of the Java Exception. Is this caused by the plugin switch? If so, how to make sure the Java Exception is thrown, instead of the groovy exception? Any pointers/help is welcome!\r\n\r\nTest now failing:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Test(expected = SSLHandshakeException.class)\r\n    public void whenEnablingAllowAllHostNamesVerifierWithoutActivatingAKeyStore() throws Exception {\r\n        RestAssured.config = RestAssuredConfig.config().sslConfig(SSLConfig.sslConfig().allowAllHostnames());\r\n        try {\r\n            RestAssured.get(&quot;https://localhost:8443/hello&quot;).then().spec(helloWorldSpec());\r\n        } finally {\r\n            RestAssured.reset();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOutcome:\r\n\r\njava.lang.Exception: Unexpected exception, expected&lt;javax.net.ssl.SSLHandshakeException&gt; but was&lt;org.codehaus.groovy.runtime.InvokerInvocationException&gt; .....\r\nCaused by: org.codehaus.groovy.runtime.InvokerInvocationException: javax.net.ssl.SSLHandshakeException:\r\n\r\nFull code available in the branch: [code][1]\r\n\r\n\r\n  [1]: https://github.com/appiepollo14/rest-assured/tree/feature/json-b3","title":"How to rethrow java exception in groovy after using gmavenplus plugin?","body":"<p>I'm working on a PR for RestAssured. There is some Groovy compilation in that project. Because of upgrading to Java 11, I've switched from the gmaven plugin to the gmavenplus plugin.</p>\n<p>Afterwards, tests are failing. The expected Java exception is no longer thrown. Instead, a groovy invocation error is thrown because of the Java Exception. Is this caused by the plugin switch? If so, how to make sure the Java Exception is thrown, instead of the groovy exception? Any pointers/help is welcome!</p>\n<p>Test now failing:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Test(expected = SSLHandshakeException.class)\npublic void whenEnablingAllowAllHostNamesVerifierWithoutActivatingAKeyStore() throws Exception {\n    RestAssured.config = RestAssuredConfig.config().sslConfig(SSLConfig.sslConfig().allowAllHostnames());\n    try {\n        RestAssured.get(\"https://localhost:8443/hello\").then().spec(helloWorldSpec());\n    } finally {\n        RestAssured.reset();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Outcome:</p>\n<p>java.lang.Exception: Unexpected exception, expected&lt;javax.net.ssl.SSLHandshakeException&gt; but was&lt;org.codehaus.groovy.runtime.InvokerInvocationException&gt; .....\nCaused by: org.codehaus.groovy.runtime.InvokerInvocationException: javax.net.ssl.SSLHandshakeException:</p>\n<p>Full code available in the branch: <a href=\"https://github.com/appiepollo14/rest-assured/tree/feature/json-b3\" rel=\"nofollow noreferrer\">code</a></p>\n"},{"tags":["java","android","webview","chromium"],"owner":{"account_id":23108859,"reputation":70,"user_id":17217071,"display_name":"Prakhar Doneria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699112686,"creation_date":1699091840,"question_id":77421538,"body_markdown":"An app saves html file in Documents \\&gt; ProTec Games \\&gt; HTML Editor PRO \\&gt; *file.html*\r\n\r\nThen tries to run the output file in Chromium WebView\r\n\r\nWhat should be the url or code to open this location in Chromium?\r\n\r\nThe code I have implemented in Java is\r\n\r\n```\r\nCustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\r\nCustomTabsIntent customTabsIntent = builder.build();\r\ncustomTabsIntent.launchUrl(this, Uri.parse(/storage/emulated/0/Documents/ProTec Games/HTML Editor PRO/index.html));\r\n```\r\n\r\nI tried saving file name say *index.html* in a variable &quot;file&quot;","title":"Chromium crashes when loaded a .html in Java","body":"<p>An app saves html file in Documents &gt; ProTec Games &gt; HTML Editor PRO &gt; <em>file.html</em></p>\n<p>Then tries to run the output file in Chromium WebView</p>\n<p>What should be the url or code to open this location in Chromium?</p>\n<p>The code I have implemented in Java is</p>\n<pre><code>CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\nCustomTabsIntent customTabsIntent = builder.build();\ncustomTabsIntent.launchUrl(this, Uri.parse(/storage/emulated/0/Documents/ProTec Games/HTML Editor PRO/index.html));\n</code></pre>\n<p>I tried saving file name say <em>index.html</em> in a variable &quot;file&quot;</p>\n"},{"tags":["java","android","view","keyevent"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268117,"post_id":77422721,"comment_id":136505770,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23521960,"reputation":1,"user_id":22780600,"display_name":"Ilya Pafnutov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699112478,"creation_date":1699112478,"question_id":77422721,"body_markdown":"Inside my custom view class I am using `Overscroller` class to scroll it when user touches the screen. It works great, and now I want my view to be able to scroll when I press arrows keys and to do this this I use `overscroller.startScroll(startX,startY, distX,distY, duration)`, but in order to animate the scroll correctly when user holds the key I have to know the delay in millisecond between keys repeating.\r\nAs it is managed by android system, I think there should a way to get this value ?","title":"Get android system key repeat time","body":"<p>Inside my custom view class I am using <code>Overscroller</code> class to scroll it when user touches the screen. It works great, and now I want my view to be able to scroll when I press arrows keys and to do this this I use <code>overscroller.startScroll(startX,startY, distX,distY, duration)</code>, but in order to animate the scroll correctly when user holds the key I have to know the delay in millisecond between keys repeating.\nAs it is managed by android system, I think there should a way to get this value ?</p>\n"},{"tags":["java","android","okhttp","server-sent-events"],"answers":[{"tags":[],"owner":{"account_id":21226912,"reputation":9,"user_id":15612424,"display_name":"simonetassi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699111929,"creation_date":1698941562,"answer_id":77411220,"question_id":77404569,"body_markdown":"\r\nSolved using another library: https://github.com/AndroidDeveloper98/ServerSentEventsAndroid which implements a listener. Here&#39;s my onMessage() method implementation: \r\n\r\n     @Override\r\n        public void onMessage(ServerSentEvent sse, String id, String event, String message) {\r\n            Log.d(TAG, &quot;EVENT: &quot; + event);\r\n            lastEventId = id;\r\n            switch(event) {\r\n                case &quot;thing_created&quot;:\r\n                    consumeExploredThing(Thing.fromJson(message));\r\n                    break;\r\n                case &quot;thing_updated&quot;:\r\n                    Log.d(TAG, message);\r\n                    break;\r\n                case &quot;thing_deleted&quot;:\r\n                    try{\r\n                        JSONObject jsonObject = new JSONObject(message);\r\n                        deleteDiscoveredThing(jsonObject.getString(&quot;id&quot;));\r\n                    } catch (JSONException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                    break;\r\n                default:\r\n                    Log.d(TAG, &quot;ERROR!&quot;);\r\n            }\r\n        }","title":"Passing values from okhttp-eventsource BackgroundEventHandler to Main Thread","body":"<p>Solved using another library: <a href=\"https://github.com/AndroidDeveloper98/ServerSentEventsAndroid\" rel=\"nofollow noreferrer\">https://github.com/AndroidDeveloper98/ServerSentEventsAndroid</a> which implements a listener. Here's my onMessage() method implementation:</p>\n<pre><code> @Override\n    public void onMessage(ServerSentEvent sse, String id, String event, String message) {\n        Log.d(TAG, &quot;EVENT: &quot; + event);\n        lastEventId = id;\n        switch(event) {\n            case &quot;thing_created&quot;:\n                consumeExploredThing(Thing.fromJson(message));\n                break;\n            case &quot;thing_updated&quot;:\n                Log.d(TAG, message);\n                break;\n            case &quot;thing_deleted&quot;:\n                try{\n                    JSONObject jsonObject = new JSONObject(message);\n                    deleteDiscoveredThing(jsonObject.getString(&quot;id&quot;));\n                } catch (JSONException ex) {\n                    ex.printStackTrace();\n                }\n                break;\n            default:\n                Log.d(TAG, &quot;ERROR!&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21226912,"reputation":9,"user_id":15612424,"display_name":"simonetassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77411220,"answer_count":1,"score":0,"last_activity_date":1699111929,"creation_date":1698860450,"question_id":77404569,"body_markdown":"I&#39;m trying to use okhttp-eventsource lib to handle Service Sent Events in my Android App but I can&#39;t figure out how to pass the values received from the onMessage() method to my Main Thread. \r\nThis is my goal: everytime a new JSON is posted to my server I would like to get it and process it on my Main Thread.\r\n\r\nThis is what my code looks like but it&#39;s not working.\r\n`BackgroundEventHandler.onMessage()` method prints on the log the received message, but I get `NetworkOnMainThreadException` on the Main Thread even if `.messages()` method should just return an iterable sequence of SSE messages.\r\n\r\nBackgroundEventHandler.java\r\n```\r\n...\r\npublic void onMessage(String event, MessageEvent messageEvent){\r\n        Log.d(TAG, messageEvent.getData().toString());\r\n    }\r\n...\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\n...\r\nprivate void newThingCreated() throws MalformedURLException{\r\n        BackgroundEventSource bes = new BackgroundEventSource.Builder(tcHandler,\r\n                new EventSource.Builder(\r\n                        ConnectStrategy.http(explorer.createQueryUrl(&quot;/events/thing_created&quot;))\r\n                                .connectTimeout(10, TimeUnit.SECONDS)\r\n                        // connectTimeout and other HTTP options are now set through\r\n                        // HttpConnectStrategy\r\n                )\r\n        )\r\n                .threadPriority(Thread.MAX_PRIORITY)\r\n                // threadPriority, and other options related to worker threads,\r\n                // are now properties of BackgroundEventSource\r\n                .build();\r\n        bes.start();\r\n        bes.getEventSource().messages().forEach(new Consumer&lt;MessageEvent&gt;() {\r\n            @Override\r\n            public void accept(MessageEvent messageEvent) {\r\n                Log.d(TAG, messageEvent.toString());\r\n            }\r\n        });\r\n    }\r\n...\r\n```\r\n\r\n`tcHandler` is my BackgroundEventHandler.\r\n\r\nThanks in advance!\r\n\r\n","title":"Passing values from okhttp-eventsource BackgroundEventHandler to Main Thread","body":"<p>I'm trying to use okhttp-eventsource lib to handle Service Sent Events in my Android App but I can't figure out how to pass the values received from the onMessage() method to my Main Thread.\nThis is my goal: everytime a new JSON is posted to my server I would like to get it and process it on my Main Thread.</p>\n<p>This is what my code looks like but it's not working.\n<code>BackgroundEventHandler.onMessage()</code> method prints on the log the received message, but I get <code>NetworkOnMainThreadException</code> on the Main Thread even if <code>.messages()</code> method should just return an iterable sequence of SSE messages.</p>\n<p>BackgroundEventHandler.java</p>\n<pre><code>...\npublic void onMessage(String event, MessageEvent messageEvent){\n        Log.d(TAG, messageEvent.getData().toString());\n    }\n...\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>...\nprivate void newThingCreated() throws MalformedURLException{\n        BackgroundEventSource bes = new BackgroundEventSource.Builder(tcHandler,\n                new EventSource.Builder(\n                        ConnectStrategy.http(explorer.createQueryUrl(&quot;/events/thing_created&quot;))\n                                .connectTimeout(10, TimeUnit.SECONDS)\n                        // connectTimeout and other HTTP options are now set through\n                        // HttpConnectStrategy\n                )\n        )\n                .threadPriority(Thread.MAX_PRIORITY)\n                // threadPriority, and other options related to worker threads,\n                // are now properties of BackgroundEventSource\n                .build();\n        bes.start();\n        bes.getEventSource().messages().forEach(new Consumer&lt;MessageEvent&gt;() {\n            @Override\n            public void accept(MessageEvent messageEvent) {\n                Log.d(TAG, messageEvent.toString());\n            }\n        });\n    }\n...\n</code></pre>\n<p><code>tcHandler</code> is my BackgroundEventHandler.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":5835334,"reputation":591,"user_id":4598590,"accept_rate":57,"display_name":"sbsatter"},"score":0,"creation_date":1618987536,"post_id":63626289,"comment_id":118765049,"body_markdown":"Did you overcome this problem?","body":"Did you overcome this problem?"}],"answers":[{"tags":[],"owner":{"account_id":6721149,"reputation":1665,"user_id":5181125,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598579780,"creation_date":1598579780,"answer_id":63626405,"question_id":63626289,"body_markdown":"Error says org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates//view/checkout.html]&quot;)\r\n\r\nNote the double // before view. Try removing / before view in your return statement","title":"When i use th:action and method attribute together in form tag in Thymeleaf, it is giving me exception","body":"<p>Error says org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates//view/checkout.html]&quot;)</p>\n<p>Note the double // before view. Try removing / before view in your return statement</p>\n"},{"tags":[],"owner":{"account_id":5835334,"reputation":591,"user_id":4598590,"accept_rate":57,"display_name":"sbsatter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618994944,"creation_date":1618994944,"answer_id":67192363,"question_id":63626289,"body_markdown":"There are multiple questions on SO explaining similar problems but most of them had no answers apart from this answers [here][1].\r\n\r\nI inspected the issue further in my case, every time JSESSIONID was not set or modified manually, this error would appear. \r\n\r\nI did some tiny experiments to figure out in which case the issue would go away:\r\n1. Using Session creation policy ALWAYS would make the problem go away by always generating a session.\r\n```\r\n    .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n```\r\n2. Using csrf token repository (as described in [Spring Security Issue 3906][2]) also helps to persist the csrf token (without using lazy persistence) by eagerly creating it. Also the **CookieCsrfTokenRepository** may be used.\r\n```\r\n    .csrf()\r\n\t\t.csrfTokenRepository(new HttpSessionCsrfTokenRepository())\r\n```\r\n\r\nWith anonymous user, the application only generates session if required and hence, requesting a CSRF token when rendering a form can cause this issue in certain conditions such as rendering the form late in a long html file. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52982246/spring-thymeleaf-throws-cannot-create-a-session-after-the-response-has-been-com\r\n  [2]: https://github.com/spring-projects/spring-security/issues/3906","title":"When i use th:action and method attribute together in form tag in Thymeleaf, it is giving me exception","body":"<p>There are multiple questions on SO explaining similar problems but most of them had no answers apart from this answers <a href=\"https://stackoverflow.com/questions/52982246/spring-thymeleaf-throws-cannot-create-a-session-after-the-response-has-been-com\">here</a>.</p>\n<p>I inspected the issue further in my case, every time JSESSIONID was not set or modified manually, this error would appear.</p>\n<p>I did some tiny experiments to figure out in which case the issue would go away:</p>\n<ol>\n<li>Using Session creation policy ALWAYS would make the problem go away by always generating a session.</li>\n</ol>\n<pre><code>    .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n</code></pre>\n<ol start=\"2\">\n<li>Using csrf token repository (as described in <a href=\"https://github.com/spring-projects/spring-security/issues/3906\" rel=\"nofollow noreferrer\">Spring Security Issue 3906</a>) also helps to persist the csrf token (without using lazy persistence) by eagerly creating it. Also the <strong>CookieCsrfTokenRepository</strong> may be used.</li>\n</ol>\n<pre><code>    .csrf()\n        .csrfTokenRepository(new HttpSessionCsrfTokenRepository())\n</code></pre>\n<p>With anonymous user, the application only generates session if required and hence, requesting a CSRF token when rendering a form can cause this issue in certain conditions such as rendering the form late in a long html file.</p>\n"},{"tags":[],"owner":{"account_id":5060575,"reputation":516,"user_id":4062341,"accept_rate":60,"display_name":"ǝlpoodooɟƃuooʞ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699111557,"creation_date":1699111557,"answer_id":77422655,"question_id":63626289,"body_markdown":"Based on @sbsatter&#39;s answer I managed to solve my problem. I had to modify the code a bit due to some `depricated` flags. For Spring Boot 3.x it would look more like:\r\n\r\n```java\r\n http.authorizeHttpRequests(\r\n      requests -&gt; requests.anyRequest().permitAll())\r\n      .sessionManagement(sm -&gt;  \r\n          sm.sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n      )\r\n      .csrf(csrf -&gt;\r\n          csrf.csrfTokenRepository(new HttpSessionCsrfTokenRepository())\r\n      );\r\n```\r\n\r\n ","title":"When i use th:action and method attribute together in form tag in Thymeleaf, it is giving me exception","body":"<p>Based on @sbsatter's answer I managed to solve my problem. I had to modify the code a bit due to some <code>depricated</code> flags. For Spring Boot 3.x it would look more like:</p>\n<pre class=\"lang-java prettyprint-override\"><code> http.authorizeHttpRequests(\n      requests -&gt; requests.anyRequest().permitAll())\n      .sessionManagement(sm -&gt;  \n          sm.sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n      )\n      .csrf(csrf -&gt;\n          csrf.csrfTokenRepository(new HttpSessionCsrfTokenRepository())\n      );\n</code></pre>\n"}],"owner":{"account_id":11553799,"reputation":310,"user_id":8465530,"display_name":"Ijhar Ansari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699111557,"creation_date":1598578753,"question_id":63626289,"body_markdown":"This is very weird that when i th:action and method attribute in form tag, it is giving me exceptions but when i remove method attribute from the form tag, no exception occur. What i mean is\r\nWhen is use\r\n\r\n    &lt;form id=&quot;deliveryAddressForm&quot; action=&quot;#&quot; th:action=&quot;@{/product/save-address}&quot; method=&quot;post&quot; th:object=&quot;${address}&quot;&gt;\r\n**Exception occurs**\r\n\r\n    &lt;form id=&quot;deliveryAddressForm&quot; action=&quot;#&quot; th:action=&quot;@{/product/save-address}&quot; th:object=&quot;${address}&quot;&gt;\r\n\r\n**No exception after removing method=&quot;post&quot;**\r\n\r\nI don&#39;t understand why it is behaving like this.\r\n\r\n**Please find the code attached below**\r\n\r\n1. Html Code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form id=&quot;deliveryAddressForm&quot; action=&quot;#&quot; th:action=&quot;@{/product/save-address}&quot; method=&quot;post&quot; th:object=&quot;${address}&quot;&gt;\r\n                                            &lt;!-- Invoice Address--&gt;\r\n                                            &lt;h3 class=&quot;mb-4&quot;&gt; Invoice address&lt;/h3&gt;\r\n                                            &lt;div class=&quot;row&quot;&gt;\r\n                                                &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                    &lt;label class=&quot;form-label&quot; for=&quot;fullname_invoice&quot;&gt;Full Name&lt;/label&gt;\r\n                                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{name}&quot; placeholder=&quot;Joe Black&quot; id=&quot;fullname_invoice&quot;&gt;\r\n                                                &lt;/div&gt;\r\n                                                &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                    &lt;label class=&quot;form-label&quot; for=&quot;emailaddress_invoice&quot;&gt;Email Address&lt;/label&gt;\r\n                                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{email}&quot; placeholder=&quot;joe.black@gmail.com&quot; id=&quot;emailaddress_invoice&quot;&gt;\r\n                                                &lt;/div&gt;\r\n                                                &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                    &lt;label class=&quot;form-label&quot; for=&quot;phonenumber_invoice&quot;&gt;Phone Number&lt;/label&gt;\r\n                                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{mobile}&quot; placeholder=&quot;Phone Number&quot; id=&quot;phonenumber_invoice&quot;&gt;\r\n                                                &lt;/div&gt;\r\n                                                &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                    &lt;label class=&quot;form-label&quot; for=&quot;street_invoice&quot;&gt;Street&lt;/label&gt;\r\n                                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{street}&quot; placeholder=&quot;123 Main St.&quot; id=&quot;street_invoice&quot;&gt;\r\n                                                &lt;/div&gt;\r\n                                                &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                    &lt;label class=&quot;form-label&quot; for=&quot;city_invoice&quot;&gt;City&lt;/label&gt;\r\n                                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{city}&quot; placeholder=&quot;City&quot; id=&quot;city_invoice&quot;&gt;\r\n                                                &lt;/div&gt;\r\n                                                &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                    &lt;label class=&quot;form-label&quot; for=&quot;zip_invoice&quot;&gt;Pincode&lt;/label&gt;\r\n                                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{pincode}&quot; placeholder=&quot;Postal code&quot; id=&quot;zip_invoice&quot;&gt;\r\n                                                &lt;/div&gt;\r\n                                                &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                    &lt;label class=&quot;form-label&quot; for=&quot;state_invoice&quot;&gt;Land Mark&lt;/label&gt;\r\n                                                    &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{landmark}&quot; placeholder=&quot;State&quot; id=&quot;state_invoice&quot;&gt;\r\n                                                &lt;/div&gt;\r\n                                                &lt;div class=&quot;form-group col-12 mt-3&quot;&gt;\r\n                                                    &lt;div class=&quot;custom-control custom-checkbox&quot;&gt;\r\n                                                        &lt;input class=&quot;custom-control-input&quot; id=&quot;show-shipping-address&quot; type=&quot;checkbox&quot; name=&quot;clothes-brand&quot;&gt;\r\n                                                        &lt;label class=&quot;custom-control-label align-middle&quot; for=&quot;show-shipping-address&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#shippingAddress&quot;&gt;Use a different shipping address&lt;/label&gt;\r\n                                                    &lt;/div&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;!-- /Invoice Address--&gt;\r\n                                            &lt;!-- Shippping Address--&gt;\r\n                                            &lt;div class=&quot;collapse&quot; id=&quot;shippingAddress&quot;&gt;\r\n                                                &lt;h3 class=&quot;my-4&quot;&gt;Shipping address &lt;/h3&gt;\r\n                                                &lt;div class=&quot;row&quot;&gt;\r\n                                                    &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                        &lt;label class=&quot;form-label&quot; for=&quot;street_shipping&quot;&gt;Street&lt;/label&gt;\r\n                                                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{street1}&quot; placeholder=&quot;123 Main St.&quot; id=&quot;street_shipping&quot;&gt;\r\n                                                    &lt;/div&gt;\r\n                                                    &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                        &lt;label class=&quot;form-label&quot; for=&quot;city_shipping&quot;&gt;City&lt;/label&gt;\r\n                                                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{city1}&quot; placeholder=&quot;City&quot; id=&quot;city_shipping&quot;&gt;\r\n                                                    &lt;/div&gt;\r\n                                                    &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                        &lt;label class=&quot;form-label&quot; for=&quot;zip_shipping&quot;&gt;Pin&lt;/label&gt;\r\n                                                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{pincode1}&quot; placeholder=&quot;Postal code&quot; id=&quot;zip_shipping&quot;&gt;\r\n                                                    &lt;/div&gt;\r\n                                                    &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                        &lt;label class=&quot;form-label&quot; for=&quot;state_shipping&quot;&gt;Land Mark&lt;/label&gt;\r\n                                                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{landmark1}&quot; placeholder=&quot;State&quot; id=&quot;state_shipping&quot;&gt;\r\n                                                    &lt;/div&gt;\r\n                                                    &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                                                        &lt;label class=&quot;form-label&quot; for=&quot;phonenumber_shipping&quot;&gt;Phone Number&lt;/label&gt;\r\n                                                        &lt;input class=&quot;form-control&quot; type=&quot;text&quot; th:field=&quot;*{mobile1}&quot; placeholder=&quot;Phone Number&quot; id=&quot;phonenumber_shipping&quot;&gt;\r\n                                                    &lt;/div&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;!-- /Shipping Address--&gt;\r\n                                            &lt;div class=&quot;my-5 d-flex justify-content-between flex-column flex-lg-row&quot;&gt;&lt;a class=&quot;btn btn-link text-muted&quot; href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-angle-left mr-2&quot;&gt;&lt;/i&gt;Back &lt;/a&gt;&lt;a class=&quot;btn btn-dark forward-btn&quot; data-pan=&quot;1&quot; href=&quot;javascript:void(0)&quot; id=&quot;saveDeliveryAddressForm&quot;&gt;Choose delivery method&lt;i class=&quot;fa fa-angle-right ml-2&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/div&gt;\r\n                                        &lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2. Model\r\n```\r\n    package com.ij.ikimall.bean;\r\n\r\n\r\n    import org.springframework.stereotype.Component;\r\n\r\nimport java.io.Serializable;\r\n@Component\r\npublic class AddressBean implements Serializable {\r\n    private String name;\r\n    private String email;\r\n    private String mobile;\r\n    private String street;\r\n    private String city;\r\n    private String pincode;\r\n    private String landmark;\r\n    private String mobile1;\r\n    private String street1;\r\n    private String city1;\r\n    private String pincode1;\r\n    private String landmark1;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getMobile() {\r\n        return mobile;\r\n    }\r\n\r\n    public void setMobile(String mobile) {\r\n        this.mobile = mobile;\r\n    }\r\n\r\n    public String getStreet() {\r\n        return street;\r\n    }\r\n\r\n    public void setStreet(String street) {\r\n        this.street = street;\r\n    }\r\n\r\n    public String getCity() {\r\n        return city;\r\n    }\r\n\r\n    public void setCity(String city) {\r\n        this.city = city;\r\n    }\r\n\r\n    public String getPincode() {\r\n        return pincode;\r\n    }\r\n\r\n    public void setPincode(String pincode) {\r\n        this.pincode = pincode;\r\n    }\r\n\r\n    public String getLandmark() {\r\n        return landmark;\r\n    }\r\n\r\n    public void setLandmark(String landmark) {\r\n        this.landmark = landmark;\r\n    }\r\n\r\n    public String getMobile1() {\r\n        return mobile1;\r\n    }\r\n\r\n    public void setMobile1(String mobile1) {\r\n        this.mobile1 = mobile1;\r\n    }\r\n\r\n    public String getStreet1() {\r\n        return street1;\r\n    }\r\n\r\n    public void setStreet1(String street1) {\r\n        this.street1 = street1;\r\n    }\r\n\r\n    public String getCity1() {\r\n        return city1;\r\n    }\r\n\r\n    public void setCity1(String city1) {\r\n        this.city1 = city1;\r\n    }\r\n\r\n    public String getPincode1() {\r\n        return pincode1;\r\n    }\r\n\r\n    public void setPincode1(String pincode1) {\r\n        this.pincode1 = pincode1;\r\n    }\r\n\r\n    public String getLandmark1() {\r\n        return landmark1;\r\n    }\r\n\r\n    public void setLandmark1(String landmark1) {\r\n        this.landmark1 = landmark1;\r\n    }\r\n}\r\n```\r\n\r\n3. controller\r\n\r\n```\r\n@GetMapping(&quot;/checkout/{productEncId}&quot;)\r\n    public String checkout(@PathVariable(value = &quot;productEncId&quot;)String productEncId,Model model) {\r\n        Product product = productService.findByEncryptedId(productEncId);\r\n        model.addAttribute(&quot;productEncId&quot;,productEncId);\r\n        AddressBean address = new AddressBean();\r\n        model.addAttribute(&quot;address&quot;,address);\r\n        return &quot;view/checkout&quot;;\r\n    }\r\n```\r\n    \r\n**Also please find the detail exceptions generated**\r\n```\r\n2020-08-28 15:51:08.507 ERROR 20228 --- [nio-8989-exec-8] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8989-exec-8] Exception processing template &quot;view/checkout&quot;: An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)\r\n\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\r\n\r\nCaused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringActionTagProcessor&#39; (template: &quot;view/checkout&quot; - line 41, col 79)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringActionTagProcessor&#39; (template: &quot;view/checkout&quot; - line 41, col 79)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\r\nCaused by: java.lang.IllegalStateException: Cannot create a session after the response has been committed\r\n\tat org.apache.catalina.connector.Request.doGetSession(Request.java:2999) ~[tomcat-embed-core-9.0.36.jar:9.0.36]\r\n\tat org.apache.catalina.connector.Request.getSession(Request.java:2441) ~[tomcat-embed-core-9.0.36.jar:9.0.36]\r\n2020-08-28 15:51:08.524 ERROR 20228 --- [nio-8989-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)] with root cause\r\n\r\njava.lang.IllegalStateException: Cannot create a session after the response has been committed\r\n\tat org.apache.catalina.connector.Request.doGetSession(Request.java:2999) ~[tomcat-embed-core-9.0.36.jar:9.0.36]\r\n\r\n2020-08-28 15:51:08.640 ERROR 20228 --- [nio-8989-exec-8] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/product/checkout/fvssrg5OLcM=] and exception [An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)] as the response has already been committed. As a result, the response may have the wrong status code.\r\n\r\n\r\n```\r\n    ","title":"When i use th:action and method attribute together in form tag in Thymeleaf, it is giving me exception","body":"<p>This is very weird that when i th:action and method attribute in form tag, it is giving me exceptions but when i remove method attribute from the form tag, no exception occur. What i mean is\nWhen is use</p>\n<pre><code>&lt;form id=&quot;deliveryAddressForm&quot; action=&quot;#&quot; th:action=&quot;@{/product/save-address}&quot; method=&quot;post&quot; th:object=&quot;${address}&quot;&gt;\n</code></pre>\n<p><strong>Exception occurs</strong></p>\n<pre><code>&lt;form id=&quot;deliveryAddressForm&quot; action=&quot;#&quot; th:action=&quot;@{/product/save-address}&quot; th:object=&quot;${address}&quot;&gt;\n</code></pre>\n<p><strong>No exception after removing method=&quot;post&quot;</strong></p>\n<p>I don't understand why it is behaving like this.</p>\n<p><strong>Please find the code attached below</strong></p>\n<ol>\n<li>Html Code</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form id=\"deliveryAddressForm\" action=\"#\" th:action=\"@{/product/save-address}\" method=\"post\" th:object=\"${address}\"&gt;\n                                        &lt;!-- Invoice Address--&gt;\n                                        &lt;h3 class=\"mb-4\"&gt; Invoice address&lt;/h3&gt;\n                                        &lt;div class=\"row\"&gt;\n                                            &lt;div class=\"form-group col-md-6\"&gt;\n                                                &lt;label class=\"form-label\" for=\"fullname_invoice\"&gt;Full Name&lt;/label&gt;\n                                                &lt;input class=\"form-control\" type=\"text\" th:field=\"*{name}\" placeholder=\"Joe Black\" id=\"fullname_invoice\"&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"form-group col-md-6\"&gt;\n                                                &lt;label class=\"form-label\" for=\"emailaddress_invoice\"&gt;Email Address&lt;/label&gt;\n                                                &lt;input class=\"form-control\" type=\"text\" th:field=\"*{email}\" placeholder=\"joe.black@gmail.com\" id=\"emailaddress_invoice\"&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"form-group col-md-6\"&gt;\n                                                &lt;label class=\"form-label\" for=\"phonenumber_invoice\"&gt;Phone Number&lt;/label&gt;\n                                                &lt;input class=\"form-control\" type=\"text\" th:field=\"*{mobile}\" placeholder=\"Phone Number\" id=\"phonenumber_invoice\"&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"form-group col-md-6\"&gt;\n                                                &lt;label class=\"form-label\" for=\"street_invoice\"&gt;Street&lt;/label&gt;\n                                                &lt;input class=\"form-control\" type=\"text\" th:field=\"*{street}\" placeholder=\"123 Main St.\" id=\"street_invoice\"&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"form-group col-md-6\"&gt;\n                                                &lt;label class=\"form-label\" for=\"city_invoice\"&gt;City&lt;/label&gt;\n                                                &lt;input class=\"form-control\" type=\"text\" th:field=\"*{city}\" placeholder=\"City\" id=\"city_invoice\"&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"form-group col-md-6\"&gt;\n                                                &lt;label class=\"form-label\" for=\"zip_invoice\"&gt;Pincode&lt;/label&gt;\n                                                &lt;input class=\"form-control\" type=\"text\" th:field=\"*{pincode}\" placeholder=\"Postal code\" id=\"zip_invoice\"&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"form-group col-md-6\"&gt;\n                                                &lt;label class=\"form-label\" for=\"state_invoice\"&gt;Land Mark&lt;/label&gt;\n                                                &lt;input class=\"form-control\" type=\"text\" th:field=\"*{landmark}\" placeholder=\"State\" id=\"state_invoice\"&gt;\n                                            &lt;/div&gt;\n                                            &lt;div class=\"form-group col-12 mt-3\"&gt;\n                                                &lt;div class=\"custom-control custom-checkbox\"&gt;\n                                                    &lt;input class=\"custom-control-input\" id=\"show-shipping-address\" type=\"checkbox\" name=\"clothes-brand\"&gt;\n                                                    &lt;label class=\"custom-control-label align-middle\" for=\"show-shipping-address\" data-toggle=\"collapse\" data-target=\"#shippingAddress\"&gt;Use a different shipping address&lt;/label&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;!-- /Invoice Address--&gt;\n                                        &lt;!-- Shippping Address--&gt;\n                                        &lt;div class=\"collapse\" id=\"shippingAddress\"&gt;\n                                            &lt;h3 class=\"my-4\"&gt;Shipping address &lt;/h3&gt;\n                                            &lt;div class=\"row\"&gt;\n                                                &lt;div class=\"form-group col-md-6\"&gt;\n                                                    &lt;label class=\"form-label\" for=\"street_shipping\"&gt;Street&lt;/label&gt;\n                                                    &lt;input class=\"form-control\" type=\"text\" th:field=\"*{street1}\" placeholder=\"123 Main St.\" id=\"street_shipping\"&gt;\n                                                &lt;/div&gt;\n                                                &lt;div class=\"form-group col-md-6\"&gt;\n                                                    &lt;label class=\"form-label\" for=\"city_shipping\"&gt;City&lt;/label&gt;\n                                                    &lt;input class=\"form-control\" type=\"text\" th:field=\"*{city1}\" placeholder=\"City\" id=\"city_shipping\"&gt;\n                                                &lt;/div&gt;\n                                                &lt;div class=\"form-group col-md-6\"&gt;\n                                                    &lt;label class=\"form-label\" for=\"zip_shipping\"&gt;Pin&lt;/label&gt;\n                                                    &lt;input class=\"form-control\" type=\"text\" th:field=\"*{pincode1}\" placeholder=\"Postal code\" id=\"zip_shipping\"&gt;\n                                                &lt;/div&gt;\n                                                &lt;div class=\"form-group col-md-6\"&gt;\n                                                    &lt;label class=\"form-label\" for=\"state_shipping\"&gt;Land Mark&lt;/label&gt;\n                                                    &lt;input class=\"form-control\" type=\"text\" th:field=\"*{landmark1}\" placeholder=\"State\" id=\"state_shipping\"&gt;\n                                                &lt;/div&gt;\n                                                &lt;div class=\"form-group col-md-6\"&gt;\n                                                    &lt;label class=\"form-label\" for=\"phonenumber_shipping\"&gt;Phone Number&lt;/label&gt;\n                                                    &lt;input class=\"form-control\" type=\"text\" th:field=\"*{mobile1}\" placeholder=\"Phone Number\" id=\"phonenumber_shipping\"&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;!-- /Shipping Address--&gt;\n                                        &lt;div class=\"my-5 d-flex justify-content-between flex-column flex-lg-row\"&gt;&lt;a class=\"btn btn-link text-muted\" href=\"#\"&gt; &lt;i class=\"fa fa-angle-left mr-2\"&gt;&lt;/i&gt;Back &lt;/a&gt;&lt;a class=\"btn btn-dark forward-btn\" data-pan=\"1\" href=\"javascript:void(0)\" id=\"saveDeliveryAddressForm\"&gt;Choose delivery method&lt;i class=\"fa fa-angle-right ml-2\"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/div&gt;\n                                    &lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li>Model</li>\n</ol>\n<pre><code>    package com.ij.ikimall.bean;\n\n\n    import org.springframework.stereotype.Component;\n\nimport java.io.Serializable;\n@Component\npublic class AddressBean implements Serializable {\n    private String name;\n    private String email;\n    private String mobile;\n    private String street;\n    private String city;\n    private String pincode;\n    private String landmark;\n    private String mobile1;\n    private String street1;\n    private String city1;\n    private String pincode1;\n    private String landmark1;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getMobile() {\n        return mobile;\n    }\n\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n\n    public String getStreet() {\n        return street;\n    }\n\n    public void setStreet(String street) {\n        this.street = street;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getPincode() {\n        return pincode;\n    }\n\n    public void setPincode(String pincode) {\n        this.pincode = pincode;\n    }\n\n    public String getLandmark() {\n        return landmark;\n    }\n\n    public void setLandmark(String landmark) {\n        this.landmark = landmark;\n    }\n\n    public String getMobile1() {\n        return mobile1;\n    }\n\n    public void setMobile1(String mobile1) {\n        this.mobile1 = mobile1;\n    }\n\n    public String getStreet1() {\n        return street1;\n    }\n\n    public void setStreet1(String street1) {\n        this.street1 = street1;\n    }\n\n    public String getCity1() {\n        return city1;\n    }\n\n    public void setCity1(String city1) {\n        this.city1 = city1;\n    }\n\n    public String getPincode1() {\n        return pincode1;\n    }\n\n    public void setPincode1(String pincode1) {\n        this.pincode1 = pincode1;\n    }\n\n    public String getLandmark1() {\n        return landmark1;\n    }\n\n    public void setLandmark1(String landmark1) {\n        this.landmark1 = landmark1;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>controller</li>\n</ol>\n<pre><code>@GetMapping(&quot;/checkout/{productEncId}&quot;)\n    public String checkout(@PathVariable(value = &quot;productEncId&quot;)String productEncId,Model model) {\n        Product product = productService.findByEncryptedId(productEncId);\n        model.addAttribute(&quot;productEncId&quot;,productEncId);\n        AddressBean address = new AddressBean();\n        model.addAttribute(&quot;address&quot;,address);\n        return &quot;view/checkout&quot;;\n    }\n</code></pre>\n<p><strong>Also please find the detail exceptions generated</strong></p>\n<pre><code>2020-08-28 15:51:08.507 ERROR 20228 --- [nio-8989-exec-8] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8989-exec-8] Exception processing template &quot;view/checkout&quot;: An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)\n\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\n\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringActionTagProcessor' (template: &quot;view/checkout&quot; - line 41, col 79)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringActionTagProcessor' (template: &quot;view/checkout&quot; - line 41, col 79)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.9.RELEASE.jar:3.0.9.RELEASE]\nCaused by: java.lang.IllegalStateException: Cannot create a session after the response has been committed\n    at org.apache.catalina.connector.Request.doGetSession(Request.java:2999) ~[tomcat-embed-core-9.0.36.jar:9.0.36]\n    at org.apache.catalina.connector.Request.getSession(Request.java:2441) ~[tomcat-embed-core-9.0.36.jar:9.0.36]\n2020-08-28 15:51:08.524 ERROR 20228 --- [nio-8989-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)] with root cause\n\njava.lang.IllegalStateException: Cannot create a session after the response has been committed\n    at org.apache.catalina.connector.Request.doGetSession(Request.java:2999) ~[tomcat-embed-core-9.0.36.jar:9.0.36]\n\n2020-08-28 15:51:08.640 ERROR 20228 --- [nio-8989-exec-8] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/product/checkout/fvssrg5OLcM=] and exception [An error happened during template parsing (template: &quot;class path resource [templates/view/checkout.html]&quot;)] as the response has already been committed. As a result, the response may have the wrong status code.\n\n\n</code></pre>\n"},{"tags":["java","string","concatenation"],"comments":[{"owner":{"account_id":935202,"reputation":49036,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":3,"creation_date":1404543602,"post_id":24583475,"comment_id":38083733,"body_markdown":"An interesting fact (which is not an answer to your question): Given how fussy the Java language can be, it might come as a surprise that string concatenation never throws an exception for `null`, even if you use `+=` on `null` itself. E.g.: `String s = null; s += null;`. After those two statements, `s` becomes the distinctly non-`null` string `&quot;nullnull&quot;`. It&#39;s also safe to concatenate an object which is not `null`, but whose `toString()` method is overridden to *return* `null`. In all cases, the concatenation substitutes `&quot;null&quot;` for `null`.","body":"An interesting fact (which is not an answer to your question): Given how fussy the Java language can be, it might come as a surprise that string concatenation never throws an exception for <code>null</code>, even if you use <code>+=</code> on <code>null</code> itself. E.g.: <code>String s = null; s += null;</code>. After those two statements, <code>s</code> becomes the distinctly non-<code>null</code> string <code>&quot;nullnull&quot;</code>. It&#39;s also safe to concatenate an object which is not <code>null</code>, but whose <code>toString()</code> method is overridden to <i>return</i> <code>null</code>. In all cases, the concatenation substitutes <code>&quot;null&quot;</code> for <code>null</code>."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1404559982,"post_id":24583475,"comment_id":38087428,"body_markdown":"How is this not a duplicate nearly 6 years after Stack Overflow was launched?","body":"How is this not a duplicate nearly 6 years after Stack Overflow was launched?"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404567591,"post_id":24583475,"comment_id":38089431,"body_markdown":"There is a difference between a &quot;null String&quot; and a &quot;null reference&quot;.  A &quot;null String&quot; is `&quot;&quot;` and will print as nothing.  A null *reference* is not even a String.","body":"There is a difference between a &quot;null String&quot; and a &quot;null reference&quot;.  A &quot;null String&quot; is <code>&quot;&quot;</code> and will print as nothing.  A null <i>reference</i> is not even a String."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":10,"creation_date":1404567682,"post_id":24583475,"comment_id":38089455,"body_markdown":"@PeterMortensen - I tried to find a dupe, but each search came up with `null`.","body":"@PeterMortensen - I tried to find a dupe, but each search came up with <code>null</code>."},{"owner":{"account_id":234199,"reputation":9049,"user_id":500202,"display_name":"Izkata"},"score":2,"creation_date":1404600100,"post_id":24583475,"comment_id":38097655,"body_markdown":"Related: [Concatenating null strings in Java](http://stackoverflow.com/q/4260723/500202)","body":"Related: <a href=\"http://stackoverflow.com/q/4260723/500202\">Concatenating null strings in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":4580482,"reputation":436,"user_id":3717646,"display_name":"user3717646"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1404541109,"creation_date":1404539946,"answer_id":24583477,"question_id":24583475,"body_markdown":"Try this\r\n\r\n    String s = s == null ? &quot;&quot; : s;\r\n    System.out.println(&quot;s: &quot; + s);\r\n\r\nA string variable (here, `s`) is called `null` when there is no any objects assigned into the variable. So initialize the variale with a empty string which is `&quot;&quot;`; Then you can concatenate strings.  \r\n\r\nIf your s variable may be null or not null, Use conditional operator before using it further. Then the variable `s` is not null further.\r\n\r\nThis is a sample Code:\r\n\r\n        String s1 = &quot;Some Not NULL Text 1 &quot;;\r\n        String s2 = null;\r\n        String s3 = &quot;Some Not NULL Text 2 &quot;;\r\n\r\n        s1 = s1 == null ? &quot;&quot; : s1;\r\n        s2 = s2 == null ? &quot;&quot; : s2;\r\n        s3 = s3 == null ? &quot;&quot; : s3;\r\n\r\n        System.out.println(&quot;s: &quot; + s1 + s2 + s3);\r\n\r\nSample Output:\r\n\r\n`s: Some Not NULL Text 1 Some Not NULL Text 2` ","title":"What is the right approach to concatenating a null String in Java?","body":"<p>Try this</p>\n\n<pre><code>String s = s == null ? \"\" : s;\nSystem.out.println(\"s: \" + s);\n</code></pre>\n\n<p>A string variable (here, <code>s</code>) is called <code>null</code> when there is no any objects assigned into the variable. So initialize the variale with a empty string which is <code>\"\"</code>; Then you can concatenate strings.  </p>\n\n<p>If your s variable may be null or not null, Use conditional operator before using it further. Then the variable <code>s</code> is not null further.</p>\n\n<p>This is a sample Code:</p>\n\n<pre><code>    String s1 = \"Some Not NULL Text 1 \";\n    String s2 = null;\n    String s3 = \"Some Not NULL Text 2 \";\n\n    s1 = s1 == null ? \"\" : s1;\n    s2 = s2 == null ? \"\" : s2;\n    s3 = s3 == null ? \"\" : s3;\n\n    System.out.println(\"s: \" + s1 + s2 + s3);\n</code></pre>\n\n<p>Sample Output:</p>\n\n<p><code>s: Some Not NULL Text 1 Some Not NULL Text 2</code> </p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1404540069,"creation_date":1404540069,"answer_id":24583494,"question_id":24583475,"body_markdown":"You can use [Apache Commons `StringUtils.defaultString(String)`][1] method, or you can even write your own method that would be just one liner, if you&#39;re not using any 3rd party library.\r\n\r\n    private static String nullToEmptyString(String str) {\r\n        return str == null ? &quot;&quot; : str;\r\n    }\r\n\r\nand then use it in your sysout as so:\r\n\r\n    System.out.println(&quot;s: &quot; + nullToEmptyString(s));\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#defaultString%28java.lang.String%29","title":"What is the right approach to concatenating a null String in Java?","body":"<p>You can use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#defaultString%28java.lang.String%29\">Apache Commons <code>StringUtils.defaultString(String)</code></a> method, or you can even write your own method that would be just one liner, if you're not using any 3rd party library.</p>\n\n<pre><code>private static String nullToEmptyString(String str) {\n    return str == null ? \"\" : str;\n}\n</code></pre>\n\n<p>and then use it in your sysout as so:</p>\n\n<pre><code>System.out.println(\"s: \" + nullToEmptyString(s));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1404540176,"creation_date":1404540176,"answer_id":24583505,"question_id":24583475,"body_markdown":"    String s = null;\r\n    System.out.println(&quot;s: &quot; + (s != null ? s : &quot;&quot;));\r\n\r\nBut what you&#39;re *really* asking for is a [null coalescing operator](https://stackoverflow.com/questions/5223044/is-there-a-java-equivalent-to-null-coalescing-operator-in-c).","title":"What is the right approach to concatenating a null String in Java?","body":"<pre><code>String s = null;\nSystem.out.println(\"s: \" + (s != null ? s : \"\"));\n</code></pre>\n\n<p>But what you're <em>really</em> asking for is a <a href=\"https://stackoverflow.com/questions/5223044/is-there-a-java-equivalent-to-null-coalescing-operator-in-c\">null coalescing operator</a>.</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1404707537,"creation_date":1404540579,"answer_id":24583550,"question_id":24583475,"body_markdown":"You can declare your own method for `concatenation`:\r\n\r\n    public static String concat(String... s) \r\n    {//Use varArgs to pass any number of arguments\r\n        if (s!=null) {\r\n           StringBuilder sb = new StringBuilder();\r\n           for(int i=0; i&lt;s.length; i++) {\r\n              sb.append(s[i] == null ? &quot;&quot; : s[i]);\r\n           }\r\n           return sb.toString();\r\n        }\r\n        else {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n","title":"What is the right approach to concatenating a null String in Java?","body":"<p>You can declare your own method for <code>concatenation</code>:</p>\n\n<pre><code>public static String concat(String... s) \n{//Use varArgs to pass any number of arguments\n    if (s!=null) {\n       StringBuilder sb = new StringBuilder();\n       for(int i=0; i&lt;s.length; i++) {\n          sb.append(s[i] == null ? \"\" : s[i]);\n       }\n       return sb.toString();\n    }\n    else {\n        return \"\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1404544758,"creation_date":1404543152,"answer_id":24583826,"question_id":24583475,"body_markdown":"The most concise solution this is:\r\n\r\n    System.out.println(&quot;s: &quot; + (s == null ? &quot;&quot; : s));\r\n\r\nor maybe create or use a static helper method to do the same; e.g.\r\n\r\n    System.out.println(&quot;s: &quot; + denull(s));\r\n\r\n------------\r\n\r\nHowever, this question has the &quot;smell&quot; of an application that is overusing / misusing `null`.  It is better to only use / return a `null` if it has a specific meaning that is distinct (and needs to be distinct) from the meanings of non-null values.\r\n\r\nFor example:\r\n\r\n  - If these nulls are coming from String attributes that have been default initialized to `null`, consider explicitly initializing them to `&quot;&quot;` instead.  \r\n  - Don&#39;t use `null` to denote empty arrays or collections.\r\n  - Don&#39;t return `null` when it would be better to throw an exception.\r\n  - Consider using the [Null Object Pattern][1].\r\n\r\nNow obviously there are counter-examples to all of these, and sometimes you have to deal with a pre-existing API that gives you nulls ... for whatever reason.  However, in my experience it is better to steer clear of using `null` ... most of the time.\r\n\r\nSo, in your case, the better approach may be:\r\n\r\n    String s = &quot;&quot;;  /* instead of null */\r\n    System.out.println(&quot;s: &quot; + s);\r\n\r\n\r\n  [1]: http://www.oodesign.com/null-object-pattern.html","title":"What is the right approach to concatenating a null String in Java?","body":"<p>The most concise solution this is:</p>\n\n<pre><code>System.out.println(\"s: \" + (s == null ? \"\" : s));\n</code></pre>\n\n<p>or maybe create or use a static helper method to do the same; e.g.</p>\n\n<pre><code>System.out.println(\"s: \" + denull(s));\n</code></pre>\n\n<hr>\n\n<p>However, this question has the \"smell\" of an application that is overusing / misusing <code>null</code>.  It is better to only use / return a <code>null</code> if it has a specific meaning that is distinct (and needs to be distinct) from the meanings of non-null values.</p>\n\n<p>For example:</p>\n\n<ul>\n<li>If these nulls are coming from String attributes that have been default initialized to <code>null</code>, consider explicitly initializing them to <code>\"\"</code> instead.  </li>\n<li>Don't use <code>null</code> to denote empty arrays or collections.</li>\n<li>Don't return <code>null</code> when it would be better to throw an exception.</li>\n<li>Consider using the <a href=\"http://www.oodesign.com/null-object-pattern.html\">Null Object Pattern</a>.</li>\n</ul>\n\n<p>Now obviously there are counter-examples to all of these, and sometimes you have to deal with a pre-existing API that gives you nulls ... for whatever reason.  However, in my experience it is better to steer clear of using <code>null</code> ... most of the time.</p>\n\n<p>So, in your case, the better approach may be:</p>\n\n<pre><code>String s = \"\";  /* instead of null */\nSystem.out.println(\"s: \" + s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1699111354,"creation_date":1404558042,"answer_id":24585716,"question_id":24583475,"body_markdown":"You may use the following with Java 8:\r\n\r\n    String s1 = &quot;a&quot;;\r\n    String s2 = null;\r\n    String s3 = &quot;c&quot;;\r\n    String s4 = &quot;d&quot;;\r\n    String concat = Stream.of(s1, s2, s3, s4)\r\n            .filter(s -&gt; s != null)\r\n            .collect(Collectors.joining());\r\n\r\ngives\r\n\r\n    acd\r\n\r\nA few things to note:\r\n\r\n- You can turn data structures (lists, etc.) directly into a `Stream&lt;String&gt;`.\r\n- You can also give a delimiter when joining the strings together.","title":"What is the right approach to concatenating a null String in Java?","body":"<p>You may use the following with Java 8:</p>\n<pre><code>String s1 = &quot;a&quot;;\nString s2 = null;\nString s3 = &quot;c&quot;;\nString s4 = &quot;d&quot;;\nString concat = Stream.of(s1, s2, s3, s4)\n        .filter(s -&gt; s != null)\n        .collect(Collectors.joining());\n</code></pre>\n<p>gives</p>\n<pre><code>acd\n</code></pre>\n<p>A few things to note:</p>\n<ul>\n<li>You can turn data structures (lists, etc.) directly into a <code>Stream&lt;String&gt;</code>.</li>\n<li>You can also give a delimiter when joining the strings together.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1750215,"reputation":2335,"user_id":1599472,"accept_rate":67,"display_name":"Fabio Marcolini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404567351,"creation_date":1404567351,"answer_id":24586961,"question_id":24583475,"body_markdown":"Two method comes to mind, the first one is not using concatenation but is safest:\r\n\r\n\tpublic static void substituteNullAndPrint(String format, String nullString, Object... params){\r\n\t\tString[] stringParams = new String[params.length()];\r\n\t\tfor(int i=0; i&lt;params.length(); i++){\r\n\t\t\tif(params[i] == null){\r\n\t\t\t\tstringParams[i] = nullString;\r\n\t\t\t}else{\r\n\t\t\t\tstringParams[i] = params[i].toSTring();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tString formattedString = String.format(format, stringParams);\r\n\t\tSystem.out.println(formattedString);\r\n\t}\r\n\t\r\n    USAGE:\r\n\tsubstituteNullAndPrint(&quot;s: %s,%s&quot;, &quot;&quot;, s1, s2);\r\n\r\nThe second use concatenation but require that your actual string is never contains &quot;null&quot;, so it may be utilizable only for very simple cases(Anyway even if you string are never &quot;null&quot; I would never use it):\r\n\t\r\n\tpublic static void substituteNullAndPrint(String str){\r\n\t\tstr.replace(&quot;null&quot;, &quot;&quot;);\r\n\t\tSystem.out.println(str);\r\n\t}\r\n\r\n    USAGE:\r\n    substituteNullAndPrint(&quot;s: &quot; + s1);\r\n\r\nNOTES:\r\n\r\n-Both make use of external utility method since I&#39;m against inlining lot of conditionals.\r\n\r\n-This is not tested and I might being confusing c# syntax with Java","title":"What is the right approach to concatenating a null String in Java?","body":"<p>Two method comes to mind, the first one is not using concatenation but is safest:</p>\n\n<pre><code>public static void substituteNullAndPrint(String format, String nullString, Object... params){\n    String[] stringParams = new String[params.length()];\n    for(int i=0; i&lt;params.length(); i++){\n        if(params[i] == null){\n            stringParams[i] = nullString;\n        }else{\n            stringParams[i] = params[i].toSTring();\n        }\n    }\n\n    String formattedString = String.format(format, stringParams);\n    System.out.println(formattedString);\n}\n\nUSAGE:\nsubstituteNullAndPrint(\"s: %s,%s\", \"\", s1, s2);\n</code></pre>\n\n<p>The second use concatenation but require that your actual string is never contains \"null\", so it may be utilizable only for very simple cases(Anyway even if you string are never \"null\" I would never use it):</p>\n\n<pre><code>public static void substituteNullAndPrint(String str){\n    str.replace(\"null\", \"\");\n    System.out.println(str);\n}\n\nUSAGE:\nsubstituteNullAndPrint(\"s: \" + s1);\n</code></pre>\n\n<p>NOTES:</p>\n\n<p>-Both make use of external utility method since I'm against inlining lot of conditionals.</p>\n\n<p>-This is not tested and I might being confusing c# syntax with Java</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1404585400,"creation_date":1404585400,"answer_id":24589431,"question_id":24583475,"body_markdown":"Another approach is to use `java.util.Objects.toString()` which was added in Java 7:\r\n\r\n    String s = null;\r\n    System.out.println(&quot;s: &quot; + Objects.toString(s, &quot;&quot;));\r\n\r\nThis works for any object, not just strings, and of course you can supply another default value instead of just the empty string.","title":"What is the right approach to concatenating a null String in Java?","body":"<p>Another approach is to use <code>java.util.Objects.toString()</code> which was added in Java 7:</p>\n\n<pre><code>String s = null;\nSystem.out.println(\"s: \" + Objects.toString(s, \"\"));\n</code></pre>\n\n<p>This works for any object, not just strings, and of course you can supply another default value instead of just the empty string.</p>\n"}],"owner":{"account_id":934735,"reputation":23556,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44126,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":24583826,"answer_count":8,"score":44,"last_activity_date":1699111354,"creation_date":1404539898,"question_id":24583475,"body_markdown":"I know that the following:\r\n\r\n    String s = null;\r\n    System.out.println(&quot;s: &quot; + s);\r\n\r\nwill output: `s: null`.\r\n\r\n*How do I make it output just `s: ​`?* \r\n\r\nIn my case this is important as I have to concatenate `String` from **4** values, `s1, s2, s3, s4`, **where each of these values *may or may not* have `null` value**.\r\n\r\nI am asking this question **as I don&#39;t want to check for every combinations of s1 to s4** *(that is, check if these variables are `null`)* or replace `&quot;null&quot;` with `empty` `String` at the end, as I think there may be some better ways to do it.\r\n","title":"What is the right approach to concatenating a null String in Java?","body":"<p>I know that the following:</p>\n\n<pre><code>String s = null;\nSystem.out.println(\"s: \" + s);\n</code></pre>\n\n<p>will output: <code>s: null</code>.</p>\n\n<p><em>How do I make it output just <code>s: ​</code>?</em> </p>\n\n<p>In my case this is important as I have to concatenate <code>String</code> from <strong>4</strong> values, <code>s1, s2, s3, s4</code>, <strong>where each of these values <em>may or may not</em> have <code>null</code> value</strong>.</p>\n\n<p>I am asking this question <strong>as I don't want to check for every combinations of s1 to s4</strong> <em>(that is, check if these variables are <code>null</code>)</em> or replace <code>\"null\"</code> with <code>empty</code> <code>String</code> at the end, as I think there may be some better ways to do it.</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":1,"creation_date":1683121582,"post_id":76164278,"comment_id":134318015,"body_markdown":"what Java version?","body":"what Java version?"},{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1683192117,"post_id":76164278,"comment_id":134329845,"body_markdown":"Welcome to Stack Overflow! A friendly reminder that this site is for getting help with coding, algorithm, or programming language problems so I voted to have your post moved to [DBA Stack Exchange](https://dba.stackexchange.com/questions/ask?tags=cassandra). For future reference, you should post DB admin/ops questions on https://dba.stackexchange.com/questions/ask?tags=cassandra. Cheers!","body":"Welcome to Stack Overflow! A friendly reminder that this site is for getting help with coding, algorithm, or programming language problems so I voted to have your post moved to <a href=\"https://dba.stackexchange.com/questions/ask?tags=cassandra\">DBA Stack Exchange</a>. For future reference, you should post DB admin/ops questions on <a href=\"https://dba.stackexchange.com/questions/ask?tags=cassandra\">dba.stackexchange.com/questions/ask?tags=cassandra</a>. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683290699,"creation_date":1683131645,"answer_id":76166213,"question_id":76164278,"body_markdown":"Verify your version of Java with the following command:\r\n\r\n    java -version\r\n\r\nCassandra 3.11 will only run on Java 8.  If you want to run Cassandra 4.x (not supported on Windows), you can go as high as Java 11.\r\n\r\n&gt; I have Java version 20, because it works with Spark. for my project, I need Spark, Kafka, pycharm, and Cassandra and I am working on Windows, if I will download Java version 8 could I work with all of the above together, or that it will damage Spark?\r\n\r\nYou might want to check on the JRE requirements for Spark for that.  But you could use something like [JEnv][1] to default to specific JRE versions on a per-directory basis (that&#39;s what I do).  Then you could specify Java 8 for your Cassandra directory, and default to Java 20 everywhere else.\r\n\r\n\r\n  [1]: https://github.com/FelixSelter/JEnv-for-Windows","title":"Cassandra installation on Windows cannot, getting error &quot;Could not create the Java Virtual Machine&quot;","body":"<p>Verify your version of Java with the following command:</p>\n<pre><code>java -version\n</code></pre>\n<p>Cassandra 3.11 will only run on Java 8.  If you want to run Cassandra 4.x (not supported on Windows), you can go as high as Java 11.</p>\n<blockquote>\n<p>I have Java version 20, because it works with Spark. for my project, I need Spark, Kafka, pycharm, and Cassandra and I am working on Windows, if I will download Java version 8 could I work with all of the above together, or that it will damage Spark?</p>\n</blockquote>\n<p>You might want to check on the JRE requirements for Spark for that.  But you could use something like <a href=\"https://github.com/FelixSelter/JEnv-for-Windows\" rel=\"nofollow noreferrer\">JEnv</a> to default to specific JRE versions on a per-directory basis (that's what I do).  Then you could specify Java 8 for your Cassandra directory, and default to Java 20 everywhere else.</p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699110610,"creation_date":1683193049,"answer_id":76171704,"question_id":76164278,"body_markdown":"For a bit of background, Cassandra 3.0/3.11 and earlier versions only supports Java 8. Cassandra 4.0 added support for Java 11 LTS ([CASSANDRA-9608][2]) so C* 4.x will work with either Java 8 or Java 11. Support for Java 17 LTS will be added in a future release of Cassandra ([CASSANDRA-16895][3]).\r\n\r\nProvided you are using Java 8, the JVM unable to start could be due to a long list of reasons. For example, if you have allocated too much of the system memory to the JVM heap then it won&#39;t be able to start if there is not enough memory left.\r\n\r\nIn any case, For what it&#39;s worth, the Java file I/O library that Cassandra uses has always been problematic on Windows particularly with NTFS. It has been a constant source of issues for users that we decided it wasn&#39;t good for the project to continue support (see the [discussion in this thread][4]).\r\n\r\nIt has been so problematic that we dropped Windows support completely ([CASSANDRA-16171][5]).\r\n\r\nFor Windows users, the suggested alternatives are:\r\n\r\n - Deploy [Cassandra in Docker][6]\r\n - Deploy Cassandra in a VM using software like VirtualBox\r\n - Deploy Cassandra in a Kubernetes cluster with open-source [K8ssandra.io][7]\r\n\r\nOtherwise if you just want to learn how to build apps on Cassandra, [Astra DB][8] has a free tier where you can launch a cluster in just 5 clicks with no credit card required.\r\n\r\n\r\n  \r\n  [2]: https://issues.apache.org/jira/browse/CASSANDRA-9608\r\n  [3]: https://issues.apache.org/jira/browse/CASSANDRA-16895\r\n  [4]: https://lists.apache.org/thread/cpbpx74ysrs7xwgklpx2wh6003jms260\r\n  [5]: https://issues.apache.org/jira/browse/CASSANDRA-16171\r\n  [6]: https://cassandra.apache.org/_/quickstart.html\r\n  [7]: https://k8ssandra.io/get-started/\r\n  [8]: https://www.datastax.com/products/datastax-astra","title":"Cassandra installation on Windows cannot, getting error &quot;Could not create the Java Virtual Machine&quot;","body":"<p>For a bit of background, Cassandra 3.0/3.11 and earlier versions only supports Java 8. Cassandra 4.0 added support for Java 11 LTS (<a href=\"https://issues.apache.org/jira/browse/CASSANDRA-9608\" rel=\"nofollow noreferrer\">CASSANDRA-9608</a>) so C* 4.x will work with either Java 8 or Java 11. Support for Java 17 LTS will be added in a future release of Cassandra (<a href=\"https://issues.apache.org/jira/browse/CASSANDRA-16895\" rel=\"nofollow noreferrer\">CASSANDRA-16895</a>).</p>\n<p>Provided you are using Java 8, the JVM unable to start could be due to a long list of reasons. For example, if you have allocated too much of the system memory to the JVM heap then it won't be able to start if there is not enough memory left.</p>\n<p>In any case, For what it's worth, the Java file I/O library that Cassandra uses has always been problematic on Windows particularly with NTFS. It has been a constant source of issues for users that we decided it wasn't good for the project to continue support (see the <a href=\"https://lists.apache.org/thread/cpbpx74ysrs7xwgklpx2wh6003jms260\" rel=\"nofollow noreferrer\">discussion in this thread</a>).</p>\n<p>It has been so problematic that we dropped Windows support completely (<a href=\"https://issues.apache.org/jira/browse/CASSANDRA-16171\" rel=\"nofollow noreferrer\">CASSANDRA-16171</a>).</p>\n<p>For Windows users, the suggested alternatives are:</p>\n<ul>\n<li>Deploy <a href=\"https://cassandra.apache.org/_/quickstart.html\" rel=\"nofollow noreferrer\">Cassandra in Docker</a></li>\n<li>Deploy Cassandra in a VM using software like VirtualBox</li>\n<li>Deploy Cassandra in a Kubernetes cluster with open-source <a href=\"https://k8ssandra.io/get-started/\" rel=\"nofollow noreferrer\">K8ssandra.io</a></li>\n</ul>\n<p>Otherwise if you just want to learn how to build apps on Cassandra, <a href=\"https://www.datastax.com/products/datastax-astra\" rel=\"nofollow noreferrer\">Astra DB</a> has a free tier where you can launch a cluster in just 5 clicks with no credit card required.</p>\n"}],"owner":{"account_id":28490946,"reputation":31,"user_id":21803592,"display_name":"Hadar Bitan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699110610,"creation_date":1683119647,"question_id":76164278,"body_markdown":"I am trying to install cassandra version 3.11.14 o windows and i get this error:\r\n\r\n```\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nI have the JAVA_HOME, PYTHON_HOME and CASSANDRA_HOME paths on my system env.\r\n\r\n","title":"Cassandra installation on Windows cannot, getting error &quot;Could not create the Java Virtual Machine&quot;","body":"<p>I am trying to install cassandra version 3.11.14 o windows and i get this error:</p>\n<pre><code>Error: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>I have the JAVA_HOME, PYTHON_HOME and CASSANDRA_HOME paths on my system env.</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign"],"comments":[{"owner":{"account_id":4750401,"reputation":91,"user_id":3840585,"display_name":"Markas Sislo"},"score":1,"creation_date":1688033972,"post_id":74787238,"comment_id":135020825,"body_markdown":"I was not able to get it working, so the only way for me was to change API to POST method and sent list of items inside the body of request.","body":"I was not able to get it working, so the only way for me was to change API to POST method and sent list of items inside the body of request."},{"owner":{"account_id":3145939,"reputation":343,"user_id":2660418,"accept_rate":50,"display_name":"Jijil Kakkadathu"},"score":1,"creation_date":1696508410,"post_id":74787238,"comment_id":136163723,"body_markdown":"Faced the same issue when the request param having a big list of data, Got 400 Bad request from the Core API, Moved the request param data to Request Body resolved the issue.","body":"Faced the same issue when the request param having a big list of data, Got 400 Bad request from the Core API, Moved the request param data to Request Body resolved the issue."},{"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"score":0,"creation_date":1699110209,"post_id":74787238,"comment_id":136491410,"body_markdown":"that&#39;s right, I had to do the same","body":"that&#39;s right, I had to do the same"}],"answers":[{"tags":[],"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699110377,"creation_date":1699110377,"answer_id":77422572,"question_id":74787238,"body_markdown":"**Issue:**\r\n\r\nI encountered a problem when making a GET request with a large list of IDs using OpenFeign. The request was failing, and I discovered that the issue was related to the large payload size.\r\n\r\n**Solution:**\r\n\r\nTo resolve this issue, I switched to using a POST request for large payloads. Instead of sending the list of IDs as query parameters in the URL, I sent it in the request body as a JSON array. POST requests are more suitable for handling large payloads.\r\n\r\n**Revised Approach:**\r\n\r\n1. Change the request method to POST.\r\n2. Construct the request body as a JSON array containing the list of IDs.\r\n3. Update the server-side code to expect the list of IDs in the request body and process it accordingly.\r\n\r\nThis approach allowed me to successfully handle requests with a large number of IDs without encountering size-related issues.\r\n\r\nI hope this helps anyone else facing a similar problem with large payloads in GET requests. If you have any questions or need further assistance, feel free to ask.\r\n","title":"Feign Client and Spring Boot ERROR with a list param with more than 1600 items","body":"<p><strong>Issue:</strong></p>\n<p>I encountered a problem when making a GET request with a large list of IDs using OpenFeign. The request was failing, and I discovered that the issue was related to the large payload size.</p>\n<p><strong>Solution:</strong></p>\n<p>To resolve this issue, I switched to using a POST request for large payloads. Instead of sending the list of IDs as query parameters in the URL, I sent it in the request body as a JSON array. POST requests are more suitable for handling large payloads.</p>\n<p><strong>Revised Approach:</strong></p>\n<ol>\n<li>Change the request method to POST.</li>\n<li>Construct the request body as a JSON array containing the list of IDs.</li>\n<li>Update the server-side code to expect the list of IDs in the request body and process it accordingly.</li>\n</ol>\n<p>This approach allowed me to successfully handle requests with a large number of IDs without encountering size-related issues.</p>\n<p>I hope this helps anyone else facing a similar problem with large payloads in GET requests. If you have any questions or need further assistance, feel free to ask.</p>\n"}],"owner":{"account_id":5900987,"reputation":371,"user_id":4644514,"display_name":"EdwinCab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699110377,"creation_date":1670945400,"question_id":74787238,"body_markdown":"I&#39;m trying to consume a service with OpenFeign, the method is GET and as argument I send a list of IDs to make a query in DynamoDB, everything works correctly when the list of IDs is small, but in a real case, if the list is very large, example 1600 items then the integration fails, the request never reaches the client instead the response is: \r\n\r\n    feign.FeignException$BadRequest: [400] during [GET] to [http://&lt;host&gt;:&lt;port&gt;/config?id=7479c3943b4e706759d668fe63c0dff5&amp;id=796dfc42ff2bd9a30b3dd30d6a9ca2be&amp;&lt;multipleIDs...&gt;] [MyClient#getInfoById(List)]: [&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;... (435 bytes)]\r\n\r\nWhat is the correct integration to perform a query with many identifiers? ","title":"Feign Client and Spring Boot ERROR with a list param with more than 1600 items","body":"<p>I'm trying to consume a service with OpenFeign, the method is GET and as argument I send a list of IDs to make a query in DynamoDB, everything works correctly when the list of IDs is small, but in a real case, if the list is very large, example 1600 items then the integration fails, the request never reaches the client instead the response is:</p>\n<pre><code>feign.FeignException$BadRequest: [400] during [GET] to [http://&lt;host&gt;:&lt;port&gt;/config?id=7479c3943b4e706759d668fe63c0dff5&amp;id=796dfc42ff2bd9a30b3dd30d6a9ca2be&amp;&lt;multipleIDs...&gt;] [MyClient#getInfoById(List)]: [&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;... (435 bytes)]\n</code></pre>\n<p>What is the correct integration to perform a query with many identifiers?</p>\n"},{"tags":["java","url","parameters","struts2"],"comments":[{"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"score":0,"creation_date":1409495959,"post_id":25592717,"comment_id":39975888,"body_markdown":"Have u tried to add `method` property in the url tag. The documentation says it have the method property","body":"Have u tried to add <code>method</code> property in the url tag. The documentation says it have the method property"},{"owner":{"account_id":2070081,"reputation":59,"user_id":1844769,"accept_rate":50,"display_name":"Srijit B"},"score":0,"creation_date":1409537491,"post_id":25592717,"comment_id":39985181,"body_markdown":"Yes. There method indicates the name of the method in the action class, not GET or POST. Tried it.","body":"Yes. There method indicates the name of the method in the action class, not GET or POST. Tried it."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699110363,"creation_date":1409499717,"answer_id":25593596,"question_id":25592717,"body_markdown":"You can add a form to trigger a form submit event instead of default link&#39;s `click` event. A form should contain a hidden field to hold a parameter value. Then add javascript code to handle `click` event.  \r\n\r\n&lt;!-- language: lang-xhtml --&gt;\r\n\r\n    &lt;s:url action=&quot;custACDetails&quot; includeContext=&quot;false&quot; var=&quot;urlTag&quot;/&gt;\r\n    &lt;s:set var=&quot;contextPath&quot;&gt;${pageContext.request.contextPath}&lt;/s:set&gt;\r\n    &lt;s:a id=&quot;acno&quot; href=&quot;%{#contextPath+#urlTag}&quot;&gt;&lt;s:property value=&quot;acno&quot;/&gt;&lt;/s:a&gt;\r\n    &lt;s:form id=&quot;form&quot; action=&quot;%{#urlTag}&quot; method=&quot;POST&quot;&gt;\r\n      &lt;s:hidden name=&quot;yourAc&quot; value=&quot;%{acno}&quot;/&gt;\r\n    &lt;/s:form&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n      $(document).ready(function() {\r\n        $(&quot;#acno&quot;).click(function(e) {\r\n          e.preventDefault();\r\n          $(&quot;#form&quot;).submit();\r\n        });\r\n      });\r\n    &lt;/script&gt;\r\n","title":"Hide parameter passed by URL Tag in Struts 2","body":"<p>You can add a form to trigger a form submit event instead of default link's <code>click</code> event. A form should contain a hidden field to hold a parameter value. Then add javascript code to handle <code>click</code> event.</p>\n<pre class=\"lang-xhtml prettyprint-override\"><code>&lt;s:url action=&quot;custACDetails&quot; includeContext=&quot;false&quot; var=&quot;urlTag&quot;/&gt;\n&lt;s:set var=&quot;contextPath&quot;&gt;${pageContext.request.contextPath}&lt;/s:set&gt;\n&lt;s:a id=&quot;acno&quot; href=&quot;%{#contextPath+#urlTag}&quot;&gt;&lt;s:property value=&quot;acno&quot;/&gt;&lt;/s:a&gt;\n&lt;s:form id=&quot;form&quot; action=&quot;%{#urlTag}&quot; method=&quot;POST&quot;&gt;\n  &lt;s:hidden name=&quot;yourAc&quot; value=&quot;%{acno}&quot;/&gt;\n&lt;/s:form&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n  $(document).ready(function() {\n    $(&quot;#acno&quot;).click(function(e) {\n      e.preventDefault();\n      $(&quot;#form&quot;).submit();\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":2070081,"reputation":59,"user_id":1844769,"accept_rate":50,"display_name":"Srijit B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1521741774,"answer_count":1,"score":0,"last_activity_date":1699110363,"creation_date":1409493778,"question_id":25592717,"body_markdown":"In my Struts 2 Application, I am getting a table of values from the database using the iterator tag and using respective getter and setters for the same. For Example I am getting list of Account number, Name and Account Balance.\r\n\r\nNow, What I wasn&#39;t do is if some one click on the Account number, then the request will be sent to another action class which has required getter and setter and will redirect him to a page where the account details will be shown based on that account number.\r\n\r\nProblem is that, as the user clicks the URL, value is passed like get parameters so it is very insecure.\r\nI want to hide the values.\r\n\r\nCurrently I am using the following:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;s:url action=&quot;custACDetails&quot; var=&quot;urlTag&quot; &gt;\r\n        &lt;s:param name=&quot;yourAc&quot;&gt;&lt;s:property value=&quot;acno&quot;/&gt;&lt;/s:param&gt;\r\n    &lt;/s:url&gt;\r\n    &lt;a href=&quot;&lt;s:property value=&quot;#urlTag&quot; /&gt;&quot; &gt;&lt;s:property value=&quot;acno&quot;/&gt;&lt;/a&gt;","title":"Hide parameter passed by URL Tag in Struts 2","body":"<p>In my Struts 2 Application, I am getting a table of values from the database using the iterator tag and using respective getter and setters for the same. For Example I am getting list of Account number, Name and Account Balance.</p>\n<p>Now, What I wasn't do is if some one click on the Account number, then the request will be sent to another action class which has required getter and setter and will redirect him to a page where the account details will be shown based on that account number.</p>\n<p>Problem is that, as the user clicks the URL, value is passed like get parameters so it is very insecure.\nI want to hide the values.</p>\n<p>Currently I am using the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:url action=&quot;custACDetails&quot; var=&quot;urlTag&quot; &gt;\n    &lt;s:param name=&quot;yourAc&quot;&gt;&lt;s:property value=&quot;acno&quot;/&gt;&lt;/s:param&gt;\n&lt;/s:url&gt;\n&lt;a href=&quot;&lt;s:property value=&quot;#urlTag&quot; /&gt;&quot; &gt;&lt;s:property value=&quot;acno&quot;/&gt;&lt;/a&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","selenium-webdriver","selenium-java"],"owner":{"account_id":1523386,"reputation":1816,"user_id":1422434,"accept_rate":59,"display_name":"Genaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699109846,"creation_date":1699109846,"question_id":77422546,"body_markdown":"I am using Spring boot 3.1.5. This project usa this dependencies:\r\n\r\n    &lt;dependency&gt; \t\t\t\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \t\t&lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt; \t\t    \r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt; \t\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt; \t\t\r\n    &lt;/dependency&gt; \r\n\r\n \r\n\r\nNow, this works but I am getting this warning:\r\n\r\n`` Unable to find version of CDP to use for . You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.8.3` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you&#39;re using and the version number of the artifact is the same as Selenium&#39;s. ``  \r\n\r\nI decide update my managed selenium java version (by default it&#39;s using 4.8.3) for the latest version (4.15.0) overriding the seleneium.version property in my pom.xml:\r\n\r\n    &lt;selenium.version\\&gt;4.15.0&lt;/selenium.version\\&gt;\r\n\r\nWhen I set this property, I can see that my project uses the latest selenium library but I am getting this error:\r\n\r\nIt&#39;s like this updated dependency brokes my database configuration. Whats the problem with this? Maybe is not compatible with spring data or other library?\r\n\r\n```\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;batchDataSourceInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration$DataSourceInitializerConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]: Factory method &#39;batchDataSourceInitializer&#39; threw exception with message: Failed to determine DatabaseDriver\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat com.myapplication.myapplicationApplication.main(myapplicationApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.5.jar:3.1.5]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]: Factory method &#39;batchDataSourceInitializer&#39; threw exception with message: Failed to determine DatabaseDriver\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Failed to determine DatabaseDriver\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.getDatabaseDriver(PlatformPlaceholderDatabaseDriverResolver.java:144) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.determinePlatform(PlatformPlaceholderDatabaseDriverResolver.java:132) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.lambda$resolveAll$0(PlatformPlaceholderDatabaseDriverResolver.java:97) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:122) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:97) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.resolveSchemaLocations(BatchDataSourceScriptDatabaseInitializer.java:83) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.getSettings(BatchDataSourceScriptDatabaseInitializer.java:72) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.&lt;init&gt;(BatchDataSourceScriptDatabaseInitializer.java:47) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration.batchDataSourceInitializer(BatchAutoConfiguration.java:174) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 26 common frames omitted\r\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:362) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.getDatabaseDriver(PlatformPlaceholderDatabaseDriverResolver.java:140) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\t... 39 common frames omitted\r\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:87) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:336) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\t... 40 common frames omitted\r\nCaused by: java.lang.IllegalStateException: &#39;url&#39; not set\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:142) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.13.jar:6.0.13]\r\n\t... 41 common frames omitted\r\n\r\n```","title":"Spring Boot with Spring JPA + Selenium error","body":"<p>I am using Spring boot 3.1.5. This project usa this dependencies:</p>\n<pre><code>&lt;dependency&gt;            \n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         \n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;       &lt;/dependency&gt;\n\n\n&lt;dependency&gt;            \n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;  \n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;      \n&lt;/dependency&gt; \n</code></pre>\n<p>Now, this works but I am getting this warning:</p>\n<p><code>Unable to find version of CDP to use for . You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.8.3` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you're using and the version number of the artifact is the same as Selenium's.</code></p>\n<p>I decide update my managed selenium java version (by default it's using 4.8.3) for the latest version (4.15.0) overriding the seleneium.version property in my pom.xml:</p>\n<pre><code>&lt;selenium.version\\&gt;4.15.0&lt;/selenium.version\\&gt;\n</code></pre>\n<p>When I set this property, I can see that my project uses the latest selenium library but I am getting this error:</p>\n<p>It's like this updated dependency brokes my database configuration. Whats the problem with this? Maybe is not compatible with spring data or other library?</p>\n<pre><code>\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'batchDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/batch/BatchAutoConfiguration$DataSourceInitializerConfiguration.class]: Failed to instantiate [org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]: Factory method 'batchDataSourceInitializer' threw exception with message: Failed to determine DatabaseDriver\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1166) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:940) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at com.myapplication.myapplicationApplication.main(myapplicationApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.5.jar:3.1.5]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer]: Factory method 'batchDataSourceInitializer' threw exception with message: Failed to determine DatabaseDriver\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 25 common frames omitted\nCaused by: java.lang.IllegalStateException: Failed to determine DatabaseDriver\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.getDatabaseDriver(PlatformPlaceholderDatabaseDriverResolver.java:144) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.determinePlatform(PlatformPlaceholderDatabaseDriverResolver.java:132) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.lambda$resolveAll$0(PlatformPlaceholderDatabaseDriverResolver.java:97) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:122) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:97) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.resolveSchemaLocations(BatchDataSourceScriptDatabaseInitializer.java:83) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\n    at org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.getSettings(BatchDataSourceScriptDatabaseInitializer.java:72) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\n    at org.springframework.boot.autoconfigure.batch.BatchDataSourceScriptDatabaseInitializer.&lt;init&gt;(BatchDataSourceScriptDatabaseInitializer.java:47) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\n    at org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration.batchDataSourceInitializer(BatchAutoConfiguration.java:174) ~[spring-boot-autoconfigure-3.1.5.jar:3.1.5]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 26 common frames omitted\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:362) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.getDatabaseDriver(PlatformPlaceholderDatabaseDriverResolver.java:140) ~[spring-boot-3.1.5.jar:3.1.5]\n    ... 39 common frames omitted\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:87) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:336) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    ... 40 common frames omitted\nCaused by: java.lang.IllegalStateException: 'url' not set\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:142) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.13.jar:6.0.13]\n    ... 41 common frames omitted\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","chrome-options"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1698789789,"post_id":77398948,"comment_id":136449672,"body_markdown":"You have to pass the options in when you create the driver.  ex: new ChromeDriver(options);  Add the new ChromeDriver call to the end of the setup method so you can use the options.  So private static WebDriver driver;  then driver = new ChromeDriver(options) after creating the options.","body":"You have to pass the options in when you create the driver.  ex: new ChromeDriver(options);  Add the new ChromeDriver call to the end of the setup method so you can use the options.  So private static WebDriver driver;  then driver = new ChromeDriver(options) after creating the options."}],"answers":[{"tags":[],"owner":{"account_id":29807889,"reputation":1,"user_id":22844006,"display_name":"Gulzhas Mailybayeva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699109206,"creation_date":1698910443,"answer_id":77407669,"question_id":77398948,"body_markdown":"    private static WebDriver driver;\r\n    \r\n    @Before\r\n    public void setUp() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n                &quot;C:\\\\Users\\\\TestUser\\\\Desktop\\\\SeleniumWorkspace\\\\ABC\\\\chromedriver.exe&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;, &quot;ignore-certificate-errors&quot;);\r\n        options.addArguments(&quot;--headless=new&quot;);\r\n        options.addArguments(&quot;--window-size-1400,800&quot;);\r\n        driver = new ChromeDriver(options); // missing to pass chrome options here\r\n \r\n    }","title":"ChromeOptions when WebDriver is instantiated globally - Selenium Webdriver in Java","body":"<pre><code>private static WebDriver driver;\n\n@Before\npublic void setUp() {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,\n            &quot;C:\\\\Users\\\\TestUser\\\\Desktop\\\\SeleniumWorkspace\\\\ABC\\\\chromedriver.exe&quot;);\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--remote-allow-origins=*&quot;, &quot;ignore-certificate-errors&quot;);\n    options.addArguments(&quot;--headless=new&quot;);\n    options.addArguments(&quot;--window-size-1400,800&quot;);\n    driver = new ChromeDriver(options); // missing to pass chrome options here\n\n}\n</code></pre>\n"}],"owner":{"account_id":1760163,"reputation":43,"user_id":1607502,"display_name":"bsolidgold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699109206,"creation_date":1698784475,"question_id":77398948,"body_markdown":"I have a project I&#39;m working on with several test methods. I need WebDriver to be available globally after I instantiate it and with ChromeOptions. \r\n\r\nI&#39;m using a @Before annotation to do a lot of setup and I thought I could pass ChromeOptions into the webdriver which is instantiated globally. &#39;options.addArguments()&#39; isn&#39;t available globally and it isn&#39;t recognizing my options. Example below:\r\n\r\n```\r\n     public class classThatDoesStuff_Test {\r\n    \tprivate static WebDriver driver = new ChromeDriver();\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n    \t\t&quot;C:\\\\Users\\\\TestUser\\\\Desktop\\\\SeleniumWorkspace\\\\ABC\\\\chromedriver.exe&quot;);\r\n    \tChromeOptions options = new ChromeOptions();\r\n    \toptions.addArguments(&quot;--headless=new&quot;);\r\n    \toptions.addArguments(&quot;--window-size-1400,800&quot;);\r\n    \toptions.addArguments(&quot;--disable-gpu&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void doStuff() {\r\n    \tdriver.get(&quot;http://foo.bar.com&quot;);\r\n    \t\r\n    \t}\r\n```\r\n\r\nRunning this does not start the browser headless. \r\n\r\nI tried creating a method with ChromeOptions and passing it to the driver. That didn&#39;t work\r\n\r\n\r\n```\r\nprivate static ChromeOptions options() {\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\toptions.addArguments(&quot;--headless=new&quot;);\r\n    \t\toptions.addArguments(&quot;window-size=1400,800&quot;);\r\n    \t\toptions.addArguments(&quot;disable-gpu&quot;);\r\n    \t\t\r\n    \t\treturn options;\r\n```\r\n\r\nThen passing it to my instantiation. But that didn&#39;t work - as you probably guessed :)","title":"ChromeOptions when WebDriver is instantiated globally - Selenium Webdriver in Java","body":"<p>I have a project I'm working on with several test methods. I need WebDriver to be available globally after I instantiate it and with ChromeOptions.</p>\n<p>I'm using a @Before annotation to do a lot of setup and I thought I could pass ChromeOptions into the webdriver which is instantiated globally. 'options.addArguments()' isn't available globally and it isn't recognizing my options. Example below:</p>\n<pre><code>     public class classThatDoesStuff_Test {\n        private static WebDriver driver = new ChromeDriver();\n    \n        @Before\n        public void setUp() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,\n            &quot;C:\\\\Users\\\\TestUser\\\\Desktop\\\\SeleniumWorkspace\\\\ABC\\\\chromedriver.exe&quot;);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--headless=new&quot;);\n        options.addArguments(&quot;--window-size-1400,800&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n        }\n        \n        public void doStuff() {\n        driver.get(&quot;http://foo.bar.com&quot;);\n        \n        }\n</code></pre>\n<p>Running this does not start the browser headless.</p>\n<p>I tried creating a method with ChromeOptions and passing it to the driver. That didn't work</p>\n<pre><code>private static ChromeOptions options() {\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(&quot;--headless=new&quot;);\n            options.addArguments(&quot;window-size=1400,800&quot;);\n            options.addArguments(&quot;disable-gpu&quot;);\n            \n            return options;\n</code></pre>\n<p>Then passing it to my instantiation. But that didn't work - as you probably guessed :)</p>\n"},{"tags":["java","url","struts2","struts","parameter-passing"],"comments":[{"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"score":2,"creation_date":1352873824,"post_id":13373760,"comment_id":18261514,"body_markdown":"Why don&#39;t you store your value in a hidden field? It will be submitted automatically , when you submit the form.","body":"Why don&#39;t you store your value in a hidden field? It will be submitted automatically , when you submit the form."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1352883252,"post_id":13373760,"comment_id":18264192,"body_markdown":"There are a lot of ways for this. Just go with the hidden field like Shashank said, it is the neatest.","body":"There are a lot of ways for this. Just go with the hidden field like Shashank said, it is the neatest."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1352889217,"post_id":13373760,"comment_id":18266709,"body_markdown":"Do you want this parameter to be passed every time? Or why do you want to do this in `struts.xml`?","body":"Do you want this parameter to be passed every time? Or why do you want to do this in <code>struts.xml</code>?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1352936445,"post_id":13373760,"comment_id":18288057,"body_markdown":"@user1819548 I was passing parameters via form actions. Is this what you needed?","body":"@user1819548 I was passing parameters via form actions. Is this what you needed?"}],"answers":[{"tags":[],"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1352884907,"creation_date":1352884907,"answer_id":13375999,"question_id":13373760,"body_markdown":"try this:\r\n\r\n    &lt;s:form action=&quot;xyz.action&quot; method=&quot;GET&quot;&gt;\r\n        &lt;s:hidden name=&quot;user&quot; value=&quot;george&quot;/&gt;\r\n        // other fields\r\n    &lt;/s:form&gt;\r\n\r\n`method=&quot;GET&quot;` will show your parameter on the url, `&lt;s:hidden name=&quot;user&quot; value=&quot;george&quot;/&gt;` will take your parameter.\r\n\r\nhere is also an example for you [Example][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/struts2/struts-2-shidden-hidden-value-example/","title":"How to pass a parameter in URL on a form submit in Struts2","body":"<p>try this:</p>\n\n<pre><code>&lt;s:form action=\"xyz.action\" method=\"GET\"&gt;\n    &lt;s:hidden name=\"user\" value=\"george\"/&gt;\n    // other fields\n&lt;/s:form&gt;\n</code></pre>\n\n<p><code>method=\"GET\"</code> will show your parameter on the url, <code>&lt;s:hidden name=\"user\" value=\"george\"/&gt;</code> will take your parameter.</p>\n\n<p>here is also an example for you <a href=\"http://www.mkyong.com/struts2/struts-2-shidden-hidden-value-example/\" rel=\"noreferrer\">Example</a></p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699108662,"creation_date":1352904162,"answer_id":13380998,"question_id":13373760,"body_markdown":"It&#39;s possible if you use `&lt;s:url&gt;` and `&lt;s:form&gt;` tags.\r\n\r\n&lt;!-- language: lang-xhtml --&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n\r\n    &lt;s:url id=&quot;xyzUrl&quot; action=&quot;xyz&quot; includeContext=&quot;false&quot;&gt;\r\n      &lt;s:param name=&quot;user&quot; value=&quot;george&quot;/&gt;\r\n    &lt;/s:url&gt;\r\n    &lt;s:form name=&quot;xyzForm&quot; action=&quot;%{xyzUrl}&quot; method=&quot;POST&quot;&gt;\r\n\r\n","title":"How to pass a parameter in URL on a form submit in Struts2","body":"<p>It's possible if you use <code>&lt;s:url&gt;</code> and <code>&lt;s:form&gt;</code> tags.</p>\n<pre class=\"lang-xhtml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\n\n&lt;s:url id=&quot;xyzUrl&quot; action=&quot;xyz&quot; includeContext=&quot;false&quot;&gt;\n  &lt;s:param name=&quot;user&quot; value=&quot;george&quot;/&gt;\n&lt;/s:url&gt;\n&lt;s:form name=&quot;xyzForm&quot; action=&quot;%{xyzUrl}&quot; method=&quot;POST&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":2037575,"reputation":51,"user_id":1819548,"display_name":"user1819548"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16340,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699108662,"creation_date":1352872633,"question_id":13373760,"body_markdown":"I am doing a project in Struts2 where I need of setting a parameter in URL like user parameter in below link.  \r\n\r\nI want this parameter to be passed when I click a form submit button and not any links separately. I know how to do this with `&lt;s:url&gt;` but that way I need to create a link instead of form submit. \r\n\r\nCan someone please help me with a code sample how to do this?\r\nI know there&#39;s a way to do it with HTML or Struts1 but how to do it with Struts2? If there is a way to do this in `struts.xml`, please explain with an example.  \r\n\r\n    &lt;form action=&quot;/example/xyz.action?user=george&quot; method=&quot;POST&quot;&gt;","title":"How to pass a parameter in URL on a form submit in Struts2","body":"<p>I am doing a project in Struts2 where I need of setting a parameter in URL like user parameter in below link.  </p>\n\n<p>I want this parameter to be passed when I click a form submit button and not any links separately. I know how to do this with <code>&lt;s:url&gt;</code> but that way I need to create a link instead of form submit. </p>\n\n<p>Can someone please help me with a code sample how to do this?\nI know there's a way to do it with HTML or Struts1 but how to do it with Struts2? If there is a way to do this in <code>struts.xml</code>, please explain with an example.  </p>\n\n<pre><code>&lt;form action=\"/example/xyz.action?user=george\" method=\"POST\"&gt;\n</code></pre>\n"},{"tags":["java","jaxb","unmarshalling"],"owner":{"account_id":13228157,"reputation":41,"user_id":9552684,"display_name":"Magnus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699108480,"creation_date":1655463752,"question_id":72658396,"body_markdown":"I&#39;m trying to unmarshall this file xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project&gt;\r\n      &lt;database password=&quot;&quot; url=&quot;&quot; username=&quot;&quot;/&gt;\r\n      &lt;entities&gt;\r\n        &lt;entity name=&quot;&quot; table=&quot;&quot;/&gt;\r\n      &lt;/entities&gt;\r\n      &lt;controllers&gt;\r\n        &lt;controller entity=&quot;&quot;&gt;\r\n          &lt;methods&gt;\r\n            &lt;method name=&quot;&quot;/&gt;\r\n          &lt;/methods&gt;\r\n        &lt;/controller&gt;\r\n      &lt;/controllers&gt;\r\n    &lt;/project&gt;\r\n\r\nwith this code:\r\n\r\n    JAXBContext jc = org.eclipse.persistence.\r\n    \t\t\t\t\tjaxb.JAXBContextFactory.createContext(new Class[] { Project.class },\r\n    \t\t\t\t\tnull);\r\n    \t        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n    \t        File xml = new File(FileSystem.getConfigurationPath());\r\n    \t        Project o = (Project) unmarshaller.unmarshal(xml);\r\n\r\nThe class Project is:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;database&quot;,\r\n        &quot;entities&quot;,\r\n        &quot;controllers&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;project&quot;)\r\n    public class Project {\r\n    \r\n        @XmlElement(required = true)\r\n        protected Project.Database database;\r\n        @XmlElement(required = true)\r\n        protected Project.Entities entities;\r\n        @XmlElement(required = true)\r\n        protected Project.Controllers controllers;\r\n        ...\r\n\r\nbut I got the following error:\r\n\r\njakarta.xml.bind.UnmarshalException\r\n - with linked exception:\r\n[Exception [EclipseLink-25008] (Eclipse Persistence Services - 3.0.0.v202012081010): org.eclipse.persistence.exceptions.XMLMarshalException\r\nException Description: A descriptor with default root element project was not found in the project]\r\n\tat org.eclipse.persistence.jaxb.JAXBUnmarshaller.handleXMLMarshalException(JAXBUnmarshaller.java:1136)\r\n\tat org.eclipse.persistence.jaxb.JAXBUnmarshaller.unmarshal(JAXBUnmarshaller.java:149)\r\n\r\nCould you help me to understand why?\r\n\r\nMany Thanks.","title":"Exception Description: A descriptor with default root element project was not found in the project]","body":"<p>I'm trying to unmarshall this file xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n  &lt;database password=&quot;&quot; url=&quot;&quot; username=&quot;&quot;/&gt;\n  &lt;entities&gt;\n    &lt;entity name=&quot;&quot; table=&quot;&quot;/&gt;\n  &lt;/entities&gt;\n  &lt;controllers&gt;\n    &lt;controller entity=&quot;&quot;&gt;\n      &lt;methods&gt;\n        &lt;method name=&quot;&quot;/&gt;\n      &lt;/methods&gt;\n    &lt;/controller&gt;\n  &lt;/controllers&gt;\n&lt;/project&gt;\n</code></pre>\n<p>with this code:</p>\n<pre><code>JAXBContext jc = org.eclipse.persistence.\n                    jaxb.JAXBContextFactory.createContext(new Class[] { Project.class },\n                    null);\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\n            File xml = new File(FileSystem.getConfigurationPath());\n            Project o = (Project) unmarshaller.unmarshal(xml);\n</code></pre>\n<p>The class Project is:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;database&quot;,\n    &quot;entities&quot;,\n    &quot;controllers&quot;\n})\n@XmlRootElement(name = &quot;project&quot;)\npublic class Project {\n\n    @XmlElement(required = true)\n    protected Project.Database database;\n    @XmlElement(required = true)\n    protected Project.Entities entities;\n    @XmlElement(required = true)\n    protected Project.Controllers controllers;\n    ...\n</code></pre>\n<p>but I got the following error:</p>\n<p>jakarta.xml.bind.UnmarshalException</p>\n<ul>\n<li>with linked exception:\n[Exception [EclipseLink-25008] (Eclipse Persistence Services - 3.0.0.v202012081010): org.eclipse.persistence.exceptions.XMLMarshalException\nException Description: A descriptor with default root element project was not found in the project]\nat org.eclipse.persistence.jaxb.JAXBUnmarshaller.handleXMLMarshalException(JAXBUnmarshaller.java:1136)\nat org.eclipse.persistence.jaxb.JAXBUnmarshaller.unmarshal(JAXBUnmarshaller.java:149)</li>\n</ul>\n<p>Could you help me to understand why?</p>\n<p>Many Thanks.</p>\n"},{"tags":["java","logback","slf4j"],"answers":[{"tags":[],"owner":{"account_id":5247691,"reputation":305,"user_id":4192839,"display_name":"CyberMafia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699108243,"creation_date":1699108243,"answer_id":77422437,"question_id":77422390,"body_markdown":"There are two steps to create a fat jar using manual maven configuration.\r\n\r\n1. Copy dependencies under ```libs``` directory (**Missing in your pom**)\r\n2. Create executable jar and specify classpath as ```libs``` directory. (**You are already doing this.**)\r\n\r\nSo use ```maven-dependency-plugin``` to copy the dependencies under ```libs``` directory and then it should work fine.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory using logback-classic","body":"<p>There are two steps to create a fat jar using manual maven configuration.</p>\n<ol>\n<li>Copy dependencies under <code>libs</code> directory (<strong>Missing in your pom</strong>)</li>\n<li>Create executable jar and specify classpath as <code>libs</code> directory. (<strong>You are already doing this.</strong>)</li>\n</ol>\n<p>So use <code>maven-dependency-plugin</code> to copy the dependencies under <code>libs</code> directory and then it should work fine.</p>\n"}],"owner":{"account_id":20974156,"reputation":25,"user_id":15410622,"display_name":"benni347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77422437,"answer_count":1,"score":0,"last_activity_date":1699108243,"creation_date":1699107505,"question_id":77422390,"body_markdown":"when running my program after building it like this `mvn clean install` then running it with `java -jar target/Sorting-1.0-SNAPSHOT.jar`. I get this error: \r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n\tat xyz.skwar.sorting.Main.&lt;clinit&gt;(Main.java:7)\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\r\n\t... 1 more\r\n```\r\n\r\nI researched it myself by reading this [articel](https://www.javacodegeeks.com/2018/02/fix-exception-thread-main-java-lang-noclassdeffounderror-org-slf4j-loggerfactory-java.html), it is not related since it has to do with a dependency. I read the following stack overflow posts:\r\n - [1. how to fix &quot;java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory&quot; error when run java jar application](https://stackoverflow.com/questions/55650638/how-to-fix-java-lang-noclassdeffounderror-org-slf4j-loggerfactory-error-when)\r\n- [2. &quot;How to fix: java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory&quot;](https://stackoverflow.com/questions/37027860/how-to-fix-java-lang-noclassdeffounderror-org-slf4j-loggerfactory)\r\n- [3. &quot;java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory&quot;](https://stackoverflow.com/questions/12926899/java-lang-noclassdeffounderror-org-slf4j-loggerfactory)\r\n- [4. Maven with dependency on &quot;logback-classic&quot; still gives &quot;java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory&quot; exception](https://stackoverflow.com/questions/37348764/maven-with-dependency-on-logback-classic-still-gives-java-lang-noclassdeffoun)\r\n- [5. Java: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory](https://stackoverflow.com/questions/12468448/java-exception-in-thread-main-java-lang-noclassdeffounderror-org-slf4j-logge)\r\n\r\nThose all did not fix the problem since I am including the logging libary not just the api, I tried the solution from the 4th one but also did not work. The 5th one also is not relevant since I am not setting a scope. \r\nWhen I remove the `slf4j-api` it fails with, even though acording to the [slf4j docs](https://www.slf4j.org/manual.html#projectDep) logback-classic provides slf4j-api:\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\nAnd I also made I minimal code sample which still has the problem:\r\n```java\r\npackage xyz.skwar.sorting;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class Main {\r\n  private static final Logger logger = LoggerFactory.getLogger(Main.class);\r\n\r\n  public static void main(String[] args) {\r\n    logger.info(&quot;test&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd here is also the entire pom.xml file:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;xyz.skwar.sorting&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Sorting&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;org.slf4j.version&gt;2.0.9&lt;/org.slf4j.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.30&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;pluginRepositories&gt;\r\n    &lt;pluginRepository&gt;\r\n      &lt;releases&gt;\r\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n      &lt;/releases&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;false&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;name&gt;Central Repository&lt;/name&gt;\r\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    &lt;/pluginRepository&gt;\r\n  &lt;/pluginRepositories&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;!-- Build an executable JAR --&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n              &lt;mainClass&gt;xyz.skwar.sorting.Main&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory using logback-classic","body":"<p>when running my program after building it like this <code>mvn clean install</code> then running it with <code>java -jar target/Sorting-1.0-SNAPSHOT.jar</code>. I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at xyz.skwar.sorting.Main.&lt;clinit&gt;(Main.java:7)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    ... 1 more\n</code></pre>\n<p>I researched it myself by reading this <a href=\"https://www.javacodegeeks.com/2018/02/fix-exception-thread-main-java-lang-noclassdeffounderror-org-slf4j-loggerfactory-java.html\" rel=\"nofollow noreferrer\">articel</a>, it is not related since it has to do with a dependency. I read the following stack overflow posts:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/55650638/how-to-fix-java-lang-noclassdeffounderror-org-slf4j-loggerfactory-error-when\">1. how to fix &quot;java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory&quot; error when run java jar application</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37027860/how-to-fix-java-lang-noclassdeffounderror-org-slf4j-loggerfactory\">2. &quot;How to fix: java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12926899/java-lang-noclassdeffounderror-org-slf4j-loggerfactory\">3. &quot;java.lang.NoClassDefFoundError: org.slf4j.LoggerFactory&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37348764/maven-with-dependency-on-logback-classic-still-gives-java-lang-noclassdeffoun\">4. Maven with dependency on &quot;logback-classic&quot; still gives &quot;java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory&quot; exception</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12468448/java-exception-in-thread-main-java-lang-noclassdeffounderror-org-slf4j-logge\">5. Java: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory</a></li>\n</ul>\n<p>Those all did not fix the problem since I am including the logging libary not just the api, I tried the solution from the 4th one but also did not work. The 5th one also is not relevant since I am not setting a scope.\nWhen I remove the <code>slf4j-api</code> it fails with, even though acording to the <a href=\"https://www.slf4j.org/manual.html#projectDep\" rel=\"nofollow noreferrer\">slf4j docs</a> logback-classic provides slf4j-api:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>And I also made I minimal code sample which still has the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package xyz.skwar.sorting;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Main {\n  private static final Logger logger = LoggerFactory.getLogger(Main.class);\n\n  public static void main(String[] args) {\n    logger.info(&quot;test&quot;);\n  }\n}\n</code></pre>\n<p>And here is also the entire pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;xyz.skwar.sorting&lt;/groupId&gt;\n  &lt;artifactId&gt;Sorting&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;org.slf4j.version&gt;2.0.9&lt;/org.slf4j.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.30&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;releases&gt;\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n      &lt;/releases&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;name&gt;Central Repository&lt;/name&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;!-- Build an executable JAR --&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;xyz.skwar.sorting.Main&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","scala","java-8"],"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":2,"creation_date":1539378308,"post_id":52786894,"comment_id":92495332,"body_markdown":"You would probably just use an Optional. Is that the sort of thing that you&#39;re looking for? In your case, it would return an optional string. And after you call the function you could check whether the value is present or not. For instance, see https://stackoverflow.com/questions/23454952/uses-for-optional . If that answers your question, maybe this one can be close as a duplicate of that. The questions aren&#39;t identical but that answer probably answers this one.","body":"You would probably just use an Optional. Is that the sort of thing that you&#39;re looking for? In your case, it would return an optional string. And after you call the function you could check whether the value is present or not. For instance, see <a href=\"https://stackoverflow.com/questions/23454952/uses-for-optional\">stackoverflow.com/questions/23454952/uses-for-optional</a> . If that answers your question, maybe this one can be close as a duplicate of that. The questions aren&#39;t identical but that answer probably answers this one."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1539378389,"post_id":52786894,"comment_id":92495363,"body_markdown":"@JoshuaTaylor This doesn&#39;t help you to test whether a function `isDefinedAt` a value, *before* evaluating it.","body":"@JoshuaTaylor This doesn&#39;t help you to test whether a function <code>isDefinedAt</code> a value, <i>before</i> evaluating it."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":0,"creation_date":1539378568,"post_id":52786894,"comment_id":92495439,"body_markdown":"@AndreyTyukin that&#39;s correct the syntax is a little bit different. But determining whether an arbitrary function is defined for some input probably means evaluating the function at least a little bit. How does Scala determine whether the function is defined at, to use OP&#39;s example, 11 without actually checking whether 11 modulo 2 equal 0? I&#39;d say that syntactic differences aside, and optional is going to be the closest thing in Java.","body":"@AndreyTyukin that&#39;s correct the syntax is a little bit different. But determining whether an arbitrary function is defined for some input probably means evaluating the function at least a little bit. How does Scala determine whether the function is defined at, to use OP&#39;s example, 11 without actually checking whether 11 modulo 2 equal 0? I&#39;d say that syntactic differences aside, and optional is going to be the closest thing in Java."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1539378904,"post_id":52786894,"comment_id":92495560,"body_markdown":"@JoshuaTaylor No, `val pf: PartialFunction[Int, Unit] = { case 42 =&gt; System.exit(42) } ; pf.isDefinedAt(42)` will not evaluate `pf`, not even a tiniest little bit ;) The `if x % 2 == 0` is a *guard expression* on the left hand side of the match, when you invoke `isDefinedAt`, it doesn&#39;t touch the right hand side. That&#39;s exactly the point: `PartialFunction` is composed of both the predicate that determines the domain and a (separate!) piecewise function definition on that domain. A function that simply returns `Optional` is strictly weaker than `PartialFunction`s.","body":"@JoshuaTaylor No, <code>val pf: PartialFunction[Int, Unit] = { case 42 =&gt; System.exit(42) } ; pf.isDefinedAt(42)</code> will not evaluate <code>pf</code>, not even a tiniest little bit ;) The <code>if x % 2 == 0</code> is a <i>guard expression</i> on the left hand side of the match, when you invoke <code>isDefinedAt</code>, it doesn&#39;t touch the right hand side. That&#39;s exactly the point: <code>PartialFunction</code> is composed of both the predicate that determines the domain and a (separate!) piecewise function definition on that domain. A function that simply returns <code>Optional</code> is strictly weaker than <code>PartialFunction</code>s."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1539378962,"post_id":52786894,"comment_id":92495582,"body_markdown":"Just curious: In which actual usage is this sort of &quot;partialness&quot; useful? The trait example seems pretty hard to understand for someone who is Scala-illiterate or less savvy with functional programming.","body":"Just curious: In which actual usage is this sort of &quot;partialness&quot; useful? The trait example seems pretty hard to understand for someone who is Scala-illiterate or less savvy with functional programming."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":0,"creation_date":1539379188,"post_id":52786894,"comment_id":92495658,"body_markdown":"@AndreyTyukin How can Scala determine whether that guard, ` x % 2 == 0` is true or not, and thus whether the function has a value for `11` without evaluating it?  But that&#39;s no different from any language with `if`.  In Java, writing `if (x % 2 == 0) { /* a */ }`, the `/* a */` doesn&#39;t get executed if `x % 2 == 0` is false.","body":"@AndreyTyukin How can Scala determine whether that guard, ` x % 2 == 0` is true or not, and thus whether the function has a value for <code>11</code> without evaluating it?  But that&#39;s no different from any language with <code>if</code>.  In Java, writing <code>if (x % 2 == 0) { &#47;* a *&#47; }</code>, the <code>&#47;* a *&#47;</code> doesn&#39;t get executed if <code>x % 2 == 0</code> is false."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1539379252,"post_id":52786894,"comment_id":92495694,"body_markdown":"@JoshuaTaylor By evaluating *only the guard*, and *without touching the right hand side of the function*? I&#39;ve already given a single-line example above. It will happily return `true`, without exiting the JVM.","body":"@JoshuaTaylor By evaluating <i>only the guard</i>, and <i>without touching the right hand side of the function</i>? I&#39;ve already given a single-line example above. It will happily return <code>true</code>, without exiting the JVM."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":1,"creation_date":1539379890,"post_id":52786894,"comment_id":92495927,"body_markdown":"@AndreyTyukin You do make a good point, though, in that Scala&#39;s partial functions can return true for isDefinedAt, even when evaluating the function would actually throw an exception.  So I think a truer analog would be an `Optional&lt;Supplier&lt;...&gt;&gt;`.","body":"@AndreyTyukin You do make a good point, though, in that Scala&#39;s partial functions can return true for isDefinedAt, even when evaluating the function would actually throw an exception.  So I think a truer analog would be an <code>Optional&lt;Supplier&lt;...&gt;&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1539380648,"creation_date":1539379053,"answer_id":52787106,"question_id":52786894,"body_markdown":"## A Java 8 Idiomatic, But Not Entirely Faithful, Approach\n\nThe most typical thing in Java 8 is going to be the Optional class:\n\n&lt;!-- lang: java --&gt;\n\n    import static org.hamcrest.Matchers.equalTo;\n    import static org.hamcrest.Matchers.is;\n    import static org.junit.Assert.assertThat;\n    \n    import org.junit.Test;\n    \n    import java.util.Optional;\n    \n    public class OptionalAsPartialFunction {\n    \n      Optional&lt;String&gt; isEven(final int x) {\n        return Optional.of(x)\n            .filter(i -&gt; i % 2 == 0)\n            .map(i -&gt; i + &quot; is even&quot;);\n      }\n    \n      @Test\n      public void example() {\n        assertThat(isEven(10).get(), equalTo(&quot;10 is even&quot;));\n        assertThat(isEven(11).isPresent(), is(false));\n      }\n    }\n\nIf you&#39;re familiar with Optional, then you&#39;ll see that the string concatenation `i + &quot; is even&quot;` is only evaluated if the filter condition, `i % 2 == 0`, is true.  If you&#39;re not familiar with with Java&#39;s Optional, you can write this out with an `if/else`, as well:\n\n    Optional&lt;String&gt; isEven(final int x) {\n      if (x % 2 == 0) {\n        return Optional.of(x + &quot; is even&quot;);\n      } else {\n        return Optional.empty();\n      }\n    }\n\nThis should make is completely clear that the string concatenation is evaluated if and only if the guard condition evaluates to true.\n\n## A More Faithful, But Less Idiomatic (in Java) Approach\n\nWith the naive approach, you&#39;re calling the function, and getting an Optional which either contains the actual value of the function or it doesn&#39;t. But Scala&#39;s PartialFunction is a little bit more complex.  From the documentation you linked to:\n\n&gt; Even if isDefinedAt returns true for an a: A, calling apply(a) may still throw an exception, so the following code is legal:\n&gt;\n&gt;     val f: PartialFunction[Int, Any] = { case _ =&gt; 1/0 }\n\nSo we&#39;d like to be able to check whether the function &quot;is defined&quot; for an input, even if trying to compute if for that input would actually be an error. \n\nSo a more faithful approach would be to use an `Optional&lt;Supplier&lt;...&gt;&gt;`. The outer `Optional` lets you know whether there&#39;s a computation to perform, and the inner `Supplier` lets you perform that computation (if you choose).  So the example would become:\n\n      Optional&lt;Supplier&lt;String&gt;&gt; isEven(final int x) {\n        return Optional.of(x)\n            .filter(i -&gt; i % 2 == 0)\n            .map(i -&gt; () -&gt; i + &quot; is even&quot;);\n      }\n\nor, with an `if/else`:\n\n    Optional&lt;Supplier&lt;String&gt;&gt; isEven(final int x) {\n      if (x % 2 == 0) {\n        return Optional.of(() -&gt; x + &quot; is even&quot;);\n      } else {\n        return Optional.empty();\n      }\n    }\n\nand `isPresent()` still checks whether the function is defined, but `get()` will now return the `Supplier` whose `get()` method will actually compute the value:\n\n      @Test\n      public void example() {\n        assertThat(&quot;isPresent() checks whether the function is defined for the input&quot;, //\n            isEven(10).isPresent(), equalTo(true));\n        assertThat(&quot;get() returns the supplier that actually computes the value&quot;, //\n            isEven(10).get().get(), equalTo(&quot;10 is even&quot;));\n        assertThat(&quot;isPresent() checks whether the function is defined for the input&quot;, //\n            isEven(11).isPresent(), is(false));\n      }","title":"Does Scala&#39;s Partial Function have a Java Equivalent?","body":"<h2>A Java 8 Idiomatic, But Not Entirely Faithful, Approach</h2>\n<p>The most typical thing in Java 8 is going to be the Optional class:</p>\n\n<pre><code>import static org.hamcrest.Matchers.equalTo;\nimport static org.hamcrest.Matchers.is;\nimport static org.junit.Assert.assertThat;\n\nimport org.junit.Test;\n\nimport java.util.Optional;\n\npublic class OptionalAsPartialFunction {\n\n  Optional&lt;String&gt; isEven(final int x) {\n    return Optional.of(x)\n        .filter(i -&gt; i % 2 == 0)\n        .map(i -&gt; i + &quot; is even&quot;);\n  }\n\n  @Test\n  public void example() {\n    assertThat(isEven(10).get(), equalTo(&quot;10 is even&quot;));\n    assertThat(isEven(11).isPresent(), is(false));\n  }\n}\n</code></pre>\n<p>If you're familiar with Optional, then you'll see that the string concatenation <code>i + &quot; is even&quot;</code> is only evaluated if the filter condition, <code>i % 2 == 0</code>, is true.  If you're not familiar with with Java's Optional, you can write this out with an <code>if/else</code>, as well:</p>\n<pre><code>Optional&lt;String&gt; isEven(final int x) {\n  if (x % 2 == 0) {\n    return Optional.of(x + &quot; is even&quot;);\n  } else {\n    return Optional.empty();\n  }\n}\n</code></pre>\n<p>This should make is completely clear that the string concatenation is evaluated if and only if the guard condition evaluates to true.</p>\n<h2>A More Faithful, But Less Idiomatic (in Java) Approach</h2>\n<p>With the naive approach, you're calling the function, and getting an Optional which either contains the actual value of the function or it doesn't. But Scala's PartialFunction is a little bit more complex.  From the documentation you linked to:</p>\n<blockquote>\n<p>Even if isDefinedAt returns true for an a: A, calling apply(a) may still throw an exception, so the following code is legal:</p>\n<pre><code>val f: PartialFunction[Int, Any] = { case _ =&gt; 1/0 }\n</code></pre>\n</blockquote>\n<p>So we'd like to be able to check whether the function &quot;is defined&quot; for an input, even if trying to compute if for that input would actually be an error.</p>\n<p>So a more faithful approach would be to use an <code>Optional&lt;Supplier&lt;...&gt;&gt;</code>. The outer <code>Optional</code> lets you know whether there's a computation to perform, and the inner <code>Supplier</code> lets you perform that computation (if you choose).  So the example would become:</p>\n<pre><code>  Optional&lt;Supplier&lt;String&gt;&gt; isEven(final int x) {\n    return Optional.of(x)\n        .filter(i -&gt; i % 2 == 0)\n        .map(i -&gt; () -&gt; i + &quot; is even&quot;);\n  }\n</code></pre>\n<p>or, with an <code>if/else</code>:</p>\n<pre><code>Optional&lt;Supplier&lt;String&gt;&gt; isEven(final int x) {\n  if (x % 2 == 0) {\n    return Optional.of(() -&gt; x + &quot; is even&quot;);\n  } else {\n    return Optional.empty();\n  }\n}\n</code></pre>\n<p>and <code>isPresent()</code> still checks whether the function is defined, but <code>get()</code> will now return the <code>Supplier</code> whose <code>get()</code> method will actually compute the value:</p>\n<pre><code>  @Test\n  public void example() {\n    assertThat(&quot;isPresent() checks whether the function is defined for the input&quot;, //\n        isEven(10).isPresent(), equalTo(true));\n    assertThat(&quot;get() returns the supplier that actually computes the value&quot;, //\n        isEven(10).get().get(), equalTo(&quot;10 is even&quot;));\n    assertThat(&quot;isPresent() checks whether the function is defined for the input&quot;, //\n        isEven(11).isPresent(), is(false));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699107622,"creation_date":1539381547,"answer_id":52787486,"question_id":52786894,"body_markdown":"Java does not seem to provide `PartialFunction`s directly, but it provides a few interfaces that you can use to define your own `PartialFunction&lt;X,Y&gt;`. A `PartialFunction&lt;X, Y&gt;` is essentially just:\r\n\r\n * a `Predicate&lt;X&gt;` for testing whether a value of type `X` is in the domain\r\n * `Function&lt;X, Y&gt;` for the actual function definition that is invoked *if* the function is defined for the argument value.\r\n\r\nBelow, I&#39;ve sketched how you could make use of `Predicate` and `Function` to implement `PartialFunction`. In this sketch, I defined only the three most important methods:\r\n\r\n  * `isDefinedAt` is essentially just `Predicate`s `test`.\r\n  * `apply` invokes `test` and, if successful, invokes the `applyIfDefined`, which represents the &quot;actual body of the function&quot; (right hand side of `case`s in Scala)\r\n  * `orElse` is a demonstration of a compositional structure of the fallback-behavior (which is very different from ordinary function composition)\r\n\r\n\r\nHere is the full Java code:\r\n\r\n    import java.util.function.*;\r\n    \r\n    abstract class PartialFunction&lt;X, Y&gt; implements Predicate&lt;X&gt;, Function&lt;X, Y&gt; {\r\n      public boolean isDefinedAt(X x) {\r\n        return this.test(x);\r\n      }\r\n      public Y apply(X x) {\r\n        if (isDefinedAt(x)) {\r\n          return applyIfDefined(x);\r\n        } else {\r\n          throw new IllegalArgumentException(&quot;Match error on &quot; + x);\r\n        }\r\n      }\r\n      public abstract Y applyIfDefined(X x);\r\n    \r\n      public PartialFunction&lt;X, Y&gt; orElse(PartialFunction&lt;X, Y&gt; fallback) {\r\n        PartialFunction&lt;X, Y&gt; outer = this;\r\n        return new PartialFunction&lt;X, Y&gt;(){\r\n          public boolean test(X x) {\r\n            return outer.test(x) || fallback.test(x);\r\n          }\r\n          public Y applyIfDefined(X x) {\r\n            if (outer.isDefinedAt(x)) {\r\n              return outer.applyIfDefined(x);\r\n            } else {\r\n              return fallback.apply(x);\r\n            }\r\n          }\r\n          @Override\r\n          public Y apply(X x) {\r\n            return applyIfDefined(x);\r\n          }\r\n        };\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        PartialFunction&lt;Integer, String&gt; f = new PartialFunction&lt;Integer, String&gt;() {\r\n          public boolean test(Integer i) {\r\n            return i % 2 == 0;\r\n          }\r\n          public String applyIfDefined(Integer i) {\r\n            return i + &quot; is even&quot;;\r\n          }\r\n        };\r\n        PartialFunction&lt;Integer, String&gt; g = new PartialFunction&lt;Integer, String&gt;() {\r\n          public boolean test(Integer i) {\r\n            return i % 2 == 1;\r\n          }\r\n          public String applyIfDefined(Integer i) {\r\n            return i + &quot; is odd&quot;;\r\n          }\r\n        };\r\n        System.out.println(f.apply(42));\r\n        try {\r\n          System.out.println(f.apply(43));\r\n        } catch (Exception e) {\r\n          System.out.println(e);\r\n        }\r\n        PartialFunction&lt;Integer, String&gt; h = f.orElse(g);\r\n        System.out.println(h.apply(100));\r\n        System.out.println(h.apply(101));\r\n      }\r\n    }\r\n\r\nThe output of the above example is:\r\n\r\n    42 is even\r\n    java.lang.IllegalArgumentException: Match error on 43\r\n    100 is even\r\n    101 is odd\r\n\r\nIf you wanted to use it with some kind of &quot;case-classes&quot;, you could do this too, but for that, you would have to provide an implementation of the case classes first.","title":"Does Scala&#39;s Partial Function have a Java Equivalent?","body":"<p>Java does not seem to provide <code>PartialFunction</code>s directly, but it provides a few interfaces that you can use to define your own <code>PartialFunction&lt;X,Y&gt;</code>. A <code>PartialFunction&lt;X, Y&gt;</code> is essentially just:</p>\n<ul>\n<li>a <code>Predicate&lt;X&gt;</code> for testing whether a value of type <code>X</code> is in the domain</li>\n<li><code>Function&lt;X, Y&gt;</code> for the actual function definition that is invoked <em>if</em> the function is defined for the argument value.</li>\n</ul>\n<p>Below, I've sketched how you could make use of <code>Predicate</code> and <code>Function</code> to implement <code>PartialFunction</code>. In this sketch, I defined only the three most important methods:</p>\n<ul>\n<li><code>isDefinedAt</code> is essentially just <code>Predicate</code>s <code>test</code>.</li>\n<li><code>apply</code> invokes <code>test</code> and, if successful, invokes the <code>applyIfDefined</code>, which represents the &quot;actual body of the function&quot; (right hand side of <code>case</code>s in Scala)</li>\n<li><code>orElse</code> is a demonstration of a compositional structure of the fallback-behavior (which is very different from ordinary function composition)</li>\n</ul>\n<p>Here is the full Java code:</p>\n<pre><code>import java.util.function.*;\n\nabstract class PartialFunction&lt;X, Y&gt; implements Predicate&lt;X&gt;, Function&lt;X, Y&gt; {\n  public boolean isDefinedAt(X x) {\n    return this.test(x);\n  }\n  public Y apply(X x) {\n    if (isDefinedAt(x)) {\n      return applyIfDefined(x);\n    } else {\n      throw new IllegalArgumentException(&quot;Match error on &quot; + x);\n    }\n  }\n  public abstract Y applyIfDefined(X x);\n\n  public PartialFunction&lt;X, Y&gt; orElse(PartialFunction&lt;X, Y&gt; fallback) {\n    PartialFunction&lt;X, Y&gt; outer = this;\n    return new PartialFunction&lt;X, Y&gt;(){\n      public boolean test(X x) {\n        return outer.test(x) || fallback.test(x);\n      }\n      public Y applyIfDefined(X x) {\n        if (outer.isDefinedAt(x)) {\n          return outer.applyIfDefined(x);\n        } else {\n          return fallback.apply(x);\n        }\n      }\n      @Override\n      public Y apply(X x) {\n        return applyIfDefined(x);\n      }\n    };\n  }\n\n  public static void main(String[] args) {\n    PartialFunction&lt;Integer, String&gt; f = new PartialFunction&lt;Integer, String&gt;() {\n      public boolean test(Integer i) {\n        return i % 2 == 0;\n      }\n      public String applyIfDefined(Integer i) {\n        return i + &quot; is even&quot;;\n      }\n    };\n    PartialFunction&lt;Integer, String&gt; g = new PartialFunction&lt;Integer, String&gt;() {\n      public boolean test(Integer i) {\n        return i % 2 == 1;\n      }\n      public String applyIfDefined(Integer i) {\n        return i + &quot; is odd&quot;;\n      }\n    };\n    System.out.println(f.apply(42));\n    try {\n      System.out.println(f.apply(43));\n    } catch (Exception e) {\n      System.out.println(e);\n    }\n    PartialFunction&lt;Integer, String&gt; h = f.orElse(g);\n    System.out.println(h.apply(100));\n    System.out.println(h.apply(101));\n  }\n}\n</code></pre>\n<p>The output of the above example is:</p>\n<pre><code>42 is even\njava.lang.IllegalArgumentException: Match error on 43\n100 is even\n101 is odd\n</code></pre>\n<p>If you wanted to use it with some kind of &quot;case-classes&quot;, you could do this too, but for that, you would have to provide an implementation of the case classes first.</p>\n"},{"tags":[],"owner":{"account_id":14208533,"reputation":3827,"user_id":10264430,"display_name":"Alexander Pankin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539384114,"creation_date":1539381583,"answer_id":52787490,"question_id":52786894,"body_markdown":"[Vavr][1] brings to Java a lot of cool stuff from Scala.\r\n\r\nIf you ok with 3rd party libraries, it could be the best choice.\r\n\r\n    @Test\r\n    public void test() {\r\n        PartialFunction&lt;Integer, String&gt; isEven =\r\n                Function1.&lt;Integer, String&gt;of(integer -&gt; integer + &quot; is even&quot;)\r\n                        .partial(integer -&gt; integer % 2 == 0);\r\n\r\n        Assert.assertEquals(&quot;10 is even&quot;, isEven.apply(10));\r\n        Assert.assertFalse(isEven.isDefinedAt(11));\r\n    }\r\n\r\nMore complex example you can find [here][2]\r\n\r\n\r\n  [1]: http://www.vavr.io/\r\n  [2]: http://blog.vavr.io/integrating-partial-functions-into-javaslang/","title":"Does Scala&#39;s Partial Function have a Java Equivalent?","body":"<p><a href=\"http://www.vavr.io/\" rel=\"nofollow noreferrer\">Vavr</a> brings to Java a lot of cool stuff from Scala.</p>\n\n<p>If you ok with 3rd party libraries, it could be the best choice.</p>\n\n<pre><code>@Test\npublic void test() {\n    PartialFunction&lt;Integer, String&gt; isEven =\n            Function1.&lt;Integer, String&gt;of(integer -&gt; integer + \" is even\")\n                    .partial(integer -&gt; integer % 2 == 0);\n\n    Assert.assertEquals(\"10 is even\", isEven.apply(10));\n    Assert.assertFalse(isEven.isDefinedAt(11));\n}\n</code></pre>\n\n<p>More complex example you can find <a href=\"http://blog.vavr.io/integrating-partial-functions-into-javaslang/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1602,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":52787106,"answer_count":3,"score":13,"last_activity_date":1699107622,"creation_date":1539377724,"question_id":52786894,"body_markdown":"Scala has [partial functions][1] which are functions that only apply to some values of the input type, but not all:\r\n\r\n    val isEven: PartialFunction[Int, String] = {\r\n      case x if x % 2 == 0 =&gt; x+&quot; is even&quot;\r\n    } \r\n\r\n    assert(isEven(10) equalsIgnoreCase &quot;10 is even&quot;)\r\n    assert(isEven.isDefinedAt(11) == false)\r\n\r\nAnd, even more useful, scala allows the &quot;partialness&quot; to be applied to the sub-type of a `trait`:\r\n\r\n    sealed trait BaseTrait\r\n\r\n    case class Foo(i : Int) extends BaseTrait\r\n    case class Bar(s : String) extends BaseTrait\r\n\r\n    val fooPartialFunc : PartialFunction[BaseTrait, Int] = {\r\n      case f : Foo =&gt; 42 + f.i\r\n    }\r\n\r\n    assert(fooPartialFunc(Foo(8)) == 50)\r\n    assert(fooPartialFunc.isDefinedAt(Bar(&quot;hello&quot;)) == false)\r\n\r\n**What is the equivalent in java 8?** \r\n\r\nMost google results confuse &quot;partial function&quot; with currying, e.g. &quot;partially applied function&quot;.\r\n\r\n\r\n  [1]: https://www.scala-lang.org/api/current/scala/PartialFunction.html","title":"Does Scala&#39;s Partial Function have a Java Equivalent?","body":"<p>Scala has <a href=\"https://www.scala-lang.org/api/current/scala/PartialFunction.html\" rel=\"noreferrer\">partial functions</a> which are functions that only apply to some values of the input type, but not all:</p>\n\n<pre><code>val isEven: PartialFunction[Int, String] = {\n  case x if x % 2 == 0 =&gt; x+\" is even\"\n} \n\nassert(isEven(10) equalsIgnoreCase \"10 is even\")\nassert(isEven.isDefinedAt(11) == false)\n</code></pre>\n\n<p>And, even more useful, scala allows the \"partialness\" to be applied to the sub-type of a <code>trait</code>:</p>\n\n<pre><code>sealed trait BaseTrait\n\ncase class Foo(i : Int) extends BaseTrait\ncase class Bar(s : String) extends BaseTrait\n\nval fooPartialFunc : PartialFunction[BaseTrait, Int] = {\n  case f : Foo =&gt; 42 + f.i\n}\n\nassert(fooPartialFunc(Foo(8)) == 50)\nassert(fooPartialFunc.isDefinedAt(Bar(\"hello\")) == false)\n</code></pre>\n\n<p><strong>What is the equivalent in java 8?</strong> </p>\n\n<p>Most google results confuse \"partial function\" with currying, e.g. \"partially applied function\".</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699106749,"creation_date":1638582082,"answer_id":70222393,"question_id":70221943,"body_markdown":"Short basics on how programs in general work, and what leads to the `StackOverflowError`:\r\n\r\n - The stack is where all the operations for the CPU lie in sequence, but you can add more elements (do this next) or remove elements (have done this, don&#39;t need it anymore)\r\n - For each method you call, a new stack frame is put on top of the stack. This contains jumpback informations, and usually return values and parameters,\r\n - - so you can pass information from the calling method to the called method\r\n - - so when the called method is done, you know where to jump back to, to resume the former method\r\n - if you call too many methods, the stack will become too big to fit in your RAM (the real-life restrictions are a LOT worse) so you cannot call the subsequent method, so the call fails.\r\n - - now this is **especially** true for recursive methods, because their primary distinction from &quot;normal&quot; methods is to call themself over and over again (sort() calls sort() calls sort() etc).\r\n - - there are also less direct method &quot;recursion&quot; loops, where *a() calls b()* and then *b() calls c()* and *c() calls a()* and *a() calls b()* etc\r\n\r\nSo the problem is that in your code, probably the sort() method, calls itself (either directly or via other methods), and this finally leads to the Error.\r\n\r\nCheck the stop condition when that method shall `return` without/before calling itself. That condition might be faulty.","title":"Java StackOverFlowError in QuickSort Algorithm","body":"<p>Short basics on how programs in general work, and what leads to the <code>StackOverflowError</code>:</p>\n<ul>\n<li>The stack is where all the operations for the CPU lie in sequence, but you can add more elements (do this next) or remove elements (have done this, don't need it anymore)</li>\n<li>For each method you call, a new stack frame is put on top of the stack. This contains jumpback informations, and usually return values and parameters,</li>\n<li>\n<ul>\n<li>so you can pass information from the calling method to the called method</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>so when the called method is done, you know where to jump back to, to resume the former method</li>\n</ul>\n</li>\n<li>if you call too many methods, the stack will become too big to fit in your RAM (the real-life restrictions are a LOT worse) so you cannot call the subsequent method, so the call fails.</li>\n<li>\n<ul>\n<li>now this is <strong>especially</strong> true for recursive methods, because their primary distinction from &quot;normal&quot; methods is to call themself over and over again (sort() calls sort() calls sort() etc).</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>there are also less direct method &quot;recursion&quot; loops, where <em>a() calls b()</em> and then <em>b() calls c()</em> and <em>c() calls a()</em> and <em>a() calls b()</em> etc</li>\n</ul>\n</li>\n</ul>\n<p>So the problem is that in your code, probably the sort() method, calls itself (either directly or via other methods), and this finally leads to the Error.</p>\n<p>Check the stop condition when that method shall <code>return</code> without/before calling itself. That condition might be faulty.</p>\n"},{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638597649,"creation_date":1638597649,"answer_id":70223390,"question_id":70221943,"body_markdown":"Based on a quick look, I can&#39;t see anything in the function that would make an excessively large stack frame. However a recursive function always has a limit because each call uses stack (local variables plus function arguments) for each call.\r\n\r\nIt does seem odd that you hit the limit at 6500, since a perfectly balanced tree should only take (log base 2) calls (about 12 or 13), unless your list is already sorted - quicksort is notoriously bad in that case, and could make 6500 calls then.\r\n\r\nIf this is an exercise, try selecting a random pivot, that should give you better balance. If you&#39;re looking for an actual sort, try something less recursive like a merge sort.","title":"Java StackOverFlowError in QuickSort Algorithm","body":"<p>Based on a quick look, I can't see anything in the function that would make an excessively large stack frame. However a recursive function always has a limit because each call uses stack (local variables plus function arguments) for each call.</p>\n<p>It does seem odd that you hit the limit at 6500, since a perfectly balanced tree should only take (log base 2) calls (about 12 or 13), unless your list is already sorted - quicksort is notoriously bad in that case, and could make 6500 calls then.</p>\n<p>If this is an exercise, try selecting a random pivot, that should give you better balance. If you're looking for an actual sort, try something less recursive like a merge sort.</p>\n"}],"owner":{"account_id":23538850,"reputation":1,"user_id":17583383,"display_name":"mattdorrycott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699106749,"creation_date":1638576122,"question_id":70221943,"body_markdown":"Whenever I test my QuickSort algorithm with more than ~6500 elements, I obtain a stack overflow error. How could I optimize my algorithm so I wouldn&#39;t get this error? As part of a requirement, my code must result to insertion sort if the partition size is less than the MIN_SIZE.\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt;\r\n    \t   void quickSort(T[] array, int first, int last)\r\n    \t{\r\n    \t\tif (last - first + 1 &lt; MIN_SIZE)\r\n    \t\t{\r\n    \t\t    insertionSort(array, first, last);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tif (first &lt; last)\r\n    \t\t\t{\r\n    \t\t\t\t// create the partition: Smaller | Pivot | Larger\r\n    \t\t\t\tint pivotIndex = partition(array, first, last);\r\n    \t\t      \r\n    \t\t\t\t// sort subarrays Smaller and Larger\r\n    \t\t\t\tquickSort(array, first, pivotIndex-1);\r\n    \t\t\t\tquickSort(array, pivotIndex+1, last);\r\n    \t\t\t} // end if\r\n    \t\t}\r\n    \t}  // end quickSort\r\n    \r\nHere is the code for partitioning the array: \r\n    \t\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt;\r\n             \tint partition(T[] a, int first, int last)\r\n        \t{\r\n        \t\tint pivotIndex = last;  // simply pick pivot as rightmost element\r\n        \t\tT pivot = a[pivotIndex];\r\n        \t\r\n        \t\t// determine subarrays Smaller = a[first..endSmaller]\r\n        \t\t//                 and Larger  = a[endSmaller+1..last-1]\r\n        \t\t// such that elements in Smaller are &lt;= pivot and \r\n        \t\t// elements in Larger are &gt;= pivot; initially, these subarrays are empty\r\n        \t\r\n        \t\tint indexFromLeft = first; \r\n        \t\tint indexFromRight = last - 1; \r\n        \t\r\n        \t\tboolean done = false;\r\n        \t\twhile (!done)\r\n        \t\t{\r\n        \t\t\t// starting at beginning of array, leave elements that are &lt; pivot; \r\n        \t\t\t// locate first element that is &gt;= pivot\r\n        \t\t\twhile (a[indexFromLeft].compareTo(pivot) &lt; 0)\r\n        \t\t\t\tindexFromLeft++;\r\n        \t\r\n        \t\t\t// starting at end of array, leave elements that are &gt; pivot; \r\n        \t\t\t// locate first element that is &lt;= pivot\r\n        \t\r\n        \t\t\twhile (a[indexFromRight].compareTo(pivot) &gt; 0 &amp;&amp; indexFromRight &gt; first)\r\n        \t\t\t\tindexFromRight--;\r\n        \t\r\n        \t\t\t// Assertion: a[indexFromLeft] &gt;= pivot and \r\n        \t\t\t//            a[indexFromRight] &lt;= pivot.\r\n        \t\r\n        \t\t\tif (indexFromLeft &lt; indexFromRight)\r\n        \t\t\t{\r\n        \t\t\t\tswap(a, indexFromLeft, indexFromRight);\r\n        \t\t\t\tindexFromLeft++;\r\n        \t\t\t\tindexFromRight--;\r\n        \t\t\t}\r\n        \t\t\telse \r\n        \t\t\t\tdone = true;\r\n        \t\t} // end while\r\n        \t\r\n        \t\t// place pivot between Smaller and Larger subarrays\r\n        \t\tswap(a, pivotIndex, indexFromLeft);\r\n        \t\tpivotIndex = indexFromLeft;\r\n        \t\r\n        \t\t// Assertion:\r\n        \t\t// Smaller = a[first..pivotIndex-1]\r\n        \t\t// Pivot = a[pivotIndex]\r\n        \t\t// Larger  = a[pivotIndex + 1..last]\r\n        \t\r\n        \t\treturn pivotIndex; \r\n        \t}  // end partition","title":"Java StackOverFlowError in QuickSort Algorithm","body":"<p>Whenever I test my QuickSort algorithm with more than ~6500 elements, I obtain a stack overflow error. How could I optimize my algorithm so I wouldn't get this error? As part of a requirement, my code must result to insertion sort if the partition size is less than the MIN_SIZE.</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt;\n       void quickSort(T[] array, int first, int last)\n    {\n        if (last - first + 1 &lt; MIN_SIZE)\n        {\n            insertionSort(array, first, last);\n        }\n        else {\n            if (first &lt; last)\n            {\n                // create the partition: Smaller | Pivot | Larger\n                int pivotIndex = partition(array, first, last);\n              \n                // sort subarrays Smaller and Larger\n                quickSort(array, first, pivotIndex-1);\n                quickSort(array, pivotIndex+1, last);\n            } // end if\n        }\n    }  // end quickSort\n</code></pre>\n<p>Here is the code for partitioning the array:</p>\n<pre><code>private static &lt;T extends Comparable&lt;? super T&gt;&gt;\n            int partition(T[] a, int first, int last)\n        {\n            int pivotIndex = last;  // simply pick pivot as rightmost element\n            T pivot = a[pivotIndex];\n        \n            // determine subarrays Smaller = a[first..endSmaller]\n            //                 and Larger  = a[endSmaller+1..last-1]\n            // such that elements in Smaller are &lt;= pivot and \n            // elements in Larger are &gt;= pivot; initially, these subarrays are empty\n        \n            int indexFromLeft = first; \n            int indexFromRight = last - 1; \n        \n            boolean done = false;\n            while (!done)\n            {\n                // starting at beginning of array, leave elements that are &lt; pivot; \n                // locate first element that is &gt;= pivot\n                while (a[indexFromLeft].compareTo(pivot) &lt; 0)\n                    indexFromLeft++;\n        \n                // starting at end of array, leave elements that are &gt; pivot; \n                // locate first element that is &lt;= pivot\n        \n                while (a[indexFromRight].compareTo(pivot) &gt; 0 &amp;&amp; indexFromRight &gt; first)\n                    indexFromRight--;\n        \n                // Assertion: a[indexFromLeft] &gt;= pivot and \n                //            a[indexFromRight] &lt;= pivot.\n        \n                if (indexFromLeft &lt; indexFromRight)\n                {\n                    swap(a, indexFromLeft, indexFromRight);\n                    indexFromLeft++;\n                    indexFromRight--;\n                }\n                else \n                    done = true;\n            } // end while\n        \n            // place pivot between Smaller and Larger subarrays\n            swap(a, pivotIndex, indexFromLeft);\n            pivotIndex = indexFromLeft;\n        \n            // Assertion:\n            // Smaller = a[first..pivotIndex-1]\n            // Pivot = a[pivotIndex]\n            // Larger  = a[pivotIndex + 1..last]\n        \n            return pivotIndex; \n        }  // end partition\n</code></pre>\n"},{"tags":["java","xml","eclipse","maven","jboss"],"answers":[{"tags":[],"owner":{"account_id":7949568,"reputation":26,"user_id":6000778,"display_name":"vamshee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456901673,"creation_date":1456901673,"answer_id":35740393,"question_id":35740191,"body_markdown":"    Here the problem is with multiple rest service implementations i.e., one is jboss rest implementation and another one is jersey.So here in this case , you may have to exclude the jaxrs of jboss by creating jboss-deployment-structure.xml file and excluding that.\r\n    \r\n    Example of jboss-deployment-structure.xml \r\n    \r\n        &lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot;&gt;\r\n        \t&lt;ear-subdeployments-isolated&gt;false&lt;/ear-subdeployments-isolated&gt;\r\n        \t&lt;deployment&gt;\r\n        \t\t&lt;dependencies&gt;\r\n        \t     \t&lt;module name=&quot;org.jboss.as.jpa&quot;/&gt;\r\n        \t\t\t&lt;module name=&quot;org.hibernate&quot;/&gt;\r\n        \t\t\t\r\n        \t    &lt;/dependencies&gt;\r\n        \t\t&lt;exclude-subsystems&gt;\r\n        \t\t\t&lt;subsystem name=&quot;jaxrs&quot; /&gt;\r\n        \t\t\r\n        \t\t&lt;/exclude-subsystems&gt;\r\n        \t\t&lt;exclusions&gt;\r\n        \t\t\t&lt;!-- &lt;module name=&quot;org.jboss.as.jsf&quot;/&gt; --&gt;\r\n        \t\t\t&lt;module name=&quot;org.jboss.as.jaxrs&quot;/&gt;\r\n        \t\t\t&lt;module name=&quot;com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider&quot;/&gt;\r\n        \t\t\t&lt;module name=&quot;com.fasterxml.jackson.core.jackson-annotations&quot;/&gt;\r\n        \t\t\t&lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot;/&gt;\r\n        \t\t\t&lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot;/&gt;\r\n        \t\t\r\n        \t\t&lt;/exclusions&gt;\r\n        \t&lt;/deployment&gt;\r\n        &lt;/jboss-deployment-structure&gt;\r\n\r\n","title":"Failed to start service jboss.deployment.unit.&quot;RSSample.war&quot;.POST_MODULE:","body":"<pre><code>Here the problem is with multiple rest service implementations i.e., one is jboss rest implementation and another one is jersey.So here in this case , you may have to exclude the jaxrs of jboss by creating jboss-deployment-structure.xml file and excluding that.\n\nExample of jboss-deployment-structure.xml \n\n    &lt;jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.2\"&gt;\n        &lt;ear-subdeployments-isolated&gt;false&lt;/ear-subdeployments-isolated&gt;\n        &lt;deployment&gt;\n            &lt;dependencies&gt;\n                &lt;module name=\"org.jboss.as.jpa\"/&gt;\n                &lt;module name=\"org.hibernate\"/&gt;\n\n            &lt;/dependencies&gt;\n            &lt;exclude-subsystems&gt;\n                &lt;subsystem name=\"jaxrs\" /&gt;\n\n            &lt;/exclude-subsystems&gt;\n            &lt;exclusions&gt;\n                &lt;!-- &lt;module name=\"org.jboss.as.jsf\"/&gt; --&gt;\n                &lt;module name=\"org.jboss.as.jaxrs\"/&gt;\n                &lt;module name=\"com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider\"/&gt;\n                &lt;module name=\"com.fasterxml.jackson.core.jackson-annotations\"/&gt;\n                &lt;module name=\"com.fasterxml.jackson.core.jackson-databind\"/&gt;\n                &lt;module name=\"com.fasterxml.jackson.core.jackson-core\"/&gt;\n\n            &lt;/exclusions&gt;\n        &lt;/deployment&gt;\n    &lt;/jboss-deployment-structure&gt;\n</code></pre>\n"}],"owner":{"account_id":4986924,"reputation":67,"user_id":4010233,"accept_rate":44,"display_name":"R.S. Abarro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699106500,"creation_date":1456900758,"question_id":35740191,"body_markdown":"I want to deploy a jersey restful webservice that produces JSON.. but i get the following error \r\n\r\n&gt;14:08:26,743 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-9) MSC00001: Failed to start service jboss.deployment.unit.&quot;RSSample.war&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;RSSample.war&quot;.POST_MODULE: Failed to process phase POST_MODULE of deployment &quot;RSSample.war&quot;\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:119) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n\tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_79]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_79]\r\n\tat java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_79]\r\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011232: Only one JAX-RS Application Class allowed.  org.glassfish.jersey.server.ResourceConfig org.glassfish.jersey.server.ResourceConfig$WrappingResourceConfig org.glassfish.jersey.server.ResourceConfig$RuntimeConfig\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.scan(JaxrsScanningProcessor.java:209)\r\n\tat org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.deploy(JaxrsScanningProcessor.java:105)\r\n\tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\r\n\t... 5 more\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!-- This web.xml file is not required when using Servlet 3.0 container,\r\n        see implementation details &gt;http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt; &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    &gt;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; &gt;xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee &gt;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;    &lt;servlet&gt;\r\n           &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n           &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-&gt;class&gt;\r\n           &lt;init-param&gt;\r\n               &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n               &lt;param-value&gt;com.ph.restful.sample.RSSample&lt;/param-value&gt;\r\n           &lt;/init-param&gt;\r\n           &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    &lt;/servlet&gt;    &lt;servlet-mapping&gt;\r\n           &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n           &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;    &lt;/servlet-mapping&gt; &lt;/web-app&gt;\r\n\r\n\r\nMy pom.xml\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.ph.restful.sample&lt;/groupId&gt;\r\n    &lt;artifactId&gt;RSSample&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;RSSample&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;RSSample&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n            &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;2.22.2&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\nMyResource.java\r\n\r\n    @GET\r\n    @Path(&quot;/get&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    public Product getIt() {\r\n\r\n    \tProduct prod = new Product();\r\n    \tprod.setName(&quot;PS4&quot;);\r\n    \tprod.setId(&quot;123&quot;);\r\n    \tprod.setDescription(&quot;console game&quot;);\r\n    \treturn prod;\r\n    }\r\n\r\nProduct.java\r\n\r\n\tprivate String name;\r\n\tprivate String id;\r\n\tprivate String description;\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n[This is the project structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TkJdv.png\r\n\r\n\r\njboss-deployment-structure.xml\r\n\r\n     &lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot;&gt;\r\n      &lt;deployment&gt;\r\n         &lt;exclude-subsystems&gt;\r\n            &lt;subsystem name=&quot;jaxrs&quot; /&gt;\r\n        &lt;/exclude-subsystems&gt;      \r\n         &lt;exclusions&gt;  \r\n          &lt;module name=&quot;javax.ws.rs.api&quot; /&gt;  \r\n        &lt;/exclusions&gt;  \r\n      &lt;deployment&gt;\r\n      &lt;/jboss-deployment-structure&gt;","title":"Failed to start service jboss.deployment.unit.&quot;RSSample.war&quot;.POST_MODULE:","body":"<p>I want to deploy a jersey restful webservice that produces JSON.. but i get the following error </p>\n\n<blockquote>\n  <p>14:08:26,743 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-9) MSC00001: Failed to start service jboss.deployment.unit.\"RSSample.war\".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.\"RSSample.war\".POST_MODULE: Failed to process phase POST_MODULE of deployment \"RSSample.war\"\n      at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:119) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\n      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_79]\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_79]\n      at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_79]\n  Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011232: Only one JAX-RS Application Class allowed.  org.glassfish.jersey.server.ResourceConfig org.glassfish.jersey.server.ResourceConfig$WrappingResourceConfig org.glassfish.jersey.server.ResourceConfig$RuntimeConfig\n      at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.scan(JaxrsScanningProcessor.java:209)\n      at org.jboss.as.jaxrs.deployment.JaxrsScanningProcessor.deploy(JaxrsScanningProcessor.java:105)\n      at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\n      ... 5 more</p>\n</blockquote>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;!-- This web.xml file is not required when using Servlet 3.0 container,\n    see implementation details &gt;http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt; &lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n&gt;xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" &gt;xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee &gt;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;    &lt;servlet&gt;\n       &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n       &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-&gt;class&gt;\n       &lt;init-param&gt;\n           &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n           &lt;param-value&gt;com.ph.restful.sample.RSSample&lt;/param-value&gt;\n       &lt;/init-param&gt;\n       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    &lt;/servlet&gt;    &lt;servlet-mapping&gt;\n       &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n       &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;    &lt;/servlet-mapping&gt; &lt;/web-app&gt;\n</code></pre>\n\n<p>My pom.xml</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.ph.restful.sample&lt;/groupId&gt;\n&lt;artifactId&gt;RSSample&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;RSSample&lt;/name&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;RSSample&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n        &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n        &lt;!-- artifactId&gt;jersey-container-servlet&lt;/artifactId --&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;properties&gt;\n    &lt;jersey.version&gt;2.22.2&lt;/jersey.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p></p>\n\n<p>MyResource.java</p>\n\n<pre><code>@GET\n@Path(\"/get\")\n@Produces(\"application/json\")\npublic Product getIt() {\n\n    Product prod = new Product();\n    prod.setName(\"PS4\");\n    prod.setId(\"123\");\n    prod.setDescription(\"console game\");\n    return prod;\n}\n</code></pre>\n\n<p>Product.java</p>\n\n<pre><code>private String name;\nprivate String id;\nprivate String description;\n\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic String getId() {\n    return id;\n}\npublic void setId(String id) {\n    this.id = id;\n}\npublic String getDescription() {\n    return description;\n}\npublic void setDescription(String description) {\n    this.description = description;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TkJdv.png\" rel=\"nofollow\">This is the project structure</a></p>\n\n<p>jboss-deployment-structure.xml</p>\n\n<pre><code> &lt;jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.2\"&gt;\n  &lt;deployment&gt;\n     &lt;exclude-subsystems&gt;\n        &lt;subsystem name=\"jaxrs\" /&gt;\n    &lt;/exclude-subsystems&gt;      \n     &lt;exclusions&gt;  \n      &lt;module name=\"javax.ws.rs.api\" /&gt;  \n    &lt;/exclusions&gt;  \n  &lt;deployment&gt;\n  &lt;/jboss-deployment-structure&gt;\n</code></pre>\n"},{"tags":["java","bufferedreader","filereader"],"answers":[{"tags":[],"owner":{"account_id":1260587,"reputation":167,"user_id":1218979,"accept_rate":100,"display_name":"ElvenX"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1331402388,"creation_date":1331402388,"answer_id":9648824,"question_id":9648811,"body_markdown":"Bufferedreader - method that you can use actually as a substitute for Scanner method, gets file, gets input.\r\n\r\nFileReader - as the name suggests.","title":"Specific difference between bufferedreader and filereader","body":"<p>Bufferedreader - method that you can use actually as a substitute for Scanner method, gets file, gets input.</p>\n\n<p>FileReader - as the name suggests.</p>\n"},{"tags":[],"owner":{"account_id":872686,"reputation":1588,"user_id":923179,"accept_rate":25,"display_name":"Nufail"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1385270480,"creation_date":1331402731,"answer_id":9648860,"question_id":9648811,"body_markdown":"FileReader - read character files\r\n\r\nBufferedReader - &quot;Read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines.&quot;\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html\r\n\r\nActually BufferedReader makes use of Readers like FileReader.","title":"Specific difference between bufferedreader and filereader","body":"<p>FileReader - read character files</p>\n\n<p>BufferedReader - \"Read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines.\"</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html</a></p>\n\n<p>Actually BufferedReader makes use of Readers like FileReader.</p>\n"},{"tags":[],"owner":{"account_id":177944,"reputation":11762,"user_id":409617,"accept_rate":61,"display_name":"Mr. Black"},"down_vote_count":2,"up_vote_count":91,"is_accepted":true,"score":89,"last_activity_date":1331402895,"creation_date":1331402895,"answer_id":9648877,"question_id":9648811,"body_markdown":"**In simple manner:**\r\n\r\nA FileReader class is a general tool to read in characters from a File. The BufferedReader class can wrap around Readers, like FileReader, to buffer the input and improve efficiency. So you wouldn&#39;t use one over the other, but both at the same time by passing the FileReader object to the BufferedReader constructor. \r\n\r\n\r\n**Very Detail**\r\n\r\nFileReader is used for input of character data from a disk file. The input file can be an ordinary ASCII, one byte per character text file. A Reader stream automatically translates the characters from the disk file format into the internal char format. The characters in the input file might be from other alphabets supported by the UTF format, in which case there will be up to three bytes per character. In this case, also, characters from the file are translated into char format.\r\n\r\n![enter image description here][1]\r\n\r\nAs with output, it is good practice to use a buffer to improve efficiency. Use BufferedReader for this. This is the same class we&#39;ve been using for keyboard input. These lines should look familiar:\r\n\r\n&lt;pre&gt;&lt;code&gt;BufferedReader stdin =\r\n    new BufferedReader(new InputStreamReader( System.in ));\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThese lines create a BufferedReader, but connect it to an input stream from the keyboard, not to a file. \r\n\r\nSource: http://www.oopweb.com/Java/Documents/JavaNotes/Volume/chap84/ch84_3.html\r\n\r\n  [1]: http://i.stack.imgur.com/B3ibx.gif","title":"Specific difference between bufferedreader and filereader","body":"<p><strong>In simple manner:</strong></p>\n\n<p>A FileReader class is a general tool to read in characters from a File. The BufferedReader class can wrap around Readers, like FileReader, to buffer the input and improve efficiency. So you wouldn't use one over the other, but both at the same time by passing the FileReader object to the BufferedReader constructor. </p>\n\n<p><strong>Very Detail</strong></p>\n\n<p>FileReader is used for input of character data from a disk file. The input file can be an ordinary ASCII, one byte per character text file. A Reader stream automatically translates the characters from the disk file format into the internal char format. The characters in the input file might be from other alphabets supported by the UTF format, in which case there will be up to three bytes per character. In this case, also, characters from the file are translated into char format.</p>\n\n<p><img src=\"https://i.stack.imgur.com/B3ibx.gif\" alt=\"enter image description here\"></p>\n\n<p>As with output, it is good practice to use a buffer to improve efficiency. Use BufferedReader for this. This is the same class we've been using for keyboard input. These lines should look familiar:</p>\n\n<pre><code>BufferedReader stdin =\n    new BufferedReader(new InputStreamReader( System.in ));\n</code></pre>\n\n<p>These lines create a BufferedReader, but connect it to an input stream from the keyboard, not to a file. </p>\n\n<p>Source: <a href=\"http://www.oopweb.com/Java/Documents/JavaNotes/Volume/chap84/ch84_3.html\" rel=\"noreferrer\">http://www.oopweb.com/Java/Documents/JavaNotes/Volume/chap84/ch84_3.html</a></p>\n"},{"tags":[],"owner":{"account_id":4394923,"reputation":550,"user_id":3582295,"display_name":"Rohit Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402657149,"creation_date":1402657149,"answer_id":24203739,"question_id":9648811,"body_markdown":"BufferedReader requires a Reader, of which FileReader is one - it descends from InputStreamReader, which descends from Reader.\r\n\r\n","title":"Specific difference between bufferedreader and filereader","body":"<p>BufferedReader requires a Reader, of which FileReader is one - it descends from InputStreamReader, which descends from Reader.</p>\n"},{"tags":[],"owner":{"account_id":4965621,"reputation":1,"user_id":3995083,"display_name":"Anamika Chatterjee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1409504694,"creation_date":1409504694,"answer_id":25594290,"question_id":9648811,"body_markdown":"FileReader class helps in writing on file but its efficency is low since it has yo retrive one character at a time from file but BufferedReader takes chunks of data and store it in buffer so instead of retriving one character at atime from file retrival becomes easy using buffer. ","title":"Specific difference between bufferedreader and filereader","body":"<p>FileReader class helps in writing on file but its efficency is low since it has yo retrive one character at a time from file but BufferedReader takes chunks of data and store it in buffer so instead of retriving one character at atime from file retrival becomes easy using buffer. </p>\n"},{"tags":[],"owner":{"account_id":5104821,"reputation":1711,"user_id":4093220,"display_name":"Mehul Katpara"},"down_vote_count":1,"up_vote_count":150,"is_accepted":false,"score":149,"last_activity_date":1600790851,"creation_date":1415730714,"answer_id":26871923,"question_id":9648811,"body_markdown":"First, You should understand &quot;streaming&quot; in Java because all &quot;Readers&quot; in Java are built upon this concept.\r\n\r\n**File Streaming**\r\n\r\nFile streaming is carried out by the *FileInputStream* object in Java.\r\n\r\n\r\n    // it reads a byte at a time and stores into the &#39;byt&#39; variable\r\n    int byt;\r\n    while((byt = fileInputStream.read()) != -1) {\r\n        fileOutputStream.write(byt);\r\n    } \r\n\r\nThis object reads a byte(8-bits) at a time and writes it to the given file.\r\n\r\nA practical useful application of it would be to work with raw binary/data files, such as images or audio files (use AudioInputStream instead of FileInputStream for audio files).\r\nOn the other hand, it is very inconvenient and slower for text files, because of looping through a byte at a time, then do some processing and store the processed byte back is tedious and time-consuming.\r\n\r\nYou also need to provide the character set of the text file, i.e if the characters are in *Latin* or *Chinese*, etc. Otherwise, the program would decode and encode 8-bits at a time and you&#39;d see weird chars printed on the screen or written in the output file (if a char is more than 1 byte long, i.e. non-ASCII characters).\r\n\r\n**File Reading** \r\n\r\nThis is just a fancy way of saying &quot;File streaming&quot; with inclusive charset support (i.e no need to define the charset, like earlier).\r\n\r\nThe *FileReader* class is specifically designed to deal with the text files.\r\nAs you&#39;ve seen earlier, the file streaming is best to deal with raw binary data, but for the sake of text, it is not so efficient.\r\n\r\nSo the Java-dudes added the *FileReader* class, to deal specifically with the text files. It reads 2 bytes (or 4 bytes, depends on the charset) at a time. A remarkably huge improvement over the preceding *FileInputStream*!!\r\n  \r\nso the streaming operation is like this,\r\n\r\n    int c;\r\n    while ( (c = fileReader.read()) != -1) { // some logic }\r\n\r\n\r\nPlease note, Both classes use an integer variable to store the value retrieved from the input file (so every char is converted into an integer while fetching and back to the char while storing).\r\n\r\nThe only advantage here is that this class deals only with text files, so you don&#39;t have to specify the charset and a few other properties. It provides an out-of-the-box solution, for most of the text files processing cases. It also supports internationalization and localization.\r\n\r\nBut again it&#39;s still very slow (Imaging reading 2 bytes at a time and looping through it!).\r\n\r\n**Buffering streams** \r\n\r\nTo tackle the problem of continuous looping over a byte or 2. The Java-dudes added another spectacular functionality. **&quot;To create a buffer of data, before processing.&quot;**\r\n\r\nThe concept is pretty much alike when a user streams a video on YouTube. A video is buffered before playing, to provide flawless video watching experience. (Tho, the browser keeps buffering until the whole video is buffered ahead of time.) The same technique is used by the *BufferedReader* class. \r\n\r\nA *BufferedReader* object takes a *FileReader* object as an input which contains all the necessary information about the text file that needs to be read. (such as the file path and charset.) \r\n\r\n    BufferedReader br = new BufferedReader( new FileReader(&quot;example.txt&quot;) );\r\n\r\nWhen the &quot;read&quot; instruction is given to the *BufferedReader* object, it uses the *FileReader* object to read the data from the file. When an instruction is given, the *FileReader* object reads 2 (or 4) bytes at a time and returns the data to the *BufferedReader* and the reader keeps doing that until it hits &#39;\\n&#39; or &#39;\\r\\n&#39; (The end of the line symbol). \r\nOnce a line is buffered, the reader waits patiently, until the instruction to buffer the next line is given.\r\n\r\nMeanwhile, The *BufferReader* object creates a special memory place (On the RAM), called &quot;Buffer&quot;, and stores all the fetched data from the *FileReader* object.\r\n\r\n    // this variable points to the buffered line\r\n    String line;\r\n\r\n    // Keep buffering the lines and print it.\r\n    while ((line = br.readLine()) != null) {\r\n        printWriter.println(line);\r\n    }\r\n\r\nNow here, instead of reading 2 bytes at a time, a whole line is fetched and stored in the RAM somewhere, and when you are done with processing the data, you can store the whole line back to the hard disk. So it makes the process run way faster than doing 2 bytes a time.\r\n\r\nBut again, why do we need to pass FileReader object to the BufferReader? Can&#39;t we just say &quot;buffer this file&quot; and the BufferReader would take care of the rest? wouldn&#39;t that be sweet?\r\n\r\nWell, the *BufferReader* class is created in a way that it only knows how to create a buffer and to store incoming data. It is irrelevant to the object from where the data is coming. So the same object can be used for many other input streams than just text files.\r\n\r\nSo being said that, When you provide the FileReader object as an input, it buffers the file, the same way if you provide the *InputStreamReader* as an object, it buffers the Terminal/Console input data until it hits a newline symbol. such as,\r\n\r\n    // Object that reads console inputs\r\n    InputStreamReader console = new InputStreamReader(System.in);\r\n    BufferedReader br = new BufferedReader(console);\r\n    System.out.println(br.readLine());\r\n\r\n\r\nThis way, you can read (or buffer) multiple streams with the same *BufferReader* class, such as text files, consoles, printers, networking data etc, and all you have to remember is,\r\n\r\n     bufferedReader.readLine();\r\n\r\nto print whatever you&#39;ve buffered.","title":"Specific difference between bufferedreader and filereader","body":"<p>First, You should understand &quot;streaming&quot; in Java because all &quot;Readers&quot; in Java are built upon this concept.</p>\n<p><strong>File Streaming</strong></p>\n<p>File streaming is carried out by the <em>FileInputStream</em> object in Java.</p>\n<pre><code>// it reads a byte at a time and stores into the 'byt' variable\nint byt;\nwhile((byt = fileInputStream.read()) != -1) {\n    fileOutputStream.write(byt);\n} \n</code></pre>\n<p>This object reads a byte(8-bits) at a time and writes it to the given file.</p>\n<p>A practical useful application of it would be to work with raw binary/data files, such as images or audio files (use AudioInputStream instead of FileInputStream for audio files).\nOn the other hand, it is very inconvenient and slower for text files, because of looping through a byte at a time, then do some processing and store the processed byte back is tedious and time-consuming.</p>\n<p>You also need to provide the character set of the text file, i.e if the characters are in <em>Latin</em> or <em>Chinese</em>, etc. Otherwise, the program would decode and encode 8-bits at a time and you'd see weird chars printed on the screen or written in the output file (if a char is more than 1 byte long, i.e. non-ASCII characters).</p>\n<p><strong>File Reading</strong></p>\n<p>This is just a fancy way of saying &quot;File streaming&quot; with inclusive charset support (i.e no need to define the charset, like earlier).</p>\n<p>The <em>FileReader</em> class is specifically designed to deal with the text files.\nAs you've seen earlier, the file streaming is best to deal with raw binary data, but for the sake of text, it is not so efficient.</p>\n<p>So the Java-dudes added the <em>FileReader</em> class, to deal specifically with the text files. It reads 2 bytes (or 4 bytes, depends on the charset) at a time. A remarkably huge improvement over the preceding <em>FileInputStream</em>!!</p>\n<p>so the streaming operation is like this,</p>\n<pre><code>int c;\nwhile ( (c = fileReader.read()) != -1) { // some logic }\n</code></pre>\n<p>Please note, Both classes use an integer variable to store the value retrieved from the input file (so every char is converted into an integer while fetching and back to the char while storing).</p>\n<p>The only advantage here is that this class deals only with text files, so you don't have to specify the charset and a few other properties. It provides an out-of-the-box solution, for most of the text files processing cases. It also supports internationalization and localization.</p>\n<p>But again it's still very slow (Imaging reading 2 bytes at a time and looping through it!).</p>\n<p><strong>Buffering streams</strong></p>\n<p>To tackle the problem of continuous looping over a byte or 2. The Java-dudes added another spectacular functionality. <strong>&quot;To create a buffer of data, before processing.&quot;</strong></p>\n<p>The concept is pretty much alike when a user streams a video on YouTube. A video is buffered before playing, to provide flawless video watching experience. (Tho, the browser keeps buffering until the whole video is buffered ahead of time.) The same technique is used by the <em>BufferedReader</em> class.</p>\n<p>A <em>BufferedReader</em> object takes a <em>FileReader</em> object as an input which contains all the necessary information about the text file that needs to be read. (such as the file path and charset.)</p>\n<pre><code>BufferedReader br = new BufferedReader( new FileReader(&quot;example.txt&quot;) );\n</code></pre>\n<p>When the &quot;read&quot; instruction is given to the <em>BufferedReader</em> object, it uses the <em>FileReader</em> object to read the data from the file. When an instruction is given, the <em>FileReader</em> object reads 2 (or 4) bytes at a time and returns the data to the <em>BufferedReader</em> and the reader keeps doing that until it hits '\\n' or '\\r\\n' (The end of the line symbol).\nOnce a line is buffered, the reader waits patiently, until the instruction to buffer the next line is given.</p>\n<p>Meanwhile, The <em>BufferReader</em> object creates a special memory place (On the RAM), called &quot;Buffer&quot;, and stores all the fetched data from the <em>FileReader</em> object.</p>\n<pre><code>// this variable points to the buffered line\nString line;\n\n// Keep buffering the lines and print it.\nwhile ((line = br.readLine()) != null) {\n    printWriter.println(line);\n}\n</code></pre>\n<p>Now here, instead of reading 2 bytes at a time, a whole line is fetched and stored in the RAM somewhere, and when you are done with processing the data, you can store the whole line back to the hard disk. So it makes the process run way faster than doing 2 bytes a time.</p>\n<p>But again, why do we need to pass FileReader object to the BufferReader? Can't we just say &quot;buffer this file&quot; and the BufferReader would take care of the rest? wouldn't that be sweet?</p>\n<p>Well, the <em>BufferReader</em> class is created in a way that it only knows how to create a buffer and to store incoming data. It is irrelevant to the object from where the data is coming. So the same object can be used for many other input streams than just text files.</p>\n<p>So being said that, When you provide the FileReader object as an input, it buffers the file, the same way if you provide the <em>InputStreamReader</em> as an object, it buffers the Terminal/Console input data until it hits a newline symbol. such as,</p>\n<pre><code>// Object that reads console inputs\nInputStreamReader console = new InputStreamReader(System.in);\nBufferedReader br = new BufferedReader(console);\nSystem.out.println(br.readLine());\n</code></pre>\n<p>This way, you can read (or buffer) multiple streams with the same <em>BufferReader</em> class, such as text files, consoles, printers, networking data etc, and all you have to remember is,</p>\n<pre><code> bufferedReader.readLine();\n</code></pre>\n<p>to print whatever you've buffered.</p>\n"}],"owner":{"account_id":1258467,"reputation":821,"user_id":1261329,"display_name":"Outlier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91541,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":9648877,"answer_count":6,"score":69,"last_activity_date":1699106357,"creation_date":1331402291,"question_id":9648811,"body_markdown":"I would like to know the specific difference between `BufferedReader` and `FileReader`. \r\n\r\nI do know that `BufferedReader` is much more efficient as opposed to `FileReader`, but can someone please explain why (specifically and in detail)? \r\n\r\n","title":"Specific difference between bufferedreader and filereader","body":"<p>I would like to know the specific difference between <code>BufferedReader</code> and <code>FileReader</code>.</p>\n<p>I do know that <code>BufferedReader</code> is much more efficient as opposed to <code>FileReader</code>, but can someone please explain why (specifically and in detail)?</p>\n"},{"tags":["java","monads"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1669728149,"post_id":74614575,"comment_id":131704571,"body_markdown":"Are you asking about monads or java?","body":"Are you asking about monads or java?"},{"owner":{"account_id":15113939,"reputation":1,"user_id":10906963,"display_name":"teckorjanin7"},"score":0,"creation_date":1669728203,"post_id":74614575,"comment_id":131704586,"body_markdown":"I am asking about monads, but I am using Java as an example as I was taught monads in Java and am more familiar with it","body":"I am asking about monads, but I am using Java as an example as I was taught monads in Java and am more familiar with it"},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1669728688,"post_id":74614575,"comment_id":131704750,"body_markdown":"Monads come originally from [category theory](https://en.wikipedia.org/wiki/Monad_(category_theory)) and can be looked at z of language. They are not unique to haskell or java but a mere and very useful implementation","body":"Monads come originally from <a href=\"https://en.wikipedia.org/wiki/Monad_(category_theory)\" rel=\"nofollow noreferrer\">category theory</a> and can be looked at z of language. They are not unique to haskell or java but a mere and very useful implementation"},{"owner":{"account_id":15113939,"reputation":1,"user_id":10906963,"display_name":"teckorjanin7"},"score":0,"creation_date":1669729123,"post_id":74614575,"comment_id":131704909,"body_markdown":"Yes, I am aware, I am fine with an example from any language.","body":"Yes, I am aware, I am fine with an example from any language."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669758252,"post_id":74614575,"comment_id":131714806,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":15113939,"reputation":1,"user_id":10906963,"display_name":"teckorjanin7"},"score":0,"creation_date":1669778397,"post_id":74614575,"comment_id":131718380,"body_markdown":"I know it is a bot, but not sure how to edit it any better though, any feedback will be appreciated, especially since I am new here.","body":"I know it is a bot, but not sure how to edit it any better though, any feedback will be appreciated, especially since I am new here."},{"owner":{"display_name":"user5536315"},"score":0,"creation_date":1669801255,"post_id":74614575,"comment_id":131723493,"body_markdown":"No answer to your q but I think the `Optional` example (at least that one I googled) is wrong. They use `ofNullable` to define left id, which doesn&#39;t make sense because the combinator isn&#39;t part of the monad API but `of` is.","body":"No answer to your q but I think the <code>Optional</code> example (at least that one I googled) is wrong. They use <code>ofNullable</code> to define left id, which doesn&#39;t make sense because the combinator isn&#39;t part of the monad API but <code>of</code> is."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699106182,"creation_date":1691843658,"answer_id":76889285,"question_id":74614575,"body_markdown":"One of the original motivations for introducing the Optional type to Java was to provide an alternative to the `null` value for expressing the concept of an absent value. Using Optionals the absent value would be an `Optional.empty()&#39; value. Given this, it does not generally make sense to use Optionals in conjunction with null values (aside from immediately converting null values to Optionals). Despite this some people insist on combining the two, which then leads to some unexpected results.\r\n\r\nIn particular, if one chooses to interpret the Optional type as a monad, and elects to make the Optional.ofNullable act as the monadic unit/return and the Optional.flatMap as the monadic bind, then the monad laws won&#39;t hold.\r\n\r\nThe Left Identity Law re-expressed undet this proposed monad for the Optional type is as follows:\r\n\r\n    Optional.ofNullable(x).flatMap(f) = f\r\n\r\nI.e. the effect of taking a value, lifting it into an Optional and then flatMaping a function f over it, is the same as simply applying the function to the value.\r\n\r\nIf `x` is null` then we can take the left-hand side and reduce it by substituting in the function definitions for ofNullable and flatMap:\r\n\r\n    Optional.ofNullable(x).flatMap(f)\r\n        =&gt; Optional.empty().flatMap(f)\r\n        =&gt; Optional.empty()\r\n\r\n(where `=&gt;` means reduces to, or is equivalent to)\r\n\r\nHowever the function `f` when applied directly to `x` (i.e. `null`) doesn&#39;t necessarily have to return `Optional.empty()`. A simple example is the following function:\r\n\r\n    Optional&lt;String&gt; stringify(Object obj) {\r\n        if (obj == null) {\r\n            return Optional.of(&quot;NULL&quot;);\r\n        } else {\r\n            return Optional.of(obj.toString());\r\n        }\r\n\r\nIf we take `f` in the RHS of the Left Identity Law to be the `stringify` function, and we apply it to null, then we get an Optional valur that wraps the string &quot;NULL&quot;, i.e. it doesn&#39;t match the LHS of the law, therefore the law doesn&#39;t hold.\r\n\r\nThis issue goes away if, instead of using `Optional.ofNullable` as the monadic unit, you use `Optional.of`, as the latter function doesn&#39;t allow `null` values.\r\n\r\nMoving onto the `Counter` code that you provided - it&#39;s a little bit strange.\r\n\r\nFirstly, the implementation of flatMap is creating a redundant copy of the `tmp object. Since this has no real effect that method can simply be rewritten as follows:\r\n\r\n    public &lt;R&gt; Counter&lt;R&gt; flatMap(Function&lt;T, Counter&lt;R&gt;&gt; fn) {\r\n        return fn.apply(this.val);\r\n    }\r\n\r\nSecondly, since the context is monads we only need concern ourselves with a) the fields that comprise the class, 2) it&#39;s `of` method and 3) the `flatMap` method, as these are the only elements that have any relevance to the monadic behaviour. Those methods never change the count` field, so we can simply ignore that. So, we can effectively rewrite the class as follows:\r\n\r\n    class Counter&lt;T&gt; {\r\n        private final T val;\r\n\r\n        private Counter(T val) {\r\n            this.val = val;\r\n        }\r\n\r\n        public static &lt;T&gt; Counter&lt;T&gt; of(T val) {\r\n            return new Counter&lt;&gt;(val);\r\n        }\r\n\r\n        public &lt;R&gt; Counter&lt;R&gt; flatMap(Function&lt;T, Counter&lt;R&gt;&gt; fn) {\r\n            return fn.apply(this.val);\r\n        }\r\n    }\r\n\r\nThis is in fact the Identity monad, for which the 3 laws definitely do hold.\r\n\r\nHowever, if we go back to the original code and look at the `map` method, then we can see it increments the `count` field every time map is called. All Monad type are also Functors, and Functors need to have a method (usually called map) that also adheres to a rule, one that effectively says that chaining two functions over a Functor value by calling `map` twice, is the same as combining the functions and applying the combined result by calling `map` once. The `map` implementation in the `Counter` class will most break that rule because the `count` field will be different depening on how many times you call `map`.\r\n\r\nThis arguably means the class can&#39;t be a monad, *assuming you interpret the `map` method as the Functor `map` function*. This is an assumption, I would expect any question regarding that code to make this explicit, otherwise the question is missing key information required to be able to answer it.\r\n\r\nI assume the author couldn&#39;t think of a better example of a monad that breaks one rule and not the others, so they simply implemented the Identity monad in Java, and then added a bugged implementation of `map`. If you really want to learn about monads then I would suggest you find someone a better source of information.","title":"Why do we need to check all three monadic laws when testing if an Object is a Monad?","body":"<p>One of the original motivations for introducing the Optional type to Java was to provide an alternative to the <code>null</code> value for expressing the concept of an absent value. Using Optionals the absent value would be an `Optional.empty()' value. Given this, it does not generally make sense to use Optionals in conjunction with null values (aside from immediately converting null values to Optionals). Despite this some people insist on combining the two, which then leads to some unexpected results.</p>\n<p>In particular, if one chooses to interpret the Optional type as a monad, and elects to make the Optional.ofNullable act as the monadic unit/return and the Optional.flatMap as the monadic bind, then the monad laws won't hold.</p>\n<p>The Left Identity Law re-expressed undet this proposed monad for the Optional type is as follows:</p>\n<pre><code>Optional.ofNullable(x).flatMap(f) = f\n</code></pre>\n<p>I.e. the effect of taking a value, lifting it into an Optional and then flatMaping a function f over it, is the same as simply applying the function to the value.</p>\n<p>If <code>x</code> is null` then we can take the left-hand side and reduce it by substituting in the function definitions for ofNullable and flatMap:</p>\n<pre><code>Optional.ofNullable(x).flatMap(f)\n    =&gt; Optional.empty().flatMap(f)\n    =&gt; Optional.empty()\n</code></pre>\n<p>(where <code>=&gt;</code> means reduces to, or is equivalent to)</p>\n<p>However the function <code>f</code> when applied directly to <code>x</code> (i.e. <code>null</code>) doesn't necessarily have to return <code>Optional.empty()</code>. A simple example is the following function:</p>\n<pre><code>Optional&lt;String&gt; stringify(Object obj) {\n    if (obj == null) {\n        return Optional.of(&quot;NULL&quot;);\n    } else {\n        return Optional.of(obj.toString());\n    }\n</code></pre>\n<p>If we take <code>f</code> in the RHS of the Left Identity Law to be the <code>stringify</code> function, and we apply it to null, then we get an Optional valur that wraps the string &quot;NULL&quot;, i.e. it doesn't match the LHS of the law, therefore the law doesn't hold.</p>\n<p>This issue goes away if, instead of using <code>Optional.ofNullable</code> as the monadic unit, you use <code>Optional.of</code>, as the latter function doesn't allow <code>null</code> values.</p>\n<p>Moving onto the <code>Counter</code> code that you provided - it's a little bit strange.</p>\n<p>Firstly, the implementation of flatMap is creating a redundant copy of the `tmp object. Since this has no real effect that method can simply be rewritten as follows:</p>\n<pre><code>public &lt;R&gt; Counter&lt;R&gt; flatMap(Function&lt;T, Counter&lt;R&gt;&gt; fn) {\n    return fn.apply(this.val);\n}\n</code></pre>\n<p>Secondly, since the context is monads we only need concern ourselves with a) the fields that comprise the class, 2) it's <code>of</code> method and 3) the <code>flatMap</code> method, as these are the only elements that have any relevance to the monadic behaviour. Those methods never change the count` field, so we can simply ignore that. So, we can effectively rewrite the class as follows:</p>\n<pre><code>class Counter&lt;T&gt; {\n    private final T val;\n\n    private Counter(T val) {\n        this.val = val;\n    }\n\n    public static &lt;T&gt; Counter&lt;T&gt; of(T val) {\n        return new Counter&lt;&gt;(val);\n    }\n\n    public &lt;R&gt; Counter&lt;R&gt; flatMap(Function&lt;T, Counter&lt;R&gt;&gt; fn) {\n        return fn.apply(this.val);\n    }\n}\n</code></pre>\n<p>This is in fact the Identity monad, for which the 3 laws definitely do hold.</p>\n<p>However, if we go back to the original code and look at the <code>map</code> method, then we can see it increments the <code>count</code> field every time map is called. All Monad type are also Functors, and Functors need to have a method (usually called map) that also adheres to a rule, one that effectively says that chaining two functions over a Functor value by calling <code>map</code> twice, is the same as combining the functions and applying the combined result by calling <code>map</code> once. The <code>map</code> implementation in the <code>Counter</code> class will most break that rule because the <code>count</code> field will be different depening on how many times you call <code>map</code>.</p>\n<p>This arguably means the class can't be a monad, <em>assuming you interpret the <code>map</code> method as the Functor <code>map</code> function</em>. This is an assumption, I would expect any question regarding that code to make this explicit, otherwise the question is missing key information required to be able to answer it.</p>\n<p>I assume the author couldn't think of a better example of a monad that breaks one rule and not the others, so they simply implemented the Identity monad in Java, and then added a bugged implementation of <code>map</code>. If you really want to learn about monads then I would suggest you find someone a better source of information.</p>\n"}],"owner":{"account_id":15113939,"reputation":1,"user_id":10906963,"display_name":"teckorjanin7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699106182,"creation_date":1669727276,"question_id":74614575,"body_markdown":"From what I understand, the three monadic laws are as follows (I come from a Java background instead of Haskell so pardon my syntax):\r\n\r\n- Left Identity Law: \r\n```\r\nMonad.of(x).flatMap(y -&gt; f(y)) = f(x)\r\n```\r\n- Right Identity Law:\r\n```\r\nmonad.flatMap(y -&gt; Monad.of(y)) = monad\r\n```\r\n- Associative Law:\r\n```\r\nmonad.flatMap(x -&gt; f(x)).flatMap(x -&gt; g(x)) = monad.flatMap(x -&gt; f(x).flatMap(x -&gt; g(x)))\r\n```\r\nI have read that to show that an Object is a Monad, I will have to show that it satisfies all three monadic laws. This seems to imply that all three laws are necessary, and neither implies the other. However, I am having difficulty thinking of an examples where an Object can violate each one of the monadic laws without violating the other two.\r\n\r\nI am also unable to find examples online. (I have found some people say Java Optional fails the Left Identity Law, but it uses null which is of any type and some may argue that it is not a proper value for Optional.) Is it possible if I could see some of such examples? Thanks in advance!\r\n\r\nEdit 1:\r\nRecently, I took an exam and in the exam there was an instance of an example of an object that violates the Right Identity Law and satisfies the other two laws. Here it is:\r\n```\r\nclass Counter&lt;T&gt; {\r\n  private final T val;\r\n  private final int count;\r\n  \r\n  private Counter(T val, int count) {\r\n    this.val = val;\r\n\tthis.count = count;\r\n  }\r\n  \r\n  public static &lt;T&gt; Counter&lt;T&gt; of(T val) {\r\n    return new Counter&lt;&gt;(val, 1);\r\n  }\r\n  \r\n  public &lt;R&gt; Counter&lt;R&gt; map(Function&lt;T, R&gt; fn) {\r\n    return new Counter&lt;&gt;(fn.apply(this.val), this.count + 1);\r\n  }\r\n  \r\n  public &lt;R&gt; Counter&lt;R&gt; flatMap(Function&lt;T, Counter&lt;R&gt;&gt; fn) {\r\n    Counter&lt;R&gt; tmp = fn.apply(this.val);\r\n\treturn new Counter&lt;&gt;(tmp.val, tmp.count);\r\n  }\r\n  \r\n  @Override\r\n  public boolean equals(Object obj) {\r\n    if (this == obj) { return true; }\r\n\tif (!(obj instanceof Counter&lt;?&gt;)) { return false; }\r\n\tCounter&lt;?&gt; ctx = (Counter&lt;?&gt;) obj;\r\n\treturn this.val.equals(ctx.val) &amp;&amp; this.count == ctx.count;\r\n  }\r\n}\r\n```","title":"Why do we need to check all three monadic laws when testing if an Object is a Monad?","body":"<p>From what I understand, the three monadic laws are as follows (I come from a Java background instead of Haskell so pardon my syntax):</p>\n<ul>\n<li>Left Identity Law:</li>\n</ul>\n<pre><code>Monad.of(x).flatMap(y -&gt; f(y)) = f(x)\n</code></pre>\n<ul>\n<li>Right Identity Law:</li>\n</ul>\n<pre><code>monad.flatMap(y -&gt; Monad.of(y)) = monad\n</code></pre>\n<ul>\n<li>Associative Law:</li>\n</ul>\n<pre><code>monad.flatMap(x -&gt; f(x)).flatMap(x -&gt; g(x)) = monad.flatMap(x -&gt; f(x).flatMap(x -&gt; g(x)))\n</code></pre>\n<p>I have read that to show that an Object is a Monad, I will have to show that it satisfies all three monadic laws. This seems to imply that all three laws are necessary, and neither implies the other. However, I am having difficulty thinking of an examples where an Object can violate each one of the monadic laws without violating the other two.</p>\n<p>I am also unable to find examples online. (I have found some people say Java Optional fails the Left Identity Law, but it uses null which is of any type and some may argue that it is not a proper value for Optional.) Is it possible if I could see some of such examples? Thanks in advance!</p>\n<p>Edit 1:\nRecently, I took an exam and in the exam there was an instance of an example of an object that violates the Right Identity Law and satisfies the other two laws. Here it is:</p>\n<pre><code>class Counter&lt;T&gt; {\n  private final T val;\n  private final int count;\n  \n  private Counter(T val, int count) {\n    this.val = val;\n    this.count = count;\n  }\n  \n  public static &lt;T&gt; Counter&lt;T&gt; of(T val) {\n    return new Counter&lt;&gt;(val, 1);\n  }\n  \n  public &lt;R&gt; Counter&lt;R&gt; map(Function&lt;T, R&gt; fn) {\n    return new Counter&lt;&gt;(fn.apply(this.val), this.count + 1);\n  }\n  \n  public &lt;R&gt; Counter&lt;R&gt; flatMap(Function&lt;T, Counter&lt;R&gt;&gt; fn) {\n    Counter&lt;R&gt; tmp = fn.apply(this.val);\n    return new Counter&lt;&gt;(tmp.val, tmp.count);\n  }\n  \n  @Override\n  public boolean equals(Object obj) {\n    if (this == obj) { return true; }\n    if (!(obj instanceof Counter&lt;?&gt;)) { return false; }\n    Counter&lt;?&gt; ctx = (Counter&lt;?&gt;) obj;\n    return this.val.equals(ctx.val) &amp;&amp; this.count == ctx.count;\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","log4j","dependency-management","maven-bom"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1699094332,"post_id":77420490,"comment_id":136489889,"body_markdown":"I think that `&lt;scope&gt;provided&lt;/scope&gt;` is exactly why it goes wrong. It tells Maven to _not_ include it in the application, but as a result, neither are its transitive dependencies.","body":"I think that <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> is exactly why it goes wrong. It tells Maven to <i>not</i> include it in the application, but as a result, neither are its transitive dependencies."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1699105862,"post_id":77420490,"comment_id":136490950,"body_markdown":"No, `&lt;scope&gt;provided&lt;/scope&gt;` only changes whether the dependency is included, not what versions are determined. Removing `&lt;scope&gt;provided&lt;/scope&gt;` has no effect; I&#39;ll take that part out of the question so as not to throw people off track.","body":"No, <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> only changes whether the dependency is included, not what versions are determined. Removing <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> has no effect; I&#39;ll take that part out of the question so as not to throw people off track."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699101388,"creation_date":1699101388,"answer_id":77422012,"question_id":77420490,"body_markdown":"I also stumbled about the problem in the past: DependencyManagement is not transitive.\r\n\r\nYou can avoid the problem by using the flatten Maven Plugin to produce a &quot;consumer pom&quot;. ","title":"forcing the version of a library&#39;s transitive Maven dependencies via the library itself","body":"<p>I also stumbled about the problem in the past: DependencyManagement is not transitive.</p>\n<p>You can avoid the problem by using the flatten Maven Plugin to produce a &quot;consumer pom&quot;.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699106154,"creation_date":1699063547,"question_id":77420490,"body_markdown":"I&#39;m familiar with how a Maven project such as `my-app` can force the version of transitive dependencies. Today I stumbled onto a related question: how can a library `my-lib` force the versions of its transitive dependencies in relation to `my-app` without directly including the transitive dependencies?\r\n\r\nI have a library `my-lib`, the only purpose of which is to make it easy for other projects to include several transitive dependencies at once—in other words, `my-lib` is sort of like a bundling mechanism. In `my-lib/pom.xml` I duly declare `com.amazonaws:aws-lambda-java-log4j2:1.5.1` and then use it:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nBut I want to override the version of Log4j being used, so in `my-lib-parent` I import a specific Log4j BOM version:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;2.20.0&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;dependencyManagement&gt;\r\n```\r\n\r\nSure enough, if I do a `mvn dependency:tree` on `my-lib`, it shows that Log4j 2.20.0 is being used:\r\n\r\n```\r\n[INFO] +- com.amazonaws:aws-lambda-java-log4j2:jar:1.5.1:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\r\n[INFO] |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n```\r\n\r\nSo I happily added `my-lib` as a dependency to `my-app`. When my code tried to log information, I got a `java.lang.NoClassDefFoundError: org/apache/logging/log4j/BridgeAware`. It turns out that even though the `my-lib` project is using `org.apache.logging.log4j:log4j-core:jar:2.20.0`, this is only in relation to `my-lib` itself—it doesn&#39;t effect the versions of the transitive dependencies `my-lib` brings in, in terms of `my-app`, when `my-app` includes `my-lib` as a dependency!\r\n\r\nThus if I do a `mvn dependency:tree` on `my-app`, it shows that `org.apache.logging.log4j:log4j-api:jar:2.17.1` is being used:\r\n\r\n```\r\n[INFO] |  +- com.amazonaws:aws-lambda-java-log4j2:jar:1.5.1:provided\r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-core:jar:2.17.1:provided\r\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:provided\r\n```\r\n\r\nI guess it makes sense, but frankly I had never thought much about it. I had just assumed that `my-app` would get the version of transitive dependencies set by dependency management in `my-lib`.\r\n\r\nI note that `org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0` is getting the right version in `my-app`, which also came in to `my-lib` via the Log4j BOM, but that seems to be because `my-lib` explicitly includes `org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0` as its direct dependency.\r\n\r\nSo is that the only solution: am I forced to go find and enumerate all the transitive dependencies of `com.amazonaws:aws-lambda-java-log4j2` and declare them explicitly in `my-lib` if I want them to be set to another version when `my-lib` is included in another project? Is there a simpler approach, similar to importing a BOM, that would allow `my-lib` to simply say &quot;force all transitive Log4j versions to that of the Log4j BOM when `my-lib` is included in another project&quot;?\r\n\r\n\r\n\r\n","title":"forcing the version of a library&#39;s transitive Maven dependencies via the library itself","body":"<p>I'm familiar with how a Maven project such as <code>my-app</code> can force the version of transitive dependencies. Today I stumbled onto a related question: how can a library <code>my-lib</code> force the versions of its transitive dependencies in relation to <code>my-app</code> without directly including the transitive dependencies?</p>\n<p>I have a library <code>my-lib</code>, the only purpose of which is to make it easy for other projects to include several transitive dependencies at once—in other words, <code>my-lib</code> is sort of like a bundling mechanism. In <code>my-lib/pom.xml</code> I duly declare <code>com.amazonaws:aws-lambda-java-log4j2:1.5.1</code> and then use it:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n      &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>But I want to override the version of Log4j being used, so in <code>my-lib-parent</code> I import a specific Log4j BOM version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n</code></pre>\n<p>Sure enough, if I do a <code>mvn dependency:tree</code> on <code>my-lib</code>, it shows that Log4j 2.20.0 is being used:</p>\n<pre><code>[INFO] +- com.amazonaws:aws-lambda-java-log4j2:jar:1.5.1:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\n[INFO] |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n</code></pre>\n<p>So I happily added <code>my-lib</code> as a dependency to <code>my-app</code>. When my code tried to log information, I got a <code>java.lang.NoClassDefFoundError: org/apache/logging/log4j/BridgeAware</code>. It turns out that even though the <code>my-lib</code> project is using <code>org.apache.logging.log4j:log4j-core:jar:2.20.0</code>, this is only in relation to <code>my-lib</code> itself—it doesn't effect the versions of the transitive dependencies <code>my-lib</code> brings in, in terms of <code>my-app</code>, when <code>my-app</code> includes <code>my-lib</code> as a dependency!</p>\n<p>Thus if I do a <code>mvn dependency:tree</code> on <code>my-app</code>, it shows that <code>org.apache.logging.log4j:log4j-api:jar:2.17.1</code> is being used:</p>\n<pre><code>[INFO] |  +- com.amazonaws:aws-lambda-java-log4j2:jar:1.5.1:provided\n[INFO] |  |  +- org.apache.logging.log4j:log4j-core:jar:2.17.1:provided\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.1:provided\n</code></pre>\n<p>I guess it makes sense, but frankly I had never thought much about it. I had just assumed that <code>my-app</code> would get the version of transitive dependencies set by dependency management in <code>my-lib</code>.</p>\n<p>I note that <code>org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0</code> is getting the right version in <code>my-app</code>, which also came in to <code>my-lib</code> via the Log4j BOM, but that seems to be because <code>my-lib</code> explicitly includes <code>org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0</code> as its direct dependency.</p>\n<p>So is that the only solution: am I forced to go find and enumerate all the transitive dependencies of <code>com.amazonaws:aws-lambda-java-log4j2</code> and declare them explicitly in <code>my-lib</code> if I want them to be set to another version when <code>my-lib</code> is included in another project? Is there a simpler approach, similar to importing a BOM, that would allow <code>my-lib</code> to simply say &quot;force all transitive Log4j versions to that of the Log4j BOM when <code>my-lib</code> is included in another project&quot;?</p>\n"},{"tags":["java","spotify"],"owner":{"account_id":28696476,"reputation":1,"user_id":21974596,"display_name":"plamen slavov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699105924,"creation_date":1699104173,"question_id":77422183,"body_markdown":"I am using the michaelthelin wrapper for the Spotify API in Java and I seem to understand everything but the authorization code as I need it in order to proceed but I have no idea where to actually et it. This is a part of my code where the authorization code is required.\r\n\r\n```\r\nstatic AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(code).build();\r\n\r\npublic static void authorizationCode_Sync() {\r\n    try {\r\n        AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\r\n        System.out.println(code);\r\n\r\n        // Set access and refresh token for further &quot;spotifyApi&quot; object usage\r\n        spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\r\n        spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\r\n\r\n        System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\r\n    } catch (IOException | SpotifyWebApiException | ParseException e) {\r\n        System.out.println(&quot;Error: &quot; + e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nThe program doesn&#39;t run obviousy without the code so does anyone know how to get it?\r\n\r\nI&#39;ve looked at a bunch of things to fix it but I couldn&#39;t find anything helpful.","title":"Authorization code Spotify web API Java michaelthelin","body":"<p>I am using the michaelthelin wrapper for the Spotify API in Java and I seem to understand everything but the authorization code as I need it in order to proceed but I have no idea where to actually et it. This is a part of my code where the authorization code is required.</p>\n<pre><code>static AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(code).build();\n\npublic static void authorizationCode_Sync() {\n    try {\n        AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\n        System.out.println(code);\n\n        // Set access and refresh token for further &quot;spotifyApi&quot; object usage\n        spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\n        spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\n\n        System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\n    } catch (IOException | SpotifyWebApiException | ParseException e) {\n        System.out.println(&quot;Error: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>The program doesn't run obviousy without the code so does anyone know how to get it?</p>\n<p>I've looked at a bunch of things to fix it but I couldn't find anything helpful.</p>\n"},{"tags":["java","iterator","terminology"],"comments":[{"owner":{"account_id":1875874,"reputation":71891,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"score":3,"creation_date":1437642870,"post_id":17377407,"comment_id":51118828,"body_markdown":"best link I found http://javahungry.blogspot.com/2014/04/fail-fast-iterator-vs-fail-safe-iterator-difference-with-example-in-java.html","body":"best link I found <a href=\"http://javahungry.blogspot.com/2014/04/fail-fast-iterator-vs-fail-safe-iterator-difference-with-example-in-java.html\" rel=\"nofollow noreferrer\">javahungry.blogspot.com/2014/04/&hellip;</a>"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1468379533,"post_id":17377407,"comment_id":64098072,"body_markdown":"Note that the Java SE specifications do not use the term &quot;fail-safe&quot; to describe any iterators. I thus recommend avoiding this term. See also http://stackoverflow.com/a/38341921/1441122","body":"Note that the Java SE specifications do not use the term &quot;fail-safe&quot; to describe any iterators. I thus recommend avoiding this term. See also <a href=\"http://stackoverflow.com/a/38341921/1441122\">stackoverflow.com/a/38341921/1441122</a>"}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1503902588,"creation_date":1372487472,"answer_id":17377431,"question_id":17377407,"body_markdown":"The only difference is fail-safe iterator doesn&#39;t throw any Exception, contrary to fail-fast Iterator. \r\n\r\nIf Collection is modified structurally while one thread is iterating over it. This is because they work on clone of Collection instead of original collection and that’s why they are called as fail-safe iterator. \r\n\r\nIterator of CopyOnWriteArrayList is an example of fail-safe Iterator also iterator written by ConcurrentHashMap keySet is also fail-safe iterator and never throw ConcurrentModificationException in Java.\r\n\r\n","title":"What are fail-safe &amp; fail-fast Iterators in Java","body":"<p>The only difference is fail-safe iterator doesn't throw any Exception, contrary to fail-fast Iterator. </p>\n\n<p>If Collection is modified structurally while one thread is iterating over it. This is because they work on clone of Collection instead of original collection and that’s why they are called as fail-safe iterator. </p>\n\n<p>Iterator of CopyOnWriteArrayList is an example of fail-safe Iterator also iterator written by ConcurrentHashMap keySet is also fail-safe iterator and never throw ConcurrentModificationException in Java.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1488996251,"creation_date":1372488303,"answer_id":17377532,"question_id":17377407,"body_markdown":"They are rather **fail-fast** and **weakly-consistent** types:\r\n\r\nIterators from `java.util` package throw `ConcurrentModificationException` if collection was modified by collection&#39;s methods (add / remove) while iterating\r\n\r\nIterators from `java.util.concurrent` package typically iterate over a snapshot and allow concurrent modifications but may not reflect  collection updates after the iterator was created. ","title":"What are fail-safe &amp; fail-fast Iterators in Java","body":"<p>They are rather <strong>fail-fast</strong> and <strong>weakly-consistent</strong> types:</p>\n\n<p>Iterators from <code>java.util</code> package throw <code>ConcurrentModificationException</code> if collection was modified by collection's methods (add / remove) while iterating</p>\n\n<p>Iterators from <code>java.util.concurrent</code> package typically iterate over a snapshot and allow concurrent modifications but may not reflect  collection updates after the iterator was created. </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1699105731,"creation_date":1372489774,"answer_id":17377698,"question_id":17377407,"body_markdown":"&gt; What is the difference between them ...\r\n\r\n&quot;Fail-safe&quot; ([in engineering][1]) means that something fails in a way that causes no or minimal damage.  Strictly speaking, there is **no such thing** in Java as a fail-safe iterator.  If an iterator fails (in the normal sense of &quot;fail&quot;), you can expect damage to occur.\r\n\r\nI suspect that you actually mean &quot;weakly consistent&quot; iterators.  The javadoc says:\r\n\r\n&gt; *&quot;Most concurrent Collection implementations (including most Queues) also differ from the usual java.util conventions in that their Iterators and Spliterators provide weakly consistent rather than fast-fail traversal.&quot;*\r\n\r\nTypically, weak consistency means that if a collection is modified concurrently with an iteration, the guarantees of what the iteration sees are weaker.  (The details will be specified in each concurrent collection classes javadocs.)\r\n\r\n&quot;Fail-fast&quot; ([in systems design][2]) means that the failure condition is checked aggressively so that the failure condition is (where possible&lt;sup&gt;1&lt;/sup&gt;) detected before too much damage can be done.  In Java, a fail-fast iterator fails by throwing a `ConcurrentModificationException`.\r\n\r\nThe alternative to &quot;fail-fast&quot; and &quot;weakly consistent&quot; is semantics where the iteration may fail unpredictably; e.g. to sometimes give the wrong answer or throw an unexpected exception.  (This was the behavior of some standard implementations of the `Enumeration` API in early versions of Java.)\r\n\r\n&gt; ... and are they different from the iterator we use for collection. \r\n\r\nNo.  These are **properties** of the iterators implemented by standard Collection types; i.e. they are either &quot;fail fast&quot; or &quot;weakly consistent&quot; ... when used correctly with respect to synchronization and the Java memory model&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n---------\r\n\r\nFail-fast iterators are *typically* implemented using a `volatile` counter on the collection object.\r\n\r\n  - When the collection is updated, the counter is incremented.  \r\n  - When an `Iterator` is created, the current value of the counter is embedded in the `Iterator` object.\r\n  - When an `Iterator` operation is performed, the method compares the two counter values and throws a CME if they are different.\r\n\r\nBy contrast, weakly consistent iterators are typically light-weight and leverage properties of each concurrent collection&#39;s internal data structures.  There is no general pattern.  If you are interested, read the source code for different collection classes.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - The rider is that fail-fast iterator behavior assumes that the application is correctly implemented with respect to synchronization and the memory model.  (In other words, the *application* is thread-safe.)  For example, if you iterated an `ArrayList` without proper synchronization, the &quot;fast fail&quot; mechanism should detect the concurrent modification (though that isn&#39;t guaranteed), but may not prevent the list from being corrupted due to the application&#39;s unsafe behavior.  To illustrate, the [javadoc][3] for `Vector.iterator()` says this:&lt;/sup&gt;\r\n\r\n&gt; &lt;sup&gt;&quot;The fail-fast behavior of an iterator cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw `ConcurrentModificationException` on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: **the fail-fast behavior of iterators should be used only to detect bugs**.&quot;&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fail-safe\r\n  [2]: https://en.wikipedia.org/wiki/Fail-fast\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Vector.html#fail-fast","title":"What are fail-safe &amp; fail-fast Iterators in Java","body":"<blockquote>\n<p>What is the difference between them ...</p>\n</blockquote>\n<p>&quot;Fail-safe&quot; (<a href=\"https://en.wikipedia.org/wiki/Fail-safe\" rel=\"nofollow noreferrer\">in engineering</a>) means that something fails in a way that causes no or minimal damage.  Strictly speaking, there is <strong>no such thing</strong> in Java as a fail-safe iterator.  If an iterator fails (in the normal sense of &quot;fail&quot;), you can expect damage to occur.</p>\n<p>I suspect that you actually mean &quot;weakly consistent&quot; iterators.  The javadoc says:</p>\n<blockquote>\n<p><em>&quot;Most concurrent Collection implementations (including most Queues) also differ from the usual java.util conventions in that their Iterators and Spliterators provide weakly consistent rather than fast-fail traversal.&quot;</em></p>\n</blockquote>\n<p>Typically, weak consistency means that if a collection is modified concurrently with an iteration, the guarantees of what the iteration sees are weaker.  (The details will be specified in each concurrent collection classes javadocs.)</p>\n<p>&quot;Fail-fast&quot; (<a href=\"https://en.wikipedia.org/wiki/Fail-fast\" rel=\"nofollow noreferrer\">in systems design</a>) means that the failure condition is checked aggressively so that the failure condition is (where possible<sup>1</sup>) detected before too much damage can be done.  In Java, a fail-fast iterator fails by throwing a <code>ConcurrentModificationException</code>.</p>\n<p>The alternative to &quot;fail-fast&quot; and &quot;weakly consistent&quot; is semantics where the iteration may fail unpredictably; e.g. to sometimes give the wrong answer or throw an unexpected exception.  (This was the behavior of some standard implementations of the <code>Enumeration</code> API in early versions of Java.)</p>\n<blockquote>\n<p>... and are they different from the iterator we use for collection.</p>\n</blockquote>\n<p>No.  These are <strong>properties</strong> of the iterators implemented by standard Collection types; i.e. they are either &quot;fail fast&quot; or &quot;weakly consistent&quot; ... when used correctly with respect to synchronization and the Java memory model<sup>1</sup>.</p>\n<hr />\n<p>Fail-fast iterators are <em>typically</em> implemented using a <code>volatile</code> counter on the collection object.</p>\n<ul>\n<li>When the collection is updated, the counter is incremented.</li>\n<li>When an <code>Iterator</code> is created, the current value of the counter is embedded in the <code>Iterator</code> object.</li>\n<li>When an <code>Iterator</code> operation is performed, the method compares the two counter values and throws a CME if they are different.</li>\n</ul>\n<p>By contrast, weakly consistent iterators are typically light-weight and leverage properties of each concurrent collection's internal data structures.  There is no general pattern.  If you are interested, read the source code for different collection classes.</p>\n<hr />\n<p><sup>1 - The rider is that fail-fast iterator behavior assumes that the application is correctly implemented with respect to synchronization and the memory model.  (In other words, the <em>application</em> is thread-safe.)  For example, if you iterated an <code>ArrayList</code> without proper synchronization, the &quot;fast fail&quot; mechanism should detect the concurrent modification (though that isn't guaranteed), but may not prevent the list from being corrupted due to the application's unsafe behavior.  To illustrate, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Vector.html#fail-fast\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Vector.iterator()</code> says this:</sup></p>\n<blockquote>\n<p><sup>&quot;The fail-fast behavior of an iterator cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw <code>ConcurrentModificationException</code> on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: <strong>the fail-fast behavior of iterators should be used only to detect bugs</strong>.&quot;</sup></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13059268,"reputation":2313,"user_id":9437031,"display_name":"Dhwanil Patel"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1588787296,"creation_date":1588787296,"answer_id":61641799,"question_id":17377407,"body_markdown":"This scenario relate with &quot;concurrent processing&quot;, means that more then one user accessing the same resource. In such situation, one of the user try to modify that resource which cause the &#39;ConcurrentProcessingException&#39; because in that case other user get improper data. Both this type relate with this kind of situation.\r\n\r\nIn simple term,\r\n\r\n**Fail-Fast :** \r\n\r\n- Iterators immediately throw ConcurrentModificationException if structural modification(add, update, delete) happens.\r\n- Example  : ArrayList, HashMap, TreeSet\r\n\r\n**Fail-Safe :** \r\n\r\n- Here Iterators not throw any exception because they operate on the clone of the collection, not original one. So, that they are fail-safe iterators.\r\n- Example : CopyOnWriteArrayList, ConcurrentHashMap","title":"What are fail-safe &amp; fail-fast Iterators in Java","body":"<p>This scenario relate with \"concurrent processing\", means that more then one user accessing the same resource. In such situation, one of the user try to modify that resource which cause the 'ConcurrentProcessingException' because in that case other user get improper data. Both this type relate with this kind of situation.</p>\n\n<p>In simple term,</p>\n\n<p><strong>Fail-Fast :</strong> </p>\n\n<ul>\n<li>Iterators immediately throw ConcurrentModificationException if structural modification(add, update, delete) happens.</li>\n<li>Example  : ArrayList, HashMap, TreeSet</li>\n</ul>\n\n<p><strong>Fail-Safe :</strong> </p>\n\n<ul>\n<li>Here Iterators not throw any exception because they operate on the clone of the collection, not original one. So, that they are fail-safe iterators.</li>\n<li>Example : CopyOnWriteArrayList, ConcurrentHashMap</li>\n</ul>\n"}],"owner":{"account_id":2113991,"reputation":12074,"user_id":1878670,"accept_rate":66,"display_name":"Prateek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93696,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":17377698,"answer_count":4,"score":107,"last_activity_date":1699105731,"creation_date":1372487240,"question_id":17377407,"body_markdown":"There are two types of iterators in Java: fail-safe and fail-fast.\r\n\r\nWhat does this mean, and is the difference between them?","title":"What are fail-safe &amp; fail-fast Iterators in Java","body":"<p>There are two types of iterators in Java: fail-safe and fail-fast.</p>\n\n<p>What does this mean, and is the difference between them?</p>\n"},{"tags":["java","maven","asyncapi"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697290788,"post_id":77288980,"comment_id":136262852,"body_markdown":"AsyncAPI is protocol agnostic, so typically you&#39;d combine it with something like Cloudevents or Avro or Protobuf, which do offer code generation features. Otherwise, did you search for this? https://www.asyncapi.com/tools/generator","body":"AsyncAPI is protocol agnostic, so typically you&#39;d combine it with something like Cloudevents or Avro or Protobuf, which do offer code generation features. Otherwise, did you search for this? <a href=\"https://www.asyncapi.com/tools/generator\" rel=\"nofollow noreferrer\">asyncapi.com/tools/generator</a>"}],"answers":[{"tags":[],"owner":{"account_id":2387508,"reputation":679,"user_id":2088167,"display_name":"Lukasz Gornicki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697447157,"creation_date":1697447157,"answer_id":77300684,"question_id":77288980,"body_markdown":"There is a library that understands AsyncAPI, extracts schemas from it and can generate models in different languages, Java included -&gt; https://github.com/asyncapi/modelina\r\n\r\nIt is integrated in AsyncAPI CLI that you can use to generate these models, like `asyncapi generate models java asyncapi.yml` -&gt; https://github.com/asyncapi/cli/blob/master/docs/usage.md#asyncapi-generate-models-language-file\r\n\r\nAsyncAPI CLI is not only shipped as NPM package, but also a binary that you could invoke in Maven. Sorry but I do not have an example Maven config that I could share with you. But yeah, you have many different options, like just docker -&gt; https://www.asyncapi.com/docs/tools/cli/installation","title":"AsyncApi how to generate POJO classes based on AsyncAPI yaml file using Java and maven","body":"<p>There is a library that understands AsyncAPI, extracts schemas from it and can generate models in different languages, Java included -&gt; <a href=\"https://github.com/asyncapi/modelina\" rel=\"nofollow noreferrer\">https://github.com/asyncapi/modelina</a></p>\n<p>It is integrated in AsyncAPI CLI that you can use to generate these models, like <code>asyncapi generate models java asyncapi.yml</code> -&gt; <a href=\"https://github.com/asyncapi/cli/blob/master/docs/usage.md#asyncapi-generate-models-language-file\" rel=\"nofollow noreferrer\">https://github.com/asyncapi/cli/blob/master/docs/usage.md#asyncapi-generate-models-language-file</a></p>\n<p>AsyncAPI CLI is not only shipped as NPM package, but also a binary that you could invoke in Maven. Sorry but I do not have an example Maven config that I could share with you. But yeah, you have many different options, like just docker -&gt; <a href=\"https://www.asyncapi.com/docs/tools/cli/installation\" rel=\"nofollow noreferrer\">https://www.asyncapi.com/docs/tools/cli/installation</a></p>\n"},{"tags":[],"owner":{"account_id":9148581,"reputation":703,"user_id":6803886,"accept_rate":75,"display_name":"jonaslagoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698234166,"creation_date":1698234166,"answer_id":77359136,"question_id":77288980,"body_markdown":"Following up on Lukasz&#39;s response, in the ideal world the CLI would be all you would need. Unfortunately, as long as [#780][1] has not been solved, it will always be limiting.\r\n\r\nI have added a Maven example of how to integrate Modelina or the CLI, into the build process, to always have up-to-date POJO classes from the AsyncAPI document. Check it out here: https://github.com/asyncapi/modelina/tree/master/examples/integrate-modelina-into-maven/maven-project\r\n\r\nHere how it works:\r\n- The script ./scripts/modelina/generate.ts is what generates all the models, and what Maven uses to generate the models. This can also be executed manually through npm run generate.\r\n- The input, in this case, is an AsyncAPI document located in the root of the project ./asyncapi.json. The input can be anything, just alter the generator script.\r\n- The Maven project file ./pom.xml then utilizes the frontend-maven-plugin to execute the generate script on build so you will always have the up to date models from your AsyncAPI document.\r\n\r\nIf you would rather execute the CLI, you could remove the script and use the plugin to execute it as an NPX command: https://github.com/eirslett/frontend-maven-plugin#npx\r\n\r\n&gt; But the classes are not well generated. For message lightMeasured, i&#39;m expecting 3 generated classes: on classe for Header, one classe for lightMeasuredPayload, and one main class called lightMeasuredMessage (having Header and payload as properties). But only the Payload class is generated. I&#39;m i missing something in my command?\r\n\r\n@blaiso you are not missing anything, it&#39;s simply because the tool only generates the payloads of the message, NOT an object for the message itself. Please head over to \r\nhttps://github.com/asyncapi/modelina/issues/1574 and voice that you need it as well.\r\n\r\nYou could easily implement this in the generate script, by [manually parsing the document][2] and [building your own meta models][3].\r\n\r\n\r\n  [1]: https://github.com/asyncapi/modelina/issues/780\r\n  [2]: https://modelina.org/examples?selectedExample=asyncapi-from-parser\r\n  [3]: https://modelina.org/examples?selectedExample=meta-model","title":"AsyncApi how to generate POJO classes based on AsyncAPI yaml file using Java and maven","body":"<p>Following up on Lukasz's response, in the ideal world the CLI would be all you would need. Unfortunately, as long as <a href=\"https://github.com/asyncapi/modelina/issues/780\" rel=\"nofollow noreferrer\">#780</a> has not been solved, it will always be limiting.</p>\n<p>I have added a Maven example of how to integrate Modelina or the CLI, into the build process, to always have up-to-date POJO classes from the AsyncAPI document. Check it out here: <a href=\"https://github.com/asyncapi/modelina/tree/master/examples/integrate-modelina-into-maven/maven-project\" rel=\"nofollow noreferrer\">https://github.com/asyncapi/modelina/tree/master/examples/integrate-modelina-into-maven/maven-project</a></p>\n<p>Here how it works:</p>\n<ul>\n<li>The script ./scripts/modelina/generate.ts is what generates all the models, and what Maven uses to generate the models. This can also be executed manually through npm run generate.</li>\n<li>The input, in this case, is an AsyncAPI document located in the root of the project ./asyncapi.json. The input can be anything, just alter the generator script.</li>\n<li>The Maven project file ./pom.xml then utilizes the frontend-maven-plugin to execute the generate script on build so you will always have the up to date models from your AsyncAPI document.</li>\n</ul>\n<p>If you would rather execute the CLI, you could remove the script and use the plugin to execute it as an NPX command: <a href=\"https://github.com/eirslett/frontend-maven-plugin#npx\" rel=\"nofollow noreferrer\">https://github.com/eirslett/frontend-maven-plugin#npx</a></p>\n<blockquote>\n<p>But the classes are not well generated. For message lightMeasured, i'm expecting 3 generated classes: on classe for Header, one classe for lightMeasuredPayload, and one main class called lightMeasuredMessage (having Header and payload as properties). But only the Payload class is generated. I'm i missing something in my command?</p>\n</blockquote>\n<p>@blaiso you are not missing anything, it's simply because the tool only generates the payloads of the message, NOT an object for the message itself. Please head over to\n<a href=\"https://github.com/asyncapi/modelina/issues/1574\" rel=\"nofollow noreferrer\">https://github.com/asyncapi/modelina/issues/1574</a> and voice that you need it as well.</p>\n<p>You could easily implement this in the generate script, by <a href=\"https://modelina.org/examples?selectedExample=asyncapi-from-parser\" rel=\"nofollow noreferrer\">manually parsing the document</a> and <a href=\"https://modelina.org/examples?selectedExample=meta-model\" rel=\"nofollow noreferrer\">building your own meta models</a>.</p>\n"},{"tags":[],"owner":{"account_id":8640189,"reputation":898,"user_id":6469095,"display_name":"Stav Shamir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699104614,"creation_date":1699104614,"answer_id":77422209,"question_id":77288980,"body_markdown":"You can also choose to go the other way around with a code-first approach, and generate an AsyncAPI file from your already existing Spring Boot project with minimal configuration using [Springwolf][1].\r\n\r\n\r\n  [1]: https://www.springwolf.dev/","title":"AsyncApi how to generate POJO classes based on AsyncAPI yaml file using Java and maven","body":"<p>You can also choose to go the other way around with a code-first approach, and generate an AsyncAPI file from your already existing Spring Boot project with minimal configuration using <a href=\"https://www.springwolf.dev/\" rel=\"nofollow noreferrer\">Springwolf</a>.</p>\n"}],"owner":{"account_id":5878211,"reputation":367,"user_id":4628462,"accept_rate":54,"display_name":"blaiso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699104614,"creation_date":1697210864,"question_id":77288980,"body_markdown":"Good morning.\r\n\r\nI&#39;m working on a spring boot projet with kafka integration already implemented (a kafka message producer).\r\nThe kafka configuration is done in application.properties as followed:\r\n\r\n    spring.kafka.bootstrap-servers=\r\n    spring.kafka.properties.sasl.jaas.config= \r\n    spring.kafka.properties.security.protocol= \r\n    spring.kafka.properties.sasl.mechanism= \r\n    spring.kafka.producer.key-serializer=\r\n    spring.kafka.producer.value-serializer=\r\n    spring.kafka.producer.acks=\r\n\r\n\r\nNow we are introducing the AsyncAPI to better describe and document our event-driven architecture.\r\n\r\nI&#39;m wondering how I can import the asyncApi.yaml(containing the Kafka description) file in my java code. \r\n\r\nPlease can you advise me how asyncApi.yaml file can be used to implement a kafka producer. Is it possible to generate pojo classes using the asyncApi.yaml ? \r\n\r\nI&#39;m using Springboot and maven and i&#39;m not find a proper way to integrate the asyncApi.yaml  in the project\r\n\r\nthanks a lot.","title":"AsyncApi how to generate POJO classes based on AsyncAPI yaml file using Java and maven","body":"<p>Good morning.</p>\n<p>I'm working on a spring boot projet with kafka integration already implemented (a kafka message producer).\nThe kafka configuration is done in application.properties as followed:</p>\n<pre><code>spring.kafka.bootstrap-servers=\nspring.kafka.properties.sasl.jaas.config= \nspring.kafka.properties.security.protocol= \nspring.kafka.properties.sasl.mechanism= \nspring.kafka.producer.key-serializer=\nspring.kafka.producer.value-serializer=\nspring.kafka.producer.acks=\n</code></pre>\n<p>Now we are introducing the AsyncAPI to better describe and document our event-driven architecture.</p>\n<p>I'm wondering how I can import the asyncApi.yaml(containing the Kafka description) file in my java code.</p>\n<p>Please can you advise me how asyncApi.yaml file can be used to implement a kafka producer. Is it possible to generate pojo classes using the asyncApi.yaml ?</p>\n<p>I'm using Springboot and maven and i'm not find a proper way to integrate the asyncApi.yaml  in the project</p>\n<p>thanks a lot.</p>\n"},{"tags":["java","android","android-studio","csv","toast"],"comments":[{"owner":{"account_id":26539851,"reputation":86,"user_id":20170780,"display_name":"Hipposgrumm"},"score":0,"creation_date":1698964338,"post_id":77413155,"comment_id":136474863,"body_markdown":"Please add more relevant tags. The title combined with the single `java` tag makes it difficult for people to determine what you&#39;re having a problem *with*, and it&#39;s a lot less likely that someone will help you.","body":"Please add more relevant tags. The title combined with the single <code>java</code> tag makes it difficult for people to determine what you&#39;re having a problem <i>with</i>, and it&#39;s a lot less likely that someone will help you."},{"owner":{"account_id":1054537,"reputation":20508,"user_id":1057547,"accept_rate":40,"display_name":"dognose"},"score":0,"creation_date":1698965895,"post_id":77413155,"comment_id":136475062,"body_markdown":"Have you set a breakpoint? Is the toast called, or is `property == null`? I cannot see anything where the text of the buttons is set, but you are basically using the buttons text as source  for `if (prop.getLocation().equals(address))`","body":"Have you set a breakpoint? Is the toast called, or is <code>property == null</code>? I cannot see anything where the text of the buttons is set, but you are basically using the buttons text as source  for <code>if (prop.getLocation().equals(address))</code>"},{"owner":{"account_id":29807334,"reputation":1,"user_id":22843571,"display_name":"Burger290"},"score":0,"creation_date":1698966242,"post_id":77413155,"comment_id":136475105,"body_markdown":"I&#39;m very much new to this, so I might not give the best answers. property == null just crashes the app, I named the buttons in the the activity_main.xml file, and I&#39;m not sure what else I could do besides use (prop.getLocation().equals(address)). The app opens with this code and runs fine, it just wont load the Toast popup.","body":"I&#39;m very much new to this, so I might not give the best answers. property == null just crashes the app, I named the buttons in the the activity_main.xml file, and I&#39;m not sure what else I could do besides use (prop.getLocation().equals(address)). The app opens with this code and runs fine, it just wont load the Toast popup."},{"owner":{"account_id":29807334,"reputation":1,"user_id":22843571,"display_name":"Burger290"},"score":0,"creation_date":1698966287,"post_id":77413155,"comment_id":136475112,"body_markdown":"I&#39;ve even used differents versions of the code not using the csv file included and they work so I know its not some sort of permission or formatting issue.","body":"I&#39;ve even used differents versions of the code not using the csv file included and they work so I know its not some sort of permission or formatting issue."}],"answers":[{"tags":[],"owner":{"account_id":25285238,"reputation":405,"user_id":19112370,"display_name":"Harshali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699103398,"creation_date":1699103398,"answer_id":77422133,"question_id":77413155,"body_markdown":"It might be your \r\n\r\n    if (property != null) \r\n\r\n\r\nCondition is not fulfilled.\r\n\r\nThere may some cases for this \r\nmay be the `location` string you get from clicked `Button` is not found in your `&quot;listings.csv&quot;` file.\r\n\r\n\r\n","title":"How do I fix Toast not showing up due to null?","body":"<p>It might be your</p>\n<pre><code>if (property != null) \n</code></pre>\n<p>Condition is not fulfilled.</p>\n<p>There may some cases for this\nmay be the <code>location</code> string you get from clicked <code>Button</code> is not found in your <code>&quot;listings.csv&quot;</code> file.</p>\n"}],"owner":{"account_id":29807334,"reputation":1,"user_id":22843571,"display_name":"Burger290"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699103398,"creation_date":1698962958,"question_id":77413155,"body_markdown":"Whenever I load my emulator with the code it pulls up successfully and doesn&#39;t crash. I&#39;m able to click on the buttons but they just wont load the Toast message. The Toast is supposed to pull the price from my listing file after pressing one of four buttons but nothing happens. Not sure where the error is.\r\n\r\nI&#39;ve tried using check id method `(id == R.id.button3)` but it doesn&#39;t match with the condition `property != null`. I&#39;ve done other methods too but nothing works. \r\n\r\nNOTE : Notifications are enabled in the emulator.\r\n\r\n\r\nMainActivity :\r\n```java\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends Activity implements View.OnClickListener {\r\n   \r\n    private Listing listing;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        listing = new Listing();\r\n        listing.loadProperties(&quot;listings.csv&quot;);\r\n\r\n        // connecting buttons with the\r\n        // layout using findViewById()\r\n        Button button3 = findViewById(R.id.button3);\r\n        Button button4 = findViewById(R.id.button4);\r\n        Button button5 = findViewById(R.id.button5);\r\n        Button button6 = findViewById(R.id.button6);\r\n\r\n        // apply setOnClickListener over buttons\r\n        button3.setOnClickListener(this);\r\n        button4.setOnClickListener(this);\r\n        button5.setOnClickListener(this);\r\n        button6.setOnClickListener(this);\r\n\r\n\r\n    }\r\n\r\n    // common onClick() for all buttons\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        Button clickedButton = (Button) view;\r\n        String location = clickedButton.getText().toString();\r\n        Property property = listing.getProperty(location);\r\n\r\n        if (property != null) {\r\n            // Display property price in a Toast message\r\n            String priceText = &quot;Price: $&quot; + property.getPrice();\r\n            Toast.makeText(this, priceText, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nProperty :\r\n```java\r\npublic abstract class Property {\r\n    private String ID;\r\n    private String location;\r\n    private double price;\r\n\r\n    public Property(String ID, String location, double price) {\r\n        this.ID = ID;\r\n        this.location = location;\r\n        this.price = price;\r\n    }\r\n\r\n    // Getters and Setters\r\n    public String getID() {\r\n        return ID;\r\n    }\r\n\r\n    public void setID(String ID) {\r\n        this.ID = ID;\r\n    }\r\n\r\n    public String getLocation() {\r\n        return location;\r\n    }\r\n\r\n    public void setLocation(String location) {\r\n        this.location = location;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ID: &quot; + ID + &quot;\\nLocation: &quot; + location + &quot;\\nPrice: &quot; + price;\r\n    }\r\n}\r\n```\r\n\r\nCProperty :\r\n```java\r\npublic class CommercialProperty extends Property {\r\n    private String zone;\r\n    private int numUnits;\r\n    private int numParkingSpots;\r\n\r\n    public CommercialProperty(String ID, String location, double price, String zone, int numUnits, int numParkingSpots) {\r\n        super(ID, location, price);\r\n        this.zone = zone;\r\n        this.numUnits = numUnits;\r\n        this.numParkingSpots = numParkingSpots;\r\n    }\r\n\r\n    // Getters and Setters for CommercialProperty-specific properties\r\n    public String getZone() {\r\n        return zone;\r\n    }\r\n\r\n    public void setZone(String zone) {\r\n        this.zone = zone;\r\n    }\r\n\r\n    public int getNumUnits() {\r\n        return numUnits;\r\n    }\r\n\r\n    public void setNumUnits(int numUnits) {\r\n        this.numUnits = numUnits;\r\n    }\r\n\r\n    public int getNumParkingSpots() {\r\n        return numParkingSpots;\r\n    }\r\n\r\n    public void setNumParkingSpots(int numParkingSpots) {\r\n        this.numParkingSpots = numParkingSpots;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return super.toString() + &quot;\\nZone: &quot; + zone + &quot;\\nUnits: &quot; + numUnits + &quot;\\nParking Spots: &quot; + numParkingSpots;\r\n    }\r\n}\r\n```\r\n\r\nRProperty :\r\n```java\r\npublic class ResidentialProperty extends Property {\r\n    private double annualHoaFees;\r\n    private int numBedrooms;\r\n    private double numBathrooms;\r\n\r\n    public ResidentialProperty(String ID, String location, double price, double annualHoaFees, int numBedrooms, double numBathrooms) {\r\n        super(ID, location, price);\r\n        this.annualHoaFees = annualHoaFees;\r\n        this.numBedrooms = numBedrooms;\r\n        this.numBathrooms = numBathrooms;\r\n    }\r\n\r\n    // Getters and Setters for ResidentialProperty-specific properties\r\n    public double getAnnualHoaFees() {\r\n        return annualHoaFees;\r\n    }\r\n\r\n    public void setAnnualHoaFees(double annualHoaFees) {\r\n        this.annualHoaFees = annualHoaFees;\r\n    }\r\n\r\n    public int getNumBedrooms() {\r\n        return numBedrooms;\r\n    }\r\n\r\n    public void setNumBedrooms(int numBedrooms) {\r\n        this.numBedrooms = numBedrooms;\r\n    }\r\n\r\n    public double getNumBathrooms() {\r\n        return numBathrooms;\r\n    }\r\n\r\n    public void setNumBathrooms(double numBathrooms) {\r\n        this.numBathrooms = numBathrooms;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return super.toString() + &quot;\\nAnnual HOA Fees: &quot; + annualHoaFees + &quot;\\nBedrooms: &quot; + numBedrooms + &quot;\\nBathrooms: &quot; + numBathrooms;\r\n    }\r\n}\r\n```\r\n\r\nListing :\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class Listing {\r\n   \r\n    private ArrayList&lt;Property&gt; properties;\r\n\r\n    public Listing() {\r\n        properties = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void loadProperties(String fileName) {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;listings.csv&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] data = line.split(&quot; &quot;);\r\n                if (data.length &gt;= 6) {\r\n                    String ID = data[0];\r\n                    String location = data[1] + &quot; &quot; + data[2] + &quot; &quot; + data[3];\r\n                    double price = Double.parseDouble(data[4]);\r\n\r\n                    if (ID.startsWith(&quot;rp&quot;)) {\r\n                        double annualHoaFees = Double.parseDouble(data[5]);\r\n                        int numBedrooms = Integer.parseInt(data[6]);\r\n                        double numBathrooms = Double.parseDouble(data[7]);\r\n                        ResidentialProperty rp = new ResidentialProperty(ID, location, price, annualHoaFees, numBedrooms, numBathrooms);\r\n                        properties.add(rp);\r\n                    } else if (ID.startsWith(&quot;cp&quot;)) {\r\n                        String zone = data[5];\r\n                        int numUnits = Integer.parseInt(data[6]);\r\n                        int numParkingSpots = Integer.parseInt(data[7]);\r\n                        CommercialProperty cp = new CommercialProperty(ID, location, price, zone, numUnits, numParkingSpots);\r\n                        properties.add(cp);\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public Property getProperty(String address) {\r\n        for (Property prop : properties) {\r\n            if (prop.getLocation().equals(address)) {\r\n                return prop;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```","title":"How do I fix Toast not showing up due to null?","body":"<p>Whenever I load my emulator with the code it pulls up successfully and doesn't crash. I'm able to click on the buttons but they just wont load the Toast message. The Toast is supposed to pull the price from my listing file after pressing one of four buttons but nothing happens. Not sure where the error is.</p>\n<p>I've tried using check id method <code>(id == R.id.button3)</code> but it doesn't match with the condition <code>property != null</code>. I've done other methods too but nothing works.</p>\n<p>NOTE : Notifications are enabled in the emulator.</p>\n<p>MainActivity :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity implements View.OnClickListener {\n   \n    private Listing listing;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        listing = new Listing();\n        listing.loadProperties(&quot;listings.csv&quot;);\n\n        // connecting buttons with the\n        // layout using findViewById()\n        Button button3 = findViewById(R.id.button3);\n        Button button4 = findViewById(R.id.button4);\n        Button button5 = findViewById(R.id.button5);\n        Button button6 = findViewById(R.id.button6);\n\n        // apply setOnClickListener over buttons\n        button3.setOnClickListener(this);\n        button4.setOnClickListener(this);\n        button5.setOnClickListener(this);\n        button6.setOnClickListener(this);\n\n\n    }\n\n    // common onClick() for all buttons\n\n    @Override\n    public void onClick(View view) {\n        Button clickedButton = (Button) view;\n        String location = clickedButton.getText().toString();\n        Property property = listing.getProperty(location);\n\n        if (property != null) {\n            // Display property price in a Toast message\n            String priceText = &quot;Price: $&quot; + property.getPrice();\n            Toast.makeText(this, priceText, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>Property :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Property {\n    private String ID;\n    private String location;\n    private double price;\n\n    public Property(String ID, String location, double price) {\n        this.ID = ID;\n        this.location = location;\n        this.price = price;\n    }\n\n    // Getters and Setters\n    public String getID() {\n        return ID;\n    }\n\n    public void setID(String ID) {\n        this.ID = ID;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ID: &quot; + ID + &quot;\\nLocation: &quot; + location + &quot;\\nPrice: &quot; + price;\n    }\n}\n</code></pre>\n<p>CProperty :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CommercialProperty extends Property {\n    private String zone;\n    private int numUnits;\n    private int numParkingSpots;\n\n    public CommercialProperty(String ID, String location, double price, String zone, int numUnits, int numParkingSpots) {\n        super(ID, location, price);\n        this.zone = zone;\n        this.numUnits = numUnits;\n        this.numParkingSpots = numParkingSpots;\n    }\n\n    // Getters and Setters for CommercialProperty-specific properties\n    public String getZone() {\n        return zone;\n    }\n\n    public void setZone(String zone) {\n        this.zone = zone;\n    }\n\n    public int getNumUnits() {\n        return numUnits;\n    }\n\n    public void setNumUnits(int numUnits) {\n        this.numUnits = numUnits;\n    }\n\n    public int getNumParkingSpots() {\n        return numParkingSpots;\n    }\n\n    public void setNumParkingSpots(int numParkingSpots) {\n        this.numParkingSpots = numParkingSpots;\n    }\n\n    @Override\n    public String toString() {\n        return super.toString() + &quot;\\nZone: &quot; + zone + &quot;\\nUnits: &quot; + numUnits + &quot;\\nParking Spots: &quot; + numParkingSpots;\n    }\n}\n</code></pre>\n<p>RProperty :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ResidentialProperty extends Property {\n    private double annualHoaFees;\n    private int numBedrooms;\n    private double numBathrooms;\n\n    public ResidentialProperty(String ID, String location, double price, double annualHoaFees, int numBedrooms, double numBathrooms) {\n        super(ID, location, price);\n        this.annualHoaFees = annualHoaFees;\n        this.numBedrooms = numBedrooms;\n        this.numBathrooms = numBathrooms;\n    }\n\n    // Getters and Setters for ResidentialProperty-specific properties\n    public double getAnnualHoaFees() {\n        return annualHoaFees;\n    }\n\n    public void setAnnualHoaFees(double annualHoaFees) {\n        this.annualHoaFees = annualHoaFees;\n    }\n\n    public int getNumBedrooms() {\n        return numBedrooms;\n    }\n\n    public void setNumBedrooms(int numBedrooms) {\n        this.numBedrooms = numBedrooms;\n    }\n\n    public double getNumBathrooms() {\n        return numBathrooms;\n    }\n\n    public void setNumBathrooms(double numBathrooms) {\n        this.numBathrooms = numBathrooms;\n    }\n\n    @Override\n    public String toString() {\n        return super.toString() + &quot;\\nAnnual HOA Fees: &quot; + annualHoaFees + &quot;\\nBedrooms: &quot; + numBedrooms + &quot;\\nBathrooms: &quot; + numBathrooms;\n    }\n}\n</code></pre>\n<p>Listing :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Listing {\n   \n    private ArrayList&lt;Property&gt; properties;\n\n    public Listing() {\n        properties = new ArrayList&lt;&gt;();\n    }\n\n    public void loadProperties(String fileName) {\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;listings.csv&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                String[] data = line.split(&quot; &quot;);\n                if (data.length &gt;= 6) {\n                    String ID = data[0];\n                    String location = data[1] + &quot; &quot; + data[2] + &quot; &quot; + data[3];\n                    double price = Double.parseDouble(data[4]);\n\n                    if (ID.startsWith(&quot;rp&quot;)) {\n                        double annualHoaFees = Double.parseDouble(data[5]);\n                        int numBedrooms = Integer.parseInt(data[6]);\n                        double numBathrooms = Double.parseDouble(data[7]);\n                        ResidentialProperty rp = new ResidentialProperty(ID, location, price, annualHoaFees, numBedrooms, numBathrooms);\n                        properties.add(rp);\n                    } else if (ID.startsWith(&quot;cp&quot;)) {\n                        String zone = data[5];\n                        int numUnits = Integer.parseInt(data[6]);\n                        int numParkingSpots = Integer.parseInt(data[7]);\n                        CommercialProperty cp = new CommercialProperty(ID, location, price, zone, numUnits, numParkingSpots);\n                        properties.add(cp);\n                    }\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Property getProperty(String address) {\n        for (Property prop : properties) {\n            if (prop.getLocation().equals(address)) {\n                return prop;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","assertj"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1448526602,"post_id":33933709,"comment_id":55627455,"body_markdown":"Could you post the imports of the class `AddressSearchFieldsTest`?","body":"Could you post the imports of the class <code>AddressSearchFieldsTest</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1448526688,"post_id":33933709,"comment_id":55627503,"body_markdown":"Is `UrlParameterStringAssert` your own class or provided by AssertJ?","body":"Is <code>UrlParameterStringAssert</code> your own class or provided by AssertJ?"},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1448526717,"post_id":33933709,"comment_id":55627522,"body_markdown":"Mine. I&#39;m extending the `AbstractCharSequenceAssert` to do some assertion magic of my own.","body":"Mine. I&#39;m extending the <code>AbstractCharSequenceAssert</code> to do some assertion magic of my own."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1448527073,"post_id":33933709,"comment_id":55627740,"body_markdown":"Have you already had a look into the output of a maven debug run? `mvn -X clean compile`","body":"Have you already had a look into the output of a maven debug run? <code>mvn -X clean compile</code>"},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1448527175,"post_id":33933709,"comment_id":55627804,"body_markdown":"Yep, that&#39;s why I know that the asserj jar is actually on the (test compile) classpath (see the quote, it&#39;s directly cut from the maven debug output). Unfortunately, nothing I see there helps, it&#39;s just &quot;doing test compile with these parameter... &quot; &quot;compile error&quot;.","body":"Yep, that&#39;s why I know that the asserj jar is actually on the (test compile) classpath (see the quote, it&#39;s directly cut from the maven debug output). Unfortunately, nothing I see there helps, it&#39;s just &quot;doing test compile with these parameter... &quot; &quot;compile error&quot;."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1448527441,"post_id":33933709,"comment_id":55627957,"body_markdown":"And for the sake of completeness: Removing `&lt;scope&gt;test&lt;/scope&gt;` from the assertj dependency doesn&#39;t change anything, same error.","body":"And for the sake of completeness: Removing <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code> from the assertj dependency doesn&#39;t change anything, same error."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1448527879,"post_id":33933709,"comment_id":55628198,"body_markdown":"Can you post in which goal you get the error. As normally a `mvn clean compile` would not compile any code in `src/test/...`.","body":"Can you post in which goal you get the error. As normally a <code>mvn clean compile</code> would not compile any code in <code>src&#47;test&#47;...</code>."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1448528503,"post_id":33933709,"comment_id":55628602,"body_markdown":"No I mean from the mvn log output something like `maven-compiler-plugin:2.3.2:testCompile` (post the whole line). As I wrote `mvn clean compile` doesn&#39;t compile any sources in `src/test/...`.","body":"No I mean from the mvn log output something like <code>maven-compiler-plugin:2.3.2:testCompile</code> (post the whole line). As I wrote <code>mvn clean compile</code> doesn&#39;t compile any sources in <code>src&#47;test&#47;...</code>."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1448528737,"post_id":33933709,"comment_id":55628767,"body_markdown":"[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ shipcloud-api ---","body":"[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ shipcloud-api ---"}],"answers":[{"tags":[],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448527964,"creation_date":1448527964,"answer_id":33934134,"question_id":33933709,"body_markdown":"I honestly have no idea WHY the problem is what it is (and would be very glad for anyone to explain it), but what is WAS is that these two classes were defined in the same file...\r\n\r\n    public class AddressSearchFieldsTest {\r\n    \r\n    ... some testing ...\r\n    \r\n    }\r\n    \r\n    class UrlParameterStringAssert extends AbstractCharSequenceAssert&lt;UrlParameterStringAssert, String&gt; {\r\n    \r\n    ... a custom Assertion class...\r\n    \r\n    }\r\n\r\nNormally I don&#39;t expect troubles with something like this (as there should be no problem declaring a non-public class in the same file), but somehow maven didn&#39;t like it. Moving the UrlParameterStringAssert to its own file solved the problem. Would love to know why.","title":"Maven test compile does not find class in classpath","body":"<p>I honestly have no idea WHY the problem is what it is (and would be very glad for anyone to explain it), but what is WAS is that these two classes were defined in the same file...</p>\n\n<pre><code>public class AddressSearchFieldsTest {\n\n... some testing ...\n\n}\n\nclass UrlParameterStringAssert extends AbstractCharSequenceAssert&lt;UrlParameterStringAssert, String&gt; {\n\n... a custom Assertion class...\n\n}\n</code></pre>\n\n<p>Normally I don't expect troubles with something like this (as there should be no problem declaring a non-public class in the same file), but somehow maven didn't like it. Moving the UrlParameterStringAssert to its own file solved the problem. Would love to know why.</p>\n"},{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448536878,"creation_date":1448529918,"answer_id":33934781,"question_id":33933709,"body_markdown":"For me you have a strange maven setting somehow.\r\n\r\nAssume we have following structure\r\n\r\n    src\\main\\java\\Foo.java                                               \r\n    src\\test\\java\\sub\\optimal\\mavenexample\\AddressSearchFieldsTest.java\r\n\r\nFoo.java\r\n\r\n    class Foo { }\r\n\r\nAddressSearchFieldsTest.java\r\n\r\n    import org.assertj.core.api.AbstractCharSequenceAssert;\r\n    public class AddressSearchFieldsTest { }\r\n\r\n    class UrlParameterStringAssert extends\r\n        AbstractCharSequenceAssert&lt;UrlParameterStringAssert, String&gt; {\r\n        UrlParameterStringAssert(String s) {\r\n            super(s, UrlParameterStringAssert.class);\r\n        }\r\n    }\r\n\r\nusing your `pom.xml` following goal will be executed by `mvn clean compile`\r\n\r\n    # from the log output\r\n    maven-compiler-plugin:2.3.2:compile (default-compile)\r\n\r\nand produce the following class files\r\n\r\n    target\\classes\\Foo.class\r\n\r\nthe goal `default-testCompile` (as you mention) is executed for example by `mvn clean compile test`\r\n\r\n    # from the log output\r\n    maven-compiler-plugin:2.3.2:testCompile (default-testCompile)\r\n\r\nand produce the following class files\r\n\r\n    target\\classes\\Foo.class\r\n    target\\test-classes\\AddressSearchFieldsTest.class\r\n    target\\test-classes\\UrlParameterStringAssert.class\r\n\r\nYou should check why your `mvn clean compile` tries to compile the test class files.","title":"Maven test compile does not find class in classpath","body":"<p>For me you have a strange maven setting somehow.</p>\n\n<p>Assume we have following structure</p>\n\n<pre><code>src\\main\\java\\Foo.java                                               \nsrc\\test\\java\\sub\\optimal\\mavenexample\\AddressSearchFieldsTest.java\n</code></pre>\n\n<p>Foo.java</p>\n\n<pre><code>class Foo { }\n</code></pre>\n\n<p>AddressSearchFieldsTest.java</p>\n\n<pre><code>import org.assertj.core.api.AbstractCharSequenceAssert;\npublic class AddressSearchFieldsTest { }\n\nclass UrlParameterStringAssert extends\n    AbstractCharSequenceAssert&lt;UrlParameterStringAssert, String&gt; {\n    UrlParameterStringAssert(String s) {\n        super(s, UrlParameterStringAssert.class);\n    }\n}\n</code></pre>\n\n<p>using your <code>pom.xml</code> following goal will be executed by <code>mvn clean compile</code></p>\n\n<pre><code># from the log output\nmaven-compiler-plugin:2.3.2:compile (default-compile)\n</code></pre>\n\n<p>and produce the following class files</p>\n\n<pre><code>target\\classes\\Foo.class\n</code></pre>\n\n<p>the goal <code>default-testCompile</code> (as you mention) is executed for example by <code>mvn clean compile test</code></p>\n\n<pre><code># from the log output\nmaven-compiler-plugin:2.3.2:testCompile (default-testCompile)\n</code></pre>\n\n<p>and produce the following class files</p>\n\n<pre><code>target\\classes\\Foo.class\ntarget\\test-classes\\AddressSearchFieldsTest.class\ntarget\\test-classes\\UrlParameterStringAssert.class\n</code></pre>\n\n<p>You should check why your <code>mvn clean compile</code> tries to compile the test class files.</p>\n"}],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8093,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699103130,"creation_date":1448526401,"question_id":33933709,"body_markdown":"I&#39;ve got a little project with this pom...\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.example.shipcloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;shipcloud-api&lt;/artifactId&gt;\r\n    \t&lt;description&gt;The Java API for ShipCloud.&lt;/description&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;prerequisites&gt;\r\n    \t\t&lt;maven&gt;3.0&lt;/maven&gt;\r\n    \t&lt;/prerequisites&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.compiler.source.version&gt;1.8&lt;/project.compiler.source.version&gt;\r\n    \t\t&lt;project.compiler.target.version&gt;1.8&lt;/project.compiler.target.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;!-- More Matchers than the default version in JUnit --&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nIn Eclipse, everything works fine, the tests work (using that class that maven cannot find), but when I try to clean install this via maven, I get an error that it cannot find `AbstractCharSequenceAssert` (part of AssertJ) in this line (which is a class below another public class):\r\n\r\n    class UrlParameterStringAssert extends AbstractCharSequenceAssert&lt;UrlParameterStringAssert, String&gt; {\r\n\r\n&gt; INFO] -------------------------------------------------------------\r\n&gt; [ERROR] COMPILATION ERROR :  \r\n&gt; [INFO] ------------------------------------------------------------ \r\n&gt; [ERROR] /home/fschaetz/workspaces/workspace5/.../shipcloud-api/src/test/java/com/example/shipcloud/rest/shipcloud/domain/AddressSearchFieldsTest.java:[103,39]\r\n&gt; error: cannot find symbol [ERROR]   symbol: class\r\n&gt; AbstractCharSequenceAssert\r\n\r\nI have looked through the debug output and when running the testCompile, the AssertJ jar is actually on the classpath given to the compiler:\r\n\r\n&gt; -classpath ...:/home/fschaetz/.m2/repository/org/assertj/assertj-core/2.2.0/assertj-core-2.2.0.jar:...\r\n\r\n(The file exists, is readable, contains the class and works fine in Eclipse).\r\n\r\nI&#39;ve tried clean (maven/eclipse), running an update on the project, etc. but nothing seems to work. Same thing happens when I try to run the maven install in jenkins, btw. \r\n\r\nThe imports of the class that makes trouble are...\r\n\r\n    import static de.assona.rest.shipcloud.domain.UrlParameterStringAssert.assertThat;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import org.assertj.core.api.AbstractCharSequenceAssert;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n\r\nAny ideas?","title":"Maven test compile does not find class in classpath","body":"<p>I've got a little project with this pom...</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example.shipcloud&lt;/groupId&gt;\n    &lt;artifactId&gt;shipcloud-api&lt;/artifactId&gt;\n    &lt;description&gt;The Java API for ShipCloud.&lt;/description&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.0&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.compiler.source.version&gt;1.8&lt;/project.compiler.source.version&gt;\n        &lt;project.compiler.target.version&gt;1.8&lt;/project.compiler.target.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;!-- More Matchers than the default version in JUnit --&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>In Eclipse, everything works fine, the tests work (using that class that maven cannot find), but when I try to clean install this via maven, I get an error that it cannot find <code>AbstractCharSequenceAssert</code> (part of AssertJ) in this line (which is a class below another public class):</p>\n\n<pre><code>class UrlParameterStringAssert extends AbstractCharSequenceAssert&lt;UrlParameterStringAssert, String&gt; {\n</code></pre>\n\n<blockquote>\n  <p>INFO] -------------------------------------------------------------\n  [ERROR] COMPILATION ERROR :<br>\n  [INFO] ------------------------------------------------------------ \n  [ERROR] /home/fschaetz/workspaces/workspace5/.../shipcloud-api/src/test/java/com/example/shipcloud/rest/shipcloud/domain/AddressSearchFieldsTest.java:[103,39]\n  error: cannot find symbol [ERROR]   symbol: class\n  AbstractCharSequenceAssert</p>\n</blockquote>\n\n<p>I have looked through the debug output and when running the testCompile, the AssertJ jar is actually on the classpath given to the compiler:</p>\n\n<blockquote>\n  <p>-classpath ...:/home/fschaetz/.m2/repository/org/assertj/assertj-core/2.2.0/assertj-core-2.2.0.jar:...</p>\n</blockquote>\n\n<p>(The file exists, is readable, contains the class and works fine in Eclipse).</p>\n\n<p>I've tried clean (maven/eclipse), running an update on the project, etc. but nothing seems to work. Same thing happens when I try to run the maven install in jenkins, btw. </p>\n\n<p>The imports of the class that makes trouble are...</p>\n\n<pre><code>import static de.assona.rest.shipcloud.domain.UrlParameterStringAssert.assertThat;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.assertj.core.api.AbstractCharSequenceAssert;\nimport org.junit.Before;\nimport org.junit.Test;\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":80593,"reputation":6741,"user_id":227804,"display_name":"lschin"},"score":2,"creation_date":1312356566,"post_id":6923002,"comment_id":8247546,"body_markdown":"**Empty package** with **subpackages**. Nothing wrong.","body":"<b>Empty package</b> with <b>subpackages</b>. Nothing wrong."}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1312356780,"creation_date":1312356780,"answer_id":6923077,"question_id":6923002,"body_markdown":"This is most likely because you have chosen hierarchical package views. The hierarchical package view will show empty package icons for packages without any classes.\r\n\r\n![Hierarchical Package view in Eclipse][1]\r\n\r\nSwitching to flat package views will allow Eclipse to display only packages that have classes in them.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/DoSec.png","title":"White package icons in my Eclipse&#39;s package explorer","body":"<p>This is most likely because you have chosen hierarchical package views. The hierarchical package view will show empty package icons for packages without any classes.</p>\n\n<p><img src=\"https://i.stack.imgur.com/DoSec.png\" alt=\"Hierarchical Package view in Eclipse\"></p>\n\n<p>Switching to flat package views will allow Eclipse to display only packages that have classes in them.</p>\n"},{"tags":[],"owner":{"account_id":15456816,"reputation":21,"user_id":11150626,"display_name":"Kabindra Joshi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1551734923,"creation_date":1551734923,"answer_id":54991828,"question_id":6923002,"body_markdown":"Create at least one class in the &#39;empty&#39; package &#39;white package&#39; and refresh the project, the color should change to Golden. \r\n\r\nWhen Package does not contain any class, then the color is white.","title":"White package icons in my Eclipse&#39;s package explorer","body":"<p>Create at least one class in the 'empty' package 'white package' and refresh the project, the color should change to Golden. </p>\n\n<p>When Package does not contain any class, then the color is white.</p>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699102068,"creation_date":1699102068,"answer_id":77422058,"question_id":6923002,"body_markdown":"1. Click on the folder structure, src in the picture.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Go to build path and do exclude\r\n  [![enter image description here][2]][2]\r\n\r\n\r\n3. Output:\r\n\r\n[![enter image description here][3]][3]. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dRg1H.png.\r\n  [2]: https://i.stack.imgur.com/cTuNH.png.\r\n  [3]: https://i.stack.imgur.com/FJODr.png","title":"White package icons in my Eclipse&#39;s package explorer","body":"<ol>\n<li>Click on the folder structure, src in the picture.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/dRg1H.png.\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dRg1H.png.\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li><p>Go to build path and do exclude\n<a href=\"https://i.stack.imgur.com/cTuNH.png.\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cTuNH.png.\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Output:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/FJODr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJODr.png\" alt=\"enter image description here\" /></a>.</p>\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21049,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6923077,"answer_count":3,"score":16,"last_activity_date":1699102068,"creation_date":1312356267,"question_id":6923002,"body_markdown":"I am getting these strange white package icons in my testing project. From what I&#39;ve seen @ http://jamie.ideasasylum.com/images/icons.pdf, they signal &quot;empty packages&quot;, but I  don&#39;t know why.\r\n\r\n![enter image description here][2]\r\n\r\nMy `src/` folder is set is includedin the build path, so I don&#39;t get what the problem might be:\r\n\r\n![enter image description here][1]\r\n\r\nThanks\r\n\r\n  [1]: http://i.stack.imgur.com/6rZ32.png\r\n  [2]: http://i.stack.imgur.com/ZLgLB.png","title":"White package icons in my Eclipse&#39;s package explorer","body":"<p>I am getting these strange white package icons in my testing project. From what I've seen @ <a href=\"http://jamie.ideasasylum.com/images/icons.pdf\" rel=\"noreferrer\">http://jamie.ideasasylum.com/images/icons.pdf</a>, they signal \"empty packages\", but I  don't know why.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZLgLB.png\" alt=\"enter image description here\"></p>\n\n<p>My <code>src/</code> folder is set is includedin the build path, so I don't get what the problem might be:</p>\n\n<p><img src=\"https://i.stack.imgur.com/6rZ32.png\" alt=\"enter image description here\"></p>\n\n<p>Thanks</p>\n"},{"tags":["java","post","apache-nifi","http-status-code-400","openfeign"],"owner":{"account_id":12979377,"reputation":3,"user_id":9382370,"display_name":"Chris Dworczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699101089,"creation_date":1699101089,"question_id":77422002,"body_markdown":"My NiFi API Client looks like this:\r\n\r\n    @RequestLin(&quot;POST /process-groups/{id}/templates/upload&quot;)\r\n    @Headers(&quot;Content-Type: multipart/form-data&quot;) \r\n    TemplateEntity uploadTemplate(@Param(&quot;id&quot;) String id, @Param(&quot;name&quot;) String name, @Param(&quot;file&quot;) File file)\r\n\r\nI call it as such:\r\n\r\n    File fileTemplate = new File(&quot;template_file.xml&quot;)\r\n    TemaplateEntity templateEntity = client.uploadTemplate(&quot;processGroupID123&quot;, &quot;template&quot;, fileTemplate)\r\n\r\nI get an error response:\r\n\r\n    feign.FeignException$BadRequest: [400 Bad Request] during [POST] to [https://nifi.instance.com/nifi-api/process-groups/processGroupID123/templates/upload]\r\n\r\n\r\nWhen I do it through the UI which works, the request URL looks the same and checking the Network activity the payload should look like this:\r\n\r\n    ------WebKitFormBoundaryxHgNbfqkeTPLWqsc\r\n    Content-Disposition: form-data; name=&quot;template&quot;; filename=&quot;template_file.xml&quot;\r\n    Content-Type: text/xml\r\n    \r\n    ------WebKitFormBoundaryxHgNbfqkeTPLWqsc\r\n    Content-Disposition: form-data; name=&quot;disconnectedNodeAcknowledged&quot;\r\n    \r\n    false\r\n    ------WebKitFormBoundaryxHgNbfqkeTPLWqsc","title":"How to use OpenFeign to post template to NiFi - Getting 400 Bad Request","body":"<p>My NiFi API Client looks like this:</p>\n<pre><code>@RequestLin(&quot;POST /process-groups/{id}/templates/upload&quot;)\n@Headers(&quot;Content-Type: multipart/form-data&quot;) \nTemplateEntity uploadTemplate(@Param(&quot;id&quot;) String id, @Param(&quot;name&quot;) String name, @Param(&quot;file&quot;) File file)\n</code></pre>\n<p>I call it as such:</p>\n<pre><code>File fileTemplate = new File(&quot;template_file.xml&quot;)\nTemaplateEntity templateEntity = client.uploadTemplate(&quot;processGroupID123&quot;, &quot;template&quot;, fileTemplate)\n</code></pre>\n<p>I get an error response:</p>\n<pre><code>feign.FeignException$BadRequest: [400 Bad Request] during [POST] to [https://nifi.instance.com/nifi-api/process-groups/processGroupID123/templates/upload]\n</code></pre>\n<p>When I do it through the UI which works, the request URL looks the same and checking the Network activity the payload should look like this:</p>\n<pre><code>------WebKitFormBoundaryxHgNbfqkeTPLWqsc\nContent-Disposition: form-data; name=&quot;template&quot;; filename=&quot;template_file.xml&quot;\nContent-Type: text/xml\n\n------WebKitFormBoundaryxHgNbfqkeTPLWqsc\nContent-Disposition: form-data; name=&quot;disconnectedNodeAcknowledged&quot;\n\nfalse\n------WebKitFormBoundaryxHgNbfqkeTPLWqsc\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699100364,"creation_date":1699100364,"answer_id":77421965,"question_id":77421341,"body_markdown":"When using the shared code, if the `setValue()` operation doesn&#39;t fail, then you&#39;ll be able to see the &quot;Hello, World!&quot; message as the value of the `message` node. Your schema should look like this:\r\n\r\n    db\r\n    |\r\n    --- message: &quot;Hello, World!&quot;\r\n\r\nRemember, that it is always a good practice to attach a listener to the `setValue()` operation, to see if something went wrong.\r\n\r\nHow can you see the above result, either in the Firebase Console or programmatically.","title":"can you help me set up Firebase with Android Studio?","body":"<p>When using the shared code, if the <code>setValue()</code> operation doesn't fail, then you'll be able to see the &quot;Hello, World!&quot; message as the value of the <code>message</code> node. Your schema should look like this:</p>\n<pre><code>db\n|\n--- message: &quot;Hello, World!&quot;\n</code></pre>\n<p>Remember, that it is always a good practice to attach a listener to the <code>setValue()</code> operation, to see if something went wrong.</p>\n<p>How can you see the above result, either in the Firebase Console or programmatically.</p>\n"}],"owner":{"account_id":27701204,"reputation":3,"user_id":21145746,"display_name":"Gio "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77421965,"answer_count":1,"score":0,"last_activity_date":1699100393,"creation_date":1699087897,"question_id":77421341,"body_markdown":"I am new to Android Studio and Firebase. I am trying to build a test app linked to my Firebase database. I followed all the instructions.\r\n\r\nI copy-paste this in the main Java activity in the oncreate method.\r\n\r\n    // Write a message to the database\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n    \r\n         myRef.setValue(&quot;Hello, World!&quot;);\r\n\r\nI run the app and everything seems to work fine. \r\nMy question is: what is it meant to do exactly? \r\nWhere does the msg go and where am I supposed to retrieve it?\r\n\r\n\r\n","title":"can you help me set up Firebase with Android Studio?","body":"<p>I am new to Android Studio and Firebase. I am trying to build a test app linked to my Firebase database. I followed all the instructions.</p>\n<p>I copy-paste this in the main Java activity in the oncreate method.</p>\n<pre><code>// Write a message to the database\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\n\n     myRef.setValue(&quot;Hello, World!&quot;);\n</code></pre>\n<p>I run the app and everything seems to work fine.\nMy question is: what is it meant to do exactly?\nWhere does the msg go and where am I supposed to retrieve it?</p>\n"},{"tags":["java","linked-list","copy-constructor","deep-copy","copying"],"comments":[{"owner":{"display_name":"user800014"},"score":0,"creation_date":1393776128,"post_id":22129809,"comment_id":33576522,"body_markdown":"This may help you to understand the concept: http://stackoverflow.com/questions/6182565/java-deep-copy-shallow-copy-clone","body":"This may help you to understand the concept: <a href=\"http://stackoverflow.com/questions/6182565/java-deep-copy-shallow-copy-clone\" title=\"java deep copy shallow copy clone\">stackoverflow.com/questions/6182565/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":75156,"reputation":12077,"user_id":215651,"accept_rate":50,"display_name":"lreeder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393873799,"creation_date":1393776065,"answer_id":22129902,"question_id":22129809,"body_markdown":"It&#39;s hard to say what the problem is without seeing the source for `SortedLinkedSetNode`, but you seem to be modifying your original with this statement:\r\n\r\n`copy.firstNode= copy.firstNode.next;`\r\n\r\nThis probably advances firstNode to the end of your original linkedset, resulting in the original having one element.  Also, confusingly the original is called &quot;copy&quot;.  You may want to rename it so you can understand your code better.\r\n\r\nWhen creating a deep copy, you shouldn&#39;t modify the structure you want to copy.\r\n\r\nIn this case, you can just use a temporary variable to store the reference to the current node you are on, without modifying your original data structure.  Try this:\r\n\r\n    this.firstNode = firstNode1;\r\n    // so basically I am chaining elements from &quot;copy&quot; to firstNode1 and then making &quot;this&quot; = to firstNode1. \r\n\r\n    SortedLinkedSetNode currentNode = copy.firstNode;\r\n\r\n    while (currentNode.next !=null) {  \r\n        firstNode1.add(currentNode.next.value);\r\n        this.firstNode = firstNode1;\r\n        currentNode = currentNode.next;\r\n     }\r\n    ","title":"Deep Copy Constructor for Linked List in Java","body":"<p>It's hard to say what the problem is without seeing the source for <code>SortedLinkedSetNode</code>, but you seem to be modifying your original with this statement:</p>\n\n<p><code>copy.firstNode= copy.firstNode.next;</code></p>\n\n<p>This probably advances firstNode to the end of your original linkedset, resulting in the original having one element.  Also, confusingly the original is called \"copy\".  You may want to rename it so you can understand your code better.</p>\n\n<p>When creating a deep copy, you shouldn't modify the structure you want to copy.</p>\n\n<p>In this case, you can just use a temporary variable to store the reference to the current node you are on, without modifying your original data structure.  Try this:</p>\n\n<pre><code>this.firstNode = firstNode1;\n// so basically I am chaining elements from \"copy\" to firstNode1 and then making \"this\" = to firstNode1. \n\nSortedLinkedSetNode currentNode = copy.firstNode;\n\nwhile (currentNode.next !=null) {  \n    firstNode1.add(currentNode.next.value);\n    this.firstNode = firstNode1;\n    currentNode = currentNode.next;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644250979,"creation_date":1644250979,"answer_id":71021875,"question_id":22129809,"body_markdown":"First the original to copy from, is called `copy`, like in do copy this one?\r\n\r\nYou did have some mix-up with the correct nodes and the code was not kept simple enough.\r\n\r\nA recursive solution to simplify things seems appropriate:\r\n\r\n    public SortedLinkedSet(SortedLinkedSet&lt;T&gt; original) {\r\n        Objects.requireNotNull(original);\r\n        this.firstNode = copyNodes(orignal.firstNode);\r\n    }\r\n\r\n    private SortedLinkedSetNode copy(SortedLinkedSetNode originalNode) {\r\n        if (originalNode == null) {\r\n            return null;\r\n        }\r\n        SortedLinkedSetNode node = new SortedLinkedSetNode(originalNode.value);\r\n        node.next = copy(originalNode.next);\r\n        return node;\r\n    }\r\n\r\nIf the node&#39;s value would need deep copying too, that could be done at one place.\r\n\r\nA loop would still be simple. One way:\r\n\r\n    private SortedLinkedSetNode copy(SortedLinkedSetNode originalNode) {\r\n        SortedLinkedSetNode firstNode = null;\r\n        SortedLinkedSetNode previousNode = null;\r\n        while (originalNode != null) {\r\n            SortedLinkedSetNode node = new SortedLinkedSetNode(originalNode.value);\r\n            if (firstNode == null) {\r\n                firstNode = node;\r\n            } else {\r\n                previousNode.next = node;\r\n            }\r\n            previousNode = node;\r\n            originalNode = originalNode.next;\r\n        }\r\n        return firstNode;\r\n    }\r\n","title":"Deep Copy Constructor for Linked List in Java","body":"<p>First the original to copy from, is called <code>copy</code>, like in do copy this one?</p>\n<p>You did have some mix-up with the correct nodes and the code was not kept simple enough.</p>\n<p>A recursive solution to simplify things seems appropriate:</p>\n<pre><code>public SortedLinkedSet(SortedLinkedSet&lt;T&gt; original) {\n    Objects.requireNotNull(original);\n    this.firstNode = copyNodes(orignal.firstNode);\n}\n\nprivate SortedLinkedSetNode copy(SortedLinkedSetNode originalNode) {\n    if (originalNode == null) {\n        return null;\n    }\n    SortedLinkedSetNode node = new SortedLinkedSetNode(originalNode.value);\n    node.next = copy(originalNode.next);\n    return node;\n}\n</code></pre>\n<p>If the node's value would need deep copying too, that could be done at one place.</p>\n<p>A loop would still be simple. One way:</p>\n<pre><code>private SortedLinkedSetNode copy(SortedLinkedSetNode originalNode) {\n    SortedLinkedSetNode firstNode = null;\n    SortedLinkedSetNode previousNode = null;\n    while (originalNode != null) {\n        SortedLinkedSetNode node = new SortedLinkedSetNode(originalNode.value);\n        if (firstNode == null) {\n            firstNode = node;\n        } else {\n            previousNode.next = node;\n        }\n        previousNode = node;\n        originalNode = originalNode.next;\n    }\n    return firstNode;\n}\n</code></pre>\n"}],"owner":{"account_id":4107458,"reputation":11,"user_id":3371034,"display_name":"user3371034"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10663,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699099290,"creation_date":1393775594,"question_id":22129809,"body_markdown":"I have a HW assignment and only one small part of it is to make a copy constructor which makes a Deep Copy of the linked list which you have entered in its parameters.\r\n\r\nI understand that this means, that the `List` you have entered remains unchanged, and that the new linked list is isolated from the &quot;old&quot; one. My code gives me a new list which is exactly the same as the old one (the one you enter as a parameter) and this is what I want, but the old one is changed.\r\n\r\nHere is the constructor:\r\n\r\n    public SortedLinkedSet(SortedLinkedSet&lt;T&gt; copy) {\r\n        if (copy == null) {\r\n            this.firstNode = null;\r\n        } else{\r\n            SortedLinkedSetNode firstNode1 = new SortedLinkedSetNode(copy.getFirstNode().value);\r\n            this.firstNode = firstNode1;\r\n           // so basically I am chaining elements from &quot;copy&quot; to firstNode1 and then making &quot;this&quot; = to firstNode1. \r\n            while (copy.firstNode.next !=null) {  \r\n                firstNode1.add(copy.getFirstNode().next.value);\r\n                this.firstNode = firstNode1;\r\n                copy.firstNode = copy.firstNode.next;\r\n   \t       // at the end of this loop I have a successful new linkedList with the same value, but &quot;copy&quot; has been changed\r\n            }\r\n        }      \r\n    }\r\n\r\nIf for example I enter a linked list which has the values `(1,2,3)` -- with this constructor i get back a new linked list with values `1,2,3` but the old one just has 1.. If someone can help me with why this is going wrong it would be great. Thanks\r\n\r\nUPDATE : As  Ireeder pointed out, and with a test I did, I am almost sure that the problem is in the statement : \r\n    copy.firstNode = copy.firstNode.next;\r\ni deleted the current code, and did the following test: \r\n    \r\n\r\n    SortedLinkedSetNode firstNode = new SortedLinkedSetNode(copy.getFirstNode().value);\r\n    this.firstNode=firstNode;\r\n    \t   \r\n    firstNode.add(copy.getFirstNode().next.value);\r\n    this.firstNode = firstNode;\r\n\r\n    firstNode.add(copy.getFirstNode().next.next.value);\r\n    this.firstNode = firstNode;\r\n\r\nand this Works perfectly(but I knew in advance i&#39;m testing with only 3 element list).How would i do it with a while loop without using such a statement as  :\r\n     copy.firstNode = copy.firstNode.next;\r\nI have to somehow move along the &quot;copy&quot; list ?\r\n","title":"Deep Copy Constructor for Linked List in Java","body":"<p>I have a HW assignment and only one small part of it is to make a copy constructor which makes a Deep Copy of the linked list which you have entered in its parameters.</p>\n\n<p>I understand that this means, that the <code>List</code> you have entered remains unchanged, and that the new linked list is isolated from the \"old\" one. My code gives me a new list which is exactly the same as the old one (the one you enter as a parameter) and this is what I want, but the old one is changed.</p>\n\n<p>Here is the constructor:</p>\n\n<pre><code>public SortedLinkedSet(SortedLinkedSet&lt;T&gt; copy) {\n    if (copy == null) {\n        this.firstNode = null;\n    } else{\n        SortedLinkedSetNode firstNode1 = new SortedLinkedSetNode(copy.getFirstNode().value);\n        this.firstNode = firstNode1;\n       // so basically I am chaining elements from \"copy\" to firstNode1 and then making \"this\" = to firstNode1. \n        while (copy.firstNode.next !=null) {  \n            firstNode1.add(copy.getFirstNode().next.value);\n            this.firstNode = firstNode1;\n            copy.firstNode = copy.firstNode.next;\n       // at the end of this loop I have a successful new linkedList with the same value, but \"copy\" has been changed\n        }\n    }      \n}\n</code></pre>\n\n<p>If for example I enter a linked list which has the values <code>(1,2,3)</code> -- with this constructor i get back a new linked list with values <code>1,2,3</code> but the old one just has 1.. If someone can help me with why this is going wrong it would be great. Thanks</p>\n\n<p>UPDATE : As  Ireeder pointed out, and with a test I did, I am almost sure that the problem is in the statement : \n    copy.firstNode = copy.firstNode.next;\ni deleted the current code, and did the following test: </p>\n\n<pre><code>SortedLinkedSetNode firstNode = new SortedLinkedSetNode(copy.getFirstNode().value);\nthis.firstNode=firstNode;\n\nfirstNode.add(copy.getFirstNode().next.value);\nthis.firstNode = firstNode;\n\nfirstNode.add(copy.getFirstNode().next.next.value);\nthis.firstNode = firstNode;\n</code></pre>\n\n<p>and this Works perfectly(but I knew in advance i'm testing with only 3 element list).How would i do it with a while loop without using such a statement as  :\n     copy.firstNode = copy.firstNode.next;\nI have to somehow move along the \"copy\" list ?</p>\n"},{"tags":["python","java","cmake","chromium-embedded"],"comments":[{"owner":{"account_id":1791524,"reputation":196,"user_id":1631799,"accept_rate":27,"display_name":"sgm"},"score":0,"creation_date":1699098360,"post_id":77421784,"comment_id":136490268,"body_markdown":"Additional: CMAKE 3.28.0,","body":"Additional: CMAKE 3.28.0,"},{"owner":{"account_id":1791524,"reputation":196,"user_id":1631799,"accept_rate":27,"display_name":"sgm"},"score":0,"creation_date":1699098450,"post_id":77421784,"comment_id":136490278,"body_markdown":"Microsoft Visual Studio Community 2022 Version 17.7.6 - Visual C++ 2022   00482-90000-00000-AA353","body":"Microsoft Visual Studio Community 2022 Version 17.7.6 - Visual C++ 2022   00482-90000-00000-AA353"},{"owner":{"account_id":1791524,"reputation":196,"user_id":1631799,"accept_rate":27,"display_name":"sgm"},"score":0,"creation_date":1699175936,"post_id":77421784,"comment_id":136496331,"body_markdown":"Python 3.12 and Java 11.0.10","body":"Python 3.12 and Java 11.0.10"}],"owner":{"account_id":1791524,"reputation":196,"user_id":1631799,"accept_rate":27,"display_name":"sgm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699096529,"creation_date":1699096529,"question_id":77421784,"body_markdown":"I&#39;m trying to run CMAKE -G &quot;Visual Studio 17&quot; -A x64 .. as indicated in https://bitbucket.org/chromiumembedded/java-cef.git.\r\n\r\nBut this results in the error:\r\n\r\n     -- Downloading clang-format from Google Storage...\r\n     Failed to fetch file gs://chromium-clang-format/66882fadbf9e99cc00b8677d8c1e7e8b3cfdf4fe \r\n     ...\r\n     ModuleNotFoundError: No module named &#39;six.moves&#39;\r\n\r\n\r\nObs. I already tried without success:\r\n\r\n     python.exe -m pip install --upgrade pip\r\n     pip install --ignore-installed six\r\n\r\nAnd also add into download_from_google_storage.py \r\n\r\n    import six\r\n","title":"Chromium Embedded Framework - ModuleNotFoundError: No module named &#39;six.moves&#39;","body":"<p>I'm trying to run CMAKE -G &quot;Visual Studio 17&quot; -A x64 .. as indicated in <a href=\"https://bitbucket.org/chromiumembedded/java-cef.git\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/java-cef.git</a>.</p>\n<p>But this results in the error:</p>\n<pre><code> -- Downloading clang-format from Google Storage...\n Failed to fetch file gs://chromium-clang-format/66882fadbf9e99cc00b8677d8c1e7e8b3cfdf4fe \n ...\n ModuleNotFoundError: No module named 'six.moves'\n</code></pre>\n<p>Obs. I already tried without success:</p>\n<pre><code> python.exe -m pip install --upgrade pip\n pip install --ignore-installed six\n</code></pre>\n<p>And also add into download_from_google_storage.py</p>\n<pre><code>import six\n</code></pre>\n"},{"tags":["java","android","notifications","google-play-services","achievements"],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699096464,"creation_date":1699096464,"question_id":77421782,"body_markdown":"In my Android app, I&#39;m implementing Achievements with the Play Services. I noticed that, although my achievements were correctly unlocked, no default popup was shown to the user when they achieved it. I&#39;ve seen that with v1 of the Play Services implementation, this was fixed with something like this:\r\n\r\n    GamesClient gamesClient = Games.getGamesClient(this, GoogleSignIn.getLastSignedInAccount(this));\r\n    gamesClient.setViewForPopups(act.findViewById(android.R.id.content));\r\n    gamesClient.setGravityForPopups(Gravity.TOP | Gravity.CENTER_HORIZONTAL);\r\n\r\nBut in v2, GamesClient can no longer be recovered like that. So I would like to know how would it be done in v2 or if it&#39;s no longer possible for some reason. Here my version of the library in the Gradle:\r\n\r\n    implementation &quot;com.google.android.gms:play-services-games-v2:19.0.0&quot;","title":"Popup notification for achievements in Play Services v2","body":"<p>In my Android app, I'm implementing Achievements with the Play Services. I noticed that, although my achievements were correctly unlocked, no default popup was shown to the user when they achieved it. I've seen that with v1 of the Play Services implementation, this was fixed with something like this:</p>\n<pre><code>GamesClient gamesClient = Games.getGamesClient(this, GoogleSignIn.getLastSignedInAccount(this));\ngamesClient.setViewForPopups(act.findViewById(android.R.id.content));\ngamesClient.setGravityForPopups(Gravity.TOP | Gravity.CENTER_HORIZONTAL);\n</code></pre>\n<p>But in v2, GamesClient can no longer be recovered like that. So I would like to know how would it be done in v2 or if it's no longer possible for some reason. Here my version of the library in the Gradle:</p>\n<pre><code>implementation &quot;com.google.android.gms:play-services-games-v2:19.0.0&quot;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":91502,"reputation":88291,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1547460143,"post_id":54179216,"comment_id":95186857,"body_markdown":"What happens if you make `Medicamento` an abstract class?","body":"What happens if you make <code>Medicamento</code> an abstract class?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":1,"creation_date":1547461577,"post_id":54179216,"comment_id":95187624,"body_markdown":"Sure, if the automagic repo generation from repo interface is broken for you use case, just create a custom repository.","body":"Sure, if the automagic repo generation from repo interface is broken for you use case, just create a custom repository."},{"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"score":0,"creation_date":1547464241,"post_id":54179216,"comment_id":95189018,"body_markdown":"Is a Spring Boot app, your interface should work just fine without the `findItens` method.","body":"Is a Spring Boot app, your interface should work just fine without the <code>findItens</code> method."}],"answers":[{"tags":[],"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699096093,"creation_date":1547463058,"answer_id":54180058,"question_id":54179216,"body_markdown":"With Spring Data JPA, Spring is responsible for generating the implementation and register it as a Spring managed component. All you have to do is configure it properly by adding `@EnableJpaRepositories` on your Spring configuration class and specifying the package where are your repository interfaces.\r\n\r\nAll the basic methods like `findOne`, `findAll`, `delete`, ... are already provided by the `CrudRepository` interface (and `JpaRepository`), so you don&#39;t need to add them in your interface.\r\n\r\nIf you need to add specific methods, then Spring will generate the implementation based on the name of your method and parameters (like `findByName` where `name` is a field of your entity) or using the `@Query` annotation.\r\n\r\nFor a better understanding of how Spring Data JPA works and all the available features, check their doc : https://docs.spring.io/spring-data/jpa/docs/current/reference/html/","title":"Spring Boot Repository of an interface","body":"<p>With Spring Data JPA, Spring is responsible for generating the implementation and register it as a Spring managed component. All you have to do is configure it properly by adding <code>@EnableJpaRepositories</code> on your Spring configuration class and specifying the package where are your repository interfaces.</p>\n<p>All the basic methods like <code>findOne</code>, <code>findAll</code>, <code>delete</code>, ... are already provided by the <code>CrudRepository</code> interface (and <code>JpaRepository</code>), so you don't need to add them in your interface.</p>\n<p>If you need to add specific methods, then Spring will generate the implementation based on the name of your method and parameters (like <code>findByName</code> where <code>name</code> is a field of your entity) or using the <code>@Query</code> annotation.</p>\n<p>For a better understanding of how Spring Data JPA works and all the available features, check their doc : <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/</a></p>\n"}],"owner":{"account_id":13384069,"reputation":45,"user_id":9658503,"display_name":"Henrique Arantes Tiraboschi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2062,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54180058,"answer_count":1,"score":2,"last_activity_date":1699096093,"creation_date":1547460047,"question_id":54179216,"body_markdown":"Is there any possibility of creating a repository based on an interface in Spring Boot Data?\r\nI made this code, in which Medicamento is an interface that many models implements it, but it didn&#39;t work out:\r\n```\r\npublic interface MedicamentoRepository extends JpaRepository&lt;Medicamento, Long&gt; {\r\n    public &lt;T extends Medicamento&gt; List&lt;Medicamento&gt; findItens(Class&lt;T&gt; type);\r\n}\r\n```\r\nThank you!","title":"Spring Boot Repository of an interface","body":"<p>Is there any possibility of creating a repository based on an interface in Spring Boot Data?\nI made this code, in which Medicamento is an interface that many models implements it, but it didn't work out:</p>\n\n<pre><code>public interface MedicamentoRepository extends JpaRepository&lt;Medicamento, Long&gt; {\n    public &lt;T extends Medicamento&gt; List&lt;Medicamento&gt; findItens(Class&lt;T&gt; type);\n}\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["java","cluster-computing","hazelcast"],"comments":[{"owner":{"account_id":8085695,"reputation":1284,"user_id":6093330,"accept_rate":100,"display_name":"A.K.Desai"},"score":0,"creation_date":1468907713,"post_id":38449721,"comment_id":64305878,"body_markdown":"Are you trying to connect to an already running cluster or adding another member to a cluster? From the code chunk, I see that you are starting a new cluster itself. Unless you have used the exact same configuration to start the node at xxx.xx.xx.x:5701, it will not be able to join that node to form a cluster and instead it will startup its own cluster.","body":"Are you trying to connect to an already running cluster or adding another member to a cluster? From the code chunk, I see that you are starting a new cluster itself. Unless you have used the exact same configuration to start the node at xxx.xx.xx.x:5701, it will not be able to join that node to form a cluster and instead it will startup its own cluster."},{"owner":{"account_id":8085695,"reputation":1284,"user_id":6093330,"accept_rate":100,"display_name":"A.K.Desai"},"score":0,"creation_date":1468907846,"post_id":38449721,"comment_id":64305935,"body_markdown":"If you just intend to start a client then make use of `ClientConfig` &amp; `ClientNetworkConfig` and start using `HazelcastClient.newHazelcastClient(clientConfig)`","body":"If you just intend to start a client then make use of <code>ClientConfig</code> &amp; <code>ClientNetworkConfig</code> and start using <code>HazelcastClient.newHazelcastClient(clientConfig)</code>"}],"answers":[{"tags":[],"owner":{"account_id":335609,"reputation":1622,"user_id":662796,"display_name":"tom.bujok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468915775,"creation_date":1468915775,"answer_id":38452801,"question_id":38449721,"body_markdown":"Your config looks good, but I assume it&#39;s a pseudo-code, since there&#39;s no var-arg method `addMember`. You can invoke the `addMember` method multiple times or use the `setMembers` method to add a couple of members.\r\n\r\nYou didn&#39;t post the config of the first node. You need have identical configs - including the cluster name, and password too (if you have defined them).\r\n\r\nIt can also be a firewall problem still - try doing `telnet xxx.xxxx.xxx.xx 5701` to see if the connection can be opened successfully.","title":"Hazelcast Connection Refused to Address x","body":"<p>Your config looks good, but I assume it's a pseudo-code, since there's no var-arg method <code>addMember</code>. You can invoke the <code>addMember</code> method multiple times or use the <code>setMembers</code> method to add a couple of members.</p>\n\n<p>You didn't post the config of the first node. You need have identical configs - including the cluster name, and password too (if you have defined them).</p>\n\n<p>It can also be a firewall problem still - try doing <code>telnet xxx.xxxx.xxx.xx 5701</code> to see if the connection can be opened successfully.</p>\n"},{"tags":[],"owner":{"account_id":13652,"reputation":5446,"user_id":27563,"accept_rate":86,"display_name":"Vik Gamov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469053709,"creation_date":1469053709,"answer_id":38491906,"question_id":38449721,"body_markdown":"Matt,\r\n\r\nThis is how you can create new client\r\n     \r\n    import com.hazelcast.client.HazelcastClient;\r\n    import com.hazelcast.client.config.ClientConfig;\r\n\r\n    public void HazelcastCacheClient(String mapName, Map cacheMap) {\r\n        \r\n        ClientConfig cfg = new ClientConfig();\r\n        cfg.getNetworkConfig().addAddress(&quot;xxx.xx.xx.x&quot;);\r\n\r\n        HazelcastInstance instance = HazelcastClient.newHazelcastClient(cfg);\r\n\r\n        cacheMap = instance.getMap(mapName);\r\n\r\n    }\r\n\r\nWith API that you use, you just start member on localhost.\r\nYou need to make sure you running Hazelcast member on `xxx.xx.xx.x:5701` (default port).\r\n\r\nThank you","title":"Hazelcast Connection Refused to Address x","body":"<p>Matt,</p>\n\n<p>This is how you can create new client</p>\n\n<pre><code>import com.hazelcast.client.HazelcastClient;\nimport com.hazelcast.client.config.ClientConfig;\n\npublic void HazelcastCacheClient(String mapName, Map cacheMap) {\n\n    ClientConfig cfg = new ClientConfig();\n    cfg.getNetworkConfig().addAddress(\"xxx.xx.xx.x\");\n\n    HazelcastInstance instance = HazelcastClient.newHazelcastClient(cfg);\n\n    cacheMap = instance.getMap(mapName);\n\n}\n</code></pre>\n\n<p>With API that you use, you just start member on localhost.\nYou need to make sure you running Hazelcast member on <code>xxx.xx.xx.x:5701</code> (default port).</p>\n\n<p>Thank you</p>\n"}],"owner":{"account_id":1805472,"reputation":5478,"user_id":1642642,"accept_rate":63,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699096015,"creation_date":1468903344,"question_id":38449721,"body_markdown":"I have a very simple Hazelcast client that I&#39;m using to connect to a clustered instace.  See that I&#39;m connecting to localhost (127.0.0.1) as well as a remote server (xxx.xx.xx.x).\r\n\r\n\tpublic HazelcastCacheClient(String mapName, Map&lt;K,V&gt; cacheMap) {\r\n\t\t\r\n\t\tConfig cfg = new Config();\r\n\t\tNetworkConfig networkConfig = cfg.getNetworkConfig();\r\n\t\tnetworkConfig.setPort(5701);\r\n\t\tnetworkConfig.setPortCount(1);\r\n\t\t\r\n\t\tJoinConfig joinConfig = networkConfig.getJoin();\r\n\t\tjoinConfig.getMulticastConfig().setEnabled(false);\r\n\t\tjoinConfig.getAwsConfig().setEnabled(false);\r\n\t\tjoinConfig.getTcpIpConfig()\r\n\t\t\t\t\t\t.addMember(&quot;127.0.0.1, xxx.xx.xx.x&quot;).setEnabled(true);\r\n\t\t\r\n\t\tHazelcastInstance instance = Hazelcast.newHazelcastInstance(cfg);\r\n\t\t\r\n\t\tMap&lt;String, Integer&gt; map = instance.getMap(mapName);\r\n    }\r\n\r\nI&#39;ve opened ports 5701-5710 on the CentOS server (xxx.xx.xx.x), but am seeing the following in the logs:\r\n\r\n    com.hazelcast.instance.DefaultAddressPicker\r\n    INFO: [LOCAL] [dev] [3.5.5] Resolving domain name &#39;xxx.xx.xx.x&#39; to address(es): [xxx.xx.xx.x]\r\n    com.hazelcast.instance.DefaultAddressPicker\r\n    INFO: [LOCAL] [dev] [3.5.5] Interfaces is disabled, trying to pick one address from TCP-IP config addresses: [xxx.xx.xx.x/xxx.xx.xx.x, 127.0.0.1]\r\n    com.hazelcast.instance.DefaultAddressPicker\r\n    INFO: [LOCAL] [dev] [3.5.5] Picked Address[127.0.0.1]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true\r\n    com.hazelcast.spi.OperationService\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Backpressure is disabled\r\n    com.hazelcast.spi.impl.operationexecutor.classic.ClassicOperationExecutor\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Starting with 4 generic operation threads and 8 partition operation threads.\r\n    com.hazelcast.system\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Hazelcast 3.5.5 (20160122 - 6805b8e) starting at Address[127.0.0.1]:5701\r\n    com.hazelcast.system\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Copyright (c) 2008-2015, Hazelcast, Inc. All Rights Reserved.\r\n     com.hazelcast.instance.Node\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Creating TcpIpJoiner\r\n    com.hazelcast.core.LifecycleService\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5701 is STARTING\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to xxx.xx.xx.x/xxx.xx.xx.x:5701, timeout: 0, bind-any: true\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to xxx.xx.xx.x/xxx.xx.xx.x, timeout: 0, bind-any: true\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to /127.0.0.1:5703, timeout: 0, bind-any: true\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to /127.0.0.1:5702, timeout: 0, bind-any: true\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to xxx.xx.xx.x/xxx.xx.xx.x:5703, timeout: 0, bind-any: true\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: /127.0.0.1:5702. Reason: SocketException[Connection refused to address /127.0.0.1:5702]\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: /127.0.0.1:5703. Reason: SocketException[Connection refused to address /127.0.0.1:5703]\r\n    com.hazelcast.cluster.impl.TcpIpJoiner\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5702 is added to the blacklist.\r\n    com.hazelcast.cluster.impl.TcpIpJoiner\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5703 is added to the blacklist.\r\n    com.hazelcast.nio.tcp.SocketConnector\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: xxx.xx.xx.x/xxx.xx.xx.x:5701. Reason: SocketException[Connection refused to address xxx.xx.xx.x/xxx.xx.xx.x:5701]\r\n    com.hazelcast.cluster.impl.TcpIpJoiner\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[xxx.xx.xx.x]:5701 is added to the blacklist.\r\n    com.hazelcast.cluster.impl.TcpIpJoiner\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] \r\n    \r\n    \r\n    Members [1] {\r\n    \tMember [127.0.0.1]:5701 this\r\n    }\r\n    \r\n    Jul 19, 2016 12:32:45 AM com.hazelcast.core.LifecycleService\r\n    INFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5701 is STARTED\r\n\r\nAs you can see, there&#39;s no trouble connecting to localhost (127.0.0.1), but it cannot connect to the remote server xxx.xx.xx.x.  I&#39;ve enabled the port to be accessed through the firewall on the CentOS server for 5701.\r\n\r\nNote the following line in particular:\r\n***INFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: xxx.xx.xx.x/xxx.xx.xx.x:5701. Reason: SocketException[Connection refused to address xxx.xx.xx.x/xxx.xx.xx.x:5701]***","title":"Hazelcast Connection Refused to Address x","body":"<p>I have a very simple Hazelcast client that I'm using to connect to a clustered instace.  See that I'm connecting to localhost (127.0.0.1) as well as a remote server (xxx.xx.xx.x).</p>\n\n<pre><code>public HazelcastCacheClient(String mapName, Map&lt;K,V&gt; cacheMap) {\n\n    Config cfg = new Config();\n    NetworkConfig networkConfig = cfg.getNetworkConfig();\n    networkConfig.setPort(5701);\n    networkConfig.setPortCount(1);\n\n    JoinConfig joinConfig = networkConfig.getJoin();\n    joinConfig.getMulticastConfig().setEnabled(false);\n    joinConfig.getAwsConfig().setEnabled(false);\n    joinConfig.getTcpIpConfig()\n                    .addMember(\"127.0.0.1, xxx.xx.xx.x\").setEnabled(true);\n\n    HazelcastInstance instance = Hazelcast.newHazelcastInstance(cfg);\n\n    Map&lt;String, Integer&gt; map = instance.getMap(mapName);\n}\n</code></pre>\n\n<p>I've opened ports 5701-5710 on the CentOS server (xxx.xx.xx.x), but am seeing the following in the logs:</p>\n\n<pre><code>com.hazelcast.instance.DefaultAddressPicker\nINFO: [LOCAL] [dev] [3.5.5] Resolving domain name 'xxx.xx.xx.x' to address(es): [xxx.xx.xx.x]\ncom.hazelcast.instance.DefaultAddressPicker\nINFO: [LOCAL] [dev] [3.5.5] Interfaces is disabled, trying to pick one address from TCP-IP config addresses: [xxx.xx.xx.x/xxx.xx.xx.x, 127.0.0.1]\ncom.hazelcast.instance.DefaultAddressPicker\nINFO: [LOCAL] [dev] [3.5.5] Picked Address[127.0.0.1]:5701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=5701], bind any local is true\ncom.hazelcast.spi.OperationService\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Backpressure is disabled\ncom.hazelcast.spi.impl.operationexecutor.classic.ClassicOperationExecutor\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Starting with 4 generic operation threads and 8 partition operation threads.\ncom.hazelcast.system\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Hazelcast 3.5.5 (20160122 - 6805b8e) starting at Address[127.0.0.1]:5701\ncom.hazelcast.system\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Copyright (c) 2008-2015, Hazelcast, Inc. All Rights Reserved.\n com.hazelcast.instance.Node\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Creating TcpIpJoiner\ncom.hazelcast.core.LifecycleService\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5701 is STARTING\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to xxx.xx.xx.x/xxx.xx.xx.x:5701, timeout: 0, bind-any: true\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to xxx.xx.xx.x/xxx.xx.xx.x, timeout: 0, bind-any: true\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to /127.0.0.1:5703, timeout: 0, bind-any: true\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to /127.0.0.1:5702, timeout: 0, bind-any: true\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Connecting to xxx.xx.xx.x/xxx.xx.xx.x:5703, timeout: 0, bind-any: true\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: /127.0.0.1:5702. Reason: SocketException[Connection refused to address /127.0.0.1:5702]\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: /127.0.0.1:5703. Reason: SocketException[Connection refused to address /127.0.0.1:5703]\ncom.hazelcast.cluster.impl.TcpIpJoiner\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5702 is added to the blacklist.\ncom.hazelcast.cluster.impl.TcpIpJoiner\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5703 is added to the blacklist.\ncom.hazelcast.nio.tcp.SocketConnector\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: xxx.xx.xx.x/xxx.xx.xx.x:5701. Reason: SocketException[Connection refused to address xxx.xx.xx.x/xxx.xx.xx.x:5701]\ncom.hazelcast.cluster.impl.TcpIpJoiner\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[xxx.xx.xx.x]:5701 is added to the blacklist.\ncom.hazelcast.cluster.impl.TcpIpJoiner\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] \n\n\nMembers [1] {\n    Member [127.0.0.1]:5701 this\n}\n\nJul 19, 2016 12:32:45 AM com.hazelcast.core.LifecycleService\nINFO: [127.0.0.1]:5701 [dev] [3.5.5] Address[127.0.0.1]:5701 is STARTED\n</code></pre>\n\n<p>As you can see, there's no trouble connecting to localhost (127.0.0.1), but it cannot connect to the remote server xxx.xx.xx.x.  I've enabled the port to be accessed through the firewall on the CentOS server for 5701.</p>\n\n<p>Note the following line in particular:\n<strong><em>INFO: [127.0.0.1]:5701 [dev] [3.5.5] Could not connect to: xxx.xx.xx.x/xxx.xx.xx.x:5701. Reason: SocketException[Connection refused to address xxx.xx.xx.x/xxx.xx.xx.x:5701]</em></strong></p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"display_name":"user4910279"},"score":0,"creation_date":1433239410,"post_id":30592776,"comment_id":49254517,"body_markdown":"Create from database connection like `Clob clob = connection.createClob()`.","body":"Create from database connection like <code>Clob clob = connection.createClob()</code>."},{"owner":{"account_id":6353946,"reputation":171,"user_id":4931972,"accept_rate":29,"display_name":"RSingh"},"score":0,"creation_date":1433244424,"post_id":30592776,"comment_id":49257860,"body_markdown":"@saka1029 not using database connection i want to assign some value to it like we do string eg-string a=&quot;1234&quot;;","body":"@saka1029 not using database connection i want to assign some value to it like we do string eg-string a=&quot;1234&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":6383491,"reputation":35,"user_id":4952099,"display_name":"javapointdotcom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433239467,"creation_date":1433239467,"answer_id":30593033,"question_id":30592776,"body_markdown":"First, initialize the clob value like below an set the value(xml) to it\r\n\r\njava.sql.Clob clobValue = oracle.sql.CLOB.createTemporary(dBconnection, false, oracle.sql.CLOB.DURATION_SESSION);","title":"Assign value to clob variable","body":"<p>First, initialize the clob value like below an set the value(xml) to it</p>\n\n<p>java.sql.Clob clobValue = oracle.sql.CLOB.createTemporary(dBconnection, false, oracle.sql.CLOB.DURATION_SESSION);</p>\n"},{"tags":[],"owner":{"account_id":6383491,"reputation":35,"user_id":4952099,"display_name":"javapointdotcom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433242154,"creation_date":1433239656,"answer_id":30593086,"question_id":30592776,"body_markdown":"You can also try using the simple approach to create the Clob\r\n\r\n    Clob xmlClob = con.createClob();","title":"Assign value to clob variable","body":"<p>You can also try using the simple approach to create the Clob</p>\n\n<pre><code>Clob xmlClob = con.createClob();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433241858,"creation_date":1433239835,"answer_id":30593156,"question_id":30592776,"body_markdown":" Get it from the `connection `object, then set the value in to it.\r\n\r\n    OracleConnection conn;  // initialize this first\r\n\r\n    CLOB clob = conn.CreateClob();\r\n    clob.setString(0, &quot;&lt;test&gt;&lt;/test&gt;&quot;);\r\n\r\nOr, another way to set the value\r\n    \r\n    Clob myClob = null;\r\n    if (rs.next()) { //rs is ResultSet object\r\n          myClob = rs.getClob(1);\r\n          System.out.println(&quot;Length of retrieved Clob: &quot;+myClob.length());\r\n     }","title":"Assign value to clob variable","body":"<p>Get it from the <code>connection</code>object, then set the value in to it.</p>\n\n<pre><code>OracleConnection conn;  // initialize this first\n\nCLOB clob = conn.CreateClob();\nclob.setString(0, \"&lt;test&gt;&lt;/test&gt;\");\n</code></pre>\n\n<p>Or, another way to set the value</p>\n\n<pre><code>Clob myClob = null;\nif (rs.next()) { //rs is ResultSet object\n      myClob = rs.getClob(1);\n      System.out.println(\"Length of retrieved Clob: \"+myClob.length());\n }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433246026,"creation_date":1433246026,"answer_id":30595351,"question_id":30592776,"body_markdown":"Define a class implements java.sql.Clob as:\r\n\r\n    public class MyClob implements java.sql.Clob {\r\n        final String value;\r\n        public MyClob(String value) { this.value = value; }\r\n        @Override public long length() { return value.length(); }\r\n        @Override public String getSubString(long pos, int length) {\r\n            return value.substring((int)pos, (int)pos + length);\r\n        }\r\n        @Override public Reader getCharacterStream() { return new StringReader(value); }\r\n        @Override public InputStream getAsciiStream() { return null; } \r\n        @Override public long position(String searchstr, long start) { return 0; }\r\n        @Override public long position(Clob searchstr, long start) { return 0; }\r\n        @Override public int setString(long pos, String str) { return 0; } \r\n        @Override public int setString(long pos, String str, int offset, int len) { return 0; } \r\n        @Override public OutputStream setAsciiStream(long pos) { return null; } \r\n        @Override public Writer setCharacterStream(long pos) { return null; } \r\n        @Override public void truncate(long len) { } \r\n        @Override public void free() { } \r\n        @Override public Reader getCharacterStream(long pos, long length) { return null; }\r\n\r\n    }\r\n\r\nAnd then\r\n\r\n    Clob clob = new MyClob(&quot;&lt;test&gt;&lt;/test&gt;&quot;);","title":"Assign value to clob variable","body":"<p>Define a class implements java.sql.Clob as:</p>\n\n<pre><code>public class MyClob implements java.sql.Clob {\n    final String value;\n    public MyClob(String value) { this.value = value; }\n    @Override public long length() { return value.length(); }\n    @Override public String getSubString(long pos, int length) {\n        return value.substring((int)pos, (int)pos + length);\n    }\n    @Override public Reader getCharacterStream() { return new StringReader(value); }\n    @Override public InputStream getAsciiStream() { return null; } \n    @Override public long position(String searchstr, long start) { return 0; }\n    @Override public long position(Clob searchstr, long start) { return 0; }\n    @Override public int setString(long pos, String str) { return 0; } \n    @Override public int setString(long pos, String str, int offset, int len) { return 0; } \n    @Override public OutputStream setAsciiStream(long pos) { return null; } \n    @Override public Writer setCharacterStream(long pos) { return null; } \n    @Override public void truncate(long len) { } \n    @Override public void free() { } \n    @Override public Reader getCharacterStream(long pos, long length) { return null; }\n\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>Clob clob = new MyClob(\"&lt;test&gt;&lt;/test&gt;\");\n</code></pre>\n"}],"owner":{"account_id":6353946,"reputation":171,"user_id":4931972,"accept_rate":29,"display_name":"RSingh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1699096015,"creation_date":1433238788,"question_id":30592776,"body_markdown":"Let&#39;s assume there is a variable CLOB response.\r\nHow do i assign some value to this clob variable in java?\r\n\r\nI am doing this:\r\n \r\n    Clob clob=null;\r\n    clob.setString(0, &quot;&lt;test&gt;&lt;/test&gt;&quot;);\r\n\r\nThe second line is showing an error saying clob could be only null here.\r\n\r\nupdate-\r\n \r\n\r\n    ValResponses valResponses=new ValResponses();\r\n    \t\t  valResponses.setVraId(Long.parseLong(&quot;12&quot;));\r\n    \t\t  Clob clob = null;\r\n    \t\t  //clob.setString(1, &quot;&lt;test&gt;&lt;/test&gt;&quot;);\r\n    \t\t  valResponses.setFullResponse(clob);\r\n    \t\t  valResponses.setValReport(fileName);\r\n\r\nSee there is one pojo ValResponses  now this pojo has one variable valresponse having type CLOB,now I want to set some dummy value in that how to do that,?","title":"Assign value to clob variable","body":"<p>Let's assume there is a variable CLOB response.\nHow do i assign some value to this clob variable in java?</p>\n\n<p>I am doing this:</p>\n\n<pre><code>Clob clob=null;\nclob.setString(0, \"&lt;test&gt;&lt;/test&gt;\");\n</code></pre>\n\n<p>The second line is showing an error saying clob could be only null here.</p>\n\n<p>update-</p>\n\n<pre><code>ValResponses valResponses=new ValResponses();\n          valResponses.setVraId(Long.parseLong(\"12\"));\n          Clob clob = null;\n          //clob.setString(1, \"&lt;test&gt;&lt;/test&gt;\");\n          valResponses.setFullResponse(clob);\n          valResponses.setValReport(fileName);\n</code></pre>\n\n<p>See there is one pojo ValResponses  now this pojo has one variable valresponse having type CLOB,now I want to set some dummy value in that how to do that,?</p>\n"},{"tags":["java","selenium-webdriver","automation","webdriver"],"answers":[{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698922052,"creation_date":1698922052,"answer_id":77408948,"question_id":77407586,"body_markdown":"    &gt; 1- To dismiss the Popup use the below code:\r\n    \r\n    Webdriver wait;\r\n         wait.until(ExpectedConditions.alertIsPresent());\r\n    \r\n    \t\t// Storing the alert in variable\r\n    \t\tAlert alert = driver.switchTo().alert();\r\n    \r\n    \t\talert.dismiss();\r\n    \r\n    &gt; 2- To Accept the popup use the below code:\r\n    Webdriver wait;\r\n    Alert alrt = wait.until(ExpectedConditions.alertIsPresent());\r\n    \r\n    \t\t// Sending the data into the alert popup\r\n    \t\talrt.sendKeys(input);\r\n    \r\n    \t\t// press the OK button\r\n    \t\talrt.accept();","title":"Handling window modal pop up in java selenium","body":"<pre><code>&gt; 1- To dismiss the Popup use the below code:\n\nWebdriver wait;\n     wait.until(ExpectedConditions.alertIsPresent());\n\n        // Storing the alert in variable\n        Alert alert = driver.switchTo().alert();\n\n        alert.dismiss();\n\n&gt; 2- To Accept the popup use the below code:\nWebdriver wait;\nAlert alrt = wait.until(ExpectedConditions.alertIsPresent());\n\n        // Sending the data into the alert popup\n        alrt.sendKeys(input);\n\n        // press the OK button\n        alrt.accept();\n</code></pre>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699095744,"creation_date":1698909446,"question_id":77407586,"body_markdown":"I am trying to follow twitter handle of lambdatest website https://www.lambdatest.com/selenium-playground/window-popup-modal-demo the Modal pop is launched successfully but thereafter I am unable to proceed further this is my code `I have tried using driver.switch.to.iframe still same issue also switch to alert is not working here this a a modal popup but in the dic the modal pop up element is not appearing.  \t\r\n\r\n```\r\npackage lambdatest;\r\nimport java.time.Duration;\r\nimport java.util.Set;\r\nimport java.util.Iterator;\r\nimport org.openqa.selenium.interactions.Actions;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.testng.Assert;\r\nimport org.testng.annotations.Test;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;`\r\n\r\npublic class Lambdatestplayground {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// to navigate to the website\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path to chromedriver&quot;);\r\n\t    WebDriver driver = new ChromeDriver();\r\n\t\t\r\n\t\tdriver.get(&quot;https://www.lambdatest.com/selenium-playground/window-popup-modal-demo&quot;);\r\n        driver.manage().window().maximize();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(7));\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/section[3]/div/div/div[1]/div/div[1]/a&quot;)).click();\r\n\t}\r\n}\r\n```","title":"Handling window modal pop up in java selenium","body":"<p>I am trying to follow twitter handle of lambdatest website <a href=\"https://www.lambdatest.com/selenium-playground/window-popup-modal-demo\" rel=\"nofollow noreferrer\">https://www.lambdatest.com/selenium-playground/window-popup-modal-demo</a> the Modal pop is launched successfully but thereafter I am unable to proceed further this is my code `I have tried using driver.switch.to.iframe still same issue also switch to alert is not working here this a a modal popup but in the dic the modal pop up element is not appearing.</p>\n<pre><code>package lambdatest;\nimport java.time.Duration;\nimport java.util.Set;\nimport java.util.Iterator;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;`\n\npublic class Lambdatestplayground {\n\n    public static void main(String[] args) {\n        // to navigate to the website\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path to chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n        \n        driver.get(&quot;https://www.lambdatest.com/selenium-playground/window-popup-modal-demo&quot;);\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(7));\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/section[3]/div/div/div[1]/div/div[1]/a&quot;)).click();\n    }\n}\n</code></pre>\n"},{"tags":["java","html","json","thymeleaf","schema.org"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698648676,"post_id":77374033,"comment_id":136427160,"body_markdown":"Can you tell what dependency are you using for Quack please? I&#39;m in the way of solving this?","body":"Can you tell what dependency are you using for Quack please? I&#39;m in the way of solving this?"},{"owner":{"account_id":12194483,"reputation":1292,"user_id":8900664,"accept_rate":67,"display_name":"Nixen85"},"score":0,"creation_date":1698772675,"post_id":77374033,"comment_id":136447007,"body_markdown":"The only working solution, I found so far is calling the service directly by: `https://mysite.de[[${T(de.my.service.QuackManager).buildUrlPath(quack)}]]`. I think I tried around 1k combinations of characters, I just didn&#39;t find a way to call the method `quackToHref` inside javascript or ld+json respectively.","body":"The only working solution, I found so far is calling the service directly by: <code>https:&#47;&#47;mysite.de[[${T(de.my.service.QuackManager).buildUrlP&zwnj;&#8203;ath(quack)}]]</code>. I think I tried around 1k combinations of characters, I just didn&#39;t find a way to call the method <code>quackToHref</code> inside javascript or ld+json respectively."}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698420682,"creation_date":1698420682,"answer_id":77375396,"question_id":77374033,"body_markdown":"If you want to use attributes in [textual template modes][1], the syntax should look like this:\r\n\r\n    [# xc:quackToHref=&quot;${quack}&quot; /]\r\n\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#textual-syntax","title":"How to call thymeleaf custom dialect in html script","body":"<p>If you want to use attributes in <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#textual-syntax\" rel=\"nofollow noreferrer\">textual template modes</a>, the syntax should look like this:</p>\n<pre><code>[# xc:quackToHref=&quot;${quack}&quot; /]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698597279,"creation_date":1698597279,"answer_id":77384223,"question_id":77374033,"body_markdown":"Try with this \r\n\r\n    &lt;script type=&quot;application/ld+json&quot;&gt;\r\n    \r\n        {\r\n          &quot;@context&quot;: &quot;https://schema.org&quot;,\r\n          &quot;@graph&quot;: [\r\n            {\r\n              &quot;@type&quot;: &quot;Article&quot;,\r\n              &quot;url&quot;: &quot;[[${applicationProperties.frontendBaseUrl}]]${quack}&quot;, \r\n              &quot;isPartOf&quot;: { &quot;@id&quot;: &quot;test&quot; },\r\n              &quot;author&quot;: {\r\n                &quot;name&quot;: &quot;[[${article.nickname}]]&quot;,\r\n                &quot;@id&quot;: &quot;https://example.de/profile/[[${article.authorId}]]&quot;\r\n              }         \r\n            }\r\n          ]\r\n        }\r\n    \r\n       \r\n    \r\n    &lt;/script&gt;\r\n\r\n - Ensure that the applicationProperties.frontendBaseUrl variable is accessible where you are using it in the template.\r\n - Use Thymeleaf Expressions Correctly: Check that you are using Thymeleaf expressions correctly within the template, such as `[[...]]` or `${...}.`\r\n\r\ntry this and let me know if not solved comment here.. \r\n","title":"How to call thymeleaf custom dialect in html script","body":"<p>Try with this</p>\n<pre><code>&lt;script type=&quot;application/ld+json&quot;&gt;\n\n    {\n      &quot;@context&quot;: &quot;https://schema.org&quot;,\n      &quot;@graph&quot;: [\n        {\n          &quot;@type&quot;: &quot;Article&quot;,\n          &quot;url&quot;: &quot;[[${applicationProperties.frontendBaseUrl}]]${quack}&quot;, \n          &quot;isPartOf&quot;: { &quot;@id&quot;: &quot;test&quot; },\n          &quot;author&quot;: {\n            &quot;name&quot;: &quot;[[${article.nickname}]]&quot;,\n            &quot;@id&quot;: &quot;https://example.de/profile/[[${article.authorId}]]&quot;\n          }         \n        }\n      ]\n    }\n\n   \n\n&lt;/script&gt;\n</code></pre>\n<ul>\n<li>Ensure that the applicationProperties.frontendBaseUrl variable is accessible where you are using it in the template.</li>\n<li>Use Thymeleaf Expressions Correctly: Check that you are using Thymeleaf expressions correctly within the template, such as <code>[[...]]</code> or <code>${...}.</code></li>\n</ul>\n<p>try this and let me know if not solved comment here..</p>\n"},{"tags":[],"owner":{"account_id":12825345,"reputation":1,"user_id":9278612,"display_name":"Harsha Kidambi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1699095505,"creation_date":1699095505,"answer_id":77421729,"question_id":77374033,"body_markdown":"To use a custom Thymeleaf dialect in an HTML template, you need to include the dialect in your project, configure it, and then use it in your HTML file. Here are the steps to call a custom Thymeleaf dialect in your HTML script:\r\n\r\n1. Add the custom dialect to your project:\r\n   - First, you need to create a custom Thymeleaf dialect by implementing the `org.thymeleaf.dialect.IDialect` interface. This involves defining your own processors, attributes, or tags that the dialect will handle.\r\n\r\n2. Configure Thymeleaf to use the custom dialect:\r\n   - In your project configuration (e.g., Spring Boot application), you can configure Thymeleaf to include your custom dialect. Here&#39;s an example of how to configure Thymeleaf with a custom dialect in a Spring Boot application&#39;s `application.properties` or `application.yml` file:\r\n\r\n   ```properties\r\n   spring.thymeleaf.mode=HTML\r\n   spring.thymeleaf.cache=false\r\n   spring.thymeleaf.enabled=true\r\n   spring.thymeleaf.prefix=classpath:/templates/\r\n   spring.thymeleaf.suffix=.html\r\n   spring.thymeleaf.encoding=UTF-8\r\n   spring.thymeleaf.servlet.content-type=text/html\r\n   spring.thymeleaf.servlet.cache=true\r\n   spring.thymeleaf.servlet.order=1\r\n   spring.thymeleaf.check-template-location=true\r\n   spring.thymeleaf.template-resolver-order=1\r\n   spring.thymeleaf.cache-names=cache\r\n   spring.thymeleaf.dialects.custom-dialect=your.package.CustomDialect\r\n   ```\r\n\r\n   In this example, you configure the Thymeleaf dialect by specifying the package and class name of your custom dialect.\r\n\r\n3. Use the custom dialect in your HTML templates:\r\n   - In your HTML templates, you can now use the custom dialect&#39;s features. For example, if your custom dialect adds a custom attribute or tag, you can use it as follows:\r\n\r\n   ```html\r\n   &lt;!DOCTYPE html&gt;\r\n   &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n         xmlns:custom=&quot;http://www.example.com/thymeleaf-custom-dialect&quot;&gt;\r\n   &lt;head&gt;\r\n       &lt;title&gt;Custom Dialect Example&lt;/title&gt;\r\n   &lt;/head&gt;\r\n   &lt;body&gt;\r\n       &lt;div custom:yourAttribute=&quot;someValue&quot;&gt;Custom Dialect Attribute&lt;/div&gt;\r\n       &lt;custom:customTag&gt;Custom Dialect Tag&lt;/custom:customTag&gt;\r\n   &lt;/body&gt;\r\n   &lt;/html&gt;\r\n   ```\r\n\r\n   Replace `http://www.example.com/thymeleaf-custom-dialect` with the namespace URI of your custom dialect.\r\n\r\n4. Build and run your application:\r\n   - After configuring and using the custom dialect in your HTML templates, build and run your application. The custom dialect&#39;s functionality will be applied to the Thymeleaf templates during rendering.\r\n\r\nEnsure that your custom dialect is properly implemented and registered in your application for it to work as expected. Also, make sure that you use the correct namespace and syntax in your HTML templates to invoke the custom dialect&#39;s features.","title":"How to call thymeleaf custom dialect in html script","body":"<p>To use a custom Thymeleaf dialect in an HTML template, you need to include the dialect in your project, configure it, and then use it in your HTML file. Here are the steps to call a custom Thymeleaf dialect in your HTML script:</p>\n<ol>\n<li><p>Add the custom dialect to your project:</p>\n<ul>\n<li>First, you need to create a custom Thymeleaf dialect by implementing the <code>org.thymeleaf.dialect.IDialect</code> interface. This involves defining your own processors, attributes, or tags that the dialect will handle.</li>\n</ul>\n</li>\n<li><p>Configure Thymeleaf to use the custom dialect:</p>\n<ul>\n<li>In your project configuration (e.g., Spring Boot application), you can configure Thymeleaf to include your custom dialect. Here's an example of how to configure Thymeleaf with a custom dialect in a Spring Boot application's <code>application.properties</code> or <code>application.yml</code> file:</li>\n</ul>\n<pre><code>spring.thymeleaf.mode=HTML\nspring.thymeleaf.cache=false\nspring.thymeleaf.enabled=true\nspring.thymeleaf.prefix=classpath:/templates/\nspring.thymeleaf.suffix=.html\nspring.thymeleaf.encoding=UTF-8\nspring.thymeleaf.servlet.content-type=text/html\nspring.thymeleaf.servlet.cache=true\nspring.thymeleaf.servlet.order=1\nspring.thymeleaf.check-template-location=true\nspring.thymeleaf.template-resolver-order=1\nspring.thymeleaf.cache-names=cache\nspring.thymeleaf.dialects.custom-dialect=your.package.CustomDialect\n</code></pre>\n<p>In this example, you configure the Thymeleaf dialect by specifying the package and class name of your custom dialect.</p>\n</li>\n<li><p>Use the custom dialect in your HTML templates:</p>\n<ul>\n<li>In your HTML templates, you can now use the custom dialect's features. For example, if your custom dialect adds a custom attribute or tag, you can use it as follows:</li>\n</ul>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:custom=&quot;http://www.example.com/thymeleaf-custom-dialect&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Custom Dialect Example&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div custom:yourAttribute=&quot;someValue&quot;&gt;Custom Dialect Attribute&lt;/div&gt;\n    &lt;custom:customTag&gt;Custom Dialect Tag&lt;/custom:customTag&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Replace <code>http://www.example.com/thymeleaf-custom-dialect</code> with the namespace URI of your custom dialect.</p>\n</li>\n<li><p>Build and run your application:</p>\n<ul>\n<li>After configuring and using the custom dialect in your HTML templates, build and run your application. The custom dialect's functionality will be applied to the Thymeleaf templates during rendering.</li>\n</ul>\n</li>\n</ol>\n<p>Ensure that your custom dialect is properly implemented and registered in your application for it to work as expected. Also, make sure that you use the correct namespace and syntax in your HTML templates to invoke the custom dialect's features.</p>\n"}],"owner":{"account_id":12194483,"reputation":1292,"user_id":8900664,"accept_rate":67,"display_name":"Nixen85"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699095505,"creation_date":1698408610,"question_id":77374033,"body_markdown":"So basically I try to build a dynamic schema with ld+json by using thymeleaf. To retrieve the url for the corresponding page we set up a custom processor with:\r\n\r\n    public class QuackUrlAttributeTagProcessor extends AbstractAttributeTagProcessor {\r\n        private static final String ATTR_NAME = &quot;quackToHref&quot;;\r\n        private static final int PRECEDENCE = 10000;\r\n\r\n        @Autowired\r\n        private ApplicationPropertyAccess applicationProperties;\r\n    \r\n        /**\r\n         * Constructs a new processor.\r\n         *\r\n         * @param dialectPrefix the prefix to use if not the standard defined by the dialect\r\n         */\r\n        public QuackUrlAttributeTagProcessor(final String dialectPrefix) {\r\n            super(\r\n                TemplateMode.HTML, // This processor will apply only to HTML mode\r\n                dialectPrefix,     // Prefix to be applied to name for matching\r\n                null,              // No tag name: match any tag name\r\n                false,             // No prefix to be applied to tag name\r\n                ATTR_NAME,         // Name of the attribute that will be matched\r\n                true,              // Apply dialect prefix to attribute name\r\n                PRECEDENCE,        // Precedence (inside dialect&#39;s precedence)\r\n                true);             // Remove the matched attribute afterwards\r\n        }\r\n    \r\n        /**\r\n         * Performs the actual task of the processor. This will use quack data to construct an Url path.\r\n         */\r\n        @Override\r\n        protected void doProcess(final ITemplateContext context, final IProcessableElementTag tag,\r\n                final AttributeName attributeName, final String attributeValue,\r\n                final IElementTagStructureHandler structureHandler) {\r\n            IEngineConfiguration configuration = context.getConfiguration();\r\n            IStandardExpressionParser parser = StandardExpressions.getExpressionParser(configuration);\r\n            IStandardExpression expression = parser.parseExpression(context, attributeValue);\r\n    \r\n            Quack quack = (Quack)expression.execute(context);\r\n            String url = QuackManager.buildUrlPath(quack);\r\n    \r\n            structureHandler.setAttribute(&quot;href&quot;, applicationProperties.getFrontendBaseUrl() + url);\r\n        }\r\n    }\r\ncustom dialect:\r\n\r\n    public class XContDialect extends AbstractProcessorDialect implements ApplicationContextAware {\r\n        private ApplicationContext applicationContext;\r\n    \r\n        /**\r\n         * Constructor that will define the name of the Dialect.\r\n         */\r\n        public XConDialect() {\r\n            super(&quot;XConsult Dialect&quot;, &quot;xc&quot;, 1000);\r\n        }\r\n    \r\n        /**\r\n         * Initialise the dialect&#39;s processors.\r\n         *\r\n         * Note the dialect prefix is passed here because, although &quot;xc&quot; is set to be the dialect&#39;s prefix in the\r\n         * constructor, that only works as a default, and at engine configuration time the user might have chosen\r\n         * a different prefix to be used.\r\n         */\r\n        public Set&lt;IProcessor&gt; getProcessors(final String dialectPrefix) {\r\n            final Set&lt;IProcessor&gt; processors = new HashSet&lt;IProcessor&gt;();\r\n    \r\n            QuackUrlAttributeTagProcessor processor = new QuackUrlAttributeTagProcessor(dialectPrefix);\r\n            AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\r\n            factory.autowireBean(processor);\r\n    \r\n            processors.add(processor);\r\n            return processors;\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    }\r\n\r\nwith this I can add attributes in the html template as follows:\r\n\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:xc=&quot;http://www.example.de&quot;&gt;\r\n\r\n     &lt;link rel=&quot;canonical&quot; xc:quackToHref=&quot;${quack}&quot; /&gt;\r\n\r\nwhich sets the href-attribute correctly. Now the ld+json script looks as follows:\r\n\r\n    &lt;script type=&quot;application/ld+json&quot;&gt;\r\n    \r\n        /*&lt;![CDATA[*/\r\n    \r\n        {\r\n          &quot;@context&quot;: &quot;https://schema.org&quot;,\r\n          &quot;@graph&quot;: [\r\n            {\r\n              &quot;@type&quot;: &quot;Article&quot;,\r\n              &quot;url&quot;: &quot;[[xc:quackToHref=&quot;${quack}&quot;]]&quot;,\r\n              &quot;isPartOf&quot;: { &quot;@id&quot;: &quot;test&quot; },\r\n              &quot;author&quot;: {\r\n                &quot;name&quot;: &quot;[[${article.nickname}]]&quot;,\r\n                &quot;@id&quot;: &quot;https://example.de/profile/[[${article.authorId}]]&quot;\r\n              },          \r\n            },\r\n           \r\n            ]\r\n          }\r\n    \r\n        /*]]&gt;*/\r\n    \r\n      &lt;/script&gt;\r\n\r\nWhat throws the error:\r\n\r\n    Caused by: org.attoparser.ParseException: Could not parse as expression: &quot;xc:quackToHref=&quot;${quack}&quot; (template: &quot;articlequack&quot; - line 38, col 22)\r\n\r\nApparently, it is not possible to call the custom processor inside the script. Does anyone know how to get the url inside CDATA?\r\n","title":"How to call thymeleaf custom dialect in html script","body":"<p>So basically I try to build a dynamic schema with ld+json by using thymeleaf. To retrieve the url for the corresponding page we set up a custom processor with:</p>\n<pre><code>public class QuackUrlAttributeTagProcessor extends AbstractAttributeTagProcessor {\n    private static final String ATTR_NAME = &quot;quackToHref&quot;;\n    private static final int PRECEDENCE = 10000;\n\n    @Autowired\n    private ApplicationPropertyAccess applicationProperties;\n\n    /**\n     * Constructs a new processor.\n     *\n     * @param dialectPrefix the prefix to use if not the standard defined by the dialect\n     */\n    public QuackUrlAttributeTagProcessor(final String dialectPrefix) {\n        super(\n            TemplateMode.HTML, // This processor will apply only to HTML mode\n            dialectPrefix,     // Prefix to be applied to name for matching\n            null,              // No tag name: match any tag name\n            false,             // No prefix to be applied to tag name\n            ATTR_NAME,         // Name of the attribute that will be matched\n            true,              // Apply dialect prefix to attribute name\n            PRECEDENCE,        // Precedence (inside dialect's precedence)\n            true);             // Remove the matched attribute afterwards\n    }\n\n    /**\n     * Performs the actual task of the processor. This will use quack data to construct an Url path.\n     */\n    @Override\n    protected void doProcess(final ITemplateContext context, final IProcessableElementTag tag,\n            final AttributeName attributeName, final String attributeValue,\n            final IElementTagStructureHandler structureHandler) {\n        IEngineConfiguration configuration = context.getConfiguration();\n        IStandardExpressionParser parser = StandardExpressions.getExpressionParser(configuration);\n        IStandardExpression expression = parser.parseExpression(context, attributeValue);\n\n        Quack quack = (Quack)expression.execute(context);\n        String url = QuackManager.buildUrlPath(quack);\n\n        structureHandler.setAttribute(&quot;href&quot;, applicationProperties.getFrontendBaseUrl() + url);\n    }\n}\n</code></pre>\n<p>custom dialect:</p>\n<pre><code>public class XContDialect extends AbstractProcessorDialect implements ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n    /**\n     * Constructor that will define the name of the Dialect.\n     */\n    public XConDialect() {\n        super(&quot;XConsult Dialect&quot;, &quot;xc&quot;, 1000);\n    }\n\n    /**\n     * Initialise the dialect's processors.\n     *\n     * Note the dialect prefix is passed here because, although &quot;xc&quot; is set to be the dialect's prefix in the\n     * constructor, that only works as a default, and at engine configuration time the user might have chosen\n     * a different prefix to be used.\n     */\n    public Set&lt;IProcessor&gt; getProcessors(final String dialectPrefix) {\n        final Set&lt;IProcessor&gt; processors = new HashSet&lt;IProcessor&gt;();\n\n        QuackUrlAttributeTagProcessor processor = new QuackUrlAttributeTagProcessor(dialectPrefix);\n        AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\n        factory.autowireBean(processor);\n\n        processors.add(processor);\n        return processors;\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n<p>with this I can add attributes in the html template as follows:</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:xc=&quot;http://www.example.de&quot;&gt;\n\n &lt;link rel=&quot;canonical&quot; xc:quackToHref=&quot;${quack}&quot; /&gt;\n</code></pre>\n<p>which sets the href-attribute correctly. Now the ld+json script looks as follows:</p>\n<pre><code>&lt;script type=&quot;application/ld+json&quot;&gt;\n\n    /*&lt;![CDATA[*/\n\n    {\n      &quot;@context&quot;: &quot;https://schema.org&quot;,\n      &quot;@graph&quot;: [\n        {\n          &quot;@type&quot;: &quot;Article&quot;,\n          &quot;url&quot;: &quot;[[xc:quackToHref=&quot;${quack}&quot;]]&quot;,\n          &quot;isPartOf&quot;: { &quot;@id&quot;: &quot;test&quot; },\n          &quot;author&quot;: {\n            &quot;name&quot;: &quot;[[${article.nickname}]]&quot;,\n            &quot;@id&quot;: &quot;https://example.de/profile/[[${article.authorId}]]&quot;\n          },          \n        },\n       \n        ]\n      }\n\n    /*]]&gt;*/\n\n  &lt;/script&gt;\n</code></pre>\n<p>What throws the error:</p>\n<pre><code>Caused by: org.attoparser.ParseException: Could not parse as expression: &quot;xc:quackToHref=&quot;${quack}&quot; (template: &quot;articlequack&quot; - line 38, col 22)\n</code></pre>\n<p>Apparently, it is not possible to call the custom processor inside the script. Does anyone know how to get the url inside CDATA?</p>\n"},{"tags":["java","android","kotlin","border"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1699105184,"post_id":77421599,"comment_id":136490877,"body_markdown":"You dont want your ImageView to go outside the LinearLayout? You have reference to it : objectconteiner, so take its position x,y, width and height, and update actualX and actualY before calling setX and setY.","body":"You dont want your ImageView to go outside the LinearLayout? You have reference to it : objectconteiner, so take its position x,y, width and height, and update actualX and actualY before calling setX and setY."},{"owner":{"account_id":29598448,"reputation":3,"user_id":22684480,"display_name":"doker797"},"score":0,"creation_date":1699122415,"post_id":77421599,"comment_id":136492701,"body_markdown":"without any conditions this too, but the biggest problem is creating borders for two or more added views, the function itself draws a view when a button is pressed, when adding 2 or more views and dragging them, you can allow one to overlap another surface, how to get rid of from this ?","body":"without any conditions this too, but the biggest problem is creating borders for two or more added views, the function itself draws a view when a button is pressed, when adding 2 or more views and dragging them, you can allow one to overlap another surface, how to get rid of from this ?"},{"owner":{"account_id":29598448,"reputation":3,"user_id":22684480,"display_name":"doker797"},"score":0,"creation_date":1699122649,"post_id":77421599,"comment_id":136492739,"body_markdown":"As I understand it, I will need to create a function that counts all the boundaries of other elements and compares them with the boundaries of the one being moved, creating a loop of iterating through already added objects (since there is no limit on adding), but perhaps there is a simpler method that I don’t know about?","body":"As I understand it, I will need to create a function that counts all the boundaries of other elements and compares them with the boundaries of the one being moved, creating a loop of iterating through already added objects (since there is no limit on adding), but perhaps there is a simpler method that I don’t know about?"}],"owner":{"account_id":29598448,"reputation":3,"user_id":22684480,"display_name":"doker797"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699093020,"creation_date":1699093020,"question_id":77421599,"body_markdown":"I add View objects programmatically and then have the ability to change their X and Y by dragging them across the Layout,but they have a problem where one object can go beyond the boundaries of another. I need it to rest against another view and not go beyond it. How to do it?\r\nhere is my code:\r\n\r\n```\r\n    private fun drawobject(context: Context?) {\r\n        val r: Resources = getResources()\r\n        val px = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_MM, 100F,\r\n            r.getDisplayMetrics()).toInt() // Convert mm to px\r\n        val objectconteiner: LinearLayout = requireView().findViewById(R.id.progressBar_container)\r\n        var ViewLayoutParams: ViewGroup.LayoutParams = ViewGroup.LayoutParams(\r\n            100, 20)\r\n        var imageView:View = View(context)\r\n        imageView.setLayoutParams(ViewLayoutParams)\r\n        imageView.setBackgroundColor(Color.RED)\r\n        var initialX:Float? = null\r\n        var initialY:Float? = null\r\n        var initialTouchX:Float? = null\r\n        var initialTouchY:Float? = null\r\n\r\n        imageView.setOnTouchListener { v, event -&gt;\r\n\r\n            when (event.action) {\r\n                MotionEvent.ACTION_DOWN -&gt; {\r\n                    initialX = event!!.getX()\r\n                    initialY = event!!.getY()\r\n                    imageView.setBackgroundColor(Color.BLACK)\r\n                    //Log.e(&quot;211&quot;, &quot;$initialX&quot;)\r\n\r\n                }\r\n\r\n                MotionEvent.ACTION_MOVE -&gt; {\r\n                    binding.Hsc.setSwipeable(false) //ban on scrollview movement\r\n                    binding.Vsc.setSwipeable(false) \r\n                    initialTouchX = (event!!.getX() - initialX!!)\r\n                    initialTouchY = (event!!.getY() - initialY!!)\r\n\r\n                    var actualX = imageView.x + initialTouchX!!\r\n                    var actualY = imageView.y + initialTouchY!!\r\n                    imageView.setX(actualX!!)\r\n                    imageView.setY(actualY!!)\r\n                    //Log.e(&quot;2&quot;, &quot;$px&quot;)\r\n                    //Log.e(&quot;2&quot;, &quot;$actualX&quot;) \r\n                }\r\n\r\n                MotionEvent.ACTION_UP -&gt; {\r\n                    //Log.e(&quot;2&quot;, &quot;gh&quot;)\r\n                    binding.Hsc.setSwipeable(true)\r\n                    binding.Vsc.setSwipeable(true)\r\n                }\r\n\r\n            }\r\n            true\r\n\r\n            }\r\n\r\n        imageView.setBackgroundColor(Color.RED)\r\n        objectconteiner.addView(imageView)\r\n\r\n    }\r\n```\r\n\r\nThe view is loaded in LinearLayout, XMl:\r\n\r\n```   \r\n   &lt;LinearLayout\r\n       android:orientation=&quot;horizontal&quot;\r\n       android:id=&quot;@+id/progressBar_container&quot;\r\n       android:layout_width=&quot;100mm&quot;\r\n       android:layout_height=&quot;100sp&quot;\r\n       android:layout_marginTop=&quot;100sp&quot;\r\n       android:layout_marginLeft=&quot;100sp&quot;\r\n       android:background=&quot;@color/back&quot;&gt;\r\n   &lt;/LinearLayout&gt;\r\n```\r\n\r\nAs I understand it, you need to set a limit when setX,Y but how to get the X and Y boundaries of another object. I write in Kotlin but I also understand java, if you know how to solve this question, answer java or kotlin.","title":"how to create barriers between dynamically added and modified views","body":"<p>I add View objects programmatically and then have the ability to change their X and Y by dragging them across the Layout,but they have a problem where one object can go beyond the boundaries of another. I need it to rest against another view and not go beyond it. How to do it?\nhere is my code:</p>\n<pre><code>    private fun drawobject(context: Context?) {\n        val r: Resources = getResources()\n        val px = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_MM, 100F,\n            r.getDisplayMetrics()).toInt() // Convert mm to px\n        val objectconteiner: LinearLayout = requireView().findViewById(R.id.progressBar_container)\n        var ViewLayoutParams: ViewGroup.LayoutParams = ViewGroup.LayoutParams(\n            100, 20)\n        var imageView:View = View(context)\n        imageView.setLayoutParams(ViewLayoutParams)\n        imageView.setBackgroundColor(Color.RED)\n        var initialX:Float? = null\n        var initialY:Float? = null\n        var initialTouchX:Float? = null\n        var initialTouchY:Float? = null\n\n        imageView.setOnTouchListener { v, event -&gt;\n\n            when (event.action) {\n                MotionEvent.ACTION_DOWN -&gt; {\n                    initialX = event!!.getX()\n                    initialY = event!!.getY()\n                    imageView.setBackgroundColor(Color.BLACK)\n                    //Log.e(&quot;211&quot;, &quot;$initialX&quot;)\n\n                }\n\n                MotionEvent.ACTION_MOVE -&gt; {\n                    binding.Hsc.setSwipeable(false) //ban on scrollview movement\n                    binding.Vsc.setSwipeable(false) \n                    initialTouchX = (event!!.getX() - initialX!!)\n                    initialTouchY = (event!!.getY() - initialY!!)\n\n                    var actualX = imageView.x + initialTouchX!!\n                    var actualY = imageView.y + initialTouchY!!\n                    imageView.setX(actualX!!)\n                    imageView.setY(actualY!!)\n                    //Log.e(&quot;2&quot;, &quot;$px&quot;)\n                    //Log.e(&quot;2&quot;, &quot;$actualX&quot;) \n                }\n\n                MotionEvent.ACTION_UP -&gt; {\n                    //Log.e(&quot;2&quot;, &quot;gh&quot;)\n                    binding.Hsc.setSwipeable(true)\n                    binding.Vsc.setSwipeable(true)\n                }\n\n            }\n            true\n\n            }\n\n        imageView.setBackgroundColor(Color.RED)\n        objectconteiner.addView(imageView)\n\n    }\n</code></pre>\n<p>The view is loaded in LinearLayout, XMl:</p>\n<pre><code>   &lt;LinearLayout\n       android:orientation=&quot;horizontal&quot;\n       android:id=&quot;@+id/progressBar_container&quot;\n       android:layout_width=&quot;100mm&quot;\n       android:layout_height=&quot;100sp&quot;\n       android:layout_marginTop=&quot;100sp&quot;\n       android:layout_marginLeft=&quot;100sp&quot;\n       android:background=&quot;@color/back&quot;&gt;\n   &lt;/LinearLayout&gt;\n</code></pre>\n<p>As I understand it, you need to set a limit when setX,Y but how to get the X and Y boundaries of another object. I write in Kotlin but I also understand java, if you know how to solve this question, answer java or kotlin.</p>\n"},{"tags":["java","amazon-ec2","java-8"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1699071629,"post_id":77418759,"comment_id":136488570,"body_markdown":"1) Kafka supports Java 17. Please don&#39;t use 8 2) Use Amazon MSK and Kafka is automatically configured for you as a hosted service","body":"1) Kafka supports Java 17. Please don&#39;t use 8 2) Use Amazon MSK and Kafka is automatically configured for you as a hosted service"}],"answers":[{"tags":[],"owner":{"account_id":28713457,"reputation":54,"user_id":21988535,"display_name":"Anurag Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699091935,"creation_date":1699034134,"answer_id":77418777,"question_id":77418759,"body_markdown":"The error message `Unable to find a match: java-1.8.0-openjdk` means that the `yum` package manager cannot find the `java-1.8.0-openjdk` package in the repositories. This can happen if the package is not available in the repositories, or if the repositories are not configured correctly.\r\n\r\nTo fix this error, you can try the following:\r\n\r\n1. Make sure that the repositories are configured correctly. You can do this by running the following command:\r\n\r\n```\r\nsudo yum repolist\r\n```\r\n\r\nThis will list all of the repositories that are configured on your EC2 instance. Make sure that the repository that contains the `java-1.8.0-openjdk` package is listed.\r\n\r\n2. If the repository is listed, try updating the repositories:\r\n\r\n```\r\nsudo yum update\r\n```\r\n\r\nThis will update the package manager&#39;s knowledge of the repositories.\r\n\r\n3. If the package is still not found, you can try installing it manually. You can download the `java-1.8.0-openjdk` RPM package from the Oracle website. Once you have downloaded the RPM package, you can install it using the following command:\r\n\r\n```\r\nsudo yum localinstall java-1.8.0-openjdk-*.rpm\r\n```\r\n\r\nOnce the `java-1.8.0-openjdk` package is installed, you should be able to run the `java -version` command without any errors.\r\n\r\nHere are some additional tips for installing Java on EC2:\r\n\r\n* You can also use the Amazon Corretto distribution of OpenJDK, which is available in the Amazon Linux repositories. To install Corretto, run the following command:\r\n\r\n```\r\nsudo yum install java-11-amazon-corretto-11.0.5+10-1.amzn2.x86_64\r\n```\r\n\r\n","title":"How do I install Java in an ec2 instance?","body":"<p>The error message <code>Unable to find a match: java-1.8.0-openjdk</code> means that the <code>yum</code> package manager cannot find the <code>java-1.8.0-openjdk</code> package in the repositories. This can happen if the package is not available in the repositories, or if the repositories are not configured correctly.</p>\n<p>To fix this error, you can try the following:</p>\n<ol>\n<li>Make sure that the repositories are configured correctly. You can do this by running the following command:</li>\n</ol>\n<pre><code>sudo yum repolist\n</code></pre>\n<p>This will list all of the repositories that are configured on your EC2 instance. Make sure that the repository that contains the <code>java-1.8.0-openjdk</code> package is listed.</p>\n<ol start=\"2\">\n<li>If the repository is listed, try updating the repositories:</li>\n</ol>\n<pre><code>sudo yum update\n</code></pre>\n<p>This will update the package manager's knowledge of the repositories.</p>\n<ol start=\"3\">\n<li>If the package is still not found, you can try installing it manually. You can download the <code>java-1.8.0-openjdk</code> RPM package from the Oracle website. Once you have downloaded the RPM package, you can install it using the following command:</li>\n</ol>\n<pre><code>sudo yum localinstall java-1.8.0-openjdk-*.rpm\n</code></pre>\n<p>Once the <code>java-1.8.0-openjdk</code> package is installed, you should be able to run the <code>java -version</code> command without any errors.</p>\n<p>Here are some additional tips for installing Java on EC2:</p>\n<ul>\n<li>You can also use the Amazon Corretto distribution of OpenJDK, which is available in the Amazon Linux repositories. To install Corretto, run the following command:</li>\n</ul>\n<pre><code>sudo yum install java-11-amazon-corretto-11.0.5+10-1.amzn2.x86_64\n</code></pre>\n"}],"owner":{"account_id":24662373,"reputation":11,"user_id":18558454,"display_name":"Karan Manoharan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699091935,"creation_date":1699033900,"question_id":77418759,"body_markdown":"    java -version\r\n    sudo yum install java-1.8.0-openjdk\r\n\r\nI am using this command but I get the error\r\n\r\n    Last metadata expiration check: 0:52:13 ago on Fri Nov  3 16:57:25 2023.\r\n    No match for argument: java-1.8.0-openjdk\r\n    Error: Unable to find a match: java-1.8.0-openjdk\r\n\r\nI am doing a kafka project on ec2 .\r\n\r\n\r\n","title":"How do I install Java in an ec2 instance?","body":"<pre><code>java -version\nsudo yum install java-1.8.0-openjdk\n</code></pre>\n<p>I am using this command but I get the error</p>\n<pre><code>Last metadata expiration check: 0:52:13 ago on Fri Nov  3 16:57:25 2023.\nNo match for argument: java-1.8.0-openjdk\nError: Unable to find a match: java-1.8.0-openjdk\n</code></pre>\n<p>I am doing a kafka project on ec2 .</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1699083157,"post_id":77421114,"comment_id":136489097,"body_markdown":"When you use raw types, all checks go out the window. The compiler will give you plenty of warnings about it. It&#39;s 2023, there&#39;s no reason to use raw types any more.","body":"When you use raw types, all checks go out the window. The compiler will give you plenty of warnings about it. It&#39;s 2023, there&#39;s no reason to use raw types any more."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699124457,"post_id":77421114,"comment_id":136492934,"body_markdown":"I strongly recommend that you cease using `var` as a variable name, since [it is a keyword in the Java language](https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-LocalVariableDeclaration) now.","body":"I strongly recommend that you cease using <code>var</code> as a variable name, since <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-LocalVariableDeclaration\" rel=\"nofollow noreferrer\">it is a keyword in the Java language</a> now."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699091824,"creation_date":1699091824,"answer_id":77421535,"question_id":77421114,"body_markdown":"In java, &#39;raw mode&#39; is infectious. Any expression is either &#39;raw&#39; or it is not, and if its raw, __all parts of it are__, even in this case, where you have 2 essentially unrelated aspects (the `&lt;E&gt;` of your `&lt;E&gt; print(Collection&lt;E&gt;)` method, and the `&lt;T&gt;` on the class).\r\n\r\nHere, `gRaw.print(list)` is a raw expression because `gRaw` is raw and raw infects the entire expression you use it in. That makes `print` raw, and thus javac acts as if print reads: `void(Collection c)`, with the generics binding to its lowest bound (Object). Which makes that list call compilable (even if it is obviously going to result in ClassCastExceptions at runtime).\r\n\r\nThe solution? Simple. When the compiler tells you via a warning that raw mode is being applied, __stop__. If you must dip into raw mode, insulate it from the rest of the code base as much as you can in helper methods, and `@SuppressWarnings` now.","title":"Java Generics: Behavior of parameterized methods in a parameterized class","body":"<p>In java, 'raw mode' is infectious. Any expression is either 'raw' or it is not, and if its raw, <strong>all parts of it are</strong>, even in this case, where you have 2 essentially unrelated aspects (the <code>&lt;E&gt;</code> of your <code>&lt;E&gt; print(Collection&lt;E&gt;)</code> method, and the <code>&lt;T&gt;</code> on the class).</p>\n<p>Here, <code>gRaw.print(list)</code> is a raw expression because <code>gRaw</code> is raw and raw infects the entire expression you use it in. That makes <code>print</code> raw, and thus javac acts as if print reads: <code>void(Collection c)</code>, with the generics binding to its lowest bound (Object). Which makes that list call compilable (even if it is obviously going to result in ClassCastExceptions at runtime).</p>\n<p>The solution? Simple. When the compiler tells you via a warning that raw mode is being applied, <strong>stop</strong>. If you must dip into raw mode, insulate it from the rest of the code base as much as you can in helper methods, and <code>@SuppressWarnings</code> now.</p>\n"}],"owner":{"account_id":13134034,"reputation":41,"user_id":9487697,"display_name":"clipper1995"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699091824,"creation_date":1699082637,"question_id":77421114,"body_markdown":"How is this behavior of parameterized methods in a parameterized class explained in runtime? \r\nI couldn&#39;t find a better explanation for this behavior in the documentation.\r\nWhy is the second method launched at runtime in the second case?\r\n```\r\nclass SomeGenClass&lt;T&gt; {\r\n\r\n    T var;\r\n\r\n    public T getVar() {\r\n        return var;\r\n    }\r\n\r\n    public void setVar(T var) {\r\n        this.var = var;\r\n    }\r\n\r\n    public SomeGenClass(T var) {\r\n        this.var = var;\r\n    }\r\n\r\n    public &lt;E&gt; void print(Collection&lt;E&gt; collection) {\r\n        System.out.print(var.toString());\r\n        for (E e : collection) {\r\n            System.out.print(e);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public void print(List&lt;Integer&gt; list) {\r\n        System.out.println(var.toString());\r\n        for (Integer i : list) {\r\n            System.out.print(i);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n}\r\npublic class main {\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;));\r\n\r\n        SomeGenClass&lt;?&gt; gen = new SomeGenClass(&quot;1&quot;);\r\n        gen.print(list); // Output: 1 a\r\n\r\n        SomeGenClass gRaw = new SomeGenClass(&quot;2&quot;);\r\n        gRaw.print(list); // Output: 2   + ClassCastException\r\n\r\n    }\r\n}\r\n```","title":"Java Generics: Behavior of parameterized methods in a parameterized class","body":"<p>How is this behavior of parameterized methods in a parameterized class explained in runtime?\nI couldn't find a better explanation for this behavior in the documentation.\nWhy is the second method launched at runtime in the second case?</p>\n<pre><code>class SomeGenClass&lt;T&gt; {\n\n    T var;\n\n    public T getVar() {\n        return var;\n    }\n\n    public void setVar(T var) {\n        this.var = var;\n    }\n\n    public SomeGenClass(T var) {\n        this.var = var;\n    }\n\n    public &lt;E&gt; void print(Collection&lt;E&gt; collection) {\n        System.out.print(var.toString());\n        for (E e : collection) {\n            System.out.print(e);\n        }\n        System.out.println();\n    }\n\n    public void print(List&lt;Integer&gt; list) {\n        System.out.println(var.toString());\n        for (Integer i : list) {\n            System.out.print(i);\n        }\n        System.out.println();\n    }\n\n}\npublic class main {\n    public static void main(String[] args) {\n\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;));\n\n        SomeGenClass&lt;?&gt; gen = new SomeGenClass(&quot;1&quot;);\n        gen.print(list); // Output: 1 a\n\n        SomeGenClass gRaw = new SomeGenClass(&quot;2&quot;);\n        gRaw.print(list); // Output: 2   + ClassCastException\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12488095,"reputation":1057,"user_id":9090647,"display_name":"Bilal Naeem"},"score":1,"creation_date":1699097273,"post_id":77421526,"comment_id":136490159,"body_markdown":"Can you share your code so that we can help identify what might be the problem","body":"Can you share your code so that we can help identify what might be the problem"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699268094,"post_id":77421526,"comment_id":136505762,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29824345,"reputation":1,"user_id":22856721,"display_name":"Emirhan Arıkan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699091704,"creation_date":1699091704,"question_id":77421526,"body_markdown":"I was making a bottom menu for my application, but I had a problem with the switch case codes, so I made my codes if else.  The problem is gone, but when I click on the menus at the bottom, the screen I want does not open.\r\n\r\nI created a menu at the bottom for my application and wanted it to switch to different screens when I click on the menus, but when I click on the menus, it stays on the same screen.","title":"When I click on different menus in the bottom menu, a new page does not open","body":"<p>I was making a bottom menu for my application, but I had a problem with the switch case codes, so I made my codes if else.  The problem is gone, but when I click on the menus at the bottom, the screen I want does not open.</p>\n<p>I created a menu at the bottom for my application and wanted it to switch to different screens when I click on the menus, but when I click on the menus, it stays on the same screen.</p>\n"},{"tags":["javascript","java","minecraft","minecraft-forge"],"owner":{"account_id":16935156,"reputation":1,"user_id":22114775,"display_name":"How do i...."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699091318,"creation_date":1699091318,"question_id":77421504,"body_markdown":"Here is the code I have currently:\r\n\r\n`ModConfiguredFeatures.java:`\r\n\r\n```java\r\npackage net.KaiHallow.magicalcraft.worldgen;\r\n\r\nimport net.KaiHallow.magicalcraft.block.ModBlocks;\r\nimport net.minecraft.core.registries.Registries;\r\nimport net.minecraft.data.worldgen.BootstapContext;\r\nimport net.minecraft.resources.ResourceKey;\r\nimport net.minecraft.resources.ResourceLocation;\r\nimport net.minecraft.tags.BlockTags;\r\nimport net.minecraft.world.level.levelgen.feature.ConfiguredFeature;\r\nimport net.minecraft.world.level.levelgen.feature.Feature;\r\nimport net.minecraft.world.level.levelgen.feature.configurations.FeatureConfiguration;\r\nimport net.minecraft.world.level.levelgen.feature.configurations.OreConfiguration;\r\nimport net.minecraft.world.level.levelgen.structure.templatesystem.RuleTest;\r\nimport net.minecraft.world.level.levelgen.structure.templatesystem.TagMatchTest;\r\n\r\nimport java.util.List;\r\n\r\n//This is just to be able to use the variable in a way that keeps the code cleaner and less confusing\r\nimport static net.KaiHallow.magicalcraft.MagicalCraft.MOD_ID;\r\n\r\npublic class ModConfiguredFeatures\r\n{\r\n    public static final ResourceKey&lt;ConfiguredFeature&lt;?,?&gt;&gt; LIGHTNING_CRYSTAL_ORE = registerKey(&quot;lightning_crystal_ore&quot;);\r\n    public static final ResourceKey&lt;ConfiguredFeature&lt;?,?&gt;&gt; DEEPSLATE_LIGHTNING_CRYSTAL_ORE = registerKey(&quot;deepslate_lightning_crystal_ore&quot;);\r\n\r\n    public static ResourceKey&lt;ConfiguredFeature&lt;?,?&gt;&gt; registerKey(String name)\r\n    {\r\n        return ResourceKey.create(Registries.CONFIGURED_FEATURE, new ResourceLocation(MOD_ID, name));\r\n    }\r\n\r\n    public static void bootstrap(BootstapContext&lt;ConfiguredFeature&lt;?, ?&gt;&gt; context)\r\n    {\r\n        RuleTest stonereplaceables = new TagMatchTest(BlockTags.STONE_ORE_REPLACEABLES);\r\n        RuleTest deepslatereplaceables = new TagMatchTest(BlockTags.DEEPSLATE_ORE_REPLACEABLES);\r\n        register(context, LIGHTNING_CRYSTAL_ORE, Feature.ORE, new OreConfiguration(stonereplaceables, ModBlocks.LIGHTNING_CRYSTAL_ORE.get().defaultBlockState(), 8, 0.2F));\r\n        register(context, DEEPSLATE_LIGHTNING_CRYSTAL_ORE, Feature.ORE, new OreConfiguration(deepslatereplaceables, ModBlocks.DEEPSLATE_LIGHTNING_CRYSTAL_ORE.get().defaultBlockState(), 8, 0.5F));\r\n    }\r\n\r\n    public static &lt;FC extends FeatureConfiguration, F extends Feature&lt;FC&gt;&gt; void register(BootstapContext&lt;ConfiguredFeature&lt;?, ?&gt;&gt; context,\r\n                                                                                         ResourceKey&lt;ConfiguredFeature&lt;?, ?&gt;&gt; key, F feature, FC config) {\r\n        context.register(key, new ConfiguredFeature&lt;&gt;(feature, config));\r\n    }\r\n}\r\n```\r\n\r\n`ModPlacementFeatures.java:`\r\n\r\n```java\r\npackage net.KaiHallow.magicalcraft.worldgen;\r\n\r\nimport net.minecraft.core.Holder;\r\nimport net.minecraft.core.HolderGetter;\r\nimport net.minecraft.core.registries.Registries;\r\nimport net.minecraft.data.worldgen.BootstapContext;\r\nimport net.minecraft.resources.ResourceKey;\r\nimport net.minecraft.resources.ResourceLocation;\r\nimport net.minecraft.world.level.levelgen.VerticalAnchor;\r\nimport net.minecraft.world.level.levelgen.feature.ConfiguredFeature;\r\nimport net.minecraft.world.level.levelgen.placement.*;\r\n\r\nimport java.util.List;\r\n\r\nimport static net.KaiHallow.magicalcraft.MagicalCraft.MOD_ID;\r\n\r\npublic class ModPlacementFeatures\r\n{\r\n    public static final ResourceKey&lt;PlacedFeature&gt; LIGHTNING_CRYSTAL_ORE_UPPER = registerKey(&quot;lightning_crystal_ore_upper&quot;);\r\n    public static final ResourceKey&lt;PlacedFeature&gt; LIGHTNING_CRYSTAL_ORE_MIDDLE = registerKey(&quot;lightning_crystal_ore_middle&quot;);\r\n    public static final ResourceKey&lt;PlacedFeature&gt; LIGHTNING_CRYSTAL_ORE_LOWER = registerKey(&quot;lightning_crystal_ore_lower&quot;);\r\n\r\n    private static List&lt;PlacementModifier&gt; orePlacement(PlacementModifier count, PlacementModifier heightRange) {\r\n        return List.of(count, InSquarePlacement.spread(), heightRange, BiomeFilter.biome());\r\n    }\r\n\r\n    private static List&lt;PlacementModifier&gt; commonOrePlacement(int pCount, PlacementModifier pHeightRange) {\r\n        return orePlacement(CountPlacement.of(pCount), pHeightRange);\r\n    }\r\n\r\n    private static List&lt;PlacementModifier&gt; rareOrePlacement(int pChance, PlacementModifier pHeightRange) {\r\n        return orePlacement(RarityFilter.onAverageOnceEvery(pChance), pHeightRange);\r\n    }\r\n\r\n    public static void bootstrap(BootstapContext&lt;PlacedFeature&gt; context)\r\n    {\r\n        HolderGetter&lt;ConfiguredFeature&lt;?,?&gt;&gt; holderGetter = context.lookup(Registries.CONFIGURED_FEATURE);\r\n\r\n        register(context, LIGHTNING_CRYSTAL_ORE_UPPER, holderGetter.getOrThrow(ModConfiguredFeatures.LIGHTNING_CRYSTAL_ORE), commonOrePlacement(90, HeightRangePlacement.triangle(VerticalAnchor.absolute(150), VerticalAnchor.absolute(319))));\r\n        register(context, LIGHTNING_CRYSTAL_ORE_MIDDLE, holderGetter.getOrThrow(ModConfiguredFeatures.LIGHTNING_CRYSTAL_ORE), commonOrePlacement(40, HeightRangePlacement.triangle(VerticalAnchor.absolute(0), VerticalAnchor.absolute(150))));\r\n        register(context, LIGHTNING_CRYSTAL_ORE_LOWER, holderGetter.getOrThrow(ModConfiguredFeatures.DEEPSLATE_LIGHTNING_CRYSTAL_ORE), commonOrePlacement(15, HeightRangePlacement.triangle(VerticalAnchor.absolute(-63), VerticalAnchor.absolute(-1))));\r\n    }\r\n\r\n    public static ResourceKey&lt;PlacedFeature&gt; registerKey(String name)\r\n    {\r\n        return ResourceKey.create(Registries.PLACED_FEATURE, new ResourceLocation(MOD_ID, name));\r\n    }\r\n\r\n    public static void register(BootstapContext&lt;PlacedFeature&gt; context, ResourceKey&lt;PlacedFeature&gt; key, Holder&lt;ConfiguredFeature&lt;?, ?&gt;&gt; configuredFeature, List&lt;PlacementModifier&gt; placements) {\r\n        context.register(key, new PlacedFeature(configuredFeature, List.copyOf(placements)));\r\n    }\r\n\r\n    public static void register(BootstapContext&lt;PlacedFeature&gt; context, ResourceKey&lt;PlacedFeature&gt; key, Holder&lt;ConfiguredFeature&lt;?, ?&gt;&gt; configuredFeatures, PlacementModifier... placements) {\r\n        register(context, key, configuredFeatures, List.of(placements));\r\n    }\r\n}\r\n```\r\n\r\n`ModWorldGenerator.java`\r\n\r\n```java\r\npackage net.KaiHallow.magicalcraft.datagen;\r\n\r\nimport net.KaiHallow.magicalcraft.worldgen. ModConfiguredFeatures;\r\nimport net.KaiHallow.magicalcraft.worldgen. ModPlacementFeatures;\r\nimport net.minecraft.core.HolderLookup;\r\nimport net.minecraft.core.RegistrySetBuilder;\r\nimport net.minecraft.core.registries.Registries;\r\nimport net.minecraft.data.PackOutput;\r\nimport net.minecraftforge.common.data.DatapackBuiltinEntriesProvider;\r\n\r\nimport java.util.Set;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\nimport static net.KaiHallow.magicalcraft.MagicalCraft.MOD_ID;\r\n\r\npublic class ModWorldGenerator extends DatapackBuiltinEntriesProvider\r\n{\r\n    public static final RegistrySetBuilder BUILDER = new RegistrySetBuilder()\r\n            .add(Registries.CONFIGURED_FEATURE, ModConfiguredFeatures::bootstrap)\r\n            .add(Registries.PLACED_FEATURE, ModPlacementFeatures::bootstrap);\r\n    public ModWorldGenerator(PackOutput output, CompletableFuture&lt;HolderLookup.Provider&gt; registries) {\r\n        super(output, registries, BUILDER, Set.of(MOD_ID));\r\n    }\r\n}\r\n```\r\n\r\nMy problem is while it creates the json files, everything with said json files being as they should be, the ore refuses to generate, however just in case there is something wrong in them here they are:\r\n\r\n`worldgen &gt; configured_feature &gt; lightning_crystal_ore.json`\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;minecraft:ore&quot;,\r\n  &quot;config&quot;: {\r\n    &quot;discard_chance_on_air_exposure&quot;: 0.2,\r\n    &quot;size&quot;: 8,\r\n    &quot;targets&quot;: [\r\n      {\r\n        &quot;state&quot;: {\r\n          &quot;Name&quot;: &quot;magicalcraft:lightning_crystal_ore&quot;\r\n        },\r\n        &quot;target&quot;: {\r\n          &quot;predicate_type&quot;: &quot;minecraft:tag_match&quot;,\r\n          &quot;tag&quot;: &quot;minecraft:stone_ore_replaceables&quot;\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n`worldgen &gt; configured_feature &gt;  deepslate_lightning_crystal_ore.json`\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;minecraft:ore&quot;,\r\n  &quot;config&quot;: {\r\n    &quot;discard_chance_on_air_exposure&quot;: 0.5,\r\n    &quot;size&quot;: 8,\r\n    &quot;targets&quot;: [\r\n      {\r\n        &quot;state&quot;: {\r\n          &quot;Name&quot;: &quot;magicalcraft:deepslate_lightning_crystal_ore&quot;\r\n        },\r\n        &quot;target&quot;: {\r\n          &quot;predicate_type&quot;: &quot;minecraft:tag_match&quot;,\r\n          &quot;tag&quot;: &quot;minecraft:deepslate_ore_replaceables&quot;\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n`worldgen &gt; placed_feature &gt; lightning_crystal_ore_upper.json`\r\n\r\n```json\r\n{\r\n  &quot;feature&quot;: &quot;magicalcraft:lightning_crystal_ore&quot;,\r\n  &quot;placement&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:count&quot;,\r\n      &quot;count&quot;: 90\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:in_square&quot;\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:height_range&quot;,\r\n      &quot;height&quot;: {\r\n        &quot;type&quot;: &quot;minecraft:trapezoid&quot;,\r\n        &quot;max_inclusive&quot;: {\r\n          &quot;absolute&quot;: 319\r\n        },\r\n        &quot;min_inclusive&quot;: {\r\n          &quot;absolute&quot;: 150\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:biome&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n`worldgen &gt; placed_feature &gt; lightning_crystal_ore_middle.json`\r\n```json\r\n{\r\n  &quot;feature&quot;: &quot;magicalcraft:lightning_crystal_ore&quot;,\r\n  &quot;placement&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:count&quot;,\r\n      &quot;count&quot;: 40\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:in_square&quot;\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:height_range&quot;,\r\n      &quot;height&quot;: {\r\n        &quot;type&quot;: &quot;minecraft:trapezoid&quot;,\r\n        &quot;max_inclusive&quot;: {\r\n          &quot;absolute&quot;: 150\r\n        },\r\n        &quot;min_inclusive&quot;: {\r\n          &quot;absolute&quot;: 0\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:biome&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n`worldgen &gt; placed_feature &gt; lightning_crystal_ore_lower.json`\r\n\r\n```json\r\n{\r\n  &quot;feature&quot;: &quot;magicalcraft:deepslate_lightning_crystal_ore&quot;,\r\n  &quot;placement&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:count&quot;,\r\n      &quot;count&quot;: 15\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:in_square&quot;\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:height_range&quot;,\r\n      &quot;height&quot;: {\r\n        &quot;type&quot;: &quot;minecraft:trapezoid&quot;,\r\n        &quot;max_inclusive&quot;: {\r\n          &quot;absolute&quot;: -1\r\n        },\r\n        &quot;min_inclusive&quot;: {\r\n          &quot;absolute&quot;: -63\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;minecraft:biome&quot;\r\n    }\r\n  ]\r\n} \r\n```\r\n\r\ncan someone tell me what is wrong, why it won&#39;t generate? (Note: I have the blocks registered and tags, models, and blockstates made for them and everything, I followed a tutorial for all that) I&#39;ve looked everywhere but I cannot seem to find a solution, there are no errors, game boots up just fine without a hitch, and the ore just will not generate.\r\n\r\nI&#39;ve tried this, I&#39;ve tried messing with the registration where the blocks get registered, I&#39;ve tried messing with the tags, and nothing. As the question states, this was supposed to make my custom ore generate in the world but it won&#39;t generate, it exists in the creative inventory and can be placed and destroyed, but it won&#39;t generate.","title":"Why isn&#39;t my ore generator generating ore [Minecraft 1.20]","body":"<p>Here is the code I have currently:</p>\n<p><code>ModConfiguredFeatures.java:</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.KaiHallow.magicalcraft.worldgen;\n\nimport net.KaiHallow.magicalcraft.block.ModBlocks;\nimport net.minecraft.core.registries.Registries;\nimport net.minecraft.data.worldgen.BootstapContext;\nimport net.minecraft.resources.ResourceKey;\nimport net.minecraft.resources.ResourceLocation;\nimport net.minecraft.tags.BlockTags;\nimport net.minecraft.world.level.levelgen.feature.ConfiguredFeature;\nimport net.minecraft.world.level.levelgen.feature.Feature;\nimport net.minecraft.world.level.levelgen.feature.configurations.FeatureConfiguration;\nimport net.minecraft.world.level.levelgen.feature.configurations.OreConfiguration;\nimport net.minecraft.world.level.levelgen.structure.templatesystem.RuleTest;\nimport net.minecraft.world.level.levelgen.structure.templatesystem.TagMatchTest;\n\nimport java.util.List;\n\n//This is just to be able to use the variable in a way that keeps the code cleaner and less confusing\nimport static net.KaiHallow.magicalcraft.MagicalCraft.MOD_ID;\n\npublic class ModConfiguredFeatures\n{\n    public static final ResourceKey&lt;ConfiguredFeature&lt;?,?&gt;&gt; LIGHTNING_CRYSTAL_ORE = registerKey(&quot;lightning_crystal_ore&quot;);\n    public static final ResourceKey&lt;ConfiguredFeature&lt;?,?&gt;&gt; DEEPSLATE_LIGHTNING_CRYSTAL_ORE = registerKey(&quot;deepslate_lightning_crystal_ore&quot;);\n\n    public static ResourceKey&lt;ConfiguredFeature&lt;?,?&gt;&gt; registerKey(String name)\n    {\n        return ResourceKey.create(Registries.CONFIGURED_FEATURE, new ResourceLocation(MOD_ID, name));\n    }\n\n    public static void bootstrap(BootstapContext&lt;ConfiguredFeature&lt;?, ?&gt;&gt; context)\n    {\n        RuleTest stonereplaceables = new TagMatchTest(BlockTags.STONE_ORE_REPLACEABLES);\n        RuleTest deepslatereplaceables = new TagMatchTest(BlockTags.DEEPSLATE_ORE_REPLACEABLES);\n        register(context, LIGHTNING_CRYSTAL_ORE, Feature.ORE, new OreConfiguration(stonereplaceables, ModBlocks.LIGHTNING_CRYSTAL_ORE.get().defaultBlockState(), 8, 0.2F));\n        register(context, DEEPSLATE_LIGHTNING_CRYSTAL_ORE, Feature.ORE, new OreConfiguration(deepslatereplaceables, ModBlocks.DEEPSLATE_LIGHTNING_CRYSTAL_ORE.get().defaultBlockState(), 8, 0.5F));\n    }\n\n    public static &lt;FC extends FeatureConfiguration, F extends Feature&lt;FC&gt;&gt; void register(BootstapContext&lt;ConfiguredFeature&lt;?, ?&gt;&gt; context,\n                                                                                         ResourceKey&lt;ConfiguredFeature&lt;?, ?&gt;&gt; key, F feature, FC config) {\n        context.register(key, new ConfiguredFeature&lt;&gt;(feature, config));\n    }\n}\n</code></pre>\n<p><code>ModPlacementFeatures.java:</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.KaiHallow.magicalcraft.worldgen;\n\nimport net.minecraft.core.Holder;\nimport net.minecraft.core.HolderGetter;\nimport net.minecraft.core.registries.Registries;\nimport net.minecraft.data.worldgen.BootstapContext;\nimport net.minecraft.resources.ResourceKey;\nimport net.minecraft.resources.ResourceLocation;\nimport net.minecraft.world.level.levelgen.VerticalAnchor;\nimport net.minecraft.world.level.levelgen.feature.ConfiguredFeature;\nimport net.minecraft.world.level.levelgen.placement.*;\n\nimport java.util.List;\n\nimport static net.KaiHallow.magicalcraft.MagicalCraft.MOD_ID;\n\npublic class ModPlacementFeatures\n{\n    public static final ResourceKey&lt;PlacedFeature&gt; LIGHTNING_CRYSTAL_ORE_UPPER = registerKey(&quot;lightning_crystal_ore_upper&quot;);\n    public static final ResourceKey&lt;PlacedFeature&gt; LIGHTNING_CRYSTAL_ORE_MIDDLE = registerKey(&quot;lightning_crystal_ore_middle&quot;);\n    public static final ResourceKey&lt;PlacedFeature&gt; LIGHTNING_CRYSTAL_ORE_LOWER = registerKey(&quot;lightning_crystal_ore_lower&quot;);\n\n    private static List&lt;PlacementModifier&gt; orePlacement(PlacementModifier count, PlacementModifier heightRange) {\n        return List.of(count, InSquarePlacement.spread(), heightRange, BiomeFilter.biome());\n    }\n\n    private static List&lt;PlacementModifier&gt; commonOrePlacement(int pCount, PlacementModifier pHeightRange) {\n        return orePlacement(CountPlacement.of(pCount), pHeightRange);\n    }\n\n    private static List&lt;PlacementModifier&gt; rareOrePlacement(int pChance, PlacementModifier pHeightRange) {\n        return orePlacement(RarityFilter.onAverageOnceEvery(pChance), pHeightRange);\n    }\n\n    public static void bootstrap(BootstapContext&lt;PlacedFeature&gt; context)\n    {\n        HolderGetter&lt;ConfiguredFeature&lt;?,?&gt;&gt; holderGetter = context.lookup(Registries.CONFIGURED_FEATURE);\n\n        register(context, LIGHTNING_CRYSTAL_ORE_UPPER, holderGetter.getOrThrow(ModConfiguredFeatures.LIGHTNING_CRYSTAL_ORE), commonOrePlacement(90, HeightRangePlacement.triangle(VerticalAnchor.absolute(150), VerticalAnchor.absolute(319))));\n        register(context, LIGHTNING_CRYSTAL_ORE_MIDDLE, holderGetter.getOrThrow(ModConfiguredFeatures.LIGHTNING_CRYSTAL_ORE), commonOrePlacement(40, HeightRangePlacement.triangle(VerticalAnchor.absolute(0), VerticalAnchor.absolute(150))));\n        register(context, LIGHTNING_CRYSTAL_ORE_LOWER, holderGetter.getOrThrow(ModConfiguredFeatures.DEEPSLATE_LIGHTNING_CRYSTAL_ORE), commonOrePlacement(15, HeightRangePlacement.triangle(VerticalAnchor.absolute(-63), VerticalAnchor.absolute(-1))));\n    }\n\n    public static ResourceKey&lt;PlacedFeature&gt; registerKey(String name)\n    {\n        return ResourceKey.create(Registries.PLACED_FEATURE, new ResourceLocation(MOD_ID, name));\n    }\n\n    public static void register(BootstapContext&lt;PlacedFeature&gt; context, ResourceKey&lt;PlacedFeature&gt; key, Holder&lt;ConfiguredFeature&lt;?, ?&gt;&gt; configuredFeature, List&lt;PlacementModifier&gt; placements) {\n        context.register(key, new PlacedFeature(configuredFeature, List.copyOf(placements)));\n    }\n\n    public static void register(BootstapContext&lt;PlacedFeature&gt; context, ResourceKey&lt;PlacedFeature&gt; key, Holder&lt;ConfiguredFeature&lt;?, ?&gt;&gt; configuredFeatures, PlacementModifier... placements) {\n        register(context, key, configuredFeatures, List.of(placements));\n    }\n}\n</code></pre>\n<p><code>ModWorldGenerator.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.KaiHallow.magicalcraft.datagen;\n\nimport net.KaiHallow.magicalcraft.worldgen. ModConfiguredFeatures;\nimport net.KaiHallow.magicalcraft.worldgen. ModPlacementFeatures;\nimport net.minecraft.core.HolderLookup;\nimport net.minecraft.core.RegistrySetBuilder;\nimport net.minecraft.core.registries.Registries;\nimport net.minecraft.data.PackOutput;\nimport net.minecraftforge.common.data.DatapackBuiltinEntriesProvider;\n\nimport java.util.Set;\nimport java.util.concurrent.CompletableFuture;\n\nimport static net.KaiHallow.magicalcraft.MagicalCraft.MOD_ID;\n\npublic class ModWorldGenerator extends DatapackBuiltinEntriesProvider\n{\n    public static final RegistrySetBuilder BUILDER = new RegistrySetBuilder()\n            .add(Registries.CONFIGURED_FEATURE, ModConfiguredFeatures::bootstrap)\n            .add(Registries.PLACED_FEATURE, ModPlacementFeatures::bootstrap);\n    public ModWorldGenerator(PackOutput output, CompletableFuture&lt;HolderLookup.Provider&gt; registries) {\n        super(output, registries, BUILDER, Set.of(MOD_ID));\n    }\n}\n</code></pre>\n<p>My problem is while it creates the json files, everything with said json files being as they should be, the ore refuses to generate, however just in case there is something wrong in them here they are:</p>\n<p><code>worldgen &gt; configured_feature &gt; lightning_crystal_ore.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;minecraft:ore&quot;,\n  &quot;config&quot;: {\n    &quot;discard_chance_on_air_exposure&quot;: 0.2,\n    &quot;size&quot;: 8,\n    &quot;targets&quot;: [\n      {\n        &quot;state&quot;: {\n          &quot;Name&quot;: &quot;magicalcraft:lightning_crystal_ore&quot;\n        },\n        &quot;target&quot;: {\n          &quot;predicate_type&quot;: &quot;minecraft:tag_match&quot;,\n          &quot;tag&quot;: &quot;minecraft:stone_ore_replaceables&quot;\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n<p><code>worldgen &gt; configured_feature &gt;  deepslate_lightning_crystal_ore.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;minecraft:ore&quot;,\n  &quot;config&quot;: {\n    &quot;discard_chance_on_air_exposure&quot;: 0.5,\n    &quot;size&quot;: 8,\n    &quot;targets&quot;: [\n      {\n        &quot;state&quot;: {\n          &quot;Name&quot;: &quot;magicalcraft:deepslate_lightning_crystal_ore&quot;\n        },\n        &quot;target&quot;: {\n          &quot;predicate_type&quot;: &quot;minecraft:tag_match&quot;,\n          &quot;tag&quot;: &quot;minecraft:deepslate_ore_replaceables&quot;\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n<p><code>worldgen &gt; placed_feature &gt; lightning_crystal_ore_upper.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;feature&quot;: &quot;magicalcraft:lightning_crystal_ore&quot;,\n  &quot;placement&quot;: [\n    {\n      &quot;type&quot;: &quot;minecraft:count&quot;,\n      &quot;count&quot;: 90\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:in_square&quot;\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:height_range&quot;,\n      &quot;height&quot;: {\n        &quot;type&quot;: &quot;minecraft:trapezoid&quot;,\n        &quot;max_inclusive&quot;: {\n          &quot;absolute&quot;: 319\n        },\n        &quot;min_inclusive&quot;: {\n          &quot;absolute&quot;: 150\n        }\n      }\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:biome&quot;\n    }\n  ]\n}\n</code></pre>\n<p><code>worldgen &gt; placed_feature &gt; lightning_crystal_ore_middle.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;feature&quot;: &quot;magicalcraft:lightning_crystal_ore&quot;,\n  &quot;placement&quot;: [\n    {\n      &quot;type&quot;: &quot;minecraft:count&quot;,\n      &quot;count&quot;: 40\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:in_square&quot;\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:height_range&quot;,\n      &quot;height&quot;: {\n        &quot;type&quot;: &quot;minecraft:trapezoid&quot;,\n        &quot;max_inclusive&quot;: {\n          &quot;absolute&quot;: 150\n        },\n        &quot;min_inclusive&quot;: {\n          &quot;absolute&quot;: 0\n        }\n      }\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:biome&quot;\n    }\n  ]\n}\n</code></pre>\n<p><code>worldgen &gt; placed_feature &gt; lightning_crystal_ore_lower.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;feature&quot;: &quot;magicalcraft:deepslate_lightning_crystal_ore&quot;,\n  &quot;placement&quot;: [\n    {\n      &quot;type&quot;: &quot;minecraft:count&quot;,\n      &quot;count&quot;: 15\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:in_square&quot;\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:height_range&quot;,\n      &quot;height&quot;: {\n        &quot;type&quot;: &quot;minecraft:trapezoid&quot;,\n        &quot;max_inclusive&quot;: {\n          &quot;absolute&quot;: -1\n        },\n        &quot;min_inclusive&quot;: {\n          &quot;absolute&quot;: -63\n        }\n      }\n    },\n    {\n      &quot;type&quot;: &quot;minecraft:biome&quot;\n    }\n  ]\n} \n</code></pre>\n<p>can someone tell me what is wrong, why it won't generate? (Note: I have the blocks registered and tags, models, and blockstates made for them and everything, I followed a tutorial for all that) I've looked everywhere but I cannot seem to find a solution, there are no errors, game boots up just fine without a hitch, and the ore just will not generate.</p>\n<p>I've tried this, I've tried messing with the registration where the blocks get registered, I've tried messing with the tags, and nothing. As the question states, this was supposed to make my custom ore generate in the world but it won't generate, it exists in the creative inventory and can be placed and destroyed, but it won't generate.</p>\n"},{"tags":["java","ssl","websocket"],"comments":[{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699093634,"post_id":77421472,"comment_id":136489834,"body_markdown":"@nikita-rybak you had a similar issue years ago, can you help me on this plesae?","body":"@nikita-rybak you had a similar issue years ago, can you help me on this plesae?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1699106456,"post_id":77421472,"comment_id":136491015,"body_markdown":"Did you include the new X3 certificate into the `cacerts` store in Java? The trust path should end with a certificate that you explicitly trust after all. You should probably  upgrade your Java as a default `cacerts` is part of the distribution.","body":"Did you include the new X3 certificate into the <code>cacerts</code> store in Java? The trust path should end with a certificate that you explicitly trust after all. You should probably  upgrade your Java as a default <code>cacerts</code> is part of the distribution."},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699170798,"post_id":77421472,"comment_id":136495926,"body_markdown":"@MaartenBodewes just tried `sourceCompatibility = 1.8` and 1.11 but the error is the same (in both buile.gradle:core and build.gradle:desktop)","body":"@MaartenBodewes just tried <code>sourceCompatibility = 1.8</code> and 1.11 but the error is the same (in both buile.gradle:core and build.gradle:desktop)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1699189927,"post_id":77421472,"comment_id":136497619,"body_markdown":"Yeah, `sourcecompatibility` is not going to add a certificate to the cert store.","body":"Yeah, <code>sourcecompatibility</code> is not going to add a certificate to the cert store."}],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699090825,"creation_date":1699090825,"question_id":77421472,"body_markdown":"I&#39;m implementing a websocket server to which connect some clients via websocket.\r\n\r\nIt works well via browser but not from java code.\r\n\r\nFrom java, on Linux pc, this line:\r\n\r\n    WebSocket socket = WebSockets.newSocket(WebSockets.toSecureWebSocketUrl(&quot;myDomain&quot;, 8080));\r\n\r\nthrows this error:\r\n\r\n&gt; Failed to send an opening handshake request to the server: PKIX path\r\n&gt; building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n\r\nI know that client side the websocket host and port are ok because when I try it while the websocket server is not active, the error message is correctly &quot;connection refused&quot;.\r\n\r\nAfter reading on web I found that the certificate generated by certbot is the version DST Root CA X3, that [expired on sept 2021][1].\r\n\r\nMaybe the java error is related to that old version, because of its deprecation and then it throw that error?\r\n\r\nI need, at runtime (also when the App will be downloaded from Play Store) that the App trusts my ssl certificate even if its version is DST Root CA X3 or every other format released by Let&#39;s Encrypt, without the need to release a new App version every time the certificate is renewed on the server.\r\n\r\nI already tried to renew the certificate on the server with certbot but it still uses the DST Root CA X3 version for the new one.\r\n\r\nHere is my Java client code (I&#39;m using the libGDX framework with Java on Android Studio):\r\n\r\n    package ...textwebsockets;\r\n    \r\n    import com.badlogic.gdx.ApplicationAdapter;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    import com.github.czyzby.websocket.WebSocket;\r\n    import com.github.czyzby.websocket.WebSocketListener;\r\n    import com.github.czyzby.websocket.WebSockets;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.security.cert.X509Certificate;\r\n    import javax.security.auth.x500.X500Principal;\r\n    \r\n    public class TestWebSockets extends ApplicationAdapter {\r\n    \tpublic final String LOG_TAG = &quot;LOG_TestWebSockets&quot;;\r\n    \r\n    \tSpriteBatch batch;\r\n    \tTexture img;\r\n    \r\n    \t@Override\r\n    \tpublic void create () {\r\n    \t\tbatch = new SpriteBatch();\r\n    \t\timg = new Texture(&quot;badlogic.jpg&quot;);\r\n    \t\t\r\n    \t\t// https://github.com/MrStahlfelge/gdx-websockets/tree/master\r\n    \t\tWebSocket socket = WebSockets.newSocket(WebSockets.toSecureWebSocketUrl(&quot;myDomain&quot;, 8080));\r\n    \t\tsocket.setSendGracefully(true);\r\n    \t\tsocket.addListener(new WebSocketListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onOpen(WebSocket webSocket) { ... }\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onClose(WebSocket webSocket, int closeCode, String reason) { ... }\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onMessage(WebSocket webSocket, String packet) { ... }\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onMessage(WebSocket webSocket, byte[] packet) { ... }\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean onError(WebSocket webSocket, Throwable error) {\r\n    \t\t\t\tGdx.app.log(LOG_TAG, &quot;onError: &quot; + error.getCause().getMessage() + &quot;; &quot; + error.getMessage());\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\tsocket.connect();\r\n    \t}\r\n    \r\n    \t...\r\n    }\r\n\r\n\r\nServer side code (node.js on a DigitalOcean VPS Droplet with Linux):\r\n\r\n    &#39;use strict&#39;;\r\n    \r\n    const express = require(&#39;express&#39;);\r\n    const path = require(&#39;path&#39;);\r\n    const https = require(&#39;https&#39;);\r\n    const fs = require(&#39;fs&#39;);\r\n    const WebSocket = require(&#39;ws&#39;);\r\n    \r\n    const app = express();\r\n    app.use(express.static(path.join(__dirname, &#39;/public&#39;)));\r\n    \r\n    const server = https.createServer({\r\n        key: fs.readFileSync(&#39;./privkey.pem&#39;),\r\n        cert: fs.readFileSync(&#39;./cert.pem&#39;)\r\n    }, app);\r\n    const wss = new WebSocket.Server({server: server});\r\n    \r\n    wss.on(&#39;connection&#39;, function (ws) { ... });\r\n    \r\n    server.listen(8080, function () {\r\n        console.log(&#39;Listening on 8080&#39;);\r\n    });\r\n\r\n    ... // various wss.on* methods\r\n\r\nI start the server with `npm start`.\r\n\r\nThe website code:\r\n\r\n    &lt;script&gt;\r\n        const wss = new WebSocket(&#39;wss://myDomain:8080&#39;);\r\n        ... // various wss.on* methods\r\n    &lt;/script&gt;\r\n\r\nIn the browser network console a 101 line appears and receives the server messages. (I also send messages to the server but I removed that code here because not relevant for this post).\r\n\r\nI already read many SO answers but almost all of them suggest to manually use a .pem file.\r\n\r\nI tested the ssl at https://www.ssllabs.com/ssltest/analyze.html?d=myDomain with an A result:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://letsencrypt.org/docs/dst-root-ca-x3-expiration-september-2021/\r\n  [2]: https://i.stack.imgur.com/wd8Rx.png","title":"Handle DST Root CA X3 Let&#39;s Encrypt SSL certificate version at runtime with Java","body":"<p>I'm implementing a websocket server to which connect some clients via websocket.</p>\n<p>It works well via browser but not from java code.</p>\n<p>From java, on Linux pc, this line:</p>\n<pre><code>WebSocket socket = WebSockets.newSocket(WebSockets.toSecureWebSocketUrl(&quot;myDomain&quot;, 8080));\n</code></pre>\n<p>throws this error:</p>\n<blockquote>\n<p>Failed to send an opening handshake request to the server: PKIX path\nbuilding failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target</p>\n</blockquote>\n<p>I know that client side the websocket host and port are ok because when I try it while the websocket server is not active, the error message is correctly &quot;connection refused&quot;.</p>\n<p>After reading on web I found that the certificate generated by certbot is the version DST Root CA X3, that <a href=\"https://letsencrypt.org/docs/dst-root-ca-x3-expiration-september-2021/\" rel=\"nofollow noreferrer\">expired on sept 2021</a>.</p>\n<p>Maybe the java error is related to that old version, because of its deprecation and then it throw that error?</p>\n<p>I need, at runtime (also when the App will be downloaded from Play Store) that the App trusts my ssl certificate even if its version is DST Root CA X3 or every other format released by Let's Encrypt, without the need to release a new App version every time the certificate is renewed on the server.</p>\n<p>I already tried to renew the certificate on the server with certbot but it still uses the DST Root CA X3 version for the new one.</p>\n<p>Here is my Java client code (I'm using the libGDX framework with Java on Android Studio):</p>\n<pre><code>package ...textwebsockets;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.github.czyzby.websocket.WebSocket;\nimport com.github.czyzby.websocket.WebSocketListener;\nimport com.github.czyzby.websocket.WebSockets;\n\nimport java.io.ByteArrayInputStream;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport javax.security.auth.x500.X500Principal;\n\npublic class TestWebSockets extends ApplicationAdapter {\n    public final String LOG_TAG = &quot;LOG_TestWebSockets&quot;;\n\n    SpriteBatch batch;\n    Texture img;\n\n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n        img = new Texture(&quot;badlogic.jpg&quot;);\n        \n        // https://github.com/MrStahlfelge/gdx-websockets/tree/master\n        WebSocket socket = WebSockets.newSocket(WebSockets.toSecureWebSocketUrl(&quot;myDomain&quot;, 8080));\n        socket.setSendGracefully(true);\n        socket.addListener(new WebSocketListener() {\n            @Override\n            public boolean onOpen(WebSocket webSocket) { ... }\n\n            @Override\n            public boolean onClose(WebSocket webSocket, int closeCode, String reason) { ... }\n\n            @Override\n            public boolean onMessage(WebSocket webSocket, String packet) { ... }\n\n            @Override\n            public boolean onMessage(WebSocket webSocket, byte[] packet) { ... }\n\n            @Override\n            public boolean onError(WebSocket webSocket, Throwable error) {\n                Gdx.app.log(LOG_TAG, &quot;onError: &quot; + error.getCause().getMessage() + &quot;; &quot; + error.getMessage());\n                return false;\n            }\n        });\n        \n        socket.connect();\n    }\n\n    ...\n}\n</code></pre>\n<p>Server side code (node.js on a DigitalOcean VPS Droplet with Linux):</p>\n<pre><code>'use strict';\n\nconst express = require('express');\nconst path = require('path');\nconst https = require('https');\nconst fs = require('fs');\nconst WebSocket = require('ws');\n\nconst app = express();\napp.use(express.static(path.join(__dirname, '/public')));\n\nconst server = https.createServer({\n    key: fs.readFileSync('./privkey.pem'),\n    cert: fs.readFileSync('./cert.pem')\n}, app);\nconst wss = new WebSocket.Server({server: server});\n\nwss.on('connection', function (ws) { ... });\n\nserver.listen(8080, function () {\n    console.log('Listening on 8080');\n});\n\n... // various wss.on* methods\n</code></pre>\n<p>I start the server with <code>npm start</code>.</p>\n<p>The website code:</p>\n<pre><code>&lt;script&gt;\n    const wss = new WebSocket('wss://myDomain:8080');\n    ... // various wss.on* methods\n&lt;/script&gt;\n</code></pre>\n<p>In the browser network console a 101 line appears and receives the server messages. (I also send messages to the server but I removed that code here because not relevant for this post).</p>\n<p>I already read many SO answers but almost all of them suggest to manually use a .pem file.</p>\n<p>I tested the ssl at <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=myDomain\" rel=\"nofollow noreferrer\">https://www.ssllabs.com/ssltest/analyze.html?d=myDomain</a> with an A result:</p>\n<p><a href=\"https://i.stack.imgur.com/wd8Rx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wd8Rx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1350230257,"post_id":12883730,"comment_id":17444885,"body_markdown":"Note that the String pool during the compilation stage is not the same as the String pool when your program is run.","body":"Note that the String pool during the compilation stage is not the same as the String pool when your program is run."},{"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"score":0,"creation_date":1350276800,"post_id":12883730,"comment_id":17454734,"body_markdown":"@Thorbj&#248;rn Ravn Andersen: Nice point. can u please give me any link or source where i can see the details of your point.","body":"@Thorbj&#248;rn Ravn Andersen: Nice point. can u please give me any link or source where i can see the details of your point."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350229456,"creation_date":1350229456,"answer_id":12883789,"question_id":12883730,"body_markdown":"&gt; Does that mean result of String concatenation evaluated at runtime\r\n&gt; using StringBuilder not get stored in String Pool but instead goes\r\n&gt; into heap(outside pool)\r\n\r\nYes. That is correct. It will create new object in heap.\r\n\r\n","title":"Runtime String concatenation evaluation","body":"<blockquote>\n  <p>Does that mean result of String concatenation evaluated at runtime\n  using StringBuilder not get stored in String Pool but instead goes\n  into heap(outside pool)</p>\n</blockquote>\n\n<p>Yes. That is correct. It will create new object in heap.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350253531,"creation_date":1350229489,"answer_id":12883797,"question_id":12883730,"body_markdown":"&gt; Am i right in saying that now there are three objects in String pool as according to above statement:-&quot;a&quot;,&quot;b&quot;,&quot;ab&quot;???\r\n\r\nNo.  You are incorrect.  The concatenation is performed at compile time, and only the &quot;ab&quot; object will be stored in the string pool.\r\n\r\n&gt; Does that mean result of String concatenation evaluated at runtime using StringBuilder not get stored in String Pool but instead goes into heap(outside pool)?\r\n\r\nYes, you are correct on this point.\r\n\r\n---------------\r\n\r\nIn summary, string literals and the values of compile-time constant string expressions will be interned (and stored in the string pool).  The results of other string concatenations will not be interned ... unless you explicitly call `String.intern()`.  (And you should rarely do that ... because interning strings usually does more harm than good.)\r\n\r\nEither way, you should avoid using `==` to compare strings.","title":"Runtime String concatenation evaluation","body":"<blockquote>\n  <p>Am i right in saying that now there are three objects in String pool as according to above statement:-\"a\",\"b\",\"ab\"???</p>\n</blockquote>\n\n<p>No.  You are incorrect.  The concatenation is performed at compile time, and only the \"ab\" object will be stored in the string pool.</p>\n\n<blockquote>\n  <p>Does that mean result of String concatenation evaluated at runtime using StringBuilder not get stored in String Pool but instead goes into heap(outside pool)?</p>\n</blockquote>\n\n<p>Yes, you are correct on this point.</p>\n\n<hr>\n\n<p>In summary, string literals and the values of compile-time constant string expressions will be interned (and stored in the string pool).  The results of other string concatenations will not be interned ... unless you explicitly call <code>String.intern()</code>.  (And you should rarely do that ... because interning strings usually does more harm than good.)</p>\n\n<p>Either way, you should avoid using <code>==</code> to compare strings.</p>\n"},{"tags":[],"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1350229985,"creation_date":1350229499,"answer_id":12883800,"question_id":12883730,"body_markdown":"From JLS &#167;15.18.1:\r\n\r\n&gt; 15.18.1. String Concatenation Operator +\r\n&gt; \r\n&gt; If only one operand expression is of type String, then string\r\n&gt; conversion (&#167;5.1.11) is performed on the other operand to produce a\r\n&gt; string at run-time.\r\n&gt; \r\n&gt; The result of string concatenation is a reference to a String object\r\n&gt; that is the concatenation of the two operand strings. The characters\r\n&gt; of the left-hand operand precede the characters of the right-hand\r\n&gt; operand in the newly created string.\r\n&gt; \r\n&gt; **The String object is newly created (&#167;12.5) unless the expression is a\r\n&gt; compile-time constant expression (&#167;15.28).**\r\n&gt; \r\n&gt; An implementation may choose to perform conversion and concatenation\r\n&gt; in one step to avoid creating and then discarding an intermediate\r\n&gt; String object. To increase the performance of repeated string\r\n&gt; concatenation, a Java compiler may use the StringBuffer class or a\r\n&gt; similar technique to reduce the number of intermediate String objects\r\n&gt; that are created by evaluation of an expression.\r\n&gt; \r\n&gt; For primitive types, an implementation may also optimize away the\r\n&gt; creation of a wrapper object by converting directly from a primitive\r\n&gt; type to a string.\r\n\r\nSo,\r\n\r\n1. There is one object in the constant pool (&quot;ab&quot;). The temporaries are not saved.\r\n2. Likewise, there will only be &quot;ab&quot; in the constant pool.\r\n3. The new string is a new `String` object and will not be in the pool unless explicitly interned.\r\n\r\nIt is instructive to look at some bytecode:\r\n\r\n    String sa1 = &quot;a&quot;+ &quot;b&quot;;\r\n\r\n    final String sb1 = &quot;a&quot;;\r\n    final String sb2 = &quot;b&quot;;\r\n    String sb3 = sb1 + sb2;\r\n    \r\n    String sc1 = &quot;a&quot;;\r\n    String sc2 = &quot;b&quot;;\r\n    String sc3 = &quot;a&quot; + &quot;b&quot;;\r\n    String sc4 = sc1 + sc2;\r\n\r\nbecomes\r\n\r\n      Code:\r\n       0:\tldc\t#2; //String ab\r\n       2:\tastore_0\r\n       3:\tldc\t#2; //String ab\r\n       5:\tastore_3\r\n       6:\tldc\t#3; //String a\r\n       8:\tastore\t4\r\n       10:\tldc\t#4; //String b\r\n       12:\tastore\t5\r\n       14:\tldc\t#2; //String ab\r\n       16:\tastore\t6\r\n       18:\tnew\t#5; //class java/lang/StringBuilder\r\n       21:\tdup\r\n       22:\tinvokespecial\t#6; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       25:\taload\t4\r\n       27:\tinvokevirtual\t#7; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       30:\taload\t5\r\n       32:\tinvokevirtual\t#7; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       35:\tinvokevirtual\t#8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n       38:\tastore\t7\r\n       40:\treturn\r\n\r\nYou can see that in the first two cases, &quot;ab&quot; is loaded straight from the constant pool. In the third block, we get the translation `sc4 = new StringBuilder().append(sc1).append(sc2).toString()`, which creates a new object.","title":"Runtime String concatenation evaluation","body":"<p>From JLS §15.18.1:</p>\n\n<blockquote>\n  <p>15.18.1. String Concatenation Operator +</p>\n  \n  <p>If only one operand expression is of type String, then string\n  conversion (§5.1.11) is performed on the other operand to produce a\n  string at run-time.</p>\n  \n  <p>The result of string concatenation is a reference to a String object\n  that is the concatenation of the two operand strings. The characters\n  of the left-hand operand precede the characters of the right-hand\n  operand in the newly created string.</p>\n  \n  <p><strong>The String object is newly created (§12.5) unless the expression is a\n  compile-time constant expression (§15.28).</strong></p>\n  \n  <p>An implementation may choose to perform conversion and concatenation\n  in one step to avoid creating and then discarding an intermediate\n  String object. To increase the performance of repeated string\n  concatenation, a Java compiler may use the StringBuffer class or a\n  similar technique to reduce the number of intermediate String objects\n  that are created by evaluation of an expression.</p>\n  \n  <p>For primitive types, an implementation may also optimize away the\n  creation of a wrapper object by converting directly from a primitive\n  type to a string.</p>\n</blockquote>\n\n<p>So,</p>\n\n<ol>\n<li>There is one object in the constant pool (\"ab\"). The temporaries are not saved.</li>\n<li>Likewise, there will only be \"ab\" in the constant pool.</li>\n<li>The new string is a new <code>String</code> object and will not be in the pool unless explicitly interned.</li>\n</ol>\n\n<p>It is instructive to look at some bytecode:</p>\n\n<pre><code>String sa1 = \"a\"+ \"b\";\n\nfinal String sb1 = \"a\";\nfinal String sb2 = \"b\";\nString sb3 = sb1 + sb2;\n\nString sc1 = \"a\";\nString sc2 = \"b\";\nString sc3 = \"a\" + \"b\";\nString sc4 = sc1 + sc2;\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>  Code:\n   0:   ldc #2; //String ab\n   2:   astore_0\n   3:   ldc #2; //String ab\n   5:   astore_3\n   6:   ldc #3; //String a\n   8:   astore  4\n   10:  ldc #4; //String b\n   12:  astore  5\n   14:  ldc #2; //String ab\n   16:  astore  6\n   18:  new #5; //class java/lang/StringBuilder\n   21:  dup\n   22:  invokespecial   #6; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   25:  aload   4\n   27:  invokevirtual   #7; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   30:  aload   5\n   32:  invokevirtual   #7; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   35:  invokevirtual   #8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   38:  astore  7\n   40:  return\n</code></pre>\n\n<p>You can see that in the first two cases, \"ab\" is loaded straight from the constant pool. In the third block, we get the translation <code>sc4 = new StringBuilder().append(sc1).append(sc2).toString()</code>, which creates a new object.</p>\n"},{"tags":[],"owner":{"account_id":335255,"reputation":12716,"user_id":662250,"accept_rate":85,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350229530,"creation_date":1350229530,"answer_id":12883808,"question_id":12883730,"body_markdown":"Yes, You are correct that the Strings evaluated at runtime using StringBuilder not get stored in String Pool. Because:\r\n\r\n 1. There is a `new` operator(Which allocates new memory for the object in the heap)\r\n 2. And as we can see form the code:\r\n\r\n\r\n    AbstractStringBuilder(int capacity) {\r\n           value = new char[capacity];\r\n    }\r\n\r\nthere is a new char array reference allocated in the heap.\r\n","title":"Runtime String concatenation evaluation","body":"<p>Yes, You are correct that the Strings evaluated at runtime using StringBuilder not get stored in String Pool. Because:</p>\n\n<ol>\n<li>There is a <code>new</code> operator(Which allocates new memory for the object in the heap)</li>\n<li><p>And as we can see form the code:</p>\n\n<p>AbstractStringBuilder(int capacity) {\n       value = new char[capacity];\n}</p></li>\n</ol>\n\n<p>there is a new char array reference allocated in the heap.</p>\n"}],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2605,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":12883800,"answer_count":4,"score":8,"last_activity_date":1699090329,"creation_date":1350229052,"question_id":12883730,"body_markdown":"According to JLS( 15.28 Constant Expressions) an expression containing only:\r\n\r\n&gt; i) Literals of primitive type and literals of type String (&#167;3.10.1, &#167;3.10.2, &#167;3.10.3, &#167;3.10.4, &#167;3.10.5)\\\r\n&gt; or\\\r\n&gt; ii) Simple names (&#167;6.5.6.1) that refer to constant variables (&#167;4.12.4).\r\n&gt; or\\\r\n&gt; iii) ...\r\n \r\nis a constant expression.\r\n\r\nNow `String s1=&quot;a&quot;+&quot;b&quot;;` is a constant expression and will be evaluated to `&quot;ab&quot;` at compile time, so `s1=&quot;ab&quot;;`.\r\n\r\nAm i right in saying that now there are three objects in String pool as according to above statement:-&quot;a&quot;,&quot;b&quot;,&quot;ab&quot;?\r\n\r\nNow, \r\n\r\n    final String s=&quot;a&quot;;\r\n    final String s1=&quot;b&quot;;\r\n    String s2=s+s1;  // is also constant expression and get evaluated at compile time.\r\n\r\nThe above code will be translated to `s2=&quot;a&quot;+&quot;b&quot;;` after compilation.\r\n\r\nSo `s2=&quot;ab&quot;;` will be stored in string pool automatically.\r\n\r\nBut,\r\n\r\n    // note there is no final now.\r\n    String s=&quot;a&quot;;\r\n    String s1=&quot;b&quot;;\r\n    String s2=&quot;a&quot;+&quot;b&quot;;  // constant expression.\r\n    String s3=s+s1;  // is NOT a constant expression and get evaluated at RUN TIME.\r\n\r\nFor `String s3=s+s1;` ,the code will be  translated to :\r\n\r\n    s3=new StringBuilder(String.valueOf(s)).append(s1).toString();\r\n\r\nand will create a new String object. Therefore, `s2==s3` will comes out to be false;\r\n\r\nDoes that mean result of String concatenation evaluated at runtime using StringBuilder not get stored in string pool, but instead goes into heap (outside pool)?\r\n     \r\n","title":"Runtime String concatenation evaluation","body":"<p>According to JLS( 15.28 Constant Expressions) an expression containing only:</p>\n<blockquote>\n<p>i) Literals of primitive type and literals of type String (§3.10.1, §3.10.2, §3.10.3, §3.10.4, §3.10.5)<br />\nor<br />\nii) Simple names (§6.5.6.1) that refer to constant variables (§4.12.4).\nor<br />\niii) ...</p>\n</blockquote>\n<p>is a constant expression.</p>\n<p>Now <code>String s1=&quot;a&quot;+&quot;b&quot;;</code> is a constant expression and will be evaluated to <code>&quot;ab&quot;</code> at compile time, so <code>s1=&quot;ab&quot;;</code>.</p>\n<p>Am i right in saying that now there are three objects in String pool as according to above statement:-&quot;a&quot;,&quot;b&quot;,&quot;ab&quot;?</p>\n<p>Now,</p>\n<pre><code>final String s=&quot;a&quot;;\nfinal String s1=&quot;b&quot;;\nString s2=s+s1;  // is also constant expression and get evaluated at compile time.\n</code></pre>\n<p>The above code will be translated to <code>s2=&quot;a&quot;+&quot;b&quot;;</code> after compilation.</p>\n<p>So <code>s2=&quot;ab&quot;;</code> will be stored in string pool automatically.</p>\n<p>But,</p>\n<pre><code>// note there is no final now.\nString s=&quot;a&quot;;\nString s1=&quot;b&quot;;\nString s2=&quot;a&quot;+&quot;b&quot;;  // constant expression.\nString s3=s+s1;  // is NOT a constant expression and get evaluated at RUN TIME.\n</code></pre>\n<p>For <code>String s3=s+s1;</code> ,the code will be  translated to :</p>\n<pre><code>s3=new StringBuilder(String.valueOf(s)).append(s1).toString();\n</code></pre>\n<p>and will create a new String object. Therefore, <code>s2==s3</code> will comes out to be false;</p>\n<p>Does that mean result of String concatenation evaluated at runtime using StringBuilder not get stored in string pool, but instead goes into heap (outside pool)?</p>\n"},{"tags":["java","nd4j"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699052273,"post_id":77419958,"comment_id":136487442,"body_markdown":"Is the application actually crashing due to being out of memory?","body":"Is the application actually crashing due to being out of memory?"},{"owner":{"account_id":7554941,"reputation":193,"user_id":5734984,"display_name":"andersen"},"score":0,"creation_date":1699052349,"post_id":77419958,"comment_id":136487449,"body_markdown":"Yes. It crashed because of that.","body":"Yes. It crashed because of that."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699052794,"post_id":77419958,"comment_id":136487484,"body_markdown":"Was that just using the loop you provided?","body":"Was that just using the loop you provided?"},{"owner":{"account_id":7554941,"reputation":193,"user_id":5734984,"display_name":"andersen"},"score":0,"creation_date":1699053470,"post_id":77419958,"comment_id":136487542,"body_markdown":"It&#39;s just an example. When code array = new one, it doesn&#39;t delete the old array memory. That&#39;s the leak.","body":"It&#39;s just an example. When code array = new one, it doesn&#39;t delete the old array memory. That&#39;s the leak."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699054299,"post_id":77419958,"comment_id":136487603,"body_markdown":"It doesn&#39;t have to do it instantly. The GC might do it later (if it is even supposed to be GC&#39;d). Can you share a [mcve] that crashes because of it?","body":"It doesn&#39;t have to do it instantly. The GC might do it later (if it is even supposed to be GC&#39;d). Can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that crashes because of it?"}],"answers":[{"tags":[],"owner":{"account_id":7554941,"reputation":193,"user_id":5734984,"display_name":"andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699084400,"creation_date":1699084400,"answer_id":77421186,"question_id":77419958,"body_markdown":"I found the answer.\r\n\r\nND4j INDarray takes matrix to out of jvm to make the calculations fast. When I code array = new one, jvm garbage collector can delete the array in jvm part but can not reach the nd4j array memory so it can&#39;t delete the memory in there instantly. The programming language nd4j working for calculation in cpu can delete the old memories but it&#39;s to slow for codes in java.\r\n\r\nFor example when I try to create array = new one in 1 ms, garbage collector for nd4j can delete the old ones more than that.","title":"Memory Leak in Nd4j INDArray","body":"<p>I found the answer.</p>\n<p>ND4j INDarray takes matrix to out of jvm to make the calculations fast. When I code array = new one, jvm garbage collector can delete the array in jvm part but can not reach the nd4j array memory so it can't delete the memory in there instantly. The programming language nd4j working for calculation in cpu can delete the old memories but it's to slow for codes in java.</p>\n<p>For example when I try to create array = new one in 1 ms, garbage collector for nd4j can delete the old ones more than that.</p>\n"},{"tags":[],"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699089664,"creation_date":1699089664,"answer_id":77421415,"question_id":77419958,"body_markdown":"What you are seeing here is because Garbage Collection in the JVM only happens when there is enough memory pressure. The JVM typically will allocate a fraction of the available memory for heap space usage, and only when the used memory is getting close to that limit will GC run. \r\n\r\nBecause ND4J uses native memory, i.e memory that is not managed by the GC, it doesn&#39;t significantly contribute to the memory pressure that triggers a GC run. \r\n\r\nIn your particular example, the only thing that is allocated on the heap is the pointer to that native memory, i.e. just a single number. \r\n\r\nIf you ask the JVM to do a GC run (with `System.gc()`), you will also see that it is freeing the native memory.","title":"Memory Leak in Nd4j INDArray","body":"<p>What you are seeing here is because Garbage Collection in the JVM only happens when there is enough memory pressure. The JVM typically will allocate a fraction of the available memory for heap space usage, and only when the used memory is getting close to that limit will GC run.</p>\n<p>Because ND4J uses native memory, i.e memory that is not managed by the GC, it doesn't significantly contribute to the memory pressure that triggers a GC run.</p>\n<p>In your particular example, the only thing that is allocated on the heap is the pointer to that native memory, i.e. just a single number.</p>\n<p>If you ask the JVM to do a GC run (with <code>System.gc()</code>), you will also see that it is freeing the native memory.</p>\n"}],"owner":{"account_id":7554941,"reputation":193,"user_id":5734984,"display_name":"andersen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1699089664,"creation_date":1699049383,"question_id":77419958,"body_markdown":"I am making a algrotim in java with Nd4j. I created an INDarray object and then change the object but when I did this, memory usage is going up.\r\nI am asking what is the solution for this memory leak.\r\n\r\nexample code:\r\n\r\n    while(true){\r\n\r\n            INDArray array = Nd4j.ones(1024,1024);\r\n\r\n            try {\r\n                Thread.sleep(10);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\nAs I know java garbage collecter should delete the previous Indarray memory but in this code it doesn&#39;t.\r\nBut when I add this to code:\r\n\r\n    array.close()\r\n\r\nThe memory leak is prevented. But why is this happening? Is there any solution without using close() operation?","title":"Memory Leak in Nd4j INDArray","body":"<p>I am making a algrotim in java with Nd4j. I created an INDarray object and then change the object but when I did this, memory usage is going up.\nI am asking what is the solution for this memory leak.</p>\n<p>example code:</p>\n<pre><code>while(true){\n\n        INDArray array = Nd4j.ones(1024,1024);\n\n        try {\n            Thread.sleep(10);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>As I know java garbage collecter should delete the previous Indarray memory but in this code it doesn't.\nBut when I add this to code:</p>\n<pre><code>array.close()\n</code></pre>\n<p>The memory leak is prevented. But why is this happening? Is there any solution without using close() operation?</p>\n"},{"tags":["java","android","libgdx","physics","bullet"],"owner":{"account_id":21461018,"reputation":40,"user_id":15811766,"display_name":"Star4Droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699088879,"creation_date":1699088879,"question_id":77421386,"body_markdown":"I am new to bullet physics and already facing annoying problem with shapes,...I have this java class that extends ModelInstance:\r\n```\r\npublic class CustomModel extends ModelInstance implements Disposable {\r\n\tRigidBodyInfo rigidBodyInfo;\r\n\tbtRigidBody rigidBody;\r\n\t//btBvhTriangleMeshShape shape;\r\n\tbtCollisionShape shape;\r\n\tbtTriangleIndexVertexArray vertexArray;\r\n\tpublic CustomModel(Model model,btDynamicsWorld world,float mass){\r\n\t\tsuper(model);\r\n\t\tvertexArray = new btTriangleIndexVertexArray(model.meshParts);\r\n\t\tif(mass==0){\r\n\t\tshape=new btBvhTriangleMeshShape(vertexArray,true);\r\n\t\t} else{\r\n\t\t\tshape=new btGImpactMeshShape(vertexArray);\r\n\t\t\tshape.setLocalScaling(new Vector3(1,1,1));\r\n\t\t\tshape.setMargin(0);\r\n\t\t\t((btGImpactMeshShape)shape).updateBound();\r\n\t\t\t}\r\n\t\trigidBodyInfo=new RigidBodyInfo(mass,shape);\r\n\t\trigidBody = new btRigidBody(rigidBodyInfo);\r\n\t\trigidBody.setRestitution(0);\r\n\t\trigidBody.setMotionState(new GameMotionState(this));\r\n\t\tworld.addRigidBody(rigidBody);\r\n\t\t//rigidBody.setActivationState(Collision.DISABLE_DEACTIVATION);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic btRigidBody getRigidBody(){\r\n\t\treturn rigidBody;\r\n\t}\r\n\t\r\n\tpublic void setTranslation(Vector3 vector3){\r\n\t\ttransform.setTranslation(vector3);\r\n\t\trigidBody.setWorldTransform(transform);\r\n\t\trigidBody.setLinearVelocity(new Vector3());\r\n\t\trigidBody.setActivationState(Collision.ACTIVE_TAG);\r\n\t}\r\n\t\r\n\tpublic void setTranslation(float x,float y,float z){\r\n\t\ttransform.setTranslation(x,y,z);\r\n\t\trigidBody.setWorldTransform(transform);\r\n\t\trigidBody.setLinearVelocity(new Vector3());\r\n\t\trigidBody.setActivationState(Collision.ACTIVE_TAG);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose() {\r\n\t\trigidBody.dispose();\r\n\t\trigidBodyInfo.dispose();\r\n\t\tif(vertexArray!=null)\r\n\t\t\tvertexArray.dispose();\r\n\t\tshape.dispose();\r\n\t}\r\n}\r\n```\r\nthe problem is happening when I add two Boxes using ModelBuilder.createBox, the two boxes doesn&#39;t collide with each other..\r\ni have read that btBvhTriangleMeshShape is for only static bodies, also i have tried Bullet.obtainStaticNodeShape(...), and it doesn&#39;t work for me.\r\nhow i create the Model :\r\n```\r\n\r\n\r\nModel cubeModel = new ModelBuilder().createBox(0.25f,0.25f,0.25f,material,VertexAttributes.Usage.Position|VertexAttributes.Usage.Normal|VertexAttributes.Usage.TextureCoordinates);\r\n\r\n\t\tmodelInstance = new CustomModel(cubeModel,world,0);\r\n\r\n\t\tcube = new CustomModel(cubeModel,world,1);\r\n\r\n\t\tcube.setTranslation(0f,10,0f);\r\n```\r\nthen render it normally ..\r\nRigidBodyInfo class :\r\n```\r\npublic class RigidBodyInfo extends btRigidBody.btRigidBodyConstructionInfo {\r\n\tpublic static Vector3 tempV=new Vector3();\r\n\tpublic RigidBodyInfo(float mass,btCollisionShape shape){\r\n\t\tsuper(mass,null,shape,calc(mass,shape));\r\n\t}\r\n\t\r\n\tpublic static Vector3 calc(float mass,btCollisionShape shape){\r\n\t\tshape.calculateLocalInertia(mass,tempV);\r\n\t\treturn tempV;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose() {\r\n\t\tsuper.dispose();\r\n\t}\r\n}\r\n```\r\n\r\ni have have tried:\r\nBullet.obtainStaticNodeShape()\r\nand it works good with btBoxShape but I don&#39;t need it ...","title":"libgdx-bullet btGImpactMeshShape doesn&#39;t work for Rigidbody","body":"<p>I am new to bullet physics and already facing annoying problem with shapes,...I have this java class that extends ModelInstance:</p>\n<pre><code>public class CustomModel extends ModelInstance implements Disposable {\n    RigidBodyInfo rigidBodyInfo;\n    btRigidBody rigidBody;\n    //btBvhTriangleMeshShape shape;\n    btCollisionShape shape;\n    btTriangleIndexVertexArray vertexArray;\n    public CustomModel(Model model,btDynamicsWorld world,float mass){\n        super(model);\n        vertexArray = new btTriangleIndexVertexArray(model.meshParts);\n        if(mass==0){\n        shape=new btBvhTriangleMeshShape(vertexArray,true);\n        } else{\n            shape=new btGImpactMeshShape(vertexArray);\n            shape.setLocalScaling(new Vector3(1,1,1));\n            shape.setMargin(0);\n            ((btGImpactMeshShape)shape).updateBound();\n            }\n        rigidBodyInfo=new RigidBodyInfo(mass,shape);\n        rigidBody = new btRigidBody(rigidBodyInfo);\n        rigidBody.setRestitution(0);\n        rigidBody.setMotionState(new GameMotionState(this));\n        world.addRigidBody(rigidBody);\n        //rigidBody.setActivationState(Collision.DISABLE_DEACTIVATION);\n        \n    }\n    \n    public btRigidBody getRigidBody(){\n        return rigidBody;\n    }\n    \n    public void setTranslation(Vector3 vector3){\n        transform.setTranslation(vector3);\n        rigidBody.setWorldTransform(transform);\n        rigidBody.setLinearVelocity(new Vector3());\n        rigidBody.setActivationState(Collision.ACTIVE_TAG);\n    }\n    \n    public void setTranslation(float x,float y,float z){\n        transform.setTranslation(x,y,z);\n        rigidBody.setWorldTransform(transform);\n        rigidBody.setLinearVelocity(new Vector3());\n        rigidBody.setActivationState(Collision.ACTIVE_TAG);\n    }\n    \n    @Override\n    public void dispose() {\n        rigidBody.dispose();\n        rigidBodyInfo.dispose();\n        if(vertexArray!=null)\n            vertexArray.dispose();\n        shape.dispose();\n    }\n}\n</code></pre>\n<p>the problem is happening when I add two Boxes using ModelBuilder.createBox, the two boxes doesn't collide with each other..\ni have read that btBvhTriangleMeshShape is for only static bodies, also i have tried Bullet.obtainStaticNodeShape(...), and it doesn't work for me.\nhow i create the Model :</p>\n<pre><code>\n\nModel cubeModel = new ModelBuilder().createBox(0.25f,0.25f,0.25f,material,VertexAttributes.Usage.Position|VertexAttributes.Usage.Normal|VertexAttributes.Usage.TextureCoordinates);\n\n        modelInstance = new CustomModel(cubeModel,world,0);\n\n        cube = new CustomModel(cubeModel,world,1);\n\n        cube.setTranslation(0f,10,0f);\n</code></pre>\n<p>then render it normally ..\nRigidBodyInfo class :</p>\n<pre><code>public class RigidBodyInfo extends btRigidBody.btRigidBodyConstructionInfo {\n    public static Vector3 tempV=new Vector3();\n    public RigidBodyInfo(float mass,btCollisionShape shape){\n        super(mass,null,shape,calc(mass,shape));\n    }\n    \n    public static Vector3 calc(float mass,btCollisionShape shape){\n        shape.calculateLocalInertia(mass,tempV);\n        return tempV;\n    }\n    \n    @Override\n    public void dispose() {\n        super.dispose();\n    }\n}\n</code></pre>\n<p>i have have tried:\nBullet.obtainStaticNodeShape()\nand it works good with btBoxShape but I don't need it ...</p>\n"},{"tags":["java","file-io","directory"],"comments":[{"owner":{"account_id":7554941,"reputation":193,"user_id":5734984,"display_name":"andersen"},"score":0,"creation_date":1699083789,"post_id":77421103,"comment_id":136489136,"body_markdown":"Can you share the codes?","body":"Can you share the codes?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1699083893,"post_id":77421103,"comment_id":136489142,"body_markdown":"Does it matter? You can just return 0 for both. As long as you are using the resource system, you can&#39;t really do this. Resources aren&#39;t always on a file system, so you can&#39;t assume they are in a regular folder tree. If you need folder tree properties, use Paths directly, not resources.","body":"Does it matter? You can just return 0 for both. As long as you are using the resource system, you can&#39;t really do this. Resources aren&#39;t always on a file system, so you can&#39;t assume they are in a regular folder tree. If you need folder tree properties, use Paths directly, not resources."},{"owner":{"account_id":23096577,"reputation":55,"user_id":17206584,"display_name":"Svetlana"},"score":0,"creation_date":1699084094,"post_id":77421103,"comment_id":136489156,"body_markdown":"@andersen https://pastebin.com/Nc5wM6YU","body":"@andersen <a href=\"https://pastebin.com/Nc5wM6YU\" rel=\"nofollow noreferrer\">pastebin.com/Nc5wM6YU</a>"},{"owner":{"account_id":23096577,"reputation":55,"user_id":17206584,"display_name":"Svetlana"},"score":0,"creation_date":1699084316,"post_id":77421103,"comment_id":136489170,"body_markdown":"@Jorn Sorry, I need to throw an exception for non-existent  directory. If you know how to find a Path to a certain directory, having only its name, please, write it. I&#39;ll be really happy to know it.","body":"@Jorn Sorry, I need to throw an exception for non-existent  directory. If you know how to find a Path to a certain directory, having only its name, please, write it. I&#39;ll be really happy to know it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699124717,"post_id":77421103,"comment_id":136492976,"body_markdown":"If your code is running in a Java module, you can use [ModuleReader.list()](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/module/ModuleReader.html#list()) to find everything under a resource “directory.”  If you are not running in a module, **there is no safe way to do this.**  You might think you have found a hack for it, but that hack *will* eventually fail.","body":"If your code is running in a Java module, you can use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/module/ModuleReader.html#list()\" rel=\"nofollow noreferrer\">ModuleReader.list()</a> to find everything under a resource “directory.”  If you are not running in a module, <b>there is no safe way to do this.</b>  You might think you have found a hack for it, but that hack <i>will</i> eventually fail."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699084898,"creation_date":1699084360,"answer_id":77421182,"question_id":77421103,"body_markdown":"There is no built-in support for finding the size of a directory.  Indeed, it is not really a well-defined concept: there are many ways to measure the &quot;size&quot;.\r\n\r\nBut Java SE does provide the `FileVisitor` interface ([javadoc][1]) that allows you to traverse a directory tree in the file system, visiting each of the directories and files; see [Java Tutorial: Walking the file tree][2] for a thorough explanation on how to use it.  To compute the size of a directory (what ever that means), you would traverse the tree and count the number of files, or add up their file sizes, or whatever.\r\n\r\n----------------------\r\n\r\n&gt; I meant to get an URL of a directory by typing this: \r\n&gt;\r\n&gt;      URL resource = getClass().getClassLoader().getResource(directoryName)\r\n\r\nOK ... so now this gets confused / confusing.  You can only access a directory that way if it is on the applications classpath.  And this will include &quot;directories&quot; are actually in JAR or ZIP files or ... basically anything, if you take account of custom classloaders.  There is no standard way to get the size of things from a URL returned by `getResource()`.  So if you are really talking about things in the file system, using `getResource()` is the wrong place to start.  But if you genuinely mean &quot;a directory on the classpath&quot;, your problem is really hard.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileVisitor.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/io/walk.html","title":"Get directory size using java","body":"<p>There is no built-in support for finding the size of a directory.  Indeed, it is not really a well-defined concept: there are many ways to measure the &quot;size&quot;.</p>\n<p>But Java SE does provide the <code>FileVisitor</code> interface (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileVisitor.html\" rel=\"nofollow noreferrer\">javadoc</a>) that allows you to traverse a directory tree in the file system, visiting each of the directories and files; see <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/walk.html\" rel=\"nofollow noreferrer\">Java Tutorial: Walking the file tree</a> for a thorough explanation on how to use it.  To compute the size of a directory (what ever that means), you would traverse the tree and count the number of files, or add up their file sizes, or whatever.</p>\n<hr />\n<blockquote>\n<p>I meant to get an URL of a directory by typing this:</p>\n<pre><code> URL resource = getClass().getClassLoader().getResource(directoryName)\n</code></pre>\n</blockquote>\n<p>OK ... so now this gets confused / confusing.  You can only access a directory that way if it is on the applications classpath.  And this will include &quot;directories&quot; are actually in JAR or ZIP files or ... basically anything, if you take account of custom classloaders.  There is no standard way to get the size of things from a URL returned by <code>getResource()</code>.  So if you are really talking about things in the file system, using <code>getResource()</code> is the wrong place to start.  But if you genuinely mean &quot;a directory on the classpath&quot;, your problem is really hard.</p>\n"},{"tags":[],"owner":{"account_id":27983350,"reputation":2079,"user_id":21370707,"display_name":"Keyboard Corporation"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699087274,"creation_date":1699084830,"answer_id":77421207,"question_id":77421103,"body_markdown":"For Java 8 and above, you can use the ```java.nio.file.Files``` and ```java.nio.file.Path```.\r\n\r\nThe ```Files.walk()``` method can be used to walk a directory recursively, and the ```Files.size()``` method can be used to get the size of each file. \r\n\r\nThe total size of the directory can then be calculated by summing the sizes of all the files.\r\n\r\nExample:\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.stream.Stream;\r\n\r\npublic long checkSize(String directoryName) {\r\n   long size = 0;\r\n   try (Stream&lt;Path&gt; walk = Files.walk(Paths.get(directoryName))) {\r\n       size = walk\r\n               .filter(Files::isRegularFile)\r\n               .mapToLong(p -&gt; {\r\n                  try {\r\n                      return Files.size(p);\r\n                  } catch (IOException e) {\r\n                      System.out.printf(&quot;Failed to get size of %s%n%s&quot;, p, e);\r\n                      return 0L;\r\n                  }\r\n               })\r\n               .sum();\r\n   } catch (IOException e) {\r\n       System.out.printf(&quot;IO errors %s&quot;, e);\r\n   }\r\n   return size;\r\n}\r\n```\r\nThis method first creates a ```Stream``` of ```Path``` objects representing all files in the directory and its subdirectories. It then filters out any paths that are not regular files (i.e., directories and symbolic links are ignored), and maps each file path to its size in bytes. If an ```IOException``` occurs when trying to get the size of a file, the method prints an error message and returns a size of 0 for that file. Finally, it sums up the sizes of all the files to get the total size of the directory.\r\n\r\nYou can call this method with the name of the directory as a string. For example, if the directory is located at ```/C:/dev/DirectorySize/target/test-classes/cats```, you can call checkSize(&quot;cats&quot;).\r\n\r\n*Please be note that this method will ```return 0``` if the directory **does not exist** or is **empty**. If you want to distinguish between these two cases, you can modify the method to throw an exception or return a special value when the directory does not exist.\r\n\r\n-----------------\r\n# Handling existing or empty #\r\n1. You need to check if the directory exists. You can use the ```Files.exists()``` method, which returns ```true``` if the file or directory exists and ```false``` otherwise.\r\n```\r\nPath path = Paths.get(&quot;path_to_directory&quot;);\r\nboolean exists = Files.exists(path);\r\n```\r\n\r\n2. If the directory exists, you can then check if it is empty. You can use the ```Files.list()``` method, which returns a ```Stream``` of ```Path``` objects representing the entries in the directory. If the directory is empty, the stream will be empty.\r\n```\r\nif (exists) {\r\n   boolean isEmpty = !Files.list(path).findAny().isPresent();\r\n}\r\n```\r\n\r\n3. To handle these cases, you can use the ```Optional class```(if this is Java 8 +). The ```Optional class``` can be used to represent nullable object references, and it can help you distinguish between a non-existent directory and an empty directory.\r\n```\r\npublic Optional&lt;Path&gt; getDirectory(String pathString) {\r\n   Path path = Paths.get(pathString);\r\n   if (Files.exists(path)) {\r\n       if (Files.list(path).findAny().isPresent()) {\r\n           return Optional.of(path);\r\n       } else {\r\n           return Optional.empty();\r\n       }\r\n   } else {\r\n       return Optional.empty();\r\n   }\r\n}\r\n```","title":"Get directory size using java","body":"<p>For Java 8 and above, you can use the <code>java.nio.file.Files</code> and <code>java.nio.file.Path</code>.</p>\n<p>The <code>Files.walk()</code> method can be used to walk a directory recursively, and the <code>Files.size()</code> method can be used to get the size of each file.</p>\n<p>The total size of the directory can then be calculated by summing the sizes of all the files.</p>\n<p>Example:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\n\npublic long checkSize(String directoryName) {\n   long size = 0;\n   try (Stream&lt;Path&gt; walk = Files.walk(Paths.get(directoryName))) {\n       size = walk\n               .filter(Files::isRegularFile)\n               .mapToLong(p -&gt; {\n                  try {\n                      return Files.size(p);\n                  } catch (IOException e) {\n                      System.out.printf(&quot;Failed to get size of %s%n%s&quot;, p, e);\n                      return 0L;\n                  }\n               })\n               .sum();\n   } catch (IOException e) {\n       System.out.printf(&quot;IO errors %s&quot;, e);\n   }\n   return size;\n}\n</code></pre>\n<p>This method first creates a <code>Stream</code> of <code>Path</code> objects representing all files in the directory and its subdirectories. It then filters out any paths that are not regular files (i.e., directories and symbolic links are ignored), and maps each file path to its size in bytes. If an <code>IOException</code> occurs when trying to get the size of a file, the method prints an error message and returns a size of 0 for that file. Finally, it sums up the sizes of all the files to get the total size of the directory.</p>\n<p>You can call this method with the name of the directory as a string. For example, if the directory is located at <code>/C:/dev/DirectorySize/target/test-classes/cats</code>, you can call checkSize(&quot;cats&quot;).</p>\n<p>*Please be note that this method will <code>return 0</code> if the directory <strong>does not exist</strong> or is <strong>empty</strong>. If you want to distinguish between these two cases, you can modify the method to throw an exception or return a special value when the directory does not exist.</p>\n<hr />\n<h1>Handling existing or empty</h1>\n<ol>\n<li>You need to check if the directory exists. You can use the <code>Files.exists()</code> method, which returns <code>true</code> if the file or directory exists and <code>false</code> otherwise.</li>\n</ol>\n<pre><code>Path path = Paths.get(&quot;path_to_directory&quot;);\nboolean exists = Files.exists(path);\n</code></pre>\n<ol start=\"2\">\n<li>If the directory exists, you can then check if it is empty. You can use the <code>Files.list()</code> method, which returns a <code>Stream</code> of <code>Path</code> objects representing the entries in the directory. If the directory is empty, the stream will be empty.</li>\n</ol>\n<pre><code>if (exists) {\n   boolean isEmpty = !Files.list(path).findAny().isPresent();\n}\n</code></pre>\n<ol start=\"3\">\n<li>To handle these cases, you can use the <code>Optional class</code>(if this is Java 8 +). The <code>Optional class</code> can be used to represent nullable object references, and it can help you distinguish between a non-existent directory and an empty directory.</li>\n</ol>\n<pre><code>public Optional&lt;Path&gt; getDirectory(String pathString) {\n   Path path = Paths.get(pathString);\n   if (Files.exists(path)) {\n       if (Files.list(path).findAny().isPresent()) {\n           return Optional.of(path);\n       } else {\n           return Optional.empty();\n       }\n   } else {\n       return Optional.empty();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":23096577,"reputation":55,"user_id":17206584,"display_name":"Svetlana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77421207,"answer_count":2,"score":0,"last_activity_date":1699087274,"creation_date":1699082347,"question_id":77421103,"body_markdown":"I have several test to pass with my code. The aim of a program is to find size of certain directory. Tests include cases with an non-existent directory, existent but empty directory and non-empty existent directory.\r\n\r\nA method counting the directory size: \\\r\n`public long checkSize(String directoryName)`. \\\r\nWhere `directoryName` is only a String and not an absolute or relative path.\r\n\r\nSo the test resources have a structure like this (viewed with Idea IDE):\r\n```\r\n    /test\r\n        /resources\r\n            /cats\r\n                /cat.jpg\r\n            /rats (empty)\r\n```\r\nAnd directory &#39;cats&#39; is actually located at this path: \\\r\n`/C:/dev/DirectorySize/target/test-classes/cats`\r\n\r\nAnd method `checkSize(String directoryName)` gets a String &quot;cats&quot; only (I mean here `directoryName` == &quot;cats&quot;).\r\n\r\nI meant to get an URL of a directory by typing this: \\\r\n`URL resource = getClass().getClassLoader().getResource(directoryName)`\r\n\r\nThe code above works well with non-existent directory as it returns null (e.g. `directoryName` == &quot;dragons&quot;). However it also returns null for existent but empty directory (e.g. `directoryName` == &quot;rats&quot;). \r\n\r\nSo that is my problem. How can I get a size of an existent but non-empty directory with such a structure? \r\n\r\n\r\n\r\n\r\n ","title":"Get directory size using java","body":"<p>I have several test to pass with my code. The aim of a program is to find size of certain directory. Tests include cases with an non-existent directory, existent but empty directory and non-empty existent directory.</p>\n<p>A method counting the directory size: <br />\n<code>public long checkSize(String directoryName)</code>. <br />\nWhere <code>directoryName</code> is only a String and not an absolute or relative path.</p>\n<p>So the test resources have a structure like this (viewed with Idea IDE):</p>\n<pre><code>    /test\n        /resources\n            /cats\n                /cat.jpg\n            /rats (empty)\n</code></pre>\n<p>And directory 'cats' is actually located at this path: <br />\n<code>/C:/dev/DirectorySize/target/test-classes/cats</code></p>\n<p>And method <code>checkSize(String directoryName)</code> gets a String &quot;cats&quot; only (I mean here <code>directoryName</code> == &quot;cats&quot;).</p>\n<p>I meant to get an URL of a directory by typing this: <br />\n<code>URL resource = getClass().getClassLoader().getResource(directoryName)</code></p>\n<p>The code above works well with non-existent directory as it returns null (e.g. <code>directoryName</code> == &quot;dragons&quot;). However it also returns null for existent but empty directory (e.g. <code>directoryName</code> == &quot;rats&quot;).</p>\n<p>So that is my problem. How can I get a size of an existent but non-empty directory with such a structure?</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":5152070,"reputation":1918,"user_id":4126391,"accept_rate":75,"display_name":"childofsoong"},"score":0,"creation_date":1463682282,"post_id":37331227,"comment_id":62180951,"body_markdown":"Is there a strict guarantee on the form, like saying it has to be always &#39;x &lt;op&gt; y&#39;?","body":"Is there a strict guarantee on the form, like saying it has to be always &#39;x &lt;op&gt; y&#39;?"},{"owner":{"account_id":8343454,"reputation":544,"user_id":6268045,"accept_rate":78,"display_name":"DjangoBlockchain"},"score":0,"creation_date":1463682318,"post_id":37331227,"comment_id":62180963,"body_markdown":"Are you able to use switch() and cases?","body":"Are you able to use switch() and cases?"},{"owner":{"account_id":918168,"reputation":926,"user_id":950488,"display_name":"Pikalek"},"score":0,"creation_date":1463682365,"post_id":37331227,"comment_id":62180991,"body_markdown":"A library method is probably going to loop while parsing - is that an issue?","body":"A library method is probably going to loop while parsing - is that an issue?"},{"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"score":1,"creation_date":1463682812,"post_id":37331227,"comment_id":62181211,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/3422673/evaluating-a-math-expression-given-in-string-form","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3422673/evaluating-a-math-expression-given-in-string-form\" title=\"evaluating a math expression given in string form\">stackoverflow.com/questions/3422673/&hellip;</a>"},{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1463683175,"post_id":37331227,"comment_id":62181377,"body_markdown":"regular expression are very poor to such evaluation. Give some parts (atoms) but not structure / relations /sense in excpression","body":"regular expression are very poor to such evaluation. Give some parts (atoms) but not structure / relations /sense in excpression"},{"owner":{"account_id":5643758,"reputation":157,"user_id":4466633,"accept_rate":13,"display_name":"jawjaw"},"score":0,"creation_date":1463684675,"post_id":37331227,"comment_id":62182240,"body_markdown":"no problem if any imported method uses a loop, but it has to be standard library. switch is not allowed too...","body":"no problem if any imported method uses a loop, but it has to be standard library. switch is not allowed too..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699085783,"post_id":37331227,"comment_id":136489256,"body_markdown":"There is no expression evaluator library in Java SE.","body":"There is no expression evaluator library in Java SE."}],"answers":[{"tags":[],"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463682843,"creation_date":1463682843,"answer_id":37331460,"question_id":37331227,"body_markdown":"You could use Spring&#39;s SPeL to evaluate your values.  SPeL stands for Spring Expression Language. It allows you to evaluate a String that is written in Java.  The following line is an example of what you can evaluate within an expression.  I imagine you could simply put your values within the expression to get the values out.  Of course this isn&#39;t a fully working with all the dependencies.  This example is simply showing you a simply example showing you it easily possible.\r\n\r\n    //From www.mkyong.com\r\n    Expression exp2 = parser.parseExpression(&quot;&#39;Hello World&#39;.length()&quot;);\r\n\r\nOf course you can refer to the Spring site in order to learn more about how to create a Spring project with the dependencies along with several examples that are fully flushed out.  I received this small snippet from the mkyong site.\r\n\r\nhttp://www.mkyong.com/spring3/test-spring-el-with-expressionparser/\r\n\r\n","title":"Java evaluating mathematical expressions from strings","body":"<p>You could use Spring's SPeL to evaluate your values.  SPeL stands for Spring Expression Language. It allows you to evaluate a String that is written in Java.  The following line is an example of what you can evaluate within an expression.  I imagine you could simply put your values within the expression to get the values out.  Of course this isn't a fully working with all the dependencies.  This example is simply showing you a simply example showing you it easily possible.</p>\n\n<pre><code>//From www.mkyong.com\nExpression exp2 = parser.parseExpression(\"'Hello World'.length()\");\n</code></pre>\n\n<p>Of course you can refer to the Spring site in order to learn more about how to create a Spring project with the dependencies along with several examples that are fully flushed out.  I received this small snippet from the mkyong site.</p>\n\n<p><a href=\"http://www.mkyong.com/spring3/test-spring-el-with-expressionparser/\" rel=\"nofollow\">http://www.mkyong.com/spring3/test-spring-el-with-expressionparser/</a></p>\n"},{"tags":[],"owner":{"account_id":6384085,"reputation":3087,"user_id":4952551,"accept_rate":88,"display_name":"J. Pichardo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463683979,"creation_date":1463683979,"answer_id":37331820,"question_id":37331227,"body_markdown":"If you&#39;re not allowed to use switch and case either there are libraries that can help you:\r\n\r\n- &lt;a href=&quot;https://github.com/uklimaschewski/EvalEx&quot;&gt;EvalEx&lt;/a&gt; - Personally I like this one.\r\n- &lt;a href=&quot;http://jeval.sourceforge.net/&quot;&gt;JEval&lt;/a&gt;\r\n- Commons Math: The Apache Commons Mathematics Library\r\n\r\nOther wise you could implement a Polish Calculator\r\n\r\n","title":"Java evaluating mathematical expressions from strings","body":"<p>If you're not allowed to use switch and case either there are libraries that can help you:</p>\n\n<ul>\n<li><a href=\"https://github.com/uklimaschewski/EvalEx\" rel=\"nofollow\">EvalEx</a> - Personally I like this one.</li>\n<li><a href=\"http://jeval.sourceforge.net/\" rel=\"nofollow\">JEval</a></li>\n<li>Commons Math: The Apache Commons Mathematics Library</li>\n</ul>\n\n<p>Other wise you could implement a Polish Calculator</p>\n"},{"tags":[],"owner":{"account_id":4740112,"reputation":655,"user_id":3833187,"accept_rate":88,"display_name":"Arman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463685301,"creation_date":1463685301,"answer_id":37332202,"question_id":37331227,"body_markdown":"The JavaScript parser works well for expressions.\r\n\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptEngine;\r\n    public class Expression{\r\n      public static void main(String[] args){\r\n        ScriptEngineManager script = new ScriptEngineManager();\r\n        ScriptEngine eng = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n        System.out.println(eng.eval(&quot;5+5*5&quot;));\r\n        } \r\n    }","title":"Java evaluating mathematical expressions from strings","body":"<p>The JavaScript parser works well for expressions.</p>\n\n<pre><code>import javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\npublic class Expression{\n  public static void main(String[] args){\n    ScriptEngineManager script = new ScriptEngineManager();\n    ScriptEngine eng = mgr.getEngineByName(\"JavaScript\");\n    System.out.println(eng.eval(\"5+5*5\"));\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4028635,"reputation":2125,"user_id":3315731,"accept_rate":62,"display_name":"BadIdeaException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463737106,"creation_date":1463737106,"answer_id":37343213,"question_id":37331227,"body_markdown":"Here is a way that leverages polymorphy (since you already know how to parse the operands, I&#39;ve left that part out because of sheer laziness on my part):\r\n\r\n    import java.util.*;\r\n\r\n    public class CalcProofOfConcept {\r\n\r\n        public static abstract class Arithmetic { public abstract double apply(double x, double y); }\r\n     \r\n        public static class Add extends Arithmetic { public double apply(double x, double y) { return x+y; } }\r\n        public static class Subtract extends Arithmetic { public double apply(double x, double y) { return x-y; } }\r\n        public static class Multiply extends Arithmetic { public double apply(double x, double y) { return x*y; } }\r\n        public static class Divide extends Arithmetic { public double apply(double x, double y) { return x/y; } }\r\n         \r\n        public static void main(String []args){\r\n            Map&lt;String, Arithmetic&gt; operators = new HashMap&lt;String, Arithmetic&gt;();\r\n            operators.put(&quot;+&quot;, new Add());\r\n            operators.put(&quot;-&quot;, new Subtract());\r\n            operators.put(&quot;*&quot;, new Multiply());\r\n            operators.put(&quot;/&quot;, new Divide());\r\n        \r\n            double x = 125.7214;\r\n            double y = 121;\r\n            String op = &quot;+&quot;;\r\n        \r\n            System.out.println(operators.get(op).apply(x,y));\r\n        }\r\n    }\r\n\r\nThis prints `246.72140000000002`. \r\n\r\nBy the way: actual arithmetic expressions are a [context-free language][1], so for anything more than the simplest forms, using a regular expression to parse them won&#39;t work. Once you mix addition and multiplication, for instance, a regex-based calculator would give wrong results because it can&#39;t respect operator precedence.\r\n\r\nPS: _Yes, I know this is breaking a nut with a sledgehammer but I just thought it&#39;d be a cool way to do it..._\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Context-free_language","title":"Java evaluating mathematical expressions from strings","body":"<p>Here is a way that leverages polymorphy (since you already know how to parse the operands, I've left that part out because of sheer laziness on my part):</p>\n\n<pre><code>import java.util.*;\n\npublic class CalcProofOfConcept {\n\n    public static abstract class Arithmetic { public abstract double apply(double x, double y); }\n\n    public static class Add extends Arithmetic { public double apply(double x, double y) { return x+y; } }\n    public static class Subtract extends Arithmetic { public double apply(double x, double y) { return x-y; } }\n    public static class Multiply extends Arithmetic { public double apply(double x, double y) { return x*y; } }\n    public static class Divide extends Arithmetic { public double apply(double x, double y) { return x/y; } }\n\n    public static void main(String []args){\n        Map&lt;String, Arithmetic&gt; operators = new HashMap&lt;String, Arithmetic&gt;();\n        operators.put(\"+\", new Add());\n        operators.put(\"-\", new Subtract());\n        operators.put(\"*\", new Multiply());\n        operators.put(\"/\", new Divide());\n\n        double x = 125.7214;\n        double y = 121;\n        String op = \"+\";\n\n        System.out.println(operators.get(op).apply(x,y));\n    }\n}\n</code></pre>\n\n<p>This prints <code>246.72140000000002</code>. </p>\n\n<p>By the way: actual arithmetic expressions are a <a href=\"https://en.wikipedia.org/wiki/Context-free_language\" rel=\"nofollow\">context-free language</a>, so for anything more than the simplest forms, using a regular expression to parse them won't work. Once you mix addition and multiplication, for instance, a regex-based calculator would give wrong results because it can't respect operator precedence.</p>\n\n<p>PS: <em>Yes, I know this is breaking a nut with a sledgehammer but I just thought it'd be a cool way to do it...</em></p>\n"}],"owner":{"account_id":5643758,"reputation":157,"user_id":4466633,"accept_rate":13,"display_name":"jawjaw"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5626,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1699085632,"creation_date":1463682016,"question_id":37331227,"body_markdown":"I have strange task to do in Java.\r\nWithout using any loops and if statements i have to develop simple calculator which defines all operations and numbers in one String like: &quot;126.7214        +  121&quot;\r\nI used regex to parse string and get 3 string variables [&#39;125.7214&#39;, &#39;+&#39; ,&#39;121&#39;], normally i would do if statement, parseString to integer and do if statement based on math symbol to sum those numbers, but I cant. Is there any trick in Java to do it faster? Some ready-to go library?\r\nI would appreciate any advice. :code:\r\n\r\n\r\n    import java.math.BigDecimal;\r\n    import java.math.RoundingMode;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    public class Calc {\r\n    \r\n    \tpublic String doCalc(String cmd) {\r\n    \t\t\r\n    \t\tMatcher m = Pattern.compile(&quot;\\\\S+&quot;).matcher(cmd);\r\n    \t\tm.find();\r\n    \t\tString num1= m.group(0);\r\n    \t\tm.find();\r\n    \t\tString znak = m.group(0);\r\n    \t\tm.find();\r\n    \t\tString num2 = m.group(0);\r\n    \r\n    \t\t\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\treturn result;\r\n    \t}\r\n    }  \r\n\r\n","title":"Java evaluating mathematical expressions from strings","body":"<p>I have strange task to do in Java.\nWithout using any loops and if statements i have to develop simple calculator which defines all operations and numbers in one String like: \"126.7214        +  121\"\nI used regex to parse string and get 3 string variables ['125.7214', '+' ,'121'], normally i would do if statement, parseString to integer and do if statement based on math symbol to sum those numbers, but I cant. Is there any trick in Java to do it faster? Some ready-to go library?\nI would appreciate any advice. :code:</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.math.RoundingMode;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class Calc {\n\n    public String doCalc(String cmd) {\n\n        Matcher m = Pattern.compile(\"\\\\S+\").matcher(cmd);\n        m.find();\n        String num1= m.group(0);\n        m.find();\n        String znak = m.group(0);\n        m.find();\n        String num2 = m.group(0);\n\n\n\n\n\n        return result;\n    }\n}  \n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1699084540,"post_id":77421087,"comment_id":136489185,"body_markdown":"Maybe you moved it, and it&#39;s now showing as untracked by git? Try `git status`, maybe that will tell you what changed. There isn&#39;t really a &quot;disabled&quot; class concept in IntelliJ AFAIK.","body":"Maybe you moved it, and it&#39;s now showing as untracked by git? Try <code>git status</code>, maybe that will tell you what changed. There isn&#39;t really a &quot;disabled&quot; class concept in IntelliJ AFAIK."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699090435,"post_id":77421087,"comment_id":136489590,"body_markdown":"Hover over the icon (i.e. point at it with the mouse, but don&#39;t click on it). IntelliJ should show a popup with an explanation. Please add that explanation to your post.","body":"Hover over the icon (i.e. point at it with the mouse, but don&#39;t click on it). IntelliJ should show a popup with an explanation. Please add that explanation to your post."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1699091968,"post_id":77421087,"comment_id":136489704,"body_markdown":"Humm... I was coding in other projects, and just noticed that it came back blue... I&#39;ve checked before : the file wasn&#39;t deleted, nor in `.gitignore`","body":"Humm... I was coding in other projects, and just noticed that it came back blue... I&#39;ve checked before : the file wasn&#39;t deleted, nor in <code>.gitignore</code>"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699084835,"creation_date":1699081993,"question_id":77421087,"body_markdown":"I did a wrong move with my keyboard or mouse, and now a class of mine appears disabled on _IntelliJ_.\r\n\r\nI watched the right context menu but found no clues about how to reactivate it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c8m9V.png","title":"By a false move, I disabled a Java class under IntelliJ. How to reactivate it?","body":"<p>I did a wrong move with my keyboard or mouse, and now a class of mine appears disabled on <em>IntelliJ</em>.</p>\n<p>I watched the right context menu but found no clues about how to reactivate it.</p>\n<p><a href=\"https://i.stack.imgur.com/c8m9V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c8m9V.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1654085168,"post_id":72461381,"comment_id":128006971,"body_markdown":"Just to make it clear: You want to return the content of `customers` to the caller of your endpoint? Why do you wan&#39;t to do it without annotations? If you don&#39;t want to use annotations you need to implement an own HttpServlet class by extending `HttpServlet` and handle the `doGet` method.","body":"Just to make it clear: You want to return the content of <code>customers</code> to the caller of your endpoint? Why do you wan&#39;t to do it without annotations? If you don&#39;t want to use annotations you need to implement an own HttpServlet class by extending <code>HttpServlet</code> and handle the <code>doGet</code> method."},{"owner":{"account_id":14510239,"reputation":1198,"user_id":10480869,"display_name":"cesarsotovalero"},"score":0,"creation_date":1654085460,"post_id":72461381,"comment_id":128007083,"body_markdown":"@Daniel Wosch: That&#39;s correct, In the example, I want to serve the content of `customers` to the caller of the endpoint. I want to do it without annotation to understand why is the annotation necessary in the first place, i.e., what&#39;s the benefit of using an annotation, compared with another approach.","body":"@Daniel Wosch: That&#39;s correct, In the example, I want to serve the content of <code>customers</code> to the caller of the endpoint. I want to do it without annotation to understand why is the annotation necessary in the first place, i.e., what&#39;s the benefit of using an annotation, compared with another approach."},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1654085860,"post_id":72461381,"comment_id":128007254,"body_markdown":"The annotation is necessary to tell spring that this method handles an HTTP GET on the specified path. In short: All handlers get registered internally on startup. When a request arrives it gets the corresponding handler for this path and HTTP method out of this map. That&#39;s what the annotations @ Controller and @ GetMapping are used to. Mark them so spring loads them on startup and puts them into the RequestMappingHandler Map. Without the annotation you would need to register the handler manually.","body":"The annotation is necessary to tell spring that this method handles an HTTP GET on the specified path. In short: All handlers get registered internally on startup. When a request arrives it gets the corresponding handler for this path and HTTP method out of this map. That&#39;s what the annotations @ Controller and @ GetMapping are used to. Mark them so spring loads them on startup and puts them into the RequestMappingHandler Map. Without the annotation you would need to register the handler manually."},{"owner":{"account_id":14510239,"reputation":1198,"user_id":10480869,"display_name":"cesarsotovalero"},"score":0,"creation_date":1654087639,"post_id":72461381,"comment_id":128007931,"body_markdown":"@Daniel Wosch:  Thanks for the explanation. I understand. Do you know how to write the handlers manually? That&#39;s exactly what I&#39;m asking for!","body":"@Daniel Wosch:  Thanks for the explanation. I understand. Do you know how to write the handlers manually? That&#39;s exactly what I&#39;m asking for!"},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1654088251,"post_id":72461381,"comment_id":128008172,"body_markdown":"Your method annotated with `@GetMapping` **is** the handler so you have wrote it manually ;). But I think you would like to build the whole REST service manually without spring, right? Than I suggest to google a tutorial or something like that. Because this would to go beyond the constraints of stack overflow. Otherwise: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html#registerMapping-org.springframework.web.servlet.mvc.method.RequestMappingInfo-java.lang.Object-java.lang.reflect.Method-","body":"Your method annotated with <code>@GetMapping</code> <b>is</b> the handler so you have wrote it manually ;). But I think you would like to build the whole REST service manually without spring, right? Than I suggest to google a tutorial or something like that. Because this would to go beyond the constraints of stack overflow. Otherwise: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html#registerMapping-org.springframework.web.servlet.mvc.method.RequestMappingInfo-java.lang.Object-java.lang.reflect.Method-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":0,"creation_date":1683126632,"post_id":72461381,"comment_id":134319420,"body_markdown":"`I suggest to google a tutorial or something like that` Wth kind of response is that? I think he is asking for something like that exactly, because any google on the topic will yield 1000 results that say how to use GetParam or some other combinations of other annotations. In a situation where the classloader for Spring doesn&#39;t have access to the class from another classloader, then Spring wont be able to scan these annotations; will it?","body":"<code>I suggest to google a tutorial or something like that</code> Wth kind of response is that? I think he is asking for something like that exactly, because any google on the topic will yield 1000 results that say how to use GetParam or some other combinations of other annotations. In a situation where the classloader for Spring doesn&#39;t have access to the class from another classloader, then Spring wont be able to scan these annotations; will it?"}],"answers":[{"tags":[],"owner":{"account_id":19476826,"reputation":327,"user_id":14248076,"display_name":"Paolo Tormon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699084819,"creation_date":1699084819,"answer_id":77421206,"question_id":72461381,"body_markdown":"To create a REST endpoint without Spring annotation, you will extend [HttpServlet Class][1] and override the doGet() method.\r\n\r\nHere is an example:\r\nhttps://www.youtube.com/watch?v=lvXQPCkP4X4\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/httpservlet-class-in-java/","title":"How to create a REST endpoint without using an annotation?","body":"<p>To create a REST endpoint without Spring annotation, you will extend <a href=\"https://www.geeksforgeeks.org/httpservlet-class-in-java/\" rel=\"nofollow noreferrer\">HttpServlet Class</a> and override the doGet() method.</p>\n<p>Here is an example:\n<a href=\"https://www.youtube.com/watch?v=lvXQPCkP4X4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=lvXQPCkP4X4</a></p>\n"}],"owner":{"account_id":14510239,"reputation":1198,"user_id":10480869,"display_name":"cesarsotovalero"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77421206,"answer_count":1,"score":1,"last_activity_date":1699084819,"creation_date":1654084216,"question_id":72461381,"body_markdown":"I know that I can use `@GetMapping` and a Spring controller to expose a RESTFUL endpoint. \r\nFor example: \r\n\r\n```java\r\n@Controller\r\n@ResponseBody\r\nclass CustomerRestController {\r\n\r\n  private final CustomerService cs;\r\n\r\n  CustomerRestController(CustomerService cs) {\r\n    this.cs = cs;\r\n  }\r\n\r\n  @GetMapping(&quot;/customers&quot;)\r\n  Collection&lt;Customer&gt; get() {\r\n    return this.cs.getCustomers();\r\n  }\r\n}\r\n```\r\n\r\nNow I wonder how to achieve the same functionality without using annotations.\r\nFor example, consider the following code:\r\n\r\n```java\r\n  public static void main(String[] args) throws SQLException {\r\n    var edb = new EmbeddedDatabaseBuilder()\r\n        .setType(EmbeddedDatabaseType.H2)\r\n        .build();\r\n\r\n    var cs = new CustomerService(edb);\r\n    var customers = cs.getCustomers();\r\n    \r\n    // Now I want to expose the list of customers as a RESTFUL endpoint.\r\n  }\r\n\r\n```  \r\n\r\n\r\n\r\n","title":"How to create a REST endpoint without using an annotation?","body":"<p>I know that I can use <code>@GetMapping</code> and a Spring controller to expose a RESTFUL endpoint.\nFor example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@ResponseBody\nclass CustomerRestController {\n\n  private final CustomerService cs;\n\n  CustomerRestController(CustomerService cs) {\n    this.cs = cs;\n  }\n\n  @GetMapping(&quot;/customers&quot;)\n  Collection&lt;Customer&gt; get() {\n    return this.cs.getCustomers();\n  }\n}\n</code></pre>\n<p>Now I wonder how to achieve the same functionality without using annotations.\nFor example, consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) throws SQLException {\n    var edb = new EmbeddedDatabaseBuilder()\n        .setType(EmbeddedDatabaseType.H2)\n        .build();\n\n    var cs = new CustomerService(edb);\n    var customers = cs.getCustomers();\n    \n    // Now I want to expose the list of customers as a RESTFUL endpoint.\n  }\n\n</code></pre>\n"},{"tags":["java","android","kotlin","telecom-manager"],"comments":[{"owner":{"account_id":1034061,"reputation":2899,"user_id":1041802,"accept_rate":71,"display_name":"Pepa Zapletal"},"score":0,"creation_date":1642689885,"post_id":61082868,"comment_id":125142532,"body_markdown":"Hi, did you solve this?","body":"Hi, did you solve this?"}],"answers":[{"tags":[],"owner":{"account_id":27452439,"reputation":181,"user_id":20944457,"display_name":"naveed ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699084724,"creation_date":1699084724,"answer_id":77421199,"question_id":61082868,"body_markdown":"       \r\n    \r\n     anotherCall?.conference(currentCall)\r\n     currentCall?.mergeConference();//add this line\r\n\r\n","title":"How to programmatically merge calls in Android?","body":"<pre><code> anotherCall?.conference(currentCall)\n currentCall?.mergeConference();//add this line\n</code></pre>\n"}],"owner":{"account_id":12452467,"reputation":95,"user_id":9066718,"display_name":"Manikandan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1699084724,"creation_date":1586271117,"question_id":61082868,"body_markdown":"**In Call Service**\r\n\r\nAm using [InCallService][1] to listen for incoming call and in [onCallStateChanged][2] callback am updating call state, I have successfully achieved till holding &#39;call 1&#39; and connecting &#39;call 2&#39;, so &#39;call 1&#39; is on **HOLD** and &#39;call 2&#39; is on **ACTIVE** state respectively, now when I tap on merge, it throws an error as \r\n\r\n&gt; **&quot;Unable to merge calls&quot;**\r\n\r\n\r\n\r\nAm using [Conference method][3] to merge calls\r\n\r\nFor better understanding, am posting my code below\r\n\r\n     class CallService : InCallService() {\r\n        \r\n        override fun onCallAdded(call: Call) {\r\n            super.onCallAdded(call)\r\n            CallManager.updateCall(call)\r\n\r\n        }\r\n\r\n        private val callCallback = object : Call.Callback() {\r\n            override fun onStateChanged(call: Call, state: Int) {\r\n                CallManager.updateCall(call)\r\n            }\r\n        }\r\n\r\n        override fun onCallRemoved(call: Call) {\r\n            super.onCallRemoved(call)\r\n            call.unregisterCallback(callCallback)\r\n            CallManager.updateCall(null)\r\n        }\r\n    }\r\n\r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    object CallManager {\r\n        private const val LOG_TAG = &quot;CallManager&quot;\r\n        private val subject = BehaviorSubject.create&lt;GsmCall&gt;()\r\n        private var currentCall: Call? = null\r\n        private var anotherCall: Call? = null\r\n        fun updates(): Observable&lt;GsmCall&gt; = subject\r\n\r\n\r\n        fun updateCall(call: Call?) {\r\n            if (currentCall != null) {\r\n                call?.let {\r\n                    if (it.details.handle.schemeSpecificPart ==\r\n                        currentCall!!.details.handle.schemeSpecificPart\r\n                    )\r\n                        currentCall = call\r\n                    else anotherCall = call\r\n                }\r\n            } else currentCall = call\r\n            call?.let {\r\n                subject.onNext(it.toGsmCall())\r\n            }\r\n        }\r\n\r\n\r\n        fun cancelCall() {\r\n            currentCall?.let {\r\n                when (it.state) {\r\n                    Call.STATE_RINGING -&gt; rejectCall()\r\n                    else -&gt; disconnectCall()\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        fun holdCall() {\r\n            currentCall?.let {\r\n                when (it.state) {\r\n                    Call.STATE_ACTIVE -&gt; currentCall?.hold()\r\n                    else -&gt; Log.i(LOG_TAG, &quot;Call not in connected state&quot;)\r\n                }\r\n            }\r\n        }\r\n\r\n    //Conference call method\r\n        fun conferenceCall() {\r\n            anotherCall?.conference(currentCall)\r\n        }\r\n\r\n        fun swapConferenceCall() {\r\n            currentCall?.swapConference()\r\n        }\r\n\r\n        fun mergeConferenceCall() {\r\n            currentCall?.mergeConference()\r\n        }\r\n\r\n        fun unHoldCall() {\r\n            currentCall?.let {\r\n                when (it.state) {\r\n                    Call.STATE_HOLDING -&gt; currentCall?.unhold()\r\n                    else -&gt; Log.i(LOG_TAG, &quot;Call not in connected state&quot;)\r\n                }\r\n            }\r\n        }\r\n\r\n        fun isCallOnHold(): Boolean {\r\n            currentCall?.let {\r\n\r\n                return when (it.state) {\r\n                    Call.STATE_HOLDING -&gt; true\r\n                    else -&gt; false\r\n                }\r\n            }\r\n            return false\r\n        }\r\n\r\n        fun acceptCall() {\r\n            Log.i(LOG_TAG, &quot;acceptCall&quot;)\r\n            currentCall?.let {\r\n                it.answer(it.details.videoState)\r\n            }\r\n        }\r\n\r\n        private fun rejectCall() {\r\n            Log.i(LOG_TAG, &quot;rejectCall&quot;)\r\n            currentCall?.reject(false, &quot;&quot;)\r\n        }\r\n\r\n        private fun disconnectCall() {\r\n            Log.i(LOG_TAG, &quot;disconnectCall&quot;)\r\n            currentCall?.disconnect()\r\n        }\r\n\r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/telecom/InCallService\r\n  [2]: https://developer.android.com/reference/android/telephony/PhoneStateListener#onCallStateChanged(int,%20java.lang.String)\r\n  [3]: https://developer.android.com/reference/android/telecom/Call#conference(android.telecom.Call)","title":"How to programmatically merge calls in Android?","body":"<p><strong>In Call Service</strong></p>\n\n<p>Am using <a href=\"https://developer.android.com/reference/android/telecom/InCallService\" rel=\"nofollow noreferrer\">InCallService</a> to listen for incoming call and in <a href=\"https://developer.android.com/reference/android/telephony/PhoneStateListener#onCallStateChanged(int,%20java.lang.String)\" rel=\"nofollow noreferrer\">onCallStateChanged</a> callback am updating call state, I have successfully achieved till holding 'call 1' and connecting 'call 2', so 'call 1' is on <strong>HOLD</strong> and 'call 2' is on <strong>ACTIVE</strong> state respectively, now when I tap on merge, it throws an error as </p>\n\n<blockquote>\n  <p><strong>\"Unable to merge calls\"</strong></p>\n</blockquote>\n\n<p>Am using <a href=\"https://developer.android.com/reference/android/telecom/Call#conference(android.telecom.Call)\" rel=\"nofollow noreferrer\">Conference method</a> to merge calls</p>\n\n<p>For better understanding, am posting my code below</p>\n\n<pre><code> class CallService : InCallService() {\n\n    override fun onCallAdded(call: Call) {\n        super.onCallAdded(call)\n        CallManager.updateCall(call)\n\n    }\n\n    private val callCallback = object : Call.Callback() {\n        override fun onStateChanged(call: Call, state: Int) {\n            CallManager.updateCall(call)\n        }\n    }\n\n    override fun onCallRemoved(call: Call) {\n        super.onCallRemoved(call)\n        call.unregisterCallback(callCallback)\n        CallManager.updateCall(null)\n    }\n}\n\n\n@TargetApi(Build.VERSION_CODES.M)\nobject CallManager {\n    private const val LOG_TAG = \"CallManager\"\n    private val subject = BehaviorSubject.create&lt;GsmCall&gt;()\n    private var currentCall: Call? = null\n    private var anotherCall: Call? = null\n    fun updates(): Observable&lt;GsmCall&gt; = subject\n\n\n    fun updateCall(call: Call?) {\n        if (currentCall != null) {\n            call?.let {\n                if (it.details.handle.schemeSpecificPart ==\n                    currentCall!!.details.handle.schemeSpecificPart\n                )\n                    currentCall = call\n                else anotherCall = call\n            }\n        } else currentCall = call\n        call?.let {\n            subject.onNext(it.toGsmCall())\n        }\n    }\n\n\n    fun cancelCall() {\n        currentCall?.let {\n            when (it.state) {\n                Call.STATE_RINGING -&gt; rejectCall()\n                else -&gt; disconnectCall()\n            }\n        }\n    }\n\n\n    fun holdCall() {\n        currentCall?.let {\n            when (it.state) {\n                Call.STATE_ACTIVE -&gt; currentCall?.hold()\n                else -&gt; Log.i(LOG_TAG, \"Call not in connected state\")\n            }\n        }\n    }\n\n//Conference call method\n    fun conferenceCall() {\n        anotherCall?.conference(currentCall)\n    }\n\n    fun swapConferenceCall() {\n        currentCall?.swapConference()\n    }\n\n    fun mergeConferenceCall() {\n        currentCall?.mergeConference()\n    }\n\n    fun unHoldCall() {\n        currentCall?.let {\n            when (it.state) {\n                Call.STATE_HOLDING -&gt; currentCall?.unhold()\n                else -&gt; Log.i(LOG_TAG, \"Call not in connected state\")\n            }\n        }\n    }\n\n    fun isCallOnHold(): Boolean {\n        currentCall?.let {\n\n            return when (it.state) {\n                Call.STATE_HOLDING -&gt; true\n                else -&gt; false\n            }\n        }\n        return false\n    }\n\n    fun acceptCall() {\n        Log.i(LOG_TAG, \"acceptCall\")\n        currentCall?.let {\n            it.answer(it.details.videoState)\n        }\n    }\n\n    private fun rejectCall() {\n        Log.i(LOG_TAG, \"rejectCall\")\n        currentCall?.reject(false, \"\")\n    }\n\n    private fun disconnectCall() {\n        Log.i(LOG_TAG, \"disconnectCall\")\n        currentCall?.disconnect()\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699083821,"creation_date":1699083341,"answer_id":77421146,"question_id":77420768,"body_markdown":"The `RecylerView` repeats whatever you list item layout defines. Currently, the list item is defined to take full screen height, hence each item takes full screen, so only after you scroll you see other items. You should change your list item to take only the required height.\r\nChange layout height to `wrap_content` for your hospital_design.xml layout.\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n```\r\n\r\nSecond, I see some issues with the layout as well.\r\n```\r\n&lt;ImageView\r\n        android:id=&quot;@+id/listEdit_tv&quot;\r\n        android:layout_width=&quot;134dp&quot;\r\n        android:layout_height=&quot;91dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_marginStart=&quot;2dp&quot;\r\n        android:layout_marginTop=&quot;17dp&quot;\r\n        android:layout_marginEnd=&quot;260dp&quot;\r\n        android:layout_marginBottom=&quot;726dp&quot; // remove this\r\n        app:srcCompat=&quot;@drawable/nuribom&quot;\r\n/&gt;\r\n```\r\nHere to your `ImageView` you have given margin from bottom, which is not required since it is aligned relative to top side. You should remove this as well. Then you list item will take only the height that is required.","title":"Android Studio Recycler View Interval Error (when running emulator)","body":"<p>The <code>RecylerView</code> repeats whatever you list item layout defines. Currently, the list item is defined to take full screen height, hence each item takes full screen, so only after you scroll you see other items. You should change your list item to take only the required height.\nChange layout height to <code>wrap_content</code> for your hospital_design.xml layout.</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n</code></pre>\n<p>Second, I see some issues with the layout as well.</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/listEdit_tv&quot;\n        android:layout_width=&quot;134dp&quot;\n        android:layout_height=&quot;91dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;2dp&quot;\n        android:layout_marginTop=&quot;17dp&quot;\n        android:layout_marginEnd=&quot;260dp&quot;\n        android:layout_marginBottom=&quot;726dp&quot; // remove this\n        app:srcCompat=&quot;@drawable/nuribom&quot;\n/&gt;\n</code></pre>\n<p>Here to your <code>ImageView</code> you have given margin from bottom, which is not required since it is aligned relative to top side. You should remove this as well. Then you list item will take only the height that is required.</p>\n"}],"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77421146,"answer_count":1,"score":1,"last_activity_date":1699083821,"creation_date":1699072849,"question_id":77420768,"body_markdown":"We implemented the Animal Hospitals list with Recycler View and executed it with an emulator.\r\nHowever, if you scroll as shown in the picture, the gap comes out farther.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wv6DJ.png\r\n\r\nWhat kind of problem? Is it a layout problem? I&#39;d appreciate it if you could tell me the answer.\r\n\r\nCorresponding xml code:\r\n\r\nhospital_design.xml (This is the Recycler View design screen.)\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/listEdit_tv&quot;\r\n            android:layout_width=&quot;134dp&quot;\r\n            android:layout_height=&quot;91dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;2dp&quot;\r\n            android:layout_marginTop=&quot;17dp&quot;\r\n            android:layout_marginEnd=&quot;260dp&quot;\r\n            android:layout_marginBottom=&quot;726dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n            app:srcCompat=&quot;@drawable/nuribom&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/title_tv&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;135dp&quot;\r\n            android:layout_marginTop=&quot;23dp&quot;\r\n            android:text=&quot;누리봄 동물병원&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;15dp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/addr_tv&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/title_tv&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;135dp&quot;\r\n            android:layout_marginTop=&quot;54dp&quot;\r\n            android:text=&quot;서울특별시 종로구 사직로12길 2&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/phone_tv&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/addr_tv&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;136dp&quot;\r\n            android:layout_marginTop=&quot;86dp&quot;\r\n            android:text=&quot;02-735-7530&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/guri_tv&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/addr_tv&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginTop=&quot;86dp&quot;\r\n            android:layout_marginEnd=&quot;64dp&quot;\r\n            android:text=&quot;491m&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nactivity_hospital.xml (This is the animal hospital list screen where you can see the Recycler view.)\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/hos_back&quot;\r\n            style=&quot;?android:borderlessButtonStyle&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:srcCompat=&quot;@drawable/baseline_arrow_back_24&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView16&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginStart=&quot;67dp&quot;\r\n            android:layout_marginTop=&quot;13dp&quot;\r\n            android:text=&quot;주변 병원&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;15dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/hospital_list&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/hos_back&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginTop=&quot;61dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:layout_marginBottom=&quot;4dp&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAll layouts used RelativeLayout.\r\nI&#39;d appreciate it if you could tell me how.","title":"Android Studio Recycler View Interval Error (when running emulator)","body":"<p>We implemented the Animal Hospitals list with Recycler View and executed it with an emulator.\nHowever, if you scroll as shown in the picture, the gap comes out farther.\n<a href=\"https://i.stack.imgur.com/Wv6DJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What kind of problem? Is it a layout problem? I'd appreciate it if you could tell me the answer.</p>\n<p>Corresponding xml code:</p>\n<p>hospital_design.xml (This is the Recycler View design screen.)</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/listEdit_tv&quot;\n        android:layout_width=&quot;134dp&quot;\n        android:layout_height=&quot;91dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;2dp&quot;\n        android:layout_marginTop=&quot;17dp&quot;\n        android:layout_marginEnd=&quot;260dp&quot;\n        android:layout_marginBottom=&quot;726dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\n        app:srcCompat=&quot;@drawable/nuribom&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/title_tv&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginStart=&quot;135dp&quot;\n        android:layout_marginTop=&quot;23dp&quot;\n        android:text=&quot;누리봄 동물병원&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;15dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/addr_tv&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/title_tv&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginStart=&quot;135dp&quot;\n        android:layout_marginTop=&quot;54dp&quot;\n        android:text=&quot;서울특별시 종로구 사직로12길 2&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/phone_tv&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/addr_tv&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginStart=&quot;136dp&quot;\n        android:layout_marginTop=&quot;86dp&quot;\n        android:text=&quot;02-735-7530&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/guri_tv&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/addr_tv&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginTop=&quot;86dp&quot;\n        android:layout_marginEnd=&quot;64dp&quot;\n        android:text=&quot;491m&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>activity_hospital.xml (This is the animal hospital list screen where you can see the Recycler view.)</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/hos_back&quot;\n        style=&quot;?android:borderlessButtonStyle&quot;\n        android:layout_width=&quot;60dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:srcCompat=&quot;@drawable/baseline_arrow_back_24&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView16&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginStart=&quot;67dp&quot;\n        android:layout_marginTop=&quot;13dp&quot;\n        android:text=&quot;주변 병원&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;15dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/hospital_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/hos_back&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;61dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;4dp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>All layouts used RelativeLayout.\nI'd appreciate it if you could tell me how.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1698852989,"post_id":77403770,"comment_id":136458055,"body_markdown":"Does it mean for step 3 you want to execute all processHeader, processContent and processFooter? Not only processFooter","body":"Does it mean for step 3 you want to execute all processHeader, processContent and processFooter? Not only processFooter"},{"owner":{"account_id":397984,"reputation":535,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1698853058,"post_id":77403770,"comment_id":136458077,"body_markdown":"@gdomo - Yes that&#39;s rights","body":"@gdomo - Yes that&#39;s rights"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":1,"creation_date":1698854475,"post_id":77403770,"comment_id":136458359,"body_markdown":"*What could be cleaner, readable and easily maintainable way to do this?* will, most likely, give you an opinion-based answer. If there is anything specific you&#39;re not happy about, please be more specific in your question as well. Otherwise, &quot;how can this be better&quot; is very broad.","body":"<i>What could be cleaner, readable and easily maintainable way to do this?</i> will, most likely, give you an opinion-based answer. If there is anything specific you&#39;re not happy about, please be more specific in your question as well. Otherwise, &quot;how can this be better&quot; is very broad."},{"owner":{"account_id":397984,"reputation":535,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1698854946,"post_id":77403770,"comment_id":136458464,"body_markdown":"@GiorgiTsiklauri thanks, tried to be more specific now.","body":"@GiorgiTsiklauri thanks, tried to be more specific now."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1698855502,"post_id":77403770,"comment_id":136458563,"body_markdown":"Looks like programming antipattern. What&#39;s the reason to pass `int step` into the method?","body":"Looks like programming antipattern. What&#39;s the reason to pass <code>int step</code> into the method?"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698853010,"creation_date":1698853010,"answer_id":77403814,"question_id":77403770,"body_markdown":"The straightforward way is do what you do, but use `&lt;=` to invoke only methods you need depending on the given `step`.\r\n\r\n```java\r\npublic void process(Document document, int step) {\r\n    if (step &lt;= 0)\r\n        this.processHeader(document);\r\n    if (step &lt;= 1)\r\n        this.processContent(document);\r\n    if (step &lt;= 2)\r\n        this.processFooter(document);\r\n    \r\n    // ...\r\n}\r\n```","title":"How to control the execution based on logical input parameter in a method in Java","body":"<p>The straightforward way is do what you do, but use <code>&lt;=</code> to invoke only methods you need depending on the given <code>step</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void process(Document document, int step) {\n    if (step &lt;= 0)\n        this.processHeader(document);\n    if (step &lt;= 1)\n        this.processContent(document);\n    if (step &lt;= 2)\n        this.processFooter(document);\n    \n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698853201,"creation_date":1698853201,"answer_id":77403837,"question_id":77403770,"body_markdown":"A more involved solution would be to redesign your application using the [command pattern][1] for each process and an array or list of commands to be executed. It may be overkill for a low number of commands but it scale better and be more generic and dynamic.  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Command_pattern","title":"How to control the execution based on logical input parameter in a method in Java","body":"<p>A more involved solution would be to redesign your application using the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">command pattern</a> for each process and an array or list of commands to be executed. It may be overkill for a low number of commands but it scale better and be more generic and dynamic.</p>\n"},{"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698855352,"creation_date":1698854986,"answer_id":77404049,"question_id":77403770,"body_markdown":"How much refactoring can you do?  Adding on to Oleg&#39;s answer, another approach would be to move the `if` to the step method so the `process` method body becomes fluent. Also change `step` type to an enum, along with some name changes to clarify intent.\r\n \r\n\r\n    enum DocumentProcessStep {\r\n       PROCESS_HEADER,\r\n       PROCESS_CONTENT,\r\n       PROCESS_FOOTER,\r\n    }\r\n    \r\n    class DocumentProcesser {\r\n\r\n        public void process(Document doucment, DocumentProcessStep startWith) {\r\n            processHeaderIfNeeded(document, startWith)\r\n                .processContentIfNeeded(document, startWith)\r\n                .processFooterIfNeeded(document, startWith);\r\n        }\r\n\r\n        private DocumentProcesser processContentIfNeeded(Document document, DocumentProcessStep step) \r\n        {\r\n            if (step &lt;= DocumentProcessStep.PROCESS_HEADER ) {\r\n               // ...\r\n            }\r\n \r\n           return this;\r\n        }\r\n\r\n        private DocumentProcesser processHeaderIfNeeded(Document document, DocumentProcessStep step) \r\n        {\r\n            if (step &lt;= DocumentProcessStep.PROCESS_CONTENT ) {\r\n               // ...\r\n            }\r\n \r\n           return this;\r\n        }\r\n\r\n        private DocumentProcesser processFooterIfNeeded(Document document, DocumentProcessStep step) \r\n        {\r\n            if (step &lt;= DocumentProcessStep.PROCESS_FOOTER) {\r\n               // ...\r\n            }\r\n \r\n           return this;\r\n        }\r\n    }\r\n\r\n","title":"How to control the execution based on logical input parameter in a method in Java","body":"<p>How much refactoring can you do?  Adding on to Oleg's answer, another approach would be to move the <code>if</code> to the step method so the <code>process</code> method body becomes fluent. Also change <code>step</code> type to an enum, along with some name changes to clarify intent.</p>\n<pre><code>enum DocumentProcessStep {\n   PROCESS_HEADER,\n   PROCESS_CONTENT,\n   PROCESS_FOOTER,\n}\n\nclass DocumentProcesser {\n\n    public void process(Document doucment, DocumentProcessStep startWith) {\n        processHeaderIfNeeded(document, startWith)\n            .processContentIfNeeded(document, startWith)\n            .processFooterIfNeeded(document, startWith);\n    }\n\n    private DocumentProcesser processContentIfNeeded(Document document, DocumentProcessStep step) \n    {\n        if (step &lt;= DocumentProcessStep.PROCESS_HEADER ) {\n           // ...\n        }\n\n       return this;\n    }\n\n    private DocumentProcesser processHeaderIfNeeded(Document document, DocumentProcessStep step) \n    {\n        if (step &lt;= DocumentProcessStep.PROCESS_CONTENT ) {\n           // ...\n        }\n\n       return this;\n    }\n\n    private DocumentProcesser processFooterIfNeeded(Document document, DocumentProcessStep step) \n    {\n        if (step &lt;= DocumentProcessStep.PROCESS_FOOTER) {\n           // ...\n        }\n\n       return this;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698855124,"creation_date":1698855124,"answer_id":77404067,"question_id":77403770,"body_markdown":"Each step can be represented as an action/command. I will use `Consumer&lt;Document&gt;`, but you can use your own abstraction, if it fits the scenario better. Since the order matters, use a collection like `List` to keep the required actions in order.\r\n```\r\nList&lt;Consumer&lt;Document&gt;&gt; actions = List.of(\r\n        document -&gt; processHeader(document),\r\n        document -&gt; processContent(document),\r\n        document -&gt; processFooter(document)\r\n);\r\n```\r\nA processor class handling the actions:\r\n```\r\npublic class Processor {\r\n\r\n  private final List&lt;Consumer&lt;Document&gt;&gt; actions;\r\n\r\n  public Processor(List&lt;Consumer&lt;Document&gt;&gt; actions) {\r\n    this.actions = actions;\r\n  }\r\n\r\n  public void process(Document document, int step) {\r\n    for (int i = 0; i &lt; actions.size(); i++) {\r\n      Consumer&lt;Document&gt; action = actions.get(i);\r\n      action.accept(document);\r\n      int currentStep = i + 1;\r\n      if (currentStep == step) {\r\n        return;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nIt may be appropriate to make the step of each `Action` as part of the API in order to avoid working with the indexes as in this example.\r\n```\r\npublic interface Action {\r\n  \r\n  void accept(Document document);\r\n  int getStep();\r\n}\r\n```","title":"How to control the execution based on logical input parameter in a method in Java","body":"<p>Each step can be represented as an action/command. I will use <code>Consumer&lt;Document&gt;</code>, but you can use your own abstraction, if it fits the scenario better. Since the order matters, use a collection like <code>List</code> to keep the required actions in order.</p>\n<pre><code>List&lt;Consumer&lt;Document&gt;&gt; actions = List.of(\n        document -&gt; processHeader(document),\n        document -&gt; processContent(document),\n        document -&gt; processFooter(document)\n);\n</code></pre>\n<p>A processor class handling the actions:</p>\n<pre><code>public class Processor {\n\n  private final List&lt;Consumer&lt;Document&gt;&gt; actions;\n\n  public Processor(List&lt;Consumer&lt;Document&gt;&gt; actions) {\n    this.actions = actions;\n  }\n\n  public void process(Document document, int step) {\n    for (int i = 0; i &lt; actions.size(); i++) {\n      Consumer&lt;Document&gt; action = actions.get(i);\n      action.accept(document);\n      int currentStep = i + 1;\n      if (currentStep == step) {\n        return;\n      }\n    }\n  }\n}\n</code></pre>\n<p>It may be appropriate to make the step of each <code>Action</code> as part of the API in order to avoid working with the indexes as in this example.</p>\n<pre><code>public interface Action {\n  \n  void accept(Document document);\n  int getStep();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698873172,"creation_date":1698855659,"answer_id":77404112,"question_id":77403770,"body_markdown":"&gt; _&quot;How to control the execution based on logical input parameter in a method in Java ...\\\r\n&gt;\\\r\n&gt; ... What could be cleaner, readable and easily maintainable way to do this? ...&quot;_\r\n\r\nYou&#39;re asking for many different re-factors.\r\n\r\n_Logically_, you can use a _[class structure](https://docs.oracle.com/javase/tutorial/java/javaOO/index.html)_ to distribute _document_.\\\r\nAnd, _[methods](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_ to _encapsulate_ the _processes_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass Process {\r\n    Document document;\r\n\r\n    void a() {\r\n        processHeader(document);\r\n    }\r\n\r\n    void b() {\r\n        a();\r\n        processContent(document);\r\n    }\r\n\r\n    void c() {\r\n        b();\r\n        processFooter(document);\r\n    }\r\n}\r\n```\r\n\r\nA _&quot;cleaner, readable and easily maintainable way&quot;_, would be to just format the code.\r\n\r\n```java\r\nvoid process(Document document, int step) {\r\n    this.processHeader(document);\r\n    if(step==1) return;\r\n    this.processContent(document);\r\n    if(step==2) return;\r\n    this.processFooter(document);\r\n}\r\n```\r\n\r\nI guess you could adjust the _[relational operators](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html)_, although you&#39;re currently using an &quot;early-return&quot; design, which is actually more _logical_.\r\n\r\n```java\r\nvoid process(Document document, int step) {\r\n    if (step &gt; 0) this.processHeader(document);\r\n    if (step &gt; 1) this.processContent(document);\r\n    if (step &gt; 2) this.processFooter(document);\r\n}\r\n```\r\n\r\nRealistically, you&#39;re looking for an _[agile design principle](https://en.wikipedia.org/wiki/Agile_software_development)_.\\\r\nKeep in mind, these can be confusing, and they are not tailored for every abstraction.","title":"How to control the execution based on logical input parameter in a method in Java","body":"<blockquote>\n<p><em>&quot;How to control the execution based on logical input parameter in a method in Java ...<br />\n<br />\n... What could be cleaner, readable and easily maintainable way to do this? ...&quot;</em></p>\n</blockquote>\n<p>You're asking for many different re-factors.</p>\n<p><em>Logically</em>, you can use a <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">class structure</a></em> to distribute <em>document</em>.<br />\nAnd, <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">methods</a></em> to <em>encapsulate</em> the <em>processes</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Process {\n    Document document;\n\n    void a() {\n        processHeader(document);\n    }\n\n    void b() {\n        a();\n        processContent(document);\n    }\n\n    void c() {\n        b();\n        processFooter(document);\n    }\n}\n</code></pre>\n<p>A <em>&quot;cleaner, readable and easily maintainable way&quot;</em>, would be to just format the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void process(Document document, int step) {\n    this.processHeader(document);\n    if(step==1) return;\n    this.processContent(document);\n    if(step==2) return;\n    this.processFooter(document);\n}\n</code></pre>\n<p>I guess you could adjust the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">relational operators</a></em>, although you're currently using an &quot;early-return&quot; design, which is actually more <em>logical</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void process(Document document, int step) {\n    if (step &gt; 0) this.processHeader(document);\n    if (step &gt; 1) this.processContent(document);\n    if (step &gt; 2) this.processFooter(document);\n}\n</code></pre>\n<p>Realistically, you're looking for an <em><a href=\"https://en.wikipedia.org/wiki/Agile_software_development\" rel=\"nofollow noreferrer\">agile design principle</a></em>.<br />\nKeep in mind, these can be confusing, and they are not tailored for every abstraction.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698856463,"creation_date":1698855989,"answer_id":77404143,"question_id":77403770,"body_markdown":"It&#39;s still not clear what&#39;s wrong with your code or why you don&#39;t like `switch`, for example, but if your sole question is how not to use &quot;if-then-else&quot;, then I&#39;d have used `switch expression`s, if you&#39;re using Java 14 or higher:\r\n\r\n```java\r\npublic int process(Document document, int step) {\r\n    this.processHeader(document);\r\n\r\n    return switch (step) {\r\n        case 1 -&gt;  //expression #1;\r\n        case 2 -&gt;  //expression #2;\r\n        case 3 -&gt;  //expression #3;\r\n        default -&gt; //expression or throw\r\n    };\r\n}\r\n```\r\n\r\nIf you&#39;re having Java version &lt; 14, then go with simple `switch`, as:\r\n\r\n```java\r\npublic int process(Document document, int step) {\r\n    this.processHeader(document);\r\n\r\n    switch (step) {\r\n        case 1:  //return code #1;\r\n        case 2:  //return code #2;\r\n        default: //return code #3;\r\n    }\r\n}\r\n```","title":"How to control the execution based on logical input parameter in a method in Java","body":"<p>It's still not clear what's wrong with your code or why you don't like <code>switch</code>, for example, but if your sole question is how not to use &quot;if-then-else&quot;, then I'd have used <code>switch expression</code>s, if you're using Java 14 or higher:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int process(Document document, int step) {\n    this.processHeader(document);\n\n    return switch (step) {\n        case 1 -&gt;  //expression #1;\n        case 2 -&gt;  //expression #2;\n        case 3 -&gt;  //expression #3;\n        default -&gt; //expression or throw\n    };\n}\n</code></pre>\n<p>If you're having Java version &lt; 14, then go with simple <code>switch</code>, as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int process(Document document, int step) {\n    this.processHeader(document);\n\n    switch (step) {\n        case 1:  //return code #1;\n        case 2:  //return code #2;\n        default: //return code #3;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":397984,"reputation":535,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":6,"score":-1,"last_activity_date":1699083331,"creation_date":1698852563,"question_id":77403770,"body_markdown":"I have below method where based on the step passed I need to decide where to return from. Is there a way to implement the same without having to write the if statements? (Fine with redesigning the method)\r\n\r\n(With Switch-Case I can do the reverse of it i.e. execute specified step and all others after it, for e.g. if step=3 then execute 3,4,5 and so on)\r\n\r\n    public void process(Document document, int step) {\r\n        this.processHeader(document);\r\n        \r\n        if(step==1) {\r\n          return;\r\n        }\r\n\r\n        this.processContent(document);\r\n        \r\n        if(step==2) {\r\n          return;\r\n        }\r\n\r\n        this.processFooter(document);\r\n        \r\n        if(step==3) {\r\n          return;\r\n        }\r\n\r\n        // and so on\r\n    }","title":"How to control the execution based on logical input parameter in a method in Java","body":"<p>I have below method where based on the step passed I need to decide where to return from. Is there a way to implement the same without having to write the if statements? (Fine with redesigning the method)</p>\n<p>(With Switch-Case I can do the reverse of it i.e. execute specified step and all others after it, for e.g. if step=3 then execute 3,4,5 and so on)</p>\n<pre><code>public void process(Document document, int step) {\n    this.processHeader(document);\n    \n    if(step==1) {\n      return;\n    }\n\n    this.processContent(document);\n    \n    if(step==2) {\n      return;\n    }\n\n    this.processFooter(document);\n    \n    if(step==3) {\n      return;\n    }\n\n    // and so on\n}\n</code></pre>\n"},{"tags":["java","android","sum","logic"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699085558,"post_id":77421061,"comment_id":136489238,"body_markdown":"Conversions and data types won&#39;t solve this.  What you are trying to do is *evaluate an expression* represented by a string.  There is no builtin support in Java SE for that.  So you either need to find a 3rd-party expression evaluator (capable of understanding your expression language) or write one yourself.  The latter may be simple ... or complicated ... depending on your &quot;language&quot;.  (The single example you have shown would be simple. But we can generalize from a single example to the entire language that you envisage.)","body":"Conversions and data types won&#39;t solve this.  What you are trying to do is <i>evaluate an expression</i> represented by a string.  There is no builtin support in Java SE for that.  So you either need to find a 3rd-party expression evaluator (capable of understanding your expression language) or write one yourself.  The latter may be simple ... or complicated ... depending on your &quot;language&quot;.  (The single example you have shown would be simple. But we can generalize from a single example to the entire language that you envisage.)"}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699082894,"creation_date":1699082894,"answer_id":77421125,"question_id":77421061,"body_markdown":"You can `split` the String into smaller strings and then process.\r\n```\r\nString input = &quot;100.0 + 50.0 + 20.0&quot;;\r\nString[] parts = input.split(&quot; &quot;); // split where there is a space\r\n```\r\nThe result of the splitting will be\r\n```\r\n[100.0 , + , 50.0 , + , 20.0] \r\n```\r\nNow, you can process the numbers and ignore the &#39;+&#39; sign.\r\n```\r\ndouble sum = 0.0;\r\nfor(String s : numbers){\r\n     if(s.equals(&quot;+&quot;) || s.isEmpty())\r\n         continue; // ignore spaces and + sign\r\n     double number = Double.parseDouble(s);   // convert others to double\r\n     sum += number;  // calculate the sum\r\n}\r\nSystem.out.println(sum);\r\n```\r\n\r\nNOTE : This approach will not work if there isn&#39;t space between numbers in your input i.e. if input is like &quot;150+70+20&quot; this will not work. This is very basic approach, if you have complex use cases, better to use some library. ","title":"I need to get sum of numbers present in a string java android","body":"<p>You can <code>split</code> the String into smaller strings and then process.</p>\n<pre><code>String input = &quot;100.0 + 50.0 + 20.0&quot;;\nString[] parts = input.split(&quot; &quot;); // split where there is a space\n</code></pre>\n<p>The result of the splitting will be</p>\n<pre><code>[100.0 , + , 50.0 , + , 20.0] \n</code></pre>\n<p>Now, you can process the numbers and ignore the '+' sign.</p>\n<pre><code>double sum = 0.0;\nfor(String s : numbers){\n     if(s.equals(&quot;+&quot;) || s.isEmpty())\n         continue; // ignore spaces and + sign\n     double number = Double.parseDouble(s);   // convert others to double\n     sum += number;  // calculate the sum\n}\nSystem.out.println(sum);\n</code></pre>\n<p>NOTE : This approach will not work if there isn't space between numbers in your input i.e. if input is like &quot;150+70+20&quot; this will not work. This is very basic approach, if you have complex use cases, better to use some library.</p>\n"}],"owner":{"account_id":22079684,"reputation":11,"user_id":16339429,"display_name":"Diti app"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1699099820,"answer_count":1,"score":0,"last_activity_date":1699082894,"creation_date":1699081373,"question_id":77421061,"body_markdown":"Input String s = &quot;100.0 + 50.0 + 20.0&quot;\r\n\r\nrequired Output Sum = 170.0\r\n\r\nI tried multiple conversions and datatypes but not working as expected, even check stack overflow and other sites but still not really sure how to do this.\r\nI tried multiple conversions and datatypes but not working as expected, even check stack overflow and other sites but still not really sure how to do this.","title":"I need to get sum of numbers present in a string java android","body":"<p>Input String s = &quot;100.0 + 50.0 + 20.0&quot;</p>\n<p>required Output Sum = 170.0</p>\n<p>I tried multiple conversions and datatypes but not working as expected, even check stack overflow and other sites but still not really sure how to do this.\nI tried multiple conversions and datatypes but not working as expected, even check stack overflow and other sites but still not really sure how to do this.</p>\n"},{"tags":["java","gradle","kotlin-multiplatform"],"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699082213,"creation_date":1699082213,"question_id":77421100,"body_markdown":"I am receiving an unexpected Gradle error and I would like to know what it means, the full error message I see is:\r\n\r\n```\r\nCan only transition State of build &#39;:game-api&#39; to state BuildFinishHooks from states [Configure, TaskSchedule, ReadyToRun] however it is currently in state ReadyToReset.\r\n```\r\n\r\nThis error occurs whenever I try to &quot;Rebuild&quot; classes in IntelliJ for a gradle application (JavaExec Gradle task) that I am running in debug mode. Normally Intellij should recompile the changed classes and reload them. \r\n\r\nA simplified version of my setup is as follows:\r\n\r\nroot\r\n - game-api (Kotlin MultiPlatform project)\r\n - game-app (Jvm project)\r\n - game-engine (Jvm project)\r\n\r\nWhere game-engine is a JVM project that is included as a build in the settings.gradle.kts in root, game-app is a sub-project of root which defines the run task, and game-api is included as a build in the settings.gradle.kts of game-engine.\r\n\r\nI have a similar structure setup elsewhere which makes me suspect this has something to do with kotlin multiplatform, I tried finding some more details on this error but I cannot find any other references to it. \r\n\r\nCould a gradle guru explain how to troubleshoot this error?","title":"Can only transition State of build to state BuildFinishHooks from states [Configure, TaskSchedule, ReadyToRun]","body":"<p>I am receiving an unexpected Gradle error and I would like to know what it means, the full error message I see is:</p>\n<pre><code>Can only transition State of build ':game-api' to state BuildFinishHooks from states [Configure, TaskSchedule, ReadyToRun] however it is currently in state ReadyToReset.\n</code></pre>\n<p>This error occurs whenever I try to &quot;Rebuild&quot; classes in IntelliJ for a gradle application (JavaExec Gradle task) that I am running in debug mode. Normally Intellij should recompile the changed classes and reload them.</p>\n<p>A simplified version of my setup is as follows:</p>\n<p>root</p>\n<ul>\n<li>game-api (Kotlin MultiPlatform project)</li>\n<li>game-app (Jvm project)</li>\n<li>game-engine (Jvm project)</li>\n</ul>\n<p>Where game-engine is a JVM project that is included as a build in the settings.gradle.kts in root, game-app is a sub-project of root which defines the run task, and game-api is included as a build in the settings.gradle.kts of game-engine.</p>\n<p>I have a similar structure setup elsewhere which makes me suspect this has something to do with kotlin multiplatform, I tried finding some more details on this error but I cannot find any other references to it.</p>\n<p>Could a gradle guru explain how to troubleshoot this error?</p>\n"},{"tags":["java","android","node.js","android-studio","google-play-integrity-api"],"comments":[{"owner":{"account_id":12488095,"reputation":1057,"user_id":9090647,"display_name":"Bilal Naeem"},"score":0,"creation_date":1699098829,"post_id":77421095,"comment_id":136490311,"body_markdown":"Did you upload this test version to play store as well?","body":"Did you upload this test version to play store as well?"},{"owner":{"account_id":19545316,"reputation":41,"user_id":14302265,"display_name":"Mahesh Mahadar"},"score":0,"creation_date":1699100483,"post_id":77421095,"comment_id":136490443,"body_markdown":"@BilalNaeem yes .... while rolling out google showing that warning.","body":"@BilalNaeem yes .... while rolling out google showing that warning."}],"owner":{"account_id":19545316,"reputation":41,"user_id":14302265,"display_name":"Mahesh Mahadar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699082091,"creation_date":1699082091,"question_id":77421095,"body_markdown":"I read many documentations but I don&#39;t understand clearly.\r\ni have done all these things.\r\n1.firebase project link google console app.\r\n2.enebled Play Integrity APL in google console and in google cloud also.\r\nthey showing play integrity api enabled.\r\n\r\n\r\nNow the question is how to integrate in android app and how to validate request at server\r\nI am using java in android studio and node js on server\r\n\r\nThank you :)\r\n\r\n\r\nI got this piece of code somewhere I applied this code at splash screen and checking is app LICENSED if yes then i am giving access to app. I test release version on my device I got access.\r\nI rolled out this app with this code then while rolling out i got warning \r\n**This release contains artifacts which are not protected by google play. your app may be vulnerable tampering and redistribution.** that mean Play Integrity API not applied yet.\r\n\r\n\r\n```\r\npublic class PlayIntegrityApi {\r\n    private final String TAG = &quot;PlayIntegrityApi&quot;;\r\n    private final Context context;\r\n    private long timeRequest;\r\n    boolean isAppOk = true;\r\n\r\n    public PlayIntegrityApi(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public boolean IsLicensedApp() {\r\n\r\n        byte[] strBytes = android.util.Base64.decode(PLAY_INTEGRITY_SECRET, android.util.Base64.DEFAULT);\r\n        byte[] encoded = android.util.Base64.encode(\r\n                strBytes, android.util.Base64.URL_SAFE | android.util.Base64.NO_PADDING | android.util.Base64.NO_WRAP);\r\n        String nonce = new String(encoded);\r\n        // create the NONCE  Base64-encoded, URL-safe, and non-wrapped String\r\n        String myNonce = Base64.encodeToString(nonce.getBytes(), Base64.URL_SAFE | Base64.NO_WRAP | Base64.NO_PADDING);\r\n\r\n        // Create an instance of a manager.\r\n        IntegrityManager myIntegrityManager = IntegrityManagerFactory.create(context);\r\n\r\n        // Request the integrity token by providing a nonce.\r\n        Task&lt;IntegrityTokenResponse&gt; myIntegrityTokenResponse = myIntegrityManager\r\n                .requestIntegrityToken(IntegrityTokenRequest\r\n                        .builder()\r\n                        .setNonce(myNonce)\r\n                        .setCloudProjectNumber(Long.parseLong(CLOUD_PROJECT_NUMBER))         // necessary only if sold outside Google Play\r\n                        .build());\r\n\r\n        // get the time to check against the decoded integrity token time\r\n        timeRequest = Calendar.getInstance().getTimeInMillis();\r\n\r\n        myIntegrityTokenResponse.addOnSuccessListener(new OnSuccessListener&lt;IntegrityTokenResponse&gt;() {\r\n            @Override\r\n            public void onSuccess(IntegrityTokenResponse myIntegrityTokenResponse) {\r\n                try {\r\n                    String token = myIntegrityTokenResponse.token();\r\n\r\n                    DecodeIntegrityTokenRequest requestObj = new DecodeIntegrityTokenRequest();\r\n                    requestObj.setIntegrityToken(token);\r\n\r\n                    //Configure your credentials from the downloaded Json file from the resource\r\n                    GoogleCredentials credentials = GoogleCredentials.fromStream(Objects.requireNonNull(getClass().getClassLoader()).getResourceAsStream(&quot;credentials.json&quot;));\r\n                    HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n\r\n                    HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n                    JsonFactory JSON_FACTORY = new JacksonFactory();\r\n                    GoogleClientRequestInitializer initializer = new PlayIntegrityRequestInitializer();\r\n\r\n                    PlayIntegrity.Builder playIntegrity = new PlayIntegrity.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer).setApplicationName(APPLICATION_NAME)\r\n                            .setGoogleClientRequestInitializer(initializer);\r\n                    PlayIntegrity play = playIntegrity.build();\r\n\r\n                    // the DecodeIntegrityToken must be run on a parallel thread\r\n                    Thread thread = new Thread(() -&gt; {\r\n                        try {\r\n                            DecodeIntegrityTokenResponse response = play.v1().decodeIntegrityToken(&quot;com.mydoamin.package&quot;, requestObj).execute();\r\n                            String licensingVerdict = response.getTokenPayloadExternal().getAccountDetails().getAppLicensingVerdict();\r\n                            if (licensingVerdict.equalsIgnoreCase(&quot;LICENSED&quot;)) {\r\n                                isAppOk = true;\r\n                                Log.d(TAG, &quot;LICENSED OK APP&quot;);\r\n                                // Looks good! LICENSED app\r\n                            } else {\r\n                                Log.d(TAG, &quot;LICENSED NOT OK APP&quot;);\r\n                                // LICENSE NOT OK\r\n                            }\r\n                        } catch (Exception e) {\r\n                            //  LICENSE error\r\n                        }\r\n                        isAppOk = false;\r\n                    });\r\n\r\n                    // execute the parallel thread\r\n                    thread.start();\r\n\r\n                } catch (Error | Exception e) {\r\n                    // LICENSE error\r\n                }\r\n            }\r\n        });\r\n        return isAppOk;\r\n    }\r\n}\r\n```\r\n","title":"How in Integrate Play Integrity Api in android studio java?","body":"<p>I read many documentations but I don't understand clearly.\ni have done all these things.\n1.firebase project link google console app.\n2.enebled Play Integrity APL in google console and in google cloud also.\nthey showing play integrity api enabled.</p>\n<p>Now the question is how to integrate in android app and how to validate request at server\nI am using java in android studio and node js on server</p>\n<p>Thank you :)</p>\n<p>I got this piece of code somewhere I applied this code at splash screen and checking is app LICENSED if yes then i am giving access to app. I test release version on my device I got access.\nI rolled out this app with this code then while rolling out i got warning\n<strong>This release contains artifacts which are not protected by google play. your app may be vulnerable tampering and redistribution.</strong> that mean Play Integrity API not applied yet.</p>\n<pre><code>public class PlayIntegrityApi {\n    private final String TAG = &quot;PlayIntegrityApi&quot;;\n    private final Context context;\n    private long timeRequest;\n    boolean isAppOk = true;\n\n    public PlayIntegrityApi(Context context) {\n        this.context = context;\n    }\n\n    public boolean IsLicensedApp() {\n\n        byte[] strBytes = android.util.Base64.decode(PLAY_INTEGRITY_SECRET, android.util.Base64.DEFAULT);\n        byte[] encoded = android.util.Base64.encode(\n                strBytes, android.util.Base64.URL_SAFE | android.util.Base64.NO_PADDING | android.util.Base64.NO_WRAP);\n        String nonce = new String(encoded);\n        // create the NONCE  Base64-encoded, URL-safe, and non-wrapped String\n        String myNonce = Base64.encodeToString(nonce.getBytes(), Base64.URL_SAFE | Base64.NO_WRAP | Base64.NO_PADDING);\n\n        // Create an instance of a manager.\n        IntegrityManager myIntegrityManager = IntegrityManagerFactory.create(context);\n\n        // Request the integrity token by providing a nonce.\n        Task&lt;IntegrityTokenResponse&gt; myIntegrityTokenResponse = myIntegrityManager\n                .requestIntegrityToken(IntegrityTokenRequest\n                        .builder()\n                        .setNonce(myNonce)\n                        .setCloudProjectNumber(Long.parseLong(CLOUD_PROJECT_NUMBER))         // necessary only if sold outside Google Play\n                        .build());\n\n        // get the time to check against the decoded integrity token time\n        timeRequest = Calendar.getInstance().getTimeInMillis();\n\n        myIntegrityTokenResponse.addOnSuccessListener(new OnSuccessListener&lt;IntegrityTokenResponse&gt;() {\n            @Override\n            public void onSuccess(IntegrityTokenResponse myIntegrityTokenResponse) {\n                try {\n                    String token = myIntegrityTokenResponse.token();\n\n                    DecodeIntegrityTokenRequest requestObj = new DecodeIntegrityTokenRequest();\n                    requestObj.setIntegrityToken(token);\n\n                    //Configure your credentials from the downloaded Json file from the resource\n                    GoogleCredentials credentials = GoogleCredentials.fromStream(Objects.requireNonNull(getClass().getClassLoader()).getResourceAsStream(&quot;credentials.json&quot;));\n                    HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n\n                    HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n                    JsonFactory JSON_FACTORY = new JacksonFactory();\n                    GoogleClientRequestInitializer initializer = new PlayIntegrityRequestInitializer();\n\n                    PlayIntegrity.Builder playIntegrity = new PlayIntegrity.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer).setApplicationName(APPLICATION_NAME)\n                            .setGoogleClientRequestInitializer(initializer);\n                    PlayIntegrity play = playIntegrity.build();\n\n                    // the DecodeIntegrityToken must be run on a parallel thread\n                    Thread thread = new Thread(() -&gt; {\n                        try {\n                            DecodeIntegrityTokenResponse response = play.v1().decodeIntegrityToken(&quot;com.mydoamin.package&quot;, requestObj).execute();\n                            String licensingVerdict = response.getTokenPayloadExternal().getAccountDetails().getAppLicensingVerdict();\n                            if (licensingVerdict.equalsIgnoreCase(&quot;LICENSED&quot;)) {\n                                isAppOk = true;\n                                Log.d(TAG, &quot;LICENSED OK APP&quot;);\n                                // Looks good! LICENSED app\n                            } else {\n                                Log.d(TAG, &quot;LICENSED NOT OK APP&quot;);\n                                // LICENSE NOT OK\n                            }\n                        } catch (Exception e) {\n                            //  LICENSE error\n                        }\n                        isAppOk = false;\n                    });\n\n                    // execute the parallel thread\n                    thread.start();\n\n                } catch (Error | Exception e) {\n                    // LICENSE error\n                }\n            }\n        });\n        return isAppOk;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","android","react-native","deepar"],"owner":{"account_id":29576596,"reputation":23,"user_id":22667403,"display_name":"Mujtaba Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699081009,"creation_date":1699081009,"question_id":77421049,"body_markdown":"I am currently working on an Android project using DeepAR and React Native. I&#39;m encountering an error while trying to compile my project. The error message I&#39;m getting is:\r\n\r\n    DeepAR: Execution failed for task &#39;:tasks&#39;. &gt; Could not create task &#39;:react-native-deepar:compileDebugJavaWithJavac&#39;. &gt; In order to compile Java 9+ source, please set compileSdkVersion to 30 or above.\r\n\r\nI have already set **compileSdkVersion** to 33 in my project, and I couldn&#39;t find any issues related to this specific problem. Here are the relevant parts of my build configuration:\r\n\r\n    buildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;33.0.0&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 33\r\n        targetSdkVersion = 33\r\n\r\n        ndkVersion = &quot;26.1.10909125&quot;\r\n    }}\r\n\r\nI&#39;ve checked the documentation and forums but haven&#39;t been able to resolve this. Can anyone point me in the right direction or provide insights on what might be causing this error? Any help would be greatly appreciated.\r\n\r\nThank you!\r\n","title":"Issue with compilation in Android project: &#39;Could not create task&#39; error - React Native DeepAR","body":"<p>I am currently working on an Android project using DeepAR and React Native. I'm encountering an error while trying to compile my project. The error message I'm getting is:</p>\n<pre><code>DeepAR: Execution failed for task ':tasks'. &gt; Could not create task ':react-native-deepar:compileDebugJavaWithJavac'. &gt; In order to compile Java 9+ source, please set compileSdkVersion to 30 or above.\n</code></pre>\n<p>I have already set <strong>compileSdkVersion</strong> to 33 in my project, and I couldn't find any issues related to this specific problem. Here are the relevant parts of my build configuration:</p>\n<pre><code>buildscript {\next {\n    buildToolsVersion = &quot;33.0.0&quot;\n    minSdkVersion = 21\n    compileSdkVersion = 33\n    targetSdkVersion = 33\n\n    ndkVersion = &quot;26.1.10909125&quot;\n}}\n</code></pre>\n<p>I've checked the documentation and forums but haven't been able to resolve this. Can anyone point me in the right direction or provide insights on what might be causing this error? Any help would be greatly appreciated.</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","gdscript","godot4"],"owner":{"account_id":2506338,"reputation":1562,"user_id":2179970,"display_name":"Zion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699079128,"creation_date":1699078415,"question_id":77420954,"body_markdown":"## Problem\r\n\r\nI&#39;m trying to create a [simple Godot-Android plugin](https://github.com/starkindustries/godot-android-plugin-demo/tree/admob-demo) that integrates the `MobileAds` class. However, my app keeps crashing with this error:\r\n\r\n&gt; java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/ads/MobileAds; at [...] HelloWorld.getHello() (HelloWorld.java:48)\r\n\r\n## Overview\r\n\r\nI started with this working [HelloWorld plugin demo](https://github.com/starkindustries/godot-android-plugin-demo/tree/main) as a baseline. Then I added the line `MobileAds.initialize(activity);` plus a few log statements.\r\n\r\n```\r\n// HelloWorld.java\r\npublic class HelloWorld extends GodotPlugin {\r\n\r\n    // ...\r\n\r\n    @UsedByGodot\r\n    public String getHello() {\r\n        Log.d(TAG, &quot;logging getHello()..&quot;);\r\n        Activity activity = this.getActivity();\r\n        Log.d(TAG, &quot;this.getActivity() completed..&quot;);\r\n        if (activity != null) {\r\n            MobileAds.initialize(activity);  // &lt;== crash occurs here (HelloWorld.java:48)\r\n            Log.d(TAG, &quot;MobileAds initialized!&quot;);\r\n        }\r\n        return &quot;Helllooooo Woooorrrllldd!!&quot;;\r\n    }\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\nThe function `getHello()` gets called from the `HelloWorld.gd` script:\r\n```\r\nfunc _ready():\r\n    helloworld = Engine.get_singleton(&quot;HelloWorld&quot;)\r\n    helloworld.connect(&quot;testSignal&quot;, self.on_testSignal)\r\n    print(helloworld.getHello())\r\n```\r\n\r\nI build the Android project and copy the archive file from the Android project over to Godot:\r\n```\r\n$ cp android-studio-project/app/build/outputs/aar/app-debug.aar godot-project/android/plugins/\r\n```\r\n\r\nI then run the game on my Android device (Pixel 6a).\r\n\r\n**Expected behavior:** it does not crash and initializes `MobileAds`. \r\n\r\n**Actual behavior:** it crashes with error above. \r\n\r\nI have tested very [similar code](https://github.com/googleads/googleads-mobile-android-examples/blob/main/kotlin/admob/InterstitialExample/app/src/main/java/com/google/android/gms/example/interstitialexample/MainActivity.kt#L237C15-L237C25) on an Android only project (not a Godot plugin) and `MobileAds` works perfectly fine.\r\n\r\nWhat could be the issue?\r\n\r\n## Details\r\n\r\n* Android Studio Giraffe | 2022.3.1 Patch 2\r\n* Godot v4.1.2.stable.official [399c9dc39]\r\n* Pixel 6a, Android 14\r\n* Source code: https://github.com/starkindustries/godot-android-plugin-demo/tree/admob-demo\r\n* Complete error dump: https://github.com/starkindustries/godot-android-plugin-demo/issues/1\r\n* Full stack trace:\r\n```\r\n--------- beginning of crash\r\n2023-11-03 22:36:34.317  1704-1763  worlddemoplugin         org...otengine.helloworlddemoplugin  A  runtime.cc:699] JNI DETECTED ERROR IN APPLICATION: JNI CallVoidMethodV called with pending exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/ads/MobileAds;\r\n    runtime.cc:699]   at java.lang.String com.s6industries.myapplication.HelloWorld.getHello() (HelloWorld.java:48)\r\n    runtime.cc:699]   at boolean org.godotengine.godot.GodotLib.step() (GodotLib.java:-2)\r\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkRenderer.onVkDrawFrame() (VkRenderer.kt:83)\r\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkThread.run() (VkThread.kt:224)\r\n    runtime.cc:699] Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.ads.MobileAds&quot; on path: DexPathList[[zip file &quot;/data/app/~~C4aYRPkycL058nK3xa16uA==/org.godotengine.helloworlddemoplugin-ASaTu85QwxSMEMQUObHI8A==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~C4aYRPkycL058nK3xa16uA==/org.godotengine.helloworlddemoplugin-ASaTu85QwxSMEMQUObHI8A==/lib/arm64, /data/app/~~C4aYRPkycL058nK3xa16uA==/org.godotengine.helloworlddemoplugin-ASaTu85QwxSMEMQUObHI8A==/base.apk!/lib/arm64-v8a, /system/lib64, /system_ext/lib64]]\r\n    runtime.cc:699]   at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:259)\r\n    runtime.cc:699]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:379)\r\n    runtime.cc:699]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\r\n    runtime.cc:699]   at java.lang.String com.s6industries.myapplication.HelloWorld.getHello() (HelloWorld.java:48)\r\n    runtime.cc:699]   at boolean org.godotengine.godot.GodotLib.step() (GodotLib.java:-2)\r\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkRenderer.onVkDrawFrame() (VkRenderer.kt:83)\r\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkThread.run() (VkThread.kt:224)\r\n    runtime.cc:699] \r\n    runtime.cc:699]     in call to CallVoidMethodV\r\n    runtime.cc:699]     from boolean org.godotengine.godot.GodotLib.step()\r\n```\r\n\r\n## Troubleshooting Steps Taken\r\n\r\n* Verified that commenting out line 48 causes the app to run normally.\r\n* Made sure to include the implementation for ads in my [build.gradle](https://github.com/starkindustries/godot-android-plugin-demo/blob/admob-demo/android-studio-project/app/build.gradle.kts): `implementation(&quot;com.google.android.gms:play-services-ads-lite:22.5.0&quot;)`\r\n* Verified the import: `import com.google.android.gms.ads.MobileAds;`\r\n* Tried different ads version: `implementation(&quot;com.google.android.gms:play-services-ads:22.4.0&quot;)`\r\n* Inspected `classes.jar` in the aar file:\r\n```\r\n$ jar tf classes.jar \r\ncom/\r\ncom/s6industries/\r\ncom/s6industries/myapplication/\r\ncom/s6industries/myapplication/HelloWorld.class\r\n```","title":"How to resolve NoClassDefFoundError for MobileAds class for Godot-Android plugin?","body":"<h2>Problem</h2>\n<p>I'm trying to create a <a href=\"https://github.com/starkindustries/godot-android-plugin-demo/tree/admob-demo\" rel=\"nofollow noreferrer\">simple Godot-Android plugin</a> that integrates the <code>MobileAds</code> class. However, my app keeps crashing with this error:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/ads/MobileAds; at [...] HelloWorld.getHello() (HelloWorld.java:48)</p>\n</blockquote>\n<h2>Overview</h2>\n<p>I started with this working <a href=\"https://github.com/starkindustries/godot-android-plugin-demo/tree/main\" rel=\"nofollow noreferrer\">HelloWorld plugin demo</a> as a baseline. Then I added the line <code>MobileAds.initialize(activity);</code> plus a few log statements.</p>\n<pre><code>// HelloWorld.java\npublic class HelloWorld extends GodotPlugin {\n\n    // ...\n\n    @UsedByGodot\n    public String getHello() {\n        Log.d(TAG, &quot;logging getHello()..&quot;);\n        Activity activity = this.getActivity();\n        Log.d(TAG, &quot;this.getActivity() completed..&quot;);\n        if (activity != null) {\n            MobileAds.initialize(activity);  // &lt;== crash occurs here (HelloWorld.java:48)\n            Log.d(TAG, &quot;MobileAds initialized!&quot;);\n        }\n        return &quot;Helllooooo Woooorrrllldd!!&quot;;\n    }\n    \n    // ...\n}\n</code></pre>\n<p>The function <code>getHello()</code> gets called from the <code>HelloWorld.gd</code> script:</p>\n<pre><code>func _ready():\n    helloworld = Engine.get_singleton(&quot;HelloWorld&quot;)\n    helloworld.connect(&quot;testSignal&quot;, self.on_testSignal)\n    print(helloworld.getHello())\n</code></pre>\n<p>I build the Android project and copy the archive file from the Android project over to Godot:</p>\n<pre><code>$ cp android-studio-project/app/build/outputs/aar/app-debug.aar godot-project/android/plugins/\n</code></pre>\n<p>I then run the game on my Android device (Pixel 6a).</p>\n<p><strong>Expected behavior:</strong> it does not crash and initializes <code>MobileAds</code>.</p>\n<p><strong>Actual behavior:</strong> it crashes with error above.</p>\n<p>I have tested very <a href=\"https://github.com/googleads/googleads-mobile-android-examples/blob/main/kotlin/admob/InterstitialExample/app/src/main/java/com/google/android/gms/example/interstitialexample/MainActivity.kt#L237C15-L237C25\" rel=\"nofollow noreferrer\">similar code</a> on an Android only project (not a Godot plugin) and <code>MobileAds</code> works perfectly fine.</p>\n<p>What could be the issue?</p>\n<h2>Details</h2>\n<ul>\n<li>Android Studio Giraffe | 2022.3.1 Patch 2</li>\n<li>Godot v4.1.2.stable.official [399c9dc39]</li>\n<li>Pixel 6a, Android 14</li>\n<li>Source code: <a href=\"https://github.com/starkindustries/godot-android-plugin-demo/tree/admob-demo\" rel=\"nofollow noreferrer\">https://github.com/starkindustries/godot-android-plugin-demo/tree/admob-demo</a></li>\n<li>Complete error dump: <a href=\"https://github.com/starkindustries/godot-android-plugin-demo/issues/1\" rel=\"nofollow noreferrer\">https://github.com/starkindustries/godot-android-plugin-demo/issues/1</a></li>\n<li>Full stack trace:</li>\n</ul>\n<pre><code>--------- beginning of crash\n2023-11-03 22:36:34.317  1704-1763  worlddemoplugin         org...otengine.helloworlddemoplugin  A  runtime.cc:699] JNI DETECTED ERROR IN APPLICATION: JNI CallVoidMethodV called with pending exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/ads/MobileAds;\n    runtime.cc:699]   at java.lang.String com.s6industries.myapplication.HelloWorld.getHello() (HelloWorld.java:48)\n    runtime.cc:699]   at boolean org.godotengine.godot.GodotLib.step() (GodotLib.java:-2)\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkRenderer.onVkDrawFrame() (VkRenderer.kt:83)\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkThread.run() (VkThread.kt:224)\n    runtime.cc:699] Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.android.gms.ads.MobileAds&quot; on path: DexPathList[[zip file &quot;/data/app/~~C4aYRPkycL058nK3xa16uA==/org.godotengine.helloworlddemoplugin-ASaTu85QwxSMEMQUObHI8A==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~C4aYRPkycL058nK3xa16uA==/org.godotengine.helloworlddemoplugin-ASaTu85QwxSMEMQUObHI8A==/lib/arm64, /data/app/~~C4aYRPkycL058nK3xa16uA==/org.godotengine.helloworlddemoplugin-ASaTu85QwxSMEMQUObHI8A==/base.apk!/lib/arm64-v8a, /system/lib64, /system_ext/lib64]]\n    runtime.cc:699]   at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:259)\n    runtime.cc:699]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:379)\n    runtime.cc:699]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\n    runtime.cc:699]   at java.lang.String com.s6industries.myapplication.HelloWorld.getHello() (HelloWorld.java:48)\n    runtime.cc:699]   at boolean org.godotengine.godot.GodotLib.step() (GodotLib.java:-2)\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkRenderer.onVkDrawFrame() (VkRenderer.kt:83)\n    runtime.cc:699]   at void org.godotengine.godot.vulkan.VkThread.run() (VkThread.kt:224)\n    runtime.cc:699] \n    runtime.cc:699]     in call to CallVoidMethodV\n    runtime.cc:699]     from boolean org.godotengine.godot.GodotLib.step()\n</code></pre>\n<h2>Troubleshooting Steps Taken</h2>\n<ul>\n<li>Verified that commenting out line 48 causes the app to run normally.</li>\n<li>Made sure to include the implementation for ads in my <a href=\"https://github.com/starkindustries/godot-android-plugin-demo/blob/admob-demo/android-studio-project/app/build.gradle.kts\" rel=\"nofollow noreferrer\">build.gradle</a>: <code>implementation(&quot;com.google.android.gms:play-services-ads-lite:22.5.0&quot;)</code></li>\n<li>Verified the import: <code>import com.google.android.gms.ads.MobileAds;</code></li>\n<li>Tried different ads version: <code>implementation(&quot;com.google.android.gms:play-services-ads:22.4.0&quot;)</code></li>\n<li>Inspected <code>classes.jar</code> in the aar file:</li>\n</ul>\n<pre><code>$ jar tf classes.jar \ncom/\ncom/s6industries/\ncom/s6industries/myapplication/\ncom/s6industries/myapplication/HelloWorld.class\n</code></pre>\n"},{"tags":["java","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":4836940,"reputation":985,"user_id":3903279,"display_name":"Scott Conway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445462029,"creation_date":1445456019,"answer_id":33267723,"question_id":33264011,"body_markdown":"If you can build it yourself grab the trunk build of opencsv.  I have modified the CsvToBean to print out the line number it was on when the error occurred. \r\n\r\n    throw new RuntimeException(&quot;Error parsing CSV line: &quot; + lineProcessed + &quot; values: &quot; + Arrays.toString(line), e);\r\n\r\nThis is set to go out in the 3.6 release which, barring any issues, should be out before Thanksgiving.  \r\n\r\nI am curious what the error that is causing this.  If you look a little further down on your exception stack trace you should see a &quot;Caused by:&quot; and that is the exception that was caught by the CsvToBean.  Given that you have over 200k lines I suspect you are getting an out of memory exception - which means you either need to split the file into smaller files, increase the memory of your JVM, or use the IterableCsvToBean which was introduced in the 3.5 release that allows line by line parsing. \r\n\r\nHope that helps. \r\n\r\n:)","title":"Java CsvToBean.parse fails with Error parsing CSV","body":"<p>If you can build it yourself grab the trunk build of opencsv.  I have modified the CsvToBean to print out the line number it was on when the error occurred. </p>\n\n<pre><code>throw new RuntimeException(\"Error parsing CSV line: \" + lineProcessed + \" values: \" + Arrays.toString(line), e);\n</code></pre>\n\n<p>This is set to go out in the 3.6 release which, barring any issues, should be out before Thanksgiving.  </p>\n\n<p>I am curious what the error that is causing this.  If you look a little further down on your exception stack trace you should see a \"Caused by:\" and that is the exception that was caught by the CsvToBean.  Given that you have over 200k lines I suspect you are getting an out of memory exception - which means you either need to split the file into smaller files, increase the memory of your JVM, or use the IterableCsvToBean which was introduced in the 3.5 release that allows line by line parsing. </p>\n\n<p>Hope that helps. </p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449722966,"creation_date":1445496198,"answer_id":33274840,"question_id":33264011,"body_markdown":"I just tried with [univocity-parsers](http://www.univocity.com/pages/parsers-tutorial) and I could parse your sample input without any issues. Give it a go as it is twice way faster than OpenCSV (2x faster on average). Here is my code:\r\n\r\nFirst add `@Parsed` annotations to the fields you want load from the CSV (there are many options available, check the documentation).\r\n\r\n    public static class UserAttributeRecord{\r\n\r\n\t\t@Parsed\r\n\t\tint userId;\r\n\r\n\t\t@Parsed\r\n\t\tint attributeId;\r\n\r\n\t\t@Parsed\r\n\t\tint rating;\r\n\r\n\t\t@Parsed\r\n\t\tlong timestamp;\r\n\r\n\t\t@Parsed\r\n\t\tString email;\r\n\r\n\t\t@Parsed\r\n\t\tString attributeDesc;\r\n    }\r\n \r\n\r\nThis is the code you need to parse your file:\r\n\r\n\tpublic static void main(String[] args) throws IOException{\r\n\r\n        //creates a processor of java beans.\r\n    \tBeanListProcessor&lt;UserAttributeRecord&gt; beanProcessor = new BeanListProcessor&lt;UserAttributeRecord&gt;(UserAttributeRecord.class);\r\n        \r\n        //then a settings object to configure the parser\r\n\t\tCsvParserSettings settings = new CsvParserSettings(); //many options here, check the tutorial\r\n       \r\n        //configures the parser to use the bean processor.\r\n\t\tsettings.setRowProcessor(beanProcessor);\r\n\r\n        //configures the input format.\r\n\t\tsettings.setHeaders(&quot;userId&quot;, &quot;attributeId&quot;, &quot;rating&quot;, &quot;timestamp&quot;, &quot;email&quot;, &quot;attributeDesc&quot;);\r\n\t\tsettings.getFormat().setLineSeparator(&quot;\\n&quot;);\r\n\r\n        //creates a parser with your settings\r\n\t\tCsvParser parser = new CsvParser(settings);\r\n        \r\n        //parses everything. All rows are submitted to the row processor defined above\r\n\t\tparser.parseAll(new FileReader(new File(&quot;/path/to/file.csv&quot;)));\r\n\r\n        //here&#39;s your list of beans\r\n\t\tList&lt;UserAttributeRecord&gt; beans = beanProcessor.getBeans();\r\n    }\r\n\r\nDisclosure: I am the author of this library. It&#39;s open-source and free (Apache V2.0 license).","title":"Java CsvToBean.parse fails with Error parsing CSV","body":"<p>I just tried with <a href=\"http://www.univocity.com/pages/parsers-tutorial\" rel=\"nofollow\">univocity-parsers</a> and I could parse your sample input without any issues. Give it a go as it is twice way faster than OpenCSV (2x faster on average). Here is my code:</p>\n\n<p>First add <code>@Parsed</code> annotations to the fields you want load from the CSV (there are many options available, check the documentation).</p>\n\n<pre><code>public static class UserAttributeRecord{\n\n    @Parsed\n    int userId;\n\n    @Parsed\n    int attributeId;\n\n    @Parsed\n    int rating;\n\n    @Parsed\n    long timestamp;\n\n    @Parsed\n    String email;\n\n    @Parsed\n    String attributeDesc;\n}\n</code></pre>\n\n<p>This is the code you need to parse your file:</p>\n\n<pre><code>public static void main(String[] args) throws IOException{\n\n    //creates a processor of java beans.\n    BeanListProcessor&lt;UserAttributeRecord&gt; beanProcessor = new BeanListProcessor&lt;UserAttributeRecord&gt;(UserAttributeRecord.class);\n\n    //then a settings object to configure the parser\n    CsvParserSettings settings = new CsvParserSettings(); //many options here, check the tutorial\n\n    //configures the parser to use the bean processor.\n    settings.setRowProcessor(beanProcessor);\n\n    //configures the input format.\n    settings.setHeaders(\"userId\", \"attributeId\", \"rating\", \"timestamp\", \"email\", \"attributeDesc\");\n    settings.getFormat().setLineSeparator(\"\\n\");\n\n    //creates a parser with your settings\n    CsvParser parser = new CsvParser(settings);\n\n    //parses everything. All rows are submitted to the row processor defined above\n    parser.parseAll(new FileReader(new File(\"/path/to/file.csv\")));\n\n    //here's your list of beans\n    List&lt;UserAttributeRecord&gt; beans = beanProcessor.getBeans();\n}\n</code></pre>\n\n<p>Disclosure: I am the author of this library. It's open-source and free (Apache V2.0 license).</p>\n"}],"owner":{"account_id":107828,"reputation":334,"user_id":2267790,"accept_rate":50,"display_name":"andyabel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699077770,"creation_date":1445443216,"question_id":33264011,"body_markdown":"I&#39;m attempting to parse a large CSV file with OpenCSV in Eclipse.\r\nHere&#39;s the first 4 records of the CSV file. The full file has 219,590 records:-\r\n\r\n    0,23,1,0,someone@email.com,&quot;Construction/Contractors/Contractors&quot;\r\n    0,43,1,0,someone@email.com,&quot;Engineering/Electrical Engineering/Electrical Engineering&quot;\r\n    0,395,1,0,someone@email.com,&quot;Sales/Sales Force Management/Sales Management&quot;\r\n    0,398,1,0,someone@email.com,&quot;Sales/Sales Strategy/Sales&quot;\r\n\r\nAnd here&#39;s the Java code:-\r\n\r\n\t\tFile csvFile = new File(&quot;data/userattrib2_30day.csv&quot;);\r\n        ColumnPositionMappingStrategy strategy = new ColumnPositionMappingStrategy();\r\n\t\tstrategy.setType(UserAttribRecord.class);\r\n        String[] columns = new String[] {&quot;userId&quot;, &quot;attributeId&quot;, &quot;rating&quot;, &quot;timestamp&quot;, &quot;email&quot;, &quot;attributeDesc&quot;};\r\n        strategy.setColumnMapping(columns);\r\n        \r\n        CSVReader reader = new CSVReader(new FileReader(csvFile));\r\n        CsvToBean&lt;UserAttribRecord&gt; csv = new CsvToBean&lt;UserAttribRecord&gt;();\r\n        List&lt;UserAttribRecord&gt; userAttribList = csv.parse(strategy,reader);\r\n\r\nAnd it fails with:-\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Error parsing CSV!\r\n\tat com.opencsv.bean.CsvToBean.parse(CsvToBean.java:95)\r\n\tat com.opencsv.bean.CsvToBean.parse(CsvToBean.java:75)\r\n\r\nHow do I find out what the error is? There doesn&#39;t appear to be any debugging information, so I don&#39;t know what field in which record there was an error. How do I debug this?\r\nThanks\r\n","title":"Java CsvToBean.parse fails with Error parsing CSV","body":"<p>I'm attempting to parse a large CSV file with OpenCSV in Eclipse.\nHere's the first 4 records of the CSV file. The full file has 219,590 records:-</p>\n\n<pre><code>0,23,1,0,someone@email.com,\"Construction/Contractors/Contractors\"\n0,43,1,0,someone@email.com,\"Engineering/Electrical Engineering/Electrical Engineering\"\n0,395,1,0,someone@email.com,\"Sales/Sales Force Management/Sales Management\"\n0,398,1,0,someone@email.com,\"Sales/Sales Strategy/Sales\"\n</code></pre>\n\n<p>And here's the Java code:-</p>\n\n<pre><code>    File csvFile = new File(\"data/userattrib2_30day.csv\");\n    ColumnPositionMappingStrategy strategy = new ColumnPositionMappingStrategy();\n    strategy.setType(UserAttribRecord.class);\n    String[] columns = new String[] {\"userId\", \"attributeId\", \"rating\", \"timestamp\", \"email\", \"attributeDesc\"};\n    strategy.setColumnMapping(columns);\n\n    CSVReader reader = new CSVReader(new FileReader(csvFile));\n    CsvToBean&lt;UserAttribRecord&gt; csv = new CsvToBean&lt;UserAttribRecord&gt;();\n    List&lt;UserAttribRecord&gt; userAttribList = csv.parse(strategy,reader);\n</code></pre>\n\n<p>And it fails with:-</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: Error parsing CSV!\nat com.opencsv.bean.CsvToBean.parse(CsvToBean.java:95)\nat com.opencsv.bean.CsvToBean.parse(CsvToBean.java:75)\n</code></pre>\n\n<p>How do I find out what the error is? There doesn't appear to be any debugging information, so I don't know what field in which record there was an error. How do I debug this?\nThanks</p>\n"},{"tags":["java","performance","global-variables","local-variables"],"comments":[{"owner":{"account_id":12579577,"reputation":336,"user_id":9150780,"display_name":"Kyroath"},"score":0,"creation_date":1699075509,"post_id":77420656,"comment_id":136488726,"body_markdown":"You&#39;re not going to notice a difference. The reason for inconsistent results is most likely because the runtime notices that `test` variable in never read after assignment, and optimizing away the assignment.","body":"You&#39;re not going to notice a difference. The reason for inconsistent results is most likely because the runtime notices that <code>test</code> variable in never read after assignment, and optimizing away the assignment."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699076567,"creation_date":1699076567,"answer_id":77420882,"question_id":77420656,"body_markdown":"I am trying to answer this part of your question:\r\n&gt; I am wondering if converting local variables to global variables will help performance.\r\n\r\nThere is always some subjectivity in matters of performance based on the context, machine, the way we write the code, etc. And also how we measure it! The measurement itself may add its own overhead.\r\n\r\nJotting down what I feel are by and large true regarding the matter. And based on the below, more often than not, going for local variables more likely to help performance more than long-lived ones (global).\r\n\r\n- **Object creation is fairly cheap in Java**. Hence, we don&#39;t need to worry about the cost at the time of creation\r\n- **GC isn&#39;t cheap**. More objects you have to collect, the more time it may need to do GC.\r\n    - Long-lived objects score here.\r\n- **Long-lived variables have** the following **concerns**, which are addressed in local variables. (However, sometimes you do need global variables. If you have addressed these, then great.)\r\n    1. Any code with access can edit &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;_(doesn&#39;t contribute directly to the performance issue)_\r\n    2. Can lead to memory leaks, eg, `Map`s &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;_(this contributes to the performance issue)_\r\n\r\nWhen to go for long-lived variables\r\n-----\r\n1. When the variable will **not** have &quot;deeply&quot; linked objects, like collections or even normal Java object which refer to other objects, which further refer to others, etc.\r\n2. When the value of the variable is constant, even if it is a collection. That is, static collections.\r\n3. When the programmer is sure he/she needs it due to the needs of the program.","title":"Performance of Java local vs global variable in main game loop","body":"<p>I am trying to answer this part of your question:</p>\n<blockquote>\n<p>I am wondering if converting local variables to global variables will help performance.</p>\n</blockquote>\n<p>There is always some subjectivity in matters of performance based on the context, machine, the way we write the code, etc. And also how we measure it! The measurement itself may add its own overhead.</p>\n<p>Jotting down what I feel are by and large true regarding the matter. And based on the below, more often than not, going for local variables more likely to help performance more than long-lived ones (global).</p>\n<ul>\n<li><strong>Object creation is fairly cheap in Java</strong>. Hence, we don't need to worry about the cost at the time of creation</li>\n<li><strong>GC isn't cheap</strong>. More objects you have to collect, the more time it may need to do GC.\n<ul>\n<li>Long-lived objects score here.</li>\n</ul>\n</li>\n<li><strong>Long-lived variables have</strong> the following <strong>concerns</strong>, which are addressed in local variables. (However, sometimes you do need global variables. If you have addressed these, then great.)\n<ol>\n<li>Any code with access can edit     <em>(doesn't contribute directly to the performance issue)</em></li>\n<li>Can lead to memory leaks, eg, <code>Map</code>s     <em>(this contributes to the performance issue)</em></li>\n</ol>\n</li>\n</ul>\n<h2>When to go for long-lived variables</h2>\n<ol>\n<li>When the variable will <strong>not</strong> have &quot;deeply&quot; linked objects, like collections or even normal Java object which refer to other objects, which further refer to others, etc.</li>\n<li>When the value of the variable is constant, even if it is a collection. That is, static collections.</li>\n<li>When the programmer is sure he/she needs it due to the needs of the program.</li>\n</ol>\n"}],"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699076567,"creation_date":1699068814,"question_id":77420656,"body_markdown":"I have a main loop on my Java game server.  I am wondering if converting local variables to global variables will help performance.  Running this sample scenario (ii &lt; 100) shows the opposite.  \r\n\r\n - averageMethodRunTimeHashtable: {localVariableMethod=628,\r\n   globalVariableMethod=888}\r\n - averageMethodRunTimeHashtable:\r\n   {localVariableMethod=601, globalVariableMethod=899}\r\n - averageMethodRunTimeHashtable: {localVariableMethod=543,\r\n   globalVariableMethod=773}\r\n - averageMethodRunTimeHashtable:\r\n   {localVariableMethod=513, globalVariableMethod=800}\r\n\r\nRunning (ii &lt; 1000000) or for longer shows inconsistent results.  Any suggestions/insight here?\r\n\r\n    import java.util.Hashtable;\r\n    \r\n    class HelloWorld {\r\n        static Hashtable&lt;String, Long&gt; averageMethodRunTimeHashtable = new Hashtable&lt;&gt;();\r\n        static long topTime = 0l;\r\n        public static void main(String[] args) {\r\n            //boolean stopServer = false; //usually stopped by an external source\r\n            //while (!stopServer){ //normally this runs &quot;forever&quot;\r\n            for (int ii = 0; ii &lt; 100; ii++){ //for this example just run 100 times\r\n                topTime = System.nanoTime();\r\n                localVariableMethod();\r\n                averageMethodRunTime(&quot;localVariableMethod&quot;, (System.nanoTime() - topTime));\r\n            \r\n                topTime = System.nanoTime();\r\n                globalVariableMethod();\r\n                averageMethodRunTime(&quot;globalVariableMethod&quot;, (System.nanoTime() - topTime));\r\n            }\r\n            \r\n            System.out.println(&quot;averageMethodRunTimeHashtable: &quot; + averageMethodRunTimeHashtable);\r\n        }\r\n        \r\n        public static void localVariableMethod(){\r\n            for (int i = 0; i &lt; 100; i++){\r\n                int test = i;\r\n            }\r\n        }\r\n        \r\n        static int test_globalVariableMethod = 0;\r\n        public static void globalVariableMethod(){\r\n            for (int i = 0; i &lt; 100; i++){\r\n                test_globalVariableMethod = i;\r\n            }\r\n        }\r\n        \r\n        public static void averageMethodRunTime(String method, long time) {\r\n    \t\tif (averageMethodRunTimeHashtable.containsKey(method)) {\r\n    \t\t\taverageMethodRunTimeHashtable.put(method, (time + averageMethodRunTimeHashtable.get(method)) / 2);\r\n    \t\t} else {\r\n    \t\t\taverageMethodRunTimeHashtable.put(method, time);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Performance of Java local vs global variable in main game loop","body":"<p>I have a main loop on my Java game server.  I am wondering if converting local variables to global variables will help performance.  Running this sample scenario (ii &lt; 100) shows the opposite.</p>\n<ul>\n<li>averageMethodRunTimeHashtable: {localVariableMethod=628,\nglobalVariableMethod=888}</li>\n<li>averageMethodRunTimeHashtable:\n{localVariableMethod=601, globalVariableMethod=899}</li>\n<li>averageMethodRunTimeHashtable: {localVariableMethod=543,\nglobalVariableMethod=773}</li>\n<li>averageMethodRunTimeHashtable:\n{localVariableMethod=513, globalVariableMethod=800}</li>\n</ul>\n<p>Running (ii &lt; 1000000) or for longer shows inconsistent results.  Any suggestions/insight here?</p>\n<pre><code>import java.util.Hashtable;\n\nclass HelloWorld {\n    static Hashtable&lt;String, Long&gt; averageMethodRunTimeHashtable = new Hashtable&lt;&gt;();\n    static long topTime = 0l;\n    public static void main(String[] args) {\n        //boolean stopServer = false; //usually stopped by an external source\n        //while (!stopServer){ //normally this runs &quot;forever&quot;\n        for (int ii = 0; ii &lt; 100; ii++){ //for this example just run 100 times\n            topTime = System.nanoTime();\n            localVariableMethod();\n            averageMethodRunTime(&quot;localVariableMethod&quot;, (System.nanoTime() - topTime));\n        \n            topTime = System.nanoTime();\n            globalVariableMethod();\n            averageMethodRunTime(&quot;globalVariableMethod&quot;, (System.nanoTime() - topTime));\n        }\n        \n        System.out.println(&quot;averageMethodRunTimeHashtable: &quot; + averageMethodRunTimeHashtable);\n    }\n    \n    public static void localVariableMethod(){\n        for (int i = 0; i &lt; 100; i++){\n            int test = i;\n        }\n    }\n    \n    static int test_globalVariableMethod = 0;\n    public static void globalVariableMethod(){\n        for (int i = 0; i &lt; 100; i++){\n            test_globalVariableMethod = i;\n        }\n    }\n    \n    public static void averageMethodRunTime(String method, long time) {\n        if (averageMethodRunTimeHashtable.containsKey(method)) {\n            averageMethodRunTimeHashtable.put(method, (time + averageMethodRunTimeHashtable.get(method)) / 2);\n        } else {\n            averageMethodRunTimeHashtable.put(method, time);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635575880,"creation_date":1635575880,"answer_id":69777320,"question_id":69776918,"body_markdown":"Tomcat does not do anything. However Eclipse&#39;s WTP plugin sends a real request for `/` on all configured connectors to check if the server is running. If Tomcat answers the server&#39;s status in Eclipse changes from `starting` to `started/debugging`.\r\n","title":"After changing the path to &#39;/&#39;, why does apache tomcat call the servlet&#39;s doGet method on start/restart?","body":"<p>Tomcat does not do anything. However Eclipse's WTP plugin sends a real request for <code>/</code> on all configured connectors to check if the server is running. If Tomcat answers the server's status in Eclipse changes from <code>starting</code> to <code>started/debugging</code>.</p>\n"},{"tags":[],"owner":{"account_id":29526779,"reputation":1,"user_id":22628205,"display_name":"Akhilesh Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699075102,"creation_date":1699075102,"answer_id":77420836,"question_id":69776918,"body_markdown":"You can try use **useHash: true**. For me its working.\r\n\r\n    @NgModule({\r\n      imports: [RouterModule.forRoot(routes, { useHash: true })],\r\n      exports: [RouterModule],})\r\n\r\nand url on the VM will be **x.x.x.x:8080/angular/#/{componenturl}**\r\n\r\n","title":"After changing the path to &#39;/&#39;, why does apache tomcat call the servlet&#39;s doGet method on start/restart?","body":"<p>You can try use <strong>useHash: true</strong>. For me its working.</p>\n<pre><code>@NgModule({\n  imports: [RouterModule.forRoot(routes, { useHash: true })],\n  exports: [RouterModule],})\n</code></pre>\n<p>and url on the VM will be <strong>x.x.x.x:8080/angular/#/{componenturl}</strong></p>\n"}],"owner":{"account_id":6436662,"reputation":1,"user_id":4987987,"display_name":"Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699075102,"creation_date":1635570150,"question_id":69776918,"body_markdown":"I was configuring apache tomcat&#39;s context path to be root (&#39;/&#39;), but after doing that, I noticed whenever I started or restarted my server in eclipse, the root&#39;s servlet&#39;s doGet method would get called. \r\n\r\nHere&#39;s what I did. \r\n\r\n1. In my web project&#39;s setting, I changed the context path to &#39;/&#39;.\r\n2. I removed the web app from my tomcat server, and redeployed it on it. \r\n3. I configured a servlet that has a url-mapping to &#39;/&#39;, so that I could access localhost:8080/ and my servlet would get called. \r\n\r\nI added a &quot;System.out.println(&quot;Hello World&quot;);&quot; inside the doGet method of that servlet, so I noticed that when I start/restart the tomcat server in elcipse, the servlet&#39;s doGet method gets called. \r\n\r\nWhy does this happen, and is this normal behavior? I would imagine that the servlet&#39;s doGet method only gets called when a GET request is made to that servlet, so I don&#39;t understand why it&#39;s getting called when I start/restart the tomcat server in eclipse. \r\n\r\n","title":"After changing the path to &#39;/&#39;, why does apache tomcat call the servlet&#39;s doGet method on start/restart?","body":"<p>I was configuring apache tomcat's context path to be root ('/'), but after doing that, I noticed whenever I started or restarted my server in eclipse, the root's servlet's doGet method would get called.</p>\n<p>Here's what I did.</p>\n<ol>\n<li>In my web project's setting, I changed the context path to '/'.</li>\n<li>I removed the web app from my tomcat server, and redeployed it on it.</li>\n<li>I configured a servlet that has a url-mapping to '/', so that I could access localhost:8080/ and my servlet would get called.</li>\n</ol>\n<p>I added a &quot;System.out.println(&quot;Hello World&quot;);&quot; inside the doGet method of that servlet, so I noticed that when I start/restart the tomcat server in elcipse, the servlet's doGet method gets called.</p>\n<p>Why does this happen, and is this normal behavior? I would imagine that the servlet's doGet method only gets called when a GET request is made to that servlet, so I don't understand why it's getting called when I start/restart the tomcat server in eclipse.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":4,"creation_date":1698997175,"post_id":77414748,"comment_id":136477758,"body_markdown":"WHAT is the question about? Title: &quot;*cannot convert from...*&quot;  and body: &quot;*what does this line means...*&quot; do not match! || The `+` operator works as String Concatenation if one of the operands  is a `String`; the other operand will eventually be converted to `String`, if needed","body":"WHAT is the question about? Title: &quot;<i>cannot convert from...</i>&quot;  and body: &quot;<i>what does this line means...</i>&quot; do not match! || The <code>+</code> operator works as String Concatenation if one of the operands  is a <code>String</code>; the other operand will eventually be converted to <code>String</code>, if needed"}],"answers":[{"tags":[],"owner":{"account_id":29816591,"reputation":1,"user_id":22850746,"display_name":"sherwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698995867,"creation_date":1698995867,"answer_id":77414804,"question_id":77414748,"body_markdown":"rev = rev+org would take the entire string &quot;welcome&quot; and concatenate it with rev (which is &quot;&quot;) then assign that value to rev, but the .charAt(i) concatenates one character in the org variable at a time (the character that exists in the current position of i) and since the loop is being decremented it&#39;s taking the characters from the end of &#39;welcome&#39; and adding it to the beginning of rev, reversing the string in org.\r\n\r\nHope this helps.","title":"Cannot convert from char to string","body":"<p>rev = rev+org would take the entire string &quot;welcome&quot; and concatenate it with rev (which is &quot;&quot;) then assign that value to rev, but the .charAt(i) concatenates one character in the org variable at a time (the character that exists in the current position of i) and since the loop is being decremented it's taking the characters from the end of 'welcome' and adding it to the beginning of rev, reversing the string in org.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1154901,"reputation":669,"user_id":1135775,"display_name":"Mansour"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698997600,"creation_date":1698996293,"answer_id":77414840,"question_id":77414748,"body_markdown":"It is a statement to add to the variable `rev` the character in org at `i` position. Because you are doing this in a loop, it incrementally adds character in position `i`.\r\n\r\nSo iterations becomes :\r\n\r\n    rev = &quot;&quot;  + e --&gt; resulting in e\r\n    rev = &quot;e&quot; + m --&gt; resulting in em\r\n    rev = &quot;em&quot; + o --&gt; resulting in emo\r\n    rev = &quot;emo&quot; + c --&gt; resulting in emoc\r\n    rev = &quot;emoc&quot; + l --&gt; resulting in emocl\r\n    rev = &quot;emocl&quot; + e --&gt; resulting in emocle\r\n    rev = &quot;emocl&quot; + W --&gt; resulting in emocleW\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot convert from char to string","body":"<p>It is a statement to add to the variable <code>rev</code> the character in org at <code>i</code> position. Because you are doing this in a loop, it incrementally adds character in position <code>i</code>.</p>\n<p>So iterations becomes :</p>\n<pre><code>rev = &quot;&quot;  + e --&gt; resulting in e\nrev = &quot;e&quot; + m --&gt; resulting in em\nrev = &quot;em&quot; + o --&gt; resulting in emo\nrev = &quot;emo&quot; + c --&gt; resulting in emoc\nrev = &quot;emoc&quot; + l --&gt; resulting in emocl\nrev = &quot;emocl&quot; + e --&gt; resulting in emocle\nrev = &quot;emocl&quot; + W --&gt; resulting in emocleW\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21505740,"reputation":41,"user_id":15849157,"display_name":"Ankit Rege"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699004613,"creation_date":1699004007,"answer_id":77415563,"question_id":77414748,"body_markdown":"         String org = &quot;Welcome&quot;;\r\n    String rev = &quot;&quot;;\r\n    \r\n    for (int i = org.length()-1; i &gt;= 0; i--) {\r\n        rev = rev+org.charAt(i);\r\n    }\r\n\r\n    first iteration --&gt; rev = &quot;&quot;  + e --&gt;  e\r\n    second iteration --&gt; rev = &quot;e&quot; + m --&gt;  em\r\n    third iteration --&gt;  rev = &quot;em&quot; + o --&gt;  emo\r\n    fourth iteration --&gt; rev = &quot;emo&quot; + c --&gt; emoc\r\n    fifth iteration --&gt;  rev = &quot;emoc&quot; + l --&gt; emocl\r\n    sixth iteration --&gt; rev = &quot;emocl&quot; + e --&gt; emocle\r\n    seventh iteration --&gt; rev = &quot;emocl&quot; + W --&gt; emocleW\r\n    \r\n    final value of rev is - emocleW","title":"Cannot convert from char to string","body":"<pre><code>     String org = &quot;Welcome&quot;;\nString rev = &quot;&quot;;\n\nfor (int i = org.length()-1; i &gt;= 0; i--) {\n    rev = rev+org.charAt(i);\n}\n\nfirst iteration --&gt; rev = &quot;&quot;  + e --&gt;  e\nsecond iteration --&gt; rev = &quot;e&quot; + m --&gt;  em\nthird iteration --&gt;  rev = &quot;em&quot; + o --&gt;  emo\nfourth iteration --&gt; rev = &quot;emo&quot; + c --&gt; emoc\nfifth iteration --&gt;  rev = &quot;emoc&quot; + l --&gt; emocl\nsixth iteration --&gt; rev = &quot;emocl&quot; + e --&gt; emocle\nseventh iteration --&gt; rev = &quot;emocl&quot; + W --&gt; emocleW\n\nfinal value of rev is - emocleW\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699075085,"creation_date":1699031087,"answer_id":77418507,"question_id":77414748,"body_markdown":"Other Answers are correct. \r\n\r\n## Code point \r\n\r\nLet me add that this code uses the outmoded type `char` which has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most characters. \r\n\r\nInstead, use [code point][1] integer numbers. \r\n\r\nAs an alternative to [concatenating][2] via the `+` (PLUS SIGN) operator, you may choose to call [`String#concat`][3]. Same effect, choose according to your tastes. \r\n\r\n```java\r\nString org = &quot;Welcome&quot;;\r\nString rev = &quot;&quot;;\r\n\r\nint[] codePoints = org.codePoints().toArray() ;\r\nfor ( int index = codePoints.length()-1 ; index &gt;= 0 ; index -- ) {\r\n    int codePoint = codePoints[ index ]\r\n    String s = Character.toString( codePoint );\r\n    rev = rev.concat( s );  // ⬅️  String#concat does the same job as + (PLUS SIGN) operator… concatenates strings.\r\n\r\n}\r\nSystem.out.println(rev);\r\n```\r\n\r\n## `StringBuilder`\r\n\r\nEven better would be use of a class deigned for building up longer strings: [`StringBuilder`][4]. \r\n\r\nUse of that class *may* be more efficient in some versions of Java. More importantly, it expresses your intention to accumulate characters into a longer string. \r\n\r\n```java\r\nString org = &quot;Welcome&quot;;\r\nString rev;\r\n\r\nint[] codePoints = org.codePoints().toArray() ;\r\nStringBuilder builder = new StringBuilder() ;\r\nfor ( int index = codePoints.length()-1 ; index &gt;= 0 ; index -- ) {\r\n    int codePoint = codePoints[ index ]\r\n    sb.appendCodePoint( codePoint ) ;\r\n\r\n}\r\nrev = sb.toString() ;\r\nSystem.out.println(rev);\r\n```\r\n\r\n## `SequencedCollection#reversed` \r\n\r\n[Java 21][5]+ gained the new feature of [sequenced collections][6]. `List` now offers a [`reversed`][7] method which produces a view onto the original list but with an encounter order that goes in reverse. As a view onto the original, this method works even on an [unmodifiable list][8]. \r\n\r\nIf we make a [`List`][9] from our stream of code points, we can call `reversed` instead of the complicated `for` loop seen above. \r\n\r\nA `List` must contain objects rather than primitive values. So we call [`IntStream#boxed`][10] to wrap each `int` code point as a [`Integer`][11] object. \r\n\r\nWe collect those code points in reverse by using a `StringBuilder`, similar to section above.\r\n\r\nThe resulting code is a one-liner:\r\n\r\n```java\r\nString rev =\r\n        &quot;Welcome&quot;\r\n                .codePoints ( )\r\n                .boxed ( )\r\n                .toList ( )\r\n                .reversed ( )\r\n                .stream ( )\r\n                .collect ( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append )\r\n                .toString ( );\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point\r\n  [2]: https://en.wikipedia.org/wiki/Concatenation\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#concat(java.lang.String)\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/StringBuilder.html\r\n  [5]: https://en.wikipedia.org/wiki/Java_version_history#Java_21\r\n  [6]: https://openjdk.org/jeps/431\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()\r\n  [8]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [9]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\r\n  [10]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/IntStream.html#boxed()\r\n  [11]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html","title":"Cannot convert from char to string","body":"<p>Other Answers are correct.</p>\n<h2>Code point</h2>\n<p>Let me add that this code uses the outmoded type <code>char</code> which has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most characters.</p>\n<p>Instead, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<p>As an alternative to <a href=\"https://en.wikipedia.org/wiki/Concatenation\" rel=\"nofollow noreferrer\">concatenating</a> via the <code>+</code> (PLUS SIGN) operator, you may choose to call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#concat(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#concat</code></a>. Same effect, choose according to your tastes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String org = &quot;Welcome&quot;;\nString rev = &quot;&quot;;\n\nint[] codePoints = org.codePoints().toArray() ;\nfor ( int index = codePoints.length()-1 ; index &gt;= 0 ; index -- ) {\n    int codePoint = codePoints[ index ]\n    String s = Character.toString( codePoint );\n    rev = rev.concat( s );  // ⬅️  String#concat does the same job as + (PLUS SIGN) operator… concatenates strings.\n\n}\nSystem.out.println(rev);\n</code></pre>\n<h2><code>StringBuilder</code></h2>\n<p>Even better would be use of a class deigned for building up longer strings: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a>.</p>\n<p>Use of that class <em>may</em> be more efficient in some versions of Java. More importantly, it expresses your intention to accumulate characters into a longer string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String org = &quot;Welcome&quot;;\nString rev;\n\nint[] codePoints = org.codePoints().toArray() ;\nStringBuilder builder = new StringBuilder() ;\nfor ( int index = codePoints.length()-1 ; index &gt;= 0 ; index -- ) {\n    int codePoint = codePoints[ index ]\n    sb.appendCodePoint( codePoint ) ;\n\n}\nrev = sb.toString() ;\nSystem.out.println(rev);\n</code></pre>\n<h2><code>SequencedCollection#reversed</code></h2>\n<p><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_21\" rel=\"nofollow noreferrer\">Java 21</a>+ gained the new feature of <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">sequenced collections</a>. <code>List</code> now offers a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#reversed()\" rel=\"nofollow noreferrer\"><code>reversed</code></a> method which produces a view onto the original list but with an encounter order that goes in reverse. As a view onto the original, this method works even on an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable list</a>.</p>\n<p>If we make a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> from our stream of code points, we can call <code>reversed</code> instead of the complicated <code>for</code> loop seen above.</p>\n<p>A <code>List</code> must contain objects rather than primitive values. So we call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/IntStream.html#boxed()\" rel=\"nofollow noreferrer\"><code>IntStream#boxed</code></a> to wrap each <code>int</code> code point as a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Integer</code></a> object.</p>\n<p>We collect those code points in reverse by using a <code>StringBuilder</code>, similar to section above.</p>\n<p>The resulting code is a one-liner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rev =\n        &quot;Welcome&quot;\n                .codePoints ( )\n                .boxed ( )\n                .toList ( )\n                .reversed ( )\n                .stream ( )\n                .collect ( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append )\n                .toString ( );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699067086,"creation_date":1699067086,"answer_id":77420597,"question_id":77414748,"body_markdown":"&gt; _&quot;Cannot convert from char to string ...&quot;_\r\n\r\nUse the _[String#valueOf](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#valueOf(char))_ method.\r\n\r\n```java\r\nString s = String.valueOf(&#39;a&#39;);\r\n```\r\n\r\n&gt; _&quot;... What does this line mean?  `= rev+org.charAt(i);` ...&quot;_\r\n\r\nThis is appending _org.charAt(i)_ to _rev_.\r\n\r\nYou can also prepend the value.\r\n\r\n```java\r\nfor (char c : org.toCharArray()) rev = c + rev;\r\n```\r\n\r\nOr, use the _[StringBuilder#reverse](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#reverse())_ method.\r\n\r\n```java\r\nString rev = new StringBuilder(org).reverse().toString();\r\n```","title":"Cannot convert from char to string","body":"<blockquote>\n<p><em>&quot;Cannot convert from char to string ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#valueOf(char)\" rel=\"nofollow noreferrer\">String#valueOf</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = String.valueOf('a');\n</code></pre>\n<blockquote>\n<p><em>&quot;... What does this line mean?  <code>= rev+org.charAt(i);</code> ...&quot;</em></p>\n</blockquote>\n<p>This is appending <em>org.charAt(i)</em> to <em>rev</em>.</p>\n<p>You can also prepend the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (char c : org.toCharArray()) rev = c + rev;\n</code></pre>\n<p>Or, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\">StringBuilder#reverse</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rev = new StringBuilder(org).reverse().toString();\n</code></pre>\n"}],"owner":{"account_id":25787364,"reputation":27,"user_id":19531930,"display_name":"JAISURYA RAVI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77414840,"answer_count":5,"score":-1,"last_activity_date":1699075085,"creation_date":1698995223,"question_id":77414748,"body_markdown":"\tString org = &quot;Welcome&quot;;\r\n\tString rev = &quot;&quot;;\r\n\t\r\n\tfor (int i = org.length()-1; i &gt;= 0; i--) {\r\n\t\trev = rev+org.charAt(i);\r\n\t}\r\n\tSystem.out.println(rev);\r\n\r\nWhat does this line mean?  `= rev+org.charAt(i);`","title":"Cannot convert from char to string","body":"<pre><code>String org = &quot;Welcome&quot;;\nString rev = &quot;&quot;;\n\nfor (int i = org.length()-1; i &gt;= 0; i--) {\n    rev = rev+org.charAt(i);\n}\nSystem.out.println(rev);\n</code></pre>\n<p>What does this line mean?  <code>= rev+org.charAt(i);</code></p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":145196,"reputation":8731,"user_id":354831,"accept_rate":86,"display_name":"Alexandre Lavoie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1369442302,"creation_date":1363162480,"answer_id":15380008,"question_id":15379740,"body_markdown":"There is many ways to change your last row cell width :\r\n\r\nA. With colspan, of course you&#39;ll need cells to fit with other rows.\r\n\r\nExample :\r\n\r\n    PdfPTable table = new PdfPTable(3);\r\n    \r\n    table.addCell(&quot;cell A0&quot;);\r\n    table.addCell(&quot;cell A1&quot;);\r\n    table.addCell(&quot;cell A2&quot;);\r\n    table.addCell(&quot;cell B0&quot;);\r\n    table.addCell(&quot;cell B1&quot;);\r\n    table.addCell(&quot;cell B2&quot;);\r\n    \r\n    PdfPCell cell = new PdfPCell();\r\n    cell.setColspan(2);\r\n    cell.addElement(new Phrase(&quot;C0 &amp; C1&quot;));\r\n    \r\n    table.addCell(cell);\r\n    \r\n    table.addCell(&quot;cell C2&quot;);\r\n\r\nB. Two tables with the same total width, no space between tables.\r\n\r\nExample :\r\n\r\n    PdfPTable table = new PdfPTable(1);\r\n    \r\n    PdfPTable table1 = new PdfPTable(3);\r\n    \r\n    table1.setWidthPercentage(100f);\r\n    table1.addCell(&quot;cell A0&quot;);\r\n    table1.addCell(&quot;cell A1&quot;);\r\n    table1.addCell(&quot;cell A2&quot;);\r\n    \r\n    PdfPTable table2 = new PdfPTable(2);\r\n\r\n    table2.setWidthPercentage(100f);\r\n    table2.addCell(&quot;cell B0&quot;);\r\n    table2.addCell(&quot;cell B1&quot;);\r\n    \r\n    table.addCell(table1);\r\n    table.addCell(table2);","title":"Change a specific PdfPCell in itext for java?","body":"<p>There is many ways to change your last row cell width :</p>\n\n<p>A. With colspan, of course you'll need cells to fit with other rows.</p>\n\n<p>Example :</p>\n\n<pre><code>PdfPTable table = new PdfPTable(3);\n\ntable.addCell(\"cell A0\");\ntable.addCell(\"cell A1\");\ntable.addCell(\"cell A2\");\ntable.addCell(\"cell B0\");\ntable.addCell(\"cell B1\");\ntable.addCell(\"cell B2\");\n\nPdfPCell cell = new PdfPCell();\ncell.setColspan(2);\ncell.addElement(new Phrase(\"C0 &amp; C1\"));\n\ntable.addCell(cell);\n\ntable.addCell(\"cell C2\");\n</code></pre>\n\n<p>B. Two tables with the same total width, no space between tables.</p>\n\n<p>Example :</p>\n\n<pre><code>PdfPTable table = new PdfPTable(1);\n\nPdfPTable table1 = new PdfPTable(3);\n\ntable1.setWidthPercentage(100f);\ntable1.addCell(\"cell A0\");\ntable1.addCell(\"cell A1\");\ntable1.addCell(\"cell A2\");\n\nPdfPTable table2 = new PdfPTable(2);\n\ntable2.setWidthPercentage(100f);\ntable2.addCell(\"cell B0\");\ntable2.addCell(\"cell B1\");\n\ntable.addCell(table1);\ntable.addCell(table2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25350991,"reputation":3,"user_id":19167863,"display_name":"Naman Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699073904,"creation_date":1699073904,"answer_id":77420799,"question_id":15379740,"body_markdown":"You can take the approach of bootstrap css grid.\r\n``` \r\n    PdfPTable table = new PdfPTable(12);\r\n    //row1\r\n    PdfPCell cell1 = new PdfPCell();\r\n    cell1.setColspan(4);\r\n    cell1.addElement(new Phrase(&quot;cell1&quot;));\r\n    table.addCell(cell1);\r\n\r\n    PdfPCell cell2 = new PdfPCell();\r\n    cell2.setColspan(4);\r\n    cell2.addElement(new Phrase(&quot;cell2&quot;));\r\n    table.addCell(cell2);\r\n\r\n    PdfPCell cell3 = new PdfPCell();\r\n    cell3.setColspan(4);\r\n    cell3.addElement(new Phrase(&quot;cell3&quot;));\r\n    table.addCell(cell3);\r\n    //row1 ends\r\n\r\n\r\n    //row2\r\n    PdfPCell cell4 = new PdfPCell();\r\n    cell4.setColspan(8);\r\n    cell4.addElement(new Phrase(&quot;cell4&quot;));\r\n    table.addCell(cell4);\r\n\r\n    PdfPCell cell5 = new PdfPCell();\r\n    cell5.setColspan(4);\r\n    cell5.addElement(new Phrase(&quot;cell5&quot;));\r\n    table.addCell(cell5);\r\n\r\n```\r\nApproach 2:- Instead of 12 columns you can take 100 columns and then it will be like managing the width as percentage. ","title":"Change a specific PdfPCell in itext for java?","body":"<p>You can take the approach of bootstrap css grid.</p>\n<pre><code>    PdfPTable table = new PdfPTable(12);\n    //row1\n    PdfPCell cell1 = new PdfPCell();\n    cell1.setColspan(4);\n    cell1.addElement(new Phrase(&quot;cell1&quot;));\n    table.addCell(cell1);\n\n    PdfPCell cell2 = new PdfPCell();\n    cell2.setColspan(4);\n    cell2.addElement(new Phrase(&quot;cell2&quot;));\n    table.addCell(cell2);\n\n    PdfPCell cell3 = new PdfPCell();\n    cell3.setColspan(4);\n    cell3.addElement(new Phrase(&quot;cell3&quot;));\n    table.addCell(cell3);\n    //row1 ends\n\n\n    //row2\n    PdfPCell cell4 = new PdfPCell();\n    cell4.setColspan(8);\n    cell4.addElement(new Phrase(&quot;cell4&quot;));\n    table.addCell(cell4);\n\n    PdfPCell cell5 = new PdfPCell();\n    cell5.setColspan(4);\n    cell5.addElement(new Phrase(&quot;cell5&quot;));\n    table.addCell(cell5);\n\n</code></pre>\n<p>Approach 2:- Instead of 12 columns you can take 100 columns and then it will be like managing the width as percentage.</p>\n"}],"owner":{"account_id":318313,"reputation":4457,"user_id":635473,"accept_rate":55,"display_name":"Nik Kashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15380008,"answer_count":2,"score":1,"last_activity_date":1699073904,"creation_date":1363161378,"question_id":15379740,"body_markdown":"I have table in itext.  \r\nI need to change a specific cell width in the last row.  \r\nIs it possible?\r\n\r\n**edit:** colspan does not cover my problem. I need completely different widths in this row. ","title":"Change a specific PdfPCell in itext for java?","body":"<p>I have table in itext.<br>\nI need to change a specific cell width in the last row.<br>\nIs it possible?</p>\n\n<p><strong>edit:</strong> colspan does not cover my problem. I need completely different widths in this row. </p>\n"},{"tags":["java","oracle","oracle-apex-5"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699252581,"post_id":77420642,"comment_id":136503347,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9956609,"reputation":10666,"user_id":7367293,"display_name":"Connor McDonald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699073229,"creation_date":1699073229,"answer_id":77420781,"question_id":77420642,"body_markdown":"Java classes in the database are wrapped by a PL/SQL layer, so calling a Java class (from APEX) will be no different to calling a PL/SQL procedure, eg\r\n\r\n    SQL&gt; create or replace and compile\r\n      2  java source named &quot;demo_passing_pkg&quot;\r\n      3  as\r\n      4  import java.io.*;\r\n      5  import java.sql.*;\r\n      6  import java.math.*;\r\n      7  import oracle.sql.*;\r\n      8  import oracle.jdbc.driver.*;\r\n      9\r\n     10  public class demo_passing_pkg extends Object\r\n     11  {\r\n     12\r\n     13  public static void pass( java.lang.String[] p_str, java.lang.Double[] p_num )\r\n     14  {\r\n     15          p_str[0] = p_str[0] + &quot;Hello World&quot;;\r\n     16          p_num[0] = new Double( 55 );\r\n     17  }\r\n     18\r\n     19  }\r\n     20  /\r\n     \r\n    Java created.\r\n    \r\n    SQL&gt; create or replace package demo_passing_pkg\r\n      2  as\r\n      3      procedure pass( p_string in out varchar2, p_double in out number )\r\n      4      as\r\n      5      language java\r\n      6      name &#39;demo_passing_pkg.pass( java.lang.String[], java.lang.Double[] )&#39;;\r\n      7\r\n      8  end demo_passing_pkg;\r\n      9  /\r\n     \r\n    Package created.\r\n     \r\n     \r\n    SQL&gt; variable s varchar2(255)\r\n    SQL&gt; variable n number\r\n    SQL&gt; set autoprint on\r\n    SQL&gt; exec :s := &#39;test &#39;; :n := 42;\r\n     \r\n    PL/SQL procedure successfully completed.\r\n     \r\n     \r\n             N\r\n    ----------\r\n            42\r\n     \r\n     \r\n    S\r\n    -------------------------------------------------------------------------------\r\n    test\r\n     \r\n    SQL&gt; exec demo_passing_pkg.pass( :s, :n )\r\n     \r\n    PL/SQL procedure successfully completed.\r\n     \r\n     \r\n             N\r\n    ----------\r\n            55\r\n     \r\n     \r\n    S\r\n    -------------------------------------------------------------------------------\r\n    test Hello World\r\n\r\n","title":"Oracle Apex and java classes","body":"<p>Java classes in the database are wrapped by a PL/SQL layer, so calling a Java class (from APEX) will be no different to calling a PL/SQL procedure, eg</p>\n<pre><code>SQL&gt; create or replace and compile\n  2  java source named &quot;demo_passing_pkg&quot;\n  3  as\n  4  import java.io.*;\n  5  import java.sql.*;\n  6  import java.math.*;\n  7  import oracle.sql.*;\n  8  import oracle.jdbc.driver.*;\n  9\n 10  public class demo_passing_pkg extends Object\n 11  {\n 12\n 13  public static void pass( java.lang.String[] p_str, java.lang.Double[] p_num )\n 14  {\n 15          p_str[0] = p_str[0] + &quot;Hello World&quot;;\n 16          p_num[0] = new Double( 55 );\n 17  }\n 18\n 19  }\n 20  /\n \nJava created.\n\nSQL&gt; create or replace package demo_passing_pkg\n  2  as\n  3      procedure pass( p_string in out varchar2, p_double in out number )\n  4      as\n  5      language java\n  6      name 'demo_passing_pkg.pass( java.lang.String[], java.lang.Double[] )';\n  7\n  8  end demo_passing_pkg;\n  9  /\n \nPackage created.\n \n \nSQL&gt; variable s varchar2(255)\nSQL&gt; variable n number\nSQL&gt; set autoprint on\nSQL&gt; exec :s := 'test '; :n := 42;\n \nPL/SQL procedure successfully completed.\n \n \n         N\n----------\n        42\n \n \nS\n-------------------------------------------------------------------------------\ntest\n \nSQL&gt; exec demo_passing_pkg.pass( :s, :n )\n \nPL/SQL procedure successfully completed.\n \n \n         N\n----------\n        55\n \n \nS\n-------------------------------------------------------------------------------\ntest Hello World\n</code></pre>\n"}],"owner":{"account_id":29792826,"reputation":1,"user_id":22832613,"display_name":"Rana mari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699073229,"creation_date":1699068284,"question_id":77420642,"body_markdown":"I am new to oracle apex and I need to call java classes through oracle apex database stores procedures but I have no idea how to do this, any clues? \r\n\r\nhaving a &quot;step by step&quot; link about how to do so would be great if possible, its not that easy to work on DB inside apex itself that&#39;s why I need a detailed description for steps required.\r\n\r\n\r\ncalling java classes is mandatory for our project, we couldn&#39;t avoid. \r\n\r\nthanks,\r\n","title":"Oracle Apex and java classes","body":"<p>I am new to oracle apex and I need to call java classes through oracle apex database stores procedures but I have no idea how to do this, any clues?</p>\n<p>having a &quot;step by step&quot; link about how to do so would be great if possible, its not that easy to work on DB inside apex itself that's why I need a detailed description for steps required.</p>\n<p>calling java classes is mandatory for our project, we couldn't avoid.</p>\n<p>thanks,</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15109469,"reputation":1459,"user_id":10904039,"display_name":"Phill Alexakis"},"score":0,"creation_date":1588841868,"post_id":61653591,"comment_id":109056913,"body_markdown":"Welcome to stack overflow, your `Morse` Object is `null` in some cases making it impossible to retrieve information. Usually you should google the `ArrayIndexOutOfBounds` to see what it is. You are iterating an `Array` with `null` object reference.","body":"Welcome to stack overflow, your <code>Morse</code> Object is <code>null</code> in some cases making it impossible to retrieve information. Usually you should google the <code>ArrayIndexOutOfBounds</code> to see what it is. You are iterating an <code>Array</code> with <code>null</code> object reference."}],"answers":[{"tags":[],"owner":{"account_id":2465703,"reputation":1615,"user_id":2148851,"accept_rate":57,"display_name":"Kavin Eswaramoorthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588841632,"creation_date":1588841632,"answer_id":61653685,"question_id":61653591,"body_markdown":"You can use a data structure called HashMap, check the following code\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    \r\n    public class Sol {\r\n        public static void main(String[] args) {\r\n            Map&lt;String, String&gt; morseToText = new HashMap&lt;&gt;();\r\n            morseToText.put(&quot;.-&quot;, &quot;A&quot;);\r\n            morseToText.put(&quot;-...&quot;, &quot;B&quot;);\r\n            morseToText.put(&quot;-.-.&quot;, &quot;C&quot;);\r\n    \r\n            Scanner ip = new Scanner(System.in);\r\n            String s = ip.nextLine();\r\n            String[] op = s.split(&quot; &quot;);\r\n            for (String s1 : op) {\r\n                System.out.print(morseToText.get(s1));\r\n            }\r\n        }\r\n    }","title":"Error: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at Main.main(Main.java:16)","body":"<p>You can use a data structure called HashMap, check the following code</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\npublic class Sol {\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; morseToText = new HashMap&lt;&gt;();\n        morseToText.put(\".-\", \"A\");\n        morseToText.put(\"-...\", \"B\");\n        morseToText.put(\"-.-.\", \"C\");\n\n        Scanner ip = new Scanner(System.in);\n        String s = ip.nextLine();\n        String[] op = s.split(\" \");\n        for (String s1 : op) {\n            System.out.print(morseToText.get(s1));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15109469,"reputation":1459,"user_id":10904039,"display_name":"Phill Alexakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699072119,"creation_date":1588842815,"answer_id":61654077,"question_id":61653591,"body_markdown":"I will list some problems and their causes as you are getting started with `Java`.\r\n\r\n[Here is a helpful link][2] with some `Data Structures` to approach an Object Oriented use case scenario.\r\n\r\n**Regarding your code**\r\n\r\nFirst of all take a look at [How To Split A String In Java][3]\r\n\r\n - For Input: **&quot;A&quot;**\r\n\r\n```java\r\n String [] op = s.split(&quot; &quot;);\r\n//op[0] contains the A,B,C etc.\r\n//op[1] is null because there is no space to split it with\r\n\r\n```\r\n\r\n - For Input: **&quot;A (1 space)&quot;**\r\n\r\n```java\r\n String [] op = s.split(&quot; &quot;);\r\n//op[0] contains the A,B,C etc.\r\n//op[1] No &quot;Space&quot; to add to op[1]\r\n\r\n```\r\n\r\n- For Input: **&quot;A     (1+ spaces)&quot;**\r\n\r\n```java\r\n String [] op = s.split(&quot; &quot;);\r\n//op[0] contains the A,B,C etc.\r\n//op[1] Still no &quot;Space&quot; to add to op[1]\r\n\r\n```\r\n\r\n**Solution:**\r\n\r\nChange ` if ( op[i] == Morse[i][1] )` to ` if ( op[0] == Morse[i][1] )`\r\n\r\nRemember the input is always at the `0` index of the `op` Array\r\n\r\nFor me, it doesn&#39;t trigger an `ArrayOutOfBoundsException` you can continue with implementing your logic in your case scenario.\r\n\r\n  [2]: https://www.geeksforgeeks.org/data-structures/\r\n  [3]: https://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java","title":"Error: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at Main.main(Main.java:16)","body":"<p>I will list some problems and their causes as you are getting started with <code>Java</code>.</p>\n<p><a href=\"https://www.geeksforgeeks.org/data-structures/\" rel=\"nofollow noreferrer\">Here is a helpful link</a> with some <code>Data Structures</code> to approach an Object Oriented use case scenario.</p>\n<p><strong>Regarding your code</strong></p>\n<p>First of all take a look at <a href=\"https://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java\">How To Split A String In Java</a></p>\n<ul>\n<li>For Input: <strong>&quot;A&quot;</strong></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code> String [] op = s.split(&quot; &quot;);\n//op[0] contains the A,B,C etc.\n//op[1] is null because there is no space to split it with\n\n</code></pre>\n<ul>\n<li>For Input: <strong>&quot;A (1 space)&quot;</strong></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code> String [] op = s.split(&quot; &quot;);\n//op[0] contains the A,B,C etc.\n//op[1] No &quot;Space&quot; to add to op[1]\n\n</code></pre>\n<ul>\n<li>For Input: <strong>&quot;A     (1+ spaces)&quot;</strong></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code> String [] op = s.split(&quot; &quot;);\n//op[0] contains the A,B,C etc.\n//op[1] Still no &quot;Space&quot; to add to op[1]\n\n</code></pre>\n<p><strong>Solution:</strong></p>\n<p>Change <code> if ( op[i] == Morse[i][1] )</code> to <code> if ( op[0] == Morse[i][1] )</code></p>\n<p>Remember the input is always at the <code>0</code> index of the <code>op</code> Array</p>\n<p>For me, it doesn't trigger an <code>ArrayOutOfBoundsException</code> you can continue with implementing your logic in your case scenario.</p>\n"}],"owner":{"account_id":14688566,"reputation":3,"user_id":10607869,"display_name":"Zennos _San"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1588858749,"accepted_answer_id":61654077,"answer_count":2,"score":-3,"last_activity_date":1699072119,"creation_date":1588841343,"question_id":61653591,"body_markdown":"i&#39;m beginner Java. My code is to convert Morse code entered from the keyboard and output as meaningful characters. This is just a 3-letter &quot;A&quot; &quot;B&quot; &quot;C&quot; test but when I ran it had an error.\r\nHelp me, please ! \r\n\r\n \r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n     public class Main {\r\n     public static void main (String[] args) {\r\n        String [][] Morse = new String[60][2];\r\n\r\n            Morse[0][0] = &quot;A&quot; ; Morse[0][1] = &quot;.-&quot; ; \r\n            Morse[1][0] = &quot;B&quot; ; Morse[1][1] = &quot;-...&quot;;\r\n            Morse[2][0] = &quot;C&quot; ; Morse[2][1] = &quot;-.-.&quot;;\r\n        \r\n        Scanner ip = new Scanner(System.in);\r\n        String s = ip.nextLine();\r\n        String [] op = s.split(&quot; &quot;);\r\n        for (int i = 0 ; i &lt;  60 ; i++) \r\n            if ( op[i] == Morse[i][1] ) System.out.print(&quot; &quot;+Morse[i][0]);\r\n        }\r\n    }","title":"Error: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at Main.main(Main.java:16)","body":"<p>i'm beginner Java. My code is to convert Morse code entered from the keyboard and output as meaningful characters. This is just a 3-letter \"A\" \"B\" \"C\" test but when I ran it had an error.\nHelp me, please ! </p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\n public class Main {\n public static void main (String[] args) {\n    String [][] Morse = new String[60][2];\n\n        Morse[0][0] = \"A\" ; Morse[0][1] = \".-\" ; \n        Morse[1][0] = \"B\" ; Morse[1][1] = \"-...\";\n        Morse[2][0] = \"C\" ; Morse[2][1] = \"-.-.\";\n\n    Scanner ip = new Scanner(System.in);\n    String s = ip.nextLine();\n    String [] op = s.split(\" \");\n    for (int i = 0 ; i &lt;  60 ; i++) \n        if ( op[i] == Morse[i][1] ) System.out.print(\" \"+Morse[i][0]);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","recursion","substring"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1698981435,"post_id":77413930,"comment_id":136476410,"body_markdown":"You need to declare count like `int count` .  And you probably need it to work for something like `&quot;aaxxaaaaakskskaakskskaaa&quot;` which would be 4.","body":"You need to declare count like <code>int count</code> .  And you probably need it to work for something like <code>&quot;aaxxaaaaakskskaakskskaaa&quot;</code> which would be 4."},{"owner":{"account_id":29626176,"reputation":27,"user_id":22705841,"display_name":"user_program"},"score":0,"creation_date":1698981697,"post_id":77413930,"comment_id":136476423,"body_markdown":"I did initialize count in line no 5 as 0 but it is not getting updated it seems.","body":"I did initialize count in line no 5 as 0 but it is not getting updated it seems."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1698981849,"post_id":77413930,"comment_id":136476430,"body_markdown":"But you reference it prior to that.   And why are you passing `start` and `end` when you just need to find a three character string.  And a string will always contains a substring of itself.  You need to check if the current substring is equal to &quot;aaa&quot;.","body":"But you reference it prior to that.   And why are you passing <code>start</code> and <code>end</code> when you just need to find a three character string.  And a string will always contains a substring of itself.  You need to check if the current substring is equal to &quot;aaa&quot;."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1698982305,"post_id":77413930,"comment_id":136476470,"body_markdown":"BTW, is this homework?","body":"BTW, is this homework?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1698983347,"post_id":77413930,"comment_id":136476566,"body_markdown":"And please take the [tour] and read [ask].","body":"And please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699014411,"creation_date":1698982838,"answer_id":77414068,"question_id":77413930,"body_markdown":"Here are some ideas that might help. Consider a starting string of `&quot;abcdefgh&quot;`.\r\n\r\n1. if I call the method with substring(1).  I will get `&quot;bcdefgh&quot;`\r\n\r\n2. if I do it again I will get `&quot;cdefgh&quot;`.\r\n\r\n3. At some point you want to be able to see if a passed string starts with &quot;aaa&quot;.  Each time you just need to see if `st.substring(0,3) equals &quot;aaa&quot;`\r\n4. if so, I want to increment the count and return the value.\r\n5. otherwise, I don&#39;t increment the count and return the value.\r\n6. Since the calls are unwinding, the string will build back up, one character at a time.  So repeat the above process starting with (3).\r\n\r\nUse print statements in the method to help determine what is going on.\r\n\r\nEventually, you can pass a string and a desired `target substring` as arguments. You can use the `length` of the `target` to adjust for substring matching.\r\n","title":"Recursion_Count of aaa","body":"<p>Here are some ideas that might help. Consider a starting string of <code>&quot;abcdefgh&quot;</code>.</p>\n<ol>\n<li><p>if I call the method with substring(1).  I will get <code>&quot;bcdefgh&quot;</code></p>\n</li>\n<li><p>if I do it again I will get <code>&quot;cdefgh&quot;</code>.</p>\n</li>\n<li><p>At some point you want to be able to see if a passed string starts with &quot;aaa&quot;.  Each time you just need to see if <code>st.substring(0,3) equals &quot;aaa&quot;</code></p>\n</li>\n<li><p>if so, I want to increment the count and return the value.</p>\n</li>\n<li><p>otherwise, I don't increment the count and return the value.</p>\n</li>\n<li><p>Since the calls are unwinding, the string will build back up, one character at a time.  So repeat the above process starting with (3).</p>\n</li>\n</ol>\n<p>Use print statements in the method to help determine what is going on.</p>\n<p>Eventually, you can pass a string and a desired <code>target substring</code> as arguments. You can use the <code>length</code> of the <code>target</code> to adjust for substring matching.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699070189,"creation_date":1699070189,"answer_id":77420695,"question_id":77413930,"body_markdown":"Here is an example.\r\n\r\n```java\r\nint count(String a, String b, int x) {\r\n    if (a.contains(b)) x = count(a.substring(1), b, ++x);\r\n    return x;\r\n}\r\n```","title":"Recursion_Count of aaa","body":"<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int count(String a, String b, int x) {\n    if (a.contains(b)) x = count(a.substring(1), b, ++x);\n    return x;\n}\n</code></pre>\n"}],"owner":{"account_id":29626176,"reputation":27,"user_id":22705841,"display_name":"user_program"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699070189,"creation_date":1698979846,"question_id":77413930,"body_markdown":" Write a recursive function which counts, the number of times “aaa”\r\nappears in the string. Print the value returned.\r\n\r\nInput:\r\naaaaaa\r\n\r\noutput:\r\n4\r\n\r\n wrote the below code using recursion but the value of &quot;a&quot; is not getting updated and also the compiler can&#39;t find the symbol &quot;count&quot;. Can anyone point to the error in the code below:\r\n\r\n\r\n```\r\npublic static int retcount(String st,int s,int e){\r\n        if(e&gt;st.length()-1){\r\n          return count;\r\n        }\r\n         int count=0;\r\n        if(st.contains(st.substring(s,e))){\r\n              count=count+1;\r\n            retcount(st,s+1,e+1);\r\n        }\r\n         return count;\r\n        }\r\n```\r\n","title":"Recursion_Count of aaa","body":"<p>Write a recursive function which counts, the number of times “aaa”\nappears in the string. Print the value returned.</p>\n<p>Input:\naaaaaa</p>\n<p>output:\n4</p>\n<p>wrote the below code using recursion but the value of &quot;a&quot; is not getting updated and also the compiler can't find the symbol &quot;count&quot;. Can anyone point to the error in the code below:</p>\n<pre><code>public static int retcount(String st,int s,int e){\n        if(e&gt;st.length()-1){\n          return count;\n        }\n         int count=0;\n        if(st.contains(st.substring(s,e))){\n              count=count+1;\n            retcount(st,s+1,e+1);\n        }\n         return count;\n        }\n</code></pre>\n"},{"tags":["java","linked-list"],"owner":{"account_id":29822862,"reputation":11,"user_id":22855605,"display_name":"beech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699069044,"creation_date":1699069044,"question_id":77420665,"body_markdown":"this is my method public static LList subtract(LList list1, LList list2) {\r\n\r\n        // Check if list1 is smaller than list2 based on lengths\r\n        if (list1.length() &lt; list2.length()) {\r\n            // Swap list1 and list2\r\n            LList temp = list1;\r\n            list1 = list2;\r\n            list2 = temp;\r\n        } else if (list1.length() == list2.length()) {\r\n            // If lengths are equal, iterate through the lists to find the greater number\r\n            list1.moveToStart();\r\n            list2.moveToStart();\r\n\r\n            while (list1.currPos() &lt; list1.length()) {\r\n                int digit1 = (int) list1.getValue();\r\n                int digit2 = (int) list2.getValue();\r\n                if (digit1 &lt; digit2) {\r\n                    // Swap list1 and list2\r\n                    LList temp = list1;\r\n                    list1 = list2;\r\n                    list2 = temp;\r\n                } else if (digit1 &gt; digit2) {\r\n                    // list1 is greater, no need to swap\r\n                    break; // No need to continue checking\r\n                }\r\n                list1.next();\r\n                list2.next();\r\n            }\r\n        }\r\n        // Check if list1 is longer than list2\r\n        if (list1.length() &gt; list2.length()) {\r\n            // Calculate the difference in length between list1 and list2\r\n            int lengthDifference = list1.length() - list2.length();\r\n            // Pad list2 with leading zeros to match the length of list1\r\n            for (int i = 0; i &lt; lengthDifference; i++) {\r\n                list2.append(0);\r\n            }\r\n        } else {\r\n            // Calculate the difference in length between list2 and list1\r\n            int lengthDifference = list2.length() - list1.length();\r\n            // Pad list1 with leading zeros to match the length of list2\r\n            for (int i = 0; i &lt; lengthDifference; i++) {\r\n                list1.append(0);\r\n            }\r\n        }\r\n        list1.moveToStart();\r\n        list2.moveToStart();\r\n        LList finalResult = new LList();\r\n        int borrow = 0;\r\n        for (int i = 0; i &lt; list1.length(); i++) {\r\n            int digit1 = (int) list1.getValue();\r\n            int digit2 = (int) list2.getValue() + borrow;\r\n            if (digit1 &lt; digit2) {\r\n                borrow = 1;\r\n                digit1 += 10;\r\n            } else {\r\n                borrow = 0;\r\n            }\r\n            int currentDifference = digit1 - digit2;\r\n            finalResult.append(currentDifference);\r\n            list1.next();\r\n            list2.next();\r\n        }\r\n\r\n        return finalResult;\r\n    }\r\n\r\nthis is my test cases\r\n    `LList num1 = new LList();\r\n        LList num2 = new LList();\r\n        LList result = new LList();\r\n\r\n        num1 = BigNumArithmetic.stringToList(&quot;1279&quot;);\r\n         num2 = BigNumArithmetic.stringToList(&quot;523&quot;);\r\n         result = BigNumArithmetic.subtract(num1, num2);\r\n        assertEquals(&quot;756&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction of positive num\r\n\r\n        // Test subtraction with leading zeros\r\n        num1 = BigNumArithmetic.stringToList(&quot;1005&quot;);\r\n        num2 = BigNumArithmetic.stringToList(&quot;509&quot;);\r\n        result = BigNumArithmetic.subtract(num1, num2);\r\n        assertEquals(&quot;496&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction with leading z\r\n    \r\n        // Test subtraction with unequal lengths\r\n        num1 = BigNumArithmetic.stringToList(&quot;12345&quot;);\r\n        num2 = BigNumArithmetic.stringToList(&quot;678&quot;);\r\n        result = BigNumArithmetic.subtract(num1, num2);\r\n        assertEquals(&quot;11667&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction witlengths&quot;);\r\n\r\n        // Test subtraction with borrow\r\n        num1 = BigNumArithmetic.stringToList(&quot;856&quot;);\r\n        num2 = BigNumArithmetic.stringToList(&quot;900&quot;);\r\n        result = BigNumArithmetic.subtract(num1, num2);\r\n        assertEquals(&quot;44&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction with borrow&quot;);\r\n    }`\r\n    \r\nIve tried changing list1.movetoend but that doesnt work and I have tried many different things to try and fix this but I cannot find one thing that works. I am subtracting two linked lists that have integers in them and cannot have a negative number.","title":"Why is my java function not working with my test case I have tried everything","body":"<p>this is my method public static LList subtract(LList list1, LList list2) {</p>\n<pre><code>    // Check if list1 is smaller than list2 based on lengths\n    if (list1.length() &lt; list2.length()) {\n        // Swap list1 and list2\n        LList temp = list1;\n        list1 = list2;\n        list2 = temp;\n    } else if (list1.length() == list2.length()) {\n        // If lengths are equal, iterate through the lists to find the greater number\n        list1.moveToStart();\n        list2.moveToStart();\n\n        while (list1.currPos() &lt; list1.length()) {\n            int digit1 = (int) list1.getValue();\n            int digit2 = (int) list2.getValue();\n            if (digit1 &lt; digit2) {\n                // Swap list1 and list2\n                LList temp = list1;\n                list1 = list2;\n                list2 = temp;\n            } else if (digit1 &gt; digit2) {\n                // list1 is greater, no need to swap\n                break; // No need to continue checking\n            }\n            list1.next();\n            list2.next();\n        }\n    }\n    // Check if list1 is longer than list2\n    if (list1.length() &gt; list2.length()) {\n        // Calculate the difference in length between list1 and list2\n        int lengthDifference = list1.length() - list2.length();\n        // Pad list2 with leading zeros to match the length of list1\n        for (int i = 0; i &lt; lengthDifference; i++) {\n            list2.append(0);\n        }\n    } else {\n        // Calculate the difference in length between list2 and list1\n        int lengthDifference = list2.length() - list1.length();\n        // Pad list1 with leading zeros to match the length of list2\n        for (int i = 0; i &lt; lengthDifference; i++) {\n            list1.append(0);\n        }\n    }\n    list1.moveToStart();\n    list2.moveToStart();\n    LList finalResult = new LList();\n    int borrow = 0;\n    for (int i = 0; i &lt; list1.length(); i++) {\n        int digit1 = (int) list1.getValue();\n        int digit2 = (int) list2.getValue() + borrow;\n        if (digit1 &lt; digit2) {\n            borrow = 1;\n            digit1 += 10;\n        } else {\n            borrow = 0;\n        }\n        int currentDifference = digit1 - digit2;\n        finalResult.append(currentDifference);\n        list1.next();\n        list2.next();\n    }\n\n    return finalResult;\n}\n</code></pre>\n<p>this is my test cases\n`LList num1 = new LList();\nLList num2 = new LList();\nLList result = new LList();</p>\n<pre><code>    num1 = BigNumArithmetic.stringToList(&quot;1279&quot;);\n     num2 = BigNumArithmetic.stringToList(&quot;523&quot;);\n     result = BigNumArithmetic.subtract(num1, num2);\n    assertEquals(&quot;756&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction of positive num\n\n    // Test subtraction with leading zeros\n    num1 = BigNumArithmetic.stringToList(&quot;1005&quot;);\n    num2 = BigNumArithmetic.stringToList(&quot;509&quot;);\n    result = BigNumArithmetic.subtract(num1, num2);\n    assertEquals(&quot;496&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction with leading z\n\n    // Test subtraction with unequal lengths\n    num1 = BigNumArithmetic.stringToList(&quot;12345&quot;);\n    num2 = BigNumArithmetic.stringToList(&quot;678&quot;);\n    result = BigNumArithmetic.subtract(num1, num2);\n    assertEquals(&quot;11667&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction witlengths&quot;);\n\n    // Test subtraction with borrow\n    num1 = BigNumArithmetic.stringToList(&quot;856&quot;);\n    num2 = BigNumArithmetic.stringToList(&quot;900&quot;);\n    result = BigNumArithmetic.subtract(num1, num2);\n    assertEquals(&quot;44&quot;, BigNumArithmetic.listToString(result), &quot;Subtraction with borrow&quot;);\n}`\n</code></pre>\n<p>Ive tried changing list1.movetoend but that doesnt work and I have tried many different things to try and fix this but I cannot find one thing that works. I am subtracting two linked lists that have integers in them and cannot have a negative number.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698982333,"post_id":77414023,"comment_id":136476476,"body_markdown":"`printDuplicates(new Scanner(text));` perhaps? What does `printDuplicates` do with the scanner? Why doesn&#39;t it just take a `String` instead?","body":"<code>printDuplicates(new Scanner(text));</code> perhaps? What does <code>printDuplicates</code> do with the scanner? Why doesn&#39;t it just take a <code>String</code> instead?"},{"owner":{"account_id":29815365,"reputation":3,"user_id":22849763,"display_name":"snowman"},"score":0,"creation_date":1698982582,"post_id":77414023,"comment_id":136476502,"body_markdown":"@Sweeper Thank you, it worked, apologies for the stupid post.","body":"@Sweeper Thank you, it worked, apologies for the stupid post."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698983113,"creation_date":1698983113,"answer_id":77414082,"question_id":77414023,"body_markdown":"You can create a `Scanner` that scans a `String` by just passing the string to its [constructor that takes a string][1].\r\n\r\n```\r\nprintDuplicates(new Scanner(text));\r\n```\r\n\r\nAlso consider making `printDuplicates` directly take a `String`, and create the scanner inside `printDuplicates`, if it needs to scan tokens.\r\n\r\n```\r\nvoid printDuplicates(String text) {\r\n    Scanner scan = new Scanner(text);\r\n    // ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.lang.String)","title":"How to pass the output of scan.nextLine() into another scanner","body":"<p>You can create a <code>Scanner</code> that scans a <code>String</code> by just passing the string to its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">constructor that takes a string</a>.</p>\n<pre><code>printDuplicates(new Scanner(text));\n</code></pre>\n<p>Also consider making <code>printDuplicates</code> directly take a <code>String</code>, and create the scanner inside <code>printDuplicates</code>, if it needs to scan tokens.</p>\n<pre><code>void printDuplicates(String text) {\n    Scanner scan = new Scanner(text);\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699068902,"creation_date":1699068902,"answer_id":77420659,"question_id":77414023,"body_markdown":"&gt; _&quot;... currently java tells me :String cannot be converted to Scanner ...&quot;_\r\n\r\nThis is because the _printDuplicates_ parameter is a _Scanner_ object.\r\n\r\n&gt; _&quot;... I have tried passing a scanner in by creating a new scanner and passing that in instead of a string ...&quot;_\r\n\r\nThis is correct, try it again.\r\n\r\n&gt; _&quot;... the start of it is: printDuplicates(Scanner scan){ Im not sure how to pass the correct thing, or force it. ...&quot;_\r\n\r\nEither will work, just adjust the _printDuplicates_ code.\r\n\r\n```java\r\nvoid printDuplicates(Scanner scan) {\r\n    \r\n    scan.close();\r\n}\r\n```\r\n\r\n```java\r\nvoid printDuplicates(String text) {\r\n    try (Scanner s = new Scanner(text)) {\r\n        \r\n    }\r\n}\r\n```","title":"How to pass the output of scan.nextLine() into another scanner","body":"<blockquote>\n<p><em>&quot;... currently java tells me :String cannot be converted to Scanner ...&quot;</em></p>\n</blockquote>\n<p>This is because the <em>printDuplicates</em> parameter is a <em>Scanner</em> object.</p>\n<blockquote>\n<p><em>&quot;... I have tried passing a scanner in by creating a new scanner and passing that in instead of a string ...&quot;</em></p>\n</blockquote>\n<p>This is correct, try it again.</p>\n<blockquote>\n<p><em>&quot;... the start of it is: printDuplicates(Scanner scan){ Im not sure how to pass the correct thing, or force it. ...&quot;</em></p>\n</blockquote>\n<p>Either will work, just adjust the <em>printDuplicates</em> code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void printDuplicates(Scanner scan) {\n    \n    scan.close();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void printDuplicates(String text) {\n    try (Scanner s = new Scanner(text)) {\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29815365,"reputation":3,"user_id":22849763,"display_name":"snowman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77414082,"answer_count":2,"score":0,"last_activity_date":1699068902,"creation_date":1698981930,"question_id":77414023,"body_markdown":"I am working on a project where I need to scan one line at a time and pass that into another method that does more scanning. currently I have \r\n```\r\npublic static void inputStats(Scanner scan)throws FileNotFoundException {\r\n\twhile (scan.hasNextLine()) {\r\n\tString text = scan.nextLine();\r\n\tprintDuplicates(text);// my other method\r\n\t}\r\n\t}\r\n```\r\ncurrently java tells me :String cannot be converted to Scanner\r\nmy other method simply gets a scanner passed in, the start of it is:\r\nprintDuplicates(Scanner scan){\r\nIm not sure how to pass the correct thing, or force it.\r\n\r\nalternate solution for me would be having scanner.next stop at the end of a line.\r\n\r\nI have tried passing a scanner in by creating a new scanner and passing that in instead of a string.\r\nI have tried forcing the inputs with ().\r\nI have tried every way of not using scanner twice that I know of.\r\n\r\n","title":"How to pass the output of scan.nextLine() into another scanner","body":"<p>I am working on a project where I need to scan one line at a time and pass that into another method that does more scanning. currently I have</p>\n<pre><code>public static void inputStats(Scanner scan)throws FileNotFoundException {\n    while (scan.hasNextLine()) {\n    String text = scan.nextLine();\n    printDuplicates(text);// my other method\n    }\n    }\n</code></pre>\n<p>currently java tells me :String cannot be converted to Scanner\nmy other method simply gets a scanner passed in, the start of it is:\nprintDuplicates(Scanner scan){\nIm not sure how to pass the correct thing, or force it.</p>\n<p>alternate solution for me would be having scanner.next stop at the end of a line.</p>\n<p>I have tried passing a scanner in by creating a new scanner and passing that in instead of a string.\nI have tried forcing the inputs with ().\nI have tried every way of not using scanner twice that I know of.</p>\n"},{"tags":["java","kotlin","grpc","armeria"],"answers":[{"tags":[],"owner":{"account_id":13210775,"reputation":967,"user_id":9541096,"display_name":"Owais Yosuf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699068447,"creation_date":1699068447,"answer_id":77420647,"question_id":77420368,"body_markdown":"To improve gRPC latency for data transfer, especially in your specific setup, you can consider various strategies and optimizations. Here are some suggestions:\r\n\r\n**1. Compression:** Enabling compression is a universally effective optimization. It reduces the amount of data transferred over the network, resulting in lower latency. Experiment with different compression settings to find the best trade-off between CPU usage and latency.\r\n\r\n**2.Client-Side Connection Pools:** Implementing connection pooling on the client side can help you reuse existing connections, reducing the overhead of creating new connections for each request. This optimization can be especially effective when dealing with high concurrency.\r\n\r\n**3. Profiling and Monitoring:** Utilize profiling tools and monitoring to identify performance bottlenecks. Profiling helps you pinpoint areas of your code that are causing latency. Monitoring helps you keep track of system-wide metrics, such as CPU and memory usage, which can indicate resource constraints. Once you identify bottlenecks through profiling and monitoring, you can make targeted optimizations.","title":"How to improve grpc latency for data transfer","body":"<p>To improve gRPC latency for data transfer, especially in your specific setup, you can consider various strategies and optimizations. Here are some suggestions:</p>\n<p><strong>1. Compression:</strong> Enabling compression is a universally effective optimization. It reduces the amount of data transferred over the network, resulting in lower latency. Experiment with different compression settings to find the best trade-off between CPU usage and latency.</p>\n<p><strong>2.Client-Side Connection Pools:</strong> Implementing connection pooling on the client side can help you reuse existing connections, reducing the overhead of creating new connections for each request. This optimization can be especially effective when dealing with high concurrency.</p>\n<p><strong>3. Profiling and Monitoring:</strong> Utilize profiling tools and monitoring to identify performance bottlenecks. Profiling helps you pinpoint areas of your code that are causing latency. Monitoring helps you keep track of system-wide metrics, such as CPU and memory usage, which can indicate resource constraints. Once you identify bottlenecks through profiling and monitoring, you can make targeted optimizations.</p>\n"}],"owner":{"account_id":1849884,"reputation":650,"user_id":1676632,"accept_rate":48,"display_name":"sattu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699068447,"creation_date":1699058853,"question_id":77420368,"body_markdown":"I following setup with grpc server and client. \r\n\r\nSetup\r\n - Total QPS ~250 \r\n - Servers 80 \r\n - Clients 4 \r\n - Size of response 150KB\r\n - Each client opens 8 grpc channels per server Server \r\n - Each client is firing ~63 QPS\r\n - Each server is receiving ~3 QPS\r\n\r\nP999 latency to get the response from a Server to a Client is 550ms. \r\n\r\nWhen I increase the number of channels making to a certain limit (i.e. # of CPUs on the client machine), I see improvements in the latency. \r\n\r\nAre there any other settings in gprc to improve the latency? (Compression is one of many)\r\n\r\nHow would we figure out bottlenecks if any?\r\n\r\n","title":"How to improve grpc latency for data transfer","body":"<p>I following setup with grpc server and client.</p>\n<p>Setup</p>\n<ul>\n<li>Total QPS ~250</li>\n<li>Servers 80</li>\n<li>Clients 4</li>\n<li>Size of response 150KB</li>\n<li>Each client opens 8 grpc channels per server Server</li>\n<li>Each client is firing ~63 QPS</li>\n<li>Each server is receiving ~3 QPS</li>\n</ul>\n<p>P999 latency to get the response from a Server to a Client is 550ms.</p>\n<p>When I increase the number of channels making to a certain limit (i.e. # of CPUs on the client machine), I see improvements in the latency.</p>\n<p>Are there any other settings in gprc to improve the latency? (Compression is one of many)</p>\n<p>How would we figure out bottlenecks if any?</p>\n"},{"tags":["java","spring","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1699023955,"post_id":77414781,"comment_id":136482688,"body_markdown":"My guess is the 404 is coming from downstream and `RewritePath\\=` should remove the slash.","body":"My guess is the 404 is coming from downstream and <code>RewritePath\\=</code> should remove the slash."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699005634,"creation_date":1699005634,"answer_id":77415741,"question_id":77414781,"body_markdown":"header: Authorization&#39;s value must be startWith Bearer ,\r\nie. Bearer ABCCCC","title":"Getting 404 for manually configured Spring Cloud route","body":"<p>header: Authorization's value must be startWith Bearer ,\nie. Bearer ABCCCC</p>\n"},{"tags":[],"owner":{"account_id":21505740,"reputation":41,"user_id":15849157,"display_name":"Ankit Rege"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699068127,"creation_date":1699013907,"answer_id":77416628,"question_id":77414781,"body_markdown":"1st thing the if you are taking the JWT(Json Web Token) use - Bearer before giving the token.\r\n\r\nexample - **Bearer ABCCC**\r\n\r\nwe generally gets **404 not found** error when the server is not able to  locate the URL which is getting hit.\r\n\r\nplease check your url - http://localhost:8082/users-ws/users/status/check\r\n\r\nas per my understanding the url should be - http://localhost:8082/users/status/check","title":"Getting 404 for manually configured Spring Cloud route","body":"<p>1st thing the if you are taking the JWT(Json Web Token) use - Bearer before giving the token.</p>\n<p>example - <strong>Bearer ABCCC</strong></p>\n<p>we generally gets <strong>404 not found</strong> error when the server is not able to  locate the URL which is getting hit.</p>\n<p>please check your url - http://localhost:8082/users-ws/users/status/check</p>\n<p>as per my understanding the url should be - http://localhost:8082/users/status/check</p>\n"}],"owner":{"account_id":19482860,"reputation":45,"user_id":14252779,"display_name":"Robin Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77415741,"answer_count":2,"score":0,"last_activity_date":1699068127,"creation_date":1698995612,"question_id":77414781,"body_markdown":"I have been learning Spring Cloud Gateway following a course on Udemy.\r\nAccessing the UserApplication directly from its assigned port through gateway.\r\n\r\nGateway- application.properties\r\n\r\n    server.port=8082\r\n    spring.application.name=api-gateway\r\n    eureka.client.service-url.defaultZone=http://localhost:8010/eureka\r\n    spring.cloud.gateway.routes[0].id=users-status-check\r\n    spring.cloud.gateway.routes[0].uri = lb://users-ws\r\n    spring.cloud.gateway.routes[0].predicates[0]=Path=/users-ws/users/status/check\r\n    spring.cloud.gateway.routes[0].predicates[1]=Method=GET\r\n    spring.cloud.gateway.routes[0].predicates[2]=Header=Authorization, Bearer (.*)\r\n    spring.cloud.gateway.routes[0].filters[0]=RemoveRequestHeader=Cookie\r\n    spring.cloud.gateway.routes[0].filters[1]=RewritePath\\=/users-ws/(?&lt;segment&gt;.*), /${segment}\r\n\r\nUserApplication - application.properties\r\n\r\n    server.port=${PORT:0}\r\n    spring.application.name=users-ws\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\r\n    spring.devtools.restart.enabled=true\r\n    eureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\r\n\r\nUserController.java\r\n\r\n    @RequestMapping(&quot;/users&quot;)\r\n    @RestController\r\n    public class UserController {\r\n    \t\r\n    \t@Autowired\r\n    \tEnvironment env;\r\n    \t\r\n    \t@Autowired\r\n    \tUserService userService;\r\n    \t\r\n    \t@GetMapping(&quot;/status/check&quot;)\r\n    \tpublic String checkStatus() {\r\n    \t\treturn &quot;Working at port : &quot;+ this.env.getProperty(&quot;local.server.port&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n[![Getting same 404 error with or without Bearer Token passed in Header][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WHaLf.png","title":"Getting 404 for manually configured Spring Cloud route","body":"<p>I have been learning Spring Cloud Gateway following a course on Udemy.\nAccessing the UserApplication directly from its assigned port through gateway.</p>\n<p>Gateway- application.properties</p>\n<pre><code>server.port=8082\nspring.application.name=api-gateway\neureka.client.service-url.defaultZone=http://localhost:8010/eureka\nspring.cloud.gateway.routes[0].id=users-status-check\nspring.cloud.gateway.routes[0].uri = lb://users-ws\nspring.cloud.gateway.routes[0].predicates[0]=Path=/users-ws/users/status/check\nspring.cloud.gateway.routes[0].predicates[1]=Method=GET\nspring.cloud.gateway.routes[0].predicates[2]=Header=Authorization, Bearer (.*)\nspring.cloud.gateway.routes[0].filters[0]=RemoveRequestHeader=Cookie\nspring.cloud.gateway.routes[0].filters[1]=RewritePath\\=/users-ws/(?&lt;segment&gt;.*), /${segment}\n</code></pre>\n<p>UserApplication - application.properties</p>\n<pre><code>server.port=${PORT:0}\nspring.application.name=users-ws\neureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\nspring.devtools.restart.enabled=true\neureka.instance.instance-id=${spring.application.name}:${spring.application.instance_id:${random.value}}\n</code></pre>\n<p>UserController.java</p>\n<pre><code>@RequestMapping(&quot;/users&quot;)\n@RestController\npublic class UserController {\n    \n    @Autowired\n    Environment env;\n    \n    @Autowired\n    UserService userService;\n    \n    @GetMapping(&quot;/status/check&quot;)\n    public String checkStatus() {\n        return &quot;Working at port : &quot;+ this.env.getProperty(&quot;local.server.port&quot;);\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WHaLf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHaLf.png\" alt=\"Getting same 404 error with or without Bearer Token passed in Header\" /></a></p>\n"},{"tags":["java","swing","ioexception","java-17","lanterna"],"answers":[{"tags":[],"owner":{"account_id":24596695,"reputation":121,"user_id":18499990,"display_name":"SpaciousCoder78"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699067396,"creation_date":1699067396,"answer_id":77420605,"question_id":77420604,"body_markdown":"The solution to this is simple, just import IOException and enclose the terminal boilerplate code in a try catch expression.\r\n\r\n```\r\n\r\nimport java.io.IOException;\r\npublic class Main {\r\n    public static void main(String[] args)  {\r\n        try{\r\n            Terminal terminal = new DefaultTerminalFactory().createTerminal();\r\n\r\n        }\r\n        catch(IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n``` \r\nNow the code will run without any errors","title":"IOExecption at createTerminal() in Java Lanterna","body":"<p>The solution to this is simple, just import IOException and enclose the terminal boilerplate code in a try catch expression.</p>\n<pre><code>\nimport java.io.IOException;\npublic class Main {\n    public static void main(String[] args)  {\n        try{\n            Terminal terminal = new DefaultTerminalFactory().createTerminal();\n\n        }\n        catch(IOException e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Now the code will run without any errors</p>\n"}],"owner":{"account_id":24596695,"reputation":121,"user_id":18499990,"display_name":"SpaciousCoder78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77420605,"answer_count":1,"score":0,"last_activity_date":1699067396,"creation_date":1699067396,"question_id":77420604,"body_markdown":"So I came across Lanterna and I decided to use it for my terminal based text editor project but when you try to run the basic create terminal boilerplate code on Windows, you&#39;ll get an IOException error.\r\n\r\nThis is the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n            Terminal terminal = new DefaultTerminalFactory().createTerminal();\r\n    }\r\n}\r\n```\r\nand this is the error:\r\n\r\n```\r\njava: unreported exception java.io.IOException; must be caught or declared to be thrown\r\n```\r\n","title":"IOExecption at createTerminal() in Java Lanterna","body":"<p>So I came across Lanterna and I decided to use it for my terminal based text editor project but when you try to run the basic create terminal boilerplate code on Windows, you'll get an IOException error.</p>\n<p>This is the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n            Terminal terminal = new DefaultTerminalFactory().createTerminal();\n    }\n}\n</code></pre>\n<p>and this is the error:</p>\n<pre><code>java: unreported exception java.io.IOException; must be caught or declared to be thrown\n</code></pre>\n"},{"tags":["java","string","methods","numbers","uppercase"],"comments":[{"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1390574449,"post_id":21335359,"comment_id":32162939,"body_markdown":"yes there is but it depends on what you want to do with those characters which determines which of the many ways to do this is best.  Why are you doing this?","body":"yes there is but it depends on what you want to do with those characters which determines which of the many ways to do this is best.  Why are you doing this?"},{"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"score":0,"creation_date":1390574461,"post_id":21335359,"comment_id":32162948,"body_markdown":"Regex may help you.  You could also create your own method to manual look for these","body":"Regex may help you.  You could also create your own method to manual look for these"},{"owner":{"account_id":3703078,"reputation":894,"user_id":3082247,"display_name":"Tabrej Khan"},"score":0,"creation_date":1390574470,"post_id":21335359,"comment_id":32162961,"body_markdown":"What exactly your requirement is?","body":"What exactly your requirement is?"},{"owner":{"account_id":2601107,"reputation":1303,"user_id":2253467,"accept_rate":93,"display_name":"Alexis Leclerc"},"score":0,"creation_date":1390574603,"post_id":21335359,"comment_id":32163061,"body_markdown":"A simple Google search will answer your question:\nhttp://stackoverflow.com/questions/7957944/search-for-capital-letter-in-string","body":"A simple Google search will answer your question: <a href=\"http://stackoverflow.com/questions/7957944/search-for-capital-letter-in-string\" title=\"search for capital letter in string\">stackoverflow.com/questions/7957944/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":333381,"reputation":2653,"user_id":659223,"accept_rate":69,"display_name":"Atiris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390574565,"creation_date":1390574565,"answer_id":21335437,"question_id":21335359,"body_markdown":"No, it is not a proprietary method.  \r\nYou can use regular expression, or loop over letters in string and extract you need.\r\n\r\nSee some code here:  \r\nhttps://stackoverflow.com/questions/14974033/extract-digits-from-string-stringutils-java  \r\nhttps://stackoverflow.com/questions/4030928/extract-digits-from-a-string-in-java\r\n\r\nPlease search first, before you ask a question.","title":"Java Method to find uppercase letters and numbers in a String","body":"<p>No, it is not a proprietary method.<br>\nYou can use regular expression, or loop over letters in string and extract you need.</p>\n\n<p>See some code here:<br>\n<a href=\"https://stackoverflow.com/questions/14974033/extract-digits-from-string-stringutils-java\">Extract digits from string - StringUtils Java</a><br>\n<a href=\"https://stackoverflow.com/questions/4030928/extract-digits-from-a-string-in-java\">Extract digits from a string in Java</a></p>\n\n<p>Please search first, before you ask a question.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390575037,"creation_date":1390574644,"answer_id":21335478,"question_id":21335359,"body_markdown":"You can try\r\n\r\n        for(Character c : s.toCharArray()){\r\n            if(c.toString().toUpperCase().equals(c.toString())){\r\n                System.out.println(&quot;Upper case&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Lower case&quot;);\r\n            }\r\n        }\r\n\r\nSo we convert String to character array, iterate over it and in each iteration we compare itself with it&#39;s the upper case to check what case is used.\r\n\r\nand for finding number you can do something like below\r\n\r\n        for(Character c : s.toCharArray()){\r\n\r\n            try{\r\n                Integer.parseInt(c.toString());\r\n                System.out.println(&quot;Integer Identified&quot;);\r\n            }catch (NumberFormatException ex){\r\n                System.out.println(&quot;Not an integer&quot;);\r\n            }\r\n        }\r\n\r\nFor number simply parse String using `Integer.parseInt()`. If it is able to successfully parse then it is a number or if exception is thrown then it is not a number.","title":"Java Method to find uppercase letters and numbers in a String","body":"<p>You can try</p>\n\n<pre><code>    for(Character c : s.toCharArray()){\n        if(c.toString().toUpperCase().equals(c.toString())){\n            System.out.println(\"Upper case\");\n        }\n        else {\n            System.out.println(\"Lower case\");\n        }\n    }\n</code></pre>\n\n<p>So we convert String to character array, iterate over it and in each iteration we compare itself with it's the upper case to check what case is used.</p>\n\n<p>and for finding number you can do something like below</p>\n\n<pre><code>    for(Character c : s.toCharArray()){\n\n        try{\n            Integer.parseInt(c.toString());\n            System.out.println(\"Integer Identified\");\n        }catch (NumberFormatException ex){\n            System.out.println(\"Not an integer\");\n        }\n    }\n</code></pre>\n\n<p>For number simply parse String using <code>Integer.parseInt()</code>. If it is able to successfully parse then it is a number or if exception is thrown then it is not a number.</p>\n"},{"tags":[],"owner":{"account_id":2624111,"reputation":1574,"user_id":2271536,"accept_rate":60,"display_name":"Jorge"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390574825,"creation_date":1390574825,"answer_id":21335550,"question_id":21335359,"body_markdown":"Since you haven&#39;t specified any plans for further processing the String, you can use something like this to find uppercase and digits:\r\n\r\n    public class Extraction {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\tString test = &quot;This is a test containing S and 10&quot;;\r\n\t\tfor (char c : test.toCharArray()) {\r\n\t\t\tif (Character.isDigit(c)) {\r\n\t\t\t\tSystem.out.println(&quot;Digit: &quot; + c);\r\n\t\t\t}\r\n\t\t\telse if (Character.isUpperCase(c)) {\r\n\t\t\t\tSystem.out.println(&quot;Uppercase letter: &quot; + c);\r\n\t\t\t}\r\n\t\t}\r\n\t  }\r\n    }","title":"Java Method to find uppercase letters and numbers in a String","body":"<p>Since you haven't specified any plans for further processing the String, you can use something like this to find uppercase and digits:</p>\n\n<pre><code>public class Extraction {\n\n  public static void main(String[] args) {\n    String test = \"This is a test containing S and 10\";\n    for (char c : test.toCharArray()) {\n        if (Character.isDigit(c)) {\n            System.out.println(\"Digit: \" + c);\n        }\n        else if (Character.isUpperCase(c)) {\n            System.out.println(\"Uppercase letter: \" + c);\n        }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390575018,"creation_date":1390575018,"answer_id":21335605,"question_id":21335359,"body_markdown":"The [Java String API](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html) doesn&#39;t offer a method to do that _specifically_. You&#39;ll have to code it yourself using some of the methods `String` provides.\r\n\r\nIf you&#39;re a begginer, I&#39;d suggest taking a look at [Manipulating Strings in Java](http://docs.oracle.com/javase/tutorial/java/data/manipstrings.html), also [how do loops work in Java](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html), and the `Character` class (specifically the `isDigit()` and `isUpperCase()` methods).","title":"Java Method to find uppercase letters and numbers in a String","body":"<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">Java String API</a> doesn't offer a method to do that <em>specifically</em>. You'll have to code it yourself using some of the methods <code>String</code> provides.</p>\n\n<p>If you're a begginer, I'd suggest taking a look at <a href=\"http://docs.oracle.com/javase/tutorial/java/data/manipstrings.html\" rel=\"nofollow\">Manipulating Strings in Java</a>, also <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow\">how do loops work in Java</a>, and the <code>Character</code> class (specifically the <code>isDigit()</code> and <code>isUpperCase()</code> methods).</p>\n"}],"owner":{"account_id":3871968,"reputation":39,"user_id":3207035,"display_name":"Khizer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8629,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1699067250,"creation_date":1390574336,"question_id":21335359,"body_markdown":"I&#39;m fairly new to java and was wondering if there is a method that finds the uppercase letters in a string and also if there is method that finds the numbers in a string. \r\nThank you","title":"Java Method to find uppercase letters and numbers in a String","body":"<p>I'm fairly new to java and was wondering if there is a method that finds the uppercase letters in a string and also if there is method that finds the numbers in a string. \nThank you</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9775,"page":81,"page_size":100}
