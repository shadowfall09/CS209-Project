{"items":[{"tags":["java","spring","spring-boot","spring-boot-actuator"],"owner":{"account_id":29384104,"reputation":11,"user_id":22513884,"display_name":"CarlosLaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694059541,"creation_date":1694058634,"question_id":77056511,"body_markdown":"It is well known that &quot;/actuator/health&quot; executes all HealthIndicator implementations, as long as you add the @component annotation. But if &quot;/actuator/health&quot; is used in livenessProbe and readinessProbe , it&#39;s not appropriate, according to the rule, if I want &quot;/actuator/health/ readiness&quot; to execute my custom HealthIndicator after the ReadinessStateHealthIndicator, what should I do? I&#39;m very confused.\r\n\r\n\r\n\r\nI want &quot;/actuator/health/readiness&quot; to execute a bunch of my custom HealthIndicators after it executes the ReadinessStateHealthIndicator.","title":"How should I get &quot;/actuator/health/readiness&quot; to perform all custom metrics?","body":"<p>It is well known that &quot;/actuator/health&quot; executes all HealthIndicator implementations, as long as you add the @component annotation. But if &quot;/actuator/health&quot; is used in livenessProbe and readinessProbe , it's not appropriate, according to the rule, if I want &quot;/actuator/health/ readiness&quot; to execute my custom HealthIndicator after the ReadinessStateHealthIndicator, what should I do? I'm very confused.</p>\n<p>I want &quot;/actuator/health/readiness&quot; to execute a bunch of my custom HealthIndicators after it executes the ReadinessStateHealthIndicator.</p>\n"},{"tags":["java","spring","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694067823,"post_id":77056533,"comment_id":135842911,"body_markdown":"Just add that class to your project and it will be loaded before the one from the jar? No need to replace it.","body":"Just add that class to your project and it will be loaded before the one from the jar? No need to replace it."},{"owner":{"account_id":5752098,"reputation":866,"user_id":4541421,"accept_rate":83,"display_name":"Mateusz Stefaniak"},"score":0,"creation_date":1694080473,"post_id":77056533,"comment_id":135845370,"body_markdown":"It simply just not work, because this class is used by enother classes from that dependency and they&#39;re still using ole one despite having new in the project.","body":"It simply just not work, because this class is used by enother classes from that dependency and they&#39;re still using ole one despite having new in the project."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694087707,"post_id":77056533,"comment_id":135846728,"body_markdown":"Did you place it in the same package as the actual class? Also why do you need a separate implementation of that class? Feels like that should be something that should be provided by the used library/framework itself.","body":"Did you place it in the same package as the actual class? Also why do you need a separate implementation of that class? Feels like that should be something that should be provided by the used library/framework itself."},{"owner":{"account_id":5752098,"reputation":866,"user_id":4541421,"accept_rate":83,"display_name":"Mateusz Stefaniak"},"score":0,"creation_date":1694133387,"post_id":77056533,"comment_id":135854816,"body_markdown":"Yes, it is placed in exactly same place. If it could be provided by lib itself there would be no problem. But it can not.","body":"Yes, it is placed in exactly same place. If it could be provided by lib itself there would be no problem. But it can not."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694156502,"post_id":77056533,"comment_id":135856897,"body_markdown":"But then why use the lib? Feels like that you are using the lib in a way it wasn&#39;t designed to work. Could you specify the workaround and library in question, as there must be a better way. Overriding classes from a alibrary is generally not a good idea and will eventually lead to all sorts of weird issues. (Yes I now it will as I have on several occasions had to patch WebSphere like that, temporarily :( ).","body":"But then why use the lib? Feels like that you are using the lib in a way it wasn&#39;t designed to work. Could you specify the workaround and library in question, as there must be a better way. Overriding classes from a alibrary is generally not a good idea and will eventually lead to all sorts of weird issues. (Yes I now it will as I have on several occasions had to patch WebSphere like that, temporarily :( )."},{"owner":{"account_id":5752098,"reputation":866,"user_id":4541421,"accept_rate":83,"display_name":"Mateusz Stefaniak"},"score":0,"creation_date":1694472109,"post_id":77056533,"comment_id":135892778,"body_markdown":"The lib is huge and it has a bug in one of its classes.","body":"The lib is huge and it has a bug in one of its classes."}],"owner":{"account_id":5752098,"reputation":866,"user_id":4541421,"accept_rate":83,"display_name":"Mateusz Stefaniak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694059231,"creation_date":1694059231,"question_id":77056533,"body_markdown":"I have project with Spring Boot. It uses Spring Boot Maven Plugin.\r\nI need to replace single class in one of my dependencies with my own implementation. I am struggling with it. I am running into cuch problems as no main class found, failed to get nested archive or invalid signature file digest.\r\n\r\nHere is my shade plugin config:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;configuration&gt;\r\n        &lt;keepDependenciesWithProvidedScope&gt;true&lt;/keepDependenciesWithProvidedScope&gt;\r\n        &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n        &lt;filters&gt;\r\n            &lt;filter&gt;\r\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/filter&gt;\r\n        &lt;/filters&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;shade&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;filters&gt;\r\n                    &lt;filter&gt;\r\n                        &lt;artifact&gt;dep-to-replace-class-in&lt;/artifact&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;xyz/morecraft/dev/mcds/processor/ias/mq/MqConnectorBase.class&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/filter&gt;\r\n                &lt;/filters&gt;\r\n                &lt;transformers&gt;\r\n                    &lt;transformer\r\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                        &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n                    &lt;/transformer&gt;\r\n                    &lt;transformer\r\n                            implementation=&quot;org.springframework.boot.maven.PropertiesMergingResourceTransformer&quot;&gt;\r\n                        &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\r\n                    &lt;/transformer&gt;\r\n                    &lt;transformer\r\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                        &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n                    &lt;/transformer&gt;\r\n                    &lt;transformer\r\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                    &lt;transformer\r\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                        &lt;mainClass&gt;my.class&lt;/mainClass&gt;\r\n                    &lt;/transformer&gt;\r\n                &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Spring Boot Maven Plugin With Maven Shade Plugin - Replace single class in dependency","body":"<p>I have project with Spring Boot. It uses Spring Boot Maven Plugin.\nI need to replace single class in one of my dependencies with my own implementation. I am struggling with it. I am running into cuch problems as no main class found, failed to get nested archive or invalid signature file digest.</p>\n<p>Here is my shade plugin config:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;keepDependenciesWithProvidedScope&gt;true&lt;/keepDependenciesWithProvidedScope&gt;\n        &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n        &lt;filters&gt;\n            &lt;filter&gt;\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/filter&gt;\n        &lt;/filters&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;shade&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;dep-to-replace-class-in&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;xyz/morecraft/dev/mcds/processor/ias/mq/MqConnectorBase.class&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n                &lt;transformers&gt;\n                    &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                        &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer\n                            implementation=&quot;org.springframework.boot.maven.PropertiesMergingResourceTransformer&quot;&gt;\n                        &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                        &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                    &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                        &lt;mainClass&gt;my.class&lt;/mainClass&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","android-studio","debugging"],"owner":{"account_id":28991192,"reputation":11,"user_id":22206880,"display_name":"ninh bui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694057854,"creation_date":1694057854,"question_id":77056475,"body_markdown":"My project in My Android Studio. Version of my android studio &quot;Android Studio Flamingo | 2022.2.1 Patch 2&quot;\r\nWhen i try debug, affter end progress, android studio show for me &quot;Waiting until last debugger command completes&quot; then my application waiting before crash.\r\n\r\n\r\n\r\n\r\nPossible workarounds that can&#39;t solve my problem:\r\n1. Disable &quot;Enable alternative Throwable object&#39;s stack trace&quot;\r\n2. Disable &quot; Enable &#39;toString()&#39; object view&quot;","title":"Fix &quot;Waiting until last debugger command completes&quot; in Android Studio?","body":"<p>My project in My Android Studio. Version of my android studio &quot;Android Studio Flamingo | 2022.2.1 Patch 2&quot;\nWhen i try debug, affter end progress, android studio show for me &quot;Waiting until last debugger command completes&quot; then my application waiting before crash.</p>\n<p>Possible workarounds that can't solve my problem:</p>\n<ol>\n<li>Disable &quot;Enable alternative Throwable object's stack trace&quot;</li>\n<li>Disable &quot; Enable 'toString()' object view&quot;</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657807811,"post_id":72981851,"comment_id":128902499,"body_markdown":"Which Spring Boot version it uses? If it doesn&#39;t use 2.7 it doesn&#39;t support Java17 (officially). This looks like an old version using Spring 4.3 which doesn&#39;t support Java17.","body":"Which Spring Boot version it uses? If it doesn&#39;t use 2.7 it doesn&#39;t support Java17 (officially). This looks like an old version using Spring 4.3 which doesn&#39;t support Java17."},{"owner":{"account_id":25808775,"reputation":11,"user_id":19549903,"display_name":"Theodore Hills"},"score":0,"creation_date":1657807898,"post_id":72981851,"comment_id":128902543,"body_markdown":"@M.Deinum ok fine, then problem solved, the spring version is still 4.x","body":"@M.Deinum ok fine, then problem solved, the spring version is still 4.x"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1657808361,"post_id":72981851,"comment_id":128902737,"body_markdown":"The reflection is happing in dubbo, not framework\n`at com.alibaba.dubbo.config.spring.AnnotationBean.postProcessBeforeInitialization(AnnotationBean.java:419) ~[jrescloud-rpc-def-2.0.39.jar:2.0.39]`","body":"The reflection is happing in dubbo, not framework <code>at com.alibaba.dubbo.config.spring.AnnotationBean.postProcessBe&zwnj;&#8203;foreInitialization(A&zwnj;&#8203;nnotationBean.java:4&zwnj;&#8203;19) ~[jrescloud-rpc-def-2.0.39.jar:2.0.39]</code>"}],"answers":[{"tags":[],"owner":{"account_id":7321444,"reputation":68,"user_id":5577347,"display_name":"SeanFranklin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694057401,"creation_date":1694057401,"answer_id":77056444,"question_id":72981851,"body_markdown":"I hit the same issue and was able to work around it by adding the following two JVM args:\r\n\r\n    --add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED","title":"I cannot run a Spring Cloud Application","body":"<p>I hit the same issue and was able to work around it by adding the following two JVM args:</p>\n<pre><code>--add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":25808775,"reputation":11,"user_id":19549903,"display_name":"Theodore Hills"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694057401,"creation_date":1657807490,"question_id":72981851,"body_markdown":"I have an example of Spring Cloud based Java Application, but it uses the company customized Spring API to run.\r\n\r\nNow Application Runner is:\r\n```java\r\npackage org.example.demo.server;\r\n\r\nimport com.hundsun.jrescloud.common.boot.CloudApplication;\r\nimport com.hundsun.jrescloud.common.boot.CloudBootstrap;\r\n\r\n@CloudApplication\r\npublic class Application {\r\n\r\n    public static void main(String... args) {\r\n        CloudBootstrap.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nBecause I&#39;m using JDK 17, the app started with some errors and which were fixed by add `--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED` to **VM Options** to solve `Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b`.\r\n\r\nBut after add these vm options, now it reports (the reason appears at the end): \r\n`Caused by java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b`.\r\nTherefore I&#39;m wondering how to solve this problem.\r\n\r\nThe problem is too weird to find a solution, I have searched it on some search engines with no solution.\r\n\r\nThe whole report is\r\n```plain\r\n2022-07-14 21:57:21.204 |-ERROR [main] org.springframework.boot.SpringApplication [] -| Application startup failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mbeanExporter&#39; defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jmx.export.annotation.AnnotationMBeanExporter]: Factory method &#39;mbeanExporter&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mbeanServer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1072) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123) ~[spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:300) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1082) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1071) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat com.hundsun.jrescloud.common.boot.CloudBootstrap.run(CloudBootstrap.java:69) [jrescloud-common-2.0.39.jar:2.0.39]\r\n\tat com.hundsun.jrescloud.common.boot.CloudBootstrap.run(CloudBootstrap.java:50) [jrescloud-common-2.0.39.jar:2.0.39]\r\n\tat org.example.demo.server.Application.main(Application.java:16) [classes/:?]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jmx.export.annotation.AnnotationMBeanExporter]: Factory method &#39;mbeanExporter&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mbeanServer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\t... 20 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mbeanServer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter(JmxAutoConfiguration.java:82) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.CGLIB$mbeanExporter$2(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b$$FastClassBySpringCGLIB$$4ed9fd1a.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.mbeanExporter(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\t... 20 more\r\nCaused by: org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\r\n\tat com.alibaba.dubbo.config.spring.AnnotationBean.postProcessBeforeInitialization(AnnotationBean.java:439) ~[jrescloud-rpc-def-2.0.39.jar:2.0.39]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1622) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter(JmxAutoConfiguration.java:82) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.CGLIB$mbeanExporter$2(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b$$FastClassBySpringCGLIB$$4ed9fd1a.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.mbeanExporter(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\t... 20 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\r\n\tat java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[?:?]\r\n\tat java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[?:?]\r\n\tat java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[?:?]\r\n\tat java.lang.reflect.Field.setAccessible(Field.java:172) ~[?:?]\r\n\tat com.alibaba.dubbo.config.spring.AnnotationBean.postProcessBeforeInitialization(AnnotationBean.java:419) ~[jrescloud-rpc-def-2.0.39.jar:2.0.39]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1622) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter(JmxAutoConfiguration.java:82) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.CGLIB$mbeanExporter$2(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b$$FastClassBySpringCGLIB$$4ed9fd1a.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.mbeanExporter(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\t... 20 more\r\n```","title":"I cannot run a Spring Cloud Application","body":"<p>I have an example of Spring Cloud based Java Application, but it uses the company customized Spring API to run.</p>\n<p>Now Application Runner is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.demo.server;\n\nimport com.hundsun.jrescloud.common.boot.CloudApplication;\nimport com.hundsun.jrescloud.common.boot.CloudBootstrap;\n\n@CloudApplication\npublic class Application {\n\n    public static void main(String... args) {\n        CloudBootstrap.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>Because I'm using JDK 17, the app started with some errors and which were fixed by add <code>--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED</code> to <strong>VM Options</strong> to solve <code>Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b</code>.</p>\n<p>But after add these vm options, now it reports (the reason appears at the end):\n<code>Caused by java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b</code>.\nTherefore I'm wondering how to solve this problem.</p>\n<p>The problem is too weird to find a solution, I have searched it on some search engines with no solution.</p>\n<p>The whole report is</p>\n<pre><code>2022-07-14 21:57:21.204 |-ERROR [main] org.springframework.boot.SpringApplication [] -| Application startup failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mbeanExporter' defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jmx.export.annotation.AnnotationMBeanExporter]: Factory method 'mbeanExporter' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mbeanServer' defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1072) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123) ~[spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1082) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1071) [spring-boot-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at com.hundsun.jrescloud.common.boot.CloudBootstrap.run(CloudBootstrap.java:69) [jrescloud-common-2.0.39.jar:2.0.39]\n    at com.hundsun.jrescloud.common.boot.CloudBootstrap.run(CloudBootstrap.java:50) [jrescloud-common-2.0.39.jar:2.0.39]\n    at org.example.demo.server.Application.main(Application.java:16) [classes/:?]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.jmx.export.annotation.AnnotationMBeanExporter]: Factory method 'mbeanExporter' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mbeanServer' defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    ... 20 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mbeanServer' defined in class path resource [org/springframework/boot/autoconfigure/jmx/JmxAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter(JmxAutoConfiguration.java:82) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.CGLIB$mbeanExporter$2(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b$$FastClassBySpringCGLIB$$4ed9fd1a.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.mbeanExporter(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    ... 20 more\nCaused by: org.springframework.beans.factory.BeanInitializationException: Failed to init remote service reference at filed DEFAULT_FAIR_LOCK_POLICY in class com.sun.jmx.mbeanserver.JmxMBeanServer; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\n    at com.alibaba.dubbo.config.spring.AnnotationBean.postProcessBeforeInitialization(AnnotationBean.java:439) ~[jrescloud-rpc-def-2.0.39.jar:2.0.39]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1622) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter(JmxAutoConfiguration.java:82) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.CGLIB$mbeanExporter$2(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b$$FastClassBySpringCGLIB$$4ed9fd1a.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.mbeanExporter(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    ... 20 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field public static final boolean com.sun.jmx.mbeanserver.JmxMBeanServer.DEFAULT_FAIR_LOCK_POLICY accessible: module java.management does not &quot;exports com.sun.jmx.mbeanserver&quot; to unnamed module @3590fc5b\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[?:?]\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[?:?]\n    at java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[?:?]\n    at java.lang.reflect.Field.setAccessible(Field.java:172) ~[?:?]\n    at com.alibaba.dubbo.config.spring.AnnotationBean.postProcessBeforeInitialization(AnnotationBean.java:419) ~[jrescloud-rpc-def-2.0.39.jar:2.0.39]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1622) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration.mbeanExporter(JmxAutoConfiguration.java:82) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.CGLIB$mbeanExporter$2(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b$$FastClassBySpringCGLIB$$4ed9fd1a.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration$$EnhancerBySpringCGLIB$$d9f4250b.mbeanExporter(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.22.RELEASE.jar:1.5.22.RELEASE]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.25.RELEASE.jar:4.3.25.RELEASE]\n    ... 20 more\n</code></pre>\n"},{"tags":["java","ajax","spring","model-view-controller","controller"],"comments":[{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":1,"creation_date":1694017817,"post_id":77053770,"comment_id":135837052,"body_markdown":"When you redirect the page using `location.href` the current page is reloaded and any data stored in the model or `BindingResult` are lost","body":"When you redirect the page using <code>location.href</code> the current page is reloaded and any data stored in the model or <code>BindingResult</code> are lost"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1694018554,"post_id":77053770,"comment_id":135837198,"body_markdown":"When you navigate the user to a new page, the user is navigated to a new page.  It&#39;s as though the user clicked on a link, or manually typed a new address into the browser.  Anything and everything from the previous page is lost.  Taking a step back... Why would you want to navigate the user to a new page after performing an AJAX operation anyway?  The point of AJAX is to not require navigation.  If page navigation is the goal then don&#39;t use AJAX in the first place and just let the user submit the form.  It&#39;s not really clear what the underlying goal is here.","body":"When you navigate the user to a new page, the user is navigated to a new page.  It&#39;s as though the user clicked on a link, or manually typed a new address into the browser.  Anything and everything from the previous page is lost.  Taking a step back... Why would you want to navigate the user to a new page after performing an AJAX operation anyway?  The point of AJAX is to not require navigation.  If page navigation is the goal then don&#39;t use AJAX in the first place and just let the user submit the form.  It&#39;s not really clear what the underlying goal is here."},{"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"score":0,"creation_date":1694054488,"post_id":77053770,"comment_id":135841804,"body_markdown":"@David Added formRequest code. If you look at the formRequest, there are List&lt;GoodRequest&gt;  and List&lt;DimRequest&gt; , and you had to collect GoodRequest and DimRequest from javascript, respectively, and send them to the controller. So I used ajax.","body":"@David Added formRequest code. If you look at the formRequest, there are List&lt;GoodRequest&gt;  and List&lt;DimRequest&gt; , and you had to collect GoodRequest and DimRequest from javascript, respectively, and send them to the controller. So I used ajax."}],"answers":[{"tags":[],"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694018792,"creation_date":1694018792,"answer_id":77053900,"question_id":77053770,"body_markdown":"When you redirect the page using `location.href`, the current page is reloaded and any data stored in the model or `BindingResult` is lost. One way to maintain the data between requests is to store it in the session or pass it as URL parameters.\r\n\r\nIn your case, you could modify your controller to store the `formRequest` and `bindingResult` objects in the session, and then retrieve them from the session when rendering the view. Modify you code as follow:\r\n\r\n```java\r\n@PostMapping(&quot;/example&quot;)\r\n@ResponseBody\r\npublic Map&lt;String, Object&gt; example(\r\n        @RequestPart(&quot;formRequest&quot;) @Validated FormRequest formRequest,\r\n        BindingResult bindingResult,\r\n        @RequestPart(value = &quot;file&quot;, required = false) MultipartFile file,\r\n        @RequestPart(value = &quot;files&quot;, required = false) MultipartFile[] files,\r\n        Model model,\r\n        HttpSession session\r\n) {\r\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\r\n    if (bindingResult.hasErrors()) {\r\n        log.warn(&quot;bindingResult={}&quot;, bindingResult);\r\n        // Store formRequest and bindingResult in the session\r\n        session.setAttribute(&quot;formRequest&quot;, formRequest);\r\n        session.setAttribute(&quot;bindingResult&quot;, bindingResult);\r\n        response.put(&quot;errors&quot;, bindingResult.getAllErrors());\r\n\r\n        response.put(&quot;url&quot;, &quot;/example&quot;);\r\n        return response;\r\n    }\r\n\r\n    return response;\r\n}\r\n```\r\n\r\nThen in your view, you can retrieve the `formRequest` and `bindingResult` objects from the session and use them.","title":"How to maintain the model and bindingResult of the controller when moving the view of ajax","body":"<p>When you redirect the page using <code>location.href</code>, the current page is reloaded and any data stored in the model or <code>BindingResult</code> is lost. One way to maintain the data between requests is to store it in the session or pass it as URL parameters.</p>\n<p>In your case, you could modify your controller to store the <code>formRequest</code> and <code>bindingResult</code> objects in the session, and then retrieve them from the session when rendering the view. Modify you code as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/example&quot;)\n@ResponseBody\npublic Map&lt;String, Object&gt; example(\n        @RequestPart(&quot;formRequest&quot;) @Validated FormRequest formRequest,\n        BindingResult bindingResult,\n        @RequestPart(value = &quot;file&quot;, required = false) MultipartFile file,\n        @RequestPart(value = &quot;files&quot;, required = false) MultipartFile[] files,\n        Model model,\n        HttpSession session\n) {\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n\n    if (bindingResult.hasErrors()) {\n        log.warn(&quot;bindingResult={}&quot;, bindingResult);\n        // Store formRequest and bindingResult in the session\n        session.setAttribute(&quot;formRequest&quot;, formRequest);\n        session.setAttribute(&quot;bindingResult&quot;, bindingResult);\n        response.put(&quot;errors&quot;, bindingResult.getAllErrors());\n\n        response.put(&quot;url&quot;, &quot;/example&quot;);\n        return response;\n    }\n\n    return response;\n}\n</code></pre>\n<p>Then in your view, you can retrieve the <code>formRequest</code> and <code>bindingResult</code> objects from the session and use them.</p>\n"}],"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77053900,"answer_count":1,"score":-2,"last_activity_date":1694054240,"creation_date":1694017613,"question_id":77053770,"body_markdown":"I tried the following. However, when moving a view by location.href, the model and bindingResult are not maintained. How to maintain the model and bindingResult? *Maybe the approach is wrong...*\r\n\r\n### Controller\r\n\r\n```\r\n    @PostMapping(&quot;/example&quot;)\r\n    @ResponseBody\r\n    public Map&lt;String, Object&gt; example(\r\n            @RequestPart(&quot;formRequest&quot;) @Validated FormRequest formRequest,\r\n            BindingResult bindingResult,\r\n            @RequestPart(value = &quot;file&quot;, required = false) MultipartFile file,\r\n            @RequestPart(value = &quot;files&quot;, required = false) MultipartFile[] files,\r\n            Model model\r\n    ) {\r\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n        \r\n        if (bindingResult.hasErrors()) {\r\n            log.warn(&quot;bindingResult={}&quot;, bindingResult);\r\n            model.addAttribute(&quot;formRequest&quot;, formRequest);\r\n            model.addAttribute(&quot;formStatus&quot;, FormStatus.CREATE);\r\n            response.put(&quot;errors&quot;, bindingResult.getAllErrors());\r\n            \r\n            response.put(&quot;url&quot;, &quot;/example&quot;);\r\n            return response;\r\n        }\r\n\r\n        return response;\r\n    }\r\n```\r\n\r\n### formRequest\r\n\r\n```\r\npublic record FormRequest(\r\n        Long id,\r\n        @NotBlank\r\n        String content1,\r\n        @NotBlank\r\n        String content2,\r\n        @NotBlank\r\n        String content3,\r\n        @NotNull\r\n        Integer number1,\r\n        @NotNull\r\n        Integer number2,\r\n        @NotNull\r\n        List&lt;GoodRequest&gt; goodRequests,\r\n        @NotNull\r\n        List&lt;DimRequest&gt; dimRequests,\r\n        String category\r\n) {}\r\n```\r\n\r\n### ajax\r\n\r\n```\r\n        $.ajax({\r\n          url: url,\r\n          type: &quot;POST&quot;,\r\n          data: formData,\r\n          enctype: &quot;multipart/form-data&quot;,\r\n          contentType: false,\r\n          processData: false,\r\n          success: function (response) {\r\n            location.href = response.url;\r\n          }\r\n        });\r\n```","title":"How to maintain the model and bindingResult of the controller when moving the view of ajax","body":"<p>I tried the following. However, when moving a view by location.href, the model and bindingResult are not maintained. How to maintain the model and bindingResult? <em>Maybe the approach is wrong...</em></p>\n<h3>Controller</h3>\n<pre><code>    @PostMapping(&quot;/example&quot;)\n    @ResponseBody\n    public Map&lt;String, Object&gt; example(\n            @RequestPart(&quot;formRequest&quot;) @Validated FormRequest formRequest,\n            BindingResult bindingResult,\n            @RequestPart(value = &quot;file&quot;, required = false) MultipartFile file,\n            @RequestPart(value = &quot;files&quot;, required = false) MultipartFile[] files,\n            Model model\n    ) {\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n        \n        if (bindingResult.hasErrors()) {\n            log.warn(&quot;bindingResult={}&quot;, bindingResult);\n            model.addAttribute(&quot;formRequest&quot;, formRequest);\n            model.addAttribute(&quot;formStatus&quot;, FormStatus.CREATE);\n            response.put(&quot;errors&quot;, bindingResult.getAllErrors());\n            \n            response.put(&quot;url&quot;, &quot;/example&quot;);\n            return response;\n        }\n\n        return response;\n    }\n</code></pre>\n<h3>formRequest</h3>\n<pre><code>public record FormRequest(\n        Long id,\n        @NotBlank\n        String content1,\n        @NotBlank\n        String content2,\n        @NotBlank\n        String content3,\n        @NotNull\n        Integer number1,\n        @NotNull\n        Integer number2,\n        @NotNull\n        List&lt;GoodRequest&gt; goodRequests,\n        @NotNull\n        List&lt;DimRequest&gt; dimRequests,\n        String category\n) {}\n</code></pre>\n<h3>ajax</h3>\n<pre><code>        $.ajax({\n          url: url,\n          type: &quot;POST&quot;,\n          data: formData,\n          enctype: &quot;multipart/form-data&quot;,\n          contentType: false,\n          processData: false,\n          success: function (response) {\n            location.href = response.url;\n          }\n        });\n</code></pre>\n"},{"tags":["java","machine-learning","deep-learning","random-forest","weka"],"answers":[{"tags":[],"owner":{"account_id":8727884,"reputation":605,"user_id":6528988,"accept_rate":25,"display_name":"Malinda Peiris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694053831,"creation_date":1694053831,"answer_id":77056258,"question_id":77053758,"body_markdown":"Please find the solution the class index values should be added to the attributes as a list of values unlike other classifications.\r\n\r\n\r\n    private Integer runRandomForest() throws Exception {\r\n        Classifier randomForest = (Classifier) SerializationHelper.read(randomForestLocation);\r\n        CSVLoader loader = new CSVLoader();\r\n        try (InputStream fis = new FileInputStream(csvFeatureOutput)) {\r\n            loader.setSource(fis);\r\n    \r\n            Instances trainingDataSet = loader.getDataSet();\r\n    \r\n            ArrayList labels = new ArrayList();\r\n            labels.add(&quot;0.0&quot;);\r\n            labels.add(&quot;1.0&quot;);\r\n            labels.add(&quot;2.0&quot;);\r\n            Attribute attributeCls = new Attribute(&quot;label&quot;,labels);\r\n    \r\n            ArrayList&lt;Attribute&gt; attributeArrayList = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; trainingDataSet.numAttributes(); i++) {\r\n                Attribute attribute = trainingDataSet.attribute(i);\r\n                attributeArrayList.add(attribute);\r\n            }\r\n            attributeArrayList.add(attributeCls);\r\n            double[] arrayDouble = getInstances(trainingDataSet);\r\n            Instances dataset = new Instances(&quot;testdata&quot;, attributeArrayList, 0);\r\n    \r\n            DenseInstance instance = new DenseInstance(1.0, arrayDouble);\r\n            instance.setDataset(dataset);\r\n            dataset.setClassIndex(dataset.numAttributes() - 1);\r\n            \r\n            double prediction = randomForest.classifyInstance(instance);\r\n            System.out.println(prediction);\r\n    \r\n            return -1;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }  ","title":"WEKA Execute classifyInstance for Random Forest saved model","body":"<p>Please find the solution the class index values should be added to the attributes as a list of values unlike other classifications.</p>\n<pre><code>private Integer runRandomForest() throws Exception {\n    Classifier randomForest = (Classifier) SerializationHelper.read(randomForestLocation);\n    CSVLoader loader = new CSVLoader();\n    try (InputStream fis = new FileInputStream(csvFeatureOutput)) {\n        loader.setSource(fis);\n\n        Instances trainingDataSet = loader.getDataSet();\n\n        ArrayList labels = new ArrayList();\n        labels.add(&quot;0.0&quot;);\n        labels.add(&quot;1.0&quot;);\n        labels.add(&quot;2.0&quot;);\n        Attribute attributeCls = new Attribute(&quot;label&quot;,labels);\n\n        ArrayList&lt;Attribute&gt; attributeArrayList = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; trainingDataSet.numAttributes(); i++) {\n            Attribute attribute = trainingDataSet.attribute(i);\n            attributeArrayList.add(attribute);\n        }\n        attributeArrayList.add(attributeCls);\n        double[] arrayDouble = getInstances(trainingDataSet);\n        Instances dataset = new Instances(&quot;testdata&quot;, attributeArrayList, 0);\n\n        DenseInstance instance = new DenseInstance(1.0, arrayDouble);\n        instance.setDataset(dataset);\n        dataset.setClassIndex(dataset.numAttributes() - 1);\n        \n        double prediction = randomForest.classifyInstance(instance);\n        System.out.println(prediction);\n\n        return -1;\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new RuntimeException(e.getMessage());\n    }\n}  \n</code></pre>\n"}],"owner":{"account_id":8727884,"reputation":605,"user_id":6528988,"accept_rate":25,"display_name":"Malinda Peiris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694053831,"creation_date":1694017539,"question_id":77053758,"body_markdown":"Trying to execute classifyInstance against Random Forest pre trained model for Java. I was able to execute SMO Na&#239;ve Bayes for the same code but not for bagging random forest pre trained model getting below error.\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n    \tat weka.classifiers.meta.Bagging.distributionForInstance(Bagging.java:791)\r\n    \tat weka.classifiers.AbstractClassifier.classifyInstance(AbstractClassifier.java:173)\r\n    \tat com.msc.sinhalasongpredictorbackend.service.ClassifyService.runRandomForest(ClassifyService.java:97) \r\n\r\ncode snippet\r\n\r\n    private Integer runRandomForest() throws Exception {\r\n        Bagging randomForest = (Bagging) SerializationHelper.read(randomForestLocation);\r\n        CSVLoader loader = new CSVLoader();\r\n        try (InputStream fis = new FileInputStream(csvFeatureOutput)) {\r\n            loader.setSource(fis);\r\n    \r\n            Instances trainingDataSet = loader.getDataSet();\r\n    \r\n            List values = new ArrayList();\r\n            values.add(&quot;1.0&quot;);\r\n            trainingDataSet.insertAttributeAt(new Attribute(&quot;label&quot;, values), trainingDataSet.numAttributes());\r\n            trainingDataSet.setClassIndex(trainingDataSet.numAttributes() - 1);\r\n    \r\n            for (Instance i : trainingDataSet) {\r\n                Double result = randomForest.classifyInstance(i);\r\n                return result.intValue();\r\n            }\r\n    \r\n            return -1;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }\r\n\r\nThe CSV one row (Instance) would be look like below (System.out.println(i))\r\n\r\n    13.46,0.1023,0.002532,221.9,0.001693,0.06354,0.05821,26.46,13.22,134.3,0.000406,0.0742,0.3509,0.2297,0.2114,0.1953,0.2013,0.1948,0.1646,0.1817,0,0.166,15.16,1359,107900,22360000,29.32,0.1582,0.001677,1679,0.00328,0.1308,0.5461,67.77,215.6,462.1,0.0095,-0.8899,0.4612,-0.04562,0.2517,-0.005843,-0.004694,0.01806,0.006126,0.02237,0,0.3106,58.65,3476,279200,51460000,?","title":"WEKA Execute classifyInstance for Random Forest saved model","body":"<p>Trying to execute classifyInstance against Random Forest pre trained model for Java. I was able to execute SMO Naïve Bayes for the same code but not for bagging random forest pre trained model getting below error.</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at weka.classifiers.meta.Bagging.distributionForInstance(Bagging.java:791)\n    at weka.classifiers.AbstractClassifier.classifyInstance(AbstractClassifier.java:173)\n    at com.msc.sinhalasongpredictorbackend.service.ClassifyService.runRandomForest(ClassifyService.java:97) \n</code></pre>\n<p>code snippet</p>\n<pre><code>private Integer runRandomForest() throws Exception {\n    Bagging randomForest = (Bagging) SerializationHelper.read(randomForestLocation);\n    CSVLoader loader = new CSVLoader();\n    try (InputStream fis = new FileInputStream(csvFeatureOutput)) {\n        loader.setSource(fis);\n\n        Instances trainingDataSet = loader.getDataSet();\n\n        List values = new ArrayList();\n        values.add(&quot;1.0&quot;);\n        trainingDataSet.insertAttributeAt(new Attribute(&quot;label&quot;, values), trainingDataSet.numAttributes());\n        trainingDataSet.setClassIndex(trainingDataSet.numAttributes() - 1);\n\n        for (Instance i : trainingDataSet) {\n            Double result = randomForest.classifyInstance(i);\n            return result.intValue();\n        }\n\n        return -1;\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new RuntimeException(e.getMessage());\n    }\n}\n</code></pre>\n<p>The CSV one row (Instance) would be look like below (System.out.println(i))</p>\n<pre><code>13.46,0.1023,0.002532,221.9,0.001693,0.06354,0.05821,26.46,13.22,134.3,0.000406,0.0742,0.3509,0.2297,0.2114,0.1953,0.2013,0.1948,0.1646,0.1817,0,0.166,15.16,1359,107900,22360000,29.32,0.1582,0.001677,1679,0.00328,0.1308,0.5461,67.77,215.6,462.1,0.0095,-0.8899,0.4612,-0.04562,0.2517,-0.005843,-0.004694,0.01806,0.006126,0.02237,0,0.3106,58.65,3476,279200,51460000,?\n</code></pre>\n"},{"tags":["java","image","jpeg","javax.imageio"],"comments":[{"owner":{"account_id":127583,"reputation":2881,"user_id":324857,"display_name":"mwittrock"},"score":1,"creation_date":1281222560,"post_id":3432388,"comment_id":3574882,"body_markdown":"Are you on a platform that allows : in filenames?","body":"Are you on a platform that allows : in filenames?"},{"owner":{"account_id":48378,"reputation":5253,"user_id":143732,"accept_rate":100,"display_name":"Rui Vieira"},"score":2,"creation_date":1281222670,"post_id":3432388,"comment_id":3574894,"body_markdown":"Are you using OpenJDK? OpenJDK does not have a native JPEG encoder IIRC","body":"Are you using OpenJDK? OpenJDK does not have a native JPEG encoder IIRC"},{"owner":{"account_id":6575,"reputation":1636,"user_id":11110,"accept_rate":82,"display_name":"Karan"},"score":0,"creation_date":1281223551,"post_id":3432388,"comment_id":3574957,"body_markdown":"@mwittrock, yep on linux (same filename works for png and gif)","body":"@mwittrock, yep on linux (same filename works for png and gif)"},{"owner":{"account_id":6575,"reputation":1636,"user_id":11110,"accept_rate":82,"display_name":"Karan"},"score":0,"creation_date":1281223620,"post_id":3432388,"comment_id":3574962,"body_markdown":"@Rui - It seems in Eclipse&#39;s preferences that I have openjdk installed, but sun jdk is the default checked one. is there a way I can check for sure?","body":"@Rui - It seems in Eclipse&#39;s preferences that I have openjdk installed, but sun jdk is the default checked one. is there a way I can check for sure?"},{"owner":{"account_id":48378,"reputation":5253,"user_id":143732,"accept_rate":100,"display_name":"Rui Vieira"},"score":0,"creation_date":1281224453,"post_id":3432388,"comment_id":3575006,"body_markdown":"@Karan: If Sun&#39;s JDK is the default, that shouldn&#39;t be the problem.\nWhat kind of data is mapBufferTiles[row][col]? it should be a BufferedImage.","body":"@Karan: If Sun&#39;s JDK is the default, that shouldn&#39;t be the problem. What kind of data is mapBufferTiles[row][col]? it should be a BufferedImage."},{"owner":{"account_id":6575,"reputation":1636,"user_id":11110,"accept_rate":82,"display_name":"Karan"},"score":0,"creation_date":1281224879,"post_id":3432388,"comment_id":3575034,"body_markdown":"@Rui, yep it&#39;s a BufferedImage. I&#39;ve now enabled Sun&#39;s JDK by default as it was indeed using OpenJDK. It&#39;s no longer throwing an exception but because the input buffer contains transparency, I think the jpeg is outputting pink.\n\nAnyways, for future reference, I&#39;ll put this link here: http://ianma.wordpress.com/2010/05/03/access-restriction-java-openjdk-rt-jar/","body":"@Rui, yep it&#39;s a BufferedImage. I&#39;ve now enabled Sun&#39;s JDK by default as it was indeed using OpenJDK. It&#39;s no longer throwing an exception but because the input buffer contains transparency, I think the jpeg is outputting pink.  Anyways, for future reference, I&#39;ll put this link here: <a href=\"http://ianma.wordpress.com/2010/05/03/access-restriction-java-openjdk-rt-jar/\" rel=\"nofollow noreferrer\">ianma.wordpress.com/2010/05/03/&hellip;</a>"},{"owner":{"account_id":48378,"reputation":5253,"user_id":143732,"accept_rate":100,"display_name":"Rui Vieira"},"score":0,"creation_date":1281225449,"post_id":3432388,"comment_id":3575072,"body_markdown":"@Karan, cool. I&#39;ll put as an answer?","body":"@Karan, cool. I&#39;ll put as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":48378,"reputation":5253,"user_id":143732,"accept_rate":100,"display_name":"Rui Vieira"},"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1694053423,"creation_date":1281225453,"answer_id":3432532,"question_id":3432388,"body_markdown":"OpenJDK does not have a native JPEG encoder. Try using Sun&#39;s JDK, or using a library (such as [JAI][1]).\r\n\r\nAFAIK, regarding the &quot;pinkish tint&quot;, Java saves the JPEG as ARGB (still with transparency information). Most viewers, when opening, assume the four channels must correspond to a CMYK (not ARGB) and thus the red tint.\r\n\r\nIf you import the image back to Java, the transparency is still there, though.\r\n\r\n\r\n  [1]: http://java.sun.com/products/java-media/jai/iio.html","title":"ImageIO not able to write a JPEG file","body":"<p>OpenJDK does not have a native JPEG encoder. Try using Sun's JDK, or using a library (such as <a href=\"http://java.sun.com/products/java-media/jai/iio.html\" rel=\"nofollow noreferrer\">JAI</a>).</p>\n<p>AFAIK, regarding the &quot;pinkish tint&quot;, Java saves the JPEG as ARGB (still with transparency information). Most viewers, when opening, assume the four channels must correspond to a CMYK (not ARGB) and thus the red tint.</p>\n<p>If you import the image back to Java, the transparency is still there, though.</p>\n"},{"tags":[],"owner":{"account_id":1826537,"reputation":3004,"user_id":1659132,"accept_rate":50,"display_name":"Thunder"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1374703925,"creation_date":1374703925,"answer_id":17845696,"question_id":3432388,"body_markdown":"I had the same issue in OpenJDK 7 and I managed to get around this exception by using an `imageType` of `TYPE_3BYTE_BGR` instead of `TYPE_4BYTE_ABGR` using the same OpenJDK.","title":"ImageIO not able to write a JPEG file","body":"<p>I had the same issue in OpenJDK 7 and I managed to get around this exception by using an <code>imageType</code> of <code>TYPE_3BYTE_BGR</code> instead of <code>TYPE_4BYTE_ABGR</code> using the same OpenJDK.</p>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485422126,"creation_date":1485422126,"answer_id":41870130,"question_id":3432388,"body_markdown":"You get the same error\r\n\r\n    Caused by: javax.imageio.IIOException: Invalid argument to native writeImage\r\n    at com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeImage(Native Method)\r\n    at com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeOnThread(JPEGImageWriter.java:1055)\r\n\r\nif you are using a not supported Color Space (in my case CYMK). See https://stackoverflow.com/q/3123574/868941 how to solve this.","title":"ImageIO not able to write a JPEG file","body":"<p>You get the same error</p>\n\n<pre><code>Caused by: javax.imageio.IIOException: Invalid argument to native writeImage\nat com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeImage(Native Method)\nat com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeOnThread(JPEGImageWriter.java:1055)\n</code></pre>\n\n<p>if you are using a not supported Color Space (in my case CYMK). See <a href=\"https://stackoverflow.com/q/3123574/868941\">How to convert from CMYK to RGB in Java correctly?</a> how to solve this.</p>\n"},{"tags":[],"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1567246823,"creation_date":1566565351,"answer_id":57626892,"question_id":3432388,"body_markdown":"2019 answer:  Make sure your BufferedImage does not have alpha transparency.  JPEG does not support alpha, so if your image has alpha then ImageIO cannot write it to JPEG.\r\n\r\nUse the following code to ensure your image does not have alpha transparancy:\r\n\r\n    static BufferedImage ensureOpaque(BufferedImage bi) {\r\n        if (bi.getTransparency() == BufferedImage.OPAQUE)\r\n            return bi;\r\n        int w = bi.getWidth();\r\n        int h = bi.getHeight();\r\n        int[] pixels = new int[w * h];\r\n        bi.getRGB(0, 0, w, h, pixels, 0, w);\r\n        BufferedImage bi2 = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\r\n        bi2.setRGB(0, 0, w, h, pixels, 0, w);\r\n        return bi2;\r\n    }\r\n\r\n","title":"ImageIO not able to write a JPEG file","body":"<p>2019 answer:  Make sure your BufferedImage does not have alpha transparency.  JPEG does not support alpha, so if your image has alpha then ImageIO cannot write it to JPEG.</p>\n\n<p>Use the following code to ensure your image does not have alpha transparancy:</p>\n\n<pre><code>static BufferedImage ensureOpaque(BufferedImage bi) {\n    if (bi.getTransparency() == BufferedImage.OPAQUE)\n        return bi;\n    int w = bi.getWidth();\n    int h = bi.getHeight();\n    int[] pixels = new int[w * h];\n    bi.getRGB(0, 0, w, h, pixels, 0, w);\n    BufferedImage bi2 = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\n    bi2.setRGB(0, 0, w, h, pixels, 0, w);\n    return bi2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1568653431,"creation_date":1568653431,"answer_id":57961428,"question_id":3432388,"body_markdown":"Here is some code to illustrate @Thunder idea to change the image type to TYPE_3BYTE_BGR\r\n\r\n    try {\r\n      BufferedImage input = ImageIO.read(new File(&quot;input.png&quot;));\r\n      System.out.println(&quot;input image type=&quot; + input.getType());\r\n      int width = input.getWidth();\r\n      int height = input.getHeight();\r\n      BufferedImage output = new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\r\n      int px[] = new int[width * height];\r\n      input.getRGB(0, 0, width, height, px, 0, width);\r\n      output.setRGB(0, 0, width, height, px, 0, width);\r\n      ImageIO.write(output, &quot;jpg&quot;, new File(&quot;output.jpg&quot;));\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\n","title":"ImageIO not able to write a JPEG file","body":"<p>Here is some code to illustrate @Thunder idea to change the image type to TYPE_3BYTE_BGR</p>\n\n<pre><code>try {\n  BufferedImage input = ImageIO.read(new File(\"input.png\"));\n  System.out.println(\"input image type=\" + input.getType());\n  int width = input.getWidth();\n  int height = input.getHeight();\n  BufferedImage output = new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\n  int px[] = new int[width * height];\n  input.getRGB(0, 0, width, height, px, 0, width);\n  output.setRGB(0, 0, width, height, px, 0, width);\n  ImageIO.write(output, \"jpg\", new File(\"output.jpg\"));\n} catch (Exception e) {\n  e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686255246,"creation_date":1686255246,"answer_id":76435402,"question_id":3432388,"body_markdown":"I had a variation when the image I got was a `RenderedImage`, and instead of copying the byte array, I&#39;m using the `Raster` which is a rectangular image representation.\r\n\r\n```java\r\nvar newBufferedImage = new BufferedImage(\r\n    renderImg.getWidth(),\r\n    renderImg.getHeight(),\r\n    BufferedImage.TYPE_INT_RGB\r\n);\r\nrenderImg.copyData(newBufferedImage.getRaster());\r\n```\r\n\r\nDepending on your needs it might be interesting to get the raster from the `ColorModel`.","title":"ImageIO not able to write a JPEG file","body":"<p>I had a variation when the image I got was a <code>RenderedImage</code>, and instead of copying the byte array, I'm using the <code>Raster</code> which is a rectangular image representation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var newBufferedImage = new BufferedImage(\n    renderImg.getWidth(),\n    renderImg.getHeight(),\n    BufferedImage.TYPE_INT_RGB\n);\nrenderImg.copyData(newBufferedImage.getRaster());\n</code></pre>\n<p>Depending on your needs it might be interesting to get the raster from the <code>ColorModel</code>.</p>\n"}],"owner":{"account_id":6575,"reputation":1636,"user_id":11110,"accept_rate":82,"display_name":"Karan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44121,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":3432532,"answer_count":6,"score":62,"last_activity_date":1694053423,"creation_date":1281222286,"question_id":3432388,"body_markdown":"\r\nI have a BufferedImage I&#39;m trying to write to a jpeg file, but my Java program throws an exception. I&#39;m able to successfully save the same buffer to a gif and png. I&#39;ve tried looking around on Google for solutions, but to no avail.\r\n\r\nCode:\r\n\r\n\t   File outputfile = new File(&quot;tiles/&quot; + row + &quot;:&quot; + col + &quot;.jpg&quot;);\r\n\t   try {\r\n\t\t   ImageIO.write(mapBufferTiles[row][col], &quot;jpg&quot;, outputfile);\r\n\t   } catch (IOException e) {\r\n\t\t   \toutputfile.delete();\r\n\t   \t\tthrow new RuntimeException(e);\r\n\t   }\r\n\r\n\r\nException:\r\n\r\n\r\n\t Exception in thread &quot;main&quot; java.lang.RuntimeException: javax.imageio.IIOException: Invalid argument to native writeImage\r\n\t at MapServer.initMapBuffer(MapServer.java:90)\r\n\t at MapServer.&lt;init&gt;(MapServer.java:24)\r\n\t at MapServer.main(MapServer.java:118)\r\n\t Caused by: javax.imageio.IIOException: Invalid argument to native writeImage\r\n\t at com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeImage(Native Method)\r\n\t at com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeOnThread(JPEGImageWriter.java:1055)\r\n\t at com.sun.imageio.plugins.jpeg.JPEGImageWriter.write(JPEGImageWriter.java:357)\r\n\t at javax.imageio.ImageWriter.write(ImageWriter.java:615)\r\n\t at javax.imageio.ImageIO.doWrite(ImageIO.java:1602)\r\n\t at javax.imageio.ImageIO.write(ImageIO.java:1526)\r\n\t at MapServer.initMapBuffer(MapServer.java:87)\r\n\t ... 2 more\r\n","title":"ImageIO not able to write a JPEG file","body":"<p>I have a BufferedImage I'm trying to write to a jpeg file, but my Java program throws an exception. I'm able to successfully save the same buffer to a gif and png. I've tried looking around on Google for solutions, but to no avail.</p>\n\n<p>Code:</p>\n\n<pre><code>   File outputfile = new File(\"tiles/\" + row + \":\" + col + \".jpg\");\n   try {\n       ImageIO.write(mapBufferTiles[row][col], \"jpg\", outputfile);\n   } catch (IOException e) {\n        outputfile.delete();\n        throw new RuntimeException(e);\n   }\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code> Exception in thread \"main\" java.lang.RuntimeException: javax.imageio.IIOException: Invalid argument to native writeImage\n at MapServer.initMapBuffer(MapServer.java:90)\n at MapServer.&lt;init&gt;(MapServer.java:24)\n at MapServer.main(MapServer.java:118)\n Caused by: javax.imageio.IIOException: Invalid argument to native writeImage\n at com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeImage(Native Method)\n at com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeOnThread(JPEGImageWriter.java:1055)\n at com.sun.imageio.plugins.jpeg.JPEGImageWriter.write(JPEGImageWriter.java:357)\n at javax.imageio.ImageWriter.write(ImageWriter.java:615)\n at javax.imageio.ImageIO.doWrite(ImageIO.java:1602)\n at javax.imageio.ImageIO.write(ImageIO.java:1526)\n at MapServer.initMapBuffer(MapServer.java:87)\n ... 2 more\n</code></pre>\n"},{"tags":["java","gradle","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":11647201,"reputation":1,"user_id":8529625,"display_name":"korbb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694053292,"creation_date":1694053292,"answer_id":77056230,"question_id":77056192,"body_markdown":"Well, I&#39;m trolling I guess. Silly me knew I was using the x86 instead of the x64 architecture and still saw no red flags (internally) with the jvamargs. For future reference, you need to ensure your JDK is an x64 if your jvmargs require &gt;512m or whatever the cutoff is.","title":"Invalid maximum heap size: -Xmx4G The specified size exceeds the maximum representable size. (Gradle Minecraft Forge build)","body":"<p>Well, I'm trolling I guess. Silly me knew I was using the x86 instead of the x64 architecture and still saw no red flags (internally) with the jvamargs. For future reference, you need to ensure your JDK is an x64 if your jvmargs require &gt;512m or whatever the cutoff is.</p>\n"}],"owner":{"account_id":11647201,"reputation":1,"user_id":8529625,"display_name":"korbb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694069937,"answer_count":1,"score":0,"last_activity_date":1694053292,"creation_date":1694052520,"question_id":77056192,"body_markdown":"Trying to simply build forge 1.19.2 with via Gradle and I&#39;m getting weird jvm argument errors, likely due to the gradle.properties jvmargs.\r\n\r\nBuilding:\r\n- forge-1.19.2-43.2.23\r\n\r\nWith:\r\n- Gradle 7.5.1\r\n- Eclipse Temurin JDK 17.0.8.1+1 (x86 and is TRUE as the selected JDK by Gradle)\r\n- Latest version of Intellij IDEA Community version\r\n\r\n```\r\nInvalid maximum heap size: -Xmx4G\r\nThe specified size exceeds the maximum representable size.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\norg.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files (x86)\\Eclipse Adoptium\\jdk-17.0.8.101-hotspot\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\r\n\tat org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\r\nCould not create the Java Virtual Machine.\r\n\r\n\tat org.gradle.process.internal.DefaultExecActionFactory.javaexec(DefaultExecActionFactory.java:195)\r\n\tat org.gradle.api.internal.project.DefaultProject.javaexec(DefaultProject.java:1161)\r\n\tat net.minecraftforge.gradle.mcp.function.ExecuteFunction.execute(ExecuteFunction.java:127)\r\n\tat net.minecraftforge.gradle.mcp.util.MCPRuntime$Step.execute(MCPRuntime.java:178)\r\nA fatal exception has occurred. Program will exit.\r\n```\r\n\r\n\r\n\r\nThe thing is, when I raise the gradle.properties jvmarg to, say, the original 3G, I get a different error entirely:\r\n\r\n\r\n```\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\n```\r\n\r\nThe only way I could get it to even start building was to lower the jvmarg down to 512m, but then I&#39;m back at the first error. Thoughts? ","title":"Invalid maximum heap size: -Xmx4G The specified size exceeds the maximum representable size. (Gradle Minecraft Forge build)","body":"<p>Trying to simply build forge 1.19.2 with via Gradle and I'm getting weird jvm argument errors, likely due to the gradle.properties jvmargs.</p>\n<p>Building:</p>\n<ul>\n<li>forge-1.19.2-43.2.23</li>\n</ul>\n<p>With:</p>\n<ul>\n<li>Gradle 7.5.1</li>\n<li>Eclipse Temurin JDK 17.0.8.1+1 (x86 and is TRUE as the selected JDK by Gradle)</li>\n<li>Latest version of Intellij IDEA Community version</li>\n</ul>\n<pre><code>Invalid maximum heap size: -Xmx4G\nThe specified size exceeds the maximum representable size.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\norg.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files (x86)\\Eclipse Adoptium\\jdk-17.0.8.101-hotspot\\bin\\java.exe'' finished with non-zero exit value 1\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\n    at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\nCould not create the Java Virtual Machine.\n\n    at org.gradle.process.internal.DefaultExecActionFactory.javaexec(DefaultExecActionFactory.java:195)\n    at org.gradle.api.internal.project.DefaultProject.javaexec(DefaultProject.java:1161)\n    at net.minecraftforge.gradle.mcp.function.ExecuteFunction.execute(ExecuteFunction.java:127)\n    at net.minecraftforge.gradle.mcp.util.MCPRuntime$Step.execute(MCPRuntime.java:178)\nA fatal exception has occurred. Program will exit.\n</code></pre>\n<p>The thing is, when I raise the gradle.properties jvmarg to, say, the original 3G, I get a different error entirely:</p>\n<pre><code>Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\n</code></pre>\n<p>The only way I could get it to even start building was to lower the jvmarg down to 512m, but then I'm back at the first error. Thoughts?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":3,"creation_date":1694007361,"post_id":77052203,"comment_id":135834623,"body_markdown":"You appear to be doing it the (a) right way: `draw`ing and then `fill`ing the same shape with different colors.  You could also consider doing it in the opposite order, which I expect to emphasize the stroke more.  Caveats include that yes, if you use shape dimensions or stroke thicknesses that are not integers then you will be subject to FP rounding.  Perhaps you could mitigate that by [requesting higher quality rendering by setting rendering hints](https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html), but ultimately, your output device is pixelated, not continuous.","body":"You appear to be doing it the (a) right way: <code>draw</code>ing and then <code>fill</code>ing the same shape with different colors.  You could also consider doing it in the opposite order, which I expect to emphasize the stroke more.  Caveats include that yes, if you use shape dimensions or stroke thicknesses that are not integers then you will be subject to FP rounding.  Perhaps you could mitigate that by <a href=\"https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html\" rel=\"nofollow noreferrer\">requesting higher quality rendering by setting rendering hints</a>, but ultimately, your output device is pixelated, not continuous."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694029351,"post_id":77052203,"comment_id":135839199,"body_markdown":"[Graphics2D docs](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html#rendering-compatibility-issues-heading): “The JDK 1.1 rendering model is based on a pixelization model that specifies that coordinates are infinitely thin, lying between the pixels. Drawing operations are performed using a one-pixel wide pen that fills the pixel below and to the right of the anchor point on the path.” And later: “Java 2D API maintains compatibility with JDK 1.1 rendering behavior, such that legacy operations and existing renderer behavior is unchanged under Java 2D API.”","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html#rendering-compatibility-issues-heading\" rel=\"nofollow noreferrer\">Graphics2D docs</a>: “The JDK 1.1 rendering model is based on a pixelization model that specifies that coordinates are infinitely thin, lying between the pixels. Drawing operations are performed using a one-pixel wide pen that fills the pixel below and to the right of the anchor point on the path.” And later: “Java 2D API maintains compatibility with JDK 1.1 rendering behavior, such that legacy operations and existing renderer behavior is unchanged under Java 2D API.”"}],"answers":[{"tags":[],"owner":{"account_id":27073036,"reputation":33,"user_id":22484401,"display_name":"DefaultNano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694053275,"creation_date":1694053275,"answer_id":77056227,"question_id":77052203,"body_markdown":"It seems like I misunderstood what the .drawRoundRect method does, and assumed it also drew the fill. It does not. By drawing the fill first and then drawing the stroke, the problem with the stroke seeming to be shorter on one side is solved.","title":"how to have different stroke and fill colors for a shape in Java Graphics2D?","body":"<p>It seems like I misunderstood what the .drawRoundRect method does, and assumed it also drew the fill. It does not. By drawing the fill first and then drawing the stroke, the problem with the stroke seeming to be shorter on one side is solved.</p>\n"}],"owner":{"account_id":27073036,"reputation":33,"user_id":22484401,"display_name":"DefaultNano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77056227,"answer_count":1,"score":2,"last_activity_date":1694053275,"creation_date":1694005644,"question_id":77052203,"body_markdown":"I&#39;m trying to figure out how to draw a rounded rectangle with a colored stroke. Below is the code I have so far:\r\n\r\n            float thickness = textbox.getStroke();\r\n            g2d.setStroke(new BasicStroke(thickness));\r\n            \r\n            g2d.setColor(colorsList[textbox.getStrokeColor()]);\r\n            g2d.drawRoundRect(x, y, xSize, ySize, round, round);\r\n            g2d.setColor(colorsList[textbox.getColor()]); // set box color\r\n            g2d.fillRoundRect(x, y, xSize, ySize, round, round);\r\n            \r\n            g2d.setStroke(new BasicStroke(0));\r\n\r\n[![This][1]][1]\r\n\r\nThis is the stroke that comes out of the above code. It draws a rounded rectangle with the stroke and then the smaller fill inside, imitating having a stroke (in fact, this can be done without strokes at all and just using a slightly larger rounded rect). However, since the precision of the graphics 2D goes up to int, it&#39;s quite clear that the top of the stroke is slightly smaller than the bottom, and it&#39;s more so the smaller the stroke is.\r\n\r\nInstead, I want to use something like g2d.setStrokeColor() (this does not exist, as far as I  know) which can allow me to simply drawRoundRect() and not have to worry about filling the center fill with another roundedRect to get a different color.\r\n\r\n  [1]: https://i.stack.imgur.com/jZHvW.png","title":"how to have different stroke and fill colors for a shape in Java Graphics2D?","body":"<p>I'm trying to figure out how to draw a rounded rectangle with a colored stroke. Below is the code I have so far:</p>\n<pre><code>        float thickness = textbox.getStroke();\n        g2d.setStroke(new BasicStroke(thickness));\n        \n        g2d.setColor(colorsList[textbox.getStrokeColor()]);\n        g2d.drawRoundRect(x, y, xSize, ySize, round, round);\n        g2d.setColor(colorsList[textbox.getColor()]); // set box color\n        g2d.fillRoundRect(x, y, xSize, ySize, round, round);\n        \n        g2d.setStroke(new BasicStroke(0));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jZHvW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jZHvW.png\" alt=\"This\" /></a></p>\n<p>This is the stroke that comes out of the above code. It draws a rounded rectangle with the stroke and then the smaller fill inside, imitating having a stroke (in fact, this can be done without strokes at all and just using a slightly larger rounded rect). However, since the precision of the graphics 2D goes up to int, it's quite clear that the top of the stroke is slightly smaller than the bottom, and it's more so the smaller the stroke is.</p>\n<p>Instead, I want to use something like g2d.setStrokeColor() (this does not exist, as far as I  know) which can allow me to simply drawRoundRect() and not have to worry about filling the center fill with another roundedRect to get a different color.</p>\n"},{"tags":["java","gradle","annotation-processing"],"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694052434,"creation_date":1694052434,"question_id":77056191,"body_markdown":"I have a custom annotation processor and would like to test it locally, but I&#39;m having trouble configuring the annotation processor for this.\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n    }\r\n    \r\n    group = &quot;com.abb.Cleaner&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n        implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\r\n        implementation(&quot;com.google.auto.service:auto-service:1.0-rc7&quot;)\r\n        annotationProcessor(&quot;com.google.auto.service:auto-service:1.0-rc7&quot;)\r\n    \r\n    }\r\n    \r\n    tasks.test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n**annotation processor**\r\n\r\n    @SupportedAnnotationTypes(&quot;com.abb.Cleaner&quot;)\r\n    @SupportedSourceVersion(SourceVersion.RELEASE_8)\r\n    @AutoService(Processor.class)\r\n    public class CleanerProcessor extends AbstractProcessor {\r\n    \r\n        @Override\r\n        public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n            //...\r\n            return true;\r\n        }\r\n    }\r\n\r\n**run ./gradlew clean build**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jmY2l.png\r\n\r\nHow can I run it locally through a `main` method to see if the annotation is working?\r\n\r\nEx: \r\n\r\n    public class Test {\r\n    \r\n        @Cleanner\r\n        private String text1;\r\n        @Cleanner\r\n        private String text2;\r\n    \r\n        public Test(String text1, String text2) {\r\n            this.text1 = text1;\r\n            this.text2 = text2;\r\n        }\r\n    \r\n        // get / set\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Testetest = new Test(&quot;car&quot;, &quot;ferrai&quot;);\r\n            System.out.println(teste.getText1);\r\n            System.out.println(test.getText2());\r\n        }\r\n    }","title":"How to run a custom Java annotation processor locally with Gradle?","body":"<p>I have a custom annotation processor and would like to test it locally, but I'm having trouble configuring the annotation processor for this.</p>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\ngroup = &quot;com.abb.Cleaner&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n    implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\n    implementation(&quot;com.google.auto.service:auto-service:1.0-rc7&quot;)\n    annotationProcessor(&quot;com.google.auto.service:auto-service:1.0-rc7&quot;)\n\n}\n\ntasks.test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>annotation processor</strong></p>\n<pre><code>@SupportedAnnotationTypes(&quot;com.abb.Cleaner&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\n@AutoService(Processor.class)\npublic class CleanerProcessor extends AbstractProcessor {\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        //...\n        return true;\n    }\n}\n</code></pre>\n<p><strong>run ./gradlew clean build</strong></p>\n<p><a href=\"https://i.stack.imgur.com/jmY2l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmY2l.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I run it locally through a <code>main</code> method to see if the annotation is working?</p>\n<p>Ex:</p>\n<pre><code>public class Test {\n\n    @Cleanner\n    private String text1;\n    @Cleanner\n    private String text2;\n\n    public Test(String text1, String text2) {\n        this.text1 = text1;\n        this.text2 = text2;\n    }\n\n    // get / set\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Testetest = new Test(&quot;car&quot;, &quot;ferrai&quot;);\n        System.out.println(teste.getText1);\n        System.out.println(test.getText2());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","schedule","quartz"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693998309,"post_id":77050407,"comment_id":135832599,"body_markdown":"Please provide a [mre]. The problem is with the value of the start at and end at values (which are inserted as `2023-09-07 20:50:55.0(Timestamp), 2023-09-08 20:50:55.0(Timestamp)` according to your own log), so with those values, it will not start before `2023-09-07 20:50:55.0`. Seems somewhere between receiving the request, and storing it in the database, the wrong timezone is applied in some conversion of the parameters.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The problem is with the value of the start at and end at values (which are inserted as <code>2023-09-07 20:50:55.0(Timestamp), 2023-09-08 20:50:55.0(Timestamp)</code> according to your own log), so with those values, it will not start before <code>2023-09-07 20:50:55.0</code>. Seems somewhere between receiving the request, and storing it in the database, the wrong timezone is applied in some conversion of the parameters."},{"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"score":0,"creation_date":1694047669,"post_id":77050407,"comment_id":135841276,"body_markdown":"I&#39;ve changed the description of problem and add a  minimal reproducible example,Based on your answer, I now tentatively confirm that this may be a problem with SpringBoot-jackson not specifying a time zone when receiving time parameters.","body":"I&#39;ve changed the description of problem and add a  minimal reproducible example,Based on your answer, I now tentatively confirm that this may be a problem with SpringBoot-jackson not specifying a time zone when receiving time parameters."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694069708,"post_id":77050407,"comment_id":135843187,"body_markdown":"The problem is probably the use of `java.util.Date`.","body":"The problem is probably the use of <code>java.util.Date</code>."}],"owner":{"account_id":24275549,"reputation":21,"user_id":18222899,"display_name":"liang li"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694047462,"creation_date":1693990447,"question_id":77050407,"body_markdown":"As you can see, I am building a scheduled task scheduler using Spring Boot and Quartz. Here is the core logic for generating Job and Trigger:\r\n\r\nI have already included the Quartz Spring Boot dependency as follows:\r\n```xml\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n\r\n```\r\nThen I  defined a TimeJob class entity and saved it to the database using MybatisPlus\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@TableName(&quot;time_job&quot;)\r\npublic class TimeJob {\r\n\r\n    @Null(groups = {Add.class},message = &quot;不允许指定id&quot;)\r\n    @NotNull(groups = {Update.class},message = &quot;不允许指定id&quot;)\r\n    @TableId(type = IdType.AUTO)\r\n    private Integer jobId;\r\n   \r\n    @NotBlank(groups = {Add.class,Update.class},message = &quot;jobName不能为空&quot;)\r\n    private String jobName;\r\n\r\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定time&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    private Date createTime;\r\n\r\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定time&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    private Date updateTime;\r\n\r\n   \r\n  \r\n    @NotBlank(groups = {Add.class,Update.class},message = &quot;cron表达式不能为空&quot;)\r\n    private String cronExpress;\r\n\r\n    @Pattern(groups = {Add.class},regexp = &quot;^\\\\[[1-9]+(,[1-9]+)*\\\\]$&quot;,message = &quot;不符合数组规范&quot;)\r\n    private String floorList;\r\n\r\n\r\n  \r\n    @NotNull(groups = {Add.class,Update.class},message = &quot;startAt不能为空&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    private Date startAt;\r\n\r\n    @NotNull(groups = {Add.class,Update.class},message = &quot;endAt不能为空&quot;)\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    private Date endAt;\r\n\r\n   \r\n    @NotNull(groups = {Add.class,Update.class},message = &quot;enabled不能为空&quot;)\r\n    private Boolean enabled;\r\n\r\n\r\n    @NotNull(groups = {Add.class,Update.class},message = &quot;UnitsId不能为空&quot;)\r\n    private Integer unitsId;\r\n\r\n\r\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定createBy&quot;)\r\n    private Integer createBy;\r\n\r\n\r\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定User name&quot;)\r\n    @TableField(exist = false)\r\n    private String createName;\r\n}\r\n\r\n```\r\nThen I implemented an Http interface to store the TimeJob entity and add scheduled tasks to Quartz synchronously\r\n```java\r\n @PostMapping(&quot;/job&quot;)\r\npublic CommonResult&lt;String&gt; addTimeJob(@RequestBody @Validated(Add.class) TimeJob timeJob) throws FloorFormatException, SchedulerException {\r\n        int userId = StpUtil.getLoginIdAsInt();\r\n        timeJob.setCreateBy(userId);\r\n        timeJob.setCreateTime(new Date());\r\n        timeJobService.saveJob(timeJob);\r\n        return CommonResult.success(&quot;add success&quot;);\r\n}\r\n```\r\nHere is the core logic of saveJob:\r\n\r\n```java\r\n timeJobMapper.insert(timeJob);\r\n JobDetail jobDetail = JobBuilder.newJob(PubRedisByteJob.class)\r\n                .usingJobData(&quot;data&quot;,ByteUtils.byteArrayTo0xStringArray(data))\r\n                .withIdentity(timeJob.getJobName()+&quot;:&quot;+timeJob.getJobId().toString(),&quot;PubRedisByteJob&quot;)\r\n                .build();//执行\r\n CronTrigger  trigger = TriggerBuilder.newTrigger()\r\n                .withIdentity(timeJob.getJobName()+&quot;:&quot;+timeJob.getJobId().toString(),&quot;PubRedisByteTrigger&quot;)\r\n                .startAt(timeJob.getStartAt())\r\n                .endAt(timeJob.getEndAt())\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(timeJob.getCronExpress())\r\n                        .inTimeZone(TimeZone.getTimeZone(&quot;Asia/Shanghai&quot;)))\r\n                .build();//执行\r\n        scheduler.scheduleJob(jobDetail,trigger);\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        log.info(&quot;next trigger time is {}&quot;,sdf.format(trigger.getNextFireTime()));\r\n\r\n```\r\nWhen I pass the following parameters:\r\n```json\r\n{\r\n    &quot;jobName&quot;: &quot;test2&quot;,\r\n    &quot;cronExpress&quot;: &quot;*/5 * * * * ?&quot;,\r\n    &quot;floorList&quot;: &quot;[1]&quot;,\r\n    &quot;startAt&quot;: &quot;2023-09-07 12:50:55&quot;,\r\n    &quot;endAt&quot;: &quot;2023-09-08 12:50:55&quot;,\r\n    &quot;enabled&quot;: true,\r\n    &quot;remoteControlType&quot;: 1,\r\n    &quot;callUp&quot;: true,\r\n    &quot;unitsId&quot;: 26\r\n}\r\n\r\n```\r\nI&#39;ve already converted this JSON into a Java object named timeJob.\r\n\r\nThe content of the console output is:\r\n\r\n```log\r\n2023-09-06 16:44:32.245 [][] INFO  o.quartz.core.QuartzScheduler:547 - Scheduler quartzScheduler_$_NON_CLUSTERED started.\r\n2023-09-06 16:44:32.253 [][] INFO  c.t.RmsAdminApplication:61  - Started RmsAdminApplication in 4.991 seconds (JVM running for 5.516)\r\n2023-09-06 16:44:39.460 [][] INFO  c.z.hikari.HikariDataSource:110 - HikariPool-1 - Starting...\r\n2023-09-06 16:44:39.669 [][] INFO  c.z.hikari.HikariDataSource:123 - HikariPool-1 - Start completed.\r\n2023-09-06 16:44:39.709 [][] DEBUG c.t.m.TimeJobMapper.insert:137 - ==&gt;  Preparing: INSERT INTO time_job ( job_name, create_time, cron_express, floor_list, start_at, end_at, enabled, remote_control_type, call_up, units_id, create_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )\r\n2023-09-06 16:44:39.730 [][] DEBUG c.t.m.TimeJobMapper.insert:137 - ==&gt; Parameters: test2(String), 2023-09-06 16:44:39.456(Timestamp), */5 * * * * ?(String), [1](String), 2023-09-07 20:50:55.0(Timestamp), 2023-09-08 20:50:55.0(Timestamp), true(Boolean), 1(Integer), true(Boolean), 26(Integer), 12(Integer)\r\n2023-09-06 16:44:39.732 [][] DEBUG c.t.m.TimeJobMapper.insert:137 - &lt;==    Updates: 1\r\n2023-09-06 16:44:39.751 [][] INFO  c.t.service.JobService:86  - next trigger time is 2023-09-07 20:50:55\r\n\r\n```\r\n\r\nI am suspecting if there might be an issue with Quartz&#39;s timezone configuration, but I don&#39;t have concrete evidence.\r\n\r\n\r\n\r\nI have already tried configuring Quartz&#39;s timezone as &quot;Asia/Shanghai&quot; in both application.yml and the code, but it didn&#39;t solve my problem. What else can I try?","title":"Why is the next execution time of my Quartz trigger delayed by 8 hours?","body":"<p>As you can see, I am building a scheduled task scheduler using Spring Boot and Quartz. Here is the core logic for generating Job and Trigger:</p>\n<p>I have already included the Quartz Spring Boot dependency as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n\n</code></pre>\n<p>Then I  defined a TimeJob class entity and saved it to the database using MybatisPlus</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@TableName(&quot;time_job&quot;)\npublic class TimeJob {\n\n    @Null(groups = {Add.class},message = &quot;不允许指定id&quot;)\n    @NotNull(groups = {Update.class},message = &quot;不允许指定id&quot;)\n    @TableId(type = IdType.AUTO)\n    private Integer jobId;\n   \n    @NotBlank(groups = {Add.class,Update.class},message = &quot;jobName不能为空&quot;)\n    private String jobName;\n\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定time&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    private Date createTime;\n\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定time&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    private Date updateTime;\n\n   \n  \n    @NotBlank(groups = {Add.class,Update.class},message = &quot;cron表达式不能为空&quot;)\n    private String cronExpress;\n\n    @Pattern(groups = {Add.class},regexp = &quot;^\\\\[[1-9]+(,[1-9]+)*\\\\]$&quot;,message = &quot;不符合数组规范&quot;)\n    private String floorList;\n\n\n  \n    @NotNull(groups = {Add.class,Update.class},message = &quot;startAt不能为空&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    private Date startAt;\n\n    @NotNull(groups = {Add.class,Update.class},message = &quot;endAt不能为空&quot;)\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    private Date endAt;\n\n   \n    @NotNull(groups = {Add.class,Update.class},message = &quot;enabled不能为空&quot;)\n    private Boolean enabled;\n\n\n    @NotNull(groups = {Add.class,Update.class},message = &quot;UnitsId不能为空&quot;)\n    private Integer unitsId;\n\n\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定createBy&quot;)\n    private Integer createBy;\n\n\n    @Null(groups = {Add.class,Update.class},message = &quot;不允许指定User name&quot;)\n    @TableField(exist = false)\n    private String createName;\n}\n\n</code></pre>\n<p>Then I implemented an Http interface to store the TimeJob entity and add scheduled tasks to Quartz synchronously</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(&quot;/job&quot;)\npublic CommonResult&lt;String&gt; addTimeJob(@RequestBody @Validated(Add.class) TimeJob timeJob) throws FloorFormatException, SchedulerException {\n        int userId = StpUtil.getLoginIdAsInt();\n        timeJob.setCreateBy(userId);\n        timeJob.setCreateTime(new Date());\n        timeJobService.saveJob(timeJob);\n        return CommonResult.success(&quot;add success&quot;);\n}\n</code></pre>\n<p>Here is the core logic of saveJob:</p>\n<pre class=\"lang-java prettyprint-override\"><code> timeJobMapper.insert(timeJob);\n JobDetail jobDetail = JobBuilder.newJob(PubRedisByteJob.class)\n                .usingJobData(&quot;data&quot;,ByteUtils.byteArrayTo0xStringArray(data))\n                .withIdentity(timeJob.getJobName()+&quot;:&quot;+timeJob.getJobId().toString(),&quot;PubRedisByteJob&quot;)\n                .build();//执行\n CronTrigger  trigger = TriggerBuilder.newTrigger()\n                .withIdentity(timeJob.getJobName()+&quot;:&quot;+timeJob.getJobId().toString(),&quot;PubRedisByteTrigger&quot;)\n                .startAt(timeJob.getStartAt())\n                .endAt(timeJob.getEndAt())\n                .withSchedule(CronScheduleBuilder.cronSchedule(timeJob.getCronExpress())\n                        .inTimeZone(TimeZone.getTimeZone(&quot;Asia/Shanghai&quot;)))\n                .build();//执行\n        scheduler.scheduleJob(jobDetail,trigger);\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        log.info(&quot;next trigger time is {}&quot;,sdf.format(trigger.getNextFireTime()));\n\n</code></pre>\n<p>When I pass the following parameters:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;jobName&quot;: &quot;test2&quot;,\n    &quot;cronExpress&quot;: &quot;*/5 * * * * ?&quot;,\n    &quot;floorList&quot;: &quot;[1]&quot;,\n    &quot;startAt&quot;: &quot;2023-09-07 12:50:55&quot;,\n    &quot;endAt&quot;: &quot;2023-09-08 12:50:55&quot;,\n    &quot;enabled&quot;: true,\n    &quot;remoteControlType&quot;: 1,\n    &quot;callUp&quot;: true,\n    &quot;unitsId&quot;: 26\n}\n\n</code></pre>\n<p>I've already converted this JSON into a Java object named timeJob.</p>\n<p>The content of the console output is:</p>\n<pre><code>2023-09-06 16:44:32.245 [][] INFO  o.quartz.core.QuartzScheduler:547 - Scheduler quartzScheduler_$_NON_CLUSTERED started.\n2023-09-06 16:44:32.253 [][] INFO  c.t.RmsAdminApplication:61  - Started RmsAdminApplication in 4.991 seconds (JVM running for 5.516)\n2023-09-06 16:44:39.460 [][] INFO  c.z.hikari.HikariDataSource:110 - HikariPool-1 - Starting...\n2023-09-06 16:44:39.669 [][] INFO  c.z.hikari.HikariDataSource:123 - HikariPool-1 - Start completed.\n2023-09-06 16:44:39.709 [][] DEBUG c.t.m.TimeJobMapper.insert:137 - ==&gt;  Preparing: INSERT INTO time_job ( job_name, create_time, cron_express, floor_list, start_at, end_at, enabled, remote_control_type, call_up, units_id, create_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )\n2023-09-06 16:44:39.730 [][] DEBUG c.t.m.TimeJobMapper.insert:137 - ==&gt; Parameters: test2(String), 2023-09-06 16:44:39.456(Timestamp), */5 * * * * ?(String), [1](String), 2023-09-07 20:50:55.0(Timestamp), 2023-09-08 20:50:55.0(Timestamp), true(Boolean), 1(Integer), true(Boolean), 26(Integer), 12(Integer)\n2023-09-06 16:44:39.732 [][] DEBUG c.t.m.TimeJobMapper.insert:137 - &lt;==    Updates: 1\n2023-09-06 16:44:39.751 [][] INFO  c.t.service.JobService:86  - next trigger time is 2023-09-07 20:50:55\n\n</code></pre>\n<p>I am suspecting if there might be an issue with Quartz's timezone configuration, but I don't have concrete evidence.</p>\n<p>I have already tried configuring Quartz's timezone as &quot;Asia/Shanghai&quot; in both application.yml and the code, but it didn't solve my problem. What else can I try?</p>\n"},{"tags":["java","php","oop"],"comments":[{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":0,"creation_date":1285659657,"post_id":3810610,"comment_id":4042017,"body_markdown":"how to define &#39;100% abstract class&#39;?","body":"how to define &#39;100% abstract class&#39;?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1285659703,"post_id":3810610,"comment_id":4042024,"body_markdown":"java or php? which one is it?","body":"java or php? which one is it?"},{"owner":{"account_id":173378,"reputation":4592,"user_id":402008,"accept_rate":100,"display_name":"Jeroen Rosenberg"},"score":3,"creation_date":1285660294,"post_id":3810610,"comment_id":4042111,"body_markdown":"I think he means an abstract class with only abstract methods, no default implementations","body":"I think he means an abstract class with only abstract methods, no default implementations"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1285660061,"creation_date":1285659627,"answer_id":3810628,"question_id":3810610,"body_markdown":"If by &quot;100% abstract class&quot; you mean &quot;abstract class with no concrete methods&quot;, then I can think of a reason: visibility.\r\n\r\nYou can define an abstract method to be protected, and hence not part of the public API of the class. However, that seems like an odd design.\r\n\r\nAnother thing that came to my mind is when you expect to add common functionality to the base class - i.e. if it is likely to have some utility methods shared by all implementors, but these methods are not implemented.\r\n\r\nAnother thing - instance variables. You can have inheritable instance variables in the abstract class.","title":"100% Abstract class vs Interface","body":"<p>If by \"100% abstract class\" you mean \"abstract class with no concrete methods\", then I can think of a reason: visibility.</p>\n\n<p>You can define an abstract method to be protected, and hence not part of the public API of the class. However, that seems like an odd design.</p>\n\n<p>Another thing that came to my mind is when you expect to add common functionality to the base class - i.e. if it is likely to have some utility methods shared by all implementors, but these methods are not implemented.</p>\n\n<p>Another thing - instance variables. You can have inheritable instance variables in the abstract class.</p>\n"},{"tags":[],"owner":{"account_id":142529,"reputation":21516,"user_id":350294,"accept_rate":97,"display_name":"Alex Pliutau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285659756,"creation_date":1285659756,"answer_id":3810642,"question_id":3810610,"body_markdown":"100% Abstract class isn&#39;t good idea. For common structure of child classes uses Interface. For similiar classes with same some methods and not same others more better to use Abstract Class.","title":"100% Abstract class vs Interface","body":"<p>100% Abstract class isn't good idea. For common structure of child classes uses Interface. For similiar classes with same some methods and not same others more better to use Abstract Class.</p>\n"},{"tags":[],"owner":{"account_id":173378,"reputation":4592,"user_id":402008,"accept_rate":100,"display_name":"Jeroen Rosenberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1285659947,"creation_date":1285659947,"answer_id":3810665,"question_id":3810610,"body_markdown":"Next to visibility, another reason could be to be able to specify a certain Constructor you want all implementations to implement, or define a certain property. But in general, I agree with Alexander that a 100% abstract class isn&#39;t a good idea. I would prefer an interface in most cases unless there&#39;s a very good reason not to use an interface.","title":"100% Abstract class vs Interface","body":"<p>Next to visibility, another reason could be to be able to specify a certain Constructor you want all implementations to implement, or define a certain property. But in general, I agree with Alexander that a 100% abstract class isn't a good idea. I would prefer an interface in most cases unless there's a very good reason not to use an interface.</p>\n"},{"tags":[],"owner":{"account_id":59409,"reputation":10826,"user_id":177766,"accept_rate":91,"display_name":"Sabeen Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285659980,"creation_date":1285659980,"answer_id":3810669,"question_id":3810610,"body_markdown":"I personally think the difference as conceptual more than technical. For instance it would be bad idea to have an interface called &quot;Human&quot; and implement them on Male and Female. It would make more sense to make the Human as class. \r\n\r\nYou can implement multiple interfaces and you should see interfaces as add-ons. ","title":"100% Abstract class vs Interface","body":"<p>I personally think the difference as conceptual more than technical. For instance it would be bad idea to have an interface called \"Human\" and implement them on Male and Female. It would make more sense to make the Human as class. </p>\n\n<p>You can implement multiple interfaces and you should see interfaces as add-ons. </p>\n"},{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1285660010,"creation_date":1285660010,"answer_id":3810674,"question_id":3810610,"body_markdown":"The one case where an &quot;100% abstract class&quot; may be advantageous over an interface is in places where API stability is a key concern.\r\n\r\nIf you write an API where other people are expected to implement your interface you have to stick to the interface. You can&#39;t add any methods to the interface later on because that would break all clients (you would have to work around this by implement a second interface and let your code check againt the usage with instanceof checks and provide an fallback).\r\n\r\nIf you realize the same with an class you can add (non abstract) methods later on without breaking the client.","title":"100% Abstract class vs Interface","body":"<p>The one case where an \"100% abstract class\" may be advantageous over an interface is in places where API stability is a key concern.</p>\n\n<p>If you write an API where other people are expected to implement your interface you have to stick to the interface. You can't add any methods to the interface later on because that would break all clients (you would have to work around this by implement a second interface and let your code check againt the usage with instanceof checks and provide an fallback).</p>\n\n<p>If you realize the same with an class you can add (non abstract) methods later on without breaking the client.</p>\n"},{"tags":[],"owner":{"account_id":186205,"reputation":2958,"user_id":423420,"accept_rate":95,"display_name":"Michael Clerx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285661174,"creation_date":1285661174,"answer_id":3810810,"question_id":3810610,"body_markdown":"I&#39;m not quite sure how to answer this conceptually anymore, but in practice I use interfaces for the following reasons:\r\n\r\n - To indicate different classes have a shared interface: that you can manipulate them / use them in the same way\r\n - You can implement multiple interfaces, but only extend one class\r\n\r\nReasons for using abstract classes:\r\n\r\n - To share functionality between similar objects. For example Porshe911 could extend Car, overwrite a few methods and keep the rest.\r\n - To write frameworks that people can adapt. For example by leaving a few crucial methods unimplemented and writing the rest of the class to be internally consistent provided you implement those few methods. An example would be a menu class with a single abstract method getMenuItems()\r\n\r\nYour example of the 100% abstract class seems senseless to me. As far as I can see that would just make it an interface, with the added restriction that you can have only one.","title":"100% Abstract class vs Interface","body":"<p>I'm not quite sure how to answer this conceptually anymore, but in practice I use interfaces for the following reasons:</p>\n\n<ul>\n<li>To indicate different classes have a shared interface: that you can manipulate them / use them in the same way</li>\n<li>You can implement multiple interfaces, but only extend one class</li>\n</ul>\n\n<p>Reasons for using abstract classes:</p>\n\n<ul>\n<li>To share functionality between similar objects. For example Porshe911 could extend Car, overwrite a few methods and keep the rest.</li>\n<li>To write frameworks that people can adapt. For example by leaving a few crucial methods unimplemented and writing the rest of the class to be internally consistent provided you implement those few methods. An example would be a menu class with a single abstract method getMenuItems()</li>\n</ul>\n\n<p>Your example of the 100% abstract class seems senseless to me. As far as I can see that would just make it an interface, with the added restriction that you can have only one.</p>\n"},{"tags":[],"owner":{"account_id":29383230,"reputation":1,"user_id":22513208,"display_name":"Md Monabbar Anjum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694045601,"creation_date":1694045601,"answer_id":77055885,"question_id":3810610,"body_markdown":"If every method is abstract, then using abstract class rather than interface concept is something like &quot;Forcing an IPS officer to do sweeping job&quot;. : )","title":"100% Abstract class vs Interface","body":"<p>If every method is abstract, then using abstract class rather than interface concept is something like &quot;Forcing an IPS officer to do sweeping job&quot;. : )</p>\n"}],"owner":{"account_id":146699,"reputation":20921,"user_id":357314,"accept_rate":62,"display_name":"johnlemon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4522,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":3810628,"answer_count":7,"score":11,"last_activity_date":1694045601,"creation_date":1285659457,"question_id":3810610,"body_markdown":"Is there a reason to use a 100% abstract class and not an interface ?\r\nCan you give me a good example when to use both so I can grasp the concept a little?\r\n\r\nUpdate:\r\n100% Abstract class -&gt; abstract class with only abstract methods.\r\nI&#39;m curios if there are differences between php and java regarding this aspect.\r\n\r\nUpdate2:\r\nEven if I understand most of the reasons I&#39;m more interested in the **conceptual** more than technical reasons.","title":"100% Abstract class vs Interface","body":"<p>Is there a reason to use a 100% abstract class and not an interface ?\nCan you give me a good example when to use both so I can grasp the concept a little?</p>\n\n<p>Update:\n100% Abstract class -> abstract class with only abstract methods.\nI'm curios if there are differences between php and java regarding this aspect.</p>\n\n<p>Update2:\nEven if I understand most of the reasons I'm more interested in the <strong>conceptual</strong> more than technical reasons.</p>\n"},{"tags":["java","selenium","junit","selenium-chromedriver","cucumber"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641226625,"creation_date":1641226625,"answer_id":70568559,"question_id":70565409,"body_markdown":"You need to pass the _absolute path_ of the [ChromeDriver](https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747) executable through the [_System.setProperty()_](https://stackoverflow.com/questions/60057497/how-to-initiate-multiple-versions-of-geckodriver-through-system-setproperty/60061951#60061951) line as follows:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;);","title":"Selenium chrome driver error java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define","body":"<p>You need to pass the <em>absolute path</em> of the <a href=\"https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747\">ChromeDriver</a> executable through the <a href=\"https://stackoverflow.com/questions/60057497/how-to-initiate-multiple-versions-of-geckodriver-through-system-setproperty/60061951#60061951\"><em>System.setProperty()</em></a> line as follows:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\path\\\\to\\\\chromedriver.exe&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3219418,"reputation":13,"user_id":2717209,"display_name":"user2717209"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687590468,"creation_date":1687590155,"answer_id":76544943,"question_id":70565409,"body_markdown":"Yesterday even i faced the same where my Test script all of a sudden stopped working, after the Build generation process. I did tremendous research behind it, But found nothing. As per the stack trace the error says\r\n &quot;AppiumServiceBuilder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder&quot;\r\nWherein the AppiumServiceBuilder the subclass of DriverService class does not override/implement its abstract method.\r\nWe spend the entire day referring to this. Fortuantely one of the Java Developer unpacked the &quot;appium client&quot; jar file to see for the appropriate Selenium version reference(main.properties file). \r\nAnd as an IDE we were using IntelliJ idea, we checked for the project structure. And we found out that some of the dependent Jar files of selenium refers to latest version of Selenium. For which we manually added the appropriate version dependencies. And our issue was resolved. \r\n\r\n&quot;In A Nutt shell&quot; - Appium client was referring to a dependency for which it didnt get the implementation of the abstract method. As dependency related to selenium was getting resolved from a different version. Due to which it was failing all of a sudden. We fixed the selenium dependency to the correct version and it started working.   ","title":"Selenium chrome driver error java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define","body":"<p>Yesterday even i faced the same where my Test script all of a sudden stopped working, after the Build generation process. I did tremendous research behind it, But found nothing. As per the stack trace the error says\n&quot;AppiumServiceBuilder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder&quot;\nWherein the AppiumServiceBuilder the subclass of DriverService class does not override/implement its abstract method.\nWe spend the entire day referring to this. Fortuantely one of the Java Developer unpacked the &quot;appium client&quot; jar file to see for the appropriate Selenium version reference(main.properties file).\nAnd as an IDE we were using IntelliJ idea, we checked for the project structure. And we found out that some of the dependent Jar files of selenium refers to latest version of Selenium. For which we manually added the appropriate version dependencies. And our issue was resolved.</p>\n<p>&quot;In A Nutt shell&quot; - Appium client was referring to a dependency for which it didnt get the implementation of the abstract method. As dependency related to selenium was getting resolved from a different version. Due to which it was failing all of a sudden. We fixed the selenium dependency to the correct version and it started working.</p>\n"}],"owner":{"account_id":16735474,"reputation":43,"user_id":12096735,"display_name":"Workhard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694045070,"creation_date":1641210854,"question_id":70565409,"body_markdown":"I did not have problem to run this before becoming messy with something.\r\n\r\nAny help would be appciated.\r\n\r\nI am getting this error chrome driver when running any test class with chrome driver.\r\n\r\nI tried to put chrome driver options, but still not working.\r\nI upgraded chrome driver version and some other frameworks, but still same error.\r\n\r\n\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features=&quot;src/test/Features&quot;, glue= {&quot;StepDefinitions&quot;},\r\n    monochrome = true,\r\n    \r\n    plugin = {&quot;pretty&quot;, &quot;junit:target/junit/report.xml&quot;,\r\n    \t\t&quot;html:target/html/HtmlReports&quot;,\r\n    \t\t&quot;json:target/JSONReports/report.json&quot;},\r\n    tags=&quot;@Sorting_HL&quot;\r\n\t\t\r\n\r\n    &gt; java.lang.AbstractMethodError: Receiver class\r\n    &gt; org.openqa.selenium.chrome.ChromeDriverService$Builder does not define\r\n    &gt; or inherit an implementation of the resolved method &#39;abstract\r\n    &gt; java.util.List createArgs()&#39; of abstract class\r\n    &gt; org.openqa.selenium.remote.service.DriverService$Builder. \tat\r\n    &gt; org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:441)\r\n    &gt; \tat\r\n    &gt; org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\r\n    &gt; \tat\r\n    &gt; org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:157)\r\n    &gt; \tat\r\n    &gt; StepDefinitions.COB_sorting_2.sorting_tab_is_seen(COB_sorting_2.java:57)\r\n    &gt; \tat ✽.Sorting tab is seen.(file:///folder/src/test/Features/sorting.feature:50)\r\nclass\r\n\r\n    @Given(&quot;Sorting tab is seen.&quot;)\r\n    \tpublic void sorting_tab_is_seen() throws IOException {\r\n\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\r\n    \t\tString url = &quot;url address&quot;;\r\n    \t\tChromeOptions chromeOptions = new ChromeOptions();\r\n    \t\t\r\n    //\t    chromeOptions.addArguments(&quot;--headless&quot;); \r\n    \t//  chromeOptions.addArguments(&quot;no-sandbox&quot;);\r\n    \t    driver= new ChromeDriver(chromeOptions);\r\n\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.get(url);\r\n    \t}\r\n\r\nIf I add headless on options, they say\r\n  \r\n\r\n    java.lang.NoSuchMethodError: &#39;org.openqa.selenium.chromium.ChromiumOptions org.openqa.selenium.chrome.ChromeOptions.addArguments(java.lang.String[])&#39;\r\n    at StepDefinitions.COB_sorting_2.sorting_tab_is_seen(COB_sorting_2.java:55)\r\n    at ✽.Sorting tab is seen.(file:///folder/src/test/Features/sorting.feature:50)\r\n\r\npom xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.eCommerce&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mavenProject&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \t&lt;name&gt;mavenProject&lt;/name&gt;\r\n    \t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    \t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \r\n    \t\t&lt;suiteXmlFile&gt;src/main/testng.xml&lt;/suiteXmlFile&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.11.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/net.masterthought/maven-cucumber-reporting --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.0-beta&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;7.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;!-- &lt;pluginManagement&gt; lock down plugins versions to avoid using Maven \r\n    \t\t\t\tdefaults (may be moved to parent pom)\r\n    \t\t\t\t&lt;/pluginManagement&gt;\r\n    \t\t\t\t --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;!-- \r\n    \t\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n    \t\t\t\t\t\t\t&lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n    \t\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n    \t\t\t\t\t\t --&gt;\r\n    \t\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- \r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n    \t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n    \t\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;projectName&gt;mavenProject&lt;/projectName&gt;\r\n    \t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;cucumberOutput&gt;${project.build.directory}/cucumber.json&lt;/cucumberOutput&gt;\r\n    \t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t --&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \r\n    \r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nYour help would be appreciated. Thanks,\r\n\r\n","title":"Selenium chrome driver error java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define","body":"<p>I did not have problem to run this before becoming messy with something.</p>\n<p>Any help would be appciated.</p>\n<p>I am getting this error chrome driver when running any test class with chrome driver.</p>\n<p>I tried to put chrome driver options, but still not working.\nI upgraded chrome driver version and some other frameworks, but still same error.</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(features=&quot;src/test/Features&quot;, glue= {&quot;StepDefinitions&quot;},\nmonochrome = true,\n\nplugin = {&quot;pretty&quot;, &quot;junit:target/junit/report.xml&quot;,\n        &quot;html:target/html/HtmlReports&quot;,\n        &quot;json:target/JSONReports/report.json&quot;},\ntags=&quot;@Sorting_HL&quot;\n    \n\n&gt; java.lang.AbstractMethodError: Receiver class\n&gt; org.openqa.selenium.chrome.ChromeDriverService$Builder does not define\n&gt; or inherit an implementation of the resolved method 'abstract\n&gt; java.util.List createArgs()' of abstract class\n&gt; org.openqa.selenium.remote.service.DriverService$Builder.     at\n&gt; org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:441)\n&gt;   at\n&gt; org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:94)\n&gt;   at\n&gt; org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:157)\n&gt;   at\n&gt; StepDefinitions.COB_sorting_2.sorting_tab_is_seen(COB_sorting_2.java:57)\n&gt;   at ✽.Sorting tab is seen.(file:///folder/src/test/Features/sorting.feature:50)\n</code></pre>\n<p>class</p>\n<pre><code>@Given(&quot;Sorting tab is seen.&quot;)\n    public void sorting_tab_is_seen() throws IOException {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\n        String url = &quot;url address&quot;;\n        ChromeOptions chromeOptions = new ChromeOptions();\n        \n//      chromeOptions.addArguments(&quot;--headless&quot;); \n    //  chromeOptions.addArguments(&quot;no-sandbox&quot;);\n        driver= new ChromeDriver(chromeOptions);\n\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n        driver.get(url);\n    }\n</code></pre>\n<p>If I add headless on options, they say</p>\n<pre><code>java.lang.NoSuchMethodError: 'org.openqa.selenium.chromium.ChromiumOptions org.openqa.selenium.chrome.ChromeOptions.addArguments(java.lang.String[])'\nat StepDefinitions.COB_sorting_2.sorting_tab_is_seen(COB_sorting_2.java:55)\nat ✽.Sorting tab is seen.(file:///folder/src/test/Features/sorting.feature:50)\n</code></pre>\n<p>pom xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.eCommerce&lt;/groupId&gt;\n    &lt;artifactId&gt;mavenProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;mavenProject&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n\n        &lt;suiteXmlFile&gt;src/main/testng.xml&lt;/suiteXmlFile&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.4.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/net.masterthought/maven-cucumber-reporting --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0-beta&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;!-- &lt;pluginManagement&gt; lock down plugins versions to avoid using Maven \n                defaults (may be moved to parent pom)\n                &lt;/pluginManagement&gt;\n                 --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;!-- \n                        &lt;suiteXmlFiles&gt;\n                            &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n                        &lt;/suiteXmlFiles&gt;\n                         --&gt;\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- \n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.0&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;execution&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;projectName&gt;mavenProject&lt;/projectName&gt;\n                                &lt;outputDirectory&gt;${project.build.directory}/cucumber-report-html&lt;/outputDirectory&gt;\n                                &lt;cucumberOutput&gt;${project.build.directory}/cucumber.json&lt;/cucumberOutput&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                 --&gt;\n            &lt;/plugins&gt;\n\n\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Your help would be appreciated. Thanks,</p>\n"},{"tags":["java","logging","log4j","slf4j","reload4j"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1693984487,"post_id":77013251,"comment_id":135829900,"body_markdown":"Why wouldn&#39;t it be initialized?","body":"Why wouldn&#39;t it be initialized?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694044843,"creation_date":1694027020,"answer_id":77054639,"question_id":77013251,"body_markdown":"SLF4J is a generic logging API that is implemented by various logging frameworks, (eg Logback, Log4j2, etc), so while the answer slightly depends on which implementation you&#39;re using, all modern logging implementations do not require &quot;initialization&quot;; they&#39;re ready to use as soon as they&#39;re declared, so your solution is:\r\n\r\n```\r\nprivate static boolean isLoggerInitialized() {\r\n    return true;\r\n}\r\n```\r\n\r\n---\r\n\r\nIf you&#39;re using Spring starter libraries, the default logging library is Logback. You can chose something else by including a different Slf4j compliant logging library (all the main ones are compliant) in your class path. As far as &quot;initialization&quot; goes, it doesn&#39;t matter what you choose if you choose a mainstream one.\r\n\r\nRather than code the declaration of your logger, I recommend using one of the [Lombok logging annotations][1], with which your code becomes just:\r\n\r\n```\r\n@Slf4j\r\npublic class MyClass {\r\n\r\n    public someMethod() {\r\n        log.info(&quot;Hello world&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe declaration of the `log` field is done for you (and is instantly ready to use).\r\n\r\n  [1]: https://projectlombok.org/features/log","title":"How can I check if SLF4J with Reload4J is initialized?","body":"<p>SLF4J is a generic logging API that is implemented by various logging frameworks, (eg Logback, Log4j2, etc), so while the answer slightly depends on which implementation you're using, all modern logging implementations do not require &quot;initialization&quot;; they're ready to use as soon as they're declared, so your solution is:</p>\n<pre><code>private static boolean isLoggerInitialized() {\n    return true;\n}\n</code></pre>\n<hr />\n<p>If you're using Spring starter libraries, the default logging library is Logback. You can chose something else by including a different Slf4j compliant logging library (all the main ones are compliant) in your class path. As far as &quot;initialization&quot; goes, it doesn't matter what you choose if you choose a mainstream one.</p>\n<p>Rather than code the declaration of your logger, I recommend using one of the <a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">Lombok logging annotations</a>, with which your code becomes just:</p>\n<pre><code>@Slf4j\npublic class MyClass {\n\n    public someMethod() {\n        log.info(&quot;Hello world&quot;);\n    }\n\n}\n</code></pre>\n<p>The declaration of the <code>log</code> field is done for you (and is instantly ready to use).</p>\n"}],"owner":{"account_id":508927,"reputation":2023,"user_id":1251613,"accept_rate":100,"display_name":"Markus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77054639,"answer_count":1,"score":0,"last_activity_date":1694044843,"creation_date":1693462705,"question_id":77013251,"body_markdown":"We are switching from plain Log4J (with reload4j) to using SLF4J. In one bit of code we have a check if the logging framework is initialized. The goal behind that check is to have a fallback to printing to System.err in case there&#39;s something to log before logging system initialization.\r\n\r\n    private static boolean isLoggerInitialized() {\r\n        return LOGGER.getParent().getAllAppenders().hasMoreElements();\r\n    }\r\n\r\nThis is not possible with SLF4J anymore. Thus I am searching for an alternative to check the initialization state of SLF4J.","title":"How can I check if SLF4J with Reload4J is initialized?","body":"<p>We are switching from plain Log4J (with reload4j) to using SLF4J. In one bit of code we have a check if the logging framework is initialized. The goal behind that check is to have a fallback to printing to System.err in case there's something to log before logging system initialization.</p>\n<pre><code>private static boolean isLoggerInitialized() {\n    return LOGGER.getParent().getAllAppenders().hasMoreElements();\n}\n</code></pre>\n<p>This is not possible with SLF4J anymore. Thus I am searching for an alternative to check the initialization state of SLF4J.</p>\n"},{"tags":["java","spring-boot","mockito","spring-boot-test","spring-retry"],"comments":[{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694047664,"post_id":77055761,"comment_id":135841275,"body_markdown":"Any lucky trying `@MockBean` instead on RestTemplate and no longer using `@InjectMocks`? May still need `@EnableRetry` as well.","body":"Any lucky trying <code>@MockBean</code> instead on RestTemplate and no longer using <code>@InjectMocks</code>? May still need <code>@EnableRetry</code> as well."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1694092640,"post_id":77055761,"comment_id":135847825,"body_markdown":"The `RetryableInterestService` must be managed by Spring (not Mockito) for `Retryable` to work; use `@Autowired` instead.","body":"The <code>RetryableInterestService</code> must be managed by Spring (not Mockito) for <code>Retryable</code> to work; use <code>@Autowired</code> instead."},{"owner":{"account_id":18915944,"reputation":3,"user_id":13801010,"display_name":"alejo.montania"},"score":0,"creation_date":1694099074,"post_id":77055761,"comment_id":135849520,"body_markdown":"Using `@MockBean` like scrhartley recommended and using `@Autowired` like @Gary Russell recommended did the trick. Thanks so much!","body":"Using <code>@MockBean</code> like scrhartley recommended and using <code>@Autowired</code> like @Gary Russell recommended did the trick. Thanks so much!"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694152239,"post_id":77055761,"comment_id":135856262,"body_markdown":"If you are using `@Mock`/`@InjectMocks`, then it is not a Spring Boot test","body":"If you are using <code>@Mock</code>/<code>@InjectMocks</code>, then it is not a Spring Boot test"}],"owner":{"account_id":18915944,"reputation":3,"user_id":13801010,"display_name":"alejo.montania"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694042789,"creation_date":1694042789,"question_id":77055761,"body_markdown":"I have a very simple setup for calling an external service and retrying 3 times but I just can&#39;t make my Tests to work with Retryable. \r\nIn my tests my method only gets called 1 time and stops even though when starting the app and testing it with Postman I get the retries working correctly. Can anyone spot what&#39;s wrong?\r\nThese are my classes:\r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAutoConfiguration\r\n@EnableRetry\r\npublic class ChallengeApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ChallengeApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RestTemplate restTemplate() {\r\n\t\treturn new RestTemplate();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\n@SpringBootTest\r\npublic class ChallengeApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class RetryableInterestService {\r\n\r\n    final RestTemplate restTemplate;\r\n    protected Double lastResult = null;\r\n    RetryableInterestService(RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n    }\r\n    String uri = &quot;http://localhost:8082/api/interest&quot;;\r\n    @Retryable(value = {RestClientException.class}, maxAttempts = 3, backoff = @Backoff(200))\r\n    public Double callInterestService() {\r\n        log.info(&quot;Calling Interest service using uri: &quot; + uri);\r\n        lastResult = restTemplate.getForObject(uri, Double.class);\r\n        return lastResult;\r\n    }\r\n\r\n    @Recover\r\n    public Double returnLastValue() throws ExternalApiCallException {\r\n        log.info(&quot;Returning last stored value: &quot; + lastResult);\r\n        if(lastResult != null) {\r\n            return lastResult;\r\n        } else {\r\n            throw new ExternalApiCallException(&quot;There wasn&#39;t a backup Interest value to return&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@SpringBootTest(classes = {ChallengeApplicationTests.class})\r\npublic class RetryableInterestServiceTest {\r\n    @Mock\r\n    RestTemplate restTemplate;\r\n    @InjectMocks\r\n    RetryableInterestService retryableInterestService;\r\n\r\n    @Test\r\n    void whenCallInterestService_shouldReturnDouble() {\r\n        when(restTemplate.getForObject(anyString(), any())).thenReturn(10.0);\r\n        Double result = retryableInterestService.callInterestService();\r\n        assertEquals(result, 10.0);\r\n    }\r\n\r\n    @Test\r\n    void givenException_whenCallInterestService_shouldRetry() {\r\n        when(restTemplate.getForObject(anyString(), any()))\r\n                .thenThrow(new RestClientException(&quot;&quot;))\r\n                .thenThrow(new RestClientException(&quot;&quot;))\r\n                .thenReturn(10.0);\r\n        Double result = retryableInterestService.callInterestService();\r\n        verify(restTemplate, times(3)).getForObject(any(), any());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried adding @EnableRetry on RetryableInterestServiceTest and on ChallengeApplicationTests but it won&#39;t work. I always get the one call and it ends on the Exception and no retries.\r\nIf I try:\r\n\r\n```\r\n   Exception exception = assertThrows(RestClientException.class, () -&gt; {\r\n       retryableInterestService.callInterestService();\r\n   });\r\n```\r\nI get a failed test because verify checks the method is only called once and fails.","title":"Can&#39;t make Retryable / Recover verify work in Spring Boot Unit Tests","body":"<p>I have a very simple setup for calling an external service and retrying 3 times but I just can't make my Tests to work with Retryable.\nIn my tests my method only gets called 1 time and stops even though when starting the app and testing it with Postman I get the retries working correctly. Can anyone spot what's wrong?\nThese are my classes:</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@EnableRetry\npublic class ChallengeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ChallengeApplication.class, args);\n    }\n\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}\n</code></pre>\n<pre><code>@SpringBootTest\npublic class ChallengeApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<pre><code>@Service\n@Slf4j\npublic class RetryableInterestService {\n\n    final RestTemplate restTemplate;\n    protected Double lastResult = null;\n    RetryableInterestService(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n    String uri = &quot;http://localhost:8082/api/interest&quot;;\n    @Retryable(value = {RestClientException.class}, maxAttempts = 3, backoff = @Backoff(200))\n    public Double callInterestService() {\n        log.info(&quot;Calling Interest service using uri: &quot; + uri);\n        lastResult = restTemplate.getForObject(uri, Double.class);\n        return lastResult;\n    }\n\n    @Recover\n    public Double returnLastValue() throws ExternalApiCallException {\n        log.info(&quot;Returning last stored value: &quot; + lastResult);\n        if(lastResult != null) {\n            return lastResult;\n        } else {\n            throw new ExternalApiCallException(&quot;There wasn't a backup Interest value to return&quot;);\n        }\n    }\n}\n\n</code></pre>\n<pre><code>@SpringBootTest(classes = {ChallengeApplicationTests.class})\npublic class RetryableInterestServiceTest {\n    @Mock\n    RestTemplate restTemplate;\n    @InjectMocks\n    RetryableInterestService retryableInterestService;\n\n    @Test\n    void whenCallInterestService_shouldReturnDouble() {\n        when(restTemplate.getForObject(anyString(), any())).thenReturn(10.0);\n        Double result = retryableInterestService.callInterestService();\n        assertEquals(result, 10.0);\n    }\n\n    @Test\n    void givenException_whenCallInterestService_shouldRetry() {\n        when(restTemplate.getForObject(anyString(), any()))\n                .thenThrow(new RestClientException(&quot;&quot;))\n                .thenThrow(new RestClientException(&quot;&quot;))\n                .thenReturn(10.0);\n        Double result = retryableInterestService.callInterestService();\n        verify(restTemplate, times(3)).getForObject(any(), any());\n    }\n}\n</code></pre>\n<p>I've tried adding @EnableRetry on RetryableInterestServiceTest and on ChallengeApplicationTests but it won't work. I always get the one call and it ends on the Exception and no retries.\nIf I try:</p>\n<pre><code>   Exception exception = assertThrows(RestClientException.class, () -&gt; {\n       retryableInterestService.callInterestService();\n   });\n</code></pre>\n<p>I get a failed test because verify checks the method is only called once and fails.</p>\n"},{"tags":["java","android","android-layout","android-fragments","android-dialogfragment"],"comments":[{"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"score":0,"creation_date":1484948211,"post_id":41708595,"comment_id":70736911,"body_markdown":"What&#39;s the second activity you&#39;re trying to transition to?","body":"What&#39;s the second activity you&#39;re trying to transition to?"},{"owner":{"account_id":10054107,"reputation":234,"user_id":7432918,"display_name":"atwrk"},"score":0,"creation_date":1484948648,"post_id":41708595,"comment_id":70737093,"body_markdown":"The transition is from MainActivity (an Activity) to SheetDialog (a Fragment)","body":"The transition is from MainActivity (an Activity) to SheetDialog (a Fragment)"},{"owner":{"account_id":10054107,"reputation":234,"user_id":7432918,"display_name":"atwrk"},"score":0,"creation_date":1484950840,"post_id":41708595,"comment_id":70738031,"body_markdown":"Thank you for your answer. I have other obligations at work right now, but will review your answer later in the day today :)","body":"Thank you for your answer. I have other obligations at work right now, but will review your answer later in the day today :)"},{"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"score":0,"creation_date":1485032865,"post_id":41708595,"comment_id":70758974,"body_markdown":"Transitions are supposed to transition a view from one activity to another. Imo, it&#39;s not possible to do that within one activity. What you have to do is animating the view on your own.","body":"Transitions are supposed to transition a view from one activity to another. Imo, it&#39;s not possible to do that within one activity. What you have to do is animating the view on your own."},{"owner":{"account_id":10054107,"reputation":234,"user_id":7432918,"display_name":"atwrk"},"score":0,"creation_date":1485132945,"post_id":41708595,"comment_id":70783977,"body_markdown":"@azizbekian, It is not possible to animate from an Activity to a Fragment? Do you have any sources on that? I really thought you could, but after trying to get this to work, I might believe you.","body":"@azizbekian, It is not possible to animate from an Activity to a Fragment? Do you have any sources on that? I really thought you could, but after trying to get this to work, I might believe you."}],"answers":[{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1694042045,"creation_date":1484950606,"answer_id":41773238,"question_id":41708595,"body_markdown":"## Crash course about shared element transitions \r\n\r\nLet&#39;s first quickly review how the Android framework does the magical *Shared Element Transition*:\r\n\r\nA *Shared Element Transition* is actually just one of the android framework&#39;s **lies**. The truth is when executing a *Shared Element Transition*, you&#39;re NOT sharing any view between your activities but you have the illusion of doing so. That&#39;s because each activity has to have its own independent view tree.\r\n\r\n### Huh?!\r\n\r\nLet&#39;s use an example, suppose that we have a shared element transition from a view `view_a`, located in `ActivityA`, to `view_b`, located in `ActivityB`. The transition will be executed as follows:\r\n\r\n 1. The transition framework first looks for the dimensions (`width`,\r\n`height`) and for the position (`x`,`y`) of `view_a` in the\r\n`ActivityA` (along with other properties).\r\n2. The properties are passed to `ActivityB` and applied on `view_b` so \r\nthat `view_b` occupies the exact same spot as `view_a` on the\r\nscreen.\r\n3. `ActivityA` gets closed and `view_b` appears right underneath \r\n`view_a`, making it look as if `view_a` did not go with the other views of `ActivityA`.\r\n4. Finally, a reverse animation is applied on `view_b` shifting it to \r\nwhat it is supposed to look like in `ActivityB`.\r\n\r\nThis is how the illusion of the view being shared is created. Magic!\r\n\r\n## Back to your question\r\n\r\nWhat we can deduce from above is that before any animation can be started, one has to make sure that `view_b` has already been created on `ActivityB`, otherwise, this wouldn&#39;t be possible.\r\n\r\n## Using a `Fragment`\r\n\r\nCalling `FragmentTransaction.commit()`will just schedule your fragment transaction (the fragment will NOT be created immediately after its containing activity is created). \r\n\r\nSo, in your case, when your `ActivityB` is created, your `view_b` is missing (as explained, that&#39;s because its containing fragment hasn&#39;t been created yet).\r\n\r\n### Solution\r\n\r\nMake sure your `view_b` is created before the animation starts. \r\n\r\nFor that, you&#39;ll have to find a way to tell the framework to not do the usual thing but to wait instead for your signal before creating the animation.\r\n\r\nOne way to implement this is to alter your code to be something similar to this one:\r\n\r\n#### ActivityB\r\n\r\n    class ActivityB extends Activity{\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // ...\r\n            // Tell the framework to wait.\r\n            postponeEnterTransition();\r\n        }\r\n    }\r\n\r\n#### FragmentB\r\n\r\n    class FragmentB extends Fragment {\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View viewB = getView().findViewById(R.id.view_b);\r\n        sharedview.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\r\n            @Override\r\n            public boolean onPreDraw() {\r\n                    // Tell the framework to start.\r\n                    sharedview.getViewTreeObserver().removeOnPreDrawListener(this);\r\n                    getActivity().startPostponedEnterTransition(); \r\n                    return true;\r\n             }\r\n           });\r\n           ...\r\n        }\r\n    }\r\n\r\n## Further reading\r\n\r\n[Getting Started with Activity &amp; Fragment Transitions][1]\r\n\r\n  [1]: http://www.androiddesignpatterns.com/2014/12/activity-fragment-transitions-in-android-lollipop-part1.html","title":"Executing a &quot;Shared Element Transition&quot; from an Activity to a Fragment","body":"<h2>Crash course about shared element transitions</h2>\n<p>Let's first quickly review how the Android framework does the magical <em>Shared Element Transition</em>:</p>\n<p>A <em>Shared Element Transition</em> is actually just one of the android framework's <strong>lies</strong>. The truth is when executing a <em>Shared Element Transition</em>, you're NOT sharing any view between your activities but you have the illusion of doing so. That's because each activity has to have its own independent view tree.</p>\n<h3>Huh?!</h3>\n<p>Let's use an example, suppose that we have a shared element transition from a view <code>view_a</code>, located in <code>ActivityA</code>, to <code>view_b</code>, located in <code>ActivityB</code>. The transition will be executed as follows:</p>\n<ol>\n<li>The transition framework first looks for the dimensions (<code>width</code>,\n<code>height</code>) and for the position (<code>x</code>,<code>y</code>) of <code>view_a</code> in the\n<code>ActivityA</code> (along with other properties).</li>\n<li>The properties are passed to <code>ActivityB</code> and applied on <code>view_b</code> so\nthat <code>view_b</code> occupies the exact same spot as <code>view_a</code> on the\nscreen.</li>\n<li><code>ActivityA</code> gets closed and <code>view_b</code> appears right underneath\n<code>view_a</code>, making it look as if <code>view_a</code> did not go with the other views of <code>ActivityA</code>.</li>\n<li>Finally, a reverse animation is applied on <code>view_b</code> shifting it to\nwhat it is supposed to look like in <code>ActivityB</code>.</li>\n</ol>\n<p>This is how the illusion of the view being shared is created. Magic!</p>\n<h2>Back to your question</h2>\n<p>What we can deduce from above is that before any animation can be started, one has to make sure that <code>view_b</code> has already been created on <code>ActivityB</code>, otherwise, this wouldn't be possible.</p>\n<h2>Using a <code>Fragment</code></h2>\n<p>Calling <code>FragmentTransaction.commit()</code>will just schedule your fragment transaction (the fragment will NOT be created immediately after its containing activity is created).</p>\n<p>So, in your case, when your <code>ActivityB</code> is created, your <code>view_b</code> is missing (as explained, that's because its containing fragment hasn't been created yet).</p>\n<h3>Solution</h3>\n<p>Make sure your <code>view_b</code> is created before the animation starts.</p>\n<p>For that, you'll have to find a way to tell the framework to not do the usual thing but to wait instead for your signal before creating the animation.</p>\n<p>One way to implement this is to alter your code to be something similar to this one:</p>\n<h4>ActivityB</h4>\n<pre><code>class ActivityB extends Activity{\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // ...\n        // Tell the framework to wait.\n        postponeEnterTransition();\n    }\n}\n</code></pre>\n<h4>FragmentB</h4>\n<pre><code>class FragmentB extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View viewB = getView().findViewById(R.id.view_b);\n    sharedview.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\n        @Override\n        public boolean onPreDraw() {\n                // Tell the framework to start.\n                sharedview.getViewTreeObserver().removeOnPreDrawListener(this);\n                getActivity().startPostponedEnterTransition(); \n                return true;\n         }\n       });\n       ...\n    }\n}\n</code></pre>\n<h2>Further reading</h2>\n<p><a href=\"http://www.androiddesignpatterns.com/2014/12/activity-fragment-transitions-in-android-lollipop-part1.html\" rel=\"nofollow noreferrer\">Getting Started with Activity &amp; Fragment Transitions</a></p>\n"},{"tags":[],"owner":{"account_id":3769888,"reputation":11744,"user_id":3225458,"display_name":"romtsn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485076795,"creation_date":1485076795,"answer_id":41789233,"question_id":41708595,"body_markdown":"What you&#39;re looking for is this example: https://github.com/hujiaweibujidao/FabDialogMorph.\r\nNote, that what you&#39;re trying to achieve is not standard Android transition, you need to create your own morphing transition, based on `ChangeBounds` transition. Originally, it has been shown in [Plaid][1], thanks to [Nick Butcher][2] for that, so you can check it for more tips and background.\r\n\r\n\r\n  [1]: https://github.com/nickbutcher/plaid\r\n  [2]: https://stackoverflow.com/users/409481/crafty","title":"Executing a &quot;Shared Element Transition&quot; from an Activity to a Fragment","body":"<p>What you're looking for is this example: <a href=\"https://github.com/hujiaweibujidao/FabDialogMorph\" rel=\"nofollow noreferrer\">https://github.com/hujiaweibujidao/FabDialogMorph</a>.\nNote, that what you're trying to achieve is not standard Android transition, you need to create your own morphing transition, based on <code>ChangeBounds</code> transition. Originally, it has been shown in <a href=\"https://github.com/nickbutcher/plaid\" rel=\"nofollow noreferrer\">Plaid</a>, thanks to <a href=\"https://stackoverflow.com/users/409481/crafty\">Nick Butcher</a> for that, so you can check it for more tips and background.</p>\n"},{"tags":[],"owner":{"account_id":892271,"reputation":2125,"user_id":930293,"accept_rate":50,"display_name":"nic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485515769,"creation_date":1485515769,"answer_id":41892718,"question_id":41708595,"body_markdown":"Just quoting the [Android Docs][1]: \r\n\r\n**Start an activity with a shared element**\r\n\r\n&gt; 4. Assign a common name to the shared elements in both layouts with the android:transitionName attribute.\r\n\r\nFrom what I see, both of your XMLs don&#39;t share the same **android:transitionName**.\r\n\r\nTry changing both android:transitionName in the XML layout (activity_main.xml &amp; dialog_sheet.xml) to a same string, for example: **transition_plane_feather**\r\n\r\nI havent&#39;t tested the codes myself, but I think that might be a good starting point.\r\n\r\nBonus Tip\r\n---------\r\n\r\nIf you&#39;re planning to fully implement Material Design without compatibility with lower API levels (pre-Lollipop), I highly recommend checking out a sample made by a Google UI/UX Designer: [https://github.com/nickbutcher/plaid][2]\r\n\r\nAlso, check out the excellent supplementary YouTube video to that sample: [https://www.youtube.com/watch?v=EjTJIDKT72M][3]\r\n\r\nIt shows you some of the best tricks and practices that you can use to fully implement Material Design as well as shared element transitions.\r\n\r\n  [1]: https://developer.android.com/training/material/animations.html\r\n  [2]: https://github.com/nickbutcher/plaid\r\n  [3]: https://www.youtube.com/watch?v=EjTJIDKT72M","title":"Executing a &quot;Shared Element Transition&quot; from an Activity to a Fragment","body":"<p>Just quoting the <a href=\"https://developer.android.com/training/material/animations.html\" rel=\"nofollow noreferrer\">Android Docs</a>: </p>\n\n<p><strong>Start an activity with a shared element</strong></p>\n\n<blockquote>\n  <ol start=\"4\">\n  <li>Assign a common name to the shared elements in both layouts with the android:transitionName attribute.</li>\n  </ol>\n</blockquote>\n\n<p>From what I see, both of your XMLs don't share the same <strong>android:transitionName</strong>.</p>\n\n<p>Try changing both android:transitionName in the XML layout (activity_main.xml &amp; dialog_sheet.xml) to a same string, for example: <strong>transition_plane_feather</strong></p>\n\n<p>I havent't tested the codes myself, but I think that might be a good starting point.</p>\n\n<h2>Bonus Tip</h2>\n\n<p>If you're planning to fully implement Material Design without compatibility with lower API levels (pre-Lollipop), I highly recommend checking out a sample made by a Google UI/UX Designer: <a href=\"https://github.com/nickbutcher/plaid\" rel=\"nofollow noreferrer\">https://github.com/nickbutcher/plaid</a></p>\n\n<p>Also, check out the excellent supplementary YouTube video to that sample: <a href=\"https://www.youtube.com/watch?v=EjTJIDKT72M\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=EjTJIDKT72M</a></p>\n\n<p>It shows you some of the best tricks and practices that you can use to fully implement Material Design as well as shared element transitions.</p>\n"}],"owner":{"account_id":10054107,"reputation":234,"user_id":7432918,"display_name":"atwrk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13533,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1694042045,"creation_date":1484694129,"question_id":41708595,"body_markdown":"I have made a github project with just the issue. You can see it / clone it / build it from here: https://git.io/vMPqb\r\n\r\n----\r\nI am trying to get shared elements working for a Fragment transition.\r\n\r\nThere are two FABs in the project - Feather and Plane. Feather and Plane are shared elements. When Feather is clicked, the SheetDialog is opened, and Feather should animate over to Plane dialog. It does not do that at the moment, and I am trying to determine why.\r\n\r\nIt may be worthwhile noting that I am running this on API 24 so issues with transitions not being supported below version 21 is not the problem.\r\n\r\nCan anyone tell me why shared element transitions are not working?\r\n\r\nTo echo what is there in the repo, there are four important files:\r\n\r\n__Main Activity__\r\n\r\n    package test.example.fabpop;\r\n\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.transition.ChangeBounds;\r\n    import android.support.transition.Fade;\r\n    import android.support.v4.app.FragmentTransaction;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.View;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        FloatingActionButton fab_feather;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            fab_feather = (FloatingActionButton) findViewById(R.id.initial_fab_feather);\r\n        }\r\n    \r\n        public void fabClick(View view) {\r\n            SheetDialog dialogFragment = new SheetDialog();\r\n    \r\n            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n    \r\n            // This seemingly has no effect. I am trying to get it to work.\r\n            transaction.addSharedElement(fab_feather, &quot;transition_name_plane&quot;);\r\n    \r\n            dialogFragment.setSharedElementEnterTransition(new ChangeBounds());\r\n            dialogFragment.setSharedElementReturnTransition(new Fade(Fade.OUT));\r\n    \r\n            dialogFragment.show(transaction, &quot;frag_tag&quot;);\r\n        }\r\n    }\r\n\r\n__activity_main.xml Layout__\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/activity_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;test.example.fabpop.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Transition to a BottomSheetDialogFragment that shares this FAB&quot;\r\n                android:textAlignment=&quot;center&quot;/&gt;\r\n    \r\n            &lt;!--  Feather FAB  --&gt;\r\n            &lt;android.support.design.widget.FloatingActionButton\r\n                android:id=&quot;@+id/initial_fab_feather&quot;\r\n                android:layout_width=&quot;52dp&quot;\r\n                android:layout_height=&quot;52dp&quot;\r\n                android:layout_margin=&quot;16dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:onClick=&quot;fabClick&quot;\r\n                android:transitionName=&quot;transition_name_feather&quot;\r\n                android:src=&quot;@drawable/ic_feather&quot;\r\n                /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n__SheetDialog__\r\n\r\n    package test.example.fabpop;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.annotation.Nullable;\r\n    import android.support.design.widget.BottomSheetDialogFragment;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    \r\n    public class SheetDialog extends BottomSheetDialogFragment {\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater,\r\n                                 @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n    \r\n            return inflater.inflate(R.layout.dialog_sheet, container, false);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n__dialog_sheet.xml Layout__\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;!--  Plane FAB  --&gt;\r\n        &lt;android.support.design.widget.FloatingActionButton\r\n            android:id=&quot;@+id/final_fab_plane&quot;\r\n            android:layout_width=&quot;75dp&quot;\r\n            android:layout_height=&quot;75dp&quot;\r\n            android:layout_margin=&quot;16dp&quot;\r\n            android:transitionName=&quot;transition_name_plane&quot;\r\n            android:src=&quot;@drawable/ic_plane&quot;\r\n            /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\nIs it not possible to have a shared element on a transition between one Activity and one Fragment? Perhaps is is only possible between Activity to Activity or Fragment to Fragment, but not across the two types? Maybe this is why I cannot get it to work?\r\n\r\n\r\nUpdate:\r\n\r\nI have now tried adding `&lt;item name=&quot;android:windowContentTransitions&quot;&gt;true&lt;/item&gt;` to the app&#39;s theme. \r\n\r\nI have also now tried while ensuring that both transitionName values are the same on both views.\r\n\r\nneither of these have helped to fix the issue.","title":"Executing a &quot;Shared Element Transition&quot; from an Activity to a Fragment","body":"<p>I have made a github project with just the issue. You can see it / clone it / build it from here: <a href=\"https://git.io/vMPqb\">https://git.io/vMPqb</a></p>\n\n<hr>\n\n<p>I am trying to get shared elements working for a Fragment transition.</p>\n\n<p>There are two FABs in the project - Feather and Plane. Feather and Plane are shared elements. When Feather is clicked, the SheetDialog is opened, and Feather should animate over to Plane dialog. It does not do that at the moment, and I am trying to determine why.</p>\n\n<p>It may be worthwhile noting that I am running this on API 24 so issues with transitions not being supported below version 21 is not the problem.</p>\n\n<p>Can anyone tell me why shared element transitions are not working?</p>\n\n<p>To echo what is there in the repo, there are four important files:</p>\n\n<p><strong>Main Activity</strong></p>\n\n<pre><code>package test.example.fabpop;\n\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.transition.ChangeBounds;\nimport android.support.transition.Fade;\nimport android.support.v4.app.FragmentTransaction;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\n\npublic class MainActivity extends AppCompatActivity {\n\n    FloatingActionButton fab_feather;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        fab_feather = (FloatingActionButton) findViewById(R.id.initial_fab_feather);\n    }\n\n    public void fabClick(View view) {\n        SheetDialog dialogFragment = new SheetDialog();\n\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n\n        // This seemingly has no effect. I am trying to get it to work.\n        transaction.addSharedElement(fab_feather, \"transition_name_plane\");\n\n        dialogFragment.setSharedElementEnterTransition(new ChangeBounds());\n        dialogFragment.setSharedElementReturnTransition(new Fade(Fade.OUT));\n\n        dialogFragment.show(transaction, \"frag_tag\");\n    }\n}\n</code></pre>\n\n<p><strong>activity_main.xml Layout</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/activity_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\"test.example.fabpop.MainActivity\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentEnd=\"true\"\n        android:orientation=\"vertical\"&gt;\n        &lt;TextView\n            android:layout_width=\"200dp\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Transition to a BottomSheetDialogFragment that shares this FAB\"\n            android:textAlignment=\"center\"/&gt;\n\n        &lt;!--  Feather FAB  --&gt;\n        &lt;android.support.design.widget.FloatingActionButton\n            android:id=\"@+id/initial_fab_feather\"\n            android:layout_width=\"52dp\"\n            android:layout_height=\"52dp\"\n            android:layout_margin=\"16dp\"\n            android:layout_gravity=\"center\"\n            android:onClick=\"fabClick\"\n            android:transitionName=\"transition_name_feather\"\n            android:src=\"@drawable/ic_feather\"\n            /&gt;\n    &lt;/LinearLayout&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>SheetDialog</strong></p>\n\n<pre><code>package test.example.fabpop;\n\nimport android.os.Bundle;\nimport android.support.annotation.Nullable;\nimport android.support.design.widget.BottomSheetDialogFragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\npublic class SheetDialog extends BottomSheetDialogFragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n\n        return inflater.inflate(R.layout.dialog_sheet, container, false);\n    }\n}\n</code></pre>\n\n<p><strong>dialog_sheet.xml Layout</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;!--  Plane FAB  --&gt;\n    &lt;android.support.design.widget.FloatingActionButton\n        android:id=\"@+id/final_fab_plane\"\n        android:layout_width=\"75dp\"\n        android:layout_height=\"75dp\"\n        android:layout_margin=\"16dp\"\n        android:transitionName=\"transition_name_plane\"\n        android:src=\"@drawable/ic_plane\"\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Is it not possible to have a shared element on a transition between one Activity and one Fragment? Perhaps is is only possible between Activity to Activity or Fragment to Fragment, but not across the two types? Maybe this is why I cannot get it to work?</p>\n\n<p>Update:</p>\n\n<p>I have now tried adding <code>&lt;item name=\"android:windowContentTransitions\"&gt;true&lt;/item&gt;</code> to the app's theme. </p>\n\n<p>I have also now tried while ensuring that both transitionName values are the same on both views.</p>\n\n<p>neither of these have helped to fix the issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1694040286,"post_id":77055622,"comment_id":135840620,"body_markdown":"This is probably a duplicate of https://stackoverflow.com/q/5678666/1509264 (summary, strip the first 13 characters, i.e. the `FORMAT-ZIPV2` and the new line, and then write the remaining bytes to a Zip file)","body":"This is probably a duplicate of <a href=\"https://stackoverflow.com/q/5678666/1509264\">stackoverflow.com/q/5678666/1509264</a> (summary, strip the first 13 characters, i.e. the <code>FORMAT-ZIPV2</code> and the new line, and then write the remaining bytes to a Zip file)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694040424,"post_id":77055622,"comment_id":135840631,"body_markdown":"I&#39;d use `getBinaryStream().transferTo` Unclear file type so far. Save a small one we can examine","body":"I&#39;d use <code>getBinaryStream().transferTo</code> Unclear file type so far. Save a small one we can examine"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1694040700,"post_id":77055622,"comment_id":135840664,"body_markdown":"@g00se can you please provide a sample/pseudo code?","body":"@g00se can you please provide a sample/pseudo code?"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1694040847,"post_id":77055622,"comment_id":135840681,"body_markdown":"There is code in the linked duplicate.","body":"There is code in the linked duplicate."}],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694040814,"answer_count":0,"score":0,"last_activity_date":1694041991,"creation_date":1694039845,"question_id":77055622,"body_markdown":"In my old Oracle database&#39;s table there is a column of data type long.\r\n\r\nI am trying to read the that column&#39;s content to a file like below:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    public class TheMainClass{\r\n    \r\n    \t@SuppressWarnings(&quot;resource&quot;)\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString username = &quot;easyusername&quot;;\r\n    \t\tString password = &quot;toughpassword&quot;;\r\n    \t\ttry (Connection conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@server.com:1521/theservicename&quot;,\r\n    \t\t\t\t&quot;&quot; + username + &quot;&quot;, &quot;&quot; + password + &quot;&quot;)) {\r\n    \r\n    \t\t\ttry (PreparedStatement s = conn.prepareStatement(\r\n    \t\t\t\t\t&quot;SELECT IMAGECONTENTS_COMPRESSED FROM images_compressed where IMAGE_COMPRESSED_K = &#39;D25Q0XS9T0&#39;&quot;);\r\n    \t\t\t\t\tResultSet rset2 = s.executeQuery()) {\r\n    \t\t\t\tif (rset2.next()) {\r\n    \t\t\t\t\tbyte[] bytes = rset2.getBytes(1);\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tFileOutputStream file = null;\r\n    \t\t\t\t\t\tfile = new FileOutputStream(&quot;somefilename.pdf&quot;);\r\n    \t\t\t\t\t\tfile.write(bytes);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\tString err = e.toString();\r\n    \t\t\t\t\t\tSystem.out.println(err);\r\n    \t\t\t\t\t} finally {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;All Done. !&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (SQLException e) {\r\n    \t\t\tSystem.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThe file is written successfully but I can&#39;t open it as a PDF. When I open it with some text processor app like notepad++ it shows content as two lines. \r\n\r\nFirst line is - &quot;FORMAT-ZIPV2&quot; and \r\n\r\nSecond line is a super long string :\r\n\r\n    FORMAT-ZIPV2\r\n    504B0304140002000800AC7D113702F7FE42B1340000574900000E000000643235713078733974302E706466EDBC775853CDF6284CEFCD8222520216108524404882F45EA42ANDAVERYLONGSTRING\r\n\r\nAny idea what kind of format it is AND how do I write correctly to a file ? Please let me know if any other details are needed. I can provide them as update.\r\n\r\nI tried the following to remove FORMAT-ZIPV2 and tried to decode using Base64 but still the resultant zip file still throws error for not being a valid zip file:\r\n\r\n\t\t\t\tString content = new String(Files.readAllBytes(Paths.get(&quot;zipfilename.pdf&quot;)));\r\n\t\t\t\tString newContent = content.replaceAll(&quot;FORMAT-ZIPV2&quot;, &quot;&quot;).replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\r\n\t\t\t\tSystem.out.println(&quot;File Content:: &quot; + content);\r\n\t\t\t\tSystem.out.println(&quot;File New Content:: &quot; + newContent);\r\n\t\t\t\tBase64.Decoder dec = Base64.getDecoder();\r\n\t\t\t\tString decoded = new String(dec.decode(newContent));\r\n\t\t\t\tSystem.out.println(&quot;decoded value is \\t\\n\\n&quot; + decoded);\r\n\t\t\t\tPath path = Paths.get(&quot;somezipfilename.zip&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFiles.writeString(path, decoded, StandardCharsets.UTF_8);\r\n\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\tSystem.out.print(&quot;Invalid Path&quot;);\r\n\t\t\t\t}\r\n\r\n","title":"Not able to determine the format from long data type content","body":"<p>In my old Oracle database's table there is a column of data type long.</p>\n<p>I am trying to read the that column's content to a file like below:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class TheMainClass{\n\n    @SuppressWarnings(&quot;resource&quot;)\n    public static void main(String[] args) {\n\n        String username = &quot;easyusername&quot;;\n        String password = &quot;toughpassword&quot;;\n        try (Connection conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@server.com:1521/theservicename&quot;,\n                &quot;&quot; + username + &quot;&quot;, &quot;&quot; + password + &quot;&quot;)) {\n\n            try (PreparedStatement s = conn.prepareStatement(\n                    &quot;SELECT IMAGECONTENTS_COMPRESSED FROM images_compressed where IMAGE_COMPRESSED_K = 'D25Q0XS9T0'&quot;);\n                    ResultSet rset2 = s.executeQuery()) {\n                if (rset2.next()) {\n                    byte[] bytes = rset2.getBytes(1);\n                    try {\n                        FileOutputStream file = null;\n                        file = new FileOutputStream(&quot;somefilename.pdf&quot;);\n                        file.write(bytes);\n                    } catch (Exception e) {\n                        String err = e.toString();\n                        System.out.println(err);\n                    } finally {\n                        System.out.println(&quot;All Done. !&quot;);\n                    }\n                }\n            }\n\n        } catch (SQLException e) {\n            System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>The file is written successfully but I can't open it as a PDF. When I open it with some text processor app like notepad++ it shows content as two lines.</p>\n<p>First line is - &quot;FORMAT-ZIPV2&quot; and</p>\n<p>Second line is a super long string :</p>\n<pre><code>FORMAT-ZIPV2\n504B0304140002000800AC7D113702F7FE42B1340000574900000E000000643235713078733974302E706466EDBC775853CDF6284CEFCD8222520216108524404882F45EA42ANDAVERYLONGSTRING\n</code></pre>\n<p>Any idea what kind of format it is AND how do I write correctly to a file ? Please let me know if any other details are needed. I can provide them as update.</p>\n<p>I tried the following to remove FORMAT-ZIPV2 and tried to decode using Base64 but still the resultant zip file still throws error for not being a valid zip file:</p>\n<pre><code>            String content = new String(Files.readAllBytes(Paths.get(&quot;zipfilename.pdf&quot;)));\n            String newContent = content.replaceAll(&quot;FORMAT-ZIPV2&quot;, &quot;&quot;).replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\n            System.out.println(&quot;File Content:: &quot; + content);\n            System.out.println(&quot;File New Content:: &quot; + newContent);\n            Base64.Decoder dec = Base64.getDecoder();\n            String decoded = new String(dec.decode(newContent));\n            System.out.println(&quot;decoded value is \\t\\n\\n&quot; + decoded);\n            Path path = Paths.get(&quot;somezipfilename.zip&quot;);\n            try {\n                Files.writeString(path, decoded, StandardCharsets.UTF_8);\n            } catch (IOException ex) {\n                System.out.print(&quot;Invalid Path&quot;);\n            }\n</code></pre>\n"},{"tags":["java","struts-1","stack-overflow","ejb-2.x","jboss-eap-6"],"answers":[{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410809639,"creation_date":1410809639,"answer_id":25855603,"question_id":25846648,"body_markdown":"In your Struts JSP `layout.jsp` there is a [`&lt;tiles:insert&gt;`][1] tag that causes Struts to do a loop when Servlet tries to render the page.\r\n\r\n\r\n  [1]: http://struts.apache.org/release/1.3.x/struts-tiles/tlddoc/tiles/insert.html","title":"JBWEB000236: Servlet.service() for servlet strutsAction threw exception: java.lang.StackOverflowError","body":"<p>In your Struts JSP <code>layout.jsp</code> there is a <a href=\"http://struts.apache.org/release/1.3.x/struts-tiles/tlddoc/tiles/insert.html\" rel=\"nofollow\"><code>&lt;tiles:insert&gt;</code></a> tag that causes Struts to do a loop when Servlet tries to render the page.</p>\n"}],"owner":{"account_id":4983405,"reputation":61,"user_id":4007707,"display_name":"lee b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694041265,"creation_date":1410779157,"question_id":25846648,"body_markdown":"I&#39;m migrating my application from Jboss 4 to Jboss 7(jboss eap 6.1 alpha) getting the below error, while trying to search results in my project.\r\nI&#39;m using Java 6, Struts 1.2, EJB 2.0, Jboss 6 EAP alpha.\r\nNote: The same code works fine when running in Jboss 4.0\r\n\r\nServer Logs:\r\n\r\n    ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/myproject].[strutsAction]] (http-localhost/127.0.0.1:8080-2) JBWEB000236: Servlet.service() for servlet strutsAction threw exception: java.lang.StackOverflowError\r\n    \tat java.util.IdentityHashMap.maskNull(IdentityHashMap.java:175) [rt.jar:1.6.0_27]\r\n    \tat java.util.IdentityHashMap.get(IdentityHashMap.java:314) [rt.jar:1.6.0_27]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.clone(SerializingCloner.java:150) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.clone(SerializingCloner.java:134) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:274) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \t\r\n    \t\r\n    ERROR [org.apache.struts.taglib.tiles.InsertTag] (http-localhost/127.0.0.1:8080-2) ServletException in &#39;/auth/searchresults.do&#39;: null: javax.servlet.ServletException: JBWEB000248: Servlet execution threw an exception\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:312) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:718) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:655) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:940) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:607) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:99) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:760) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:892) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:462) [struts.jar:1.2.9]\r\n    \tat org.apache.jsp.layout_jsp._jspx_meth_tiles_005finsert_005f2(layout_jsp.java:810)\r\n    \tat org.apache.jsp.layout_jsp._jspService(layout_jsp.java:512)\r\n    \tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:365) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:309) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:242) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:620) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:553) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:482) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(TilesRequestProcessor.java:239) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:302) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414) [struts.jar:1.2.9]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:620) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:553) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:482) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:398) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:318) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196) [struts.jar:1.2.9]\r\n    \tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414) [struts.jar:1.2.9]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat com.abc.book.web.security.AuthFilter.doFilter(AuthFilter.java:72) [classes:]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat com.planetj.servlet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:270) [pjl-comp-filter-1.7.jar:]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:169) [jboss-as-web-7.2.0.Alpha1-redhat-4.jar:7.2.0.Alpha1-redhat-4]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:145) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_27]\r\n    Caused by: java.lang.StackOverflowError\r\n    \tat java.util.IdentityHashMap.maskNull(IdentityHashMap.java:175) [rt.jar:1.6.0_27]\r\n    \tat java.util.IdentityHashMap.get(IdentityHashMap.java:314) [rt.jar:1.6.0_27]\r\n    \tat org.jboss.marshalling.cloner.SerializingCloner.clone(SerializingCloner.java:150) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\r\n    \t\r\n    \t\r\n    \t\r\n    ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host]] (http-localhost/127.0.0.1:8080-2) JBWEB000313: Exception processing error page /auth/error/error.jsp: java.lang.IllegalStateException: JBWEB000029: Cannot reset buffer after response has been committed\r\n    \tat org.apache.catalina.connector.Response.resetBuffer(Response.java:682) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.connector.Response.resetBuffer(Response.java:702) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:515) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:370) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:159) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    \tat java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_27]\r\n\t\r\n\r\n\r\n`$` Layout.jsp `$`\r\n\r\n        &lt;%@ taglib uri=&quot;/bean&quot; prefix=&quot;bean&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;/logic&quot; prefix=&quot;logic&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;/html&quot; prefix=&quot;html&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;/WEB-INF/struts-tiles.tld&quot; prefix=&quot;tiles&quot; %&gt;\r\n    \r\n    &lt;html:html lang=&quot;false&quot; xhtml=&quot;true&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n      &lt;meta http-equiv=&quot;Content-Script-Type&quot; content=&quot;text/javascript&quot; /&gt;\r\n    \t&lt;base href=&quot;&lt;%= this.getServletContext().getAttribute(&quot;baseUrl&quot;)%&gt;&quot;&gt;&lt;/base&gt;\r\n    \t&lt;tiles:useAttribute name=&quot;pagetitle&quot; scope=&quot;request&quot; /&gt;\r\n    \t&lt;bean:define id=&quot;pagetitle&quot; scope=&quot;request&quot; toScope=&quot;request&quot; type=&quot;java.lang.String&quot;&gt;&lt;%=pagetitle.toString()%&gt;&lt;/bean:define&gt;\r\n    \t&lt;title&gt;&lt;bean:message key=&quot;index.page.title&quot; /&gt;&lt;/title&gt;\r\n    \t\r\n    \r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;html:rewrite page=&#39;/style_screen_new.css&#39; /&gt;&quot; /&gt;\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;html:rewrite page=&#39;/style_header_footer.css&#39; /&gt;&quot; /&gt;\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;html:rewrite page=&#39;/style_screen_specific.css&#39; /&gt;&quot; /&gt;\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;print&quot; href=&quot;&lt;html:rewrite page=&#39;/style_print.css&#39; /&gt;&quot; /&gt;\t\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;html:rewrite page=&#39;/style_screen_orders.css&#39; /&gt;&quot; /&gt;\r\n    \t\r\n    \t&lt;script src=&quot;javascript/validation.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src=&quot;javascript/utils.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    \t\r\n    \t&lt;tiles:useAttribute name=&quot;javascriptFormname&quot;/&gt;\r\n    \t&lt;logic:notEmpty name=&quot;javascriptFormname&quot;&gt;\r\n    \t\t&lt;html:javascript cdata=&quot;true&quot; formName=&quot;&lt;%=javascriptFormname.toString()%&gt;&quot; staticJavascript=&quot;false&quot; scriptLanguage=&quot;false&quot;/&gt;\r\n    \t&lt;/logic:notEmpty&gt;\r\n      &lt;tiles:useAttribute name=&quot;quickFindFormName&quot;/&gt;\r\n      &lt;logic:notEmpty name=&quot;quickFindFormName&quot;&gt;\r\n       &lt;html:javascript cdata=&quot;true&quot; formName=&quot;&lt;%=quickFindFormName.toString()%&gt;&quot; staticJavascript=&quot;false&quot; scriptLanguage=&quot;false&quot;/&gt;\r\n      &lt;/logic:notEmpty&gt;\r\n      \r\n    &lt;%\r\n        String anchor = (String)request.getAttribute(&quot;anchor&quot;);\r\n     %&gt;  \r\n    \r\n    \t&lt;link rel=&quot;icon&quot; href=&quot;&lt;html:rewrite page=&#39;/favicon.ico&#39; /&gt;&quot; type=&quot;image/ico&quot; /&gt;\r\n    \t&lt;link rel=&quot;shortcut icon&quot; href=&quot;&lt;html:rewrite page=&#39;/favicon.ico&#39; /&gt;&quot; /&gt;\t \t \r\n      \r\n    &lt;/head&gt;\r\n    &lt;body &lt;%= (anchor == null ? &quot;&quot; : &quot;onLoad=\\&#39;location.href=location.href + \\&quot;&quot; + anchor + &quot;\\&quot;;\\&#39;&quot; )  %&gt; &gt;\r\n    \r\n    \t&lt;tiles:insert attribute=&quot;header&quot; flush=&quot;true&quot; /&gt;\r\n    \t&lt;%@include file=&quot;errors.jsp&quot; %&gt;\r\n    \t&lt;div id=&quot;problemo_div&quot;&gt;\r\n    \t\t&lt;div id=&quot;footer_div&quot;&gt;\r\n    \t\t\t&lt;tiles:insert attribute=&quot;footer&quot; flush=&quot;true&quot; /&gt;\t\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;div id=&quot;body_div&quot;&gt;\r\n    \t\t\t&lt;tiles:insert attribute=&quot;body&quot; flush=&quot;true&quot; /&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html:html&gt;\r\n\r\n\r\n`$` web.xml `$`\r\n\r\n&lt;!-- Struts Tag Library Descriptors --&gt;\r\n\r\n        &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/html&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-html.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/nested&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-nested.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/bean&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-bean.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/logic&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-logic.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/template&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-template.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n\r\n\r\n`$` Similar Stackoverflow error in other screen as well `$`\r\n\r\n        Servlet.service() for servlet jsp threw exception: javax.servlet.ServletException: JBWEB004036: File &amp;quot;/auth/error/footer_content.jsp&amp;quot; not found\r\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:242) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    at org.apache.catalina.core.AppFlterChain.internalDoFilter(AppFlterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.AppFlterChain.doFilter(AppFlterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:718) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:655) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:940) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.jsp.auth.error.error_jsp._jspService(error_jsp.java:415)\r\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:365) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:309) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:242) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\r\n    at org.apache.catalina.core.AppFlterChain.internalDoFilter(AppFlterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.AppFlterChain.doFilter(AppFlterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:553) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:482) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:523) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:370) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:159) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\r\n    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_27]\r\n\r\n\r\n`$` error_jsp.java `$`\r\n\r\n        if (_jspx_meth_bean_005fmessage_005f3(_jspx_page_context))\r\n        return;\r\n      out.write(&quot;\\&quot; onClick=\\&quot;history.go(-1);return true;\\&quot;&gt; &lt;/FORM&gt;\\r\\n&quot;);\r\n      out.write(&quot;  \\t\\t&lt;/td&gt;\\r\\n&quot;);\r\n      out.write(&quot;  \\t&lt;/tr&gt;  \\t\\r\\n&quot;);\r\n      out.write(&quot;&lt;/table&gt;\\r\\n&quot;);\r\n      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, &quot;footer_content.jsp&quot;, out, false);\r\n      out.write(&quot;\\r\\n&quot;);\r\n      out.write(&quot;\\r\\n&quot;);\r\n      out.write(&quot;&lt;/body&gt;\\r\\n&quot;);\r\n      out.write(&quot;&lt;/html&gt;&quot;);\r\n    } catch (Throwable t) {\r\n\r\n","title":"JBWEB000236: Servlet.service() for servlet strutsAction threw exception: java.lang.StackOverflowError","body":"<p>I'm migrating my application from Jboss 4 to Jboss 7(jboss eap 6.1 alpha) getting the below error, while trying to search results in my project.\nI'm using Java 6, Struts 1.2, EJB 2.0, Jboss 6 EAP alpha.\nNote: The same code works fine when running in Jboss 4.0</p>\n\n<p>Server Logs:</p>\n\n<pre><code>ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/myproject].[strutsAction]] (http-localhost/127.0.0.1:8080-2) JBWEB000236: Servlet.service() for servlet strutsAction threw exception: java.lang.StackOverflowError\n    at java.util.IdentityHashMap.maskNull(IdentityHashMap.java:175) [rt.jar:1.6.0_27]\n    at java.util.IdentityHashMap.get(IdentityHashMap.java:314) [rt.jar:1.6.0_27]\n    at org.jboss.marshalling.cloner.SerializingCloner.clone(SerializingCloner.java:150) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.clone(SerializingCloner.java:134) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:274) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n    at org.jboss.marshalling.cloner.SerializingCloner.initSerializableClone(SerializingCloner.java:276) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n\n\nERROR [org.apache.struts.taglib.tiles.InsertTag] (http-localhost/127.0.0.1:8080-2) ServletException in '/auth/searchresults.do': null: javax.servlet.ServletException: JBWEB000248: Servlet execution threw an exception\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:312) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:718) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:655) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:940) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:607) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:99) [struts.jar:1.2.9]\n    at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:135) [struts.jar:1.2.9]\n    at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:760) [struts.jar:1.2.9]\n    at org.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:892) [struts.jar:1.2.9]\n    at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:462) [struts.jar:1.2.9]\n    at org.apache.jsp.layout_jsp._jspx_meth_tiles_005finsert_005f2(layout_jsp.java:810)\n    at org.apache.jsp.layout_jsp._jspService(layout_jsp.java:512)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:365) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:309) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:242) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:620) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:553) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:482) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085) [struts.jar:1.2.9]\n    at org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263) [struts.jar:1.2.9]\n    at org.apache.struts.tiles.TilesRequestProcessor.processTilesDefinition(TilesRequestProcessor.java:239) [struts.jar:1.2.9]\n    at org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:302) [struts.jar:1.2.9]\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241) [struts.jar:1.2.9]\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196) [struts.jar:1.2.9]\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414) [struts.jar:1.2.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:620) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:553) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:482) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1085) [struts.jar:1.2.9]\n    at org.apache.struts.tiles.TilesRequestProcessor.doForward(TilesRequestProcessor.java:263) [struts.jar:1.2.9]\n    at org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:398) [struts.jar:1.2.9]\n    at org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(TilesRequestProcessor.java:318) [struts.jar:1.2.9]\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:241) [struts.jar:1.2.9]\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196) [struts.jar:1.2.9]\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414) [struts.jar:1.2.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at com.abc.book.web.security.AuthFilter.doFilter(AuthFilter.java:72) [classes:]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at com.planetj.servlet.filter.compression.CompressingFilter.doFilter(CompressingFilter.java:270) [pjl-comp-filter-1.7.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:169) [jboss-as-web-7.2.0.Alpha1-redhat-4.jar:7.2.0.Alpha1-redhat-4]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:145) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_27]\nCaused by: java.lang.StackOverflowError\n    at java.util.IdentityHashMap.maskNull(IdentityHashMap.java:175) [rt.jar:1.6.0_27]\n    at java.util.IdentityHashMap.get(IdentityHashMap.java:314) [rt.jar:1.6.0_27]\n    at org.jboss.marshalling.cloner.SerializingCloner.clone(SerializingCloner.java:150) [jboss-cli-client.jar:7.2.0.Alpha1-redhat-4]\n\n\n\nERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host]] (http-localhost/127.0.0.1:8080-2) JBWEB000313: Exception processing error page /auth/error/error.jsp: java.lang.IllegalStateException: JBWEB000029: Cannot reset buffer after response has been committed\n    at org.apache.catalina.connector.Response.resetBuffer(Response.java:682) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.connector.Response.resetBuffer(Response.java:702) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:515) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:370) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:159) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\n    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_27]\n</code></pre>\n\n<p><code>$</code> Layout.jsp <code>$</code></p>\n\n<pre><code>    &lt;%@ taglib uri=\"/bean\" prefix=\"bean\" %&gt;\n&lt;%@ taglib uri=\"/logic\" prefix=\"logic\" %&gt;\n&lt;%@ taglib uri=\"/html\" prefix=\"html\" %&gt;\n&lt;%@ taglib uri=\"/WEB-INF/struts-tiles.tld\" prefix=\"tiles\" %&gt;\n\n&lt;html:html lang=\"false\" xhtml=\"true\"&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n  &lt;meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\" /&gt;\n    &lt;base href=\"&lt;%= this.getServletContext().getAttribute(\"baseUrl\")%&gt;\"&gt;&lt;/base&gt;\n    &lt;tiles:useAttribute name=\"pagetitle\" scope=\"request\" /&gt;\n    &lt;bean:define id=\"pagetitle\" scope=\"request\" toScope=\"request\" type=\"java.lang.String\"&gt;&lt;%=pagetitle.toString()%&gt;&lt;/bean:define&gt;\n    &lt;title&gt;&lt;bean:message key=\"index.page.title\" /&gt;&lt;/title&gt;\n\n\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"&lt;html:rewrite page='/style_screen_new.css' /&gt;\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"&lt;html:rewrite page='/style_header_footer.css' /&gt;\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"&lt;html:rewrite page='/style_screen_specific.css' /&gt;\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"print\" href=\"&lt;html:rewrite page='/style_print.css' /&gt;\" /&gt; \n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"&lt;html:rewrite page='/style_screen_orders.css' /&gt;\" /&gt;\n\n    &lt;script src=\"javascript/validation.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"javascript/utils.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n    &lt;tiles:useAttribute name=\"javascriptFormname\"/&gt;\n    &lt;logic:notEmpty name=\"javascriptFormname\"&gt;\n        &lt;html:javascript cdata=\"true\" formName=\"&lt;%=javascriptFormname.toString()%&gt;\" staticJavascript=\"false\" scriptLanguage=\"false\"/&gt;\n    &lt;/logic:notEmpty&gt;\n  &lt;tiles:useAttribute name=\"quickFindFormName\"/&gt;\n  &lt;logic:notEmpty name=\"quickFindFormName\"&gt;\n   &lt;html:javascript cdata=\"true\" formName=\"&lt;%=quickFindFormName.toString()%&gt;\" staticJavascript=\"false\" scriptLanguage=\"false\"/&gt;\n  &lt;/logic:notEmpty&gt;\n\n&lt;%\n    String anchor = (String)request.getAttribute(\"anchor\");\n %&gt;  \n\n    &lt;link rel=\"icon\" href=\"&lt;html:rewrite page='/favicon.ico' /&gt;\" type=\"image/ico\" /&gt;\n    &lt;link rel=\"shortcut icon\" href=\"&lt;html:rewrite page='/favicon.ico' /&gt;\" /&gt;         \n\n&lt;/head&gt;\n&lt;body &lt;%= (anchor == null ? \"\" : \"onLoad=\\'location.href=location.href + \\\"\" + anchor + \"\\\";\\'\" )  %&gt; &gt;\n\n    &lt;tiles:insert attribute=\"header\" flush=\"true\" /&gt;\n    &lt;%@include file=\"errors.jsp\" %&gt;\n    &lt;div id=\"problemo_div\"&gt;\n        &lt;div id=\"footer_div\"&gt;\n            &lt;tiles:insert attribute=\"footer\" flush=\"true\" /&gt;    \n        &lt;/div&gt;\n        &lt;div id=\"body_div\"&gt;\n            &lt;tiles:insert attribute=\"body\" flush=\"true\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html:html&gt;\n</code></pre>\n\n<p><code>$</code> web.xml <code>$</code></p>\n\n\n\n<pre><code>    &lt;taglib&gt;\n    &lt;taglib-uri&gt;/html&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-html.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n&lt;taglib&gt;\n    &lt;taglib-uri&gt;/nested&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-nested.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n&lt;taglib&gt;\n    &lt;taglib-uri&gt;/bean&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-bean.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n&lt;taglib&gt;\n    &lt;taglib-uri&gt;/logic&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-logic.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n&lt;taglib&gt;\n    &lt;taglib-uri&gt;/template&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-template.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n</code></pre>\n\n<p><code>$</code> Similar Stackoverflow error in other screen as well <code>$</code></p>\n\n<pre><code>    Servlet.service() for servlet jsp threw exception: javax.servlet.ServletException: JBWEB004036: File &amp;quot;/auth/error/footer_content.jsp&amp;quot; not found\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:242) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\nat org.apache.catalina.core.AppFlterChain.internalDoFilter(AppFlterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.AppFlterChain.doFilter(AppFlterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:718) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:655) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:940) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.jsp.auth.error.error_jsp._jspService(error_jsp.java:415)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:365) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:309) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:242) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.2.Final.jar:1.0.2.Final]\nat org.apache.catalina.core.AppFlterChain.internalDoFilter(AppFlterChain.java:295) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.AppFlterChain.doFilter(AppFlterChain.java:214) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:832) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:622) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:553) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:482) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:523) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:370) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:159) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920) [jbossweb-7.2.0.Final.jar:7.2.0.Final]\nat java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_27]\n</code></pre>\n\n<p><code>$</code> error_jsp.java <code>$</code></p>\n\n<pre><code>    if (_jspx_meth_bean_005fmessage_005f3(_jspx_page_context))\n    return;\n  out.write(\"\\\" onClick=\\\"history.go(-1);return true;\\\"&gt; &lt;/FORM&gt;\\r\\n\");\n  out.write(\"  \\t\\t&lt;/td&gt;\\r\\n\");\n  out.write(\"  \\t&lt;/tr&gt;  \\t\\r\\n\");\n  out.write(\"&lt;/table&gt;\\r\\n\");\n  org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, \"footer_content.jsp\", out, false);\n  out.write(\"\\r\\n\");\n  out.write(\"\\r\\n\");\n  out.write(\"&lt;/body&gt;\\r\\n\");\n  out.write(\"&lt;/html&gt;\");\n} catch (Throwable t) {\n</code></pre>\n"},{"tags":["java","keytool"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1694048131,"post_id":77055486,"comment_id":135841316,"body_markdown":"You specified `-cacerts` on the `-import`; to list the same file use it on the `-list` also. Note this will list _everything_ in the file: both the cert(s) you just imported, and about a hundred that were already there. To list only a single new one, do `keytool -list -cacerts -alias {name}`. But this is not a programming or development issue.","body":"You specified <code>-cacerts</code> on the <code>-import</code>; to list the same file use it on the <code>-list</code> also. Note this will list <i>everything</i> in the file: both the cert(s) you just imported, and about a hundred that were already there. To list only a single new one, do <code>keytool -list -cacerts -alias {name}</code>. But this is not a programming or development issue."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694039940,"creation_date":1694039940,"answer_id":77055629,"question_id":77055486,"body_markdown":"The &quot;keytool&quot; program [defaults to a keystore called &quot;.keystore&quot; in your home directory][2], not the keystore you just created.\r\n\r\n&gt; By default the keytool will generate a keystore in the user’s home directory (Linux/macOS: `$HOME/.keystore`, Windows: `$env:USERPROFILE/.keystore`). Use the `-keystore` parameter to specify a custom path.\r\n\r\nAdd the &quot;-keystore&quot; option to specify the location of the keystore file you created.\r\n\r\n```\r\nC:\\windows\\system32&gt; keytool -list -keystore &quot;C:/ca-certs/&lt;cert name&gt;.crt&quot;\r\nEnter keystore password: &lt;YourPasswordHere&gt;\r\n```\r\n\r\nThat will list everything, but you can filter it by your alias if needed:\r\n\r\n```\r\nC:\\windows\\system32&gt; keytool -list -keystore &quot;C:/ca-certs/&lt;cert name&gt;.crt&quot; -alias &quot;&lt;cert name&gt;&quot;\r\nEnter keystore password: &lt;YourPasswordHere&gt;\r\n```\r\n\r\nMore examples of keytool commands are at [The Most Common Java Keytool Keystore Commands][1].\r\n\r\n[1]: https://www.sslshopper.com/article-most-common-java-keytool-keystore-commands.html\r\n[2]: https://megamorf.gitlab.io/cheat-sheets/java-keystores/\r\n","title":"certs are imported. But can not list them","body":"<p>The &quot;keytool&quot; program <a href=\"https://megamorf.gitlab.io/cheat-sheets/java-keystores/\" rel=\"nofollow noreferrer\">defaults to a keystore called &quot;.keystore&quot; in your home directory</a>, not the keystore you just created.</p>\n<blockquote>\n<p>By default the keytool will generate a keystore in the user’s home directory (Linux/macOS: <code>$HOME/.keystore</code>, Windows: <code>$env:USERPROFILE/.keystore</code>). Use the <code>-keystore</code> parameter to specify a custom path.</p>\n</blockquote>\n<p>Add the &quot;-keystore&quot; option to specify the location of the keystore file you created.</p>\n<pre><code>C:\\windows\\system32&gt; keytool -list -keystore &quot;C:/ca-certs/&lt;cert name&gt;.crt&quot;\nEnter keystore password: &lt;YourPasswordHere&gt;\n</code></pre>\n<p>That will list everything, but you can filter it by your alias if needed:</p>\n<pre><code>C:\\windows\\system32&gt; keytool -list -keystore &quot;C:/ca-certs/&lt;cert name&gt;.crt&quot; -alias &quot;&lt;cert name&gt;&quot;\nEnter keystore password: &lt;YourPasswordHere&gt;\n</code></pre>\n<p>More examples of keytool commands are at <a href=\"https://www.sslshopper.com/article-most-common-java-keytool-keystore-commands.html\" rel=\"nofollow noreferrer\">The Most Common Java Keytool Keystore Commands</a>.</p>\n"}],"owner":{"account_id":6988575,"reputation":47,"user_id":5358613,"display_name":"Mayil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77055629,"answer_count":1,"score":0,"last_activity_date":1694039940,"creation_date":1694037350,"question_id":77055486,"body_markdown":"In my new windows 10 laptop I successfully imported some certs:\r\n     \r\n\r\n     C:\\windows\\system32&gt;keytool -import -trustcacerts -storepass changeit -noprompt -alias &lt;cert name&gt; -file C:/ca-certs/&lt;cert name&gt;.crt -cacerts -v\r\n    Certificate was added to keystore\r\n    [Storing C:\\Program Files\\Zulu\\zulu-17\\lib\\security\\cacerts]\r\n\r\n  Then I tried to list them. But I am getting this exception:\r\n\r\n        C:\\windows\\system32&gt;keytool -list\r\n    keytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\tester\\.keystore\r\n\r\n-import command imported the certs to the cacerts file. But the -list command tries to find it from .keystore file.\r\n Did I miss any configuration.\r\n I remember I did the same thing in my older laptop but I did not have issues. ","title":"certs are imported. But can not list them","body":"<p>In my new windows 10 laptop I successfully imported some certs:</p>\n<pre><code> C:\\windows\\system32&gt;keytool -import -trustcacerts -storepass changeit -noprompt -alias &lt;cert name&gt; -file C:/ca-certs/&lt;cert name&gt;.crt -cacerts -v\nCertificate was added to keystore\n[Storing C:\\Program Files\\Zulu\\zulu-17\\lib\\security\\cacerts]\n</code></pre>\n<p>Then I tried to list them. But I am getting this exception:</p>\n<pre><code>    C:\\windows\\system32&gt;keytool -list\nkeytool error: java.lang.Exception: Keystore file does not exist: C:\\Users\\tester\\.keystore\n</code></pre>\n<p>-import command imported the certs to the cacerts file. But the -list command tries to find it from .keystore file.\nDid I miss any configuration.\nI remember I did the same thing in my older laptop but I did not have issues.</p>\n"},{"tags":["java","node.js","maven","npm","jar"],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694039786,"creation_date":1694039786,"question_id":77055615,"body_markdown":"I have a maven build the configures a React front end into the java jar file. It worked fine on the mac, but now that I&#39;ve transferred it to windows, I&#39;ve run into an issue. \r\n\r\nSpecifically, the maven build is looking for a file in &quot;app/node/node_modules&quot; when the file is actually in &quot;app/node_modules&quot;. Here the error message: \r\n\r\n     --- frontend:1.13.4:npm (npm run build) @ licensing-app ---\r\n    [INFO] Running &#39;npm run build&#39; in C:\\dev\\analytics-licensing-app\\server\\app\r\n    [INFO] internal/modules/cjs/loader.js:582\r\n    [INFO]     throw err;\r\n    [INFO]     ^\r\n    [INFO]\r\n    [INFO] Error: Cannot find module &#39;C:\\dev\\analytics-licensing-app\\server\\app\\node\\node_modules\\npm\\bin\\npm-cli.js&#39;\r\n\r\nThis is the relevant part of pom.xml:\r\n\r\n            &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${frontend-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;workingDirectory&gt;app&lt;/workingDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;npm run test&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;npm&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;test&lt;/arguments&gt;\r\n                                &lt;environmentVariables&gt;\r\n                                    &lt;CI&gt;true&lt;/CI&gt;\r\n                                &lt;/environmentVariables&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;npm run build&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;npm&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n\r\n\r\nHere is the directory structure the front end:\r\n \r\n    &lt;base-dir&gt;/server/app\r\n\r\npom.xml is located in \r\n\r\n    &lt;base-dir&gt;/server\r\n\r\n\r\nThis is what&#39;s in the &quot;app&quot; directory:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/h4yTX.png\r\n\r\nAs you can see, for some reason there is a &quot;node&quot; directory in there, and I&#39;m not sure how it go there and if it&#39;s supposed to be there. \r\n\r\nI&#39;m also not sure if the build should be there. One of the front end guys was helping me install node on windows, and I think it might have been created by running the &quot;npm run install&quot; manually. \r\n\r\nNote that for this, I converted from &quot;yarn&quot; to &quot;npm&quot;, because that&#39;s they way they do it here. \r\n\r\nAlso, the contents of config.json:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;app&quot;,\r\n  &quot;version&quot;: &quot;0.1.0&quot;,\r\n  &quot;private&quot;: true,\r\n  &quot;dependencies&quot;: {\r\n    &quot;@types/downloadjs&quot;: &quot;^1.4.1&quot;,\r\n    &quot;bootstrap&quot;: &quot;^4.6.2&quot;,\r\n    &quot;react&quot;: &quot;^16.8.0&quot;,\r\n    &quot;react-cookie&quot;: &quot;3.0.4&quot;,\r\n    &quot;react-dom&quot;: &quot;^16.8.0&quot;,\r\n    &quot;react-router-dom&quot;: &quot;4.3.1&quot;,\r\n    &quot;react-scripts&quot;: &quot;^5.0.1&quot;,\r\n    &quot;reactstrap&quot;: &quot;6.5.0&quot;,\r\n    &quot;semantic-ui-react&quot;: &quot;^0.88.2&quot;\r\n  },\r\n  &quot;scripts&quot;: {\r\n    &quot;start&quot;: &quot;react-scripts start&quot;,\r\n    &quot;build&quot;: &quot;react-scripts build&quot;,\r\n    &quot;test&quot;: &quot;react-scripts test&quot;,\r\n    &quot;eject&quot;: &quot;react-scripts eject&quot;\r\n  },\r\n  &quot;proxy&quot;: &quot;http://localhost:8080&quot;,\r\n  &quot;eslintConfig&quot;: {\r\n    &quot;extends&quot;: &quot;react-app&quot;\r\n  },\r\n  &quot;browserslist&quot;: [\r\n    &quot;&gt;0.2%&quot;,\r\n    &quot;not dead&quot;,\r\n    &quot;not ie &lt;= 11&quot;,\r\n    &quot;not op_mini all&quot;\r\n  ]\r\n```\r\nWhat could be maven to look inside the &quot;node&quot; directory for &quot;node_modules&quot;? \r\n\r\n\r\n","title":"Packaging node.js into a jar with maven, issue with location of node_modules","body":"<p>I have a maven build the configures a React front end into the java jar file. It worked fine on the mac, but now that I've transferred it to windows, I've run into an issue.</p>\n<p>Specifically, the maven build is looking for a file in &quot;app/node/node_modules&quot; when the file is actually in &quot;app/node_modules&quot;. Here the error message:</p>\n<pre><code> --- frontend:1.13.4:npm (npm run build) @ licensing-app ---\n[INFO] Running 'npm run build' in C:\\dev\\analytics-licensing-app\\server\\app\n[INFO] internal/modules/cjs/loader.js:582\n[INFO]     throw err;\n[INFO]     ^\n[INFO]\n[INFO] Error: Cannot find module 'C:\\dev\\analytics-licensing-app\\server\\app\\node\\node_modules\\npm\\bin\\npm-cli.js'\n</code></pre>\n<p>This is the relevant part of pom.xml:</p>\n<pre><code>        &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${frontend-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;app&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;test&lt;/arguments&gt;\n                            &lt;environmentVariables&gt;\n                                &lt;CI&gt;true&lt;/CI&gt;\n                            &lt;/environmentVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n</code></pre>\n<p>Here is the directory structure the front end:</p>\n<pre><code>&lt;base-dir&gt;/server/app\n</code></pre>\n<p>pom.xml is located in</p>\n<pre><code>&lt;base-dir&gt;/server\n</code></pre>\n<p>This is what's in the &quot;app&quot; directory:</p>\n<p><a href=\"https://i.stack.imgur.com/h4yTX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h4yTX.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, for some reason there is a &quot;node&quot; directory in there, and I'm not sure how it go there and if it's supposed to be there.</p>\n<p>I'm also not sure if the build should be there. One of the front end guys was helping me install node on windows, and I think it might have been created by running the &quot;npm run install&quot; manually.</p>\n<p>Note that for this, I converted from &quot;yarn&quot; to &quot;npm&quot;, because that's they way they do it here.</p>\n<p>Also, the contents of config.json:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;app&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;private&quot;: true,\n  &quot;dependencies&quot;: {\n    &quot;@types/downloadjs&quot;: &quot;^1.4.1&quot;,\n    &quot;bootstrap&quot;: &quot;^4.6.2&quot;,\n    &quot;react&quot;: &quot;^16.8.0&quot;,\n    &quot;react-cookie&quot;: &quot;3.0.4&quot;,\n    &quot;react-dom&quot;: &quot;^16.8.0&quot;,\n    &quot;react-router-dom&quot;: &quot;4.3.1&quot;,\n    &quot;react-scripts&quot;: &quot;^5.0.1&quot;,\n    &quot;reactstrap&quot;: &quot;6.5.0&quot;,\n    &quot;semantic-ui-react&quot;: &quot;^0.88.2&quot;\n  },\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;react-scripts start&quot;,\n    &quot;build&quot;: &quot;react-scripts build&quot;,\n    &quot;test&quot;: &quot;react-scripts test&quot;,\n    &quot;eject&quot;: &quot;react-scripts eject&quot;\n  },\n  &quot;proxy&quot;: &quot;http://localhost:8080&quot;,\n  &quot;eslintConfig&quot;: {\n    &quot;extends&quot;: &quot;react-app&quot;\n  },\n  &quot;browserslist&quot;: [\n    &quot;&gt;0.2%&quot;,\n    &quot;not dead&quot;,\n    &quot;not ie &lt;= 11&quot;,\n    &quot;not op_mini all&quot;\n  ]\n</code></pre>\n<p>What could be maven to look inside the &quot;node&quot; directory for &quot;node_modules&quot;?</p>\n"},{"tags":["java","jetty"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1693395702,"post_id":77007560,"comment_id":135754506,"body_markdown":"*Any ideas if and when these dependencies will be available in Maven Central in future?* I would ask that question the maintainers of jetty. They should be able to answer this","body":"<i>Any ideas if and when these dependencies will be available in Maven Central in future?</i> I would ask that question the maintainers of jetty. They should be able to answer this"},{"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"score":0,"creation_date":1693397388,"post_id":77007560,"comment_id":135754855,"body_markdown":"Ok, I found that, starting from 12.x, jetty dependencies will be released under different names (see https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html &gt; &quot;Migrating from Jetty 11.0.x to Jetty 12.0.x&quot;). Example for EE10 (corresponding to Servlet 6.0, see to https://jakarta.ee/specifications/servlet/): https://mvnrepository.com/artifact/org.eclipse.jetty.ee10/jetty-ee10-servlet.","body":"Ok, I found that, starting from 12.x, jetty dependencies will be released under different names (see <a href=\"https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html\" rel=\"nofollow noreferrer\">eclipse.dev/jetty/documentation/jetty-12/programming-guide/&hellip;</a> &gt; &quot;Migrating from Jetty 11.0.x to Jetty 12.0.x&quot;). Example for EE10 (corresponding to Servlet 6.0, see to <a href=\"https://jakarta.ee/specifications/servlet/\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/servlet</a>): <a href=\"https://mvnrepository.com/artifact/org.eclipse.jetty.ee10/jetty-ee10-servlet\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.eclipse.jetty.ee10/&hellip;</a>."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1693420824,"post_id":77007560,"comment_id":135760216,"body_markdown":"The artifacts are there now, under different coordinates due to the introduction of the Environment concept in Jetty 12 (see answer below about why, and how to find the right coordinates)","body":"The artifacts are there now, under different coordinates due to the introduction of the Environment concept in Jetty 12 (see answer below about why, and how to find the right coordinates)"},{"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"score":0,"creation_date":1693472573,"post_id":77007560,"comment_id":135766572,"body_markdown":"@JoakimErdfelt: Thank you for the clarification. One more question - can you possibly estimate if and when jersey-container-jetty-servlet will support jetty 12? As far as I see the current release 3.1.3 of that library just supports jetty 11","body":"@JoakimErdfelt: Thank you for the clarification. One more question - can you possibly estimate if and when jersey-container-jetty-servlet will support jetty 12? As far as I see the current release 3.1.3 of that library just supports jetty 11"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1693494726,"post_id":77007560,"comment_id":135771459,"body_markdown":"Have to ask the Jersey folks that.","body":"Have to ask the Jersey folks that."},{"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"score":0,"creation_date":1694068661,"post_id":77007560,"comment_id":135843019,"body_markdown":"See https://github.com/eclipse-ee4j/jersey/issues/5401","body":"See <a href=\"https://github.com/eclipse-ee4j/jersey/issues/5401\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jersey/issues/5401</a>"}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693420619,"creation_date":1693420619,"answer_id":77010707,"question_id":77007560,"body_markdown":"The artifacts that are EE specific are now isolated in their own EE specific layer.\r\n\r\nThe design of Jetty 12 is that it is a Core, with no EE specifics (no Servlet, nothing) and then a bunch of Environments that provide the EE specific details.\r\n\r\nWith this new design...\r\n\r\n* The long history (since 1995) of versioning in Jetty is more consistent with normal versioning expectations.\r\n  * since 1995, Jetty versioning was `&lt;servlet_support&gt;.&lt;major&gt;.&lt;minor&gt;`\r\n  * starting with Jetty 12 it is now `&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;`\r\n* There will be fewer (if any) major version updates in Jetty.\r\n* A new Jakarta EE or Jakarta Servlet version will just cause a new Environment to pop up.\r\n* It is possible to run multiple Environments at the same time now.\r\n* Continued support for legacy `javax.servlet` webapps.\r\n\r\nEg:\r\n\r\nEnvironment | Jakarta EE | Servlet | Namespace\r\n----- | ----- | ----- | -----\r\n`ee8` | Jakarta EE 8 | Jakarta Servlet 4 | `javax.servlet.*`\r\n`ee9` | Jakarta EE 9 | Jakarta Servlet 5 | `jakarta.servlet.*`\r\n`ee10` | Jakarta EE 10 | Jakarta Servlet 6 | `jakarta.servlet.*`\r\n\r\nSee the documentation about migrating from Jetty 11 to Jetty 12, and specifically the table of the maven coordination changes.\r\n\r\nhttps://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-migration-11-to-12","title":"Missing jetty-servlet 12.0.0 dependency","body":"<p>The artifacts that are EE specific are now isolated in their own EE specific layer.</p>\n<p>The design of Jetty 12 is that it is a Core, with no EE specifics (no Servlet, nothing) and then a bunch of Environments that provide the EE specific details.</p>\n<p>With this new design...</p>\n<ul>\n<li>The long history (since 1995) of versioning in Jetty is more consistent with normal versioning expectations.\n<ul>\n<li>since 1995, Jetty versioning was <code>&lt;servlet_support&gt;.&lt;major&gt;.&lt;minor&gt;</code></li>\n<li>starting with Jetty 12 it is now <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code></li>\n</ul>\n</li>\n<li>There will be fewer (if any) major version updates in Jetty.</li>\n<li>A new Jakarta EE or Jakarta Servlet version will just cause a new Environment to pop up.</li>\n<li>It is possible to run multiple Environments at the same time now.</li>\n<li>Continued support for legacy <code>javax.servlet</code> webapps.</li>\n</ul>\n<p>Eg:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Environment</th>\n<th>Jakarta EE</th>\n<th>Servlet</th>\n<th>Namespace</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>ee8</code></td>\n<td>Jakarta EE 8</td>\n<td>Jakarta Servlet 4</td>\n<td><code>javax.servlet.*</code></td>\n</tr>\n<tr>\n<td><code>ee9</code></td>\n<td>Jakarta EE 9</td>\n<td>Jakarta Servlet 5</td>\n<td><code>jakarta.servlet.*</code></td>\n</tr>\n<tr>\n<td><code>ee10</code></td>\n<td>Jakarta EE 10</td>\n<td>Jakarta Servlet 6</td>\n<td><code>jakarta.servlet.*</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>See the documentation about migrating from Jetty 11 to Jetty 12, and specifically the table of the maven coordination changes.</p>\n<p><a href=\"https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-migration-11-to-12\" rel=\"nofollow noreferrer\">https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-migration-11-to-12</a></p>\n"}],"owner":{"account_id":4133056,"reputation":532,"user_id":5967354,"display_name":"user27772"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":77010707,"answer_count":1,"score":1,"last_activity_date":1694039754,"creation_date":1693394927,"question_id":77007560,"body_markdown":"I cannot find the `jetty-servlet` artifact for the recently released Jetty 12.0.0\r\n\r\n* https://github.com/eclipse/jetty.project/releases/tag/jetty-12.0.0\r\n\r\nA search for it shows that it is not present on Maven Central, where can I find it?  Does it still exist?\r\n","title":"Missing jetty-servlet 12.0.0 dependency","body":"<p>I cannot find the <code>jetty-servlet</code> artifact for the recently released Jetty 12.0.0</p>\n<ul>\n<li><a href=\"https://github.com/eclipse/jetty.project/releases/tag/jetty-12.0.0\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/releases/tag/jetty-12.0.0</a></li>\n</ul>\n<p>A search for it shows that it is not present on Maven Central, where can I find it?  Does it still exist?</p>\n"},{"tags":["java","mysql","hibernate","jts"],"comments":[{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1692702641,"post_id":76952490,"comment_id":135657173,"body_markdown":"can you please share your DDL for the table. The error says, the object size is bigger than the column size","body":"can you please share your DDL for the table. The error says, the object size is bigger than the column size"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1692727028,"post_id":76952490,"comment_id":135662986,"body_markdown":"The DDL is generated by Hibernate","body":"The DDL is generated by Hibernate"}],"answers":[{"tags":[],"owner":{"account_id":8563155,"reputation":1009,"user_id":6416551,"display_name":"Wilder Valera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692827915,"creation_date":1692827915,"answer_id":76965137,"question_id":76952490,"body_markdown":"I did the test with Spring boot 3.1.2 and H2 database.\r\n\r\nAdd the hibernate spatial dependency in your project(version may vary).\r\n\r\n`// https://mvnrepository.com/artifact/org.hibernate/hibernate-spatial`                    \r\n`implementation &#39;org.hibernate:hibernate-spatial:6.2.6.Final&#39;`\r\n\r\nThen you will see that the column definition of location is geometry. No transformation needed.\r\n\r\nHibernate spatial uses the locationtech library.","title":"Point data type into MySQL8","body":"<p>I did the test with Spring boot 3.1.2 and H2 database.</p>\n<p>Add the hibernate spatial dependency in your project(version may vary).</p>\n<p><code>// https://mvnrepository.com/artifact/org.hibernate/hibernate-spatial</code><br />\n<code>implementation 'org.hibernate:hibernate-spatial:6.2.6.Final'</code></p>\n<p>Then you will see that the column definition of location is geometry. No transformation needed.</p>\n<p>Hibernate spatial uses the locationtech library.</p>\n"},{"tags":[],"owner":{"account_id":19087197,"reputation":11,"user_id":13938215,"display_name":"Gabriel Roldan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694039594,"creation_date":1694039594,"answer_id":77055606,"question_id":76952490,"body_markdown":"in my experience, you need to add the hibernate-spatial dependency, and also set the proper dialect, like in:\r\n\r\n```yaml\r\n    spring:\r\n      jpa:\r\n        ...\r\n        properties:\r\n          hibernate:\r\n            ...\r\n            dialect: org.hibernate.spatial.dialect.postgis.PostgisPG10Dialect\r\n```\r\n\r\nYou can choose to use JTS or Geolatte geometries, both will work.\r\n","title":"Point data type into MySQL8","body":"<p>in my experience, you need to add the hibernate-spatial dependency, and also set the proper dialect, like in:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    spring:\n      jpa:\n        ...\n        properties:\n          hibernate:\n            ...\n            dialect: org.hibernate.spatial.dialect.postgis.PostgisPG10Dialect\n</code></pre>\n<p>You can choose to use JTS or Geolatte geometries, both will work.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76965137,"answer_count":2,"score":1,"last_activity_date":1694039594,"creation_date":1692701004,"question_id":76952490,"body_markdown":"I have a class with JTS point:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Check {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n        private Point location;\r\n\r\nI then want to save that point to my database\r\n\r\n       Point location = new GeometryFactory().createPoint((new Coordinate(10, 10, 4326)));\r\n       // Hibernate method to save entity\r\n\r\nAfter doing some reading I can see people using a WKTReader to convert to some other format (WKB?) before storing it in the MySQL db.\r\n\r\nWhen I try the stack trace says :\r\n\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1406, SQLState: 22001\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too long for column &#39;location&#39; at row 1\r\n\r\n**UPDATE**\r\n\r\nUsing dependency `org.geolatte.geom.*` works perfectly:\r\n\r\n            Point&lt;G2D&gt; geolatte_location = point(WGS84,g(1744.33,-53.21));\r\n\r\n \r\nWhich makes me think I need to convert the point before I store it - how do I convert it so it will be able to be used in the constructor and resulting SQL?\r\n\r\nEnvironment:\r\nJava 18\r\nGradle\r\nMySQL8\r\nHibernate 6.2\r\nSpring Boot 3.2\r\n\r\nThe column in the table for the point created by hibernate is varbinary(255) - I thought MySQL8 supported Spatial point type.\r\n\r\n","title":"Point data type into MySQL8","body":"<p>I have a class with JTS point:</p>\n<pre><code>@Entity\n@Data\npublic class Check {\n\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n    private Point location;\n</code></pre>\n<p>I then want to save that point to my database</p>\n<pre><code>   Point location = new GeometryFactory().createPoint((new Coordinate(10, 10, 4326)));\n   // Hibernate method to save entity\n</code></pre>\n<p>After doing some reading I can see people using a WKTReader to convert to some other format (WKB?) before storing it in the MySQL db.</p>\n<p>When I try the stack trace says :</p>\n<pre><code>o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1406, SQLState: 22001\no.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too long for column 'location' at row 1\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Using dependency <code>org.geolatte.geom.*</code> works perfectly:</p>\n<pre><code>        Point&lt;G2D&gt; geolatte_location = point(WGS84,g(1744.33,-53.21));\n</code></pre>\n<p>Which makes me think I need to convert the point before I store it - how do I convert it so it will be able to be used in the constructor and resulting SQL?</p>\n<p>Environment:\nJava 18\nGradle\nMySQL8\nHibernate 6.2\nSpring Boot 3.2</p>\n<p>The column in the table for the point created by hibernate is varbinary(255) - I thought MySQL8 supported Spatial point type.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"score":0,"creation_date":1694041854,"post_id":77055597,"comment_id":135840783,"body_markdown":"The `update` will update the key and the object you pass in the arguments.","body":"The <code>update</code> will update the key and the object you pass in the arguments."},{"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"score":0,"creation_date":1694042291,"post_id":77055597,"comment_id":135840834,"body_markdown":"The use of the verb PUT it is at the entry point level, you have to handle what you want it to do at the database level.\n\nIt is adding the &quot;extra&quot; field because it is part of the object Product and as I can see your request body only has two attributes therefore the `type` attribute will be null. Depending on your requirement you might need to get the original content and check what to update/what to keep in a `Product` object and pass it to the `UpdateDefinition` instance","body":"The use of the verb PUT it is at the entry point level, you have to handle what you want it to do at the database level.  It is adding the &quot;extra&quot; field because it is part of the object Product and as I can see your request body only has two attributes therefore the <code>type</code> attribute will be null. Depending on your requirement you might need to get the original content and check what to update/what to keep in a <code>Product</code> object and pass it to the <code>UpdateDefinition</code> instance"},{"owner":{"account_id":20872574,"reputation":1,"user_id":15332161,"display_name":"darth_roman"},"score":0,"creation_date":1694074123,"post_id":77055597,"comment_id":135844030,"body_markdown":"it males sense to me, at first i thought that the `update()` method would update the whole document rather some fields, thank you.","body":"it males sense to me, at first i thought that the <code>update()</code> method would update the whole document rather some fields, thank you."}],"owner":{"account_id":20872574,"reputation":1,"user_id":15332161,"display_name":"darth_roman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694039447,"creation_date":1694039447,"question_id":77055597,"body_markdown":"I am currently working in a REST API, one of the entities i have to deal with is `Product` entity.\r\nWhen I want to make a `PUT` request on a product document using the `UpdateDefinion` instance `Update`, I get a weird behavior in return\r\n\r\nProduct class:\r\n\r\n```java\r\n@Data\r\npublic class Product{\r\n    // some attributes\r\n    \r\n    // some getters and setters\r\n}\r\n```\r\n\r\nThe update method on the ProductService class:\r\n\r\n```java\r\n\r\npublic Product editAProduct(ObjectId pid, Product product){\r\n        MongoOperations mongoOperations = new MongoTemplate(MongoClients.create(), &quot;milevdeli&quot;);\r\n        Query query = new Query(Criteria.where(&quot;_id&quot;).is(pid));\r\n            Update update = Update.update(&quot;product&quot;, product);\r\n                    .set(&quot;name&quot;, product.getName())\r\n                    .set(&quot;type&quot;, product.getType())\r\n                    .set(&quot;price&quot;, product.getPrice());\r\n\r\n            mongoOperations.findAndModify(\r\n                    query,\r\n                    update,\r\n                    FindAndModifyOptions.options().returnNew(true),\r\n                    Product.class);\r\n\r\n        return (Product) mongoOperations.find(query, Product.class).get(0); \r\n```\r\n\r\nMy Products collection:\r\n\r\n```json\r\n{\r\n    &quot;_id&quot;: ObjectId,\r\n    &quot;name&quot;: &quot;some name&quot;,\r\n    &quot;price&quot;: &quot;some price&quot;,\r\n    &quot;type&quot;: &quot;some type&quot;\r\n    \r\n}\r\n```\r\n\r\nBUT i get something like this when I execute the request:\r\n\r\n```json\r\n{\r\n    &quot;_id&quot;: ObjectId,\r\n    &quot;name&quot;: &quot;some name&quot;,\r\n    &quot;price&quot;: &quot;some price&quot;,\r\n    &quot;type&quot;: &quot;some type&quot;,\r\n    &quot;product&quot;: {\r\n        &quot;name&quot;: &quot;new name&quot;,\r\n        &quot;price&quot;: &quot;new price&quot;,\r\n        &quot;type&quot;: &quot;new type&quot;,\r\n      }\r\n    \r\n}\r\n```\r\n\r\nI was expecting only the fields update i requested\r\n\r\nthe Request Body:\r\n\r\n```json\r\n{\r\n    &quot;name&quot;:&quot;Updated name&quot;,\r\n    &quot;price&quot;: &quot;Updated price&quot;\r\n}\r\n```\r\n\r\nthe response body:\r\n\r\n```json\r\n    &quot;name&quot;:&quot;Updated name&quot;,\r\n    &quot;price&quot;: &quot;Updated price&quot;,\r\n    &quot;type&quot;:null\r\n```\r\n\r\nWhat i do not understand is:\r\n\r\n- How the `update()` method works?\r\n- How is it possible for it to &quot;ignore&quot; the fields not passed through the request body of the `PUT` request?\r\n- Why is it adding an extra field for my mongoDB collection that actually has the modification sent in the request?\r\n- Why is it setting the set fields with the `.set()` method but not passed through the request body to `null` and how to prevent that?","title":"Spring Boot UpdateDefinition behavior","body":"<p>I am currently working in a REST API, one of the entities i have to deal with is <code>Product</code> entity.\nWhen I want to make a <code>PUT</code> request on a product document using the <code>UpdateDefinion</code> instance <code>Update</code>, I get a weird behavior in return</p>\n<p>Product class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Product{\n    // some attributes\n    \n    // some getters and setters\n}\n</code></pre>\n<p>The update method on the ProductService class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Product editAProduct(ObjectId pid, Product product){\n        MongoOperations mongoOperations = new MongoTemplate(MongoClients.create(), &quot;milevdeli&quot;);\n        Query query = new Query(Criteria.where(&quot;_id&quot;).is(pid));\n            Update update = Update.update(&quot;product&quot;, product);\n                    .set(&quot;name&quot;, product.getName())\n                    .set(&quot;type&quot;, product.getType())\n                    .set(&quot;price&quot;, product.getPrice());\n\n            mongoOperations.findAndModify(\n                    query,\n                    update,\n                    FindAndModifyOptions.options().returnNew(true),\n                    Product.class);\n\n        return (Product) mongoOperations.find(query, Product.class).get(0); \n</code></pre>\n<p>My Products collection:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot;: ObjectId,\n    &quot;name&quot;: &quot;some name&quot;,\n    &quot;price&quot;: &quot;some price&quot;,\n    &quot;type&quot;: &quot;some type&quot;\n    \n}\n</code></pre>\n<p>BUT i get something like this when I execute the request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot;: ObjectId,\n    &quot;name&quot;: &quot;some name&quot;,\n    &quot;price&quot;: &quot;some price&quot;,\n    &quot;type&quot;: &quot;some type&quot;,\n    &quot;product&quot;: {\n        &quot;name&quot;: &quot;new name&quot;,\n        &quot;price&quot;: &quot;new price&quot;,\n        &quot;type&quot;: &quot;new type&quot;,\n      }\n    \n}\n</code></pre>\n<p>I was expecting only the fields update i requested</p>\n<p>the Request Body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;:&quot;Updated name&quot;,\n    &quot;price&quot;: &quot;Updated price&quot;\n}\n</code></pre>\n<p>the response body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;name&quot;:&quot;Updated name&quot;,\n    &quot;price&quot;: &quot;Updated price&quot;,\n    &quot;type&quot;:null\n</code></pre>\n<p>What i do not understand is:</p>\n<ul>\n<li>How the <code>update()</code> method works?</li>\n<li>How is it possible for it to &quot;ignore&quot; the fields not passed through the request body of the <code>PUT</code> request?</li>\n<li>Why is it adding an extra field for my mongoDB collection that actually has the modification sent in the request?</li>\n<li>Why is it setting the set fields with the <code>.set()</code> method but not passed through the request body to <code>null</code> and how to prevent that?</li>\n</ul>\n"},{"tags":["java","linux","ubuntu"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694036645,"post_id":77055406,"comment_id":135840248,"body_markdown":"Afaicr you can&#39;t. You need to install a Linux jdk","body":"Afaicr you can&#39;t. You need to install a Linux jdk"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1694037220,"post_id":77055406,"comment_id":135840327,"body_markdown":"@g00se please see the edit","body":"@g00se please see the edit"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694038697,"post_id":77055406,"comment_id":135840468,"body_markdown":"Ok. That&#39;s good but I&#39;m not quite sure whether everything&#39;s all right for you now ...","body":"Ok. That&#39;s good but I&#39;m not quite sure whether everything&#39;s all right for you now ..."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1694038699,"post_id":77055406,"comment_id":135840469,"body_markdown":"That edit should be added _as an answer_. Answers are not allowed in questions.","body":"That edit should be added <i>as an answer</i>. Answers are not allowed in questions."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1694039216,"post_id":77055406,"comment_id":135840527,"body_markdown":"Even if you could hack in the jdk from your windows world, I wouldn&#39;t. You&#39;re asking for any number of issue. You can literally download it direct and install - even without apt","body":"Even if you could hack in the jdk from your windows world, I wouldn&#39;t. You&#39;re asking for any number of issue. You can literally download it direct and install - even without apt"}],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694039326,"creation_date":1694039326,"answer_id":77055589,"question_id":77055406,"body_markdown":"Running\r\n```\r\nsudo apt update\r\n```\r\nbefore trying to install a second JDK (g00se suggested I had to) helped. It was ChatGPT&#39;s advice. If you need to know where the JDK is installed, try (also GPT&#39;s idea)\r\n```\r\nupdate-alternatives --list java\r\n```\r\nWith that information, you should be able to register that `JAVA_HOME` thing. In my case, it was\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\r\n```\r\nI hope it helps somebody one day","title":"How do I make my JDK available to Ubuntu when using WSL?","body":"<p>Running</p>\n<pre><code>sudo apt update\n</code></pre>\n<p>before trying to install a second JDK (g00se suggested I had to) helped. It was ChatGPT's advice. If you need to know where the JDK is installed, try (also GPT's idea)</p>\n<pre><code>update-alternatives --list java\n</code></pre>\n<p>With that information, you should be able to register that <code>JAVA_HOME</code> thing. In my case, it was</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\n</code></pre>\n<p>I hope it helps somebody one day</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77055589,"answer_count":1,"score":1,"last_activity_date":1694039326,"creation_date":1694035972,"question_id":77055406,"body_markdown":"I&#39;m trying to learn Kafka and started to read [this book][1] (you can download it and read too if you want, it&#39;s free). One of the first steps the authors suggest is installing Zookeeper. In line with their advice, I installed WSL and successfully executed some commands to do that (see p. 18), but then some issue with JDK popped up. I had it installed in the `C:\\Program Files\\Java\\JDK\\jdk-17.0.2+8` directory before. Here&#39;s what I tried:\r\n```\r\njorejoh@LAPTOP-CKP86E2O:/mnt/c$ export JAVA_HOME=&quot;/mnt/c/Program Files/Java/JDK/jdk-17.0.2+8&quot;\r\njorejoh@LAPTOP-CKP86E2O:/mnt/c$ cd /\r\njorejoh@LAPTOP-CKP86E2O:/$ /usr/local/zookeeper/bin/zkServer.sh start\r\nError: JAVA_HOME is not set and java could not be found in PATH.\r\n```\r\nand this\r\n```\r\njorejoh@LAPTOP-CKP86E2O:/$ export JAVA_HOME=&quot;/mnt/c/Program\\ Files/Java/JDK/jdk-17.0.2+8&quot;\r\njorejoh@LAPTOP-CKP86E2O:/$ export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;\r\njorejoh@LAPTOP-CKP86E2O:/$ java -version\r\nCommand &#39;java&#39; not found, but can be installed with:\r\nsudo apt install openjdk-11-jre-headless  # version 11.0.18+10-0ubuntu1~22.04, or\r\nsudo apt install default-jre              # version 2:1.11-72build2\r\nsudo apt install openjdk-17-jre-headless  # version 17.0.6+10-0ubuntu1~22.04\r\nsudo apt install openjdk-18-jre-headless  # version 18.0.2+9-2~22.04\r\nsudo apt install openjdk-19-jre-headless  # version 19.0.2+7-0ubuntu3~22.04\r\nsudo apt install openjdk-8-jre-headless   # version 8u362-ga-0ubuntu1~22.04\r\n```\r\nShould I really install a JDK a second time, this time for Ubuntu? How do I make my JDK available to it and execute the script?\r\n\r\nI did try to install it a second time. The result:\r\n```\r\njorejoh@LAPTOP-CKP86E2O:/$ sudo apt install openjdk-17-jre-headless\r\n[sudo] password for jorejoh:\r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nE: Unable to locate package openjdk-17-jre-headless\r\n```\r\nShould I have adjusted the proposed command somehow?\r\n\r\n\r\n  [1]: https://www.confluent.io/resources/kafka-the-definitive-guide/","title":"How do I make my JDK available to Ubuntu when using WSL?","body":"<p>I'm trying to learn Kafka and started to read <a href=\"https://www.confluent.io/resources/kafka-the-definitive-guide/\" rel=\"nofollow noreferrer\">this book</a> (you can download it and read too if you want, it's free). One of the first steps the authors suggest is installing Zookeeper. In line with their advice, I installed WSL and successfully executed some commands to do that (see p. 18), but then some issue with JDK popped up. I had it installed in the <code>C:\\Program Files\\Java\\JDK\\jdk-17.0.2+8</code> directory before. Here's what I tried:</p>\n<pre><code>jorejoh@LAPTOP-CKP86E2O:/mnt/c$ export JAVA_HOME=&quot;/mnt/c/Program Files/Java/JDK/jdk-17.0.2+8&quot;\njorejoh@LAPTOP-CKP86E2O:/mnt/c$ cd /\njorejoh@LAPTOP-CKP86E2O:/$ /usr/local/zookeeper/bin/zkServer.sh start\nError: JAVA_HOME is not set and java could not be found in PATH.\n</code></pre>\n<p>and this</p>\n<pre><code>jorejoh@LAPTOP-CKP86E2O:/$ export JAVA_HOME=&quot;/mnt/c/Program\\ Files/Java/JDK/jdk-17.0.2+8&quot;\njorejoh@LAPTOP-CKP86E2O:/$ export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;\njorejoh@LAPTOP-CKP86E2O:/$ java -version\nCommand 'java' not found, but can be installed with:\nsudo apt install openjdk-11-jre-headless  # version 11.0.18+10-0ubuntu1~22.04, or\nsudo apt install default-jre              # version 2:1.11-72build2\nsudo apt install openjdk-17-jre-headless  # version 17.0.6+10-0ubuntu1~22.04\nsudo apt install openjdk-18-jre-headless  # version 18.0.2+9-2~22.04\nsudo apt install openjdk-19-jre-headless  # version 19.0.2+7-0ubuntu3~22.04\nsudo apt install openjdk-8-jre-headless   # version 8u362-ga-0ubuntu1~22.04\n</code></pre>\n<p>Should I really install a JDK a second time, this time for Ubuntu? How do I make my JDK available to it and execute the script?</p>\n<p>I did try to install it a second time. The result:</p>\n<pre><code>jorejoh@LAPTOP-CKP86E2O:/$ sudo apt install openjdk-17-jre-headless\n[sudo] password for jorejoh:\nReading package lists... Done\nBuilding dependency tree... Done\nReading state information... Done\nE: Unable to locate package openjdk-17-jre-headless\n</code></pre>\n<p>Should I have adjusted the proposed command somehow?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694038071,"creation_date":1694038071,"answer_id":77055526,"question_id":77055455,"body_markdown":"Agents get their own classloader which is independent from the &#39;main application&#39; classloader.\r\n\r\n2 separate classloaders can actually each load the same class, resulting in 1 class being loaded _twice_, i.e. every `static` variable exists twice.\r\n\r\nThus, here, your agent initializes and prints what you see. Then from your main app you call `ObjectSizeFetcher.getObjectSize()` which causes a second completely independent ObjectSizeFetcher to load, which, of course, still has `null` as value for its static `Instrumentation instrumentation` field.\r\n\r\nThis isn&#39;t what agents are designed for - you&#39;re not supposed to talk to a running agent like this.\r\n\r\nGiven that you are an agent, if you want to try it anyway and hack around it (though I bet you&#39;ll run into more roadblocks, given that this isn&#39;t what it was meant for), well, you&#39;re an agent: You can rewrite things. In particular, you should be able to override the class load mechanism and &#39;catch&#39; the loading of one of the app classes, which gives your agent a `Class&lt;?&gt;` instance. Make a separate class that looks like this:\r\n\r\n```\r\npublic class Container {\r\n  public static ClassLoader agentLoader;\r\n}\r\n```\r\n\r\nAnd set your own loader. Now your app-side code can fetch the agent loader, use that to get a ref to the ObjectSizeFetcher, and use reflection to invoke `getObjectSize`.\r\n","title":"java.lang.NullPointerException: Cannot invoke &quot;java.lang.instrument.Instrumentation.getObjectSize(Object)&quot; because &quot;ObjectSizeFetcher.instrumentation&quot;","body":"<p>Agents get their own classloader which is independent from the 'main application' classloader.</p>\n<p>2 separate classloaders can actually each load the same class, resulting in 1 class being loaded <em>twice</em>, i.e. every <code>static</code> variable exists twice.</p>\n<p>Thus, here, your agent initializes and prints what you see. Then from your main app you call <code>ObjectSizeFetcher.getObjectSize()</code> which causes a second completely independent ObjectSizeFetcher to load, which, of course, still has <code>null</code> as value for its static <code>Instrumentation instrumentation</code> field.</p>\n<p>This isn't what agents are designed for - you're not supposed to talk to a running agent like this.</p>\n<p>Given that you are an agent, if you want to try it anyway and hack around it (though I bet you'll run into more roadblocks, given that this isn't what it was meant for), well, you're an agent: You can rewrite things. In particular, you should be able to override the class load mechanism and 'catch' the loading of one of the app classes, which gives your agent a <code>Class&lt;?&gt;</code> instance. Make a separate class that looks like this:</p>\n<pre><code>public class Container {\n  public static ClassLoader agentLoader;\n}\n</code></pre>\n<p>And set your own loader. Now your app-side code can fetch the agent loader, use that to get a ref to the ObjectSizeFetcher, and use reflection to invoke <code>getObjectSize</code>.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694038071,"creation_date":1694036889,"question_id":77055455,"body_markdown":"I am trying to use [getObjectSize](https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#getObjectSize(java.lang.Object)) to measure memory in Java. I am using JDK-20. I have done everything according to what documentation I could find online. I have my instrumentation class:\r\n\r\n```\r\npackage com.github.jelmerk;\r\n\r\nimport java.lang.instrument.Instrumentation;\r\n \r\npublic class ObjectSizeFetcher {\r\n    private static Instrumentation instrumentation;\r\n \r\n    public static void premain(String args, Instrumentation inst) {\r\n        System.out.println(&quot;initializing ObjectSizeFetcher...&quot;);\r\n        if (inst == null) {\r\n            throw new RuntimeException(&quot;unable to initialize ObjectSizeFetcher. java.lang.instrument.Instrumentation is null&quot;);\r\n        }\r\n        instrumentation = inst;\r\n        System.out.println(&quot;successfully initialized ObjectSizeFetcher&quot;);\r\n    }\r\n \r\n    public static long getObjectSize(Object o) {\r\n        return instrumentation.getObjectSize(o);\r\n    }\r\n}\r\n```\r\n\r\nthen in `pom.xml` I have defined the `PreMain-class`:\r\n\r\n```\r\n&lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;packageName&gt;com.github.jelmerk&lt;/packageName&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n                &lt;Premain-Class&gt;com.github.jelmerk.ObjectSizeFetcher&lt;/Premain-Class&gt;\r\n            &lt;/manifestEntries&gt;\r\n        &lt;/archive&gt;\r\n    &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\nI then installed the jar into M2 repository. I am setting the `javaagent` in my application:\r\n\r\n```\r\nMAVEN_OPTS=&quot;-javaagent:/my/.m2/repository/my/package/memory-profiler/1.2.0/memory-profiler-1.2.0.jar --enable-preview --add-modules jdk.incubator.vector -enableassertions&quot; \\\r\nmvn exec:java -Dexec.cleanupDaemonThreads=false\r\n```\r\n\r\nbut when I run my application I get this:\r\n\r\n```\r\n% ./run.sh\r\nWARNING: Using incubator modules: jdk.incubator.vector\r\ninitializing ObjectSizeFetcher...\r\nsuccessfully initialized ObjectSizeFetcher\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ----------------------&lt; com.mycompany.app:my-app &gt;----------------------\r\n[INFO] Building my-app 1.0-SNAPSHOT\r\n[INFO]   from pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO]\r\n[INFO] --- exec:3.1.0:java (default-cli) @ my-app ---\r\n[WARNING]\r\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.instrument.Instrumentation.getObjectSize(Object)&quot; because &quot;com.github.jelmerk.ObjectSizeFetcher.instrumentation&quot; is null\r\n    at com.github.jelmerk.ObjectSizeFetcher.getObjectSize (ObjectSizeFetcher.java:18)\r\n    at com.mycompany.app.App.main (App.java:48)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\r\n    at java.lang.Thread.run (Thread.java:1623)\r\n```\r\n\r\nNote I even this message:\r\n\r\n```\r\ninitializing ObjectSizeFetcher...\r\nsuccessfully initialized ObjectSizeFetcher\r\n```\r\n\r\nyet when I try to call `getObjectSize` it returns NPE. Can someone tell me what is wrong here and how can I fix it? I have tried debugging for many hours.","title":"java.lang.NullPointerException: Cannot invoke &quot;java.lang.instrument.Instrumentation.getObjectSize(Object)&quot; because &quot;ObjectSizeFetcher.instrumentation&quot;","body":"<p>I am trying to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#getObjectSize(java.lang.Object)\" rel=\"nofollow noreferrer\">getObjectSize</a> to measure memory in Java. I am using JDK-20. I have done everything according to what documentation I could find online. I have my instrumentation class:</p>\n<pre><code>package com.github.jelmerk;\n\nimport java.lang.instrument.Instrumentation;\n \npublic class ObjectSizeFetcher {\n    private static Instrumentation instrumentation;\n \n    public static void premain(String args, Instrumentation inst) {\n        System.out.println(&quot;initializing ObjectSizeFetcher...&quot;);\n        if (inst == null) {\n            throw new RuntimeException(&quot;unable to initialize ObjectSizeFetcher. java.lang.instrument.Instrumentation is null&quot;);\n        }\n        instrumentation = inst;\n        System.out.println(&quot;successfully initialized ObjectSizeFetcher&quot;);\n    }\n \n    public static long getObjectSize(Object o) {\n        return instrumentation.getObjectSize(o);\n    }\n}\n</code></pre>\n<p>then in <code>pom.xml</code> I have defined the <code>PreMain-class</code>:</p>\n<pre><code>&lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n          &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;packageName&gt;com.github.jelmerk&lt;/packageName&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n                &lt;Premain-Class&gt;com.github.jelmerk.ObjectSizeFetcher&lt;/Premain-Class&gt;\n            &lt;/manifestEntries&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I then installed the jar into M2 repository. I am setting the <code>javaagent</code> in my application:</p>\n<pre><code>MAVEN_OPTS=&quot;-javaagent:/my/.m2/repository/my/package/memory-profiler/1.2.0/memory-profiler-1.2.0.jar --enable-preview --add-modules jdk.incubator.vector -enableassertions&quot; \\\nmvn exec:java -Dexec.cleanupDaemonThreads=false\n</code></pre>\n<p>but when I run my application I get this:</p>\n<pre><code>% ./run.sh\nWARNING: Using incubator modules: jdk.incubator.vector\ninitializing ObjectSizeFetcher...\nsuccessfully initialized ObjectSizeFetcher\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ----------------------&lt; com.mycompany.app:my-app &gt;----------------------\n[INFO] Building my-app 1.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- exec:3.1.0:java (default-cli) @ my-app ---\n[WARNING]\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.instrument.Instrumentation.getObjectSize(Object)&quot; because &quot;com.github.jelmerk.ObjectSizeFetcher.instrumentation&quot; is null\n    at com.github.jelmerk.ObjectSizeFetcher.getObjectSize (ObjectSizeFetcher.java:18)\n    at com.mycompany.app.App.main (App.java:48)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\n    at java.lang.Thread.run (Thread.java:1623)\n</code></pre>\n<p>Note I even this message:</p>\n<pre><code>initializing ObjectSizeFetcher...\nsuccessfully initialized ObjectSizeFetcher\n</code></pre>\n<p>yet when I try to call <code>getObjectSize</code> it returns NPE. Can someone tell me what is wrong here and how can I fix it? I have tried debugging for many hours.</p>\n"},{"tags":["java","gradle","cucumber","bdd","serenity-bdd"],"owner":{"account_id":10420697,"reputation":1,"user_id":22512857,"display_name":"sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694037784,"creation_date":1694037572,"question_id":77055497,"body_markdown":"When I upgraded to the latest version (4.0.1) of Serenity, I am not able to see the step-by-step console log locally when a step actually fails (I intentionally used the wrong element locator in one step to make it fail). The log is not detecting the failure, and it shows that all steps passed.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tgm7S.png","title":"The log is not detecting the failure (locally)after upgrading to serenityCoreVersion = &#39;4.0.1&#39;","body":"<p>When I upgraded to the latest version (4.0.1) of Serenity, I am not able to see the step-by-step console log locally when a step actually fails (I intentionally used the wrong element locator in one step to make it fail). The log is not detecting the failure, and it shows that all steps passed.\n<a href=\"https://i.stack.imgur.com/tgm7S.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","cxf","jax-ws","apache-tomee","openejb"],"owner":{"account_id":3085969,"reputation":167,"user_id":2613090,"display_name":"rfrp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694036881,"creation_date":1693879144,"question_id":77041339,"body_markdown":"My client is sending an incorrect message (we are migrating from Weblogic10 to Tomee 8.0.15. The first one was more permissive with incorrect xml&#39;s acording with de wsdl), so I have been trying to avoid the error \r\n\r\n&gt; Unmarshalling Error: element unexpeted (URI:&quot;&quot;, local:&quot;foo&quot;). Expected elements are &amp;lt ...\r\n\r\nSo I concluded that adding the following config in openjb-jar.xml (as appear [here][1])\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;openejb-jar&gt;\r\n    &lt;ejb-deployment ejb-name=&quot;MyService&quot;&gt;\r\n        &lt;properties&gt;\r\n            cxf.jaxws.properties = MyServiceProperties\r\n        &lt;/properties&gt;\r\n    &lt;/ejb-deployment&gt;\r\n```\r\nAnd this resources.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;resources&gt;\r\n    &lt;Service id=&quot;MyServiceProperties&quot; class-name=&quot;java.util.Properties&quot;&gt;\r\n        set-jaxb-validation-event-handler = false\r\n        schema-validation-enabled = false\r\n    &lt;/Service&gt;\r\n&lt;/resources&gt;\r\n```\r\nor this annotation in the definition of my WebService class\r\n\r\n```java\r\n@EndpointProperties({ \r\n    @EndpointProperty(key = &quot;set-jaxb-validation-event-handler&quot;, value = &quot;false&quot;)\r\n})\r\n\r\n@WebService(name=&quot;MyService&quot;,targetNamespace=&quot;http://my.namespace/MyService&quot; )\r\npublic class MyService {\r\n...\r\n}\r\n```\r\nshould avoid the problem.\r\n\r\nI&#39;m deploying this services in Tomee 8.0.15, using JAX-WS and Apache CXF.\r\n\r\nAny clue why this is not working?\r\nI expect that the error of unmarshalling not appear any more.\r\n\r\n\r\n  [1]: https://rmannibucau.wordpress.com/2013/10/23/cxf-schema-validation-with-tomee/","title":"set-jaxb-validation-event-handler config is not working","body":"<p>My client is sending an incorrect message (we are migrating from Weblogic10 to Tomee 8.0.15. The first one was more permissive with incorrect xml's acording with de wsdl), so I have been trying to avoid the error</p>\n<blockquote>\n<p>Unmarshalling Error: element unexpeted (URI:&quot;&quot;, local:&quot;foo&quot;). Expected elements are &amp;lt ...</p>\n</blockquote>\n<p>So I concluded that adding the following config in openjb-jar.xml (as appear <a href=\"https://rmannibucau.wordpress.com/2013/10/23/cxf-schema-validation-with-tomee/\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;openejb-jar&gt;\n    &lt;ejb-deployment ejb-name=&quot;MyService&quot;&gt;\n        &lt;properties&gt;\n            cxf.jaxws.properties = MyServiceProperties\n        &lt;/properties&gt;\n    &lt;/ejb-deployment&gt;\n</code></pre>\n<p>And this resources.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;Service id=&quot;MyServiceProperties&quot; class-name=&quot;java.util.Properties&quot;&gt;\n        set-jaxb-validation-event-handler = false\n        schema-validation-enabled = false\n    &lt;/Service&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>or this annotation in the definition of my WebService class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EndpointProperties({ \n    @EndpointProperty(key = &quot;set-jaxb-validation-event-handler&quot;, value = &quot;false&quot;)\n})\n\n@WebService(name=&quot;MyService&quot;,targetNamespace=&quot;http://my.namespace/MyService&quot; )\npublic class MyService {\n...\n}\n</code></pre>\n<p>should avoid the problem.</p>\n<p>I'm deploying this services in Tomee 8.0.15, using JAX-WS and Apache CXF.</p>\n<p>Any clue why this is not working?\nI expect that the error of unmarshalling not appear any more.</p>\n"},{"tags":["java","validation","spring-boot","spring-webflux","reactive"],"answers":[{"tags":[],"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1545412385,"creation_date":1545412385,"answer_id":53888543,"question_id":53887930,"body_markdown":"@Valid annotation validates an object. So you are trying to validate a Mono&lt;T&gt;, you need to change to LoginModel object, for example:\r\n\r\n      ..getUserContacts(@RequestBody Mono&lt;@Valid LoginModel&gt; loginDetail) {\r\n          ...\r\n      }\r\n\r\n","title":"Bean validation is not working for spring webflux","body":"<p>@Valid annotation validates an object. So you are trying to validate a Mono, you need to change to LoginModel object, for example:</p>\n\n<pre><code>  ..getUserContacts(@RequestBody Mono&lt;@Valid LoginModel&gt; loginDetail) {\n      ...\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1546011452,"creation_date":1546011452,"answer_id":53960885,"question_id":53887930,"body_markdown":"Nothing worked for me. So I validated it manually by using javax.validator.\r\n\r\n \r\n\r\n    @Autowired private Validator validator;\r\n    \r\n     public Flux&lt;UserContactsModel&gt; getUserContacts(@RequestBody Mono&lt;@Valid LoginModel&gt; loginDetail) {\r\n    \r\n        return loginDetail\r\n            .filter(this::validate)\r\n            .map(....);\r\n    }\r\n    \r\n     private boolean validate(LoginModel loginModel) {\r\n        \r\n        Set&lt;ConstraintViolation&lt;LoginModel&gt;&gt; constraintViolations = validator.validate(loginModel);\r\n    \r\n        if (CollectionUtils.isNotEmpty(constraintViolations)) {\r\n          StringJoiner stringJoiner = new StringJoiner(&quot; &quot;);\r\n          constraintViolations.forEach(\r\n              loginModelConstraintViolation -&gt;\r\n                  stringJoiner\r\n                      .add(loginModelConstraintViolation.getPropertyPath().toString())\r\n                      .add(&quot;:&quot;)\r\n                      .add(loginModelConstraintViolation.getMessage()));\r\n          throw new RuntimeException(stringJoiner.toString());\r\n        }\r\n    \r\n        return true;\r\n      }\r\n\r\n","title":"Bean validation is not working for spring webflux","body":"<p>Nothing worked for me. So I validated it manually by using javax.validator.</p>\n\n<pre><code>@Autowired private Validator validator;\n\n public Flux&lt;UserContactsModel&gt; getUserContacts(@RequestBody Mono&lt;@Valid LoginModel&gt; loginDetail) {\n\n    return loginDetail\n        .filter(this::validate)\n        .map(....);\n}\n\n private boolean validate(LoginModel loginModel) {\n\n    Set&lt;ConstraintViolation&lt;LoginModel&gt;&gt; constraintViolations = validator.validate(loginModel);\n\n    if (CollectionUtils.isNotEmpty(constraintViolations)) {\n      StringJoiner stringJoiner = new StringJoiner(\" \");\n      constraintViolations.forEach(\n          loginModelConstraintViolation -&gt;\n              stringJoiner\n                  .add(loginModelConstraintViolation.getPropertyPath().toString())\n                  .add(\":\")\n                  .add(loginModelConstraintViolation.getMessage()));\n      throw new RuntimeException(stringJoiner.toString());\n    }\n\n    return true;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313424,"reputation":848,"user_id":1260910,"display_name":"rmpestano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641719170,"creation_date":1641719170,"answer_id":70639807,"question_id":53887930,"body_markdown":"For me the `@Valid` worked out of the box, the missing piece was adding `spring-boot-starter-validation` in the classpath:\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n I have the exact same controller code as in this question plus a `ExceptionHandler` to handle the bean validation errors:\r\n\r\n    @ResponseBody\r\n    @ExceptionHandler(WebExchangeBindException.class)\r\n    Mono&lt;ResponseEntity&lt;List&lt;ErrorDTO&gt;&gt;&gt; invalidRequestErrorHandler(@NotNull final WebExchangeBindException e) {\r\n        log.error(&quot;Invalid request exception occurred&quot;, e);\r\n        var errors = e.getBindingResult()\r\n                .getAllErrors()\r\n                .stream()\r\n                .filter(Objects::nonNull)\r\n                .map(this::getValidationErrorMessage)\r\n                .toList();\r\n        return Mono.just(ResponseEntity.status(BAD_REQUEST)\r\n                .contentType(APPLICATION_JSON)\r\n                .body(errors));\r\n    }\r\n\r\n    @NotNull\r\n    private ErrorDTO getValidationErrorMessage(@NotNull final ObjectError error) {\r\n        final var errorMessage = new StringBuilder();\r\n        if (error instanceof FieldError fe) {\r\n            errorMessage.append(fe.getField()).append(&quot; - &quot;);\r\n        }\r\n        errorMessage.append(error.getDefaultMessage());\r\n        return new ErrorDTO()\r\n                .errorCode(GENERIC_ERROR).message(errorMessage.toString());\r\n    }","title":"Bean validation is not working for spring webflux","body":"<p>For me the <code>@Valid</code> worked out of the box, the missing piece was adding <code>spring-boot-starter-validation</code> in the classpath:</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>I have the exact same controller code as in this question plus a <code>ExceptionHandler</code> to handle the bean validation errors:</p>\n<pre><code>@ResponseBody\n@ExceptionHandler(WebExchangeBindException.class)\nMono&lt;ResponseEntity&lt;List&lt;ErrorDTO&gt;&gt;&gt; invalidRequestErrorHandler(@NotNull final WebExchangeBindException e) {\n    log.error(&quot;Invalid request exception occurred&quot;, e);\n    var errors = e.getBindingResult()\n            .getAllErrors()\n            .stream()\n            .filter(Objects::nonNull)\n            .map(this::getValidationErrorMessage)\n            .toList();\n    return Mono.just(ResponseEntity.status(BAD_REQUEST)\n            .contentType(APPLICATION_JSON)\n            .body(errors));\n}\n\n@NotNull\nprivate ErrorDTO getValidationErrorMessage(@NotNull final ObjectError error) {\n    final var errorMessage = new StringBuilder();\n    if (error instanceof FieldError fe) {\n        errorMessage.append(fe.getField()).append(&quot; - &quot;);\n    }\n    errorMessage.append(error.getDefaultMessage());\n    return new ErrorDTO()\n            .errorCode(GENERIC_ERROR).message(errorMessage.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6894982,"reputation":1,"user_id":5297260,"display_name":"E.Bilek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694035922,"creation_date":1694035922,"answer_id":77055402,"question_id":53887930,"body_markdown":"Use @Validated in Service class, and @Valid in Entity/DTO parameter of method what you need validation. \r\nLibs: jakarta.validation-api and spring-boot-starter-validation","title":"Bean validation is not working for spring webflux","body":"<p>Use @Validated in Service class, and @Valid in Entity/DTO parameter of method what you need validation.\nLibs: jakarta.validation-api and spring-boot-starter-validation</p>\n"}],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9752,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53960885,"answer_count":4,"score":12,"last_activity_date":1694035922,"creation_date":1545409283,"question_id":53887930,"body_markdown":"I have refactored my code to use spring webflux but now `@Valid` stopped working.\r\nIt is not validating the request body.\r\n\r\n    @PostMapping(value = &quot;/getContactInfo&quot;,produces = &quot;application/json&quot;,consumes = &quot;application/json&quot;)\r\n    public Flux&lt;UserContactsModel&gt; getUserContacts(@Valid @RequestBody Mono&lt;LoginModel&gt; loginDetail) {\r\n    \r\n        loginDetail.log();\r\n        return contactInfoService\r\n            .getUserContacts(loginDetailApiMapper.loginModelMonoToLoginBoMono(loginDetail))\r\n            .flatMapIterable(\r\n                userContactsBO -&gt; contactInfoMapper.userContactBoToModelList(userContactsBO));\r\n    }\r\n\r\n\r\n\r\nI am getting 200 OK in place of Bad request which I am returning from the controller advice.\r\n\r\n**Edit 1:**\r\n\r\n   \r\n\r\n       import javax.validation.constraints.NotNull;\r\n       import javax.validation.constraints.Pattern;\r\n    \r\n        public class LoginModel implements Serializable {\r\n        \r\n          private String clientId;\r\n        \r\n          @Pattern(regexp = &quot;^[a-zA-Z0-9]*$&quot;, message = &quot;Login ID is invalid&quot;)\r\n          @NotNull\r\n          private String loginId;\r\n        }\r\n**update 1:**\r\nAfter changing the code like this and adding @Validated on class level\r\n\r\n    @RestController\r\n    @Validated\r\n    public class ContactInfoController implements ContactInfoApi {\r\n    public Flux&lt;UserContactsModel&gt; getUserContacts(@RequestBody  Mono&lt;@Valid  LoginModel&gt; loginDetail) {\r\n\r\nI am getting javax.validation.ConstraintDeclarationException: HV000197: No value extractor found for type parameter &#39;T&#39; of type reactor.core.publisher.Mono.","title":"Bean validation is not working for spring webflux","body":"<p>I have refactored my code to use spring webflux but now <code>@Valid</code> stopped working.\nIt is not validating the request body.</p>\n\n<pre><code>@PostMapping(value = \"/getContactInfo\",produces = \"application/json\",consumes = \"application/json\")\npublic Flux&lt;UserContactsModel&gt; getUserContacts(@Valid @RequestBody Mono&lt;LoginModel&gt; loginDetail) {\n\n    loginDetail.log();\n    return contactInfoService\n        .getUserContacts(loginDetailApiMapper.loginModelMonoToLoginBoMono(loginDetail))\n        .flatMapIterable(\n            userContactsBO -&gt; contactInfoMapper.userContactBoToModelList(userContactsBO));\n}\n</code></pre>\n\n<p>I am getting 200 OK in place of Bad request which I am returning from the controller advice.</p>\n\n<p><strong>Edit 1:</strong></p>\n\n<pre><code>   import javax.validation.constraints.NotNull;\n   import javax.validation.constraints.Pattern;\n\n    public class LoginModel implements Serializable {\n\n      private String clientId;\n\n      @Pattern(regexp = \"^[a-zA-Z0-9]*$\", message = \"Login ID is invalid\")\n      @NotNull\n      private String loginId;\n    }\n</code></pre>\n\n<p><strong>update 1:</strong>\nAfter changing the code like this and adding @Validated on class level</p>\n\n<pre><code>@RestController\n@Validated\npublic class ContactInfoController implements ContactInfoApi {\npublic Flux&lt;UserContactsModel&gt; getUserContacts(@RequestBody  Mono&lt;@Valid  LoginModel&gt; loginDetail) {\n</code></pre>\n\n<p>I am getting javax.validation.ConstraintDeclarationException: HV000197: No value extractor found for type parameter 'T' of type reactor.core.publisher.Mono.</p>\n"},{"tags":["java","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1598126954,"post_id":63540638,"comment_id":112358598,"body_markdown":"Are you using the Calligraphy library in your project?","body":"Are you using the Calligraphy library in your project?"},{"owner":{"account_id":18826621,"reputation":55,"user_id":13731353,"display_name":"Zonaahmmm"},"score":0,"creation_date":1598127935,"post_id":63540638,"comment_id":112358837,"body_markdown":"@MikeM. Yes, I just checked it and realize &quot;import uk.co.chrisjenx.calligraphy.CalligraphyContextWrapper;\n&quot; didn&#39;t work..","body":"@MikeM. Yes, I just checked it and realize &quot;import uk.co.chrisjenx.calligraphy.CalligraphyContextWrapper; &quot; didn&#39;t work.."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1598127983,"post_id":63540638,"comment_id":112358846,"body_markdown":"Yeah, it sounds like you might not have that library added properly.","body":"Yeah, it sounds like you might not have that library added properly."},{"owner":{"account_id":18826621,"reputation":55,"user_id":13731353,"display_name":"Zonaahmmm"},"score":0,"creation_date":1598127988,"post_id":63540638,"comment_id":112358848,"body_markdown":"@MikeM. &quot;import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPool;\n&quot; didn&#39;t work either, but I can&#39;t find a latest version..","body":"@MikeM. &quot;import com.bumptech.glide.load.engine.bitmap_recycle.BitmapPool; &quot; didn&#39;t work either, but I can&#39;t find a latest version.."},{"owner":{"account_id":18826621,"reputation":55,"user_id":13731353,"display_name":"Zonaahmmm"},"score":0,"creation_date":1598128057,"post_id":63540638,"comment_id":112358864,"body_markdown":"@MikeM. Is it because the libraries are too old?","body":"@MikeM. Is it because the libraries are too old?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1598128109,"post_id":63540638,"comment_id":112358874,"body_markdown":"Look in your app&#39;s `build.gradle`, in the `dependencies`. Are there any errors?","body":"Look in your app&#39;s <code>build.gradle</code>, in the <code>dependencies</code>. Are there any errors?"},{"owner":{"account_id":18826621,"reputation":55,"user_id":13731353,"display_name":"Zonaahmmm"},"score":0,"creation_date":1598128536,"post_id":63540638,"comment_id":112358968,"body_markdown":"@MikeM. It looks fine. I used &quot; implementation &#39;uk.co.chrisjenx:calligraphy:2.2.0&#39;\n&quot;","body":"@MikeM. It looks fine. I used &quot; implementation &#39;uk.co.chrisjenx:calligraphy:2.2.0&#39; &quot;"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1598128980,"post_id":63540638,"comment_id":112359092,"body_markdown":"Hmm, well, you might try cleaning/rebuilding your project, and Invalidate Caches/Restart. As for the library version, yeah, that is rather old, and it will likely fail on Android Pie and above, IIRC. Calligraphy had to be rewritten when the restrictions on reflection were introduced. The latest edition is 3+: https://github.com/InflationX/Calligraphy. Is this an old project that you&#39;re trying to update?","body":"Hmm, well, you might try cleaning/rebuilding your project, and Invalidate Caches/Restart. As for the library version, yeah, that is rather old, and it will likely fail on Android Pie and above, IIRC. Calligraphy had to be rewritten when the restrictions on reflection were introduced. The latest edition is 3+: <a href=\"https://github.com/InflationX/Calligraphy\" rel=\"nofollow noreferrer\">github.com/InflationX/Calligraphy</a>. Is this an old project that you&#39;re trying to update?"},{"owner":{"account_id":18826621,"reputation":55,"user_id":13731353,"display_name":"Zonaahmmm"},"score":0,"creation_date":1598130924,"post_id":63540638,"comment_id":112359566,"body_markdown":"@MikeM. Yes I&#39;m trying to make changes to an old project","body":"@MikeM. Yes I&#39;m trying to make changes to an old project"}],"owner":{"account_id":18826621,"reputation":55,"user_id":13731353,"display_name":"Zonaahmmm"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694035512,"creation_date":1598126809,"question_id":63540638,"body_markdown":"It says &quot;Android resource linking failed&quot; and **style attribute &#39;attr/fontPath&#39; not found**, my code in ```styles.xml``` file is \r\n\r\n```xml\r\n  &lt;style name=&quot;Regular&quot; parent=&quot;android:TextAppearance&quot;&gt;\r\n        &lt;item name=&quot;fontPath&quot;&gt;fonts/SourceSansPro-Regular.otf&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;SemiBold&quot; parent=&quot;android:TextAppearance&quot;&gt;\r\n        &lt;item name=&quot;fontPath&quot;&gt;fonts/SourceSansPro-Semibold.otf&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Light&quot; parent=&quot;android:TextAppearance&quot;&gt;\r\n        &lt;item name=&quot;fontPath&quot;&gt;fonts/SourceSansPro-LightIt.otf&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\n\r\nI&#39;ve tried to clean the project but it didn&#39;t work","title":"Cannot resolve symbol &#39;fontPath&#39;","body":"<p>It says &quot;Android resource linking failed&quot; and <strong>style attribute 'attr/fontPath' not found</strong>, my code in <code>styles.xml</code> file is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;style name=&quot;Regular&quot; parent=&quot;android:TextAppearance&quot;&gt;\n        &lt;item name=&quot;fontPath&quot;&gt;fonts/SourceSansPro-Regular.otf&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;SemiBold&quot; parent=&quot;android:TextAppearance&quot;&gt;\n        &lt;item name=&quot;fontPath&quot;&gt;fonts/SourceSansPro-Semibold.otf&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Light&quot; parent=&quot;android:TextAppearance&quot;&gt;\n        &lt;item name=&quot;fontPath&quot;&gt;fonts/SourceSansPro-LightIt.otf&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>I've tried to clean the project but it didn't work</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":4644569,"reputation":1078,"user_id":3763338,"display_name":"tim-slifer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1404887362,"creation_date":1404887362,"answer_id":24646756,"question_id":24646302,"body_markdown":"Since what you want is a more CTRL+click type of usage scenario, I&#39;d recommend the following:\r\n\r\n    Actions actions = new Actions(driver)\r\n    actions.keyDown(Keys.CONTROL)\r\n           .click(list.get(0))\r\n           .click(list.get(4))\r\n           .keyUp(Keys.CONTROL)\r\n           .build();\r\n           .perform();\r\n\r\nWhile I&#39;ve not tested this exact code, this *should* get you down the right path.","title":"Multiple Selection Using Selenium Webdriver","body":"<p>Since what you want is a more CTRL+click type of usage scenario, I'd recommend the following:</p>\n\n<pre><code>Actions actions = new Actions(driver)\nactions.keyDown(Keys.CONTROL)\n       .click(list.get(0))\n       .click(list.get(4))\n       .keyUp(Keys.CONTROL)\n       .build();\n       .perform();\n</code></pre>\n\n<p>While I've not tested this exact code, this <em>should</em> get you down the right path.</p>\n"},{"tags":[],"owner":{"account_id":23089223,"reputation":1,"user_id":17200315,"display_name":"Krishna Krishnaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634724491,"creation_date":1634723055,"answer_id":69643737,"question_id":24646302,"body_markdown":"To select multiple options in the selectable:\r\n\t\t\t\t\r\n\tList&lt;WebElement&gt; Selectable = driver.findElements(By.xpath(&quot;//*[@id=&#39;selectable&#39;]/*&quot;));\r\n\tActions x = new Actions(driver);\r\n\t\r\n\tx.keyDown(Keys.CONTROL)\r\n\t .click(Selectable.get(0))\r\n\t .click(Selectable.get(4))\r\n\t .keyUp(Keys.CONTROL)\r\n\t .build().perform();","title":"Multiple Selection Using Selenium Webdriver","body":"<p>To select multiple options in the selectable:</p>\n<pre><code>List&lt;WebElement&gt; Selectable = driver.findElements(By.xpath(&quot;//*[@id='selectable']/*&quot;));\nActions x = new Actions(driver);\n\nx.keyDown(Keys.CONTROL)\n .click(Selectable.get(0))\n .click(Selectable.get(4))\n .keyUp(Keys.CONTROL)\n .build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19982432,"reputation":13,"user_id":14645242,"display_name":"Pathfinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694035358,"creation_date":1692650438,"answer_id":76948591,"question_id":24646302,"body_markdown":"    Actions actions = new Actions(getDriver());\r\n            List&lt;WebElement&gt; credentials= getDriver().findElements(By.cssSelector(&quot;Your locator&quot;]&quot;));\r\n            for (int i = 0; i &lt;credentials.size() ; i++) {\r\n            }\r\n            actions.keyDown(Keys.CONTROL)\r\n                    .click(credentials.get(0))\r\n                    .keyUp(Keys.CONTROL)\r\n                    .click(credentials.get(4))\r\n                    .build().perform();\r\n        }\r\n\r\nThat should help you to click on multiple options","title":"Multiple Selection Using Selenium Webdriver","body":"<pre><code>Actions actions = new Actions(getDriver());\n        List&lt;WebElement&gt; credentials= getDriver().findElements(By.cssSelector(&quot;Your locator&quot;]&quot;));\n        for (int i = 0; i &lt;credentials.size() ; i++) {\n        }\n        actions.keyDown(Keys.CONTROL)\n                .click(credentials.get(0))\n                .keyUp(Keys.CONTROL)\n                .click(credentials.get(4))\n                .build().perform();\n    }\n</code></pre>\n<p>That should help you to click on multiple options</p>\n"}],"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4789,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24646756,"answer_count":3,"score":1,"last_activity_date":1694035358,"creation_date":1404885533,"question_id":24646302,"body_markdown":"I want to simulate a multiple selection scenario using Selenium webdriver, so that the user is able to select Item 1 and Item 5 (see the URL) .\r\n\r\nURL [JQuery Selectable][1]\r\n\r\nRight now I am trying to do this using the **clickAndHold** function, but when I try, it selects all the other items in between the Item 1 and Item 5.\r\n\r\nRight now this is happening\r\n\r\n![This is happening][2]\r\n\r\nI want this\r\n\r\n![I want this][3]\r\n\r\n\r\nMy code goes like this :\r\n\r\n    baseUrl=&quot;http://jqueryui.com/selectable/&quot;;\r\n\tdriver.get(baseUrl);\r\n\tdriver.switchTo().frame(0);\r\n\tList&lt;WebElement&gt; list=driver.findElements(By.cssSelector(&quot;ol#selectable *&quot;));\r\n\tActions act=new Actions(driver);\r\n\t\r\n\tact.clickAndHold(list.get(0)).clickAndHold(list.get(4)).release().build().perform();\r\n\r\nSo the mouse is not released until it gets to the fifth item in the list, which probably is the reason for selection in between. \r\n\r\nBut If I try to not release the mouse click and select the fourth item, using this code \r\n\r\n    act.clickAndHold(list.get(0)).build().perform();\r\n\tact.clickAndHold(list.get(4)).build().perform();\r\n\r\nThen I&#39;m getting the same output as the code above. What should I change here so the the items in between are not selected.\r\n\r\n\r\n  [1]: http://jqueryui.com/selectable/\r\n  [2]: http://i.stack.imgur.com/vjBKB.png\r\n  [3]: http://i.stack.imgur.com/cSxKX.png","title":"Multiple Selection Using Selenium Webdriver","body":"<p>I want to simulate a multiple selection scenario using Selenium webdriver, so that the user is able to select Item 1 and Item 5 (see the URL) .</p>\n\n<p>URL <a href=\"http://jqueryui.com/selectable/\" rel=\"nofollow noreferrer\">JQuery Selectable</a></p>\n\n<p>Right now I am trying to do this using the <strong>clickAndHold</strong> function, but when I try, it selects all the other items in between the Item 1 and Item 5.</p>\n\n<p>Right now this is happening</p>\n\n<p><img src=\"https://i.stack.imgur.com/vjBKB.png\" alt=\"This is happening\"></p>\n\n<p>I want this</p>\n\n<p><img src=\"https://i.stack.imgur.com/cSxKX.png\" alt=\"I want this\"></p>\n\n<p>My code goes like this :</p>\n\n<pre><code>baseUrl=\"http://jqueryui.com/selectable/\";\ndriver.get(baseUrl);\ndriver.switchTo().frame(0);\nList&lt;WebElement&gt; list=driver.findElements(By.cssSelector(\"ol#selectable *\"));\nActions act=new Actions(driver);\n\nact.clickAndHold(list.get(0)).clickAndHold(list.get(4)).release().build().perform();\n</code></pre>\n\n<p>So the mouse is not released until it gets to the fifth item in the list, which probably is the reason for selection in between. </p>\n\n<p>But If I try to not release the mouse click and select the fourth item, using this code </p>\n\n<pre><code>act.clickAndHold(list.get(0)).build().perform();\nact.clickAndHold(list.get(4)).build().perform();\n</code></pre>\n\n<p>Then I'm getting the same output as the code above. What should I change here so the the items in between are not selected.</p>\n"},{"tags":["java","user-interface","javafx","scaling"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694036330,"post_id":77053329,"comment_id":135840213,"body_markdown":"The concept of scaling is often confused with the concept of layout resizing.  For scaling, *everything* gets bigger or smaller when scaled up or down via a [scale transform](https://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/transformation-types.htm#BABDEBGA).  But when a layout is resized, layout resizing logic adjusts the size and position of the nodes but usually does not scale them.  A text input control scaled up will have larger text. A text input control that is layout resized will have more letters, not larger letters.  All nodes are scalable, but not all are resizable.","body":"The concept of scaling is often confused with the concept of layout resizing.  For scaling, <i>everything</i> gets bigger or smaller when scaled up or down via a <a href=\"https://docs.oracle.com/javase/8/javafx/visual-effects-tutorial/transformation-types.htm#BABDEBGA\" rel=\"nofollow noreferrer\">scale transform</a>.  But when a layout is resized, layout resizing logic adjusts the size and position of the nodes but usually does not scale them.  A text input control scaled up will have larger text. A text input control that is layout resized will have more letters, not larger letters.  All nodes are scalable, but not all are resizable."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694037107,"post_id":77053329,"comment_id":135840308,"body_markdown":"In terms of API, you can see if a node is resizable by checking [`isResizable()`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#isResizable()).  For scaling you can use [scaleX/Y/Z properties](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#scaleXProperty()) or apply [transforms](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#Transformations), specifically [Scale](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/transform/Scale.html).  To have a scaled size considered in layout calculations, wrap the node in a `Group`.","body":"In terms of API, you can see if a node is resizable by checking <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#isResizable()\" rel=\"nofollow noreferrer\"><code>isResizable()</code></a>.  For scaling you can use <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#scaleXProperty()\" rel=\"nofollow noreferrer\">scaleX/Y/Z properties</a> or apply <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#Transformations\" rel=\"nofollow noreferrer\">transforms</a>, specifically <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/transform/Scale.html\" rel=\"nofollow noreferrer\">Scale</a>.  To have a scaled size considered in layout calculations, wrap the node in a <code>Group</code>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694020961,"creation_date":1694016322,"answer_id":77053647,"question_id":77053329,"body_markdown":"There are two reasons your code doesn&#39;t work:\r\n\r\n1. `Rectangle` (and all `Shape`) instances are not [*resizable*](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#isResizable). This means a parent (such as `AnchorPane`) can not resize these nodes (specifically, `Rectangle.resize()` is a no-op).\r\n2. You are calling `centerPane.getHeight()` before the pane has been laid out. This means its `height` (and `width`) will be zero at that time. You really need to re-do the layout any time that width and height change.\r\n\r\nJavaFX supports a collection of `Pane` subclasses which manage layout.  (See, for example, [this tutorial](https://edencoding.com/javafx-layouts/), or the [API docs](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html)) for details.) Typically, if you require a layout strategy that is not supported by one of these layout panes, then you should define your own by subclassing `Region` or `Pane`. You should, at a minimum, override the `layoutChildren()` method, along with the methods to compute the min/pref/max width and height.\r\n\r\nWhether or not your actual use case warrants the amount of coding needed to do this is not clear from your question. However, here is a quick example of a container pane that centers its content and has a configurable value for determining what (linear) proportion of its size its content should occupy.\r\n\r\n```\r\npackage org.jamesd.examples.centeringpane;\r\n\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.property.SimpleDoubleProperty;\r\nimport javafx.geometry.Orientation;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.layout.Region;\r\n\r\npublic class CenteringPane extends Region {\r\n\r\n    private final Node content ;\r\n    private DoubleProperty sizeProportion = new SimpleDoubleProperty(1);\r\n\r\n    public CenteringPane(Node content) {\r\n        this.content = content;\r\n        getChildren().add(content);\r\n        sizeProportion.addListener(obs -&gt; requestLayout());\r\n    }\r\n\r\n    @Override\r\n    protected void layoutChildren() {\r\n        if (content.isManaged()) {\r\n            double w = getWidth();\r\n            double h = getHeight();\r\n            double targetWidth = (w - snappedLeftInset() - snappedRightInset()) * getSizeProportion();\r\n            double targetHeight = (h - snappedTopInset() - snappedBottomInset()) * getSizeProportion();\r\n            double x = (w - targetWidth) / 2;\r\n            double y = (h - targetHeight) / 2;\r\n            content.resizeRelocate(snapPositionX(x), snapPositionY(y), snapSizeX(targetWidth), snapSizeY(targetHeight));\r\n        }\r\n    }\r\n\r\n    public double getSizeProportion() {\r\n        return sizeProportion.get();\r\n    }\r\n\r\n    public DoubleProperty sizeProportionProperty() {\r\n        return sizeProportion;\r\n    }\r\n\r\n    public void setSizeProportion(double sizeProportion) {\r\n        this.sizeProportion.set(sizeProportion);\r\n    }\r\n\r\n    @Override\r\n    protected double computePrefWidth(double height) {\r\n        return snappedLeftInset() + snappedRightInset() + content.prefWidth(height) / getSizeProportion();\r\n    }\r\n\r\n    @Override\r\n    protected double computePrefHeight(double width) {\r\n        return snappedTopInset() + snappedBottomInset() + content.prefHeight(width) / getSizeProportion();\r\n    }\r\n\r\n    @Override\r\n    protected double computeMinWidth(double height) {\r\n        return snappedLeftInset() + snappedRightInset() + content.minWidth(height) / getSizeProportion();\r\n    }\r\n\r\n    @Override\r\n    protected double computeMinHeight(double width) {\r\n        return snappedTopInset() + snappedBottomInset() + content.minHeight(width) / getSizeProportion();\r\n    }\r\n\r\n    @Override\r\n    protected double computeMaxWidth(double height) {\r\n        return snappedLeftInset() + snappedRightInset() + content.maxWidth(height) / getSizeProportion();\r\n    }\r\n\r\n    @Override\r\n    protected double computeMaxHeight(double width) {\r\n        return snappedTopInset() + snappedBottomInset() + content.maxHeight(width) / getSizeProportion();\r\n    }\r\n\r\n    @Override\r\n    public Orientation getContentBias() {\r\n        return content.getContentBias();\r\n    }\r\n}\r\n```\r\n\r\nHere is a quick test case:\r\n\r\n```\r\npackage org.jamesd.examples.centeringpane;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.layout.Background;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) {\r\n        Pane pane = new Pane();\r\n        pane.setBackground(Background.fill(Color.BLUE));\r\n        CenteringPane centeringPane = new CenteringPane(pane);\r\n\r\n        BorderPane root = new BorderPane(centeringPane);\r\n        Slider slider = new Slider(0, 1, 0.5);\r\n\r\n        centeringPane.sizeProportionProperty().bind(slider.valueProperty());\r\n        HBox controls = new HBox(5, slider);\r\n        controls.setPadding(new Insets(10));\r\n        controls.setAlignment(Pos.CENTER);\r\n        root.setTop(controls);\r\n        Scene scene = new Scene(root, 800, 500);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OhB6g.png","title":"JavaFX AnchorPane scaling","body":"<p>There are two reasons your code doesn't work:</p>\n<ol>\n<li><code>Rectangle</code> (and all <code>Shape</code>) instances are not <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#isResizable\" rel=\"nofollow noreferrer\"><em>resizable</em></a>. This means a parent (such as <code>AnchorPane</code>) can not resize these nodes (specifically, <code>Rectangle.resize()</code> is a no-op).</li>\n<li>You are calling <code>centerPane.getHeight()</code> before the pane has been laid out. This means its <code>height</code> (and <code>width</code>) will be zero at that time. You really need to re-do the layout any time that width and height change.</li>\n</ol>\n<p>JavaFX supports a collection of <code>Pane</code> subclasses which manage layout.  (See, for example, <a href=\"https://edencoding.com/javafx-layouts/\" rel=\"nofollow noreferrer\">this tutorial</a>, or the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html\" rel=\"nofollow noreferrer\">API docs</a>) for details.) Typically, if you require a layout strategy that is not supported by one of these layout panes, then you should define your own by subclassing <code>Region</code> or <code>Pane</code>. You should, at a minimum, override the <code>layoutChildren()</code> method, along with the methods to compute the min/pref/max width and height.</p>\n<p>Whether or not your actual use case warrants the amount of coding needed to do this is not clear from your question. However, here is a quick example of a container pane that centers its content and has a configurable value for determining what (linear) proportion of its size its content should occupy.</p>\n<pre><code>package org.jamesd.examples.centeringpane;\n\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.geometry.Orientation;\nimport javafx.scene.Node;\nimport javafx.scene.layout.Region;\n\npublic class CenteringPane extends Region {\n\n    private final Node content ;\n    private DoubleProperty sizeProportion = new SimpleDoubleProperty(1);\n\n    public CenteringPane(Node content) {\n        this.content = content;\n        getChildren().add(content);\n        sizeProportion.addListener(obs -&gt; requestLayout());\n    }\n\n    @Override\n    protected void layoutChildren() {\n        if (content.isManaged()) {\n            double w = getWidth();\n            double h = getHeight();\n            double targetWidth = (w - snappedLeftInset() - snappedRightInset()) * getSizeProportion();\n            double targetHeight = (h - snappedTopInset() - snappedBottomInset()) * getSizeProportion();\n            double x = (w - targetWidth) / 2;\n            double y = (h - targetHeight) / 2;\n            content.resizeRelocate(snapPositionX(x), snapPositionY(y), snapSizeX(targetWidth), snapSizeY(targetHeight));\n        }\n    }\n\n    public double getSizeProportion() {\n        return sizeProportion.get();\n    }\n\n    public DoubleProperty sizeProportionProperty() {\n        return sizeProportion;\n    }\n\n    public void setSizeProportion(double sizeProportion) {\n        this.sizeProportion.set(sizeProportion);\n    }\n\n    @Override\n    protected double computePrefWidth(double height) {\n        return snappedLeftInset() + snappedRightInset() + content.prefWidth(height) / getSizeProportion();\n    }\n\n    @Override\n    protected double computePrefHeight(double width) {\n        return snappedTopInset() + snappedBottomInset() + content.prefHeight(width) / getSizeProportion();\n    }\n\n    @Override\n    protected double computeMinWidth(double height) {\n        return snappedLeftInset() + snappedRightInset() + content.minWidth(height) / getSizeProportion();\n    }\n\n    @Override\n    protected double computeMinHeight(double width) {\n        return snappedTopInset() + snappedBottomInset() + content.minHeight(width) / getSizeProportion();\n    }\n\n    @Override\n    protected double computeMaxWidth(double height) {\n        return snappedLeftInset() + snappedRightInset() + content.maxWidth(height) / getSizeProportion();\n    }\n\n    @Override\n    protected double computeMaxHeight(double width) {\n        return snappedTopInset() + snappedBottomInset() + content.maxHeight(width) / getSizeProportion();\n    }\n\n    @Override\n    public Orientation getContentBias() {\n        return content.getContentBias();\n    }\n}\n</code></pre>\n<p>Here is a quick test case:</p>\n<pre><code>package org.jamesd.examples.centeringpane;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        Pane pane = new Pane();\n        pane.setBackground(Background.fill(Color.BLUE));\n        CenteringPane centeringPane = new CenteringPane(pane);\n\n        BorderPane root = new BorderPane(centeringPane);\n        Slider slider = new Slider(0, 1, 0.5);\n\n        centeringPane.sizeProportionProperty().bind(slider.valueProperty());\n        HBox controls = new HBox(5, slider);\n        controls.setPadding(new Insets(10));\n        controls.setAlignment(Pos.CENTER);\n        root.setTop(controls);\n        Scene scene = new Scene(root, 800, 500);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OhB6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OhB6g.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694035271,"creation_date":1694018246,"answer_id":77053840,"question_id":77053329,"body_markdown":"@James_D pointed out all of the reasons not to use `Rectangle`. Here is an example that uses `Pane` and `GridPane`.\r\n\r\n## Main ##\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.ColumnConstraints;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.RowConstraints;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n   \r\n    public static void main(String[] args) {\r\n        App.launch(args);\r\n    }\r\n    \r\n    @Override\r\n    public void start(Stage stage) {        \r\n        GridPane root = new GridPane();\r\n        ColumnConstraints columnConstraints25Percent = new ColumnConstraints();\r\n        columnConstraints25Percent.setPercentWidth(25);\r\n        ColumnConstraints columnConstraints50Percent = new ColumnConstraints();\r\n        columnConstraints50Percent.setPercentWidth(50);\r\n        root.getColumnConstraints().addAll(columnConstraints25Percent, columnConstraints50Percent, columnConstraints25Percent);\r\n        \r\n        RowConstraints rowConstraints25Percent = new RowConstraints();\r\n        rowConstraints25Percent.setPercentHeight(25);\r\n        RowConstraints rowConstraints50Percent = new RowConstraints();\r\n        rowConstraints50Percent.setPercentHeight(50);\r\n        root.getRowConstraints().addAll(rowConstraints25Percent, rowConstraints50Percent, rowConstraints25Percent);\r\n        \r\n        Pane centerPane = new Pane();\r\n        centerPane.setStyle(&quot;-fx-background-color: green&quot;);\r\n        root.add(centerPane, 1, 1);\r\n        \r\n        Scene scene = new Scene(root, 700, 700);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n}\r\n```\r\n\r\n## Output ##\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8fWHr.gif","title":"JavaFX AnchorPane scaling","body":"<p>@James_D pointed out all of the reasons not to use <code>Rectangle</code>. Here is an example that uses <code>Pane</code> and <code>GridPane</code>.</p>\n<h2>Main</h2>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.ColumnConstraints;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.RowConstraints;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n   \n    public static void main(String[] args) {\n        App.launch(args);\n    }\n    \n    @Override\n    public void start(Stage stage) {        \n        GridPane root = new GridPane();\n        ColumnConstraints columnConstraints25Percent = new ColumnConstraints();\n        columnConstraints25Percent.setPercentWidth(25);\n        ColumnConstraints columnConstraints50Percent = new ColumnConstraints();\n        columnConstraints50Percent.setPercentWidth(50);\n        root.getColumnConstraints().addAll(columnConstraints25Percent, columnConstraints50Percent, columnConstraints25Percent);\n        \n        RowConstraints rowConstraints25Percent = new RowConstraints();\n        rowConstraints25Percent.setPercentHeight(25);\n        RowConstraints rowConstraints50Percent = new RowConstraints();\n        rowConstraints50Percent.setPercentHeight(50);\n        root.getRowConstraints().addAll(rowConstraints25Percent, rowConstraints50Percent, rowConstraints25Percent);\n        \n        Pane centerPane = new Pane();\n        centerPane.setStyle(&quot;-fx-background-color: green&quot;);\n        root.add(centerPane, 1, 1);\n        \n        Scene scene = new Scene(root, 700, 700);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<p><a href=\"https://i.stack.imgur.com/8fWHr.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8fWHr.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28852866,"reputation":35,"user_id":22098389,"display_name":"vperse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77053647,"answer_count":2,"score":1,"last_activity_date":1694035271,"creation_date":1694013724,"question_id":77053329,"body_markdown":"&lt;br&gt;\r\nI&#39;m having trouble scaling components inside of the anchor pane relating to the size of the anchor pane.&lt;br&gt;\r\nWhat I want to achieve is a rectangle 50% x 50% the size of the anchor pane positioned at the center.\r\n\r\n\r\nI&#39;m currently trying to achieve this with this code:\r\n\r\n``` Java\r\npublic class HelloApplication extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        AnchorPane centerPane = new AnchorPane();\r\n\r\n        Rectangle rect = new Rectangle();\r\n        rect.setFill(Color.BLUE);\r\n\r\n        AnchorPane.setTopAnchor(rect, .25 * centerPane.getHeight());\r\n        AnchorPane.setBottomAnchor(rect, .25 * centerPane.getHeight());\r\n        AnchorPane.setLeftAnchor(rect, .25 * centerPane.getHeight());\r\n        AnchorPane.setRightAnchor(rect, .25 * centerPane.getHeight());\r\n\r\n        Scene scene = new Scene(centerPane, 320, 240);\r\n\r\n        stage.setTitle(&quot;Anchor Pane Scaling test&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nHowever I get no rectangle displayed.\r\n\r\nI want to know if there&#39;s a way to fix this approach or if there&#39;s a better way of scaling Nodes inside panes in general that I should try.","title":"JavaFX AnchorPane scaling","body":"<br>\nI'm having trouble scaling components inside of the anchor pane relating to the size of the anchor pane.<br>\nWhat I want to achieve is a rectangle 50% x 50% the size of the anchor pane positioned at the center.\n<p>I'm currently trying to achieve this with this code:</p>\n<pre><code>public class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        AnchorPane centerPane = new AnchorPane();\n\n        Rectangle rect = new Rectangle();\n        rect.setFill(Color.BLUE);\n\n        AnchorPane.setTopAnchor(rect, .25 * centerPane.getHeight());\n        AnchorPane.setBottomAnchor(rect, .25 * centerPane.getHeight());\n        AnchorPane.setLeftAnchor(rect, .25 * centerPane.getHeight());\n        AnchorPane.setRightAnchor(rect, .25 * centerPane.getHeight());\n\n        Scene scene = new Scene(centerPane, 320, 240);\n\n        stage.setTitle(&quot;Anchor Pane Scaling test&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n    \n}\n</code></pre>\n<p>However I get no rectangle displayed.</p>\n<p>I want to know if there's a way to fix this approach or if there's a better way of scaling Nodes inside panes in general that I should try.</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1577652140,"post_id":59484557,"comment_id":105217308,"body_markdown":"What does it didn&#39;t work mean? How didnthe generated code look like? What did you expect it to look like?","body":"What does it didn&#39;t work mean? How didnthe generated code look like? What did you expect it to look like?"}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1577633140,"creation_date":1577633140,"answer_id":59520706,"question_id":59484557,"body_markdown":"To be able to use `defaultValue`, you must specify a `source`. If the `source` is null then it will use the `defaultValue` defined. \r\n\r\nTo always assign a specific value to the target, in your case zero or false, you should then use `constant` instead.\r\n\r\nMore info on [Default values and constants][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#default-values-and-constants","title":"How to specify a default value for a boolean field using MapStruct","body":"<p>To be able to use <code>defaultValue</code>, you must specify a <code>source</code>. If the <code>source</code> is null then it will use the <code>defaultValue</code> defined. </p>\n\n<p>To always assign a specific value to the target, in your case zero or false, you should then use <code>constant</code> instead.</p>\n\n<p>More info on <a href=\"https://mapstruct.org/documentation/stable/reference/html/#default-values-and-constants\" rel=\"noreferrer\">Default values and constants</a></p>\n"}],"owner":{"account_id":416949,"reputation":2931,"user_id":792664,"accept_rate":67,"display_name":"Omtara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39370,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1694034704,"creation_date":1577341163,"question_id":59484557,"body_markdown":"How can you specify a `defaultValue` when mapping a DTO using MapStruct? The following constructs did not work\r\n\r\n    @Mapping(target = &quot;used&quot;, defaultValue = &quot;0&quot;)\r\n    MyDTO toDto(MyEntity entity);\r\n\r\n    @Mapping(target = &quot;used&quot;, defaultValue = &quot;false&quot;)\r\n    MyDTO toDto(MyEntity entity);\r\n\r\nThe documentation shows examples for all types except booleans","title":"How to specify a default value for a boolean field using MapStruct","body":"<p>How can you specify a <code>defaultValue</code> when mapping a DTO using MapStruct? The following constructs did not work</p>\n\n<pre><code>@Mapping(target = \"used\", defaultValue = \"0\")\nMyDTO toDto(MyEntity entity);\n\n@Mapping(target = \"used\", defaultValue = \"false\")\nMyDTO toDto(MyEntity entity);\n</code></pre>\n\n<p>The documentation shows examples for all types except booleans</p>\n"},{"tags":["java","versioning","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658497607,"creation_date":1658497607,"answer_id":73081392,"question_id":72204167,"body_markdown":"While it may look like common semantic versioning part signals compatibility, that doesn&#39;t seem to be the case.\r\n\r\nHowever, there is a simple way to find out which `google-api-client` version a particular `google-api-service` requires. The thing is, `google-api-service` has a dependency on `google-api-client`, which you can... right, you can find it in a POM-file! \r\n\r\nLooking at POM-files of different services, there are cases when, for example, a service version is `v3-rev20210201-1.31.0` and it depends on a client version `1.31.1`, while `v3-rev20210612-1.31.0` depends on `1.31.5`\r\n Or even worse: a service version `v3-rev20220508-1.32.1` depends on a client version `1.34.0`.","title":"Version compatibility between google-api-client and google-api-services","body":"<p>While it may look like common semantic versioning part signals compatibility, that doesn't seem to be the case.</p>\n<p>However, there is a simple way to find out which <code>google-api-client</code> version a particular <code>google-api-service</code> requires. The thing is, <code>google-api-service</code> has a dependency on <code>google-api-client</code>, which you can... right, you can find it in a POM-file!</p>\n<p>Looking at POM-files of different services, there are cases when, for example, a service version is <code>v3-rev20210201-1.31.0</code> and it depends on a client version <code>1.31.1</code>, while <code>v3-rev20210612-1.31.0</code> depends on <code>1.31.5</code>\nOr even worse: a service version <code>v3-rev20220508-1.32.1</code> depends on a client version <code>1.34.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":5868667,"reputation":56,"user_id":4621678,"display_name":"Tarc&#237;sio Rosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694034014,"creation_date":1694034014,"answer_id":77055266,"question_id":72204167,"body_markdown":"To help someone else in need, I had the same problem accessing google sheets. My solution was use the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\r\n      &lt;version&gt;v4-rev20230815-2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMaybe the solution for this case is the dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-services-androidpublisher&lt;/artifactId&gt;\r\n      &lt;version&gt;v3-rev20230905-2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Version compatibility between google-api-client and google-api-services","body":"<p>To help someone else in need, I had the same problem accessing google sheets. My solution was use the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n  &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\n  &lt;version&gt;v4-rev20230815-2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maybe the solution for this case is the dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n  &lt;artifactId&gt;google-api-services-androidpublisher&lt;/artifactId&gt;\n  &lt;version&gt;v3-rev20230905-2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4326,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73081392,"answer_count":2,"score":6,"last_activity_date":1694034014,"creation_date":1652284724,"question_id":72204167,"body_markdown":"There is a project which depends on ```google-api-client``` and ```google-api-services-drive```.\r\n\r\n```google-api-client``` verion looks like this: ```1.23.0```, and there is a changelog on github for this library.\r\n\r\n```google-api-services-drive``` version looks like this: ```v3-rev105-1.23.0```, and there is no clear changelog.  There is a number of different `rev` suffixes for the same version number, like `v3-rev116-1.23.0`, `v3-rev135-1.23.0`, etc. It looks like it is built weekly with an increasing revision number.\r\n\r\nThe question is: How are client and services versions compatible? Is it safe to assume, that any service with version `v3-revXXX-1.23.0` is compatible with client `1.23.0` , and any api-service with version `v3-revYYYYMMDD-1.32.1` is compatible with api-client `1.32.1` ?","title":"Version compatibility between google-api-client and google-api-services","body":"<p>There is a project which depends on <code>google-api-client</code> and <code>google-api-services-drive</code>.</p>\n<p><code>google-api-client</code> verion looks like this: <code>1.23.0</code>, and there is a changelog on github for this library.</p>\n<p><code>google-api-services-drive</code> version looks like this: <code>v3-rev105-1.23.0</code>, and there is no clear changelog.  There is a number of different <code>rev</code> suffixes for the same version number, like <code>v3-rev116-1.23.0</code>, <code>v3-rev135-1.23.0</code>, etc. It looks like it is built weekly with an increasing revision number.</p>\n<p>The question is: How are client and services versions compatible? Is it safe to assume, that any service with version <code>v3-revXXX-1.23.0</code> is compatible with client <code>1.23.0</code> , and any api-service with version <code>v3-revYYYYMMDD-1.32.1</code> is compatible with api-client <code>1.32.1</code> ?</p>\n"},{"tags":["java","kotlin","iso8583","j8583"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694027079,"post_id":77054308,"comment_id":135838803,"body_markdown":"byte-wise and with `0x0F`?! (inspired by your username)","body":"byte-wise and with <code>0x0F</code>?! (inspired by your username)"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1694034086,"post_id":77054308,"comment_id":135839926,"body_markdown":"BCD text to bytes, is the same as hex text to bytes, two characters &quot;60&quot; becoming byte 0x60. So I would have expected to see `hexToBytes()`. Java 17 has a standard conversion, but see the entire https://stackoverflow.com/a/140861/984823","body":"BCD text to bytes, is the same as hex text to bytes, two characters &quot;60&quot; becoming byte 0x60. So I would have expected to see <code>hexToBytes()</code>. Java 17 has a standard conversion, but see the entire <a href=\"https://stackoverflow.com/a/140861/984823\">stackoverflow.com/a/140861/984823</a>"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1694045235,"post_id":77054308,"comment_id":135841105,"body_markdown":"@JoopEggen, ooh so the term for ASCII that is padded with 0 in order to become 2 bytes like HEX is called BCD text?","body":"@JoopEggen, ooh so the term for ASCII that is padded with 0 in order to become 2 bytes like HEX is called BCD text?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1694084135,"post_id":77054308,"comment_id":135846009,"body_markdown":"In BCD every digit 0-9 is stored as 4 bits in a 8 bits byte half. In hexadecimal every digit 0-9A-F is stored as 4 bits in a byte half too. So a byte 0x69 has two digits &quot;69&quot;.","body":"In BCD every digit 0-9 is stored as 4 bits in a 8 bits byte half. In hexadecimal every digit 0-9A-F is stored as 4 bits in a byte half too. So a byte 0x69 has two digits &quot;69&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694033683,"creation_date":1694032043,"answer_id":77055102,"question_id":77054308,"body_markdown":"You probably need [`isoRequest.setBinaryIsoHeader`](https://javadoc.io/doc/net.sf.j8583/j8583/latest/com/solab/iso8583/IsoMessage.html)\r\n\r\ne.g. (code in java):\r\n\r\n```java\r\nisoRequest.setBinaryIsoHeader(new byte[] {0x60, 0x03, 0x00, 0x00, 0x00});\r\n```\r\n\r\nThe string version sets the ASCII representation of the string characters.\r\n\r\nYou can also get the byte array from a hex string in kotlin using this answer: https://stackoverflow.com/a/76830156/3444205","title":"J8583 - Set Header in BCD","body":"<p>You probably need <a href=\"https://javadoc.io/doc/net.sf.j8583/j8583/latest/com/solab/iso8583/IsoMessage.html\" rel=\"nofollow noreferrer\"><code>isoRequest.setBinaryIsoHeader</code></a></p>\n<p>e.g. (code in java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>isoRequest.setBinaryIsoHeader(new byte[] {0x60, 0x03, 0x00, 0x00, 0x00});\n</code></pre>\n<p>The string version sets the ASCII representation of the string characters.</p>\n<p>You can also get the byte array from a hex string in kotlin using this answer: <a href=\"https://stackoverflow.com/a/76830156/3444205\">https://stackoverflow.com/a/76830156/3444205</a></p>\n"}],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77055102,"answer_count":1,"score":0,"last_activity_date":1694033683,"creation_date":1694023562,"question_id":77054308,"body_markdown":"How to make header in BCD rather than HEX?\r\n\r\n    val isoRequest: IsoMessage = msgFactory.newMessage(0x800)\r\n    isoRequest.isoHeader = &quot;6003000000&quot;\r\n    \r\n    log(isoRequest.writeData().bytesToHex())\r\n\r\nCurrently the above code will generate\r\n\r\n    363030333030303030300800\r\n\r\nWhat we need is something like this\r\n\r\n    60030000000800","title":"J8583 - Set Header in BCD","body":"<p>How to make header in BCD rather than HEX?</p>\n<pre><code>val isoRequest: IsoMessage = msgFactory.newMessage(0x800)\nisoRequest.isoHeader = &quot;6003000000&quot;\n\nlog(isoRequest.writeData().bytesToHex())\n</code></pre>\n<p>Currently the above code will generate</p>\n<pre><code>363030333030303030300800\n</code></pre>\n<p>What we need is something like this</p>\n<pre><code>60030000000800\n</code></pre>\n"},{"tags":["java","redirect","spring-security","oauth-2.0","keycloak"],"comments":[{"owner":{"account_id":29288272,"reputation":29,"user_id":22439310,"display_name":"MentalBoolean"},"score":0,"creation_date":1694008316,"post_id":77052524,"comment_id":135834838,"body_markdown":"Does this answer your question? [Redirect to original URL after successful authentication in Spring Security](https://stackoverflow.com/questions/71176804/redirect-to-original-url-after-successful-authentication-in-spring-security)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71176804/redirect-to-original-url-after-successful-authentication-in-spring-security\">Redirect to original URL after successful authentication in Spring Security</a>"},{"owner":{"account_id":29379714,"reputation":21,"user_id":22510504,"display_name":"Chshaem"},"score":0,"creation_date":1694009494,"post_id":77052524,"comment_id":135835151,"body_markdown":"No, it&#39;s the other way around a decision on how to return to where you switched to authorization from. And if I have authorization from http://localhost:8080/api, then I want to return to http://localhost:8080. My authorization goes along the path /api/oauth2/login, so oauth2 returns to /api . And I need without him","body":"No, it&#39;s the other way around a decision on how to return to where you switched to authorization from. And if I have authorization from <a href=\"http://localhost:8080/api\" rel=\"nofollow noreferrer\">localhost:8080/api</a>, then I want to return to <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a>. My authorization goes along the path /api/oauth2/login, so oauth2 returns to /api . And I need without him"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1694033034,"post_id":77052524,"comment_id":135839774,"body_markdown":"*At the frontend, this causes errors, how can I remove the context path /api from the redirect after authorization?* Why is that a problem. Your application is under `/api`. There is nothing under `/`. You should not redirect to an URL outside your application.","body":"<i>At the frontend, this causes errors, how can I remove the context path /api from the redirect after authorization?</i> Why is that a problem. Your application is under <code>&#47;api</code>. There is nothing under <code>&#47;</code>. You should not redirect to an URL outside your application."},{"owner":{"account_id":29379714,"reputation":21,"user_id":22510504,"display_name":"Chshaem"},"score":0,"creation_date":1694153952,"post_id":77052524,"comment_id":135856477,"body_markdown":"Yes, but on the project before me, it happened that the frontend is located under /, and calls are sent under /api, any display is still under /, they definitely won’t change, especially now there is no front-dev on the project. Therefore, everything breaks down if you remove the context path or do not remove it, but continue to return it by /api.","body":"Yes, but on the project before me, it happened that the frontend is located under /, and calls are sent under /api, any display is still under /, they definitely won’t change, especially now there is no front-dev on the project. Therefore, everything breaks down if you remove the context path or do not remove it, but continue to return it by /api."}],"owner":{"account_id":29379714,"reputation":21,"user_id":22510504,"display_name":"Chshaem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694033305,"creation_date":1694007955,"question_id":77052524,"body_markdown":"In my application, I have a context path `/api` and authorization with a path `/api/login/oauth2/code/keycloak` through a Keyloak. \r\n\r\nAfter authorization, there is a redirect along the path `http://localhost:8080/api`. At the frontend, this causes errors, how can I remove the context path `/api` from the redirect after authorization?\r\n\r\nHere are my settings. I tried to change the redirect path in the `oauth2Login`, the authorization endpoint, but this does not help. It only helped to put the URL after successful authorization in `defaultSuccessUrl`:\r\n\r\n```java\r\n.oauth2Login(login -&gt; login.defaultSuccessUrl(&quot;http://localhost:8080/)`\r\n```\r\n\r\nbut it always sends to the same page, that is, it is not dynamic, it will not return back to the page from which they switched to authorization     \r\n\r\n```java\r\n  http\r\n      .csrf().disable()\r\n      .authorizeHttpRequests()\r\n          .requestMatchers(matchers).permitAll()\r\n          .anyRequest().authenticated()\r\n          .and()\r\n      .httpBasic().disable()\r\n      .anonymous().disable()\r\n      .oauth2Login()\r\n          .and()\r\n      .logout(logout -&gt; logout\r\n                        .logoutSuccessHandler(oidcLogoutSuccessHandler()))\r\n      .oauth2ResourceServer()\r\n          .jwt();\r\n  return http.build();\r\n```\r\n\r\n```\r\nspring.security.oauth2.client.registration.keycloak.client-id=myClientId\r\nspring.security.oauth2.client.registration.keycloak.client-secret=myClientSecret\r\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/realms/master\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/realms/master\r\nspring.security.oauth2.client.registration.keycloak.scope=openid\r\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\r\n```\r\n\r\nIf I have authorization from `http://localhost:8080/api`, then I want to return to `http://localhost:8080`, if `http://localhost:8080/somePage`, then to `http://localhost:8080/somePage`, but my authorization goes along the path `/api/oauth2/login` from default OAuth2 login settings, so OAuth2 returns to `/api`. And I need without it.","title":"How to remove context path from redirect uri after oauth2 authorization","body":"<p>In my application, I have a context path <code>/api</code> and authorization with a path <code>/api/login/oauth2/code/keycloak</code> through a Keyloak.</p>\n<p>After authorization, there is a redirect along the path <code>http://localhost:8080/api</code>. At the frontend, this causes errors, how can I remove the context path <code>/api</code> from the redirect after authorization?</p>\n<p>Here are my settings. I tried to change the redirect path in the <code>oauth2Login</code>, the authorization endpoint, but this does not help. It only helped to put the URL after successful authorization in <code>defaultSuccessUrl</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.oauth2Login(login -&gt; login.defaultSuccessUrl(&quot;http://localhost:8080/)`\n</code></pre>\n<p>but it always sends to the same page, that is, it is not dynamic, it will not return back to the page from which they switched to authorization</p>\n<pre class=\"lang-java prettyprint-override\"><code>  http\n      .csrf().disable()\n      .authorizeHttpRequests()\n          .requestMatchers(matchers).permitAll()\n          .anyRequest().authenticated()\n          .and()\n      .httpBasic().disable()\n      .anonymous().disable()\n      .oauth2Login()\n          .and()\n      .logout(logout -&gt; logout\n                        .logoutSuccessHandler(oidcLogoutSuccessHandler()))\n      .oauth2ResourceServer()\n          .jwt();\n  return http.build();\n</code></pre>\n<pre><code>spring.security.oauth2.client.registration.keycloak.client-id=myClientId\nspring.security.oauth2.client.registration.keycloak.client-secret=myClientSecret\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/realms/master\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/realms/master\nspring.security.oauth2.client.registration.keycloak.scope=openid\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\n</code></pre>\n<p>If I have authorization from <code>http://localhost:8080/api</code>, then I want to return to <code>http://localhost:8080</code>, if <code>http://localhost:8080/somePage</code>, then to <code>http://localhost:8080/somePage</code>, but my authorization goes along the path <code>/api/oauth2/login</code> from default OAuth2 login settings, so OAuth2 returns to <code>/api</code>. And I need without it.</p>\n"},{"tags":["java","hibernate","tomcat","jakarta-ee"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1572822207,"post_id":58684525,"comment_id":103669911,"body_markdown":"By the way, *Java EE* is now known as *Jakarta EE* after having been donated by Oracle to the Eclipse Foundation. The handover is still in transition. But you can find the latest Javadoc for the various APIs at http://www.Jakarta.ee/","body":"By the way, <i>Java EE</i> is now known as <i>Jakarta EE</i> after having been donated by Oracle to the Eclipse Foundation. The handover is still in transition. But you can find the latest Javadoc for the various APIs at <a href=\"http://www.Jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta.ee</a>"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1572815287,"creation_date":1572815287,"answer_id":58684647,"question_id":58684525,"body_markdown":"You need the servlet-api jar file when compiling your code, because that&#39;s where e.g. `HttpServletRequest` is. You don&#39;t need to include that jar with your application, because it is provided already by the Servlet Container you deploy your war file to, e.g. Tomcat.\r\n\r\nWith Tomcat, the *implementation* of the various servlet classes are in `catalina.jar`, at least for Tomcat 9, e.g. `ApplicationHttpRequest` is the class implementing `HttpServletRequest`. You don&#39;t need this to compile your code.","title":"Java EE Specification vs Implementation","body":"<p>You need the servlet-api jar file when compiling your code, because that's where e.g. <code>HttpServletRequest</code> is. You don't need to include that jar with your application, because it is provided already by the Servlet Container you deploy your war file to, e.g. Tomcat.</p>\n\n<p>With Tomcat, the <em>implementation</em> of the various servlet classes are in <code>catalina.jar</code>, at least for Tomcat 9, e.g. <code>ApplicationHttpRequest</code> is the class implementing <code>HttpServletRequest</code>. You don't need this to compile your code.</p>\n"},{"tags":[],"owner":{"account_id":39549,"reputation":1408,"user_id":114139,"accept_rate":100,"display_name":"Michael Zilbermann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694033076,"creation_date":1572816040,"answer_id":58684728,"question_id":58684525,"body_markdown":"To be accurate, Tomcat is not a fully fledged Java EE container, it only handles part of the Java EE spec (mainly servlet, jsp, jndi and a few others).\r\n\r\nAnd as Andreas wrote, you need `serlvet-api.jar` to compile your code (otherwise `HttpSerlvetRequest` will miss). But as Tomcat already provides it (as an interface) as well as an actual implementation, you should add it as a &quot;provided&quot; dependency in your maven file.","title":"Java EE Specification vs Implementation","body":"<p>To be accurate, Tomcat is not a fully fledged Java EE container, it only handles part of the Java EE spec (mainly servlet, jsp, jndi and a few others).</p>\n<p>And as Andreas wrote, you need <code>serlvet-api.jar</code> to compile your code (otherwise <code>HttpSerlvetRequest</code> will miss). But as Tomcat already provides it (as an interface) as well as an actual implementation, you should add it as a &quot;provided&quot; dependency in your maven file.</p>\n"}],"owner":{"account_id":17024957,"reputation":55,"user_id":12316464,"display_name":"poolD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58684647,"answer_count":2,"score":4,"last_activity_date":1694033076,"creation_date":1572814316,"question_id":58684525,"body_markdown":"I have recently started on Java EE and having a tough time understanding it. I have read some answers here on SO, but I still feel like there are some gaps in my understanding. Basically, Java EE is a specification and application servers like TOMCAT, Glassfish etc., have the concrete implementations. Also, anyone can provide implementation for EE.\r\n\r\nSo, I have downloaded `javax.sevlet-api-4.0.1-sources.jar` from Maven repo and I can see that they are just Interfaces and I assume we just use them to build the project?\r\n\r\nIn tomcat lib folder there is a `servlet-api.jar`. Is this the tomcat implementation of Servlet? And if it is, then is it possible to replace it with another servlet version implementation?\r\n\r\nNow, Hibernate is the implementation of Persistence API. If I want to use Hibernate with Tomcat. I just need to add the Hibernate related jars to my application and can use them for both build and run? Without actually getting the contract classes.\r\n","title":"Java EE Specification vs Implementation","body":"<p>I have recently started on Java EE and having a tough time understanding it. I have read some answers here on SO, but I still feel like there are some gaps in my understanding. Basically, Java EE is a specification and application servers like TOMCAT, Glassfish etc., have the concrete implementations. Also, anyone can provide implementation for EE.</p>\n<p>So, I have downloaded <code>javax.sevlet-api-4.0.1-sources.jar</code> from Maven repo and I can see that they are just Interfaces and I assume we just use them to build the project?</p>\n<p>In tomcat lib folder there is a <code>servlet-api.jar</code>. Is this the tomcat implementation of Servlet? And if it is, then is it possible to replace it with another servlet version implementation?</p>\n<p>Now, Hibernate is the implementation of Persistence API. If I want to use Hibernate with Tomcat. I just need to add the Hibernate related jars to my application and can use them for both build and run? Without actually getting the contract classes.</p>\n"},{"tags":["java","android","kotlin","view","annotations"],"answers":[{"tags":[],"owner":{"account_id":4448774,"reputation":3273,"user_id":3621353,"accept_rate":50,"display_name":"Kiryl Tkach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694027182,"creation_date":1694023679,"answer_id":77054316,"question_id":77054214,"body_markdown":"Knowing that android.view.View.Visibility is marked with @hide and cannot be used in code probably the only solution is to create custom enum like \r\n\r\n    enum class Visibility(val value: Int) {\r\n        VISIBLE(View.VISIBLE), \r\n        INVISIBLE(View.INVISIBLE), \r\n        GONE(View.GONE)\r\n    }\r\n\r\nAnd use it in State class\r\n\r\n    data class State(val buttonVisibility: Visibility)","title":"Is there annotation for mark a visibility variable in android?","body":"<p>Knowing that android.view.View.Visibility is marked with @hide and cannot be used in code probably the only solution is to create custom enum like</p>\n<pre><code>enum class Visibility(val value: Int) {\n    VISIBLE(View.VISIBLE), \n    INVISIBLE(View.INVISIBLE), \n    GONE(View.GONE)\n}\n</code></pre>\n<p>And use it in State class</p>\n<pre><code>data class State(val buttonVisibility: Visibility)\n</code></pre>\n"}],"owner":{"account_id":28341094,"reputation":23,"user_id":21674811,"display_name":"Илья Жиленков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694032642,"creation_date":1694022535,"question_id":77054214,"body_markdown":"`View.VISIBLE` and similar static visibility variables have data type as `int`, and me need forbid make values of this variables as &quot;0&quot;, &quot;1&quot; etc. This variable should take only `View.VISIBLE` and similar values. For example:\r\n\r\n```\r\n    data class State(\r\n        @SomeAnnotation val buttonVisibility: Int  \r\n    )\r\n\r\n    val state = State(0) // Compilation error\r\n    val state = State(View.GONE) // Okay\r\n```\r\n","title":"Is there annotation for mark a visibility variable in android?","body":"<p><code>View.VISIBLE</code> and similar static visibility variables have data type as <code>int</code>, and me need forbid make values of this variables as &quot;0&quot;, &quot;1&quot; etc. This variable should take only <code>View.VISIBLE</code> and similar values. For example:</p>\n<pre><code>    data class State(\n        @SomeAnnotation val buttonVisibility: Int  \n    )\n\n    val state = State(0) // Compilation error\n    val state = State(View.GONE) // Okay\n</code></pre>\n"},{"tags":["java","data-structures","hashmap"],"comments":[{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":5,"creation_date":1694018037,"post_id":77053810,"comment_id":135837098,"body_markdown":"`new ArrayList&lt;&gt;(int n)` does not work the way you think it does. https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(int)","body":"<code>new ArrayList&lt;&gt;(int n)</code> does not work the way you think it does. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1694018277,"post_id":77053810,"comment_id":135837135,"body_markdown":"`new ArrayList&lt;&gt;(n.val)` creates an *empty* `ArrayList` with an initial capacity of `n.val`. Not an `ArrayList` containing `n.val`. [Documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(int)). Try `new ArrayList&lt;&gt;(List.of(n.val))`.","body":"<code>new ArrayList&lt;&gt;(n.val)</code> creates an <i>empty</i> <code>ArrayList</code> with an initial capacity of <code>n.val</code>. Not an <code>ArrayList</code> containing <code>n.val</code>. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(int)\" rel=\"nofollow noreferrer\">Documentation</a>. Try <code>new ArrayList&lt;&gt;(List.of(n.val))</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1694018450,"post_id":77053810,"comment_id":135837170,"body_markdown":"It’s an interesting question. You may want to train creating a [mre], though.","body":"It’s an interesting question. You may want to train creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, though."},{"owner":{"account_id":11149567,"reputation":83,"user_id":8183261,"display_name":"Bernadette"},"score":0,"creation_date":1694018975,"post_id":77053810,"comment_id":135837284,"body_markdown":"@OleV.V. Thanks, using &quot;List.of(n.val)&quot; fixed the first approach. Still need to step through it but its is making more sense now.","body":"@OleV.V. Thanks, using &quot;List.of(n.val)&quot; fixed the first approach. Still need to step through it but its is making more sense now."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694018776,"creation_date":1694018776,"answer_id":77053896,"question_id":77053810,"body_markdown":"`new ArrayList&lt;Integer&gt;(5)` creates a new __empty__ list with initial capacity 5, which isn&#39;t at all what you want. What you wanted was:\r\n\r\n```\r\nvar list = new ArrayList&lt;Integer&gt;();\r\nlist.add(5);\r\n```\r\n\r\nOr possibly if you want to one-liner it `new ArrayList&lt;Integer&gt;(List.of(5))`.\r\n\r\nMore generally this concept (&#39;map a key to a list of values; create the list upon inserting the first value and add to an existing list otherwise&#39;) comes a ton, and there&#39;s a nicer way to do it:\r\n\r\n```\r\nMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nmap.computeIfAbsent(col, k -&gt; new ArrayList&lt;Integer&gt;()).add(n.val);\r\n```\r\n\r\nAs the name suggests, `computeIfAbsent` will run the provided lambda (the stuff after the arrow) __only__ if key `col` is absent (is not in the map at all). In this case, it runs the code, and sets it as the value to go with key `col`. The method call itself (`computeIfAbsent`) returns the generated value if that happened, or the existing value if that happened. Either way, that&#39;s the list you want to add to. Hence, one line, no need for `if` shenanigans.","title":"Why is my hashmap clearing some of its values?","body":"<p><code>new ArrayList&lt;Integer&gt;(5)</code> creates a new <strong>empty</strong> list with initial capacity 5, which isn't at all what you want. What you wanted was:</p>\n<pre><code>var list = new ArrayList&lt;Integer&gt;();\nlist.add(5);\n</code></pre>\n<p>Or possibly if you want to one-liner it <code>new ArrayList&lt;Integer&gt;(List.of(5))</code>.</p>\n<p>More generally this concept ('map a key to a list of values; create the list upon inserting the first value and add to an existing list otherwise') comes a ton, and there's a nicer way to do it:</p>\n<pre><code>Map&lt;Integer, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n\nmap.computeIfAbsent(col, k -&gt; new ArrayList&lt;Integer&gt;()).add(n.val);\n</code></pre>\n<p>As the name suggests, <code>computeIfAbsent</code> will run the provided lambda (the stuff after the arrow) <strong>only</strong> if key <code>col</code> is absent (is not in the map at all). In this case, it runs the code, and sets it as the value to go with key <code>col</code>. The method call itself (<code>computeIfAbsent</code>) returns the generated value if that happened, or the existing value if that happened. Either way, that's the list you want to add to. Hence, one line, no need for <code>if</code> shenanigans.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694032341,"creation_date":1694030653,"answer_id":77054962,"question_id":77053810,"body_markdown":"_&quot;... So I have this block that works, but I don&#39;t understand why the first one doesn&#39;t ...&quot;_\r\n\r\nYou&#39;ve misinterpreted the _[ArrayList](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html#constructor-summary)_ constructor parameter.\r\n\r\nHere is an excerpt of the _JavaDoc_.\r\n\r\n&gt; _public ArrayList(int initialCapacity)_\r\n&gt;\r\n&gt; _Constructs an empty list with the specified initial capacity._\r\n&gt;\r\n&gt; _**Parameters**:_  \r\n&gt; _initialCapacity - the initial capacity of the list_\r\n\r\nThus, supplying an _int_ will not append the value.\r\n\r\nA quick solution to this is to wrap the value in a _[List#of](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E))_ call.\r\n\r\n```java\r\nArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;(List.of(n.val));\r\n```\r\n\r\nYou can also use a class initializer, which I&#39;m failing to find a resource for.\r\n\r\n```java\r\nArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;() {{ add(n.val); }};\r\n```","title":"Why is my hashmap clearing some of its values?","body":"<p><em>&quot;... So I have this block that works, but I don't understand why the first one doesn't ...&quot;</em></p>\n<p>You've misinterpreted the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ArrayList.html#constructor-summary\" rel=\"nofollow noreferrer\">ArrayList</a></em> constructor parameter.</p>\n<p>Here is an excerpt of the <em>JavaDoc</em>.</p>\n<blockquote>\n<p><em>public ArrayList(int initialCapacity)</em></p>\n<p><em>Constructs an empty list with the specified initial capacity.</em></p>\n<p><em><strong>Parameters</strong>:</em><br />\n<em>initialCapacity - the initial capacity of the list</em></p>\n</blockquote>\n<p>Thus, supplying an <em>int</em> will not append the value.</p>\n<p>A quick solution to this is to wrap the value in a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E)\" rel=\"nofollow noreferrer\">List#of</a></em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;(List.of(n.val));\n</code></pre>\n<p>You can also use a class initializer, which I'm failing to find a resource for.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;() {{ add(n.val); }};\n</code></pre>\n"}],"owner":{"account_id":11149567,"reputation":83,"user_id":8183261,"display_name":"Bernadette"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694032341,"creation_date":1694017944,"question_id":77053810,"body_markdown":"I am trying to create a map for a tree. It maps the column number (horizontal depth) to the list of nodes with that horizontal depth.\r\n\r\nWhen I use the below code, somehow the map gets overwritten by the else block.\r\n\r\nThe tree I am testing on:\r\nInput: `root = [3,9,20,null,null,15,7]`, from https://leetcode.com/problems/binary-tree-vertical-order-traversal/\r\n\r\n```java\r\nMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\nif (!map.containsKey(col)) {\r\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;(n.val);\r\n    map.put(col, array); \r\n} else {\r\n    map.get(col).add(n.val);\r\n}\r\n```\r\n\r\nOutput: ```[[],[15],[],[]]```\r\nThe other lists on the map were cleared...\r\n\r\nWhen I use this block, the map is built as expected:\r\n```java\r\nMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\nif (!map.containsKey(col)) {\r\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;();\r\n    map.put(col, array); \r\n}\r\nmap.get(col).add(n.val);\r\n```\r\nOutput: [[9],[3,15],[20],[7]]\r\n\r\n\r\nSo I have this block that works, but I don&#39;t understand why the first one doesn&#39;t","title":"Why is my hashmap clearing some of its values?","body":"<p>I am trying to create a map for a tree. It maps the column number (horizontal depth) to the list of nodes with that horizontal depth.</p>\n<p>When I use the below code, somehow the map gets overwritten by the else block.</p>\n<p>The tree I am testing on:\nInput: <code>root = [3,9,20,null,null,15,7]</code>, from <a href=\"https://leetcode.com/problems/binary-tree-vertical-order-traversal/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/binary-tree-vertical-order-traversal/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\nif (!map.containsKey(col)) {\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;(n.val);\n    map.put(col, array); \n} else {\n    map.get(col).add(n.val);\n}\n</code></pre>\n<p>Output: <code>[[],[15],[],[]]</code>\nThe other lists on the map were cleared...</p>\n<p>When I use this block, the map is built as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, ArrayList&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\nif (!map.containsKey(col)) {\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;();\n    map.put(col, array); \n}\nmap.get(col).add(n.val);\n</code></pre>\n<p>Output: [[9],[3,15],[20],[7]]</p>\n<p>So I have this block that works, but I don't understand why the first one doesn't</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":0,"creation_date":1656306513,"post_id":72767076,"comment_id":128530163,"body_markdown":"Make sure you [have permissions to actually access the bucket and create resigned URLs](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html#who-presigned-url)","body":"Make sure you <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html#who-presigned-url\" rel=\"nofollow noreferrer\">have permissions to actually access the bucket and create resigned URLs</a>"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1656417320,"post_id":72767076,"comment_id":128562324,"body_markdown":"@wkl Thank you for helping. It was actually permissions issue.","body":"@wkl Thank you for helping. It was actually permissions issue."}],"answers":[{"tags":[],"owner":{"account_id":25505095,"reputation":11,"user_id":19297691,"display_name":"Faisal Iqbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694032181,"creation_date":1694032181,"answer_id":77055118,"question_id":72767076,"body_markdown":"I guess the issue was resolved. Posting a solution for anyone&#39;s future references.\r\n\r\nThe issue that I can see with this is while creating S3Presigner instance you are not actually providing the credentials.\r\n\r\n    presigner = S3Presigner.create();\r\n\r\nIf you create presigner instance using this approach, in reality what it actually do is go through all the possible ways of creating presigner instance. For example one of the approach would be to create using IAM role, one would be get the credentials from the config and many more. But it can fail if these are not done correctly. For a better approach what we can do is to create the presigner instance similar to creating S3Client instance.\r\n\r\n    S3Presigner.builder().region(Region.of(BUCKET_REGION))\r\n\t\t\t\t.credentialsProvider(awsCredentialProvider).build();\r\n\r\nAnd the way to create awsCredentialProvider is\r\n\r\n    AwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(SECRET_KEY, ACCESS_KEY);\r\n\t\treturn StaticCredentialsProvider.create(awsBasicCredentials);\r\n\r\nCollectively:\r\n\r\n```\r\nprivate AwsCredentialsProvider getAwsCredentialProvider() {\r\n\tAwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(SECRET_KEY, ACCESS_KEY);\r\n\treturn StaticCredentialsProvider.create(awsBasicCredentials);\r\n}\r\n\r\npublic S3Presigner buildS3PresignerInstance(AwsCredentialsProvider awsCredentialProvider) {\r\n\treturn S3Presigner.builder().region(Region.of(BUCKET_REGION))\r\n                      .credentialsProvider(awsCredentialProvider).build();\r\n}\r\n```","title":"AWS S3 Presigned Url generated shows access denied when using AWS SDK version 2","body":"<p>I guess the issue was resolved. Posting a solution for anyone's future references.</p>\n<p>The issue that I can see with this is while creating S3Presigner instance you are not actually providing the credentials.</p>\n<pre><code>presigner = S3Presigner.create();\n</code></pre>\n<p>If you create presigner instance using this approach, in reality what it actually do is go through all the possible ways of creating presigner instance. For example one of the approach would be to create using IAM role, one would be get the credentials from the config and many more. But it can fail if these are not done correctly. For a better approach what we can do is to create the presigner instance similar to creating S3Client instance.</p>\n<pre><code>S3Presigner.builder().region(Region.of(BUCKET_REGION))\n            .credentialsProvider(awsCredentialProvider).build();\n</code></pre>\n<p>And the way to create awsCredentialProvider is</p>\n<pre><code>AwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(SECRET_KEY, ACCESS_KEY);\n    return StaticCredentialsProvider.create(awsBasicCredentials);\n</code></pre>\n<p>Collectively:</p>\n<pre><code>private AwsCredentialsProvider getAwsCredentialProvider() {\n    AwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(SECRET_KEY, ACCESS_KEY);\n    return StaticCredentialsProvider.create(awsBasicCredentials);\n}\n\npublic S3Presigner buildS3PresignerInstance(AwsCredentialsProvider awsCredentialProvider) {\n    return S3Presigner.builder().region(Region.of(BUCKET_REGION))\n                      .credentialsProvider(awsCredentialProvider).build();\n}\n</code></pre>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694032181,"creation_date":1656304891,"question_id":72767076,"body_markdown":"I&#39;m trying to generate presigned url to get access to objects in my bucket and have used AWS SDK version 2 for it. I&#39;ve followed the process as mentioned in the [aws docs][1] .\r\n\r\nI&#39;ve used the given dependency:\r\n```xml\r\n         &lt;dependency&gt;\r\n            &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;version&gt;2.17.136&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nMy source code to generate the presigned URL is given below.\r\n\r\n```java\r\n     public String getTempUrl(String keyName, Long minutes) {\r\n        try {\r\n            S3Presigner s3Presigner = connection.getS3Presigner();\r\n\r\n            GetObjectRequest getObjectRequest =\r\n                GetObjectRequest.builder()\r\n                                .bucket(s3BucketName)\r\n                                .key(keyName)\r\n                                .build();\r\n\r\n            GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\r\n                                                                                     .signatureDuration(\r\n                                                                                         Duration.ofMinutes(minutes))\r\n                                                                                     .getObjectRequest(getObjectRequest)\r\n                                                                                     .build();\r\n            PresignedGetObjectRequest presignedGetObjectRequest =\r\n                s3Presigner.presignGetObject(getObjectPresignRequest);\r\n\r\n            return presignedGetObjectRequest.url().toExternalForm();\r\n        } catch (Exception ex) {\r\n            log.warn(&quot;Error downloading the document URL: {}&quot;, ex);\r\n            throw new InternalServerError(&quot;Error downloading the document URL&quot;, ex);\r\n        }\r\n```\r\n\r\n```java\r\npublic class ConnectionProvider {\r\n\r\n    private static S3Client client;\r\n    private static S3Presigner presigner;\r\n\r\n    @Inject\r\n    @Property(&quot;storage.aws.s3.access.key&quot;)\r\n    private String s3AccessKey;\r\n\r\n    @Inject\r\n    @Property(&quot;storage.aws.s3.secret.key&quot;)\r\n    private String s3SecretKey;\r\n\r\n    @Inject\r\n    @Property(&quot;storage.aws.s3.region&quot;)\r\n    protected String region;\r\n\r\n    public S3Presigner getS3Presigner() {\r\n        if (presigner == null) {\r\n\r\n            if (isNullOrEmpty(region)) {\r\n                presigner = S3Presigner.create();\r\n            }\r\n\r\n            presigner = S3Presigner.builder()\r\n                                   .region(Region.of(region))\r\n                                   .build();\r\n            return presigner;\r\n        }\r\n\r\n        return presigner;\r\n    }\r\n\r\n\r\n    public S3Client getS3Client() {\r\n        if (client == null) {\r\n\r\n            if (isNullOrEmpty(s3AccessKey) || isNullOrEmpty(s3SecretKey) || isNullOrEmpty(region)) {\r\n                client = S3Client.create();\r\n                return client;\r\n            }\r\n\r\n            AwsCredentialsProvider credential = StaticCredentialsProvider\r\n                .create(AwsBasicCredentials.create(s3AccessKey, s3SecretKey));\r\n\r\n\r\n            client = S3Client.builder()\r\n                             .region(Region.of(region))\r\n                             .credentialsProvider(credential)\r\n                             .build();\r\n\r\n            return client;\r\n        }\r\n\r\n        return client;\r\n    }\r\n}\r\n```\r\n\r\nCode to upload to s3 bucket:\r\n```java\r\n public Document upload(Document document) {\r\n        try {\r\n\r\n            S3Client s3Client = connection.getS3Client();\r\n            S3Waiter s3Waiter = s3Client.waiter();\r\n\r\n\r\n            PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n                                                             .bucket(s3BucketName)\r\n                                                             .key(document.getKey())\r\n                                                             .acl(ObjectCannedACL.PRIVATE)\r\n                                                             .contentType(document.getContentType())\r\n                                                             .build();\r\n\r\n            log.info(&quot;Uploading the document with key : [{}]&quot;, document.getKey());\r\n\r\n            s3Client.putObject(objectRequest, RequestBody.fromBytes(document.getBase64EncodedFile()));\r\n\r\n            HeadObjectRequest headObjectRequest =\r\n                HeadObjectRequest.builder().bucket(s3BucketName).key(document.getKey()).build();\r\n\r\n            s3Waiter.waitUntilObjectExists(headObjectRequest);\r\n            log.info((&quot;Document with key :[{}] uploaded successfully.&quot;), document.getKey());\r\n            return document;\r\n        } catch (Exception ex) {\r\n            log.warn(&quot;Error uploading the document: {}&quot;, ex);\r\n            throw new InternalServerError(&quot;Error uploading the document&quot;, ex);\r\n        }\r\n    }\r\n```\r\nThe upload portion is working fine and it&#39;s also generating the presigned url. But when trying to access the url, I&#39;m getting access denied error.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen I used [AWS SDK version 1][3] dependency given below and generated url using it, the url is working fine.\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.245&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI&#39;ve tried taking reference of this :\r\n\r\nhttps://stackoverflow.com/questions/48493657/aws-java-sdk-2-0-create-a-presigned-url-for-a-s3-object\r\n\r\nSo far I&#39;m not able to generate a valid presigned url using the AWS SDK version 2. Can anyone help me with it? \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html\r\n  [2]: https://i.stack.imgur.com/KQiC9.png\r\n  [3]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html","title":"AWS S3 Presigned Url generated shows access denied when using AWS SDK version 2","body":"<p>I'm trying to generate presigned url to get access to objects in my bucket and have used AWS SDK version 2 for it. I've followed the process as mentioned in the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html\" rel=\"nofollow noreferrer\">aws docs</a> .</p>\n<p>I've used the given dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>         &lt;dependency&gt;\n            &lt;artifactId&gt;bom&lt;/artifactId&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;version&gt;2.17.136&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My source code to generate the presigned URL is given below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     public String getTempUrl(String keyName, Long minutes) {\n        try {\n            S3Presigner s3Presigner = connection.getS3Presigner();\n\n            GetObjectRequest getObjectRequest =\n                GetObjectRequest.builder()\n                                .bucket(s3BucketName)\n                                .key(keyName)\n                                .build();\n\n            GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\n                                                                                     .signatureDuration(\n                                                                                         Duration.ofMinutes(minutes))\n                                                                                     .getObjectRequest(getObjectRequest)\n                                                                                     .build();\n            PresignedGetObjectRequest presignedGetObjectRequest =\n                s3Presigner.presignGetObject(getObjectPresignRequest);\n\n            return presignedGetObjectRequest.url().toExternalForm();\n        } catch (Exception ex) {\n            log.warn(&quot;Error downloading the document URL: {}&quot;, ex);\n            throw new InternalServerError(&quot;Error downloading the document URL&quot;, ex);\n        }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConnectionProvider {\n\n    private static S3Client client;\n    private static S3Presigner presigner;\n\n    @Inject\n    @Property(&quot;storage.aws.s3.access.key&quot;)\n    private String s3AccessKey;\n\n    @Inject\n    @Property(&quot;storage.aws.s3.secret.key&quot;)\n    private String s3SecretKey;\n\n    @Inject\n    @Property(&quot;storage.aws.s3.region&quot;)\n    protected String region;\n\n    public S3Presigner getS3Presigner() {\n        if (presigner == null) {\n\n            if (isNullOrEmpty(region)) {\n                presigner = S3Presigner.create();\n            }\n\n            presigner = S3Presigner.builder()\n                                   .region(Region.of(region))\n                                   .build();\n            return presigner;\n        }\n\n        return presigner;\n    }\n\n\n    public S3Client getS3Client() {\n        if (client == null) {\n\n            if (isNullOrEmpty(s3AccessKey) || isNullOrEmpty(s3SecretKey) || isNullOrEmpty(region)) {\n                client = S3Client.create();\n                return client;\n            }\n\n            AwsCredentialsProvider credential = StaticCredentialsProvider\n                .create(AwsBasicCredentials.create(s3AccessKey, s3SecretKey));\n\n\n            client = S3Client.builder()\n                             .region(Region.of(region))\n                             .credentialsProvider(credential)\n                             .build();\n\n            return client;\n        }\n\n        return client;\n    }\n}\n</code></pre>\n<p>Code to upload to s3 bucket:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public Document upload(Document document) {\n        try {\n\n            S3Client s3Client = connection.getS3Client();\n            S3Waiter s3Waiter = s3Client.waiter();\n\n\n            PutObjectRequest objectRequest = PutObjectRequest.builder()\n                                                             .bucket(s3BucketName)\n                                                             .key(document.getKey())\n                                                             .acl(ObjectCannedACL.PRIVATE)\n                                                             .contentType(document.getContentType())\n                                                             .build();\n\n            log.info(&quot;Uploading the document with key : [{}]&quot;, document.getKey());\n\n            s3Client.putObject(objectRequest, RequestBody.fromBytes(document.getBase64EncodedFile()));\n\n            HeadObjectRequest headObjectRequest =\n                HeadObjectRequest.builder().bucket(s3BucketName).key(document.getKey()).build();\n\n            s3Waiter.waitUntilObjectExists(headObjectRequest);\n            log.info((&quot;Document with key :[{}] uploaded successfully.&quot;), document.getKey());\n            return document;\n        } catch (Exception ex) {\n            log.warn(&quot;Error uploading the document: {}&quot;, ex);\n            throw new InternalServerError(&quot;Error uploading the document&quot;, ex);\n        }\n    }\n</code></pre>\n<p>The upload portion is working fine and it's also generating the presigned url. But when trying to access the url, I'm getting access denied error.</p>\n<p><a href=\"https://i.stack.imgur.com/KQiC9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KQiC9.png\" alt=\"enter image description here\" /></a></p>\n<p>When I used <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html\" rel=\"nofollow noreferrer\">AWS SDK version 1</a> dependency given below and generated url using it, the url is working fine.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.245&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I've tried taking reference of this :</p>\n<p><a href=\"https://stackoverflow.com/questions/48493657/aws-java-sdk-2-0-create-a-presigned-url-for-a-s3-object\">AWS Java SDK 2.0 create a presigned URL for a S3 object</a></p>\n<p>So far I'm not able to generate a valid presigned url using the AWS SDK version 2. Can anyone help me with it?</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1546787902,"post_id":54062210,"comment_id":94958877,"body_markdown":"Always when you have a null pointer exception find out what variable is null.  That helps you pinpoint the problem.","body":"Always when you have a null pointer exception find out what variable is null.  That helps you pinpoint the problem."}],"answers":[{"tags":[],"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1546784944,"creation_date":1546783673,"answer_id":54062312,"question_id":54062210,"body_markdown":"Although you have defined the `jdbcUserDAO` bean, you have not wired it into the `UserController` class. This causes a `NullPointerException` because the `jdbcUserDAO` field is `null`, which results in the exception when `jdbcUserDAO.getAllUsers()` is called. To solve this, annotate the `jdbcUserDAO` setter in the `UserController` with `@Autowired`, as in:\r\n\r\n    @RestController\r\n    public class UserController {\r\n    \r\n        private JdbcUserDAO jdbcUserDAO;\r\n    \r\n        public JdbcUserDAO getJdbcUserDAO() {\r\n            return jdbcUserDAO;\r\n        }\r\n    \r\n        @Autowired\r\n        public void setJdbcUserDAO(JdbcUserDAO jdbcUserDAO) {\r\n            this.jdbcUserDAO = jdbcUserDAO;\r\n        }\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        @ResponseBody\r\n        public String welcome() {\r\n            return &quot;Welcome to RestTemplate Example.&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;/users&quot;, method=RequestMethod.GET, produces=MediaType.APPLICATION_JSON_VALUE)\r\n        @ResponseBody   \r\n        public List&lt;User&gt; getAllUsers() {\r\n            System.out.println(&quot;jdbcUserDAO&quot;+jdbcUserDAO);\r\n            List&lt;User&gt; userList = jdbcUserDAO.getAllUsers();\r\n            System.out.println(userList);\r\n            return userList;\r\n        }\r\n    \r\n    }\r\n\r\nThe `@Autowired` annotation tells Spring that a bean that matches the interface of the parameter for the setter (in this case, `JdbcUserDAO`) should be injected into the setter, which results in the `jdbcUserDAO` field being set to your `JdbcUserDAO` bean defined in `application_config.xml`.\r\n\r\nYou could also simplify your `UserController` and annotate the field (removing the getter and setter):\r\n\r\n    @RestController\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private JdbcUserDAO jdbcUserDAO;\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        @ResponseBody\r\n        public String welcome() {\r\n            return &quot;Welcome to RestTemplate Example.&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;/users&quot;, method=RequestMethod.GET, produces=MediaType.APPLICATION_JSON_VALUE)\r\n        @ResponseBody   \r\n        public List&lt;User&gt; getAllUsers() {\r\n            System.out.println(&quot;jdbcUserDAO&quot;+jdbcUserDAO);\r\n            List&lt;User&gt; userList = jdbcUserDAO.getAllUsers();\r\n            System.out.println(userList);\r\n            return userList;\r\n        }\r\n    \r\n    }\r\n\r\nFor more information, see [Guide to Spring @Autowired][1].\r\n\r\n----------\r\n\r\nIt also looks like your `application_config.xml` is not being included in Spring&#39;s application context. To include this XML file, change your `ApplicationConfiguration` class to resemble the following:\r\n\r\n    @ComponentScan(basePackages = {&quot;com.ganeshTrading.riceAppService&quot;})\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ImportResource(&quot;classpath:/path/to/application_config.xml&quot;)\r\n    public class ApplicationConfiguration {\r\n    \r\n    }\r\n\r\nNote that `classpath:/path/to/application_config.xml` is an example and the actual location of your `application_config.xml` file should be used instead.\r\n\r\n  [1]: https://www.baeldung.com/spring-autowire","title":"Servlet.service() for servlet [dispatcher] in context with path [/***] threw exception","body":"<p>Although you have defined the <code>jdbcUserDAO</code> bean, you have not wired it into the <code>UserController</code> class. This causes a <code>NullPointerException</code> because the <code>jdbcUserDAO</code> field is <code>null</code>, which results in the exception when <code>jdbcUserDAO.getAllUsers()</code> is called. To solve this, annotate the <code>jdbcUserDAO</code> setter in the <code>UserController</code> with <code>@Autowired</code>, as in:</p>\n\n<pre><code>@RestController\npublic class UserController {\n\n    private JdbcUserDAO jdbcUserDAO;\n\n    public JdbcUserDAO getJdbcUserDAO() {\n        return jdbcUserDAO;\n    }\n\n    @Autowired\n    public void setJdbcUserDAO(JdbcUserDAO jdbcUserDAO) {\n        this.jdbcUserDAO = jdbcUserDAO;\n    }\n\n    @RequestMapping(\"/\")\n    @ResponseBody\n    public String welcome() {\n        return \"Welcome to RestTemplate Example.\";\n    }\n\n    @RequestMapping(value=\"/users\", method=RequestMethod.GET, produces=MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody   \n    public List&lt;User&gt; getAllUsers() {\n        System.out.println(\"jdbcUserDAO\"+jdbcUserDAO);\n        List&lt;User&gt; userList = jdbcUserDAO.getAllUsers();\n        System.out.println(userList);\n        return userList;\n    }\n\n}\n</code></pre>\n\n<p>The <code>@Autowired</code> annotation tells Spring that a bean that matches the interface of the parameter for the setter (in this case, <code>JdbcUserDAO</code>) should be injected into the setter, which results in the <code>jdbcUserDAO</code> field being set to your <code>JdbcUserDAO</code> bean defined in <code>application_config.xml</code>.</p>\n\n<p>You could also simplify your <code>UserController</code> and annotate the field (removing the getter and setter):</p>\n\n<pre><code>@RestController\npublic class UserController {\n\n    @Autowired\n    private JdbcUserDAO jdbcUserDAO;\n\n    @RequestMapping(\"/\")\n    @ResponseBody\n    public String welcome() {\n        return \"Welcome to RestTemplate Example.\";\n    }\n\n    @RequestMapping(value=\"/users\", method=RequestMethod.GET, produces=MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody   \n    public List&lt;User&gt; getAllUsers() {\n        System.out.println(\"jdbcUserDAO\"+jdbcUserDAO);\n        List&lt;User&gt; userList = jdbcUserDAO.getAllUsers();\n        System.out.println(userList);\n        return userList;\n    }\n\n}\n</code></pre>\n\n<p>For more information, see <a href=\"https://www.baeldung.com/spring-autowire\" rel=\"noreferrer\">Guide to Spring @Autowired</a>.</p>\n\n<hr>\n\n<p>It also looks like your <code>application_config.xml</code> is not being included in Spring's application context. To include this XML file, change your <code>ApplicationConfiguration</code> class to resemble the following:</p>\n\n<pre><code>@ComponentScan(basePackages = {\"com.ganeshTrading.riceAppService\"})\n@Configuration\n@EnableWebMvc\n@ImportResource(\"classpath:/path/to/application_config.xml\")\npublic class ApplicationConfiguration {\n\n}\n</code></pre>\n\n<p>Note that <code>classpath:/path/to/application_config.xml</code> is an example and the actual location of your <code>application_config.xml</code> file should be used instead.</p>\n"},{"tags":[],"owner":{"account_id":17733622,"reputation":11,"user_id":12875553,"display_name":"ozz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694031830,"creation_date":1694031682,"answer_id":77055073,"question_id":54062210,"body_markdown":"This worked for me all I had to do was go to my Controller class and put @Autowired on top of my private StudentInfoService studentInfoService;\r\n\r\nAlso, you can make your instance of the class final instead of putting @Autowired, do private final StudentInfoService studentInfoService;\r\nSO just put final.","title":"Servlet.service() for servlet [dispatcher] in context with path [/***] threw exception","body":"<p>This worked for me all I had to do was go to my Controller class and put @Autowired on top of my private StudentInfoService studentInfoService;</p>\n<p>Also, you can make your instance of the class final instead of putting @Autowired, do private final StudentInfoService studentInfoService;\nSO just put final.</p>\n"}],"owner":{"account_id":6679591,"reputation":233,"user_id":5153230,"display_name":"Nishi Bansal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234418,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":54062312,"answer_count":2,"score":22,"last_activity_date":1694031830,"creation_date":1546783029,"question_id":54062210,"body_markdown":"I am getting below error while creating spring maven rest webservice. When trying to call DAO class with bean name defined in application_config.xml, getting NullPointerException\r\n\r\n    SEVERE: Servlet.service() for servlet [dispatcher] in context with path [/riceAppService] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    java.lang.NullPointerException\r\n    \tat com.ganeshTrading.riceAppService.controller.UserController.getAllUsers(UserController.java:46)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nHere, is my code\r\n\r\n**UserController.java**\r\n\r\n        @RestController\r\n    public class UserController {\r\n    \r\n    \tprivate JdbcUserDAO jdbcUserDAO;\r\n    \r\n    \t\r\n    \tpublic JdbcUserDAO getJdbcUserDAO() {\r\n    \t\treturn jdbcUserDAO;\r\n    \t}\r\n    \r\n    \tpublic void setJdbcUserDAO(JdbcUserDAO jdbcUserDAO) {\r\n    \t\tthis.jdbcUserDAO = jdbcUserDAO;\r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/&quot;)\r\n        @ResponseBody\r\n        public String welcome() {\r\n            return &quot;Welcome to RestTemplate Example.&quot;;\r\n        }\r\n    \t\r\n    \t@RequestMapping(value=&quot;/users&quot;, method=RequestMethod.GET, produces=MediaType.APPLICATION_JSON_VALUE)\r\n    \t@ResponseBody\t\r\n    \tpublic List&lt;User&gt; getAllUsers() {\r\n    \t\tSystem.out.println(&quot;jdbcUserDAO&quot;+jdbcUserDAO);\r\n    \t\tList&lt;User&gt; userList = jdbcUserDAO.getAllUsers();\r\n    \t\tSystem.out.println(userList);\r\n    \t\treturn userList;\r\n    \t}\r\n    \r\n    }\r\n\r\n**UserDAO.java**\r\n\r\n    public interface UserDAO {\r\n    \r\n    \tpublic List&lt;User&gt; getAllUsers();\r\n    }\r\n\r\n**JdbcUserDAO.java**\r\n\r\n    public class JdbcUserDAO implements UserDAO {\r\n    \r\n    \tDataSource dataSource;\r\n    \t\r\n    \t\r\n    \tpublic void setDataSource(DataSource dataSource) {\r\n    \t\tthis.dataSource = dataSource;\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic List&lt;User&gt; getAllUsers() {\r\n    \t\tString sql = &quot;select * from customer&quot;;\r\n    \t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n    \t\tSystem.out.println(&quot;getJdbcTemplate() &quot;+jdbcTemplate);\r\n    \t\tList&lt;User&gt; userList = jdbcTemplate.query(sql, new UserMapper());\r\n    \t\treturn userList;\r\n    \t}\r\n    \r\n    }\r\n\r\n**servlet-context.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n     xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans  \r\n     http://www.springframework.org/schema/beans/spring-beans-4.3.xsd \r\n     http://www.springframework.org/schema/context \r\n     http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n     http://www.springframework.org/schema/mvc \r\n     http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n    \r\n    \r\n    \r\n    &lt;context:annotation-config /&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n    \r\n    &lt;import resource=&quot;classpath:application_config.xml&quot; /&gt; \r\n    &lt;context:component-scan base-package=&quot;com.ganeshTrading.riceAppService&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n**application_config.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    \thttp://www.springframework.org/schema/beans/spring-beans-4.3.xsd&quot;&gt;\r\n        \r\n          \r\n        &lt;bean id=&quot;jdbcUserDAO&quot; class=&quot;com.ganeshTrading.riceAppService.dao.impl.JdbcUserDAO&quot;&gt;\r\n       \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;/bean&gt;\r\n       \r\n       &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n       \t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\r\n       \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/ganeshricetrading&quot;&gt;&lt;/property&gt;\r\n       \t&lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n       \t&lt;property name=&quot;password&quot; value=&quot;sql&quot;&gt;&lt;/property&gt;\r\n       &lt;/bean&gt;    \r\n        \r\n    &lt;/beans&gt;\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;web-app xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;xmlns.jcp.org/xml/ns/javaee xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n          &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n      &lt;servlet&gt;\r\n      \t&lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n      \t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n      \t&lt;init-param&gt;\r\n      \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      \t\t&lt;param-value&gt;/WEB-INF/servlet-context.xml&lt;/param-value&gt;\r\n      \t&lt;/init-param&gt;\r\n      \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n      \t&lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n      \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n**ApplicationConfiguration.java**\r\n\r\n    @ComponentScan(basePackages = {&quot;com.ganeshTrading.riceAppService&quot;})\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class ApplicationConfiguration {\r\n    \r\n    }\r\n\r\nWhat is wrong with my code?","title":"Servlet.service() for servlet [dispatcher] in context with path [/***] threw exception","body":"<p>I am getting below error while creating spring maven rest webservice. When trying to call DAO class with bean name defined in application_config.xml, getting NullPointerException</p>\n<pre><code>SEVERE: Servlet.service() for servlet [dispatcher] in context with path [/riceAppService] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\njava.lang.NullPointerException\n    at com.ganeshTrading.riceAppService.controller.UserController.getAllUsers(UserController.java:46)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Here, is my code</p>\n<p><strong>UserController.java</strong></p>\n<pre><code>    @RestController\npublic class UserController {\n\n    private JdbcUserDAO jdbcUserDAO;\n\n    \n    public JdbcUserDAO getJdbcUserDAO() {\n        return jdbcUserDAO;\n    }\n\n    public void setJdbcUserDAO(JdbcUserDAO jdbcUserDAO) {\n        this.jdbcUserDAO = jdbcUserDAO;\n    }\n\n    @RequestMapping(&quot;/&quot;)\n    @ResponseBody\n    public String welcome() {\n        return &quot;Welcome to RestTemplate Example.&quot;;\n    }\n    \n    @RequestMapping(value=&quot;/users&quot;, method=RequestMethod.GET, produces=MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody   \n    public List&lt;User&gt; getAllUsers() {\n        System.out.println(&quot;jdbcUserDAO&quot;+jdbcUserDAO);\n        List&lt;User&gt; userList = jdbcUserDAO.getAllUsers();\n        System.out.println(userList);\n        return userList;\n    }\n\n}\n</code></pre>\n<p><strong>UserDAO.java</strong></p>\n<pre><code>public interface UserDAO {\n\n    public List&lt;User&gt; getAllUsers();\n}\n</code></pre>\n<p><strong>JdbcUserDAO.java</strong></p>\n<pre><code>public class JdbcUserDAO implements UserDAO {\n\n    DataSource dataSource;\n    \n    \n    public void setDataSource(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n\n    @Override\n    public List&lt;User&gt; getAllUsers() {\n        String sql = &quot;select * from customer&quot;;\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        System.out.println(&quot;getJdbcTemplate() &quot;+jdbcTemplate);\n        List&lt;User&gt; userList = jdbcTemplate.query(sql, new UserMapper());\n        return userList;\n    }\n\n}\n</code></pre>\n<p><strong>servlet-context.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \nxmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans  \n http://www.springframework.org/schema/beans/spring-beans-4.3.xsd \n http://www.springframework.org/schema/context \n http://www.springframework.org/schema/context/spring-context-4.3.xsd\n http://www.springframework.org/schema/mvc \n http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n\n&lt;context:annotation-config /&gt;\n&lt;mvc:annotation-driven /&gt;\n\n&lt;import resource=&quot;classpath:application_config.xml&quot; /&gt; \n&lt;context:component-scan base-package=&quot;com.ganeshTrading.riceAppService&quot; /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><strong>application_config.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-4.3.xsd&quot;&gt;\n    \n      \n    &lt;bean id=&quot;jdbcUserDAO&quot; class=&quot;com.ganeshTrading.riceAppService.dao.impl.JdbcUserDAO&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;/bean&gt;\n   \n   &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/ganeshricetrading&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;password&quot; value=&quot;sql&quot;&gt;&lt;/property&gt;\n   &lt;/bean&gt;    \n    \n&lt;/beans&gt;\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;xmlns.jcp.org/xml/ns/javaee xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n      &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/servlet-context.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>ApplicationConfiguration.java</strong></p>\n<pre><code>@ComponentScan(basePackages = {&quot;com.ganeshTrading.riceAppService&quot;})\n@Configuration\n@EnableWebMvc\npublic class ApplicationConfiguration {\n\n}\n</code></pre>\n<p>What is wrong with my code?</p>\n"},{"tags":["java","arrays","hashmap","java-8","java-stream"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":3,"creation_date":1485815177,"post_id":41946327,"comment_id":71073389,"body_markdown":"better just use good old `for` loop:)","body":"better just use good old <code>for</code> loop:)"},{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":2,"creation_date":1485834025,"post_id":41946327,"comment_id":71078450,"body_markdown":"You might find what you&#39;re looking for here: [Collect successive pairs from a stream](http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream).","body":"You might find what you&#39;re looking for here: <a href=\"http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream\">Collect successive pairs from a stream</a>."},{"owner":{"account_id":453872,"reputation":316,"user_id":851116,"display_name":"Yang Hailong"},"score":0,"creation_date":1502167131,"post_id":41946327,"comment_id":78078149,"body_markdown":"Reference https://stackoverflow.com/questions/31693781/convert-string-array-to-map-using-java-8-lambda-expressions","body":"Reference <a href=\"https://stackoverflow.com/questions/31693781/convert-string-array-to-map-using-java-8-lambda-expressions\" title=\"convert string array to map using java 8 lambda expressions\">stackoverflow.com/questions/31693781/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674194856,"creation_date":1485815898,"answer_id":41946663,"question_id":41946327,"body_markdown":"Here is my idea by JDK 8 stream:\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; toMap(final Object... entries) {\r\n        // Requirements:\r\n        // entries must be K1, V1, K2, V2, .... ( even length )\r\n        if (entries.length % 2 == 1) {\r\n            throw new IllegalArgumentException(&quot;Invalid entries&quot;);\r\n        }\r\n\r\n        final Map&lt;K, V&gt; map = new HashMap&lt;&gt;((int) (entries.length / 2 * 1.25 + 1));\r\n        IntStream.range(0, entries.length / 2).forEach(i -&gt; map.put((K) entries[i * 2], (V) entries[i * 2 + 1]));\r\n        return map;\r\n\r\n        // OR: \r\n        //    return IntStream.range(0, entries.length / 2).boxed().reduce(new HashMap&lt;K, V&gt;(), (m, i) -&gt; {\r\n        //        m.put((K) entries[i * 2], (V) entries[i * 2 + 1]);\r\n        //        return m;\r\n        //    }, (a, b) -&gt; {\r\n        //        a.putAll(b);\r\n        //        return b;\r\n        //    });\r\n    }\r\n\r\nIf you don&#39;t mind use third-party library [abacus-common][1], the code could be simplified to:\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; toMap2(final Object... entries) {\r\n        // Requirements:\r\n        // entries must be K1, V1, K2, V2, .... ( even length )\r\n        if (entries.length % 2 == 1) {\r\n            throw new IllegalArgumentException(&quot;Invalid entries&quot;);\r\n        }\r\n\r\n        return Stream.of(entries).split0(2).toMap(e -&gt; (K) e.get(0), e -&gt; (V) e.get(1));\r\n    }\r\n\r\nAnd I think the most efficient way to do it is by for loop, if you not particularly pursue using Stream API\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; toMap3(final Object... entries) {\r\n        // Requirements:\r\n        // entries must be K1, V1, K2, V2, .... ( even length )\r\n        if (entries.length % 2 == 1) {\r\n            throw new IllegalArgumentException(&quot;Invalid entries&quot;);\r\n        }\r\n\r\n        final Map&lt;K, V&gt; map = new HashMap&lt;&gt;((int) (entries.length / 2 * 1.25 + 1));\r\n\r\n        for (int i = 0, len = entries.length; i &lt; len; i++) {\r\n            map.put((K) entries[i], (V) entries[++i]);\r\n        }\r\n\r\n        return map;\r\n\r\n        // OR just call the method in abacus-common.       \r\n        // return N.asMap(entries);\r\n    }\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to convert Array to HashMap using Java 8 Stream","body":"<p>Here is my idea by JDK 8 stream:</p>\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; toMap(final Object... entries) {\n    // Requirements:\n    // entries must be K1, V1, K2, V2, .... ( even length )\n    if (entries.length % 2 == 1) {\n        throw new IllegalArgumentException(&quot;Invalid entries&quot;);\n    }\n\n    final Map&lt;K, V&gt; map = new HashMap&lt;&gt;((int) (entries.length / 2 * 1.25 + 1));\n    IntStream.range(0, entries.length / 2).forEach(i -&gt; map.put((K) entries[i * 2], (V) entries[i * 2 + 1]));\n    return map;\n\n    // OR: \n    //    return IntStream.range(0, entries.length / 2).boxed().reduce(new HashMap&lt;K, V&gt;(), (m, i) -&gt; {\n    //        m.put((K) entries[i * 2], (V) entries[i * 2 + 1]);\n    //        return m;\n    //    }, (a, b) -&gt; {\n    //        a.putAll(b);\n    //        return b;\n    //    });\n}\n</code></pre>\n<p>If you don't mind use third-party library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>, the code could be simplified to:</p>\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; toMap2(final Object... entries) {\n    // Requirements:\n    // entries must be K1, V1, K2, V2, .... ( even length )\n    if (entries.length % 2 == 1) {\n        throw new IllegalArgumentException(&quot;Invalid entries&quot;);\n    }\n\n    return Stream.of(entries).split0(2).toMap(e -&gt; (K) e.get(0), e -&gt; (V) e.get(1));\n}\n</code></pre>\n<p>And I think the most efficient way to do it is by for loop, if you not particularly pursue using Stream API</p>\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; toMap3(final Object... entries) {\n    // Requirements:\n    // entries must be K1, V1, K2, V2, .... ( even length )\n    if (entries.length % 2 == 1) {\n        throw new IllegalArgumentException(&quot;Invalid entries&quot;);\n    }\n\n    final Map&lt;K, V&gt; map = new HashMap&lt;&gt;((int) (entries.length / 2 * 1.25 + 1));\n\n    for (int i = 0, len = entries.length; i &lt; len; i++) {\n        map.put((K) entries[i], (V) entries[++i]);\n    }\n\n    return map;\n\n    // OR just call the method in abacus-common.       \n    // return N.asMap(entries);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6874,"reputation":2729,"user_id":11699,"accept_rate":71,"display_name":"Michael Bar-Sinai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485816024,"creation_date":1485816024,"answer_id":41946690,"question_id":41946327,"body_markdown":"Getting exactly what you want will probably not work for maps whose key type differs from their value type. This is because Java&#39;s variable arity declaration (the `Object... entries` part) supports only one type.\r\n\r\nSome options come to mind:\r\n\r\n1. You could do the checks dynamically and throw an illegal argument exception if the values don&#39;t match. But you&#39;ll lose the compiler type-checking.\r\n\r\n2. You could define a `Pair` class, and play a bit with static import to get almost what you want:\r\n\r\n\r\ne.g.: \r\n\r\n    class Pair&lt;K,V&gt; {\r\n        final K k;\r\n        final V v;\r\n        Pair( K ak, V av) {\r\n            k=ak;\r\n            v=av;\r\n        }\r\n        static &lt;A,B&gt; Pair&lt;A,B&gt; p(A a, B b) {\r\n            return new Pair(a,b);\r\n        }\r\n    }\r\n    \r\n    public class JavaTest8 {\r\n        \r\n        &lt;K,V&gt; Map&lt;K,V&gt; toMap( Pair&lt;K,V&gt;... pairs ) {\r\n            return Arrays.stream(pairs).collect(Collectors.toMap(p-&gt;p.k, p-&gt;p.v));\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            // Usage\r\n            Map&lt;String,Integer&gt; sti = toMap( p(&quot;A&quot;,1), p(&quot;B&quot;,2) );\r\n            Map&lt;Integer,Boolean&gt; itb = toMap( p(1,true), p(42,false) );\r\n        }\r\n    }\r\n","title":"How to convert Array to HashMap using Java 8 Stream","body":"<p>Getting exactly what you want will probably not work for maps whose key type differs from their value type. This is because Java's variable arity declaration (the <code>Object... entries</code> part) supports only one type.</p>\n\n<p>Some options come to mind:</p>\n\n<ol>\n<li><p>You could do the checks dynamically and throw an illegal argument exception if the values don't match. But you'll lose the compiler type-checking.</p></li>\n<li><p>You could define a <code>Pair</code> class, and play a bit with static import to get almost what you want:</p></li>\n</ol>\n\n<p>e.g.: </p>\n\n<pre><code>class Pair&lt;K,V&gt; {\n    final K k;\n    final V v;\n    Pair( K ak, V av) {\n        k=ak;\n        v=av;\n    }\n    static &lt;A,B&gt; Pair&lt;A,B&gt; p(A a, B b) {\n        return new Pair(a,b);\n    }\n}\n\npublic class JavaTest8 {\n\n    &lt;K,V&gt; Map&lt;K,V&gt; toMap( Pair&lt;K,V&gt;... pairs ) {\n        return Arrays.stream(pairs).collect(Collectors.toMap(p-&gt;p.k, p-&gt;p.v));\n    }\n\n    public static void main(String[] args) {\n        // Usage\n        Map&lt;String,Integer&gt; sti = toMap( p(\"A\",1), p(\"B\",2) );\n        Map&lt;Integer,Boolean&gt; itb = toMap( p(1,true), p(42,false) );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485816605,"creation_date":1485816262,"answer_id":41946744,"question_id":41946327,"body_markdown":"You can use something like map literals.  \r\nFor achieving this you can use a factory method:\r\n\r\n    // Creates a map from a list of entries\r\n    @SafeVarargs\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Map.Entry&lt;K, V&gt;... entries) {\r\n        LinkedHashMap&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\r\n        for (Map.Entry&lt;K, V&gt; entry : entries) {\r\n            map.put(entry.getKey(), entry.getValue());\r\n        }\r\n        return map;\r\n    }\r\n    \r\n    // Creates a map entry\r\n    public static &lt;K, V&gt; Map.Entry&lt;K, V&gt; entry(K key, V value) {\r\n        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n    }\r\n\r\nFinally, you can do something like following:\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; map = mapOf(entry(&quot;a&quot;, 1), entry(&quot;b&quot;, 2), entry(&quot;c&quot;, 3));\r\n        System.out.println(map);\r\n    }\r\n\r\n**Output:**\r\n\r\n&gt;{a=1, b=2, c=3}\r\n\r\nI hope that this gives to you the right way.","title":"How to convert Array to HashMap using Java 8 Stream","body":"<p>You can use something like map literals.<br>\nFor achieving this you can use a factory method:</p>\n\n<pre><code>// Creates a map from a list of entries\n@SafeVarargs\npublic static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Map.Entry&lt;K, V&gt;... entries) {\n    LinkedHashMap&lt;K, V&gt; map = new LinkedHashMap&lt;&gt;();\n    for (Map.Entry&lt;K, V&gt; entry : entries) {\n        map.put(entry.getKey(), entry.getValue());\n    }\n    return map;\n}\n\n// Creates a map entry\npublic static &lt;K, V&gt; Map.Entry&lt;K, V&gt; entry(K key, V value) {\n    return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n}\n</code></pre>\n\n<p>Finally, you can do something like following:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Integer&gt; map = mapOf(entry(\"a\", 1), entry(\"b\", 2), entry(\"c\", 3));\n    System.out.println(map);\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>{a=1, b=2, c=3}</p>\n</blockquote>\n\n<p>I hope that this gives to you the right way.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1485862424,"creation_date":1485862122,"answer_id":41956412,"question_id":41946327,"body_markdown":"You may use\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; toMap(Object... entries) {\r\n        if(entries.length % 2 == 1)\r\n            throw new IllegalArgumentException(&quot;Invalid entries&quot;);\r\n        return (Map&lt;K, V&gt;)IntStream.range(0, entries.length/2).map(i -&gt; i*2)\r\n            .collect(HashMap::new, (m,i)-&gt;m.put(entries[i], entries[i+1]), Map::putAll);\r\n    }\r\nbut it will give you a (founded) *unchecked* warning. Your method can’t hold the promise to return a correctly typed `Map&lt;K, V&gt;` for an array of arbitrary objects and, even worse, it will not fail with an exception, but silently return an inconsistent map if you pass in objects of the wrong type.\r\n\r\nA cleaner, commonly used, solution is\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; toMap(\r\n                                   Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, Object... entries) {\r\n        if(entries.length % 2 == 1)\r\n            throw new IllegalArgumentException(&quot;Invalid entries&quot;);\r\n        return IntStream.range(0, entries.length/2).map(i -&gt; i*2)\r\n            .collect(HashMap::new,\r\n                     (m,i)-&gt;m.put(keyType.cast(entries[i]), valueType.cast(entries[i+1])),\r\n                     Map::putAll);\r\n    }\r\nThis can be compiled without a warning, as the correctness will be checked at runtime. The calling code has to be adapted:\r\n\r\n    Map&lt;String, Integer&gt; map1 = toMap(String.class, Integer.class, &quot;k1&quot;, 1, &quot;k2&quot;, 2);\r\n    Map&lt;String, String&gt; map2 = toMap(\r\n                               String.class, String.class, &quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;, &quot;k3&quot;, &quot;v3&quot;);\r\n\r\nBesides the need to specify the actual types as class literals, it has the disadvantage of not supporting generic key or value types (as they can’t be expressed as `Class`) and still having no compile-time safety, only a runtime check.\r\n\r\n---\r\n\r\nIt’s worth [looking at Java&#160;9](http://download.java.net/java/jdk9/docs/api/?java/util/Map.html). There, you will be able to do:\r\n\r\n    Map&lt;String, Integer&gt; map1 = Map.of(&quot;k1&quot;, 1, &quot;k2&quot;, 2);\r\n    Map&lt;String, String&gt;  map2 = Map.of(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;, &quot;k3&quot;, &quot;v3&quot;);\r\n\r\nThis will create an *immutable* map of an unspecified type, rather than a `HashMap`, but the interesting point is the API.\r\n\r\nThere is a method `&lt;K,V&gt; Map.Entry&lt;K,V&gt;\tentry(K k, V v)` which can be combined with  \r\n`&lt;K,V&gt; Map&lt;K,V&gt;\tofEntries(Map.Entry&lt;? extends K,? extends V&gt;... entries)` to create a map of a variable length (varargs are still limited to 255 parameters, though).\r\n\r\nYou can implement a similar thing:\r\n\r\n    public static &lt;K,V&gt; Map.Entry&lt;K,V&gt; entry(K k, V v) {\r\n        return new AbstractMap.SimpleImmutableEntry&lt;&gt;(k, v);\r\n    }\r\n    public static &lt;K,V&gt; Map&lt;K,V&gt; ofEntries(Map.Entry&lt;? extends K,? extends V&gt;... entries) {\r\n        return Arrays.stream(entries)\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    }\r\nThe convenience method(s) `of` are implemented the only way, this can be done with type safety: as overloaded methods with different numbers of arguments, like\r\n\r\n    public static &lt;K,V&gt; Map&lt;K,V&gt; of() {\r\n        return new HashMap&lt;&gt;();// or Collections.emptyMap() to create immutable maps\r\n    }\r\n    static &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1) {\r\n        return ofEntries(entry(k1, v1));\r\n    }\r\n    static &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2) {\r\n        return ofEntries(entry(k1, v1), entry(k2, v2));\r\n    }\r\n    static &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2, K k3, V v3) {\r\n        return ofEntries(entry(k1, v1), entry(k2, v2), entry(k3, v3));\r\n    }\r\n    static &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2, K k3, V v3, K k4, V v4) {\r\n        return ofEntries(entry(k1, v1), entry(k2, v2), entry(k3, v3), entry(k4, v4));\r\n    }\t\r\n    static &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2, K k3, V v3, K k4, V v4, K k5, V v5) {\r\n        return ofEntries(entry(k1, v1), entry(k2, v2), entry(k3, v3), entry(k4, v4));\r\n    }\t\r\n(Java&#160;9 makes the cut at ten mappings, if you have more, you have to use the `ofEntries(entry(k1, v1), …)` variant).\r\n\r\nIf you follow this pattern, you should keep your `toMap` name or use just `map`, rather than calling at “`of`”, as you are not writing the `Map` interface.\r\n\r\nThese overloads might not look very elegant, but they solve all problems. You can write the code just as in your question, without specifying `Class` objects, but gain compile-time type safety and even rejection of attempts to call it with an odd number of arguments.\r\n\r\nYou have to make a cut at a certain number of parameters, but, as already noted, even varargs do not support unlimited parameters. And the `ofEntries(entry(…), …)` form isn’t so bad for larger maps.\r\n\r\n---\r\n\r\nThe collector `Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)` returns an unspecified map type, which might even be immutable (though it’s a `HashMap`in the current version). If you want to have a guaranty that a `HashMap` instance is returned, you have to use `Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1,v2)-&gt;{throw new IllegalArgumentException(&quot;duplicate key&quot;);}, HashMap::new)` instead.","title":"How to convert Array to HashMap using Java 8 Stream","body":"<p>You may use</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; toMap(Object... entries) {\n    if(entries.length % 2 == 1)\n        throw new IllegalArgumentException(\"Invalid entries\");\n    return (Map&lt;K, V&gt;)IntStream.range(0, entries.length/2).map(i -&gt; i*2)\n        .collect(HashMap::new, (m,i)-&gt;m.put(entries[i], entries[i+1]), Map::putAll);\n}\n</code></pre>\n\n<p>but it will give you a (founded) <em>unchecked</em> warning. Your method can’t hold the promise to return a correctly typed <code>Map&lt;K, V&gt;</code> for an array of arbitrary objects and, even worse, it will not fail with an exception, but silently return an inconsistent map if you pass in objects of the wrong type.</p>\n\n<p>A cleaner, commonly used, solution is</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; toMap(\n                               Class&lt;K&gt; keyType, Class&lt;V&gt; valueType, Object... entries) {\n    if(entries.length % 2 == 1)\n        throw new IllegalArgumentException(\"Invalid entries\");\n    return IntStream.range(0, entries.length/2).map(i -&gt; i*2)\n        .collect(HashMap::new,\n                 (m,i)-&gt;m.put(keyType.cast(entries[i]), valueType.cast(entries[i+1])),\n                 Map::putAll);\n}\n</code></pre>\n\n<p>This can be compiled without a warning, as the correctness will be checked at runtime. The calling code has to be adapted:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map1 = toMap(String.class, Integer.class, \"k1\", 1, \"k2\", 2);\nMap&lt;String, String&gt; map2 = toMap(\n                           String.class, String.class, \"k1\", \"v1\", \"k2\", \"v2\", \"k3\", \"v3\");\n</code></pre>\n\n<p>Besides the need to specify the actual types as class literals, it has the disadvantage of not supporting generic key or value types (as they can’t be expressed as <code>Class</code>) and still having no compile-time safety, only a runtime check.</p>\n\n<hr>\n\n<p>It’s worth <a href=\"http://download.java.net/java/jdk9/docs/api/?java/util/Map.html\" rel=\"noreferrer\">looking at Java 9</a>. There, you will be able to do:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map1 = Map.of(\"k1\", 1, \"k2\", 2);\nMap&lt;String, String&gt;  map2 = Map.of(\"k1\", \"v1\", \"k2\", \"v2\", \"k3\", \"v3\");\n</code></pre>\n\n<p>This will create an <em>immutable</em> map of an unspecified type, rather than a <code>HashMap</code>, but the interesting point is the API.</p>\n\n<p>There is a method <code>&lt;K,V&gt; Map.Entry&lt;K,V&gt; entry(K k, V v)</code> which can be combined with<br>\n<code>&lt;K,V&gt; Map&lt;K,V&gt; ofEntries(Map.Entry&lt;? extends K,? extends V&gt;... entries)</code> to create a map of a variable length (varargs are still limited to 255 parameters, though).</p>\n\n<p>You can implement a similar thing:</p>\n\n<pre><code>public static &lt;K,V&gt; Map.Entry&lt;K,V&gt; entry(K k, V v) {\n    return new AbstractMap.SimpleImmutableEntry&lt;&gt;(k, v);\n}\npublic static &lt;K,V&gt; Map&lt;K,V&gt; ofEntries(Map.Entry&lt;? extends K,? extends V&gt;... entries) {\n    return Arrays.stream(entries)\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n}\n</code></pre>\n\n<p>The convenience method(s) <code>of</code> are implemented the only way, this can be done with type safety: as overloaded methods with different numbers of arguments, like</p>\n\n<pre><code>public static &lt;K,V&gt; Map&lt;K,V&gt; of() {\n    return new HashMap&lt;&gt;();// or Collections.emptyMap() to create immutable maps\n}\nstatic &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1) {\n    return ofEntries(entry(k1, v1));\n}\nstatic &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2) {\n    return ofEntries(entry(k1, v1), entry(k2, v2));\n}\nstatic &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2, K k3, V v3) {\n    return ofEntries(entry(k1, v1), entry(k2, v2), entry(k3, v3));\n}\nstatic &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2, K k3, V v3, K k4, V v4) {\n    return ofEntries(entry(k1, v1), entry(k2, v2), entry(k3, v3), entry(k4, v4));\n}   \nstatic &lt;K,V&gt; Map&lt;K,V&gt; of(K k1, V v1, K k2, V v2, K k3, V v3, K k4, V v4, K k5, V v5) {\n    return ofEntries(entry(k1, v1), entry(k2, v2), entry(k3, v3), entry(k4, v4));\n}   \n</code></pre>\n\n<p>(Java 9 makes the cut at ten mappings, if you have more, you have to use the <code>ofEntries(entry(k1, v1), …)</code> variant).</p>\n\n<p>If you follow this pattern, you should keep your <code>toMap</code> name or use just <code>map</code>, rather than calling at “<code>of</code>”, as you are not writing the <code>Map</code> interface.</p>\n\n<p>These overloads might not look very elegant, but they solve all problems. You can write the code just as in your question, without specifying <code>Class</code> objects, but gain compile-time type safety and even rejection of attempts to call it with an odd number of arguments.</p>\n\n<p>You have to make a cut at a certain number of parameters, but, as already noted, even varargs do not support unlimited parameters. And the <code>ofEntries(entry(…), …)</code> form isn’t so bad for larger maps.</p>\n\n<hr>\n\n<p>The collector <code>Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)</code> returns an unspecified map type, which might even be immutable (though it’s a <code>HashMap</code>in the current version). If you want to have a guaranty that a <code>HashMap</code> instance is returned, you have to use <code>Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1,v2)-&gt;{throw new IllegalArgumentException(\"duplicate key\");}, HashMap::new)</code> instead.</p>\n"},{"tags":[],"owner":{"display_name":"user9159521"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548199149,"creation_date":1548195181,"answer_id":54317238,"question_id":41946327,"body_markdown":"```\r\npublic static &lt;K, V, E&gt; Map&lt;K, V&gt; toMap(Function&lt;E, K&gt; toKey, Function&lt;E, V&gt; toValue, E[][] e){\r\n        \r\n        final Map&lt;K, V&gt; newMap = new HashMap&lt;&gt;();\r\n        \r\n        Arrays\r\n                .stream(e, 0, e.length - 1)\r\n                .forEach(s -&gt;\r\n                {\r\n                    if (s[0] != null || s[1] != null)\r\n                        newMap.put(toKey.apply(s[0]), toValue.apply(s[1]));\r\n                }\r\n                );\r\n        \r\n        return newMap;\r\n\r\n}\r\n\r\n\r\n\r\n\r\npublic static void main(String[] args) {\r\n\r\n        Object[][] objects = new Object[10][2];\r\n        objects[0][0] =&quot;Ahmet&quot;;\r\n        objects[0][1] =28;\r\n        objects[1][0] =&quot;Mehmet&quot;;\r\n        objects[1][1] =18;\r\n        objects[2][0] =&quot;Kemal&quot;;\r\n        objects[2][1] =55;\r\n\r\nMap&lt;String, Integer&gt; newMap = toMap((Object::toString), (Object v) -&gt; Integer.parseInt(v.toString()), objects);\r\n        \r\nSystem.out.println(newMap.get(&quot;Ahmet&quot;) + &quot; &quot; + newMap.get(&quot;Kemal&quot;));\r\n\r\n\r\n}\r\n```","title":"How to convert Array to HashMap using Java 8 Stream","body":"<pre><code>public static &lt;K, V, E&gt; Map&lt;K, V&gt; toMap(Function&lt;E, K&gt; toKey, Function&lt;E, V&gt; toValue, E[][] e){\n\n        final Map&lt;K, V&gt; newMap = new HashMap&lt;&gt;();\n\n        Arrays\n                .stream(e, 0, e.length - 1)\n                .forEach(s -&gt;\n                {\n                    if (s[0] != null || s[1] != null)\n                        newMap.put(toKey.apply(s[0]), toValue.apply(s[1]));\n                }\n                );\n\n        return newMap;\n\n}\n\n\n\n\npublic static void main(String[] args) {\n\n        Object[][] objects = new Object[10][2];\n        objects[0][0] =\"Ahmet\";\n        objects[0][1] =28;\n        objects[1][0] =\"Mehmet\";\n        objects[1][1] =18;\n        objects[2][0] =\"Kemal\";\n        objects[2][1] =55;\n\nMap&lt;String, Integer&gt; newMap = toMap((Object::toString), (Object v) -&gt; Integer.parseInt(v.toString()), objects);\n\nSystem.out.println(newMap.get(\"Ahmet\") + \" \" + newMap.get(\"Kemal\"));\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694031541,"creation_date":1694031541,"answer_id":77055062,"question_id":41946327,"body_markdown":"I solved similar problem with listIterator\r\nargs: [-arg1 val1 -arg2 val2 -arg3 -arg4 val4]\r\n\r\n```\r\nMap&lt;String, String&gt; argsMap = new HashMap&lt;&gt;();\r\n        ListIterator&lt;String&gt; listIterator = Arrays.stream(args).toList().listIterator();\r\n        while(listIterator.hasNext()) {\r\n            String current = listIterator.next();;\r\n            if (current.startsWith(&quot;-&quot;)) {\r\n                if (listIterator.hasNext()) {\r\n                    String next = listIterator.next();\r\n                    if (!next.startsWith(&quot;-&quot;)) {\r\n                        argsMap.put(current, next);\r\n                    } else {\r\n                        argsMap.put(current, &quot;&quot;);\r\n                        listIterator.previous();\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        }\r\n```","title":"How to convert Array to HashMap using Java 8 Stream","body":"<p>I solved similar problem with listIterator\nargs: [-arg1 val1 -arg2 val2 -arg3 -arg4 val4]</p>\n<pre><code>Map&lt;String, String&gt; argsMap = new HashMap&lt;&gt;();\n        ListIterator&lt;String&gt; listIterator = Arrays.stream(args).toList().listIterator();\n        while(listIterator.hasNext()) {\n            String current = listIterator.next();;\n            if (current.startsWith(&quot;-&quot;)) {\n                if (listIterator.hasNext()) {\n                    String next = listIterator.next();\n                    if (!next.startsWith(&quot;-&quot;)) {\n                        argsMap.put(current, next);\n                    } else {\n                        argsMap.put(current, &quot;&quot;);\n                        listIterator.previous();\n                    }\n                    \n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28184,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":41956412,"answer_count":6,"score":13,"last_activity_date":1694031541,"creation_date":1485814360,"question_id":41946327,"body_markdown":"I am writing a function to convert array to Map using Java 8 Stream.\r\n\r\nHere is what I wanted\r\n\r\n\tpublic static &lt;K, V&gt; Map&lt;K, V&gt; toMap(Object... entries) {\r\n        // Requirements:\r\n        // entries must be K1, V1, K2, V2, .... ( even length )\r\n        if (entries.length % 2 == 1) {\r\n            throw new IllegalArgumentException(&quot;Invalid entries&quot;);\r\n        }\r\n\r\n        // TODO\r\n        Arrays.stream(entries).????\r\n\t}\r\n\r\nValid usages\r\n\r\n    Map&lt;String, Integer&gt; map1 = toMap(&quot;k1&quot;, 1, &quot;k2&quot;, 2);\r\n\r\n    Map&lt;String, String&gt; map2 = toMap(&quot;k1&quot;, &quot;v1&quot;, &quot;k2&quot;, &quot;v2&quot;, &quot;k3&quot;, &quot;v3&quot;);\r\n\r\nInvalid usages\r\n\r\n    Map&lt;String, Integer&gt; map1 = toMap(&quot;k1&quot;, 1, &quot;k2&quot;, 2, &quot;k3&quot;);\r\n\r\nAny helps?\r\n\r\nThanks!\r\n\r\n","title":"How to convert Array to HashMap using Java 8 Stream","body":"<p>I am writing a function to convert array to Map using Java 8 Stream.</p>\n\n<p>Here is what I wanted</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; toMap(Object... entries) {\n    // Requirements:\n    // entries must be K1, V1, K2, V2, .... ( even length )\n    if (entries.length % 2 == 1) {\n        throw new IllegalArgumentException(\"Invalid entries\");\n    }\n\n    // TODO\n    Arrays.stream(entries).????\n}\n</code></pre>\n\n<p>Valid usages</p>\n\n<pre><code>Map&lt;String, Integer&gt; map1 = toMap(\"k1\", 1, \"k2\", 2);\n\nMap&lt;String, String&gt; map2 = toMap(\"k1\", \"v1\", \"k2\", \"v2\", \"k3\", \"v3\");\n</code></pre>\n\n<p>Invalid usages</p>\n\n<pre><code>Map&lt;String, Integer&gt; map1 = toMap(\"k1\", 1, \"k2\", 2, \"k3\");\n</code></pre>\n\n<p>Any helps?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","audio","wav","javax.sound.sampled"],"comments":[{"owner":{"account_id":12157861,"reputation":1714,"user_id":8876321,"display_name":"fdcpp"},"score":0,"creation_date":1694089980,"post_id":77055054,"comment_id":135847232,"body_markdown":"My recommendation would be to start by generating some audio, maybe a test tone of 1000Hz, encoding it and then decoding it. There is definitely something intelligible in the test audio, but something seems off with the values.","body":"My recommendation would be to start by generating some audio, maybe a test tone of 1000Hz, encoding it and then decoding it. There is definitely something intelligible in the test audio, but something seems off with the values."}],"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694031424,"creation_date":1694031424,"question_id":77055054,"body_markdown":"I am trying to store a converted audio to a wave file and the file is not working correctly as it is not playing any sound and seems corrupted.\r\n\r\nI first read a `base64.txt` as an `ulaw` audio and then convert it to `pcm` format afterward. The conversion seems fine as playing the audio works, but the writing to file is failing somehow. I tried some debugging and found out that the bytes written are way less than the actual audio stream contains.\r\n\r\nThis is the calculation I found in `WaveFileWriter#write` -\\&gt; `getAudioFileFormat` :\r\n\r\n```\r\nfileSize = (int) stream.getFrameLength() * streamFormat.getFrameSize() + WaveFileFormat.getHeaderSize(waveType);\r\n```\r\n\r\nthe `getFrameLength` is `659` and `getFrameSize` is `2` (see images)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/AGg5t.png)](https://i.stack.imgur.com/AGg5t.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/mGkAL.png)](https://i.stack.imgur.com/mGkAL.png)\r\n\r\nwhich makes sense if you look at the code. Do I maybe have a wrong frameSize set in the pcmFormat? I tried others like `160` as well but all those gave me `Unsupported conversion` .\r\n\r\nI am guessing that the problem is that the calculated file size is way smaller than the actual size of the stream and thus its only writing the data till that calculated file size. These are the outputs from print lines:\r\n\r\n```\r\nAvailable: 116480\r\n```\r\n\r\n```\r\nActually written: 1500\r\n```\r\n\r\nThis is the main method:\r\n\r\n```java\r\n    public static void main(String[] args) throws Exception {\r\n        Path base64 = Path.of(Main.class.getResource(&quot;/base64.txt&quot;).toURI());\r\n        byte[] decodedAudioBytes = Base64.getDecoder().decode(Files.readAllBytes(base64));\r\n\r\n        ByteArrayInputStream inputStream = new ByteArrayInputStream(decodedAudioBytes);\r\n        AudioFormat audioFormat = new AudioFormat(\r\n                AudioFormat.Encoding.ULAW,  // Audio format details here\r\n                8000,\r\n                8,\r\n                1,\r\n                160,\r\n                50,\r\n                false\r\n        );\r\n        AudioInputStream ulawAudioInputStream = new AudioInputStream(inputStream, audioFormat, decodedAudioBytes.length / audioFormat.getFrameSize());\r\n        AudioFormat ulawFormat = ulawAudioInputStream.getFormat();\r\n        AudioFormat pcmFormat = new AudioFormat(\r\n                AudioFormat.Encoding.PCM_SIGNED,\r\n                ulawFormat.getSampleRate(),\r\n                16, // 16-bit sample size\r\n                ulawFormat.getChannels(),\r\n                ulawFormat.getChannels() * 2, // Frame size\r\n                ulawFormat.getSampleRate(),\r\n                false // Little endian\r\n        );\r\n\r\n        try (inputStream; ulawAudioInputStream; AudioInputStream pcmAudioInputStream = AudioSystem.getAudioInputStream(pcmFormat, ulawAudioInputStream)) {\r\n\r\n//        playAudio(pcmAudioInputStream, pcmAudioInputStream.getFormat());\r\n\r\n            System.out.println(&quot;Available: &quot; + pcmAudioInputStream.available());\r\n            System.out.println(&quot;Actually written: &quot; + AudioSystem.write(pcmAudioInputStream, AudioFileFormat.Type.WAVE, Files.newOutputStream(Path.of(&quot;D://test.wav&quot;), StandardOpenOption.CREATE)));\r\n        }\r\n    }\r\n\r\n    private static void playAudio(AudioInputStream audio, AudioFormat format) throws Exception {\r\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\r\n        SourceDataLine line = (SourceDataLine) AudioSystem.getLine(info);\r\n        line.open(format);\r\n        line.start();\r\n        byte[] buffer = new byte[4096];\r\n        int bytesRead;\r\n        while ((bytesRead = audio.read(buffer)) != -1) {\r\n            line.write(buffer, 0, bytesRead);\r\n        }\r\n    }\r\n```\r\n\r\nwith this base64.txt (be careful its kinda loud and just an example audio):\r\n\r\nhttps://gist.github.com/SquidXTV/4a696ef4d714cf0043727ae4c141e8f3\r\n\r\nthanks for your help","title":"store ulaw to pcm converted sound to a wave file","body":"<p>I am trying to store a converted audio to a wave file and the file is not working correctly as it is not playing any sound and seems corrupted.</p>\n<p>I first read a <code>base64.txt</code> as an <code>ulaw</code> audio and then convert it to <code>pcm</code> format afterward. The conversion seems fine as playing the audio works, but the writing to file is failing somehow. I tried some debugging and found out that the bytes written are way less than the actual audio stream contains.</p>\n<p>This is the calculation I found in <code>WaveFileWriter#write</code> -&gt; <code>getAudioFileFormat</code> :</p>\n<pre><code>fileSize = (int) stream.getFrameLength() * streamFormat.getFrameSize() + WaveFileFormat.getHeaderSize(waveType);\n</code></pre>\n<p>the <code>getFrameLength</code> is <code>659</code> and <code>getFrameSize</code> is <code>2</code> (see images)</p>\n<p><a href=\"https://i.stack.imgur.com/AGg5t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AGg5t.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mGkAL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGkAL.png\" alt=\"enter image description here\" /></a></p>\n<p>which makes sense if you look at the code. Do I maybe have a wrong frameSize set in the pcmFormat? I tried others like <code>160</code> as well but all those gave me <code>Unsupported conversion</code> .</p>\n<p>I am guessing that the problem is that the calculated file size is way smaller than the actual size of the stream and thus its only writing the data till that calculated file size. These are the outputs from print lines:</p>\n<pre><code>Available: 116480\n</code></pre>\n<pre><code>Actually written: 1500\n</code></pre>\n<p>This is the main method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws Exception {\n        Path base64 = Path.of(Main.class.getResource(&quot;/base64.txt&quot;).toURI());\n        byte[] decodedAudioBytes = Base64.getDecoder().decode(Files.readAllBytes(base64));\n\n        ByteArrayInputStream inputStream = new ByteArrayInputStream(decodedAudioBytes);\n        AudioFormat audioFormat = new AudioFormat(\n                AudioFormat.Encoding.ULAW,  // Audio format details here\n                8000,\n                8,\n                1,\n                160,\n                50,\n                false\n        );\n        AudioInputStream ulawAudioInputStream = new AudioInputStream(inputStream, audioFormat, decodedAudioBytes.length / audioFormat.getFrameSize());\n        AudioFormat ulawFormat = ulawAudioInputStream.getFormat();\n        AudioFormat pcmFormat = new AudioFormat(\n                AudioFormat.Encoding.PCM_SIGNED,\n                ulawFormat.getSampleRate(),\n                16, // 16-bit sample size\n                ulawFormat.getChannels(),\n                ulawFormat.getChannels() * 2, // Frame size\n                ulawFormat.getSampleRate(),\n                false // Little endian\n        );\n\n        try (inputStream; ulawAudioInputStream; AudioInputStream pcmAudioInputStream = AudioSystem.getAudioInputStream(pcmFormat, ulawAudioInputStream)) {\n\n//        playAudio(pcmAudioInputStream, pcmAudioInputStream.getFormat());\n\n            System.out.println(&quot;Available: &quot; + pcmAudioInputStream.available());\n            System.out.println(&quot;Actually written: &quot; + AudioSystem.write(pcmAudioInputStream, AudioFileFormat.Type.WAVE, Files.newOutputStream(Path.of(&quot;D://test.wav&quot;), StandardOpenOption.CREATE)));\n        }\n    }\n\n    private static void playAudio(AudioInputStream audio, AudioFormat format) throws Exception {\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\n        SourceDataLine line = (SourceDataLine) AudioSystem.getLine(info);\n        line.open(format);\n        line.start();\n        byte[] buffer = new byte[4096];\n        int bytesRead;\n        while ((bytesRead = audio.read(buffer)) != -1) {\n            line.write(buffer, 0, bytesRead);\n        }\n    }\n</code></pre>\n<p>with this base64.txt (be careful its kinda loud and just an example audio):</p>\n<p><a href=\"https://gist.github.com/SquidXTV/4a696ef4d714cf0043727ae4c141e8f3\" rel=\"nofollow noreferrer\">https://gist.github.com/SquidXTV/4a696ef4d714cf0043727ae4c141e8f3</a></p>\n<p>thanks for your help</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1446135086,"post_id":33415331,"comment_id":54628129,"body_markdown":"We decided that this feature in hibernate is for when you never want to customize the timestamp like i am trying to do now.","body":"We decided that this feature in hibernate is for when you never want to customize the timestamp like i am trying to do now."},{"owner":{"account_id":2123818,"reputation":969,"user_id":1886510,"display_name":"darw"},"score":0,"creation_date":1610375848,"post_id":33415331,"comment_id":116105712,"body_markdown":"Never even in tests?","body":"Never even in tests?"}],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1694031368,"creation_date":1446135139,"answer_id":33419377,"question_id":33415331,"body_markdown":"i think the answer is - this feature in hibernate is not meant for when you want to customize the values. it is just meant for when you want strictly created/updated values during database saves.\r\n\r\ni need to make a new column. ","title":"Override the CreationTimestamp/UpdateTimestamp in hibernate?","body":"<p>i think the answer is - this feature in hibernate is not meant for when you want to customize the values. it is just meant for when you want strictly created/updated values during database saves.</p>\n<p>i need to make a new column.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2484,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":33419377,"answer_count":1,"score":10,"last_activity_date":1694031368,"creation_date":1446124627,"question_id":33415331,"body_markdown":"In Hibernate you can use\r\n\r\n    @CreationTimestamp\r\n\r\nand\r\n\r\n    @UpdateTimestamp\r\n\r\nTo automatically set date fields when saving entities.\r\n\r\nBut now I have one of those entities and I want to manually set the created/updated field myself. \r\n\r\nCan I manually set my own or will it over-ride me? \r\n","title":"Override the CreationTimestamp/UpdateTimestamp in hibernate?","body":"<p>In Hibernate you can use</p>\n\n<pre><code>@CreationTimestamp\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@UpdateTimestamp\n</code></pre>\n\n<p>To automatically set date fields when saving entities.</p>\n\n<p>But now I have one of those entities and I want to manually set the created/updated field myself. </p>\n\n<p>Can I manually set my own or will it over-ride me? </p>\n"},{"tags":["java","validation","thymeleaf"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1693908638,"post_id":77043397,"comment_id":135818274,"body_markdown":"Why &quot;creat&quot; and not &quot;create&quot;?","body":"Why &quot;creat&quot; and not &quot;create&quot;?"},{"owner":{"account_id":29163172,"reputation":1,"user_id":22502623,"display_name":"Денис Шульженко"},"score":1,"creation_date":1693919410,"post_id":77043397,"comment_id":135820636,"body_markdown":"this does not affect the error in any way","body":"this does not affect the error in any way"},{"owner":{"account_id":29163172,"reputation":1,"user_id":22502623,"display_name":"Денис Шульженко"},"score":0,"creation_date":1693987532,"post_id":77043397,"comment_id":135830436,"body_markdown":"Comrades, I found it. You need to remove the @Validated annotation from the controller class","body":"Comrades, I found it. You need to remove the @Validated annotation from the controller class"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1693989089,"post_id":77043397,"comment_id":135830746,"body_markdown":"you might want to write it as a response","body":"you might want to write it as a response"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694039255,"post_id":77043397,"comment_id":135840535,"body_markdown":"(1) HTTP status 500 isn&#39;t intended to provide *any* information to the client. (2) As it *is* an error, there is *no* HTML for anything to be displayed in.","body":"(1) HTTP status 500 isn&#39;t intended to provide <i>any</i> information to the client. (2) As it <i>is</i> an error, there is <i>no</i> HTML for anything to be displayed in."}],"answers":[{"tags":[],"owner":{"account_id":29163172,"reputation":1,"user_id":22502623,"display_name":"Денис Шульженко"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694031282,"creation_date":1694031282,"answer_id":77055032,"question_id":77043397,"body_markdown":"Comrades, I found it. You need to remove the `@Validated` annotation from the controller class","title":"BindingResult errors are not displayed in HTML","body":"<p>Comrades, I found it. You need to remove the <code>@Validated</code> annotation from the controller class</p>\n"}],"owner":{"account_id":29163172,"reputation":1,"user_id":22502623,"display_name":"Денис Шульженко"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694031282,"creation_date":1693906759,"question_id":77043397,"body_markdown":"After filling out the form and sending the POST request, I receive an error message on the page\r\n\r\n`type=Internal Server Error, status=500`\r\n\r\nAnd the console displays the following\r\n\r\n```\r\njakarta.validation.ConstraintViolationException: creatPost.post.heading: Заголовок не может быть пустым\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:138) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702) ~[spring-aop-6.0.9.jar:6.0.9]\r\n```\r\n\r\nMy controller class\r\n\r\n```\r\n@Controller\r\n@Validated\r\n@RequiredArgsConstructor\r\npublic class PostController {\r\n    private final PostService postService;\r\n    @GetMapping(&quot;/&quot;)\r\n    public String posts(@RequestParam(name = &quot;heading&quot;, required = false) String heading, Model model) {\r\n        List&lt;Post&gt; posts = postService.listPosts(heading);\r\n        Map&lt;Long, String&gt; times = postService.timeFromPosts(posts);\r\n        model.addAttribute(&quot;posts&quot;, posts);\r\n        model.addAttribute(&quot;times&quot;, times);\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/post/creat&quot;)\r\n    public String pageCreatPost(Model model) {\r\n        model.addAttribute(&quot;post&quot;, new Post());\r\n        return &quot;add&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/post/creat&quot;)\r\n    public String creatPost(@Valid @ModelAttribute(&quot;post&quot;) Post post,\r\n                            BindingResult bindingResult,\r\n                            @RequestParam(&quot;file&quot;) MultipartFile multipartFile) throws IOException {\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;add&quot;;\r\n        }\r\n        postService.savePost(multipartFile, post);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/post/delete/{id}&quot;)\r\n    public String deletePost(@PathVariable Long id) {\r\n        postService.deletePost(id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/post/{id}&quot;)\r\n    public String postInfo(@PathVariable Long id, Model model) {\r\n        Post post = postService.getPostById(id);\r\n        String data = postService.timeFormatting(post.getDateTime());\r\n        List&lt;ImageDto&gt; imageDtos = postService.listImagesDtos(post);\r\n        model.addAttribute(&quot;post&quot;, post);\r\n        model.addAttribute(&quot;data&quot;, data);\r\n        model.addAttribute(&quot;images&quot;, imageDtos);\r\n        return &quot;post-info&quot;;\r\n    }\r\n}\r\n```\r\n\r\nEntity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;posts&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Post {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;heading&quot;)\r\n    @NotEmpty(message = &quot;Заголовок не может быть пустым&quot;)\r\n    @Size(max = 50, message = &quot;Заголовок не должен превышать 50 символов&quot;)\r\n    private String heading;\r\n\r\n    @Column(name = &quot;description&quot;, columnDefinition = &quot;text&quot;)\r\n    @NotEmpty(message = &quot;Описание не может быть пустым&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;price&quot;)\r\n    @Min(value = 1, message = &quot;Цена должна быть больше 0&quot;)\r\n    private int price;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    @NotEmpty(message = &quot;Адрес не может быть пустым&quot;)\r\n    private String address;\r\n\r\n    @Column(name = &quot;phone_number&quot;)\r\n    @Pattern(regexp = &quot;^\\\\+?[0-9]*$&quot;, message = &quot;Номер телефона должен содержать только цифры и символ &#39;+&#39;&quot;)\r\n    private String phoneNumber;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;post&quot;)\r\n    private List&lt;Image&gt; images = new ArrayList&lt;&gt;();\r\n\r\n    private LocalDateTime dateTime;\r\n\r\n    @PrePersist\r\n    private void init() {\r\n        dateTime = LocalDateTime.now();\r\n    }\r\n\r\n    public void addImageToPost(Image image) {\r\n        image.setPost(this);\r\n        images.add(image);\r\n    }\r\n}\r\n```\r\n\r\nView\r\n\r\n```\r\n&lt;div class=&quot;col-9&quot;&gt;\r\n    &lt;div class=&quot;form-outline mb-4&quot;&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;heading&quot; name=&quot;heading&quot; class=&quot;form-control&quot; th:field=&quot;*{post.heading}&quot; /&gt;\r\n        &lt;span class=&quot;error&quot; th:if=&quot;${#fields.hasErrors(&#39;heading&#39;)}&quot; th:errors=&quot;*{post.heading}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;ru.bulletin_board&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bulletin_board&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;bulletin board&lt;/name&gt;\r\n    &lt;description&gt;bulletin board&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAfter sending a POST request, validation errors should be displayed in the view if validation is violated\r\n\r\nin most sources , such an implementation","title":"BindingResult errors are not displayed in HTML","body":"<p>After filling out the form and sending the POST request, I receive an error message on the page</p>\n<p><code>type=Internal Server Error, status=500</code></p>\n<p>And the console displays the following</p>\n<pre><code>jakarta.validation.ConstraintViolationException: creatPost.post.heading: Заголовок не может быть пустым\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:138) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.9.jar:6.0.9]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702) ~[spring-aop-6.0.9.jar:6.0.9]\n</code></pre>\n<p>My controller class</p>\n<pre><code>@Controller\n@Validated\n@RequiredArgsConstructor\npublic class PostController {\n    private final PostService postService;\n    @GetMapping(&quot;/&quot;)\n    public String posts(@RequestParam(name = &quot;heading&quot;, required = false) String heading, Model model) {\n        List&lt;Post&gt; posts = postService.listPosts(heading);\n        Map&lt;Long, String&gt; times = postService.timeFromPosts(posts);\n        model.addAttribute(&quot;posts&quot;, posts);\n        model.addAttribute(&quot;times&quot;, times);\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/post/creat&quot;)\n    public String pageCreatPost(Model model) {\n        model.addAttribute(&quot;post&quot;, new Post());\n        return &quot;add&quot;;\n    }\n\n    @PostMapping(&quot;/post/creat&quot;)\n    public String creatPost(@Valid @ModelAttribute(&quot;post&quot;) Post post,\n                            BindingResult bindingResult,\n                            @RequestParam(&quot;file&quot;) MultipartFile multipartFile) throws IOException {\n        if (bindingResult.hasErrors()) {\n            return &quot;add&quot;;\n        }\n        postService.savePost(multipartFile, post);\n        return &quot;redirect:/&quot;;\n    }\n\n    @PostMapping(&quot;/post/delete/{id}&quot;)\n    public String deletePost(@PathVariable Long id) {\n        postService.deletePost(id);\n        return &quot;redirect:/&quot;;\n    }\n\n    @GetMapping(&quot;/post/{id}&quot;)\n    public String postInfo(@PathVariable Long id, Model model) {\n        Post post = postService.getPostById(id);\n        String data = postService.timeFormatting(post.getDateTime());\n        List&lt;ImageDto&gt; imageDtos = postService.listImagesDtos(post);\n        model.addAttribute(&quot;post&quot;, post);\n        model.addAttribute(&quot;data&quot;, data);\n        model.addAttribute(&quot;images&quot;, imageDtos);\n        return &quot;post-info&quot;;\n    }\n}\n</code></pre>\n<p>Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;posts&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Post {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;heading&quot;)\n    @NotEmpty(message = &quot;Заголовок не может быть пустым&quot;)\n    @Size(max = 50, message = &quot;Заголовок не должен превышать 50 символов&quot;)\n    private String heading;\n\n    @Column(name = &quot;description&quot;, columnDefinition = &quot;text&quot;)\n    @NotEmpty(message = &quot;Описание не может быть пустым&quot;)\n    private String description;\n\n    @Column(name = &quot;price&quot;)\n    @Min(value = 1, message = &quot;Цена должна быть больше 0&quot;)\n    private int price;\n\n    @Column(name = &quot;address&quot;)\n    @NotEmpty(message = &quot;Адрес не может быть пустым&quot;)\n    private String address;\n\n    @Column(name = &quot;phone_number&quot;)\n    @Pattern(regexp = &quot;^\\\\+?[0-9]*$&quot;, message = &quot;Номер телефона должен содержать только цифры и символ '+'&quot;)\n    private String phoneNumber;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;post&quot;)\n    private List&lt;Image&gt; images = new ArrayList&lt;&gt;();\n\n    private LocalDateTime dateTime;\n\n    @PrePersist\n    private void init() {\n        dateTime = LocalDateTime.now();\n    }\n\n    public void addImageToPost(Image image) {\n        image.setPost(this);\n        images.add(image);\n    }\n}\n</code></pre>\n<p>View</p>\n<pre><code>&lt;div class=&quot;col-9&quot;&gt;\n    &lt;div class=&quot;form-outline mb-4&quot;&gt;\n        &lt;input type=&quot;text&quot; id=&quot;heading&quot; name=&quot;heading&quot; class=&quot;form-control&quot; th:field=&quot;*{post.heading}&quot; /&gt;\n        &lt;span class=&quot;error&quot; th:if=&quot;${#fields.hasErrors('heading')}&quot; th:errors=&quot;*{post.heading}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;ru.bulletin_board&lt;/groupId&gt;\n    &lt;artifactId&gt;bulletin_board&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;bulletin board&lt;/name&gt;\n    &lt;description&gt;bulletin board&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;provided&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After sending a POST request, validation errors should be displayed in the view if validation is violated</p>\n<p>in most sources , such an implementation</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694030900,"creation_date":1554311846,"answer_id":55500788,"question_id":55496995,"body_markdown":"If I understand you correctly, you want to configure the logging of a lib which uses Java Util Logging.\r\n\r\nSpring Boot comes already with a [managed dependency](https://github.com/spring-projects/spring-boot/blob/d9af7cec141190fb32e20de6a64c2d3b03b644e4/spring-boot-project/spring-boot-dependencies/build.gradle#L1465) which helps you to fix your issue.\r\n\r\nPlease add or verify that you&#39;ve already added the JUL to SLF4J bridge:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nPlease check also, that you put your logger configurations in the [correct config file](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration), especially referencing:\r\n\r\n* Logback – logback-spring.xml, …\r\n* Log4j2 – log4j2-spring.xml, …\r\n* JDK (Java Util Logging) – logging.properties","title":"can I configure Java logging to make use of Spring Boot logging?","body":"<p>If I understand you correctly, you want to configure the logging of a lib which uses Java Util Logging.</p>\n<p>Spring Boot comes already with a <a href=\"https://github.com/spring-projects/spring-boot/blob/d9af7cec141190fb32e20de6a64c2d3b03b644e4/spring-boot-project/spring-boot-dependencies/build.gradle#L1465\" rel=\"nofollow noreferrer\">managed dependency</a> which helps you to fix your issue.</p>\n<p>Please add or verify that you've already added the JUL to SLF4J bridge:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please check also, that you put your logger configurations in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration\" rel=\"nofollow noreferrer\">correct config file</a>, especially referencing:</p>\n<ul>\n<li>Logback – logback-spring.xml, …</li>\n<li>Log4j2 – log4j2-spring.xml, …</li>\n<li>JDK (Java Util Logging) – logging.properties</li>\n</ul>\n"}],"owner":{"account_id":10483819,"reputation":1431,"user_id":7728038,"display_name":"Steven W. Klassen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55500788,"answer_count":1,"score":2,"last_activity_date":1694030900,"creation_date":1554300000,"question_id":55496995,"body_markdown":"My use case is as follows. I&#39;m developing a large spring based application and we are using spring boot logging throughout. However, for various reasons I need to use a third-party library that uses java.util.Logger in its internals. This causes the two separate loggers to both send their output to our console.\r\n\r\nI&#39;ve found many examples on how to configure spring boot logging to use java logging as its output, but I haven&#39;t been able to determine how to go the other way.\r\n\r\nThe library in question - JLibModbus - includes API access to set it&#39;s logging level or to turn it off, but I don&#39;t see any way to actually tell it to use a different logger. Presumably this should be possible. I&#39;m hoping that someone else has already done this.\r\n\r\n(Actually I&#39;m working in Kotlin, not Java, but any answer that works in one I should be able to convert to the other.)","title":"can I configure Java logging to make use of Spring Boot logging?","body":"<p>My use case is as follows. I'm developing a large spring based application and we are using spring boot logging throughout. However, for various reasons I need to use a third-party library that uses java.util.Logger in its internals. This causes the two separate loggers to both send their output to our console.</p>\n\n<p>I've found many examples on how to configure spring boot logging to use java logging as its output, but I haven't been able to determine how to go the other way.</p>\n\n<p>The library in question - JLibModbus - includes API access to set it's logging level or to turn it off, but I don't see any way to actually tell it to use a different logger. Presumably this should be possible. I'm hoping that someone else has already done this.</p>\n\n<p>(Actually I'm working in Kotlin, not Java, but any answer that works in one I should be able to convert to the other.)</p>\n"},{"tags":["java","solr","rhel"],"owner":{"account_id":8338251,"reputation":1,"user_id":22511619,"display_name":"asmox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694030698,"creation_date":1694030698,"question_id":77054967,"body_markdown":"We recently upgraded several servers from RHEL 7.9 to RHEL 8.8 and are now attempting to perform clean installations of Solr 9.3 with OpenJDK 11. RHEL is running in FIPS mode with SELinux enabled but our particular Solr environment does not require any crypto, so we&#39;ve disabled FIPS and SSL within Solr by adding the following to /etc/default/solr.in.sh -\r\n\r\nSOLR_OPTS=&quot;$SOLR_OPTS -Dcom.redhat.fips=false&quot;\r\n\r\nSOLR_SSL_ENABLED=false\r\n\r\n--\r\n\r\nSolr itself starts normally but attempting to create a core errors out with this - \r\n\r\n&gt; ERROR: java.lang.IllegalStateException: /var/solr/NONE is not a valid keystore\r\n&gt; \r\n&gt; java.lang.RuntimeException: java.lang.IllegalStateException: /var/solr/NONE is not a valid keystore\r\n&gt; at org.apache.solr.client.solrj.impl.Http2SolrClient.createHttpClient(Http2SolrClient.java:290)\r\n&gt; at org.apache.solr.client.solrj.impl.Http2SolrClient.&lt;init&gt;(Http2SolrClient.java:180)\r\n&gt; at org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.build(Http2SolrClient.java:1052)\r\n&gt; at org.apache.solr.cli.SolrCLI.getSolrClient(SolrCLI.java:426)\r\n&gt; at org.apache.solr.cli.CreateCoreTool.runImpl(CreateCoreTool.java:109)\r\n&gt; at org.apache.solr.cli.ToolBase.runTool(ToolBase.java:52)\r\n&gt; at org.apache.solr.cli.SolrCLI.main(SolrCLI.java:156)\r\n&gt; Caused by: java.lang.IllegalStateException: /var/solr/NONE is not a valid keystore\r\n&gt; at org.eclipse.jetty.util.security.CertificateUtils.getKeyStore(CertificateUtils.java:45)\r\n&gt; at org.eclipse.jetty.util.ssl.SslContextFactory.loadKeyStore(SslContextFactory.java:1121)\r\n&gt; at org.eclipse.jetty.util.ssl.SslContextFactory.load(SslContextFactory.java:291)\r\n&gt; at org.eclipse.jetty.util.ssl.SslContextFactory.doStart(SslContextFactory.java:213)\r\n&gt; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n&gt; at org.eclipse.jetty.io.ClientConnector.doStart(ClientConnector.java:376)\r\n&gt; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n&gt; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n&gt; at org.eclipse.jetty.http2.client.http.HttpClientTransportOverHTTP2.doStart(HttpClientTransportOverHTTP2.java:100)\r\n&gt; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n&gt; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n&gt; at org.eclipse.jetty.client.HttpClient.doStart(HttpClient.java:232)\r\n&gt; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n&gt; at org.apache.solr.client.solrj.impl.Http2SolrClient.createHttpClient(Http2SolrClient.java:287)\r\n&gt; 6 more\r\n\r\n--\r\n\r\nWith SSL explicitly disabled, we would have expected all SSL-specific requirements to be ignored, but seems like they are not. The same process works as expected in our old environment with Solr 8.8. Are there other parameters or configuration files we&#39;ve missed which may be specific to Solr 9.x?\r\n\r\nTo clarify - Solr itself starts without issues and bypasses FIPS requirements as expected. It&#39;s only core creation which behaves this way.\r\n\r\nThanks for any insight.","title":"Solr 9.3 without SSL on RHEL 8.8 - cannot create core","body":"<p>We recently upgraded several servers from RHEL 7.9 to RHEL 8.8 and are now attempting to perform clean installations of Solr 9.3 with OpenJDK 11. RHEL is running in FIPS mode with SELinux enabled but our particular Solr environment does not require any crypto, so we've disabled FIPS and SSL within Solr by adding the following to /etc/default/solr.in.sh -</p>\n<p>SOLR_OPTS=&quot;$SOLR_OPTS -Dcom.redhat.fips=false&quot;</p>\n<p>SOLR_SSL_ENABLED=false</p>\n<p>--</p>\n<p>Solr itself starts normally but attempting to create a core errors out with this -</p>\n<blockquote>\n<p>ERROR: java.lang.IllegalStateException: /var/solr/NONE is not a valid keystore</p>\n<p>java.lang.RuntimeException: java.lang.IllegalStateException: /var/solr/NONE is not a valid keystore\nat org.apache.solr.client.solrj.impl.Http2SolrClient.createHttpClient(Http2SolrClient.java:290)\nat org.apache.solr.client.solrj.impl.Http2SolrClient.(Http2SolrClient.java:180)\nat org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.build(Http2SolrClient.java:1052)\nat org.apache.solr.cli.SolrCLI.getSolrClient(SolrCLI.java:426)\nat org.apache.solr.cli.CreateCoreTool.runImpl(CreateCoreTool.java:109)\nat org.apache.solr.cli.ToolBase.runTool(ToolBase.java:52)\nat org.apache.solr.cli.SolrCLI.main(SolrCLI.java:156)\nCaused by: java.lang.IllegalStateException: /var/solr/NONE is not a valid keystore\nat org.eclipse.jetty.util.security.CertificateUtils.getKeyStore(CertificateUtils.java:45)\nat org.eclipse.jetty.util.ssl.SslContextFactory.loadKeyStore(SslContextFactory.java:1121)\nat org.eclipse.jetty.util.ssl.SslContextFactory.load(SslContextFactory.java:291)\nat org.eclipse.jetty.util.ssl.SslContextFactory.doStart(SslContextFactory.java:213)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\nat org.eclipse.jetty.io.ClientConnector.doStart(ClientConnector.java:376)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\nat org.eclipse.jetty.http2.client.http.HttpClientTransportOverHTTP2.doStart(HttpClientTransportOverHTTP2.java:100)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\nat org.eclipse.jetty.client.HttpClient.doStart(HttpClient.java:232)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.apache.solr.client.solrj.impl.Http2SolrClient.createHttpClient(Http2SolrClient.java:287)\n6 more</p>\n</blockquote>\n<p>--</p>\n<p>With SSL explicitly disabled, we would have expected all SSL-specific requirements to be ignored, but seems like they are not. The same process works as expected in our old environment with Solr 8.8. Are there other parameters or configuration files we've missed which may be specific to Solr 9.x?</p>\n<p>To clarify - Solr itself starts without issues and bypasses FIPS requirements as expected. It's only core creation which behaves this way.</p>\n<p>Thanks for any insight.</p>\n"},{"tags":["java","spring-boot","maven","google-cloud-platform","spring-cloud-gcp"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":1,"creation_date":1694071959,"post_id":77054939,"comment_id":135843625,"body_markdown":"Do you want to share the commons module with different app and have it stored centrally to be able to import it easily?","body":"Do you want to share the commons module with different app and have it stored centrally to be able to import it easily?"},{"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"score":0,"creation_date":1694078689,"post_id":77054939,"comment_id":135844998,"body_markdown":"@guillaumeblaquiere yes, right","body":"@guillaumeblaquiere yes, right"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1694079392,"post_id":77054939,"comment_id":135845170,"body_markdown":"Publish your module in Artifact Registry. You have a maven repository managed for you. It&#39;s the best place. https://cloud.google.com/artifact-registry/docs/java/store-java","body":"Publish your module in Artifact Registry. You have a maven repository managed for you. It&#39;s the best place. <a href=\"https://cloud.google.com/artifact-registry/docs/java/store-java\" rel=\"nofollow noreferrer\">cloud.google.com/artifact-registry/docs/java/store-java</a>"}],"owner":{"account_id":17168363,"reputation":334,"user_id":12426044,"display_name":"Akash Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694030362,"creation_date":1694030362,"question_id":77054939,"body_markdown":"I am setting up a new multi-module Springboot project.\r\n\r\n**MyApp(root)**\r\n - **my-app-commons**\r\n - **my-app-api-a**\r\n\r\nThe **my-app-commons** module will have the model classes and so Application(Main) class isn&#39;t required and it can be used as a library (dependency) in other modules.\r\n\r\nI intend to connect to GCP bucket from the **my-app-api-a** module.In future I will have to add more child modules to MyApp. I was thinking if I can have my GCP storage related configuration inside the **my-app-commons** module and use it as spring managed dependency (autowired) in **my-app-api-a** module, and possibly in future modules, instead of repeating the configuration related code in multiple modules.\r\n\r\nAs I am a beginner, I am not sure if its a good approach. I also think I will need Application(Main) class and have component scan to read the configuration.\r\n\r\nPlease can you suggest the best practice for what I am trying to achieve here.","title":"Sharing configuration across modules in Springboot multi-module project","body":"<p>I am setting up a new multi-module Springboot project.</p>\n<p><strong>MyApp(root)</strong></p>\n<ul>\n<li><strong>my-app-commons</strong></li>\n<li><strong>my-app-api-a</strong></li>\n</ul>\n<p>The <strong>my-app-commons</strong> module will have the model classes and so Application(Main) class isn't required and it can be used as a library (dependency) in other modules.</p>\n<p>I intend to connect to GCP bucket from the <strong>my-app-api-a</strong> module.In future I will have to add more child modules to MyApp. I was thinking if I can have my GCP storage related configuration inside the <strong>my-app-commons</strong> module and use it as spring managed dependency (autowired) in <strong>my-app-api-a</strong> module, and possibly in future modules, instead of repeating the configuration related code in multiple modules.</p>\n<p>As I am a beginner, I am not sure if its a good approach. I also think I will need Application(Main) class and have component scan to read the configuration.</p>\n<p>Please can you suggest the best practice for what I am trying to achieve here.</p>\n"},{"tags":["java","spring","maven","cron"],"answers":[{"tags":[],"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498574696,"creation_date":1498574696,"answer_id":44783272,"question_id":44783048,"body_markdown":"You need EnableScheduling in your main config\r\n\r\n    @EnableScheduling\r\n    .....\r\n    ..... other config annotaions\r\n    public class ApplicationConfig {\r\n    }","title":"Configure a scheduled task on .war file created by Spring/Maven","body":"<p>You need EnableScheduling in your main config</p>\n\n<pre><code>@EnableScheduling\n.....\n..... other config annotaions\npublic class ApplicationConfig {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5943234,"reputation":3917,"user_id":4684539,"accept_rate":98,"display_name":"AndreaM16"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1498659927,"creation_date":1498659927,"answer_id":44805341,"question_id":44783048,"body_markdown":"You should fix by replacing `@Component` with `@Service` and `@EnableScheduling`.\r\n\r\n    @Service\r\n    @EnableScheduling\r\n    public class ScheduledTasks {\r\n        . . .\r\n    }","title":"Configure a scheduled task on .war file created by Spring/Maven","body":"<p>You should fix by replacing <code>@Component</code> with <code>@Service</code> and <code>@EnableScheduling</code>.</p>\n\n<pre><code>@Service\n@EnableScheduling\npublic class ScheduledTasks {\n    . . .\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1387308,"reputation":733,"user_id":1319039,"display_name":"d2k2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694029660,"creation_date":1694029660,"answer_id":77054870,"question_id":44783048,"body_markdown":"you have to add `@EnableScheduling` and `SpringBootServletInitializer` in your Spring Boot application class to make the scheduler work when you deploy the war file on tomcat.\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class MyApplication extends SpringBootServletInitializer{\r\n    \r\n    }\r\n\r\nthen just add a method with @Scheduled annotation in a spring managed bean.\r\n\r\n    @Service\r\n    public class MyService{\r\n    \r\n        @Scheduled(fixedRate = 60_000)\r\n        public void runEveryMinute(){\r\n            System.out.println(&quot;hello&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Configure a scheduled task on .war file created by Spring/Maven","body":"<p>you have to add <code>@EnableScheduling</code> and <code>SpringBootServletInitializer</code> in your Spring Boot application class to make the scheduler work when you deploy the war file on tomcat.</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class MyApplication extends SpringBootServletInitializer{\n\n}\n</code></pre>\n<p>then just add a method with @Scheduled annotation in a spring managed bean.</p>\n<pre><code>@Service\npublic class MyService{\n\n    @Scheduled(fixedRate = 60_000)\n    public void runEveryMinute(){\n        System.out.println(&quot;hello&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11204808,"reputation":43,"user_id":8220741,"display_name":"Marco Arnone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44805341,"answer_count":3,"score":4,"last_activity_date":1694029660,"creation_date":1498574131,"question_id":44783048,"body_markdown":"I have an application developed on **spring framework** with **maven**. I have many modules (each one has its own **pom.xml** file) and I have the generic **pom.xml** to compile the entire project.\r\n\r\nUsing **maven** I compile a `.war` file and I deploy this one in a **Jetty** server, but now I have another problem. I need to configure a function that will execute some code every couple of minutes.\r\nI tried to configure it like [at the following link](https://spring.io/guides/gs/scheduling-tasks), so having:\r\n\r\nI edited the specific pom.xml file and I add this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOn dependencies list, I added this in plugin list:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI created in the same module one file that defined this class:\r\n\r\n    @Component\r\n    public class ScheduledTasks {\r\n      private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n    \r\n        private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n    \r\n        @Scheduled(fixedDelay = 5000)\r\n        public void reportCurrentTime() {\r\n            log.info(&quot;The time is now {}&quot;, dateFormat.format(new Date()));\r\n        }\r\n    }\r\n\r\nbut it doesn&#39;t work for me. Logs don&#39;t print anything.\r\nI&#39;ve been struggling with this issue for a while but I didn&#39;t manage to find any solution also taking a look at other related Q/A on StackOverflow.\r\n\r\n**What Am I doing wrong? How can I fix this?**\r\n\r\nThanks in advance.\r\n\r\n","title":"Configure a scheduled task on .war file created by Spring/Maven","body":"<p>I have an application developed on <strong>spring framework</strong> with <strong>maven</strong>. I have many modules (each one has its own <strong>pom.xml</strong> file) and I have the generic <strong>pom.xml</strong> to compile the entire project.</p>\n\n<p>Using <strong>maven</strong> I compile a <code>.war</code> file and I deploy this one in a <strong>Jetty</strong> server, but now I have another problem. I need to configure a function that will execute some code every couple of minutes.\nI tried to configure it like <a href=\"https://spring.io/guides/gs/scheduling-tasks\" rel=\"nofollow noreferrer\">at the following link</a>, so having:</p>\n\n<p>I edited the specific pom.xml file and I add this:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>On dependencies list, I added this in plugin list:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I created in the same module one file that defined this class:</p>\n\n<pre><code>@Component\npublic class ScheduledTasks {\n  private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(\"HH:mm:ss\");\n\n    @Scheduled(fixedDelay = 5000)\n    public void reportCurrentTime() {\n        log.info(\"The time is now {}\", dateFormat.format(new Date()));\n    }\n}\n</code></pre>\n\n<p>but it doesn't work for me. Logs don't print anything.\nI've been struggling with this issue for a while but I didn't manage to find any solution also taking a look at other related Q/A on StackOverflow.</p>\n\n<p><strong>What Am I doing wrong? How can I fix this?</strong></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mongodb","spring-boot","mongotemplate"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1694029915,"post_id":77054837,"comment_id":135839290,"body_markdown":"What database context (&#39;namespace&#39;) are you running the command against? The error suggests that it currently isn&#39;t `admin`, and that adjusting that would resolve the problem. Note also that `adminCommand()` is a special form of the `runCommand()` function that automatically routes the command to the `admin` database regardless of what context is currently set in the shell","body":"What database context (&#39;namespace&#39;) are you running the command against? The error suggests that it currently isn&#39;t <code>admin</code>, and that adjusting that would resolve the problem. Note also that <code>adminCommand()</code> is a special form of the <code>runCommand()</code> function that automatically routes the command to the <code>admin</code> database regardless of what context is currently set in the shell"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1694076666,"post_id":77054837,"comment_id":135844586,"body_markdown":"`not authorized on admin to execute command { replSetGetStatus: \\&quot;1\\&quot;, $db: \\&quot;admin\\&quot;, $clusterTime: { clusterTime: Timestamp(1694076477, 1), signature: { hash: BinData(0, 8483708B704532E3D90E8E986C60262553B18A79), keyId: 7231366454078078978 } }, lsid: { id: UUID(\\&quot;4c1f1d45-a000-40c6-a212-b86a5b5873c2\\&quot;) }`  as you see here it is the admin database I am running it against","body":"<code>not authorized on admin to execute command { replSetGetStatus: \\&quot;1\\&quot;, $db: \\&quot;admin\\&quot;, $clusterTime: { clusterTime: Timestamp(1694076477, 1), signature: { hash: BinData(0, 8483708B704532E3D90E8E986C60262553B18A79), keyId: 7231366454078078978 } }, lsid: { id: UUID(\\&quot;4c1f1d45-a000-40c6-a212-b86a5b5873c2\\&quot;) }</code>  as you see here it is the admin database I am running it against"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1694098488,"post_id":77054837,"comment_id":135849372,"body_markdown":"Have you authenticated with a user who has appropriate privileges to run the command?","body":"Have you authenticated with a user who has appropriate privileges to run the command?"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1694099598,"post_id":77054837,"comment_id":135849650,"body_markdown":"Yup, I used the same db / user to query the command directly against the mongo db and it works. Just is not working through the code","body":"Yup, I used the same db / user to query the command directly against the mongo db and it works. Just is not working through the code"}],"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694029405,"creation_date":1694029405,"question_id":77054837,"body_markdown":"I am writing some code to periodically check db connectivity and find status of each individual member of the mongo replica set. \r\n\r\nI want the result of the following mongo command to be accessed through spring boot&#39;s mongo template. \r\n\r\n```db.adminCommand({replSetGetStatus: 1})```\r\n\r\nWhen I try to access this from mongo template I am getting unauthorized error:\r\n\r\n```\r\nBson ping = new BasicDBObject(&quot;replSetGetStatus&quot;, &quot;1&quot;);\r\nString test = mongoTemplate.getDb().runCommand(ping).toString();\r\n```\r\n```\r\nCommand failed with error 13 (Unauthorized): &#39;replSetGetStatus may only be run against the admin database.&#39; \r\n```\r\nIs there any other way to achieve what I am looking for? Thanks","title":"How do I get individual mongo server status from mongo template in spring boot?","body":"<p>I am writing some code to periodically check db connectivity and find status of each individual member of the mongo replica set.</p>\n<p>I want the result of the following mongo command to be accessed through spring boot's mongo template.</p>\n<p><code>db.adminCommand({replSetGetStatus: 1})</code></p>\n<p>When I try to access this from mongo template I am getting unauthorized error:</p>\n<pre><code>Bson ping = new BasicDBObject(&quot;replSetGetStatus&quot;, &quot;1&quot;);\nString test = mongoTemplate.getDb().runCommand(ping).toString();\n</code></pre>\n<pre><code>Command failed with error 13 (Unauthorized): 'replSetGetStatus may only be run against the admin database.' \n</code></pre>\n<p>Is there any other way to achieve what I am looking for? Thanks</p>\n"},{"tags":["java","azure-purview","azure-sdk-for-java"],"owner":{"account_id":29381983,"reputation":1,"user_id":22512273,"display_name":"GGranados"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694029339,"creation_date":1694029284,"question_id":77054823,"body_markdown":"I&#39;m have to update BusinessAttributes metadata in an entity in Azure Purview\r\n\r\nBy [Purview API](https://learn.microsoft.com/en-us/rest/api/purview/catalogdataplane/entity/add-or-update-business-metadata-attributes?tabs=HTTP#examples) I have to call:\r\n\r\n`POST {Endpoint}/catalog/api/atlas/v2/entity/guid/{guid}/businessmetadata/{bmName}`\r\n\r\nAnd send attributes to be updated in body request:\r\n```\r\n{\r\n  &quot;bizAttr1&quot;: &quot;bizAttr1&quot;\r\n}\r\n```\r\n\r\nDocumentation for [azure-sdk-for-java](https://azuresdkartifacts.blob.core.windows.net//staging/apidocs/com/azure/analytics/purview/catalog/EntityClient.htmlazure-sdk-for-java) mentions over-loaded method **addOrUpdateBusinessMetadataAttributesWithResponse**:\r\n\r\n\r\nOne having parameters: `(String bmName, String guid, RequestOptions requestOptions)`\r\n\r\nand: `(String guid, RequestOptions requestOptions)`\r\n\r\nThey have no **BinaryData** parameter, how should Body Request JSON object be passed?","title":"How to pass Body Request passed to addOrUpdateBusinessMetadataAttributesWithResponse of a Purview Entity with azure-sdk-for-java?","body":"<p>I'm have to update BusinessAttributes metadata in an entity in Azure Purview</p>\n<p>By <a href=\"https://learn.microsoft.com/en-us/rest/api/purview/catalogdataplane/entity/add-or-update-business-metadata-attributes?tabs=HTTP#examples\" rel=\"nofollow noreferrer\">Purview API</a> I have to call:</p>\n<p><code>POST {Endpoint}/catalog/api/atlas/v2/entity/guid/{guid}/businessmetadata/{bmName}</code></p>\n<p>And send attributes to be updated in body request:</p>\n<pre><code>{\n  &quot;bizAttr1&quot;: &quot;bizAttr1&quot;\n}\n</code></pre>\n<p>Documentation for <a href=\"https://azuresdkartifacts.blob.core.windows.net//staging/apidocs/com/azure/analytics/purview/catalog/EntityClient.htmlazure-sdk-for-java\" rel=\"nofollow noreferrer\">azure-sdk-for-java</a> mentions over-loaded method <strong>addOrUpdateBusinessMetadataAttributesWithResponse</strong>:</p>\n<p>One having parameters: <code>(String bmName, String guid, RequestOptions requestOptions)</code></p>\n<p>and: <code>(String guid, RequestOptions requestOptions)</code></p>\n<p>They have no <strong>BinaryData</strong> parameter, how should Body Request JSON object be passed?</p>\n"},{"tags":["java","spring-boot","spring-webflux","controller-advice"],"owner":{"account_id":8611883,"reputation":43,"user_id":22504890,"display_name":"user22504890"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694029121,"creation_date":1694029005,"question_id":77054796,"body_markdown":"I have controller like this:\r\n\r\n\r\n```\r\n    @PostMapping(consumes = &quot;application/json&quot;, value = &quot;id&quot;)\r\n    public Mono&lt;MyResponse&gt; filtering(@Valid @RequestBody MyRequest request) {\r\n        return Mono.fromCallable(() -&gt;peopleFiltering.filter(\r\n                        request.getEntity()))\r\n                .flatMap(result -&gt; result.map(MyResponseMapper::mapToResponse));\r\n}\r\n```\r\n\r\n\r\n\r\nAnd this is my controller advice:\r\n\r\n   \r\n```\r\n@ControllerAdvice\r\n   public class CustomExceptionHandler {`\r\n\r\n    @ExceptionHandler({NotFoundException.class})\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    @ResponseBody\r\n    public Mono&lt;BankFilteringError&gt; handleNotFound(NotFoundException ex) {\r\n        MyError error = new MyError();\r\n        error.setCode(&quot;404&quot;);\r\n        error.setDescription(&quot;404 NOT_FOUND&quot;);\r\n       error.setInstance(&quot;instance&quot;);\r\n       error.setMessage(&quot;Not Found&quot;);\r\n\r\n       return Mono.just(error);\r\n    }\r\n\r\n    @ExceptionHandler({BadRequestException.class})\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ResponseBody\r\n    public BankFilteringError handleBadRequest(BadRequestException ex) {\r\n        MyError error = new MyError();\r\n        error.setCode(&quot;400&quot;);\r\n        error.setDescription(&quot;Invalid Request Body&quot;);\r\n        error.setInstance(&quot;instance&quot;);\r\n        error.setMessage(&quot;Bad Request&quot;); // Include the specific error message\r\n        return error;\r\n    }\r\n  }\r\n```\r\n\r\n\r\n\r\n\r\nThese are my custom exception classes:\r\n\r\n\r\n```\r\npublic class NotFoundException extends RuntimeException {\r\n    public NotFoundException(String errorMessage) {\r\n        super(errorMessage);\r\n    }\r\n}\r\n```\r\n\r\n\r\nand \r\n\r\n```\r\npublic class BadRequestException extends RuntimeException {\r\n    public BadRequestException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\nBut when I hit my url in postman I am getting 404 and 400 without my body.\r\n\r\nI tried with \r\n\r\n```\r\n.switchIfEmpty(Mono.error(request.gEntity() == null ?\r\n                        new BadRequestException(&quot;Invalid Request Body&quot;) :\r\n                        new NotFoundException(&quot;Not Found&quot;)));\r\n```\r\n\r\n\r\nBut without luck. Only time when this worked is when I put \r\n\r\n```\r\n@ExceptionHandler({RunTimeException.class}) //so, not my class\r\n   @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ResponseBody\r\n    public BankFilteringError handleBadRequest(BadRequestException ex) {\r\n        MyError error = new MyError();\r\n        error.setCode(&quot;400&quot;);\r\n        error.setDescription(&quot;Invalid Request Body&quot;);\r\n        error.setInstance(&quot;instance&quot;);\r\n        error.setMessage(&quot;Bad Request&quot;); // Include the specific error message\r\n        return error;\r\n    }\r\n  }\r\n```\r\n\r\nBut otherwise getting default spring errors 400 and 404 without my body. What am I doing wrong?","title":"Why my controller advice does not work properly with Mono?","body":"<p>I have controller like this:</p>\n<pre><code>    @PostMapping(consumes = &quot;application/json&quot;, value = &quot;id&quot;)\n    public Mono&lt;MyResponse&gt; filtering(@Valid @RequestBody MyRequest request) {\n        return Mono.fromCallable(() -&gt;peopleFiltering.filter(\n                        request.getEntity()))\n                .flatMap(result -&gt; result.map(MyResponseMapper::mapToResponse));\n}\n</code></pre>\n<p>And this is my controller advice:</p>\n<pre><code>@ControllerAdvice\n   public class CustomExceptionHandler {`\n\n    @ExceptionHandler({NotFoundException.class})\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ResponseBody\n    public Mono&lt;BankFilteringError&gt; handleNotFound(NotFoundException ex) {\n        MyError error = new MyError();\n        error.setCode(&quot;404&quot;);\n        error.setDescription(&quot;404 NOT_FOUND&quot;);\n       error.setInstance(&quot;instance&quot;);\n       error.setMessage(&quot;Not Found&quot;);\n\n       return Mono.just(error);\n    }\n\n    @ExceptionHandler({BadRequestException.class})\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public BankFilteringError handleBadRequest(BadRequestException ex) {\n        MyError error = new MyError();\n        error.setCode(&quot;400&quot;);\n        error.setDescription(&quot;Invalid Request Body&quot;);\n        error.setInstance(&quot;instance&quot;);\n        error.setMessage(&quot;Bad Request&quot;); // Include the specific error message\n        return error;\n    }\n  }\n</code></pre>\n<p>These are my custom exception classes:</p>\n<pre><code>public class NotFoundException extends RuntimeException {\n    public NotFoundException(String errorMessage) {\n        super(errorMessage);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class BadRequestException extends RuntimeException {\n    public BadRequestException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>But when I hit my url in postman I am getting 404 and 400 without my body.</p>\n<p>I tried with</p>\n<pre><code>.switchIfEmpty(Mono.error(request.gEntity() == null ?\n                        new BadRequestException(&quot;Invalid Request Body&quot;) :\n                        new NotFoundException(&quot;Not Found&quot;)));\n</code></pre>\n<p>But without luck. Only time when this worked is when I put</p>\n<pre><code>@ExceptionHandler({RunTimeException.class}) //so, not my class\n   @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public BankFilteringError handleBadRequest(BadRequestException ex) {\n        MyError error = new MyError();\n        error.setCode(&quot;400&quot;);\n        error.setDescription(&quot;Invalid Request Body&quot;);\n        error.setInstance(&quot;instance&quot;);\n        error.setMessage(&quot;Bad Request&quot;); // Include the specific error message\n        return error;\n    }\n  }\n</code></pre>\n<p>But otherwise getting default spring errors 400 and 404 without my body. What am I doing wrong?</p>\n"},{"tags":["java","junit","request","jersey","request-headers"],"answers":[{"tags":[],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568025483,"creation_date":1568025483,"answer_id":57852330,"question_id":57851388,"body_markdown":"You could try following:\r\n\r\n1) `builder.get().getMetadata()`\r\n\r\n2) `builder.get().getStringHeaders()`\r\n\r\n3) if previous two fail\r\n`((ClientResponse)ReflectionTestUtils.getField(builder.get(), &quot;context&quot;)).getHeaders()`","title":"How to get header from InvocationBuilder object from request in JUnit 5 test","body":"<p>You could try following:</p>\n\n<p>1) <code>builder.get().getMetadata()</code></p>\n\n<p>2) <code>builder.get().getStringHeaders()</code></p>\n\n<p>3) if previous two fail\n<code>((ClientResponse)ReflectionTestUtils.getField(builder.get(), \"context\")).getHeaders()</code></p>\n"},{"tags":[],"owner":{"account_id":6705297,"reputation":11,"user_id":5170498,"display_name":"Eric Driggs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694028948,"creation_date":1694028948,"answer_id":77054791,"question_id":57851388,"body_markdown":"```\r\nField requestContextField = JerseyInvocation.Builder.class.getDeclaredField(&quot;requestContext&quot;);\r\nrequestContextField.setAccessible(true);\r\nClientRequest clientRequest = (ClientRequest)requestContextField.get(invocationBuilder);\r\nMultivaluedMap&lt;String, Object&gt; actualHeaders = clientRequest.getHeaders();\r\n```","title":"How to get header from InvocationBuilder object from request in JUnit 5 test","body":"<pre><code>Field requestContextField = JerseyInvocation.Builder.class.getDeclaredField(&quot;requestContext&quot;);\nrequestContextField.setAccessible(true);\nClientRequest clientRequest = (ClientRequest)requestContextField.get(invocationBuilder);\nMultivaluedMap&lt;String, Object&gt; actualHeaders = clientRequest.getHeaders();\n</code></pre>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694028948,"creation_date":1568021798,"question_id":57851388,"body_markdown":"I want to test a method which is adding a header in a request to outside public API. \r\n\r\nThe method looks like:\r\n\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\nclass ProductsFacadeImpl implements ProductsFacade {\r\n\r\n  private NutritionixHeader nutritionixHeader;\r\n\r\n  @Override\r\n  public Invocation.Builder prepareHeaderForApiCall(String query) {\r\n    Client client = ClientBuilder.newClient();\r\n    WebTarget webTarget =\r\n        client.target(&quot;https://trackapi.nutritionix.com/v2/search/instant?query=&quot; + query);\r\n    Invocation.Builder invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON_VALUE);\r\n    invocationBuilder.header(&quot;x-app-id&quot;, nutritionixHeader.getNutritionixAppId());\r\n    invocationBuilder.header(&quot;x-app-key&quot;, nutritionixHeader.getNutritionixAppKey());\r\n    return invocationBuilder;\r\n  }\r\n}\r\n```\r\n\r\nnew version method for EDIT purpose:\r\n\r\n```\r\n  @Override\r\n  public Invocation prepareHeaderForApiCall(String query) {\r\n    Client client = ClientBuilder.newClient();\r\n    WebTarget webTarget =\r\n        client.target(&quot;https://trackapi.nutritionix.com/v2/search/instant?query=&quot; + query);\r\n    Invocation.Builder invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON_VALUE);\r\n    invocationBuilder.header(&quot;x-app-id&quot;, nutritionixHeader.getNutritionixAppId());\r\n    invocationBuilder.header(&quot;x-app-key&quot;, nutritionixHeader.getNutritionixAppKey());\r\n    return invocationBuilder.buildGet();\r\n  }\r\n```\r\n\r\nIn my JUnit 5 test, I want to check if my header contains two objects which are required by public API. It&#39;s: \r\n```\r\n&quot;x-app-id&quot;\r\n```\r\nand\r\n```\r\n&quot;x-app-key&quot;\r\n```\r\n\r\nMy test looks like:\r\n\r\n```\r\n@Test\r\n  void prepareHeaderForApiCall() {\r\n    var query = &quot;query&quot;;\r\n\r\n    given(nutritionixHeader.getNutritionixAppId()).willReturn(appId);\r\n    given(nutritionixHeader.getNutritionixAppKey()).willReturn(appKey);\r\n\r\n    Invocation.Builder builder = productsFacade.prepareHeaderForApiCall(query);\r\n\r\n    builder.get();\r\n\r\n    assertEquals(appId, builder.get().getHeaders().entrySet().stream().filter(entry -&gt; entry.getKey().equals(&quot;x-app-id&quot;)).map(Map.Entry::getValue).findFirst().orElse(null));\r\n\r\n  }\r\n```\r\n\r\nThe problem is that the method\r\n``` \r\ngetHeaders()\r\n```\r\nin my stream does not contain headers which I added and it looks like:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to know how I can get a header params objects which are placed in a requestContext object as a header objects like below: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nEDIT:\r\n\r\nI found one interesting thing with debugger and evaluate expression in IntelliJ, namely: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FOTLN.png\r\n  [2]: https://i.stack.imgur.com/Tv2SN.png\r\n  [3]: https://i.stack.imgur.com/LVYCm.png\r\nwith this above expression, I can find out my two added headers but I cannot use the same expression in a code. \r\n\r\nI will be grateful for a suggestion about how to reach a goal by getting headers object from the requestContext object. ","title":"How to get header from InvocationBuilder object from request in JUnit 5 test","body":"<p>I want to test a method which is adding a header in a request to outside public API. </p>\n\n<p>The method looks like:</p>\n\n<pre><code>@Service\n@AllArgsConstructor\nclass ProductsFacadeImpl implements ProductsFacade {\n\n  private NutritionixHeader nutritionixHeader;\n\n  @Override\n  public Invocation.Builder prepareHeaderForApiCall(String query) {\n    Client client = ClientBuilder.newClient();\n    WebTarget webTarget =\n        client.target(\"https://trackapi.nutritionix.com/v2/search/instant?query=\" + query);\n    Invocation.Builder invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON_VALUE);\n    invocationBuilder.header(\"x-app-id\", nutritionixHeader.getNutritionixAppId());\n    invocationBuilder.header(\"x-app-key\", nutritionixHeader.getNutritionixAppKey());\n    return invocationBuilder;\n  }\n}\n</code></pre>\n\n<p>new version method for EDIT purpose:</p>\n\n<pre><code>  @Override\n  public Invocation prepareHeaderForApiCall(String query) {\n    Client client = ClientBuilder.newClient();\n    WebTarget webTarget =\n        client.target(\"https://trackapi.nutritionix.com/v2/search/instant?query=\" + query);\n    Invocation.Builder invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON_VALUE);\n    invocationBuilder.header(\"x-app-id\", nutritionixHeader.getNutritionixAppId());\n    invocationBuilder.header(\"x-app-key\", nutritionixHeader.getNutritionixAppKey());\n    return invocationBuilder.buildGet();\n  }\n</code></pre>\n\n<p>In my JUnit 5 test, I want to check if my header contains two objects which are required by public API. It's: </p>\n\n<pre><code>\"x-app-id\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>\"x-app-key\"\n</code></pre>\n\n<p>My test looks like:</p>\n\n<pre><code>@Test\n  void prepareHeaderForApiCall() {\n    var query = \"query\";\n\n    given(nutritionixHeader.getNutritionixAppId()).willReturn(appId);\n    given(nutritionixHeader.getNutritionixAppKey()).willReturn(appKey);\n\n    Invocation.Builder builder = productsFacade.prepareHeaderForApiCall(query);\n\n    builder.get();\n\n    assertEquals(appId, builder.get().getHeaders().entrySet().stream().filter(entry -&gt; entry.getKey().equals(\"x-app-id\")).map(Map.Entry::getValue).findFirst().orElse(null));\n\n  }\n</code></pre>\n\n<p>The problem is that the method</p>\n\n<pre><code>getHeaders()\n</code></pre>\n\n<p>in my stream does not contain headers which I added and it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FOTLN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FOTLN.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to know how I can get a header params objects which are placed in a requestContext object as a header objects like below: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Tv2SN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tv2SN.png\" alt=\"enter image description here\"></a></p>\n\n<p>EDIT:</p>\n\n<p>I found one interesting thing with debugger and evaluate expression in IntelliJ, namely: </p>\n\n<p><a href=\"https://i.stack.imgur.com/LVYCm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LVYCm.png\" alt=\"enter image description here\"></a></p>\n\n<p>with this above expression, I can find out my two added headers but I cannot use the same expression in a code. </p>\n\n<p>I will be grateful for a suggestion about how to reach a goal by getting headers object from the requestContext object. </p>\n"},{"tags":["java","android","photo-picker"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673889374,"post_id":75137426,"comment_id":132593073,"body_markdown":"Which error are you talking about?","body":"Which error are you talking about?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673893415,"creation_date":1673890749,"answer_id":75137790,"question_id":75137426,"body_markdown":"Try replacing:\r\n\r\n```java\r\nnew ActivityResultContracts.PickVisualMedia.ImageAndVideo()\r\n```\r\n\r\nwith:\r\n\r\n```java\r\nActivityResultContracts.PickVisualMedia.Companion.getImageAndVideo()\r\n```\r\n\r\n`ImageAndVideo` is a Kotlin `object` &amp;mdash; it is not a class that you instantiate yourself. However, the source code lacks the `@JvmField` annotation, so I think that just referring to `ActivityResultContracts.PickVisualMedia.ImageAndVideo` will fail, as outlined in [the docs](https://developer.android.com/kotlin/interop#companion_constants).\r\n","title":"How to solve Photopicker error in android Studio?","body":"<p>Try replacing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ActivityResultContracts.PickVisualMedia.ImageAndVideo()\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActivityResultContracts.PickVisualMedia.Companion.getImageAndVideo()\n</code></pre>\n<p><code>ImageAndVideo</code> is a Kotlin <code>object</code> — it is not a class that you instantiate yourself. However, the source code lacks the <code>@JvmField</code> annotation, so I think that just referring to <code>ActivityResultContracts.PickVisualMedia.ImageAndVideo</code> will fail, as outlined in <a href=\"https://developer.android.com/kotlin/interop#companion_constants\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":14404359,"reputation":1,"user_id":10404933,"display_name":"Uroos Fatima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687760406,"creation_date":1687759743,"answer_id":76553922,"question_id":75137426,"body_markdown":"I just worked this out yesterday. It is very simple code of few lines yet took me entire day to figure out what was wrong.Just add the following snippet of your code outside the clicklistener on the top. Seems like the variable doesn&#39;t initialize in time for it to launch hence the error.\r\n\r\n```\r\nActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia =\r\n                       registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), uri -&gt; {\r\n                           // Callback is invoked after the user selects a media item or closes the\r\n                           // photo picker.\r\n                           if (uri != null) {\r\n                               Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: &quot; + uri);\r\n                           } else {\r\n                               Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\r\n                           }\r\n                       });\r\n\r\n-------------------------------------------------------------\r\n************** MY CODE FOR REFERENCE*************************\r\n-------------------------------------------------------------\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var appBarConfiguration: AppBarConfiguration\r\n    private lateinit var binding: ActivityMainBinding\r\n    private val REQUEST_CODE_SINGLE_SELECT = 1\r\n    private var pickMedia = registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\r\n        // Callback is invoked after the user selects a media item or closes the\r\n        // photo picker.\r\n        if (uri != null) {\r\n            Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\r\n        } else {\r\n            Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\r\n        }\r\n    }\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        WindowCompat.setDecorFitsSystemWindows(window, false)\r\n        super.onCreate(savedInstanceState)\r\n\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        setSupportActionBar(binding.toolbar)\r\n\r\n        val navController = findNavController(R.id.nav_host_fragment_content_main)\r\n        appBarConfiguration = AppBarConfiguration(navController.graph)\r\n        setupActionBarWithNavController(navController, appBarConfiguration)\r\n\r\n        binding.fab.setOnClickListener {\r\n            // Launch the photo picker and let the user choose only images.\r\n            pickMedia.launch(PickVisualMediaRequest(ActivityResultContracts.PickVisualMedia.ImageOnly))\r\n        }\r\n    }\r\n```","title":"How to solve Photopicker error in android Studio?","body":"<p>I just worked this out yesterday. It is very simple code of few lines yet took me entire day to figure out what was wrong.Just add the following snippet of your code outside the clicklistener on the top. Seems like the variable doesn't initialize in time for it to launch hence the error.</p>\n<pre><code>ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia =\n                       registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), uri -&gt; {\n                           // Callback is invoked after the user selects a media item or closes the\n                           // photo picker.\n                           if (uri != null) {\n                               Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: &quot; + uri);\n                           } else {\n                               Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\n                           }\n                       });\n\n-------------------------------------------------------------\n************** MY CODE FOR REFERENCE*************************\n-------------------------------------------------------------\nclass MainActivity : AppCompatActivity() {\n\n    private lateinit var appBarConfiguration: AppBarConfiguration\n    private lateinit var binding: ActivityMainBinding\n    private val REQUEST_CODE_SINGLE_SELECT = 1\n    private var pickMedia = registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\n        // Callback is invoked after the user selects a media item or closes the\n        // photo picker.\n        if (uri != null) {\n            Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\n        } else {\n            Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\n        }\n    }\n    override fun onCreate(savedInstanceState: Bundle?) {\n        WindowCompat.setDecorFitsSystemWindows(window, false)\n        super.onCreate(savedInstanceState)\n\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        setSupportActionBar(binding.toolbar)\n\n        val navController = findNavController(R.id.nav_host_fragment_content_main)\n        appBarConfiguration = AppBarConfiguration(navController.graph)\n        setupActionBarWithNavController(navController, appBarConfiguration)\n\n        binding.fab.setOnClickListener {\n            // Launch the photo picker and let the user choose only images.\n            pickMedia.launch(PickVisualMediaRequest(ActivityResultContracts.PickVisualMedia.ImageOnly))\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694028877,"creation_date":1694028877,"answer_id":77054780,"question_id":75137426,"body_markdown":"Use this:\r\n```\r\nnew PickVisualMediaRequest.Builder()\r\n    .setMediaType(PickVisualMedia.ImageAndVideo.INSTANCE)\r\n    .build()\r\n```\r\n\r\nIt may show an error, but it will still compile fine.","title":"How to solve Photopicker error in android Studio?","body":"<p>Use this:</p>\n<pre><code>new PickVisualMediaRequest.Builder()\n    .setMediaType(PickVisualMedia.ImageAndVideo.INSTANCE)\n    .build()\n</code></pre>\n<p>It may show an error, but it will still compile fine.</p>\n"}],"owner":{"account_id":27545120,"reputation":1,"user_id":21021198,"display_name":"Saleem Manasfi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694028877,"creation_date":1673888605,"question_id":75137426,"body_markdown":"I have the following code , im receiving an error :\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZG54k.png)\r\n\r\n\r\n```\r\npackage com.example.photopicker;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.PickVisualMediaRequest;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button addimage;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        addimage=findViewById(R.id.button_pick_photo);\r\n       addimage.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View v) {\r\n            // Registers a photo picker activity launcher in single-select mode.\r\n               ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia =\r\n                       registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), uri -&gt; {\r\n                           // Callback is invoked after the user selects a media item or closes the\r\n                           // photo picker.\r\n                           if (uri != null) {\r\n                               Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: &quot; + uri);\r\n                           } else {\r\n                               Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\r\n                           }\r\n                       });\r\n\r\n            // Include only one of the following calls to launch(), depending on the types\r\n            // of media that you want to allow the user to choose from.\r\n\r\n             // Launch the photo picker and allow the user to choose images and videos.\r\n               pickMedia.launch(new PickVisualMediaRequest.Builder()\r\n                       **.setMediaType(new  ActivityResultContracts.PickVisualMedia.ImageAndVideo())**\r\n                       .build());\r\n           }\r\n       });\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis code i got it from the Android developer Website :\r\nhttps://developer.android.com/training/data-storage/shared/photopicker\r\n\r\nbut Doesnt seem to work , and im not able to find any online solution.","title":"How to solve Photopicker error in android Studio?","body":"<p>I have the following code , im receiving an error :</p>\n<p><a href=\"https://i.stack.imgur.com/ZG54k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>package com.example.photopicker;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.PickVisualMediaRequest;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n    Button addimage;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        addimage=findViewById(R.id.button_pick_photo);\n       addimage.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View v) {\n            // Registers a photo picker activity launcher in single-select mode.\n               ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia =\n                       registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), uri -&gt; {\n                           // Callback is invoked after the user selects a media item or closes the\n                           // photo picker.\n                           if (uri != null) {\n                               Log.d(&quot;PhotoPicker&quot;, &quot;Selected URI: &quot; + uri);\n                           } else {\n                               Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\n                           }\n                       });\n\n            // Include only one of the following calls to launch(), depending on the types\n            // of media that you want to allow the user to choose from.\n\n             // Launch the photo picker and allow the user to choose images and videos.\n               pickMedia.launch(new PickVisualMediaRequest.Builder()\n                       **.setMediaType(new  ActivityResultContracts.PickVisualMedia.ImageAndVideo())**\n                       .build());\n           }\n       });\n    }\n}\n\n</code></pre>\n<p>This code i got it from the Android developer Website :\n<a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/shared/photopicker</a></p>\n<p>but Doesnt seem to work , and im not able to find any online solution.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1564141194,"post_id":57218528,"comment_id":100942864,"body_markdown":"pls show your .explain","body":"pls show your .explain"},{"owner":{"account_id":12496416,"reputation":78,"user_id":9096240,"display_name":"markbackhouse"},"score":0,"creation_date":1564160545,"post_id":57218528,"comment_id":100953044,"body_markdown":"This is theoretical. I don&#39;t have any code or operations to `.explain` but the schema and example problem above should suffice.","body":"This is theoretical. I don&#39;t have any code or operations to <code>.explain</code> but the schema and example problem above should suffice."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1564162995,"post_id":57218528,"comment_id":100953958,"body_markdown":"But clarify the term deeply nested? I missed the array","body":"But clarify the term deeply nested? I missed the array"},{"owner":{"account_id":12496416,"reputation":78,"user_id":9096240,"display_name":"markbackhouse"},"score":0,"creation_date":1564394339,"post_id":57218528,"comment_id":101002696,"body_markdown":"Well the list that contains the join term might be very far down inside my struct. Far enough down that exploding the struct fully would create a much larger number of rows than I had within my original Dataset.","body":"Well the list that contains the join term might be very far down inside my struct. Far enough down that exploding the struct fully would create a much larger number of rows than I had within my original Dataset."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1564395400,"post_id":57218528,"comment_id":101003269,"body_markdown":"Is not the number of occurrences  of nesting more a deciding factor? In any event you may need to explode more than once. If you do not know how many levels in advance I would talk to provider of data.","body":"Is not the number of occurrences  of nesting more a deciding factor? In any event you may need to explode more than once. If you do not know how many levels in advance I would talk to provider of data."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1564395733,"post_id":57218528,"comment_id":101003461,"body_markdown":"From the example provided I could not discern a deep nesting ...","body":"From the example provided I could not discern a deep nesting ..."},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1564420359,"post_id":57218528,"comment_id":101016455,"body_markdown":"I am adding to the answer - I think this map help, but I am not sure as the question is not entirely clear.","body":"I am adding to the answer - I think this map help, but I am not sure as the question is not entirely clear."}],"answers":[{"tags":[],"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564567693,"creation_date":1564141995,"answer_id":57219536,"question_id":57218528,"body_markdown":"**With nesting and no repeating groups**\r\n\r\nYou are dealing with a JOIN on DFs with one element being a column from a type struct. \r\n\r\n&gt; There is no issue doing that, i.e. you do not need to explode at all.\r\n&gt; You just need the . approach to get to that column.\r\n\r\nExecution issue are also not evident if you have sufficient resources allocated and fit within partitioning limits.\r\n\r\nFor guidance you can look at this post on this site: https://stackoverflow.com/questions/52013371/how-to-join-nested-columns-in-spark-with-usingcolumns\r\n\r\n**With a Nested Array**\r\n\r\nHowever, your theory is correct in that with a nested array that needs atomic JOINing you must use an explode. It&#39;s that simple. May be more than once. \r\n\r\nOnce again, no issues with performance provided enough resources and suitable partition sizes. Just takes time.\r\n\r\n***EDIT - although thrust of question not entirely clear***\r\n\r\nIf you are concerned that one needs to explode all the way down to desired element level, then that is not always the case. Consider this two level structure:\r\n\r\n    root\r\n     |-- director: string (nullable = true)\r\n     |-- films: array (nullable = true)\r\n     |    |-- element: struct (containsNull = true)\r\n     |    |    |-- actors: array (nullable = true)\r\n     |    |    |    |-- element: string (containsNull = true)\r\n     |    |    |-- name: string (nullable = true)\r\n\r\nYou can just explode 1) directly down to desired level first and then 2) possibly issue a final 2nd explode if that level was nested as well.\r\n\r\nBut I am not sure if this is your concern. POINT is therefore: navigate to lowest level, explode and than possibly another explode - if required, but it should be at max only two iterations required.\r\n\r\n    val flattened2 = df.select($&quot;director&quot;, explode($&quot;films.actors&quot;).as(&quot;actors_flat&quot;))\r\n     \r\n    val flattened3 = flattened2.select($&quot;director&quot;, explode($&quot;actors_flat&quot;).as(&quot;actors_flattened&quot;))\r\n\r\nWith a level deeper as well as well ok, but there are some finnicky Spark things for sure to consider, e.g. successive DFs and column naming issues that seem to rear their ugly head here and elsewhere.\r\n\r\n**General**\r\n\r\nFor Large - Large table JOINs (is this really the case here?) there is no quick efficient fix. MergeScan is normally what is used behind the scenes from my experience, but things keep changing per release.","title":"Is there an efficient way to join two large Datasets with (deeper) nested array field?","body":"<p><strong>With nesting and no repeating groups</strong></p>\n\n<p>You are dealing with a JOIN on DFs with one element being a column from a type struct. </p>\n\n<blockquote>\n  <p>There is no issue doing that, i.e. you do not need to explode at all.\n  You just need the . approach to get to that column.</p>\n</blockquote>\n\n<p>Execution issue are also not evident if you have sufficient resources allocated and fit within partitioning limits.</p>\n\n<p>For guidance you can look at this post on this site: <a href=\"https://stackoverflow.com/questions/52013371/how-to-join-nested-columns-in-spark-with-usingcolumns\">How to join nested columns in spark with usingColumns</a></p>\n\n<p><strong>With a Nested Array</strong></p>\n\n<p>However, your theory is correct in that with a nested array that needs atomic JOINing you must use an explode. It's that simple. May be more than once. </p>\n\n<p>Once again, no issues with performance provided enough resources and suitable partition sizes. Just takes time.</p>\n\n<p><strong><em>EDIT - although thrust of question not entirely clear</em></strong></p>\n\n<p>If you are concerned that one needs to explode all the way down to desired element level, then that is not always the case. Consider this two level structure:</p>\n\n<pre><code>root\n |-- director: string (nullable = true)\n |-- films: array (nullable = true)\n |    |-- element: struct (containsNull = true)\n |    |    |-- actors: array (nullable = true)\n |    |    |    |-- element: string (containsNull = true)\n |    |    |-- name: string (nullable = true)\n</code></pre>\n\n<p>You can just explode 1) directly down to desired level first and then 2) possibly issue a final 2nd explode if that level was nested as well.</p>\n\n<p>But I am not sure if this is your concern. POINT is therefore: navigate to lowest level, explode and than possibly another explode - if required, but it should be at max only two iterations required.</p>\n\n<pre><code>val flattened2 = df.select($\"director\", explode($\"films.actors\").as(\"actors_flat\"))\n\nval flattened3 = flattened2.select($\"director\", explode($\"actors_flat\").as(\"actors_flattened\"))\n</code></pre>\n\n<p>With a level deeper as well as well ok, but there are some finnicky Spark things for sure to consider, e.g. successive DFs and column naming issues that seem to rear their ugly head here and elsewhere.</p>\n\n<p><strong>General</strong></p>\n\n<p>For Large - Large table JOINs (is this really the case here?) there is no quick efficient fix. MergeScan is normally what is used behind the scenes from my experience, but things keep changing per release.</p>\n"}],"owner":{"account_id":12496416,"reputation":78,"user_id":9096240,"display_name":"markbackhouse"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694028506,"creation_date":1564138208,"question_id":57218528,"body_markdown":"I&#39;m using Apache Spark with Java to join two big datasets. I&#39;ll try to give an example pair of datasets to lay out my problem. Let&#39;s say I have Table A and Table B, with schemas that look like:\r\n\r\n```\r\nTable A\r\nroot\r\n|-- shopper_name: string\r\n|-- shopping_list: struct\r\n|---|-- date: date \r\n|---|-- shopping_items: array\r\n|---|---|-- item_name: string\r\n```\r\n\r\nand\r\n\r\n```\r\nTable B\r\nroot\r\n|-- item_name: string\r\n|-- item_price: double\r\n```\r\n\r\nSo I want to join these two tables on the deeply nested field `item_name` so that I can work out the price of each shopper&#39;s shopping list. The problem is that I can&#39;t just create an additional column on Table A called `item_name`, as there could be many `item_name` objects within the `shopping_items` array.\r\n\r\nOne simple solution would be to explode Table A (de-normalise it), so that I have a single row for every `item_name`, do the join, then group by `shopper_name` and sum. \r\n\r\nMy question is: does Spark (and more specifically Spark for Java &#128556;) have a better way of doing this that doesn&#39;t feel so inefficient? Can Spark do this sort of explosion on two datasets with hundreds of millions/billions of rows and parallelise it nicely? ","title":"Is there an efficient way to join two large Datasets with (deeper) nested array field?","body":"<p>I'm using Apache Spark with Java to join two big datasets. I'll try to give an example pair of datasets to lay out my problem. Let's say I have Table A and Table B, with schemas that look like:</p>\n\n<pre><code>Table A\nroot\n|-- shopper_name: string\n|-- shopping_list: struct\n|---|-- date: date \n|---|-- shopping_items: array\n|---|---|-- item_name: string\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Table B\nroot\n|-- item_name: string\n|-- item_price: double\n</code></pre>\n\n<p>So I want to join these two tables on the deeply nested field <code>item_name</code> so that I can work out the price of each shopper's shopping list. The problem is that I can't just create an additional column on Table A called <code>item_name</code>, as there could be many <code>item_name</code> objects within the <code>shopping_items</code> array.</p>\n\n<p>One simple solution would be to explode Table A (de-normalise it), so that I have a single row for every <code>item_name</code>, do the join, then group by <code>shopper_name</code> and sum. </p>\n\n<p>My question is: does Spark (and more specifically Spark for Java 😬) have a better way of doing this that doesn't feel so inefficient? Can Spark do this sort of explosion on two datasets with hundreds of millions/billions of rows and parallelise it nicely? </p>\n"},{"tags":["java","kubernetes","jboss","wildfly","keycloak"],"comments":[{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1652760234,"post_id":72267969,"comment_id":127677612,"body_markdown":"In the first error looks like there is something not proper in the standalone.xml, could be the address definition is not defined (missing).","body":"In the first error looks like there is something not proper in the standalone.xml, could be the address definition is not defined (missing)."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1652760401,"post_id":72267969,"comment_id":127677631,"body_markdown":"@Plain_Dude_Sleeping_Alone This Deployment Through the Helm Chart ,Downloaded from https://github.com/codecentric/helm-charts/releases/download/keycloak-18.1.0/keycloak-18.1.0.tgz.If u want standalone.xml i will add that also.","body":"@Plain_Dude_Sleeping_Alone This Deployment Through the Helm Chart ,Downloaded from <a href=\"https://github.com/codecentric/helm-charts/releases/download/keycloak-18.1.0/keycloak-18.1.0.tgz.If\" rel=\"nofollow noreferrer\">github.com/codecentric/helm-charts/releases/download/&hellip;</a> u want standalone.xml i will add that also."},{"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"score":0,"creation_date":1652760783,"post_id":72267969,"comment_id":127677676,"body_markdown":"It&#39;s just a hint (sort of). Something is not configured correctly in the definition. I have no idea about the Keyloack. But if you see the error it complained about something with `&lt;Interface ..&gt;` and  `&lt;inet-address..&gt;` in the standalone.xml. Look at  that `Failed to start advertise listener: java.net.SocketException: bad argument for IP_MULTICAST_IF: address not bound to any interface at java.base/java.net.`","body":"It&#39;s just a hint (sort of). Something is not configured correctly in the definition. I have no idea about the Keyloack. But if you see the error it complained about something with <code>&lt;Interface ..&gt;</code> and  <code>&lt;inet-address..&gt;</code> in the standalone.xml. Look at  that <code>Failed to start advertise listener: java.net.SocketException: bad argument for IP_MULTICAST_IF: address not bound to any interface at java.base&#47;java.net.</code>"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1652760873,"post_id":72267969,"comment_id":127677690,"body_markdown":"In standalone.xml ..its something like this `&lt;interfaces&gt;\n        &lt;interface name=&quot;management&quot;&gt;\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\n        &lt;/interface&gt;\n        &lt;interface name=&quot;public&quot;&gt;\n            &lt;inet-address value=&quot;${jboss.bind.address:127.0.0.1}&quot;/&gt;\n        &lt;/interface&gt;\n    &lt;/interfaces&gt;`","body":"In standalone.xml ..its something like this <code>&lt;interfaces&gt;         &lt;interface name=&quot;management&quot;&gt;             &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;&#47;&gt;         &lt;&#47;interface&gt;         &lt;interface name=&quot;public&quot;&gt;             &lt;inet-address value=&quot;${jboss.bind.address:127.0.0.1}&quot;&#47;&gt;         &lt;&#47;interface&gt;     &lt;&#47;interfaces&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":11905637,"reputation":101,"user_id":8712266,"display_name":"yousef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653235306,"creation_date":1653235306,"answer_id":72339202,"question_id":72267969,"body_markdown":"Try to add a new private interface in the interfaces section.\r\n\r\n        &lt;interface name=&quot;private&quot;&gt;\r\n            &lt;inet-address value=&quot;&lt;your private address&gt;&quot;/&gt;\r\n        &lt;/interface&gt;","title":"java.net.SocketException: bad argument for IP_MULTICAST_IF: address not bound to any interface","body":"<p>Try to add a new private interface in the interfaces section.</p>\n<pre><code>    &lt;interface name=&quot;private&quot;&gt;\n        &lt;inet-address value=&quot;&lt;your private address&gt;&quot;/&gt;\n    &lt;/interface&gt;\n</code></pre>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694028116,"creation_date":1652759031,"question_id":72267969,"body_markdown":"I am deploying Keycloak with the help of Helm Chart But Wildfly Stop with the following errors\r\n\r\n&gt; [0m[0m03:34:19,891 INFO  [org.jboss.as.patching] (MSC service thread\r\n&gt; 1-2) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off\r\n&gt; patches include: none [0m[0m03:34:20,086 INFO \r\n&gt; [org.jboss.modcluster] (ServerService Thread Pool -- 56)\r\n&gt; MODCLUSTER000001: Initializing mod_cluster version 1.4.4.Final\r\n&gt; [0m[31m03:34:20,089 ERROR [org.jboss.modcluster] (ServerService\r\n&gt; Thread Pool -- 56) MODCLUSTER000034: Failed to start advertise\r\n&gt; listener: java.net.SocketException: bad argument for IP_MULTICAST_IF:\r\n&gt; address not bound to any interface \tat\r\n&gt; java.base/java.net.PlainDatagramSocketImpl.socketSetOption0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/java.net.PlainDatagramSocketImpl.socketSetOption(PlainDatagramSocketImpl.java:91)\r\n&gt; \tat\r\n&gt; java.base/java.net.AbstractPlainDatagramSocketImpl.setOption(AbstractPlainDatagramSocketImpl.java:371)\r\n&gt; \tat\r\n&gt; java.base/java.net.MulticastSocket.setInterface(MulticastSocket.java:477)\r\n&gt; \tat\r\n&gt; org.jboss.mod_cluster.core@1.4.4.Final//org.jboss.modcluster.advertise.impl.AdvertiseListenerImpl.init(AdvertiseListenerImpl.java:151)\r\n&gt; \tat\r\n&gt; org.jboss.mod_cluster.core@1.4.4.Final//org.jboss.modcluster.advertise.impl.AdvertiseListenerImpl.start(AdvertiseListenerImpl.java:161)\r\n&gt; \tat\r\n&gt; org.jboss.mod_cluster.core@1.4.4.Final//org.jboss.modcluster.ModClusterService.init(ModClusterService.java:166)\r\n&gt; \tat\r\n&gt; org.wildfly.mod_cluster.undertow@26.0.1.Final//org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapterService.start(UndertowEventHandlerAdapterService.java:83)\r\n&gt; \tat\r\n&gt; org.wildfly.clustering.service@26.0.1.Final//org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829) \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n&gt; \r\n&gt; [0m[0m03:34:20,095 INFO  [org.wildfly.extension.undertow] (MSC\r\n&gt; service thread 1-2) WFLYUT0006: Undertow HTTPS listener https\r\n&gt; listening on [0:0:0:0:0:0:0:0]:8443 [0m[0m03:34:20,095 INFO \r\n&gt; [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0493: Jakarta\r\n&gt; Enterprise Beans subsystem suspension complete [0m[0m03:34:20,194\r\n&gt; INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1)\r\n&gt; WFLYSRV0027: Starting deployment of &quot;keycloak-server.war&quot;\r\n&gt; (runtime-name: &quot;keycloak-server.war&quot;) [0m[0m03:34:20,197 INFO \r\n&gt; [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1)\r\n&gt; WFLYDS0013: Started FileSystemDeploymentService for directory\r\n&gt; /opt/jboss/keycloak/standalone/deployments [0m[0m03:34:20,599 INFO \r\n&gt; [org.jboss.as.connector.subsystems.datasources] (MSC service thread\r\n&gt; 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\r\n&gt; [0m[0m03:34:20,599 INFO \r\n&gt; [org.jboss.as.connector.subsystems.datasources] (MSC service thread\r\n&gt; 1-2) WFLYJCA0001: Bound data source\r\n&gt; [java:jboss/datasources/KeycloakDS] [0m[33m03:34:22,285 WARN \r\n&gt; [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56)\r\n&gt; JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding\r\n&gt; was set to 20.00MB, but the OS only allocated 16.78MB\r\n&gt; [0m[33m03:34:22,286 WARN  [org.jgroups.protocols.UDP] (ServerService\r\n&gt; Thread Pool -- 56) JGRP000015: the receive buffer of socket\r\n&gt; ManagedMulticastSocketBinding was set to 25.00MB, but the OS only\r\n&gt; allocated 16.78MB [0m[0m03:34:25,293 INFO \r\n&gt; [org.jgroups.protocols.pbcast.GMS] (ServerService Thread Pool -- 56)\r\n&gt; keycloak-v6-0: no members discovered after 3003 ms: creating cluster\r\n&gt; as coordinator\r\n\r\nIn my Value.yaml i added \r\n\r\n     - name: JAVA_OPTS\r\n                  value: &#39;-Djboss.bind.address=0.0.0.0&#39;\r\n\r\nIf i remove `JAVA_OPTS` it will fail to connect with DB as well and fail with following error\r\n\r\n&gt; 03:42:21,999 ERROR [org.jboss.msc.service.fail] (MSC service thread\r\n&gt; 1-2) MSC000001: Failed to start service\r\n&gt; org.wildfly.network.interface.private:\r\n&gt; org.jboss.msc.service.StartException in service\r\n&gt; org.wildfly.network.interface.private: WFLYSRV0082: failed to resolve\r\n&gt; interface private \tat\r\n&gt; org.jboss.as.server@18.0.4.Final//org.jboss.as.server.services.net.NetworkInterfaceService.start(NetworkInterfaceService.java:98)\r\n&gt; \tat\r\n&gt; org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n&gt; \tat\r\n&gt; org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n&gt; \tat\r\n&gt; org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:829) 03:42:22,092 ERROR\r\n&gt; [org.jboss.as.controller.management-operation] (Controller Boot\r\n&gt; Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address:\r\n&gt; ([(&quot;interface&quot; =&gt; &quot;private&quot;)]) - failure description: {&quot;WFLYCTL0080:\r\n&gt; Failed services&quot; =&gt; {&quot;org.wildfly.network.interface.private&quot; =&gt;\r\n&gt; &quot;WFLYSRV0082: failed to resolve interface private&quot;}} 03:42:22,391 INFO\r\n&gt; [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010:\r\n&gt; Deployed &quot;keycloak-server.war&quot; (runtime-name : &quot;keycloak-server.war&quot;)\r\n&gt; 03:42:22,392 INFO  [org.jboss.as.controller] (Controller Boot Thread)\r\n&gt; WFLYCTL0183: Service status report WFLYCTL0186:   Services which\r\n&gt; failed to start:      service org.wildfly.network.interface.private:\r\n&gt; WFLYSRV0082: failed to resolve interface private WFLYCTL0448: 47\r\n&gt; additional services are down due to their dependencies being missing\r\n&gt; or failed 03:42:22,702 INFO  [org.jboss.as.server] (Controller Boot\r\n&gt; Thread) WFLYSRV0212: Resuming server 03:42:22,785 ERROR [org.jboss.as]\r\n&gt; (Controller Boot Thread) WFLYSRV0026: Keycloak 16.1.1 (WildFly Core\r\n&gt; 18.0.4.Final) started (with errors) in 18700ms - Started 471 of 930 services (54 services failed or missing dependencies, 694 services are\r\n&gt; lazy, passive or on-demand)\r\n\r\n - Keycloak 16.1.1 \r\n - WildFly Core 18.0.4.Final\r\n - Kubernets ","title":"java.net.SocketException: bad argument for IP_MULTICAST_IF: address not bound to any interface","body":"<p>I am deploying Keycloak with the help of Helm Chart But Wildfly Stop with the following errors</p>\n<blockquote>\n<p>[0m[0m03:34:19,891 INFO  [org.jboss.as.patching] (MSC service thread\n1-2) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off\npatches include: none [0m[0m03:34:20,086 INFO\n[org.jboss.modcluster] (ServerService Thread Pool -- 56)\nMODCLUSTER000001: Initializing mod_cluster version 1.4.4.Final\n[0m[31m03:34:20,089 ERROR [org.jboss.modcluster] (ServerService\nThread Pool -- 56) MODCLUSTER000034: Failed to start advertise\nlistener: java.net.SocketException: bad argument for IP_MULTICAST_IF:\naddress not bound to any interface    at\njava.base/java.net.PlainDatagramSocketImpl.socketSetOption0(Native\nMethod)   at\njava.base/java.net.PlainDatagramSocketImpl.socketSetOption(PlainDatagramSocketImpl.java:91)\nat\njava.base/java.net.AbstractPlainDatagramSocketImpl.setOption(AbstractPlainDatagramSocketImpl.java:371)\nat\njava.base/java.net.MulticastSocket.setInterface(MulticastSocket.java:477)\nat\norg.jboss.mod_cluster.core@1.4.4.Final//org.jboss.modcluster.advertise.impl.AdvertiseListenerImpl.init(AdvertiseListenerImpl.java:151)\nat\norg.jboss.mod_cluster.core@1.4.4.Final//org.jboss.modcluster.advertise.impl.AdvertiseListenerImpl.start(AdvertiseListenerImpl.java:161)\nat\norg.jboss.mod_cluster.core@1.4.4.Final//org.jboss.modcluster.ModClusterService.init(ModClusterService.java:166)\nat\norg.wildfly.mod_cluster.undertow@26.0.1.Final//org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapterService.start(UndertowEventHandlerAdapterService.java:83)\nat\norg.wildfly.clustering.service@26.0.1.Final//org.wildfly.clustering.service.AsyncServiceConfigurator$AsyncService.lambda$start$0(AsyncServiceConfigurator.java:117)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat java.base/java.lang.Thread.run(Thread.java:829)  at\norg.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)</p>\n<p>[0m[0m03:34:20,095 INFO  [org.wildfly.extension.undertow] (MSC\nservice thread 1-2) WFLYUT0006: Undertow HTTPS listener https\nlistening on [0:0:0:0:0:0:0:0]:8443 [0m[0m03:34:20,095 INFO\n[org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0493: Jakarta\nEnterprise Beans subsystem suspension complete [0m[0m03:34:20,194\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-1)\nWFLYSRV0027: Starting deployment of &quot;keycloak-server.war&quot;\n(runtime-name: &quot;keycloak-server.war&quot;) [0m[0m03:34:20,197 INFO\n[org.jboss.as.server.deployment.scanner] (MSC service thread 1-1)\nWFLYDS0013: Started FileSystemDeploymentService for directory\n/opt/jboss/keycloak/standalone/deployments [0m[0m03:34:20,599 INFO\n[org.jboss.as.connector.subsystems.datasources] (MSC service thread\n1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\n[0m[0m03:34:20,599 INFO\n[org.jboss.as.connector.subsystems.datasources] (MSC service thread\n1-2) WFLYJCA0001: Bound data source\n[java:jboss/datasources/KeycloakDS] [0m[33m03:34:22,285 WARN\n[org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56)\nJGRP000015: the receive buffer of socket ManagedMulticastSocketBinding\nwas set to 20.00MB, but the OS only allocated 16.78MB\n[0m[33m03:34:22,286 WARN  [org.jgroups.protocols.UDP] (ServerService\nThread Pool -- 56) JGRP000015: the receive buffer of socket\nManagedMulticastSocketBinding was set to 25.00MB, but the OS only\nallocated 16.78MB [0m[0m03:34:25,293 INFO\n[org.jgroups.protocols.pbcast.GMS] (ServerService Thread Pool -- 56)\nkeycloak-v6-0: no members discovered after 3003 ms: creating cluster\nas coordinator</p>\n</blockquote>\n<p>In my Value.yaml i added</p>\n<pre><code> - name: JAVA_OPTS\n              value: '-Djboss.bind.address=0.0.0.0'\n</code></pre>\n<p>If i remove <code>JAVA_OPTS</code> it will fail to connect with DB as well and fail with following error</p>\n<blockquote>\n<p>03:42:21,999 ERROR [org.jboss.msc.service.fail] (MSC service thread\n1-2) MSC000001: Failed to start service\norg.wildfly.network.interface.private:\norg.jboss.msc.service.StartException in service\norg.wildfly.network.interface.private: WFLYSRV0082: failed to resolve\ninterface private     at\norg.jboss.as.server@18.0.4.Final//org.jboss.as.server.services.net.NetworkInterfaceService.start(NetworkInterfaceService.java:98)\nat\norg.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\nat\norg.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\nat\norg.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\nat java.base/java.lang.Thread.run(Thread.java:829) 03:42:22,092 ERROR\n[org.jboss.as.controller.management-operation] (Controller Boot\nThread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address:\n([(&quot;interface&quot; =&gt; &quot;private&quot;)]) - failure description: {&quot;WFLYCTL0080:\nFailed services&quot; =&gt; {&quot;org.wildfly.network.interface.private&quot; =&gt;\n&quot;WFLYSRV0082: failed to resolve interface private&quot;}} 03:42:22,391 INFO\n[org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010:\nDeployed &quot;keycloak-server.war&quot; (runtime-name : &quot;keycloak-server.war&quot;)\n03:42:22,392 INFO  [org.jboss.as.controller] (Controller Boot Thread)\nWFLYCTL0183: Service status report WFLYCTL0186:   Services which\nfailed to start:      service org.wildfly.network.interface.private:\nWFLYSRV0082: failed to resolve interface private WFLYCTL0448: 47\nadditional services are down due to their dependencies being missing\nor failed 03:42:22,702 INFO  [org.jboss.as.server] (Controller Boot\nThread) WFLYSRV0212: Resuming server 03:42:22,785 ERROR [org.jboss.as]\n(Controller Boot Thread) WFLYSRV0026: Keycloak 16.1.1 (WildFly Core\n18.0.4.Final) started (with errors) in 18700ms - Started 471 of 930 services (54 services failed or missing dependencies, 694 services are\nlazy, passive or on-demand)</p>\n</blockquote>\n<ul>\n<li>Keycloak 16.1.1</li>\n<li>WildFly Core 18.0.4.Final</li>\n<li>Kubernets</li>\n</ul>\n"},{"tags":["java","windows","scala"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694028087,"creation_date":1694028087,"answer_id":77054724,"question_id":77049265,"body_markdown":"&gt; Illegal char &lt;:&gt; at index 2:  C:\\Java\\\r\n\r\nIf you pay attention to the error message, you&#39;ll see that `:` being at index 2 means the path that Java is trying to parse is actually starting with ` C:`, i.e. there&#39;s an extra character in position 0.\r\n\r\nCheck your `JAVA_HOME` environment variable or whatever place this path is defined and remove the extra first character.\r\n\r\n-----\r\n\r\nRelated to:\r\n- https://stackoverflow.com/questions/9834776/java-nio-file-path-issue\r\n- https://stackoverflow.com/questions/56736003/why-am-i-getting-this-invalidpathexception","title":"When issuing scala from cmd the InvalidPathException occured","body":"<blockquote>\n<p>Illegal char &lt;:&gt; at index 2:  C:\\Java\\</p>\n</blockquote>\n<p>If you pay attention to the error message, you'll see that <code>:</code> being at index 2 means the path that Java is trying to parse is actually starting with <code> C:</code>, i.e. there's an extra character in position 0.</p>\n<p>Check your <code>JAVA_HOME</code> environment variable or whatever place this path is defined and remove the extra first character.</p>\n<hr />\n<p>Related to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9834776/java-nio-file-path-issue\">Java NIO file path issue</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56736003/why-am-i-getting-this-invalidpathexception\">Why am I getting this InvalidPathException</a></li>\n</ul>\n"}],"owner":{"account_id":29376516,"reputation":1,"user_id":22507926,"display_name":"EltonZhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694028103,"creation_date":1693979083,"question_id":77049265,"body_markdown":"When I tried to issued scala from cmd, the following exception was reported.\r\nI have tried different version of Java, from JDK20, JDK17 to this old JDK1.8, but the error persisted.\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:  C:\\Java\\jdk1.8.0_341\\lib\\tools.jar\r\n    at sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n    at sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\r\n    at sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\r\n    at java.nio.file.Paths.get(Paths.java:84)\r\n    at dotty.tools.dotc.core.MacroClassLoader$.$anonfun$1(MacroClassLoader.scala:25)\r\n    at scala.collection.immutable.List.map(List.scala:250)\r\n    at dotty.tools.dotc.core.MacroClassLoader$.makeMacroClassLoader(MacroClassLoader.scala:25)\r\n    at dotty.tools.dotc.core.MacroClassLoader$.init(MacroClassLoader.scala:19)\r\n    at dotty.tools.dotc.Driver.setup(Driver.scala:77)\r\n    at dotty.tools.repl.ReplDriver.setupRootCtx(ReplDriver.scala:89)\r\n    at dotty.tools.repl.ReplDriver.initialCtx(ReplDriver.scala:85)\r\n    at dotty.tools.repl.ReplDriver.resetToInitial(ReplDriver.scala:111)\r\n    at dotty.tools.repl.ReplDriver.&lt;init&gt;(ReplDriver.scala:126)\r\n    at dotty.tools.repl.Main$.main(Main.scala:7)\r\n    at dotty.tools.MainGenericRunner$.run$1(MainGenericRunner.scala:193)\r\n    at dotty.tools.MainGenericRunner$.process(MainGenericRunner.scala:270)\r\n    at dotty.tools.MainGenericRunner$.main(MainGenericRunner.scala:281)\r\n    at dotty.tools.MainGenericRunner.main(MainGenericRunner.scala)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at coursier.bootstrap.launcher.a.a(Unknown Source)\r\n    at coursier.bootstrap.launcher.Launcher.main(Unknown Source)\r\n```\r\n\r\nI have reinstalled Java and Scala, but cannot resolve the problem.","title":"When issuing scala from cmd the InvalidPathException occured","body":"<p>When I tried to issued scala from cmd, the following exception was reported.\nI have tried different version of Java, from JDK20, JDK17 to this old JDK1.8, but the error persisted.</p>\n<pre><code>Exception in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:  C:\\Java\\jdk1.8.0_341\\lib\\tools.jar\n    at sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\n    at sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\n    at java.nio.file.Paths.get(Paths.java:84)\n    at dotty.tools.dotc.core.MacroClassLoader$.$anonfun$1(MacroClassLoader.scala:25)\n    at scala.collection.immutable.List.map(List.scala:250)\n    at dotty.tools.dotc.core.MacroClassLoader$.makeMacroClassLoader(MacroClassLoader.scala:25)\n    at dotty.tools.dotc.core.MacroClassLoader$.init(MacroClassLoader.scala:19)\n    at dotty.tools.dotc.Driver.setup(Driver.scala:77)\n    at dotty.tools.repl.ReplDriver.setupRootCtx(ReplDriver.scala:89)\n    at dotty.tools.repl.ReplDriver.initialCtx(ReplDriver.scala:85)\n    at dotty.tools.repl.ReplDriver.resetToInitial(ReplDriver.scala:111)\n    at dotty.tools.repl.ReplDriver.&lt;init&gt;(ReplDriver.scala:126)\n    at dotty.tools.repl.Main$.main(Main.scala:7)\n    at dotty.tools.MainGenericRunner$.run$1(MainGenericRunner.scala:193)\n    at dotty.tools.MainGenericRunner$.process(MainGenericRunner.scala:270)\n    at dotty.tools.MainGenericRunner$.main(MainGenericRunner.scala:281)\n    at dotty.tools.MainGenericRunner.main(MainGenericRunner.scala)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at coursier.bootstrap.launcher.a.a(Unknown Source)\n    at coursier.bootstrap.launcher.Launcher.main(Unknown Source)\n</code></pre>\n<p>I have reinstalled Java and Scala, but cannot resolve the problem.</p>\n"},{"tags":["java","c#","multithreading","winforms"],"comments":[{"owner":{"account_id":5973279,"reputation":3739,"user_id":4695007,"accept_rate":75,"display_name":"Alex"},"score":0,"creation_date":1507615727,"post_id":46659411,"comment_id":80267858,"body_markdown":"In c# events are synchronous. You must use TPL in order not to block the UI thread.\nAbout the second point, i have no idea what frame means in your context. Show some code.","body":"In c# events are synchronous. You must use TPL in order not to block the UI thread. About the second point, i have no idea what frame means in your context. Show some code."},{"owner":{"account_id":3990120,"reputation":963,"user_id":3563533,"accept_rate":50,"display_name":"Ali Kianinejad"},"score":0,"creation_date":1507617911,"post_id":46659411,"comment_id":80268833,"body_markdown":"@Alex Each Camera Frame is just a Bitmap Image","body":"@Alex Each Camera Frame is just a Bitmap Image"}],"answers":[{"tags":[],"owner":{"account_id":3380710,"reputation":544,"user_id":2837810,"accept_rate":100,"display_name":"Jigar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507618506,"creation_date":1507618506,"answer_id":46660362,"question_id":46659411,"body_markdown":"You can use [Rx.Net][1] for event driven non blocking applications. \r\n\r\nYou can also consider using `async` and `await` language constructs in C#. \r\n\r\nIf you want to do Actor based programming you can use [Akka.NET][2]\r\n\r\n\r\n  [1]: https://github.com/Reactive-Extensions/Rx.NET\r\n  [2]: http://getakka.net/","title":"Delivery guarantee and automatic threading publisher/subscriber c#","body":"<p>You can use <a href=\"https://github.com/Reactive-Extensions/Rx.NET\" rel=\"nofollow noreferrer\">Rx.Net</a> for event driven non blocking applications. </p>\n\n<p>You can also consider using <code>async</code> and <code>await</code> language constructs in C#. </p>\n\n<p>If you want to do Actor based programming you can use <a href=\"http://getakka.net/\" rel=\"nofollow noreferrer\">Akka.NET</a></p>\n"}],"owner":{"account_id":3990120,"reputation":963,"user_id":3563533,"accept_rate":50,"display_name":"Ali Kianinejad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1694027439,"creation_date":1507614486,"question_id":46659411,"body_markdown":"I am Java programmer and for a project, I should start C# Windows Forms application programming.\r\n\r\nIn java we have frameworks such as dropwizard. These frameworks manage threading individually or in vertx we have event bus and with that, we can implement pub/sub and producer/consumer in an easiest way and we have delivery guarantee and automatic thread management (for each message create new thread if needed)\r\n\r\nI should solve this problem:\r\n\r\n    Frame Captured By Camera, do IO, do another IO -&gt; First DoSome Image Processing -&gt; Show on Form Picture Box -&gt; Second Image Processing -&gt; Match Similar Frames And Save in Data Structure\r\n\r\neach Image Processing has a lot&#39;s of computation and each Frame have its own flow frames can process simultaneously and each processing Unit can work separately.\r\n\r\nI decided to use event-based programming in C#; after image captured an event raised by a function this event registered by First Image Processing Module and after First Image Processing Module done its work rise event to show image on Form and rise another event to pass data to Second Image Processing Unit \r\n\r\nBut I have a different problem: \r\n\r\n1. I know captured image will be shown with delay because of first image processing unit computation time but I see a lot of lags in showing image \r\n2. I missed some frames but I don&#39;t know why\r\n\r\nWhat is the best solution to solve these problems?\r\n\r\nEach camera frame is just a bitmap image.\r\n\r\nI have an event `MyEvent` and I have a static int id that starts with 0 and increments when raising event.\r\n\r\nAnd register 4 function to handle this event.\r\n\r\nAnd print id in event handler but missing some ids in some handlers randomly","title":"Delivery guarantee and automatic threading publisher/subscriber c#","body":"<p>I am Java programmer and for a project, I should start C# Windows Forms application programming.</p>\n<p>In java we have frameworks such as dropwizard. These frameworks manage threading individually or in vertx we have event bus and with that, we can implement pub/sub and producer/consumer in an easiest way and we have delivery guarantee and automatic thread management (for each message create new thread if needed)</p>\n<p>I should solve this problem:</p>\n<pre><code>Frame Captured By Camera, do IO, do another IO -&gt; First DoSome Image Processing -&gt; Show on Form Picture Box -&gt; Second Image Processing -&gt; Match Similar Frames And Save in Data Structure\n</code></pre>\n<p>each Image Processing has a lot's of computation and each Frame have its own flow frames can process simultaneously and each processing Unit can work separately.</p>\n<p>I decided to use event-based programming in C#; after image captured an event raised by a function this event registered by First Image Processing Module and after First Image Processing Module done its work rise event to show image on Form and rise another event to pass data to Second Image Processing Unit</p>\n<p>But I have a different problem:</p>\n<ol>\n<li>I know captured image will be shown with delay because of first image processing unit computation time but I see a lot of lags in showing image</li>\n<li>I missed some frames but I don't know why</li>\n</ol>\n<p>What is the best solution to solve these problems?</p>\n<p>Each camera frame is just a bitmap image.</p>\n<p>I have an event <code>MyEvent</code> and I have a static int id that starts with 0 and increments when raising event.</p>\n<p>And register 4 function to handle this event.</p>\n<p>And print id in event handler but missing some ids in some handlers randomly</p>\n"},{"tags":["java","android","in-app-purchase","in-app-billing"],"answers":[{"tags":[],"owner":{"account_id":466455,"reputation":304,"user_id":871221,"accept_rate":100,"display_name":"Ted Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390054468,"creation_date":1390054468,"answer_id":21205262,"question_id":21155061,"body_markdown":"Please check your google wallet settings.\r\nhttp://productforums.google.com/forum/#!topic/wallet/hJNGInC9m3I%5B1-25-true%5D","title":"Android in app billing error:&quot;error processing purchase bm-cch-17&quot;","body":"<p>Please check your google wallet settings.\n<a href=\"http://productforums.google.com/forum/#!topic/wallet/hJNGInC9m3I%5B1-25-true%5D\" rel=\"nofollow\">http://productforums.google.com/forum/#!topic/wallet/hJNGInC9m3I%5B1-25-true%5D</a></p>\n"},{"tags":[],"owner":{"account_id":5269665,"reputation":1,"user_id":4208355,"display_name":"Sean Reid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414960681,"creation_date":1414960681,"answer_id":26704106,"question_id":21155061,"body_markdown":"Go to your settings then google, remove one of your email account s by simply clicking on it than it gives you an option to remove account, then it has to work 100% sure.","title":"Android in app billing error:&quot;error processing purchase bm-cch-17&quot;","body":"<p>Go to your settings then google, remove one of your email account s by simply clicking on it than it gives you an option to remove account, then it has to work 100% sure.</p>\n"}],"owner":{"account_id":2292068,"reputation":914,"user_id":2014570,"accept_rate":11,"display_name":"Prosanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7970,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694027165,"creation_date":1389854943,"question_id":21155061,"body_markdown":"I am trying to add the functionality on &quot;**android in app billing**&quot; in my android apps.All method and functionality are okay and it work well for some android device.But it does not work well in my client device when he test the apps then he got a error.The error are &quot;**error processing purchase bm-cch-17**&quot;.For checking the problem i also test it another my device the i got the error.But now yet i can not able to solve the problem.I also shared a screenshot which i get the error.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tk0mt.png\r\n\r\n\r\nPlease help to me how i can solve the issue.","title":"Android in app billing error:&quot;error processing purchase bm-cch-17&quot;","body":"<p>I am trying to add the functionality on \"<strong>android in app billing</strong>\" in my android apps.All method and functionality are okay and it work well for some android device.But it does not work well in my client device when he test the apps then he got a error.The error are \"<strong>error processing purchase bm-cch-17</strong>\".For checking the problem i also test it another my device the i got the error.But now yet i can not able to solve the problem.I also shared a screenshot which i get the error.</p>\n\n<p><img src=\"https://i.stack.imgur.com/tk0mt.png\" alt=\"enter image description here\"></p>\n\n<p>Please help to me how i can solve the issue.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-calcite"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1693908155,"post_id":77039637,"comment_id":135818166,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":57693,"reputation":1274,"user_id":172836,"display_name":"Julian Hyde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694027081,"creation_date":1694027081,"answer_id":77054647,"question_id":77039637,"body_markdown":"Calcite doesn&#39;t currently support this, but it would make sense to include it in Calcite&#39;s Spark adapter if someone were to contribute it.\r\n\r\nIf you have time, please log a [Calcite Jira case][1] describing the requirements. You will not be committing yourself to implementing the feature, but it will help gather requirements, and will make it more likely that someone else will implement it.\r\n\r\n  [1]: https://issues.apache.org/jira/projects/CALCITE/summary","title":"Converting Calcite RelNode to Spark Logical Plan","body":"<p>Calcite doesn't currently support this, but it would make sense to include it in Calcite's Spark adapter if someone were to contribute it.</p>\n<p>If you have time, please log a <a href=\"https://issues.apache.org/jira/projects/CALCITE/summary\" rel=\"nofollow noreferrer\">Calcite Jira case</a> describing the requirements. You will not be committing yourself to implementing the feature, but it will help gather requirements, and will make it more likely that someone else will implement it.</p>\n"}],"owner":{"account_id":29365169,"reputation":1,"user_id":22499036,"display_name":"roronaozoro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694027081,"creation_date":1693848257,"question_id":77039637,"body_markdown":"I am using Apache Calcite to convert/parse a SQL String to SQLNode and parsing the SQLNode to translate it to Spark Dataset API&#39;s.\r\nI don&#39;t want to directly use Spark SQL parser to convert SQL to Spark SQL dialects.\r\n\r\n\r\nWhat I am looking for is to use Calcite&#39;s parser and do the translation to Spark Java Dataset API.\r\nCurrently the way I have been trying out is use Calcite Visitor interface to walk through - SqlSelect, SqlJoin, SQLIdentifier etc and translate that to Spark Dataset API&#39;s.\r\n\r\nI just wanted advise on if there is a better way to do this.\r\nWill converting SqlNode to RelNode help ? Is there a way to convert RelNode to Spark Logical Plan and execute that logical Plan on Spark Engine? Does anyone have any ideas on how to do it?\r\nAny other ideas appreciated too!","title":"Converting Calcite RelNode to Spark Logical Plan","body":"<p>I am using Apache Calcite to convert/parse a SQL String to SQLNode and parsing the SQLNode to translate it to Spark Dataset API's.\nI don't want to directly use Spark SQL parser to convert SQL to Spark SQL dialects.</p>\n<p>What I am looking for is to use Calcite's parser and do the translation to Spark Java Dataset API.\nCurrently the way I have been trying out is use Calcite Visitor interface to walk through - SqlSelect, SqlJoin, SQLIdentifier etc and translate that to Spark Dataset API's.</p>\n<p>I just wanted advise on if there is a better way to do this.\nWill converting SqlNode to RelNode help ? Is there a way to convert RelNode to Spark Logical Plan and execute that logical Plan on Spark Engine? Does anyone have any ideas on how to do it?\nAny other ideas appreciated too!</p>\n"},{"tags":["java","unique-key","sequence-generators"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1509519922,"post_id":47049718,"comment_id":81046542,"body_markdown":"Yu haven&#39;t tols us much about your architecture. But if you use a relational database, define a sequence in the database, and use it to generate IDs.","body":"Yu haven&#39;t tols us much about your architecture. But if you use a relational database, define a sequence in the database, and use it to generate IDs."},{"owner":{"account_id":6661882,"reputation":355,"user_id":5140713,"display_name":"Konrad"},"score":0,"creation_date":1509520204,"post_id":47049718,"comment_id":81046642,"body_markdown":"This looks like bad design. You need to sync the ID generation between your servers/clients. This cause a performance problem. Why you want do this?","body":"This looks like bad design. You need to sync the ID generation between your servers/clients. This cause a performance problem. Why you want do this?"},{"owner":{"account_id":6553906,"reputation":133,"user_id":5067295,"accept_rate":33,"display_name":"Sivapandian Jayakumar"},"score":0,"creation_date":1509520228,"post_id":47049718,"comment_id":81046650,"body_markdown":"Yes, we do have relational database. But is there any other way, just to keep it as a objects in java, rather than storing it in DB.","body":"Yes, we do have relational database. But is there any other way, just to keep it as a objects in java, rather than storing it in DB."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1509520332,"post_id":47049718,"comment_id":81046701,"body_markdown":"Use a UUID instead.","body":"Use a UUID instead."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1509520796,"post_id":47049718,"comment_id":81046893,"body_markdown":"@SivapandianJayakumar if you went to keep this design, you can&#39;t possibly know what the other servers have already sent, so you need some way of knowing, and a central place responsible to handle the counter and incrementing it is the easiest way to do that.","body":"@SivapandianJayakumar if you went to keep this design, you can&#39;t possibly know what the other servers have already sent, so you need some way of knowing, and a central place responsible to handle the counter and incrementing it is the easiest way to do that."}],"answers":[{"tags":[],"owner":{"account_id":6923944,"reputation":534,"user_id":5315559,"display_name":"sanoop sandy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509519798,"creation_date":1509519798,"answer_id":47049794,"question_id":47049718,"body_markdown":"Instead of keeping a uniqueID in the request and increasing the complexity. I would rather suggest of handling creation of uniqueId logic in your Controller endpoint. In that way your request need not worry about the uniqueID and can function independently as all request are supposed to be.","title":"How to set the unique integer id in java for each request in the clustered environment?","body":"<p>Instead of keeping a uniqueID in the request and increasing the complexity. I would rather suggest of handling creation of uniqueId logic in your Controller endpoint. In that way your request need not worry about the uniqueID and can function independently as all request are supposed to be.</p>\n"}],"owner":{"account_id":6553906,"reputation":133,"user_id":5067295,"accept_rate":33,"display_name":"Sivapandian Jayakumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694027068,"creation_date":1509519444,"question_id":47049718,"body_markdown":"I want to set the unique integer id in each request, that we will send to other system. This id should start from 1 and should increment until 2147483647. Once it reached 2147483647, it should again start from 1.\r\n\r\nWe have a clustered environment and request could come from any servers. So from whichever server the request may come from, the unique id should always get the latest value set and should increment it by 1 and need to set the new value in the request.\r\n\r\nHow can I achieve this ?","title":"How to set the unique integer id in java for each request in the clustered environment?","body":"<p>I want to set the unique integer id in each request, that we will send to other system. This id should start from 1 and should increment until 2147483647. Once it reached 2147483647, it should again start from 1.</p>\n<p>We have a clustered environment and request could come from any servers. So from whichever server the request may come from, the unique id should always get the latest value set and should increment it by 1 and need to set the new value in the request.</p>\n<p>How can I achieve this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1576430455,"post_id":59346006,"comment_id":104888748,"body_markdown":"Create a class with `name` and `age` and declare an array of those.","body":"Create a class with <code>name</code> and <code>age</code> and declare an array of those."}],"answers":[{"tags":[],"owner":{"account_id":14045408,"reputation":132,"user_id":10145793,"display_name":"Romeo Bahoumda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694026879,"creation_date":1576430442,"answer_id":59346299,"question_id":59346006,"body_markdown":"Multidimensional Arrays in Java are of the same type. You can&#39;t have a 2D array with a row of strings and another of integers. \r\nYou can either \r\n 1. have two separate arrays one `String[]` the names and one `int[]` with the ages having corresponding indexes\r\n 2. use a `Pair&lt;String, int&gt;[]` to bundle both values together.\r\n 3. If you can guarantee uniqueness in your strings, a map wouldn&#39;t be a bad idea either\r\n","title":"How can I change the values of this matrix in a way that can have an array with numbers and an array with words?","body":"<p>Multidimensional Arrays in Java are of the same type. You can't have a 2D array with a row of strings and another of integers.\nYou can either</p>\n<ol>\n<li>have two separate arrays one <code>String[]</code> the names and one <code>int[]</code> with the ages having corresponding indexes</li>\n<li>use a <code>Pair&lt;String, int&gt;[]</code> to bundle both values together.</li>\n<li>If you can guarantee uniqueness in your strings, a map wouldn't be a bad idea either</li>\n</ol>\n"}],"owner":{"account_id":17161965,"reputation":37,"user_id":12421384,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694026879,"creation_date":1576428604,"question_id":59346006,"body_markdown":"I am creating a matrix that has a row of names and another of ages, I want to change the values of the first row of &quot;names&quot; to convert them from numbers to letters. (But I have to guarantee that 1 will always be John for example)\r\n\r\n    private static int matrixNameAge[][] = new {1,2,3},{30,10,25};\r\n    \r\n    }\r\n    \r\n        static String obtainNumbersPerIndex(int pIndex){\r\n    \r\n            String name = &quot;&quot;;\r\n    \r\n            switch(pIndex){\r\n               case 1:    \r\n                    name = &quot;John&quot;;\r\n                    break;\r\n                case 2:    \r\n                    name = &quot;Cristine&quot;;\r\n                    break;\r\n                case 3:    \r\n                    name = &quot;Peter&quot;;\r\n                    break;\r\n     default:\r\n                    name = &quot;Nombre not found&quot;; \r\n                    break;\r\n            }\r\n    \r\n            return name;\r\n        }    \r\n\r\n\r\n\r\n","title":"How can I change the values of this matrix in a way that can have an array with numbers and an array with words?","body":"<p>I am creating a matrix that has a row of names and another of ages, I want to change the values of the first row of \"names\" to convert them from numbers to letters. (But I have to guarantee that 1 will always be John for example)</p>\n\n<pre><code>private static int matrixNameAge[][] = new {1,2,3},{30,10,25};\n\n}\n\n    static String obtainNumbersPerIndex(int pIndex){\n\n        String name = \"\";\n\n        switch(pIndex){\n           case 1:    \n                name = \"John\";\n                break;\n            case 2:    \n                name = \"Cristine\";\n                break;\n            case 3:    \n                name = \"Peter\";\n                break;\n default:\n                name = \"Nombre not found\"; \n                break;\n        }\n\n        return name;\n    }    \n</code></pre>\n"},{"tags":["java","selenium-webdriver","cucumber","screenshot"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1694027423,"post_id":77054567,"comment_id":135838856,"body_markdown":"What does `corrupted` mean in the context of your situation?","body":"What does <code>corrupted</code> mean in the context of your situation?"},{"owner":{"account_id":15388514,"reputation":11,"user_id":11101959,"display_name":"Said"},"score":0,"creation_date":1694087261,"post_id":77054567,"comment_id":135846617,"body_markdown":"In my cucumber.html file the images are in a tag like this &lt;img alt=&quot;Embedded Image&quot; src=&quot;data:image/png;base64,iVBORw0KGgohIAAAAASUVORK5CYII=&quot; class=&quot;ORaS_8RRNPuyNQTWStAR&quot;&gt;.\nThe part between the quotes is not correct to display the image. I can fix it via this site: https://base64.guru/converter/decode/image/png. This site gives an error for corrupted images and offers to fix it.","body":"In my cucumber.html file the images are in a tag like this &lt;img alt=&quot;Embedded Image&quot; src=&quot;data:image/png;base64,iVBORw0KGgohIAAAAASUVORK5CYII=&quot; class=&quot;ORaS_8RRNPuyNQTWStAR&quot;&gt;. The part between the quotes is not correct to display the image. I can fix it via this site: <a href=\"https://base64.guru/converter/decode/image/png\" rel=\"nofollow noreferrer\">base64.guru/converter/decode/image/png</a>. This site gives an error for corrupted images and offers to fix it."},{"owner":{"account_id":3043203,"reputation":1034,"user_id":2579652,"accept_rate":77,"display_name":"Dhru &#39;soni"},"score":0,"creation_date":1694151975,"post_id":77054567,"comment_id":135856226,"body_markdown":"@Said does it necessary for you to take outputType as a bytes ?","body":"@Said does it necessary for you to take outputType as a bytes ?"}],"owner":{"account_id":15388514,"reputation":11,"user_id":11101959,"display_name":"Said"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694026282,"creation_date":1694026282,"question_id":77054567,"body_markdown":"I have an issue in my Selenum test project: my cucumber report sometimes does not display anything in the browser. The cause of this: sometimes the embedded screen shot (included for failed scenarios) is corrupt.\r\n\r\nThis is my code to capture the screenshot:\r\n\r\n```\r\nprivate void takeScreenshotIfScenarioFailed() {\r\n\tif (Context.scenario.isFailed()) {\r\n\t\tfinal byte[] screenshot = ((TakesScreenshot) Context.driver)\r\n\t\t\t\t.getScreenshotAs(OutputType.BYTES);\r\n\t\tContext.scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshot&quot;);\r\n\t}\r\n}\r\n\r\n```\r\nAny suggestion for to fix (occasional) corrupted screenshot?\r\n\r\n\r\n\r\n\r\nI tried running the test headless, but the issue still occurs from time to time.","title":"Selenium TakesScreenshot creates corrupted image","body":"<p>I have an issue in my Selenum test project: my cucumber report sometimes does not display anything in the browser. The cause of this: sometimes the embedded screen shot (included for failed scenarios) is corrupt.</p>\n<p>This is my code to capture the screenshot:</p>\n<pre><code>private void takeScreenshotIfScenarioFailed() {\n    if (Context.scenario.isFailed()) {\n        final byte[] screenshot = ((TakesScreenshot) Context.driver)\n                .getScreenshotAs(OutputType.BYTES);\n        Context.scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshot&quot;);\n    }\n}\n\n</code></pre>\n<p>Any suggestion for to fix (occasional) corrupted screenshot?</p>\n<p>I tried running the test headless, but the issue still occurs from time to time.</p>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":6,"creation_date":1694008039,"post_id":77052487,"comment_id":135834772,"body_markdown":"Instants will be the same regardless of Zones, that&#39;s what they mean. It&#39;s an instant point on the global (universal) time-line. The number of seconds and nanos since a point in time. It is the same across the whole planet.\nThe thing that changes is OffsetDateTime / ZonedDateTime as that&#39;s the time you&#39;d observe at a specific instant while being on different places on Earth.\nIn other words, the Instant never changes and is the same everywhere. If you want time specific for a place, use Offset/Zoned*.","body":"Instants will be the same regardless of Zones, that&#39;s what they mean. It&#39;s an instant point on the global (universal) time-line. The number of seconds and nanos since a point in time. It is the same across the whole planet. The thing that changes is OffsetDateTime / ZonedDateTime as that&#39;s the time you&#39;d observe at a specific instant while being on different places on Earth. In other words, the Instant never changes and is the same everywhere. If you want time specific for a place, use Offset/Zoned*."},{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":2,"creation_date":1694008118,"post_id":77052487,"comment_id":135834788,"body_markdown":"Epoch time in millis is the number of millis from January 1, 1970 at Greenwich. So, the time zone doesn&#39;t matter, and epochET should be the same as the input.","body":"Epoch time in millis is the number of millis from January 1, 1970 at Greenwich. So, the time zone doesn&#39;t matter, and epochET should be the same as the input."},{"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"score":0,"creation_date":1694008207,"post_id":77052487,"comment_id":135834806,"body_markdown":"clues here: https://stackoverflow.com/questions/62879021/zoneddatetime-toinstant-toepochmilli-losing-zone-data","body":"clues here: <a href=\"https://stackoverflow.com/questions/62879021/zoneddatetime-toinstant-toepochmilli-losing-zone-data\" title=\"zoneddatetime toinstant toepochmilli losing zone data\">stackoverflow.com/questions/62879021/&hellip;</a>"},{"owner":{"account_id":20964920,"reputation":1,"user_id":15403482,"display_name":"Rohan"},"score":0,"creation_date":1694008230,"post_id":77052487,"comment_id":135834813,"body_markdown":"Thank you. So is there any other way to get convert long time from UTC to ET (without using ZonedDateTime)?","body":"Thank you. So is there any other way to get convert long time from UTC to ET (without using ZonedDateTime)?"},{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":1,"creation_date":1694008924,"post_id":77052487,"comment_id":135834997,"body_markdown":"@Rohan There&#39;s no conversion, because they have the same value. It&#39;s the same regardless of what time zone you&#39;re in, because the begginning of the epoch is based on UTC, not the local time zone.","body":"@Rohan There&#39;s no conversion, because they have the same value. It&#39;s the same regardless of what time zone you&#39;re in, because the begginning of the epoch is based on UTC, not the local time zone."},{"owner":{"account_id":20964920,"reputation":1,"user_id":15403482,"display_name":"Rohan"},"score":1,"creation_date":1694008982,"post_id":77052487,"comment_id":135835015,"body_markdown":"Makes sense . Thanks @DonBranson","body":"Makes sense . Thanks @DonBranson"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1694012217,"post_id":77052487,"comment_id":135835851,"body_markdown":"“EST” and “ET” are not real time zones. Real time zones have a name in format of `Continent/Region` such as `America/New_York` and `America/Montreal`.","body":"“EST” and “ET” are not real time zones. Real time zones have a name in format of <code>Continent&#47;Region</code> such as <code>America&#47;New_York</code> and <code>America&#47;Montreal</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694009566,"creation_date":1694009566,"answer_id":77052743,"question_id":77052487,"body_markdown":"[`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) represents just a moment in time and is independent of the timezone.\r\n\r\nYou can use [`Instant#atZone`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-) to get the desired result.\r\n\r\n**Demo:** \r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            long timestamp = 1693932120000L;\r\n            Instant instant = Instant.ofEpochMilli(timestamp);\r\n            ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;America/New_York&quot;));\r\n            System.out.println(zdt);\r\n        }\r\n    }\r\n**Output:**\r\n\r\n    2023-09-05T12:42-04:00[America/New_York]\r\n\r\n[Online Demo](https://ideone.com/ELynbL)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**","title":"Convert time in long format from UTC to EST","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> represents just a moment in time and is independent of the timezone.</p>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>Instant#atZone</code></a> to get the desired result.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        long timestamp = 1693932120000L;\n        Instant instant = Instant.ofEpochMilli(timestamp);\n        ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;America/New_York&quot;));\n        System.out.println(zdt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2023-09-05T12:42-04:00[America/New_York]\n</code></pre>\n<p><a href=\"https://ideone.com/ELynbL\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694025301,"creation_date":1694009699,"answer_id":77052765,"question_id":77052487,"body_markdown":"&gt; So is there any other way to get convert long time from UTC to ET (without using ZonedDateTime)?\r\n\r\nIf you&#39;re talking about long from one `TZ` to long in another, no.  Instants and epochs don&#39;t have time zones (although `Instant` is treated as `Zulu` for adjustment purposes).\r\n\r\nIf you just want to get a time object and don&#39;t care about `timezone` information and just want `long milli` adjusted for some `timezone` in a `LocalDateTime` this will work.  If you want `timezones` to be included in the output, simply replace the calls using `LocalDateTime` with `ZonedDateTime` Try it like this but use your specific Zones.  Note that if you print out an `Instant` it defaults to `Zulu` or `UTC`.  So any `TZ` adjustment will be made from that point.\r\n```\r\nLong millis = 1694009579442L;\r\nInstant instant = Instant.ofEpochMilli(millis);\r\n\r\n\r\nLocalDateTime ldt1 = LocalDateTime.ofInstant(instant,\r\n        ZoneId.of(&quot;US/Eastern&quot;));\r\nLocalDateTime ldt2 = LocalDateTime.ofInstant(instant,\r\n        ZoneId.of(&quot;Europe/Paris&quot;));\r\nSystem.out.println(ldt1);\r\nSystem.out.println(ldt2);\r\n\r\n```\r\nprints\r\n```\r\n2023-09-06T10:12:59.442\r\n2023-09-06T16:12:59.442\r\n","title":"Convert time in long format from UTC to EST","body":"<blockquote>\n<p>So is there any other way to get convert long time from UTC to ET (without using ZonedDateTime)?</p>\n</blockquote>\n<p>If you're talking about long from one <code>TZ</code> to long in another, no.  Instants and epochs don't have time zones (although <code>Instant</code> is treated as <code>Zulu</code> for adjustment purposes).</p>\n<p>If you just want to get a time object and don't care about <code>timezone</code> information and just want <code>long milli</code> adjusted for some <code>timezone</code> in a <code>LocalDateTime</code> this will work.  If you want <code>timezones</code> to be included in the output, simply replace the calls using <code>LocalDateTime</code> with <code>ZonedDateTime</code> Try it like this but use your specific Zones.  Note that if you print out an <code>Instant</code> it defaults to <code>Zulu</code> or <code>UTC</code>.  So any <code>TZ</code> adjustment will be made from that point.</p>\n<pre><code>Long millis = 1694009579442L;\nInstant instant = Instant.ofEpochMilli(millis);\n\n\nLocalDateTime ldt1 = LocalDateTime.ofInstant(instant,\n        ZoneId.of(&quot;US/Eastern&quot;));\nLocalDateTime ldt2 = LocalDateTime.ofInstant(instant,\n        ZoneId.of(&quot;Europe/Paris&quot;));\nSystem.out.println(ldt1);\nSystem.out.println(ldt2);\n\n</code></pre>\n<p>prints</p>\n<pre><code>2023-09-06T10:12:59.442\n2023-09-06T16:12:59.442\n</code></pre>\n"}],"owner":{"account_id":20964920,"reputation":1,"user_id":15403482,"display_name":"Rohan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694025301,"creation_date":1694007734,"question_id":77052487,"body_markdown":"Looking for ideas to convert time in long (millis) from UTC to EST\r\nTried in the below manner and did not work. I am seeing epcohET is same as input parameter. \r\n\r\n```\r\nlong time = 1693932120000\r\nInstant dateTime = Instant.ofEpochMilli(time);\r\nZoneId usET = ServerTimeZone.TimeZone.getTimeZone(&quot;America/New_York&quot;).toZoneId();\r\nZonedDateTime zdt = ZonedDateTime.ofInstant(dateTime, usET);\r\nlong epochET = zdt.toInstant().toEpochMilli();\r\n```\r\n","title":"Convert time in long format from UTC to EST","body":"<p>Looking for ideas to convert time in long (millis) from UTC to EST\nTried in the below manner and did not work. I am seeing epcohET is same as input parameter.</p>\n<pre><code>long time = 1693932120000\nInstant dateTime = Instant.ofEpochMilli(time);\nZoneId usET = ServerTimeZone.TimeZone.getTimeZone(&quot;America/New_York&quot;).toZoneId();\nZonedDateTime zdt = ZonedDateTime.ofInstant(dateTime, usET);\nlong epochET = zdt.toInstant().toEpochMilli();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694024840,"creation_date":1694024840,"answer_id":77054428,"question_id":77049796,"body_markdown":"You can create a helper method that create an `AuthorizationManager` that match with certain IP:\r\n\r\n``` java\r\nprivate AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\r\n    IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\r\n    return (authentication, context) -&gt; {\r\n        HttpServletRequest request = context.getRequest();\r\n        return new AuthorizationDecision(ipAddressMatcher.matches(request));\r\n    };\r\n}\r\n```\r\n\r\nTogether with these static import :\r\n\r\n```\r\nimport static org.springframework.security.authorization.AuthenticatedAuthorizationManager.authenticated;\r\nimport static org.springframework.security.authorization.AuthorizationManagers.allOf;\r\n```\r\n\r\nYou could then polish the codes to :\r\n\r\n``` java\r\nhttp.authorizeHttpRequests()\r\n    .requestMatchers(&quot;/test&quot;).access(allOf(authenticated(), hasIpAddress(&quot;127.0.0.1&quot;)))\r\n    .anyRequest().permitAll();\r\n```","title":"Securing endpoint with basic auth and additional conditions in springboot 3","body":"<p>You can create a helper method that create an <code>AuthorizationManager</code> that match with certain IP:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\n    IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\n    return (authentication, context) -&gt; {\n        HttpServletRequest request = context.getRequest();\n        return new AuthorizationDecision(ipAddressMatcher.matches(request));\n    };\n}\n</code></pre>\n<p>Together with these static import :</p>\n<pre><code>import static org.springframework.security.authorization.AuthenticatedAuthorizationManager.authenticated;\nimport static org.springframework.security.authorization.AuthorizationManagers.allOf;\n</code></pre>\n<p>You could then polish the codes to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.authorizeHttpRequests()\n    .requestMatchers(&quot;/test&quot;).access(allOf(authenticated(), hasIpAddress(&quot;127.0.0.1&quot;)))\n    .anyRequest().permitAll();\n</code></pre>\n"}],"owner":{"account_id":10458031,"reputation":35,"user_id":7709706,"display_name":"Yakimget"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694024840,"creation_date":1693985100,"question_id":77049796,"body_markdown":"I want to secure one endpoint with basic auth and allow requests only from specific IP addresses. Filter for basic auth:\r\n\r\n```\r\nSecurityFilterChain basicAuthSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                                               .requestMatchers(&quot;/test&quot;).authenticated()\r\n                                               .anyRequest().permitAll()\r\n                                      )\r\n                .csrf().disable()\r\n                .httpBasic();\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nFilter for IP address:\r\n\r\n```\r\nSecurityFilterChain ipSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                                               .requestMatchers(&quot;/test&quot;).access(hasIpAddress(&quot;127.0.0.1&quot;))\r\n                                               .anyRequest().permitAll()\r\n                                      )\r\n                .csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\nprivate AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\r\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\r\n        return (authentication, context) -&gt; {\r\n            HttpServletRequest request = context.getRequest();\r\n            return new AuthorizationDecision(ipAddressMatcher.matches(request));\r\n        };\r\n    }\r\n```\r\n\r\nProblem is with combining these solutions. With older Spring I could use\r\n```\r\n.access(&quot;isAuthenticated() and hasIpAddress(&#39;127.0.0.1&#39;)&quot;)\r\n```\r\nbut now this method accepts only AuthorizationManager instead of String.","title":"Securing endpoint with basic auth and additional conditions in springboot 3","body":"<p>I want to secure one endpoint with basic auth and allow requests only from specific IP addresses. Filter for basic auth:</p>\n<pre><code>SecurityFilterChain basicAuthSecurityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                                               .requestMatchers(&quot;/test&quot;).authenticated()\n                                               .anyRequest().permitAll()\n                                      )\n                .csrf().disable()\n                .httpBasic();\n\n        return http.build();\n    }\n</code></pre>\n<p>Filter for IP address:</p>\n<pre><code>SecurityFilterChain ipSecurityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                                               .requestMatchers(&quot;/test&quot;).access(hasIpAddress(&quot;127.0.0.1&quot;))\n                                               .anyRequest().permitAll()\n                                      )\n                .csrf().disable();\n\n        return http.build();\n    }\n\nprivate AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\n        return (authentication, context) -&gt; {\n            HttpServletRequest request = context.getRequest();\n            return new AuthorizationDecision(ipAddressMatcher.matches(request));\n        };\n    }\n</code></pre>\n<p>Problem is with combining these solutions. With older Spring I could use</p>\n<pre><code>.access(&quot;isAuthenticated() and hasIpAddress('127.0.0.1')&quot;)\n</code></pre>\n<p>but now this method accepts only AuthorizationManager instead of String.</p>\n"},{"tags":["java","android"],"owner":{"account_id":29381686,"reputation":1,"user_id":22512056,"display_name":"akony mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694024734,"creation_date":1694024682,"question_id":77054412,"body_markdown":"When i migrate android billing version 4 to 5 . I get a error about QueryPurchases.\r\n\r\nMy code error\r\n\r\n    public boolean isSubscriptionRunning() {\r\n        return billingClient.queryPurchases(BillingClient.SkuType.SUBS).getPurchasesList() != null\r\n                &amp;&amp; !billingClient.queryPurchases(BillingClient.SkuType.SUBS).getPurchasesList().isEmpty();\r\n    }\r\n\r\nError: Cannot resolve method &#39;queryPurchases&#39; in &#39;BillingClient&#39;.\r\nPlease help me migrate this.\r\n","title":"Migrate android billing 4 to 5 - , queryPurchases, getPurchasesList, getSku","body":"<p>When i migrate android billing version 4 to 5 . I get a error about QueryPurchases.</p>\n<p>My code error</p>\n<pre><code>public boolean isSubscriptionRunning() {\n    return billingClient.queryPurchases(BillingClient.SkuType.SUBS).getPurchasesList() != null\n            &amp;&amp; !billingClient.queryPurchases(BillingClient.SkuType.SUBS).getPurchasesList().isEmpty();\n}\n</code></pre>\n<p>Error: Cannot resolve method 'queryPurchases' in 'BillingClient'.\nPlease help me migrate this.</p>\n"},{"tags":["java","node.js","amazon-web-services","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":5966457,"reputation":3452,"user_id":4690135,"accept_rate":65,"display_name":"gi&#242;"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1463486199,"creation_date":1462884771,"answer_id":37139162,"question_id":37135725,"body_markdown":"I found the error, the NAT Gateway should be added to a public subnet (not a private one).    \r\nA public subnet is the subnet with the Internet Gatway route associated to `0.0.0.0/0`","title":"AWS Lambda connecting to Internet","body":"<p>I found the error, the NAT Gateway should be added to a public subnet (not a private one).<br>\nA public subnet is the subnet with the Internet Gatway route associated to <code>0.0.0.0/0</code></p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1509955642,"creation_date":1509955642,"answer_id":47132315,"question_id":37135725,"body_markdown":"Since I faced the same issue adding a bit more clarity to the above answer -\r\n \r\n 1. Add NAT Gateway or NAT instance to public subnet (the one that has an \r\n `0.0.0.0/0` entry to internet gateway in corresponding (public) subnets route table)\r\n 2. Edit route table of private subnet (where you are running your lambda) to have an entry for `0.0.0.0/0` to the NAT gateway in the public subnet.\r\n 3. Make sure security group assigned to lambda allows outbound connections.","title":"AWS Lambda connecting to Internet","body":"<p>Since I faced the same issue adding a bit more clarity to the above answer -</p>\n\n<ol>\n<li>Add NAT Gateway or NAT instance to public subnet (the one that has an \n<code>0.0.0.0/0</code> entry to internet gateway in corresponding (public) subnets route table)</li>\n<li>Edit route table of private subnet (where you are running your lambda) to have an entry for <code>0.0.0.0/0</code> to the NAT gateway in the public subnet.</li>\n<li>Make sure security group assigned to lambda allows outbound connections.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":224350,"reputation":2946,"user_id":484108,"accept_rate":93,"display_name":"Phillippe Santana"},"down_vote_count":0,"up_vote_count":89,"is_accepted":true,"score":89,"last_activity_date":1553106781,"creation_date":1553106781,"answer_id":55267891,"question_id":37135725,"body_markdown":"By default, a lambda function is not bounded to a VPC, which enables it to have internet access, but prevents it from accessing resources in a VPC, such as RDS instances.\r\n\r\nIf you attach the lambda to a VPC, you&#39;ll loose internet access, which prevents you from accessing resources such S3 and Dynamo, and from making HTTP requests.\r\n\r\nIf you need both, then I&#39;ll have to set up the VPC for internet access, which is a mess (hey AWS guys, if you have a well-defined process for it, please make it simple: turn it into a checkbox or button ;)\r\n\r\n**Create a new VPC**\r\n\r\nI find it&#39;s best to leave the default VPC alone, so you don&#39;t take the risk of breaking something that&#39;s already working in that VPC (in case you already have resources there), and also because you can use the default VPC as configuration reference in the future.\r\n\r\nUse the wizard for creating the VPC.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Create the Route Tables**\r\n\r\n1. Name the first `public-subnet` (if it&#39;s not already there);\r\n2. Name the second `private-lambda`. AWS support recommends having a separate subnet just for the lambda, and this Route Table is going to be attached to it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Create the subnets**\r\n\r\nBy default, when you create a VPC, it will create a public subnet for you. If you used default values, its name should be `Public subnet`. Leave it at that.\r\n\r\nNow you are going to create the private subnets. Is recommended to have several private subnets for your Lambda if you want it to have high availability.\r\n\r\nEach of these private subnets will be linked to the VPC you just created. Now, supposing you left the VPC IP as `10.0.0.0/16`, and that you run your resources in Virginia (`us-east-1`), here is a template for creating six private subnets, each in a different availability zone (for high availability):\r\n\r\n1. `private-lambda-us-east-1a`, availability zone `us-east-1a`, IP block `10.0.16.0/24`\r\n2. `private-lambda-us-east-1b`, availability zone `us-east-1b`, IP block `10.0.32.0/24`\r\n3. `private-lambda-us-east-1c`, availability zone `us-east-1c`, IP block `10.0.48.0/24`\r\n4. `private-lambda-us-east-1d`, availability zone `us-east-1d`, IP block `10.0.64.0/24`\r\n5. `private-lambda-us-east-1e`, availability zone `us-east-1e`, IP block `10.0.80.0/24`\r\n6. `private-lambda-us-east-1f`, availability zone `us-east-1f`, IP block `10.0.92.0/24`\r\n\r\nBut you can see the pattern:\r\n- There&#39;s a 16 increment in the 3rd position of the IP block;\r\n- The names indicate the selected availability zone in your region.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Ensure Route Table vs Subnet associations**\r\n\r\n- Go to the Route Tables panel;\r\n- Select the public-subnet table, review its associations and make sure it&#39;s associated to the Public Subnet;\r\n- Select the private-lambda table, review its associations and make sure It&#39;s associated to all the `private-lambda-*` subnets you just created.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Create an Internet Gateway**\r\n\r\nJust create one and attach it to the VPC.\r\n\r\n**Configure the routes for the Public Subnet**\r\n\r\nIn my case it came configured, but just make sure that the Route Table for your Public Subnet has an entry from `0.0.0.0/0` to your just-created Internet Gateway.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Create a NAT (network address translator)**\r\n\r\nCreate a new NAT and select your Public Subnet. Allocate a new EIP.\r\n\r\n**Configure the routes for the Private Subnets**\r\n\r\nEnsure that the Route Table for your Private Subnets has an entry from `0.0.0.0/0` to your new NAT.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nAnd with these steps, you should now have an Internet-enabled VPC.\r\n\r\n----------\r\n\r\n### Use Case: configuring a Lambda for internet and RDS access\r\n\r\n**Create a Security Group for the lambda**\r\n\r\n- New up a SG and configure Outbound -&gt; All Trafic -&gt; to `0.0.0.0/0` and `::/0`\r\n\r\n**Modify the Security Group of your RDS instance to allow**\r\n\r\n- Inbound -&gt; All trafic -&gt; from the lambda SG\r\n\r\n**Configure the lambda**\r\n\r\n- Create a new lambda or select an existing one;\r\n- Select your new VPC;\r\n- Select all your private subnets (`private-lambda-*`) for high availability;\r\n- Select your lambda Security Group.\r\n\r\nAnd that&#39;s it. You should now have a lambda function that can access both VPC and Internet resources :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5nZTg.png\r\n  [2]: https://i.stack.imgur.com/6JLmy.png\r\n  [3]: https://i.stack.imgur.com/7sbVB.png\r\n  [4]: https://i.stack.imgur.com/TSjZ1.png\r\n  [5]: https://i.stack.imgur.com/FsqL9.png\r\n  [6]: https://i.stack.imgur.com/lgb3E.png","title":"AWS Lambda connecting to Internet","body":"<p>By default, a lambda function is not bounded to a VPC, which enables it to have internet access, but prevents it from accessing resources in a VPC, such as RDS instances.</p>\n\n<p>If you attach the lambda to a VPC, you'll loose internet access, which prevents you from accessing resources such S3 and Dynamo, and from making HTTP requests.</p>\n\n<p>If you need both, then I'll have to set up the VPC for internet access, which is a mess (hey AWS guys, if you have a well-defined process for it, please make it simple: turn it into a checkbox or button ;)</p>\n\n<p><strong>Create a new VPC</strong></p>\n\n<p>I find it's best to leave the default VPC alone, so you don't take the risk of breaking something that's already working in that VPC (in case you already have resources there), and also because you can use the default VPC as configuration reference in the future.</p>\n\n<p>Use the wizard for creating the VPC.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5nZTg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5nZTg.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Create the Route Tables</strong></p>\n\n<ol>\n<li>Name the first <code>public-subnet</code> (if it's not already there);</li>\n<li>Name the second <code>private-lambda</code>. AWS support recommends having a separate subnet just for the lambda, and this Route Table is going to be attached to it.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/6JLmy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6JLmy.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Create the subnets</strong></p>\n\n<p>By default, when you create a VPC, it will create a public subnet for you. If you used default values, its name should be <code>Public subnet</code>. Leave it at that.</p>\n\n<p>Now you are going to create the private subnets. Is recommended to have several private subnets for your Lambda if you want it to have high availability.</p>\n\n<p>Each of these private subnets will be linked to the VPC you just created. Now, supposing you left the VPC IP as <code>10.0.0.0/16</code>, and that you run your resources in Virginia (<code>us-east-1</code>), here is a template for creating six private subnets, each in a different availability zone (for high availability):</p>\n\n<ol>\n<li><code>private-lambda-us-east-1a</code>, availability zone <code>us-east-1a</code>, IP block <code>10.0.16.0/24</code></li>\n<li><code>private-lambda-us-east-1b</code>, availability zone <code>us-east-1b</code>, IP block <code>10.0.32.0/24</code></li>\n<li><code>private-lambda-us-east-1c</code>, availability zone <code>us-east-1c</code>, IP block <code>10.0.48.0/24</code></li>\n<li><code>private-lambda-us-east-1d</code>, availability zone <code>us-east-1d</code>, IP block <code>10.0.64.0/24</code></li>\n<li><code>private-lambda-us-east-1e</code>, availability zone <code>us-east-1e</code>, IP block <code>10.0.80.0/24</code></li>\n<li><code>private-lambda-us-east-1f</code>, availability zone <code>us-east-1f</code>, IP block <code>10.0.92.0/24</code></li>\n</ol>\n\n<p>But you can see the pattern:\n- There's a 16 increment in the 3rd position of the IP block;\n- The names indicate the selected availability zone in your region.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7sbVB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7sbVB.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Ensure Route Table vs Subnet associations</strong></p>\n\n<ul>\n<li>Go to the Route Tables panel;</li>\n<li>Select the public-subnet table, review its associations and make sure it's associated to the Public Subnet;</li>\n<li>Select the private-lambda table, review its associations and make sure It's associated to all the <code>private-lambda-*</code> subnets you just created.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/TSjZ1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TSjZ1.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Create an Internet Gateway</strong></p>\n\n<p>Just create one and attach it to the VPC.</p>\n\n<p><strong>Configure the routes for the Public Subnet</strong></p>\n\n<p>In my case it came configured, but just make sure that the Route Table for your Public Subnet has an entry from <code>0.0.0.0/0</code> to your just-created Internet Gateway.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FsqL9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FsqL9.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Create a NAT (network address translator)</strong></p>\n\n<p>Create a new NAT and select your Public Subnet. Allocate a new EIP.</p>\n\n<p><strong>Configure the routes for the Private Subnets</strong></p>\n\n<p>Ensure that the Route Table for your Private Subnets has an entry from <code>0.0.0.0/0</code> to your new NAT.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lgb3E.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lgb3E.png\" alt=\"enter image description here\"></a></p>\n\n<p>And with these steps, you should now have an Internet-enabled VPC.</p>\n\n<hr>\n\n<h3>Use Case: configuring a Lambda for internet and RDS access</h3>\n\n<p><strong>Create a Security Group for the lambda</strong></p>\n\n<ul>\n<li>New up a SG and configure Outbound -> All Trafic -> to <code>0.0.0.0/0</code> and <code>::/0</code></li>\n</ul>\n\n<p><strong>Modify the Security Group of your RDS instance to allow</strong></p>\n\n<ul>\n<li>Inbound -> All trafic -> from the lambda SG</li>\n</ul>\n\n<p><strong>Configure the lambda</strong></p>\n\n<ul>\n<li>Create a new lambda or select an existing one;</li>\n<li>Select your new VPC;</li>\n<li>Select all your private subnets (<code>private-lambda-*</code>) for high availability;</li>\n<li>Select your lambda Security Group.</li>\n</ul>\n\n<p>And that's it. You should now have a lambda function that can access both VPC and Internet resources :)</p>\n"},{"tags":[],"owner":{"account_id":3043316,"reputation":5893,"user_id":2579733,"display_name":"Max Ivanov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1618695125,"creation_date":1618695125,"answer_id":67143141,"question_id":37135725,"body_markdown":"If you are to do this with Terraform, here are the resources that you will need to configure (in addition to Lambda resources):\r\n\r\n- `aws_vpc`\r\n- `aws_subnet` (public and private; multiple for high availability)\r\n- `aws_internet_gateway` for outbound connection to the internet\r\n- `aws_route_table` (x2 for public and private subnets)\r\n- `aws_route_table_association`\r\n- `aws_eip` (Elastic IP for the NAT Gateway)\r\n- `aws_nat_gateway`\r\n- `aws_default_network_acl` to manage the default NACL with Terraform\r\n- `aws_default_security_group` to manage the default Security Group with Terraform\r\n- `aws_iam_role_policy_attachment` to attach `AWSLambdaVPCAccessExecutionRole` policy\r\n\r\n[Deploy AWS Lambda to VPC with Terraform](https://www.maxivanov.io/deploy-aws-lambda-to-vpc-with-terraform/).\r\n","title":"AWS Lambda connecting to Internet","body":"<p>If you are to do this with Terraform, here are the resources that you will need to configure (in addition to Lambda resources):</p>\n<ul>\n<li><code>aws_vpc</code></li>\n<li><code>aws_subnet</code> (public and private; multiple for high availability)</li>\n<li><code>aws_internet_gateway</code> for outbound connection to the internet</li>\n<li><code>aws_route_table</code> (x2 for public and private subnets)</li>\n<li><code>aws_route_table_association</code></li>\n<li><code>aws_eip</code> (Elastic IP for the NAT Gateway)</li>\n<li><code>aws_nat_gateway</code></li>\n<li><code>aws_default_network_acl</code> to manage the default NACL with Terraform</li>\n<li><code>aws_default_security_group</code> to manage the default Security Group with Terraform</li>\n<li><code>aws_iam_role_policy_attachment</code> to attach <code>AWSLambdaVPCAccessExecutionRole</code> policy</li>\n</ul>\n<p><a href=\"https://www.maxivanov.io/deploy-aws-lambda-to-vpc-with-terraform/\" rel=\"nofollow noreferrer\">Deploy AWS Lambda to VPC with Terraform</a>.</p>\n"},{"tags":[],"owner":{"account_id":23152783,"reputation":21,"user_id":17254510,"display_name":"Azeem Ayaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635277659,"creation_date":1635277659,"answer_id":69729123,"question_id":37135725,"body_markdown":"For the ease if you are starting use the VPC launch template on the VPC home page to deploy the VPC. This will create public subnet, private subnet, NAT GW, IGW and all the required routes to access internet from private subnet.","title":"AWS Lambda connecting to Internet","body":"<p>For the ease if you are starting use the VPC launch template on the VPC home page to deploy the VPC. This will create public subnet, private subnet, NAT GW, IGW and all the required routes to access internet from private subnet.</p>\n"},{"tags":[],"owner":{"account_id":22860432,"reputation":21,"user_id":17004612,"display_name":"Michael B&#246;hm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650622856,"creation_date":1650622856,"answer_id":71967172,"question_id":37135725,"body_markdown":"&gt; If you need both, then I&#39;ll have to set up the VPC for internet access, which is a mess (hey AWS guys, if you have a well-defined process for it, please make it simple: turn it into a checkbox or button ;)\r\n\r\nYour prayers have been heard and AWS now has an &quot;Resources to create&quot; -&gt; &quot;VPC, subnets, etc.&quot; option when creating a new VPC where you can just choose the amount of subnets, AZs, NAT Gateways etc. in the wizard and it creates everything you described for you:\r\n[Create VPC][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D7NtZ.png","title":"AWS Lambda connecting to Internet","body":"<blockquote>\n<p>If you need both, then I'll have to set up the VPC for internet access, which is a mess (hey AWS guys, if you have a well-defined process for it, please make it simple: turn it into a checkbox or button ;)</p>\n</blockquote>\n<p>Your prayers have been heard and AWS now has an &quot;Resources to create&quot; -&gt; &quot;VPC, subnets, etc.&quot; option when creating a new VPC where you can just choose the amount of subnets, AZs, NAT Gateways etc. in the wizard and it creates everything you described for you:\n<a href=\"https://i.stack.imgur.com/D7NtZ.png\" rel=\"nofollow noreferrer\">Create VPC</a></p>\n"},{"tags":[],"owner":{"account_id":10822741,"reputation":479,"user_id":7959689,"display_name":"Molossus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671009544,"creation_date":1670975201,"answer_id":74792133,"question_id":37135725,"body_markdown":"I had a similar problem when trying to access the Secrets Manager after adding the Lambda function to a VPC. On this thread it discusses a NAT solution but also using a VPC endpoint:  \r\nhttps://stackoverflow.com/questions/62274069/aws-lambda-access-secrets-manager-from-within-vpc\r\n\r\nMore information:  \r\n[Access an AWS service using an interface VPC endpoint][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html#create-interface-endpoint","title":"AWS Lambda connecting to Internet","body":"<p>I had a similar problem when trying to access the Secrets Manager after adding the Lambda function to a VPC. On this thread it discusses a NAT solution but also using a VPC endpoint:<br />\n<a href=\"https://stackoverflow.com/questions/62274069/aws-lambda-access-secrets-manager-from-within-vpc\">AWS Lambda access Secrets Manager from within VPC</a></p>\n<p>More information:<br />\n<a href=\"https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html#create-interface-endpoint\" rel=\"nofollow noreferrer\">Access an AWS service using an interface VPC endpoint</a></p>\n"},{"tags":[],"owner":{"account_id":2896780,"reputation":1440,"user_id":2484361,"accept_rate":100,"display_name":"GarryOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694023576,"creation_date":1693957091,"answer_id":77048269,"question_id":37135725,"body_markdown":"If you want to keep the Lambda outside a `VPC` (having internet access), but you still need a specific service from the VPC, then you can follow my recommendation:\r\n\r\nSome services like `ElastiCache` (which was my case) will not be able to be exposed publicly, no matter how *public* you make your VPC, because that&#39;s how it was designed. \r\n\r\nBut there is a workaround which I managed to use it successfully for achieving that. \r\n\r\nYou can use a `EC2` instance deployed in that VPC (being it even private) and act as a *bastion*. \r\n\r\nYou&#39;ll need to use `socat` to make your `EC2` instance to act as a reverse-proxy.\r\n\r\n---\r\n\r\n**Steps:**\r\n\r\n1. Install socat: \r\n\r\n```sudo yum install -y socat```\r\n\r\n2. Run socat to forward traffic from the EC2 instance to the Redis cluster (update `redis-host` with your Redis Cluster host from AWS):\r\n\r\n`sudo socat TCP-LISTEN:6379,fork,reuseaddr TCP:redis-host:6379 &amp;\r\n`\r\n\r\nThat&#39;s all.\r\n\r\n---\r\nExtra:\r\n**Persisting across reboots:**\r\n\r\n1. Create a systemd service for socat:\r\n```sudo nano /etc/systemd/system/socat-redis.service```\r\n\r\n2. Add the following to the file:\r\n```\r\n[Unit]\r\nDescription=Socat Redis Forwarding\r\nAfter=network.target\r\n\r\n[Service]\r\nExecStart=/usr/bin/socat TCP-LISTEN:6379,fork,reuseaddr TCP:redis-demo.v4422l.clustercfg.use1.cache.amazonaws.com:6379\r\nRestart=always\r\nUser=root\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\n3. Enable and start the service:\r\n```\r\nsudo systemctl enable socat-redis\r\nsudo systemctl start socat-redis\r\n```\r\n\r\nThis will ensure that the socat process starts on boot and will attempt to restart if it dies for any reason.\r\n","title":"AWS Lambda connecting to Internet","body":"<p>If you want to keep the Lambda outside a <code>VPC</code> (having internet access), but you still need a specific service from the VPC, then you can follow my recommendation:</p>\n<p>Some services like <code>ElastiCache</code> (which was my case) will not be able to be exposed publicly, no matter how <em>public</em> you make your VPC, because that's how it was designed.</p>\n<p>But there is a workaround which I managed to use it successfully for achieving that.</p>\n<p>You can use a <code>EC2</code> instance deployed in that VPC (being it even private) and act as a <em>bastion</em>.</p>\n<p>You'll need to use <code>socat</code> to make your <code>EC2</code> instance to act as a reverse-proxy.</p>\n<hr />\n<p><strong>Steps:</strong></p>\n<ol>\n<li>Install socat:</li>\n</ol>\n<p><code>sudo yum install -y socat</code></p>\n<ol start=\"2\">\n<li>Run socat to forward traffic from the EC2 instance to the Redis cluster (update <code>redis-host</code> with your Redis Cluster host from AWS):</li>\n</ol>\n<p><code>sudo socat TCP-LISTEN:6379,fork,reuseaddr TCP:redis-host:6379 &amp; </code></p>\n<p>That's all.</p>\n<hr />\n<p>Extra:\n<strong>Persisting across reboots:</strong></p>\n<ol>\n<li><p>Create a systemd service for socat:\n<code>sudo nano /etc/systemd/system/socat-redis.service</code></p>\n</li>\n<li><p>Add the following to the file:</p>\n</li>\n</ol>\n<pre><code>[Unit]\nDescription=Socat Redis Forwarding\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/socat TCP-LISTEN:6379,fork,reuseaddr TCP:redis-demo.v4422l.clustercfg.use1.cache.amazonaws.com:6379\nRestart=always\nUser=root\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<ol start=\"3\">\n<li>Enable and start the service:</li>\n</ol>\n<pre><code>sudo systemctl enable socat-redis\nsudo systemctl start socat-redis\n</code></pre>\n<p>This will ensure that the socat process starts on boot and will attempt to restart if it dies for any reason.</p>\n"}],"owner":{"account_id":5966457,"reputation":3452,"user_id":4690135,"accept_rate":65,"display_name":"gi&#242;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36363,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":55267891,"answer_count":8,"score":36,"last_activity_date":1694023576,"creation_date":1462875816,"question_id":37135725,"body_markdown":"TL;TR\r\n-\r\n\r\nI am trying to connect to internet from AWS Lambda, I have a private subnet with a NAT Gateway but still the function cannot connect to internet...\r\n\r\nFull Question\r\n-\r\n\r\nSo I am trying to access internet with my AWS Lambda function. I have tried both Java and NodeJS 4 with no luck.\r\n\r\nI have a private VPC with a subnet: 10.0.10.0/24\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see I have added a rule to my NAT Gateway:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI configured my AWS Lambda like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSelecting that subnet (10.0.10.0) and with a security group that is open to everything (both inbound and outbound)\r\n\r\nBut yet when I try to download something from internet, the lambda times out:\r\n\r\n    &#39;use strict&#39;;\r\n    console.log(&#39;Loading function&#39;);\r\n    \r\n    var http = require(&quot;http&quot;);\r\n    \r\n    exports.handler = (event, context, callback) =&gt; {\r\n        //console.log(&#39;Received event:&#39;, JSON.stringify(event, null, 2));\r\n        console.log(&#39;value1 =&#39;, event.key1);\r\n        console.log(&#39;value2 =&#39;, event.key2);\r\n        console.log(&#39;value3 =&#39;, event.key3);\r\n        \r\n        var options = {\r\n          host: &#39;www.virgilio.it&#39;,\r\n          port: 80,\r\n          path: &#39;/&#39;\r\n        };\r\n        \r\n        http.get(options, function(res) {\r\n          console.log(&quot;Got response: &quot; + res.statusCode);\r\n        }).on(&#39;error&#39;, function(e) {\r\n          console.log(&quot;Got error: &quot; + e.message);\r\n        });\r\n        \r\n        callback(null, event.key1);  // Echo back the first key value\r\n        // callback(&#39;Something went wrong&#39;);\r\n    };\r\n\r\n&gt; {\r\n&gt;  &quot;errorMessage&quot;: &quot;2016-05-10T10:11:46.936Z 79968883-1697-11e6-9e17-1f46a366f324 Task timed out after 55.00\r\n&gt; seconds&quot;\r\n&gt;  }\r\n\r\nIs this a bug?\r\n\r\n  [1]: http://i.stack.imgur.com/GZr78.png\r\n  [2]: http://i.stack.imgur.com/5ACF5.png\r\n  [3]: http://i.stack.imgur.com/w1Sy8.png\r\n\r\n\r\n**Note: the same function works If I don&#39;t select my VPC**","title":"AWS Lambda connecting to Internet","body":"<h2>TL;TR</h2>\n\n<p>I am trying to connect to internet from AWS Lambda, I have a private subnet with a NAT Gateway but still the function cannot connect to internet...</p>\n\n<h2>Full Question</h2>\n\n<p>So I am trying to access internet with my AWS Lambda function. I have tried both Java and NodeJS 4 with no luck.</p>\n\n<p>I have a private VPC with a subnet: 10.0.10.0/24</p>\n\n<p><a href=\"https://i.stack.imgur.com/GZr78.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GZr78.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see I have added a rule to my NAT Gateway:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5ACF5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5ACF5.png\" alt=\"enter image description here\"></a></p>\n\n<p>I configured my AWS Lambda like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/w1Sy8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/w1Sy8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Selecting that subnet (10.0.10.0) and with a security group that is open to everything (both inbound and outbound)</p>\n\n<p>But yet when I try to download something from internet, the lambda times out:</p>\n\n<pre><code>'use strict';\nconsole.log('Loading function');\n\nvar http = require(\"http\");\n\nexports.handler = (event, context, callback) =&gt; {\n    //console.log('Received event:', JSON.stringify(event, null, 2));\n    console.log('value1 =', event.key1);\n    console.log('value2 =', event.key2);\n    console.log('value3 =', event.key3);\n\n    var options = {\n      host: 'www.virgilio.it',\n      port: 80,\n      path: '/'\n    };\n\n    http.get(options, function(res) {\n      console.log(\"Got response: \" + res.statusCode);\n    }).on('error', function(e) {\n      console.log(\"Got error: \" + e.message);\n    });\n\n    callback(null, event.key1);  // Echo back the first key value\n    // callback('Something went wrong');\n};\n</code></pre>\n\n<blockquote>\n  <p>{\n   \"errorMessage\": \"2016-05-10T10:11:46.936Z 79968883-1697-11e6-9e17-1f46a366f324 Task timed out after 55.00\n  seconds\"\n   }</p>\n</blockquote>\n\n<p>Is this a bug?</p>\n\n<p><strong>Note: the same function works If I don't select my VPC</strong></p>\n"},{"tags":["java","android","android-constraintlayout"],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694023507,"creation_date":1694023507,"question_id":77054299,"body_markdown":"I have read from the official guide the following: \r\n\r\nTo constrain one specific side based on the dimensions of another, you can pre append W,&quot; or H, to constrain the width or height respectively. For example, If one dimension is constrained by two targets (e.g. width is 0dp and centered on parent) you can indicate which side should be constrained, by adding the letter W (for constraining the width) or H (for constraining the height) in front of the ratio, separated by a comma\r\n\r\n\r\nIn conclusion if I use `app:layout_constraintDimensionRatio=&quot;H,1:1&quot;` it means that the height will be fixed and the width will be set to be the same size as the height? For example if my element has more width than height, if I use `app:layout_constraintDimensionRatio=&quot;H,1:1&quot;` that width now will become smaller to be the samesize as the height but if I use `app:layout_constraintDimensionRatio=&quot;W,1:1&quot;` now what will grow will be the height to be width and height the same size as the width now is fixed?\r\n\r\n","title":"Difference between app:layout_constraintDimensionRatio=&quot;H,1:1&quot; and app:layout_constraintDimensionRatio=&quot;W,1:1&quot;","body":"<p>I have read from the official guide the following:</p>\n<p>To constrain one specific side based on the dimensions of another, you can pre append W,&quot; or H, to constrain the width or height respectively. For example, If one dimension is constrained by two targets (e.g. width is 0dp and centered on parent) you can indicate which side should be constrained, by adding the letter W (for constraining the width) or H (for constraining the height) in front of the ratio, separated by a comma</p>\n<p>In conclusion if I use <code>app:layout_constraintDimensionRatio=&quot;H,1:1&quot;</code> it means that the height will be fixed and the width will be set to be the same size as the height? For example if my element has more width than height, if I use <code>app:layout_constraintDimensionRatio=&quot;H,1:1&quot;</code> that width now will become smaller to be the samesize as the height but if I use <code>app:layout_constraintDimensionRatio=&quot;W,1:1&quot;</code> now what will grow will be the height to be width and height the same size as the width now is fixed?</p>\n"},{"tags":["java","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694023418,"creation_date":1694023418,"answer_id":77054291,"question_id":77054090,"body_markdown":"The table with which an entity class is associated is a characteristic of the entity class itself, not of other classes that have a relationship with it.  So no, in a given persistence unit, you cannot have one entity class mapped to multiple different tables.\r\n\r\nBut maybe you can get close to what you want with a mapped superclass of multiple distinct entities.  You could have:\r\n```\r\n// Not an entity, but contains mapping information for entity subclasses\r\n@MappedSuperclass\r\n@Getter\r\n@Setter\r\npublic class Settings {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n}\r\n\r\n@Entity\r\n@Table(schema = &quot;company&quot;, name = &quot;company_settings&quot;)\r\n@Getter\r\n@Setter\r\npublic class CompanySettings extends Settings {\r\n\r\n    @ManyToOne\r\n    private Company company;\r\n}\r\n\r\n@Entity\r\n@Table(schema = &quot;company&quot;, name = &quot;user_settings&quot;)\r\n@Getter\r\n@Setter\r\npublic class UserSettings extends Settings {\r\n\r\n    @ManyToOne\r\n    private User user;\r\n}\r\n```\r\nThe `Company` and `User` entities would need to map their relationships to their respective varieties of `Settings`, but you could nevertheless reduce code duplication between the settings entities this way. For example,\r\n```\r\npublic class Company  {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;company&quot;)\r\n    private List&lt;CompanySettings&gt; settings;\r\n}\r\n```\r\nAnd you could handle `CompanySettings`es and `UserSettings`es generically as `Settings`es wherever, if anywhere, it makes sense to do so (which does not include in `Company` or `User`).","title":"How to map one entity to two tables","body":"<p>The table with which an entity class is associated is a characteristic of the entity class itself, not of other classes that have a relationship with it.  So no, in a given persistence unit, you cannot have one entity class mapped to multiple different tables.</p>\n<p>But maybe you can get close to what you want with a mapped superclass of multiple distinct entities.  You could have:</p>\n<pre><code>// Not an entity, but contains mapping information for entity subclasses\n@MappedSuperclass\n@Getter\n@Setter\npublic class Settings {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n}\n\n@Entity\n@Table(schema = &quot;company&quot;, name = &quot;company_settings&quot;)\n@Getter\n@Setter\npublic class CompanySettings extends Settings {\n\n    @ManyToOne\n    private Company company;\n}\n\n@Entity\n@Table(schema = &quot;company&quot;, name = &quot;user_settings&quot;)\n@Getter\n@Setter\npublic class UserSettings extends Settings {\n\n    @ManyToOne\n    private User user;\n}\n</code></pre>\n<p>The <code>Company</code> and <code>User</code> entities would need to map their relationships to their respective varieties of <code>Settings</code>, but you could nevertheless reduce code duplication between the settings entities this way. For example,</p>\n<pre><code>public class Company  {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;company&quot;)\n    private List&lt;CompanySettings&gt; settings;\n}\n</code></pre>\n<p>And you could handle <code>CompanySettings</code>es and <code>UserSettings</code>es generically as <code>Settings</code>es wherever, if anywhere, it makes sense to do so (which does not include in <code>Company</code> or <code>User</code>).</p>\n"}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694023418,"creation_date":1694021151,"question_id":77054090,"body_markdown":"    public class Company  {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n   \r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        @JoinTable(schema = &quot;company&quot;,\r\n            name = &quot;company_settings&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;company_id&quot;))\r\n        private List&lt;Settings&gt; settings;\r\n    }\r\nmigration on flyway\r\n\r\n        CREATE TABLE company.company_settings (\r\n                                                    id serial primary key,\r\n                                                    ...\r\n    );\r\nSettings class\r\n\r\n    @Entity\r\n    @Table(schema = &quot;company&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Settings {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n    }\r\n\r\nproblem what i see\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;company.settings&quot; does not exist\r\n\r\nwhy i dont want to use table name in @Table - i will need to use Settings class for another table as well. It will be the same table but for user.\r\n\r\n    public class User  {\r\n\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n   \r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        @JoinTable(schema = &quot;user&quot;,\r\n            name = &quot;user_settings&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n        private List&lt;Settings&gt; settings;\r\n    }\r\n\r\ni want to have 2 table `user_settings` and `company_settings` in different schemas.\r\nis it possible to do with `@JoinTable`?\r\nI can use one class and extend it for user and company, or i can have 1 table for both of them.","title":"How to map one entity to two tables","body":"<pre><code>public class Company  {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(schema = &quot;company&quot;,\n        name = &quot;company_settings&quot;,\n        joinColumns = @JoinColumn(name = &quot;company_id&quot;))\n    private List&lt;Settings&gt; settings;\n}\n</code></pre>\n<p>migration on flyway</p>\n<pre><code>    CREATE TABLE company.company_settings (\n                                                id serial primary key,\n                                                ...\n);\n</code></pre>\n<p>Settings class</p>\n<pre><code>@Entity\n@Table(schema = &quot;company&quot;)\n@Getter\n@Setter\npublic class Settings {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n}\n</code></pre>\n<p>problem what i see</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;company.settings&quot; does not exist\n</code></pre>\n<p>why i dont want to use table name in @Table - i will need to use Settings class for another table as well. It will be the same table but for user.</p>\n<pre><code>public class User  {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(schema = &quot;user&quot;,\n        name = &quot;user_settings&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    private List&lt;Settings&gt; settings;\n}\n</code></pre>\n<p>i want to have 2 table <code>user_settings</code> and <code>company_settings</code> in different schemas.\nis it possible to do with <code>@JoinTable</code>?\nI can use one class and extend it for user and company, or i can have 1 table for both of them.</p>\n"},{"tags":["java","dataset","virtual","gdal"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694018476,"post_id":77053826,"comment_id":135837177,"body_markdown":"You can use [GDAL Java Library](https://gdal.org/api/java/index.html)","body":"You can use <a href=\"https://gdal.org/api/java/index.html\" rel=\"nofollow noreferrer\">GDAL Java Library</a>"},{"owner":{"account_id":5971936,"reputation":11,"user_id":4694028,"display_name":"m3lter"},"score":0,"creation_date":1694018767,"post_id":77053826,"comment_id":135837247,"body_markdown":"I know that there exists Java library but what I don&#39;t know is how to use it to get that virtual dataset.","body":"I know that there exists Java library but what I don&#39;t know is how to use it to get that virtual dataset."},{"owner":{"account_id":5971936,"reputation":11,"user_id":4694028,"display_name":"m3lter"},"score":0,"creation_date":1694019266,"post_id":77053826,"comment_id":135837351,"body_markdown":"@DiegoBorba Can you help me with this?","body":"@DiegoBorba Can you help me with this?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694019860,"post_id":77053826,"comment_id":135837472,"body_markdown":"I promisse that I will try!","body":"I promisse that I will try!"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694022677,"creation_date":1694019802,"answer_id":77053988,"question_id":77053826,"body_markdown":"From what I read in the [documentation][1] you can do it this way:\r\n\r\nFirst, you register the drivers:\r\n\r\n```java\r\ngdal.AllRegister();\r\n```\r\n\r\n&gt; This function should generally be called once at the beginning of the application. - [Class gdal][2]\r\n\r\nThen, you use [`gdal.GetDriverByName`][3] to get the driver and [`Driver.Create`][4] to create the dataset:\r\n\r\n```java\r\n// Sample dataset\r\nDataset vrtDataset = gdal.GetDriverByName(&quot;VRT&quot;).Create(&quot;allFiles.vrt&quot;, 0, 0, 0, gdalconst.GDT_Unknown);\r\n```\r\n\r\n**Note:** You should change the [`GDT_Unknown`][5] and the size/band values.\r\n\r\n\r\n  [1]: https://gdal.org/java/index.html\r\n  [2]: https://gdal.org/java/org/gdal/gdal/gdal.html#AllRegister()\r\n  [3]: https://gdal.org/java/org/gdal/gdal/gdal.html#GetDriverByName(java.lang.String)\r\n  [4]: https://gdal.org/java/org/gdal/gdal/Driver.html#Create(java.lang.String,int,int,int)\r\n  [5]: https://gdal.org/java/org/gdal/gdalconst/gdalconstConstants.html#GDT_Unknown","title":"How to create gdal virtual dataset in Java?","body":"<p>From what I read in the <a href=\"https://gdal.org/java/index.html\" rel=\"nofollow noreferrer\">documentation</a> you can do it this way:</p>\n<p>First, you register the drivers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gdal.AllRegister();\n</code></pre>\n<blockquote>\n<p>This function should generally be called once at the beginning of the application. - <a href=\"https://gdal.org/java/org/gdal/gdal/gdal.html#AllRegister()\" rel=\"nofollow noreferrer\">Class gdal</a></p>\n</blockquote>\n<p>Then, you use <a href=\"https://gdal.org/java/org/gdal/gdal/gdal.html#GetDriverByName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>gdal.GetDriverByName</code></a> to get the driver and <a href=\"https://gdal.org/java/org/gdal/gdal/Driver.html#Create(java.lang.String,int,int,int)\" rel=\"nofollow noreferrer\"><code>Driver.Create</code></a> to create the dataset:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Sample dataset\nDataset vrtDataset = gdal.GetDriverByName(&quot;VRT&quot;).Create(&quot;allFiles.vrt&quot;, 0, 0, 0, gdalconst.GDT_Unknown);\n</code></pre>\n<p><strong>Note:</strong> You should change the <a href=\"https://gdal.org/java/org/gdal/gdalconst/gdalconstConstants.html#GDT_Unknown\" rel=\"nofollow noreferrer\"><code>GDT_Unknown</code></a> and the size/band values.</p>\n"}],"owner":{"account_id":5971936,"reputation":11,"user_id":4694028,"display_name":"m3lter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694022677,"creation_date":1694018080,"question_id":77053826,"body_markdown":"By command line virtual dataset is created like this\r\n\r\n`$ gdalbuildvrt allFiles.vrt file1.tif file2.tif file3.tif file4.tif`\r\n\r\nand I know there is Java library but how do I create virtual dataset?\r\n\r\nI have investigated web site https://gdal.org/java/index.html and used internet search engines but didn&#39;t find help.","title":"How to create gdal virtual dataset in Java?","body":"<p>By command line virtual dataset is created like this</p>\n<p><code>$ gdalbuildvrt allFiles.vrt file1.tif file2.tif file3.tif file4.tif</code></p>\n<p>and I know there is Java library but how do I create virtual dataset?</p>\n<p>I have investigated web site <a href=\"https://gdal.org/java/index.html\" rel=\"nofollow noreferrer\">https://gdal.org/java/index.html</a> and used internet search engines but didn't find help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":2,"creation_date":1694011269,"post_id":77052860,"comment_id":135835609,"body_markdown":"Does this answer your question? [Sonar: Disable XML external entity (XXE) processing](https://stackoverflow.com/questions/63501145/sonar-disable-xml-external-entity-xxe-processing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63501145/sonar-disable-xml-external-entity-xxe-processing\">Sonar: Disable XML external entity (XXE) processing</a>"},{"owner":{"account_id":22003694,"reputation":45,"user_id":16275037,"display_name":"Pkdrc "},"score":0,"creation_date":1694019696,"post_id":77052860,"comment_id":135837443,"body_markdown":"Could you please suggest how to do this for TransformerFactory?","body":"Could you please suggest how to do this for TransformerFactory?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694022242,"creation_date":1694022242,"answer_id":77054185,"question_id":77052860,"body_markdown":"The [documentation of TransformerFactory.setFeature](https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,boolean)) says:\r\n\r\n&gt;All implementations are required to support the `XMLConstants.FEATURE_SECURE_PROCESSING` feature.\r\n\r\nSo all you need to do is:\r\n\r\n    TransformerFactory factory = TransformerFactory.newInstance();\r\n    factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n    Transformer ts = factory.newTransformer(ss);\r\n","title":"Vulnerability due to TransformerFactory","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">documentation of TransformerFactory.setFeature</a> says:</p>\n<blockquote>\n<p>All implementations are required to support the <code>XMLConstants.FEATURE_SECURE_PROCESSING</code> feature.</p>\n</blockquote>\n<p>So all you need to do is:</p>\n<pre><code>TransformerFactory factory = TransformerFactory.newInstance();\nfactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\nTransformer ts = factory.newTransformer(ss);\n</code></pre>\n"}],"owner":{"account_id":22003694,"reputation":45,"user_id":16275037,"display_name":"Pkdrc "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77054185,"answer_count":1,"score":0,"last_activity_date":1694022242,"creation_date":1694010319,"question_id":77052860,"body_markdown":"I am getting vulnerability issue due to below code:\r\n\r\nStreamSource ss=new StreamSource(this.getClass().getClassLoader().getResourceAsStream(template));\r\n\r\nTransformer ts=TransformerFactory.newInstance().newTransformer(ss);\r\n\r\nI am facing vulnerability issue in sonarqube for 2nd line(Disable access to external entities in XML parsing).\r\nCan anyone please help me to resolve this vulnerability issue \r\n","title":"Vulnerability due to TransformerFactory","body":"<p>I am getting vulnerability issue due to below code:</p>\n<p>StreamSource ss=new StreamSource(this.getClass().getClassLoader().getResourceAsStream(template));</p>\n<p>Transformer ts=TransformerFactory.newInstance().newTransformer(ss);</p>\n<p>I am facing vulnerability issue in sonarqube for 2nd line(Disable access to external entities in XML parsing).\nCan anyone please help me to resolve this vulnerability issue</p>\n"},{"tags":["java","spring-boot","docker","dockerfile","docker-entrypoint"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1561773946,"post_id":56814400,"comment_id":100183112,"body_markdown":"Have you tried using the environment variable `SPRING_PROFILES_ACTIVE`?","body":"Have you tried using the environment variable <code>SPRING_PROFILES_ACTIVE</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7187217,"reputation":261,"user_id":5488802,"accept_rate":50,"display_name":"Sharan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561770792,"creation_date":1561770792,"answer_id":56814432,"question_id":56814400,"body_markdown":"you have to provide the JAVA_OPTS inside the docker file, example of a docker file is below.\r\n\r\n    FROM {{ env &quot;DOCKER_REGISTRY&quot; }}/asdf/osX-jre8:{{ env &quot;BASE_IMAGE_VERSION&quot; }}\r\n    \r\n    ADD target/yourapp.jar /app.jar\r\n    \r\n    #Environment vars\r\n    ENV NO_PREFIX true\r\n    ENV APP_NAME &quot;xxx&quot;\r\n    ENV APP_UUID &quot;81b35e09-2a10-48c3-a091-xxxxxxxxx&quot;\r\n    ENV HEALTH_CHECK_URL http://localhost:9000/health\r\n    ENV SERVICE_PORT 8080\r\n    \r\n    ENV JAVA_OPTS &quot;-Dsun.net.client.defaultConnectTimeout=2000 -Dsun.net.client.defaultReadTimeout=20000 -XX:+PrintGC -XX:+PrintGCTimeStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/alloc/logs&quot;\r\n\r\n","title":"How to pass Java options/variables to Springboot app in docker run command","body":"<p>you have to provide the JAVA_OPTS inside the docker file, example of a docker file is below.</p>\n\n<pre><code>FROM {{ env \"DOCKER_REGISTRY\" }}/asdf/osX-jre8:{{ env \"BASE_IMAGE_VERSION\" }}\n\nADD target/yourapp.jar /app.jar\n\n#Environment vars\nENV NO_PREFIX true\nENV APP_NAME \"xxx\"\nENV APP_UUID \"81b35e09-2a10-48c3-a091-xxxxxxxxx\"\nENV HEALTH_CHECK_URL http://localhost:9000/health\nENV SERVICE_PORT 8080\n\nENV JAVA_OPTS \"-Dsun.net.client.defaultConnectTimeout=2000 -Dsun.net.client.defaultReadTimeout=20000 -XX:+PrintGC -XX:+PrintGCTimeStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/alloc/logs\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1694021861,"creation_date":1561784951,"answer_id":56815217,"question_id":56814400,"body_markdown":"# Solution 1\r\n\r\nYou can override any property from your configuration by passing it to docker container using `-e` option. As explained in [`Externalized configuration`](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config) the environment variable name should be uppercased and splitted using underscore. So for example to pass `spring.profiles.active` property you could use `SPRING_PROFILES_ACTIVE` environment variable during container run :\r\n````\r\ndocker run -p 8000:80 -e SPRING_PROFILES_ACTIVE=dockerdev demo-app\r\n````\r\nAnd this variable should be picked automatically by Spring from environment.\r\n\r\n# Solution 2\r\n\r\nChange Dockerfile to :\r\n````\r\nFROM openjdk:8-jdk-alpine\r\nARG JAR_FILE=target/demo-app-1.0-SNAPSHOT.jar\r\n\r\n# environment variable with default value\r\nENV SPRING_PROFILE=dev\r\n\r\nCOPY ${JAR_FILE} /opt/lib/demo-app.jar\r\n\r\nEXPOSE 80\r\n\r\n#run with environment variable\r\nENTRYPOINT java -Dspring.profiles.active=$SPRING_PROFILE -jar /opt/lib/demo-app.jar\r\n````\r\nand then run the container passing the environment variable :\r\n````\r\ndocker run -p 8000:80 --rm -e SPRING_PROFILE=dockerdev demo-app\r\n````","title":"How to pass Java options/variables to Springboot app in docker run command","body":"<h1>Solution 1</h1>\n<p>You can override any property from your configuration by passing it to docker container using <code>-e</code> option. As explained in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config\" rel=\"nofollow noreferrer\"><code>Externalized configuration</code></a> the environment variable name should be uppercased and splitted using underscore. So for example to pass <code>spring.profiles.active</code> property you could use <code>SPRING_PROFILES_ACTIVE</code> environment variable during container run :</p>\n<pre><code>docker run -p 8000:80 -e SPRING_PROFILES_ACTIVE=dockerdev demo-app\n</code></pre>\n<p>And this variable should be picked automatically by Spring from environment.</p>\n<h1>Solution 2</h1>\n<p>Change Dockerfile to :</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nARG JAR_FILE=target/demo-app-1.0-SNAPSHOT.jar\n\n# environment variable with default value\nENV SPRING_PROFILE=dev\n\nCOPY ${JAR_FILE} /opt/lib/demo-app.jar\n\nEXPOSE 80\n\n#run with environment variable\nENTRYPOINT java -Dspring.profiles.active=$SPRING_PROFILE -jar /opt/lib/demo-app.jar\n</code></pre>\n<p>and then run the container passing the environment variable :</p>\n<pre><code>docker run -p 8000:80 --rm -e SPRING_PROFILE=dockerdev demo-app\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9128149,"reputation":11117,"user_id":6790948,"accept_rate":0,"display_name":"mchawre"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561812281,"creation_date":1561812281,"answer_id":56817646,"question_id":56814400,"body_markdown":"Make use of [application.properties][1] in springboot to override any variables from outside. We heavily use this in our production environments.\r\n\r\nYou need to:\r\n\r\n - Change your `ENTRYPOINT` to:\r\n\r\n```\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/opt/lib/demo-app.jar&quot;,&quot;--spring.config.additional-location=/application.properties&quot;]\r\n```\r\n\r\n - Create `application.properties` file with contents:\r\n```\r\nspring.profiles.active=dockerdev\r\n```\r\nYou can also override any variables used in your springboot code using `application.properties` and can also override springboot specific variables as mentioned [here][1].\r\n\r\n - Also change your `docker run` command to:\r\n```\r\ndocker run -itd -v /path/to/application.properties:/application.properties image-name\r\n```\r\n   So that `application.properties` from your host will get mounted\r\n   inside your docker container.\r\n\r\n**NOTE:** If `--spring.config.additional-location` don&#39;t works then try `--spring.config.location` option.\r\n\r\nHope this helps.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"How to pass Java options/variables to Springboot app in docker run command","body":"<p>Make use of <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">application.properties</a> in springboot to override any variables from outside. We heavily use this in our production environments.</p>\n\n<p>You need to:</p>\n\n<ul>\n<li>Change your <code>ENTRYPOINT</code> to:</li>\n</ul>\n\n<pre><code>ENTRYPOINT [\"java\",\"-jar\",\"/opt/lib/demo-app.jar\",\"--spring.config.additional-location=/application.properties\"]\n</code></pre>\n\n<ul>\n<li>Create <code>application.properties</code> file with contents:</li>\n</ul>\n\n<pre><code>spring.profiles.active=dockerdev\n</code></pre>\n\n<p>You can also override any variables used in your springboot code using <code>application.properties</code> and can also override springboot specific variables as mentioned <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">here</a>.</p>\n\n<ul>\n<li>Also change your <code>docker run</code> command to:</li>\n</ul>\n\n<pre><code>docker run -itd -v /path/to/application.properties:/application.properties image-name\n</code></pre>\n\n<p>So that <code>application.properties</code> from your host will get mounted\n   inside your docker container.</p>\n\n<p><strong>NOTE:</strong> If <code>--spring.config.additional-location</code> don't works then try <code>--spring.config.location</code> option.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594741496,"creation_date":1594741496,"answer_id":62898928,"question_id":56814400,"body_markdown":"You should add the env variable JAVA_OPTS to your Dockerfile\r\n\r\n    FROM tomcat:8.5.47-jdk8-openjdk\r\n    \r\n    LABEL build_date=&quot;2020-07-14&quot; \\\r\n    \t  name=&quot;Ousama EL IDRISSI&quot; \\\r\n    \t  version=&quot;1.0&quot; \\\r\n    \t  description=&quot;Docker Image made by la7ya&quot;\r\n    \r\n    EXPOSE 8080\r\n    \r\n    COPY ./target/la7yaman-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/ROOT.war\r\n    \r\n    ENV JAVA_OPTS=&quot;-Dspring.profiles.active=docker-demo&quot;\r\n    \r\n    CMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n\r\n","title":"How to pass Java options/variables to Springboot app in docker run command","body":"<p>You should add the env variable JAVA_OPTS to your Dockerfile</p>\n<pre><code>FROM tomcat:8.5.47-jdk8-openjdk\n\nLABEL build_date=&quot;2020-07-14&quot; \\\n      name=&quot;Ousama EL IDRISSI&quot; \\\n      version=&quot;1.0&quot; \\\n      description=&quot;Docker Image made by la7ya&quot;\n\nEXPOSE 8080\n\nCOPY ./target/la7yaman-0.0.1-SNAPSHOT.war /usr/local/tomcat/webapps/ROOT.war\n\nENV JAVA_OPTS=&quot;-Dspring.profiles.active=docker-demo&quot;\n\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19153837,"reputation":31,"user_id":13991128,"display_name":"Subhashis Chattejee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1595630705,"creation_date":1595630705,"answer_id":63082353,"question_id":56814400,"body_markdown":"People who are looking for the answer for non Spring (Plain Java Applications)\r\n\r\nThis is how to send System properties/arguments: Change the Dockerfile to\r\n\r\n```\r\nFROM openjdk:8-jdk-alpine\r\nCOPY target/demo-app-1.0-SNAPSHOT.jar demo-app.jar\r\n\r\nEXPOSE 8080\r\n\r\nENTRYPOINT java -jar demo-app.jar\r\n```\r\nBuild the image:\r\n```\r\ndocker build -t demo-app .\r\n```\r\nThen run the docker container using following command:\r\n```\r\ndocker run -e &quot;JAVA_TOOL_OPTIONS=-Xms1024m -Xmx2048m -Dspring.profiles.active=dockerdev&quot; -p 8080:8080 demo-app\r\n```\r\n","title":"How to pass Java options/variables to Springboot app in docker run command","body":"<p>People who are looking for the answer for non Spring (Plain Java Applications)</p>\n<p>This is how to send System properties/arguments: Change the Dockerfile to</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nCOPY target/demo-app-1.0-SNAPSHOT.jar demo-app.jar\n\nEXPOSE 8080\n\nENTRYPOINT java -jar demo-app.jar\n</code></pre>\n<p>Build the image:</p>\n<pre><code>docker build -t demo-app .\n</code></pre>\n<p>Then run the docker container using following command:</p>\n<pre><code>docker run -e &quot;JAVA_TOOL_OPTIONS=-Xms1024m -Xmx2048m -Dspring.profiles.active=dockerdev&quot; -p 8080:8080 demo-app\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20570015,"reputation":71,"user_id":15098558,"display_name":"Peng Zhu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1611834518,"creation_date":1611834518,"answer_id":65936534,"question_id":56814400,"body_markdown":"JAVA_TOOL_OPTIONS maybe the right answer.\r\n\r\n    docker run -p 8000:80 -e JAVA_TOOL_OPTIONS=&#39;-Dspring.profiles.active=dockerdev&#39; demo-app","title":"How to pass Java options/variables to Springboot app in docker run command","body":"<p>JAVA_TOOL_OPTIONS maybe the right answer.</p>\n<pre><code>docker run -p 8000:80 -e JAVA_TOOL_OPTIONS='-Dspring.profiles.active=dockerdev' demo-app\n</code></pre>\n"}],"owner":{"account_id":3896094,"reputation":1983,"user_id":3225105,"accept_rate":14,"display_name":"TechiRik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51066,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":6,"score":19,"last_activity_date":1694021861,"creation_date":1561770188,"question_id":56814400,"body_markdown":"I have a Spring Boot application which uses profiles to configure in different environments. I want to pass this profile information as a parameter to my `docker run` command. How do I go about doing it?\r\n\r\nHere is my dockerfile\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    ARG JAR_FILE=target/demo-app-1.0-SNAPSHOT.jar\r\n    \r\n    COPY ${JAR_FILE} /opt/lib/demo-app.jar\r\n    \r\n    EXPOSE 80\r\n    \r\n    # ENTRYPOINT [&quot;java&quot;,&quot;-Dspring.profiles.active=dockerdev&quot;,&quot;-jar&quot;,&quot;/opt/lib/demo-app.jar&quot;]\r\n    # Above line works, but not desired as profile will change in diff envs\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/opt/lib/demo-app.jar&quot;]\r\n\r\n\r\nI have tried the following, but, none works\r\n\r\n`docker run -p 8000:80 demo-app -Dspring.profiles.active=dockerdev`\r\n\r\n`docker run -p 8000:80 demo-app --rm -e JAVA_OPTS=&#39;-Dspring.profiles.active=dockerdev&#39;`\r\n\r\nPlease help.\r\n\r\n**Clarification:** I am using multiple profiles. Hence I do not want the active profile to be mentioned within the application or the docker file. Instead, I want to use the same application and docker file and run it in different environments, and pass the active profile to be used in the docker run command. Apologies if anything above did not clarify that.\r\n","title":"How to pass Java options/variables to Springboot app in docker run command","body":"<p>I have a Spring Boot application which uses profiles to configure in different environments. I want to pass this profile information as a parameter to my <code>docker run</code> command. How do I go about doing it?</p>\n\n<p>Here is my dockerfile</p>\n\n<pre><code>FROM openjdk:8-jdk-alpine\nARG JAR_FILE=target/demo-app-1.0-SNAPSHOT.jar\n\nCOPY ${JAR_FILE} /opt/lib/demo-app.jar\n\nEXPOSE 80\n\n# ENTRYPOINT [\"java\",\"-Dspring.profiles.active=dockerdev\",\"-jar\",\"/opt/lib/demo-app.jar\"]\n# Above line works, but not desired as profile will change in diff envs\nENTRYPOINT [\"java\",\"-jar\",\"/opt/lib/demo-app.jar\"]\n</code></pre>\n\n<p>I have tried the following, but, none works</p>\n\n<p><code>docker run -p 8000:80 demo-app -Dspring.profiles.active=dockerdev</code></p>\n\n<p><code>docker run -p 8000:80 demo-app --rm -e JAVA_OPTS='-Dspring.profiles.active=dockerdev'</code></p>\n\n<p>Please help.</p>\n\n<p><strong>Clarification:</strong> I am using multiple profiles. Hence I do not want the active profile to be mentioned within the application or the docker file. Instead, I want to use the same application and docker file and run it in different environments, and pass the active profile to be used in the docker run command. Apologies if anything above did not clarify that.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1332532592,"post_id":9845677,"comment_id":12548114,"body_markdown":"Did you set compilation level? It should be set to 1.4 as well. I guess you just added JRE.","body":"Did you set compilation level? It should be set to 1.4 as well. I guess you just added JRE."},{"owner":{"account_id":147580,"reputation":3670,"user_id":358794,"accept_rate":72,"display_name":"jeff"},"score":0,"creation_date":1332533160,"post_id":9845677,"comment_id":12548292,"body_markdown":"I do have the compiler comliance level set to 1.4.  But installed on my PC is 1.6.  As ajozwik pointed out I probably need to have JDK 1.4 installed on my PC so when coding locally I get the RED X if the Class is out of scope","body":"I do have the compiler comliance level set to 1.4.  But installed on my PC is 1.6.  As ajozwik pointed out I probably need to have JDK 1.4 installed on my PC so when coding locally I get the RED X if the Class is out of scope"}],"answers":[{"tags":[],"owner":{"account_id":1134402,"reputation":2079,"user_id":1119778,"display_name":"Mike Bockus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332532702,"creation_date":1332532702,"answer_id":9845735,"question_id":9845677,"body_markdown":"Right click on your project and go to Properties.  Check the Java Compiler options to make sure the jdk compliance is with 1.4.","title":"Force Eclipse use only Java 1.4","body":"<p>Right click on your project and go to Properties.  Check the Java Compiler options to make sure the jdk compliance is with 1.4.</p>\n"},{"tags":[],"owner":{"account_id":402809,"reputation":415,"user_id":770187,"display_name":"ScottShamus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332532754,"creation_date":1332532754,"answer_id":9845750,"question_id":9845677,"body_markdown":"Go to Project Properties -&gt; Java Compiler and make sure all of your JDK compliance settings are at 1.4","title":"Force Eclipse use only Java 1.4","body":"<p>Go to Project Properties -> Java Compiler and make sure all of your JDK compliance settings are at 1.4</p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332532781,"creation_date":1332532781,"answer_id":9845759,"question_id":9845677,"body_markdown":"Go to project settings --&gt; Java compiler, uncheck the default code compliance and select the 1.4.","title":"Force Eclipse use only Java 1.4","body":"<p>Go to project settings --> Java compiler, uncheck the default code compliance and select the 1.4.</p>\n"},{"tags":[],"owner":{"account_id":328273,"reputation":14391,"user_id":651140,"display_name":"Andrzej Jozwik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1332532795,"creation_date":1332532795,"answer_id":9845765,"question_id":9845677,"body_markdown":"You have to install java version 1.4.2 on your computer and define jre 1.4.2. It is not enough to set compilance with 1.4, because you still see 1.5 api","title":"Force Eclipse use only Java 1.4","body":"<p>You have to install java version 1.4.2 on your computer and define jre 1.4.2. It is not enough to set compilance with 1.4, because you still see 1.5 api</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332533491,"creation_date":1332533491,"answer_id":9845914,"question_id":9845677,"body_markdown":"Unless you actually have JDK 1.4 installed, Eclipse&#39;s compiler can&#39;t know that things like String.contains() weren&#39;t in that version. Specifying the Execution Environment just tells it that it can only do Java 1.4 compatible compilation, but things like methods in the String class are part of the library (classes.jar), not inherent to the Java language level. So if all you have is later JDKs, the compiler sees String.contains() in classes.jar and hence compiles your code against it.\r\n\r\nSo, install JDK 1.4 and then set it up in the Installed JREs section of Preferences; also make sure it is set as the default for the 1.4 Execution Environment.","title":"Force Eclipse use only Java 1.4","body":"<p>Unless you actually have JDK 1.4 installed, Eclipse's compiler can't know that things like String.contains() weren't in that version. Specifying the Execution Environment just tells it that it can only do Java 1.4 compatible compilation, but things like methods in the String class are part of the library (classes.jar), not inherent to the Java language level. So if all you have is later JDKs, the compiler sees String.contains() in classes.jar and hence compiles your code against it.</p>\n\n<p>So, install JDK 1.4 and then set it up in the Installed JREs section of Preferences; also make sure it is set as the default for the 1.4 Execution Environment.</p>\n"},{"tags":[],"owner":{"account_id":2851165,"reputation":3623,"user_id":2448356,"accept_rate":56,"display_name":"Kalher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424523071,"creation_date":1424523071,"answer_id":28645998,"question_id":9845677,"body_markdown":"You can force eclipse to use any previous java version following these steps:\r\n\r\n**Steps**\r\n\r\n1. **Right click project** and open properties clicking **Properties** option.\r\n2. Select **Java Compiler** option.\r\n3. In **JDK Compliance** category uncheck **Use Compliance from execution ...** option\r\n4. Now select desired java version (1.4) in **Compiler compliance level:** option\r\n5. And click **OK**\r\n\r\n**Result**\r\n\r\nNow eclipse will use desired previous version (say 1.4) without installing it explicitly even if you have 1.7 or 8.0 installed/configured.\r\n","title":"Force Eclipse use only Java 1.4","body":"<p>You can force eclipse to use any previous java version following these steps:</p>\n\n<p><strong>Steps</strong></p>\n\n<ol>\n<li><strong>Right click project</strong> and open properties clicking <strong>Properties</strong> option.</li>\n<li>Select <strong>Java Compiler</strong> option.</li>\n<li>In <strong>JDK Compliance</strong> category uncheck <strong>Use Compliance from execution ...</strong> option</li>\n<li>Now select desired java version (1.4) in <strong>Compiler compliance level:</strong> option</li>\n<li>And click <strong>OK</strong></li>\n</ol>\n\n<p><strong>Result</strong></p>\n\n<p>Now eclipse will use desired previous version (say 1.4) without installing it explicitly even if you have 1.7 or 8.0 installed/configured.</p>\n"},{"tags":[],"owner":{"account_id":4669748,"reputation":15,"user_id":4061733,"display_name":"Malith Hirantha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694021809,"creation_date":1694021809,"answer_id":77054143,"question_id":9845677,"body_markdown":"You have two option : \r\nFirst : Go to project settings --&gt; Java compiler, uncheck the default code compliance and select the 1.4.\r\nSecond : downgrad your project java version to 1.4 by install and maintain alternative java versions in your case its 1.5 and 1.4. \r\n\r\nI prefer send because unless you not able run the project with even error.\r\n","title":"Force Eclipse use only Java 1.4","body":"<p>You have two option :\nFirst : Go to project settings --&gt; Java compiler, uncheck the default code compliance and select the 1.4.\nSecond : downgrad your project java version to 1.4 by install and maintain alternative java versions in your case its 1.5 and 1.4.</p>\n<p>I prefer send because unless you not able run the project with even error.</p>\n"}],"owner":{"account_id":147580,"reputation":3670,"user_id":358794,"accept_rate":72,"display_name":"jeff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9845765,"answer_count":7,"score":0,"last_activity_date":1694021809,"creation_date":1332532373,"question_id":9845677,"body_markdown":"Locally I need to code against Java 1.4.\r\n\r\nI tried the suggestion in this post\r\nhttps://stackoverflow.com/questions/3100713/how-to-restrict-jdk-api-version-in-eclipse\r\n\r\nhowever Eclipse still provides code completion for `String.contains` which is only available in Java 1.5 Nor did it provide the Red X error marker.\r\n\r\nHow can I get Eclipse to only provide code completion for Java 1.4 Classes and Methods and warn me with the Red X that I can&#39;t use something above version 1.4?\r\n\r\n\r\n","title":"Force Eclipse use only Java 1.4","body":"<p>Locally I need to code against Java 1.4.</p>\n\n<p>I tried the suggestion in this post\n<a href=\"https://stackoverflow.com/questions/3100713/how-to-restrict-jdk-api-version-in-eclipse\">how to restrict jdk api version in eclipse</a></p>\n\n<p>however Eclipse still provides code completion for <code>String.contains</code> which is only available in Java 1.5 Nor did it provide the Red X error marker.</p>\n\n<p>How can I get Eclipse to only provide code completion for Java 1.4 Classes and Methods and warn me with the Red X that I can't use something above version 1.4?</p>\n"},{"tags":["java","spring","spring-boot","jsp"],"comments":[{"owner":{"account_id":27549421,"reputation":11,"user_id":21024752,"display_name":"ketan2jangid"},"score":0,"creation_date":1685462132,"post_id":76366583,"comment_id":134661938,"body_markdown":"WARN 65189 --- [nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : &quot;Path with &quot;WEB-INF&quot; or &quot;META-INF&quot;: [WEB-INF/jsp/index.jsp]&quot; \nThis is what I get in the terminal","body":"WARN 65189 --- [nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : &quot;Path with &quot;WEB-INF&quot; or &quot;META-INF&quot;: [WEB-INF/jsp/index.jsp]&quot;  This is what I get in the terminal"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685462428,"post_id":76366583,"comment_id":134662005,"body_markdown":"`WEB-INF.JSP` is not the same as a nested directory `WEB-INF/JSP`--can&#39;t tell from the screenshot which it is.","body":"<code>WEB-INF.JSP</code> is not the same as a nested directory <code>WEB-INF&#47;JSP</code>--can&#39;t tell from the screenshot which it is."},{"owner":{"account_id":27549421,"reputation":11,"user_id":21024752,"display_name":"ketan2jangid"},"score":0,"creation_date":1685462855,"post_id":76366583,"comment_id":134662108,"body_markdown":"I added the jsp sub-directory inside WEB-INF directory. How is it different?","body":"I added the jsp sub-directory inside WEB-INF directory. How is it different?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1685463385,"post_id":76366583,"comment_id":134662240,"body_markdown":"Re-worded: A directory named `WEB-INF.JSP` is not the same as a directory named `JSP` in the directory named `WEB-INF`. It&#39;s not clear what you had *(or have now)*.","body":"Re-worded: A directory named <code>WEB-INF.JSP</code> is not the same as a directory named <code>JSP</code> in the directory named <code>WEB-INF</code>. It&#39;s not clear what you had <i>(or have now)</i>."},{"owner":{"account_id":27549421,"reputation":11,"user_id":21024752,"display_name":"ketan2jangid"},"score":2,"creation_date":1685468814,"post_id":76366583,"comment_id":134663378,"body_markdown":"WEB-INF has only one dir in it i.e. jsp, that&#39;s why in the screenshot it is appearing as WEB-INF.jsp, but actually it is a directory","body":"WEB-INF has only one dir in it i.e. jsp, that&#39;s why in the screenshot it is appearing as WEB-INF.jsp, but actually it is a directory"}],"answers":[{"tags":[],"owner":{"account_id":13356416,"reputation":372,"user_id":9639790,"display_name":"shreeramaute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685463974,"creation_date":1685463974,"answer_id":76366844,"question_id":76366583,"body_markdown":"**better check that the jsp created is under right path**\r\n\r\nyou can learn about spring boot from [HowTodoInJava][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/series/spring-boot-tutorial/","title":"Why isn&#39;t my JSP file mapping to my Spring controller?","body":"<p><strong>better check that the jsp created is under right path</strong></p>\n<p>you can learn about spring boot from <a href=\"https://howtodoinjava.com/series/spring-boot-tutorial/\" rel=\"nofollow noreferrer\">HowTodoInJava</a></p>\n"},{"tags":[],"owner":{"account_id":434398,"reputation":473,"user_id":820345,"display_name":"Lokesh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694020994,"creation_date":1694020994,"answer_id":77054079,"question_id":76366583,"body_markdown":"In Spring boot,JSPs on embedded server and Jar packaging do not play well.\r\n\r\nWith Jetty and Tomcat, JSPs should work if you use war packaging. An executable war will work when launched with java -jar, and will also be deployable to any standard container. JSPs are not supported when using an executable jar. \r\n[Reference][1]\r\n\r\nYou can check out a working example [here][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.jsp-limitations\r\n  [2]: https://howtodoinjava.com/spring-boot/spring-boot-jsp-view-example/","title":"Why isn&#39;t my JSP file mapping to my Spring controller?","body":"<p>In Spring boot,JSPs on embedded server and Jar packaging do not play well.</p>\n<p>With Jetty and Tomcat, JSPs should work if you use war packaging. An executable war will work when launched with java -jar, and will also be deployable to any standard container. JSPs are not supported when using an executable jar.\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.jsp-limitations\" rel=\"nofollow noreferrer\">Reference</a></p>\n<p>You can check out a working example <a href=\"https://howtodoinjava.com/spring-boot/spring-boot-jsp-view-example/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":27549421,"reputation":11,"user_id":21024752,"display_name":"ketan2jangid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694020994,"creation_date":1685461933,"question_id":76366583,"body_markdown":"I have just began learning spring and I have added a jsp file to my project but the controller can&#39;t map to it. My controller is in *src --\\&gt; main --\\&gt; java --\\&gt; com.example.todo --\\&gt; controller --\\&gt; **UserController.java***  and my jsp file is in src --\\&gt; main --\\&gt; resources --\\&gt; WEB-INF --\\&gt; jsp --\\&gt; ***index.jsp.*** I am following a video in which the person adds jsp file to spring project and the controller maps it. But in my case it is not doing.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/YtJvG.png)](https://i.stack.imgur.com/YtJvG.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ngi2J.png)](https://i.stack.imgur.com/ngi2J.png)\r\n\r\nThis is my code -\r\n\r\n**TodoApplication.java**\r\n\r\n```\r\npackage com.example.todo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class TodoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TodoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**UserController.java**\r\n\r\n```\r\npackage com.example.todo.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\npublic class UserController {\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String ind(){\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/index-html&quot;)\r\n    @ResponseBody\r\n    public String indexHTML(){\r\n        StringBuilder body = new StringBuilder();\r\n\r\n        body.append(&quot;&lt;!DOCTYPE html&gt;&quot;);\r\n        body.append(&quot;&lt;html&gt;&quot;);\r\n        body.append(&quot;&lt;body&gt;&quot;);\r\n        body.append(&quot;&lt;h1&gt;HTML page&lt;/h1&gt;&quot;);\r\n        body.append(&quot;&lt;p&gt;This is a random text&lt;/p&gt;&quot;);\r\n        body.append(&quot;&lt;/body&gt;&quot;);\r\n        body.append(&quot;&lt;/html&gt;&quot;);\r\n\r\n        return body.toString();\r\n    }\r\n}\r\n```\r\n\r\n**index.jsp**\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;h1 style=&quot;color: blue;&quot;&gt;This is jsp file&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;todo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;todo&lt;/name&gt;\r\n\t&lt;description&gt;A To-Do list application&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**application.properties**\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n\r\nspring.datasource.url=jdbc:h2:mem:db\r\n```\r\n\r\nI am using IntelliJ IDEA Community with JDK 19 and spring 3.1 on Ubuntu 22.04. When I goto **localhost:8080/index-html** it renders the html code and performs as expected, but it isn;t the case when I go to **localhost:8080/index.**\r\n\r\nI have also made changes to application.properties, added the prefix and suffix, and added the tomcat-jasper dependency.\r\n\r\nPlease help. Also will be glad if you can provide a good online resource for learning spring boot.","title":"Why isn&#39;t my JSP file mapping to my Spring controller?","body":"<p>I have just began learning spring and I have added a jsp file to my project but the controller can't map to it. My controller is in <em>src --&gt; main --&gt; java --&gt; com.example.todo --&gt; controller --&gt; <strong>UserController.java</strong></em>  and my jsp file is in src --&gt; main --&gt; resources --&gt; WEB-INF --&gt; jsp --&gt; <em><strong>index.jsp.</strong></em> I am following a video in which the person adds jsp file to spring project and the controller maps it. But in my case it is not doing.</p>\n<p><a href=\"https://i.stack.imgur.com/YtJvG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YtJvG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ngi2J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ngi2J.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code -</p>\n<p><strong>TodoApplication.java</strong></p>\n<pre><code>package com.example.todo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TodoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TodoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>UserController.java</strong></p>\n<pre><code>package com.example.todo.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\npublic class UserController {\n\n    @GetMapping(&quot;/index&quot;)\n    public String ind(){\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/index-html&quot;)\n    @ResponseBody\n    public String indexHTML(){\n        StringBuilder body = new StringBuilder();\n\n        body.append(&quot;&lt;!DOCTYPE html&gt;&quot;);\n        body.append(&quot;&lt;html&gt;&quot;);\n        body.append(&quot;&lt;body&gt;&quot;);\n        body.append(&quot;&lt;h1&gt;HTML page&lt;/h1&gt;&quot;);\n        body.append(&quot;&lt;p&gt;This is a random text&lt;/p&gt;&quot;);\n        body.append(&quot;&lt;/body&gt;&quot;);\n        body.append(&quot;&lt;/html&gt;&quot;);\n\n        return body.toString();\n    }\n}\n</code></pre>\n<p><strong>index.jsp</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;h1 style=&quot;color: blue;&quot;&gt;This is jsp file&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;todo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;todo&lt;/name&gt;\n    &lt;description&gt;A To-Do list application&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n\nspring.datasource.url=jdbc:h2:mem:db\n</code></pre>\n<p>I am using IntelliJ IDEA Community with JDK 19 and spring 3.1 on Ubuntu 22.04. When I goto <strong>localhost:8080/index-html</strong> it renders the html code and performs as expected, but it isn;t the case when I go to <strong>localhost:8080/index.</strong></p>\n<p>I have also made changes to application.properties, added the prefix and suffix, and added the tomcat-jasper dependency.</p>\n<p>Please help. Also will be glad if you can provide a good online resource for learning spring boot.</p>\n"},{"tags":["java","android","microphone"],"owner":{"account_id":20232829,"reputation":61,"user_id":14838922,"display_name":"Syed Muzammil Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694020517,"creation_date":1694020517,"question_id":77054045,"body_markdown":"I am calling from phone A to phone B, phone A has an app through which I call phone B, I want my voice to merge with music so phone B can hear it too.\r\n\r\nI have implemented soundpool and mediaplayer but that doesn&#39;t seem to work. \r\n\r\n\r\n```\r\n        soundPool = new SoundPool(10, AudioManager.STREAM_VOICE_CALL, 0);\r\n\r\n        // Load the sound effects.\r\n        babycryId = soundPool.load(context, R.raw.baby_cry, 1);\r\n\r\n        soundPool.setOnLoadCompleteListener(new SoundPool.OnLoadCompleteListener() {\r\n            public void onLoadComplete(SoundPool soundPool, int sampleId,int status) {\r\n                Log.d(&quot;SOUND POOL&quot;, &quot;SOUND LOADED&quot;);\r\n                soundPool.play(babycryId, 0.2f, 0.2f, 1, 100, 1);\r\n            }\r\n        });\r\n```\r\n\r\nReference app: https://www.noise-me.com/","title":"How can I play music in background while talking to another person","body":"<p>I am calling from phone A to phone B, phone A has an app through which I call phone B, I want my voice to merge with music so phone B can hear it too.</p>\n<p>I have implemented soundpool and mediaplayer but that doesn't seem to work.</p>\n<pre><code>        soundPool = new SoundPool(10, AudioManager.STREAM_VOICE_CALL, 0);\n\n        // Load the sound effects.\n        babycryId = soundPool.load(context, R.raw.baby_cry, 1);\n\n        soundPool.setOnLoadCompleteListener(new SoundPool.OnLoadCompleteListener() {\n            public void onLoadComplete(SoundPool soundPool, int sampleId,int status) {\n                Log.d(&quot;SOUND POOL&quot;, &quot;SOUND LOADED&quot;);\n                soundPool.play(babycryId, 0.2f, 0.2f, 1, 100, 1);\n            }\n        });\n</code></pre>\n<p>Reference app: <a href=\"https://www.noise-me.com/\" rel=\"nofollow noreferrer\">https://www.noise-me.com/</a></p>\n"},{"tags":["java","kotlin","annotations","kotlinc"],"comments":[{"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1609748608,"post_id":65549219,"comment_id":115909505,"body_markdown":"Try using a descriptor other than `PropertyDescriptor`","body":"Try using a descriptor other than <code>PropertyDescriptor</code>"},{"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"score":0,"creation_date":1609753768,"post_id":65549219,"comment_id":115911391,"body_markdown":"@MadhuBhat which one would you suggest?","body":"@MadhuBhat which one would you suggest?"}],"answers":[{"tags":[],"owner":{"account_id":15198661,"reputation":21,"user_id":10967267,"display_name":"MrGewurz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679140471,"creation_date":1679140471,"answer_id":75775719,"question_id":65549219,"body_markdown":"I guess my answer won&#39;t help you, but for anyone with a future problem.\r\nFor field annotations without a [Target][1] the compiler will generate a function that has the annotation.\r\nSo,\r\n```kt\r\ndata class User(@MyAnnotation val name: String)\r\n```\r\nwill compile to the following functions:\r\n* `getName`\r\n* `getName$annotations`\r\n* ...\r\n\r\nAs the name suggests, the annotation `@MyAnnotation` is located in `getName$annotations`.\r\n\r\nYou can avoid this by specifying a Target:\r\n```kt\r\ndata class User(@field:MyAnnotation val name: String)\r\n```\r\nWith the target, you can reference it directly via `newField` function; otherwise you have to access it via the `newMethod` function and extract the field. If you develop a plugin for end-user you probably should implement both methods, as the end-user might(not) add a target\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets","title":"Kotlin Compiler Plugin: How to check if a property has an annotation?","body":"<p>I guess my answer won't help you, but for anyone with a future problem.\nFor field annotations without a <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">Target</a> the compiler will generate a function that has the annotation.\nSo,</p>\n<pre><code>data class User(@MyAnnotation val name: String)\n</code></pre>\n<p>will compile to the following functions:</p>\n<ul>\n<li><code>getName</code></li>\n<li><code>getName$annotations</code></li>\n<li>...</li>\n</ul>\n<p>As the name suggests, the annotation <code>@MyAnnotation</code> is located in <code>getName$annotations</code>.</p>\n<p>You can avoid this by specifying a Target:</p>\n<pre><code>data class User(@field:MyAnnotation val name: String)\n</code></pre>\n<p>With the target, you can reference it directly via <code>newField</code> function; otherwise you have to access it via the <code>newMethod</code> function and extract the field. If you develop a plugin for end-user you probably should implement both methods, as the end-user might(not) add a target</p>\n"},{"tags":[],"owner":{"account_id":17720239,"reputation":1,"user_id":12865460,"display_name":"&#205;talo Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694020498,"creation_date":1693516403,"answer_id":77019309,"question_id":65549219,"body_markdown":"Try this:\r\n\r\n    myObject::class\r\n        .memberProperties\r\n        .forEach {\r\n            if (it.hasAnnotation&lt;FooBar&gt;()) {\r\n                 val annotation = it.findAnnotation&lt;FooBar&gt;() \r\n                 // doYourStuff()\r\n            }\r\n                \r\n    \r\n\r\nand in the data class:\r\n\r\n    @property:FooBar\r\n    val myField: Any\r\n\r\nThe target @property grants the annotation won&#39;t end up over a getter but over the property itself, and makes it readable to the &#39;memberProperties&#39; KClass property. Thereby iterate through the class properties, find the property, and check if it has the annotation by using the &#39;`hasAnnotation&lt;FooBar&gt;()`&#39; KProperty1 method. In order to get the annotation object, use &#39;`findAnnotation&lt;FooBar&gt;()`&#39; KProperty1 method.","title":"Kotlin Compiler Plugin: How to check if a property has an annotation?","body":"<p>Try this:</p>\n<pre><code>myObject::class\n    .memberProperties\n    .forEach {\n        if (it.hasAnnotation&lt;FooBar&gt;()) {\n             val annotation = it.findAnnotation&lt;FooBar&gt;() \n             // doYourStuff()\n        }\n            \n</code></pre>\n<p>and in the data class:</p>\n<pre><code>@property:FooBar\nval myField: Any\n</code></pre>\n<p>The target @property grants the annotation won't end up over a getter but over the property itself, and makes it readable to the 'memberProperties' KClass property. Thereby iterate through the class properties, find the property, and check if it has the annotation by using the '<code>hasAnnotation&lt;FooBar&gt;()</code>' KProperty1 method. In order to get the annotation object, use '<code>findAnnotation&lt;FooBar&gt;()</code>' KProperty1 method.</p>\n"}],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694020498,"creation_date":1609672794,"question_id":65549219,"body_markdown":"I am creating a Kotlin compiler plugin in which I need to check if a property of a data class has an annotation:\r\n\r\n    data class User(\r\n         @MyAnnotation\r\n         val name: String\r\n    )\r\nI override `DelegatingClassBuilder.newField` in the following way:\r\n\r\n    internal class MyClassBuilder(\r\n        delegateBuilder: ClassBuilder\r\n    ) : DelegatingClassBuilder(delegateBuilder) {\r\n        override fun newField(\r\n            origin: JvmDeclarationOrigin,\r\n            access: Int,\r\n            name: String,\r\n            desc: String,\r\n            signature: String?,\r\n            value: Any?\r\n        ): FieldVisitor {\r\n            val visitor = super.newField(origin, access, name, desc, signature, value)\r\n            val descriptor = origin.descriptor as? PropertyDescriptor ?: return visitor\r\n            if (descriptor.annotations.hasAnnotation(FqName(&quot;com.example.MyAnnotation&quot;))) {\r\n                // I never get here\r\n            }\r\n            return visitor\r\n        }\r\n    }\r\n\r\n**Problem:** No matter if my property is annotated or not `descriptor.annotations` would not contain my annotation. If I change the annotations use target to anything else I still don&#39;t get the annotation.\r\n\r\nAt the same time, if I annotate a function and override `newMethod`, I can get annotations of of this function with pretty similar code.\r\n\r\n**Question:** How to get annotations of a property in a data class? \r\n\r\n","title":"Kotlin Compiler Plugin: How to check if a property has an annotation?","body":"<p>I am creating a Kotlin compiler plugin in which I need to check if a property of a data class has an annotation:</p>\n<pre><code>data class User(\n     @MyAnnotation\n     val name: String\n)\n</code></pre>\n<p>I override <code>DelegatingClassBuilder.newField</code> in the following way:</p>\n<pre><code>internal class MyClassBuilder(\n    delegateBuilder: ClassBuilder\n) : DelegatingClassBuilder(delegateBuilder) {\n    override fun newField(\n        origin: JvmDeclarationOrigin,\n        access: Int,\n        name: String,\n        desc: String,\n        signature: String?,\n        value: Any?\n    ): FieldVisitor {\n        val visitor = super.newField(origin, access, name, desc, signature, value)\n        val descriptor = origin.descriptor as? PropertyDescriptor ?: return visitor\n        if (descriptor.annotations.hasAnnotation(FqName(&quot;com.example.MyAnnotation&quot;))) {\n            // I never get here\n        }\n        return visitor\n    }\n}\n</code></pre>\n<p><strong>Problem:</strong> No matter if my property is annotated or not <code>descriptor.annotations</code> would not contain my annotation. If I change the annotations use target to anything else I still don't get the annotation.</p>\n<p>At the same time, if I annotate a function and override <code>newMethod</code>, I can get annotations of of this function with pretty similar code.</p>\n<p><strong>Question:</strong> How to get annotations of a property in a data class?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1694019968,"post_id":77053991,"comment_id":135837500,"body_markdown":"`int[] array = arrList.stream().mapToInt(i -&gt; i).toArray();`","body":"<code>int[] array = arrList.stream().mapToInt(i -&gt; i).toArray();</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1694022942,"post_id":77053991,"comment_id":135838052,"body_markdown":"Consider utilizing _Integer_ arrays when converting to and from _Collection_ objects.","body":"Consider utilizing <i>Integer</i> arrays when converting to and from <i>Collection</i> objects."}],"answers":[{"tags":[],"owner":{"account_id":29120678,"reputation":301,"user_id":22308196,"display_name":"Beulah Evanjalin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694020302,"creation_date":1694020302,"answer_id":77054027,"question_id":77053991,"body_markdown":"    int[] intArray = arrlist.stream()\r\n                    .mapToInt(Integer::intValue)\r\n                    .toArray();","title":"How to convert Integer ArrayList in Java to int array in single line","body":"<pre><code>int[] intArray = arrlist.stream()\n                .mapToInt(Integer::intValue)\n                .toArray();\n</code></pre>\n"}],"owner":{"account_id":29377626,"reputation":1,"user_id":22508831,"display_name":"sadu-sadd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694020217,"answer_count":1,"score":0,"last_activity_date":1694020302,"creation_date":1694019895,"question_id":77053991,"body_markdown":"I want to convert the following ArrayList of Integer type to array of type int in java\r\n\r\n\r\n```\r\nArrayList&lt;Integer&gt; arrlist = new ArrayList&lt;Integer&gt;(5);  \r\narrlist.add(10);  \r\narrlist.add(20);  \r\narrlist.add(30);  \r\narrlist.add(40);\r\n```\r\n\r\n\r\nOutput:\r\n\r\n```\r\n[10, 20, 30, 40]\r\n```\r\n\r\n\r\n\r\n","title":"How to convert Integer ArrayList in Java to int array in single line","body":"<p>I want to convert the following ArrayList of Integer type to array of type int in java</p>\n<pre><code>ArrayList&lt;Integer&gt; arrlist = new ArrayList&lt;Integer&gt;(5);  \narrlist.add(10);  \narrlist.add(20);  \narrlist.add(30);  \narrlist.add(40);\n</code></pre>\n<p>Output:</p>\n<pre><code>[10, 20, 30, 40]\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","pom.xml","jakarta-migration"],"answers":[{"tags":[],"owner":{"account_id":29331078,"reputation":1,"user_id":22472522,"display_name":"Nathan S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694020066,"creation_date":1694020038,"answer_id":77054005,"question_id":77023913,"body_markdown":"Answering my own question to hopefully save someone else a headache in the future\r\n\r\nThe source of this error was due to a misunderstanding of Spring Framework\r\n\r\nVersion 5.3.29 that I was using does not implement Jakarta, and is still using the old JavaX packages\r\n\r\nThe first version of Spring Framework that uses Jakarta is 6.0, which is not compatible prior to JDK 17, causing any interactions between the updated Tomcat 10 and Spring Framework 5 to break\r\n\r\nTherefore the functionality I was trying to implement here was impossible","title":"Spring-Security-Web import errors","body":"<p>Answering my own question to hopefully save someone else a headache in the future</p>\n<p>The source of this error was due to a misunderstanding of Spring Framework</p>\n<p>Version 5.3.29 that I was using does not implement Jakarta, and is still using the old JavaX packages</p>\n<p>The first version of Spring Framework that uses Jakarta is 6.0, which is not compatible prior to JDK 17, causing any interactions between the updated Tomcat 10 and Spring Framework 5 to break</p>\n<p>Therefore the functionality I was trying to implement here was impossible</p>\n"}],"owner":{"account_id":29331078,"reputation":1,"user_id":22472522,"display_name":"Nathan S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694020066,"creation_date":1693578274,"question_id":77023913,"body_markdown":"I&#39;m currently tasked with upgrading our codebase to Java 11 (Still out of date, I know, but that&#39;s the requirement)\r\n\r\nI changed out all of the old javax packages for Jakarta, and updated all of the Spring and Spring-Security packages, but I&#39;m still running into an error\r\n\r\nOne of the classes is extending `org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter`, but that package in particular is still looking for `javax.servlet.Filter` and causing the compilation to fail and an error of `The hierarchy of the type &lt;class name&gt; is inconsistent`\r\n\r\nI have spring-security-web at version 5.8.6, so I&#39;m not sure why it&#39;s still trying to look for javax when the rest of the Spring and Spring-Security packages seem to be using Jakarta without issue","title":"Spring-Security-Web import errors","body":"<p>I'm currently tasked with upgrading our codebase to Java 11 (Still out of date, I know, but that's the requirement)</p>\n<p>I changed out all of the old javax packages for Jakarta, and updated all of the Spring and Spring-Security packages, but I'm still running into an error</p>\n<p>One of the classes is extending <code>org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter</code>, but that package in particular is still looking for <code>javax.servlet.Filter</code> and causing the compilation to fail and an error of <code>The hierarchy of the type &lt;class name&gt; is inconsistent</code></p>\n<p>I have spring-security-web at version 5.8.6, so I'm not sure why it's still trying to look for javax when the rest of the Spring and Spring-Security packages seem to be using Jakarta without issue</p>\n"},{"tags":["java","spring","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"score":1,"creation_date":1694006574,"post_id":77048749,"comment_id":135834428,"body_markdown":"you already got the right answer when you asked https://stackoverflow.com/a/77048691/24069 -  please take a look at the official documentation: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#build-image.customization","body":"you already got the right answer when you asked <a href=\"https://stackoverflow.com/a/77048691/24069\">stackoverflow.com/a/77048691/24069</a> -  please take a look at the official documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#build-image.customization\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694019982,"creation_date":1694019982,"answer_id":77053998,"question_id":77048749,"body_markdown":"The equivalent to what you are doing in the `Dockerfile` when using `spring-boot:build-image` with Paketo buildpacks would be to set runtime environment variables  for the Paketo Environment Variables buildpack as [documented by the Paketo project][1]: \r\n\r\n    &lt;project&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;image&gt;\r\n                        &lt;env&gt; \r\n                            &lt;BPE_SPRING_DATASOURCE_URL&gt;\r\n                                ${env.SPRING_DATASOURCE_URL}\r\n                            &lt;/BPE_SPRING_DATASOURCE_URL&gt;\r\n                        &lt;/env&gt;\r\n                    &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n  &lt;/project&gt;\r\n\r\nHowever, putting sensitive values like usernames and passwords in an image like this is not a good idea, as anyone who can download the image can see the values of the environment variables. You should consider setting the values when the image is run instead of when it is built. \r\n\r\nOne way to do this is to use bindings as [described in the Paketo documentation][2]. Some bindings are consumed automatically by the [Spring Cloud Bindings][3] library that the Paketo buildpacks will automatically add to an image. The [Spring Boot `configtree` feature][4] can also be used to read bindings files in an image at runtime.\r\n\r\n\r\n  [1]: https://paketo.io/docs/howto/configuration/#runtime-environment-variables\r\n  [2]: https://paketo.io/docs/howto/configuration/#bindings\r\n  [3]: https://github.com/spring-cloud/spring-cloud-bindings\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.configtree","title":"Spring Boot native image plugin: mvn -Pnative spring-boot:build-image How to pass argument and environment variables?","body":"<p>The equivalent to what you are doing in the <code>Dockerfile</code> when using <code>spring-boot:build-image</code> with Paketo buildpacks would be to set runtime environment variables  for the Paketo Environment Variables buildpack as <a href=\"https://paketo.io/docs/howto/configuration/#runtime-environment-variables\" rel=\"nofollow noreferrer\">documented by the Paketo project</a>:</p>\n<pre><code>&lt;project&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;image&gt;\n                    &lt;env&gt; \n                        &lt;BPE_SPRING_DATASOURCE_URL&gt;\n                            ${env.SPRING_DATASOURCE_URL}\n                        &lt;/BPE_SPRING_DATASOURCE_URL&gt;\n                    &lt;/env&gt;\n                &lt;/image&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n  \n<p>However, putting sensitive values like usernames and passwords in an image like this is not a good idea, as anyone who can download the image can see the values of the environment variables. You should consider setting the values when the image is run instead of when it is built.</p>\n<p>One way to do this is to use bindings as <a href=\"https://paketo.io/docs/howto/configuration/#bindings\" rel=\"nofollow noreferrer\">described in the Paketo documentation</a>. Some bindings are consumed automatically by the <a href=\"https://github.com/spring-cloud/spring-cloud-bindings\" rel=\"nofollow noreferrer\">Spring Cloud Bindings</a> library that the Paketo buildpacks will automatically add to an image. The <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.configtree\" rel=\"nofollow noreferrer\">Spring Boot <code>configtree</code> feature</a> can also be used to read bindings files in an image at runtime.</p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77053998,"answer_count":1,"score":0,"last_activity_date":1694019982,"creation_date":1693968501,"question_id":77048749,"body_markdown":"Spring Boot native image plugin: `mvn -Pnative spring-boot:build-image` How to pass argument and environment variables?\r\n\r\nIf I use Dockerfile, I can config arg and environment variables like\r\n\r\n```\r\nFROM openjdk:17-jdk-slim-buster\r\nRUN apt-get update -y\r\nRUN apt-get install -y libfreetype6\r\n\r\nARG SPRING_DATASOURCE_URL\r\nENV SPRING_DATASOURCE_URL $SPRING_DATASOURCE_URL\r\nEXPOSE ${SPRING_DATASOURCE_URL}\r\n\r\nARG SPRING_DATASOURCE_USERNAME\r\nENV SPRING_DATASOURCE_USERNAME $SPRING_DATASOURCE_USERNAME\r\nEXPOSE ${SPRING_DATASOURCE_USERNAME}\r\n\r\nARG SPRING_DATASOURCE_PASSWORD\r\nENV SPRING_DATASOURCE_PASSWORD $SPRING_DATASOURCE_PASSWORD\r\nEXPOSE ${SPRING_DATASOURCE_PASSWORD}\r\n\r\nARG SPRING_JPA_HIBERNATE_DDL_AUTO\r\nENV SPRING_JPA_HIBERNATE_DDL_AUTO $SPRING_JPA_HIBERNATE_DDL_AUTO\r\nEXPOSE ${SPRING_JPA_HIBERNATE_DDL_AUTO}\r\n\r\nCOPY ./target/demo-0.0.1-SNAPSHOT.jar /opt/demo-0.0.1-SNAPSHOT.jar\r\nENV TZ=Asia/Ho_Chi_Minh\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/opt/demo-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nSpring Boot native image plugin, I didn&#39;t see Dockerfile, how to set ARG, env variables?\r\n","title":"Spring Boot native image plugin: mvn -Pnative spring-boot:build-image How to pass argument and environment variables?","body":"<p>Spring Boot native image plugin: <code>mvn -Pnative spring-boot:build-image</code> How to pass argument and environment variables?</p>\n<p>If I use Dockerfile, I can config arg and environment variables like</p>\n<pre><code>FROM openjdk:17-jdk-slim-buster\nRUN apt-get update -y\nRUN apt-get install -y libfreetype6\n\nARG SPRING_DATASOURCE_URL\nENV SPRING_DATASOURCE_URL $SPRING_DATASOURCE_URL\nEXPOSE ${SPRING_DATASOURCE_URL}\n\nARG SPRING_DATASOURCE_USERNAME\nENV SPRING_DATASOURCE_USERNAME $SPRING_DATASOURCE_USERNAME\nEXPOSE ${SPRING_DATASOURCE_USERNAME}\n\nARG SPRING_DATASOURCE_PASSWORD\nENV SPRING_DATASOURCE_PASSWORD $SPRING_DATASOURCE_PASSWORD\nEXPOSE ${SPRING_DATASOURCE_PASSWORD}\n\nARG SPRING_JPA_HIBERNATE_DDL_AUTO\nENV SPRING_JPA_HIBERNATE_DDL_AUTO $SPRING_JPA_HIBERNATE_DDL_AUTO\nEXPOSE ${SPRING_JPA_HIBERNATE_DDL_AUTO}\n\nCOPY ./target/demo-0.0.1-SNAPSHOT.jar /opt/demo-0.0.1-SNAPSHOT.jar\nENV TZ=Asia/Ho_Chi_Minh\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/opt/demo-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>Spring Boot native image plugin, I didn't see Dockerfile, how to set ARG, env variables?</p>\n"},{"tags":["java","spring","cors","swagger","railway"],"comments":[{"owner":{"account_id":21986233,"reputation":73,"user_id":16260442,"display_name":"Houssem Salem"},"score":0,"creation_date":1693945071,"post_id":77047394,"comment_id":135825877,"body_markdown":"I think this may help you : https://stackoverflow.com/questions/70843940/springdoc-openapi-ui-how-do-i-set-the-request-to-https","body":"I think this may help you : <a href=\"https://stackoverflow.com/questions/70843940/springdoc-openapi-ui-how-do-i-set-the-request-to-https\" title=\"springdoc openapi ui how do i set the request to https\">stackoverflow.com/questions/70843940/&hellip;</a>"},{"owner":{"account_id":27243768,"reputation":1,"user_id":22506016,"display_name":"Michael Sanguinete"},"score":0,"creation_date":1694004205,"post_id":77047394,"comment_id":135833828,"body_markdown":"Thank you buddy, the link helped me, I managed to solve the problem!","body":"Thank you buddy, the link helped me, I managed to solve the problem!"}],"owner":{"account_id":27243768,"reputation":1,"user_id":22506016,"display_name":"Michael Sanguinete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694018260,"creation_date":1693943603,"question_id":77047394,"body_markdown":"I published an api in SpringBoot on railway. The domain is in https, but swagger-ui triggers the request by http and I&#39;m having CORS problem. I guess that&#39;s why, because when I try to send a GET request directly through the browser through the railway domain, I have no problems. I tried to free Cors from diverse forms that I will list below:\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class CorsConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n            .allowedOrigins(&quot;*&quot;)\r\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n            .allowedHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;)\r\n            .maxAge(3600); // Define o tempo m&#225;ximo que o navegador deve armazenar a configura&#231;&#227;o CORS em cache (em segundos).\r\n    }\r\n}\r\n```\r\n\r\nNone of these attempts above worked:\r\n\r\n- `@CrossOrigin(origins = &quot;*&quot;)`\r\n- `@CrossOrigin(origins = &quot;my domain&quot;)`\r\n- `@CrossOrigin(&quot;my domain&quot;)`\r\n","title":"How do I make the swagger request be triggered by https?","body":"<p>I published an api in SpringBoot on railway. The domain is in https, but swagger-ui triggers the request by http and I'm having CORS problem. I guess that's why, because when I try to send a GET request directly through the browser through the railway domain, I have no problems. I tried to free Cors from diverse forms that I will list below:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n            .allowedOrigins(&quot;*&quot;)\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n            .allowedHeaders(&quot;Authorization&quot;, &quot;Content-Type&quot;)\n            .maxAge(3600); // Define o tempo máximo que o navegador deve armazenar a configuração CORS em cache (em segundos).\n    }\n}\n</code></pre>\n<p>None of these attempts above worked:</p>\n<ul>\n<li><code>@CrossOrigin(origins = &quot;*&quot;)</code></li>\n<li><code>@CrossOrigin(origins = &quot;my domain&quot;)</code></li>\n<li><code>@CrossOrigin(&quot;my domain&quot;)</code></li>\n</ul>\n"},{"tags":["java","spring-boot","spring-cloud","netflix"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1694021010,"post_id":77051267,"comment_id":135837702,"body_markdown":"Can you describe what is happening exactly? Log errors? Client errors?","body":"Can you describe what is happening exactly? Log errors? Client errors?"}],"owner":{"account_id":29378575,"reputation":21,"user_id":22509582,"display_name":"ReTriBleT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1694018093,"creation_date":1693997850,"question_id":77051267,"body_markdown":"My `application.yml` is :\r\n```yaml\r\nserver:\r\n  port: 9700\r\n\r\nspring:\r\n  application:\r\n    name: SERVER-ALPHA\r\n\r\neureka:\r\n  instance:\r\n    prefer-ip-address: false\r\n    hostname: SERVER-ALPHA\r\n  client:\r\n    register-with-eureka: true\r\n    fetch-registry: true\r\n    service-url:\r\n      defaultZone: http://172.22.58.174:9800/eureka/\r\n    enabled: true\r\n  server:\r\n    enable-self-preservation: false\r\n    renewal-percent-threshold: 0.85\r\n    eviction-interval-timer-in-ms: 1000\r\n    use-read-only-response-cache: false\r\n    response-cache-update-interval-ms: 1000\r\n```\r\n\r\nThe anothor one is:\r\n```yaml\r\nserver:\r\n  port: 9800\r\n\r\nspring:\r\n  application:\r\n    name: SERVER-BETA\r\n\r\neureka:\r\n  instance:\r\n    prefer-ip-address: false\r\n    hostname: SERVER-BETA\r\n  client:\r\n    register-with-eureka: true\r\n    fetch-registry: true\r\n    service-url:\r\n      defaultZone: http://172.22.58.174:9700/eureka/\r\n    enabled: true\r\n  server:\r\n    enable-self-preservation: false\r\n    renewal-percent-threshold: 0.85\r\n    eviction-interval-timer-in-ms: 1000\r\n    use-read-only-response-cache: false\r\n    response-cache-update-interval-ms: 1000\r\n```\r\n\r\nAnd The Page of eureka is:\r\n![](https://i.stack.imgur.com/fJP5S.png)\r\n\r\nand I can&#39;t use the server to do the discovery.\r\n\r\nthe version is:\r\n![](https://i.stack.imgur.com/s71fY.png)\r\n\r\nHow to resolve this problem?\r\n\r\nthx\r\n\r\nFirst I try to use the `eureka.client.enable` is true, but I found that the default value is true.\r\nSo I try to find the answer but I found the most of them the spring cloud version is below 2021, I use the spring boot 2.6.7 or 2.6.13, so I didn&#39;t find the resolve way.","title":"The Eureka Server has become unavailable, version is 3.1.4","body":"<p>My <code>application.yml</code> is :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 9700\n\nspring:\n  application:\n    name: SERVER-ALPHA\n\neureka:\n  instance:\n    prefer-ip-address: false\n    hostname: SERVER-ALPHA\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://172.22.58.174:9800/eureka/\n    enabled: true\n  server:\n    enable-self-preservation: false\n    renewal-percent-threshold: 0.85\n    eviction-interval-timer-in-ms: 1000\n    use-read-only-response-cache: false\n    response-cache-update-interval-ms: 1000\n</code></pre>\n<p>The anothor one is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 9800\n\nspring:\n  application:\n    name: SERVER-BETA\n\neureka:\n  instance:\n    prefer-ip-address: false\n    hostname: SERVER-BETA\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://172.22.58.174:9700/eureka/\n    enabled: true\n  server:\n    enable-self-preservation: false\n    renewal-percent-threshold: 0.85\n    eviction-interval-timer-in-ms: 1000\n    use-read-only-response-cache: false\n    response-cache-update-interval-ms: 1000\n</code></pre>\n<p>And The Page of eureka is:\n<img src=\"https://i.stack.imgur.com/fJP5S.png\" alt=\"\" /></p>\n<p>and I can't use the server to do the discovery.</p>\n<p>the version is:\n<img src=\"https://i.stack.imgur.com/s71fY.png\" alt=\"\" /></p>\n<p>How to resolve this problem?</p>\n<p>thx</p>\n<p>First I try to use the <code>eureka.client.enable</code> is true, but I found that the default value is true.\nSo I try to find the answer but I found the most of them the spring cloud version is below 2021, I use the spring boot 2.6.7 or 2.6.13, so I didn't find the resolve way.</p>\n"},{"tags":["java","xslt","apache-fop"],"answers":[{"tags":[],"owner":{"account_id":2176106,"reputation":5850,"user_id":1926762,"accept_rate":60,"display_name":"Oomph Fortuity"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1418278224,"creation_date":1418278224,"answer_id":27416447,"question_id":27401158,"body_markdown":" I got solution from stackoverflow only. I am giving special thanks to author of this post\r\n https://stackoverflow.com/questions/26139301/apache-fop-in-a-java-applet-no-imagepreloader-found-for-data \r\n\r\n \r\n\r\n    With reference from above post , To give precedence to XmlGraphics\r\n    API , \r\n      1. I have excluded XML-graphics API from FOP jar\r\n      2. added new maven dependency XmlGraphics API and placed above FOP dependancy\r\n      3. so that POM will give priority\r\n\r\n\r\n       &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;xmlgraphics-commons&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;xmlgraphics-commons&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;fop&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;artifactId&gt;xmlgraphics-commons&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.avalon.framework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;avalon-framework-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.avalon.framework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;avalon-framework-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.3.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nThank you","title":"org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found","body":"<p>I got solution from stackoverflow only. I am giving special thanks to author of this post\n <a href=\"https://stackoverflow.com/questions/26139301/apache-fop-in-a-java-applet-no-imagepreloader-found-for-data\">Apache FOP in a Java Applet - No ImagePreloader found for data</a> </p>\n\n<pre><code>With reference from above post , To give precedence to XmlGraphics\nAPI , \n  1. I have excluded XML-graphics API from FOP jar\n  2. added new maven dependency XmlGraphics API and placed above FOP dependancy\n  3. so that POM will give priority\n\n\n   &lt;dependency&gt;\n        &lt;groupId&gt;xmlgraphics-commons&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlgraphics-commons&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n        &lt;artifactId&gt;fop&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;xmlgraphics-commons&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.avalon.framework&lt;/groupId&gt;\n        &lt;artifactId&gt;avalon-framework-api&lt;/artifactId&gt;\n        &lt;version&gt;4.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.avalon.framework&lt;/groupId&gt;\n        &lt;artifactId&gt;avalon-framework-impl&lt;/artifactId&gt;\n        &lt;version&gt;4.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":[],"owner":{"account_id":409461,"reputation":2960,"user_id":780733,"display_name":"Vincent Biragnet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513108267,"creation_date":1513108267,"answer_id":47780494,"question_id":27401158,"body_markdown":"The problem is a conflict between configuration files existing in `META-INF/services/` both in `fop` jar file and `xmlgraphics-commons` jar file. \r\n\r\nIf you&#39;re using maven and want to avoid exclusion that may sometimes cause troubles, you can use the **maven shade plugin** to build a jar and force the concatenation of configuration files in `META-INF/services/`. A snippet like this one works for me:\r\n\r\n       &lt;build&gt;\r\n    \t    &lt;finalName&gt;desired_jar_name&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;transformers&gt;\r\n    \t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;my.main.class&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t&lt;/transformers&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;","title":"org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found","body":"<p>The problem is a conflict between configuration files existing in <code>META-INF/services/</code> both in <code>fop</code> jar file and <code>xmlgraphics-commons</code> jar file. </p>\n\n<p>If you're using maven and want to avoid exclusion that may sometimes cause troubles, you can use the <strong>maven shade plugin</strong> to build a jar and force the concatenation of configuration files in <code>META-INF/services/</code>. A snippet like this one works for me:</p>\n\n<pre><code>   &lt;build&gt;\n        &lt;finalName&gt;desired_jar_name&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                            implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\" /&gt;\n                        &lt;transformer\n                            implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                            &lt;mainClass&gt;my.main.class&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8924310,"reputation":59,"user_id":6659482,"display_name":"Iikka"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1612097748,"creation_date":1612097748,"answer_id":65979337,"question_id":27401158,"body_markdown":"The equivalent solution for gradle would be:\r\n```\r\nshadowJar{\r\n    mergeServiceFiles()\r\n}\r\n```\r\n\r\n","title":"org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found","body":"<p>The equivalent solution for gradle would be:</p>\n<pre><code>shadowJar{\n    mergeServiceFiles()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5919796,"reputation":311,"user_id":4657422,"display_name":"P.Zaccaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694017944,"creation_date":1694017944,"answer_id":77053811,"question_id":27401158,"body_markdown":"The above solutions did not work for me, but this one worked:\r\n\r\nAdding xml-apis-ext.jar from https://xerces.apache.org/xml-commons/index.html","title":"org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found","body":"<p>The above solutions did not work for me, but this one worked:</p>\n<p>Adding xml-apis-ext.jar from <a href=\"https://xerces.apache.org/xml-commons/index.html\" rel=\"nofollow noreferrer\">https://xerces.apache.org/xml-commons/index.html</a></p>\n"}],"owner":{"account_id":2176106,"reputation":5850,"user_id":1926762,"accept_rate":60,"display_name":"Oomph Fortuity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9693,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27416447,"answer_count":4,"score":4,"last_activity_date":1694017944,"creation_date":1418214913,"question_id":27401158,"body_markdown":"I am using Apache FOP 1.1(Java) to generate PDF files. \r\nIt is working fine on windows machine but when I used Ubuntu machine I got this error \r\n\r\n   \r\n\r\n    org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported.  No ImagePreloader found\r\n\r\nI am little bit confused. Please give me solution to sort out this problem.\r\nThank you","title":"org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found","body":"<p>I am using Apache FOP 1.1(Java) to generate PDF files. \nIt is working fine on windows machine but when I used Ubuntu machine I got this error </p>\n\n<pre><code>org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported.  No ImagePreloader found\n</code></pre>\n\n<p>I am little bit confused. Please give me solution to sort out this problem.\nThank you</p>\n"},{"tags":["java","spring-boot","gradle","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1686925637,"post_id":76490880,"comment_id":134869889,"body_markdown":"Please don&#39;t use screenshots *and* include the full error message.","body":"Please don&#39;t use screenshots <i>and</i> include the full error message."}],"owner":{"account_id":28834492,"reputation":1,"user_id":22084173,"display_name":"Gina Meidina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694017837,"creation_date":1686923658,"question_id":76490880,"body_markdown":"Im newbie, im starting learnig springboot with cucumber and gradle and im facing this issue can someone resolve this issue\r\n\r\n![](https://i.stack.imgur.com/KSXLY.png)\r\n\r\n![](https://i.stack.imgur.com/FXC5z.png)\r\n\r\n![](https://i.stack.imgur.com/0DVqo.png)\r\n\r\n![](https://i.stack.imgur.com/qe7ns.png)\r\n\r\n![](https://i.stack.imgur.com/6hUjI.png)\r\n\r\n![](https://i.stack.imgur.com/K3mai.png)\r\n\r\n![](https://i.stack.imgur.com/0i8cQ.png)","title":"SpringBoot Cucumber - It appears there was a problem with the step definition. The converted arguments types were ()","body":"<p>Im newbie, im starting learnig springboot with cucumber and gradle and im facing this issue can someone resolve this issue</p>\n<p><img src=\"https://i.stack.imgur.com/KSXLY.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/FXC5z.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/0DVqo.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/qe7ns.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/6hUjI.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/K3mai.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/0i8cQ.png\" alt=\"\" /></p>\n"},{"tags":["java","iso8583","j8583"],"answers":[{"tags":[],"owner":{"account_id":6423201,"reputation":309,"user_id":4979285,"accept_rate":78,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443615941,"creation_date":1443615941,"answer_id":32866051,"question_id":32847866,"body_markdown":"Unfortunately I had the same issue but i found a solution. Simply you need to &quot;pack&quot; your message and calculate the TPDU in other variable byte[]. I assume  your TDPU consist in:\r\n\r\n    &lt;2 bytes length of the messages&gt;&lt;1 byte: 60&gt;&lt;2 bytes origin&gt;&lt;2 bytes destiny&gt;\r\n\r\nIf you have packed your message in a byte[] and your TPDU in other byte[] simply create a new byte[] and concatenate with System.arraycopy. I assume you know how to implement this.\r\n\r\nRegards\r\n","title":"J8583 How set TPDU as Binary","body":"<p>Unfortunately I had the same issue but i found a solution. Simply you need to \"pack\" your message and calculate the TPDU in other variable byte[]. I assume  your TDPU consist in:</p>\n\n<pre><code>&lt;2 bytes length of the messages&gt;&lt;1 byte: 60&gt;&lt;2 bytes origin&gt;&lt;2 bytes destiny&gt;\n</code></pre>\n\n<p>If you have packed your message in a byte[] and your TPDU in other byte[] simply create a new byte[] and concatenate with System.arraycopy. I assume you know how to implement this.</p>\n\n<p>Regards</p>\n"}],"owner":{"account_id":937131,"reputation":161,"user_id":5025299,"accept_rate":25,"display_name":"Jonathan Cordero Duarte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694017318,"creation_date":1443540107,"question_id":32847866,"body_markdown":"I am using j8583 Library, and I need prepend a TPDU (10 digits in binary BCD Packed) to the message.\r\n\r\nIt&#180;s possible ?\r\n\r\nThe header of J8583 messages only use String in ASCII.\r\n\r\n","title":"J8583 How set TPDU as Binary","body":"<p>I am using j8583 Library, and I need prepend a TPDU (10 digits in binary BCD Packed) to the message.</p>\n\n<p>It´s possible ?</p>\n\n<p>The header of J8583 messages only use String in ASCII.</p>\n"},{"tags":["java","database","netbeans","derby"],"owner":{"account_id":25309411,"reputation":1,"user_id":19132350,"display_name":"mahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694016915,"answer_count":0,"score":0,"last_activity_date":1694016975,"creation_date":1694016239,"question_id":77053637,"body_markdown":"I have made an app with netbeans using embedded derby database. The app work well when I run it in netbeans but I made clean and build jar file it make error saying \r\n\r\n&gt;&quot;No suitable driver found jdbc:derby:database;create = true&quot;\r\n\r\nthat is how i connect to database\r\n```\r\nString databaseURL = &quot;jdbc:derby:booksdb;create=true&quot;;\r\n \r\nConnection conn = DriverManager.getConnection(databaseURL);\r\nStatement statement = conn.createStatement();\r\n``` ","title":"No suitable driver found for jdbc embedded derby database","body":"<p>I have made an app with netbeans using embedded derby database. The app work well when I run it in netbeans but I made clean and build jar file it make error saying</p>\n<blockquote>\n<p>&quot;No suitable driver found jdbc:derby:database;create = true&quot;</p>\n</blockquote>\n<p>that is how i connect to database</p>\n<pre><code>String databaseURL = &quot;jdbc:derby:booksdb;create=true&quot;;\n \nConnection conn = DriverManager.getConnection(databaseURL);\nStatement statement = conn.createStatement();\n</code></pre>\n"},{"tags":["java","generics","diamond-operator"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1395579483,"post_id":22591201,"comment_id":34393228,"body_markdown":"This is the difference between type inference and raw types. As always the answer is &quot;backwards compatibility&quot;.","body":"This is the difference between type inference and raw types. As always the answer is &quot;backwards compatibility&quot;."}],"answers":[{"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1395580861,"creation_date":1395580861,"answer_id":22591448,"question_id":22591201,"body_markdown":"The following code compiles and runs without error.\r\n\r\n    SoftReference&lt;String&gt; ref = new SoftReference(new Integer(1));\r\n    Object o = ref.get();\r\n    System.out.println(o); // prints &quot;1&quot;\r\n\r\nA raw instance of `SoftReference` is created. &quot;Raw&quot; means that there is no generic type checking, which is required to allow to mix generics with pre-generics code. \r\n\r\nBy making the diamond operator implicit, you would break it.","title":"Why Diamond operator was not missed from Right hand side in Java 7?","body":"<p>The following code compiles and runs without error.</p>\n\n<pre><code>SoftReference&lt;String&gt; ref = new SoftReference(new Integer(1));\nObject o = ref.get();\nSystem.out.println(o); // prints \"1\"\n</code></pre>\n\n<p>A raw instance of <code>SoftReference</code> is created. \"Raw\" means that there is no generic type checking, which is required to allow to mix generics with pre-generics code. </p>\n\n<p>By making the diamond operator implicit, you would break it.</p>\n"}],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22591448,"answer_count":1,"score":2,"last_activity_date":1694016818,"creation_date":1395579361,"question_id":22591201,"body_markdown":"Java 7 has improved the diamond operator\r\n\r\nIn Java 6:\r\n```java\r\nMap&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;();\r\n```\r\n\r\n\r\nIn Java 7:\r\n```java\r\nMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n```\r\n\r\nIn Java 7  Types have been removed from the diamond operator on the right-hand side(RHS). My question why don&#39;t remove the complete diamond operator from RHS?\r\nI know it will throw the warning, but Java 7 could have removed the warning too.\r\n\r\n\r\n&gt; - Type safety: The expression of type HashMap needs unchecked conversion to conform to Map&lt;String,String&gt;\r\n&gt; - HashMap is a raw type. References to generic type HashMap&lt;K,V&gt; should be parameterized\r\n\t\r\n\t\r\nThe logic behind my thinking:  \r\nAs we have already defined the map will have a string as a key and an object with Map&lt;String, String&gt; myMap on LHS.\r\nWith this compiler has sufficient info. So why does it throw a warning if you miss the diamond operator altogether?\r\n\r\nI am sure there must be a reason behind it but I am not getting it.","title":"Why Diamond operator was not missed from Right hand side in Java 7?","body":"<p>Java 7 has improved the diamond operator</p>\n<p>In Java 6:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;();\n</code></pre>\n<p>In Java 7:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>In Java 7  Types have been removed from the diamond operator on the right-hand side(RHS). My question why don't remove the complete diamond operator from RHS?\nI know it will throw the warning, but Java 7 could have removed the warning too.</p>\n<blockquote>\n<ul>\n<li>Type safety: The expression of type HashMap needs unchecked conversion to conform to Map&lt;String,String&gt;</li>\n<li>HashMap is a raw type. References to generic type HashMap&lt;K,V&gt; should be parameterized</li>\n</ul>\n</blockquote>\n<p>The logic behind my thinking:<br />\nAs we have already defined the map will have a string as a key and an object with Map&lt;String, String&gt; myMap on LHS.\nWith this compiler has sufficient info. So why does it throw a warning if you miss the diamond operator altogether?</p>\n<p>I am sure there must be a reason behind it but I am not getting it.</p>\n"},{"tags":["java","websocket","jboss","wildfly"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694015989,"creation_date":1694015989,"answer_id":77053604,"question_id":77051459,"body_markdown":"Reading the Javadoc it doesn&#39;t seem possible:\r\nhttps://docs.oracle.com/javaee/7/api/javax/websocket/server/ServerEndpoint.html:\r\n\r\n&gt; The annotated class must have a public no-arg constructor. ","title":"Define implementation of websocket interface in Jboss 7.4","body":"<p>Reading the Javadoc it doesn't seem possible:\n<a href=\"https://docs.oracle.com/javaee/7/api/javax/websocket/server/ServerEndpoint.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/websocket/server/ServerEndpoint.html</a>:</p>\n<blockquote>\n<p>The annotated class must have a public no-arg constructor.</p>\n</blockquote>\n"}],"owner":{"account_id":3110318,"reputation":1280,"user_id":2632210,"accept_rate":23,"display_name":"quindimildev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694015989,"creation_date":1693999658,"question_id":77051459,"body_markdown":"Following the jBoss 7.4 documentation I can define a websocket with the required annotations\r\n\r\n```\r\n@ServerEndpoint(&quot;/websocket/helloworld&quot;)\r\npublic class MyService {\r\n\r\n    @OnMessage\r\n    String sayHello(String name){ ... };\r\n\r\n    @OnOpen\r\n    void helloOnOpen(Session session){ ... };\r\n\r\n    @OnClose\r\n    void helloOnClose(CloseReason reason){ ... };\r\n\r\n}\r\n```\r\n\r\nI would like to have the contract of that websocket in an interface in an external repository, and add that dependency to the project in which I have the implementation.\r\n\r\nSo in this scenario I would have the chat-api dependency in which I implement the interface\r\n\r\n```\r\n@ServerEndpoint(&quot;/websocket/helloworld&quot;)\r\npublic interface MyServiceInterface {\r\n\r\n    @OnMessage\r\n    String sayHello(String name);\r\n\r\n    @OnOpen\r\n    void helloOnOpen(Session session);\r\n\r\n    @OnClose\r\n    void helloOnClose(CloseReason reason);\r\n\r\n}\r\n```\r\nAnd my implementation will use this interface\r\n\r\n```\r\npublic class MyServiceImpl implements MyServiceInterface {\r\n\r\n    @Override\r\n    String sayHello(String name){ ... };\r\n\r\n    @Override\r\n    void helloOnOpen(Session session){ ... };\r\n\r\n    @Override\r\n    void helloOnClose(CloseReason reason){ ... };\r\n\r\n}\r\n```\r\n\r\nBut if I do this, Wildfly is not handling the websocket and it does not work. (you can see the problem that I had [here](https://stackoverflow.com/questions/77014109/websocket-is-not-handled-correctly-in-jboss-7-4/77027555#77027555))\r\n\r\nIs there any way I can set this up?\r\n","title":"Define implementation of websocket interface in Jboss 7.4","body":"<p>Following the jBoss 7.4 documentation I can define a websocket with the required annotations</p>\n<pre><code>@ServerEndpoint(&quot;/websocket/helloworld&quot;)\npublic class MyService {\n\n    @OnMessage\n    String sayHello(String name){ ... };\n\n    @OnOpen\n    void helloOnOpen(Session session){ ... };\n\n    @OnClose\n    void helloOnClose(CloseReason reason){ ... };\n\n}\n</code></pre>\n<p>I would like to have the contract of that websocket in an interface in an external repository, and add that dependency to the project in which I have the implementation.</p>\n<p>So in this scenario I would have the chat-api dependency in which I implement the interface</p>\n<pre><code>@ServerEndpoint(&quot;/websocket/helloworld&quot;)\npublic interface MyServiceInterface {\n\n    @OnMessage\n    String sayHello(String name);\n\n    @OnOpen\n    void helloOnOpen(Session session);\n\n    @OnClose\n    void helloOnClose(CloseReason reason);\n\n}\n</code></pre>\n<p>And my implementation will use this interface</p>\n<pre><code>public class MyServiceImpl implements MyServiceInterface {\n\n    @Override\n    String sayHello(String name){ ... };\n\n    @Override\n    void helloOnOpen(Session session){ ... };\n\n    @Override\n    void helloOnClose(CloseReason reason){ ... };\n\n}\n</code></pre>\n<p>But if I do this, Wildfly is not handling the websocket and it does not work. (you can see the problem that I had <a href=\"https://stackoverflow.com/questions/77014109/websocket-is-not-handled-correctly-in-jboss-7-4/77027555#77027555\">here</a>)</p>\n<p>Is there any way I can set this up?</p>\n"},{"tags":["java","jackson","localdate"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1635862845,"creation_date":1635862845,"answer_id":69811985,"question_id":69811740,"body_markdown":"The error is indicative and explains you haven&#39;t registered the `JavaTimeModule` module like documented at [`datetime`](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/datetime) : to register it you can for example do in this way (or other equivalent way explained in the link I added previously, dependly from the jackson library version you are using) :\r\n\r\n~~~\r\nObjectMapper mapper = JsonMapper.builder()\r\n    .addModule(new JavaTimeModule())\r\n    .build();\r\n~~~","title":"How do I enable the JSR310 support for LocalDate using Jackson?","body":"<p>The error is indicative and explains you haven't registered the <code>JavaTimeModule</code> module like documented at <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/datetime\" rel=\"noreferrer\"><code>datetime</code></a> : to register it you can for example do in this way (or other equivalent way explained in the link I added previously, dependly from the jackson library version you are using) :</p>\n<pre><code>ObjectMapper mapper = JsonMapper.builder()\n    .addModule(new JavaTimeModule())\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14324952,"reputation":169,"user_id":10347294,"display_name":"Shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694015534,"creation_date":1694015534,"answer_id":77053548,"question_id":69811740,"body_markdown":"`java.time.LocalDate` is not supported by default so we have to register the module. Add this line for registering -\r\n\r\n    DatabindCodec.mapper().registerModule(new JavaTimeModule());","title":"How do I enable the JSR310 support for LocalDate using Jackson?","body":"<p><code>java.time.LocalDate</code> is not supported by default so we have to register the module. Add this line for registering -</p>\n<pre><code>DatabindCodec.mapper().registerModule(new JavaTimeModule());\n</code></pre>\n"}],"owner":{"account_id":1113629,"reputation":1117,"user_id":1103558,"accept_rate":68,"display_name":"noumenal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26365,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1694015534,"creation_date":1635861646,"question_id":69811740,"body_markdown":"I have added the JS310 dependency to Maven and refreshed the dependencies:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n                &lt;version&gt;2.13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn the domain:\r\n\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n    LocalDate start;\r\n\r\nHowever, I am receiving this error:\r\n\r\n`com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type java.time.LocalDate not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling`\r\n","title":"How do I enable the JSR310 support for LocalDate using Jackson?","body":"<p>I have added the JS310 dependency to Maven and refreshed the dependencies:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In the domain:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\nLocalDate start;\n</code></pre>\n<p>However, I am receiving this error:</p>\n<p><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type java.time.LocalDate not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling</code></p>\n"},{"tags":["java","session","servlets"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":1,"creation_date":1694004745,"post_id":77052064,"comment_id":135833964,"body_markdown":"There is nowhere in the code you have posted where you invoke `javax.servlet.http.HttpSession.getAttribute(String)`. If you post the relevant code in the question it will increase our possibilities to help you.","body":"There is nowhere in the code you have posted where you invoke <code>javax.servlet.http.HttpSession.getAttribute(String)</code>. If you post the relevant code in the question it will increase our possibilities to help you."},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1694005064,"post_id":77052064,"comment_id":135834069,"body_markdown":"In this method I am only setting setAttribute not getting any Attribute","body":"In this method I am only setting setAttribute not getting any Attribute"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1694009129,"post_id":77052064,"comment_id":135835059,"body_markdown":"And your exception says session is null when you are invoking `getAttribute(String)`. So it is much better that you show us the code where you get the error. It is not in the code you have in the question.","body":"And your exception says session is null when you are invoking <code>getAttribute(String)</code>. So it is much better that you show us the code where you get the error. It is not in the code you have in the question."},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1694010876,"post_id":77052064,"comment_id":135835521,"body_markdown":"You are absolutely right this is error due to getAttribute(String). I have posted my relevant code in my question. please check it","body":"You are absolutely right this is error due to getAttribute(String). I have posted my relevant code in my question. please check it"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1694011797,"post_id":77052064,"comment_id":135835732,"body_markdown":"`HttpSession session = request.getSession(false);` so this line then returns null. According to the javadoc this can happen when you set the argument create to `false`: &quot;If create is false and the request has no valid HttpSession, this method returns null.&quot;\n\nSee https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getSession(boolean)","body":"<code>HttpSession session = request.getSession(false);</code> so this line then returns null. According to the javadoc this can happen when you set the argument create to <code>false</code>: &quot;If create is false and the request has no valid HttpSession, this method returns null.&quot;  See <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getSession(boolean)\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/servlet/http/&hellip;</a>"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1694011921,"post_id":77052064,"comment_id":135835777,"body_markdown":"Most likely you want to create a session if none exist in that case you need to set the create parameter to true instead of false.","body":"Most likely you want to create a session if none exist in that case you need to set the create parameter to true instead of false."}],"answers":[{"tags":[],"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694015400,"creation_date":1694015400,"answer_id":77053533,"question_id":77052064,"body_markdown":"This is happening because of your line:\r\n```\r\nHttpSession session = request.getSession(false);\r\n```\r\n\r\nFrom [the documentation][1]:\r\n\r\n&gt; If `create` is `false` and the request has no valid `HttpSession`,\r\n&gt; this method returns null.\r\n\r\nThis indicates the request has no session, so `request.getSession(false)` is returning null and setting your variable `session` to null.\r\n\r\nYou should check if your variable `session` is null before calling methods on it. It looks like your code is trying to clear the session on logout, but if there is no session there is nothing to clear.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getSession-boolean-","title":"Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null","body":"<p>This is happening because of your line:</p>\n<pre><code>HttpSession session = request.getSession(false);\n</code></pre>\n<p>From <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getSession-boolean-\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>If <code>create</code> is <code>false</code> and the request has no valid <code>HttpSession</code>,\nthis method returns null.</p>\n</blockquote>\n<p>This indicates the request has no session, so <code>request.getSession(false)</code> is returning null and setting your variable <code>session</code> to null.</p>\n<p>You should check if your variable <code>session</code> is null before calling methods on it. It looks like your code is trying to clear the session on logout, but if there is no session there is nothing to clear.</p>\n"}],"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694015400,"creation_date":1694004482,"question_id":77052064,"body_markdown":"I am getting `Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null`\r\n\r\n\r\n      protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tServlet.setContentType(request, response);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tHttpSession session = request.getSession(false);\r\n\t\t\tif (session.getAttribute(&quot;userCategory&quot;) != null &amp;&amp; session.getAttribute(&quot;userId&quot;) != null\r\n\t\t\t\t\t&amp;&amp; session.getAttribute(&quot;userName&quot;) != null) {\r\n\r\n\t\t\t\t// remove session\r\n\t\t\t\tsession.removeAttribute(&quot;userCategory&quot;);\r\n\t\t\t\tsession.removeAttribute(&quot;userId&quot;);\r\n\t\t\t\tsession.removeAttribute(&quot;userName&quot;);\r\n\t\t\t\tsession.invalidate();\r\n\r\n\t\t\t\t// back button or F5 not show secure pages back to the user\r\n\t\t\t\tresponse.setHeader(&quot;Cache-Control&quot;, &quot;private, no-store, no-cache, must-revalidate&quot;);\r\n\t\t\t\tresponse.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n\t\t\t\tresponse.setDateHeader(&quot;Expires&quot;, 0);\r\n\r\n\t\t\t\t// logout and forward a page\r\n\t\t\t\tresponse.sendRedirect(&quot;/&quot;);\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * return; &lt;-- is important Otherwise the code will continue to run and hit some\r\n\t\t\t\t * session.getAttribute() method further down in the block causing exactly this\r\n\t\t\t\t * exception.\r\n\t\t\t\t */\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tEmailErrorsToAdmin.setMsg(this.getClass().getCanonicalName(), e);\r\n\t\t}\r\n\t}\r\n\r\n\r\nI am extremely sorry I just found this piece of code is throwing error Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null\r\n\r\nPreviously I was having doubt that when I am creating session then its throwing Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null but just found its giving error in Logout class\r\n\r\n\r\nPlease advise where I am making mistake?\r\n\r\nBest Regards","title":"Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null","body":"<p>I am getting <code>Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null</code></p>\n<pre><code>  protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    Servlet.setContentType(request, response);\n    \n    try {\n        HttpSession session = request.getSession(false);\n        if (session.getAttribute(&quot;userCategory&quot;) != null &amp;&amp; session.getAttribute(&quot;userId&quot;) != null\n                &amp;&amp; session.getAttribute(&quot;userName&quot;) != null) {\n\n            // remove session\n            session.removeAttribute(&quot;userCategory&quot;);\n            session.removeAttribute(&quot;userId&quot;);\n            session.removeAttribute(&quot;userName&quot;);\n            session.invalidate();\n\n            // back button or F5 not show secure pages back to the user\n            response.setHeader(&quot;Cache-Control&quot;, &quot;private, no-store, no-cache, must-revalidate&quot;);\n            response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\n            response.setDateHeader(&quot;Expires&quot;, 0);\n\n            // logout and forward a page\n            response.sendRedirect(&quot;/&quot;);\n            return;\n\n            /*\n             * return; &lt;-- is important Otherwise the code will continue to run and hit some\n             * session.getAttribute() method further down in the block causing exactly this\n             * exception.\n             */\n            \n        }\n        \n    } catch (Exception e) {\n        EmailErrorsToAdmin.setMsg(this.getClass().getCanonicalName(), e);\n    }\n}\n</code></pre>\n<p>I am extremely sorry I just found this piece of code is throwing error Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null</p>\n<p>Previously I was having doubt that when I am creating session then its throwing Cannot invoke &quot;javax.servlet.http.HttpSession.getAttribute(String)&quot; because &quot;session&quot; is null but just found its giving error in Logout class</p>\n<p>Please advise where I am making mistake?</p>\n<p>Best Regards</p>\n"},{"tags":["java","json","jackson","vert.x"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1635321220,"post_id":69733697,"comment_id":123263002,"body_markdown":"Hi, it seems that you asked 2 questions and `JsonObject` is belong to `Gson` not in `Jackson`, did you mix the use of them?","body":"Hi, it seems that you asked 2 questions and <code>JsonObject</code> is belong to <code>Gson</code> not in <code>Jackson</code>, did you mix the use of them?"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1635321881,"post_id":69733697,"comment_id":123263281,"body_markdown":"The error is due to the fact that `issuedAt` receives an object that cannot be parsed, as @LHCHIN observed are you using `Jackson` for deserialization ?","body":"The error is due to the fact that <code>issuedAt</code> receives an object that cannot be parsed, as @LHCHIN observed are you using <code>Jackson</code> for deserialization ?"},{"owner":{"account_id":1466355,"reputation":803,"user_id":1379059,"accept_rate":63,"display_name":"ZAJ"},"score":0,"creation_date":1635322698,"post_id":69733697,"comment_id":123263577,"body_markdown":"thanks for your comments. I am using the JsonObject in Vertx package `import io.vertx.core.json.JsonObject;`","body":"thanks for your comments. I am using the JsonObject in Vertx package <code>import io.vertx.core.json.JsonObject;</code>"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1635323363,"post_id":69733697,"comment_id":123263820,"body_markdown":"You are welcome. If you are not using `jackson` for deserialization I cannot help, probably if the serialization as iso string is available can simplify your problem.","body":"You are welcome. If you are not using <code>jackson</code> for deserialization I cannot help, probably if the serialization as iso string is available can simplify your problem."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1635324175,"post_id":69733697,"comment_id":123264135,"body_markdown":"Hi, if you are using `Vert.x`, why `jackson-databind-2.11.4.jar:2.11.4` is shown in your error message?","body":"Hi, if you are using <code>Vert.x</code>, why <code>jackson-databind-2.11.4.jar:2.11.4</code> is shown in your error message?"},{"owner":{"account_id":1466355,"reputation":803,"user_id":1379059,"accept_rate":63,"display_name":"ZAJ"},"score":0,"creation_date":1635324403,"post_id":69733697,"comment_id":123264213,"body_markdown":"@LHCHIN because internally it uses Jackson-databind","body":"@LHCHIN because internally it uses Jackson-databind"}],"answers":[{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635327239,"creation_date":1635326586,"answer_id":69736004,"question_id":69733697,"body_markdown":"I am not familiar with `Vert.x`. But according to our discussion under the post, I simply add following 2 line of code before `mapTo()` and got no error.\r\n\r\n```java\r\nObjectMapper objectMapper = DatabindCodec.mapper();\r\nobjectMapper.registerModule(new JavaTimeModule());\r\n```\r\n\r\nConsole output:  \r\n\r\n&gt; RefreshToken{id=null, userID=0, deviceID=0, refreshToken=&#39;9da220ce-bc66-4561-b924-988c7f394f2d&#39;, issuedAt=2021-10-27T17:21:28, expiresAt=2021-10-28T17:21:28}\r\n\r\n\r\n----------\r\nAnd in my experience, you can also configure `ObjectMapper` to handle the output format of `LocalDateTime` as you want while serialization as follows:\r\n```java\r\nobjectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n```\r\n\r\n","title":"JSON Java 8 LocalDateTime format using Jackson in Vert.x","body":"<p>I am not familiar with <code>Vert.x</code>. But according to our discussion under the post, I simply add following 2 line of code before <code>mapTo()</code> and got no error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = DatabindCodec.mapper();\nobjectMapper.registerModule(new JavaTimeModule());\n</code></pre>\n<p>Console output:</p>\n<blockquote>\n<p>RefreshToken{id=null, userID=0, deviceID=0, refreshToken='9da220ce-bc66-4561-b924-988c7f394f2d', issuedAt=2021-10-27T17:21:28, expiresAt=2021-10-28T17:21:28}</p>\n</blockquote>\n<hr />\n<p>And in my experience, you can also configure <code>ObjectMapper</code> to handle the output format of <code>LocalDateTime</code> as you want while serialization as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635327565,"creation_date":1635327565,"answer_id":69736237,"question_id":69733697,"body_markdown":"You will need to annotate your LocalDateTime member as follows:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n    LocalDateTime myTime\r\n\r\nHere is the link to full answer that explains all the details: [https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"JSON Java 8 LocalDateTime format using Jackson in Vert.x","body":"<p>You will need to annotate your LocalDateTime member as follows:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\nLocalDateTime myTime\n</code></pre>\n<p>Here is the link to full answer that explains all the details: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"},{"tags":[],"owner":{"account_id":14324952,"reputation":169,"user_id":10347294,"display_name":"Shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694015308,"creation_date":1694015308,"answer_id":77053525,"question_id":69733697,"body_markdown":"`java.time.LocalDateTime` is not supported by default so we have to register the module before using `mapTo()` function.\r\nAdd this line before `json.mapTo(RefreshToken.class);` -\r\n\r\n    DatabindCodec.mapper().registerModule(new JavaTimeModule());","title":"JSON Java 8 LocalDateTime format using Jackson in Vert.x","body":"<p><code>java.time.LocalDateTime</code> is not supported by default so we have to register the module before using <code>mapTo()</code> function.\nAdd this line before <code>json.mapTo(RefreshToken.class);</code> -</p>\n<pre><code>DatabindCodec.mapper().registerModule(new JavaTimeModule());\n</code></pre>\n"}],"owner":{"account_id":1466355,"reputation":803,"user_id":1379059,"accept_rate":63,"display_name":"ZAJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69736004,"answer_count":3,"score":0,"last_activity_date":1694015308,"creation_date":1635315522,"question_id":69733697,"body_markdown":"I am trying to create json object from LocaLDateTime but for some reason it is creating json like so, look for issueAt and expireAt key\r\n\r\n&gt; json {&quot;userID&quot;:0,&quot;deviceID&quot;:0,&quot;refreshToken&quot;:&quot;93180548-23b3-4d1b-8b5b-a105b7cff7f9&quot;,**&quot;issuedAt&quot;**:{&quot;year&quot;:2021,&quot;monthValue&quot;:10,&quot;dayOfMonth&quot;:27,&quot;hour&quot;:9,&quot;minute&quot;:22,&quot;second&quot;:31,&quot;nano&quot;:0,&quot;month&quot;:&quot;OCTOBER&quot;,&quot;dayOfWeek&quot;:&quot;WEDNESDAY&quot;,&quot;dayOfYear&quot;:300,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},**&quot;expiresAt&quot;**:{&quot;year&quot;:2021,&quot;monthValue&quot;:10,&quot;dayOfMonth&quot;:28,&quot;hour&quot;:9,&quot;minute&quot;:22,&quot;second&quot;:31,&quot;nano&quot;:0,&quot;month&quot;:&quot;OCTOBER&quot;,&quot;dayOfWeek&quot;:&quot;THURSDAY&quot;,&quot;dayOfYear&quot;:301,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}}\r\n&gt; \r\n&gt; \r\nI want it to be like so\r\n\r\nbatch: [0,0,29a1bf70-648e-4cb5-aef8-5377cf702875,**2021-10-26T12:36:10,2021-10-27T12:36:10**] .\r\n\r\nMy code for creating the 2 dates is below\r\n\r\n        String randomString = UUID.randomUUID().toString();\r\n\t\tInstant myInstant1 = Instant.now().truncatedTo(ChronoUnit.SECONDS);\r\n\t\tLocalDateTime issuedAt = LocalDateTime.ofInstant(myInstant1, ZoneId.systemDefault());\r\n\t\tSystem.out.println(&quot;issued_at : &quot; + issuedAt);\r\n\t\tLocalDateTime expiresAt = issuedAt.plusDays(1);\r\n\t\tSystem.out.println(&quot;expires_at: &quot; + expiresAt.plusDays(1));\r\n\r\nIn the below code is where I get the error when I try to use mapto to add the json object to my class object.\r\n\r\n    JsonObject json = new JsonObject()\r\n\t\t        \t\t.put(&quot;userID&quot;, userID)\r\n\t\t        \t\t.put(&quot;deviceID&quot;, deviceID)\r\n\t\t        \t\t.put(&quot;refreshToken&quot;, randomString)\r\n\t\t\t\t        .put(&quot;issuedAt&quot;, issuedAt)\r\n\t\t\t\t        .put(&quot;expiresAt&quot;, expiresAt);\r\n\t\t        \t\t\t\t\t\t\r\n\t\t        \t\t\t\t\t\r\n\tLOG.info(&quot;json {}&quot;, json.encode());\r\n\r\n\tRefreshToken refreshTokenObj = json.mapTo(RefreshToken.class); //here I am trying to mapTo my class and I get the error\r\n\tLOG.info(&quot;refreshTokenObj {}&quot;, refreshTokenObj);\r\n\r\nThe error I get is\r\n\r\n&gt; 2021-10-27 09:22:31.133+0330 [vert.x-eventloop-thread-1] ERROR com.galiy.main.MainVerticle - Unhandled:\r\njava.lang.IllegalArgumentException: Cannot construct instance of `java.time.LocalDateTime` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: UNKNOWN; line: -1, column: -1] (through reference chain: com.galiy.security.refreshToken.RefreshToken[&quot;issuedAt&quot;])\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4236) ~[jackson-databind-2.11.4.jar:2.11.4]\r\n\r\nand my RefreshToken model is like so,\r\n\r\n    public class RefreshToken {\r\n\t\r\n\tprivate Integer id;\r\n\tprivate Integer userID;\r\n\tprivate Integer deviceID;\r\n\tprivate String refreshToken;\r\n\tprivate LocalDateTime issuedAt;\r\n\tprivate LocalDateTime expiresAt;\r\n\r\n","title":"JSON Java 8 LocalDateTime format using Jackson in Vert.x","body":"<p>I am trying to create json object from LocaLDateTime but for some reason it is creating json like so, look for issueAt and expireAt key</p>\n<blockquote>\n<p>json {&quot;userID&quot;:0,&quot;deviceID&quot;:0,&quot;refreshToken&quot;:&quot;93180548-23b3-4d1b-8b5b-a105b7cff7f9&quot;,<strong>&quot;issuedAt&quot;</strong>:{&quot;year&quot;:2021,&quot;monthValue&quot;:10,&quot;dayOfMonth&quot;:27,&quot;hour&quot;:9,&quot;minute&quot;:22,&quot;second&quot;:31,&quot;nano&quot;:0,&quot;month&quot;:&quot;OCTOBER&quot;,&quot;dayOfWeek&quot;:&quot;WEDNESDAY&quot;,&quot;dayOfYear&quot;:300,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},<strong>&quot;expiresAt&quot;</strong>:{&quot;year&quot;:2021,&quot;monthValue&quot;:10,&quot;dayOfMonth&quot;:28,&quot;hour&quot;:9,&quot;minute&quot;:22,&quot;second&quot;:31,&quot;nano&quot;:0,&quot;month&quot;:&quot;OCTOBER&quot;,&quot;dayOfWeek&quot;:&quot;THURSDAY&quot;,&quot;dayOfYear&quot;:301,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}}</p>\n</blockquote>\n<p>I want it to be like so</p>\n<p>batch: [0,0,29a1bf70-648e-4cb5-aef8-5377cf702875,<strong>2021-10-26T12:36:10,2021-10-27T12:36:10</strong>] .</p>\n<p>My code for creating the 2 dates is below</p>\n<pre><code>    String randomString = UUID.randomUUID().toString();\n    Instant myInstant1 = Instant.now().truncatedTo(ChronoUnit.SECONDS);\n    LocalDateTime issuedAt = LocalDateTime.ofInstant(myInstant1, ZoneId.systemDefault());\n    System.out.println(&quot;issued_at : &quot; + issuedAt);\n    LocalDateTime expiresAt = issuedAt.plusDays(1);\n    System.out.println(&quot;expires_at: &quot; + expiresAt.plusDays(1));\n</code></pre>\n<p>In the below code is where I get the error when I try to use mapto to add the json object to my class object.</p>\n<pre><code>JsonObject json = new JsonObject()\n                    .put(&quot;userID&quot;, userID)\n                    .put(&quot;deviceID&quot;, deviceID)\n                    .put(&quot;refreshToken&quot;, randomString)\n                    .put(&quot;issuedAt&quot;, issuedAt)\n                    .put(&quot;expiresAt&quot;, expiresAt);\n                                    \n                                \nLOG.info(&quot;json {}&quot;, json.encode());\n\nRefreshToken refreshTokenObj = json.mapTo(RefreshToken.class); //here I am trying to mapTo my class and I get the error\nLOG.info(&quot;refreshTokenObj {}&quot;, refreshTokenObj);\n</code></pre>\n<p>The error I get is</p>\n<blockquote>\n<p>2021-10-27 09:22:31.133+0330 [vert.x-eventloop-thread-1] ERROR com.galiy.main.MainVerticle - Unhandled:\njava.lang.IllegalArgumentException: Cannot construct instance of <code>java.time.LocalDateTime</code> (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\nat [Source: UNKNOWN; line: -1, column: -1] (through reference chain: com.galiy.security.refreshToken.RefreshToken[&quot;issuedAt&quot;])\nat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4236) ~[jackson-databind-2.11.4.jar:2.11.4]</p>\n</blockquote>\n<p>and my RefreshToken model is like so,</p>\n<pre><code>public class RefreshToken {\n\nprivate Integer id;\nprivate Integer userID;\nprivate Integer deviceID;\nprivate String refreshToken;\nprivate LocalDateTime issuedAt;\nprivate LocalDateTime expiresAt;\n</code></pre>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":19757645,"reputation":457,"user_id":14467573,"display_name":"Rohan Pande"},"score":0,"creation_date":1694015908,"post_id":77053476,"comment_id":135836688,"body_markdown":"If any information is required to answer this please post will clarify your doubt.","body":"If any information is required to answer this please post will clarify your doubt."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694072936,"post_id":77053476,"comment_id":135843812,"body_markdown":"Android Gradle Plugin is open source, but AFAIK most &quot;commands&quot; are simply implemented as Java code not by calling an external tool. https://android.googlesource.com/platform/tools/base/+/studio-master-dev/build-system/README.md","body":"Android Gradle Plugin is open source, but AFAIK most &quot;commands&quot; are simply implemented as Java code not by calling an external tool. <a href=\"https://android.googlesource.com/platform/tools/base/+/studio-master-dev/build-system/README.md\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/tools/base/+/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694015264,"creation_date":1694015264,"answer_id":77053518,"question_id":77053476,"body_markdown":"I like to add the [task tree plugin](https://github.com/dorongold/gradle-task-tree) to my build.gradle\r\n\r\n```\r\nplugins {\r\n    id &quot;com.dorongold.task-tree&quot; version &quot;2.1.1&quot;\r\n}\r\n```\r\n\r\nYou can then run the following which will show a task tree for the &quot;build&quot; task\r\n```\r\ngradle build taskTree\r\n```\r\n\r\nFor a java project the output looks like\r\n```\r\n:build\r\n+--- :assemble\r\n|    \\--- :jar\r\n|         \\--- :classes\r\n|              +--- :compileJava\r\n|              \\--- :processResources\r\n\\--- :check\r\n     \\--- :test\r\n          +--- :classes\r\n          |    +--- :compileJava\r\n          |    \\--- :processResources\r\n          \\--- :testClasses\r\n               +--- :compileTestJava\r\n               |    \\--- :classes\r\n               |         +--- :compileJava\r\n               |         \\--- :processResources\r\n               \\--- :processTestResources\r\n```\r\n","title":"Can we know what gradle runs internal commands to build an android application?","body":"<p>I like to add the <a href=\"https://github.com/dorongold/gradle-task-tree\" rel=\"nofollow noreferrer\">task tree plugin</a> to my build.gradle</p>\n<pre><code>plugins {\n    id &quot;com.dorongold.task-tree&quot; version &quot;2.1.1&quot;\n}\n</code></pre>\n<p>You can then run the following which will show a task tree for the &quot;build&quot; task</p>\n<pre><code>gradle build taskTree\n</code></pre>\n<p>For a java project the output looks like</p>\n<pre><code>:build\n+--- :assemble\n|    \\--- :jar\n|         \\--- :classes\n|              +--- :compileJava\n|              \\--- :processResources\n\\--- :check\n     \\--- :test\n          +--- :classes\n          |    +--- :compileJava\n          |    \\--- :processResources\n          \\--- :testClasses\n               +--- :compileTestJava\n               |    \\--- :classes\n               |         +--- :compileJava\n               |         \\--- :processResources\n               \\--- :processTestResources\n</code></pre>\n"}],"owner":{"account_id":19757645,"reputation":457,"user_id":14467573,"display_name":"Rohan Pande"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694015264,"creation_date":1694014965,"question_id":77053476,"body_markdown":"I am just curious and wanted to know about gradle the set of commands it runs internally to build an APK. \r\n\r\nIs that possible to know where I can read about this? I tried to pass the debug and info flag while doing &#39;assembleDebug&#39; task but couldn&#39;t get any much information what commands it runs internally.\r\n\r\nHelp would be appreciated.","title":"Can we know what gradle runs internal commands to build an android application?","body":"<p>I am just curious and wanted to know about gradle the set of commands it runs internally to build an APK.</p>\n<p>Is that possible to know where I can read about this? I tried to pass the debug and info flag while doing 'assembleDebug' task but couldn't get any much information what commands it runs internally.</p>\n<p>Help would be appreciated.</p>\n"},{"tags":["java","spring","gradle","git-bash"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1495255655,"post_id":44081972,"comment_id":75187359,"body_markdown":"Do you have Java installed in that folder?","body":"Do you have Java installed in that folder?"}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1495256351,"creation_date":1495256351,"answer_id":44082086,"question_id":44081972,"body_markdown":"Looks like your JAVA_HOME variable resolves to a JRE installation directory. But as you&#39;re talking about Gradle, you&#39;re surely trying to build/compile code.\r\n\r\nIf you have a JDK installed, change JAVA_HOME variable to point to it. The folder name should typically start with &quot;jdk&quot;. Otherwise, you have to install a Java Development Kit.\r\n\r\nYou could also try exporting the variable manually before running gradle on the command line (`SET JAVA_HOME=&lt;path to the jdk directory&gt;`)","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>Looks like your JAVA_HOME variable resolves to a JRE installation directory. But as you're talking about Gradle, you're surely trying to build/compile code.</p>\n\n<p>If you have a JDK installed, change JAVA_HOME variable to point to it. The folder name should typically start with \"jdk\". Otherwise, you have to install a Java Development Kit.</p>\n\n<p>You could also try exporting the variable manually before running gradle on the command line (<code>SET JAVA_HOME=&lt;path to the jdk directory&gt;</code>)</p>\n"},{"tags":[],"owner":{"account_id":13453103,"reputation":250,"user_id":9707379,"display_name":"Kyrei"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1524784336,"creation_date":1524784336,"answer_id":50053110,"question_id":44081972,"body_markdown":"In addition to Ernest&#39;s answer, the JAVA_HOME it wants is the actual directory, not the bin folder like the path wants for javac. Took me a while to work that out","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>In addition to Ernest's answer, the JAVA_HOME it wants is the actual directory, not the bin folder like the path wants for javac. Took me a while to work that out</p>\n"},{"tags":[],"owner":{"account_id":3356679,"reputation":101,"user_id":2819446,"display_name":"artie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598885287,"creation_date":1598885287,"answer_id":63673048,"question_id":44081972,"body_markdown":"I&#39;ve found myself with the same issue, although my JAVA_HOME was set to the correct JDK path.\r\nHowever Windows 10 appended a semicolon at the end of the path.\r\nThis way the JAVA_HOME variable would work anywhere but not with Gradle.\r\nI&#39;m posting this, because it might spare someone else the time I&#39;ve been looking for it ;)","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>I've found myself with the same issue, although my JAVA_HOME was set to the correct JDK path.\nHowever Windows 10 appended a semicolon at the end of the path.\nThis way the JAVA_HOME variable would work anywhere but not with Gradle.\nI'm posting this, because it might spare someone else the time I've been looking for it ;)</p>\n"},{"tags":[],"owner":{"account_id":2327294,"reputation":623,"user_id":2041475,"display_name":"MikkelT"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1599815341,"creation_date":1599815341,"answer_id":63844018,"question_id":44081972,"body_markdown":"Found a solution I hadn&#39;t seen before in my googling.\r\n\r\nOpen up your gradlew.bat in some editor. On line 34-ish you will see this:\r\n\r\n```\r\n:findJavaFromJavaHome\r\nset JAVA_HOME=%JAVA_HOME:&quot;=%\r\nset JAVA_EXE=%JAVA_HOME%\\bin\\java.exe\r\n\r\nif exist &quot;%JAVA_EXE%&quot; goto init\r\n\r\necho.\r\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\r\necho.\r\necho Please set the JAVA_HOME variable in your environment to match the\r\necho location of your Java installation.\r\n```\r\n\r\nadd this line to the error message: `echo %JAVA_EXE%`\r\n\r\nso it looks like this\r\n\r\n```\r\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\r\necho %JAVA_EXE%\r\necho.\r\necho Please set the JAVA_HOME variable in your environment to match the\r\necho location of your Java installation.\r\n```\r\n\r\nThen run your gradlew.bat file.\r\n\r\nThe error should now appear again, but with the added echo of the path to JAVA_EXE. In my case it was echoing `\\bin\\java.exe` and NOT the full path `C:\\...\\Java\\jre1.8.0_251\\bin\\java.exe`\r\n\r\nto fix this, I changed \r\n\r\n`set JAVA_EXE=%JAVA_HOME%\\bin\\java.exe`\r\n\r\nto\r\n\r\n`set JAVA_EXE=C:\\...\\Java\\jdk1.8.0_261\\bin\\java.exe` \r\n\r\nThe value is now hardcoded, true, but it worked. I don&#39;t know why gradle doesn&#39;t concat the variable name into the path.\r\n\r\n\r\n","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>Found a solution I hadn't seen before in my googling.</p>\n<p>Open up your gradlew.bat in some editor. On line 34-ish you will see this:</p>\n<pre><code>:findJavaFromJavaHome\nset JAVA_HOME=%JAVA_HOME:&quot;=%\nset JAVA_EXE=%JAVA_HOME%\\bin\\java.exe\n\nif exist &quot;%JAVA_EXE%&quot; goto init\n\necho.\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n</code></pre>\n<p>add this line to the error message: <code>echo %JAVA_EXE%</code></p>\n<p>so it looks like this</p>\n<pre><code>echo ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\necho %JAVA_EXE%\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n</code></pre>\n<p>Then run your gradlew.bat file.</p>\n<p>The error should now appear again, but with the added echo of the path to JAVA_EXE. In my case it was echoing <code>\\bin\\java.exe</code> and NOT the full path <code>C:\\...\\Java\\jre1.8.0_251\\bin\\java.exe</code></p>\n<p>to fix this, I changed</p>\n<p><code>set JAVA_EXE=%JAVA_HOME%\\bin\\java.exe</code></p>\n<p>to</p>\n<p><code>set JAVA_EXE=C:\\...\\Java\\jdk1.8.0_261\\bin\\java.exe</code></p>\n<p>The value is now hardcoded, true, but it worked. I don't know why gradle doesn't concat the variable name into the path.</p>\n"},{"tags":[],"owner":{"account_id":16458154,"reputation":113,"user_id":11889864,"display_name":"Jitendra Asawa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633778029,"creation_date":1633778029,"answer_id":69506207,"question_id":44081972,"body_markdown":"Please set the JAVA_HOME variable location to the path to JDK instead of JRE.\r\n\r\nIf that is correctly set, check the environment variables in Edit mode.\r\nIn my case, I found that a semicolon was appended to the JAVA_HOME environment variable at the end.\r\n\r\nTo check:\r\n1. Open the environment variables list.\r\n2. Select the variable and click Edit.\r\n3. Remove the semicolon and Save.\r\n\r\nClosed the settings and checked the path in cmd using **echo %JAVA_HOME%**, and ran **gradle -v**.\r\n\r\nIt ran perfectly.\r\n\r\n**Note**: Check the variable value by clicking the Edit button as we cannot see the semicolon instead. Windows adds a semicolon so that the same variable can be used as the path to multiple locations.\r\n\r\nAdded picture for reference:\r\n[![Environment variable in Edit mode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5a6UG.png","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>Please set the JAVA_HOME variable location to the path to JDK instead of JRE.</p>\n<p>If that is correctly set, check the environment variables in Edit mode.\nIn my case, I found that a semicolon was appended to the JAVA_HOME environment variable at the end.</p>\n<p>To check:</p>\n<ol>\n<li>Open the environment variables list.</li>\n<li>Select the variable and click Edit.</li>\n<li>Remove the semicolon and Save.</li>\n</ol>\n<p>Closed the settings and checked the path in cmd using <strong>echo %JAVA_HOME%</strong>, and ran <strong>gradle -v</strong>.</p>\n<p>It ran perfectly.</p>\n<p><strong>Note</strong>: Check the variable value by clicking the Edit button as we cannot see the semicolon instead. Windows adds a semicolon so that the same variable can be used as the path to multiple locations.</p>\n<p>Added picture for reference:\n<a href=\"https://i.stack.imgur.com/5a6UG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5a6UG.png\" alt=\"Environment variable in Edit mode\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5039122,"reputation":51,"user_id":4047099,"display_name":"kpamu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662596161,"creation_date":1662596161,"answer_id":73642568,"question_id":44081972,"body_markdown":"If you didn&#39;t have admin rights, override the JAVA_HOME in User Environment Variable. Avoid typo by selecting the Java home folder. You must include folder before the bin ( do not include /bin) for java home.","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>If you didn't have admin rights, override the JAVA_HOME in User Environment Variable. Avoid typo by selecting the Java home folder. You must include folder before the bin ( do not include /bin) for java home.</p>\n"},{"tags":[],"owner":{"account_id":6595569,"reputation":1,"user_id":14256551,"display_name":"Tyler Harris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667382591,"creation_date":1667382380,"answer_id":74287187,"question_id":44081972,"body_markdown":"[][1]If none of the above works open the gradle.bat file in an editor and make sure that IT is correct , in my case gradle was the problem\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eYmdQ.png","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p><a href=\"https://i.stack.imgur.com/eYmdQ.png\" rel=\"nofollow noreferrer\"></a>If none of the above works open the gradle.bat file in an editor and make sure that IT is correct , in my case gradle was the problem</p>\n"},{"tags":[],"owner":{"account_id":13748620,"reputation":1,"user_id":9921443,"display_name":"M.Soumen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686023276,"creation_date":1685724692,"answer_id":76392094,"question_id":44081972,"body_markdown":"The pictorial representation of @Kyrei answer is :\r\n\r\n    [JAVA_HOME variable data (C:\\your\\java\\folder\\loc\\\\)][1]\r\n\r\nAnd I also removed semicolon(;) from the last part which is inserted by default by windows.\r\n\r\n\r\n**P.S:** as my reputaion is very low that&#39;s why I can&#39;t put this image in the &quot;comment&quot; section.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CDYpI.jpg\r\n","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>The pictorial representation of @Kyrei answer is :</p>\n<pre><code>[JAVA_HOME variable data (C:\\your\\java\\folder\\loc\\\\)][1]\n</code></pre>\n<p>And I also removed semicolon(;) from the last part which is inserted by default by windows.</p>\n<p><strong>P.S:</strong> as my reputaion is very low that's why I can't put this image in the &quot;comment&quot; section.</p>\n"},{"tags":[],"owner":{"account_id":3809857,"reputation":10074,"user_id":3161139,"accept_rate":12,"display_name":"Antonin GAVREL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694015240,"creation_date":1694015240,"answer_id":77053514,"question_id":44081972,"body_markdown":"### If you have installed Android Studio\r\n\r\nIt ships with Java already.\r\n\r\nWindows 10/11 access the \r\nSelect new environment variable and add the following value/path:\r\n```\r\nJAVA_HOME\r\nC:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\r\n```\r\n\r\nAlso I recommend downloading gradle from https://services.gradle.org/distributions/ ( https://services.gradle.org/distributions/gradle-8.3-all.zip to be specific or more recent ) and extract it to:\r\n```\r\nC:\\Users\\{your username}\\.gradle\\wrapper\\dists\r\n```\r\nAnd then add it to your (system) path environment variable","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<h3>If you have installed Android Studio</h3>\n<p>It ships with Java already.</p>\n<p>Windows 10/11 access the\nSelect new environment variable and add the following value/path:</p>\n<pre><code>JAVA_HOME\nC:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n</code></pre>\n<p>Also I recommend downloading gradle from <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a> ( <a href=\"https://services.gradle.org/distributions/gradle-8.3-all.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-8.3-all.zip</a> to be specific or more recent ) and extract it to:</p>\n<pre><code>C:\\Users\\{your username}\\.gradle\\wrapper\\dists\n</code></pre>\n<p>And then add it to your (system) path environment variable</p>\n"}],"owner":{"account_id":3951945,"reputation":307,"user_id":3261923,"accept_rate":75,"display_name":"hanabi_noir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32945,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":44082086,"answer_count":9,"score":12,"last_activity_date":1694015240,"creation_date":1495255262,"question_id":44081972,"body_markdown":"I was trying to run `./gradlew bootRun` in both **Git Bash** and **PowerShell**, and got this error: `ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jre1.8.0_121`\r\n\r\nThe **gradlew** file is inside the project directory that cloned from git. It is a practice project from **Spring official guide**. There&#39;s also a **gradle.bat** file with these lines: \r\n\r\n    :findJavaFromJavaHome\r\n    set JAVA_HOME=%JAVA_HOME:&quot;=%\r\n    set JAVA_EXE=%JAVA_HOME%\\bin\\java.exe \r\n\r\nI also tried to run **Eclipse EE**, which got no problem. The environment setting should be no problem.","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid directory","body":"<p>I was trying to run <code>./gradlew bootRun</code> in both <strong>Git Bash</strong> and <strong>PowerShell</strong>, and got this error: <code>ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jre1.8.0_121</code></p>\n\n<p>The <strong>gradlew</strong> file is inside the project directory that cloned from git. It is a practice project from <strong>Spring official guide</strong>. There's also a <strong>gradle.bat</strong> file with these lines: </p>\n\n<pre><code>:findJavaFromJavaHome\nset JAVA_HOME=%JAVA_HOME:\"=%\nset JAVA_EXE=%JAVA_HOME%\\bin\\java.exe \n</code></pre>\n\n<p>I also tried to run <strong>Eclipse EE</strong>, which got no problem. The environment setting should be no problem.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1694008938,"post_id":77052624,"comment_id":135835000,"body_markdown":"Can you repost all your code and stack trace, [properly formatted](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks), without all the HTML `&lt;br/&gt;` elements added?","body":"Can you repost all your code and stack trace, <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">properly formatted</a>, without all the HTML <code>&lt;br&#47;&gt;</code> elements added?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1694009059,"post_id":77052624,"comment_id":135835041,"body_markdown":"Anyway, why do you think the location of the FXML file is the problem? The stack trace clearly indicates the issue is on line 7 of the FXML (which it couldn&#39;t possibly say if it couldn&#39;t find the FXML file). It says the issue is that your controller class `HelloController` doesn&#39;t have a no-argument constructor.","body":"Anyway, why do you think the location of the FXML file is the problem? The stack trace clearly indicates the issue is on line 7 of the FXML (which it couldn&#39;t possibly say if it couldn&#39;t find the FXML file). It says the issue is that your controller class <code>HelloController</code> doesn&#39;t have a no-argument constructor."},{"owner":{"account_id":29379758,"reputation":1,"user_id":22510537,"display_name":"wan1796"},"score":0,"creation_date":1694010896,"post_id":77052624,"comment_id":135835523,"body_markdown":"Pardon my formatting, and I am still pretty new to JavaFX. When I started up the project, I didn&#39;t see a no-argument constructor within HelloController yet it still ran so I assumed it just wasn&#39;t required.","body":"Pardon my formatting, and I am still pretty new to JavaFX. When I started up the project, I didn&#39;t see a no-argument constructor within HelloController yet it still ran so I assumed it just wasn&#39;t required."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1694013567,"post_id":77052624,"comment_id":135836164,"body_markdown":"If you don&#39;t define any constructor, a default no-arg constructor is defined by default. (This is just base Java, nothing to do with JAvaFX or FXML. A class needs a constructor otherwise instances of it cannot be created.) If you define your own constructor, of any signature, then you don&#39;t get the default one for free.","body":"If you don&#39;t define any constructor, a default no-arg constructor is defined by default. (This is just base Java, nothing to do with JAvaFX or FXML. A class needs a constructor otherwise instances of it cannot be created.) If you define your own constructor, of any signature, then you don&#39;t get the default one for free."},{"owner":{"account_id":29379758,"reputation":1,"user_id":22510537,"display_name":"wan1796"},"score":0,"creation_date":1694014910,"post_id":77052624,"comment_id":135836472,"body_markdown":"Just edited my question - added HelloController.java. I did define a constructor that requires a string parameter, so yes instances of it should be able to be created - not in this case apparently..","body":"Just edited my question - added HelloController.java. I did define a constructor that requires a string parameter, so yes instances of it should be able to be created - not in this case apparently.."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1694016516,"post_id":77052624,"comment_id":135836819,"body_markdown":"You&#39;re missing the point. A controller *must have* a no-argument constructor (under default usage). (Just think about it: the controller instance is created by the `FXMLLoader` when you load the FXML. How do you expect the `FXMLLoader` to know what to pass to the constructor if it has a parameter?) By defining a constructor which takes a parameter, you no longer have a no-argument constructor, so the code fails when the `FXMLLoader` tries to load it. You can see this from the stack trace, where `FXMLLoader.processAttribute()` tries to invoke a constructor.","body":"You&#39;re missing the point. A controller <i>must have</i> a no-argument constructor (under default usage). (Just think about it: the controller instance is created by the <code>FXMLLoader</code> when you load the FXML. How do you expect the <code>FXMLLoader</code> to know what to pass to the constructor if it has a parameter?) By defining a constructor which takes a parameter, you no longer have a no-argument constructor, so the code fails when the <code>FXMLLoader</code> tries to load it. You can see this from the stack trace, where <code>FXMLLoader.processAttribute()</code> tries to invoke a constructor."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1694033244,"post_id":77052624,"comment_id":135839803,"body_markdown":"If you want to know how to provide a parameter to your controller (e.g. how to set the `String path` parameter that your controller requires to operate), see: [Passing Parameters JavaFX FXML](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml)","body":"If you want to know how to provide a parameter to your controller (e.g. how to set the <code>String path</code> parameter that your controller requires to operate), see: <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">Passing Parameters JavaFX FXML</a>"}],"owner":{"account_id":29379758,"reputation":1,"user_id":22510537,"display_name":"wan1796"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694009425,"answer_count":0,"score":0,"last_activity_date":1694014944,"creation_date":1694008652,"question_id":77052624,"body_markdown":"I am working on a JavaFX project in IntelliJ IDEA. I swear that I have never changed the location of main-db.fxml, and it used to run smoothly before. But now all of a sudden it&#39;s giving me a LoadException error, help!\r\n\r\nHelloApplication.java:\r\n\r\n```\r\npublic class HelloApplication extends Application {\r\n\r\n\r\n    FileChooser fc = new FileChooser(); \r\n\r\n\r\n\r\n    public void start(Stage stage) throws Exception, InvalidFormatException {\r\n\r\n        fc.setTitle(&quot;Select the Excel file&quot;);\r\n\r\n        fc.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;Excel file&quot;,&quot;*.xlsx&quot;));\r\n\r\n        File sheet = fc.showOpenDialog(new Stage());\r\n\r\n\r\n        String sheetPath = sheet.getPath();\r\n\r\n\r\n        if (sheet != null) {\r\n\r\n            FXMLLoader loader = new FXMLLoader(HelloApplication.class.getResource(&quot;main-db.fxml&quot;));\r\n\r\n\r\n            **Scene scene = new Scene(loader.load(), 600, 480);**\r\n\r\n            stage.setTitle(&quot;Welcome&quot;);\r\n\r\n            stage.setScene(scene);\r\n\r\n            stage.show();\r\n\r\n\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n```\r\n\r\nHelloController.java:\r\n```\r\npublic class HelloController {\r\n\r\n    @FXML\r\n    public Pane DBPane;\r\n\r\n    @FXML\r\n    private Label studentCount;\r\n\r\n    @FXML\r\n    private Label testLabel;\r\n\r\n    // method to allow access to a label from other classes\r\n    private final String path;\r\n    private File sheet;\r\n\r\n\r\n    public HelloController(String path) {\r\n\r\n        this.path = path;\r\n        this.sheet = new File(path);\r\n    }\r\n\r\n    public void showCount() throws IOException {\r\n        FileInputStream fisDB = new FileInputStream(sheet);\r\n        Workbook wb = new XSSFWorkbook(fisDB);\r\n        Sheet names = wb.getSheetAt(0);\r\n        int count = names.getPhysicalNumberOfRows();\r\n\r\n        studentCount.setText(String.valueOf(count));\r\n    }\r\n```\r\n\r\nmain-db.fxml (Users\\PC\\IdeaProjects\\IA_real_2\\src\\main\\resources\\com\\example\\IA_real_2\\main-db.fxml):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n\r\n**&lt;Pane fx:id=&quot;DBPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.ia_real_2.HelloController&quot;&gt;**\r\n\r\n   &lt;children&gt;\r\n\r\n      &lt;Label fx:id=&quot;studentCount&quot; layoutX=&quot;53.0&quot; layoutY=&quot;64.0&quot; text=&quot;Count here&quot;&gt;\r\n\r\n         &lt;font&gt;\r\n\r\n            &lt;Font size=&quot;41.0&quot; /&gt;\r\n\r\n         &lt;/font&gt;&lt;/Label&gt;\r\n\r\n   &lt;/children&gt;\r\n\r\n&lt;/Pane&gt;\r\n```\r\n\r\nIntelliJ flagged the lines that I&#39;ve boldened as being the root of the cause. Any help would be appreciated!!!\r\n\r\nHere&#39;s the exception log:\r\n```\r\nException in Application start method\r\n\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\r\n\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\nCaused by: javafx.fxml.LoadException: \r\n/C:/Users/PC/IdeaProjects/IA_real_2/target/classes/com/example/ia_real_2/main-db.fxml:7\r\n\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:946)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:983)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:757)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n\r\n\tat com.example.ia_real/com.example.ia_real_2.HelloApplication.start(HelloApplication.java:45)\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\r\n\tat javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\r\n\tat javafx.graphics@20/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\r\n\tat javafx.graphics@20/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\r\n\t... 1 more\r\n\r\nCaused by: java.lang.NoSuchMethodException: com.example.ia_real_2.HelloController.&lt;init&gt;()\r\n\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3685)\r\n\r\n\tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2854)\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:941)\r\n\t... 17 more\r\n\r\nException running application com.example.ia_real_2.HelloApplication\r\n```\r\n\r\n\r\nI&#39;ve tried to reformat the path of the fxml file to &quot;/com/example/ia_real_2.fxml&quot; but to no avail. I&#39;ve also looked around the dependencies but nothing sus has came up either. I&#39;ve looked at the project structure of a default JavaFX project and it seems to be identical - the only difference being that the default project runs while mine doesn&#39;t.","title":"I am getting a LoadException error here, despite never changing the location of the .fxml file","body":"<p>I am working on a JavaFX project in IntelliJ IDEA. I swear that I have never changed the location of main-db.fxml, and it used to run smoothly before. But now all of a sudden it's giving me a LoadException error, help!</p>\n<p>HelloApplication.java:</p>\n<pre><code>public class HelloApplication extends Application {\n\n\n    FileChooser fc = new FileChooser(); \n\n\n\n    public void start(Stage stage) throws Exception, InvalidFormatException {\n\n        fc.setTitle(&quot;Select the Excel file&quot;);\n\n        fc.getExtensionFilters().addAll(new FileChooser.ExtensionFilter(&quot;Excel file&quot;,&quot;*.xlsx&quot;));\n\n        File sheet = fc.showOpenDialog(new Stage());\n\n\n        String sheetPath = sheet.getPath();\n\n\n        if (sheet != null) {\n\n            FXMLLoader loader = new FXMLLoader(HelloApplication.class.getResource(&quot;main-db.fxml&quot;));\n\n\n            **Scene scene = new Scene(loader.load(), 600, 480);**\n\n            stage.setTitle(&quot;Welcome&quot;);\n\n            stage.setScene(scene);\n\n            stage.show();\n\n\n            }\n\n\n        }\n    }\n</code></pre>\n<p>HelloController.java:</p>\n<pre><code>public class HelloController {\n\n    @FXML\n    public Pane DBPane;\n\n    @FXML\n    private Label studentCount;\n\n    @FXML\n    private Label testLabel;\n\n    // method to allow access to a label from other classes\n    private final String path;\n    private File sheet;\n\n\n    public HelloController(String path) {\n\n        this.path = path;\n        this.sheet = new File(path);\n    }\n\n    public void showCount() throws IOException {\n        FileInputStream fisDB = new FileInputStream(sheet);\n        Workbook wb = new XSSFWorkbook(fisDB);\n        Sheet names = wb.getSheetAt(0);\n        int count = names.getPhysicalNumberOfRows();\n\n        studentCount.setText(String.valueOf(count));\n    }\n</code></pre>\n<p>main-db.fxml (Users\\PC\\IdeaProjects\\IA_real_2\\src\\main\\resources\\com\\example\\IA_real_2\\main-db.fxml):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n\n&lt;?import javafx.scene.control.Label?&gt;\n\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n&lt;?import javafx.scene.text.Font?&gt;\n\n\n**&lt;Pane fx:id=&quot;DBPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.ia_real_2.HelloController&quot;&gt;**\n\n   &lt;children&gt;\n\n      &lt;Label fx:id=&quot;studentCount&quot; layoutX=&quot;53.0&quot; layoutY=&quot;64.0&quot; text=&quot;Count here&quot;&gt;\n\n         &lt;font&gt;\n\n            &lt;Font size=&quot;41.0&quot; /&gt;\n\n         &lt;/font&gt;&lt;/Label&gt;\n\n   &lt;/children&gt;\n\n&lt;/Pane&gt;\n</code></pre>\n<p>IntelliJ flagged the lines that I've boldened as being the root of the cause. Any help would be appreciated!!!</p>\n<p>Here's the exception log:</p>\n<pre><code>Exception in Application start method\n\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\n\nCaused by: java.lang.RuntimeException: Exception in Application start method\n\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\n\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n\nCaused by: javafx.fxml.LoadException: \n/C:/Users/PC/IdeaProjects/IA_real_2/target/classes/com/example/ia_real_2/main-db.fxml:7\n\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:946)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:983)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:757)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n\n    at com.example.ia_real/com.example.ia_real_2.HelloApplication.start(HelloApplication.java:45)\n\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n\n    at javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n\n    at javafx.graphics@20/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n\n    at javafx.graphics@20/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n\n    ... 1 more\n\nCaused by: java.lang.NoSuchMethodException: com.example.ia_real_2.HelloController.&lt;init&gt;()\n\n    at java.base/java.lang.Class.getConstructor0(Class.java:3685)\n\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2854)\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:941)\n    ... 17 more\n\nException running application com.example.ia_real_2.HelloApplication\n</code></pre>\n<p>I've tried to reformat the path of the fxml file to &quot;/com/example/ia_real_2.fxml&quot; but to no avail. I've also looked around the dependencies but nothing sus has came up either. I've looked at the project structure of a default JavaFX project and it seems to be identical - the only difference being that the default project runs while mine doesn't.</p>\n"},{"tags":["java","spring-boot","rest","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":28338707,"reputation":21,"user_id":21684610,"display_name":"velmurugan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694014103,"creation_date":1694014103,"answer_id":77053375,"question_id":77053156,"body_markdown":"Inorder to identify which default error method we need to override, `ResponseEntityExceptionHandler.java` base class and identify the method to override.\r\nHere `NoHandlerFoundException`and `handleNoHandlerFoundException()` need to be overridden.\r\nabove code properly overridden. please add `@EnableWebMvc` in the application.java or @configuration class to identify override methods.","title":"How to modify default spring boot not found url exception with custom message","body":"<p>Inorder to identify which default error method we need to override, <code>ResponseEntityExceptionHandler.java</code> base class and identify the method to override.\nHere <code>NoHandlerFoundException</code>and <code>handleNoHandlerFoundException()</code> need to be overridden.\nabove code properly overridden. please add <code>@EnableWebMvc</code> in the application.java or @configuration class to identify override methods.</p>\n"},{"tags":[],"owner":{"account_id":13796789,"reputation":13,"user_id":9957807,"display_name":"artem baltser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694014639,"creation_date":1694014639,"answer_id":77053451,"question_id":77053156,"body_markdown":"You should put this line \r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    \r\nto your application.properties and add `@EnableWebMvc` in your configuration bean","title":"How to modify default spring boot not found url exception with custom message","body":"<p>You should put this line</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\n</code></pre>\n<p>to your application.properties and add <code>@EnableWebMvc</code> in your configuration bean</p>\n"}],"owner":{"account_id":28338707,"reputation":21,"user_id":21684610,"display_name":"velmurugan A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77053375,"answer_count":2,"score":1,"last_activity_date":1694014639,"creation_date":1694012507,"question_id":77053156,"body_markdown":"I&#39;m trying to modify the default error message and status code for all non supported rest end points.\r\n\r\nHow to do it ?\r\n\r\nMy Customer error message\r\n```\r\npublic class ApiErrorResponse {\r\n\r\n    private int code;\r\n    private String message;\r\n\r\n    public ApiErrorResponse(int code, String message) {\r\n        this.code = code;\r\n        this.message = message;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public int getCode() {\r\n        return code;\r\n    }\r\n}\r\n```\r\n\r\nCustom error handling logic:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class ApiExceptionHandler {\r\n\r\n    @ExceptionHandler({NoHandlerFoundException.class})\r\n    public ResponseEntity&lt;ApiErrorResponse&gt; handleNoHandlerFoundException(\r\n            NoHandlerFoundException ex, HttpServletRequest httpServletRequest) {\r\n        ApiErrorResponse apiErrorResponse = new ApiErrorResponse(404, &quot;Resource not found&quot;);\r\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).contentType(MediaType.APPLICATION_JSON).body(apiErrorResponse);\r\n    }\r\n}\r\n```\r\n\r\nand now tried like curl --location &#39;localhost:8080/some/invalid/url&#39;\r\nBut it gives default 404 status code and error message. not custom message . What I&#39;m missing here ?","title":"How to modify default spring boot not found url exception with custom message","body":"<p>I'm trying to modify the default error message and status code for all non supported rest end points.</p>\n<p>How to do it ?</p>\n<p>My Customer error message</p>\n<pre><code>public class ApiErrorResponse {\n\n    private int code;\n    private String message;\n\n    public ApiErrorResponse(int code, String message) {\n        this.code = code;\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public int getCode() {\n        return code;\n    }\n}\n</code></pre>\n<p>Custom error handling logic:</p>\n<pre><code>@ControllerAdvice\npublic class ApiExceptionHandler {\n\n    @ExceptionHandler({NoHandlerFoundException.class})\n    public ResponseEntity&lt;ApiErrorResponse&gt; handleNoHandlerFoundException(\n            NoHandlerFoundException ex, HttpServletRequest httpServletRequest) {\n        ApiErrorResponse apiErrorResponse = new ApiErrorResponse(404, &quot;Resource not found&quot;);\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).contentType(MediaType.APPLICATION_JSON).body(apiErrorResponse);\n    }\n}\n</code></pre>\n<p>and now tried like curl --location 'localhost:8080/some/invalid/url'\nBut it gives default 404 status code and error message. not custom message . What I'm missing here ?</p>\n"},{"tags":["java","jpa","unique","multiple-columns"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1694010379,"post_id":77052752,"comment_id":135835375,"body_markdown":"Have you looked in your database if the unqiue constraint  uk_5cesgns8lwu884yww505jep8t got created the way you expected it to be?","body":"Have you looked in your database if the unqiue constraint  uk_5cesgns8lwu884yww505jep8t got created the way you expected it to be?"},{"owner":{"account_id":12427367,"reputation":101,"user_id":9051442,"display_name":"Gianm30"},"score":0,"creation_date":1694010380,"post_id":77052752,"comment_id":135835376,"body_markdown":"Hi dusk, I think the problem is the design. According to what you did. The values are unique but individually. So, if you want to make a unique key from multiple fields, you could create a composite key of those values.","body":"Hi dusk, I think the problem is the design. According to what you did. The values are unique but individually. So, if you want to make a unique key from multiple fields, you could create a composite key of those values."},{"owner":{"account_id":14116326,"reputation":13,"user_id":10198012,"display_name":"dusk"},"score":0,"creation_date":1694012018,"post_id":77052752,"comment_id":135835796,"body_markdown":"Hi, thanks for your answers ! \n@OHGODSPIDERS\nthe constraint uk_5cesgns8lwu884yww505jep8t is created, but only with science_id\n\nIt was the uk5fhot0c188tnjuw933pl27gch wich contains user_id, exploration_id and difficulty\n\nthanks a lot !","body":"Hi, thanks for your answers !  @OHGODSPIDERS the constraint uk_5cesgns8lwu884yww505jep8t is created, but only with science_id  It was the uk5fhot0c188tnjuw933pl27gch wich contains user_id, exploration_id and difficulty  thanks a lot !"},{"owner":{"account_id":14116326,"reputation":13,"user_id":10198012,"display_name":"dusk"},"score":0,"creation_date":1694012083,"post_id":77052752,"comment_id":135835817,"body_markdown":"@Gianm30 thanks !\nHm, ok, a composite key which contains the three values and which is unique, isn&#39;t it ?","body":"@Gianm30 thanks ! Hm, ok, a composite key which contains the three values and which is unique, isn&#39;t it ?"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1694013907,"post_id":77052752,"comment_id":135836252,"body_markdown":"I think it&#39;s because of your `OneToOne` mappings. `OneToOne` means you can only have one `UserBasket` that relates to one `User` for instance.","body":"I think it&#39;s because of your <code>OneToOne</code> mappings. <code>OneToOne</code> means you can only have one <code>UserBasket</code> that relates to one <code>User</code> for instance."}],"answers":[{"tags":[],"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694014399,"creation_date":1694014399,"answer_id":77053412,"question_id":77052752,"body_markdown":"I think it&#39;s because of your `OneToOne` mappings. If I change those to `@ManyToOne(fetch = FetchType.EAGER)` I&#39;m able to successfully insert two records with only `Difficulty` being different. If I try to do a third record with the same `Difficulty` I get the unique key constraint error. ","title":"Unique constraint on multiple columns with JPA annotation","body":"<p>I think it's because of your <code>OneToOne</code> mappings. If I change those to <code>@ManyToOne(fetch = FetchType.EAGER)</code> I'm able to successfully insert two records with only <code>Difficulty</code> being different. If I try to do a third record with the same <code>Difficulty</code> I get the unique key constraint error.</p>\n"}],"owner":{"account_id":14116326,"reputation":13,"user_id":10198012,"display_name":"dusk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77053412,"answer_count":1,"score":0,"last_activity_date":1694014399,"creation_date":1694009638,"question_id":77052752,"body_markdown":"I have a problem when i add a unique constraint on multiple columns with JPA annotation.  \r\nI use PostgresSQL\r\n\r\nI&#39;d like to add unique constraint on 3 columns : &quot;user_id&quot;, &quot;science_id&quot; and &quot;difficulty&quot;\r\n\r\nIn other words : I can have \r\n\r\n0, 1, &quot;EASY&quot;  \r\n0, 1, &quot;HARD&quot; &lt;= because difficulty is different  \r\n0, 2, &quot;EASY&quot;  \r\n1, 2, &quot;EASY&quot;  \r\n\r\nBut not  \r\n0, 1, &quot;EASY&quot;  \r\n0, 1, &quot;EASY&quot; &lt;= Not unique  \r\n0, 2, &quot;EASY&quot;  \r\n1, 2, &quot;EASY&quot;  \r\n\r\n\r\nHere is my Entity :\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;user_basket&quot;,\r\n        uniqueConstraints = { @UniqueConstraint(\r\n                columnNames = { &quot;user_id&quot;, &quot;science_id&quot;, &quot;difficulty&quot; }) })\r\npublic class UserBasket {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;science_id&quot;)\r\n    private Science science;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Difficulty difficulty;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    @CreationTimestamp\r\n    private Timestamp addToBasket;\r\n\r\n}\r\n```\r\n\r\nSo, i add with postman :\r\n\r\n\r\n```\r\n{\r\n    &quot;scienceId&quot;: 1,\r\n    &quot;difficulty&quot;: &quot;EASY&quot;\r\n}\r\n```\r\n\r\nAnd add an other but with an other difficulty :\r\n\r\n\r\n```\r\n{\r\n    &quot;scienceId&quot;: 1,\r\n    &quot;difficulty&quot;: &quot;HARD&quot;\r\n}\r\n```\r\n\r\nI got error when second is inserted :\r\n\r\n\r\n```\r\n2023-09-06T16:04:00,284 ERROR [http-nio-8080-exec-4] o.h.e.j.s.SqlExceptionHelper: ERREUR: la valeur d&#39;une cl&#233; dupliqu&#233;e rompt la contrainte unique &#171; uk_5cesgns8lwu884yww505jep8t &#187;\r\n  D&#233;tail&#160;: La cl&#233; &#171; (science_id)=(1) &#187; existe d&#233;j&#224;.\r\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: could not execute statement [ERREUR: la valeur d&#39;une cl&#233; dupliqu&#233;e rompt la contrainte unique &#171; uk_5cesgns8lwu884yww505jep8t &#187;\r\n  D&#233;tail&#160;: La cl&#233; &#171; (science_id)=(1) &#187; existe d&#233;j&#224;.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]\r\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERREUR: la valeur d&#39;une cl&#233; dupliqu&#233;e rompt la contrainte unique &#171; uk_5cesgns8lwu884yww505jep8t &#187;\r\n  D&#233;tail&#160;: La cl&#233; &#171; (science_id)=(1) &#187; existe d&#233;j&#224;.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; SQL [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; constraint [null]\r\n\r\n```\r\n\r\nThanks a lot,\r\nBest regards","title":"Unique constraint on multiple columns with JPA annotation","body":"<p>I have a problem when i add a unique constraint on multiple columns with JPA annotation.<br />\nI use PostgresSQL</p>\n<p>I'd like to add unique constraint on 3 columns : &quot;user_id&quot;, &quot;science_id&quot; and &quot;difficulty&quot;</p>\n<p>In other words : I can have</p>\n<p>0, 1, &quot;EASY&quot;<br />\n0, 1, &quot;HARD&quot; &lt;= because difficulty is different<br />\n0, 2, &quot;EASY&quot;<br />\n1, 2, &quot;EASY&quot;</p>\n<p>But not<br />\n0, 1, &quot;EASY&quot;<br />\n0, 1, &quot;EASY&quot; &lt;= Not unique<br />\n0, 2, &quot;EASY&quot;<br />\n1, 2, &quot;EASY&quot;</p>\n<p>Here is my Entity :</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;user_basket&quot;,\n        uniqueConstraints = { @UniqueConstraint(\n                columnNames = { &quot;user_id&quot;, &quot;science_id&quot;, &quot;difficulty&quot; }) })\npublic class UserBasket {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;science_id&quot;)\n    private Science science;\n\n    @Enumerated(EnumType.STRING)\n    private Difficulty difficulty;\n\n    @Column(nullable = false, updatable = false)\n    @CreationTimestamp\n    private Timestamp addToBasket;\n\n}\n</code></pre>\n<p>So, i add with postman :</p>\n<pre><code>{\n    &quot;scienceId&quot;: 1,\n    &quot;difficulty&quot;: &quot;EASY&quot;\n}\n</code></pre>\n<p>And add an other but with an other difficulty :</p>\n<pre><code>{\n    &quot;scienceId&quot;: 1,\n    &quot;difficulty&quot;: &quot;HARD&quot;\n}\n</code></pre>\n<p>I got error when second is inserted :</p>\n<pre><code>2023-09-06T16:04:00,284 ERROR [http-nio-8080-exec-4] o.h.e.j.s.SqlExceptionHelper: ERREUR: la valeur d'une clé dupliquée rompt la contrainte unique « uk_5cesgns8lwu884yww505jep8t »\n  Détail : La clé « (science_id)=(1) » existe déjà.\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: could not execute statement [ERREUR: la valeur d'une clé dupliquée rompt la contrainte unique « uk_5cesgns8lwu884yww505jep8t »\n  Détail : La clé « (science_id)=(1) » existe déjà.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]\n2023-09-06T16:04:00,295 ERROR [http-nio-8080-exec-4] c.d.x.ExceptionHandler: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERREUR: la valeur d'une clé dupliquée rompt la contrainte unique « uk_5cesgns8lwu884yww505jep8t »\n  Détail : La clé « (science_id)=(1) » existe déjà.] [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; SQL [insert into user_basket (add_to_basket,difficulty,science_id,user_id,id) values (?,?,?,?,?)]; constraint [null]\n\n</code></pre>\n<p>Thanks a lot,\nBest regards</p>\n"},{"tags":["java","apache-kafka","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693866094,"post_id":77040397,"comment_id":135813390,"body_markdown":"What do you mean &quot;Kafka side&quot;? The broker doesn&#39;t hold schemas... This isn&#39;t exactly a Kafka problem. Have you tried sending your schema directly to the registry api? Have you looked at the server logs? What version of the registry are you using?","body":"What do you mean &quot;Kafka side&quot;? The broker doesn&#39;t hold schemas... This isn&#39;t exactly a Kafka problem. Have you tried sending your schema directly to the registry api? Have you looked at the server logs? What version of the registry are you using?"},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1693895187,"post_id":77040397,"comment_id":135815758,"body_markdown":"@OneCricketeer I don&#39;t get your part: kafka doesn&#39;t hold schemas. If I go to the kafka control center then I am able to see the kafka schema of type avro and being backward compatible. It&#39;s the one that I used and add it to my consumer. I&#39;ve been doing this many times.","body":"@OneCricketeer I don&#39;t get your part: kafka doesn&#39;t hold schemas. If I go to the kafka control center then I am able to see the kafka schema of type avro and being backward compatible. It&#39;s the one that I used and add it to my consumer. I&#39;ve been doing this many times."},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1693895244,"post_id":77040397,"comment_id":135815767,"body_markdown":"@OneCricketeer as I understand my error appears since my producer had differences in the schema (maybe I am pronouncing wrong now) that the kafka is holding up.","body":"@OneCricketeer as I understand my error appears since my producer had differences in the schema (maybe I am pronouncing wrong now) that the kafka is holding up."},{"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"score":0,"creation_date":1693917481,"post_id":77040397,"comment_id":135820147,"body_markdown":"@OneCricketeer as I was suspecting the issue was the order of the values in my enum. I tried with the same order I was able to send kafka message, tried switching the position of one of the values and I got the error above mentioned","body":"@OneCricketeer as I was suspecting the issue was the order of the values in my enum. I tried with the same order I was able to send kafka message, tried switching the position of one of the values and I got the error above mentioned"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694014037,"post_id":77040397,"comment_id":135836279,"body_markdown":"Control Center links to the Confluent Schema Registry. There are no schemas &quot;in Kafka / that topic&quot; , only an ID number... In any case, evolution rules are determine by the Avro spec, not the Registry or Kafka, that&#39;s why I said it&#39;s not a Kafka problem. The Schema Registry is failing the request before the producer data reaches the broker.","body":"Control Center links to the Confluent Schema Registry. There are no schemas &quot;in Kafka / that topic&quot; , only an ID number... In any case, evolution rules are determine by the Avro spec, not the Registry or Kafka, that&#39;s why I said it&#39;s not a Kafka problem. The Schema Registry is failing the request before the producer data reaches the broker."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694014191,"creation_date":1694014191,"answer_id":77053388,"question_id":77040397,"body_markdown":"If you change any part of the Avro schema itself, it&#39;ll create a new MD5 hash that the registry uses to do a lookup. This is related to [Avro fingerprinting](https://avro.apache.org/docs/1.11.1/specification/#schema-fingerprints). When that hash changes, it can no longer &quot;find that subject/schema&quot;. \r\n\r\nChanging the order of an enum is a backwards compatible change since the schema itself is compatible, but the implementation of the Registry won&#39;t accept that change. \r\n\r\nYou can report bugs at https://github.com/confluentinc/schema-registry/issues\r\n","title":"Can different order of values in enum between producer schema and kafka schema return 40403","body":"<p>If you change any part of the Avro schema itself, it'll create a new MD5 hash that the registry uses to do a lookup. This is related to <a href=\"https://avro.apache.org/docs/1.11.1/specification/#schema-fingerprints\" rel=\"nofollow noreferrer\">Avro fingerprinting</a>. When that hash changes, it can no longer &quot;find that subject/schema&quot;.</p>\n<p>Changing the order of an enum is a backwards compatible change since the schema itself is compatible, but the implementation of the Registry won't accept that change.</p>\n<p>You can report bugs at <a href=\"https://github.com/confluentinc/schema-registry/issues\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/schema-registry/issues</a></p>\n"}],"owner":{"account_id":10592234,"reputation":776,"user_id":7802372,"accept_rate":50,"display_name":"f.trajkovski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77053388,"answer_count":1,"score":0,"last_activity_date":1694014191,"creation_date":1693858659,"question_id":77040397,"body_markdown":"I am using kafka and spring boot application. I had some issues with the producer not being able to send messages to kafka, was getting \r\n\r\n`Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Schema not found; error code: 40403`\r\n\r\nAs I understand this is not that the schema is not there but I have some differences. The difference was that in the schema on the kafka I had one enum that had one value which was missing in the avro schema in the producer. Now I added that value in the enum but I am still getting the same error.\r\n\r\nOn the kafka side I have the following:\r\n\r\n`enum Test {\r\nA,\r\nB,\r\nC\r\n}`\r\n\r\nand on the producer side I have the following:\r\n\r\n`enum Test {\r\nA,\r\nC,\r\nB\r\n}`\r\n\r\nCan this be the issue in my scenario?","title":"Can different order of values in enum between producer schema and kafka schema return 40403","body":"<p>I am using kafka and spring boot application. I had some issues with the producer not being able to send messages to kafka, was getting</p>\n<p><code>Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Schema not found; error code: 40403</code></p>\n<p>As I understand this is not that the schema is not there but I have some differences. The difference was that in the schema on the kafka I had one enum that had one value which was missing in the avro schema in the producer. Now I added that value in the enum but I am still getting the same error.</p>\n<p>On the kafka side I have the following:</p>\n<p><code>enum Test { A, B, C }</code></p>\n<p>and on the producer side I have the following:</p>\n<p><code>enum Test { A, C, B }</code></p>\n<p>Can this be the issue in my scenario?</p>\n"},{"tags":["java","android","kotlin","android-studio","font-size"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694011440,"post_id":77052969,"comment_id":135835652,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>"},{"owner":{"account_id":13358151,"reputation":123,"user_id":9641046,"display_name":"Markus"},"score":0,"creation_date":1694012639,"post_id":77052969,"comment_id":135835940,"body_markdown":"Possible duplicate: [How to change the input font size in TextField of Android Jetpack Compose](https://stackoverflow.com/q/72901072/9641046)","body":"Possible duplicate: <a href=\"https://stackoverflow.com/q/72901072/9641046\">How to change the input font size in TextField of Android Jetpack Compose</a>"}],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694014112,"creation_date":1694013595,"answer_id":77053302,"question_id":77052969,"body_markdown":"Just try this:\r\n\r\n    @Composable\r\n    fun GreetingText(\r\n        message: String,\r\n        from: String,\r\n        modifier: Modifier = Modifier,\r\n    ) {\r\n        Text(\r\n            text = message,\r\n            fontSize = 100.sp,\r\n        )\r\n        Text(\r\n            text = from,\r\n            fontSize = 36.sp\r\n        )\r\n    }\r\n\r\nI think you missed `,`. And `Text` does not have `textHeight` property, so please check what you need.\r\n\r\nGood luck!","title":"fontSize and textHeight don&#39;t work how do i fix this?","body":"<p>Just try this:</p>\n<pre><code>@Composable\nfun GreetingText(\n    message: String,\n    from: String,\n    modifier: Modifier = Modifier,\n) {\n    Text(\n        text = message,\n        fontSize = 100.sp,\n    )\n    Text(\n        text = from,\n        fontSize = 36.sp\n    )\n}\n</code></pre>\n<p>I think you missed <code>,</code>. And <code>Text</code> does not have <code>textHeight</code> property, so please check what you need.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":29380122,"reputation":5,"user_id":22510820,"display_name":"Erkan &#214;zkan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77053302,"answer_count":1,"score":0,"last_activity_date":1694014112,"creation_date":1694011128,"question_id":77052969,"body_markdown":"[Screenshot of the issue][1] fontSize and TextHeight look red and say unresolved reference but it doesn&#39;t tell me which package I have to import to use them on android studio. I am a beginner so I don&#39;t know how to fix this problem without the help of sufficient descriptions. \r\n\r\nI was only able to check the syntax as I am a beginner and I don&#39;t know what to do in these situations. :P\r\n\r\n    @Composable\r\nfun GreetingText(message: String, from: String, modifier: Modifier = Modifier){\r\n    Text(\r\n        text = message\r\n        fontSize = 100.sp\r\n        textHeight = 116.sp\r\n    )\r\n    Text(\r\n        text = from\r\n        fontSize = 36.sp\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LnYFH.png","title":"fontSize and textHeight don&#39;t work how do i fix this?","body":"<p><a href=\"https://i.stack.imgur.com/LnYFH.png\" rel=\"nofollow noreferrer\">Screenshot of the issue</a> fontSize and TextHeight look red and say unresolved reference but it doesn't tell me which package I have to import to use them on android studio. I am a beginner so I don't know how to fix this problem without the help of sufficient descriptions.</p>\n<p>I was only able to check the syntax as I am a beginner and I don't know what to do in these situations. :P</p>\n<pre><code>@Composable\n</code></pre>\n<p>fun GreetingText(message: String, from: String, modifier: Modifier = Modifier){\nText(\ntext = message\nfontSize = 100.sp\ntextHeight = 116.sp\n)\nText(\ntext = from\nfontSize = 36.sp</p>\n<pre><code>)\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","properties-file"],"answers":[{"tags":[],"owner":{"account_id":4824832,"reputation":499,"user_id":3894536,"display_name":"Deh"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1694014110,"creation_date":1436514435,"answer_id":31335245,"question_id":31334977,"body_markdown":"You can achieve that like this :\r\n\r\n    public void saveParamChanges() {\r\n       try {\r\n         // create and set properties into properties object\r\n         Properties props = new Properties();\r\n         props.setProperty(&quot;Prop1&quot;, &quot;toto&quot;);\r\n         props.setProperty(&quot;Prop2&quot;, &quot;test&quot;);\r\n         props.setProperty(&quot;Prop3&quot;, &quot;tata&quot;);\r\n         // get or create the file\r\n         File f = new File(&quot;app-properties.properties&quot;);\r\n         OutputStream out = new FileOutputStream( f );\r\n         // write into it\r\n         DefaultPropertiesPersister p = new DefaultPropertiesPersister();\r\n\t     p.store(props, out, &quot;Header Comment&quot;);\r\n       } catch (Exception e ) {\r\n        e.printStackTrace();\r\n       }\r\n    }\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/util/DefaultPropertiesPersister.html\r\n\r\n**EDIT : updated with the defaultPropertiesPersiter from org.springframework.Util**","title":"Write/Update properties file value in spring","body":"<p>You can achieve that like this :</p>\n<pre><code>public void saveParamChanges() {\n   try {\n     // create and set properties into properties object\n     Properties props = new Properties();\n     props.setProperty(&quot;Prop1&quot;, &quot;toto&quot;);\n     props.setProperty(&quot;Prop2&quot;, &quot;test&quot;);\n     props.setProperty(&quot;Prop3&quot;, &quot;tata&quot;);\n     // get or create the file\n     File f = new File(&quot;app-properties.properties&quot;);\n     OutputStream out = new FileOutputStream( f );\n     // write into it\n     DefaultPropertiesPersister p = new DefaultPropertiesPersister();\n     p.store(props, out, &quot;Header Comment&quot;);\n   } catch (Exception e ) {\n    e.printStackTrace();\n   }\n}\n</code></pre>\n<p><a href=\"http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/util/DefaultPropertiesPersister.html\" rel=\"nofollow noreferrer\">source</a></p>\n<p><strong>EDIT : updated with the defaultPropertiesPersiter from org.springframework.Util</strong></p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685607090,"creation_date":1685607090,"answer_id":76379892,"question_id":31334977,"body_markdown":"Extending the existing answer by @deh, read and write using spring-boot.\r\nNote it is not using the typical classpath: in @PropertySource.\r\nTo automate writing of more properties you could enumerate all fields with reflection.\r\n\r\n    @Data\r\n    @Configuration\r\n    @PropertySource(&quot;file:offset.properties&quot;)\r\n    public class Offset {\r\n    \r\n        @Value(&quot;${offset:0}&quot;)\r\n        private int offset;\r\n    \r\n        public void save(int newOffset) {\r\n            try {\r\n                Properties props = new Properties();\r\n                props.setProperty(&quot;offset&quot;, &quot;&quot; + newOffset);\r\n                File f = new File(&quot;offset.properties&quot;);\r\n                OutputStream out = new FileOutputStream( f );\r\n                DefaultPropertiesPersister p = new DefaultPropertiesPersister();\r\n                p.store(props, out, null);\r\n            } catch (Exception e ) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Write/Update properties file value in spring","body":"<p>Extending the existing answer by @deh, read and write using spring-boot.\nNote it is not using the typical classpath: in @PropertySource.\nTo automate writing of more properties you could enumerate all fields with reflection.</p>\n<pre><code>@Data\n@Configuration\n@PropertySource(&quot;file:offset.properties&quot;)\npublic class Offset {\n\n    @Value(&quot;${offset:0}&quot;)\n    private int offset;\n\n    public void save(int newOffset) {\n        try {\n            Properties props = new Properties();\n            props.setProperty(&quot;offset&quot;, &quot;&quot; + newOffset);\n            File f = new File(&quot;offset.properties&quot;);\n            OutputStream out = new FileOutputStream( f );\n            DefaultPropertiesPersister p = new DefaultPropertiesPersister();\n            p.store(props, out, null);\n        } catch (Exception e ) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1131348,"reputation":1118,"user_id":1117347,"accept_rate":65,"display_name":"mevada.yogesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21646,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":31335245,"answer_count":2,"score":16,"last_activity_date":1694014110,"creation_date":1436513405,"question_id":31334977,"body_markdown":"I have some requirement where I want to write/update the value in the properties file I am using the my spring application.\r\n\r\nI have googled it but I have not found a direct way of doing it using Spring.\r\n\r\nDoes any one aware of how to do it or is there any best way to do it.\r\n\r\nThanks in advance.","title":"Write/Update properties file value in spring","body":"<p>I have some requirement where I want to write/update the value in the properties file I am using the my spring application.</p>\n\n<p>I have googled it but I have not found a direct way of doing it using Spring.</p>\n\n<p>Does any one aware of how to do it or is there any best way to do it.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"display_name":"user11868214"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566295252,"creation_date":1566283604,"answer_id":57568031,"question_id":57566465,"body_markdown":"Have you considered running the processing in separate threads using publishOn like in the example below?\r\nThis may not be exactly what you are asking for but allows you to continue with other matters while the processing of the results in the flux is done by one or more threads, four in my example, from a dedicated scheduler (theFourThreadScheduler).\r\n\r\n```\r\n    @Test\r\n    public void processingInSeparateThreadTest() {\r\n        final Scheduler theFourThreadScheduler = Schedulers.newParallel(&quot;FourThreads&quot;, 4);\r\n        final Flux&lt;String&gt; theResultFlux = Flux.just(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;);\r\n\r\n        theResultFlux.log()\r\n            .collectList()\r\n            .publishOn(theFourThreadScheduler)\r\n            .subscribe(theStringList -&gt; {\r\n                doThisAsync(theStringList);\r\n            });\r\n\r\n        System.out.println(&quot;Subscribed to the result flux&quot;);\r\n\r\n        for (int i = 0; i &lt; 20; i++) {\r\n            System.out.println(&quot;Waiting for completion: &quot; + i);\r\n            try {\r\n                Thread.sleep(300);\r\n            } catch (final InterruptedException theException) {\r\n            }\r\n        }\r\n    }\r\n\r\n    private void doThisAsync(final List&lt;String&gt; inStringList) {\r\n        for (final String theString : inStringList) {\r\n            System.out.println(&quot;Processing in doThisAsync: &quot; + theString);\r\n            try {\r\n                Thread.sleep(500);\r\n            } catch (final InterruptedException theException) {\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nRunning the example produce the following output, showing that the processing performed in doThisAsync() is performed in the background.\r\n```\r\nSubscribed to the result flux\r\nWaiting for completion: 0\r\nProcessing in doThisAsync: one\r\nWaiting for completion: 1\r\nProcessing in doThisAsync: two\r\nWaiting for completion: 2\r\nWaiting for completion: 3\r\nProcessing in doThisAsync: three\r\nWaiting for completion: 4\r\nWaiting for completion: 5\r\nProcessing in doThisAsync: four\r\nWaiting for completion: 6\r\nProcessing in doThisAsync: five\r\nWaiting for completion: 7\r\nWaiting for completion: 8\r\nProcessing in doThisAsync: six\r\nWaiting for completion: 9\r\nProcessing in doThisAsync: seven\r\nWaiting for completion: 10\r\nWaiting for completion: 11\r\nProcessing in doThisAsync: eight\r\nWaiting for completion: 12\r\nWaiting for completion: 13\r\nWaiting for completion: 14\r\nWaiting for completion: 15\r\nWaiting for completion: 16\r\nWaiting for completion: 17\r\nWaiting for completion: 18\r\nWaiting for completion: 19\r\n```\r\n\r\nReferences:\r\n[Reactor 3 Reference: Schedulers][1]\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#schedulers\r\n","title":"Fire and forget with reactor","body":"<p>Have you considered running the processing in separate threads using publishOn like in the example below?\nThis may not be exactly what you are asking for but allows you to continue with other matters while the processing of the results in the flux is done by one or more threads, four in my example, from a dedicated scheduler (theFourThreadScheduler).</p>\n\n<pre><code>    @Test\n    public void processingInSeparateThreadTest() {\n        final Scheduler theFourThreadScheduler = Schedulers.newParallel(\"FourThreads\", 4);\n        final Flux&lt;String&gt; theResultFlux = Flux.just(\"one\", \"two\", \"three\", \"four\", \"five\", \"six\", \"seven\", \"eight\");\n\n        theResultFlux.log()\n            .collectList()\n            .publishOn(theFourThreadScheduler)\n            .subscribe(theStringList -&gt; {\n                doThisAsync(theStringList);\n            });\n\n        System.out.println(\"Subscribed to the result flux\");\n\n        for (int i = 0; i &lt; 20; i++) {\n            System.out.println(\"Waiting for completion: \" + i);\n            try {\n                Thread.sleep(300);\n            } catch (final InterruptedException theException) {\n            }\n        }\n    }\n\n    private void doThisAsync(final List&lt;String&gt; inStringList) {\n        for (final String theString : inStringList) {\n            System.out.println(\"Processing in doThisAsync: \" + theString);\n            try {\n                Thread.sleep(500);\n            } catch (final InterruptedException theException) {\n            }\n        }\n    }\n</code></pre>\n\n<p>Running the example produce the following output, showing that the processing performed in doThisAsync() is performed in the background.</p>\n\n<pre><code>Subscribed to the result flux\nWaiting for completion: 0\nProcessing in doThisAsync: one\nWaiting for completion: 1\nProcessing in doThisAsync: two\nWaiting for completion: 2\nWaiting for completion: 3\nProcessing in doThisAsync: three\nWaiting for completion: 4\nWaiting for completion: 5\nProcessing in doThisAsync: four\nWaiting for completion: 6\nProcessing in doThisAsync: five\nWaiting for completion: 7\nWaiting for completion: 8\nProcessing in doThisAsync: six\nWaiting for completion: 9\nProcessing in doThisAsync: seven\nWaiting for completion: 10\nWaiting for completion: 11\nProcessing in doThisAsync: eight\nWaiting for completion: 12\nWaiting for completion: 13\nWaiting for completion: 14\nWaiting for completion: 15\nWaiting for completion: 16\nWaiting for completion: 17\nWaiting for completion: 18\nWaiting for completion: 19\n</code></pre>\n\n<p>References:\n<a href=\"https://projectreactor.io/docs/core/release/reference/#schedulers\" rel=\"nofollow noreferrer\">Reactor 3 Reference: Schedulers</a></p>\n"},{"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1586937750,"creation_date":1566289593,"answer_id":57569541,"question_id":57566465,"body_markdown":"1, If your *fire-and-forget* is already async returning `Mono`/`Flux`\r\n------------------------------------------------------------------------\r\n\r\n```java\r\npublic Flux&lt;Data&gt; search(SearchRequest request)\r\n{\r\n    return searchService.search(request)\r\n                        .collectList()\r\n                        .doOnNext(data -&gt; doThisAsync(data).subscribe())  // add error logging here or inside doThisAsync\r\n                        .flatMapMany(Flux::fromIterable);\r\n}\r\n\r\npublic Mono&lt;Void&gt; doThisAsync(List&lt;Data&gt; data) {\r\n    //do some async/non-blocking processing here like calling WebClient\r\n}\r\n```\r\n\r\n2, If your *fire-and-forget* does blocking I/O\r\n------------------------------------------------------------------------\r\n\r\n```java\r\npublic Flux&lt;Data&gt; search(SearchRequest request)\r\n{\r\n    return searchService.search(request)\r\n                        .collectList()\r\n                        .doOnNext(data -&gt; Mono.fromRunnable(() -&gt; doThisAsync(data))\r\n                                              .subscribeOn(Schedulers.elastic())  // delegate to proper thread to not block main flow\r\n                                              .subscribe())  // add error logging here or inside doThisAsync\r\n                        .flatMapMany(Flux::fromIterable);\r\n}\r\n\r\npublic void doThisAsync(List&lt;Data&gt; data) {\r\n    //do some blocking I/O on calling thread\r\n}\r\n```\r\n\r\nNote that in both of the above cases you lose backpressure support. If the `doAsyncThis` slows down for some reason, then the data producer won&#39;t care and keep producing items. This is a natural consequence of the fire-and-foget mechanism.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#advanced-broadcast-multiple-subscribers-connectableflux","title":"Fire and forget with reactor","body":"<h2>1, If your <em>fire-and-forget</em> is already async returning <code>Mono</code>/<code>Flux</code></h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Data&gt; search(SearchRequest request)\n{\n    return searchService.search(request)\n                        .collectList()\n                        .doOnNext(data -&gt; doThisAsync(data).subscribe())  // add error logging here or inside doThisAsync\n                        .flatMapMany(Flux::fromIterable);\n}\n\npublic Mono&lt;Void&gt; doThisAsync(List&lt;Data&gt; data) {\n    //do some async/non-blocking processing here like calling WebClient\n}\n</code></pre>\n\n<h2>2, If your <em>fire-and-forget</em> does blocking I/O</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Data&gt; search(SearchRequest request)\n{\n    return searchService.search(request)\n                        .collectList()\n                        .doOnNext(data -&gt; Mono.fromRunnable(() -&gt; doThisAsync(data))\n                                              .subscribeOn(Schedulers.elastic())  // delegate to proper thread to not block main flow\n                                              .subscribe())  // add error logging here or inside doThisAsync\n                        .flatMapMany(Flux::fromIterable);\n}\n\npublic void doThisAsync(List&lt;Data&gt; data) {\n    //do some blocking I/O on calling thread\n}\n</code></pre>\n\n<p>Note that in both of the above cases you lose backpressure support. If the <code>doAsyncThis</code> slows down for some reason, then the data producer won't care and keep producing items. This is a natural consequence of the fire-and-foget mechanism.</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675192415,"creation_date":1675189217,"answer_id":75301517,"question_id":57566465,"body_markdown":"## UPDATE 2023/01/31\r\n\r\nActually you anyway should use [.subscribeOn()][1] because even if you call your *fire-and-forget* function which returns `Mono&lt;Void&gt;` **it is not guaranteed that within that reactive chain will be switching of executing thread or it will happen immediately** (depends on the code inside that *fire-and-forget* function, more specificaly, operators that used on the chain).\r\n\r\nSo you may run into situation when your *fire-and-forget* function will be executed on the same thread that called this function, so your method will not return until this function is completed.\r\n\r\nThe case when *fire-and-forget* function returns `Publisher&lt;Void&gt;`:\r\n\r\n    public Flux&lt;Data&gt; search(SearchRequest request) {\r\n        return searchService.search(request)\r\n                .collectList()\r\n                .doOnNext(data -&gt;\r\n                        // anyway call subscribeOn(...)\r\n                        fireAndForgetOperation(data)\r\n                                .subscribeOn(...)\r\n                                .subscribe()\r\n                )\r\n                .flatMapMany(Flux::fromIterable);\r\n    }\r\n\r\n    public Mono&lt;Void&gt; fireAndForgetOperation(List&lt;String&gt; list) {\r\n        ...\r\n    }\r\n\r\nThe case when *fire-and-forget* function is just a common `void` returning method:\r\n\r\n    public Flux&lt;Data&gt; search(SearchRequest request) {\r\n        return searchService.search(request)\r\n                .collectList()\r\n                .doOnNext(data -&gt;\r\n                        Mono.fromRunnable(() -&gt; fireAndForgetOperation(data))\r\n                                .subscribeOn(...)\r\n                                .subscribe()\r\n                )\r\n                .flatMapMany(Flux::fromIterable);\r\n    }\r\n\r\n    public void fireAndForgetOperation(List&lt;String&gt; list) {\r\n        ...\r\n    }\r\n\r\n\r\nAlso you should consider what `Scheduler` you need to provide, depending on the nature of your *fire-and-forget* function.\r\n\r\nBasically there are two scenarios:\r\n\r\n**1)** If your *fire-and-forget* function does **CPU-Bound** work.\r\nThen you want to specify `Schedulers.parallel()` inside `subsribeOn()`\r\n\r\n**2)** If your *fire-and-forget* function does **IO** work (actually no matter in this case if it would be blocking or non-blocking IO).\r\nThen you want to specify `Schedulers.boundedElastic()` inside `subsribeOn()`\r\n\r\n\r\nSo, using this approach you will truly return immediately after firing your *fire-and-forget* function\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#schedulers","title":"Fire and forget with reactor","body":"<h2>UPDATE 2023/01/31</h2>\n<p>Actually you anyway should use <a href=\"https://projectreactor.io/docs/core/release/reference/#schedulers\" rel=\"nofollow noreferrer\">.subscribeOn()</a> because even if you call your <em>fire-and-forget</em> function which returns <code>Mono&lt;Void&gt;</code> <strong>it is not guaranteed that within that reactive chain will be switching of executing thread or it will happen immediately</strong> (depends on the code inside that <em>fire-and-forget</em> function, more specificaly, operators that used on the chain).</p>\n<p>So you may run into situation when your <em>fire-and-forget</em> function will be executed on the same thread that called this function, so your method will not return until this function is completed.</p>\n<p>The case when <em>fire-and-forget</em> function returns <code>Publisher&lt;Void&gt;</code>:</p>\n<pre><code>public Flux&lt;Data&gt; search(SearchRequest request) {\n    return searchService.search(request)\n            .collectList()\n            .doOnNext(data -&gt;\n                    // anyway call subscribeOn(...)\n                    fireAndForgetOperation(data)\n                            .subscribeOn(...)\n                            .subscribe()\n            )\n            .flatMapMany(Flux::fromIterable);\n}\n\npublic Mono&lt;Void&gt; fireAndForgetOperation(List&lt;String&gt; list) {\n    ...\n}\n</code></pre>\n<p>The case when <em>fire-and-forget</em> function is just a common <code>void</code> returning method:</p>\n<pre><code>public Flux&lt;Data&gt; search(SearchRequest request) {\n    return searchService.search(request)\n            .collectList()\n            .doOnNext(data -&gt;\n                    Mono.fromRunnable(() -&gt; fireAndForgetOperation(data))\n                            .subscribeOn(...)\n                            .subscribe()\n            )\n            .flatMapMany(Flux::fromIterable);\n}\n\npublic void fireAndForgetOperation(List&lt;String&gt; list) {\n    ...\n}\n</code></pre>\n<p>Also you should consider what <code>Scheduler</code> you need to provide, depending on the nature of your <em>fire-and-forget</em> function.</p>\n<p>Basically there are two scenarios:</p>\n<p><strong>1)</strong> If your <em>fire-and-forget</em> function does <strong>CPU-Bound</strong> work.\nThen you want to specify <code>Schedulers.parallel()</code> inside <code>subsribeOn()</code></p>\n<p><strong>2)</strong> If your <em>fire-and-forget</em> function does <strong>IO</strong> work (actually no matter in this case if it would be blocking or non-blocking IO).\nThen you want to specify <code>Schedulers.boundedElastic()</code> inside <code>subsribeOn()</code></p>\n<p>So, using this approach you will truly return immediately after firing your <em>fire-and-forget</em> function</p>\n"}],"owner":{"account_id":4277579,"reputation":665,"user_id":3497844,"display_name":"Avinash Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13436,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":57569541,"answer_count":3,"score":17,"last_activity_date":1694014032,"creation_date":1566272891,"question_id":57566465,"body_markdown":"I have a method like below in my Spring boot app.\r\n```java\r\npublic Flux&lt;Data&gt; search(SearchRequest request) {\r\n  Flux&lt;Data&gt; result = searchService.search(request);//this returns Flux&lt;Data&gt;\r\n  Mono&lt;List&lt;Data&gt;&gt; listOfData = result.collectList();\r\n//  doThisAsync() // here I want to pass this list and run some processing on it\r\n// the processing should happen async and the search method should return immediately.\r\n  return result;\r\n}\r\n\r\n//this method uses the complete List&lt;Data&gt; returned by above method\r\npublic void doThisAsync(List&lt;Data&gt; data) {\r\n  //do some processing here\r\n}\r\n\r\n```\r\n\r\nCurrently, I&#39;m using `@Async` annotated service class with `doThisAsync`, but don&#39;t know how to pass the `List&lt;Data&gt;`, because I don&#39;t want to call `block`.\r\nAll I have is `Mono&lt;List&lt;Data&gt;&gt;`.\r\n\r\nMy main problem is how to process this Mono separately and the `search` method should return the `Flux&lt;Data&gt;`.","title":"Fire and forget with reactor","body":"<p>I have a method like below in my Spring boot app.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Data&gt; search(SearchRequest request) {\n  Flux&lt;Data&gt; result = searchService.search(request);//this returns Flux&lt;Data&gt;\n  Mono&lt;List&lt;Data&gt;&gt; listOfData = result.collectList();\n//  doThisAsync() // here I want to pass this list and run some processing on it\n// the processing should happen async and the search method should return immediately.\n  return result;\n}\n\n//this method uses the complete List&lt;Data&gt; returned by above method\npublic void doThisAsync(List&lt;Data&gt; data) {\n  //do some processing here\n}\n\n</code></pre>\n\n<p>Currently, I'm using <code>@Async</code> annotated service class with <code>doThisAsync</code>, but don't know how to pass the <code>List&lt;Data&gt;</code>, because I don't want to call <code>block</code>.\nAll I have is <code>Mono&lt;List&lt;Data&gt;&gt;</code>.</p>\n\n<p>My main problem is how to process this Mono separately and the <code>search</code> method should return the <code>Flux&lt;Data&gt;</code>.</p>\n"},{"tags":["java","android","react-native","kotlin","grpc"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1694016781,"post_id":77053343,"comment_id":135836867,"body_markdown":"There should have been a &quot;Caused by&quot; exception with potentially more info. Most likely the key is not of a supported type. If you have the openssl command, `openssl pkey -text_pub -noout -in YOUR.KEY` might help answer which key type it is (the longer blobs of data aren&#39;t likely important).","body":"There should have been a &quot;Caused by&quot; exception with potentially more info. Most likely the key is not of a supported type. If you have the openssl command, <code>openssl pkey -text_pub -noout -in YOUR.KEY</code> might help answer which key type it is (the longer blobs of data aren&#39;t likely important)."},{"owner":{"account_id":2600873,"reputation":7574,"user_id":2253323,"accept_rate":82,"display_name":"Nikk"},"score":0,"creation_date":1694016929,"post_id":77053343,"comment_id":135836907,"body_markdown":"@EricAnderson you mean this `ASN1 OID: prime256v1` `NIST CURVE: P-256`? Do not have Caused by...","body":"@EricAnderson you mean this <code>ASN1 OID: prime256v1</code> <code>NIST CURVE: P-256</code>? Do not have Caused by..."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694020643,"post_id":77053343,"comment_id":135837634,"body_markdown":"Usually Java software expects certificates as part of a `java.security.KeyStore`. You can create a Java KeyStore instance at run-time and insert the loaded certificate into it.","body":"Usually Java software expects certificates as part of a <code>java.security.KeyStore</code>. You can create a Java KeyStore instance at run-time and insert the loaded certificate into it."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1694040460,"post_id":77053343,"comment_id":135840634,"body_markdown":"I can create such a key with `openssl genpkey -algorithm EC -out out.pem -pkeyopt ec_paramgen_curve:P-256 -pkeyopt ec_param_enc:named_curve`. On Java 8 and OkHttp, that works fine. I think this is Android-specific. Are you using the Dynamic Security Provider or Conscrypt? https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-on-android","body":"I can create such a key with <code>openssl genpkey -algorithm EC -out out.pem -pkeyopt ec_paramgen_curve:P-256 -pkeyopt ec_param_enc:named_curve</code>. On Java 8 and OkHttp, that works fine. I think this is Android-specific. Are you using the Dynamic Security Provider or Conscrypt? <a href=\"https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-on-android\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/blob/master/&hellip;</a>"},{"owner":{"account_id":2600873,"reputation":7574,"user_id":2253323,"accept_rate":82,"display_name":"Nikk"},"score":0,"creation_date":1694164687,"post_id":77053343,"comment_id":135858366,"body_markdown":"@EricAnderson I&#39;ve tried `Security.insertProviderAt(Conscrypt.newProvider(), 1);`, still getting the same error. It&#39;s just that I&#39;m reading the certificate data through react native and passing it as a string to the kotlin backend so that I can establish a grpc connection. However I cannot seem to get the certificate to be read.","body":"@EricAnderson I&#39;ve tried <code>Security.insertProviderAt(Conscrypt.newProvider(), 1);</code>, still getting the same error. It&#39;s just that I&#39;m reading the certificate data through react native and passing it as a string to the kotlin backend so that I can establish a grpc connection. However I cannot seem to get the certificate to be read."}],"owner":{"account_id":2600873,"reputation":7574,"user_id":2253323,"accept_rate":82,"display_name":"Nikk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694013849,"creation_date":1694013849,"question_id":77053343,"body_markdown":"The error I get:\r\n\r\n    io.grpc.ManagedChannelRegistry$ProviderNotFoundException: io.grpc.okhttp.OkHttpChannelProvider: Unable to load private key: Neither RSA nor EC worked\r\n\r\nI am trying to load pass the certificate as a string instead of reading a file, because it is dynamic. In order to establish a gRPC connection.\r\n\r\n\r\n    class GrpcModule(\r\n            private val certificateRoot: String,\r\n            private val certificateStr: String,\r\n            private val privateKeyStr: String,\r\n    ) {\r\n        val channel: ManagedChannel by lazy {\r\n    \r\n            val pk: InputStream = privateKeyStr.byteInputStream()\r\n            val cu: InputStream = certificateStr.byteInputStream()\r\n            val cr: InputStream = certificateRoot.byteInputStream()\r\n    \r\n            val credentials =\r\n                    TlsChannelCredentials.newBuilder()\r\n                            .keyManager(\r\n                                pk,\r\n                                cu\r\n                            )\r\n                            .trustManager(cr)\r\n                            .build()\r\n    \r\n            Grpc.newChannelBuilder(&quot;localhost:50001&quot;, credentials)\r\n                    .executor(Dispatchers.IO.asExecutor())\r\n                    .build()\r\n        }\r\n        private val stub = ReceivingGrpcKt.ReceivingCoroutineStub(channel)\r\n    \r\n        suspend fun checkId(id: String) =\r\n                try {\r\n                    val request = checkRequest { this.id = id }\r\n                    val response = stub.check(request)\r\n                    Log.d(&quot;Grpc&quot;, &quot;Success --- $response&quot;)\r\n                } catch (e: Exception) {\r\n                    Log.d(&quot;Grpc&quot;, &quot;Error --- $e&quot;)\r\n                }\r\n    \r\n        fun close() {\r\n            channel.shutdownNow()\r\n        }\r\n    }\r\n\r\nAnd I&#39;ll be calling it from a ReactNative module, like so:\r\n\r\n    class Grpc(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {\r\n    \r\n        override fun getName() = &quot;Grpc&quot;\r\n    \r\n        @ReactMethod\r\n        fun test() {\r\n    \r\n            var g =\r\n                    GrpcModule(\r\n                    &quot;&quot;&quot;\r\n                         -----BEGIN CERTIFICATE-----\r\n                         -----END CERTIFICATE-----\r\n                    &quot;&quot;&quot;.trimIndent(),\r\n                        &quot;&quot;&quot;\r\n                        -----BEGIN CERTIFICATE-----\r\n                        -----END CERTIFICATE-----\r\n                    &quot;&quot;&quot;.trimIndent(),\r\n                        &quot;&quot;&quot;\r\n                        -----BEGIN PRIVATE KEY-----\r\n                        -----END PRIVATE KEY-----\r\n                    &quot;&quot;&quot;.trimIndent(),\r\n                    )\r\n    \r\n            Log.d(&quot;Grpc&quot;, &quot;--- $g&quot;)\r\n    \r\n            runBlocking {\r\n                g.checkId(&quot;222&quot;)\r\n            }\r\n    \r\n            g.close()\r\n        }\r\n    }\r\n\r\nWhat am I doing wrong here and how can I fix this?\r\n\r\nIs this even the right way to go about it?","title":"Issues loading TLS from a string instead of a file","body":"<p>The error I get:</p>\n<pre><code>io.grpc.ManagedChannelRegistry$ProviderNotFoundException: io.grpc.okhttp.OkHttpChannelProvider: Unable to load private key: Neither RSA nor EC worked\n</code></pre>\n<p>I am trying to load pass the certificate as a string instead of reading a file, because it is dynamic. In order to establish a gRPC connection.</p>\n<pre><code>class GrpcModule(\n        private val certificateRoot: String,\n        private val certificateStr: String,\n        private val privateKeyStr: String,\n) {\n    val channel: ManagedChannel by lazy {\n\n        val pk: InputStream = privateKeyStr.byteInputStream()\n        val cu: InputStream = certificateStr.byteInputStream()\n        val cr: InputStream = certificateRoot.byteInputStream()\n\n        val credentials =\n                TlsChannelCredentials.newBuilder()\n                        .keyManager(\n                            pk,\n                            cu\n                        )\n                        .trustManager(cr)\n                        .build()\n\n        Grpc.newChannelBuilder(&quot;localhost:50001&quot;, credentials)\n                .executor(Dispatchers.IO.asExecutor())\n                .build()\n    }\n    private val stub = ReceivingGrpcKt.ReceivingCoroutineStub(channel)\n\n    suspend fun checkId(id: String) =\n            try {\n                val request = checkRequest { this.id = id }\n                val response = stub.check(request)\n                Log.d(&quot;Grpc&quot;, &quot;Success --- $response&quot;)\n            } catch (e: Exception) {\n                Log.d(&quot;Grpc&quot;, &quot;Error --- $e&quot;)\n            }\n\n    fun close() {\n        channel.shutdownNow()\n    }\n}\n</code></pre>\n<p>And I'll be calling it from a ReactNative module, like so:</p>\n<pre><code>class Grpc(reactContext: ReactApplicationContext) : ReactContextBaseJavaModule(reactContext) {\n\n    override fun getName() = &quot;Grpc&quot;\n\n    @ReactMethod\n    fun test() {\n\n        var g =\n                GrpcModule(\n                &quot;&quot;&quot;\n                     -----BEGIN CERTIFICATE-----\n                     -----END CERTIFICATE-----\n                &quot;&quot;&quot;.trimIndent(),\n                    &quot;&quot;&quot;\n                    -----BEGIN CERTIFICATE-----\n                    -----END CERTIFICATE-----\n                &quot;&quot;&quot;.trimIndent(),\n                    &quot;&quot;&quot;\n                    -----BEGIN PRIVATE KEY-----\n                    -----END PRIVATE KEY-----\n                &quot;&quot;&quot;.trimIndent(),\n                )\n\n        Log.d(&quot;Grpc&quot;, &quot;--- $g&quot;)\n\n        runBlocking {\n            g.checkId(&quot;222&quot;)\n        }\n\n        g.close()\n    }\n}\n</code></pre>\n<p>What am I doing wrong here and how can I fix this?</p>\n<p>Is this even the right way to go about it?</p>\n"},{"tags":["java","spring-boot","flyway"],"comments":[{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":1,"creation_date":1481735831,"post_id":41147768,"comment_id":69499233,"body_markdown":"Possible duplicate of [Flyway on production database - Migration Checksum mismatch](http://stackoverflow.com/questions/29920122/flyway-on-production-database-migration-checksum-mismatch)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/29920122/flyway-on-production-database-migration-checksum-mismatch\">Flyway on production database - Migration Checksum mismatch</a>"},{"owner":{"account_id":922578,"reputation":6875,"user_id":953975,"accept_rate":69,"display_name":"Seyed Morteza Mousavi"},"score":2,"creation_date":1600436862,"post_id":41147768,"comment_id":113096647,"body_markdown":"`mvn flyway:repair` solved my problem. It seems even you have not successful migration you need to remove it. Thanks to  https://stackoverflow.com/questions/41147768/caused-by-org-flywaydb-core-api-flywayexception-validate-failed-migration-che#answer-50718584","body":"<code>mvn flyway:repair</code> solved my problem. It seems even you have not successful migration you need to remove it. Thanks to  <a href=\"https://stackoverflow.com/questions/41147768/caused-by-org-flywaydb-core-api-flywayexception-validate-failed-migration-che#answer-50718584\" title=\"caused by org flywaydb core api flywayexception validate failed migration che%23answer 50718584\">stackoverflow.com/questions/41147768/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1081784,"reputation":6851,"user_id":1078565,"accept_rate":50,"display_name":"Kyle Anderson"},"down_vote_count":4,"up_vote_count":127,"is_accepted":false,"score":123,"last_activity_date":1481734088,"creation_date":1481734088,"answer_id":41147917,"question_id":41147768,"body_markdown":"Flyway is comparing the checksum of the SQL script with that of the previously run checksum.  This exception typically occurs if you change a SQL script that has already been applied by Flyway, thus causing a checksum mismatch.\r\n\r\nIf this is development, you can drop your database and start the migrations from scratch.\r\n\r\nIf you&#39;re in production, never edit SQL scripts that have already been applied.  Only create new SQL scripts going forward.","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Flyway is comparing the checksum of the SQL script with that of the previously run checksum.  This exception typically occurs if you change a SQL script that has already been applied by Flyway, thus causing a checksum mismatch.</p>\n\n<p>If this is development, you can drop your database and start the migrations from scratch.</p>\n\n<p>If you're in production, never edit SQL scripts that have already been applied.  Only create new SQL scripts going forward.</p>\n"},{"tags":[],"owner":{"account_id":2894488,"reputation":6352,"user_id":2482582,"accept_rate":80,"display_name":"Moebius"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586350539,"creation_date":1490881967,"answer_id":43119929,"question_id":41147768,"body_markdown":"IF YOU ARE NOT IN PRODUCTION, you can look in your `flywayTable` in the data base and remove the line which contain the name of the script which has been applied.\r\n\r\n`flywayTable` is a project option which define the name of the table in the db used by flyway which contain information about the version of this db, already applied scripts...","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>IF YOU ARE NOT IN PRODUCTION, you can look in your <code>flywayTable</code> in the data base and remove the line which contain the name of the script which has been applied.</p>\n\n<p><code>flywayTable</code> is a project option which define the name of the table in the db used by flyway which contain information about the version of this db, already applied scripts...</p>\n"},{"tags":[],"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1491908570,"creation_date":1491908186,"answer_id":43343967,"question_id":41147768,"body_markdown":"The best solution would be to do these steps :\r\n\r\n 1. Delete the file called - V2__create_shipwreck.sql, clean and\r\n    build the project again. \r\n 2. Run the project again, login into h2 and\r\n    delete the table called &quot;schema_version&quot;.\r\n\r\n    &gt; drop table schema_version;\r\n\r\n 3. Now make V2__create_shipwreck.sql file with ddl and rerun the project again.\r\n\r\n 4. Do remember this, add version 4.1.2 for flyway-core in pom.xml like \r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nIt should work now. Hope this will help.\r\n\r\n\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>The best solution would be to do these steps :</p>\n\n<ol>\n<li>Delete the file called - V2__create_shipwreck.sql, clean and\nbuild the project again. </li>\n<li><p>Run the project again, login into h2 and\ndelete the table called \"schema_version\".</p>\n\n<blockquote>\n  <p>drop table schema_version;</p>\n</blockquote></li>\n<li><p>Now make V2__create_shipwreck.sql file with ddl and rerun the project again.</p></li>\n<li><p>Do remember this, add version 4.1.2 for flyway-core in pom.xml like </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ol>\n\n<p>It should work now. Hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":1195219,"reputation":1031,"user_id":1167110,"display_name":"Djalas"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1522414235,"creation_date":1507556139,"answer_id":46647820,"question_id":41147768,"body_markdown":"I would simply delete from schema_version the migration/s that deviates from migrations to be applied. This way you don&#39;t throw away any test data that you might have.\r\n\r\nFor example:\r\n\r\n    SELECT * from schema_version order by installed_on desc\r\n\r\n    V_005_five.sql\r\n    V_004_four.sql\r\n    V_003_three.sql\r\n    V_002_two.sql\r\n    V_001_one.sql\r\n\r\nMigrations to be applied\r\n\r\n    V_005_five.sql\r\n    * V_004_addUserTable.sql *\r\n    V_003_three.sql\r\n    V_002_two.sql\r\n    V_001_one.sql\r\n\r\n\r\nSolution here is to delete from schema_version\r\n\r\n    V_005_five.sql\r\n    V_004_four.sql\r\n\r\nAND revert any database changes caused. for example if schema created new table then you must drop that table before you run you migrations.\r\n\r\nwhen you run flyway it will only re apply\r\n\r\n    V_005_five.sql\r\n    * V_004_addUserTable.sql *\r\n\r\nnew schema_version will be\r\n\r\n    V_005_five.sql\r\n    * V_004_addUserTable.sql *\r\n    V_003_three.sql\r\n    V_002_two.sql\r\n    V_001_one.sql\r\n\r\n\r\nHope it helps\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I would simply delete from schema_version the migration/s that deviates from migrations to be applied. This way you don't throw away any test data that you might have.</p>\n\n<p>For example:</p>\n\n<pre><code>SELECT * from schema_version order by installed_on desc\n\nV_005_five.sql\nV_004_four.sql\nV_003_three.sql\nV_002_two.sql\nV_001_one.sql\n</code></pre>\n\n<p>Migrations to be applied</p>\n\n<pre><code>V_005_five.sql\n* V_004_addUserTable.sql *\nV_003_three.sql\nV_002_two.sql\nV_001_one.sql\n</code></pre>\n\n<p>Solution here is to delete from schema_version</p>\n\n<pre><code>V_005_five.sql\nV_004_four.sql\n</code></pre>\n\n<p>AND revert any database changes caused. for example if schema created new table then you must drop that table before you run you migrations.</p>\n\n<p>when you run flyway it will only re apply</p>\n\n<pre><code>V_005_five.sql\n* V_004_addUserTable.sql *\n</code></pre>\n\n<p>new schema_version will be</p>\n\n<pre><code>V_005_five.sql\n* V_004_addUserTable.sql *\nV_003_three.sql\nV_002_two.sql\nV_001_one.sql\n</code></pre>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":10934234,"reputation":31,"user_id":8036465,"display_name":"barnold"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1516619316,"creation_date":1516619316,"answer_id":48380197,"question_id":41147768,"body_markdown":"Update your schema_version record to mach the &quot;Resolved locally&quot; value which in your case is -1729781252","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Update your schema_version record to mach the \"Resolved locally\" value which in your case is -1729781252</p>\n"},{"tags":[],"owner":{"account_id":2965843,"reputation":21,"user_id":2518993,"display_name":"M&#225;rton Szab&#243;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516622464,"creation_date":1516622464,"answer_id":48381150,"question_id":41147768,"body_markdown":"Actually there is another solution, but it&#39;s a workaround, that should not be done in a properly managed project. However I met a situation, where it was not possible to go down the better road :)\r\n\r\nYou can update the schame_version table, and actually change the checksum to the new one. This will cause the migration to go through, but can have other side effects. \r\n\r\nWhen deploying to different environments (test, uat, prod, etc) then it might happen, that you have to update the same checksum on more environments. And when it comes to gitflow, and release branches, you can easily mix up the whole.  ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Actually there is another solution, but it's a workaround, that should not be done in a properly managed project. However I met a situation, where it was not possible to go down the better road :)</p>\n\n<p>You can update the schame_version table, and actually change the checksum to the new one. This will cause the migration to go through, but can have other side effects. </p>\n\n<p>When deploying to different environments (test, uat, prod, etc) then it might happen, that you have to update the same checksum on more environments. And when it comes to gitflow, and release branches, you can easily mix up the whole.  </p>\n"},{"tags":[],"owner":{"account_id":1709965,"reputation":1324,"user_id":1568224,"display_name":"dave"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1577093299,"creation_date":1528282348,"answer_id":50718584,"question_id":41147768,"body_markdown":"I had the same issue and deleted the complete schema from the database, yet the issue remained.\r\n\r\nI solved this by running the `repair()` command of flyway:\r\n\r\n    flyway.repair();\r\n\r\nAlternatively with Flyway Maven plugin:\r\n\r\n    mvn flyway:repair\r\n\r\n\r\nMaven plugin addition into pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.4&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBTW: I did not find what exactly went wrong.\r\n\r\n\r\nWith Gradle (as per comment from [Raf][1]):\r\n\r\n    ./gradlew flywayRepair\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1225551/raf","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I had the same issue and deleted the complete schema from the database, yet the issue remained.</p>\n\n<p>I solved this by running the <code>repair()</code> command of flyway:</p>\n\n<pre><code>flyway.repair();\n</code></pre>\n\n<p>Alternatively with Flyway Maven plugin:</p>\n\n<pre><code>mvn flyway:repair\n</code></pre>\n\n<p>Maven plugin addition into pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.2.4&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>BTW: I did not find what exactly went wrong.</p>\n\n<p>With Gradle (as per comment from <a href=\"https://stackoverflow.com/users/1225551/raf\">Raf</a>):</p>\n\n<pre><code>./gradlew flywayRepair\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533147062,"creation_date":1533147062,"answer_id":51639758,"question_id":41147768,"body_markdown":"Flyway changed the way it calculates the checksums from version 3 to version 5. You can re-calculate the checksums. Since the Flyway plugin doesn&#39;t properly read the Spring datasource properties, you have to manually specify them on the command line ([or one of the other various ways Flyway accepts](https://flywaydb.org/documentation/maven/#system-properties)). \r\n\r\n    mvn flyway:repair -Dflyway.user=root -Dflyway.password= -Dflyway.url=jdbc:mysql://localhost:3306/mydatabase -Dflyway.table=schema_version\r\n\r\nFlyway also changed the table it stores the checksums, so you also have to specify `flyway-table=schema_version` to use your old table, or else it will give you a warning (and probably an error in version 6).\r\n\r\n\r\n    [INFO] Repairing Schema History table for version 2 (Description: create sources, Type: SQL, Checksum: 2125962141)  ...\r\n    [INFO] Repairing Schema History table for version 3 (Description: create stats, Type: SQL, Checksum: 389912194)  ...\r\n    [INFO] Repairing Schema History table for version 4 (Description: add user encrypted, Type: SQL, Checksum: 182607572)  ...\r\n    ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Flyway changed the way it calculates the checksums from version 3 to version 5. You can re-calculate the checksums. Since the Flyway plugin doesn't properly read the Spring datasource properties, you have to manually specify them on the command line (<a href=\"https://flywaydb.org/documentation/maven/#system-properties\" rel=\"nofollow noreferrer\">or one of the other various ways Flyway accepts</a>). </p>\n\n<pre><code>mvn flyway:repair -Dflyway.user=root -Dflyway.password= -Dflyway.url=jdbc:mysql://localhost:3306/mydatabase -Dflyway.table=schema_version\n</code></pre>\n\n<p>Flyway also changed the table it stores the checksums, so you also have to specify <code>flyway-table=schema_version</code> to use your old table, or else it will give you a warning (and probably an error in version 6).</p>\n\n<pre><code>[INFO] Repairing Schema History table for version 2 (Description: create sources, Type: SQL, Checksum: 2125962141)  ...\n[INFO] Repairing Schema History table for version 3 (Description: create stats, Type: SQL, Checksum: 389912194)  ...\n[INFO] Repairing Schema History table for version 4 (Description: add user encrypted, Type: SQL, Checksum: 182607572)  ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1548270175,"creation_date":1548270175,"answer_id":54334026,"question_id":41147768,"body_markdown":"If you are sure that the modification in the SQL file has no impact on your existing schema, you can also update the checksum of the existing schema.\r\n\r\nI did this following a slight change in the sql file.\r\n\r\nHere is how I updated the checksum:\r\n\r\n    update flyway_schema_history set checksum = &#39;-1934991199&#39; where installed_rank = &#39;1&#39;;\r\n\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>If you are sure that the modification in the SQL file has no impact on your existing schema, you can also update the checksum of the existing schema.</p>\n\n<p>I did this following a slight change in the sql file.</p>\n\n<p>Here is how I updated the checksum:</p>\n\n<pre><code>update flyway_schema_history set checksum = '-1934991199' where installed_rank = '1';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3957080,"reputation":21,"user_id":3265213,"display_name":"Eliran_Mesika"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554547223,"creation_date":1554547223,"answer_id":55548255,"question_id":41147768,"body_markdown":"simple solution will be change spring.datasource.url=jdbc:h2:file:~/dasboot in application.properties to new file name like : spring.datasource.url=jdbc:h2:file:~/**dasboots**\r\n\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>simple solution will be change spring.datasource.url=jdbc:h2:file:~/dasboot in application.properties to new file name like : spring.datasource.url=jdbc:h2:file:~/<strong>dasboots</strong></p>\n"},{"tags":[],"owner":{"account_id":7320129,"reputation":390,"user_id":7023095,"display_name":"R0b0t0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561232527,"creation_date":1561232527,"answer_id":56718600,"question_id":41147768,"body_markdown":"1-Delete the migration file.\r\n2-connect to your database and drop the table created by the migration.\r\n3-recreate the file of the migration with the the right sql.\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>1-Delete the migration file.\n2-connect to your database and drop the table created by the migration.\n3-recreate the file of the migration with the the right sql.</p>\n"},{"tags":[],"owner":{"account_id":12523187,"reputation":31,"user_id":9113895,"display_name":"agent74"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561270605,"creation_date":1561270605,"answer_id":56721505,"question_id":41147768,"body_markdown":"I had the same issue and I believe this occurred because of checksum between linux and windows (also mac).\r\nyou can `use repair()` command in flyway.\r\n\r\n    flyway.repair();\r\n\r\nBe careful , if you are in production environment , make sure that you did not change the migration SQL file; because when you run the `flyway.repair();` it means you saying to flyway that your are sure about the migration version and their checksum and then the flyway repair them !","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I had the same issue and I believe this occurred because of checksum between linux and windows (also mac).\nyou can <code>use repair()</code> command in flyway.</p>\n\n<pre><code>flyway.repair();\n</code></pre>\n\n<p>Be careful , if you are in production environment , make sure that you did not change the migration SQL file; because when you run the <code>flyway.repair();</code> it means you saying to flyway that your are sure about the migration version and their checksum and then the flyway repair them !</p>\n"},{"tags":[],"owner":{"account_id":2802343,"reputation":621,"user_id":2410353,"display_name":"Deepak Nair"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1567161151,"creation_date":1567161151,"answer_id":57725089,"question_id":41147768,"body_markdown":"Here the solution which worked for me when I had this issue in my local system.\r\n\r\n 1. Go to flyway_schema_history in your DB \r\n 2. Delete the row containing the sql migration script","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Here the solution which worked for me when I had this issue in my local system.</p>\n\n<ol>\n<li>Go to flyway_schema_history in your DB </li>\n<li>Delete the row containing the sql migration script</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16810797,"reputation":1,"user_id":12153866,"display_name":"Turco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570747134,"creation_date":1570747134,"answer_id":58331999,"question_id":41147768,"body_markdown":"If you have your problem in production, you must have **V2__create_shipwreck.sql** identically to the one you have in your latest version where it has not been modified.\r\n\r\nThen the checksum will be correct again","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>If you have your problem in production, you must have <strong>V2__create_shipwreck.sql</strong> identically to the one you have in your latest version where it has not been modified.</p>\n\n<p>Then the checksum will be correct again</p>\n"},{"tags":[],"owner":{"account_id":10984830,"reputation":41,"user_id":8070899,"display_name":"Vinesh Gowda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581674641,"creation_date":1581674641,"answer_id":60224095,"question_id":41147768,"body_markdown":"Just add\r\n\r\n    spring.flyway.enabled=false\r\n\r\nin application.properties file if you do not want flyway to check the checksum every time you run the application. ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Just add</p>\n\n<pre><code>spring.flyway.enabled=false\n</code></pre>\n\n<p>in application.properties file if you do not want flyway to check the checksum every time you run the application. </p>\n"},{"tags":[],"owner":{"account_id":10452784,"reputation":41,"user_id":7705847,"display_name":"Prudvi Raj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1582760648,"creation_date":1582745366,"answer_id":60421170,"question_id":41147768,"body_markdown":"use this query in your local DB.\r\n\r\n1. select * from schema_version\r\n   delete from schema_version where **checksum Column** =  -1729781252;\r\n\r\n Note: -1729781252 is the &quot;Resolved locally&quot; value.\r\n\r\n1. Build and start the server.         ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>use this query in your local DB.</p>\n\n<ol>\n<li><p>select * from schema_version\ndelete from schema_version where <strong>checksum Column</strong> =  -1729781252;</p>\n\n<p>Note: -1729781252 is the \"Resolved locally\" value.</p></li>\n<li><p>Build and start the server.         </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2294433,"reputation":75,"user_id":2016255,"display_name":"Alvaro"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589069670,"creation_date":1589069670,"answer_id":61705533,"question_id":41147768,"body_markdown":"What I did when faced this issue, was connect to DB and update the checksum field correspondent to the mistaken version, putting there the value resolved locally by FlyWay.\r\n\r\nFor the following error:\r\n\r\n    nested exception is org.flywaydb.core.api.FlywayException: Validate failed.\r\n    Migration Checksum mismatch for migration 1.12\r\n        -&gt; Applied to database : 1029320280\r\n        -&gt; Resolved locally    : -236187247\r\n\r\nI simply did this:\r\n\r\n    UPDATE schema_version SET checksum = -236187247 WHERE version_rank = 12 AND checksum = 1029320280;\r\n\r\nAnd problem solved..\r\n\r\n**NOTE:** You have to be sure your schema is actually correct, check your tables and their structure, if everything is OK, then you can apply this solution; otherwise, you should repair your schema manually first using plain and native SQL.\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>What I did when faced this issue, was connect to DB and update the checksum field correspondent to the mistaken version, putting there the value resolved locally by FlyWay.</p>\n\n<p>For the following error:</p>\n\n<pre><code>nested exception is org.flywaydb.core.api.FlywayException: Validate failed.\nMigration Checksum mismatch for migration 1.12\n    -&gt; Applied to database : 1029320280\n    -&gt; Resolved locally    : -236187247\n</code></pre>\n\n<p>I simply did this:</p>\n\n<pre><code>UPDATE schema_version SET checksum = -236187247 WHERE version_rank = 12 AND checksum = 1029320280;\n</code></pre>\n\n<p>And problem solved..</p>\n\n<p><strong>NOTE:</strong> You have to be sure your schema is actually correct, check your tables and their structure, if everything is OK, then you can apply this solution; otherwise, you should repair your schema manually first using plain and native SQL.</p>\n"},{"tags":[],"owner":{"account_id":11439295,"reputation":679,"user_id":8385477,"display_name":"srp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589214586,"creation_date":1589214586,"answer_id":61734578,"question_id":41147768,"body_markdown":"I had the same issue and tried all the options (delete schema, delete specific row, update checksum) but nothing works.  \r\n\r\nIn my case flyway-core dependency got corrupted somehow.\r\n\r\n\r\n\r\nSolution:\r\n\r\n\r\n1. Delete flyway-core folder from ~\\.m2\\local repository path...\\org\\flywaydb\\flyway-core. \r\n\r\n\r\n\r\n2. Execute &quot;maven clean install&quot; so that it will download new one and add it into a project.\r\n\r\n\r\n\r\nI hope this will help.","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I had the same issue and tried all the options (delete schema, delete specific row, update checksum) but nothing works.  </p>\n\n<p>In my case flyway-core dependency got corrupted somehow.</p>\n\n<p>Solution:</p>\n\n<ol>\n<li><p>Delete flyway-core folder from ~.m2\\local repository path...\\org\\flywaydb\\flyway-core. </p></li>\n<li><p>Execute \"maven clean install\" so that it will download new one and add it into a project.</p></li>\n</ol>\n\n<p>I hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":1652456,"reputation":1,"user_id":1522754,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589429595,"creation_date":1589429595,"answer_id":61789188,"question_id":41147768,"body_markdown":"There are 3 ways to solve this issue while development. Any one from below can solve this issue.&lt;BR&gt;\r\n1) provide the changes in new migration sql file with incrementing version &lt;BR&gt;\r\n2) change the schema name in db url we provide &lt;BR&gt;\r\n   datasource.flyway.url=jdbc:h2:file:~/cart3  &lt;BR&gt;\r\n   datasource.flyway.url=jdbc:h2:file:~/cart4  &lt;BR&gt;\r\n3) delete the .mv and .trace files in users home directory    &lt;BR&gt;\r\n   ex: cart3.mv  and cart3.trace   under c://users/username/","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>There are 3 ways to solve this issue while development. Any one from below can solve this issue.<BR>\n1) provide the changes in new migration sql file with incrementing version <BR>\n2) change the schema name in db url we provide <BR>\n   datasource.flyway.url=jdbc:h2:file:~/cart3  <BR>\n   datasource.flyway.url=jdbc:h2:file:~/cart4  <BR>\n3) delete the .mv and .trace files in users home directory    <BR>\n   ex: cart3.mv  and cart3.trace   under c://users/username/</p>\n"},{"tags":[],"owner":{"account_id":13771751,"reputation":49,"user_id":9939009,"display_name":"Ch&#226;nh&#233;ng Seang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590669532,"creation_date":1590669532,"answer_id":62064909,"question_id":41147768,"body_markdown":"just don&#39;t validate:\r\n```java\r\nflyway.setValidateOnMigrate(false);\r\n```","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>just don't validate:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>flyway.setValidateOnMigrate(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24238330,"reputation":442,"user_id":18191094,"display_name":"Henry S."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644693124,"creation_date":1644693124,"answer_id":71095020,"question_id":41147768,"body_markdown":"After your .sql applied to DB, you edited the .sql, flyway may show this error.\r\n\r\nIf using Postgresql, a quick solution\r\n\r\nAfter dropping tables &quot;flyway_schema_histrory&quot; and the table my .sql created, the error disappeared.\r\n[delete table][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bjJZM.png","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>After your .sql applied to DB, you edited the .sql, flyway may show this error.</p>\n<p>If using Postgresql, a quick solution</p>\n<p>After dropping tables &quot;flyway_schema_histrory&quot; and the table my .sql created, the error disappeared.\n<a href=\"https://i.stack.imgur.com/bjJZM.png\" rel=\"nofollow noreferrer\">delete table</a></p>\n"},{"tags":[],"owner":{"account_id":482463,"reputation":6669,"user_id":896886,"accept_rate":41,"display_name":"Andrew Koper"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1694013640,"creation_date":1651089606,"answer_id":72034622,"question_id":41147768,"body_markdown":"I fixed this error with these steps:\r\n\r\n 1. In your database, go to the flyway_schema_history table \r\n 2. Delete the last row containing the most recent flyway migration script (&quot;V6__xxx&quot; or whatever)\r\n 3. Start your application.  I got another flyway error message that was kind of a dump of SQL to insert some rows in some tables.\r\n 4. Go to those tables and delete those new rows.\r\n\r\nI think the flyway migration script was trying to run, but it had already run once.  It was trying to do the same thing again - insert the same rows - and that was the final conflict/error.  Deleting those rows allowed it to run normally/successfully","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I fixed this error with these steps:</p>\n<ol>\n<li>In your database, go to the flyway_schema_history table</li>\n<li>Delete the last row containing the most recent flyway migration script (&quot;V6__xxx&quot; or whatever)</li>\n<li>Start your application.  I got another flyway error message that was kind of a dump of SQL to insert some rows in some tables.</li>\n<li>Go to those tables and delete those new rows.</li>\n</ol>\n<p>I think the flyway migration script was trying to run, but it had already run once.  It was trying to do the same thing again - insert the same rows - and that was the final conflict/error.  Deleting those rows allowed it to run normally/successfully</p>\n"},{"tags":[],"owner":{"account_id":12975493,"reputation":1,"user_id":9379640,"display_name":"Sanjeev Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655217853,"creation_date":1655217853,"answer_id":72618993,"question_id":41147768,"body_markdown":"I have faced similar issue once. And the solution was... \r\n\r\nDon&#39;t do any changes to DAO classes.. .It will try to change the database and flyway will not allow. ","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I have faced similar issue once. And the solution was...</p>\n<p>Don't do any changes to DAO classes.. .It will try to change the database and flyway will not allow.</p>\n"},{"tags":[],"owner":{"account_id":24204123,"reputation":19,"user_id":18161563,"display_name":"husnitdin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674838529,"creation_date":1674838529,"answer_id":75261104,"question_id":41147768,"body_markdown":"Believe or not, adding flyway dependency version solved my issue","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>Believe or not, adding flyway dependency version solved my issue</p>\n"},{"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680274735,"creation_date":1680274735,"answer_id":75899986,"question_id":41147768,"body_markdown":"As of writing this in 2023, I am using **Flyway 8.5.13** and I faced this issue when I tried to change the script that had already executed.\r\n\r\n**What caused the issue:**\r\n\r\nI changed name of the primary key column in V1 SQL script (after it had already been executed).\r\n\r\n**How I resolved it:**\r\n1. By undoing the changes I made to primary key column. Basically making V1 script same as it was before execution.\r\n2. Added a new V2 sql file for changing the primary key column name.\r\n3. Execute\r\n\r\nHope it helps\r\n","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>As of writing this in 2023, I am using <strong>Flyway 8.5.13</strong> and I faced this issue when I tried to change the script that had already executed.</p>\n<p><strong>What caused the issue:</strong></p>\n<p>I changed name of the primary key column in V1 SQL script (after it had already been executed).</p>\n<p><strong>How I resolved it:</strong></p>\n<ol>\n<li>By undoing the changes I made to primary key column. Basically making V1 script same as it was before execution.</li>\n<li>Added a new V2 sql file for changing the primary key column name.</li>\n<li>Execute</li>\n</ol>\n<p>Hope it helps</p>\n"}],"owner":{"display_name":"user5707585"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239725,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"answer_count":25,"score":112,"last_activity_date":1694013640,"creation_date":1481733696,"question_id":41147768,"body_markdown":"I tried to find the solution for the below problem, but none of them worked for me. I am developing **Angular + Spring Boot** application using **MySQL + flyway**. Please guide whats going wrong here.\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\r\n    -&gt; Applied to database : 1499248173\r\n    -&gt; Resolved locally    : -1729781252\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:764) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.doRun(SpringApplication.java:357) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1124) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1113) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat com.boot.App.main(App.java:9) [classes/:na]\r\n    Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\r\n    -&gt; Applied to database : 1499248173\r\n    -&gt; Resolved locally    : -1729781252\r\n    \tat org.flywaydb.core.Flyway.doValidate(Flyway.java:1108) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\r\n    \tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \t... 18 common frames omitted\r\n\r\n**application.properties**\r\n\r\n    logging.level.org.springframework.web=DEBUG\r\n    \r\n    server.port=8080\r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2\r\n    \r\n    ## For H2 DB\r\n    #spring.datasource.url=jdbc:h2:file:~/dasboot\r\n    #spring.datasource.username=sa\r\n    #spring.datasource.password=\r\n    #spring.datasource.driver-class-name=org.h2.Driver\r\n    \r\n    ## For MYSQL DB\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/dasboot\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    spring.datasource.max-active=10\r\n    spring.datasource.max-idle=8\r\n    spring.datasource.max-wait=10000\r\n    spring.datasource.min-evictable-idle-time-millis=1000\r\n    spring.datasource.min-idle=8\r\n    spring.datasource.time-between-eviction-runs-millis=1\r\n    \r\n    flyway.baseline-on-migrate=true\r\n    spring.jpa.hibernate.ddl-auto=false;\r\n    \r\n    #datasource.flyway.url=jdbc:h2:file:~/dasboot\r\n    #datasource.flyway.username=sa\r\n    #datasource.flyway.password=\r\n    #datasource.flyway.driver-class-name=org.h2.Driver\r\n    \r\n    \r\n    datasource.flyway.url=jdbc:mysql://localhost:3306/dasboot\r\n    datasource.flyway.username=root\r\n    datasource.flyway.password=root\r\n    datasource.flyway.driver-class-name=com.mysql.jdbc.Driver\r\n\r\n**pom.xml**\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;name&gt;das-boot&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\n**V2__create_shipwreck.sql**\r\n\r\n    -- For H2 DB\r\n    --CREATE TABLE SHIPWRECK(\r\n    --\tID INT AUTO_INCREMENT,\r\n    --\tNAME VARCHAR(255),\r\n    --\tDESCRIPTION VARCHAR(2000),\r\n    --\tCONDITION VARCHAR(255),\r\n    --\tDEPTH INT,\r\n    --\tLATITUDE DOUBLE,\r\n    --\tLONGITUDE DOUBLE,\r\n    --\tYEAR_DISCOVERED INT\r\n    --);\r\n    \r\n    CREATE TABLE `dasboot`.`shipwreck` (\r\n      `ID` INT NOT NULL AUTO_INCREMENT,\r\n      `NAME` VARCHAR(255) NULL,\r\n      `DESCRIPTION` VARCHAR(2000) NULL,\r\n      `CONDITION` VARCHAR(255) NULL,\r\n      `DEPTH` INT NULL,\r\n      `LATITUDE` DOUBLE NULL,\r\n      `LONGITUDE` DOUBLE NULL,\r\n      `YEAR_DISCOVERED` INT NULL,\r\n      PRIMARY KEY (`ID`));\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QXWut.png","title":"Caused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2","body":"<p>I tried to find the solution for the below problem, but none of them worked for me. I am developing <strong>Angular + Spring Boot</strong> application using <strong>MySQL + flyway</strong>. Please guide whats going wrong here.</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\n-&gt; Applied to database : 1499248173\n-&gt; Resolved locally    : -1729781252\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:764) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.doRun(SpringApplication.java:357) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1124) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1113) [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at com.boot.App.main(App.java:9) [classes/:na]\nCaused by: org.flywaydb.core.api.FlywayException: Validate failed. Migration Checksum mismatch for migration 2\n-&gt; Applied to database : 1499248173\n-&gt; Resolved locally    : -1729781252\n    at org.flywaydb.core.Flyway.doValidate(Flyway.java:1108) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.3.1.RELEASE.jar:1.3.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574) ~[spring-beans-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    ... 18 common frames omitted\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>logging.level.org.springframework.web=DEBUG\n\nserver.port=8080\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2\n\n## For H2 DB\n#spring.datasource.url=jdbc:h2:file:~/dasboot\n#spring.datasource.username=sa\n#spring.datasource.password=\n#spring.datasource.driver-class-name=org.h2.Driver\n\n## For MYSQL DB\nspring.datasource.url=jdbc:mysql://localhost:3306/dasboot\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\nspring.datasource.max-active=10\nspring.datasource.max-idle=8\nspring.datasource.max-wait=10000\nspring.datasource.min-evictable-idle-time-millis=1000\nspring.datasource.min-idle=8\nspring.datasource.time-between-eviction-runs-millis=1\n\nflyway.baseline-on-migrate=true\nspring.jpa.hibernate.ddl-auto=false;\n\n#datasource.flyway.url=jdbc:h2:file:~/dasboot\n#datasource.flyway.username=sa\n#datasource.flyway.password=\n#datasource.flyway.driver-class-name=org.h2.Driver\n\n\ndatasource.flyway.url=jdbc:mysql://localhost:3306/dasboot\ndatasource.flyway.username=root\ndatasource.flyway.password=root\ndatasource.flyway.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;das-boot&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>V2__create_shipwreck.sql</strong></p>\n\n<pre><code>-- For H2 DB\n--CREATE TABLE SHIPWRECK(\n--  ID INT AUTO_INCREMENT,\n--  NAME VARCHAR(255),\n--  DESCRIPTION VARCHAR(2000),\n--  CONDITION VARCHAR(255),\n--  DEPTH INT,\n--  LATITUDE DOUBLE,\n--  LONGITUDE DOUBLE,\n--  YEAR_DISCOVERED INT\n--);\n\nCREATE TABLE `dasboot`.`shipwreck` (\n  `ID` INT NOT NULL AUTO_INCREMENT,\n  `NAME` VARCHAR(255) NULL,\n  `DESCRIPTION` VARCHAR(2000) NULL,\n  `CONDITION` VARCHAR(255) NULL,\n  `DEPTH` INT NULL,\n  `LATITUDE` DOUBLE NULL,\n  `LONGITUDE` DOUBLE NULL,\n  `YEAR_DISCOVERED` INT NULL,\n  PRIMARY KEY (`ID`));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QXWut.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QXWut.png\" alt=\"enter image description here\"></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9794,"page":198,"page_size":100}
