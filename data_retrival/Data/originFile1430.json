{"items":[{"tags":["java","unit-testing","kotlin","testing","mockito"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1649954364,"post_id":71874951,"comment_id":127010335,"body_markdown":"What do you think the error message mean?","body":"What do you think the error message mean?"},{"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"score":0,"creation_date":1649954797,"post_id":71874951,"comment_id":127010487,"body_markdown":"I think it&#39;s about doesn&#39;t match anylist() this save((Mutable)List&lt;ShopPartnerPayment?&gt;!). This save() it&#39;s by default in the repositoy, I&#39;m not sure how to fix it.","body":"I think it&#39;s about doesn&#39;t match anylist() this save((Mutable)List&lt;ShopPartnerPayment?&gt;!). This save() it&#39;s by default in the repositoy, I&#39;m not sure how to fix it."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1649959804,"post_id":71874951,"comment_id":127011986,"body_markdown":"Does ``anyList&lt;ShopPartnerPayment&gt;()`` help? (Maybe the type needs to be nullable too)","body":"Does <code>anyList&lt;ShopPartnerPayment&gt;()</code> help? (Maybe the type needs to be nullable too)"},{"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"score":0,"creation_date":1649960849,"post_id":71874951,"comment_id":127012253,"body_markdown":"Hi, mm it&#39;s not possible anyList&lt;ShopPartnerPayment&gt;() but this works, ty.\nvar list = listOf&lt;ShopPartnerPayment&gt;()\nverify(shopPartnerPaymentRepository, never())?.save(list)","body":"Hi, mm it&#39;s not possible anyList&lt;ShopPartnerPayment&gt;() but this works, ty. var list = listOf&lt;ShopPartnerPayment&gt;() verify(shopPartnerPaymentRepository, never())?.save(list)"}],"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649954194,"creation_date":1649954194,"question_id":71874951,"body_markdown":"I&#39;m doing a test class(kotlin). This class is based on another one that was written in java and in that one I haven&#39;t had this problem.\r\n\r\nHere is my test class.\r\n```\r\npackage com.fourtwenty.core.services.mgmt\r\n\r\nimport ...\r\nimport org.mockito.*\r\nimport org.mockito.runners.MockitoJUnitRunner\r\nimport java.lang.Exception\r\nimport java.util.ArrayList\r\n\r\nimport org.junit.Assert.assertEquals\r\n\r\nimport org.mockito.Matchers.anyString\r\n\r\nimport org.mockito.Mockito.*\r\n\r\n\r\n@RunWith(MockitoJUnitRunner::class)\r\nclass ShopPartnerPaymentServiceTest {\r\n    var shopPartnerPaymentService: ShopPartnerPaymentServiceImpl? = null\r\n\r\n    @Mock\r\n    var shopPartnerPaymentRepository: ShopPartnerPaymentRepository? = null\r\n\r\n    ...\r\n    \r\n    @Test\r\n    fun should_updateShopPartnerPayment_When_CallToFunction() {\r\n        //given\r\n        val shopPartnerPayment = ShopPartnerPayment()\r\n        ...\r\n        //when\r\n        Mockito.`when`(shopPartnerPaymentRepository!!.listByShop(anyString(), anyString()))\r\n            .thenReturn(existingShopPartnerPayments)\r\n        ...\r\n        //then\r\n        verify(shopPartnerPaymentRepository, never())?.save(anyList())\r\n        ...\r\n    }\r\n\r\n```\r\nBut in the last line. In verify(...)?.save(anyList())\r\nI got this error: \r\n\r\nNone of the following functions can be called with the arguments supplied.\r\n\r\n - save(ShopPartnerPayment?) defined in\r\n   com.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository\r\n - save((Mutable)List&lt;ShopPartnerPayment?&gt;!) defined in\r\n   com.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository\r\n\r\n\r\nSo, here is the repository class.\r\n```\r\npackage ...company\r\n\r\nimport ...mongo.MongoShopBaseRepository\r\nimport ...ShopPartnerPayment\r\n\r\ninterface ShopPartnerPaymentRepository : MongoShopBaseRepository&lt;ShopPartnerPayment?&gt;\r\n```\r\nAnd here impl btw. This last class is in Java.\r\n```\r\npackage ...company.impl;\r\n\r\nimport ...MongoDb;\r\nimport ...ShopPartnerPayment;\r\nimport ...impl.ShopBaseRepositoryImpl;\r\nimport ...company.ShopPartnerPaymentRepository;\r\n\r\nimport javax.inject.Inject;\r\n\r\npublic class ShopPartnerPaymentRepositoryImpl extends ShopBaseRepositoryImpl&lt;ShopPartnerPayment&gt; implements ShopPartnerPaymentRepository {\r\n\r\n    @Inject\r\n    public ShopPartnerPaymentRepositoryImpl(MongoDb mongoManager) throws Exception {\r\n        super(ShopPartnerPayment.class, mongoManager);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Error on .save() while I&#39;m doing my test class in kotlin","body":"<p>I'm doing a test class(kotlin). This class is based on another one that was written in java and in that one I haven't had this problem.</p>\n<p>Here is my test class.</p>\n<pre><code>package com.fourtwenty.core.services.mgmt\n\nimport ...\nimport org.mockito.*\nimport org.mockito.runners.MockitoJUnitRunner\nimport java.lang.Exception\nimport java.util.ArrayList\n\nimport org.junit.Assert.assertEquals\n\nimport org.mockito.Matchers.anyString\n\nimport org.mockito.Mockito.*\n\n\n@RunWith(MockitoJUnitRunner::class)\nclass ShopPartnerPaymentServiceTest {\n    var shopPartnerPaymentService: ShopPartnerPaymentServiceImpl? = null\n\n    @Mock\n    var shopPartnerPaymentRepository: ShopPartnerPaymentRepository? = null\n\n    ...\n    \n    @Test\n    fun should_updateShopPartnerPayment_When_CallToFunction() {\n        //given\n        val shopPartnerPayment = ShopPartnerPayment()\n        ...\n        //when\n        Mockito.`when`(shopPartnerPaymentRepository!!.listByShop(anyString(), anyString()))\n            .thenReturn(existingShopPartnerPayments)\n        ...\n        //then\n        verify(shopPartnerPaymentRepository, never())?.save(anyList())\n        ...\n    }\n\n</code></pre>\n<p>But in the last line. In verify(...)?.save(anyList())\nI got this error:</p>\n<p>None of the following functions can be called with the arguments supplied.</p>\n<ul>\n<li>save(ShopPartnerPayment?) defined in\ncom.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository</li>\n<li>save((Mutable)List&lt;ShopPartnerPayment?&gt;!) defined in\ncom.fourtwenty.core.domain.repositories.company.ShopPartnerPaymentRepository</li>\n</ul>\n<p>So, here is the repository class.</p>\n<pre><code>package ...company\n\nimport ...mongo.MongoShopBaseRepository\nimport ...ShopPartnerPayment\n\ninterface ShopPartnerPaymentRepository : MongoShopBaseRepository&lt;ShopPartnerPayment?&gt;\n</code></pre>\n<p>And here impl btw. This last class is in Java.</p>\n<pre><code>package ...company.impl;\n\nimport ...MongoDb;\nimport ...ShopPartnerPayment;\nimport ...impl.ShopBaseRepositoryImpl;\nimport ...company.ShopPartnerPaymentRepository;\n\nimport javax.inject.Inject;\n\npublic class ShopPartnerPaymentRepositoryImpl extends ShopBaseRepositoryImpl&lt;ShopPartnerPayment&gt; implements ShopPartnerPaymentRepository {\n\n    @Inject\n    public ShopPartnerPaymentRepositoryImpl(MongoDb mongoManager) throws Exception {\n        super(ShopPartnerPayment.class, mongoManager);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","math","compiler-construction","operator-precedence"],"comments":[{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1649947991,"post_id":71872538,"comment_id":127007890,"body_markdown":"The correct output would be `t1 = 5 / 3` then `t2 = 5 + t1`. `5+5` is wrong wherever it appears.","body":"The correct output would be <code>t1 = 5 &#47; 3</code> then <code>t2 = 5 + t1</code>. <code>5+5</code> is wrong wherever it appears."},{"owner":{"account_id":24633556,"reputation":7,"user_id":18532498,"display_name":"zed unseened"},"score":0,"creation_date":1649953332,"post_id":71872538,"comment_id":127009961,"body_markdown":"@rici yes you are correct but in that case, could you demonstrate how to do it correctly through the use of code cause I&#39;m still not sure how to implement it in java.","body":"@rici yes you are correct but in that case, could you demonstrate how to do it correctly through the use of code cause I&#39;m still not sure how to implement it in java."},{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1649959254,"post_id":71872538,"comment_id":127011829,"body_markdown":"First suggestion: separate the logic for identifying input tokens (numbers, operators, parentheses) from the parser and the code generator. You have three separate tasks; keep them separate. For the parser, there are lots of relevant questions here already: https://stackoverflow.com/search?q=Shunting+yard+java","body":"First suggestion: separate the logic for identifying input tokens (numbers, operators, parentheses) from the parser and the code generator. You have three separate tasks; keep them separate. For the parser, there are lots of relevant questions here already: <a href=\"https://stackoverflow.com/search?q=Shunting+yard+java\">stackoverflow.com/search?q=Shunting+yard+java</a>"}],"owner":{"account_id":24633556,"reputation":7,"user_id":18532498,"display_name":"zed unseened"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649953562,"creation_date":1649943316,"question_id":71872538,"body_markdown":"So I am basically trying to create an intermediate code generation in java. My code will take in user input and will try to print out the intermediate code generation representation of the code for example:\r\n```\r\ntheinputwillbe: 5+5/3 \r\noutput will be: t1=5/3 \r\n                t2=5+t1\r\n```\r\nhere is the sample code\r\n```\r\n      public static void main(String[] args) {\r\n      String str1;\r\n      Scanner str = new Scanner(System.in);\r\n      System.out.println(&quot; &quot;);\r\n      System.out.println(&quot;Enter String (Containing 0 to 9 and/or operators: +,/,*,-)&quot;);\r\n    str1 = str.nextLine();\r\n     int len1=str1.length();\r\n     int pp, pp2, pp0,j=0;\r\n     for(pp=0;pp&lt;len1;pp++)\r\n      {     \r\n          if (pp+1 == len1) pp2 = len1-1; else pp2 = pp+1;\r\n          if( str1.charAt(pp) == &#39;/&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1);  \r\n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         if( str1.charAt(pp) == &#39;*&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \r\n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         if( str1.charAt(pp) == &#39;+&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \r\n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         if( str1.charAt(pp) == &#39;-&#39;) {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \r\n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\r\n         //j++;\r\n         }\r\n        }\r\n      }\r\n\r\n\r\n```\r\nThis is the output i am getting\r\n```\r\nEnter String (Containing 0 to 9 and/or operators: +,/,*,-)\r\n5+5/3\r\nt1= 5+5\r\nt2= 5/3\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nThe output i am getting is incorrect because its not following the rules of BEDMAS The correct way  it should be is:\r\n```\r\nt1=5/3\r\nt2=5+t1\r\n\r\n```\r\n\r\nCould someone please assist me to fix this code so it prints out the output the correct way","title":"Trying to implement Bedmas functionality into my code","body":"<p>So I am basically trying to create an intermediate code generation in java. My code will take in user input and will try to print out the intermediate code generation representation of the code for example:</p>\n<pre><code>theinputwillbe: 5+5/3 \noutput will be: t1=5/3 \n                t2=5+t1\n</code></pre>\n<p>here is the sample code</p>\n<pre><code>      public static void main(String[] args) {\n      String str1;\n      Scanner str = new Scanner(System.in);\n      System.out.println(&quot; &quot;);\n      System.out.println(&quot;Enter String (Containing 0 to 9 and/or operators: +,/,*,-)&quot;);\n    str1 = str.nextLine();\n     int len1=str1.length();\n     int pp, pp2, pp0,j=0;\n     for(pp=0;pp&lt;len1;pp++)\n      {     \n          if (pp+1 == len1) pp2 = len1-1; else pp2 = pp+1;\n          if( str1.charAt(pp) == '/') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1);  \n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         if( str1.charAt(pp) == '*') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         if( str1.charAt(pp) == '+') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \n           j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         if( str1.charAt(pp) == '-') {char t11 = str1.charAt(pp-1); char t12= str1.charAt(pp+1); \n          j++; System.out.println(&quot;t&quot;+j+&quot;= &quot; + t11 + str1.charAt(pp) + t12); }\n         //j++;\n         }\n        }\n      }\n\n\n</code></pre>\n<p>This is the output i am getting</p>\n<pre><code>Enter String (Containing 0 to 9 and/or operators: +,/,*,-)\n5+5/3\nt1= 5+5\nt2= 5/3\n\nProcess finished with exit code 0\n</code></pre>\n<p>The output i am getting is incorrect because its not following the rules of BEDMAS The correct way  it should be is:</p>\n<pre><code>t1=5/3\nt2=5+t1\n\n</code></pre>\n<p>Could someone please assist me to fix this code so it prints out the output the correct way</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649931651,"post_id":71869975,"comment_id":127001812,"body_markdown":"that name is irrelevant. and no, they won&#39;t overwrite each other.","body":"that name is irrelevant. and no, they won&#39;t overwrite each other."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":4,"creation_date":1649931657,"post_id":71869975,"comment_id":127001817,"body_markdown":"Objects don&#39;t have names, variables have names and the compiler will tell you if you try to declare the same variable name twice in the same scope (barring all sorts of special overriding and shadowing cases).","body":"Objects don&#39;t have names, variables have names and the compiler will tell you if you try to declare the same variable name twice in the same scope (barring all sorts of special overriding and shadowing cases)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1649932106,"post_id":71869975,"comment_id":127001973,"body_markdown":"`if (participants.size() &lt; 100) {`. You might consider returning a boolean, whether added.","body":"<code>if (participants.size() &lt; 100) {</code>. You might consider returning a boolean, whether added."}],"answers":[{"tags":[],"owner":{"account_id":24250709,"reputation":390,"user_id":18201731,"display_name":"stht55 "},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649931888,"creation_date":1649931888,"answer_id":71870085,"question_id":71869975,"body_markdown":"`Person participant = new Person(name, age);` \r\n\r\ninside the function creates a local object. \r\nThis object is initialized with the arguments \r\nfrom your function namely `String name, int age`.\r\n\r\nHowever, your condition `if (i&lt;100) {...}` will always be true. \r\nYou initialize the local variable `int i = 0;` and then \r\nexecute the code in the if-case which will always be the case.\r\n\r\nIf you where to write a for-loop like this: \r\n\r\n```Java\r\nfor (int i = 0; i &lt; 100; i++){\r\n... }\r\n```\r\nYou would create the same participant (same name and age given in the arguments in the function) 100 times. ","title":"Naming objects different names when creating in a method","body":"<p><code>Person participant = new Person(name, age);</code></p>\n<p>inside the function creates a local object.\nThis object is initialized with the arguments\nfrom your function namely <code>String name, int age</code>.</p>\n<p>However, your condition <code>if (i&lt;100) {...}</code> will always be true.\nYou initialize the local variable <code>int i = 0;</code> and then\nexecute the code in the if-case which will always be the case.</p>\n<p>If you where to write a for-loop like this:</p>\n<pre><code>for (int i = 0; i &lt; 100; i++){\n... }\n</code></pre>\n<p>You would create the same participant (same name and age given in the arguments in the function) 100 times.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649953551,"creation_date":1649944090,"answer_id":71872736,"question_id":71869975,"body_markdown":"The [Answer by stht55][1] is correct and important. Objects do not have a name while reference variables do. \r\n\r\nAlso note that your code is instantiating a `Person` object and then immediately discarding it after extracting the name. So there is no point to calling `new Person` in that code. \r\n\r\n# Loop collection\r\n\r\nOne solution is to loop the collection, interrogating each contained object for its member field `name` to see if it is a match. \r\n\r\n    List&lt; Person &gt; persons = \r\n        List.of(\r\n            new Person( &quot;Alice&quot; , 42 ) ,\r\n            new Person( &quot;Bob&quot; , 28 )\r\n        )\r\n    ;\r\n    for( Person p : persons ) {\r\n        if( p.getName().equals( &quot;Bob&quot; ) { … we have a match … }\r\n    }\r\n\r\n\r\n# `Map`\r\n\r\nPerhaps the data structure you want is a [`Map`][2], a pairing of a *key* object that leans to *value* object. \r\n\r\n    Map &lt; String , Person &gt; map = new HashMap&lt;&gt;() ;\r\n\r\nTo use it, pass the name as *key*, and pass a new `Person` object as *value*. \r\n\r\n    map.put( name , new Person( name , age ) ) ;\r\n\r\nRetrieval. \r\n\r\n    Person p = map.get( &quot;Bob&quot; ) ;\r\n\r\nBeware of multiple objects coincidentally sharing the same key. In your case, several people might share the name “Bob”, but the map can store only one value per key. One way around this is to use a [*multimap*][3], where the value paired with the key is a collection of value objects rather than a single. This has been covered many times already on Stack Overflow, so search to learn more. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71870085/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\r\n  [3]: https://en.wikipedia.org/wiki/Multimap","title":"Naming objects different names when creating in a method","body":"<p>The <a href=\"https://stackoverflow.com/a/71870085/642706\">Answer by stht55</a> is correct and important. Objects do not have a name while reference variables do.</p>\n<p>Also note that your code is instantiating a <code>Person</code> object and then immediately discarding it after extracting the name. So there is no point to calling <code>new Person</code> in that code.</p>\n<h1>Loop collection</h1>\n<p>One solution is to loop the collection, interrogating each contained object for its member field <code>name</code> to see if it is a match.</p>\n<pre><code>List&lt; Person &gt; persons = \n    List.of(\n        new Person( &quot;Alice&quot; , 42 ) ,\n        new Person( &quot;Bob&quot; , 28 )\n    )\n;\nfor( Person p : persons ) {\n    if( p.getName().equals( &quot;Bob&quot; ) { … we have a match … }\n}\n</code></pre>\n<h1><code>Map</code></h1>\n<p>Perhaps the data structure you want is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>, a pairing of a <em>key</em> object that leans to <em>value</em> object.</p>\n<pre><code>Map &lt; String , Person &gt; map = new HashMap&lt;&gt;() ;\n</code></pre>\n<p>To use it, pass the name as <em>key</em>, and pass a new <code>Person</code> object as <em>value</em>.</p>\n<pre><code>map.put( name , new Person( name , age ) ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>Person p = map.get( &quot;Bob&quot; ) ;\n</code></pre>\n<p>Beware of multiple objects coincidentally sharing the same key. In your case, several people might share the name “Bob”, but the map can store only one value per key. One way around this is to use a <a href=\"https://en.wikipedia.org/wiki/Multimap\" rel=\"nofollow noreferrer\"><em>multimap</em></a>, where the value paired with the key is a collection of value objects rather than a single. This has been covered many times already on Stack Overflow, so search to learn more.</p>\n"}],"owner":{"account_id":24881656,"reputation":9,"user_id":18754786,"display_name":"cjz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1649953551,"creation_date":1649931311,"question_id":71869975,"body_markdown":"I&#39;m trying to create a Person-object inside of a method called on, and then i want to add that person to a list of participants. \r\n```\r\npublic void addPerson(String name, int age){\r\n        //Adding person in a list of participants, capping it at 99 participants\r\n        int i = 0;\r\n        if (i&lt;100) {\r\n            Person participant = new Person(name, age);\r\n            participants.add(participant.getName());  \r\n            this.newest= deltager;\r\n            i++;     \r\n        }\r\n    }\r\n```\r\nIf i want to call on a specific participant after having filled up the list, how would i name the object so that they won&#39;t all be called &quot;participant&quot;? Wouldn&#39;t the object be overridden every time i add a new person, because the name of it would be the same? ","title":"Naming objects different names when creating in a method","body":"<p>I'm trying to create a Person-object inside of a method called on, and then i want to add that person to a list of participants.</p>\n<pre><code>public void addPerson(String name, int age){\n        //Adding person in a list of participants, capping it at 99 participants\n        int i = 0;\n        if (i&lt;100) {\n            Person participant = new Person(name, age);\n            participants.add(participant.getName());  \n            this.newest= deltager;\n            i++;     \n        }\n    }\n</code></pre>\n<p>If i want to call on a specific participant after having filled up the list, how would i name the object so that they won't all be called &quot;participant&quot;? Wouldn't the object be overridden every time i add a new person, because the name of it would be the same?</p>\n"},{"tags":["java","eclipse","spring-boot","maven","cxf-codegen-plugin"],"answers":[{"tags":[],"owner":{"account_id":6516145,"reputation":1,"user_id":5041908,"display_name":"Rome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597070451,"creation_date":1595097437,"answer_id":62972379,"question_id":62019855,"body_markdown":"Use JDK to compile instead of jre.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"cxf-codegen-plugin could not find artifact com.sun:tools:jar:1.8.0 from C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar","body":"<p>Use JDK to compile instead of jre.</p>\n"},{"tags":[],"owner":{"account_id":2922632,"reputation":2034,"user_id":3540652,"display_name":"Mumrah81"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649952988,"creation_date":1595099901,"answer_id":62972801,"question_id":62019855,"body_markdown":"Sometimes maven plugins use the JAVA_HOME environment variable to use jdk&#39;s tools.\r\n\r\nFrom my understanding your system define a JAVA_HOME environment variable pointing to a JRE.\r\n\r\nPossible solutions:\r\n\r\n- Delete the JAVA_HOME environment variable or update the value to a compliant JDK\r\n- Use maven toolchain configuration if &quot;cxf-codegen-plugin&quot; allows it\r\n\r\n","title":"cxf-codegen-plugin could not find artifact com.sun:tools:jar:1.8.0 from C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar","body":"<p>Sometimes maven plugins use the JAVA_HOME environment variable to use jdk's tools.</p>\n<p>From my understanding your system define a JAVA_HOME environment variable pointing to a JRE.</p>\n<p>Possible solutions:</p>\n<ul>\n<li>Delete the JAVA_HOME environment variable or update the value to a compliant JDK</li>\n<li>Use maven toolchain configuration if &quot;cxf-codegen-plugin&quot; allows it</li>\n</ul>\n"}],"owner":{"account_id":1705504,"reputation":139,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649952988,"creation_date":1590488337,"question_id":62019855,"body_markdown":"I am using a springboot application and generating stub using cxf codegen plugin.\r\nI have JDK_HOME configured to run my springboot project.\r\n\r\nAfter upgrading the cxf-version from 3.2.4 to 3.3.6, I see the below error in my pom.xml.\r\n\r\n```\r\nExecution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar (org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java:generate-sources:generate-sources)\r\n\r\norg.apache.maven.plugin.PluginExecutionException: Execution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:109)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\r\n\tat org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\r\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\r\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\r\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\r\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\r\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:218)\r\n\tat org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:149)\r\n\tat org.eclipse.m2e.core.internal.project.registry.EclipsePluginDependenciesResolver.resolve(EclipsePluginDependenciesResolver.java:59)\r\n\tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.createPluginRealm(DefaultMavenPluginManager.java:402)\r\n\tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.setupPluginRealm(DefaultMavenPluginManager.java:374)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.getPluginRealm(DefaultBuildPluginManager.java:234)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:105)\r\n\t... 30 more\r\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:422)\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:224)\r\n\tat org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:338)\r\n\tat org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:210)\r\n\t... 36 more\r\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:264)\r\n\t... 39 more \r\n```\r\n\r\nWhen I tried reducing the cxf version all the way till 3.3.2, this issue doesn&#39;t appear.\r\nAlso, this error is not a build-breaker, but unable to get out of my head whenever I see that my pom.xml is seen with red marker.\r\n\r\nAny help would be appreciated\r\n\r\nmy pom.xml\r\n\r\n```\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n&lt;executions&gt;\r\n\t&lt;execution&gt;\r\n\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;sourceRoot&gt;${project.build.directory}/generated-sources/cxf\r\n\t\t\t&lt;/sourceRoot&gt;\r\n\t\t\t&lt;wsdlOptions&gt;\r\n\t\t\t\t&lt;wsdlOption&gt;\r\n\t\t\t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/META-INF/wsdl/test.wsdl\r\n\t\t\t\t\t&lt;/wsdl&gt;\r\n\t\t\t\t\t&lt;frontEnd&gt;jaxws21&lt;/frontEnd&gt;\r\n\t\t\t\t\t&lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\r\n\t\t\t\t\t&lt;extraargs&gt;\r\n\t\t\t\t\t\t&lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n\t\t\t\t\t\t&lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n\t\t\t\t\t&lt;/extraargs&gt;\r\n\t\t\t\t&lt;/wsdlOption&gt;\r\n\t\t\t&lt;/wsdlOptions&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t&lt;/execution&gt;\r\n&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"cxf-codegen-plugin could not find artifact com.sun:tools:jar:1.8.0 from C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar","body":"<p>I am using a springboot application and generating stub using cxf codegen plugin.\nI have JDK_HOME configured to run my springboot project.</p>\n\n<p>After upgrading the cxf-version from 3.2.4 to 3.3.6, I see the below error in my pom.xml.</p>\n\n<pre><code>Execution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar (org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java:generate-sources:generate-sources)\n\norg.apache.maven.plugin.PluginExecutionException: Execution generate-sources of goal org.apache.cxf:cxf-codegen-plugin:3.3.6:wsdl2java failed: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:109)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\n    at org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\n    at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\n    at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.cxf:cxf-codegen-plugin:3.3.6 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:218)\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:149)\n    at org.eclipse.m2e.core.internal.project.registry.EclipsePluginDependenciesResolver.resolve(EclipsePluginDependenciesResolver.java:59)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.createPluginRealm(DefaultMavenPluginManager.java:402)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.setupPluginRealm(DefaultMavenPluginManager.java:374)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.getPluginRealm(DefaultBuildPluginManager.java:234)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:105)\n    ... 30 more\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:422)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:224)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:338)\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:210)\n    ... 36 more\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.sun:tools:jar:1.8.0 at specified path C:\\Program Files\\Java\\jre1.8.0_251/../lib/tools.jar\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:264)\n    ... 39 more \n</code></pre>\n\n<p>When I tried reducing the cxf version all the way till 3.3.2, this issue doesn't appear.\nAlso, this error is not a build-breaker, but unable to get out of my head whenever I see that my pom.xml is seen with red marker.</p>\n\n<p>Any help would be appreciated</p>\n\n<p>my pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n&lt;version&gt;${cxf.version}&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;generate-sources&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;sourceRoot&gt;${project.build.directory}/generated-sources/cxf\n            &lt;/sourceRoot&gt;\n            &lt;wsdlOptions&gt;\n                &lt;wsdlOption&gt;\n                    &lt;wsdl&gt;${basedir}/src/main/resources/META-INF/wsdl/test.wsdl\n                    &lt;/wsdl&gt;\n                    &lt;frontEnd&gt;jaxws21&lt;/frontEnd&gt;\n                    &lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\n                    &lt;extraargs&gt;\n                        &lt;extraarg&gt;-client&lt;/extraarg&gt;\n                        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                    &lt;/extraargs&gt;\n                &lt;/wsdlOption&gt;\n            &lt;/wsdlOptions&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","try-catch","infinite"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1649953192,"post_id":71874659,"comment_id":127009918,"body_markdown":"Aside from the issue you&#39;re having: don&#39;t throw an exception only to catch it again immediately. Handle the thing that&#39;s wrong.","body":"Aside from the issue you&#39;re having: don&#39;t throw an exception only to catch it again immediately. Handle the thing that&#39;s wrong."},{"owner":{"account_id":24936914,"reputation":1,"user_id":18803371,"display_name":"vromm"},"score":0,"creation_date":1649953587,"post_id":71874659,"comment_id":127010061,"body_markdown":"Oh yes greatly thank you very much. You saved me there I&#39;ve been stuck with this problem for hours now. Once again thank you","body":"Oh yes greatly thank you very much. You saved me there I&#39;ve been stuck with this problem for hours now. Once again thank you"}],"owner":{"account_id":24936914,"reputation":1,"user_id":18803371,"display_name":"vromm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649953199,"answer_count":0,"score":0,"last_activity_date":1649952789,"creation_date":1649952789,"question_id":71874659,"body_markdown":"I think my code is doing alright except for the second catch exception which loops infinitely and I don&#39;t know why. I want it to loop again but like the first catch where after it catches an exception it loops back to the user input, but the second catch doesn&#39;t do it, it just loops infinitely.\r\n\r\nhere is what I did\r\n```\r\nimport java.util.*;\r\nimport java.util.*;\r\nclass OutofBounds extends Exception{\r\n    public OutofBounds(){\r\n        super(&quot;Out of range&quot;);\r\n    }\r\n}\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      Scanner in = new Scanner(System.in);\r\n      int count = 0;\r\n      int min = 1;\r\n      int max = 50;\r\n      int ran = (int)(Math.random()*(max-min)) + min;\r\n      int ent;\r\n      do{\r\n      System.out.println(&quot;Guess the number from 1 to 50.&quot;);\r\n      try{\r\n          do{\r\n          ent = in.nextInt();\r\n          count++;\r\n          if(ent &gt; ran &amp;&amp; ent &lt; max){\r\n              System.out.println(&quot;Too high. Try again.&quot;);\r\n          }else if(ent &lt; ran &amp;&amp; ent &gt; min){\r\n              System.out.println(&quot;Too low. Try again.&quot;);\r\n          }else if(ent &lt; 1 || ent &gt; 50){\r\n              throw new OutofBounds();\r\n          }\r\n          }while(ent!=ran);\r\n          System.out.println(&quot;You got it in &quot; + count + &quot; attempt(s).&quot;);\r\n      }\r\n      catch(OutofBounds exe){\r\n          System.out.println(exe.getMessage());\r\n      }\r\n      catch(InputMismatchException ex){\r\n          System.out.println(&quot;Invalid input.&quot;);\r\n      }\r\n    }while(true);\r\n    }\r\n```\r\n    \r\n\r\n\r\n","title":"second catch exception loops infinetely","body":"<p>I think my code is doing alright except for the second catch exception which loops infinitely and I don't know why. I want it to loop again but like the first catch where after it catches an exception it loops back to the user input, but the second catch doesn't do it, it just loops infinitely.</p>\n<p>here is what I did</p>\n<pre><code>import java.util.*;\nimport java.util.*;\nclass OutofBounds extends Exception{\n    public OutofBounds(){\n        super(&quot;Out of range&quot;);\n    }\n}\npublic class MyClass {\n    public static void main(String args[]) {\n      Scanner in = new Scanner(System.in);\n      int count = 0;\n      int min = 1;\n      int max = 50;\n      int ran = (int)(Math.random()*(max-min)) + min;\n      int ent;\n      do{\n      System.out.println(&quot;Guess the number from 1 to 50.&quot;);\n      try{\n          do{\n          ent = in.nextInt();\n          count++;\n          if(ent &gt; ran &amp;&amp; ent &lt; max){\n              System.out.println(&quot;Too high. Try again.&quot;);\n          }else if(ent &lt; ran &amp;&amp; ent &gt; min){\n              System.out.println(&quot;Too low. Try again.&quot;);\n          }else if(ent &lt; 1 || ent &gt; 50){\n              throw new OutofBounds();\n          }\n          }while(ent!=ran);\n          System.out.println(&quot;You got it in &quot; + count + &quot; attempt(s).&quot;);\n      }\n      catch(OutofBounds exe){\n          System.out.println(exe.getMessage());\n      }\n      catch(InputMismatchException ex){\n          System.out.println(&quot;Invalid input.&quot;);\n      }\n    }while(true);\n    }\n</code></pre>\n"},{"tags":["java","algorithm","arraylist","graph","java-stream"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649695307,"creation_date":1649694608,"answer_id":71831268,"question_id":71831102,"body_markdown":"You should do something like a depth-first or breadth-first search (*):\r\n\r\n* Maintain a `Set&lt;Integer&gt;` containing all the people you have already seen.\r\n* Maintain a queue of some kind (e.g. an `ArrayDeque`), of people you are going to check.\r\n* Put the first person (or any number of people, actually) into this queue.\r\n* Then, while the queue is not empty:\r\n  * Take the next person in the queue\r\n  * If you&#39;ve already seen them, go to the next item in the queue\r\n  * If you&#39;ve not already seen them, put the person into the seen set; add all of their mentees into the queue\r\n\r\nThat&#39;s it. The number of people at the end is the size of the seen set.\r\n\r\n---\r\n\r\n(*) Whether you do depth-first or breadth-first search depends on which end of the queue you add mentees to: adding them to the same end that you remove them from results in depth-first search; adding them to the other end results in breadth-first search. If you don&#39;t care which, choose either.","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>You should do something like a depth-first or breadth-first search (*):</p>\n<ul>\n<li>Maintain a <code>Set&lt;Integer&gt;</code> containing all the people you have already seen.</li>\n<li>Maintain a queue of some kind (e.g. an <code>ArrayDeque</code>), of people you are going to check.</li>\n<li>Put the first person (or any number of people, actually) into this queue.</li>\n<li>Then, while the queue is not empty:\n<ul>\n<li>Take the next person in the queue</li>\n<li>If you've already seen them, go to the next item in the queue</li>\n<li>If you've not already seen them, put the person into the seen set; add all of their mentees into the queue</li>\n</ul>\n</li>\n</ul>\n<p>That's it. The number of people at the end is the size of the seen set.</p>\n<hr />\n<p>(*) Whether you do depth-first or breadth-first search depends on which end of the queue you add mentees to: adding them to the same end that you remove them from results in depth-first search; adding them to the other end results in breadth-first search. If you don't care which, choose either.</p>\n"},{"tags":[],"owner":{"account_id":17015788,"reputation":278,"user_id":12309729,"display_name":"acornTime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649696888,"creation_date":1649696888,"answer_id":71831752,"question_id":71831102,"body_markdown":"I would recommend using good object oriented design, you shouldn&#39;t just use integer id&#39;s like that, because in this situation you could simply make an ArrayList of Person objects Where Mentees, and Mentors Inherit from Person. Then you can check if a Person is an instance of Mentee versus Mentor:\r\n```\r\nfor (Person p : people) {\r\n    if (p instanceof Mentor)\r\n    {\r\n        // Mentor logic\r\n    }\r\n    if (p instanceof Mentee)\r\n    {\r\n        // Mentee Logic\r\n    }\r\n}\r\n```","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>I would recommend using good object oriented design, you shouldn't just use integer id's like that, because in this situation you could simply make an ArrayList of Person objects Where Mentees, and Mentors Inherit from Person. Then you can check if a Person is an instance of Mentee versus Mentor:</p>\n<pre><code>for (Person p : people) {\n    if (p instanceof Mentor)\n    {\n        // Mentor logic\n    }\n    if (p instanceof Mentee)\n    {\n        // Mentee Logic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649724117,"creation_date":1649722607,"answer_id":71835620,"question_id":71831102,"body_markdown":"Firstly, let&#39;s briefly recap the task.\r\n\r\n*You have a set of mentors, each mentor has a collection of mentees. Some of them might happen also to be mentors and so on.*\r\n\r\n&lt;h3&gt;Class design&lt;/h3&gt;\r\n\r\nFrom the perspective of class design, the solution is pretty simple: you need only one class to describe this relationship - `Mentor`. And each `Mentor` should hold a reference to a collection of `Mentor`s (not integer ids). \r\n\r\nIn your domain model, as you described it, there&#39;s no substantial difference between a mentor and a mentee. Mentor points to other mentors - is a simplest way to model that. Mentee is just an edge case, a mentor which has an empty collection of mentors.\r\n\r\nYou don&#39;t need to include classes and features in your application that doesn&#39;t bring benefit.\r\n\r\n&lt;h3&gt;Data structure&lt;/h3&gt;\r\n\r\nFrom the perspective of data structures, this problem can be described very well with an *acyclic disjointed* **Graph**.\r\n\r\n*Acyclic* because if we consider the relationship between mentors when a mentor could indirectly point at themself (i.e. a mentor `N` has a mentee, with in tern points to another mentee that happens to be also a mentor of mentor `N`) the task becomes ambiguous. Therefore, I&#39;m making an assumption that no one can be a mentor to himself.\r\n\r\nI also depicted this data structure as *disjointed* because mentors in this model (*as well as in real life*) can form isolated groups, which in graph theory called *connected components*. That means that there could be several mentors with the same count of mentee, which happens to be the largest.\r\n\r\n&lt;h3&gt;Depth first search&lt;/h3&gt;\r\n\r\nIn order to find all the vertices (*mentors*) connected with a particular mentor, we have a classic traversal algorithm, which is called *Depth first search* (DFS). The core idea of DFS is to peek a single *neighbor* of the given *vertex*, then in turn peek one of its *neighbors* and so on until the hit the *vertex* that doesn&#39;t point to the other *vertex* (i.e. maximum depth is reached). And then it should be done with every other *neighbors* of the previously visited *vertices*.\r\n\r\nThere are two ways to implement DFS.\r\n\r\n**Iterative approach**\r\n\r\nFor that, we need a *stack*. It will store all unvisited *neighbors* of the previously encountered *vertexes*. The last *vertex* from each list of *neighbors* in every *branch* will be explored first because it will be placed on the top of the *stack*. Then it will get removed from the *stack* and it&#39;s *neighbors* will be placed on the *stack*. This process repeats in a loop until the *stack* contains at least one element.\r\n\r\nThe most performant choice of collection for the stack is `ArrayDeque`.\r\n\r\nBecause this approach require continuous modification of the *stack* by adding and removing *vertices*, it isn&#39;t suitable to be implemented with Stream IPA.\r\n\r\n**Recursive approach**\r\n\r\nThe overall principle is the same as described above, but we don&#39;t need to provide a stack explosively. The call stack of the JVM will be utilized for that purpose.\r\n\r\nWith this approach, there&#39;s also some room to apply streams. For that reason, I&#39;ve chosen the recursive implementation. Also, its code is probably a bit easier to understand. But keep in mind that recursion has certain limitations, especially in Java, and not suitable for processing a large set of data.\r\n\r\n&lt;h3&gt;Recursion&lt;/h3&gt;\r\n\r\nA quick recap on recursion. \r\n\r\nEvery recursive implementation consists of two parts:\r\n\r\n* **Base case** - that represents a simple edge-case for which the outcome is known in advance. For this task, the *base case* is the given *vertex* has no *neighbors*. That means `menteesCount` of this vertex needs to be set to `0` because it has no *mentee*. And the return value for the *base case* is `1` because this *vertex*, in turn, is a valid *mentee* of another *vertex* that holds a reference to it.\r\n* **Recursive case** - a part of a solution where *recursive calls* a made and where the main logic resides.\r\n\r\n*The recursive case* could be implemented using *streams* and entails recursive invocation of the for every *neighbor* of the *given vertex*. Each of these values will contribute to the `menteesCount` of the *given vertex*.\r\n\r\nThe value returned by the method will be `menteesCount + 1` because for the *vertex* which triggered this method call, the *given vertex* will be a *mentee* as well as its *mentees*.\r\n\r\n&lt;h3&gt;Implementation&lt;/h3&gt;\r\n\r\nClass mentor basically serves as a vertex of the graph. Each vertex has a unique `id` and collection of adjacent vertexes.\r\n\r\nAlso, in order to reuse values obtained by performing DFS I&#39;ve added a *field* `menteesCount` which is initially initialized to `-1` in order to distinguish between *vertices* that has no *adjacent vertices* (i.e. `menteesCount` has to be `0`) and *vertices* which value wasn&#39;t calculated. Every value will be established only ones and then reused (*another approach will be to utilize a map for that purpose*).\r\n\r\nMethod `getTopMentors()` iterates over the collection of *vertices* and invokes DFS for every *vertex* which value wasn&#39;t calculated yet. This method returns a list of *mentors* with the highest number of associated *mentees*\r\n\r\nMethod `addMentor()` that takes a *vertex id*, and *id* of its *neighbors* (*if any*) was added in order to interact with the *graph* in a convenient way.\r\n\r\nMap `mentorById` contains every *vertex* that was added in the *graph* and, as its name suggests, allows retrieving it based on the *vertex id*.\r\n```\r\npublic class MentorGraph {\r\n    private Map&lt;Integer, Mentor&gt; mentorById = new HashMap&lt;&gt;();\r\n    \r\n    public void addMentor(int mentorId, int... menteeIds) {\r\n        Mentor mentor = mentorById.computeIfAbsent(mentorId, Mentor::new);\r\n        for (int menteeId: menteeIds) {\r\n            mentor.addMentee(mentorById.computeIfAbsent(menteeId, Mentor::new));\r\n        }\r\n    }\r\n    \r\n    public List&lt;Mentor&gt; getTopMentors() {\r\n        List&lt;Mentor&gt; topMentors = new ArrayList&lt;&gt;();\r\n        for (Mentor mentor: mentorById.values()) {\r\n            if (mentor.getCount() != -1) continue;\r\n            performDFS(mentor);\r\n    \r\n            if (topMentors.isEmpty() || mentor.getCount() == topMentors.get(0).getCount()) {\r\n                topMentors.add(mentor);\r\n        \r\n            } else if (mentor.getCount() &gt; topMentors.get(0).getCount()) {\r\n    \r\n                topMentors.clear();\r\n                topMentors.add(mentor);\r\n            }\r\n        }\r\n        return topMentors;\r\n    }\r\n    \r\n    private int performDFS(Mentor mentor) {\r\n        if (mentor.getCount() == -1 &amp;&amp; mentor.getMentees().isEmpty()) { // base case\r\n            mentor.setCount(0);\r\n            return 1;\r\n        }\r\n        \r\n        int menteeCount = // recursive case\r\n            mentor.getMentees().stream()\r\n                .mapToInt(m -&gt; m.getCount() == -1 ? performDFS(m) : m.getCount() + 1)\r\n                .sum();\r\n        \r\n        mentor.setCount(menteeCount);\r\n        return menteeCount + 1;\r\n    }\r\n    \r\n    public static class Mentor {\r\n        private int id;\r\n        private Set&lt;Mentor&gt; mentees = new HashSet&lt;&gt;();\r\n        private int menteesCount = -1;\r\n        \r\n        public Mentor(int id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        public boolean addMentee(Mentor mentee) {\r\n            return mentees.add(mentee);\r\n        }\r\n    \r\n        // getters, setter for menteesCount, equeals/hashCode\r\n    }\r\n}\r\n```\r\n\r\nAn ***example*** of the *graph* used as a *demo*.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n`main()` - the code models the graph shown above\r\n\r\n    public static void main(String[] args) {\r\n        MentorGraph graph = new MentorGraph();\r\n\r\n        graph.addMentor(1, 3, 4);\r\n        graph.addMentor(2, 5, 6, 7);\r\n        graph.addMentor(3, 8, 9);\r\n        graph.addMentor(4, 10);\r\n        graph.addMentor(5, 11, 12);\r\n        graph.addMentor(6);\r\n        graph.addMentor(7, 13, 14);\r\n        graph.addMentor(8);\r\n        graph.addMentor(9, 16, 17, 18);\r\n        graph.addMentor(10);\r\n        graph.addMentor(11, 18);\r\n        graph.addMentor(12);\r\n        graph.addMentor(13);\r\n        graph.addMentor(14, 19, 20);\r\n        graph.addMentor(15);\r\n        graph.addMentor(16, 21, 22);\r\n        graph.addMentor(17);\r\n        graph.addMentor(18);\r\n        graph.addMentor(19);\r\n        graph.addMentor(20);\r\n        graph.addMentor(21);\r\n        graph.addMentor(22);\r\n        \r\n        graph.getTopMentors()\r\n             .forEach(m -&gt; System.out.printf(&quot;mentorId: %d\\tmentees: %d\\n&quot;, m.getId(), m.getCount()));\r\n    }\r\n\r\n**Output**\r\n```\r\nmentorId: 1\tmentees: 10\r\nmentorId: 2\tmentees: 10\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/6eXJNl.jpg","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>Firstly, let's briefly recap the task.</p>\n<p><em>You have a set of mentors, each mentor has a collection of mentees. Some of them might happen also to be mentors and so on.</em></p>\n<h3>Class design</h3>\n<p>From the perspective of class design, the solution is pretty simple: you need only one class to describe this relationship - <code>Mentor</code>. And each <code>Mentor</code> should hold a reference to a collection of <code>Mentor</code>s (not integer ids).</p>\n<p>In your domain model, as you described it, there's no substantial difference between a mentor and a mentee. Mentor points to other mentors - is a simplest way to model that. Mentee is just an edge case, a mentor which has an empty collection of mentors.</p>\n<p>You don't need to include classes and features in your application that doesn't bring benefit.</p>\n<h3>Data structure</h3>\n<p>From the perspective of data structures, this problem can be described very well with an <em>acyclic disjointed</em> <strong>Graph</strong>.</p>\n<p><em>Acyclic</em> because if we consider the relationship between mentors when a mentor could indirectly point at themself (i.e. a mentor <code>N</code> has a mentee, with in tern points to another mentee that happens to be also a mentor of mentor <code>N</code>) the task becomes ambiguous. Therefore, I'm making an assumption that no one can be a mentor to himself.</p>\n<p>I also depicted this data structure as <em>disjointed</em> because mentors in this model (<em>as well as in real life</em>) can form isolated groups, which in graph theory called <em>connected components</em>. That means that there could be several mentors with the same count of mentee, which happens to be the largest.</p>\n<h3>Depth first search</h3>\n<p>In order to find all the vertices (<em>mentors</em>) connected with a particular mentor, we have a classic traversal algorithm, which is called <em>Depth first search</em> (DFS). The core idea of DFS is to peek a single <em>neighbor</em> of the given <em>vertex</em>, then in turn peek one of its <em>neighbors</em> and so on until the hit the <em>vertex</em> that doesn't point to the other <em>vertex</em> (i.e. maximum depth is reached). And then it should be done with every other <em>neighbors</em> of the previously visited <em>vertices</em>.</p>\n<p>There are two ways to implement DFS.</p>\n<p><strong>Iterative approach</strong></p>\n<p>For that, we need a <em>stack</em>. It will store all unvisited <em>neighbors</em> of the previously encountered <em>vertexes</em>. The last <em>vertex</em> from each list of <em>neighbors</em> in every <em>branch</em> will be explored first because it will be placed on the top of the <em>stack</em>. Then it will get removed from the <em>stack</em> and it's <em>neighbors</em> will be placed on the <em>stack</em>. This process repeats in a loop until the <em>stack</em> contains at least one element.</p>\n<p>The most performant choice of collection for the stack is <code>ArrayDeque</code>.</p>\n<p>Because this approach require continuous modification of the <em>stack</em> by adding and removing <em>vertices</em>, it isn't suitable to be implemented with Stream IPA.</p>\n<p><strong>Recursive approach</strong></p>\n<p>The overall principle is the same as described above, but we don't need to provide a stack explosively. The call stack of the JVM will be utilized for that purpose.</p>\n<p>With this approach, there's also some room to apply streams. For that reason, I've chosen the recursive implementation. Also, its code is probably a bit easier to understand. But keep in mind that recursion has certain limitations, especially in Java, and not suitable for processing a large set of data.</p>\n<h3>Recursion</h3>\n<p>A quick recap on recursion.</p>\n<p>Every recursive implementation consists of two parts:</p>\n<ul>\n<li><strong>Base case</strong> - that represents a simple edge-case for which the outcome is known in advance. For this task, the <em>base case</em> is the given <em>vertex</em> has no <em>neighbors</em>. That means <code>menteesCount</code> of this vertex needs to be set to <code>0</code> because it has no <em>mentee</em>. And the return value for the <em>base case</em> is <code>1</code> because this <em>vertex</em>, in turn, is a valid <em>mentee</em> of another <em>vertex</em> that holds a reference to it.</li>\n<li><strong>Recursive case</strong> - a part of a solution where <em>recursive calls</em> a made and where the main logic resides.</li>\n</ul>\n<p><em>The recursive case</em> could be implemented using <em>streams</em> and entails recursive invocation of the for every <em>neighbor</em> of the <em>given vertex</em>. Each of these values will contribute to the <code>menteesCount</code> of the <em>given vertex</em>.</p>\n<p>The value returned by the method will be <code>menteesCount + 1</code> because for the <em>vertex</em> which triggered this method call, the <em>given vertex</em> will be a <em>mentee</em> as well as its <em>mentees</em>.</p>\n<h3>Implementation</h3>\n<p>Class mentor basically serves as a vertex of the graph. Each vertex has a unique <code>id</code> and collection of adjacent vertexes.</p>\n<p>Also, in order to reuse values obtained by performing DFS I've added a <em>field</em> <code>menteesCount</code> which is initially initialized to <code>-1</code> in order to distinguish between <em>vertices</em> that has no <em>adjacent vertices</em> (i.e. <code>menteesCount</code> has to be <code>0</code>) and <em>vertices</em> which value wasn't calculated. Every value will be established only ones and then reused (<em>another approach will be to utilize a map for that purpose</em>).</p>\n<p>Method <code>getTopMentors()</code> iterates over the collection of <em>vertices</em> and invokes DFS for every <em>vertex</em> which value wasn't calculated yet. This method returns a list of <em>mentors</em> with the highest number of associated <em>mentees</em></p>\n<p>Method <code>addMentor()</code> that takes a <em>vertex id</em>, and <em>id</em> of its <em>neighbors</em> (<em>if any</em>) was added in order to interact with the <em>graph</em> in a convenient way.</p>\n<p>Map <code>mentorById</code> contains every <em>vertex</em> that was added in the <em>graph</em> and, as its name suggests, allows retrieving it based on the <em>vertex id</em>.</p>\n<pre><code>public class MentorGraph {\n    private Map&lt;Integer, Mentor&gt; mentorById = new HashMap&lt;&gt;();\n    \n    public void addMentor(int mentorId, int... menteeIds) {\n        Mentor mentor = mentorById.computeIfAbsent(mentorId, Mentor::new);\n        for (int menteeId: menteeIds) {\n            mentor.addMentee(mentorById.computeIfAbsent(menteeId, Mentor::new));\n        }\n    }\n    \n    public List&lt;Mentor&gt; getTopMentors() {\n        List&lt;Mentor&gt; topMentors = new ArrayList&lt;&gt;();\n        for (Mentor mentor: mentorById.values()) {\n            if (mentor.getCount() != -1) continue;\n            performDFS(mentor);\n    \n            if (topMentors.isEmpty() || mentor.getCount() == topMentors.get(0).getCount()) {\n                topMentors.add(mentor);\n        \n            } else if (mentor.getCount() &gt; topMentors.get(0).getCount()) {\n    \n                topMentors.clear();\n                topMentors.add(mentor);\n            }\n        }\n        return topMentors;\n    }\n    \n    private int performDFS(Mentor mentor) {\n        if (mentor.getCount() == -1 &amp;&amp; mentor.getMentees().isEmpty()) { // base case\n            mentor.setCount(0);\n            return 1;\n        }\n        \n        int menteeCount = // recursive case\n            mentor.getMentees().stream()\n                .mapToInt(m -&gt; m.getCount() == -1 ? performDFS(m) : m.getCount() + 1)\n                .sum();\n        \n        mentor.setCount(menteeCount);\n        return menteeCount + 1;\n    }\n    \n    public static class Mentor {\n        private int id;\n        private Set&lt;Mentor&gt; mentees = new HashSet&lt;&gt;();\n        private int menteesCount = -1;\n        \n        public Mentor(int id) {\n            this.id = id;\n        }\n        \n        public boolean addMentee(Mentor mentee) {\n            return mentees.add(mentee);\n        }\n    \n        // getters, setter for menteesCount, equeals/hashCode\n    }\n}\n</code></pre>\n<p>An <em><strong>example</strong></em> of the <em>graph</em> used as a <em>demo</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/6eXJNl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eXJNl.jpg\" alt=\"enter image description here\" /></a></p>\n<p><code>main()</code> - the code models the graph shown above</p>\n<pre><code>public static void main(String[] args) {\n    MentorGraph graph = new MentorGraph();\n\n    graph.addMentor(1, 3, 4);\n    graph.addMentor(2, 5, 6, 7);\n    graph.addMentor(3, 8, 9);\n    graph.addMentor(4, 10);\n    graph.addMentor(5, 11, 12);\n    graph.addMentor(6);\n    graph.addMentor(7, 13, 14);\n    graph.addMentor(8);\n    graph.addMentor(9, 16, 17, 18);\n    graph.addMentor(10);\n    graph.addMentor(11, 18);\n    graph.addMentor(12);\n    graph.addMentor(13);\n    graph.addMentor(14, 19, 20);\n    graph.addMentor(15);\n    graph.addMentor(16, 21, 22);\n    graph.addMentor(17);\n    graph.addMentor(18);\n    graph.addMentor(19);\n    graph.addMentor(20);\n    graph.addMentor(21);\n    graph.addMentor(22);\n    \n    graph.getTopMentors()\n         .forEach(m -&gt; System.out.printf(&quot;mentorId: %d\\tmentees: %d\\n&quot;, m.getId(), m.getCount()));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>mentorId: 1 mentees: 10\nmentorId: 2 mentees: 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649952616,"creation_date":1649737260,"answer_id":71837085,"question_id":71831102,"body_markdown":"Use `Person` and `Mentor` and `Mentee` subclasses as suggested by [acornTime](https://stackoverflow.com/a/71831752/3992939), define `mentees` as a list of `Person` and the information you want becomes simple to get: \r\n\t\r\n\timport java.util.*;\r\n\timport java.util.stream.Stream;\r\n\t\r\n\tpublic class Main{\r\n\t\r\n\t\tpublic static void main(String[] args)\t{\r\n\t\t\tArrayList&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\r\n\t\r\n\t\t    mentees.add(new Mentee(11));\r\n\t\t    mentees.add(new Mentee(12));\r\n\t\t    mentees.add(new Mentor(2, new ArrayList&lt;&gt;()));\r\n\t\t    mentees.add(new Mentee(13));\r\n\t\t    mentees.add(new Mentee(14));\r\n\t\t    mentees.add(new Mentor(3, new ArrayList&lt;&gt;()));\r\n\t\t    mentees.add(new Mentor(4, new ArrayList&lt;&gt;()));\r\n\t\t    mentees.add(new Mentor(5, new ArrayList&lt;&gt;()));\r\n\t\r\n\t\t\tMentor mentor = new Mentor(1, mentees);\r\n\t\r\n\t\t\tSystem.out.println(mentor.menteesCount());\r\n\t\t\tSystem.out.println(mentor.mentorsInMentees().count());\r\n\t\t}\r\n\t}\r\n\t\r\n\tinterface Person {\r\n\t\tint getId();\r\n\t}\r\n\t\r\n\tclass Mentor implements Person{\r\n\t\r\n\t    private final int mentorId;\r\n\t    private List&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\r\n\t\r\n\t    public Mentor(int id, ArrayList&lt;Person&gt; mentees) {\r\n\t        mentorId = id;\r\n\t        this.mentees = mentees ;\r\n\t    }\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getId() {\r\n\t\t\treturn mentorId;\r\n\t\t}\r\n\t\r\n\t\tpublic List&lt;Person&gt; getMentees() {\r\n\t\t\treturn mentees;\r\n\t\t}\r\n\t\r\n\t\tpublic int menteesCount() {\r\n\t\t\treturn mentees.size();\r\n\t\t}\r\n\t\r\n\t\tpublic Stream&lt;Person&gt; mentorsInMentees(){\r\n\t\t\treturn mentees.stream().filter(m -&gt; (m instanceof Mentor));\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Mentee implements Person{\r\n\t\r\n\t    private final int menteeId;\r\n\t\r\n\t    public Mentee(int id) {\r\n\t        menteeId = id;\r\n\t    }\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getId() {\r\n\t\t\treturn menteeId;\r\n\t\t}\r\n\t}\r\n\t\r\nTest it online [here](https://replit.com/@c0derrepo/Mentor#)\r\n","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>Use <code>Person</code> and <code>Mentor</code> and <code>Mentee</code> subclasses as suggested by <a href=\"https://stackoverflow.com/a/71831752/3992939\">acornTime</a>, define <code>mentees</code> as a list of <code>Person</code> and the information you want becomes simple to get:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Stream;\n\npublic class Main{\n\n    public static void main(String[] args)  {\n        ArrayList&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\n\n        mentees.add(new Mentee(11));\n        mentees.add(new Mentee(12));\n        mentees.add(new Mentor(2, new ArrayList&lt;&gt;()));\n        mentees.add(new Mentee(13));\n        mentees.add(new Mentee(14));\n        mentees.add(new Mentor(3, new ArrayList&lt;&gt;()));\n        mentees.add(new Mentor(4, new ArrayList&lt;&gt;()));\n        mentees.add(new Mentor(5, new ArrayList&lt;&gt;()));\n\n        Mentor mentor = new Mentor(1, mentees);\n\n        System.out.println(mentor.menteesCount());\n        System.out.println(mentor.mentorsInMentees().count());\n    }\n}\n\ninterface Person {\n    int getId();\n}\n\nclass Mentor implements Person{\n\n    private final int mentorId;\n    private List&lt;Person&gt; mentees = new ArrayList&lt;&gt;();\n\n    public Mentor(int id, ArrayList&lt;Person&gt; mentees) {\n        mentorId = id;\n        this.mentees = mentees ;\n    }\n\n    @Override\n    public int getId() {\n        return mentorId;\n    }\n\n    public List&lt;Person&gt; getMentees() {\n        return mentees;\n    }\n\n    public int menteesCount() {\n        return mentees.size();\n    }\n\n    public Stream&lt;Person&gt; mentorsInMentees(){\n        return mentees.stream().filter(m -&gt; (m instanceof Mentor));\n    }\n}\n\nclass Mentee implements Person{\n\n    private final int menteeId;\n\n    public Mentee(int id) {\n        menteeId = id;\n    }\n\n    @Override\n    public int getId() {\n        return menteeId;\n    }\n}\n</code></pre>\n<p>Test it online <a href=\"https://replit.com/@c0derrepo/Mentor#\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":17868854,"reputation":135,"user_id":12980614,"display_name":"mrkn0007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71835620,"answer_count":4,"score":3,"last_activity_date":1649952616,"creation_date":1649693861,"question_id":71831102,"body_markdown":"I have a `Mentor` class in which I have an `ID` for each mentor and an `ArrayList` of mentee `ID`s, like this:\r\n\r\n```\r\npublic class Mentor {\r\n    \r\n    int mentorId;\r\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\r\n\r\n    public Mentor(int mentorId, ArrayList&lt;Integer&gt; mentees) {\r\n        this.mentorId = mentorId;\r\n        this.mentees = mentees ;\r\n    }\r\n}\r\n```\r\nThe problem is that some *mentees* can be *mentors* too.\r\n\r\nI would like to somehow get a ***count*** of all of the *mentees* associated to the top *mentor* as well as how many mentors are under the top mentor.\r\n\r\nSo, basically, if a *mentor* has a *mentee*, who is also a *mentor*, then this *mentor*&#39;s *mentees* are also associated to the *top mentor*.\r\n\r\nSo, my thinking was to loop through the *mentee-list* and see if any of the id&#39;s match an `ID` of `Mentor`. If true, Add this mentor&#39;s list of mentees to a list and loop again, but this will not work dynamically.\r\n\r\nMy main class looks something like this:\r\n```\r\n    ArrayList&lt;Mentor&gt; mentors = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; mentees2 = new ArrayList&lt;&gt;();\r\n\r\n    mentees.add(2);\r\n    mentees.add(3);\r\n    mentees2.add(4);\r\n    mentees2.add(5);\r\n\r\n    //[1,{2,3}]\r\n    mentors.add(new Mentor(1, mentees));\r\n    //[2,{4,5}]\r\n    mentors.add(new Mentor(2, mentees2));\r\n    int mentorCount = 0;\r\n    int menteeCount = 0;\r\n    for (Mentor mentor : mentors) {\r\n\r\n        for (Integer mentee : mentees) {\r\n            mentorCount++;\r\n            if (mentee == mentor.mentorId){\r\n                mentorCount++;\r\n                //add each mentee to arraylist and start the process again, but is there an easier way to do this.\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI was wondering if there is a way of solving this, maybe using **streams**?\r\n","title":"How to find the largest Count of Objects assosiated with the same Object","body":"<p>I have a <code>Mentor</code> class in which I have an <code>ID</code> for each mentor and an <code>ArrayList</code> of mentee <code>ID</code>s, like this:</p>\n<pre><code>public class Mentor {\n    \n    int mentorId;\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\n\n    public Mentor(int mentorId, ArrayList&lt;Integer&gt; mentees) {\n        this.mentorId = mentorId;\n        this.mentees = mentees ;\n    }\n}\n</code></pre>\n<p>The problem is that some <em>mentees</em> can be <em>mentors</em> too.</p>\n<p>I would like to somehow get a <em><strong>count</strong></em> of all of the <em>mentees</em> associated to the top <em>mentor</em> as well as how many mentors are under the top mentor.</p>\n<p>So, basically, if a <em>mentor</em> has a <em>mentee</em>, who is also a <em>mentor</em>, then this <em>mentor</em>'s <em>mentees</em> are also associated to the <em>top mentor</em>.</p>\n<p>So, my thinking was to loop through the <em>mentee-list</em> and see if any of the id's match an <code>ID</code> of <code>Mentor</code>. If true, Add this mentor's list of mentees to a list and loop again, but this will not work dynamically.</p>\n<p>My main class looks something like this:</p>\n<pre><code>    ArrayList&lt;Mentor&gt; mentors = new ArrayList&lt;&gt;();\n    ArrayList&lt;Integer&gt; mentees = new ArrayList&lt;&gt;();\n    ArrayList&lt;Integer&gt; mentees2 = new ArrayList&lt;&gt;();\n\n    mentees.add(2);\n    mentees.add(3);\n    mentees2.add(4);\n    mentees2.add(5);\n\n    //[1,{2,3}]\n    mentors.add(new Mentor(1, mentees));\n    //[2,{4,5}]\n    mentors.add(new Mentor(2, mentees2));\n    int mentorCount = 0;\n    int menteeCount = 0;\n    for (Mentor mentor : mentors) {\n\n        for (Integer mentee : mentees) {\n            mentorCount++;\n            if (mentee == mentor.mentorId){\n                mentorCount++;\n                //add each mentee to arraylist and start the process again, but is there an easier way to do this.\n            }\n        }\n    }\n</code></pre>\n<p>I was wondering if there is a way of solving this, maybe using <strong>streams</strong>?</p>\n"},{"tags":["java","hadoop","thread-safety","distributed-filesystem"],"answers":[{"tags":[],"owner":{"account_id":1418844,"reputation":830,"user_id":1343904,"accept_rate":88,"display_name":"Ben Win"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429021015,"creation_date":1429021015,"answer_id":29629773,"question_id":29629249,"body_markdown":"Hadoop DFS uses a so-called [WORM-Model][1]. This makes it more robust when it comes to concurrency issues.\r\n\r\n**But**, to answer the question, it is **not** safe in general. You still need to think about concurrency control requirements. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Write_once_read_many","title":"is hadoop DistributedFileSystem thread safe?","body":"<p>Hadoop DFS uses a so-called <a href=\"http://en.wikipedia.org/wiki/Write_once_read_many\" rel=\"nofollow\">WORM-Model</a>. This makes it more robust when it comes to concurrency issues.</p>\n\n<p><strong>But</strong>, to answer the question, it is <strong>not</strong> safe in general. You still need to think about concurrency control requirements. </p>\n"},{"tags":[],"owner":{"account_id":14027868,"reputation":31,"user_id":10132476,"display_name":"kai.tian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649952523,"creation_date":1649952523,"answer_id":71874616,"question_id":29629249,"body_markdown":"If  `config.setBoolean(&quot;fs.hdfs.impl.disable. cache&quot;, true);`  is modified first, `FileSystem.get(config)` can be used in multiple threads.","title":"is hadoop DistributedFileSystem thread safe?","body":"<p>If  <code>config.setBoolean(&quot;fs.hdfs.impl.disable. cache&quot;, true);</code>  is modified first, <code>FileSystem.get(config)</code> can be used in multiple threads.</p>\n"}],"owner":{"account_id":982763,"reputation":595,"user_id":1002065,"accept_rate":31,"display_name":"user1002065"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2822,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29629773,"answer_count":2,"score":2,"last_activity_date":1649952523,"creation_date":1429019601,"question_id":29629249,"body_markdown":"I am using hadoop for writing data I scrape.\r\n\r\nI have a spring service that is called from multiple threads to write some content to the HDFS.\r\n\r\n    @Service\r\n    public class WriteService\r\n    {\r\n    \tpublic void write(String path, String content)\r\n    \t{\r\n    \t\tFileSystem fs = FileSystem.get(conf);\r\n    \t}\r\n    }\r\n\r\nI am not sure whether the FileSystem object can be a member of the WriteService and I don&#39;t find whether it is thread safe or not.\r\nI am using the DistributedFileSystem object.\r\n\r\nDo you know if it is thread-safe and I can use it as a member to my service?\r\n\r\nThank you","title":"is hadoop DistributedFileSystem thread safe?","body":"<p>I am using hadoop for writing data I scrape.</p>\n\n<p>I have a spring service that is called from multiple threads to write some content to the HDFS.</p>\n\n<pre><code>@Service\npublic class WriteService\n{\n    public void write(String path, String content)\n    {\n        FileSystem fs = FileSystem.get(conf);\n    }\n}\n</code></pre>\n\n<p>I am not sure whether the FileSystem object can be a member of the WriteService and I don't find whether it is thread safe or not.\nI am using the DistributedFileSystem object.</p>\n\n<p>Do you know if it is thread-safe and I can use it as a member to my service?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":24938705,"reputation":1,"user_id":18804915,"display_name":"Erick"},"score":0,"creation_date":1649953922,"post_id":71874607,"comment_id":127010186,"body_markdown":"I&#180;m using this versions com.itextpdf:itext7-core:7.2.2 and com.itextpdf:html2pdf:4.0.2","body":"I&#180;m using this versions com.itextpdf:itext7-core:7.2.2 and com.itextpdf:html2pdf:4.0.2"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649994926,"post_id":71874607,"comment_id":127018787,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24938705,"reputation":1,"user_id":18804915,"display_name":"Erick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649952489,"creation_date":1649952489,"question_id":71874607,"body_markdown":"[cropped image with htmlConverter][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NGLhr.png","title":"When I download my HTML document with HtmlConverter, I cannot prevent the images to appear cut off, any ideas?","body":"<p><a href=\"https://i.stack.imgur.com/NGLhr.png\" rel=\"nofollow noreferrer\">cropped image with htmlConverter</a></p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":10624067,"reputation":31,"user_id":7824236,"display_name":"Pulkit Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569170438,"creation_date":1569170438,"answer_id":58051317,"question_id":57021921,"body_markdown":"I think you can accomplish this using the different Updates options provided by Mongo Java client. Just try exploring `pullByFilter` to filter out the document that you need to replace and then use `push` method to push the new document to the array. You can try these method instead of using simple `set` method.\r\n\r\nFor detailed documentation , please refer this link https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/model/Updates.html.","title":"How to update partial objects in an array of objects in mongo-db using java?","body":"<p>I think you can accomplish this using the different Updates options provided by Mongo Java client. Just try exploring <code>pullByFilter</code> to filter out the document that you need to replace and then use <code>push</code> method to push the new document to the array. You can try these method instead of using simple <code>set</code> method.</p>\n\n<p>For detailed documentation , please refer this link <a href=\"https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/model/Updates.html\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/model/Updates.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649952463,"creation_date":1649952463,"answer_id":71874603,"question_id":57021921,"body_markdown":"Maybe something like this:\r\n\r\n```java\r\ndatabase.getCollection(&quot;yourCollection&quot;)\r\n    // you want to update one element\r\n    .updateOne( \r\n        // you identify the element to update with its _id\r\n        Filters.eq(&quot;_id&quot;, &quot;6691e5068dwe335w42cb0a699650f&quot;),\r\n        // you want to perform several updates operations\r\n        Updates.combine(\r\n            // first you update the &quot;Stage_Status&quot; property of your element\r\n            Updates.set(&quot;Stage_Status&quot;, &quot;I&quot;),\r\n            // this is the tricky part: you look for an element inside the array 1555556059584 and you want to update its &quot;Notes&quot; property\r\n            Updates.set(&quot;1555556059584.$[note].Notes&quot;, &quot;updated note 123&quot;) \r\n        ),\r\n        // finally, the options below specify which element of the array you want to update: you filter with the id property of the elements.\r\n        new UpdateOptions().arrayFilters(Arrays.asList(\r\n            Filters.eq(&quot;note.id&quot;, &quot;1557389940585&quot;)\r\n        ))\r\n    );","title":"How to update partial objects in an array of objects in mongo-db using java?","body":"<p>Maybe something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.getCollection(&quot;yourCollection&quot;)\n    // you want to update one element\n    .updateOne( \n        // you identify the element to update with its _id\n        Filters.eq(&quot;_id&quot;, &quot;6691e5068dwe335w42cb0a699650f&quot;),\n        // you want to perform several updates operations\n        Updates.combine(\n            // first you update the &quot;Stage_Status&quot; property of your element\n            Updates.set(&quot;Stage_Status&quot;, &quot;I&quot;),\n            // this is the tricky part: you look for an element inside the array 1555556059584 and you want to update its &quot;Notes&quot; property\n            Updates.set(&quot;1555556059584.$[note].Notes&quot;, &quot;updated note 123&quot;) \n        ),\n        // finally, the options below specify which element of the array you want to update: you filter with the id property of the elements.\n        new UpdateOptions().arrayFilters(Arrays.asList(\n            Filters.eq(&quot;note.id&quot;, &quot;1557389940585&quot;)\n        ))\n    );\n</code></pre>\n"}],"owner":{"account_id":7079796,"reputation":33,"user_id":5418599,"display_name":"Srinivas Pasam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649952463,"creation_date":1563043520,"question_id":57021921,"body_markdown":"I want to update request fields only in an array using java.This is my existing document in mongo db:\r\n\r\n\r\n```\r\n{\r\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\r\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\r\n    &quot;Account_Name&quot; : &quot;IC&quot;,\r\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\r\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\r\n    &quot;Stage&quot; : &quot;Proposal&quot;,\r\n    &quot;Stage_Status&quot; : &quot;A&quot;,\r\n    &quot;1555570551211&quot; : [],\r\n    &quot;1555556165153&quot; : [],\r\n    &quot;1555556059584&quot; : [ \r\n        {\r\n            &quot;id&quot; : &quot;1557389940585&quot;,\r\n            &quot;Notes&quot; : &quot;Note 1&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389945398&quot;,\r\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389978181&quot;,\r\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389990159&quot;,\r\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\r\n        }\r\n    ],\r\n    \r\n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\r\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\r\n}\r\n```\r\n\r\nRequest payload:\r\n```\r\n{\r\n &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\r\n &quot;Stage_Status&quot; : &quot;I&quot;,\r\n &quot;1555556059584&quot; : [ \r\n        {\r\n            &quot;id&quot; : &quot;1557389940585&quot;,\r\n            &quot;Notes&quot; : &quot;updated note 123&quot;\r\n        }\r\n     ]\r\n}\r\n```\r\n\r\nI am trying to update  &quot;Stage_Status&quot; and &quot;1555556059584.Notes&quot;  at a time  using $set.I am able to update &quot;Stage_Status&quot; but &quot;1555556059584&quot; array is going to reset with what i have updated with last one.\r\n\r\nMy except output :\r\n```\r\n{\r\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\r\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\r\n    &quot;Account_Name&quot; : &quot;IC&quot;,\r\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\r\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\r\n    &quot;Stage&quot; : &quot;Proposal&quot;,\r\n    &quot;Stage_Status&quot; : &quot;I&quot;,\r\n    &quot;1555570551211&quot; : [],\r\n    &quot;1555556165153&quot; : [],\r\n    &quot;1555556059584&quot; : [ \r\n        {\r\n            &quot;id&quot; : &quot;1557389940585&quot;,\r\n            &quot;Notes&quot; : &quot;updated note 123&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389945398&quot;,\r\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389978181&quot;,\r\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\r\n        }, \r\n        {\r\n            &quot;id&quot; : &quot;1557389990159&quot;,\r\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\r\n        }\r\n    ],\r\n    \r\n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\r\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\r\n}\r\n```\r\n\r\ncan any one please help me to figure it out in java.","title":"How to update partial objects in an array of objects in mongo-db using java?","body":"<p>I want to update request fields only in an array using java.This is my existing document in mongo db:</p>\n<pre><code>{\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\n    &quot;Account_Name&quot; : &quot;IC&quot;,\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\n    &quot;Stage&quot; : &quot;Proposal&quot;,\n    &quot;Stage_Status&quot; : &quot;A&quot;,\n    &quot;1555570551211&quot; : [],\n    &quot;1555556165153&quot; : [],\n    &quot;1555556059584&quot; : [ \n        {\n            &quot;id&quot; : &quot;1557389940585&quot;,\n            &quot;Notes&quot; : &quot;Note 1&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389945398&quot;,\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389978181&quot;,\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389990159&quot;,\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\n        }\n    ],\n    \n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\n}\n</code></pre>\n<p>Request payload:</p>\n<pre><code>{\n &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\n &quot;Stage_Status&quot; : &quot;I&quot;,\n &quot;1555556059584&quot; : [ \n        {\n            &quot;id&quot; : &quot;1557389940585&quot;,\n            &quot;Notes&quot; : &quot;updated note 123&quot;\n        }\n     ]\n}\n</code></pre>\n<p>I am trying to update  &quot;Stage_Status&quot; and &quot;1555556059584.Notes&quot;  at a time  using $set.I am able to update &quot;Stage_Status&quot; but &quot;1555556059584&quot; array is going to reset with what i have updated with last one.</p>\n<p>My except output :</p>\n<pre><code>{\n    &quot;_id&quot; : &quot;6691e5068dwe335w42cb0a699650f&quot;,\n    &quot;Opportunity_Owner&quot; : &quot;Self&quot;,\n    &quot;Account_Name&quot; : &quot;IC&quot;,\n    &quot;Lead_Source&quot; : &quot;Callbox&quot;,\n    &quot;Opportunity_Name&quot; : &quot;name1 &quot;,\n    &quot;Stage&quot; : &quot;Proposal&quot;,\n    &quot;Stage_Status&quot; : &quot;I&quot;,\n    &quot;1555570551211&quot; : [],\n    &quot;1555556165153&quot; : [],\n    &quot;1555556059584&quot; : [ \n        {\n            &quot;id&quot; : &quot;1557389940585&quot;,\n            &quot;Notes&quot; : &quot;updated note 123&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389945398&quot;,\n           &quot;Notes&quot; : &quot;Hi Bobby &quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389978181&quot;,\n            &quot;Notes&quot; : &quot;Spoken to Bobby.&quot;\n        }, \n        {\n            &quot;id&quot; : &quot;1557389990159&quot;,\n            &quot;Notes&quot; : &quot;plan to call on 29/Apr&quot;\n        }\n    ],\n    \n    &quot;createdBy&quot; : &quot;2c18b8dbb7d74a41a66f53a90117480a&quot;,\n    &quot;createdDate&quot; : &quot;1562911250917&quot;\n}\n</code></pre>\n<p>can any one please help me to figure it out in java.</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649952453,"creation_date":1649951753,"answer_id":71874448,"question_id":71874275,"body_markdown":"Use the length and a loop to tell which one is present.  Use `-1` in split to process all delimiters.\r\n```\r\nString idString = &quot;||id2||||&quot;;\r\n\r\nString ids[] = idString.split(&quot;\\\\|\\\\|&quot;, -1);\r\nfor (int i = 0; i &lt; ids.length; i++) {\r\n\tSystem.out.printf(&quot;id[%d] -&gt; %s%n&quot;, i, ids[i].isEmpty() ? &quot;is Empty&quot; :ids[i]);\r\n}\r\n```\r\nprints\r\n```\r\nid[0] -&gt; is Empty\r\nid[1] -&gt; id2\r\nid[2] -&gt; is Empty\r\nid[3] -&gt; is Empty","title":"Split string with positional values separated by delimiter Java","body":"<p>Use the length and a loop to tell which one is present.  Use <code>-1</code> in split to process all delimiters.</p>\n<pre><code>String idString = &quot;||id2||||&quot;;\n\nString ids[] = idString.split(&quot;\\\\|\\\\|&quot;, -1);\nfor (int i = 0; i &lt; ids.length; i++) {\n    System.out.printf(&quot;id[%d] -&gt; %s%n&quot;, i, ids[i].isEmpty() ? &quot;is Empty&quot; :ids[i]);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>id[0] -&gt; is Empty\nid[1] -&gt; id2\nid[2] -&gt; is Empty\nid[3] -&gt; is Empty\n</code></pre>\n"}],"owner":{"account_id":13298121,"reputation":37,"user_id":9600398,"display_name":"jerry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1650006910,"accepted_answer_id":71874448,"answer_count":1,"score":1,"last_activity_date":1649952453,"creation_date":1649950928,"question_id":71874275,"body_markdown":"I have an input string that contains 4 ids separated by delimiter(||). I am using the following code:\r\n\r\n    String idString = &quot;id1||id2||id3||id4&quot;;\r\n\r\n      String ids[] = idString.split(&quot;\\\\|\\\\|&quot;);\r\n      String id1 = ids[0];\r\n      String id2 = ids[1];\r\n      String id3 = ids[2];\r\n      String id4 = ids[3];\r\n\r\nBut there are cases where not all ids are present like :\r\n\r\n    String idString = &quot;||id2||||&quot;;\r\n\r\nIn the above scenario the split won&#39;t happen in 4 parts and it is not able to tell which id is missing in the split array.\r\n\r\nCan someone help with an efficient solution.","title":"Split string with positional values separated by delimiter Java","body":"<p>I have an input string that contains 4 ids separated by delimiter(||). I am using the following code:</p>\n<pre><code>String idString = &quot;id1||id2||id3||id4&quot;;\n\n  String ids[] = idString.split(&quot;\\\\|\\\\|&quot;);\n  String id1 = ids[0];\n  String id2 = ids[1];\n  String id3 = ids[2];\n  String id4 = ids[3];\n</code></pre>\n<p>But there are cases where not all ids are present like :</p>\n<pre><code>String idString = &quot;||id2||||&quot;;\n</code></pre>\n<p>In the above scenario the split won't happen in 4 parts and it is not able to tell which id is missing in the split array.</p>\n<p>Can someone help with an efficient solution.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649946074,"creation_date":1649946074,"answer_id":71873159,"question_id":71872730,"body_markdown":"Since you are using \r\n\r\n    componentModel = &quot;spring&quot;\r\n\r\ni would suggest that you simply inject the mappers like normal dependencies via dependency injection. \r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class StudentService {\r\n\r\n        private final StudentMapper studentMapper;\r\n\r\n        public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \r\n            Student result = MAPPER.updateStudentFromMap(map, student);\r\n        }\r\n    }\r\n   \r\n\r\nI am not sure the code you provided is a viable way to use mapstruct. \r\n    \r\n    public interface StudentMapper {\r\n\r\n    StudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\r\n","title":"using mapstruct with service","body":"<p>Since you are using</p>\n<pre><code>componentModel = &quot;spring&quot;\n</code></pre>\n<p>i would suggest that you simply inject the mappers like normal dependencies via dependency injection.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class StudentService {\n\n    private final StudentMapper studentMapper;\n\n    public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \n        Student result = MAPPER.updateStudentFromMap(map, student);\n    }\n}\n</code></pre>\n<p>I am not sure the code you provided is a viable way to use mapstruct.</p>\n<pre><code>public interface StudentMapper {\n\nStudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\n</code></pre>\n"}],"owner":{"account_id":2105234,"reputation":1029,"user_id":1871717,"accept_rate":51,"display_name":"sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71873159,"answer_count":1,"score":0,"last_activity_date":1649952344,"creation_date":1649944076,"question_id":71872730,"body_markdown":"I have the following Mapper:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;,\r\n        nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    public interface StudentMapper {\r\n    \r\n        StudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\r\n    \r\n        @Mapping(target = &quot;id&quot;, ignore = true)\r\n        Student map(Map&lt;String, Object&gt; map, @MappingTarget Student student);\r\n    \r\n    }\r\n\r\nThis is my StudentService which uses the MAPPER:\r\n\r\n    import static com.test.StudentMapper.MAPPER;\r\n\r\n    public class StudentService {\r\n        public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \r\n            Student result = MAPPER.map(map, student);\r\n        }\r\n    }\r\n\r\nWhen I run my tests:\r\n\r\nI am getting `java.lang.NullPointerException: Cannot invoke map(Object) because &quot;this.qualifier&quot; is null`\r\n\r\nHow can I inject Qualifier properly when I use the mapper in my StudentService class?\r\n\r\n","title":"using mapstruct with service","body":"<p>I have the following Mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;,\n    nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\npublic interface StudentMapper {\n\n    StudentMapper MAPPER = Mappers.getMapper( StudentMapper.class );\n\n    @Mapping(target = &quot;id&quot;, ignore = true)\n    Student map(Map&lt;String, Object&gt; map, @MappingTarget Student student);\n\n}\n</code></pre>\n<p>This is my StudentService which uses the MAPPER:</p>\n<pre><code>import static com.test.StudentMapper.MAPPER;\n\npublic class StudentService {\n    public void update(final @Valid Map&lt;String, Object&gt; map, Student student) { \n        Student result = MAPPER.map(map, student);\n    }\n}\n</code></pre>\n<p>When I run my tests:</p>\n<p>I am getting <code>java.lang.NullPointerException: Cannot invoke map(Object) because &quot;this.qualifier&quot; is null</code></p>\n<p>How can I inject Qualifier properly when I use the mapper in my StudentService class?</p>\n"},{"tags":["java","spring","spring-boot","performance","architecture"],"answers":[{"tags":[],"owner":{"account_id":6709809,"reputation":150,"user_id":5173611,"display_name":"J.R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649952336,"creation_date":1649950217,"answer_id":71874100,"question_id":71873744,"body_markdown":"You can try [Spring Cloud Gateway][1] or [Spring Cloud Netflix][2].\r\n\r\nYou don`t need to build a gateway from scratch unless you want. And even if you want to, you could consider aspects such as security, maturity and maintenance \r\n\r\nSome modules of Spring Cloud Netflix \r\nhave gone into maintenance mode, therefore, Spring Cloud Gateway might be a good option as [GJohannes][3] quoted\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-gateway\r\n  [2]: https://spring.io/projects/spring-cloud-netflix\r\n  [3]: https://stackoverflow.com/users/10254476/gjohannes","title":"Using Resttemplate as a simple API gateway","body":"<p>You can try <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">Spring Cloud Gateway</a> or <a href=\"https://spring.io/projects/spring-cloud-netflix\" rel=\"nofollow noreferrer\">Spring Cloud Netflix</a>.</p>\n<p>You don`t need to build a gateway from scratch unless you want. And even if you want to, you could consider aspects such as security, maturity and maintenance</p>\n<p>Some modules of Spring Cloud Netflix\nhave gone into maintenance mode, therefore, Spring Cloud Gateway might be a good option as <a href=\"https://stackoverflow.com/users/10254476/gjohannes\">GJohannes</a> quoted</p>\n"}],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71874100,"answer_count":1,"score":0,"last_activity_date":1649952336,"creation_date":1649948647,"question_id":71873744,"body_markdown":"I am using Resttemplate to build an simple API gateway in spring-boot project. When my gateway receive a request from client, it dispatch the request to another Service through RESTful call, and then pass the response back to client.\r\n\r\nMy code snippet like below:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;api/v1/message&quot;)\r\npublic class GatewayController {\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Response&gt; dispatchRequest(@RequestBody Request request) {\r\n        validateInput(request);         \r\n\r\n        Response response = restTemplate.post(URL_OF_ANOTHOER_SERVICE, request, ...);\r\n\r\n        return ResponseEntity.ok(response);\r\n    }\r\n}\r\n```\r\n\r\nI have more than 100 requests per second approximately, and I know that Resttemplate is thread-safe.\r\n\r\nMy questions:\r\n1. Is Resttemplate OK to do such work? Will it become bottleneck?\r\n2. Is there any other suggestions?\r\n\r\nThank you very much.","title":"Using Resttemplate as a simple API gateway","body":"<p>I am using Resttemplate to build an simple API gateway in spring-boot project. When my gateway receive a request from client, it dispatch the request to another Service through RESTful call, and then pass the response back to client.</p>\n<p>My code snippet like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;api/v1/message&quot;)\npublic class GatewayController {\n\n    @PostMapping\n    public ResponseEntity&lt;Response&gt; dispatchRequest(@RequestBody Request request) {\n        validateInput(request);         \n\n        Response response = restTemplate.post(URL_OF_ANOTHOER_SERVICE, request, ...);\n\n        return ResponseEntity.ok(response);\n    }\n}\n</code></pre>\n<p>I have more than 100 requests per second approximately, and I know that Resttemplate is thread-safe.</p>\n<p>My questions:</p>\n<ol>\n<li>Is Resttemplate OK to do such work? Will it become bottleneck?</li>\n<li>Is there any other suggestions?</li>\n</ol>\n<p>Thank you very much.</p>\n"},{"tags":["java","spring","spring-boot","server-sent-events"],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649952107,"creation_date":1649947960,"question_id":71873593,"body_markdown":"I am new to Server Sent Event concepts. Recently I added SSEemitter in my existing Spring Boot application, taking idea from internet.\r\n\r\n\r\nIn-memory `SseEmitter` repository class is as follow:\r\n\r\n\r\n    @Repository\r\n    public class InMemorySseEmitterRepository implements SseEmitterRepository {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(InMemorySseEmitterRepository.class);\r\n    \r\n      private Map&lt;String, SseEmitter&gt; userEmitterMap = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n      @Override\r\n      public void addEmitter(String memberId, SseEmitter emitter) {\r\n        userEmitterMap.put(memberId, emitter);\r\n      }\r\n    \r\n      @Override\r\n      public void remove(String memberId) {\r\n        if (userEmitterMap != null &amp;&amp; userEmitterMap.containsKey(memberId)) {\r\n          log.info(&quot;Removing emitter for member: {}&quot;, memberId);\r\n          userEmitterMap.remove(memberId);\r\n        } else {\r\n          log.info(&quot;No emitter to remove for member: {}&quot;, memberId);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public Optional&lt;SseEmitter&gt; get(String memberId) {\r\n        return Optional.ofNullable(userEmitterMap.get(memberId));\r\n      }\r\n    } \r\n\r\n\r\n`SseEmitter` service class is as follows:\r\n\r\n    @Service\r\n    public class SseEmitterServiceImpl implements SseEmitterService {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(SseEmitterServiceImpl.class);\r\n      private final SseEmitterRepository repository;\r\n    \r\n      public SseEmitterServiceImpl(@Value(SseEmitterRepository repository) {\r\n        this.repository = repository;\r\n      }\r\n    \r\n      @Override\r\n      public SseEmitter subscribe(String entityId, EventType eventType) {\r\n        SseEmitter emitter = new SseEmitter(-1L);        //SO THAT IT NEVER TIMES OUT\r\n        String memberId = entityId + &quot;_&quot; + eventType;    //MEMBER ID HAS BEEN INTRODUCED BECAUSE FOR DIFFERENT ENTITIES, FOR DIFFERENT EVENTS WE CAN SEND EVENTS FROM SERVER TO CLIENT\r\n        emitter.onCompletion(() -&gt; repository.remove(memberId));\r\n        emitter.onTimeout(() -&gt; repository.remove(memberId));\r\n        emitter.onError(e -&gt; {\r\n          log.error(&quot;Create SseEmitter exception&quot;, e);\r\n          repository.remove(memberId);\r\n        });\r\n        repository.addEmitter(memberId, emitter);\r\n        return emitter;\r\n      }\r\n    } \r\n\r\nAssociated resource class is as follows:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class SseEmitterResource {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(SseEmitterResource.class);\r\n      private final SseEmitterService emitterService;\r\n    \r\n      public SseEmitterResource(SseEmitterService emitterService) {\r\n        this.emitterService = emitterService;\r\n      }\r\n    \r\n      @GetMapping(&quot;/subscribe/{eventType}&quot;)\r\n      public SseEmitter subscribeToEvents(\r\n          @PathVariable EventType eventType,\r\n          @RequestParam(required = false, defaultValue = &quot;&quot;) String entityId) {\r\n        log.info(&quot;Subscribing member with event type {} for entity id {}&quot;, eventType, entityId);\r\n        return emitterService.subscribe(entityId, eventType);\r\n      }\r\n    }\r\n\r\nActually, there can be multiple event type and multiple entity ids for which we should be able to send events from Server to Client.\r\n\r\nThe service class, responsible for sending the notification is as follows:\r\n\r\n    @Service\r\n    public class SseNotificationServiceImpl implements SseNotificationService {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(SseNotificationServiceImpl.class);\r\n    \r\n      private final SseEmitterRepository emitterRepository;\r\n      private final DataMapper dataMapper;\r\n    \r\n      public SseNotificationServiceImpl(\r\n          SseEmitterRepository emitterRepository,\r\n          DataMapper dataMapper) {\r\n        this.emitterRepository = emitterRepository;\r\n        this.dataMapper = dataMapper;\r\n      }\r\n    \r\n      @Override\r\n      public void sendSseNotification(String memberId, MyDTO dto) {\r\n        sendNotification(memberId, dto);\r\n      }\r\n    \r\n      private void sendNotification(String memberId, MyDTO dto) {\r\n        emitterRepository.get(memberId).ifPresentOrElse(sseEmitter -&gt; {\r\n          try {\r\n            sseEmitter.send(dataMapper.map(dto));\r\n          } catch (IOException e) {\r\n            ...\r\n            emitterRepository.remove(memberId);\r\n          }\r\n        }, () -&gt; ...;\r\n      }\r\n    } \r\n\r\nFinally, the place, where I send this Server Sent Event notification is as follows:\r\n\r\n\r\n    sseNotificationService.sendSseNotification(...);\r\n\r\n\r\nNow, my questions are as follows: \r\n\r\n1. if there are multiple, say 6 clients for the Spring Boot application deployed on single POD, will all of them receive notification through the single `SseEmitter` instance, as I have shown above ? \r\n\r\n2. If not, could anyone please help me with the changes which I need to incorporate in the above code, in order to send Server Sent Event notification to all clients ? Thanks.","title":"Server Sent Event from Spring Boot application on single server with multiple UI clients","body":"<p>I am new to Server Sent Event concepts. Recently I added SSEemitter in my existing Spring Boot application, taking idea from internet.</p>\n<p>In-memory <code>SseEmitter</code> repository class is as follow:</p>\n<pre><code>@Repository\npublic class InMemorySseEmitterRepository implements SseEmitterRepository {\n\n  private static final Logger log = LoggerFactory.getLogger(InMemorySseEmitterRepository.class);\n\n  private Map&lt;String, SseEmitter&gt; userEmitterMap = new ConcurrentHashMap&lt;&gt;();\n\n  @Override\n  public void addEmitter(String memberId, SseEmitter emitter) {\n    userEmitterMap.put(memberId, emitter);\n  }\n\n  @Override\n  public void remove(String memberId) {\n    if (userEmitterMap != null &amp;&amp; userEmitterMap.containsKey(memberId)) {\n      log.info(&quot;Removing emitter for member: {}&quot;, memberId);\n      userEmitterMap.remove(memberId);\n    } else {\n      log.info(&quot;No emitter to remove for member: {}&quot;, memberId);\n    }\n  }\n\n  @Override\n  public Optional&lt;SseEmitter&gt; get(String memberId) {\n    return Optional.ofNullable(userEmitterMap.get(memberId));\n  }\n} \n</code></pre>\n<p><code>SseEmitter</code> service class is as follows:</p>\n<pre><code>@Service\npublic class SseEmitterServiceImpl implements SseEmitterService {\n\n  private static final Logger log = LoggerFactory.getLogger(SseEmitterServiceImpl.class);\n  private final SseEmitterRepository repository;\n\n  public SseEmitterServiceImpl(@Value(SseEmitterRepository repository) {\n    this.repository = repository;\n  }\n\n  @Override\n  public SseEmitter subscribe(String entityId, EventType eventType) {\n    SseEmitter emitter = new SseEmitter(-1L);        //SO THAT IT NEVER TIMES OUT\n    String memberId = entityId + &quot;_&quot; + eventType;    //MEMBER ID HAS BEEN INTRODUCED BECAUSE FOR DIFFERENT ENTITIES, FOR DIFFERENT EVENTS WE CAN SEND EVENTS FROM SERVER TO CLIENT\n    emitter.onCompletion(() -&gt; repository.remove(memberId));\n    emitter.onTimeout(() -&gt; repository.remove(memberId));\n    emitter.onError(e -&gt; {\n      log.error(&quot;Create SseEmitter exception&quot;, e);\n      repository.remove(memberId);\n    });\n    repository.addEmitter(memberId, emitter);\n    return emitter;\n  }\n} \n</code></pre>\n<p>Associated resource class is as follows:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class SseEmitterResource {\n\n  private static final Logger log = LoggerFactory.getLogger(SseEmitterResource.class);\n  private final SseEmitterService emitterService;\n\n  public SseEmitterResource(SseEmitterService emitterService) {\n    this.emitterService = emitterService;\n  }\n\n  @GetMapping(&quot;/subscribe/{eventType}&quot;)\n  public SseEmitter subscribeToEvents(\n      @PathVariable EventType eventType,\n      @RequestParam(required = false, defaultValue = &quot;&quot;) String entityId) {\n    log.info(&quot;Subscribing member with event type {} for entity id {}&quot;, eventType, entityId);\n    return emitterService.subscribe(entityId, eventType);\n  }\n}\n</code></pre>\n<p>Actually, there can be multiple event type and multiple entity ids for which we should be able to send events from Server to Client.</p>\n<p>The service class, responsible for sending the notification is as follows:</p>\n<pre><code>@Service\npublic class SseNotificationServiceImpl implements SseNotificationService {\n\n  private static final Logger log = LoggerFactory.getLogger(SseNotificationServiceImpl.class);\n\n  private final SseEmitterRepository emitterRepository;\n  private final DataMapper dataMapper;\n\n  public SseNotificationServiceImpl(\n      SseEmitterRepository emitterRepository,\n      DataMapper dataMapper) {\n    this.emitterRepository = emitterRepository;\n    this.dataMapper = dataMapper;\n  }\n\n  @Override\n  public void sendSseNotification(String memberId, MyDTO dto) {\n    sendNotification(memberId, dto);\n  }\n\n  private void sendNotification(String memberId, MyDTO dto) {\n    emitterRepository.get(memberId).ifPresentOrElse(sseEmitter -&gt; {\n      try {\n        sseEmitter.send(dataMapper.map(dto));\n      } catch (IOException e) {\n        ...\n        emitterRepository.remove(memberId);\n      }\n    }, () -&gt; ...;\n  }\n} \n</code></pre>\n<p>Finally, the place, where I send this Server Sent Event notification is as follows:</p>\n<pre><code>sseNotificationService.sendSseNotification(...);\n</code></pre>\n<p>Now, my questions are as follows:</p>\n<ol>\n<li><p>if there are multiple, say 6 clients for the Spring Boot application deployed on single POD, will all of them receive notification through the single <code>SseEmitter</code> instance, as I have shown above ?</p>\n</li>\n<li><p>If not, could anyone please help me with the changes which I need to incorporate in the above code, in order to send Server Sent Event notification to all clients ? Thanks.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","maven","spring-boot-maven-plugin"],"owner":{"account_id":7814309,"reputation":36,"user_id":5909546,"display_name":"dr_astico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649951299,"creation_date":1649950442,"question_id":71874168,"body_markdown":"I&#39;m facing a problem building a spring project resulting in a NullPointerException when running\r\n\r\n    mvn spring-boot:build-image -e\r\n\r\nrunning simple &quot;mvn package&quot; directive results in successful build without issues.\r\n\r\nhere is the full stack trace:\r\n\r\n    $ mvn spring-boot:build-image -DskipTests -e\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n    WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    [INFO] Error stacktraces are turned on.\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------&lt; com.cannibalsmurf:loans-manager &gt;-------------------\r\n    [INFO] Building loans-manager 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &gt; package @ loans-manager &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ loans-manager ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 1 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ loans-manager ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ loans-manager ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] skip non existing resourceDirectory /home/clue/UDEMY/UDEMY/loans-manager/src/test/resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ loans-manager ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ loans-manager ---\r\n    [INFO] Tests are skipped.\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ loans-manager ---\r\n    [INFO] Building jar: /home/clue/UDEMY/UDEMY/loans-manager/target/loans-manager-0.0.1-SNAPSHOT.jar\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &lt; package @ loans-manager &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:2.6.6:build-image (default-cli) @ loans-manager ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.673 s\r\n    [INFO] Finished at: 2022-04-14T13:02:41+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.: NullPointerException -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.NullPointerException\r\n        at org.springframework.boot.maven.BuildImageMojo.getArchiveFile (BuildImageMojo.java:285)\r\n        at org.springframework.boot.maven.BuildImageMojo.getBuildRequest (BuildImageMojo.java:238)\r\n        at org.springframework.boot.maven.BuildImageMojo.buildImage (BuildImageMojo.java:228)\r\n        at org.springframework.boot.maven.BuildImageMojo.execute (BuildImageMojo.java:220)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\nand here is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.cannibalsmurf&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;loans-manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;loans-manager&lt;/name&gt;\r\n    \t&lt;description&gt;whatever&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\r\n    \t\t&lt;repackage.classifier /&gt;\r\n    \t\t&lt;spring-native.version&gt;0.11.4&lt;/spring-native.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.experimental/spring-graal-native --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;id&gt;test-generate&lt;/id&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;test-generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;id&gt;generate&lt;/id&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;image&gt;\r\n    \t\t\t\t\t\t\t&lt;buildpacks&gt;\r\n    \t\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image:7.1.0&lt;/buildpack&gt;\r\n    \t\t\t\t\t\t\t&lt;/buildpacks&gt;\r\n    \t\t\t\t\t\t\t&lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\r\n    \t\t\t\t\t\t\t&lt;env&gt;\r\n    \t\t\t\t\t\t\t\t&lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n    \t\t\t\t\t\t\t&lt;/env&gt;\r\n    \t\t\t\t\t\t&lt;/image&gt;\r\n    \t\t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Releases&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Releases&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nI just can&#39;t figure out what is going wrong.\r\n\r\nI found a [similar issue][1] on the projectlombok that doesn&#39;t seem to be related, since the stack trace doesn&#39;t match, and a [workaround][2] was released for what seems to be a javac bug.\r\n\r\nhere the code which throws the exception from spring-boot-maven-plugin version 2.6.6:\r\n\r\n    278    private File getArchiveFile() {\r\n    279    \t// We can use &#39;project.getArtifact().getFile()&#39; because that was done in a\r\n    280    \t// forked lifecycle and is now null\r\n    281    \tFile archiveFile = getTargetFile(this.finalName, this.classifier, this.sourceDirectory);\r\n    282    \tif (!archiveFile.exists()) {\r\n    283    \t\tarchiveFile = getSourceArtifact(this.classifier).getFile();\r\n    284    \t}\r\n    285    \tif (!archiveFile.exists()) {\r\n    286    \t\tthrow new IllegalStateException(&quot;A jar or war file is required for building image&quot;);\r\n    287    \t}\r\n    288    \treturn archiveFile;\r\n    289    }\r\n\r\nas per stack trace, (AFAIK) the NPE is thrown at line 285. Since 282 is executed and `archiveFile` at the same line is not null, then `archiveFile` is assigned null at 283. So the method `getSourceArtifact` returns an `Artifact` instance with the property `file` assigned to null. \r\n\r\nthe getSourceArtifact methods involved:\r\n\r\n    \t/**\r\n\t * Return the source {@link Artifact} to repackage. If a classifier is specified and\r\n\t * an artifact with that classifier exists, it is used. Otherwise, the main artifact\r\n\t * is used.\r\n\t * @param classifier the artifact classifier\r\n\t * @return the source artifact to repackage\r\n\t */\r\n\tprotected Artifact getSourceArtifact(String classifier) {\r\n\t\tArtifact sourceArtifact = getArtifact(classifier);\r\n\t\treturn (sourceArtifact != null) ? sourceArtifact : this.project.getArtifact();\r\n\t}\r\n\r\n\tprivate Artifact getArtifact(String classifier) {\r\n\t\tif (classifier != null) {\r\n\t\t\tfor (Artifact attachedArtifact : this.project.getAttachedArtifacts()) {\r\n\t\t\t\tif (classifier.equals(attachedArtifact.getClassifier()) &amp;&amp; attachedArtifact.getFile() != null\r\n\t\t\t\t\t\t&amp;&amp; attachedArtifact.getFile().isFile()) {\r\n\t\t\t\t\treturn attachedArtifact;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nI&#39;m not able to investigate further (maybe I should first figure out how to proceed to debug this code in order to understand if the problem is in my code or in some dependency inside the pom, or somewhere else in the plugin itself). \r\n\r\n\r\nany suggestion would be really appreciated.\r\n\r\nThank you\r\n\r\n\r\n  [1]:\r\nhttps://github.com/projectlombok/lombok/issues/2184\r\n  [2]: https://github.com/projectlombok/lombok/commit/867c3caf61fcc76b7cb8a7356e71858889f85ebf","title":"SPRING NPE building docker image using spring-boot-maven-plugin and Buildpacks","body":"<p>I'm facing a problem building a spring project resulting in a NullPointerException when running</p>\n<pre><code>mvn spring-boot:build-image -e\n</code></pre>\n<p>running simple &quot;mvn package&quot; directive results in successful build without issues.</p>\n<p>here is the full stack trace:</p>\n<pre><code>$ mvn spring-boot:build-image -DskipTests -e\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------&lt; com.cannibalsmurf:loans-manager &gt;-------------------\n[INFO] Building loans-manager 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &gt; package @ loans-manager &gt;&gt;&gt;\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ loans-manager ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 1 resource\n[INFO] Copying 1 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ loans-manager ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ loans-manager ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] skip non existing resourceDirectory /home/clue/UDEMY/UDEMY/loans-manager/src/test/resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ loans-manager ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ loans-manager ---\n[INFO] Tests are skipped.\n[INFO]\n[INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ loans-manager ---\n[INFO] Building jar: /home/clue/UDEMY/UDEMY/loans-manager/target/loans-manager-0.0.1-SNAPSHOT.jar\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.6.6:build-image (default-cli) &lt; package @ loans-manager &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.6.6:build-image (default-cli) @ loans-manager ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.673 s\n[INFO] Finished at: 2022-04-14T13:02:41+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.: NullPointerException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image (default-cli) on project loans-manager: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:2.6.6:build-image failed.\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException\n    at org.springframework.boot.maven.BuildImageMojo.getArchiveFile (BuildImageMojo.java:285)\n    at org.springframework.boot.maven.BuildImageMojo.getBuildRequest (BuildImageMojo.java:238)\n    at org.springframework.boot.maven.BuildImageMojo.buildImage (BuildImageMojo.java:228)\n    at org.springframework.boot.maven.BuildImageMojo.execute (BuildImageMojo.java:220)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>and here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cannibalsmurf&lt;/groupId&gt;\n    &lt;artifactId&gt;loans-manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;loans-manager&lt;/name&gt;\n    &lt;description&gt;whatever&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\n        &lt;repackage.classifier /&gt;\n        &lt;spring-native.version&gt;0.11.4&lt;/spring-native.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.experimental/spring-graal-native --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n            &lt;version&gt;${spring-native.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${spring-native.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;test-generate&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test-generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;generate&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;image&gt;\n                            &lt;buildpacks&gt;\n                                &lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image:7.1.0&lt;/buildpack&gt;\n                            &lt;/buildpacks&gt;\n                            &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\n                            &lt;env&gt;\n                                &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                            &lt;/env&gt;\n                        &lt;/image&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-releases&lt;/id&gt;\n            &lt;name&gt;Spring Releases&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I just can't figure out what is going wrong.</p>\n<p>I found a <a href=\"https://github.com/projectlombok/lombok/issues/2184\" rel=\"nofollow noreferrer\">similar issue</a> on the projectlombok that doesn't seem to be related, since the stack trace doesn't match, and a <a href=\"https://github.com/projectlombok/lombok/commit/867c3caf61fcc76b7cb8a7356e71858889f85ebf\" rel=\"nofollow noreferrer\">workaround</a> was released for what seems to be a javac bug.</p>\n<p>here the code which throws the exception from spring-boot-maven-plugin version 2.6.6:</p>\n<pre><code>278    private File getArchiveFile() {\n279     // We can use 'project.getArtifact().getFile()' because that was done in a\n280     // forked lifecycle and is now null\n281     File archiveFile = getTargetFile(this.finalName, this.classifier, this.sourceDirectory);\n282     if (!archiveFile.exists()) {\n283         archiveFile = getSourceArtifact(this.classifier).getFile();\n284     }\n285     if (!archiveFile.exists()) {\n286         throw new IllegalStateException(&quot;A jar or war file is required for building image&quot;);\n287     }\n288     return archiveFile;\n289    }\n</code></pre>\n<p>as per stack trace, (AFAIK) the NPE is thrown at line 285. Since 282 is executed and <code>archiveFile</code> at the same line is not null, then <code>archiveFile</code> is assigned null at 283. So the method <code>getSourceArtifact</code> returns an <code>Artifact</code> instance with the property <code>file</code> assigned to null.</p>\n<p>the getSourceArtifact methods involved:</p>\n<pre><code>    /**\n * Return the source {@link Artifact} to repackage. If a classifier is specified and\n * an artifact with that classifier exists, it is used. Otherwise, the main artifact\n * is used.\n * @param classifier the artifact classifier\n * @return the source artifact to repackage\n */\nprotected Artifact getSourceArtifact(String classifier) {\n    Artifact sourceArtifact = getArtifact(classifier);\n    return (sourceArtifact != null) ? sourceArtifact : this.project.getArtifact();\n}\n\nprivate Artifact getArtifact(String classifier) {\n    if (classifier != null) {\n        for (Artifact attachedArtifact : this.project.getAttachedArtifacts()) {\n            if (classifier.equals(attachedArtifact.getClassifier()) &amp;&amp; attachedArtifact.getFile() != null\n                    &amp;&amp; attachedArtifact.getFile().isFile()) {\n                return attachedArtifact;\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>I'm not able to investigate further (maybe I should first figure out how to proceed to debug this code in order to understand if the problem is in my code or in some dependency inside the pom, or somewhere else in the plugin itself).</p>\n<p>any suggestion would be really appreciated.</p>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1649943774,"post_id":71872632,"comment_id":127006138,"body_markdown":"If you get a `ClassCastException` then the element returned is not of type `SpecOption`. Hence, it cannot be cast to a `SpecOption`.","body":"If you get a <code>ClassCastException</code> then the element returned is not of type <code>SpecOption</code>. Hence, it cannot be cast to a <code>SpecOption</code>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1649944046,"post_id":71872632,"comment_id":127006251,"body_markdown":"If you want to get a `List&lt;SpecOption&gt;` reference to a `List&lt;Option&gt;` and check that the elements are of the correct type, you would have to iterate through the list and check the type of each element.","body":"If you want to get a <code>List&lt;SpecOption&gt;</code> reference to a <code>List&lt;Option&gt;</code> and check that the elements are of the correct type, you would have to iterate through the list and check the type of each element."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1649944080,"post_id":71872632,"comment_id":127006264,"body_markdown":"@Turing85 yes, but why do I get a list of the wrong objects? I need to get this exception earlier in the ```getOptions()``` method.","body":"@Turing85 yes, but why do I get a list of the wrong objects? I need to get this exception earlier in the <code>getOptions()</code> method."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1649944683,"post_id":71872632,"comment_id":127006517,"body_markdown":"The generic type is defined wrong then. Casting does nothing else then change the compiler&#39;s view. IIRC, the JLS just states that a cast has to be inserted to guarantee types, but the compiler is allowed to insert it wherever it sees fit.","body":"The generic type is defined wrong then. Casting does nothing else then change the compiler&#39;s view. IIRC, the JLS just states that a cast has to be inserted to guarantee types, but the compiler is allowed to insert it wherever it sees fit."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649945357,"post_id":71872632,"comment_id":127006824,"body_markdown":"I would expect an error starting at `this.options = options;`; at least one at `public &lt;T extends Option&gt; getOptions()` - maybe you should work with `Data&lt;T&gt;` (have that class generic, not just the methods)","body":"I would expect an error starting at <code>this.options = options;</code>; at least one at <code>public &lt;T extends Option&gt; getOptions()</code> - maybe you should work with <code>Data&lt;T&gt;</code> (have that class generic, not just the methods)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1649950812,"post_id":71872632,"comment_id":127009066,"body_markdown":"If you are getting a `ClassCastException`, then maybe the code that you are running differs from the code you have posted. Because your class `Data` will not compile. Assignment in the `setOptions()` is illegal. And return type is missing in the declaration of `getOptions()` method.","body":"If you are getting a <code>ClassCastException</code>, then maybe the code that you are running differs from the code you have posted. Because your class <code>Data</code> will not compile. Assignment in the <code>setOptions()</code> is illegal. And return type is missing in the declaration of <code>getOptions()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649951244,"creation_date":1649951244,"answer_id":71874346,"question_id":71872632,"body_markdown":"Generics are figment of `javac`&#39;s imagination. It&#39;s entirely a compile time show.\r\n\r\nThe offending line is this one:\r\n\r\n&gt; ```java\r\n&gt; public &lt;T extends Option&gt; getOptions() {\r\n&gt;   return (List&lt;T&gt;) options;\r\n&gt; }\r\n&gt; ```\r\n\r\nWhich is why javac gave you a warning which you evidently decided to ignore (don&#39;t do that). generics is something that applies solely to compile time, and the compiler is telling you that it can&#39;t verify any of the generics. In other words, now you have no type checking at all. The compiler is telling you: If you ignore this warning, you will get ClassCastExceptions in really bizarre places: Places with zero casts!\r\n\r\nIt&#39;s not entirely clear what you want here, but in broad strokes, you want something like either this:\r\n\r\n```\r\npublic class Data {\r\n  private List&lt;? extends Option&gt; options;\r\n\r\n  public void setOptions(List&lt;? extends Option&gt; options) {\r\n    this.options = options;\r\n  }\r\n\r\n  public List&lt;? extends Option&gt; getOptions() {\r\n    return this.options;\r\n  }\r\n\r\n  public &lt;T extends Options&gt; List&lt;T&gt; getOptionsAs(Class&lt;T&gt; desiredType) {\r\n    var result = new ArrayList&lt;T&gt;();\r\n    for (Option o : options) {\r\n      result.add(desiredType.cast(o));\r\n    }\r\n    return result;\r\n}\r\n\r\n// and to use:\r\n\r\nList&lt;SpecOption&gt; options = opt.getOptionsAs(SpecOption.class);\r\n// The above line throws a ClassCastEx if neccessary.\r\n```\r\n\r\nThe above has no generics warnings, lets you &#39;set&#39; options with anything suitable (given a `List&lt;SpecOption&gt;`, you can just pass that to `setOption`, whereas in your code you can&#39;t without a warning-causing cast. You don&#39;t want those casts. You can read the options, and if you want specifically: Either give me the options specifically as a list of SpecOption objects, or, if there&#39;s one or more option objects in there that isn&#39;t a SpecOption, throw a ClassCastException right away - then that&#39;s what `getOptionsAs` does.\r\n\r\nYes, a loop. As I said, generics is purely a compiler show. If you want type safety you have to program it, which the above example does.\r\n\r\nor, perhaps something more along the lines of this:\r\n\r\n```\r\npublic class Data&lt;T extends Option&gt; {\r\n  private List&lt;? extends T&gt; options;\r\n\r\n  public void setOptions(List&lt;? extends T&gt; options) {\r\n    this.options = options;\r\n  }\r\n\r\n  public List&lt;? extends T&gt; getOptions() {\r\n    return this.options;\r\n  }\r\n}\r\n```\r\n\r\nHere you set up a `Data` object to pre-pick the kind of option type it&#39;s supposed to have.","title":"How to cast List&lt;T&gt; to specific type","body":"<p>Generics are figment of <code>javac</code>'s imagination. It's entirely a compile time show.</p>\n<p>The offending line is this one:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends Option&gt; getOptions() {\n  return (List&lt;T&gt;) options;\n}\n</code></pre>\n</blockquote>\n<p>Which is why javac gave you a warning which you evidently decided to ignore (don't do that). generics is something that applies solely to compile time, and the compiler is telling you that it can't verify any of the generics. In other words, now you have no type checking at all. The compiler is telling you: If you ignore this warning, you will get ClassCastExceptions in really bizarre places: Places with zero casts!</p>\n<p>It's not entirely clear what you want here, but in broad strokes, you want something like either this:</p>\n<pre><code>public class Data {\n  private List&lt;? extends Option&gt; options;\n\n  public void setOptions(List&lt;? extends Option&gt; options) {\n    this.options = options;\n  }\n\n  public List&lt;? extends Option&gt; getOptions() {\n    return this.options;\n  }\n\n  public &lt;T extends Options&gt; List&lt;T&gt; getOptionsAs(Class&lt;T&gt; desiredType) {\n    var result = new ArrayList&lt;T&gt;();\n    for (Option o : options) {\n      result.add(desiredType.cast(o));\n    }\n    return result;\n}\n\n// and to use:\n\nList&lt;SpecOption&gt; options = opt.getOptionsAs(SpecOption.class);\n// The above line throws a ClassCastEx if neccessary.\n</code></pre>\n<p>The above has no generics warnings, lets you 'set' options with anything suitable (given a <code>List&lt;SpecOption&gt;</code>, you can just pass that to <code>setOption</code>, whereas in your code you can't without a warning-causing cast. You don't want those casts. You can read the options, and if you want specifically: Either give me the options specifically as a list of SpecOption objects, or, if there's one or more option objects in there that isn't a SpecOption, throw a ClassCastException right away - then that's what <code>getOptionsAs</code> does.</p>\n<p>Yes, a loop. As I said, generics is purely a compiler show. If you want type safety you have to program it, which the above example does.</p>\n<p>or, perhaps something more along the lines of this:</p>\n<pre><code>public class Data&lt;T extends Option&gt; {\n  private List&lt;? extends T&gt; options;\n\n  public void setOptions(List&lt;? extends T&gt; options) {\n    this.options = options;\n  }\n\n  public List&lt;? extends T&gt; getOptions() {\n    return this.options;\n  }\n}\n</code></pre>\n<p>Here you set up a <code>Data</code> object to pre-pick the kind of option type it's supposed to have.</p>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71874346,"answer_count":1,"score":-1,"last_activity_date":1649951244,"creation_date":1649943647,"question_id":71872632,"body_markdown":"I have the code that looks like the following:\r\n```\r\npublic class Option {\r\n    ...\r\n}\r\n\r\npublic class SpecOption extends Option {\r\n    ...\r\n}\r\n\r\npublic class Data {\r\n    private List&lt;Option&gt; options;\r\n\r\n    public &lt;T extends Option&gt; void setOptions(List&lt;T&gt; options) {\r\n        this.options = options;\r\n    }\r\n    public &lt;T extends Option&gt; getOptions() {\r\n        return (List&lt;T&gt;) options;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String... args) {\r\n        Option option = new Option();\r\n        List&lt;Option&gt; lst = new ArrayList&lt;&gt;();\r\n        lst.add(option);\r\n        Data data = new Data();\r\n        data.setOptions(lst);\r\n\r\n        List&lt;SpecOption&gt; spec = data.getOptions(); // I want to get here null or ClassCastException.\r\n        SpecOption = spec.get(0);    // I get ClassCastException here\r\n    }\r\n}\r\n```\r\nhow to cast to specific type in the line above ```SpecOption = spec.get(0);```?","title":"How to cast List&lt;T&gt; to specific type","body":"<p>I have the code that looks like the following:</p>\n<pre><code>public class Option {\n    ...\n}\n\npublic class SpecOption extends Option {\n    ...\n}\n\npublic class Data {\n    private List&lt;Option&gt; options;\n\n    public &lt;T extends Option&gt; void setOptions(List&lt;T&gt; options) {\n        this.options = options;\n    }\n    public &lt;T extends Option&gt; getOptions() {\n        return (List&lt;T&gt;) options;\n    }\n}\n\npublic class Main {\n    public static void main(String... args) {\n        Option option = new Option();\n        List&lt;Option&gt; lst = new ArrayList&lt;&gt;();\n        lst.add(option);\n        Data data = new Data();\n        data.setOptions(lst);\n\n        List&lt;SpecOption&gt; spec = data.getOptions(); // I want to get here null or ClassCastException.\n        SpecOption = spec.get(0);    // I get ClassCastException here\n    }\n}\n</code></pre>\n<p>how to cast to specific type in the line above <code>SpecOption = spec.get(0);</code>?</p>\n"},{"tags":["java","android","button","floating-action-button"],"comments":[{"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"score":0,"creation_date":1476085078,"post_id":39953066,"comment_id":67186561,"body_markdown":"Show your code.","body":"Show your code."}],"answers":[{"tags":[],"owner":{"account_id":6726788,"reputation":713,"user_id":5184462,"accept_rate":80,"display_name":"Jordan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1476086355,"creation_date":1476085706,"answer_id":39953518,"question_id":39953066,"body_markdown":"You could simply use Android support library to create a Floating Action Button.\r\nFor example here is a floating action button example with custom background color, pressed and focused states.\r\n\r\n**XML**\r\n\r\n    &lt;android.support.design.widget.FloatingActionButton xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                        android:id=&quot;@+id/fb&quot;\r\n                        android:layout_width=&quot;60dp&quot;\r\n                        android:layout_height=&quot;60dp&quot;\r\n                        android:src=&quot;@drawable/fb_icon_play&quot;\r\n                        app:backgroundTint=&quot;@drawable/fb_play_bg&quot; /&gt;\r\n\r\n\r\n**fb_icon_play.xml in Drawable Folder**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot; android:drawable=&quot;@drawable/floating_button_blue_play_icon_pressed&quot; /&gt;\r\n        &lt;item android:state_focused=&quot;true&quot; android:drawable=&quot;@drawable/floating_button_yellow_play_icon_pressed&quot; /&gt;\r\n    \r\n        &lt;item android:drawable=&quot;@drawable/floating_button_yellow_play_icon_pressed&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\n**fb_play_bg.xml in Drawable Folder**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_focused=&quot;true&quot; android:state_pressed=&quot;false&quot; android:color=&quot;#3389b3&quot;/&gt;\r\n    &lt;item android:state_focused=&quot;true&quot; android:state_pressed=&quot;true&quot; android:color=&quot;#3389b3&quot; /&gt;\r\n    &lt;item android:state_focused=&quot;false&quot; android:state_pressed=&quot;true&quot; android:color=&quot;#d1930f&quot; /&gt;\r\n    &lt;item android:color=&quot;#3389b3&quot; /&gt;\r\n    &lt;/selector&gt;\r\n\r\n\r\n[Here][1] is another tutorial for creating a custom FloatingActionButton. \r\n\r\n\r\n  [1]: http://www.android4devs.com/2015/03/how-to-make-floating-action-button-fab.html","title":"how to create or make or set custom background in floating button android","body":"<p>You could simply use Android support library to create a Floating Action Button.\nFor example here is a floating action button example with custom background color, pressed and focused states.</p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                    android:id=\"@+id/fb\"\n                    android:layout_width=\"60dp\"\n                    android:layout_height=\"60dp\"\n                    android:src=\"@drawable/fb_icon_play\"\n                    app:backgroundTint=\"@drawable/fb_play_bg\" /&gt;\n</code></pre>\n\n<p><strong>fb_icon_play.xml in Drawable Folder</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_pressed=\"true\" android:drawable=\"@drawable/floating_button_blue_play_icon_pressed\" /&gt;\n    &lt;item android:state_focused=\"true\" android:drawable=\"@drawable/floating_button_yellow_play_icon_pressed\" /&gt;\n\n    &lt;item android:drawable=\"@drawable/floating_button_yellow_play_icon_pressed\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p><strong>fb_play_bg.xml in Drawable Folder</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;item android:state_focused=\"true\" android:state_pressed=\"false\" android:color=\"#3389b3\"/&gt;\n&lt;item android:state_focused=\"true\" android:state_pressed=\"true\" android:color=\"#3389b3\" /&gt;\n&lt;item android:state_focused=\"false\" android:state_pressed=\"true\" android:color=\"#d1930f\" /&gt;\n&lt;item android:color=\"#3389b3\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p><a href=\"http://www.android4devs.com/2015/03/how-to-make-floating-action-button-fab.html\" rel=\"nofollow\">Here</a> is another tutorial for creating a custom FloatingActionButton. </p>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649950749,"creation_date":1649950749,"answer_id":71874231,"question_id":39953066,"body_markdown":"You can use the new version of FAB, **Extended FAB** in XML\r\n\r\nThe old one \r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton/&gt;\r\n\r\nThe newest:\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.ExtendedFloatingActionButton/&gt;\r\n\r\nthen you can define **Icon**, **Text** and **Shape**:\r\n \r\n\r\n    android:text=&quot;Hi&quot; \r\n    app:icon=&quot;@android:drawable/ic_media_play&quot;\r\n    app:shapeAppearance=&quot;@style/ShapeAppearanceOverlay.Material3.FloatingActionButton&quot;\r\n    app:shapeAppearanceOverlay=&quot;null&quot;\r\n\r\n\r\n\r\n","title":"how to create or make or set custom background in floating button android","body":"<p>You can use the new version of FAB, <strong>Extended FAB</strong> in XML</p>\n<p>The old one</p>\n<pre><code>&lt;com.google.android.material.floatingactionbutton.FloatingActionButton/&gt;\n</code></pre>\n<p>The newest:</p>\n<pre><code>&lt;com.google.android.material.floatingactionbutton.ExtendedFloatingActionButton/&gt;\n</code></pre>\n<p>then you can define <strong>Icon</strong>, <strong>Text</strong> and <strong>Shape</strong>:</p>\n<pre><code>android:text=&quot;Hi&quot; \napp:icon=&quot;@android:drawable/ic_media_play&quot;\napp:shapeAppearance=&quot;@style/ShapeAppearanceOverlay.Material3.FloatingActionButton&quot;\napp:shapeAppearanceOverlay=&quot;null&quot;\n</code></pre>\n"}],"owner":{"display_name":"user4933560"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6396,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":39953518,"answer_count":2,"score":1,"last_activity_date":1649950749,"creation_date":1476083959,"question_id":39953066,"body_markdown":"I have created custom floating button and use all library but not created custom floating button i have very tried to make to this button if you any idea how to make custom floating button.\r\n&lt;br&gt;Plz help me\r\n\r\nMy button look like this:\r\n\r\n![Floating Button image][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/d0RDq.jpg\r\n\r\n**My code**\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_build_now&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_weight=&quot;0&quot;\r\n        android:background=&quot;@color/Background_Main&quot;\r\n        android:drawableBottom=&quot;@drawable/button_bg&quot;\r\n        android:paddingBottom=&quot;10dp&quot; /&gt;","title":"how to create or make or set custom background in floating button android","body":"<p>I have created custom floating button and use all library but not created custom floating button i have very tried to make to this button if you any idea how to make custom floating button.\n<br>Plz help me</p>\n\n<p>My button look like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/d0RDq.jpg\" alt=\"Floating Button image\"></p>\n\n<p><strong>My code</strong></p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/btn_build_now\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center_horizontal\"\n    android:layout_weight=\"0\"\n    android:background=\"@color/Background_Main\"\n    android:drawableBottom=\"@drawable/button_bg\"\n    android:paddingBottom=\"10dp\" /&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","hive","apache-spark-sql"],"comments":[{"owner":{"account_id":16526902,"reputation":148,"user_id":12109772,"display_name":"Smile"},"score":0,"creation_date":1649820130,"post_id":67776394,"comment_id":126970039,"body_markdown":"Hi @aggrawalnikhil02, have you found a solution? I&#39;m having the same problem..","body":"Hi @aggrawalnikhil02, have you found a solution? I&#39;m having the same problem.."}],"answers":[{"tags":[],"owner":{"account_id":16526902,"reputation":148,"user_id":12109772,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649950683,"creation_date":1649950683,"answer_id":71874217,"question_id":67776394,"body_markdown":"To create UDFs the Java class needs to follow a specific pattern.\r\nAccording to the [documentation][1], the implementing class should extend one of the base classes:\r\n\r\n&gt;`class_name`\r\n&gt;\r\n&gt;Specifies the name of the class that provides the implementation for function to be created. The implementing class should extend one of the base classes as follows:\r\n&gt; - Should extend `UDF` or `UDAF` in `org.apache.hadoop.hive.ql.exec` package.\r\n&gt; - Should extend `AbstractGenericUDAFResolver`, `GenericUDF`, or `GenericUDTF` in `org.apache.hadoop.hive.ql.udf.generic` package.\r\n&gt; - Should extend `UserDefinedAggregateFunction` in `org.apache.spark.sql.expressions` package.\r\n\r\nTherefore, for example, your class definition should look like:\r\n\r\n```\r\nimport org.apache.hadoop.hive.ql.exec.UDF;\r\n\r\npublic class ClusterAlgocall_Main3 extends UDF { ... }\r\n```\r\n\r\n\r\n[Here][2] is an example.\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/3.0.0-preview/sql-ref-syntax-ddl-create-function.html\r\n  [2]: https://github.com/curtishoward/sparkudfexamples/blob/master/hive-udf/src/main/java/com/cloudera/fce/curtis/sparkudfexamples/hiveudf/CTOF.java","title":"No handler for UDF/UDAF/UDTF - Spark UDF3","body":"<p>To create UDFs the Java class needs to follow a specific pattern.\nAccording to the <a href=\"https://spark.apache.org/docs/3.0.0-preview/sql-ref-syntax-ddl-create-function.html\" rel=\"nofollow noreferrer\">documentation</a>, the implementing class should extend one of the base classes:</p>\n<blockquote>\n<p><code>class_name</code></p>\n<p>Specifies the name of the class that provides the implementation for function to be created. The implementing class should extend one of the base classes as follows:</p>\n<ul>\n<li>Should extend <code>UDF</code> or <code>UDAF</code> in <code>org.apache.hadoop.hive.ql.exec</code> package.</li>\n<li>Should extend <code>AbstractGenericUDAFResolver</code>, <code>GenericUDF</code>, or <code>GenericUDTF</code> in <code>org.apache.hadoop.hive.ql.udf.generic</code> package.</li>\n<li>Should extend <code>UserDefinedAggregateFunction</code> in <code>org.apache.spark.sql.expressions</code> package.</li>\n</ul>\n</blockquote>\n<p>Therefore, for example, your class definition should look like:</p>\n<pre><code>import org.apache.hadoop.hive.ql.exec.UDF;\n\npublic class ClusterAlgocall_Main3 extends UDF { ... }\n</code></pre>\n<p><a href=\"https://github.com/curtishoward/sparkudfexamples/blob/master/hive-udf/src/main/java/com/cloudera/fce/curtis/sparkudfexamples/hiveudf/CTOF.java\" rel=\"nofollow noreferrer\">Here</a> is an example.</p>\n"}],"owner":{"account_id":15980911,"reputation":11,"user_id":11532603,"display_name":"aggrawalnikhil02"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649950683,"creation_date":1622474171,"question_id":67776394,"body_markdown":"**Java Code -** \r\n\r\n    package ClusterAlgoCall2;\r\n    \r\n    import org.apache.spark.sql.SparkSession;\r\n    import org.apache.spark.sql.api.java.UDF3;\r\n    import org.apache.spark.sql.types.DataTypes;\r\n    \r\n    public class ClusterAlgocall_Main3 {\r\n    \tpublic static void main(String[] args) {\r\n    \tSparkSession spark = SparkSession.builder().appName(&quot;someappname&quot;).enableHiveSupport().getOrCreate();\r\n    \r\n    \tUDF3 UDFCosinetoTxt = new UDF3&lt;String, String, String, String&gt;() {\r\n            public String call(String col1, String col2 , String col3) throws Exception {\r\n                return col3  ;\r\n            }\r\n        };\r\n        spark.udf().register(&quot;UDFCosinetoTxt&quot;, UDFCosinetoTxt, DataTypes.StringType);\r\n    }\r\n    }\r\n**Built it &amp; created a jar for it. Tried to use this jar in spark-SQL**\r\n**After creating a temp function using -**\r\n\r\n    add jar s3://xxxx/jar/ClusterAlgoCall2.jar ;\r\n    CREATE TEMPORARY FUNCTION ClusterAlgo as &#39;ClusterAlgoCall2.ClusterAlgocall_Main3&#39; using jar &#39;s3://xxxx/jar/ClusterAlgoCall2.jar&#39;;\r\n\r\n**Error While running Query -** \r\n\r\n    select ClusterAlgo2(col1,col2,col3) from clusteralgo_test ;\r\n    Error in query: No handler for UDF/UDAF/UDTF &#39;ClusterAlgoCall2.ClusterAlgocall_Main3&#39;; line 1 pos 7\r\n\r\n","title":"No handler for UDF/UDAF/UDTF - Spark UDF3","body":"<p><strong>Java Code -</strong></p>\n<pre><code>package ClusterAlgoCall2;\n\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.api.java.UDF3;\nimport org.apache.spark.sql.types.DataTypes;\n\npublic class ClusterAlgocall_Main3 {\n    public static void main(String[] args) {\n    SparkSession spark = SparkSession.builder().appName(&quot;someappname&quot;).enableHiveSupport().getOrCreate();\n\n    UDF3 UDFCosinetoTxt = new UDF3&lt;String, String, String, String&gt;() {\n        public String call(String col1, String col2 , String col3) throws Exception {\n            return col3  ;\n        }\n    };\n    spark.udf().register(&quot;UDFCosinetoTxt&quot;, UDFCosinetoTxt, DataTypes.StringType);\n}\n}\n</code></pre>\n<p><strong>Built it &amp; created a jar for it. Tried to use this jar in spark-SQL</strong>\n<strong>After creating a temp function using -</strong></p>\n<pre><code>add jar s3://xxxx/jar/ClusterAlgoCall2.jar ;\nCREATE TEMPORARY FUNCTION ClusterAlgo as 'ClusterAlgoCall2.ClusterAlgocall_Main3' using jar 's3://xxxx/jar/ClusterAlgoCall2.jar';\n</code></pre>\n<p><strong>Error While running Query -</strong></p>\n<pre><code>select ClusterAlgo2(col1,col2,col3) from clusteralgo_test ;\nError in query: No handler for UDF/UDAF/UDTF 'ClusterAlgoCall2.ClusterAlgocall_Main3'; line 1 pos 7\n</code></pre>\n"},{"tags":["java","arrays","split"],"comments":[{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":1,"creation_date":1649950408,"post_id":71874111,"comment_id":127008893,"body_markdown":"Try escaping the pipes `\\|\\|`.","body":"Try escaping the pipes <code>\\|\\|</code>."},{"owner":{"account_id":7468171,"reputation":2758,"user_id":5676949,"accept_rate":79,"display_name":"Dog"},"score":0,"creation_date":1649950486,"post_id":71874111,"comment_id":127008931,"body_markdown":"tells me illegal escape character","body":"tells me illegal escape character"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1649950497,"post_id":71874111,"comment_id":127008939,"body_markdown":"`split` takes a regular expression, and `|` has a special meaning in regular expressions. In a string literal, you need to double the backslash (so `&quot;\\\\|\\\\|&quot;`)","body":"<code>split</code> takes a regular expression, and <code>|</code> has a special meaning in regular expressions. In a string literal, you need to double the backslash (so <code>&quot;\\\\|\\\\|&quot;</code>)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649950603,"post_id":71874111,"comment_id":127008981,"body_markdown":"Related, arguably a duplicate: [Split function doesn&#39;t work](https://stackoverflow.com/questions/21644970/split-function-doesnt-work), [Why String.split(&quot;$&quot;) doesn&#39;t work?](https://stackoverflow.com/questions/13218504/why-string-split-doesnt-work)","body":"Related, arguably a duplicate: <a href=\"https://stackoverflow.com/questions/21644970/split-function-doesnt-work\">Split function doesn&#39;t work</a>, <a href=\"https://stackoverflow.com/questions/13218504/why-string-split-doesnt-work\">Why String.split(&quot;$&quot;) doesn&#39;t work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649950633,"creation_date":1649950633,"answer_id":71874207,"question_id":71874111,"body_markdown":"You need to double escape them.  Once for the `String` and once for the `regex`. `\\\\` escapes the slash so it can be passed on to the regex as `\\|` which escapes the `|`.\r\n\r\nThe `\\\\s*` allows for 0 or more white spaces before and after the `||`\r\n```\r\nString animalString = &quot;animal || type || area&quot;;\r\nString animalArray[] = animalString.split(&quot;\\\\s*\\\\|\\\\|\\\\s*&quot;);\r\n\r\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\r\n```\r\nprints\r\n```\r\nresult = [animal, type, area]","title":"String Split in Java Giving Unexpected Results","body":"<p>You need to double escape them.  Once for the <code>String</code> and once for the <code>regex</code>. <code>\\\\</code> escapes the slash so it can be passed on to the regex as <code>\\|</code> which escapes the <code>|</code>.</p>\n<p>The <code>\\\\s*</code> allows for 0 or more white spaces before and after the <code>||</code></p>\n<pre><code>String animalString = &quot;animal || type || area&quot;;\nString animalArray[] = animalString.split(&quot;\\\\s*\\\\|\\\\|\\\\s*&quot;);\n\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\n</code></pre>\n<p>prints</p>\n<pre><code>result = [animal, type, area]\n</code></pre>\n"}],"owner":{"account_id":7468171,"reputation":2758,"user_id":5676949,"accept_rate":79,"display_name":"Dog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71874207,"answer_count":1,"score":1,"last_activity_date":1649950633,"creation_date":1649950258,"question_id":71874111,"body_markdown":"I have a series of strings with the following format: &quot;animal || type || area ||&quot;. \r\n\r\nIn Java, I&#39;m trying to split the string so I can just the first part. Everything I have read online says to split the string:\r\n\r\n```\r\nString animalString = &quot;animal || type || area&quot;\r\nString animalArray[] = animalString.split(&quot;||&quot;)\r\n\r\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\r\n```\r\n\r\nHowever, when I split the string it doesn&#39;t merely split based on the &#39;||&#39; division but instead splits every letter:\r\n```\r\nresult = [a, n, i, m, a, l,  , |, |,  , t, y, p, e,  , |, |,  , a, r, e, a,  , |, |]\r\n```\r\nWhen I add a delimiter to the split method, it delimits the first part of the string, so that is not effective. \r\n\r\nHow can I split a string that has the above format so I can get the three words themselves in an array and not just the letters? \r\n","title":"String Split in Java Giving Unexpected Results","body":"<p>I have a series of strings with the following format: &quot;animal || type || area ||&quot;.</p>\n<p>In Java, I'm trying to split the string so I can just the first part. Everything I have read online says to split the string:</p>\n<pre><code>String animalString = &quot;animal || type || area&quot;\nString animalArray[] = animalString.split(&quot;||&quot;)\n\nSystem.out.println(&quot;result = &quot; + Arrays.toString(animalArray));\n</code></pre>\n<p>However, when I split the string it doesn't merely split based on the '||' division but instead splits every letter:</p>\n<pre><code>result = [a, n, i, m, a, l,  , |, |,  , t, y, p, e,  , |, |,  , a, r, e, a,  , |, |]\n</code></pre>\n<p>When I add a delimiter to the split method, it delimits the first part of the string, so that is not effective.</p>\n<p>How can I split a string that has the above format so I can get the three words themselves in an array and not just the letters?</p>\n"},{"tags":["java","javafx","javafx-css"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1649937666,"post_id":71871193,"comment_id":127003804,"body_markdown":"please read the api doc: _This method is a no-op if the Node is not in a Scene_","body":"please read the api doc: <i>This method is a no-op if the Node is not in a Scene</i>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1649937892,"post_id":71871193,"comment_id":127003881,"body_markdown":"This just looks like an X-Y problem; you seem to be trying to manage the layout by hand (e.g. setting the preferred height of the `mainAnchorPane` depending on the calculated height of its child nodes). You almost certainly don&#39;t need to do that (it&#39;s the default behavior for most layout panes), and in the rare circumstances when you do, this is not the way to do it. What are you actually trying to do here? Why are you using an `AnchorPane`: are you sure that is the best layout pane to achieve whatever layout it is you want?","body":"This just looks like an X-Y problem; you seem to be trying to manage the layout by hand (e.g. setting the preferred height of the <code>mainAnchorPane</code> depending on the calculated height of its child nodes). You almost certainly don&#39;t need to do that (it&#39;s the default behavior for most layout panes), and in the rare circumstances when you do, this is not the way to do it. What are you actually trying to do here? Why are you using an <code>AnchorPane</code>: are you sure that is the best layout pane to achieve whatever layout it is you want?"}],"answers":[{"tags":[],"owner":{"account_id":24202681,"reputation":1,"user_id":18160307,"display_name":"MicroKlizma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649950489,"creation_date":1649950489,"answer_id":71874175,"question_id":71871193,"body_markdown":"In my case, I was using `mainAnchorPane.setPrefHeight(vbox.getHeight())` because after experiments I noticed that without that method mainAnchorPane wouldn&#39;t change the height. That is because I set exact pref height value for AnchorPane in SceneBuilder. But after setting USE_COMPUTED_SIZE, my AnchorPane will have the size that I actually want. So all I need is:\r\n\r\n[set computed size for all fields][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GBvls.png","title":"Why does JavaFX Node have wrong sizes in initialize method after css is applied?","body":"<p>In my case, I was using <code>mainAnchorPane.setPrefHeight(vbox.getHeight())</code> because after experiments I noticed that without that method mainAnchorPane wouldn't change the height. That is because I set exact pref height value for AnchorPane in SceneBuilder. But after setting USE_COMPUTED_SIZE, my AnchorPane will have the size that I actually want. So all I need is:</p>\n<p><a href=\"https://i.stack.imgur.com/GBvls.png\" rel=\"nofollow noreferrer\">set computed size for all fields</a></p>\n"}],"owner":{"account_id":24202681,"reputation":1,"user_id":18160307,"display_name":"MicroKlizma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71874175,"answer_count":1,"score":-2,"last_activity_date":1649950489,"creation_date":1649937206,"question_id":71871193,"body_markdown":"I have a VBox that have several AnchorPane. I decided to add css style to these AnchorPane: -fx-border-width. But the VBox is inside another &quot;main&quot; AnchorPane, and main AnchorPane is inside the ScrollPane. If I&#39;m adding css to elements, not all the elements in the ScrollPane will be displayed. For testing, I made border-width 0 0 10 0. I have 20 elements, so the total size of the VBox after applying the style to each element of the VBox should increase by 200. In the controller&#39;s intiailize() method, after calling the layout() and applyCss(), getHeight( ) for the VBox returns 1200 (and I know that is the height of VBox if I wouldn&#39;t add css). Then for the main anchorPane I&#39;m setting the height setPrefHeight(vbox.getHeight()). But after my application finally runs, I see that the VBox size is 1400 as expected. But the size of the AnchorPane still 1200, and therefore if I will scroll to the end, some elements inside the ScrollPane will not be visible. How can I fix it?\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        for (int i = 0; i &lt; 20; i++) {\r\n            addElementsToVBox();\r\n        }\r\n    \r\n        vbox.applyCss();\r\n        vbox.layout();\r\n    \r\n        mainAnchorPane.applyCss();\r\n        mainAnchorPane.layout();\r\n    \r\n        System.out.println(vbox.getHeight()); //in my case will be 1200, \r\n        //but after the application will complete the loading, vbox.getHeight() will return 1400\r\n        //if I would invoke it from button&#39;s onAction() for example\r\n    \r\n        mainAnchorPane.setPrefHeight(vbox.getHeight());\r\n    }\r\n    \r\n    private void addElementsToVBox() {\r\n        Label label = new Label();\r\n        label.setText(&quot;Test&quot;);\r\n        \r\n        AnchorPane anchorPane = new AnchorPane();\r\n        anchorPane.getChildren().add(label);\r\n        anchorPane.setPadding( new Insets(2, 0, 2, 0) );\r\n        anchorPane.setStyle(&quot;-fx-border-width: 0 0 10 0; -fx-border-color: black&quot;);\r\n        anchorPane.applyCss();\r\n        anchorPane.layout();\r\n    \r\n        vbox.getChildren().add(anchorPane);\r\n    }","title":"Why does JavaFX Node have wrong sizes in initialize method after css is applied?","body":"<p>I have a VBox that have several AnchorPane. I decided to add css style to these AnchorPane: -fx-border-width. But the VBox is inside another &quot;main&quot; AnchorPane, and main AnchorPane is inside the ScrollPane. If I'm adding css to elements, not all the elements in the ScrollPane will be displayed. For testing, I made border-width 0 0 10 0. I have 20 elements, so the total size of the VBox after applying the style to each element of the VBox should increase by 200. In the controller's intiailize() method, after calling the layout() and applyCss(), getHeight( ) for the VBox returns 1200 (and I know that is the height of VBox if I wouldn't add css). Then for the main anchorPane I'm setting the height setPrefHeight(vbox.getHeight()). But after my application finally runs, I see that the VBox size is 1400 as expected. But the size of the AnchorPane still 1200, and therefore if I will scroll to the end, some elements inside the ScrollPane will not be visible. How can I fix it?</p>\n<pre><code>@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    for (int i = 0; i &lt; 20; i++) {\n        addElementsToVBox();\n    }\n\n    vbox.applyCss();\n    vbox.layout();\n\n    mainAnchorPane.applyCss();\n    mainAnchorPane.layout();\n\n    System.out.println(vbox.getHeight()); //in my case will be 1200, \n    //but after the application will complete the loading, vbox.getHeight() will return 1400\n    //if I would invoke it from button's onAction() for example\n\n    mainAnchorPane.setPrefHeight(vbox.getHeight());\n}\n\nprivate void addElementsToVBox() {\n    Label label = new Label();\n    label.setText(&quot;Test&quot;);\n    \n    AnchorPane anchorPane = new AnchorPane();\n    anchorPane.getChildren().add(label);\n    anchorPane.setPadding( new Insets(2, 0, 2, 0) );\n    anchorPane.setStyle(&quot;-fx-border-width: 0 0 10 0; -fx-border-color: black&quot;);\n    anchorPane.applyCss();\n    anchorPane.layout();\n\n    vbox.getChildren().add(anchorPane);\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc","intellij-idea"],"answers":[{"tags":[],"owner":{"display_name":"user18778919"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649949863,"creation_date":1649949863,"answer_id":71874018,"question_id":71873422,"body_markdown":"You gotta put step 4 before step 3.\r\n&lt;!-- enable the configuration of transactional behavior based on annotations --&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;&lt;!-- a PlatformTransactionManager is still required --&gt;\r\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n        &lt;!-- (this dependency is defined somewhere else) --&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n","title":"&quot;transaction-manager&quot; in &quot;&lt;tx:annotation-driven ... &quot; tag does not get recognized as a valid reference","body":"<p>You gotta put step 4 before step 3.</p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;&lt;!-- a PlatformTransactionManager is still required --&gt;\n&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n    &lt;!-- (this dependency is defined somewhere else) --&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":18808809,"reputation":97,"user_id":13717463,"display_name":"user13717463"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649949863,"creation_date":1649947225,"question_id":71873422,"body_markdown":"The context is Java Spring MVC and Hibernate, in IntelliJ. For some reason, in the Spring MVC config file, &quot;transaction-manager&quot; is not recognized as a valid reference. See the red text below:\r\n\r\n[![transaction-manager attribute is not allowed here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/zQksl.png\r\n\r\nAny tips on how to resolve this?\r\n\r\nHere is the full config file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/cache&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd&quot;&gt;\r\n\r\n    &lt;!-- Base-package --&gt;\r\n    &lt;context:component-scan base-package=&quot;com.sprang&quot;/&gt;\r\n    &lt;mvc:annotation-driven/&gt;\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 1: Define Database DataSource/Connection Pool --&gt;\r\n    &lt;bean id=&quot;myDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://us-cdbr-east-05.cleardb.net:3306/heroku_1e4cf119be0ff4a&quot;/&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;b3a0c1309826f0&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;5b30f68e&quot;/&gt;\r\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot;/&gt;\r\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 2: Setup Hibernate session factory --&gt;\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.sprang.model&quot;/&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 3: Setup Hibernate transaction manager --&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Step 4: Enable configuration of transactional behavior based on annotations --&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n&lt;/beans&gt;\r\n```","title":"&quot;transaction-manager&quot; in &quot;&lt;tx:annotation-driven ... &quot; tag does not get recognized as a valid reference","body":"<p>The context is Java Spring MVC and Hibernate, in IntelliJ. For some reason, in the Spring MVC config file, &quot;transaction-manager&quot; is not recognized as a valid reference. See the red text below:</p>\n<p><a href=\"https://i.stack.imgur.com/zQksl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQksl.png\" alt=\"transaction-manager attribute is not allowed here\" /></a></p>\n<p>Any tips on how to resolve this?</p>\n<p>Here is the full config file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/cache&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd&quot;&gt;\n\n    &lt;!-- Base-package --&gt;\n    &lt;context:component-scan base-package=&quot;com.sprang&quot;/&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 1: Define Database DataSource/Connection Pool --&gt;\n    &lt;bean id=&quot;myDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://us-cdbr-east-05.cleardb.net:3306/heroku_1e4cf119be0ff4a&quot;/&gt;\n        &lt;property name=&quot;user&quot; value=&quot;b3a0c1309826f0&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;5b30f68e&quot;/&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot;/&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 2: Setup Hibernate session factory --&gt;\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.sprang.model&quot;/&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 3: Setup Hibernate transaction manager --&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 4: Enable configuration of transactional behavior based on annotations --&gt;\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","android","zoom-sdk"],"answers":[{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649949780,"creation_date":1649949780,"answer_id":71874000,"question_id":71830063,"body_markdown":"Solution:\r\n\r\n* Add the required app scopes\r\n* Make sure, that the current user is allowed to manage breakout-session (is host or co-host)\r\n\r\nTo add the scopes:\r\n\r\n1. Go to [zoom&#39;s marketplace development site][1]\r\n2. At the dropdown on the top right choose &quot;develop/build app&quot;\r\n3. At &quot;SDK&quot; choose &quot;view here&quot;\r\n4. Go to the tab &quot;Scopes&quot;\r\n5. Click on &quot;+ Add scopes&quot;\r\n6. Choose the corresponding scopes (I just added all of them - just to be sure)\r\n\r\n\r\n  [1]: https://marketplace.zoom.us/develop","title":"How to assign User to Breakout session with the zoom-andoid-sdk?","body":"<p>Solution:</p>\n<ul>\n<li>Add the required app scopes</li>\n<li>Make sure, that the current user is allowed to manage breakout-session (is host or co-host)</li>\n</ul>\n<p>To add the scopes:</p>\n<ol>\n<li>Go to <a href=\"https://marketplace.zoom.us/develop\" rel=\"nofollow noreferrer\">zoom's marketplace development site</a></li>\n<li>At the dropdown on the top right choose &quot;develop/build app&quot;</li>\n<li>At &quot;SDK&quot; choose &quot;view here&quot;</li>\n<li>Go to the tab &quot;Scopes&quot;</li>\n<li>Click on &quot;+ Add scopes&quot;</li>\n<li>Choose the corresponding scopes (I just added all of them - just to be sure)</li>\n</ol>\n"}],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649949780,"creation_date":1649689222,"question_id":71830063,"body_markdown":"I want to automatically assign users to breakout-rooms during a meeting (not beforehand, not with CSV-import).\r\n\r\nWhen I use the android-sdk demo app and add a listener, then the `IBOAdmin` is always  `null`.\r\n\r\n    ZoomSDKInitializeListener listener = new ZoomSDKInitializeListener() {\r\n        @Override\r\n        public void onZoomSDKInitializeResult(int errorCode, int internalErrorCode) {\r\n            sdk.getInMeetingService().addListener(new InMeetingServiceAdapter() {\r\n                @Override\r\n                public void onChatMessageReceived(InMeetingChatMessage inMeetingChatMessage) {\r\n                    IBOAdmin bOAdmin = sdk.getInMeetingService().getInMeetingBOController().getBOAdminHelper();\r\n\r\n                    // not working, bOAdmin is always null\r\n                    bOAdmin.assignNewUserToRunningBO(&quot;&quot; + inMeetingChatMessage.getSenderUserId(), &quot;Raum 1&quot;);\r\n                }\r\n            });\r\n        }\r\n        ...\r\n    };\r\n    sdk.initialize(context, listener, params);\r\n\r\nThe exceptions says:\r\n\r\n    Attempt to invoke interface method &#39;boolean us.zoom.sdk.IBOAdmin.startBO()&#39; on a null object reference\r\n\r\n\r\nI tried to:\r\n\r\n * Start the zoom conference from within the app (as `host`)\r\n * Join an existing zoom conference and being assigned as `host`\r\n * Join an existing zoom conference and being assigned as `co-host`\r\n * Join an existing zoom conference with enabled breakout-session and being assigned as `co-host`\r\n\r\nHow can I assign other users to breakout-sessions with the Zoom Android SDK?","title":"How to assign User to Breakout session with the zoom-andoid-sdk?","body":"<p>I want to automatically assign users to breakout-rooms during a meeting (not beforehand, not with CSV-import).</p>\n<p>When I use the android-sdk demo app and add a listener, then the <code>IBOAdmin</code> is always  <code>null</code>.</p>\n<pre><code>ZoomSDKInitializeListener listener = new ZoomSDKInitializeListener() {\n    @Override\n    public void onZoomSDKInitializeResult(int errorCode, int internalErrorCode) {\n        sdk.getInMeetingService().addListener(new InMeetingServiceAdapter() {\n            @Override\n            public void onChatMessageReceived(InMeetingChatMessage inMeetingChatMessage) {\n                IBOAdmin bOAdmin = sdk.getInMeetingService().getInMeetingBOController().getBOAdminHelper();\n\n                // not working, bOAdmin is always null\n                bOAdmin.assignNewUserToRunningBO(&quot;&quot; + inMeetingChatMessage.getSenderUserId(), &quot;Raum 1&quot;);\n            }\n        });\n    }\n    ...\n};\nsdk.initialize(context, listener, params);\n</code></pre>\n<p>The exceptions says:</p>\n<pre><code>Attempt to invoke interface method 'boolean us.zoom.sdk.IBOAdmin.startBO()' on a null object reference\n</code></pre>\n<p>I tried to:</p>\n<ul>\n<li>Start the zoom conference from within the app (as <code>host</code>)</li>\n<li>Join an existing zoom conference and being assigned as <code>host</code></li>\n<li>Join an existing zoom conference and being assigned as <code>co-host</code></li>\n<li>Join an existing zoom conference with enabled breakout-session and being assigned as <code>co-host</code></li>\n</ul>\n<p>How can I assign other users to breakout-sessions with the Zoom Android SDK?</p>\n"},{"tags":["java","kotlin","intellij-idea","service","bind"],"answers":[{"tags":[],"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649949190,"creation_date":1649949190,"answer_id":71873864,"question_id":71873766,"body_markdown":"I&#39;ve never used Guice (I&#39;m assuming this is guice, since it isn&#39;t tagged), but the same issue arises as with spring so the same solution should apply.\r\n\r\nThe fields are `val` so they can&#39;t be modified by the DI framework after being initialized to null.\r\n\r\nThey will need to become `var` so they can be updated afterwards.\r\n\r\nOn top of that you are probably certain that most or all of those fields won&#39;t be null, so the verbose nullability checks could be circumvented using the lateinit keyword. In fact DI is one of the main use cases mentioned for the existence of the lateinit keyword: https://kotlinlang.org/docs/properties.html#late-initialized-properties-and-variables\r\n\r\nSo it would become:\r\n\r\n    private lateinit var metrcAccountRepository: MetrcAccountRepository\r\n\r\nDo note that a cleaner alternative (with `val`) is to do constructor injection, if possible in your situation.","title":"How can I binding two kotlin files","body":"<p>I've never used Guice (I'm assuming this is guice, since it isn't tagged), but the same issue arises as with spring so the same solution should apply.</p>\n<p>The fields are <code>val</code> so they can't be modified by the DI framework after being initialized to null.</p>\n<p>They will need to become <code>var</code> so they can be updated afterwards.</p>\n<p>On top of that you are probably certain that most or all of those fields won't be null, so the verbose nullability checks could be circumvented using the lateinit keyword. In fact DI is one of the main use cases mentioned for the existence of the lateinit keyword: <a href=\"https://kotlinlang.org/docs/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/properties.html#late-initialized-properties-and-variables</a></p>\n<p>So it would become:</p>\n<pre><code>private lateinit var metrcAccountRepository: MetrcAccountRepository\n</code></pre>\n<p>Do note that a cleaner alternative (with <code>val</code>) is to do constructor injection, if possible in your situation.</p>\n"}],"owner":{"account_id":24748273,"reputation":3,"user_id":18634156,"display_name":"DopplerEffect -v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71873864,"answer_count":1,"score":0,"last_activity_date":1649949190,"creation_date":1649948761,"question_id":71873766,"body_markdown":"I&#39;m working with a project in Java and Kotlin.\r\nThis project was originally in java only. And I&#39;m doing a migration of some classes to kotlin. But I have this problem in this class that I migrated to kotlin. This problem is in a configure file.\r\n\r\nConfigure file.\r\n```\r\npackage com.fourtwenty.core\r\n\r\nimport ...\r\nclass CoreModule : AbstractModule() {\r\n    override fun configure() {\r\n        // Repositories\r\n        bind(AppRepository::class.java).to(AppRepositoryImpl::class.java)\r\n        ...\r\n        // Services\r\n        bind(AuthenticationService::class.java).to(AuthenticationServiceImpl::class.java)\r\n\r\n```\r\n\r\nBindingClassImpl\r\n\r\n```\r\npackage com.fourtwenty.core.services.mgmt.impl\r\n\r\n\r\nimport ...\r\nopen class AuthenticationServiceImpl @Inject constructor(token: Provider&lt;ConnectAuthToken&gt;) : AbstractAuthServiceImpl(token), AuthenticationService {\r\n    @Inject\r\n    private val metrcAccountRepository: MetrcAccountRepository? = null\r\n\r\n    @Inject\r\n    private val stripeService: StripeService? = null\r\n\r\n    @Inject\r\n    var integrationSettingRepository: IntegrationSettingRepository? = null\r\n\r\n    @Inject\r\n    private val shopPaymentOptionRepository: ShopPaymentOptionRepository? = null\r\n\r\n    @Inject\r\n    private val amazonServiceManager: AmazonServiceManager? = null\r\n    ...\r\n```\r\nBindingClass\r\n```\r\npackage com.fourtwenty.core.services.mgmt\r\n\r\nimport ...\r\n\r\ninterface AuthenticationService {\r\n    fun getCurrentActiveEmployee(): InitialLoginResult?\r\n    fun adminLogin(request: EmailLoginRequest?): InitialLoginResult?\r\n    ...\r\n\r\n```\r\nAnd I got this error in IntellIJ\r\n```\r\n1) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.metrcAccountRepository cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n\r\n2) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.stripeService cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n\r\n3) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.shopPaymentOptionRepository cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n\r\n4) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.amazonServiceManager cannot be final.\r\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\r\n5) ...\r\n```","title":"How can I binding two kotlin files","body":"<p>I'm working with a project in Java and Kotlin.\nThis project was originally in java only. And I'm doing a migration of some classes to kotlin. But I have this problem in this class that I migrated to kotlin. This problem is in a configure file.</p>\n<p>Configure file.</p>\n<pre><code>package com.fourtwenty.core\n\nimport ...\nclass CoreModule : AbstractModule() {\n    override fun configure() {\n        // Repositories\n        bind(AppRepository::class.java).to(AppRepositoryImpl::class.java)\n        ...\n        // Services\n        bind(AuthenticationService::class.java).to(AuthenticationServiceImpl::class.java)\n\n</code></pre>\n<p>BindingClassImpl</p>\n<pre><code>package com.fourtwenty.core.services.mgmt.impl\n\n\nimport ...\nopen class AuthenticationServiceImpl @Inject constructor(token: Provider&lt;ConnectAuthToken&gt;) : AbstractAuthServiceImpl(token), AuthenticationService {\n    @Inject\n    private val metrcAccountRepository: MetrcAccountRepository? = null\n\n    @Inject\n    private val stripeService: StripeService? = null\n\n    @Inject\n    var integrationSettingRepository: IntegrationSettingRepository? = null\n\n    @Inject\n    private val shopPaymentOptionRepository: ShopPaymentOptionRepository? = null\n\n    @Inject\n    private val amazonServiceManager: AmazonServiceManager? = null\n    ...\n</code></pre>\n<p>BindingClass</p>\n<pre><code>package com.fourtwenty.core.services.mgmt\n\nimport ...\n\ninterface AuthenticationService {\n    fun getCurrentActiveEmployee(): InitialLoginResult?\n    fun adminLogin(request: EmailLoginRequest?): InitialLoginResult?\n    ...\n\n</code></pre>\n<p>And I got this error in IntellIJ</p>\n<pre><code>1) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.metrcAccountRepository cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n\n2) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.stripeService cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n\n3) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.shopPaymentOptionRepository cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n\n4) Injected field com.fourtwenty.core.services.mgmt.impl.AuthenticationServiceImpl.amazonServiceManager cannot be final.\n  at com.fourtwenty.core.CoreModule.configure(CoreModule.kt:1266)\n5) ...\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1649910708,"post_id":71866523,"comment_id":126995908,"body_markdown":"did you try to add an exception to the logs in `onFailure`? Never ignore errors in coding","body":"did you try to add an exception to the logs in <code>onFailure</code>? Never ignore errors in coding"},{"owner":{"account_id":15714846,"reputation":139,"user_id":11339304,"display_name":"REX"},"score":3,"creation_date":1649910934,"post_id":71866523,"comment_id":126995948,"body_markdown":"Can you provide logs or error messages?. It would help deducing the problem","body":"Can you provide logs or error messages?. It would help deducing the problem"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1649919833,"post_id":71866523,"comment_id":126997850,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond with @AlexMamo","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond with @AlexMamo"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1649944726,"post_id":71866523,"comment_id":127006533,"body_markdown":"@AlexMamo I have edited the code please take a look ,Thank you","body":"@AlexMamo I have edited the code please take a look ,Thank you"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1649944742,"post_id":71866523,"comment_id":127006543,"body_markdown":"@REX I have edited the code please take a look ,Thank you","body":"@REX I have edited the code please take a look ,Thank you"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649948119,"post_id":71866523,"comment_id":127007943,"body_markdown":"Please also edit your question and show us the content of your `CheckoutModel` class. Besides that, I think that this [article](https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10) will help. Right?","body":"Please also edit your question and show us the content of your <code>CheckoutModel</code> class. Besides that, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">article</a> will help. Right?"}],"answers":[{"tags":[],"owner":{"account_id":18782185,"reputation":296,"user_id":13696581,"display_name":"Kashif Masood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649949040,"creation_date":1649949040,"answer_id":71873828,"question_id":71866523,"body_markdown":"Two things can be done,\r\n\r\n 1. Instead of mapping the whole list, try iterating through document and map one object at a time.\r\n 2. Secondly, In your checkOutModel give initial values to all of your variables. Mapping gives error if variables does not have initial values.\r\nLike, instantiate string variables with &quot; &quot;, and numeric variable with 0 or 1.","title":"Error retrieving a list of data from firebase firestore","body":"<p>Two things can be done,</p>\n<ol>\n<li>Instead of mapping the whole list, try iterating through document and map one object at a time.</li>\n<li>Secondly, In your checkOutModel give initial values to all of your variables. Mapping gives error if variables does not have initial values.\nLike, instantiate string variables with &quot; &quot;, and numeric variable with 0 or 1.</li>\n</ol>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71873828,"answer_count":1,"score":-1,"last_activity_date":1649949040,"creation_date":1649910531,"question_id":71866523,"body_markdown":"I have a shopping app where i need to save a list of objects, the saving into firestorm is working fine but upon getting the data, it keeps crashing and throwing an error, if anyone could help, Thank you in  advance\r\n\r\n\r\n * This is a screenshot of firestorm and how is data saved\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/os1zJ.png\r\n\r\n\r\n * Error thrown \r\n \r\n```\r\n  E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.shoppingapp, PID: 2110\r\n    java.lang.ClassCastException: java.util.HashMap cannot be cast to com.example.shoppingapp.models.CheckoutModel\r\n \r\n```\r\n\r\n * This is how i&#39;m saving data into firestore\r\n   \r\n```\r\n                Map&lt;String,Object&gt; paymentMap = new HashMap&lt;&gt;();\r\n                paymentMap.put(&quot;total&quot;,String.valueOf(itemsTotal));\r\n                paymentMap.put(&quot;items&quot;,list);\r\n\r\n                firebaseFirestore\r\n                        .collection(&quot;Orders&quot;)\r\n                        .document(uniqueID)\r\n                        .set(paymentMap)\r\n \r\n```\r\n\r\n * This is how i&#39;m trying to retrieve data \r\n \r\n```\r\n   firebaseFirestore\r\n                .collection(&quot;Orders&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @RequiresApi(api = Build.VERSION_CODES.N)\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        for(DocumentSnapshot document : task.getResult()){\r\n                            List&lt;CheckoutModel&gt; map = (List&lt;CheckoutModel&gt;) document.get(&quot;items&quot;);\r\n                            String totalPrice = document.get(&quot;total&quot;).toString();\r\n\r\n                            // TESTING BY GETTING PRODUCT ID\r\n                            // it throws exception here\r\n                            textView.setText(map.get(0).getProductID());\r\n                        }\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n\r\n                    }\r\n                });\r\n```","title":"Error retrieving a list of data from firebase firestore","body":"<p>I have a shopping app where i need to save a list of objects, the saving into firestorm is working fine but upon getting the data, it keeps crashing and throwing an error, if anyone could help, Thank you in  advance</p>\n<ul>\n<li>This is a screenshot of firestorm and how is data saved\n<a href=\"https://i.stack.imgur.com/os1zJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/os1zJ.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<ul>\n<li>Error thrown</li>\n</ul>\n<pre><code>  E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.shoppingapp, PID: 2110\n    java.lang.ClassCastException: java.util.HashMap cannot be cast to com.example.shoppingapp.models.CheckoutModel\n \n</code></pre>\n<ul>\n<li>This is how i'm saving data into firestore</li>\n</ul>\n<pre><code>                Map&lt;String,Object&gt; paymentMap = new HashMap&lt;&gt;();\n                paymentMap.put(&quot;total&quot;,String.valueOf(itemsTotal));\n                paymentMap.put(&quot;items&quot;,list);\n\n                firebaseFirestore\n                        .collection(&quot;Orders&quot;)\n                        .document(uniqueID)\n                        .set(paymentMap)\n \n</code></pre>\n<ul>\n<li>This is how i'm trying to retrieve data</li>\n</ul>\n<pre><code>   firebaseFirestore\n                .collection(&quot;Orders&quot;)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @RequiresApi(api = Build.VERSION_CODES.N)\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        for(DocumentSnapshot document : task.getResult()){\n                            List&lt;CheckoutModel&gt; map = (List&lt;CheckoutModel&gt;) document.get(&quot;items&quot;);\n                            String totalPrice = document.get(&quot;total&quot;).toString();\n\n                            // TESTING BY GETTING PRODUCT ID\n                            // it throws exception here\n                            textView.setText(map.get(0).getProductID());\n                        }\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n\n                    }\n                });\n</code></pre>\n"},{"tags":["java","h2","liquibase","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":1,"creation_date":1649903151,"post_id":71857904,"comment_id":126994898,"body_markdown":"I created one auxiliary class in my test package to clean all the tables before every test execution. When is possible, I use the `TestTransaction`, according to [this guide](https://quarkus.io/guides/getting-started-testing#tests-and-transactions) &quot;If you want any changes made to be rolled back at the end of the test you can use the io.quarkus.test.TestTransaction annotation. This will run the test method in a transaction, but roll it back once the test method is complete to revert any database changes.&quot;","body":"I created one auxiliary class in my test package to clean all the tables before every test execution. When is possible, I use the <code>TestTransaction</code>, according to <a href=\"https://quarkus.io/guides/getting-started-testing#tests-and-transactions\" rel=\"nofollow noreferrer\">this guide</a> &quot;If you want any changes made to be rolled back at the end of the test you can use the io.quarkus.test.TestTransaction annotation. This will run the test method in a transaction, but roll it back once the test method is complete to revert any database changes.&quot;"},{"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"score":1,"creation_date":1649921362,"post_id":71857904,"comment_id":126998311,"body_markdown":"It looks it&#39;s working only when I&#39;m testing transactional methods directly. When I&#39;m testing rest endpoints that internally have @Transactional methods, once they are completed and committed, this TestTransaction has no effect apparently..","body":"It looks it&#39;s working only when I&#39;m testing transactional methods directly. When I&#39;m testing rest endpoints that internally have @Transactional methods, once they are completed and committed, this TestTransaction has no effect apparently.."},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":1,"creation_date":1649936976,"post_id":71857904,"comment_id":127003569,"body_markdown":"That&#39;s exactly how the TestTransaction works, it only works when you&#39;re testing transactional methods directly. I would also like to have this feature you&#39;re suggesting, that is to clean all tables after each test execution. I face the same problem, that&#39;s why I created one class on my test package with DELETE executions on all tables. So, in the begging of my test classes, I execute this method that deletes all rows of my tables.","body":"That&#39;s exactly how the TestTransaction works, it only works when you&#39;re testing transactional methods directly. I would also like to have this feature you&#39;re suggesting, that is to clean all tables after each test execution. I face the same problem, that&#39;s why I created one class on my test package with DELETE executions on all tables. So, in the begging of my test classes, I execute this method that deletes all rows of my tables."}],"answers":[{"tags":[],"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649948976,"creation_date":1649948976,"answer_id":71873820,"question_id":71857904,"body_markdown":"I don&#39;t know if there is a way to &quot;automatically clean all the tables after every test execution&quot;.\r\n\r\nOne workaround I&#39;m doing is to create one class on the test package and put all the DELETEs needed there. The idea is to run this deletion method on the beginning of the tests that need clean tables.\r\n\r\n```java\r\npackage org.acme.tests;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\nimport javax.persistence.EntityManager;\r\nimport javax.transaction.Transactional;\r\n\r\n@ApplicationScoped\r\npublic class CleanTables {\r\n\r\n  @Inject\r\n  EntityManager entityManager;\r\n\r\n  @Transactional\r\n  public void clean() {\r\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_A&quot;).executeUpdate();\r\n\r\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_B&quot;).executeUpdate();\r\n  }\r\n\r\n}\r\n``` ","title":"Quarkus: clean H2 DB after every test","body":"<p>I don't know if there is a way to &quot;automatically clean all the tables after every test execution&quot;.</p>\n<p>One workaround I'm doing is to create one class on the test package and put all the DELETEs needed there. The idea is to run this deletion method on the beginning of the tests that need clean tables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.tests;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.persistence.EntityManager;\nimport javax.transaction.Transactional;\n\n@ApplicationScoped\npublic class CleanTables {\n\n  @Inject\n  EntityManager entityManager;\n\n  @Transactional\n  public void clean() {\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_A&quot;).executeUpdate();\n\n    entityManager.createNativeQuery(&quot;DELETE FROM YOUR_SCHEMA.YOUR_TABLE_B&quot;).executeUpdate();\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649948976,"creation_date":1649854764,"question_id":71857904,"body_markdown":"I set up a standard Quarkus project as described in the quickstart, and I&#39;m now running multiple `@QuarkusTest`, using Liquibase and H2. \r\n\r\nI noticed that between tests, the data written in H2 is preserved.\r\n\r\nIs my project wrongly configured or does it behave like so for everyone? \r\nDo Quarkus/H2 provide a way to automatically clean all the tables after every test execution? ","title":"Quarkus: clean H2 DB after every test","body":"<p>I set up a standard Quarkus project as described in the quickstart, and I'm now running multiple <code>@QuarkusTest</code>, using Liquibase and H2.</p>\n<p>I noticed that between tests, the data written in H2 is preserved.</p>\n<p>Is my project wrongly configured or does it behave like so for everyone?\nDo Quarkus/H2 provide a way to automatically clean all the tables after every test execution?</p>\n"},{"tags":["java","error-handling","try-catch","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1649946505,"post_id":71872938,"comment_id":127007320,"body_markdown":"https://jda.wiki/using-jda/troubleshooting/#restaction-queue-returned-failure","body":"<a href=\"https://jda.wiki/using-jda/troubleshooting/#restaction-queue-returned-failure\" rel=\"nofollow noreferrer\">jda.wiki/using-jda/troubleshooting/&hellip;</a>"},{"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"score":1,"creation_date":1649946533,"post_id":71872938,"comment_id":127007329,"body_markdown":"Hi, I believe this question was discused before (https://stackoverflow.com/questions/65285119/contextexception-unknown-ban-cant-be-caught-discord-java)","body":"Hi, I believe this question was discused before (<a href=\"https://stackoverflow.com/questions/65285119/contextexception-unknown-ban-cant-be-caught-discord-java\" title=\"contextexception unknown ban cant be caught discord java\">stackoverflow.com/questions/65285119/&hellip;</a>)"},{"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"score":0,"creation_date":1650025847,"post_id":71872938,"comment_id":127025528,"body_markdown":"@Isma\nThanks, it did solve my problem. I&#39;ll be more careful finding answers in stack overflow next time.","body":"@Isma Thanks, it did solve my problem. I&#39;ll be more careful finding answers in stack overflow next time."}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649948198,"creation_date":1649948198,"answer_id":71873639,"question_id":71872938,"body_markdown":"You are using\r\n\r\n     System.out.println(&quot;E&quot;); \r\n\r\nafter your catch block. The output you provided however indicates that the exception is thrown later on. \r\n\r\n    e\r\n    E\r\n    [ForkJoinPool.commonPool-worker-1] ERROR RestAction - RestAction queue returned failure: [ErrorResponseException] 10013: \r\n    Unknown User   net.dv8tion.jda.api.exceptions.ContextException at net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54)at net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:71) \r\n\r\nI guess the error is somewhere else in your Code. It does not seem to be in the part that you have shown. ","title":"Java Not Catching A ContextException Error","body":"<p>You are using</p>\n<pre><code> System.out.println(&quot;E&quot;); \n</code></pre>\n<p>after your catch block. The output you provided however indicates that the exception is thrown later on.</p>\n<pre><code>e\nE\n[ForkJoinPool.commonPool-worker-1] ERROR RestAction - RestAction queue returned failure: [ErrorResponseException] 10013: \nUnknown User   net.dv8tion.jda.api.exceptions.ContextException at net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54)at net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:71) \n</code></pre>\n<p>I guess the error is somewhere else in your Code. It does not seem to be in the part that you have shown.</p>\n"}],"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650025733,"answer_count":1,"score":0,"last_activity_date":1649948198,"creation_date":1649944982,"question_id":71872938,"body_markdown":"I was making a function to ban a member using his/her id in JDA.  \r\nI made this:\r\n\r\n    private void banID(@NotNull MessageReceivedEvent event, String @NotNull [] args) {\r\n            System.out.println(&quot;e&quot;);\r\n            try {\r\n                args[1] = args[1].trim();\r\n                event.getGuild().ban(args[1], 0).queue();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(&quot;Done&quot;);\r\n                System.out.println(e.getMessage());\r\n                System.out.println(&quot;EEE&quot;);\r\n            }\r\n            System.out.println(&quot;E&quot;);\r\n        }\r\n\r\nBut, it doesn&#39;t accept the error. I&#39;ve tried removing the printStackTrace, but the error still raises. &quot;Done&quot;, and &quot;EEE&quot; are not printed.  \r\nAlso, it does accept every other error, but not this.  \r\nHere is a part of the error given\r\n\r\n    e\r\n    E\r\n    [ForkJoinPool.commonPool-worker-1] ERROR RestAction - RestAction queue returned failure: [ErrorResponseException] 10013: Unknown User\r\n    net.dv8tion.jda.api.exceptions.ContextException\r\n    \tat net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54)\r\n    \tat net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:71)\r\n    \tat net.dv8tion.jda.internal.requests.RestActionImpl.queue(RestActionImpl.java:197)\r\n    \tat net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:573)\r\n    \tat net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:539)\r\n    \tat com.television.Commands.Ban.banID(Ban.java:56)\r\n    \tat com.television.Commands.Ban.&lt;init&gt;(Ban.java:31)\r\n    \tat com.television.CommandExecutor.onMessageReceived(CommandExecutor.java:33)\r\n    \tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:359)\r\n    \t\r\n","title":"Java Not Catching A ContextException Error","body":"<p>I was making a function to ban a member using his/her id in JDA.<br />\nI made this:</p>\n<pre><code>private void banID(@NotNull MessageReceivedEvent event, String @NotNull [] args) {\n        System.out.println(&quot;e&quot;);\n        try {\n            args[1] = args[1].trim();\n            event.getGuild().ban(args[1], 0).queue();\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(&quot;Done&quot;);\n            System.out.println(e.getMessage());\n            System.out.println(&quot;EEE&quot;);\n        }\n        System.out.println(&quot;E&quot;);\n    }\n</code></pre>\n<p>But, it doesn't accept the error. I've tried removing the printStackTrace, but the error still raises. &quot;Done&quot;, and &quot;EEE&quot; are not printed.<br />\nAlso, it does accept every other error, but not this.<br />\nHere is a part of the error given</p>\n<pre><code>e\nE\n[ForkJoinPool.commonPool-worker-1] ERROR RestAction - RestAction queue returned failure: [ErrorResponseException] 10013: Unknown User\nnet.dv8tion.jda.api.exceptions.ContextException\n    at net.dv8tion.jda.api.exceptions.ContextException.here(ContextException.java:54)\n    at net.dv8tion.jda.api.requests.Request.&lt;init&gt;(Request.java:71)\n    at net.dv8tion.jda.internal.requests.RestActionImpl.queue(RestActionImpl.java:197)\n    at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:573)\n    at net.dv8tion.jda.api.requests.RestAction.queue(RestAction.java:539)\n    at com.television.Commands.Ban.banID(Ban.java:56)\n    at com.television.Commands.Ban.&lt;init&gt;(Ban.java:31)\n    at com.television.CommandExecutor.onMessageReceived(CommandExecutor.java:33)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:359)\n    \n</code></pre>\n"},{"tags":["java","c++","cmake","java-native-interface","jniwrapper"],"comments":[{"owner":{"account_id":3665719,"reputation":700,"user_id":3054219,"display_name":"Sonic78"},"score":0,"creation_date":1649947080,"post_id":71873061,"comment_id":127007531,"body_markdown":"Why do you want to add a native binary (the *.so will be most likely an elf file) into a jar for the Java Virtual machine? Frankly, it is a while since I did Java, but the Java VM searches for the shared libs at java.library.path / LD_LIBRARY_PATH and (AFAIK) not in a JAR. Ask yourself: how should the native loader access the jar and extract the so (or DLL) out of it?\nMaybe this [answer](https://stackoverflow.com/questions/51098258/jni-cant-find-shared-library-after-program-has-been-deployed) provides what you need.\nI think you have to deploy Java and native parts separately.","body":"Why do you want to add a native binary (the *.so will be most likely an elf file) into a jar for the Java Virtual machine? Frankly, it is a while since I did Java, but the Java VM searches for the shared libs at java.library.path / LD_LIBRARY_PATH and (AFAIK) not in a JAR. Ask yourself: how should the native loader access the jar and extract the so (or DLL) out of it? Maybe this <a href=\"https://stackoverflow.com/questions/51098258/jni-cant-find-shared-library-after-program-has-been-deployed\">answer</a> provides what you need. I think you have to deploy Java and native parts separately."},{"owner":{"display_name":"user4442671"},"score":0,"creation_date":1649947272,"post_id":71873061,"comment_id":127007602,"body_markdown":"@Sonic78 Wether it&#39;s a good idea or not may be debatable, but it&#39;s certainly feasible, as per https://stackoverflow.com/questions/2937406/how-to-bundle-a-native-library-and-a-jni-library-inside-a-jar","body":"@Sonic78 Wether it&#39;s a good idea or not may be debatable, but it&#39;s certainly feasible, as per <a href=\"https://stackoverflow.com/questions/2937406/how-to-bundle-a-native-library-and-a-jni-library-inside-a-jar\" title=\"how to bundle a native library and a jni library inside a jar\">stackoverflow.com/questions/2937406/&hellip;</a>"},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":0,"creation_date":1650100082,"post_id":71873061,"comment_id":127040068,"body_markdown":"Take a look here: https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo035","body":"Take a look here: <a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo035\" rel=\"nofollow noreferrer\">github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo&zwnj;&#8203;035</a>"}],"owner":{"account_id":20105266,"reputation":163,"user_id":14742948,"display_name":"Fran&#231;ois Colas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649948153,"creation_date":1649945621,"question_id":71873061,"body_markdown":"I am writing a Java wrapper for a C-Library that I own.\r\nI build with CMake.\r\n\r\nHere is my CMakeLists.txt file :\r\n```\r\ncmake_minimum_required(VERSION 3.4)\r\nproject(MyLib-java)\r\n    \r\nfind_package(Java REQUIRED)\r\nfind_package(JNI REQUIRED)\r\ninclude(UseJava)\r\n\r\n# JNI wrapper\r\nadd_library(mylib-java SHARED mylib-java.cpp)\r\ntarget_link_libraries(mylib-java PRIVATE ${JNI_LIBRARIES})\r\ntarget_include_directories(mylib-java PUBLIC ${JNI_INCLUDE_DIRS})\r\n\r\n# JAR file\r\nadd_jar(\r\n  mylib-java\r\n  SOURCES\r\n    MyLib.java\r\n  ENTRY_POINT\r\n    lib.my.Main\r\n)\r\n```\r\n\r\nIt works well, the .so file is built, .jar file is created and populated with .class files.\r\n\r\nMy problem is that I don&#39;t know how to put the .so file in the .jar file. Please help !\r\n\r\nThanks in advance\r\n\r\n\r\n","title":"Build JNI Wrapper for C-Library with CMake","body":"<p>I am writing a Java wrapper for a C-Library that I own.\nI build with CMake.</p>\n<p>Here is my CMakeLists.txt file :</p>\n<pre><code>cmake_minimum_required(VERSION 3.4)\nproject(MyLib-java)\n    \nfind_package(Java REQUIRED)\nfind_package(JNI REQUIRED)\ninclude(UseJava)\n\n# JNI wrapper\nadd_library(mylib-java SHARED mylib-java.cpp)\ntarget_link_libraries(mylib-java PRIVATE ${JNI_LIBRARIES})\ntarget_include_directories(mylib-java PUBLIC ${JNI_INCLUDE_DIRS})\n\n# JAR file\nadd_jar(\n  mylib-java\n  SOURCES\n    MyLib.java\n  ENTRY_POINT\n    lib.my.Main\n)\n</code></pre>\n<p>It works well, the .so file is built, .jar file is created and populated with .class files.</p>\n<p>My problem is that I don't know how to put the .so file in the .jar file. Please help !</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","waveform"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1342021843,"post_id":11436472,"comment_id":15088583,"body_markdown":"It sounds like you might be hearing some aliasing or clipping.  Try reducing the amplitude of the sound wave you are generating.","body":"It sounds like you might be hearing some aliasing or clipping.  Try reducing the amplitude of the sound wave you are generating."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1342021872,"post_id":11436472,"comment_id":15088602,"body_markdown":"So why not use the code that works?  I&#39;m not sure what your question is.","body":"So why not use the code that works?  I&#39;m not sure what your question is."},{"owner":{"account_id":550187,"reputation":1285,"user_id":1000229,"accept_rate":89,"display_name":"K. Barresi"},"score":0,"creation_date":1342021917,"post_id":11436472,"comment_id":15088621,"body_markdown":"Robert, I want to also create square and sawtooth waves, but the whole angle and increment idea confuses me when dealing with higher level wave functions.","body":"Robert, I want to also create square and sawtooth waves, but the whole angle and increment idea confuses me when dealing with higher level wave functions."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1342021991,"post_id":11436472,"comment_id":15088680,"body_markdown":"You seem to understand it well enough to get the code to work.  &quot;Any suggestions&quot; is not a real question.  Try to make your question more specific.","body":"You seem to understand it well enough to get the code to work.  &quot;Any suggestions&quot; is not a real question.  Try to make your question more specific."},{"owner":{"account_id":550187,"reputation":1285,"user_id":1000229,"accept_rate":89,"display_name":"K. Barresi"},"score":0,"creation_date":1342022207,"post_id":11436472,"comment_id":15088812,"body_markdown":"Edited the question to be more specific. Thanks for the feedback","body":"Edited the question to be more specific. Thanks for the feedback"},{"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":1,"creation_date":1342022777,"post_id":11436472,"comment_id":15089068,"body_markdown":"Try to optimise your code by 1) increase buffer size, 2) prepare the buffer once, and keep rewriting it to the output stream (this will require some math calculating the perfect size for the buffer to make sure that the whole sine wave fits perfectly in it).","body":"Try to optimise your code by 1) increase buffer size, 2) prepare the buffer once, and keep rewriting it to the output stream (this will require some math calculating the perfect size for the buffer to make sure that the whole sine wave fits perfectly in it)."},{"owner":{"account_id":550187,"reputation":1285,"user_id":1000229,"accept_rate":89,"display_name":"K. Barresi"},"score":0,"creation_date":1342027327,"post_id":11436472,"comment_id":15091043,"body_markdown":"thanks Martijn, that is on my to-do list once I get the wave itself coming out with less noise.","body":"thanks Martijn, that is on my to-do list once I get the wave itself coming out with less noise."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1342027415,"post_id":11436472,"comment_id":15091083,"body_markdown":"I think what @martijn means is that you need to make sure that part of the wave form is not getting cut off horizontally.","body":"I think what @martijn means is that you need to make sure that part of the wave form is not getting cut off horizontally."},{"owner":{"account_id":550187,"reputation":1285,"user_id":1000229,"accept_rate":89,"display_name":"K. Barresi"},"score":2,"creation_date":1342027618,"post_id":11436472,"comment_id":15091194,"body_markdown":"Oh I see what you mean now. As in the buffer may be ending the wave between a full wavelength, causing the wave to deform at the beginning and end of every buffer push?","body":"Oh I see what you mean now. As in the buffer may be ending the wave between a full wavelength, causing the wave to deform at the beginning and end of every buffer push?"},{"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1342027700,"post_id":11436472,"comment_id":15091230,"body_markdown":"@RobertHarvey: To clarify, because &quot;horizontally&quot; is a bit confusing: it shouldn&#39;t be cut of in time. So can say that the buffer size should be relatively 3.14159265, because the period of a sine is Pi.","body":"@RobertHarvey: To clarify, because &quot;horizontally&quot; is a bit confusing: it shouldn&#39;t be cut of in time. So can say that the buffer size should be relatively 3.14159265, because the period of a sine is Pi."},{"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1342027769,"post_id":11436472,"comment_id":15091269,"body_markdown":"@user1000229: Exactly. I&#39;m saying this because I suspect the buffer to taking to long to prepare, what causes a lag between two buffer pushes to big, which might be causing the noise.","body":"@user1000229: Exactly. I&#39;m saying this because I suspect the buffer to taking to long to prepare, what causes a lag between two buffer pushes to big, which might be causing the noise."},{"owner":{"account_id":550187,"reputation":1285,"user_id":1000229,"accept_rate":89,"display_name":"K. Barresi"},"score":0,"creation_date":1342027928,"post_id":11436472,"comment_id":15091323,"body_markdown":"That was it! I increased the buffer to 4096 bytes and the period between the noises definitely decreased. Thanks for the help!","body":"That was it! I increased the buffer to 4096 bytes and the period between the noises definitely decreased. Thanks for the help!"}],"answers":[{"tags":[],"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342022811,"creation_date":1342022472,"answer_id":11436715,"question_id":11436472,"body_markdown":"The only material difference that I can see in your two code samples is that the equation in your first example contains an integer (`I`), and therefore you&#39;re probably doing integer (not floating-point) arithmetic.  This would cause a staircasing effect, adding unwanted harmonics to your waveform.  \r\n\r\nI suspect that if you simply cast `I` to a float in your equation, it will produce a pure sine wave.\r\n\r\n    samples[i] \r\n        = (float) Math.sin( (float)i * ((float)(2*Math.PI) * frequency / 44100));","title":"Android: Sine Wave Generation","body":"<p>The only material difference that I can see in your two code samples is that the equation in your first example contains an integer (<code>I</code>), and therefore you're probably doing integer (not floating-point) arithmetic.  This would cause a staircasing effect, adding unwanted harmonics to your waveform.  </p>\n\n<p>I suspect that if you simply cast <code>I</code> to a float in your equation, it will produce a pure sine wave.</p>\n\n<pre><code>samples[i] \n    = (float) Math.sin( (float)i * ((float)(2*Math.PI) * frequency / 44100));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1342086395,"creation_date":1342086395,"answer_id":11449176,"question_id":11436472,"body_markdown":"Try to optimise your code by \r\n\r\n  1. increase buffer size\r\n  2. prepare the buffer once, and keep rewriting it to the output stream (this will require some math calculating the perfect size for the buffer to make sure that the whole sine wave fits perfectly in it).\r\n\r\nWhy? Because I suspect the buffer to taking to long to prepare, what causes a lag between two buffer pushes to big, which might be causing the noise.","title":"Android: Sine Wave Generation","body":"<p>Try to optimise your code by </p>\n\n<ol>\n<li>increase buffer size</li>\n<li>prepare the buffer once, and keep rewriting it to the output stream (this will require some math calculating the perfect size for the buffer to make sure that the whole sine wave fits perfectly in it).</li>\n</ol>\n\n<p>Why? Because I suspect the buffer to taking to long to prepare, what causes a lag between two buffer pushes to big, which might be causing the noise.</p>\n"},{"tags":[],"owner":{"account_id":413936,"reputation":2711,"user_id":787856,"accept_rate":89,"display_name":"L&#233;on Pelletier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649948072,"creation_date":1439094303,"answer_id":31900893,"question_id":11436472,"body_markdown":"None of these anwers fixes the problem. The buffer length should be a multiple of the sample rate, or at least the length of one rotation. Let&#39;s break it in ton of variables to show what&#39;s happening:\r\n\r\n    int sampleRate = 44100;\r\n    int bitsPerChannel = 16;\r\n    int bytesPerChannel = bitsPerChannel / 8;\r\n    int channelCount = 1;\r\n    int bytesPerSample = channelCount * bytesPerChannel;\r\n    int bytesPerRotation = sampleRate * bytesPerSample * (1d / (double) frequency);\r\n\r\nThen you can multiply this `bytesPerRotation` by anything, it won&#39;t change a fact: there won&#39;t be glitch in the sound.\r\n","title":"Android: Sine Wave Generation","body":"<p>None of these anwers fixes the problem. The buffer length should be a multiple of the sample rate, or at least the length of one rotation. Let's break it in ton of variables to show what's happening:</p>\n<pre><code>int sampleRate = 44100;\nint bitsPerChannel = 16;\nint bytesPerChannel = bitsPerChannel / 8;\nint channelCount = 1;\nint bytesPerSample = channelCount * bytesPerChannel;\nint bytesPerRotation = sampleRate * bytesPerSample * (1d / (double) frequency);\n</code></pre>\n<p>Then you can multiply this <code>bytesPerRotation</code> by anything, it won't change a fact: there won't be glitch in the sound.</p>\n"}],"owner":{"account_id":550187,"reputation":1285,"user_id":1000229,"accept_rate":89,"display_name":"K. Barresi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15710,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":11449176,"answer_count":3,"score":12,"last_activity_date":1649948072,"creation_date":1342021684,"question_id":11436472,"body_markdown":"I&#39;m trying to use AudioTrack to generate sine, square, and sawtooth waves. However, the audio this is creating doesn&#39;t sound like a pure sine wave, but like it has some kind of other wave overlayed. How would I go about getting the pure sine wave like in the second code example, while using the method in my first example? Since the top example only moves around some of the arithmetic used in the second, shouldn&#39;t they produce an identical wave?\r\n\r\n\r\n\r\n    @Override\r\n    \t\tprotected Void doInBackground(Void... foo) {\r\n    \t\t\tshort[] buffer = new short[1024];\r\n    \t\t\tthis.track = new AudioTrack(AudioManager.STREAM_MUSIC, 44100, AudioFormat.CHANNEL_CONFIGURATION_MONO, AudioFormat.ENCODING_PCM_16BIT, minBufferSize, AudioTrack.MODE_STREAM);\r\n                float samples[] = new float[1024];\r\n                \r\n                this.track.play();\r\n                \r\n                while (true) {\r\n    \t            for (int i = 0; i &lt; samples.length; i++) {\r\n    \t            \tsamples[i] = (float) Math.sin( (float)i * ((float)(2*Math.PI) * frequency / 44100));\t//the part that makes this a sine wave....\r\n    \t            \tbuffer[i] = (short) (samples[i] * Short.MAX_VALUE);\r\n    \t            }\r\n    \t            this.track.write( buffer, 0, samples.length );\t//write to the audio buffer.... and start all over again!\r\n    \t        \r\n                }\t\t\t\r\n    \t\t}\r\n\r\n\r\nNote: This does give me a pure sine wave:\r\n\r\n    @Override\r\n    \t\tprotected Void doInBackground(Void... foo) {\r\n    \t\t\tshort[] buffer = new short[1024];\r\n    \t\t\tthis.track = new AudioTrack(AudioManager.STREAM_MUSIC, 44100, AudioFormat.CHANNEL_CONFIGURATION_MONO, AudioFormat.ENCODING_PCM_16BIT, minBufferSize, AudioTrack.MODE_STREAM);\r\n                float increment = (float)(2*Math.PI) * frequency / 44100; // angular increment for each sample\r\n                float angle = 0;\r\n                float samples[] = new float[1024];\r\n                \r\n                this.track.play();\r\n                \r\n                while (true) {\r\n    \t            for (int i = 0; i &lt; samples.length; i++) {\r\n    \t            \tsamples[i] = (float) Math.sin(angle);\t//the part that makes this a sine wave....\r\n    \t            \tbuffer[i] = (short) (samples[i] * Short.MAX_VALUE);\r\n    \t                angle += increment;\r\n    \t            }\r\n    \t            this.track.write( buffer, 0, samples.length );\t//write to the audio buffer.... and start all over again!\r\n    \t            \r\n                }\t\t\t\r\n    \t\t}\r\n\r\nThanks to Martijn: The problem is that the wave is getting cut off between wavelengths in the buffer. Increasing the buffer size solves the problem in the second example. It appears that the Math.PI * 2 arithmetic was the most intensive of the loop, so moving that value to an external variable that is only computed once solves everything.","title":"Android: Sine Wave Generation","body":"<p>I'm trying to use AudioTrack to generate sine, square, and sawtooth waves. However, the audio this is creating doesn't sound like a pure sine wave, but like it has some kind of other wave overlayed. How would I go about getting the pure sine wave like in the second code example, while using the method in my first example? Since the top example only moves around some of the arithmetic used in the second, shouldn't they produce an identical wave?</p>\n\n<pre><code>@Override\n        protected Void doInBackground(Void... foo) {\n            short[] buffer = new short[1024];\n            this.track = new AudioTrack(AudioManager.STREAM_MUSIC, 44100, AudioFormat.CHANNEL_CONFIGURATION_MONO, AudioFormat.ENCODING_PCM_16BIT, minBufferSize, AudioTrack.MODE_STREAM);\n            float samples[] = new float[1024];\n\n            this.track.play();\n\n            while (true) {\n                for (int i = 0; i &lt; samples.length; i++) {\n                    samples[i] = (float) Math.sin( (float)i * ((float)(2*Math.PI) * frequency / 44100));    //the part that makes this a sine wave....\n                    buffer[i] = (short) (samples[i] * Short.MAX_VALUE);\n                }\n                this.track.write( buffer, 0, samples.length );  //write to the audio buffer.... and start all over again!\n\n            }           \n        }\n</code></pre>\n\n<p>Note: This does give me a pure sine wave:</p>\n\n<pre><code>@Override\n        protected Void doInBackground(Void... foo) {\n            short[] buffer = new short[1024];\n            this.track = new AudioTrack(AudioManager.STREAM_MUSIC, 44100, AudioFormat.CHANNEL_CONFIGURATION_MONO, AudioFormat.ENCODING_PCM_16BIT, minBufferSize, AudioTrack.MODE_STREAM);\n            float increment = (float)(2*Math.PI) * frequency / 44100; // angular increment for each sample\n            float angle = 0;\n            float samples[] = new float[1024];\n\n            this.track.play();\n\n            while (true) {\n                for (int i = 0; i &lt; samples.length; i++) {\n                    samples[i] = (float) Math.sin(angle);   //the part that makes this a sine wave....\n                    buffer[i] = (short) (samples[i] * Short.MAX_VALUE);\n                    angle += increment;\n                }\n                this.track.write( buffer, 0, samples.length );  //write to the audio buffer.... and start all over again!\n\n            }           \n        }\n</code></pre>\n\n<p>Thanks to Martijn: The problem is that the wave is getting cut off between wavelengths in the buffer. Increasing the buffer size solves the problem in the second example. It appears that the Math.PI * 2 arithmetic was the most intensive of the loop, so moving that value to an external variable that is only computed once solves everything.</p>\n"},{"tags":["java","secure-random"],"comments":[{"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"score":2,"creation_date":1500670181,"post_id":45246479,"comment_id":77459043,"body_markdown":"SO is not the source code implementation resource. Come here with your code attempts which have some particular problem","body":"SO is not the source code implementation resource. Come here with your code attempts which have some particular problem"},{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1500670561,"post_id":45246479,"comment_id":77459216,"body_markdown":"So you are needing a number that is padded with leading zeros so that it is 6 digits long, correct?","body":"So you are needing a number that is padded with leading zeros so that it is 6 digits long, correct?"},{"owner":{"account_id":2885225,"reputation":1048,"user_id":2475305,"accept_rate":23,"display_name":"MobileAppDeveloper"},"score":0,"creation_date":1500670816,"post_id":45246479,"comment_id":77459338,"body_markdown":"No. I could be any 6 digit number.","body":"No. I could be any 6 digit number."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1500671808,"post_id":45246479,"comment_id":77459802,"body_markdown":"`int secureNumber = secureRandom.nextInt(900000) + 100000;`","body":"<code>int secureNumber = secureRandom.nextInt(900000) + 100000;</code>"},{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1500672124,"post_id":45246479,"comment_id":77459935,"body_markdown":"@shmosel what about the six digit number 023487? You can&#39;t generate any number w/any leading zeros w/your solution...","body":"@shmosel what about the six digit number 023487? You can&#39;t generate any number w/any leading zeros w/your solution..."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1500672314,"post_id":45246479,"comment_id":77460006,"body_markdown":"@rabbitguy 023487 is not a 6 digit integer.","body":"@rabbitguy 023487 is not a 6 digit integer."},{"owner":{"account_id":10581490,"reputation":1707,"user_id":7795130,"display_name":"Davy M"},"score":0,"creation_date":1500673031,"post_id":45246479,"comment_id":77460300,"body_markdown":"@shmosel That&#39;s why he says number and not just integer. 023487 is a 6 digit number although it is not a 6 digit integer.","body":"@shmosel That&#39;s why he says number and not just integer. 023487 is a 6 digit number although it is not a 6 digit integer."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1500673638,"post_id":45246479,"comment_id":77460491,"body_markdown":"@DavyM I&#39;ll bet you a 6 digit figure it&#39;s neither of those.","body":"@DavyM I&#39;ll bet you a 6 digit figure it&#39;s neither of those."},{"owner":{"account_id":10581490,"reputation":1707,"user_id":7795130,"display_name":"Davy M"},"score":1,"creation_date":1500675034,"post_id":45246479,"comment_id":77460944,"body_markdown":"@shmosel The person who assigned James Bond&#39;s agent number would disagree","body":"@shmosel The person who assigned James Bond&#39;s agent number would disagree"}],"answers":[{"tags":[],"owner":{"account_id":10552474,"reputation":23,"user_id":7774736,"display_name":"Pfollvosten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500671309,"creation_date":1500671002,"answer_id":45246671,"question_id":45246479,"body_markdown":"simply done it with an array\r\n\r\n    int[] arr = new int[6];\r\n    Random rand = new SecureRandom();\r\n    for(int i= 0; i&lt; 6 ; i++){\r\n        // 0 to 9\r\n        arr[i] = rand.nextInt(10);   \r\n    }\r\n\r\nDont know if you need it in another type (if you want int look here: https://stackoverflow.com/questions/9564800/how-to-convert-int-array-to-int","title":"Generate secure random number with SecureRandom","body":"<p>simply done it with an array</p>\n\n<pre><code>int[] arr = new int[6];\nRandom rand = new SecureRandom();\nfor(int i= 0; i&lt; 6 ; i++){\n    // 0 to 9\n    arr[i] = rand.nextInt(10);   \n}\n</code></pre>\n\n<p>Dont know if you need it in another type (if you want int look here: <a href=\"https://stackoverflow.com/questions/9564800/how-to-convert-int-array-to-int\">How to convert int array to int?</a></p>\n"},{"tags":[],"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500672857,"creation_date":1500671022,"answer_id":45246677,"question_id":45246479,"body_markdown":"This will create a string of **6** random digits.\r\n\r\n    SecureRandom test = new SecureRandom();\r\n    int result = test.nextInt(1000000);\r\n    String resultStr = result + &quot;&quot;;\r\n    if (resultStr.length() != 6) \r\n        for (int x = resultStr.length(); x &lt; 6; x++) resultStr = &quot;0&quot; + resultStr;\r\n    System.out.println(resultStr); // prints the 6 digit number\r\n\r\nShould work quite nicely. Tested so that it would spit out **1000** numbers and all of them were **6** digits long including leading zeros for when the random number initially chosen was less than **100,000**.","title":"Generate secure random number with SecureRandom","body":"<p>This will create a string of <strong>6</strong> random digits.</p>\n\n<pre><code>SecureRandom test = new SecureRandom();\nint result = test.nextInt(1000000);\nString resultStr = result + \"\";\nif (resultStr.length() != 6) \n    for (int x = resultStr.length(); x &lt; 6; x++) resultStr = \"0\" + resultStr;\nSystem.out.println(resultStr); // prints the 6 digit number\n</code></pre>\n\n<p>Should work quite nicely. Tested so that it would spit out <strong>1000</strong> numbers and all of them were <strong>6</strong> digits long including leading zeros for when the random number initially chosen was less than <strong>100,000</strong>.</p>\n"},{"tags":[],"owner":{"account_id":7710805,"reputation":13604,"user_id":6365112,"accept_rate":100,"display_name":"Yahya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500678470,"creation_date":1500676280,"answer_id":45247633,"question_id":45246479,"body_markdown":"You can do something like this:\r\n\r\n    static String generate(int len){\r\n\t   SecureRandom sr = new SecureRandom();\r\n\t   String result = (sr.nextInt(9)+1) +&quot;&quot;;\r\n\t   for(int i=0; i&lt;len-2; i++) result += sr.nextInt(10);\r\n\t   result += (sr.nextInt(9)+1);\r\n\t   return result;\r\n\t}\r\n\r\n**Test:**\r\n\r\n    public static void main(String[] argv){\r\n       for(int i=3; i&lt;25; i++) System.out.println(generate(i));\r\n    }\r\n\r\n**Output:**\r\n\r\n    639\r\n    1617\r\n    84489\r\n    440757\r\n    9982141\r\n    28220183\r\n    734679206\r\n    1501896787\r\n    29547455245\r\n    417101844095\r\n    9997440470982\r\n    24273208689568\r\n    235051176494856\r\n    9515304245005008\r\n    73519153118911442\r\n    665598930463570609\r\n    9030671114119582966\r\n    96572353350467673335\r\n    450430466373510518561\r\n    9664395407658562145827\r\n    26651025927755496179441\r\n    421157180102739403860678","title":"Generate secure random number with SecureRandom","body":"<p>You can do something like this:</p>\n\n<pre><code>static String generate(int len){\n   SecureRandom sr = new SecureRandom();\n   String result = (sr.nextInt(9)+1) +\"\";\n   for(int i=0; i&lt;len-2; i++) result += sr.nextInt(10);\n   result += (sr.nextInt(9)+1);\n   return result;\n}\n</code></pre>\n\n<p><strong>Test:</strong></p>\n\n<pre><code>public static void main(String[] argv){\n   for(int i=3; i&lt;25; i++) System.out.println(generate(i));\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>639\n1617\n84489\n440757\n9982141\n28220183\n734679206\n1501896787\n29547455245\n417101844095\n9997440470982\n24273208689568\n235051176494856\n9515304245005008\n73519153118911442\n665598930463570609\n9030671114119582966\n96572353350467673335\n450430466373510518561\n9664395407658562145827\n26651025927755496179441\n421157180102739403860678\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2885225,"reputation":1048,"user_id":2475305,"accept_rate":23,"display_name":"MobileAppDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526058497,"creation_date":1500774754,"answer_id":45260860,"question_id":45246479,"body_markdown":"This worked for me.\r\n\r\n    new SecureRandom().nextBytes(values);\r\n    int number = Math.abs(ByteBuffer.wrap(values).getInt());\r\n    while (number &gt;= 1000000) {\r\n         number /= 10;\r\n    }","title":"Generate secure random number with SecureRandom","body":"<p>This worked for me.</p>\n\n<pre><code>new SecureRandom().nextBytes(values);\nint number = Math.abs(ByteBuffer.wrap(values).getInt());\nwhile (number &gt;= 1000000) {\n     number /= 10;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23360862,"reputation":1,"user_id":17433112,"display_name":"Ernest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637106186,"creation_date":1637106186,"answer_id":69997361,"question_id":45246479,"body_markdown":"This is how you would do it using Java IntStream\r\n\r\n    private final SecureRandom secureRandom = new SecureRandom();\r\n    \r\n    public String generateCode() {\r\n        return IntStream.iterate(0, i -&gt; secureRandom.nextInt(10))\r\n                .limit(6)\r\n                .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append).toString();\r\n    }\r\n\r\n","title":"Generate secure random number with SecureRandom","body":"<p>This is how you would do it using Java IntStream</p>\n<pre><code>private final SecureRandom secureRandom = new SecureRandom();\n\npublic String generateCode() {\n    return IntStream.iterate(0, i -&gt; secureRandom.nextInt(10))\n            .limit(6)\n            .collect(StringBuilder::new, StringBuilder::append, StringBuilder::append).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16233104,"reputation":71,"user_id":11721282,"display_name":"Kevin D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649947900,"creation_date":1649947900,"answer_id":71873578,"question_id":45246479,"body_markdown":"Maybe using this code?\r\n\r\n    String.format(&quot;%06d&quot;, secureRandom.nextInt(999999));","title":"Generate secure random number with SecureRandom","body":"<p>Maybe using this code?</p>\n<pre><code>String.format(&quot;%06d&quot;, secureRandom.nextInt(999999));\n</code></pre>\n"}],"owner":{"account_id":2885225,"reputation":1048,"user_id":2475305,"accept_rate":23,"display_name":"MobileAppDeveloper"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15107,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"answer_count":6,"score":3,"last_activity_date":1649947900,"creation_date":1500670031,"question_id":45246479,"body_markdown":"How can I generate a **6** digit integer using `SecureRandom` class of Java? \r\n\r\nI am trying the following code to generate random numbers :\r\n\r\n    SecureRandom secureRandom = new SecureRandom();\r\n    int secureNumber = secureRandom.nextInt();\r\n\r\nIt is generating random numbers with any length including negative number. I don&#39;t find any method in `SecureRandom` class to provide a range of numbers. I want to generate a **6** digits *positive* random number\r\n","title":"Generate secure random number with SecureRandom","body":"<p>How can I generate a <strong>6</strong> digit integer using <code>SecureRandom</code> class of Java? </p>\n\n<p>I am trying the following code to generate random numbers :</p>\n\n<pre><code>SecureRandom secureRandom = new SecureRandom();\nint secureNumber = secureRandom.nextInt();\n</code></pre>\n\n<p>It is generating random numbers with any length including negative number. I don't find any method in <code>SecureRandom</code> class to provide a range of numbers. I want to generate a <strong>6</strong> digits <em>positive</em> random number</p>\n"},{"tags":["java","indexoutofboundsexception"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1649944747,"post_id":71872482,"comment_id":127006548,"body_markdown":"What makes you think that any of the lines inside the try block would be throwing that exception? From the javadoc of that exception: **Thrown to indicate that an index of some sort (such as to an array, to a string, or to a vector) is out of range.\n** ... you aren&#39;t accessing any sort of list/array/... here, so why do you expect THAT exception to ever occur?","body":"What makes you think that any of the lines inside the try block would be throwing that exception? From the javadoc of that exception: **Thrown to indicate that an index of some sort (such as to an array, to a string, or to a vector) is out of range. ** ... you aren&#39;t accessing any sort of list/array/... here, so why do you expect THAT exception to ever occur?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649944850,"post_id":71872482,"comment_id":127006604,"body_markdown":"So, if you **want** that such an exception gets thrown (which would be a MISUSE of it), then you would need something like `if (ent &lt; 1 || ent &gt; 50) throw new IndexOutOfBoundsException()` after you asked the user to enter the value. Also note: your loop variable DONE is never changed, so your code will keep looping.","body":"So, if you <b>want</b> that such an exception gets thrown (which would be a MISUSE of it), then you would need something like <code>if (ent &lt; 1 || ent &gt; 50) throw new IndexOutOfBoundsException()</code> after you asked the user to enter the value. Also note: your loop variable DONE is never changed, so your code will keep looping."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649944942,"post_id":71872482,"comment_id":127006642,"body_markdown":"You need to handle the  case `ent==ran`, too. And ideally, you tell the user: &quot;when you enter 0, you give up, and the loop ends, too&quot; and make that happen.","body":"You need to handle the  case <code>ent==ran</code>, too. And ideally, you tell the user: &quot;when you enter 0, you give up, and the loop ends, too&quot; and make that happen."},{"owner":{"account_id":24936914,"reputation":1,"user_id":18803371,"display_name":"vromm"},"score":0,"creation_date":1649947002,"post_id":71872482,"comment_id":127007505,"body_markdown":"ahh that was something mssing i think there was supposed to be done = true at the end.","body":"ahh that was something mssing i think there was supposed to be done = true at the end."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649947613,"creation_date":1649947613,"answer_id":71873505,"question_id":71872482,"body_markdown":"You should not employ Exceptions for flow control - use a loop with a if-condition that makes sense.  You can bake it into the while-loop condition but in this case the return short-circuits the loop if the guess is valid.\r\n\r\n    public int getGuess(Scanner in) {\r\n      while (true) {\r\n       System.out.printf(&quot;Enter a value between %d and %d&quot;, min, max).println();\r\n        int guess = in.nextInt();\r\n        if (guess &lt; min || guess &gt; max) {\r\n          System.out.printf(&quot;Guess must be between %d and %d, try again&quot;, min, max).println();\r\n        } else {\r\n          return guess;\r\n        }\r\n      }\r\n    }","title":"How to make my program have an outofbounds exception","body":"<p>You should not employ Exceptions for flow control - use a loop with a if-condition that makes sense.  You can bake it into the while-loop condition but in this case the return short-circuits the loop if the guess is valid.</p>\n<pre><code>public int getGuess(Scanner in) {\n  while (true) {\n   System.out.printf(&quot;Enter a value between %d and %d&quot;, min, max).println();\n    int guess = in.nextInt();\n    if (guess &lt; min || guess &gt; max) {\n      System.out.printf(&quot;Guess must be between %d and %d, try again&quot;, min, max).println();\n    } else {\n      return guess;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24936914,"reputation":1,"user_id":18803371,"display_name":"vromm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649947613,"creation_date":1649943068,"question_id":71872482,"body_markdown":"I am trying to catch an outofbounds exception in my program that creates a random number from 1 to 50 and the user guesses that number. The problem that I am facing is that whenever I enter a number that is past the maximum it doesn&#39;t catch it as an exception and displays the appropriate message but instead displays a different message.\r\n\r\nThis is what I have currently\r\n\r\n    Scanner in = new Scanner(System.in);\r\n        int count = 0, ran, min = 1, max = 50;\r\n        int ent = 0;\r\n        ran = (int)(Math.random()*(max-min)) + min;\r\n        System.out.println(&quot;Guess a number from 1 to 50.&quot;);\r\n      try{\r\n          do{\r\n              ent = in.nextInt();\r\n              count++;\r\n              if(ent &gt; ran){\r\n                  System.out.println(&quot;Too high. Try again.&quot;);\r\n              }else if(ent &lt; ran){\r\n                  System.out.println(&quot;Too low. Try again.&quot;);\r\n              }\r\n          }while(ent!=ran);\r\n      }\r\n      catch(IndexOutOfBoundsException ex){\r\n          System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n      }\r\n      catch(InputMismatchException ex){\r\n          System.out.println(&quot;Invalid input&quot;);\r\n      }\r\nI also want to continue the program even after catching an exception but whenever I try to change it the result ends in an infinite loop\r\n\r\n    boolean done = false;\r\n        while(!done){\r\n        System.out.println(&quot;Guess a number from 1 to 50.&quot;);\r\n      try{\r\n              ent = in.nextInt();\r\n              count++;\r\n              if(ent &gt; ran){\r\n                  System.out.println(&quot;Too high. Try again.&quot;);\r\n              }else if(ent &lt; ran){\r\n                  System.out.println(&quot;Too low. Try again.&quot;);\r\n              }\r\n              done = true;\r\n      }\r\n      catch(IndexOutOfBoundsException ex){\r\n          System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n      }\r\n      catch(InputMismatchException ex){\r\n          System.out.println(&quot;Invalid input&quot;);\r\n      }\r\n    }\r\nthis is what I tried to do\r\n\r\n","title":"How to make my program have an outofbounds exception","body":"<p>I am trying to catch an outofbounds exception in my program that creates a random number from 1 to 50 and the user guesses that number. The problem that I am facing is that whenever I enter a number that is past the maximum it doesn't catch it as an exception and displays the appropriate message but instead displays a different message.</p>\n<p>This is what I have currently</p>\n<pre><code>Scanner in = new Scanner(System.in);\n    int count = 0, ran, min = 1, max = 50;\n    int ent = 0;\n    ran = (int)(Math.random()*(max-min)) + min;\n    System.out.println(&quot;Guess a number from 1 to 50.&quot;);\n  try{\n      do{\n          ent = in.nextInt();\n          count++;\n          if(ent &gt; ran){\n              System.out.println(&quot;Too high. Try again.&quot;);\n          }else if(ent &lt; ran){\n              System.out.println(&quot;Too low. Try again.&quot;);\n          }\n      }while(ent!=ran);\n  }\n  catch(IndexOutOfBoundsException ex){\n      System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n  }\n  catch(InputMismatchException ex){\n      System.out.println(&quot;Invalid input&quot;);\n  }\n</code></pre>\n<p>I also want to continue the program even after catching an exception but whenever I try to change it the result ends in an infinite loop</p>\n<pre><code>boolean done = false;\n    while(!done){\n    System.out.println(&quot;Guess a number from 1 to 50.&quot;);\n  try{\n          ent = in.nextInt();\n          count++;\n          if(ent &gt; ran){\n              System.out.println(&quot;Too high. Try again.&quot;);\n          }else if(ent &lt; ran){\n              System.out.println(&quot;Too low. Try again.&quot;);\n          }\n          done = true;\n  }\n  catch(IndexOutOfBoundsException ex){\n      System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n  }\n  catch(InputMismatchException ex){\n      System.out.println(&quot;Invalid input&quot;);\n  }\n}\n</code></pre>\n<p>this is what I tried to do</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":11703218,"reputation":1340,"user_id":8567562,"display_name":"Kuruchy"},"score":3,"creation_date":1649939759,"post_id":71871683,"comment_id":127004574,"body_markdown":"Please add the layout xml file to see the parameters of the TextViews","body":"Please add the layout xml file to see the parameters of the TextViews"},{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1649939800,"post_id":71871683,"comment_id":127004597,"body_markdown":"Use `textSize`.","body":"Use <code>textSize</code>."}],"answers":[{"tags":[],"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1649947284,"creation_date":1649940071,"answer_id":71871796,"question_id":71871683,"body_markdown":"if you have used textSize in your view then reduce the value of it,\r\n\r\n***if not***\r\n\r\nadd this to your view\r\n\r\n    android:textSize=&quot;12sp&quot;//change the 12sp according to your requirements\r\n\r\n    //increase the value of 12sp if you want the text to be larger/bigger\r\n    //decrease the value of 12sp if you want the text to be smaller/reduce the size of text\r\n\r\n","title":"How can i reduce size of letters","body":"<p>if you have used textSize in your view then reduce the value of it,</p>\n<p><em><strong>if not</strong></em></p>\n<p>add this to your view</p>\n<pre><code>android:textSize=&quot;12sp&quot;//change the 12sp according to your requirements\n\n//increase the value of 12sp if you want the text to be larger/bigger\n//decrease the value of 12sp if you want the text to be smaller/reduce the size of text\n</code></pre>\n"}],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71871796,"answer_count":1,"score":0,"last_activity_date":1649947284,"creation_date":1649939577,"question_id":71871683,"body_markdown":"I want to reduce size of letters, The thing is that the letters a very big\r\n(look at the 1st screenshot), i would like to that the text was smaller. How can i to do it?\r\n\r\n[1st screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KjttC.png","title":"How can i reduce size of letters","body":"<p>I want to reduce size of letters, The thing is that the letters a very big\n(look at the 1st screenshot), i would like to that the text was smaller. How can i to do it?</p>\n<p><a href=\"https://i.stack.imgur.com/KjttC.png\" rel=\"nofollow noreferrer\">1st screenshot</a></p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":2328976,"reputation":4965,"user_id":2042827,"accept_rate":47,"display_name":"ikos23"},"score":0,"creation_date":1529049141,"post_id":50871233,"comment_id":88744140,"body_markdown":"In the first example, your method returns TRUE if ALL elements of the array are factors of N. In the second case, your method returns TRUE if 1 element is. And by 1 I mean just any 1 element from the array. The first one is what you need.","body":"In the first example, your method returns TRUE if ALL elements of the array are factors of N. In the second case, your method returns TRUE if 1 element is. And by 1 I mean just any 1 element from the array. The first one is what you need."},{"owner":{"account_id":536946,"reputation":2550,"user_id":905692,"accept_rate":79,"display_name":"waldrumpus"},"score":0,"creation_date":1529049310,"post_id":50871233,"comment_id":88744206,"body_markdown":"Think about what it means to return from a function. You said you need to test all the numbers in the array - does your second code snippet do that?","body":"Think about what it means to return from a function. You said you need to test all the numbers in the array - does your second code snippet do that?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1529049375,"post_id":50871233,"comment_id":88744231,"body_markdown":"Appropriate indentation makes your code much easier to follow.","body":"Appropriate indentation makes your code much easier to follow."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529049042,"creation_date":1529049042,"answer_id":50871265,"question_id":50871233,"body_markdown":"In the first method you return `true` if **all** of the numbers in the `factors` array are factors of `n` (i.e. you return `false` if any of the numbers is **not** a factor, which means you return `true` only if you finished checking all the numbers).\r\n\r\nIn the second method you return `true` if **any** of the numbers in the `factors` array is a factor of `n` (since you return `true` the first time you find a factor of `n`).\r\n\r\nHence the two methods produce a different output.","title":"Returning a result of type boolean in Java","body":"<p>In the first method you return <code>true</code> if <strong>all</strong> of the numbers in the <code>factors</code> array are factors of <code>n</code> (i.e. you return <code>false</code> if any of the numbers is <strong>not</strong> a factor, which means you return <code>true</code> only if you finished checking all the numbers).</p>\n\n<p>In the second method you return <code>true</code> if <strong>any</strong> of the numbers in the <code>factors</code> array is a factor of <code>n</code> (since you return <code>true</code> the first time you find a factor of <code>n</code>).</p>\n\n<p>Hence the two methods produce a different output.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529049424,"creation_date":1529049064,"answer_id":50871269,"question_id":50871233,"body_markdown":"Because you have to return `true` only as all `int`s of the `factors` array are divisible by `n`.  \r\nBut you return `true` at the first matching in the second code :\r\n\r\n    public static boolean areFactors( int n, int[] factors) {\r\n    for (int factor: factors) {\r\n        if ( n % factor==0) \r\n            return true; // only first element(s) of factors may be divisible \r\n                         // by n and not the next one. But too late you returned true\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\nWhile your first code is correct : \r\n\r\n    public static boolean arefactors(int n, int[] factors){\r\n        for (int factor:factors){\r\n           if (n % factor != 0)\r\n               return false;  // if any is not divisible by n, you return false\r\n        }\r\n        return true; // if you go there, it means all numbers are divisible by n\r\n                     // you can then return true\r\n    }","title":"Returning a result of type boolean in Java","body":"<p>Because you have to return <code>true</code> only as all <code>int</code>s of the <code>factors</code> array are divisible by <code>n</code>.<br>\nBut you return <code>true</code> at the first matching in the second code :</p>\n\n<pre><code>public static boolean areFactors( int n, int[] factors) {\nfor (int factor: factors) {\n    if ( n % factor==0) \n        return true; // only first element(s) of factors may be divisible \n                     // by n and not the next one. But too late you returned true\n    }\n    return false;\n}\n</code></pre>\n\n<p>While your first code is correct : </p>\n\n<pre><code>public static boolean arefactors(int n, int[] factors){\n    for (int factor:factors){\n       if (n % factor != 0)\n           return false;  // if any is not divisible by n, you return false\n    }\n    return true; // if you go there, it means all numbers are divisible by n\n                 // you can then return true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11123375,"reputation":1,"user_id":8165635,"display_name":"J.Dilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649947142,"creation_date":1649922717,"answer_id":71868201,"question_id":50871233,"body_markdown":"I think your code doesn&#39;t work properly because:\r\n\r\nThis \r\n\r\n    if ( n % factor != 0 )\r\n\r\nshould be\r\n\r\n    if ( factor % n != 0 )","title":"Returning a result of type boolean in Java","body":"<p>I think your code doesn't work properly because:</p>\n<p>This</p>\n<pre><code>if ( n % factor != 0 )\n</code></pre>\n<p>should be</p>\n<pre><code>if ( factor % n != 0 )\n</code></pre>\n"}],"owner":{"account_id":13780025,"reputation":23,"user_id":9945364,"display_name":"R.Ang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1649947142,"creation_date":1529048897,"question_id":50871233,"body_markdown":"I&#39;m trying to solve this question:\r\n\r\nWrite a method named areFactors that takes an integer n\r\nand an array of integers, and that returns true if the numbers in the array\r\nare all factors of n (which is to say that n is divisible by all of them).\r\n\r\nThis is one of my answer which works:\r\n\r\n    public static boolean arefactors(int n, int[] factors){\r\n        for (int factor:factors){\r\n           if (n % factor != 0)\r\n               return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nBut why when I reverse and return &#39;true&#39; first, the program doesn&#39;t work properly and always return true regardless of what integer I use in the array? In this case:\r\n\r\n    public static boolean areFactors( int n, int[] factors) {\r\n\t    for (int factor: factors) {\r\n\t\t    if ( n % factor==0) \r\n\t\t\t    return true;\r\n\t\t}\r\n\t    return false;\r\n\t}\r\n ","title":"Returning a result of type boolean in Java","body":"<p>I'm trying to solve this question:</p>\n\n<p>Write a method named areFactors that takes an integer n\nand an array of integers, and that returns true if the numbers in the array\nare all factors of n (which is to say that n is divisible by all of them).</p>\n\n<p>This is one of my answer which works:</p>\n\n<pre><code>public static boolean arefactors(int n, int[] factors){\n    for (int factor:factors){\n       if (n % factor != 0)\n           return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>But why when I reverse and return 'true' first, the program doesn't work properly and always return true regardless of what integer I use in the array? In this case:</p>\n\n<pre><code>public static boolean areFactors( int n, int[] factors) {\n    for (int factor: factors) {\n        if ( n % factor==0) \n            return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","data-structures","analysis","static-analysis","formal-methods"],"comments":[{"owner":{"account_id":899912,"reputation":28525,"user_id":936310,"accept_rate":100,"display_name":"alias"},"score":0,"creation_date":1649948656,"post_id":71873226,"comment_id":127008175,"body_markdown":"You can&#39;t really do this in any meaningful way using regex&#39;s; however many simplifying assumptions you put in. The grammar of Java is just not something you can handle with a regular expression, nor your problem is as simple as that. You need to start with a Java (or a subset thereof) parser..","body":"You can&#39;t really do this in any meaningful way using regex&#39;s; however many simplifying assumptions you put in. The grammar of Java is just not something you can handle with a regular expression, nor your problem is as simple as that. You need to start with a Java (or a subset thereof) parser.."},{"owner":{"account_id":15017132,"reputation":1,"user_id":10839807,"display_name":"Maria Salim"},"score":0,"creation_date":1649961554,"post_id":71873226,"comment_id":127012472,"body_markdown":"@alias, Can I use a Tree or Stack for control structures? Would keeping a worklist of paths to be executed make it work somehow? Or the only way to do this is to start with a Parser?","body":"@alias, Can I use a Tree or Stack for control structures? Would keeping a worklist of paths to be executed make it work somehow? Or the only way to do this is to start with a Parser?"}],"owner":{"account_id":15017132,"reputation":1,"user_id":10839807,"display_name":"Maria Salim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649946333,"creation_date":1649946333,"question_id":71873226,"body_markdown":"I am writing a program in Java that does Available expression Analysis on a given Java Program. I have managed to extract Generate and Kill set. To keep it simple, I am going with a constraint that will only analyze programs that declare ONE VARIABLE IN ONE LINE (The regex expression works for it with declaration and initialization but, the logic for redefinition of variables is still in progress. This is the reason why it won&#39;t correctly detect the kill set). \r\n\r\nThe problem I am facing right now is that how would I track the loops? conditional statements? all the control structures? like While, for, and if-else statements. \r\n\r\nCan anyone please help? what to use for this? how to keep track of the paths? Below are the code files.\r\n\r\nAny assistance you can provide would be greatly appreciated. Thank you!\r\n\r\n\r\n\r\n **ReadFile.java**\r\n\r\n       // Import the File class\r\n    import java.io.File; \r\n     \r\n    // Import this class to handle errors\r\n    import java.io.FileNotFoundException;\r\n    import java.util.ArrayList;\r\n    // Import the Scanner class to read text files\r\n    import java.util.Scanner; \r\n    import java.util.Stack;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class ReadFile \r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t// Creating an object of the file for reading the stmt\r\n    \t\tFile myObj = new File(&quot;./Files/Test.txt&quot;);  \r\n    \t\r\n    \t\tArrayList&lt;State&gt; stmts = new ArrayList&lt;State&gt;();\r\n    \r\n    \t\tString gen=&quot;{ }&quot;;\r\n    \t\tString kill=&quot;{ }&quot;;\r\n    \t\tScanner myReader = new Scanner(myObj);\r\n    \t\tint i=0;\r\n    \t\twhile (myReader.hasNextLine()) \r\n    \t\t{\r\n    \t\t\tString stmt = myReader.nextLine();\r\n    \t\t\tboolean def=true;\r\n    \r\n    \t\t\tif(stmt.contains(&quot;class&quot;) || stmt.contains(&quot;{&quot;) || stmt.contains(&quot;}&quot;) || stmt.contains(&quot;args[]&quot;) || stmt.startsWith(&quot;//&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\t \r\n    \t\t\t\t\t\r\n    \t\t\tPattern p = Pattern.compile(&quot;^(int|long|float|double)\\\\s(([\\\\_\\\\w\\\\d])+)&quot;);\r\n    \t\t\t\r\n    \t\t\tMatcher m = p.matcher(stmt.trim());\r\n    \r\n    \r\n    \t\t\twhile(m.find())\r\n    \t\t\t{\r\n    \t\t\t\tkill = m.group(3);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif(stmt.contains(&quot;=&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tString[] exp = stmt.split(&quot;=&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tfor(int l=0; l&lt;exp.length;l++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(exp[l].contains(&quot;+&quot;) || exp[l].contains(&quot;-&quot;) || exp[l].contains(&quot;*&quot;) || exp[l].contains(&quot;/&quot;))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tgen = exp[l];\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\tstmts.add(new State(new ArrayList&lt;String&gt;(), i, false, kill,gen,stmt));\r\n    \t\t\tgen = &quot;{ }&quot;;\r\n    \t\t\tkill = &quot;{ }&quot;;\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\tmyReader.close();\r\n    \t\t\r\n    \t\tfor (int j = 0; j &lt; stmts.size(); j++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Line Number &quot; + stmts.get(j).lineNo);\r\n    \t\t\tSystem.out.println(&quot;Statement &quot; + stmts.get(j).statement);\r\n    \t\t\tSystem.out.println(&quot;Generated &quot; + stmts.get(j).genSet);\r\n    \t\t\tSystem.out.println(&quot;Kill &quot; + stmts.get(j).killSet);\r\n    \r\n    \t\t}\r\n    \r\n    \r\n    \t\t\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n    \t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**State.java**\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class State \r\n    {\r\n    \t//Elements\r\n    \tpublic ArrayList&lt;String&gt; variables = new ArrayList&lt;String&gt;();\r\n    \tpublic int lineNo;\r\n    \tpublic boolean isDef;\r\n    \tpublic String killSet;\r\n    \tpublic String genSet;\r\n    \tpublic String statement;\r\n    \t\r\n    \t//Constructor\r\n    \tpublic State(ArrayList&lt;String&gt; al, int ln, boolean def, String kill, String gen, String stmt) \r\n    \t{\r\n    \t\tfor(int i=0;i&lt;al.size();i++)\r\n    \t\t{\r\n    \t\t\tvariables.add(al.get(i));\r\n    \t\t}\r\n    \t\tlineNo = ln;\r\n    \t\tisDef = def;\r\n    \t\tkillSet = kill;\r\n    \t\tgenSet = gen;\r\n    \t\tstatement = stmt;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n","title":"Tracking Control Structures in Java for Static Code Analysis (Available Expressions)","body":"<p>I am writing a program in Java that does Available expression Analysis on a given Java Program. I have managed to extract Generate and Kill set. To keep it simple, I am going with a constraint that will only analyze programs that declare ONE VARIABLE IN ONE LINE (The regex expression works for it with declaration and initialization but, the logic for redefinition of variables is still in progress. This is the reason why it won't correctly detect the kill set).</p>\n<p>The problem I am facing right now is that how would I track the loops? conditional statements? all the control structures? like While, for, and if-else statements.</p>\n<p>Can anyone please help? what to use for this? how to keep track of the paths? Below are the code files.</p>\n<p>Any assistance you can provide would be greatly appreciated. Thank you!</p>\n<p><strong>ReadFile.java</strong></p>\n<pre><code>   // Import the File class\nimport java.io.File; \n \n// Import this class to handle errors\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\n// Import the Scanner class to read text files\nimport java.util.Scanner; \nimport java.util.Stack;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class ReadFile \n{\n    public static void main(String[] args) {\n        try {\n        // Creating an object of the file for reading the stmt\n        File myObj = new File(&quot;./Files/Test.txt&quot;);  \n    \n        ArrayList&lt;State&gt; stmts = new ArrayList&lt;State&gt;();\n\n        String gen=&quot;{ }&quot;;\n        String kill=&quot;{ }&quot;;\n        Scanner myReader = new Scanner(myObj);\n        int i=0;\n        while (myReader.hasNextLine()) \n        {\n            String stmt = myReader.nextLine();\n            boolean def=true;\n\n            if(stmt.contains(&quot;class&quot;) || stmt.contains(&quot;{&quot;) || stmt.contains(&quot;}&quot;) || stmt.contains(&quot;args[]&quot;) || stmt.startsWith(&quot;//&quot;))\n            {\n                continue;\n            }\n             \n                    \n            Pattern p = Pattern.compile(&quot;^(int|long|float|double)\\\\s(([\\\\_\\\\w\\\\d])+)&quot;);\n            \n            Matcher m = p.matcher(stmt.trim());\n\n\n            while(m.find())\n            {\n                kill = m.group(3);\n            }\n\n            if(stmt.contains(&quot;=&quot;))\n            {\n                String[] exp = stmt.split(&quot;=&quot;);\n                \n                \n                for(int l=0; l&lt;exp.length;l++)\n                {\n                    \n                    if(exp[l].contains(&quot;+&quot;) || exp[l].contains(&quot;-&quot;) || exp[l].contains(&quot;*&quot;) || exp[l].contains(&quot;/&quot;))\n                    {\n                        gen = exp[l];       \n                    }\n                }\n                \n            stmts.add(new State(new ArrayList&lt;String&gt;(), i, false, kill,gen,stmt));\n            gen = &quot;{ }&quot;;\n            kill = &quot;{ }&quot;;\n            i++;\n        }\n        myReader.close();\n        \n        for (int j = 0; j &lt; stmts.size(); j++)\n        {\n            System.out.println(&quot;Line Number &quot; + stmts.get(j).lineNo);\n            System.out.println(&quot;Statement &quot; + stmts.get(j).statement);\n            System.out.println(&quot;Generated &quot; + stmts.get(j).genSet);\n            System.out.println(&quot;Kill &quot; + stmts.get(j).killSet);\n\n        }\n\n\n        \n        } catch (FileNotFoundException e) {\n        System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n        }\n        \n    }\n\n}\n</code></pre>\n<p><strong>State.java</strong></p>\n<pre><code>import java.util.ArrayList;\n\npublic class State \n{\n    //Elements\n    public ArrayList&lt;String&gt; variables = new ArrayList&lt;String&gt;();\n    public int lineNo;\n    public boolean isDef;\n    public String killSet;\n    public String genSet;\n    public String statement;\n    \n    //Constructor\n    public State(ArrayList&lt;String&gt; al, int ln, boolean def, String kill, String gen, String stmt) \n    {\n        for(int i=0;i&lt;al.size();i++)\n        {\n            variables.add(al.get(i));\n        }\n        lineNo = ln;\n        isDef = def;\n        killSet = kill;\n        genSet = gen;\n        statement = stmt;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1649944966,"post_id":71872874,"comment_id":127006653,"body_markdown":"Whats `txtRam` supposed to be? That variable is nowhere declared in the code above.","body":"Whats <code>txtRam</code> supposed to be? That variable is nowhere declared in the code above."},{"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"score":0,"creation_date":1649945150,"post_id":71872874,"comment_id":127006724,"body_markdown":"txrRam mean textfield name","body":"txrRam mean textfield name"},{"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"score":0,"creation_date":1649945242,"post_id":71872874,"comment_id":127006766,"body_markdown":"what is text printed on the lbltxt.getText()   i equal in to txtRam txtfiled but no is equal fine but display as Try again","body":"what is text printed on the lbltxt.getText()   i equal in to txtRam txtfiled but no is equal fine but display as Try again"},{"owner":{"account_id":19140135,"reputation":75,"user_id":13980243,"display_name":"Jiahui Chen"},"score":0,"creation_date":1649945779,"post_id":71872874,"comment_id":127007013,"body_markdown":"Double check what&#39;s the value of txtRam and text. Print them out and you&#39;ll see what&#39;s going on","body":"Double check what&#39;s the value of txtRam and text. Print them out and you&#39;ll see what&#39;s going on"}],"answers":[{"tags":[],"owner":{"account_id":19140135,"reputation":75,"user_id":13980243,"display_name":"Jiahui Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649946236,"creation_date":1649946236,"answer_id":71873200,"question_id":71872874,"body_markdown":"I&#39;d recommend you to **debug** and **check** what&#39;s the value you&#39;re getting from both `txtRam` and `text` variables. You could also convert the generated random number to a String to compare it with the txtRam.\r\n\r\n```java\r\n// Generate random number\r\nRandom r = new Random();\r\nint low = 1;\r\nint high = 10;\r\nint result = r.nextInt(high-low) + low;\r\nif( txtRam.equals(Integer.toString(result)) ) {\r\n   // Equal\r\n} else {\r\n   // Not equal\r\n}\r\n```","title":"Java random number generated game using java","body":"<p>I'd recommend you to <strong>debug</strong> and <strong>check</strong> what's the value you're getting from both <code>txtRam</code> and <code>text</code> variables. You could also convert the generated random number to a String to compare it with the txtRam.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Generate random number\nRandom r = new Random();\nint low = 1;\nint high = 10;\nint result = r.nextInt(high-low) + low;\nif( txtRam.equals(Integer.toString(result)) ) {\n   // Equal\n} else {\n   // Not equal\n}\n</code></pre>\n"}],"owner":{"account_id":23844183,"reputation":125,"user_id":17848878,"display_name":"John Peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71873200,"answer_count":1,"score":0,"last_activity_date":1649946236,"creation_date":1649944726,"question_id":71872874,"body_markdown":"I am creating the simple game using random number generated. if the number is enter on the text field is correct and match with the ramdom number game is win other wise try again. but if the number is matched with ramdom   always display the message Try again. What I try so far I wrote below.\r\n\r\n  \r\n\r\n      Random r = new Random();\r\n            int low = 1;\r\n            int high = 10;\r\n            \r\n            int result = r.nextInt(high-low) + low;\r\n            lbltxt.setText(String.valueOf(result));\r\n            String text = lbltxt.getText();\r\n    \r\n            if(txtRam.equals(text))\r\n            {\r\n                JOptionPane.showMessageDialog(this, &quot;You Will&quot;);\r\n            }\r\n            else\r\n            {\r\n                JOptionPane.showMessageDialog(this, &quot;Try Again&quot;);\r\n            }\r\n\r\n\r\nwhat is text printed on the lbltxt.getText()   i equal in to txtRam txtfiled but no is equal fine but display as Try again","title":"Java random number generated game using java","body":"<p>I am creating the simple game using random number generated. if the number is enter on the text field is correct and match with the ramdom number game is win other wise try again. but if the number is matched with ramdom   always display the message Try again. What I try so far I wrote below.</p>\n<pre><code>  Random r = new Random();\n        int low = 1;\n        int high = 10;\n        \n        int result = r.nextInt(high-low) + low;\n        lbltxt.setText(String.valueOf(result));\n        String text = lbltxt.getText();\n\n        if(txtRam.equals(text))\n        {\n            JOptionPane.showMessageDialog(this, &quot;You Will&quot;);\n        }\n        else\n        {\n            JOptionPane.showMessageDialog(this, &quot;Try Again&quot;);\n        }\n</code></pre>\n<p>what is text printed on the lbltxt.getText()   i equal in to txtRam txtfiled but no is equal fine but display as Try again</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649946385,"post_id":71873197,"comment_id":127007261,"body_markdown":"Your temp variable is an int, not a Scores object. The error message is correct, that `[scores[j + 1] = temp` doesn&#39;t make much sense.","body":"Your temp variable is an int, not a Scores object. The error message is correct, that <code>[scores[j + 1] = temp</code> doesn&#39;t make much sense."},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":0,"creation_date":1649947638,"post_id":71873197,"comment_id":127007753,"body_markdown":"That looks like a bubble sort (as your intent is to move the higher element to the &quot;top&quot; of the array) but i&#39;m afraid the swap operation is not correct, do note that you shall do `int temp = scores[j]`. You are almost there!","body":"That looks like a bubble sort (as your intent is to move the higher element to the &quot;top&quot; of the array) but i&#39;m afraid the swap operation is not correct, do note that you shall do <code>int temp = scores[j]</code>. You are almost there!"}],"owner":{"account_id":24692932,"reputation":11,"user_id":18585229,"display_name":"Xam0110"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1649946547,"answer_count":0,"score":0,"last_activity_date":1649946222,"creation_date":1649946222,"question_id":71873197,"body_markdown":"I am trying Bubble sort for an array of Score from a text file which consist of a String name and integer value scores. I tried with the code below but got an error of incompatible type issue.\r\n\r\n \r\n\r\n     public static void bubbleSort(Score[] scores)\r\n    {\r\n        int n = scores.length;\r\n        for(int i = 0; i&lt; n; i++)\r\n        {\r\n            Score score = scores[i];\r\n            for(int j = 0; j &lt; n -i -1; j++)\r\n                if(scores[j].getScore() &gt; scores[j + 1].getScore())\r\n                {\r\n                    //swap scores[j+1] and scores[j]\r\n                    int temp = scores[j].getScore();\r\n                    scores[j] = scores[j + 1];\r\n                    scores[j + 1] = temp;\r\n                }\r\n            \r\n        }\r\n    }","title":"Java Bubble Sort for an array of Scores","body":"<p>I am trying Bubble sort for an array of Score from a text file which consist of a String name and integer value scores. I tried with the code below but got an error of incompatible type issue.</p>\n<pre><code> public static void bubbleSort(Score[] scores)\n{\n    int n = scores.length;\n    for(int i = 0; i&lt; n; i++)\n    {\n        Score score = scores[i];\n        for(int j = 0; j &lt; n -i -1; j++)\n            if(scores[j].getScore() &gt; scores[j + 1].getScore())\n            {\n                //swap scores[j+1] and scores[j]\n                int temp = scores[j].getScore();\n                scores[j] = scores[j + 1];\n                scores[j + 1] = temp;\n            }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","redis","batch-processing","jedis","redisson"],"owner":{"account_id":4862563,"reputation":991,"user_id":3921757,"accept_rate":76,"display_name":"Shivang MIttal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649946196,"creation_date":1649837736,"question_id":71854107,"body_markdown":"I have an inventory list of Millions of records that I want to insert/merge in batches in Redis using Redisson Batch command.\r\nbelow is the code\r\n\r\n    public void upsertInventoryInBatches(final List&lt;ItemInventory&gt; itemInventory) throws ExecutionException, InterruptedException {\r\n        RBatch batch = redissonClient.createBatch(BatchOptions.defaults().responseTimeout(300, TimeUnit.SECONDS));\r\n        RMapAsync&lt;String, ItemInventory&gt; map = batch.getMap(IMSConstant.REDIS_INVENTORY_MAP);\r\n        try {\r\n            for (ItemInventory item : itemInventory) {\r\n                map.mergeAsync(item.getKey(), item, (existing, newValue) -&gt; {\r\n                    if (existing == null) {\r\n                        return newValue;\r\n                    } else {\r\n                        if (existing.getQuantity() == newValue.getQuantity()\r\n                                &amp;&amp; existing.getMinMRP() == newValue.getMinMRP()) {\r\n                            return existing;\r\n                        }\r\n                        existing.setQuantity(item.getQuantity());\r\n                        existing.setMinMRP(item.getMinMRP());\r\n                        existing.setEarliestExpiryDate(item.getEarliestExpiryDate());\r\n                        existing.setVersion(item.getVersion());\r\n                        return existing;\r\n                    }\r\n                });\r\n    }\r\n\r\n        var res = batch.execute();  // Hangs with no result and no error\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n\r\n        }\r\n\r\n\r\nthe`batch.execute `statement just hangs with no error and no output.\r\n Looking for guidance on what I am doing wrong.\r\n`batch.getMap(IMSConstant.REDIS_INVENTORY_MAP).putAsync(item.getKey(), item)` works fine but I want to merge the values. if its not possible with redisson,  Is it possible via any redis java client?","title":"Executing batch query with redis redisson client Hangs forever","body":"<p>I have an inventory list of Millions of records that I want to insert/merge in batches in Redis using Redisson Batch command.\nbelow is the code</p>\n<pre><code>public void upsertInventoryInBatches(final List&lt;ItemInventory&gt; itemInventory) throws ExecutionException, InterruptedException {\n    RBatch batch = redissonClient.createBatch(BatchOptions.defaults().responseTimeout(300, TimeUnit.SECONDS));\n    RMapAsync&lt;String, ItemInventory&gt; map = batch.getMap(IMSConstant.REDIS_INVENTORY_MAP);\n    try {\n        for (ItemInventory item : itemInventory) {\n            map.mergeAsync(item.getKey(), item, (existing, newValue) -&gt; {\n                if (existing == null) {\n                    return newValue;\n                } else {\n                    if (existing.getQuantity() == newValue.getQuantity()\n                            &amp;&amp; existing.getMinMRP() == newValue.getMinMRP()) {\n                        return existing;\n                    }\n                    existing.setQuantity(item.getQuantity());\n                    existing.setMinMRP(item.getMinMRP());\n                    existing.setEarliestExpiryDate(item.getEarliestExpiryDate());\n                    existing.setVersion(item.getVersion());\n                    return existing;\n                }\n            });\n}\n\n    var res = batch.execute();  // Hangs with no result and no error\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n\n    }\n</code></pre>\n<p>the<code>batch.execute </code>statement just hangs with no error and no output.\nLooking for guidance on what I am doing wrong.\n<code>batch.getMap(IMSConstant.REDIS_INVENTORY_MAP).putAsync(item.getKey(), item)</code> works fine but I want to merge the values. if its not possible with redisson,  Is it possible via any redis java client?</p>\n"},{"tags":["java","android","kotlin","android-room","android-paging-3"],"owner":{"account_id":18914366,"reputation":1,"user_id":13799743,"display_name":"Federico De Benedictis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649945877,"creation_date":1649945877,"question_id":71873122,"body_markdown":"I am trying to implement the Remote Mediator to have an infinite list. It was working properly when I was using the Paging Source but from the moment I started to implement the Remote Mediator, I only get the first page of the list or a constant flickering where the data are deleted and added to the database every second.\r\n\r\nAPI SERVICE\r\n``` \r\n@GET(&quot;companies/{id}/timeline&quot;)\r\n    suspend fun getTimeline(\r\n        @Path(&quot;id&quot;) id: String,\r\n        @Query(&quot;page&quot;) page: String?\r\n    ): Response&lt;List&lt;TimelineResponse&gt;&gt;\r\n```\r\nDATABASE\r\n```\r\n@Database(\r\n    entities = [\r\n        DatabaseMessage::class,\r\n        DatabaseRemoteKey::class\r\n    ],\r\n    version = 5,\r\n    exportSchema = false\r\n)\r\n@TypeConverters(AttachmentConverter::class)\r\nabstract class TimelineDatabase : RoomDatabase() {\r\n\r\n    abstract fun getTimelineDao(): TimelineDao\r\n    abstract fun getKeysDao(): RemoteKeyDao\r\n}\r\n```\r\nDAO\r\n```\r\n@Dao\r\ninterface TimelineDao {\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    suspend fun insertTimeline(list: List&lt;DatabaseMessage&gt;)\r\n\r\n    @Query(&quot;SELECT * FROM timeline ORDER BY score ASC&quot;)\r\n    fun pagingSource(): PagingSource&lt;Int, DatabaseMessage&gt;\r\n\r\n    @Query(&quot;DELETE FROM timeline&quot;)\r\n    suspend fun deleteTimeline()\r\n}\r\n```\r\nREMOTE MEDIATOR\r\n```\r\n@OptIn(ExperimentalPagingApi::class)\r\nclass TimelineRemoteMediator(\r\n    private val api: ContentService,\r\n    private val db: TimelineDatabase\r\n) : RemoteMediator&lt;Int, DatabaseMessage&gt;() {\r\n\r\n    private val timelineDao = db.getTimelineDao()\r\n    private lateinit var timeline: List&lt;DatabaseMessage&gt;\r\n\r\n    override suspend fun initialize(): InitializeAction {\r\n        return InitializeAction.LAUNCH_INITIAL_REFRESH\r\n    }\r\n\r\n    override suspend fun load(\r\n        loadType: LoadType,\r\n        state: PagingState&lt;Int, DatabaseMessage&gt;\r\n    ): MediatorResult {\r\n\r\n        return try {\r\n            val loadKey = when(loadType) {\r\n                LoadType.REFRESH -&gt; null\r\n                LoadType.PREPEND -&gt; return MediatorResult.Success(endOfPaginationReached = true)\r\n                LoadType.APPEND -&gt; {\r\n                    val lastItem = state.lastItemOrNull()\r\n                    if (lastItem == null) {\r\n                        return MediatorResult.Success(endOfPaginationReached = true)\r\n                    }\r\n                    lastItem.id\r\n                }\r\n            }\r\n\r\n            val response = api.getTimeline(\r\n                id = COMMUNITY_ID,\r\n                page = loadKey\r\n            ).let { response -&gt;\r\n                response.body()?.map { it.asDatabaseModel() }\r\n            }\r\n            db.withTransaction {\r\n                if (loadType == LoadType.REFRESH) {\r\n                    timelineDao.deleteTimeline()\r\n                }\r\n                if (response != null) {\r\n                    timeline = response\r\n                    timelineDao.insertTimeline(timeline)\r\n                }\r\n            }\r\n            MediatorResult.Success(\r\n                endOfPaginationReached = timeline.isEmpty()\r\n            )\r\n        } catch (e: IOException) {\r\n            MediatorResult.Error(e)\r\n        } catch (e: HttpException) {\r\n            MediatorResult.Error(e)\r\n        }\r\n    }\r\n}\r\n```\r\nREPOSITORY\r\n\r\n```\r\nclass ContentRepository @Inject constructor(\r\n    private val contentRemoteDataSource: ContentRemoteDataSource,\r\n    private val contentService: ContentService,\r\n    private val database: TimelineDatabase\r\n) {\r\n\r\n    // Here we can use the Mediator inside the repository\r\n    @OptIn(ExperimentalPagingApi::class)\r\n    fun getTimeline(): Flow&lt;PagingData&lt;DatabaseMessage&gt;&gt; {\r\n        val pagingSourceFactory = { database.getTimelineDao().pagingSource() }\r\n        return Pager(\r\n            config = PagingConfig(\r\n                pageSize = DEFAULT_PAGE_LIMIT,\r\n                enablePlaceholders = false\r\n            ),\r\n            remoteMediator = TimelineRemoteMediator(\r\n                api = contentService,\r\n                db = database\r\n            ),\r\n            pagingSourceFactory = pagingSourceFactory\r\n        ).flow\r\n    }\r\n\r\n    suspend fun addToInterest(id: String) = flow {\r\n        emit(Resource.loading(null))\r\n        val response = contentRemoteDataSource.addToInterest(id)\r\n        when (response.status) {\r\n            SUCCESS -&gt; {\r\n                emit(Resource.success(response.data))\r\n            }\r\n            ERROR -&gt; {\r\n                emit(Resource.error(response.errorResponse, null))\r\n            }\r\n            LOADING -&gt; {\r\n                emit(Resource.loading(null))\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nADAPTER\r\n```\r\nclass CommunityMessageAdapter(private val onClickListener: OnClickListener) :\r\n    PagingDataAdapter&lt;Message, CommunityMessageAdapter.MessageViewHolder&gt;(DiffCallback) {\r\n\r\n    class MessageViewHolder(private var binding: ItemViewMessageBinding) :\r\n        RecyclerView.ViewHolder(binding.root) {\r\n        fun bind(message: Message) {\r\n            binding.message = message\r\n            binding.executePendingBindings()\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MessageViewHolder {\r\n        return MessageViewHolder(\r\n            ItemViewMessageBinding.inflate(\r\n                LayoutInflater.from(parent.context),\r\n                parent,\r\n                false\r\n            )\r\n        )\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: MessageViewHolder, position: Int) {\r\n        getItem(position)?.let { message -&gt;\r\n        holder.itemView.setOnClickListener {\r\n            onClickListener.onClick(message)\r\n        }\r\n            holder.bind(message)\r\n        }\r\n    }\r\n\r\n    companion object DiffCallback : DiffUtil.ItemCallback&lt;Message&gt;() {\r\n        override fun areItemsTheSame(oldItem: Message, newItem: Message): Boolean {\r\n            return oldItem.id === newItem.id\r\n        }\r\n\r\n        override fun areContentsTheSame(oldItem: Message, newItem: Message): Boolean {\r\n            return oldItem == newItem\r\n        }\r\n    }\r\n\r\n    class OnClickListener(val clickListener: (message: Message) -&gt; Unit) {\r\n        fun onClick(message: Message) = clickListener(message)\r\n    }\r\n}\r\n```\r\nVIEW MODEL\r\n```\r\n@OptIn(ExperimentalPagingApi::class)\r\n@HiltViewModel\r\nclass HomeViewModel @Inject constructor(\r\n    contentRepository: ContentRepository\r\n) : ViewModel() {\r\n\r\n    private val _errorMessage = MutableLiveData&lt;String?&gt;()\r\n    val errorMessage: LiveData&lt;String?&gt; = _errorMessage\r\n\r\n    private val _isLoading = MutableLiveData&lt;Boolean?&gt;()\r\n    val isLoading: LiveData&lt;Boolean?&gt; = _isLoading\r\n\r\n    private val _networkError = MutableLiveData&lt;Boolean?&gt;()\r\n    val networkError: LiveData&lt;Boolean?&gt; = _networkError\r\n\r\n    private val _navigateToMessageDetails = MutableLiveData&lt;Message?&gt;()\r\n    val navigateToMessageDetails: LiveData&lt;Message?&gt; = _navigateToMessageDetails\r\n\r\n    val getTimeline = contentRepository.getTimeline().map { pagingData -&gt;\r\n        pagingData.map { it.asUiModel() }\r\n    }\r\n\r\n    fun openMessageDetails(message: Message) {\r\n        _navigateToMessageDetails.postValue(message)\r\n    }\r\n\r\n    fun openMessageDetailsComplete() {\r\n        _navigateToMessageDetails.postValue(null)\r\n    }\r\n}\r\n```\r\nFRAGMENT\r\n\r\n```\r\n@AndroidEntryPoint\r\nclass HomeFragment : Fragment() {\r\n\r\n    private lateinit var binding: FragmentHomeBinding\r\n    private val adapter by lazy {\r\n        CommunityMessageAdapter(CommunityMessageAdapter.OnClickListener { message -&gt;\r\n            viewModel.openMessageDetails(message)\r\n        })\r\n    }\r\n\r\n    private val viewModel: HomeViewModel by viewModels()\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding = FragmentHomeBinding.inflate(layoutInflater, container, false)\r\n        binding.lifecycleOwner = viewLifecycleOwner\r\n        return binding.root\r\n    }\r\n\r\n    @OptIn(ExperimentalPagingApi::class)\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        setAdapters()\r\n        setObservers()\r\n    }\r\n\r\n    private fun setObservers() {\r\n\r\n        viewLifecycleOwner.lifecycleScope.launch {\r\n            viewModel.getTimeline.collectLatest { timeline -&gt;\r\n                adapter.submitData(timeline)\r\n            }\r\n        }\r\n\r\n        viewModel.isLoading.observe(viewLifecycleOwner) { loading -&gt;\r\n            if (loading == true) {\r\n                binding.ivLoadingTimeline.setImageResource(R.drawable.loading_animation)\r\n                binding.ivLoadingTimeline.visibility = View.VISIBLE\r\n            } else {\r\n                binding.ivLoadingTimeline.visibility = View.GONE\r\n            }\r\n        }\r\n\r\n        viewModel.networkError.observe(viewLifecycleOwner) { error -&gt;\r\n            if (error == true) {\r\n                binding.ivErrorNetworkTimeline.setImageResource(R.drawable.ic_network_error)\r\n                binding.ivErrorNetworkTimeline.visibility = View.VISIBLE\r\n            } else {\r\n                binding.ivErrorNetworkTimeline.visibility = View.GONE\r\n            }\r\n        }\r\n\r\n        viewModel.errorMessage.observe(viewLifecycleOwner) {\r\n            binding.layoutHomeFragment.showSnackBar(R.string.error_message)\r\n        }\r\n\r\n        viewModel.navigateToMessageDetails.observe(viewLifecycleOwner) {\r\n            if (null != it) {\r\n                this.findNavController()\r\n                    .navigate(HomeFragmentDirections.actionHomeFragmentToMessageDetailsFragment(it))\r\n            }\r\n            viewModel.openMessageDetailsComplete()\r\n        }\r\n    }\r\n\r\n    private fun setAdapters() {\r\n        binding.rvListMessages.adapter = adapter\r\n    }\r\n}\r\n```\r\n\r\nThanks a lot in advance, I tried different ways, also with Remote Keys but I still have the constant flickering.\r\n\r\n\r\n","title":"Paging Library - Remote Mediator is not working. I only get the first page of the list or flickering. I followed the official documentation","body":"<p>I am trying to implement the Remote Mediator to have an infinite list. It was working properly when I was using the Paging Source but from the moment I started to implement the Remote Mediator, I only get the first page of the list or a constant flickering where the data are deleted and added to the database every second.</p>\n<p>API SERVICE</p>\n<pre><code>@GET(&quot;companies/{id}/timeline&quot;)\n    suspend fun getTimeline(\n        @Path(&quot;id&quot;) id: String,\n        @Query(&quot;page&quot;) page: String?\n    ): Response&lt;List&lt;TimelineResponse&gt;&gt;\n</code></pre>\n<p>DATABASE</p>\n<pre><code>@Database(\n    entities = [\n        DatabaseMessage::class,\n        DatabaseRemoteKey::class\n    ],\n    version = 5,\n    exportSchema = false\n)\n@TypeConverters(AttachmentConverter::class)\nabstract class TimelineDatabase : RoomDatabase() {\n\n    abstract fun getTimelineDao(): TimelineDao\n    abstract fun getKeysDao(): RemoteKeyDao\n}\n</code></pre>\n<p>DAO</p>\n<pre><code>@Dao\ninterface TimelineDao {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    suspend fun insertTimeline(list: List&lt;DatabaseMessage&gt;)\n\n    @Query(&quot;SELECT * FROM timeline ORDER BY score ASC&quot;)\n    fun pagingSource(): PagingSource&lt;Int, DatabaseMessage&gt;\n\n    @Query(&quot;DELETE FROM timeline&quot;)\n    suspend fun deleteTimeline()\n}\n</code></pre>\n<p>REMOTE MEDIATOR</p>\n<pre><code>@OptIn(ExperimentalPagingApi::class)\nclass TimelineRemoteMediator(\n    private val api: ContentService,\n    private val db: TimelineDatabase\n) : RemoteMediator&lt;Int, DatabaseMessage&gt;() {\n\n    private val timelineDao = db.getTimelineDao()\n    private lateinit var timeline: List&lt;DatabaseMessage&gt;\n\n    override suspend fun initialize(): InitializeAction {\n        return InitializeAction.LAUNCH_INITIAL_REFRESH\n    }\n\n    override suspend fun load(\n        loadType: LoadType,\n        state: PagingState&lt;Int, DatabaseMessage&gt;\n    ): MediatorResult {\n\n        return try {\n            val loadKey = when(loadType) {\n                LoadType.REFRESH -&gt; null\n                LoadType.PREPEND -&gt; return MediatorResult.Success(endOfPaginationReached = true)\n                LoadType.APPEND -&gt; {\n                    val lastItem = state.lastItemOrNull()\n                    if (lastItem == null) {\n                        return MediatorResult.Success(endOfPaginationReached = true)\n                    }\n                    lastItem.id\n                }\n            }\n\n            val response = api.getTimeline(\n                id = COMMUNITY_ID,\n                page = loadKey\n            ).let { response -&gt;\n                response.body()?.map { it.asDatabaseModel() }\n            }\n            db.withTransaction {\n                if (loadType == LoadType.REFRESH) {\n                    timelineDao.deleteTimeline()\n                }\n                if (response != null) {\n                    timeline = response\n                    timelineDao.insertTimeline(timeline)\n                }\n            }\n            MediatorResult.Success(\n                endOfPaginationReached = timeline.isEmpty()\n            )\n        } catch (e: IOException) {\n            MediatorResult.Error(e)\n        } catch (e: HttpException) {\n            MediatorResult.Error(e)\n        }\n    }\n}\n</code></pre>\n<p>REPOSITORY</p>\n<pre><code>class ContentRepository @Inject constructor(\n    private val contentRemoteDataSource: ContentRemoteDataSource,\n    private val contentService: ContentService,\n    private val database: TimelineDatabase\n) {\n\n    // Here we can use the Mediator inside the repository\n    @OptIn(ExperimentalPagingApi::class)\n    fun getTimeline(): Flow&lt;PagingData&lt;DatabaseMessage&gt;&gt; {\n        val pagingSourceFactory = { database.getTimelineDao().pagingSource() }\n        return Pager(\n            config = PagingConfig(\n                pageSize = DEFAULT_PAGE_LIMIT,\n                enablePlaceholders = false\n            ),\n            remoteMediator = TimelineRemoteMediator(\n                api = contentService,\n                db = database\n            ),\n            pagingSourceFactory = pagingSourceFactory\n        ).flow\n    }\n\n    suspend fun addToInterest(id: String) = flow {\n        emit(Resource.loading(null))\n        val response = contentRemoteDataSource.addToInterest(id)\n        when (response.status) {\n            SUCCESS -&gt; {\n                emit(Resource.success(response.data))\n            }\n            ERROR -&gt; {\n                emit(Resource.error(response.errorResponse, null))\n            }\n            LOADING -&gt; {\n                emit(Resource.loading(null))\n            }\n        }\n    }\n}\n</code></pre>\n<p>ADAPTER</p>\n<pre><code>class CommunityMessageAdapter(private val onClickListener: OnClickListener) :\n    PagingDataAdapter&lt;Message, CommunityMessageAdapter.MessageViewHolder&gt;(DiffCallback) {\n\n    class MessageViewHolder(private var binding: ItemViewMessageBinding) :\n        RecyclerView.ViewHolder(binding.root) {\n        fun bind(message: Message) {\n            binding.message = message\n            binding.executePendingBindings()\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MessageViewHolder {\n        return MessageViewHolder(\n            ItemViewMessageBinding.inflate(\n                LayoutInflater.from(parent.context),\n                parent,\n                false\n            )\n        )\n    }\n\n    override fun onBindViewHolder(holder: MessageViewHolder, position: Int) {\n        getItem(position)?.let { message -&gt;\n        holder.itemView.setOnClickListener {\n            onClickListener.onClick(message)\n        }\n            holder.bind(message)\n        }\n    }\n\n    companion object DiffCallback : DiffUtil.ItemCallback&lt;Message&gt;() {\n        override fun areItemsTheSame(oldItem: Message, newItem: Message): Boolean {\n            return oldItem.id === newItem.id\n        }\n\n        override fun areContentsTheSame(oldItem: Message, newItem: Message): Boolean {\n            return oldItem == newItem\n        }\n    }\n\n    class OnClickListener(val clickListener: (message: Message) -&gt; Unit) {\n        fun onClick(message: Message) = clickListener(message)\n    }\n}\n</code></pre>\n<p>VIEW MODEL</p>\n<pre><code>@OptIn(ExperimentalPagingApi::class)\n@HiltViewModel\nclass HomeViewModel @Inject constructor(\n    contentRepository: ContentRepository\n) : ViewModel() {\n\n    private val _errorMessage = MutableLiveData&lt;String?&gt;()\n    val errorMessage: LiveData&lt;String?&gt; = _errorMessage\n\n    private val _isLoading = MutableLiveData&lt;Boolean?&gt;()\n    val isLoading: LiveData&lt;Boolean?&gt; = _isLoading\n\n    private val _networkError = MutableLiveData&lt;Boolean?&gt;()\n    val networkError: LiveData&lt;Boolean?&gt; = _networkError\n\n    private val _navigateToMessageDetails = MutableLiveData&lt;Message?&gt;()\n    val navigateToMessageDetails: LiveData&lt;Message?&gt; = _navigateToMessageDetails\n\n    val getTimeline = contentRepository.getTimeline().map { pagingData -&gt;\n        pagingData.map { it.asUiModel() }\n    }\n\n    fun openMessageDetails(message: Message) {\n        _navigateToMessageDetails.postValue(message)\n    }\n\n    fun openMessageDetailsComplete() {\n        _navigateToMessageDetails.postValue(null)\n    }\n}\n</code></pre>\n<p>FRAGMENT</p>\n<pre><code>@AndroidEntryPoint\nclass HomeFragment : Fragment() {\n\n    private lateinit var binding: FragmentHomeBinding\n    private val adapter by lazy {\n        CommunityMessageAdapter(CommunityMessageAdapter.OnClickListener { message -&gt;\n            viewModel.openMessageDetails(message)\n        })\n    }\n\n    private val viewModel: HomeViewModel by viewModels()\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        binding = FragmentHomeBinding.inflate(layoutInflater, container, false)\n        binding.lifecycleOwner = viewLifecycleOwner\n        return binding.root\n    }\n\n    @OptIn(ExperimentalPagingApi::class)\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        setAdapters()\n        setObservers()\n    }\n\n    private fun setObservers() {\n\n        viewLifecycleOwner.lifecycleScope.launch {\n            viewModel.getTimeline.collectLatest { timeline -&gt;\n                adapter.submitData(timeline)\n            }\n        }\n\n        viewModel.isLoading.observe(viewLifecycleOwner) { loading -&gt;\n            if (loading == true) {\n                binding.ivLoadingTimeline.setImageResource(R.drawable.loading_animation)\n                binding.ivLoadingTimeline.visibility = View.VISIBLE\n            } else {\n                binding.ivLoadingTimeline.visibility = View.GONE\n            }\n        }\n\n        viewModel.networkError.observe(viewLifecycleOwner) { error -&gt;\n            if (error == true) {\n                binding.ivErrorNetworkTimeline.setImageResource(R.drawable.ic_network_error)\n                binding.ivErrorNetworkTimeline.visibility = View.VISIBLE\n            } else {\n                binding.ivErrorNetworkTimeline.visibility = View.GONE\n            }\n        }\n\n        viewModel.errorMessage.observe(viewLifecycleOwner) {\n            binding.layoutHomeFragment.showSnackBar(R.string.error_message)\n        }\n\n        viewModel.navigateToMessageDetails.observe(viewLifecycleOwner) {\n            if (null != it) {\n                this.findNavController()\n                    .navigate(HomeFragmentDirections.actionHomeFragmentToMessageDetailsFragment(it))\n            }\n            viewModel.openMessageDetailsComplete()\n        }\n    }\n\n    private fun setAdapters() {\n        binding.rvListMessages.adapter = adapter\n    }\n}\n</code></pre>\n<p>Thanks a lot in advance, I tried different ways, also with Remote Keys but I still have the constant flickering.</p>\n"},{"tags":["java","android","android-studio","textview","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":24882669,"reputation":21,"user_id":18755681,"display_name":"Hello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649945820,"creation_date":1649945820,"answer_id":71873105,"question_id":71872953,"body_markdown":"To get the text in an EditText we use getText so the code should be like this\r\n\r\n    EditText editText = (EditText) findViewById(R.id.editTextCharacterName);\r\n    String text = editText.getText().toString();\r\n\r\nand here you can use the text in the editText\r\n\r\n","title":"How can I set the &#39;text&#39; value of a TextView to be based off an EditText value or variable?","body":"<p>To get the text in an EditText we use getText so the code should be like this</p>\n<pre><code>EditText editText = (EditText) findViewById(R.id.editTextCharacterName);\nString text = editText.getText().toString();\n</code></pre>\n<p>and here you can use the text in the editText</p>\n"}],"owner":{"account_id":24937524,"reputation":1,"user_id":18803887,"display_name":"CS_Noob_360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649945820,"creation_date":1649945071,"question_id":71872953,"body_markdown":"I&#39;m currently trying to make a DnD character sheet app using Android Studio for my University Final Year Project, and I&#39;m having some issues with creating my layout. I am currently tinkering with having a TextView present it&#39;s text field as a specfic value i.e in this case I wish to have it copy the value of the EditText component so that later I can try and have a TextView present the modifier based on the overall stat value (i.e if the EditText has the value 14 then the TextView will show +2).\r\n\r\nThe issue I am having is that I don&#39;t know how to assign the text value of my TextView to be equal to what I wish it to be. I have tried in the java file to set a String to be equal to the component, but all I am getting back is an integer value and not the String.\r\n\r\nAny advice or input would be helpful as I am very new to using Android Studio and app development.\r\n\r\n**Main Activity Java File**\r\n```   \r\npackage com.finalproject.app;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport com.finalproject.app.databinding.ActivityDiceRollerBinding;\r\nimport com.finalproject.app.databinding.ActivityMainBinding;\r\n\r\npublic class MainActivity extends DrawerBaseActivity {\r\n\r\n    ActivityMainBinding activityMainBinding;\r\n\r\n    String test = String.valueOf(R.id.editTextCharacterName);\r\n    TextView textView = (TextView) findViewById(R.id.textViewTest) ;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        activityMainBinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(activityMainBinding.getRoot());\r\n        allocateActivityTitle(&quot;Character Sheet&quot;);\r\n\r\n\r\n\r\n    }\r\n\r\n    public void onClick(View v){\r\n\r\n    }\r\n}\r\n```\r\n**Main Activity xml file**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/divider2&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:background=&quot;?android:attr/listDivider&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.08&quot;\r\n        tools:visibility=&quot;invisible&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/CharName_header&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Character Name&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/editTextCharacterName&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/editTextCharacterName&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextCharacterName&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextCharacterName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:text=&quot;John&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.03&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/divider2&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.003&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;155dp&quot;\r\n        android:layout_marginTop=&quot;208dp&quot;\r\n        android:layout_marginEnd=&quot;198dp&quot;\r\n        android:text=&quot;&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"How can I set the &#39;text&#39; value of a TextView to be based off an EditText value or variable?","body":"<p>I'm currently trying to make a DnD character sheet app using Android Studio for my University Final Year Project, and I'm having some issues with creating my layout. I am currently tinkering with having a TextView present it's text field as a specfic value i.e in this case I wish to have it copy the value of the EditText component so that later I can try and have a TextView present the modifier based on the overall stat value (i.e if the EditText has the value 14 then the TextView will show +2).</p>\n<p>The issue I am having is that I don't know how to assign the text value of my TextView to be equal to what I wish it to be. I have tried in the java file to set a String to be equal to the component, but all I am getting back is an integer value and not the String.</p>\n<p>Any advice or input would be helpful as I am very new to using Android Studio and app development.</p>\n<p><strong>Main Activity Java File</strong></p>\n<pre><code>package com.finalproject.app;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport com.finalproject.app.databinding.ActivityDiceRollerBinding;\nimport com.finalproject.app.databinding.ActivityMainBinding;\n\npublic class MainActivity extends DrawerBaseActivity {\n\n    ActivityMainBinding activityMainBinding;\n\n    String test = String.valueOf(R.id.editTextCharacterName);\n    TextView textView = (TextView) findViewById(R.id.textViewTest) ;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        activityMainBinding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(activityMainBinding.getRoot());\n        allocateActivityTitle(&quot;Character Sheet&quot;);\n\n\n\n    }\n\n    public void onClick(View v){\n\n    }\n}\n</code></pre>\n<p><strong>Main Activity xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/divider2&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:background=&quot;?android:attr/listDivider&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.08&quot;\n        tools:visibility=&quot;invisible&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/CharName_header&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Character Name&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/editTextCharacterName&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/editTextCharacterName&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextCharacterName&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextCharacterName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;John&quot;\n        android:textAlignment=&quot;center&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.03&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/divider2&quot;\n        app:layout_constraintVertical_bias=&quot;0.003&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewTest&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;155dp&quot;\n        android:layout_marginTop=&quot;208dp&quot;\n        android:layout_marginEnd=&quot;198dp&quot;\n        android:text=&quot;&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633344002,"creation_date":1633344002,"answer_id":69434607,"question_id":68240779,"body_markdown":"Firstly, you can run `ulimit -c unlimited` such as suggested in the error message.\r\n\r\nThen, I suggest you to upgrade your JVM.\r\n\r\nFinally, if the error already appear, you can report it to Java dev [here](http://bugreport.java.com/bugreport/crash.jsp).\r\n\r\nPS: Next time, don&#39;t forget to show the file `/Users/palmtrww/Desktop/tee/jars/hs_err_pid38089.log`.","title":"Error when running mcp in eclipse and I can&#39;t fix it","body":"<p>Firstly, you can run <code>ulimit -c unlimited</code> such as suggested in the error message.</p>\n<p>Then, I suggest you to upgrade your JVM.</p>\n<p>Finally, if the error already appear, you can report it to Java dev <a href=\"http://bugreport.java.com/bugreport/crash.jsp\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>PS: Next time, don't forget to show the file <code>/Users/palmtrww/Desktop/tee/jars/hs_err_pid38089.log</code>.</p>\n"},{"tags":[],"owner":{"account_id":24936357,"reputation":1,"user_id":18802902,"display_name":"new_person"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649945580,"creation_date":1649945580,"answer_id":71873052,"question_id":68240779,"body_markdown":"You may need to downgrade your Java version or downgrade your Eclipse IDE to a version that supports Java 8.","title":"Error when running mcp in eclipse and I can&#39;t fix it","body":"<p>You may need to downgrade your Java version or downgrade your Eclipse IDE to a version that supports Java 8.</p>\n"}],"owner":{"account_id":22121285,"reputation":1,"user_id":16374478,"display_name":"justbetterl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649945580,"creation_date":1625357339,"question_id":68240779,"body_markdown":"```[17:03:44] [Client thread/INFO]: Setting user: Player61\r\n[17:03:44] [Client thread/INFO]: (Session ID is token:0:Player61)\r\n[17:03:45] [Client thread/INFO]: LWJGL Version: 2.9.2\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGILL (0x4) at pc=0x00007fff2fc42abc, pid=38089, tid=0x0000000000000e03\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (8.0_291-b10) (build 1.8.0_291-b10)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.291-b10 mixed mode bsd-amd64 compressed oops)\r\n# Problematic frame:\r\n# C  [AppKit+0x3e5abc]  -[NSOpenGLContext setView:]+0xe5\r\n#\r\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# An error report file with more information is saved as:\r\n# /Users/palmtrww/Desktop/tee/jars/hs_err_pid38089.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n```\r\n\r\nI&#39;m on mac catilina version 10.15.7 and when I run mcp inside of eclipse i get this error","title":"Error when running mcp in eclipse and I can&#39;t fix it","body":"<pre><code>[17:03:44] [Client thread/INFO]: (Session ID is token:0:Player61)\n[17:03:45] [Client thread/INFO]: LWJGL Version: 2.9.2\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGILL (0x4) at pc=0x00007fff2fc42abc, pid=38089, tid=0x0000000000000e03\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_291-b10) (build 1.8.0_291-b10)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.291-b10 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# C  [AppKit+0x3e5abc]  -[NSOpenGLContext setView:]+0xe5\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /Users/palmtrww/Desktop/tee/jars/hs_err_pid38089.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p>I'm on mac catilina version 10.15.7 and when I run mcp inside of eclipse i get this error</p>\n"},{"tags":["java","logging","cxf","interceptor"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1551729079,"post_id":54989929,"comment_id":96738695,"body_markdown":"I added a bit more details to the answer. I think they should be sufficient.","body":"I added a bit more details to the answer. I think they should be sufficient."}],"answers":[{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1551729134,"creation_date":1551727868,"answer_id":54990302,"question_id":54989929,"body_markdown":"What this message is telling you, is to use the `Apache CXF Advanced logging feature` module.\r\n\r\nIts dependency is (latest version)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-rt-features-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInside you&#39;ll find a comparable `org.apache.cxf.ext.logging.LoggingInInterceptor` ([link][1])\r\n\r\n----------\r\n\r\nI&#39;m not a CXF user, however I suppose you&#39;ll have to interact with a `JaxWsProxyFactoryBean`.&lt;br&gt;\r\nRemember you need to use the same version for all the CXF modules.\r\n\r\nAfter getting an hold on it, you can do\r\n\r\n    factory.getInInterceptors().add(new MyCustomInterceptor());\r\n\r\n\r\n  [1]: https://cxf.apache.org/javadoc/latest/org/apache/cxf/ext/logging/LoggingInInterceptor.html","title":"Apache CXF LoggingInInterceptor is deprecated - what to use instead?","body":"<p>What this message is telling you, is to use the <code>Apache CXF Advanced logging feature</code> module.</p>\n\n<p>Its dependency is (latest version)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-features-logging&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Inside you'll find a comparable <code>org.apache.cxf.ext.logging.LoggingInInterceptor</code> (<a href=\"https://cxf.apache.org/javadoc/latest/org/apache/cxf/ext/logging/LoggingInInterceptor.html\" rel=\"noreferrer\">link</a>)</p>\n\n<hr>\n\n<p>I'm not a CXF user, however I suppose you'll have to interact with a <code>JaxWsProxyFactoryBean</code>.<br>\nRemember you need to use the same version for all the CXF modules.</p>\n\n<p>After getting an hold on it, you can do</p>\n\n<pre><code>factory.getInInterceptors().add(new MyCustomInterceptor());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1565462849,"creation_date":1565103941,"answer_id":57378998,"question_id":54989929,"body_markdown":"Basically 4 things are needed to update from the old to the new cxf logging (rt/features/logging).\r\n\r\nFirst, Set the logging feature:\r\n\r\n    final JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\r\n    factory.setFeatures(Collections.singletonList(new CustomLoggingFeature()));\r\n\r\nYou don&#39;t need anymore the interceptors (in case you used them, delete them):\r\n\r\n&lt;s&gt;\r\n`factory.getInInterceptors().add(new CustomMaskedLoggingInInterceptor());`\r\n`factory.getOutInterceptors().add(new CustomMaskedLoggingOutInterceptor());`\r\n&lt;/s&gt;\r\n\r\nSecond, create your LoggingFeature:\r\n\r\n    public class CustomLoggingFeature extends org.apache.cxf.ext.logging.LoggingFeature {\r\n        public CustomLoggingFeature() {\r\n            super();\r\n            this.setSender(new CustomEventLogSender());\r\n        }\r\n    }\r\n\r\nThird, create your EventLogSender:\r\n\r\n    public class CustomEventLogSender extends Slf4jVerboseEventSender {\r\n        @Override\r\n        protected String getLogMessage(LogEvent event) {\r\n            String logMessage = super.getLogMessage(event);\r\n            return CustomMasker.mask(logMessage);\r\n        }\r\n    }\r\n\r\nFourth, create a CustomMasker class where you have your own string manipulation logic to mask the desired information.\r\n\r\nLet me know if it worked!","title":"Apache CXF LoggingInInterceptor is deprecated - what to use instead?","body":"<p>Basically 4 things are needed to update from the old to the new cxf logging (rt/features/logging).</p>\n\n<p>First, Set the logging feature:</p>\n\n<pre><code>final JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean();\nfactory.setFeatures(Collections.singletonList(new CustomLoggingFeature()));\n</code></pre>\n\n<p>You don't need anymore the interceptors (in case you used them, delete them):</p>\n\n<p><s>\n<code>factory.getInInterceptors().add(new CustomMaskedLoggingInInterceptor());</code>\n<code>factory.getOutInterceptors().add(new CustomMaskedLoggingOutInterceptor());</code>\n</s></p>\n\n<p>Second, create your LoggingFeature:</p>\n\n<pre><code>public class CustomLoggingFeature extends org.apache.cxf.ext.logging.LoggingFeature {\n    public CustomLoggingFeature() {\n        super();\n        this.setSender(new CustomEventLogSender());\n    }\n}\n</code></pre>\n\n<p>Third, create your EventLogSender:</p>\n\n<pre><code>public class CustomEventLogSender extends Slf4jVerboseEventSender {\n    @Override\n    protected String getLogMessage(LogEvent event) {\n        String logMessage = super.getLogMessage(event);\n        return CustomMasker.mask(logMessage);\n    }\n}\n</code></pre>\n\n<p>Fourth, create a CustomMasker class where you have your own string manipulation logic to mask the desired information.</p>\n\n<p>Let me know if it worked!</p>\n"},{"tags":[],"owner":{"account_id":14144187,"reputation":41,"user_id":10217965,"display_name":"Borze"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607779094,"creation_date":1607685999,"answer_id":65250471,"question_id":54989929,"body_markdown":"When you have this elsewhere mentioned dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cxf-rt-features-logging&lt;/artifactId&gt;\r\n\t&lt;version&gt;${org.apache.cxf.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand when you work with a `JaxWsProxyFactoryBean`, you can configure that factory e.g. like this:\r\n```java\r\nLoggingFeature loggingFeature = new LoggingFeature();\r\nloggingFeature.setPrettyLogging(true);\r\nloggingFeature.setVerbose(true);\r\nloggingFeature.setLogMultipart(true);\r\nfactory.getFeatures().add(loggingFeature);\r\n```","title":"Apache CXF LoggingInInterceptor is deprecated - what to use instead?","body":"<p>When you have this elsewhere mentioned dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-features-logging&lt;/artifactId&gt;\n    &lt;version&gt;${org.apache.cxf.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and when you work with a <code>JaxWsProxyFactoryBean</code>, you can configure that factory e.g. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LoggingFeature loggingFeature = new LoggingFeature();\nloggingFeature.setPrettyLogging(true);\nloggingFeature.setVerbose(true);\nloggingFeature.setLogMultipart(true);\nfactory.getFeatures().add(loggingFeature);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649945543,"creation_date":1649945543,"answer_id":71873049,"question_id":54989929,"body_markdown":"The new imports for this class are :\r\n\r\n```java\r\nimport org.apache.cxf.ext.logging.LoggingInInterceptor;\r\nimport org.apache.cxf.ext.logging.LoggingOutInterceptor;\r\n```\r\nwhich could be found in the `org.apache.cxf:cxf-rt-features-logging` dependency.\r\n\r\nPlease refer to this question for [code snippets](https://stackoverflow.com/questions/60948591/payload-format-apache-cxf-soap-messages).","title":"Apache CXF LoggingInInterceptor is deprecated - what to use instead?","body":"<p>The new imports for this class are :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.cxf.ext.logging.LoggingInInterceptor;\nimport org.apache.cxf.ext.logging.LoggingOutInterceptor;\n</code></pre>\n<p>which could be found in the <code>org.apache.cxf:cxf-rt-features-logging</code> dependency.</p>\n<p>Please refer to this question for <a href=\"https://stackoverflow.com/questions/60948591/payload-format-apache-cxf-soap-messages\">code snippets</a>.</p>\n"}],"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24166,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":54990302,"answer_count":4,"score":18,"last_activity_date":1649945543,"creation_date":1551726305,"question_id":54989929,"body_markdown":"I am using Apache CXF with Spring Boot with the help of `cxf-spring-boot-starter-jaxws` plugin of version 3.2.7.\r\n\r\nMy intention is to customize the LoggingInterceptors but when I created the below class: \r\n\r\n    public class CustomLoggingInInterceptor extends org.apache.cxf.interceptor.LoggingInInterceptor {}\r\n\r\nbut my IDE strikes out the LoggingInInterceptor complaining it&#39;s deprecated with the explanation \r\n&gt;use logging module rt/features/logging instead\r\n\r\nSo how should one go about customizing the logging interceptor using this module ?\r\n","title":"Apache CXF LoggingInInterceptor is deprecated - what to use instead?","body":"<p>I am using Apache CXF with Spring Boot with the help of <code>cxf-spring-boot-starter-jaxws</code> plugin of version 3.2.7.</p>\n\n<p>My intention is to customize the LoggingInterceptors but when I created the below class: </p>\n\n<pre><code>public class CustomLoggingInInterceptor extends org.apache.cxf.interceptor.LoggingInInterceptor {}\n</code></pre>\n\n<p>but my IDE strikes out the LoggingInInterceptor complaining it's deprecated with the explanation </p>\n\n<blockquote>\n  <p>use logging module rt/features/logging instead</p>\n</blockquote>\n\n<p>So how should one go about customizing the logging interceptor using this module ?</p>\n"},{"tags":["java","selenium","maven","selenium-webdriver","illegalaccessexception"],"answers":[{"tags":[],"owner":{"account_id":22199597,"reputation":16,"user_id":16440501,"display_name":"Amit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649866117,"creation_date":1649866117,"answer_id":71860630,"question_id":71860504,"body_markdown":"The error indicated that there was a mismatch between the version of the WebDriver variant (i.e. GeckoDriver / ChromeDriver) and the version of the respective WebBrowser variant (i.e. Firefox / Chrome) you are using.\r\n\r\nMake Sure you are using latest JDK version, if not then update your JDK and try again. That may help. \r\nhttps://www.oracle.com/technetwork/java/javase/downloads/index.html","title":"java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter error using Maven","body":"<p>The error indicated that there was a mismatch between the version of the WebDriver variant (i.e. GeckoDriver / ChromeDriver) and the version of the respective WebBrowser variant (i.e. Firefox / Chrome) you are using.</p>\n<p>Make Sure you are using latest JDK version, if not then update your JDK and try again. That may help.\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649892875,"creation_date":1649892875,"answer_id":71864878,"question_id":71860504,"body_markdown":"This error message...\r\n\r\n\tjava.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter.&lt;init&gt;(Ljava/util/concurrent/ExecutorService;)V from class org.openqa.selenium.net.UrlChecker\r\n\r\n...implies that there are some **incompatibility** between the version of the binaries you are using.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that _JDK_ is upgraded to current levels [JDK 8u311](https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html).\r\nIncase you are using _ChromeDriver_ / _Chrome_ combo, ensure that:\r\n\r\n- _Chrome_ is upgraded to _**Chrome Version 100.0.4896.88**_\r\n- _ChromeDriver_ is updated to [ChromeDriver v100.0](https://chromedriver.storage.googleapis.com/index.html?path=100.0.4896.60/) level.\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter. when using Selenium-Java 3.5.1 or above](https://stackoverflow.com/a/48462464/7429447)","title":"java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter error using Maven","body":"<p>This error message...</p>\n<pre><code>java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter.&lt;init&gt;(Ljava/util/concurrent/ExecutorService;)V from class org.openqa.selenium.net.UrlChecker\n</code></pre>\n<p>...implies that there are some <strong>incompatibility</strong> between the version of the binaries you are using.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that <em>JDK</em> is upgraded to current levels <a href=\"https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html\" rel=\"nofollow noreferrer\">JDK 8u311</a>.\nIncase you are using <em>ChromeDriver</em> / <em>Chrome</em> combo, ensure that:</p>\n<ul>\n<li><em>Chrome</em> is upgraded to <em><strong>Chrome Version 100.0.4896.88</strong></em></li>\n<li><em>ChromeDriver</em> is updated to <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=100.0.4896.60/\" rel=\"nofollow noreferrer\">ChromeDriver v100.0</a> level.</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48462464/7429447\">java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter. when using Selenium-Java 3.5.1 or above</a></li>\n</ul>\n"}],"owner":{"account_id":19674455,"reputation":1,"user_id":14402967,"display_name":"automation_tester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649945428,"creation_date":1649865625,"question_id":71860504,"body_markdown":"When running my scripts, I get the following error: \r\n\r\n    java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter.&lt;init&gt;(Ljava/util/concurrent/ExecutorService;)V from class org.openqa.selenium.net.UrlChecker\r\n\r\nBelow is my pom.xml\r\n\r\n```lang-xml\r\n  &lt;properties&gt;\r\n    &lt;entry_point&gt;**/*Suite.java&lt;/entry_point&gt;\r\n    &lt;serenity.version&gt;1.1.39&lt;/serenity.version&gt;\r\n    &lt;serenity.jbehave.version&gt;1.9.0&lt;/serenity.jbehave.version&gt;\r\n    &lt;webdriver.driver&gt;chrome&lt;/webdriver.driver&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n      &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n      &lt;artifactId&gt;serenity-jbehave&lt;/artifactId&gt;\r\n      &lt;version&gt;${serenity.jbehave.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n      &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.easytesting&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fest-util&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.easytesting&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fest-assert&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;failOnError&gt;false&lt;/failOnError&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;${entry_point}&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n          &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n            &lt;metafilter&gt;-productionOnly&lt;/metafilter&gt;\r\n            &lt;chrome.switches&gt;--no-sandbox,--disable-extensions&lt;/chrome.switches&gt;\r\n            &lt;webdriver.driver&gt;${webdriver.driver}&lt;/webdriver.driver&gt;\r\n            &lt;serenity.data.dir&gt;..&lt;/serenity.data.dir&gt;\r\n            &lt;serenity.step.delay&gt;0&lt;/serenity.step.delay&gt;\r\n            &lt;serenity.take.screenshots&gt;FOR_FAILURES&lt;/serenity.take.screenshots&gt;\r\n            &lt;serenity.driver.capabilities&gt;\r\n          unexpectedAlertBehaviour:ignore;ie.ensureCleanSession=true; \r\n            &lt;/serenity.driver.capabilities&gt;\r\n            &lt;story.timeout.in.secs&gt;1800&lt;/story.timeout.in.secs&gt;\r\n            &lt;use.test.case.for.story.tag&gt;false&lt;/use.test.case.for.story.tag&gt;\r\n            &lt;untrusted.certificates&gt;false&lt;/untrusted.certificates&gt;\r\n          &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;serenity-reports&lt;/id&gt;\r\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.7&lt;/source&gt;\r\n          &lt;target&gt;1.7&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have tried updated the chromedriver and the serenity dependencies but that did not resolve the issue. Can anyone help me figure a solution for this?\r\n","title":"java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter error using Maven","body":"<p>When running my scripts, I get the following error:</p>\n<pre><code>java.lang.IllegalAccessError: tried to access method com.google.common.util.concurrent.SimpleTimeLimiter.&lt;init&gt;(Ljava/util/concurrent/ExecutorService;)V from class org.openqa.selenium.net.UrlChecker\n</code></pre>\n<p>Below is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;properties&gt;\n    &lt;entry_point&gt;**/*Suite.java&lt;/entry_point&gt;\n    &lt;serenity.version&gt;1.1.39&lt;/serenity.version&gt;\n    &lt;serenity.jbehave.version&gt;1.9.0&lt;/serenity.jbehave.version&gt;\n    &lt;webdriver.driver&gt;chrome&lt;/webdriver.driver&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n      &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;2.2.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n      &lt;artifactId&gt;serenity-jbehave&lt;/artifactId&gt;\n      &lt;version&gt;${serenity.jbehave.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n      &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n      &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.easytesting&lt;/groupId&gt;\n      &lt;artifactId&gt;fest-util&lt;/artifactId&gt;\n      &lt;version&gt;1.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.easytesting&lt;/groupId&gt;\n      &lt;artifactId&gt;fest-assert&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n      &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;failOnError&gt;false&lt;/failOnError&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.18&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;includes&gt;\n            &lt;include&gt;${entry_point}&lt;/include&gt;\n          &lt;/includes&gt;\n          &lt;runOrder&gt;alphabetical&lt;/runOrder&gt;\n            &lt;systemPropertyVariables&gt;\n            &lt;metafilter&gt;-productionOnly&lt;/metafilter&gt;\n            &lt;chrome.switches&gt;--no-sandbox,--disable-extensions&lt;/chrome.switches&gt;\n            &lt;webdriver.driver&gt;${webdriver.driver}&lt;/webdriver.driver&gt;\n            &lt;serenity.data.dir&gt;..&lt;/serenity.data.dir&gt;\n            &lt;serenity.step.delay&gt;0&lt;/serenity.step.delay&gt;\n            &lt;serenity.take.screenshots&gt;FOR_FAILURES&lt;/serenity.take.screenshots&gt;\n            &lt;serenity.driver.capabilities&gt;\n          unexpectedAlertBehaviour:ignore;ie.ensureCleanSession=true; \n            &lt;/serenity.driver.capabilities&gt;\n            &lt;story.timeout.in.secs&gt;1800&lt;/story.timeout.in.secs&gt;\n            &lt;use.test.case.for.story.tag&gt;false&lt;/use.test.case.for.story.tag&gt;\n            &lt;untrusted.certificates&gt;false&lt;/untrusted.certificates&gt;\n          &lt;/systemPropertyVariables&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;serenity-reports&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried updated the chromedriver and the serenity dependencies but that did not resolve the issue. Can anyone help me figure a solution for this?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19215106,"reputation":58,"user_id":14040015,"display_name":"Lasith M"},"score":0,"creation_date":1649944866,"post_id":71872879,"comment_id":127006610,"body_markdown":"I tried using **finishAndRemoveTask()** method. But it closes the application before the force stop process happens. Using **Thread.sleep()** didn&#39;t help either.","body":"I tried using <b>finishAndRemoveTask()</b> method. But it closes the application before the force stop process happens. Using <b>Thread.sleep()</b> didn&#39;t help either."},{"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"score":0,"creation_date":1649947591,"post_id":71872879,"comment_id":127007729,"body_markdown":"check this ...https://stackoverflow.com/a/7197265/15597511","body":"check this ...<a href=\"https://stackoverflow.com/a/7197265/15597511\">stackoverflow.com/a/7197265/15597511</a>"},{"owner":{"account_id":19215106,"reputation":58,"user_id":14040015,"display_name":"Lasith M"},"score":0,"creation_date":1649954447,"post_id":71872879,"comment_id":127010361,"body_markdown":"@daksh thanks for the reply, but it was a different issue. Fortunately I somehow managed to solve my problem. Thank you.","body":"@daksh thanks for the reply, but it was a different issue. Fortunately I somehow managed to solve my problem. Thank you."}],"owner":{"account_id":19215106,"reputation":58,"user_id":14040015,"display_name":"Lasith M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649944742,"creation_date":1649944742,"question_id":71872879,"body_markdown":"I&#39;m currently working on a simple application that is used to force stop some applications with the help of Accessibility permission. It automatically opens the Application Info Settings page and presses the Force Stop button (The main part is working fine).\r\n\r\nBut After the process, I can&#39;t minimize or close the settings page. I used `onAppStopped()` method (starts the **MainActivity** intent), but it repeats the process recursively. I think it is because the settings page is not a part of the main application. \r\nIs there any way to override this issue?\r\n\r\n**MainActivity**\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            FSAccessibilityService.setClient(this);\r\n    \r\n            forceStopApp(&quot;package name&quot;);\r\n        }\r\n\r\n    public void forceStopApp(String packageName) {\r\n            Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n            Uri uri = Uri.parse(&quot;package:&quot; + packageName);\r\n            intent.setData(uri);\r\n            startActivity(intent);\r\n        }\r\n\r\n    @Override\r\n        public void onAppStopped() {\r\n            startActivity(new Intent(this, MainActivity.class);\r\n        }\r\n\r\n\r\n**FSAccessibilityService extends AccessibilityService**\r\n\r\n    @Override\r\n        public void onAccessibilityEvent(AccessibilityEvent event) {\r\n            performForceStop(event);\r\n        }\r\n\r\n    private void performForceStop(AccessibilityEvent event) {\r\n        AccessibilityNodeInfo source = event.getSource();\r\n\r\n        performClickButtonByText(source, &quot;FORCE STOP&quot;);\r\n        performClickButtonByText(source, &quot;OK&quot;);\r\n\r\n        getClient().onAppStopped();\r\n    }\r\n\r\n    public interface FSClient {\r\n            void onAppStopped();\r\n        }","title":"How to close/exit outside settings intent created by the application","body":"<p>I'm currently working on a simple application that is used to force stop some applications with the help of Accessibility permission. It automatically opens the Application Info Settings page and presses the Force Stop button (The main part is working fine).</p>\n<p>But After the process, I can't minimize or close the settings page. I used <code>onAppStopped()</code> method (starts the <strong>MainActivity</strong> intent), but it repeats the process recursively. I think it is because the settings page is not a part of the main application.\nIs there any way to override this issue?</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        FSAccessibilityService.setClient(this);\n\n        forceStopApp(&quot;package name&quot;);\n    }\n\npublic void forceStopApp(String packageName) {\n        Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n        Uri uri = Uri.parse(&quot;package:&quot; + packageName);\n        intent.setData(uri);\n        startActivity(intent);\n    }\n\n@Override\n    public void onAppStopped() {\n        startActivity(new Intent(this, MainActivity.class);\n    }\n</code></pre>\n<p><strong>FSAccessibilityService extends AccessibilityService</strong></p>\n<pre><code>@Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n        performForceStop(event);\n    }\n\nprivate void performForceStop(AccessibilityEvent event) {\n    AccessibilityNodeInfo source = event.getSource();\n\n    performClickButtonByText(source, &quot;FORCE STOP&quot;);\n    performClickButtonByText(source, &quot;OK&quot;);\n\n    getClient().onAppStopped();\n}\n\npublic interface FSClient {\n        void onAppStopped();\n    }\n</code></pre>\n"},{"tags":["java","eclipse","webrtc"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1649425900,"post_id":71798010,"comment_id":126879371,"body_markdown":"The jar must be a fat jar with all dependencies inside or you have to pass the classpath when executing the jar.","body":"The jar must be a fat jar with all dependencies inside or you have to pass the classpath when executing the jar."},{"owner":{"account_id":3805713,"reputation":515,"user_id":3158212,"accept_rate":29,"display_name":"user3158212"},"score":0,"creation_date":1649428063,"post_id":71798010,"comment_id":126880307,"body_markdown":"I&#39;ve done both of those. The troublesome library in question contains a binary windows library","body":"I&#39;ve done both of those. The troublesome library in question contains a binary windows library"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649821939,"post_id":71798010,"comment_id":126970325,"body_markdown":"In your project, I cannot find any trace of you having tried to build a **fat JAR**. Maybe the way you did that was incorrect. I have no way of verifying that. Or you mistakenly think it is the same as an executable JAR. Executable means that it has a `Main-Class` manifest entry, fat JAR means that the JAR contains all dependencies necessary to run the program. Of course, a fat JAR can also be executable.","body":"In your project, I cannot find any trace of you having tried to build a <b>fat JAR</b>. Maybe the way you did that was incorrect. I have no way of verifying that. Or you mistakenly think it is the same as an executable JAR. Executable means that it has a <code>Main-Class</code> manifest entry, fat JAR means that the JAR contains all dependencies necessary to run the program. Of course, a fat JAR can also be executable."},{"owner":{"account_id":3805713,"reputation":515,"user_id":3158212,"accept_rate":29,"display_name":"user3158212"},"score":0,"creation_date":1649859693,"post_id":71798010,"comment_id":126983128,"body_markdown":"I&#39;m using Eclipse to create the Jar file, using the script I added to my notes above.","body":"I&#39;m using Eclipse to create the Jar file, using the script I added to my notes above."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649944182,"creation_date":1649820953,"answer_id":71851560,"question_id":71798010,"body_markdown":"It took me 3 minutes to get your project running after cloning your repository. An [MCVE](https://stackoverflow.com/help/mcve) is always helpful. &#128578;\r\n\r\nSimply add Maven Shade Plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.0&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;shade&lt;/id&gt;\r\n      &lt;phase&gt;package&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;shade&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n        &lt;transformers&gt;\r\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n            &lt;mainClass&gt;main.Main&lt;/mainClass&gt;\r\n          &lt;/transformer&gt;\r\n        &lt;/transformers&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThen you will notice:\r\n\r\n```none\r\n$ mvn clean package\r\n(...)\r\n\r\n$ java -jar target/WebRTCJavaTest-0.0.1-SNAPSHOT.jar\r\nError: Unable to initialize main class main.Main\r\nCaused by: java.lang.NoClassDefFoundError: javax/websocket/DeploymentException\r\n```\r\n\r\nFix this by **not** setting the web socket API&#39;s scope to `provided`, because you need it in the JAR:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.websocket&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n  &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nRebuild, and it works like a charm. I tried on my Windows 10 box, opening two browser tabs in Google Chrome, making a connection to myself. Of course, one browser tab and mirror mode works too. There is no problem with the DLL, it is found and used normally.\r\n\r\nI leave the rest up to you, i.e. getting rid of shade warnings due to duplicate manifest and licence files while creating the uber JAR. This can be achieved using `&lt;filters&gt;` in the Maven Shade configuration, if you simply want to delete the files you do not want, or by using transformers in order to merge them, where applicable. Otherwise, you can ignore the warnings, the manifest created by the transformer in the plugin configuration wins.\r\n\r\n---\r\n\r\n**Update:** Here is my [pull request](https://github.com/Charles92011/WebRTCJavaTest/pull/1) for your repository. You can simply accept it to fix your project.\r\n\r\n---\r\n\r\n**Update 2:** I was working in IntelliJ with Maven as the leading build tool before. Now, I also opened Eclipse 2022-03 and imported the project from the file system, but did not use your Eclipse project settings. Instead I used the Maven project import wizard, so I got a clean start, knowing that my fixes work when using Maven from command line or from IntelliJ IDEA. So I wanted to do the same in Eclipse.\r\n\r\nThen I used &quot;File&quot;, &quot;Export&quot;, &quot;Runnable JAR file&quot;. I selected &quot;Package required libraries into generated JAR&quot; and &quot;Save as ANT script&quot;. This is the result (I replaced my user name by yours, so you can more easily compare):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project SO_Java_WebRTCClassNotFound_71798010 with Jar-in-Jar Loader&quot;&gt;\r\n    &lt;!--this file was created by Eclipse Runnable JAR file Export Wizard--&gt;\r\n    &lt;!--ANT 1.7 is required--&gt;\r\n    &lt;!--define folder properties--&gt;\r\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\r\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;${dir.buildfile}/..&quot;/&gt;\r\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;${dir.buildfile}&quot;/&gt;\r\n    &lt;target name=&quot;create_run_jar&quot;&gt;\r\n        &lt;jar destfile=&quot;${dir.jarfile}/MyExecutable.jar&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&quot;/&gt;\r\n                &lt;attribute name=&quot;Rsrc-Main-Class&quot; value=&quot;main.Main&quot;/&gt;\r\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;.&quot;/&gt;\r\n                &lt;attribute name=&quot;Rsrc-Class-Path&quot; value=&quot;./ tyrus-server-1.17.jar tyrus-client-1.17.jar tyrus-core-1.17.jar tyrus-spi-1.17.jar jakarta.xml.bind-api-2.3.2.jar jakarta.activation-api-1.2.1.jar tyrus-container-grizzly-client-1.17.jar tyrus-container-grizzly-server-1.17.jar grizzly-framework-2.3.22.jar grizzly-http-server-2.3.22.jar grizzly-http-2.3.22.jar javax.websocket-api-1.0.jar webrtc-java-0.3.0.jar webrtc-java-0.3.0-windows-x86_64.jar json-simple-1.1.jar&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;zipfileset src=&quot;jar-in-jar-loader.zip&quot;/&gt;\r\n            &lt;fileset dir=&quot;${dir.jarfile}/target/classes&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-server/1.17&quot; includes=&quot;tyrus-server-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-client/1.17&quot; includes=&quot;tyrus-client-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-core/1.17&quot; includes=&quot;tyrus-core-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-spi/1.17&quot; includes=&quot;tyrus-spi-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.2&quot; includes=&quot;jakarta.xml.bind-api-2.3.2.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.1&quot; includes=&quot;jakarta.activation-api-1.2.1.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-client/1.17&quot; includes=&quot;tyrus-container-grizzly-client-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-server/1.17&quot; includes=&quot;tyrus-container-grizzly-server-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-framework/2.3.22&quot; includes=&quot;grizzly-framework-2.3.22.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http-server/2.3.22&quot; includes=&quot;grizzly-http-server-2.3.22.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http/2.3.22&quot; includes=&quot;grizzly-http-2.3.22.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/javax/websocket/javax.websocket-api/1.0&quot; includes=&quot;javax.websocket-api-1.0.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0&quot; includes=&quot;webrtc-java-0.3.0.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0&quot; includes=&quot;webrtc-java-0.3.0-windows-x86_64.jar&quot;/&gt;\r\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/com/googlecode/json-simple/json-simple/1.1&quot; includes=&quot;json-simple-1.1.jar&quot;/&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nYou see, the libraries are exactly the same, I only created an executable JAR, so I also have a manifest with a main class for being able to run the program with `java -jar MyExecutable.jar` easily. And in my variant, there is a jar-in-jar class loader. Maven Shade does it differently, unpacking all dependencies into the target JAR, mixing them together rather than packaging JARs into the uber JAR. In contrast, Eclipse&#39;s executable JARs are more similar to what you would get when using the [Maven One Jar Plugin](https://www.baeldung.com/executable-jar-with-maven#thymeleaf-3). Anyway, both ways work. The resulting JAR I exported from Eclipse works perfectly, I can connect to another session or mirror my own camera just fine.","title":"WebRTC application runs in eclipse, but not in a compiled jar","body":"<p>It took me 3 minutes to get your project running after cloning your repository. An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> is always helpful. 🙂</p>\n<p>Simply add Maven Shade Plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;shade&lt;/id&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;transformers&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n            &lt;mainClass&gt;main.Main&lt;/mainClass&gt;\n          &lt;/transformer&gt;\n        &lt;/transformers&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Then you will notice:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ mvn clean package\n(...)\n\n$ java -jar target/WebRTCJavaTest-0.0.1-SNAPSHOT.jar\nError: Unable to initialize main class main.Main\nCaused by: java.lang.NoClassDefFoundError: javax/websocket/DeploymentException\n</code></pre>\n<p>Fix this by <strong>not</strong> setting the web socket API's scope to <code>provided</code>, because you need it in the JAR:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.websocket&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Rebuild, and it works like a charm. I tried on my Windows 10 box, opening two browser tabs in Google Chrome, making a connection to myself. Of course, one browser tab and mirror mode works too. There is no problem with the DLL, it is found and used normally.</p>\n<p>I leave the rest up to you, i.e. getting rid of shade warnings due to duplicate manifest and licence files while creating the uber JAR. This can be achieved using <code>&lt;filters&gt;</code> in the Maven Shade configuration, if you simply want to delete the files you do not want, or by using transformers in order to merge them, where applicable. Otherwise, you can ignore the warnings, the manifest created by the transformer in the plugin configuration wins.</p>\n<hr />\n<p><strong>Update:</strong> Here is my <a href=\"https://github.com/Charles92011/WebRTCJavaTest/pull/1\" rel=\"nofollow noreferrer\">pull request</a> for your repository. You can simply accept it to fix your project.</p>\n<hr />\n<p><strong>Update 2:</strong> I was working in IntelliJ with Maven as the leading build tool before. Now, I also opened Eclipse 2022-03 and imported the project from the file system, but did not use your Eclipse project settings. Instead I used the Maven project import wizard, so I got a clean start, knowing that my fixes work when using Maven from command line or from IntelliJ IDEA. So I wanted to do the same in Eclipse.</p>\n<p>Then I used &quot;File&quot;, &quot;Export&quot;, &quot;Runnable JAR file&quot;. I selected &quot;Package required libraries into generated JAR&quot; and &quot;Save as ANT script&quot;. This is the result (I replaced my user name by yours, so you can more easily compare):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project SO_Java_WebRTCClassNotFound_71798010 with Jar-in-Jar Loader&quot;&gt;\n    &lt;!--this file was created by Eclipse Runnable JAR file Export Wizard--&gt;\n    &lt;!--ANT 1.7 is required--&gt;\n    &lt;!--define folder properties--&gt;\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;${dir.buildfile}/..&quot;/&gt;\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;${dir.buildfile}&quot;/&gt;\n    &lt;target name=&quot;create_run_jar&quot;&gt;\n        &lt;jar destfile=&quot;${dir.jarfile}/MyExecutable.jar&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&quot;/&gt;\n                &lt;attribute name=&quot;Rsrc-Main-Class&quot; value=&quot;main.Main&quot;/&gt;\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;.&quot;/&gt;\n                &lt;attribute name=&quot;Rsrc-Class-Path&quot; value=&quot;./ tyrus-server-1.17.jar tyrus-client-1.17.jar tyrus-core-1.17.jar tyrus-spi-1.17.jar jakarta.xml.bind-api-2.3.2.jar jakarta.activation-api-1.2.1.jar tyrus-container-grizzly-client-1.17.jar tyrus-container-grizzly-server-1.17.jar grizzly-framework-2.3.22.jar grizzly-http-server-2.3.22.jar grizzly-http-2.3.22.jar javax.websocket-api-1.0.jar webrtc-java-0.3.0.jar webrtc-java-0.3.0-windows-x86_64.jar json-simple-1.1.jar&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;zipfileset src=&quot;jar-in-jar-loader.zip&quot;/&gt;\n            &lt;fileset dir=&quot;${dir.jarfile}/target/classes&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-server/1.17&quot; includes=&quot;tyrus-server-1.17.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-client/1.17&quot; includes=&quot;tyrus-client-1.17.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-core/1.17&quot; includes=&quot;tyrus-core-1.17.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-spi/1.17&quot; includes=&quot;tyrus-spi-1.17.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.2&quot; includes=&quot;jakarta.xml.bind-api-2.3.2.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.1&quot; includes=&quot;jakarta.activation-api-1.2.1.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-client/1.17&quot; includes=&quot;tyrus-container-grizzly-client-1.17.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-server/1.17&quot; includes=&quot;tyrus-container-grizzly-server-1.17.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-framework/2.3.22&quot; includes=&quot;grizzly-framework-2.3.22.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http-server/2.3.22&quot; includes=&quot;grizzly-http-server-2.3.22.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http/2.3.22&quot; includes=&quot;grizzly-http-2.3.22.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/javax/websocket/javax.websocket-api/1.0&quot; includes=&quot;javax.websocket-api-1.0.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0&quot; includes=&quot;webrtc-java-0.3.0.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0&quot; includes=&quot;webrtc-java-0.3.0-windows-x86_64.jar&quot;/&gt;\n            &lt;zipfileset dir=&quot;C:/Users/Charles Johnson/.m2/repository/com/googlecode/json-simple/json-simple/1.1&quot; includes=&quot;json-simple-1.1.jar&quot;/&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n<p>You see, the libraries are exactly the same, I only created an executable JAR, so I also have a manifest with a main class for being able to run the program with <code>java -jar MyExecutable.jar</code> easily. And in my variant, there is a jar-in-jar class loader. Maven Shade does it differently, unpacking all dependencies into the target JAR, mixing them together rather than packaging JARs into the uber JAR. In contrast, Eclipse's executable JARs are more similar to what you would get when using the <a href=\"https://www.baeldung.com/executable-jar-with-maven#thymeleaf-3\" rel=\"nofollow noreferrer\">Maven One Jar Plugin</a>. Anyway, both ways work. The resulting JAR I exported from Eclipse works perfectly, I can connect to another session or mirror my own camera just fine.</p>\n"}],"owner":{"account_id":3805713,"reputation":515,"user_id":3158212,"accept_rate":29,"display_name":"user3158212"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71851560,"answer_count":1,"score":0,"last_activity_date":1649944182,"creation_date":1649424898,"question_id":71798010,"body_markdown":"I built this project: https://github.com/Charles92011/WebRTCJavaTest  \r\nUsing the WebRTC library for java from: https://github.com/devopvoid/webrtc-java  \r\nWhen I execute the project in eclipse, it runs fine and I can make connections.  \r\nBut when I export it as an executable jar file it runs, but as soon as I attempt a connection I get the exception:  \r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class dev.onvoid.webrtc.PeerConnectionFactory\r\n```\r\nI&#39;m running on windows 10, the windows native library is being imported into my jar file\r\n\r\nAny suggestions?\r\n\r\n\r\nI&#39;m building it using the Export Jar file feature in Eclipse, and having it package all required libraries into the jar file. Here is the script it creates:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project WebRTCJavaTest&quot;&gt;\r\n    &lt;!--this file was created by Eclipse Runnable JAR Export Wizard--&gt;\r\n    &lt;!--ANT 1.7 is required                                        --&gt;\r\n    &lt;!--define folder properties--&gt;\r\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\r\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;C:/Users/Charles Johnson/Documents/Workspaces/HelloWorld&quot;/&gt;\r\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;${dir.buildfile}&quot;/&gt;\r\n    &lt;target name=&quot;create_run_jar&quot;&gt;\r\n        &lt;jar destfile=&quot;${dir.jarfile}/javartc1.jar&quot; filesetmanifest=&quot;mergewithoutmain&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;main.Main&quot;/&gt;\r\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;.&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;fileset dir=&quot;C:/Users/Charles Johnson/Documents/GitLab/WebRTCJavaTest/target/classes&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-server/1.17/tyrus-server-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-client/1.17/tyrus-client-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-core/1.17/tyrus-core-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-spi/1.17/tyrus-spi-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.2/jakarta.xml.bind-api-2.3.2.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.1/jakarta.activation-api-1.2.1.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-client/1.17/tyrus-container-grizzly-client-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-server/1.17/tyrus-container-grizzly-server-1.17.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-framework/2.3.22/grizzly-framework-2.3.22.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http-server/2.3.22/grizzly-http-server-2.3.22.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http/2.3.22/grizzly-http-2.3.22.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/javax/websocket/javax.websocket-api/1.0/javax.websocket-api-1.0.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0/webrtc-java-0.3.0.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0/webrtc-java-0.3.0-windows-x86_64.jar&quot;/&gt;\r\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/com/googlecode/json-simple/json-simple/1.1/json-simple-1.1.jar&quot;/&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"WebRTC application runs in eclipse, but not in a compiled jar","body":"<p>I built this project: <a href=\"https://github.com/Charles92011/WebRTCJavaTest\" rel=\"nofollow noreferrer\">https://github.com/Charles92011/WebRTCJavaTest</a><br />\nUsing the WebRTC library for java from: <a href=\"https://github.com/devopvoid/webrtc-java\" rel=\"nofollow noreferrer\">https://github.com/devopvoid/webrtc-java</a><br />\nWhen I execute the project in eclipse, it runs fine and I can make connections.<br />\nBut when I export it as an executable jar file it runs, but as soon as I attempt a connection I get the exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class dev.onvoid.webrtc.PeerConnectionFactory\n</code></pre>\n<p>I'm running on windows 10, the windows native library is being imported into my jar file</p>\n<p>Any suggestions?</p>\n<p>I'm building it using the Export Jar file feature in Eclipse, and having it package all required libraries into the jar file. Here is the script it creates:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project WebRTCJavaTest&quot;&gt;\n    &lt;!--this file was created by Eclipse Runnable JAR Export Wizard--&gt;\n    &lt;!--ANT 1.7 is required                                        --&gt;\n    &lt;!--define folder properties--&gt;\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;C:/Users/Charles Johnson/Documents/Workspaces/HelloWorld&quot;/&gt;\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;${dir.buildfile}&quot;/&gt;\n    &lt;target name=&quot;create_run_jar&quot;&gt;\n        &lt;jar destfile=&quot;${dir.jarfile}/javartc1.jar&quot; filesetmanifest=&quot;mergewithoutmain&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;main.Main&quot;/&gt;\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;.&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset dir=&quot;C:/Users/Charles Johnson/Documents/GitLab/WebRTCJavaTest/target/classes&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-server/1.17/tyrus-server-1.17.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-client/1.17/tyrus-client-1.17.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-core/1.17/tyrus-core-1.17.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-spi/1.17/tyrus-spi-1.17.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.2/jakarta.xml.bind-api-2.3.2.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.1/jakarta.activation-api-1.2.1.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-client/1.17/tyrus-container-grizzly-client-1.17.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/tyrus/tyrus-container-grizzly-server/1.17/tyrus-container-grizzly-server-1.17.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-framework/2.3.22/grizzly-framework-2.3.22.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http-server/2.3.22/grizzly-http-server-2.3.22.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/org/glassfish/grizzly/grizzly-http/2.3.22/grizzly-http-2.3.22.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/javax/websocket/javax.websocket-api/1.0/javax.websocket-api-1.0.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0/webrtc-java-0.3.0.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/dev/onvoid/webrtc/webrtc-java/0.3.0/webrtc-java-0.3.0-windows-x86_64.jar&quot;/&gt;\n            &lt;zipfileset excludes=&quot;META-INF/*.SF&quot; src=&quot;C:/Users/Charles Johnson/.m2/repository/com/googlecode/json-simple/json-simple/1.1/json-simple-1.1.jar&quot;/&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jboss","wildfly","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613918807,"creation_date":1613918807,"answer_id":66303491,"question_id":66302857,"body_markdown":"One problem with your code is that the context and connection may not be closed if there is an exception.  \r\n\r\nThe old way to solve this was to close the resources in in a `finally` block.  The modern way is to use *try with resources*.  For example:\r\n\r\n    try (InitialContext context = new InitialContext();\r\n         Connection conn = ((DataSource) context.lookup(pool)).getConnection()) {\r\n        // use the connection\r\n    } catch (NamingException e) {\r\n        logger.error(e.getMessage());\r\n        throw new DAOException(e.getMessage());\r\n    } catch (SQLException e) {\r\n        logger.error(e.getMessage());\r\n        throw new DAOException(e.getMessage()); \r\n    }\r\n\r\nThe *try with resources* starts with resource declarations where the resources are declared and initialized.  Then there is a body where the resources are used.  Finally you have (optional) `catch` and `finally` blocks.\r\n\r\nThe secret sauce is that the *try with resources* construct will automatically close each of the (non-null) resources, in reverse order that they were opened.  Exceptions thrown by the close calls will be dealt with appropriately.  And so on.\r\n\r\n(You can achieve (more or less) the same thing in the old way with `finally` blocks, but it is complicated.)","title":"Datasource pool connection not closed in Wildfly 20","body":"<p>One problem with your code is that the context and connection may not be closed if there is an exception.</p>\n<p>The old way to solve this was to close the resources in in a <code>finally</code> block.  The modern way is to use <em>try with resources</em>.  For example:</p>\n<pre><code>try (InitialContext context = new InitialContext();\n     Connection conn = ((DataSource) context.lookup(pool)).getConnection()) {\n    // use the connection\n} catch (NamingException e) {\n    logger.error(e.getMessage());\n    throw new DAOException(e.getMessage());\n} catch (SQLException e) {\n    logger.error(e.getMessage());\n    throw new DAOException(e.getMessage()); \n}\n</code></pre>\n<p>The <em>try with resources</em> starts with resource declarations where the resources are declared and initialized.  Then there is a body where the resources are used.  Finally you have (optional) <code>catch</code> and <code>finally</code> blocks.</p>\n<p>The secret sauce is that the <em>try with resources</em> construct will automatically close each of the (non-null) resources, in reverse order that they were opened.  Exceptions thrown by the close calls will be dealt with appropriately.  And so on.</p>\n<p>(You can achieve (more or less) the same thing in the old way with <code>finally</code> blocks, but it is complicated.)</p>\n"},{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613942370,"creation_date":1613942370,"answer_id":66307233,"question_id":66302857,"body_markdown":"I&#39;ve done this a very different way using JPA and never had an issue.  My code looks something like:\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n\r\n    \r\n    public class MyClass {\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager entityManager;\r\n    \r\n        public SomeObject getSomeObject() {\r\n            // as an example query\r\n            Query query = entityManager.createQuery(&quot;select ...&quot;)\r\n        }\r\n    }\r\n\r\nThere is some additional configuration needed in `META-INF/persistence.xml` that looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n                 http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n                 version=&quot;2.1&quot;&gt;\r\n        &lt;persistence-unit name=&quot;somethingPU&quot; transaction-type=&quot;JTA&quot;&gt;\r\n            &lt;jta-data-source&gt;jdbc/yourJNDIName&lt;/jta-data-source&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nIn this way you&#39;re not ever dealing with connection management - the container (Wildfly in your case) takes care of it for you.","title":"Datasource pool connection not closed in Wildfly 20","body":"<p>I've done this a very different way using JPA and never had an issue.  My code looks something like:</p>\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\n\n\npublic class MyClass {\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public SomeObject getSomeObject() {\n        // as an example query\n        Query query = entityManager.createQuery(&quot;select ...&quot;)\n    }\n}\n</code></pre>\n<p>There is some additional configuration needed in <code>META-INF/persistence.xml</code> that looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\n             version=&quot;2.1&quot;&gt;\n    &lt;persistence-unit name=&quot;somethingPU&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;jdbc/yourJNDIName&lt;/jta-data-source&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>In this way you're not ever dealing with connection management - the container (Wildfly in your case) takes care of it for you.</p>\n"},{"tags":[],"owner":{"account_id":1895792,"reputation":38,"user_id":1712798,"display_name":"user1712798"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649943747,"creation_date":1649943747,"answer_id":71872661,"question_id":66302857,"body_markdown":"Here&#39;s what worked for me.\r\n 1. Enable cached connection manager in debug mode\r\n\r\n    ```&lt;cached-connection-manager debug=&quot;true&quot; error=&quot;true&quot;/&gt;```\r\n\r\n 2. Look for this text in your log file - &quot;Closing a connection for you. Please close them yourself&quot;. This will help help you find the leak in your code.\r\n 3. In my case, `jdbcTemplate.getConnection().createClob()` was causing the pool to exhaust. \r\n```\r\n    try {\r\n         Connection conn = jdbcTemplate.getConnection()\r\n         ....\r\n         conn.createClob();\r\n         ...\r\n    } catch() {\r\n      ...\r\n    } finally {\r\n       conn.close()\r\n    }\r\n```\r\nSo properly closing the connection as shown above worked for us.\r\n\r\nHope this saves a lot of time for someone.\r\n ","title":"Datasource pool connection not closed in Wildfly 20","body":"<p>Here's what worked for me.</p>\n<ol>\n<li><p>Enable cached connection manager in debug mode</p>\n<p><code>&lt;cached-connection-manager debug=&quot;true&quot; error=&quot;true&quot;/&gt;</code></p>\n</li>\n<li><p>Look for this text in your log file - &quot;Closing a connection for you. Please close them yourself&quot;. This will help help you find the leak in your code.</p>\n</li>\n<li><p>In my case, <code>jdbcTemplate.getConnection().createClob()</code> was causing the pool to exhaust.</p>\n</li>\n</ol>\n<pre><code>    try {\n         Connection conn = jdbcTemplate.getConnection()\n         ....\n         conn.createClob();\n         ...\n    } catch() {\n      ...\n    } finally {\n       conn.close()\n    }\n</code></pre>\n<p>So properly closing the connection as shown above worked for us.</p>\n<p>Hope this saves a lot of time for someone.</p>\n"}],"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71872661,"answer_count":3,"score":0,"last_activity_date":1649943747,"creation_date":1613914557,"question_id":66302857,"body_markdown":"I have a Wildfly Java application running with a MariaDB database. Initially the connection works fine, but after 20 connections (the default) the next time it tries to connect the server hangs and after around one minute it throws the following exception:\r\n\r\n\r\n    javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:jboss/datasources/IndustryDS\r\n\r\n\r\nThis is how I connect and close the datasource:\r\n\r\n\r\n\t    private InitialContext context = null;\r\n\t    private DataSource ds = null;\r\n\t    private Connection conn = null;\r\n\r\n    \ttry {\r\n\t\t\tcontext = new InitialContext();\r\n\t\t\tds = (DataSource)context.lookup(pool);\r\n\t\t\tconn = ds.getConnection();           // &lt;--- here is where it hangs \r\n\t\t\t\r\n            // use the connection\r\n\r\n\r\n\t\t\tif (conn != null)\r\n\t\t\t    conn.close();\r\n\t\r\n\t\t\tif (context != null)\r\n\t\t\t    context.close();\r\n\r\n\t\t} \r\n\t\tcatch (NamingException e) {\r\n\t\t\tlogger.error(e.getMessage());\r\n\t\t\tthrow new DAOException(e.getMessage());\r\n\t\t} \r\n\t\tcatch (SQLException e) {\r\n\t\t\tlogger.error(e.getMessage());\r\n\t\t\tthrow new DAOException(e.getMessage());  // &lt;--- this error is thrown\r\n\t\t}\r\n\r\n\r\nThe datasource configuration in standalone.xml\r\n\r\n                &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:jboss/datasources/IndustryDS&quot; \r\n                            pool-name=&quot;IndustryDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n                    &lt;connection-url&gt;jdbc:mariadb://localhost:3306/industry&lt;/connection-url&gt;\r\n                    &lt;driver&gt;mariadb&lt;/driver&gt;\r\n                    &lt;security&gt;\r\n                        &lt;user-name&gt;user&lt;/user-name&gt;\r\n                        &lt;password&gt;xxxxxx/password&gt;\r\n                    &lt;/security&gt;\r\n                &lt;/datasource&gt;\r\n\r\n\r\nBy default, MariaDB supports 150 connections so the database shouldn&#39;t be the problem. The default maximum pool size in Wildfly is 20 and I&#39;m the only user in the system. Every time I initiate a function in my application I request two connections and then disconnect.\r\n\r\nWhy the datasource connections are not available even when I close them?\r\n\r\n\r\n","title":"Datasource pool connection not closed in Wildfly 20","body":"<p>I have a Wildfly Java application running with a MariaDB database. Initially the connection works fine, but after 20 connections (the default) the next time it tries to connect the server hangs and after around one minute it throws the following exception:</p>\n<pre><code>javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:jboss/datasources/IndustryDS\n</code></pre>\n<p>This is how I connect and close the datasource:</p>\n<pre><code>    private InitialContext context = null;\n    private DataSource ds = null;\n    private Connection conn = null;\n\n    try {\n        context = new InitialContext();\n        ds = (DataSource)context.lookup(pool);\n        conn = ds.getConnection();           // &lt;--- here is where it hangs \n        \n        // use the connection\n\n\n        if (conn != null)\n            conn.close();\n\n        if (context != null)\n            context.close();\n\n    } \n    catch (NamingException e) {\n        logger.error(e.getMessage());\n        throw new DAOException(e.getMessage());\n    } \n    catch (SQLException e) {\n        logger.error(e.getMessage());\n        throw new DAOException(e.getMessage());  // &lt;--- this error is thrown\n    }\n</code></pre>\n<p>The datasource configuration in standalone.xml</p>\n<pre><code>            &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:jboss/datasources/IndustryDS&quot; \n                        pool-name=&quot;IndustryDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\n                &lt;connection-url&gt;jdbc:mariadb://localhost:3306/industry&lt;/connection-url&gt;\n                &lt;driver&gt;mariadb&lt;/driver&gt;\n                &lt;security&gt;\n                    &lt;user-name&gt;user&lt;/user-name&gt;\n                    &lt;password&gt;xxxxxx/password&gt;\n                &lt;/security&gt;\n            &lt;/datasource&gt;\n</code></pre>\n<p>By default, MariaDB supports 150 connections so the database shouldn't be the problem. The default maximum pool size in Wildfly is 20 and I'm the only user in the system. Every time I initiate a function in my application I request two connections and then disconnect.</p>\n<p>Why the datasource connections are not available even when I close them?</p>\n"},{"tags":["java","sql","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1649928123,"post_id":71869169,"comment_id":127000644,"body_markdown":"Make sure your classes have a proper `equals` and `hashCode` implementation and rename your query to `findDistinctBy...` instead of just `findBy`...","body":"Make sure your classes have a proper <code>equals</code> and <code>hashCode</code> implementation and rename your query to <code>findDistinctBy...</code> instead of just <code>findBy</code>..."},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1649930355,"post_id":71869169,"comment_id":127001392,"body_markdown":"@M.Deinum I tried to add Distinct but I got this Error:\n`&quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;`","body":"@M.Deinum I tried to add Distinct but I got this Error: <code>&quot;could not extract ResultSet; SQL [n&#47;a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1649958275,"post_id":71869169,"comment_id":127011551,"body_markdown":"Next to adding distinct you also need a proper equals and hashCode method. And with proper I mean proper for JPA!!","body":"Next to adding distinct you also need a proper equals and hashCode method. And with proper I mean proper for JPA!!"}],"answers":[{"tags":[],"owner":{"account_id":21266913,"reputation":240,"user_id":15647017,"display_name":"Gergo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649928899,"creation_date":1649928899,"answer_id":71869452,"question_id":71869169,"body_markdown":"For more complex queries I recommend using `@Query` instead of JPA repository.\r\nYou can write it in several ways. First option is writing a native query.\r\n\r\n    @Query(value = &quot;select * from table where something = :variableName&quot;, nativeQuery = true);\r\n    public List&lt;MyClass&gt; myQuery(@Param(&quot;variableName&quot;) String \r\n    variable);\r\n\r\nSecond option is writing a simple non native Query and use your Entiry class names and fields. For this you purpose you can use `javax.persistence.EntityManager` or `@Query(value = &quot;&quot;, nativeQuery = false)`. By default `@Query` is non native query, you dont have to write `nativeQuery = false`\r\n\r\n    //@Autowired Constructor dependency injection is more preferred instead\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    List&lt;MyClass&gt; query = entityManager.createQuery(&quot;SELECT new \r\n    MyClass(m.id, m.name) from MyClass m where m.name = :variableName&quot;, ValidDomain.class).getResultList();\r\n\r\nYou don&#39;t have to use `EntityManager` you can also write non native Query with the `@Query` annotation as I mentioned above.","title":"Query a list with JPARepository","body":"<p>For more complex queries I recommend using <code>@Query</code> instead of JPA repository.\nYou can write it in several ways. First option is writing a native query.</p>\n<pre><code>@Query(value = &quot;select * from table where something = :variableName&quot;, nativeQuery = true);\npublic List&lt;MyClass&gt; myQuery(@Param(&quot;variableName&quot;) String \nvariable);\n</code></pre>\n<p>Second option is writing a simple non native Query and use your Entiry class names and fields. For this you purpose you can use <code>javax.persistence.EntityManager</code> or <code>@Query(value = &quot;&quot;, nativeQuery = false)</code>. By default <code>@Query</code> is non native query, you dont have to write <code>nativeQuery = false</code></p>\n<pre><code>//@Autowired Constructor dependency injection is more preferred instead\n@Autowired\nprivate EntityManager entityManager;\n\nList&lt;MyClass&gt; query = entityManager.createQuery(&quot;SELECT new \nMyClass(m.id, m.name) from MyClass m where m.name = :variableName&quot;, ValidDomain.class).getResultList();\n</code></pre>\n<p>You don't have to use <code>EntityManager</code> you can also write non native Query with the <code>@Query</code> annotation as I mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649943707,"creation_date":1649943707,"answer_id":71872649,"question_id":71869169,"body_markdown":"Solved By adding this to my query:\r\n\r\n     @Query(value = &quot;Select * from tbl_archive A where a.archive_id IN (select A.ARCHIVE_ID FROM tbl_archive A JOIN tbl_channel C ON(C.ARCHIVE_ID =A.ARCHIVE_ID)&quot; +\r\n            &quot;WHERE a.identifier= :Identifier AND c.channel_name IN :channels group by A.ARCHIVE_ID&quot; +\r\n            &quot; having count(c.ARCHIVE_ID) = :channelSize)&quot;, nativeQuery = true)\r\n\r\nif somebody has a better solution please let me know","title":"Query a list with JPARepository","body":"<p>Solved By adding this to my query:</p>\n<pre><code> @Query(value = &quot;Select * from tbl_archive A where a.archive_id IN (select A.ARCHIVE_ID FROM tbl_archive A JOIN tbl_channel C ON(C.ARCHIVE_ID =A.ARCHIVE_ID)&quot; +\n        &quot;WHERE a.identifier= :Identifier AND c.channel_name IN :channels group by A.ARCHIVE_ID&quot; +\n        &quot; having count(c.ARCHIVE_ID) = :channelSize)&quot;, nativeQuery = true)\n</code></pre>\n<p>if somebody has a better solution please let me know</p>\n"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71872649,"answer_count":2,"score":0,"last_activity_date":1649943707,"creation_date":1649927531,"question_id":71869169,"body_markdown":"I need to get the exact values who match with my query but with my query it returns more values (who also contains my list) and return even two value of the same rows:\r\nthe query that I do is this:\r\n\r\n     List&lt;Archive&gt; findAllByIdentifierAndChannelsChannelNameIn(String identifier, List&lt;String&gt; channel);\r\n\r\nmy model class is this:\r\n\r\n    public class Archive {\r\n        @Id\r\n        @Column(name = &quot;ARCHIVE_ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Generated(GenerationTime.ALWAYS)\r\n        private Long archiveId;\r\n    \r\n        @Column(name = &quot;IDENTIFIER&quot;)\r\n        private String identifier;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;archive&quot;)\r\n        @JsonManagedReference\r\n        private Set&lt;Channel&gt; channels;\r\n    \r\n    }\r\n    public class Channel{\r\n         @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Generated(GenerationTime.ALWAYS)\r\n            private Long channelId;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name = &quot;archive_id&quot;)\r\n            @JsonBackReference\r\n            private Archive archive;\r\n            @Column(name = &quot;Channel_Name&quot;)\r\n            private String channelName;\r\n        }\r\n\r\nThe problem is when I pass these body:\r\n\r\n    {\r\n    &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\r\n    &quot;channels&quot;: [&quot;Sky news&quot;,&quot;Rai 4&quot;]\r\n    }\r\n\r\nIt give me back this:\r\n\r\n    &quot;archiveId&quot;: 24,\r\n            &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\r\n            &quot;channels&quot;: [\r\n                {\r\n                    &quot;channelId&quot;: 20,\r\n                    &quot;channelName&quot;: &quot;Sky news&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;archiveId&quot;: 9,\r\n            &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\r\n            &quot;channels&quot;: [\r\n                {\r\n                    &quot;channelId&quot;: 2,\r\n                    &quot;channelName&quot;: &quot;Rai 4&quot;\r\n                },\r\n                {\r\n                    &quot;channelId&quot;: 40,\r\n                    &quot;channelName&quot;: &quot;Sky news&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;archiveId&quot;: 9,\r\n            &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\r\n            &quot;channels&quot;: [\r\n                {\r\n                    &quot;channelId&quot;: 2,\r\n                    &quot;channelName&quot;: &quot;Rai 4&quot;\r\n                },\r\n                {\r\n                    &quot;channelId&quot;: 40,\r\n                    &quot;channelName&quot;: &quot;Sky news&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;archiveId&quot;: 25,\r\n            &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\r\n            &quot;channels&quot;: [\r\n                {\r\n                    &quot;channelId&quot;: 41,\r\n                    &quot;channelName&quot;: &quot;Sky news&quot;\r\n                },\r\n                {\r\n                    &quot;channelId&quot;: 1,\r\n                    &quot;channelName&quot;: &quot;Boing&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;archiveId&quot;: 8,\r\n            &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\r\n            &quot;portal&quot;: &quot;PORTALE_TITOLARI&quot;,\r\n            &quot;channels&quot;: [\r\n                {\r\n                    &quot;channelId&quot;: 39,\r\n                    &quot;channelName&quot;: &quot;Sky news&quot;\r\n                }\r\n            ]\r\n        }\r\n\r\nAs you can see it will give me back 2 value og the same row (archiveId: 9)\r\nbut I need to get the exact value when I pass more channels to match what I want beacuse I need to use in a delete. thanks to all.\r\nEven if I&#39;m going to use the native query I don&#39;t know how to write the right query to get just the values that I need it\r\n[![Query on SQL][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0wWup.png","title":"Query a list with JPARepository","body":"<p>I need to get the exact values who match with my query but with my query it returns more values (who also contains my list) and return even two value of the same rows:\nthe query that I do is this:</p>\n<pre><code> List&lt;Archive&gt; findAllByIdentifierAndChannelsChannelNameIn(String identifier, List&lt;String&gt; channel);\n</code></pre>\n<p>my model class is this:</p>\n<pre><code>public class Archive {\n    @Id\n    @Column(name = &quot;ARCHIVE_ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Generated(GenerationTime.ALWAYS)\n    private Long archiveId;\n\n    @Column(name = &quot;IDENTIFIER&quot;)\n    private String identifier;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;archive&quot;)\n    @JsonManagedReference\n    private Set&lt;Channel&gt; channels;\n\n}\npublic class Channel{\n     @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Generated(GenerationTime.ALWAYS)\n        private Long channelId;\n    \n        @ManyToOne\n        @JoinColumn(name = &quot;archive_id&quot;)\n        @JsonBackReference\n        private Archive archive;\n        @Column(name = &quot;Channel_Name&quot;)\n        private String channelName;\n    }\n</code></pre>\n<p>The problem is when I pass these body:</p>\n<pre><code>{\n&quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\n&quot;channels&quot;: [&quot;Sky news&quot;,&quot;Rai 4&quot;]\n}\n</code></pre>\n<p>It give me back this:</p>\n<pre><code>&quot;archiveId&quot;: 24,\n        &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\n        &quot;channels&quot;: [\n            {\n                &quot;channelId&quot;: 20,\n                &quot;channelName&quot;: &quot;Sky news&quot;\n            }\n        ]\n    },\n    {\n        &quot;archiveId&quot;: 9,\n        &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\n        &quot;channels&quot;: [\n            {\n                &quot;channelId&quot;: 2,\n                &quot;channelName&quot;: &quot;Rai 4&quot;\n            },\n            {\n                &quot;channelId&quot;: 40,\n                &quot;channelName&quot;: &quot;Sky news&quot;\n            }\n        ]\n    },\n    {\n        &quot;archiveId&quot;: 9,\n        &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\n        &quot;channels&quot;: [\n            {\n                &quot;channelId&quot;: 2,\n                &quot;channelName&quot;: &quot;Rai 4&quot;\n            },\n            {\n                &quot;channelId&quot;: 40,\n                &quot;channelName&quot;: &quot;Sky news&quot;\n            }\n        ]\n    },\n    {\n        &quot;archiveId&quot;: 25,\n        &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\n        &quot;channels&quot;: [\n            {\n                &quot;channelId&quot;: 41,\n                &quot;channelName&quot;: &quot;Sky news&quot;\n            },\n            {\n                &quot;channelId&quot;: 1,\n                &quot;channelName&quot;: &quot;Boing&quot;\n            }\n        ]\n    },\n    {\n        &quot;archiveId&quot;: 8,\n        &quot;identifier&quot;: &quot;NGLCRS97D12G866L&quot;,\n        &quot;portal&quot;: &quot;PORTALE_TITOLARI&quot;,\n        &quot;channels&quot;: [\n            {\n                &quot;channelId&quot;: 39,\n                &quot;channelName&quot;: &quot;Sky news&quot;\n            }\n        ]\n    }\n</code></pre>\n<p>As you can see it will give me back 2 value og the same row (archiveId: 9)\nbut I need to get the exact value when I pass more channels to match what I want beacuse I need to use in a delete. thanks to all.\nEven if I'm going to use the native query I don't know how to write the right query to get just the values that I need it\n<a href=\"https://i.stack.imgur.com/0wWup.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0wWup.png\" alt=\"Query on SQL\" /></a></p>\n"},{"tags":["java","groovy","directory"],"comments":[{"owner":{"account_id":19923575,"reputation":82,"user_id":14598823,"display_name":"Fransiskus Andika Setiawan"},"score":0,"creation_date":1649942737,"post_id":71872190,"comment_id":127005715,"body_markdown":"You can follow this link, is already answered https://stackoverflow.com/questions/43356577/create-a-directory-structure-from-a-path-in-gradle-groovy","body":"You can follow this link, is already answered <a href=\"https://stackoverflow.com/questions/43356577/create-a-directory-structure-from-a-path-in-gradle-groovy\" title=\"create a directory structure from a path in gradle groovy\">stackoverflow.com/questions/43356577/&hellip;</a>"},{"owner":{"account_id":7153915,"reputation":45,"user_id":5467043,"display_name":"stevemayster"},"score":0,"creation_date":1649943395,"post_id":71872190,"comment_id":127005983,"body_markdown":"@FransiskusAndikaSetiawan nope. This not helping me","body":"@FransiskusAndikaSetiawan nope. This not helping me"}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649943596,"creation_date":1649943596,"answer_id":71872616,"question_id":71872190,"body_markdown":"This works:\r\n\r\n    def nametest = &#39;try&#39;\r\n    def patchPath = &#39;/D/Test&#39;\r\n    def fileName = &quot;${patchPath}/${nametest}&quot;\r\n    \r\n    def file = new File(fileName)\r\n    if(!file.exists()) {\r\n        // you can check the return value\r\n        // of this call to know if it succeeded\r\n        // if you like...\r\n        file.mkdir()\r\n    }","title":"Make directory using groovy","body":"<p>This works:</p>\n<pre><code>def nametest = 'try'\ndef patchPath = '/D/Test'\ndef fileName = &quot;${patchPath}/${nametest}&quot;\n\ndef file = new File(fileName)\nif(!file.exists()) {\n    // you can check the return value\n    // of this call to know if it succeeded\n    // if you like...\n    file.mkdir()\n}\n</code></pre>\n"}],"owner":{"account_id":7153915,"reputation":45,"user_id":5467043,"display_name":"stevemayster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71872616,"answer_count":1,"score":0,"last_activity_date":1649943596,"creation_date":1649941716,"question_id":71872190,"body_markdown":"I try to create directory using groovy.\r\n\r\nBut then i run this nothing happened.\r\n\r\nCan&#39;t figure it out that&#39;s is wrong in this code?\r\n```\r\ndef nametest = &quot;try&quot;\r\ndef patchPath = &quot;/D/Test&quot;\r\ndef fileName = patchPath + &quot;/&quot; + nametest\r\nprintln fileName\r\n\r\nif (!(new File(fileName)).exists()) {\r\n    (new File(fileName)).mkdir()\r\n}\r\n```","title":"Make directory using groovy","body":"<p>I try to create directory using groovy.</p>\n<p>But then i run this nothing happened.</p>\n<p>Can't figure it out that's is wrong in this code?</p>\n<pre><code>def nametest = &quot;try&quot;\ndef patchPath = &quot;/D/Test&quot;\ndef fileName = patchPath + &quot;/&quot; + nametest\nprintln fileName\n\nif (!(new File(fileName)).exists()) {\n    (new File(fileName)).mkdir()\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-jpa"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1649993868,"post_id":71872586,"comment_id":127018646,"body_markdown":"`org.bson.Document` class. Its defined in the MongoDB Java Driver APIs.","body":"<code>org.bson.Document</code> class. Its defined in the MongoDB Java Driver APIs."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1649995063,"post_id":71872586,"comment_id":127018817,"body_markdown":"That said, document counts can also be stored as a `Long` or `long`.","body":"That said, document counts can also be stored as a <code>Long</code> or <code>long</code>."}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649943474,"creation_date":1649943474,"question_id":71872586,"body_markdown":"I am writing a simple test harness to run externally from an application to check correct documents are being sent into my mongo db. All I need to do is check the document counts of a few collections. Is there a way of doing this in Spring Data without specifying POJOs? As I don&#39;t require any data to actually be mapped.","title":"Query MongoDb with Spring Data without specifying a POJO?","body":"<p>I am writing a simple test harness to run externally from an application to check correct documents are being sent into my mongo db. All I need to do is check the document counts of a few collections. Is there a way of doing this in Spring Data without specifying POJOs? As I don't require any data to actually be mapped.</p>\n"},{"tags":["java","date","datetime","java-8","utc"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1649838569,"post_id":71854271,"comment_id":126974494,"body_markdown":"Why do you want to use `Instant` when that doesn&#39;t include any offset information? It seems to me that what you need is `OffsetDateTime`. (And if `ZonedDateTime` has all the *information* you need, but you need a different format, then use a `DateTimeFormatter` rather than expecting the *default* string representation to be exactly what you want.)","body":"Why do you want to use <code>Instant</code> when that doesn&#39;t include any offset information? It seems to me that what you need is <code>OffsetDateTime</code>. (And if <code>ZonedDateTime</code> has all the <i>information</i> you need, but you need a different format, then use a <code>DateTimeFormatter</code> rather than expecting the <i>default</i> string representation to be exactly what you want.)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1649842473,"post_id":71854271,"comment_id":126976041,"body_markdown":"I agree with @JonSkeet in the understanding that an `OffsetDateTime` is what you appear to need. When right now I executed `OffsetDateTime.now(ZoneId.systemDefault())` in German time zone, I got `2022-04-13T11:34:10.078283+02:00`.","body":"I agree with @JonSkeet in the understanding that an <code>OffsetDateTime</code> is what you appear to need. When right now I executed <code>OffsetDateTime.now(ZoneId.systemDefault())</code> in German time zone, I got <code>2022-04-13T11:34:10.078283+02:00</code>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649842104,"creation_date":1649842104,"answer_id":71855082,"question_id":71854271,"body_markdown":"I don&#39;t see why you need `Instant`. The following code gives your desired output:\r\n```java\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(ZonedDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\r\n    }\r\n}\r\n```\r\nWhen I run the above code, I get the following output:\r\n```none\r\n2022-04-13T12:25:31.1157466+03:00\r\n```\r\nMy local time zone is three hours ahead of UTC.\r\n","title":"Java Instant Datetime how to get the Datetime with timezone offset only? without the region information","body":"<p>I don't see why you need <code>Instant</code>. The following code gives your desired output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        System.out.println(ZonedDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\n    }\n}\n</code></pre>\n<p>When I run the above code, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-04-13T12:25:31.1157466+03:00\n</code></pre>\n<p>My local time zone is three hours ahead of UTC.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649942610,"creation_date":1649882321,"answer_id":71863606,"question_id":71854271,"body_markdown":"# tl;dr\r\n\r\n&gt;How do I get the only Datetime information with timezone offset?\r\n\r\n    OffsetDateTime\r\n    .now() \r\n    .toString()\r\n\r\n&gt;2022-04-13T22:47:58.123793+02:00\r\n\r\nOr, state your desired/expected time zone explicitly rather than rely implicitly on the JVM’s current default time zone.\r\n\r\n    OffsetDateTime\r\n    .now(\r\n        ZoneId.of( &quot;Europe/Berlin&quot; )\r\n    ) \r\n    .toString()\r\n\r\n# `OffsetDateTime`\r\n\r\nYou asked:\r\n\r\n&gt; How do I get the only Datetime information with timezone offset?\r\n\r\nTo represent a date with time-of-day as seen in an offset of some number of hours-minutes-seconds from the meridian of UTC, use the [`OffsetDateTime`][1] class.\r\n\r\nCalling [`OffsetDateTime.now()`][2] implicitly applies the offset of your JVM’s [current default time zone][3].\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now() ;  // Uses current offset.\r\n\r\nSee that [code run live at IdeOne.com][4].\r\n\r\n&gt;2022-04-13T20:47:58.059193Z\r\n\r\nThe `Z` on the end means an offset of zero from UTC, and is pronounced “Zulu”.\r\n\r\nThe IdeOne.com site happens to use a default time zone of UTC itself, a.k.a. “Zulu time”. So let’s specify a time zone to see a different offset in action.\r\n\r\n    OffsetDateTime odt2 = OffsetDateTime.now( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ;  // Use the offset currently in effect for this particular time zone.\r\n\r\n&gt;2022-04-13T22:47:58.123793+02:00\r\n\r\n# `ZonedDateTime`\r\n\r\nUsually it is better to use a full time zone rather than a mere offset. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ;\r\n\r\n&gt;2022-04-13T22:47:58.126001+02:00[Europe/Berlin]\r\n\r\nBut occasionally we need to deal with an offset rather than a zone. Doing SQL work with a database is one important example, as the SQL standard was written only for offsets rather than time zones.\r\n\r\n# `Instant`\r\n\r\nYou asked:\r\n\r\n&gt;How can I get my expected output 2022-04-13T10:22:35.362644+02:00 using Instant? \r\n\r\nYou cannot. \r\n\r\nThe [`Instant`][5] class represents a moment as seen with an offset of zero hours-minutes-seconds from the meridian of UTC. An `Instant` object by definition is always “in UTC”, that is, carries an offset of zero.\r\n\r\nIf you have an `Instant` in hand, you can adjust into a time zone or offset. Rather than assume you know the correct offset, I suggest going through a time zone to let *java.time* look up the offset in effect at the moment. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Berlin&quot; ) ;\r\n    ZonedDateTime zdt = myInstant.atZone( z ) ;\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;\r\n\r\nTip: Be aware that politicians change the time zone rules, and therefore the offset, with surprising frequency and disturbingly little forewarning. Be sure to keep the [*tzdata*][6] up to date if any zone of interest to you is changing. You will find *tzdata* file in (a) your JVM, (b) your host operating system, and (c) perhaps in ancillary systems such as your database server. \r\n\r\n# `LocalDateTime`\r\n\r\nNever use `LocalDateTime` class when tracking a moment, a specific point on the timeline. This class purposely lacks the context of a time zone or offset-from-UTC. An object of `LocalDateTime` carries *only* a date and a time-of-day, nothing more.\r\n\r\nI cannot imagine any scenario where calling `LocalDateTime#now` or `LocalDateTime.ofInstant` would be the right thing to do. In doing so, you would be purposely discarding vital information (the time zone or offset).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html#now()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html#systemDefault()\r\n  [4]: https://OffsetDateTime%20odt%20=%20OffsetDateTime.now()%20;%20%20//%20Uses%20current%20offset.\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [6]: https://en.wikipedia.org/wiki/Tz_database","title":"Java Instant Datetime how to get the Datetime with timezone offset only? without the region information","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>How do I get the only Datetime information with timezone offset?</p>\n</blockquote>\n<pre><code>OffsetDateTime\n.now() \n.toString()\n</code></pre>\n<blockquote>\n<p>2022-04-13T22:47:58.123793+02:00</p>\n</blockquote>\n<p>Or, state your desired/expected time zone explicitly rather than rely implicitly on the JVM’s current default time zone.</p>\n<pre><code>OffsetDateTime\n.now(\n    ZoneId.of( &quot;Europe/Berlin&quot; )\n) \n.toString()\n</code></pre>\n<h1><code>OffsetDateTime</code></h1>\n<p>You asked:</p>\n<blockquote>\n<p>How do I get the only Datetime information with timezone offset?</p>\n</blockquote>\n<p>To represent a date with time-of-day as seen in an offset of some number of hours-minutes-seconds from the meridian of UTC, use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> class.</p>\n<p>Calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html#now()\" rel=\"nofollow noreferrer\"><code>OffsetDateTime.now()</code></a> implicitly applies the offset of your JVM’s <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html#systemDefault()\" rel=\"nofollow noreferrer\">current default time zone</a>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now() ;  // Uses current offset.\n</code></pre>\n<p>See that <a href=\"https://OffsetDateTime%20odt%20=%20OffsetDateTime.now()%20;%20%20//%20Uses%20current%20offset.\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2022-04-13T20:47:58.059193Z</p>\n</blockquote>\n<p>The <code>Z</code> on the end means an offset of zero from UTC, and is pronounced “Zulu”.</p>\n<p>The IdeOne.com site happens to use a default time zone of UTC itself, a.k.a. “Zulu time”. So let’s specify a time zone to see a different offset in action.</p>\n<pre><code>OffsetDateTime odt2 = OffsetDateTime.now( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ;  // Use the offset currently in effect for this particular time zone.\n</code></pre>\n<blockquote>\n<p>2022-04-13T22:47:58.123793+02:00</p>\n</blockquote>\n<h1><code>ZonedDateTime</code></h1>\n<p>Usually it is better to use a full time zone rather than a mere offset. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ;\n</code></pre>\n<blockquote>\n<p>2022-04-13T22:47:58.126001+02:00[Europe/Berlin]</p>\n</blockquote>\n<p>But occasionally we need to deal with an offset rather than a zone. Doing SQL work with a database is one important example, as the SQL standard was written only for offsets rather than time zones.</p>\n<h1><code>Instant</code></h1>\n<p>You asked:</p>\n<blockquote>\n<p>How can I get my expected output 2022-04-13T10:22:35.362644+02:00 using Instant?</p>\n</blockquote>\n<p>You cannot.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class represents a moment as seen with an offset of zero hours-minutes-seconds from the meridian of UTC. An <code>Instant</code> object by definition is always “in UTC”, that is, carries an offset of zero.</p>\n<p>If you have an <code>Instant</code> in hand, you can adjust into a time zone or offset. Rather than assume you know the correct offset, I suggest going through a time zone to let <em>java.time</em> look up the offset in effect at the moment.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Berlin&quot; ) ;\nZonedDateTime zdt = myInstant.atZone( z ) ;\nOffsetDateTime odt = zdt.toOffsetDateTime() ;\n</code></pre>\n<p>Tip: Be aware that politicians change the time zone rules, and therefore the offset, with surprising frequency and disturbingly little forewarning. Be sure to keep the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\"><em>tzdata</em></a> up to date if any zone of interest to you is changing. You will find <em>tzdata</em> file in (a) your JVM, (b) your host operating system, and (c) perhaps in ancillary systems such as your database server.</p>\n<h1><code>LocalDateTime</code></h1>\n<p>Never use <code>LocalDateTime</code> class when tracking a moment, a specific point on the timeline. This class purposely lacks the context of a time zone or offset-from-UTC. An object of <code>LocalDateTime</code> carries <em>only</em> a date and a time-of-day, nothing more.</p>\n<p>I cannot imagine any scenario where calling <code>LocalDateTime#now</code> or <code>LocalDateTime.ofInstant</code> would be the right thing to do. In doing so, you would be purposely discarding vital information (the time zone or offset).</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2545,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71855082,"answer_count":2,"score":2,"last_activity_date":1649942610,"creation_date":1649838450,"question_id":71854271,"body_markdown":"I am using the Java `Instant` to get the current date-time information, but it returns to me the UTC Datetime with `Z` or with `[Europe/Berlin]`. How do I get the only `Datetime` information with timezone offset?\r\n\r\nFollowing is the code I have:\r\n```\r\nimport java.time.Instant;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\n\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Instant instant = Instant.now();\r\n\r\n        System.out.println(&quot;Current Time : &quot; + instant);\r\n\r\n        LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n        System.out.println(&quot;LocalDateTime : &quot; + localDateTime);\r\n\r\n        ZonedDateTime zonedDateTime1 = ZonedDateTime.ofInstant(instant, ZoneId.systemDefault());\r\n        System.out.println(&quot;ZonedDateTime1: &quot; + zonedDateTime1);\r\n    }\r\n}\r\n```\r\n\r\nFollowing is the output I have:\r\n```none\r\nCurrent Time : 2022-04-13T08:22:35.362644Z\r\nLocalDateTime : 2022-04-13T10:22:35.362644\r\nZonedDateTime1: 2022-04-13T10:22:35.362644+02:00[Europe/Berlin]\r\n```\r\n\r\nMy expected output is:\r\n```none\r\nexpected output: 2022-04-13T10:22:35.362644+02:00\r\n```\r\n\r\nHow can I get my expected output `2022-04-13T10:22:35.362644+02:00` using `Instant`? I am aware that I can do the substring(), but I do not want to do that. I am looking for some direct approach to achieve this. Please provide some suggestion.\r\n\r\nAlso, I do not wish to pass the region information as the application can be accessed across various regions so do not wish to hardcode the region in code.","title":"Java Instant Datetime how to get the Datetime with timezone offset only? without the region information","body":"<p>I am using the Java <code>Instant</code> to get the current date-time information, but it returns to me the UTC Datetime with <code>Z</code> or with <code>[Europe/Berlin]</code>. How do I get the only <code>Datetime</code> information with timezone offset?</p>\n<p>Following is the code I have:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\n\npublic class Test {\n    public static void main(String[] args) {\n        Instant instant = Instant.now();\n\n        System.out.println(&quot;Current Time : &quot; + instant);\n\n        LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, ZoneId.systemDefault());\n        System.out.println(&quot;LocalDateTime : &quot; + localDateTime);\n\n        ZonedDateTime zonedDateTime1 = ZonedDateTime.ofInstant(instant, ZoneId.systemDefault());\n        System.out.println(&quot;ZonedDateTime1: &quot; + zonedDateTime1);\n    }\n}\n</code></pre>\n<p>Following is the output I have:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Current Time : 2022-04-13T08:22:35.362644Z\nLocalDateTime : 2022-04-13T10:22:35.362644\nZonedDateTime1: 2022-04-13T10:22:35.362644+02:00[Europe/Berlin]\n</code></pre>\n<p>My expected output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>expected output: 2022-04-13T10:22:35.362644+02:00\n</code></pre>\n<p>How can I get my expected output <code>2022-04-13T10:22:35.362644+02:00</code> using <code>Instant</code>? I am aware that I can do the substring(), but I do not want to do that. I am looking for some direct approach to achieve this. Please provide some suggestion.</p>\n<p>Also, I do not wish to pass the region information as the application can be accessed across various regions so do not wish to hardcode the region in code.</p>\n"},{"tags":["java","android","unit-testing","kotlin","mockito"],"answers":[{"tags":[],"owner":{"account_id":1021265,"reputation":15894,"user_id":1031556,"accept_rate":93,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649942564,"creation_date":1649942147,"answer_id":71872274,"question_id":71871891,"body_markdown":"You are not actually mocking the repository you are using, since you create that repository in your viewModel.\r\n\r\nIn order to mock the repository you have to inject it into the viewmodel, then you can use your mocked one in your tests.\r\n\r\n    class MyViewModel(private val repository: Repository) : ViewModel() {\r\n  \r\n    ...\r\n   \r\n\r\nThen in your test you inject the mocked repository:\r\n\r\n    @Test\r\n    fun testLoadedState() {\r\n       runBlockingTest {\r\n       val viewModel = ViewModel(mockRepository)\r\n        whenever(mockRepository.getImage(&quot;&quot;)).thenReturn(mockedDrawable)\r\n          ... rest of the test \r\n       }\r\n    }","title":"Mocking Glide in Unit Test to avoid NullPointerException","body":"<p>You are not actually mocking the repository you are using, since you create that repository in your viewModel.</p>\n<p>In order to mock the repository you have to inject it into the viewmodel, then you can use your mocked one in your tests.</p>\n<pre><code>class MyViewModel(private val repository: Repository) : ViewModel() {\n\n...\n</code></pre>\n<p>Then in your test you inject the mocked repository:</p>\n<pre><code>@Test\nfun testLoadedState() {\n   runBlockingTest {\n   val viewModel = ViewModel(mockRepository)\n    whenever(mockRepository.getImage(&quot;&quot;)).thenReturn(mockedDrawable)\n      ... rest of the test \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2914578,"reputation":2892,"user_id":2498079,"accept_rate":32,"display_name":"user2498079"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71872274,"answer_count":1,"score":0,"last_activity_date":1649942564,"creation_date":1649940442,"question_id":71871891,"body_markdown":"I&#39;m writing unit test for a viewModel that fetches an image from the server using Glide. \r\nCode is like the following:\r\n\r\n**ViewModel.kt** \r\n\r\n    class MyViewModel : ViewModel() {\r\n        val repository = Repository()\r\n      \r\n        fun updateState() {\r\n           viewModelScope.launch {\r\n             val drawable = repository.getImage(&quot;google.com&quot;)\r\n             withContext(Dispatchers.Main()) {\r\n               if(drawable != null) _liveData.value = LoadedState\r\n             }\r\n           }\r\n        }\r\n    }\r\n\r\n**Repository:**\r\n\r\n    class Repository {\r\n    \r\n        fun getImage(url: String) {\r\n          return Glide.with(appContext).asDrawable().load(url).submit().get()\r\n        }\r\n    }\r\n\r\n\r\n**Test:**\r\n\r\n    @Test\r\n    fun testLoadedState() {\r\n       runBlockingTest {\r\n          whenever(repository.getImage(&quot;&quot;)).thenReturn(mockedDrawable)\r\n          ... rest of the test \r\n       }\r\n    }\r\n\r\nUpon running the test, I get NULL POINTER EXCEPTION when glide is being executed. The error is \r\n\r\n    java.lang.NullPointerException\r\n    at com.bumptech.glide.load.engine.cache.MemorySizeCaculator.isLowMemoryDevifce(MemorySizeCalculator.java:124)\r\n\r\n**I assume I&#39;m getting this error is because I need to mock Glide object. How can I get rid of this error and just return a mock bitmap/null image when repository.getImage() is executed in test?**\r\n","title":"Mocking Glide in Unit Test to avoid NullPointerException","body":"<p>I'm writing unit test for a viewModel that fetches an image from the server using Glide.\nCode is like the following:</p>\n<p><strong>ViewModel.kt</strong></p>\n<pre><code>class MyViewModel : ViewModel() {\n    val repository = Repository()\n  \n    fun updateState() {\n       viewModelScope.launch {\n         val drawable = repository.getImage(&quot;google.com&quot;)\n         withContext(Dispatchers.Main()) {\n           if(drawable != null) _liveData.value = LoadedState\n         }\n       }\n    }\n}\n</code></pre>\n<p><strong>Repository:</strong></p>\n<pre><code>class Repository {\n\n    fun getImage(url: String) {\n      return Glide.with(appContext).asDrawable().load(url).submit().get()\n    }\n}\n</code></pre>\n<p><strong>Test:</strong></p>\n<pre><code>@Test\nfun testLoadedState() {\n   runBlockingTest {\n      whenever(repository.getImage(&quot;&quot;)).thenReturn(mockedDrawable)\n      ... rest of the test \n   }\n}\n</code></pre>\n<p>Upon running the test, I get NULL POINTER EXCEPTION when glide is being executed. The error is</p>\n<pre><code>java.lang.NullPointerException\nat com.bumptech.glide.load.engine.cache.MemorySizeCaculator.isLowMemoryDevifce(MemorySizeCalculator.java:124)\n</code></pre>\n<p><strong>I assume I'm getting this error is because I need to mock Glide object. How can I get rid of this error and just return a mock bitmap/null image when repository.getImage() is executed in test?</strong></p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1649934535,"post_id":71870567,"comment_id":127002748,"body_markdown":"I too was facing this for long","body":"I too was facing this for long"}],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649942154,"creation_date":1649934101,"question_id":71870567,"body_markdown":"Firebase notification is not working properly with a specific project.\r\n\r\nIf I sent notification from the console to all devices it did not work.\r\n\r\nIf I tried to send a notification via REST. its returns with the below response.\r\n\r\n    {\r\n        &quot;multicast_id&quot;: ....,\r\n        &quot;success&quot;: 0,\r\n        &quot;failure&quot;: 1,\r\n        &quot;canonical_ids&quot;: 0,\r\n        &quot;results&quot;: [\r\n            {\r\n                &quot;error&quot;: &quot;InvalidRegistration&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n**Update : 2**\r\n\r\nI have created another project on the firebase console, delete resources and keys from the old project, then I have set up a new android application in the new project.\r\n\r\nThe result was the same, not receiving any notification The rest result was also the same.\r\n\r\nBut.\r\nWhen I add another android application in the same project, then I was able to send notifications from a console-specific to that app, also from the rest API using token.\r\n\r\nwhen I tried the original application token, I have the error. I am not able to find the issue ?. the registration part and initialization part was the same in the application.\r\n\r\n\r\nManifest Looks like.\r\n &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages.\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@drawable/ic_launcher&quot; /&gt;\r\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming\r\n             notification message.  --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/purple_700&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.CustomFirebaseMessagingService&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n**App.java**\r\n\r\n    public class App extends Application\r\n    {\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            FirebaseApp.initializeApp(this);\r\n    \r\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                NotificationChannel notificationChannel = new NotificationChannel(getString(R.string.default_notification_channel_id),&quot;X1&quot;,NotificationManager.IMPORTANCE_DEFAULT);\r\n                notificationManager.createNotificationChannel(notificationChannel);\r\n            }\r\n        }\r\n    }\r\n\r\nToken Generate.\r\n\r\n    FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n                    Log.d(TAG, &quot;onComplete() called with: task = [&quot; + task + &quot;]&quot;);\r\n                    if(task.isSuccessful())\r\n                    {\r\n                        Log.d(TAG, &quot;onComplete() called with: task = [&quot; + task.getResult() + &quot;]&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\nI have tried the same code with different projects and it&#39;s working fine.\r\nI don&#39;t know what&#39;s wrong!.\r\n","title":"Firebase Notification not sent from console","body":"<p>Firebase notification is not working properly with a specific project.</p>\n<p>If I sent notification from the console to all devices it did not work.</p>\n<p>If I tried to send a notification via REST. its returns with the below response.</p>\n<pre><code>{\n    &quot;multicast_id&quot;: ....,\n    &quot;success&quot;: 0,\n    &quot;failure&quot;: 1,\n    &quot;canonical_ids&quot;: 0,\n    &quot;results&quot;: [\n        {\n            &quot;error&quot;: &quot;InvalidRegistration&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>Update : 2</strong></p>\n<p>I have created another project on the firebase console, delete resources and keys from the old project, then I have set up a new android application in the new project.</p>\n<p>The result was the same, not receiving any notification The rest result was also the same.</p>\n<p>But.\nWhen I add another android application in the same project, then I was able to send notifications from a console-specific to that app, also from the rest API using token.</p>\n<p>when I tried the original application token, I have the error. I am not able to find the issue ?. the registration part and initialization part was the same in the application.</p>\n<p>Manifest Looks like.</p>\n \n        \n<pre><code>    &lt;meta-data\n        android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n        android:resource=&quot;@color/purple_700&quot; /&gt;\n\n    &lt;meta-data\n        android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n        android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\n\n    &lt;service\n        android:name=&quot;.CustomFirebaseMessagingService&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application\n{\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        FirebaseApp.initializeApp(this);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(getString(R.string.default_notification_channel_id),&quot;X1&quot;,NotificationManager.IMPORTANCE_DEFAULT);\n            notificationManager.createNotificationChannel(notificationChannel);\n        }\n    }\n}\n</code></pre>\n<p>Token Generate.</p>\n<pre><code>FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;String&gt; task) {\n                Log.d(TAG, &quot;onComplete() called with: task = [&quot; + task + &quot;]&quot;);\n                if(task.isSuccessful())\n                {\n                    Log.d(TAG, &quot;onComplete() called with: task = [&quot; + task.getResult() + &quot;]&quot;);\n                }\n            }\n        });\n</code></pre>\n<p>I have tried the same code with different projects and it's working fine.\nI don't know what's wrong!.</p>\n"},{"tags":["java","recursion","execution","control-flow"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":1,"creation_date":1392402852,"post_id":21786920,"comment_id":32963404,"body_markdown":"The call stack &quot;unwinds* and you see the same n as in the previous stack frame (that called the function which just returned). That is, every time `prod` is called there is a *new* n local variable whose value is unaffected by any other `prod` call.","body":"The call stack &quot;unwinds* and you see the same n as in the previous stack frame (that called the function which just returned). That is, every time <code>prod</code> is called there is a <i>new</i> n local variable whose value is unaffected by any other <code>prod</code> call."},{"owner":{"account_id":3054527,"reputation":2458,"user_id":2588463,"display_name":"DSquare"},"score":0,"creation_date":1392403764,"post_id":21786920,"comment_id":32963967,"body_markdown":"Weird, that recursion is calculating `n! / (m-1)!`  -  \nGiven that m &lt;= n, if m &gt; n the infinite recursion produces an StackOverflow :)","body":"Weird, that recursion is calculating <code>n! &#47; (m-1)!</code>  -   Given that m &lt;= n, if m &gt; n the infinite recursion produces an StackOverflow :)"}],"answers":[{"tags":[],"owner":{"account_id":66671,"reputation":3328,"user_id":2591612,"accept_rate":96,"display_name":"Engineer2021"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392403048,"creation_date":1392403048,"answer_id":21787032,"question_id":21786920,"body_markdown":"If `m` is 1 and `n` is 4, this is what it does:\r\n\r\n1. Print 4\r\n2. Call `prod(1, n -1)` \r\n3. Print 3\r\n4. Call `prod(1, n -1)`\r\n5. Print 2\r\n6. Call `prod(1, n -1)`\r\n7. Print 2\r\n8. Print 4\r\n9. Return 4\r\n10. Print 4\r\n11. Print 12\r\netc\r\n\r\nI think I got this right.. As it returns, it unwinds the stack. Even if I got the #10 and #11 steps wrong you should get the general idea.\r\n","title":"Java Recursion Flow of execution","body":"<p>If <code>m</code> is 1 and <code>n</code> is 4, this is what it does:</p>\n\n<ol>\n<li>Print 4</li>\n<li>Call <code>prod(1, n -1)</code> </li>\n<li>Print 3</li>\n<li>Call <code>prod(1, n -1)</code></li>\n<li>Print 2</li>\n<li>Call <code>prod(1, n -1)</code></li>\n<li>Print 2</li>\n<li>Print 4</li>\n<li>Return 4</li>\n<li>Print 4</li>\n<li>Print 12\netc</li>\n</ol>\n\n<p>I think I got this right.. As it returns, it unwinds the stack. Even if I got the #10 and #11 steps wrong you should get the general idea.</p>\n"},{"tags":[],"owner":{"account_id":3843251,"reputation":487,"user_id":3185670,"accept_rate":100,"display_name":"Rajat Khandelwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1471181956,"creation_date":1471181601,"answer_id":38942745,"question_id":21786920,"body_markdown":"Your program will call `prod()` function recursively and store local variable in stack till `m!=n`. Once m becomes equal to n, it will start executing remaining part of program stored in stack. \r\n\r\nFor better understanding i am adding `System.out.println()` statement in your program.\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Final Output in Main &quot;+prod(1, 4));\r\n    }\r\n    \r\n    public static int prod(int m, int n) {\r\n        if (m == n) {\r\n            System.out.println(&quot;Return Result: &quot;+n);\r\n                return n;\r\n        } else {\r\n            System.out.println(&quot;Print : &quot;+n);\r\n                int recurse = prod(m, n - 1);\r\n            System.out.println(&quot;Print Recurse: &quot;+recurse);\r\n                int result = n * recurse;\r\n            System.out.println(&quot;Return Result: &quot;+result);\r\n                return result;\r\n        }\r\n    }\r\n\r\nFlow of program would be like \r\n\r\n    Print : 4\r\n    Print : 3\r\n    Print : 2\r\n    Return Result: 1\r\n    Print Recurse: 1\r\n    Return Result: 2\r\n    Print Recurse: 2\r\n    Return Result: 6\r\n    Print Recurse: 6\r\n    Return Result: 24\r\n    Final Output in Main 24\r\n\r\n","title":"Java Recursion Flow of execution","body":"<p>Your program will call <code>prod()</code> function recursively and store local variable in stack till <code>m!=n</code>. Once m becomes equal to n, it will start executing remaining part of program stored in stack. </p>\n\n<p>For better understanding i am adding <code>System.out.println()</code> statement in your program.\n</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(\"Final Output in Main \"+prod(1, 4));\n}\n\npublic static int prod(int m, int n) {\n    if (m == n) {\n        System.out.println(\"Return Result: \"+n);\n            return n;\n    } else {\n        System.out.println(\"Print : \"+n);\n            int recurse = prod(m, n - 1);\n        System.out.println(\"Print Recurse: \"+recurse);\n            int result = n * recurse;\n        System.out.println(\"Return Result: \"+result);\n            return result;\n    }\n}\n</code></pre>\n\n<p>Flow of program would be like </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Print : 4\nPrint : 3\nPrint : 2\nReturn Result: 1\nPrint Recurse: 1\nReturn Result: 2\nPrint Recurse: 2\nReturn Result: 6\nPrint Recurse: 6\nReturn Result: 24\nFinal Output in Main 24\n</code></pre>\n"}],"owner":{"account_id":1130832,"reputation":306,"user_id":1116929,"accept_rate":100,"display_name":"hello world"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38942745,"answer_count":2,"score":1,"last_activity_date":1649942051,"creation_date":1392402714,"question_id":21786920,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(prod(1, 4));\r\n\t}\r\n\r\n\tpublic static int prod(int m, int n) {\r\n\t\tif (m == n) {\r\n\t\t\treturn n;\r\n\t\t} else {\r\n\t\t\tSystem.out.println(n);\r\n\t\t\tint recurse = prod(m, n - 1);\r\n\t\t\tSystem.out.println(recurse);\r\n\t\t\tint result = n * recurse;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\nStruggling to understand the flow of execution here.\r\n\r\nwithin the if clause, when m =n, in the case 1=1, it returns n =1, but from here it goes straight to declaration of int recurse and then that same n becomes 2. I dont understand what happened.","title":"Java Recursion Flow of execution","body":"<pre><code>public static void main(String[] args) {\n    System.out.println(prod(1, 4));\n}\n\npublic static int prod(int m, int n) {\n    if (m == n) {\n        return n;\n    } else {\n        System.out.println(n);\n        int recurse = prod(m, n - 1);\n        System.out.println(recurse);\n        int result = n * recurse;\n        return result;\n    }\n}\n</code></pre>\n\n<p>Struggling to understand the flow of execution here.</p>\n\n<p>within the if clause, when m =n, in the case 1=1, it returns n =1, but from here it goes straight to declaration of int recurse and then that same n becomes 2. I dont understand what happened.</p>\n"},{"tags":["java","arrays","data-structures","linked-list"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1649935540,"post_id":71870828,"comment_id":127003086,"body_markdown":"&quot;Apart from the only fact that linked lists are dynamic in nature&quot; there you have it.","body":"&quot;Apart from the only fact that linked lists are dynamic in nature&quot; there you have it."},{"owner":{"account_id":5140045,"reputation":112591,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":1,"creation_date":1649935541,"post_id":71870828,"comment_id":127003088,"body_markdown":"please pick one language. `LinkedList` and `std::list` are rather different (also arrays are different in C++ vs Java)","body":"please pick one language. <code>LinkedList</code> and <code>std::list</code> are rather different (also arrays are different in C++ vs Java)"},{"owner":{"account_id":5140045,"reputation":112591,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":1,"creation_date":1649935638,"post_id":71870828,"comment_id":127003130,"body_markdown":"i removed the C++ tag, because in C++ you cannot insert into an array","body":"i removed the C++ tag, because in C++ you cannot insert into an array"},{"owner":{"account_id":10423870,"reputation":18345,"user_id":7691729,"display_name":"Quimby"},"score":0,"creation_date":1649935739,"post_id":71870828,"comment_id":127003159,"body_markdown":"You need to really define the implementation - `std::vector` vs `std::array` and single-,double- linked lists are vastly different","body":"You need to really define the implementation - <code>std::vector</code> vs <code>std::array</code> and single-,double- linked lists are vastly different"}],"answers":[{"tags":[],"owner":{"account_id":2375956,"reputation":234234,"user_id":2079303,"display_name":"eerorika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649939354,"creation_date":1649935764,"answer_id":71870907,"question_id":71870828,"body_markdown":"No data structure is universally better than another data structure. There are benefits and drawbacks and which is better depends on what benefits and drawbacks are more important for your use case.\r\n\r\n&gt; the insertion and deletion complexities are same\r\n\r\nFirstly, it isn&#39;t possible to insert or delete elements of arrays at all. Their size remains constant. But I&#39;ll assume that you meant &quot;dynamic array&quot; data structure i.e. `std::vector` and `java.util.ArrayList` (not to be confused with dynamically allocated array which is also called &quot;dynamic array&quot;).\r\n\r\nThe insertion and deletion complexities between linked lists and dynamic array are not the same.\r\n\r\n&gt; but for the later it is O(n) to insert at the rear end.\r\n\r\nGiven a an iterator to a linked linked list, you can insert after the pointed element in constant time. Hence, if you maintain an iterator to the end of the list, you can insert there in constant time.\r\n\r\nAn important advantage of linked list over the dynamic array, besides the complexity, is that the elements remain stable in memory. In vector, if adding an element exceeds the capacity, then all iterators and references to existing elements are invalidated. Iterators as well as references to linked list elements remain valid until the element is erased. If you need this property, then using a dynamic array is not an option.","title":"Benefits of linked list over array","body":"<p>No data structure is universally better than another data structure. There are benefits and drawbacks and which is better depends on what benefits and drawbacks are more important for your use case.</p>\n<blockquote>\n<p>the insertion and deletion complexities are same</p>\n</blockquote>\n<p>Firstly, it isn't possible to insert or delete elements of arrays at all. Their size remains constant. But I'll assume that you meant &quot;dynamic array&quot; data structure i.e. <code>std::vector</code> and <code>java.util.ArrayList</code> (not to be confused with dynamically allocated array which is also called &quot;dynamic array&quot;).</p>\n<p>The insertion and deletion complexities between linked lists and dynamic array are not the same.</p>\n<blockquote>\n<p>but for the later it is O(n) to insert at the rear end.</p>\n</blockquote>\n<p>Given a an iterator to a linked linked list, you can insert after the pointed element in constant time. Hence, if you maintain an iterator to the end of the list, you can insert there in constant time.</p>\n<p>An important advantage of linked list over the dynamic array, besides the complexity, is that the elements remain stable in memory. In vector, if adding an element exceeds the capacity, then all iterators and references to existing elements are invalidated. Iterators as well as references to linked list elements remain valid until the element is erased. If you need this property, then using a dynamic array is not an option.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649941915,"creation_date":1649941915,"answer_id":71872237,"question_id":71870828,"body_markdown":"Linked lists, as independent data structures, are rarely used.\r\n\r\nQuite often, however, objects are linked into a list by incorporating `next` and maybe `prev` pointers directly into the objects themselves.  As a data structure, that is often referred to as an &quot;intrusive&quot; linked list.\r\n\r\nSometimes this is used to add features to existing data structures.  In Java you can see this in `LinkedHashMap`, which links the map entries together into a list, preserving their insertion or access order and allowing you to use it as an LRU cache.  Similarly, leaf nodes in a B+tree are often linked onto a list to simplify traversal.  There are many examples.\r\n","title":"Benefits of linked list over array","body":"<p>Linked lists, as independent data structures, are rarely used.</p>\n<p>Quite often, however, objects are linked into a list by incorporating <code>next</code> and maybe <code>prev</code> pointers directly into the objects themselves.  As a data structure, that is often referred to as an &quot;intrusive&quot; linked list.</p>\n<p>Sometimes this is used to add features to existing data structures.  In Java you can see this in <code>LinkedHashMap</code>, which links the map entries together into a list, preserving their insertion or access order and allowing you to use it as an LRU cache.  Similarly, leaf nodes in a B+tree are often linked onto a list to simplify traversal.  There are many examples.</p>\n"}],"owner":{"account_id":24568510,"reputation":21,"user_id":18475314,"display_name":"Prakhar Shankar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649942233,"answer_count":2,"score":-1,"last_activity_date":1649941915,"creation_date":1649935347,"question_id":71870828,"body_markdown":"I really don&#39;t see how linked lists are better than array , the insertion and deletion complexities are same , eg. , In array the insertion at rear is O(1) while for linked lists the insertion at head is O(1) , and simillarly insertion in arrays at front is O(n) but for the later it is O(n) to insert at the rear end. \r\n\r\n\r\n----------\r\n\r\n\r\nApart from the only fact that linked lists are dynamic in nature ,I dont see any benefits of linked lists over arrays. Moreover , I can use a dynamic array to counter that problem.\r\n\r\n\r\n----------\r\n\r\n\r\nAgain Array also have better results when we want to access an element.\r\n\r\n----------\r\n\r\n\r\nSo can anybody please tell me why are linked lists better than array? And if they are not better , then why do we use it?  ","title":"Benefits of linked list over array","body":"<p>I really don't see how linked lists are better than array , the insertion and deletion complexities are same , eg. , In array the insertion at rear is O(1) while for linked lists the insertion at head is O(1) , and simillarly insertion in arrays at front is O(n) but for the later it is O(n) to insert at the rear end.</p>\n<hr />\n<p>Apart from the only fact that linked lists are dynamic in nature ,I dont see any benefits of linked lists over arrays. Moreover , I can use a dynamic array to counter that problem.</p>\n<hr />\n<p>Again Array also have better results when we want to access an element.</p>\n<hr />\n<p>So can anybody please tell me why are linked lists better than array? And if they are not better , then why do we use it?</p>\n"},{"tags":["java","spring","caching"],"comments":[{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":0,"creation_date":1649941643,"post_id":71872032,"comment_id":127005305,"body_markdown":"It would help if you posted some of the &quot;iterate through the response and find what I have to&quot; code so we can see what exactly you&#39;re doing...","body":"It would help if you posted some of the &quot;iterate through the response and find what I have to&quot; code so we can see what exactly you&#39;re doing..."},{"owner":{"account_id":14729720,"reputation":33,"user_id":10637453,"display_name":"Donald Vecox"},"score":0,"creation_date":1649941854,"post_id":71872032,"comment_id":127005387,"body_markdown":"Added the iterations! Sorry for that","body":"Added the iterations! Sorry for that"}],"answers":[{"tags":[],"owner":{"account_id":2157438,"reputation":1216,"user_id":1912318,"display_name":"ishimwe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649941166,"creation_date":1649941166,"answer_id":71872059,"question_id":71872032,"body_markdown":"try using `@Cachable` which can be used on method or class level","title":"How should I cache the response from another API?","body":"<p>try using <code>@Cachable</code> which can be used on method or class level</p>\n"}],"owner":{"account_id":14729720,"reputation":33,"user_id":10637453,"display_name":"Donald Vecox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649941819,"creation_date":1649941010,"question_id":71872032,"body_markdown":"Right now, I&#39;m making three requests for an external API, and each time, I have to iterate through the responses and find what I have to. How can I cache the response from this external API, that has 3 different end points that I use?\r\n\r\nHere&#39;s the iteration:\r\n\r\n```\r\n      if(list.getData() != null) {\r\n        list.getData().stream().forEach(listItems -&gt; {\r\n        if(items.getAttributes().getItems() != null)\r\n          items.getAttributes().getItems().forEach(listItem -&gt; {\r\n          if(item.getListItems() != null)\r\n            item.getListItems().forEach(k -&gt; {\r\n              if(k.getItems() != null)\r\n              k.getItems().forEach( l -&gt; {\r\n                if (l.getName().equalsIgnoreCase(name)) {\r\n                  description.set(l.getDescription());\r\n                  return;\r\n                }});\r\n              });\r\n            });\r\n          });\r\n      }\r\n```\r\n\r\nwhere &quot;list&quot; is the actual response from the API.\r\n\r\nThanks","title":"How should I cache the response from another API?","body":"<p>Right now, I'm making three requests for an external API, and each time, I have to iterate through the responses and find what I have to. How can I cache the response from this external API, that has 3 different end points that I use?</p>\n<p>Here's the iteration:</p>\n<pre><code>      if(list.getData() != null) {\n        list.getData().stream().forEach(listItems -&gt; {\n        if(items.getAttributes().getItems() != null)\n          items.getAttributes().getItems().forEach(listItem -&gt; {\n          if(item.getListItems() != null)\n            item.getListItems().forEach(k -&gt; {\n              if(k.getItems() != null)\n              k.getItems().forEach( l -&gt; {\n                if (l.getName().equalsIgnoreCase(name)) {\n                  description.set(l.getDescription());\n                  return;\n                }});\n              });\n            });\n          });\n      }\n</code></pre>\n<p>where &quot;list&quot; is the actual response from the API.</p>\n<p>Thanks</p>\n"},{"tags":["java","xml","soap","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649941375,"creation_date":1649941375,"answer_id":71872104,"question_id":64975165,"body_markdown":"As long as you&#39;re not getting `text/html` as a response, you can use my answer on this question to rewrite the content type:\r\nhttps://stackoverflow.com/questions/41951193/jax-ws-unsupported-media-exception-content-type-from-server-side/\r\n\r\nOr if possible you could use a reverse proxy as described here: https://stackoverflow.com/questions/64866031/soap-unsupported-media-exception-text-plain-supported-ones-are-text-xml","title":"Modifying standard JAX-WS application client to make it accept text/plain as text/xml","body":"<p>As long as you're not getting <code>text/html</code> as a response, you can use my answer on this question to rewrite the content type:\n<a href=\"https://stackoverflow.com/questions/41951193/jax-ws-unsupported-media-exception-content-type-from-server-side/\">jax-ws: unsupported Media Exception content-type from server side</a></p>\n<p>Or if possible you could use a reverse proxy as described here: <a href=\"https://stackoverflow.com/questions/64866031/soap-unsupported-media-exception-text-plain-supported-ones-are-text-xml\">SOAP unsupported media exception text/plain Supported ones are: [text/xml]</a></p>\n"}],"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649941375,"creation_date":1606160057,"question_id":64975165,"body_markdown":"In our project we have the following jax-ws application client (there are many more methods so I just added the one we&#39;re having issues with):\r\n\r\n    @WebService(\r\n       name = &quot;SMEVMessageExchangePortType&quot;,\r\n       targetNamespace = &quot;urn://x-artefacts-smev-gov-ru/services/message-exchange/1.1&quot;\r\n    )\r\n    @SOAPBinding(\r\n       parameterStyle = ParameterStyle.BARE\r\n    )\r\n    public interface SMEVMessageExchangePortType {\r\n    \r\n       @WebResult(\r\n          name = &quot;GetRequestResponse&quot;,\r\n          targetNamespace = &quot;urn://x-artefacts-smev-gov-ru/services/message-exchange/types/1.1&quot;,\r\n          partName = &quot;parameters&quot;\r\n       )\r\n       @Produces\r\n       GetRequestResponse getRequest(@WebParam(name = &quot;GetRequestRequest&quot;,targetNamespace = &quot;urn://x-artefacts-smev-gov-ru/services/message-exchange/types/1.1&quot;,partName = &quot;parameters&quot;) GetRequestRequest var1) throws InvalidContentException, SMEVFailureException, SenderIsNotRegisteredException, SignatureVerificationFaultException, UnknownMessageTypeException;\r\n    \r\n    }\r\n\r\nIt worked fine untill recently we started getting responses as `text/plain` not as `text/xml`\r\n\r\nIt led to the following exception:\r\n\r\n    com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type: text/plain;charset=utf-8 Supported ones are: [text/xml]\r\n\r\nMy question is whether it&#39;s possible to modify the code to treat any given `text/plain` response as `text/xml`\r\n\r\nIdeally to have something similar to `@Produces` and `@Consumes` just like in JAX-RS\r\n\r\nIf not, maybe we could use a third-party SOAP library which implements that behaviour? ","title":"Modifying standard JAX-WS application client to make it accept text/plain as text/xml","body":"<p>In our project we have the following jax-ws application client (there are many more methods so I just added the one we're having issues with):</p>\n<pre><code>@WebService(\n   name = &quot;SMEVMessageExchangePortType&quot;,\n   targetNamespace = &quot;urn://x-artefacts-smev-gov-ru/services/message-exchange/1.1&quot;\n)\n@SOAPBinding(\n   parameterStyle = ParameterStyle.BARE\n)\npublic interface SMEVMessageExchangePortType {\n\n   @WebResult(\n      name = &quot;GetRequestResponse&quot;,\n      targetNamespace = &quot;urn://x-artefacts-smev-gov-ru/services/message-exchange/types/1.1&quot;,\n      partName = &quot;parameters&quot;\n   )\n   @Produces\n   GetRequestResponse getRequest(@WebParam(name = &quot;GetRequestRequest&quot;,targetNamespace = &quot;urn://x-artefacts-smev-gov-ru/services/message-exchange/types/1.1&quot;,partName = &quot;parameters&quot;) GetRequestRequest var1) throws InvalidContentException, SMEVFailureException, SenderIsNotRegisteredException, SignatureVerificationFaultException, UnknownMessageTypeException;\n\n}\n</code></pre>\n<p>It worked fine untill recently we started getting responses as <code>text/plain</code> not as <code>text/xml</code></p>\n<p>It led to the following exception:</p>\n<pre><code>com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type: text/plain;charset=utf-8 Supported ones are: [text/xml]\n</code></pre>\n<p>My question is whether it's possible to modify the code to treat any given <code>text/plain</code> response as <code>text/xml</code></p>\n<p>Ideally to have something similar to <code>@Produces</code> and <code>@Consumes</code> just like in JAX-RS</p>\n<p>If not, maybe we could use a third-party SOAP library which implements that behaviour?</p>\n"},{"tags":["java","dependencies","maven-3"],"answers":[{"tags":[],"owner":{"account_id":1692104,"reputation":3160,"user_id":1554255,"display_name":"Andrey Borisov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1649941200,"creation_date":1343644611,"answer_id":11719764,"question_id":11719687,"body_markdown":"you can either install jar manually into local repository http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html or set the file storage path to dependency like\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.3dpaty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;abc&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.3&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;lib/3party.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;","title":"how to add a local jar as a dependency to a maven project?","body":"<p>you can either install jar manually into local repository <a href=\"http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a> or set the file storage path to dependency like</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.3dpaty&lt;/groupId&gt;\n    &lt;artifactId&gt;abc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.3&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;lib/3party.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1343644835,"creation_date":1343644835,"answer_id":11719829,"question_id":11719687,"body_markdown":"You&#39;ll need to add the jar to your maven local repository.\r\n\r\n    mvn install:install-file -Dfile=/path/to/ssj.jar -DgroupId=ca.umontreal.iro -DartifactId=ssj -Dversion=2.5 -Dpackaging=jar\r\n\r\n(Change /path/to/ssj.jar to the path of the the file in your computer)\r\n\r\nThis will make it possible for Maven to resolve this JAR from the local repository using the dependency defined above, when you are building your application.","title":"how to add a local jar as a dependency to a maven project?","body":"<p>You'll need to add the jar to your maven local repository.</p>\n\n<pre><code>mvn install:install-file -Dfile=/path/to/ssj.jar -DgroupId=ca.umontreal.iro -DartifactId=ssj -Dversion=2.5 -Dpackaging=jar\n</code></pre>\n\n<p>(Change /path/to/ssj.jar to the path of the the file in your computer)</p>\n\n<p>This will make it possible for Maven to resolve this JAR from the local repository using the dependency defined above, when you are building your application.</p>\n"}],"owner":{"account_id":403210,"reputation":7827,"user_id":770834,"accept_rate":70,"display_name":"Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16391,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11719829,"answer_count":2,"score":4,"last_activity_date":1649941200,"creation_date":1343644288,"question_id":11719687,"body_markdown":"I am new to Maven and I want to add [SSJ][1] library to dependencies in a maven project, I tried adding this in the POM.xml:\r\n\r\n      &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ca.umontreal.iro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssj&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nbut eclipse is giving this error: &lt;code&gt;Missing artifact ca.umontreal.iro:ssj-2.5&lt;/code&gt;\r\n\r\nIt seems that it&#39;s not found in the repository.. I have the jar file, how can I add it to dependencies? if possible. If not, what would be the alternative to include this jar in the project?\r\n\r\n  [1]: http://www.iro.umontreal.ca/~simardr/ssj/indexe.html","title":"how to add a local jar as a dependency to a maven project?","body":"<p>I am new to Maven and I want to add <a href=\"http://www.iro.umontreal.ca/~simardr/ssj/indexe.html\" rel=\"nofollow\">SSJ</a> library to dependencies in a maven project, I tried adding this in the POM.xml:</p>\n\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;ca.umontreal.iro&lt;/groupId&gt;\n        &lt;artifactId&gt;ssj&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>but eclipse is giving this error: <code>Missing artifact ca.umontreal.iro:ssj-2.5</code></p>\n\n<p>It seems that it's not found in the repository.. I have the jar file, how can I add it to dependencies? if possible. If not, what would be the alternative to include this jar in the project?</p>\n"},{"tags":["java","arrays","json","groovy","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649936889,"creation_date":1649936889,"answer_id":71871139,"question_id":71869208,"body_markdown":"```\r\nimport groovy.json.*\r\n\r\ndef json = new JsonSlurper().parseText &#39;&#39;&#39;[\r\n  {\r\n    &quot;Name&quot;: &quot;ABC&quot;,\r\n    &quot;ID&quot;: 1,\r\n    &quot;StartDate&quot;: 1444845395112,\r\n    &quot;EndDate&quot;: null,\r\n    &quot;ValueAction&quot;: null,\r\n    &quot;ValueSource&quot;: &quot;lmn&quot;\r\n  },\r\n  {\r\n    &quot;Name&quot;: &quot;PQR&quot;,\r\n    &quot;ID&quot;: 2,\r\n    &quot;StartDate&quot;: 1444845395119,\r\n    &quot;EndDate&quot;: 1446845395119,\r\n    &quot;ValueAction&quot;: null,\r\n    &quot;ValueSource&quot;: null\r\n  },\r\n  {\r\n    &quot;Name&quot;: &quot;XYZ&quot;,\r\n    &quot;ID&quot;: 3,\r\n    &quot;StartDate&quot;: null,\r\n    &quot;EndDate&quot;: null,\r\n    &quot;ValueAction&quot;: &quot;qwe&quot;,\r\n    &quot;ValueSource&quot;: &quot;lmn&quot;\r\n  }\r\n]\r\n&#39;&#39;&#39;\r\n\r\ndef res = json.findResults{ it.StartDate ? [ it.Name, it.ID, it.ValueAction ?: &#39;&#39;, it.ValueSource ] : null }\r\n\r\nassert res.toString() == &#39;[[ABC, 1, , lmn], [PQR, 2, , null]]&#39;\r\n```\r\n\r\nNext time please post the valid JSON.","title":"Convert JSON array to Object Array - Apache camel","body":"<pre><code>import groovy.json.*\n\ndef json = new JsonSlurper().parseText '''[\n  {\n    &quot;Name&quot;: &quot;ABC&quot;,\n    &quot;ID&quot;: 1,\n    &quot;StartDate&quot;: 1444845395112,\n    &quot;EndDate&quot;: null,\n    &quot;ValueAction&quot;: null,\n    &quot;ValueSource&quot;: &quot;lmn&quot;\n  },\n  {\n    &quot;Name&quot;: &quot;PQR&quot;,\n    &quot;ID&quot;: 2,\n    &quot;StartDate&quot;: 1444845395119,\n    &quot;EndDate&quot;: 1446845395119,\n    &quot;ValueAction&quot;: null,\n    &quot;ValueSource&quot;: null\n  },\n  {\n    &quot;Name&quot;: &quot;XYZ&quot;,\n    &quot;ID&quot;: 3,\n    &quot;StartDate&quot;: null,\n    &quot;EndDate&quot;: null,\n    &quot;ValueAction&quot;: &quot;qwe&quot;,\n    &quot;ValueSource&quot;: &quot;lmn&quot;\n  }\n]\n'''\n\ndef res = json.findResults{ it.StartDate ? [ it.Name, it.ID, it.ValueAction ?: '', it.ValueSource ] : null }\n\nassert res.toString() == '[[ABC, 1, , lmn], [PQR, 2, , null]]'\n</code></pre>\n<p>Next time please post the valid JSON.</p>\n"}],"owner":{"account_id":3375219,"reputation":425,"user_id":2833476,"accept_rate":75,"display_name":"DummyGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71871139,"answer_count":1,"score":0,"last_activity_date":1649941015,"creation_date":1649927693,"question_id":71869208,"body_markdown":"    [\r\n      {\r\n        &quot;Name&quot;: &quot;ABC&quot;, \r\n        &quot;ID&quot;: 1,\r\n        &quot;StartDate&quot;: 1444845395112,\r\n        &quot;EndDate&quot;: null,\r\n        &quot;ValueAction&quot;: null,\r\n        &quot;ValueSource&quot;: &quot;lmn&quot;\r\n      }, \r\n      {\r\n        &quot;Name&quot;: &quot;PQR&quot;, \r\n        &quot;ID&quot;: 2,\r\n        &quot;StartDate&quot;: 1444845395119,\r\n        &quot;EndDate&quot;: 1446845395119,\r\n        &quot;ValueAction&quot;: null,\r\n        &quot;ValueSource&quot;: null\r\n      }, \r\n      {\r\n        &quot;Name&quot;: &quot;XYZ&quot;, \r\n        &quot;ID&quot;: 3,\r\n        &quot;StartDate&quot;: null,\r\n        &quot;EndDate&quot;: null,\r\n        &quot;ValueAction&quot;: &quot;qwe&quot;,\r\n        &quot;ValueSource&quot;: &quot;lmn&quot;\r\n      }\r\n    ]\r\n\r\n\r\nHow to create object array from this json using split with &#39;groovy script/java&#39;\r\n\r\n[Name, ID, ValueAction, ValueSource] here ValueAction/ValueSource should be null if StartDate is null. So array should be like this.\r\n\r\n     [[ABC,1, , lmn],[PQR,2, , ],[XYZ,3, , ]]","title":"Convert JSON array to Object Array - Apache camel","body":"<pre><code>[\n  {\n    &quot;Name&quot;: &quot;ABC&quot;, \n    &quot;ID&quot;: 1,\n    &quot;StartDate&quot;: 1444845395112,\n    &quot;EndDate&quot;: null,\n    &quot;ValueAction&quot;: null,\n    &quot;ValueSource&quot;: &quot;lmn&quot;\n  }, \n  {\n    &quot;Name&quot;: &quot;PQR&quot;, \n    &quot;ID&quot;: 2,\n    &quot;StartDate&quot;: 1444845395119,\n    &quot;EndDate&quot;: 1446845395119,\n    &quot;ValueAction&quot;: null,\n    &quot;ValueSource&quot;: null\n  }, \n  {\n    &quot;Name&quot;: &quot;XYZ&quot;, \n    &quot;ID&quot;: 3,\n    &quot;StartDate&quot;: null,\n    &quot;EndDate&quot;: null,\n    &quot;ValueAction&quot;: &quot;qwe&quot;,\n    &quot;ValueSource&quot;: &quot;lmn&quot;\n  }\n]\n</code></pre>\n<p>How to create object array from this json using split with 'groovy script/java'</p>\n<p>[Name, ID, ValueAction, ValueSource] here ValueAction/ValueSource should be null if StartDate is null. So array should be like this.</p>\n<pre><code> [[ABC,1, , lmn],[PQR,2, , ],[XYZ,3, , ]]\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649875609,"post_id":71862323,"comment_id":126989210,"body_markdown":"Not sure what you&#39;re trying to achieve here.  You&#39;ve specified that nothing should happen when you call `updateEnv`.  Then you&#39;re calling `updateEnv`, and presumably nothing is happening.  What&#39;s actually going wrong for you?","body":"Not sure what you&#39;re trying to achieve here.  You&#39;ve specified that nothing should happen when you call <code>updateEnv</code>.  Then you&#39;re calling <code>updateEnv</code>, and presumably nothing is happening.  What&#39;s actually going wrong for you?"},{"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"score":0,"creation_date":1649876063,"post_id":71862323,"comment_id":126989357,"body_markdown":"i removed doNothing, still noluck. I want to increase the code coverage.","body":"i removed doNothing, still noluck. I want to increase the code coverage."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1649876641,"post_id":71862323,"comment_id":126989532,"body_markdown":"Sorry, I don&#39;t understand you.  You want to run the method, or you don&#39;t?","body":"Sorry, I don&#39;t understand you.  You want to run the method, or you don&#39;t?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1649888863,"post_id":71862323,"comment_id":126992832,"body_markdown":"After reading combination of mock and static I can assume that it is a design issue","body":"After reading combination of mock and static I can assume that it is a design issue"}],"answers":[{"tags":[],"owner":{"account_id":6544505,"reputation":176,"user_id":5060934,"display_name":"Juanvi Bolufer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649940831,"creation_date":1649886923,"answer_id":71864209,"question_id":71862323,"body_markdown":"When you mock the constructor, then all internal method calls are also mocked and do not go through the actual code.\r\n\r\nIf you remove the following try-with-resources:\r\n\r\n    try (MockedConstruction mockedConstruction =\r\n                     mockConstruction(A.B.class))\r\n\r\nThe real code will be executed and the coverage will increase.\r\n","title":"Java: How to Mock a protected method inside a static child class","body":"<p>When you mock the constructor, then all internal method calls are also mocked and do not go through the actual code.</p>\n<p>If you remove the following try-with-resources:</p>\n<pre><code>try (MockedConstruction mockedConstruction =\n                 mockConstruction(A.B.class))\n</code></pre>\n<p>The real code will be executed and the coverage will increase.</p>\n"}],"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71864209,"answer_count":1,"score":0,"last_activity_date":1649940831,"creation_date":1649874637,"question_id":71862323,"body_markdown":"I am having a protected method inside a static child class. I am running a testcase , its getting successful but code coverage is not increasing.\r\n\r\n    public class A{\r\n        private static final String var1 = &quot;key1&quot;;\r\n        protected static class B extends OsCmd{\r\n            private String abc1;\r\n            private String abc2;\r\n            protected B(String xyz, String xyz2) {\r\n                this.abc1 = xyz;\r\n                this.abc2 = xyz2;\r\n            }\r\n            @Override\r\n            protected void updateEnv(Map&lt;String, String&gt; env) {\r\n                env.put(VAR1, &quot;FALSE&quot;);\r\n                env.put(VAR2, &quot;TRUE&quot;);\r\n\r\n                env.put(&quot;key3&quot;, abc1);\r\n                env.put(&quot;key4&quot;, abc2);\r\n        }\r\n    }\r\n    }\r\n\r\nBelow is my test case\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class ATest {\r\n    \r\n        private A mockA;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            mockA = Mockito.spy(A.class);\r\n        }\r\n        \r\n        @Test\r\n        public void test2() {\r\n        try (MockedConstruction mockedConstruction =\r\n                     mockConstruction(A.B.class)) {\r\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n            map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n            A.B mockB =\r\n                    new A.B(&quot;a&quot;, &quot;b&quot;);\r\n            //doNothing().when(mockB).updateEnv(map);\r\n            mockB.updateEnv(map);\r\n        }\r\n    }\r\n\r\n    }\r\n\r\n\r\nCan someone please help here, what mistake i am doing?","title":"Java: How to Mock a protected method inside a static child class","body":"<p>I am having a protected method inside a static child class. I am running a testcase , its getting successful but code coverage is not increasing.</p>\n<pre><code>public class A{\n    private static final String var1 = &quot;key1&quot;;\n    protected static class B extends OsCmd{\n        private String abc1;\n        private String abc2;\n        protected B(String xyz, String xyz2) {\n            this.abc1 = xyz;\n            this.abc2 = xyz2;\n        }\n        @Override\n        protected void updateEnv(Map&lt;String, String&gt; env) {\n            env.put(VAR1, &quot;FALSE&quot;);\n            env.put(VAR2, &quot;TRUE&quot;);\n\n            env.put(&quot;key3&quot;, abc1);\n            env.put(&quot;key4&quot;, abc2);\n    }\n}\n}\n</code></pre>\n<p>Below is my test case</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ATest {\n\n    private A mockA;\n\n    @BeforeEach\n    public void setup() {\n        mockA = Mockito.spy(A.class);\n    }\n    \n    @Test\n    public void test2() {\n    try (MockedConstruction mockedConstruction =\n                 mockConstruction(A.B.class)) {\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        map.put(&quot;key1&quot;, &quot;value1&quot;);\n        A.B mockB =\n                new A.B(&quot;a&quot;, &quot;b&quot;);\n        //doNothing().when(mockB).updateEnv(map);\n        mockB.updateEnv(map);\n    }\n}\n\n}\n</code></pre>\n<p>Can someone please help here, what mistake i am doing?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":2,"creation_date":1649939537,"post_id":71871434,"comment_id":127004495,"body_markdown":"First - you have the same assertion prior to the try-catch block so you have no chance of catching it.  Second - consider catching Throwable if you want to catch the assertion failure.  Third - why do you want less information from your test failure output?","body":"First - you have the same assertion prior to the try-catch block so you have no chance of catching it.  Second - consider catching Throwable if you want to catch the assertion failure.  Third - why do you want less information from your test failure output?"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1649938884,"creation_date":1649938661,"answer_id":71871473,"question_id":71871434,"body_markdown":"An `AssertionError` extends `Error` which implements `Throwable`. Your \r\n\r\n    catch(Exception e)\r\n\r\nis useless because the `AssertionError` is not an `Exception`.\r\n\r\nCatch it directly using `catch(AssertionError e)` if you must, but usually `Error`s are not supposed to be caught.\r\n\r\nIf you really want to force a call to `fail`, avoid the `assertEquals` and just use\r\n\r\n    if(sum != 9) {\r\n      fail(&quot;Are you sure you calculate the right numbers?&quot;);\r\n    }\r\n\r\nwhich avoids the AssertionError altogether.","title":"Why `fail` inside `catch(Exception ex)` handling `assertEquals` is not called?","body":"<p>An <code>AssertionError</code> extends <code>Error</code> which implements <code>Throwable</code>. Your</p>\n<pre><code>catch(Exception e)\n</code></pre>\n<p>is useless because the <code>AssertionError</code> is not an <code>Exception</code>.</p>\n<p>Catch it directly using <code>catch(AssertionError e)</code> if you must, but usually <code>Error</code>s are not supposed to be caught.</p>\n<p>If you really want to force a call to <code>fail</code>, avoid the <code>assertEquals</code> and just use</p>\n<pre><code>if(sum != 9) {\n  fail(&quot;Are you sure you calculate the right numbers?&quot;);\n}\n</code></pre>\n<p>which avoids the AssertionError altogether.</p>\n"}],"owner":{"account_id":24642641,"reputation":53,"user_id":18540664,"display_name":"bull19"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71871473,"answer_count":1,"score":1,"last_activity_date":1649940616,"creation_date":1649938479,"question_id":71871434,"body_markdown":"I had the question some minutes before but I want to try something else..\r\n\r\nFor Example I have this method:\r\n\r\n```\r\n//inside Number.java\r\npublic static int add(int nr1, int nr2) {\r\n\treturn nr2 + nr2;\r\n}\r\n\r\n```\r\nAs you see I return number2 + number2\r\n\r\nIn my Test I use that it would throw the error that it was expected 9 instead of the number which was calculate in the main method.\r\n\r\n```\r\n@Test\r\npublic void test() throws Exception {\r\n\tint nr1 = 4;\r\n\tint nr2 = 5;\r\n\tint sum = Number.add(nr1, nr2);\r\n    assertEquals(9, sum);\r\n}\r\n```\r\n\r\nI tried this now to get an message if the program fails but it doesn&#180;t with fail..\r\n\r\n```\r\n@Test\r\npublic void test() throws Exception {\r\n\tint nr1 = 4;\r\n\tint nr2 = 5;\r\n\tint sum = Number.add(nr1, nr2);\r\n\t\r\n\ttry {\r\n\t\tassertEquals(9, sum);\r\n\t}catch(Exception e) {\r\n\t\tfail(&quot;Are you sure you calculate the right numbers?&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nBut the program is only showing me the AssertionError not the Message in fail()\r\n\r\nI know now that I can use it this way:\r\n```\r\nassertEquals(&quot;...&quot;,9,sum);\r\n```\r\nbut I don&#39;t want this AssertionError:\r\n```\r\nexpected:&lt;&gt; but was &lt;&gt; \r\n```\r\nat the end\r\n\r\n","title":"Why `fail` inside `catch(Exception ex)` handling `assertEquals` is not called?","body":"<p>I had the question some minutes before but I want to try something else..</p>\n<p>For Example I have this method:</p>\n<pre><code>//inside Number.java\npublic static int add(int nr1, int nr2) {\n    return nr2 + nr2;\n}\n\n</code></pre>\n<p>As you see I return number2 + number2</p>\n<p>In my Test I use that it would throw the error that it was expected 9 instead of the number which was calculate in the main method.</p>\n<pre><code>@Test\npublic void test() throws Exception {\n    int nr1 = 4;\n    int nr2 = 5;\n    int sum = Number.add(nr1, nr2);\n    assertEquals(9, sum);\n}\n</code></pre>\n<p>I tried this now to get an message if the program fails but it doesn´t with fail..</p>\n<pre><code>@Test\npublic void test() throws Exception {\n    int nr1 = 4;\n    int nr2 = 5;\n    int sum = Number.add(nr1, nr2);\n    \n    try {\n        assertEquals(9, sum);\n    }catch(Exception e) {\n        fail(&quot;Are you sure you calculate the right numbers?&quot;);\n    }\n}\n</code></pre>\n<p>But the program is only showing me the AssertionError not the Message in fail()</p>\n<p>I know now that I can use it this way:</p>\n<pre><code>assertEquals(&quot;...&quot;,9,sum);\n</code></pre>\n<p>but I don't want this AssertionError:</p>\n<pre><code>expected:&lt;&gt; but was &lt;&gt; \n</code></pre>\n<p>at the end</p>\n"},{"tags":["java","graph","legend","jfreechart","points"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645101998,"post_id":71155445,"comment_id":125784682,"body_markdown":"Not entirely visualizing what you intend to do, but check if this helps: https://stackoverflow.com/questions/14979659/adding-legend-to-jfreechart","body":"Not entirely visualizing what you intend to do, but check if this helps: <a href=\"https://stackoverflow.com/questions/14979659/adding-legend-to-jfreechart\" title=\"adding legend to jfreechart\">stackoverflow.com/questions/14979659/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1645102412,"post_id":71155445,"comment_id":125784861,"body_markdown":"See also [`LegendTitle`](https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/title/LegendTitle.html). For more specific guidance, please [edit] your question to include a [mre] that shows your revised approach.","body":"See also <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/title/LegendTitle.html\" rel=\"nofollow noreferrer\"><code>LegendTitle</code></a>. For more specific guidance, please <a href=\"https://stackoverflow.com/posts/71155445/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1645204988,"post_id":71155445,"comment_id":125817660,"body_markdown":"More [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20LegendTitle).","body":"More <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20LegendTitle\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649940553,"creation_date":1649940553,"answer_id":71871916,"question_id":71155445,"body_markdown":"Here is some possible solution how to add static legend.\r\n```\r\npublic void test() {\r\n    //XYPlot p1 = new XYPlot(null, new NumberAxis(&quot;Domain Axis&quot;),\r\n    //        new NumberAxis(&quot;Range Axis&quot;), new StandardXYItemRenderer());\r\n    XYPlot categoryPlot = chart.getXYPlot();\r\n\r\n    LegendItemCollection c1 = categoryPlos.getLegendItems();\r\n    c1.add(new LegendItem(&quot;X&quot;));\r\n    p1.setFixedLegendItems(c1);\r\n  \r\n\r\n}\r\n\r\n```\r\nResource: https://www.programcreek.com/java-api-examples/?api=org.jfree.chart.LegendItem ","title":"JFreeChart how to manually add the legend into plot graph","body":"<p>Here is some possible solution how to add static legend.</p>\n<pre><code>public void test() {\n    //XYPlot p1 = new XYPlot(null, new NumberAxis(&quot;Domain Axis&quot;),\n    //        new NumberAxis(&quot;Range Axis&quot;), new StandardXYItemRenderer());\n    XYPlot categoryPlot = chart.getXYPlot();\n\n    LegendItemCollection c1 = categoryPlos.getLegendItems();\n    c1.add(new LegendItem(&quot;X&quot;));\n    p1.setFixedLegendItems(c1);\n  \n\n}\n\n</code></pre>\n<p>Resource: <a href=\"https://www.programcreek.com/java-api-examples/?api=org.jfree.chart.LegendItem\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=org.jfree.chart.LegendItem</a></p>\n"}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71871916,"answer_count":1,"score":0,"last_activity_date":1649940553,"creation_date":1645090056,"question_id":71155445,"body_markdown":"I have used JFreeChart library in java to draw one line with points ie. plot.\r\n\r\nThe points have two kind of color - green or blue. Below is some sample with different colors.\r\nI would like to display two legend for this one single line because of different color.\r\nIs it possible?\r\n\r\nI know that with two lines (green and blue) this should be simply solved with two legends but this is not our case. With this approach the JFreeChart offers some option to automatically generate the legends as below code.\r\n```\r\nprivate void myMethod () {\r\n JFreeChart j = new JFreeChart(title, titleFont, plot, createLegend);\r\n}\r\n```\r\nThanks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SFpeK.png","title":"JFreeChart how to manually add the legend into plot graph","body":"<p>I have used JFreeChart library in java to draw one line with points ie. plot.</p>\n<p>The points have two kind of color - green or blue. Below is some sample with different colors.\nI would like to display two legend for this one single line because of different color.\nIs it possible?</p>\n<p>I know that with two lines (green and blue) this should be simply solved with two legends but this is not our case. With this approach the JFreeChart offers some option to automatically generate the legends as below code.</p>\n<pre><code>private void myMethod () {\n JFreeChart j = new JFreeChart(title, titleFont, plot, createLegend);\n}\n</code></pre>\n<p>Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/SFpeK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SFpeK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":5635473,"reputation":188,"user_id":4461091,"accept_rate":80,"display_name":"Laxminarayan"},"score":0,"creation_date":1571766154,"post_id":58509634,"comment_id":103347116,"body_markdown":"I think you can do something like this. Make a loop from 0 to 9 and make a call. If you get success then break a loop and go ahead with result else iterate through it. If it is not returning somthing in 10 calls then why should you call that method and waste your time.","body":"I think you can do something like this. Make a loop from 0 to 9 and make a call. If you get success then break a loop and go ahead with result else iterate through it. If it is not returning somthing in 10 calls then why should you call that method and waste your time."},{"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"score":0,"creation_date":1571766392,"post_id":58509634,"comment_id":103347197,"body_markdown":"Possible duplicate of [Retry java RestTemplate HTTP request if host offline](https://stackoverflow.com/questions/32352484/retry-java-resttemplate-http-request-if-host-offline)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/32352484/retry-java-resttemplate-http-request-if-host-offline\">Retry java RestTemplate HTTP request if host offline</a>"},{"owner":{"account_id":1706388,"reputation":61,"user_id":1565356,"display_name":"Dilshan Niroda"},"score":0,"creation_date":1571766589,"post_id":58509634,"comment_id":103347299,"body_markdown":"Its not like a good approach. i&#39;ve already implemented these methods. I need to do this by minimizing the modifications for current implementations. If we add this retry for resttemplate using common configuration, then i maybe not need modify the current implementation","body":"Its not like a good approach. i&#39;ve already implemented these methods. I need to do this by minimizing the modifications for current implementations. If we add this retry for resttemplate using common configuration, then i maybe not need modify the current implementation"}],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1597917668,"creation_date":1571766504,"answer_id":58509790,"question_id":58509634,"body_markdown":"Spring provides a retry mechanism with **@Retry** annotations. You have to use the following dependency.\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSpring provides the following annotations.\r\n\r\nSpring retry annotations\r\n\r\n**@EnableRetry** – to enable spring retry in spring boot project\r\n\r\n**@Retryable** – to indicate any method to be a candidate of retry\r\n\r\n**@Recover** – to specify fallback method\r\n\r\n\r\nI provide below the sample code.\r\n\r\n    @Configuration\r\n    @EnableRetry\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n    }\r\n\r\nYou can refer the complete example to know more about it.\r\n\r\n- [Spring retry module](https://howtodoinjava.com/spring-boot2/spring-retry-module/)\r\n- [Spring retry](https://www.baeldung.com/spring-retry  )\r\n- [spring retry way to handle failures](https://dzone.com/articles/spring-retry-way-to-handle-failures)","title":"How implement a retry mechanism for restTemplate","body":"<p>Spring provides a retry mechanism with <strong>@Retry</strong> annotations. You have to use the following dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n    &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Spring provides the following annotations.</p>\n<p>Spring retry annotations</p>\n<p><strong>@EnableRetry</strong> – to enable spring retry in spring boot project</p>\n<p><strong>@Retryable</strong> – to indicate any method to be a candidate of retry</p>\n<p><strong>@Recover</strong> – to specify fallback method</p>\n<p>I provide below the sample code.</p>\n<pre><code>@Configuration\n@EnableRetry\n@SpringBootApplication\npublic class MyApplication {\n}\n</code></pre>\n<p>You can refer the complete example to know more about it.</p>\n<ul>\n<li><a href=\"https://howtodoinjava.com/spring-boot2/spring-retry-module/\" rel=\"noreferrer\">Spring retry module</a></li>\n<li><a href=\"https://www.baeldung.com/spring-retry\" rel=\"noreferrer\">Spring retry</a></li>\n<li><a href=\"https://dzone.com/articles/spring-retry-way-to-handle-failures\" rel=\"noreferrer\">spring retry way to handle failures</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18610917,"reputation":111,"user_id":13563358,"display_name":"A.K."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1589754046,"creation_date":1589752172,"answer_id":61859281,"question_id":58509634,"body_markdown":"You may add retry mechanism inside `HttpClient` and use it for `RestTemplate`, somethng like this:\r\n\r\n    @Bean\r\n    public ClientHttpRequestFactory clientFactory() {\r\n        HttpClient httpClient = HttpClients.custom()            \r\n            .setRetryHandler((exception, executionCount, context) -&gt; {\r\n                if (executionCount &gt; 3) {\r\n                    log.warn(&quot;Maximum retries {} reached&quot;, 3);\r\n                    return false;\r\n                }\r\n                if (&lt;some condition for retry&gt;) {\r\n                    log.warn(&quot;Retry {}&quot;, executionCount);\r\n                    return true;\r\n                }\r\n                return false;\r\n            })\r\n            .build();\r\n\r\n        return new HttpComponentsClientHttpRequestFactory(httpClient);\r\n    }\r\n    @Bean\r\n    public RestTemplate customRestTemplate(@Qualifier(&quot;clientFactory&quot;) ClientHttpRequestFactory clientFactory){ \r\n        return new RestTemplate(clientFactory);\r\n    }\r\n\r\n","title":"How implement a retry mechanism for restTemplate","body":"<p>You may add retry mechanism inside <code>HttpClient</code> and use it for <code>RestTemplate</code>, somethng like this:</p>\n\n<pre><code>@Bean\npublic ClientHttpRequestFactory clientFactory() {\n    HttpClient httpClient = HttpClients.custom()            \n        .setRetryHandler((exception, executionCount, context) -&gt; {\n            if (executionCount &gt; 3) {\n                log.warn(\"Maximum retries {} reached\", 3);\n                return false;\n            }\n            if (&lt;some condition for retry&gt;) {\n                log.warn(\"Retry {}\", executionCount);\n                return true;\n            }\n            return false;\n        })\n        .build();\n\n    return new HttpComponentsClientHttpRequestFactory(httpClient);\n}\n@Bean\npublic RestTemplate customRestTemplate(@Qualifier(\"clientFactory\") ClientHttpRequestFactory clientFactory){ \n    return new RestTemplate(clientFactory);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13620659,"reputation":1129,"user_id":9825290,"display_name":"Basharat Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649940239,"creation_date":1649940239,"answer_id":71871844,"question_id":58509634,"body_markdown":"for rest api call you can implement the retry mechanism on the client level where actual rest call going\r\n\r\n     @Retryable(value = Exception.class, maxAttemptsExpression = &quot;${retry.maxAttempts}&quot;, backoff = @Backoff(delayExpression = &quot;${retry.maxDelay}&quot;))\r\n        public Optional&lt;T&gt; getApiCall(String url, String token, Class&lt;T&gt; resClass) {\r\n            ResponseEntity&lt;T&gt; response = null;\r\n            try {\r\n                logger.info(url);\r\n                // create headers\r\n                HttpHeaders headers = new HttpHeaders();\r\n                // set `accept` header\r\n                headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n                headers.setBearerAuth(token);\r\n                // set custom header\r\n                // headers.set(&quot;x-request-src&quot;, &quot;desktop&quot;);\r\n                // build the request\r\n                HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;&quot;, headers);\r\n                // use exchange method for HTTP call\r\n                try {\r\n                    response = this.restTemplate.exchange(url, HttpMethod.GET, entity, resClass, 1);\r\n                } catch (HttpStatusCodeException e) {\r\n                    return errorService.throwException(HttpStatus.NOT_FOUND, EKDError.LIFPRO406);\r\n                }\r\n                if (response.getStatusCode() == HttpStatus.OK) {\r\n                    return Optional.ofNullable(response.getBody());\r\n                } else {\r\n                    return errorService.throwException(HttpStatus.NOT_FOUND, EKDError.LIFPRO406);\r\n                }\r\n            } catch (HttpClientErrorException | HttpServerErrorException e) {\r\n                logger.error(&quot;Exception in api call : &quot;, e);\r\n                return errorService.throwException(HttpStatus.INTERNAL_SERVER_ERROR, EKDError.LIFPRO407);\r\n            }\r\n        }\r\n\r\n\r\nnow  max attempts and delay is configurable set application.properties maxAttemptsExpression = &quot;${retry.maxAttempts}&quot;, backoff = @Backoff(delayExpression = &quot;${retry.maxDelay}&quot;  ","title":"How implement a retry mechanism for restTemplate","body":"<p>for rest api call you can implement the retry mechanism on the client level where actual rest call going</p>\n<pre><code> @Retryable(value = Exception.class, maxAttemptsExpression = &quot;${retry.maxAttempts}&quot;, backoff = @Backoff(delayExpression = &quot;${retry.maxDelay}&quot;))\n    public Optional&lt;T&gt; getApiCall(String url, String token, Class&lt;T&gt; resClass) {\n        ResponseEntity&lt;T&gt; response = null;\n        try {\n            logger.info(url);\n            // create headers\n            HttpHeaders headers = new HttpHeaders();\n            // set `accept` header\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n            headers.setBearerAuth(token);\n            // set custom header\n            // headers.set(&quot;x-request-src&quot;, &quot;desktop&quot;);\n            // build the request\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;&quot;, headers);\n            // use exchange method for HTTP call\n            try {\n                response = this.restTemplate.exchange(url, HttpMethod.GET, entity, resClass, 1);\n            } catch (HttpStatusCodeException e) {\n                return errorService.throwException(HttpStatus.NOT_FOUND, EKDError.LIFPRO406);\n            }\n            if (response.getStatusCode() == HttpStatus.OK) {\n                return Optional.ofNullable(response.getBody());\n            } else {\n                return errorService.throwException(HttpStatus.NOT_FOUND, EKDError.LIFPRO406);\n            }\n        } catch (HttpClientErrorException | HttpServerErrorException e) {\n            logger.error(&quot;Exception in api call : &quot;, e);\n            return errorService.throwException(HttpStatus.INTERNAL_SERVER_ERROR, EKDError.LIFPRO407);\n        }\n    }\n</code></pre>\n<p>now  max attempts and delay is configurable set application.properties maxAttemptsExpression = &quot;${retry.maxAttempts}&quot;, backoff = @Backoff(delayExpression = &quot;${retry.maxDelay}&quot;</p>\n"}],"owner":{"account_id":1706388,"reputation":61,"user_id":1565356,"display_name":"Dilshan Niroda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22062,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1649940239,"creation_date":1571765842,"question_id":58509634,"body_markdown":"I&#39;ve implemented a java method which call to external services via a Resttemplate. As well,  i&#39;ve implemented some additional business logic   also inside that method. How can i implement a retry mechanism for these rest calls. Need to consider below points as well.\r\n\r\n1. I cannot add a retry for entire method.\r\n2. It&#39;s better to add retry for rest calls(via resttemplate).\r\n3. There should be a way disable retry options for unwanted rest calls.  \r\n","title":"How implement a retry mechanism for restTemplate","body":"<p>I've implemented a java method which call to external services via a Resttemplate. As well,  i've implemented some additional business logic   also inside that method. How can i implement a retry mechanism for these rest calls. Need to consider below points as well.</p>\n\n<ol>\n<li>I cannot add a retry for entire method.</li>\n<li>It's better to add retry for rest calls(via resttemplate).</li>\n<li>There should be a way disable retry options for unwanted rest calls.  </li>\n</ol>\n"},{"tags":["java","web-services","jax-ws"],"comments":[{"owner":{"account_id":2046719,"reputation":1734,"user_id":1826647,"display_name":"JChrist"},"score":0,"creation_date":1485845888,"post_id":41951193,"comment_id":71082251,"body_markdown":"perhaps I&#39;m mistaken, but the request from your client seems valid, the problem is the response from the server, which does not have content -type and it contains invalid SOAP XML (see missing soap header tags, and body start tag). The error is not in the client then, it&#39;s on the server.","body":"perhaps I&#39;m mistaken, but the request from your client seems valid, the problem is the response from the server, which does not have content -type and it contains invalid SOAP XML (see missing soap header tags, and body start tag). The error is not in the client then, it&#39;s on the server."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":0,"creation_date":1485846003,"post_id":41951193,"comment_id":71082300,"body_markdown":"yes, it is on server side which I am aware of. I am trying to add content-type header to response object I get back from server. but before my handler, exception is thrown","body":"yes, it is on server side which I am aware of. I am trying to add content-type header to response object I get back from server. but before my handler, exception is thrown"},{"owner":{"account_id":2046719,"reputation":1734,"user_id":1826647,"display_name":"JChrist"},"score":1,"creation_date":1485846133,"post_id":41951193,"comment_id":71082354,"body_markdown":"ooh, so you&#39;re kinda trying to _fix_ incoming invalid soap? having to communicate through SOAP is troublesome itself, having to do magic like yours is *deep*! Good luck :)","body":"ooh, so you&#39;re kinda trying to <i>fix</i> incoming invalid soap? having to communicate through SOAP is troublesome itself, having to do magic like yours is <i>deep</i>! Good luck :)"}],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649940147,"creation_date":1649940147,"answer_id":71871823,"question_id":41951193,"body_markdown":"You can add a custom `com.sun.xml.internal.ws.api.pipe.TransportTubeFactory` to access the `Codec.decode` call in `HttpTransportPipe`; see the last part of my answer on this question: https://stackoverflow.com/questions/52446318/unsupportedmediaexception-how-do-you-get-the-actual-response/\r\n\r\nIn that question we were more interested in the body of the &#39;faulty&#39; response, but you can use the Codec wrapper just as easily to overrule the `Content-Type`:\r\n\r\nSnippet from my CodecWrapper:\r\n```\r\n    @Override\r\n    public void decode(InputStream in, String contentType, Packet response) throws IOException {\r\n        // TODO: here you can access / change any of the parameters before sending it to the actual SOAP Codec\r\n        wrapped.decode(in, contentType, response);\r\n    }\r\n```\r\n\r\nSome remarks: \r\n- i&#39;ve written the referenced answer for jaxws-rt, and according to your error message you&#39;re using the JRE internal version. It should work the same though. The only difference is the package names.\r\n- you&#39;re lucky the content-type is null, otherwise you would get a `ClientTransportException` that is much harder to circumvent (without copying a lot of code from HttpTransportPipe)\r\n- if you can find an easier way to proxy your HTTP traffic and re-write the Content-Type that way, that would be neater. See for example the accepted answer here: https://stackoverflow.com/questions/64866031/soap-unsupported-media-exception-text-plain-supported-ones-are-text-xml on how to use Apache httpd as a reverse proxy","title":"jax-ws: unsupported Media Exception content-type from server side","body":"<p>You can add a custom <code>com.sun.xml.internal.ws.api.pipe.TransportTubeFactory</code> to access the <code>Codec.decode</code> call in <code>HttpTransportPipe</code>; see the last part of my answer on this question: <a href=\"https://stackoverflow.com/questions/52446318/unsupportedmediaexception-how-do-you-get-the-actual-response/\">UnsupportedMediaException -&gt; how do you get the actual response?</a></p>\n<p>In that question we were more interested in the body of the 'faulty' response, but you can use the Codec wrapper just as easily to overrule the <code>Content-Type</code>:</p>\n<p>Snippet from my CodecWrapper:</p>\n<pre><code>    @Override\n    public void decode(InputStream in, String contentType, Packet response) throws IOException {\n        // TODO: here you can access / change any of the parameters before sending it to the actual SOAP Codec\n        wrapped.decode(in, contentType, response);\n    }\n</code></pre>\n<p>Some remarks:</p>\n<ul>\n<li>i've written the referenced answer for jaxws-rt, and according to your error message you're using the JRE internal version. It should work the same though. The only difference is the package names.</li>\n<li>you're lucky the content-type is null, otherwise you would get a <code>ClientTransportException</code> that is much harder to circumvent (without copying a lot of code from HttpTransportPipe)</li>\n<li>if you can find an easier way to proxy your HTTP traffic and re-write the Content-Type that way, that would be neater. See for example the accepted answer here: <a href=\"https://stackoverflow.com/questions/64866031/soap-unsupported-media-exception-text-plain-supported-ones-are-text-xml\">SOAP unsupported media exception text/plain Supported ones are: [text/xml]</a> on how to use Apache httpd as a reverse proxy</li>\n</ul>\n"}],"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2271,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649940147,"creation_date":1485844868,"question_id":41951193,"body_markdown":"my soap client is making successful request and getting 200 OK from soap server. However, the application is erroring due to missing content-type header. I tried to add content-type header in handler but that is not even invoked (using debugger, I can see that method is never hit for inbound message but for outbound it is hit)\r\n\r\n\r\nHere is the handler code:\r\n\r\n\r\n    public class ClientHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n            public boolean handleMessage(SOAPMessageContext context) {\r\n                if ((Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY)) {\r\n                        System.out.println(&quot; here: in outbound call&quot;);\r\n                }\r\n    \r\n    \r\n                    if (!(Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY)) {\r\n                        Map&lt;String, List&lt;String&gt;&gt; headers = (Map&lt;String, List&lt;String&gt;&gt;)context.get(MessageContext.HTTP_RESPONSE_HEADERS);\r\n    \r\n                        List&lt;String&gt; value = new ArrayList&lt;String&gt;();\r\n                        value.add(&quot;text/xml&quot;);\r\n    \r\n                        if (headers != null) {\r\n                            headers.put(&quot;content-type&quot;, value);\r\n                        } else {\r\n                            Map&lt;String, List&lt;String&gt;&gt; brandNewHeaders = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n                            brandNewHeaders.put(&quot;content-type&quot;, value);\r\n                            context.put(MessageContext.HTTP_RESPONSE_HEADERS, brandNewHeaders);\r\n                        }\r\n                    }\r\n    \r\n                return true;\r\n    \r\n            }\r\n\r\n\r\nHere is how I attach my handler\r\n\r\n    WSGService service = new WSGService();\r\n            appPort =  service.getWSGHttpPort();\r\n            final Binding binding = ((BindingProvider) provisionPort).getBinding();\r\n            BindingProvider bp = (BindingProvider)provisionPort;\r\n            bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, provisionurl);\r\n            List&lt;Handler&gt; handlerList = new ArrayList&lt;&gt;();\r\n            handlerList.add(new ClientHandler());\r\n            binding.setHandlerChain(handlerList);\r\n\r\n\r\n\r\nHere is the log I get back for a successful call. NOTE empty content-type on response header, which is causing this error.\r\n\r\n\r\n    ---[HTTP request - https://foobar/url]---\r\n    Accept: [text/xml, multipart/related]\r\n    Content-Type: [text/xml; charset=utf-8]\r\n    SOAPAction: [&quot;/FOOBARWSG&quot;]\r\n    User-Agent: [JAX-WS RI 2.2.4-b01]\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;&lt;S:Body&gt;**BODY**&lt;/S:Body&gt;&lt;/S:Envelope&gt;--------------------\r\n    ---[HTTP response - https://foobar/url - 200]---\r\n    null: [HTTP/1.0 200 OK]\r\n    Access-Control-Allow-Headers: [Content-Type, Accept, Accept-Encoding, Content-Encoding, X-Client-UID, Authorization, X-Associated-Id]\r\n    Access-Control-Allow-Methods: [GET, POST, PUT, DELETE]\r\n    Access-Control-Allow-Origin: [*]\r\n    Access-Control-Expose-Headers: [WWW-Authenticate]\r\n    Connection: [close]\r\n    Content-Length: [2915]\r\n    content-type: []\r\n    Date: [Tue, 31 Jan 2017 06:24:05 GMT]\r\n    Server: [JBOSS Application Server]\r\n    X-WsgSource: [DUMMY,15,2017-01-31 06:24:05]\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;SOAP-ENV:Envelope xmlns&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;--------------------\r\n    22:24:07,605 ERROR ErrorPageFilter:180 - Forwarding to error page from request [/dummy/customerType/null] due to exception [Unsupported Content-Type:  Supported ones are: [text/xml]]\r\n    com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type:  Supported ones are: [text/xml]\r\n\r\n\r\n**EDIT**:\r\n\r\nwith more debugging, I was able to manually change content-type to include &quot;text/xml&quot; in response through intellij debug console and everything behaved as expected\r\n\r\nI changed contentType below to &quot;text/xml&quot; which had empty value in it in  the HttpTrasportPipe.class\r\n\r\n    this.checkStatusCode(responseStream, con);\r\n            Packet reply = request.createClientResponse((Message)null);\r\n            reply.wasTransportSecure = con.isSecure();\r\n            if(responseStream != null) {\r\n                String contentType = con.getContentType();\r\n                if(contentType != null &amp;&amp; contentType.contains(&quot;text/html&quot;) &amp;&amp; this.binding instanceof SOAPBinding) {\r\n                    throw new ClientTransportException(ClientMessages.localizableHTTP_STATUS_CODE(Integer.valueOf(con.statusCode), con.statusMessage));\r\n                }\r\n    \r\n                this.codec.decode(responseStream, contentType, reply);\r\n            }\r\n\r\n","title":"jax-ws: unsupported Media Exception content-type from server side","body":"<p>my soap client is making successful request and getting 200 OK from soap server. However, the application is erroring due to missing content-type header. I tried to add content-type header in handler but that is not even invoked (using debugger, I can see that method is never hit for inbound message but for outbound it is hit)</p>\n\n<p>Here is the handler code:</p>\n\n<pre><code>public class ClientHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n        public boolean handleMessage(SOAPMessageContext context) {\n            if ((Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY)) {\n                    System.out.println(\" here: in outbound call\");\n            }\n\n\n                if (!(Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY)) {\n                    Map&lt;String, List&lt;String&gt;&gt; headers = (Map&lt;String, List&lt;String&gt;&gt;)context.get(MessageContext.HTTP_RESPONSE_HEADERS);\n\n                    List&lt;String&gt; value = new ArrayList&lt;String&gt;();\n                    value.add(\"text/xml\");\n\n                    if (headers != null) {\n                        headers.put(\"content-type\", value);\n                    } else {\n                        Map&lt;String, List&lt;String&gt;&gt; brandNewHeaders = new HashMap&lt;String, List&lt;String&gt;&gt;();\n                        brandNewHeaders.put(\"content-type\", value);\n                        context.put(MessageContext.HTTP_RESPONSE_HEADERS, brandNewHeaders);\n                    }\n                }\n\n            return true;\n\n        }\n</code></pre>\n\n<p>Here is how I attach my handler</p>\n\n<pre><code>WSGService service = new WSGService();\n        appPort =  service.getWSGHttpPort();\n        final Binding binding = ((BindingProvider) provisionPort).getBinding();\n        BindingProvider bp = (BindingProvider)provisionPort;\n        bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, provisionurl);\n        List&lt;Handler&gt; handlerList = new ArrayList&lt;&gt;();\n        handlerList.add(new ClientHandler());\n        binding.setHandlerChain(handlerList);\n</code></pre>\n\n<p>Here is the log I get back for a successful call. NOTE empty content-type on response header, which is causing this error.</p>\n\n<pre><code>---[HTTP request - https://foobar/url]---\nAccept: [text/xml, multipart/related]\nContent-Type: [text/xml; charset=utf-8]\nSOAPAction: [\"/FOOBARWSG\"]\nUser-Agent: [JAX-WS RI 2.2.4-b01]\n&lt;?xml version=\"1.0\" ?&gt;&lt;S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;&lt;S:Body&gt;**BODY**&lt;/S:Body&gt;&lt;/S:Envelope&gt;--------------------\n---[HTTP response - https://foobar/url - 200]---\nnull: [HTTP/1.0 200 OK]\nAccess-Control-Allow-Headers: [Content-Type, Accept, Accept-Encoding, Content-Encoding, X-Client-UID, Authorization, X-Associated-Id]\nAccess-Control-Allow-Methods: [GET, POST, PUT, DELETE]\nAccess-Control-Allow-Origin: [*]\nAccess-Control-Expose-Headers: [WWW-Authenticate]\nConnection: [close]\nContent-Length: [2915]\ncontent-type: []\nDate: [Tue, 31 Jan 2017 06:24:05 GMT]\nServer: [JBOSS Application Server]\nX-WsgSource: [DUMMY,15,2017-01-31 06:24:05]\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;SOAP-ENV:Envelope xmlns&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;--------------------\n22:24:07,605 ERROR ErrorPageFilter:180 - Forwarding to error page from request [/dummy/customerType/null] due to exception [Unsupported Content-Type:  Supported ones are: [text/xml]]\ncom.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type:  Supported ones are: [text/xml]\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>with more debugging, I was able to manually change content-type to include \"text/xml\" in response through intellij debug console and everything behaved as expected</p>\n\n<p>I changed contentType below to \"text/xml\" which had empty value in it in  the HttpTrasportPipe.class</p>\n\n<pre><code>this.checkStatusCode(responseStream, con);\n        Packet reply = request.createClientResponse((Message)null);\n        reply.wasTransportSecure = con.isSecure();\n        if(responseStream != null) {\n            String contentType = con.getContentType();\n            if(contentType != null &amp;&amp; contentType.contains(\"text/html\") &amp;&amp; this.binding instanceof SOAPBinding) {\n                throw new ClientTransportException(ClientMessages.localizableHTTP_STATUS_CODE(Integer.valueOf(con.statusCode), con.statusMessage));\n            }\n\n            this.codec.decode(responseStream, contentType, reply);\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13275834,"reputation":29,"user_id":9585226,"display_name":"Rahul Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649939959,"creation_date":1649939688,"answer_id":71871711,"question_id":71871459,"body_markdown":"I think the question is not related to Spring and it&#39;s a general Java question.\r\n\r\nMake all your classes **public** so that they are accessible from outside the package. And if you want ```C1``` class properties should available in ```C2``` then follow the below code.  \r\n```\r\nimport P1.*;\r\nclass C2 extends C1\r\n{\r\n....\r\n}\r\n```\r\nIn this way, all the properties of class ```C1``` will be available to class ```C2```. You can follow same step for class ```C3``` and ```C4```.\r\n","title":"Best way to copy all properties from different class under different package","body":"<p>I think the question is not related to Spring and it's a general Java question.</p>\n<p>Make all your classes <strong>public</strong> so that they are accessible from outside the package. And if you want <code>C1</code> class properties should available in <code>C2</code> then follow the below code.</p>\n<pre><code>import P1.*;\nclass C2 extends C1\n{\n....\n}\n</code></pre>\n<p>In this way, all the properties of class <code>C1</code> will be available to class <code>C2</code>. You can follow same step for class <code>C3</code> and <code>C4</code>.</p>\n"}],"owner":{"account_id":1043663,"reputation":10314,"user_id":1049104,"accept_rate":33,"display_name":"Manish Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649940028,"creation_date":1649938603,"question_id":71871459,"body_markdown":"I have two classes, C1 &amp; C2, inside different package. \r\n\r\n    package p1\r\n    class C1 {}\r\n    \r\n    package p2\r\n    class C2 {\r\n      C1 abc;--&gt; refer to class C1 in package p1\r\n      int i;\r\n      String s\r\n    }\r\n\r\n`-----------\r\n\r\n    package p3\r\n    class C1 {}\r\n    \r\n    package p4\r\n    class C2 {\r\n      C1 abc; --&gt; refer to class C1 in package p3\r\n      int i;\r\n    }\r\n\r\nLet&#39;s assume some fields in p4.C2 class is missing but it is there in p2.C2. What is the best way to copy all values from p2.C2 to p4.C2?\r\nFields that are missing in p4.C2 should be ignored while copying. \r\n","title":"Best way to copy all properties from different class under different package","body":"<p>I have two classes, C1 &amp; C2, inside different package.</p>\n<pre><code>package p1\nclass C1 {}\n\npackage p2\nclass C2 {\n  C1 abc;--&gt; refer to class C1 in package p1\n  int i;\n  String s\n}\n</code></pre>\n<p>`-----------</p>\n<pre><code>package p3\nclass C1 {}\n\npackage p4\nclass C2 {\n  C1 abc; --&gt; refer to class C1 in package p3\n  int i;\n}\n</code></pre>\n<p>Let's assume some fields in p4.C2 class is missing but it is there in p2.C2. What is the best way to copy all values from p2.C2 to p4.C2?\nFields that are missing in p4.C2 should be ignored while copying.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1649929421,"post_id":71869542,"comment_id":127001054,"body_markdown":"in your loop, keep a flag that decides whether or not there are duplicates. Then move that &quot;no duplicates&quot; print out of the loop, and make it conditional based on the flag you&#39;ve set","body":"in your loop, keep a flag that decides whether or not there are duplicates. Then move that &quot;no duplicates&quot; print out of the loop, and make it conditional based on the flag you&#39;ve set"},{"owner":{"account_id":12502241,"reputation":314,"user_id":9100340,"display_name":"Rin"},"score":0,"creation_date":1649929702,"post_id":71869542,"comment_id":127001151,"body_markdown":"sir, when i move System.out.println(&quot;no duplicates&quot;);  out from loop it work when no duplicate. but when there is duplicate character &quot;no duplicate&quot; is appear too","body":"sir, when i move System.out.println(&quot;no duplicates&quot;);  out from loop it work when no duplicate. but when there is duplicate character &quot;no duplicate&quot; is appear too"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1649929788,"post_id":71869542,"comment_id":127001189,"body_markdown":"that is because you didn&#39;t implement the flag, nor the conditional statement checking it","body":"that is because you didn&#39;t implement the flag, nor the conditional statement checking it"},{"owner":{"account_id":12502241,"reputation":314,"user_id":9100340,"display_name":"Rin"},"score":0,"creation_date":1649930055,"post_id":71869542,"comment_id":127001288,"body_markdown":"i try to use if (count &lt; 1 &amp;&amp; string[i] != &#39;0&#39;) \n             System.out.println(&quot;no duplicates&quot;); but no work","body":"i try to use if (count &lt; 1 &amp;&amp; string[i] != &#39;0&#39;)               System.out.println(&quot;no duplicates&quot;); but no work"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649930519,"post_id":71869542,"comment_id":127001435,"body_markdown":"of course it doesn&#39;t. again: you need to create a flag (boolean) that you update during your loop when duplicates are detected. based on that, print that line after the loop.","body":"of course it doesn&#39;t. again: you need to create a flag (boolean) that you update during your loop when duplicates are detected. based on that, print that line after the loop."}],"answers":[{"tags":[],"owner":{"account_id":4695914,"reputation":635,"user_id":3800789,"accept_rate":67,"display_name":"Zychoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649929978,"creation_date":1649929978,"answer_id":71869689,"question_id":71869542,"body_markdown":"Add a flag to your program that indicates whether there are duplicates or not. And after loop check whether this flag is `true` or `false`. \r\n\r\nThis method would look like below. I commented code where I updated it. \r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String string1 = &quot;Great&quot;;\r\n    int count;\r\n\r\n    //Converts given string into character array\r\n    char string[] = string1.toCharArray();\r\n\r\n    // here is flag added\r\n    boolean noDuplicates = true;\r\n\r\n    System.out.println(&quot;Duplicate characters in a given string: &quot;);\r\n    //Counts each character present in the string\r\n    for(int i = 0; i &lt;string.length; i++) {\r\n      count = 1;\r\n      for(int j = i+1; j &lt;string.length; j++) {\r\n        if(string[i] == string[j] &amp;&amp; string[i] != &#39; &#39;) {\r\n          count++;\r\n          //Set string[j] to 0 to avoid printing visited character\r\n          string[j] = &#39;0&#39;;\r\n        }\r\n      }\r\n      //A character is considered as duplicate if count is greater than 1\r\n      if(count &gt; 1 &amp;&amp; string[i] != &#39;0&#39;) {\r\n        System.out.println(string[i]);\r\n\r\n        //here is flag updated if duplicates are found\r\n        noDuplicates = false;\r\n      }\r\n    }\r\n\r\n    //here is flag check\r\n    if (noDuplicates) {\r\n      System.out.println(&quot;no duplicates&quot;);\r\n    }\r\n  }\r\n```\r\n\r\nAnd btw. Your algorithm has O(n^2) time complexity. You can figure out one that is better ;-) ","title":"Duplicate output in Java","body":"<p>Add a flag to your program that indicates whether there are duplicates or not. And after loop check whether this flag is <code>true</code> or <code>false</code>.</p>\n<p>This method would look like below. I commented code where I updated it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String string1 = &quot;Great&quot;;\n    int count;\n\n    //Converts given string into character array\n    char string[] = string1.toCharArray();\n\n    // here is flag added\n    boolean noDuplicates = true;\n\n    System.out.println(&quot;Duplicate characters in a given string: &quot;);\n    //Counts each character present in the string\n    for(int i = 0; i &lt;string.length; i++) {\n      count = 1;\n      for(int j = i+1; j &lt;string.length; j++) {\n        if(string[i] == string[j] &amp;&amp; string[i] != ' ') {\n          count++;\n          //Set string[j] to 0 to avoid printing visited character\n          string[j] = '0';\n        }\n      }\n      //A character is considered as duplicate if count is greater than 1\n      if(count &gt; 1 &amp;&amp; string[i] != '0') {\n        System.out.println(string[i]);\n\n        //here is flag updated if duplicates are found\n        noDuplicates = false;\n      }\n    }\n\n    //here is flag check\n    if (noDuplicates) {\n      System.out.println(&quot;no duplicates&quot;);\n    }\n  }\n</code></pre>\n<p>And btw. Your algorithm has O(n^2) time complexity. You can figure out one that is better ;-)</p>\n"},{"tags":[],"owner":{"account_id":24085224,"reputation":83,"user_id":18059330,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649930183,"creation_date":1649930183,"answer_id":71869740,"question_id":71869542,"body_markdown":"It&#39;s normal your System.out.println(&quot;no duplicates&quot;); is in your loop so each time a character is not duplicate you print &quot;no duplicates&quot;. \r\n\r\nYou can defined a boolean that will become true if one duplicate it&#39;s found, like this :\r\n\r\n    public class DuplicateCharacters {\r\n    public static void main(String[] args) {\r\n        String string1 = &quot;Great&quot;;\r\n        int count;\r\n\r\n        //Converts given string into character array\r\n        char string[] = string1.toCharArray();\r\n\r\n        System.out.println(&quot;Duplicate characters in a given string: &quot;);\r\n        //Counts each character present in the string\r\n        Boolean dupCarac = false;\r\n        for(int i = 0; i &lt;string.length; i++) {\r\n            count = 1;\r\n            for(int j = i+1; j &lt;string.length; j++) {\r\n                if(string[i] == string[j] &amp;&amp; string[i] != &#39; &#39;) {\r\n                    count++;\r\n                    //Set string[j] to 0 to avoid printing visited character\r\n                    string[j] = &#39;0&#39;;\r\n                }\r\n            }\r\n            //A character is considered as duplicate if count is greater than 1\r\n            if(count &gt; 1 &amp;&amp; string[i] != &#39;0&#39;){\r\n                System.out.println(string[i]);\r\n                dupCarac = true;\r\n            }\r\n        }\r\n        if (!dupCarac){\r\n            System.out.println(&quot;no duplicates&quot;);\r\n        }\r\n    }\r\n\r\n\r\nPS: Please put {} on your if and else.","title":"Duplicate output in Java","body":"<p>It's normal your System.out.println(&quot;no duplicates&quot;); is in your loop so each time a character is not duplicate you print &quot;no duplicates&quot;.</p>\n<p>You can defined a boolean that will become true if one duplicate it's found, like this :</p>\n<pre><code>public class DuplicateCharacters {\npublic static void main(String[] args) {\n    String string1 = &quot;Great&quot;;\n    int count;\n\n    //Converts given string into character array\n    char string[] = string1.toCharArray();\n\n    System.out.println(&quot;Duplicate characters in a given string: &quot;);\n    //Counts each character present in the string\n    Boolean dupCarac = false;\n    for(int i = 0; i &lt;string.length; i++) {\n        count = 1;\n        for(int j = i+1; j &lt;string.length; j++) {\n            if(string[i] == string[j] &amp;&amp; string[i] != ' ') {\n                count++;\n                //Set string[j] to 0 to avoid printing visited character\n                string[j] = '0';\n            }\n        }\n        //A character is considered as duplicate if count is greater than 1\n        if(count &gt; 1 &amp;&amp; string[i] != '0'){\n            System.out.println(string[i]);\n            dupCarac = true;\n        }\n    }\n    if (!dupCarac){\n        System.out.println(&quot;no duplicates&quot;);\n    }\n}\n</code></pre>\n<p>PS: Please put {} on your if and else.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649932642,"creation_date":1649932642,"answer_id":71870246,"question_id":71869542,"body_markdown":"You might find interesting the following approach of how you can do the same, using `Streams` more efficiently, without iterating through the same `String` multiple times.\r\n\r\n    String input =  &quot;Great responsibility&quot;;\r\n\r\n    Map&lt;String, Long &gt; map = Arrays.stream(input.split(&quot;&quot;))  //create a stream for each character in String\r\n              .collect((Collectors.groupingBy(item -&gt; item, Collectors.counting()))) //Collect into a map all occurrences\r\n              .entrySet().stream().filter(e -&gt; e.getValue() &gt; 1 &amp;&amp; !e.getKey().equals(&quot; &quot;)) //filter only duplicate occurrences and not empty spaces\r\n              .map(e -&gt; Map.entry(e.getKey(), e.getValue() -1)) // keep count only of duplicate occurrences not total occurrences\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)); //gather duplicates in a map\r\n    \r\n            if (map.isEmpty()){\r\n                System.out.println(&quot;No duplicates found&quot;);\r\n            } else {\r\n                map.forEach((key, value) -&gt; System.out.printf(&quot;%s appears %d more times in given string%n&quot;, key, value));\r\n            }","title":"Duplicate output in Java","body":"<p>You might find interesting the following approach of how you can do the same, using <code>Streams</code> more efficiently, without iterating through the same <code>String</code> multiple times.</p>\n<pre><code>String input =  &quot;Great responsibility&quot;;\n\nMap&lt;String, Long &gt; map = Arrays.stream(input.split(&quot;&quot;))  //create a stream for each character in String\n          .collect((Collectors.groupingBy(item -&gt; item, Collectors.counting()))) //Collect into a map all occurrences\n          .entrySet().stream().filter(e -&gt; e.getValue() &gt; 1 &amp;&amp; !e.getKey().equals(&quot; &quot;)) //filter only duplicate occurrences and not empty spaces\n          .map(e -&gt; Map.entry(e.getKey(), e.getValue() -1)) // keep count only of duplicate occurrences not total occurrences\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)); //gather duplicates in a map\n\n        if (map.isEmpty()){\n            System.out.println(&quot;No duplicates found&quot;);\n        } else {\n            map.forEach((key, value) -&gt; System.out.printf(&quot;%s appears %d more times in given string%n&quot;, key, value));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649938885,"creation_date":1649938885,"answer_id":71871522,"question_id":71869542,"body_markdown":"**Separate the logic for finding duplicates from how you report the findings to the user.**  Move the logic for finding the duplicates into a method.  Pass the results of that output to another method.  The main method invokes the first and passes the output to the second.\r\n\r\n    public static void main(String[] args) {\r\n      String s = .... whatever you are searching for duplicates in ....\r\n      reportDuplicates(findDuplicates(s)):\r\n    }\r\n    public static List&lt;Character&gt; findDuplicates(String s) {\r\n      ... returns a List containing duplicates ...\r\n    }\r\n    public static void reportDuplicates(List&lt;Character&gt; duplicates) {\r\n      if (null == duplicates || duplicates.isEmpty()) {\r\n        ... report no duplicates ...\r\n      } else {\r\n        ... output the duplicates\r\n      }\r\n    }","title":"Duplicate output in Java","body":"<p><strong>Separate the logic for finding duplicates from how you report the findings to the user.</strong>  Move the logic for finding the duplicates into a method.  Pass the results of that output to another method.  The main method invokes the first and passes the output to the second.</p>\n<pre><code>public static void main(String[] args) {\n  String s = .... whatever you are searching for duplicates in ....\n  reportDuplicates(findDuplicates(s)):\n}\npublic static List&lt;Character&gt; findDuplicates(String s) {\n  ... returns a List containing duplicates ...\n}\npublic static void reportDuplicates(List&lt;Character&gt; duplicates) {\n  if (null == duplicates || duplicates.isEmpty()) {\n    ... report no duplicates ...\n  } else {\n    ... output the duplicates\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12502241,"reputation":314,"user_id":9100340,"display_name":"Rin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71869689,"answer_count":4,"score":5,"last_activity_date":1649939848,"creation_date":1649929295,"question_id":71869542,"body_markdown":"I&#39;m new here and still learning. Today I learn find duplicate in string. From https://www.javatpoint.com/program-to-find-the-duplicate-characters-in-a-string, I try to learn complete code from web.\r\n\r\nWhen string = &quot;Great responsibility&quot; the output will be:\r\n```none\r\n Duplicate characters in a given string: \r\nr\r\ne\r\nt\r\ns\r\ni\r\n```\r\nbecause it has duplicate character r e t s i\r\n\r\nAnd when string is &quot;great&quot; the output is\r\n```none\r\n Duplicate characters in a given string: \r\n\r\n```\r\nThe output is blank because there are no duplicate characters, so I give a description &quot;no duplicate&quot; to define no character duplicate and the output goes like this\r\n```none\r\nDuplicate characters in a given string: \r\nno duplicates\r\nno duplicates\r\nno duplicates\r\nno duplicates\r\nno duplicates\r\n```\r\nThis returns too many descriptions.\r\n\r\nMy code\r\n```java\r\npublic class DuplicateCharacters {  \r\n    public static void main(String[] args) {  \r\n        String string1 = &quot;Great&quot;;  \r\n        int count;  \r\n          \r\n        //Converts given string into character array  \r\n        char string[] = string1.toCharArray();  \r\n          \r\n        System.out.println(&quot;Duplicate characters in a given string: &quot;);  \r\n        //Counts each character present in the string  \r\n        for(int i = 0; i &lt;string.length; i++) {  \r\n            count = 1;  \r\n            for(int j = i+1; j &lt;string.length; j++) {  \r\n                if(string[i] == string[j] &amp;&amp; string[i] != &#39; &#39;) {  \r\n                    count++;  \r\n                    //Set string[j] to 0 to avoid printing visited character  \r\n                    string[j] = &#39;0&#39;;  \r\n                }  \r\n            }  \r\n            //A character is considered as duplicate if count is greater than 1  \r\n            if(count &gt; 1 &amp;&amp; string[i] != &#39;0&#39;)  \r\n                System.out.println(string[i]);  \r\n            else \r\n             System.out.println(&quot;no duplicates&quot;); \r\n        }  \r\n    }  \r\n} \r\n```\r\nHow can I print only one description without repetition? I tried return 0; but it does not work.\r\n\r\nExpected output\r\n```none\r\nDuplicate characters in a given string: \r\nno duplicates\r\n```","title":"Duplicate output in Java","body":"<p>I'm new here and still learning. Today I learn find duplicate in string. From <a href=\"https://www.javatpoint.com/program-to-find-the-duplicate-characters-in-a-string\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/program-to-find-the-duplicate-characters-in-a-string</a>, I try to learn complete code from web.</p>\n<p>When string = &quot;Great responsibility&quot; the output will be:</p>\n<pre class=\"lang-none prettyprint-override\"><code> Duplicate characters in a given string: \nr\ne\nt\ns\ni\n</code></pre>\n<p>because it has duplicate character r e t s i</p>\n<p>And when string is &quot;great&quot; the output is</p>\n<pre class=\"lang-none prettyprint-override\"><code> Duplicate characters in a given string: \n\n</code></pre>\n<p>The output is blank because there are no duplicate characters, so I give a description &quot;no duplicate&quot; to define no character duplicate and the output goes like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>Duplicate characters in a given string: \nno duplicates\nno duplicates\nno duplicates\nno duplicates\nno duplicates\n</code></pre>\n<p>This returns too many descriptions.</p>\n<p>My code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DuplicateCharacters {  \n    public static void main(String[] args) {  \n        String string1 = &quot;Great&quot;;  \n        int count;  \n          \n        //Converts given string into character array  \n        char string[] = string1.toCharArray();  \n          \n        System.out.println(&quot;Duplicate characters in a given string: &quot;);  \n        //Counts each character present in the string  \n        for(int i = 0; i &lt;string.length; i++) {  \n            count = 1;  \n            for(int j = i+1; j &lt;string.length; j++) {  \n                if(string[i] == string[j] &amp;&amp; string[i] != ' ') {  \n                    count++;  \n                    //Set string[j] to 0 to avoid printing visited character  \n                    string[j] = '0';  \n                }  \n            }  \n            //A character is considered as duplicate if count is greater than 1  \n            if(count &gt; 1 &amp;&amp; string[i] != '0')  \n                System.out.println(string[i]);  \n            else \n             System.out.println(&quot;no duplicates&quot;); \n        }  \n    }  \n} \n</code></pre>\n<p>How can I print only one description without repetition? I tried return 0; but it does not work.</p>\n<p>Expected output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Duplicate characters in a given string: \nno duplicates\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1649936103,"post_id":71870958,"comment_id":127003264,"body_markdown":"please share the full stacktrace or tell us the line where the exception occurs ?","body":"please share the full stacktrace or tell us the line where the exception occurs ?"},{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1649936105,"post_id":71870958,"comment_id":127003265,"body_markdown":"Please provide the code of Main method, and stacktrace of exception,","body":"Please provide the code of Main method, and stacktrace of exception,"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1649936292,"post_id":71870958,"comment_id":127003315,"body_markdown":"Side note: It is a quasi-standard coding convention in Java for methods names (even static ones) to start with lower case letters, and names of classes and interfaces with uppercase letters.","body":"Side note: It is a quasi-standard coding convention in Java for methods names (even static ones) to start with lower case letters, and names of classes and interfaces with uppercase letters."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649937536,"post_id":71870958,"comment_id":127003772,"body_markdown":"Another side note: there’s no sense in calling `Math.floor` on an `int` value. Regarding your described problem, I suggest using a debugger and going step by step through your program.","body":"Another side note: there’s no sense in calling <code>Math.floor</code> on an <code>int</code> value. Regarding your described problem, I suggest using a debugger and going step by step through your program."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1649937976,"post_id":71870958,"comment_id":127003909,"body_markdown":"`Math.floor(heapSize-1/2)` is not doing what you think it&#39;s doing. `1/2` is an `int` value, equal to `0`.","body":"<code>Math.floor(heapSize-1&#47;2)</code> is not doing what you think it&#39;s doing. <code>1&#47;2</code> is an <code>int</code> value, equal to <code>0</code>."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1649938001,"post_id":71870958,"comment_id":127003918,"body_markdown":"I would strongly suggest that you take this opportunity to learn how to use a debugger to monitor the values in variables.  You are passing a 20 as the index which is out of range (0-19). Remove all the random number stuff from your test driver - create a single small array of known values and run the test with that.  If it succeeds, add numbers to increase the size.  I think you&#39;ll find that how you calculate the index breaks down in some cases.","body":"I would strongly suggest that you take this opportunity to learn how to use a debugger to monitor the values in variables.  You are passing a 20 as the index which is out of range (0-19). Remove all the random number stuff from your test driver - create a single small array of known values and run the test with that.  If it succeeds, add numbers to increase the size.  I think you&#39;ll find that how you calculate the index breaks down in some cases."}],"owner":{"account_id":24936393,"reputation":11,"user_id":18802930,"display_name":"Whiffed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1649939395,"answer_count":0,"score":1,"last_activity_date":1649939385,"creation_date":1649935948,"question_id":71870958,"body_markdown":"```\r\nimport java.util.*;\r\nimport java.lang.Math;\r\n\r\npublic class Heap {\r\n\r\n\tprivate static int heapSize;\r\n\t\r\n\tpublic static void HeapSort(int [] A) {\r\n\t\tBuildHeap(A);\r\n\t\tfor(int i=A.length-1; i&gt;=1; i--) {\r\n\t\t\tint temp;\r\n\t\t\ttemp=A[0];\r\n\t\t\tA[0]=A[i];\r\n\t\t\tA[i]=temp;\r\n\t\t\theapSize--;\r\n\t\t\tHeapify(A,0);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void BuildHeap(int [] A) {\r\n\t\theapSize=A.length;\r\n\t\tfor(int i=(int)(Math.floor(heapSize-1/2));i&gt;=0;i--) {\r\n\t\t\tHeapify(A,i);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void Heapify(int [] A,int i) {\r\n\t\tint largest=i;\r\n\t\tint le=2*i+1;\r\n\t\tint ri=2*i+2;\r\n\t\tif((le&lt;=heapSize)&amp;&amp;(A[le]&gt;A[i])) {\r\n\t\tlargest=le;\r\n\t\t}\r\n\t\telse\r\n\t\t\tlargest=i;\r\n\t\tif((ri&lt;=heapSize)&amp;&amp;(A[ri]&gt;A[largest])) {\r\n\t\t\tlargest=ri;\r\n\t\t}\r\n\t\tif(largest!=i) {\r\n\t\t\tint temp=A[i];\r\n\t\t\tA[i]=A[largest];\r\n\t\t\tA[largest]=temp;\r\n\t\t\tHeapify(A,largest);\r\n\t\t}\r\n\t}\r\n\tpublic static void printArray(int [] A) {\r\n\t\tfor(int i=0; i&lt;A.length;i++)\r\n\t\t\tSystem.out.println(A[i]);\r\n\t}\r\n}\r\n```\r\n\r\nThis is the implementation to a heap sort that we were assigned in my data structures class. I am getting an ArrayIndexOutOfBoundsException error when I try to run the code, however. I have been trying to figure out how to fix this, and have been tinkering with the code a lot outside of the bounds of the pseudocode we were given to work off of. I&#39;m not sure how to fix this. Please help.\r\n\r\nIf it helps, here is the code of the main method:\r\n```\r\nimport java.util.*;\r\n\r\npublic class Test {\r\npublic static void main(String[] args) {\r\n\tRandom rd=new Random();\r\n\tint [] arr1=new int[20];\r\n\tint [] arr2=new int[20];\r\n\tint [] arr3=new int[20];\r\n\tint [] arr4=new int[20];\r\n\tint [] arr5=new int[20];\r\n\tSystem.out.println(&quot;Before:&quot;);\r\n\tfor(int i=0; i&lt;arr1.length;i++)\r\n\t\tarr1[i]=rd.nextInt();\r\n\tSystem.out.println(&quot;Array 1:&quot;);\r\n\tHeap.printArray(arr1);\r\n\tfor(int i=0; i&lt;arr2.length;i++)\r\n\t\tarr2[i]=rd.nextInt();\r\n\tSystem.out.println(&quot;Array 2:&quot;);\r\n\tHeap.printArray(arr2);\r\n\tfor(int i=0; i&lt;arr3.length;i++)\r\n\t\tarr3[i]=rd.nextInt();\r\n\tSystem.out.println(&quot;Array 3:&quot;);\r\n\tHeap.printArray(arr3);\r\n\tfor(int i=0; i&lt;arr4.length;i++)\r\n\t\tarr4[i]=rd.nextInt();\r\n\tSystem.out.println(&quot;Array 4:&quot;);\r\n\tHeap.printArray(arr4);\r\n\tfor(int i=0; i&lt;arr5.length;i++)\r\n\t\tarr5[i]=rd.nextInt();\r\n\tSystem.out.println(&quot;Array 5:&quot;);\r\n\tHeap.printArray(arr5);\r\n\tHeap.HeapSort(arr1);\r\n\tHeap.HeapSort(arr2);\r\n\tHeap.HeapSort(arr3);\r\n\tHeap.HeapSort(arr4);\r\n\tHeap.HeapSort(arr5);\r\n\tSystem.out.println(&quot;After:&quot;);\r\n\tSystem.out.println(&quot;Array 1:&quot;);\r\n\tHeap.printArray(arr1);\r\n\tSystem.out.println(&quot;Array 2:&quot;);\r\n\tHeap.printArray(arr2);\r\n\tSystem.out.println(&quot;Array 3:&quot;);\r\n\tHeap.printArray(arr3);\r\n\tSystem.out.println(&quot;Array 4:&quot;);\r\n\tHeap.printArray(arr4);\r\n\tSystem.out.println(&quot;Array 5:&quot;);\r\n\tHeap.printArray(arr5);\r\n}\r\n}\r\n```\r\n\r\nAlso, here is the error that pops up:\r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 20 out of bounds for length 20\r\n\tat Heap.Heapify(Heap.java:37)\r\n\tat Heap.BuildHeap(Heap.java:24)\r\n\tat Heap.HeapSort(Heap.java:9)\r\n\tat Test.main(Test.java:32)\r\n```\r\n\r\n\r\n","title":"Heap Sort Implementation ArrayIndexOutOfBoundsException","body":"<pre><code>import java.util.*;\nimport java.lang.Math;\n\npublic class Heap {\n\n    private static int heapSize;\n    \n    public static void HeapSort(int [] A) {\n        BuildHeap(A);\n        for(int i=A.length-1; i&gt;=1; i--) {\n            int temp;\n            temp=A[0];\n            A[0]=A[i];\n            A[i]=temp;\n            heapSize--;\n            Heapify(A,0);\n        }\n        \n    }\n    \n    public static void BuildHeap(int [] A) {\n        heapSize=A.length;\n        for(int i=(int)(Math.floor(heapSize-1/2));i&gt;=0;i--) {\n            Heapify(A,i);\n        }\n    }\n    \n    public static void Heapify(int [] A,int i) {\n        int largest=i;\n        int le=2*i+1;\n        int ri=2*i+2;\n        if((le&lt;=heapSize)&amp;&amp;(A[le]&gt;A[i])) {\n        largest=le;\n        }\n        else\n            largest=i;\n        if((ri&lt;=heapSize)&amp;&amp;(A[ri]&gt;A[largest])) {\n            largest=ri;\n        }\n        if(largest!=i) {\n            int temp=A[i];\n            A[i]=A[largest];\n            A[largest]=temp;\n            Heapify(A,largest);\n        }\n    }\n    public static void printArray(int [] A) {\n        for(int i=0; i&lt;A.length;i++)\n            System.out.println(A[i]);\n    }\n}\n</code></pre>\n<p>This is the implementation to a heap sort that we were assigned in my data structures class. I am getting an ArrayIndexOutOfBoundsException error when I try to run the code, however. I have been trying to figure out how to fix this, and have been tinkering with the code a lot outside of the bounds of the pseudocode we were given to work off of. I'm not sure how to fix this. Please help.</p>\n<p>If it helps, here is the code of the main method:</p>\n<pre><code>import java.util.*;\n\npublic class Test {\npublic static void main(String[] args) {\n    Random rd=new Random();\n    int [] arr1=new int[20];\n    int [] arr2=new int[20];\n    int [] arr3=new int[20];\n    int [] arr4=new int[20];\n    int [] arr5=new int[20];\n    System.out.println(&quot;Before:&quot;);\n    for(int i=0; i&lt;arr1.length;i++)\n        arr1[i]=rd.nextInt();\n    System.out.println(&quot;Array 1:&quot;);\n    Heap.printArray(arr1);\n    for(int i=0; i&lt;arr2.length;i++)\n        arr2[i]=rd.nextInt();\n    System.out.println(&quot;Array 2:&quot;);\n    Heap.printArray(arr2);\n    for(int i=0; i&lt;arr3.length;i++)\n        arr3[i]=rd.nextInt();\n    System.out.println(&quot;Array 3:&quot;);\n    Heap.printArray(arr3);\n    for(int i=0; i&lt;arr4.length;i++)\n        arr4[i]=rd.nextInt();\n    System.out.println(&quot;Array 4:&quot;);\n    Heap.printArray(arr4);\n    for(int i=0; i&lt;arr5.length;i++)\n        arr5[i]=rd.nextInt();\n    System.out.println(&quot;Array 5:&quot;);\n    Heap.printArray(arr5);\n    Heap.HeapSort(arr1);\n    Heap.HeapSort(arr2);\n    Heap.HeapSort(arr3);\n    Heap.HeapSort(arr4);\n    Heap.HeapSort(arr5);\n    System.out.println(&quot;After:&quot;);\n    System.out.println(&quot;Array 1:&quot;);\n    Heap.printArray(arr1);\n    System.out.println(&quot;Array 2:&quot;);\n    Heap.printArray(arr2);\n    System.out.println(&quot;Array 3:&quot;);\n    Heap.printArray(arr3);\n    System.out.println(&quot;Array 4:&quot;);\n    Heap.printArray(arr4);\n    System.out.println(&quot;Array 5:&quot;);\n    Heap.printArray(arr5);\n}\n}\n</code></pre>\n<p>Also, here is the error that pops up:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 20 out of bounds for length 20\n    at Heap.Heapify(Heap.java:37)\n    at Heap.BuildHeap(Heap.java:24)\n    at Heap.HeapSort(Heap.java:9)\n    at Test.main(Test.java:32)\n</code></pre>\n"},{"tags":["java","spring-boot","api","maven","dependency-management"],"comments":[{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":2,"creation_date":1649936687,"post_id":71871013,"comment_id":127003459,"body_markdown":"A standard way to handle such cases is Maven BOM (Bill of Material) POMs as explained in [Maven documentation](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms)","body":"A standard way to handle such cases is Maven BOM (Bill of Material) POMs as explained in <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#bill-of-materials-bom-poms\" rel=\"nofollow noreferrer\">Maven documentation</a>"},{"owner":{"account_id":21405967,"reputation":11,"user_id":15767175,"display_name":"David G."},"score":0,"creation_date":1649944893,"post_id":71871013,"comment_id":127006621,"body_markdown":"Hi Tasos, \nthanks for pointing me that way. Probably I did not explain the issue well enough, but a BOM is not solving this, as I still need to have technical dependencies (as seen in the code example with having reactor/spring-web annotations imports there).","body":"Hi Tasos,  thanks for pointing me that way. Probably I did not explain the issue well enough, but a BOM is not solving this, as I still need to have technical dependencies (as seen in the code example with having reactor/spring-web annotations imports there)."}],"owner":{"account_id":21405967,"reputation":11,"user_id":15767175,"display_name":"David G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649939356,"creation_date":1649936272,"question_id":71871013,"body_markdown":"Use case: I&#39;m currently working in a project consisting of several micro-services. For ease of use and in order to version the APIs properly each service provides a separate maven artifact for the API. However due to using Spring-Web, Jackson, et cetera there are some technical dependencies (Spring Web, Jackson, Reactor) in the APIs. Sooner or later that might cause issues with the dev teams of other micro-services using conflicting versions of these technical dependencies.\r\n\r\n``` \r\npackage random.price.api\r\n\r\nimport io.swagger.annotations.ApiOperation\r\nimport io.swagger.annotations.ApiResponses\r\nimport org.springframework.http.MediaType\r\nimport org.springframework.http.ResponseEntity\r\nimport org.springframework.web.bind.annotation.*\r\nimport reactor.core.publisher.Flux\r\n\r\n@RequestMapping(value = [&quot;/v1/price&quot;], produces = [MediaType.APPLICATION_NDJSON_VALUE, MediaType.APPLICATION_JSON_VALUE])\r\ninterface PriceApi {\r\n\r\n    @ApiOperation(&quot;Triggers a calculation&quot;)\r\n    @ApiResponses(\r\n        ApiResponse(code = 200, message = &quot;Success/OK&quot;)\r\n    )\r\n    @PostMapping(&quot;&quot;)\r\n    public ResponseEntity&lt;Any&gt; calculate()\r\n\r\n    @ApiOperation(&quot;Gets all prices for a product&quot;)\r\n    @ApiResponses(\r\n        ApiResponse(code = 200, message = &quot;Success/OK&quot;),\r\n        ApiResponse(code = 404, message = &quot;NotFound - Product with id unknown&quot;)\r\n    )\r\n    @GetMapping(&quot;/{productId}&quot;)\r\n    public ResponseEntity&lt;Flux&lt;Prices&gt;&gt; getPrices(@PathVariable(&quot;productId&quot;) String productId)\r\n```\r\n\r\n\r\n\r\nAre there any best practices on how to avoid this without implementing separate API clients and providing some kind of SDK?\r\n\r\n","title":"Best practices for technical dependencies in API artifacts","body":"<p>Use case: I'm currently working in a project consisting of several micro-services. For ease of use and in order to version the APIs properly each service provides a separate maven artifact for the API. However due to using Spring-Web, Jackson, et cetera there are some technical dependencies (Spring Web, Jackson, Reactor) in the APIs. Sooner or later that might cause issues with the dev teams of other micro-services using conflicting versions of these technical dependencies.</p>\n<pre><code>package random.price.api\n\nimport io.swagger.annotations.ApiOperation\nimport io.swagger.annotations.ApiResponses\nimport org.springframework.http.MediaType\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.*\nimport reactor.core.publisher.Flux\n\n@RequestMapping(value = [&quot;/v1/price&quot;], produces = [MediaType.APPLICATION_NDJSON_VALUE, MediaType.APPLICATION_JSON_VALUE])\ninterface PriceApi {\n\n    @ApiOperation(&quot;Triggers a calculation&quot;)\n    @ApiResponses(\n        ApiResponse(code = 200, message = &quot;Success/OK&quot;)\n    )\n    @PostMapping(&quot;&quot;)\n    public ResponseEntity&lt;Any&gt; calculate()\n\n    @ApiOperation(&quot;Gets all prices for a product&quot;)\n    @ApiResponses(\n        ApiResponse(code = 200, message = &quot;Success/OK&quot;),\n        ApiResponse(code = 404, message = &quot;NotFound - Product with id unknown&quot;)\n    )\n    @GetMapping(&quot;/{productId}&quot;)\n    public ResponseEntity&lt;Flux&lt;Prices&gt;&gt; getPrices(@PathVariable(&quot;productId&quot;) String productId)\n</code></pre>\n<p>Are there any best practices on how to avoid this without implementing separate API clients and providing some kind of SDK?</p>\n"},{"tags":["java","android","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":16644152,"reputation":117,"user_id":12649627,"display_name":"Shashank Daima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649939153,"creation_date":1649939153,"answer_id":71871592,"question_id":71871374,"body_markdown":"second one is the better. `AND` has priority over `OR`. For more precedence related question checkout this = https://www.tutorialspoint.com/plsql/plsql_operators_precedence.htm#:~:text=Here%2C%20operators%20with%20the%20highest,%2C%20LIKE%2C%20BETWEEN%2C%20IN.","title":"using or case in Query with sqlite","body":"<p>second one is the better. <code>AND</code> has priority over <code>OR</code>. For more precedence related question checkout this = <a href=\"https://www.tutorialspoint.com/plsql/plsql_operators_precedence.htm#:%7E:text=Here%2C%20operators%20with%20the%20highest,%2C%20LIKE%2C%20BETWEEN%2C%20IN\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/plsql/plsql_operators_precedence.htm#:~:text=Here%2C%20operators%20with%20the%20highest,%2C%20LIKE%2C%20BETWEEN%2C%20IN</a>.</p>\n"}],"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649939153,"creation_date":1649938152,"question_id":71871374,"body_markdown":"i need to search with 2 varibiles  name , phone\r\nand with spcific stat for the two cases\r\nlike :\r\n\r\ncase 1\r\nspcific name with it&#39;s stat\r\n\r\ncase 2\r\nspcific phone with it&#39;s stat\r\n\r\nwhich right method to do this\r\n\r\n\r\n    String queryString = &quot;SELECT * FROM &#39;mytable1&#39; WHERE name=&#39;&quot;+thename+&quot;&#39; or phone=&#39;&quot;+thephone+&quot;&#39; and stat LIKE &#39;o-%&#39;&quot;;\r\n\r\nor\r\n\r\n    String queryString = &quot;SELECT * FROM &#39;mytable1&#39; WHERE name=&#39;&quot;+thename+&quot;&#39; and stat LIKE &#39;o-%&#39;&quot;\r\n    +&quot; or phone=&#39;&quot;+thephone+&quot;&#39; and stat LIKE &#39;o-%&#39;&quot;;\r\n\r\nthanks for you and sorry for my bad english\r\n\r\n","title":"using or case in Query with sqlite","body":"<p>i need to search with 2 varibiles  name , phone\nand with spcific stat for the two cases\nlike :</p>\n<p>case 1\nspcific name with it's stat</p>\n<p>case 2\nspcific phone with it's stat</p>\n<p>which right method to do this</p>\n<pre><code>String queryString = &quot;SELECT * FROM 'mytable1' WHERE name='&quot;+thename+&quot;' or phone='&quot;+thephone+&quot;' and stat LIKE 'o-%'&quot;;\n</code></pre>\n<p>or</p>\n<pre><code>String queryString = &quot;SELECT * FROM 'mytable1' WHERE name='&quot;+thename+&quot;' and stat LIKE 'o-%'&quot;\n+&quot; or phone='&quot;+thephone+&quot;' and stat LIKE 'o-%'&quot;;\n</code></pre>\n<p>thanks for you and sorry for my bad english</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":19215844,"reputation":444,"user_id":14040597,"display_name":"xstefank"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649938372,"creation_date":1649924597,"answer_id":71868596,"question_id":71868335,"body_markdown":"I&#39;m not sure if this is exactly what you&#39;re looking for but let me try. \r\n\r\nSettings marked with a console icon are only applied to the current project([Read this article][1]). So when you create a new project (or open a new project), it defaults to &quot;Ask&quot;. However, you can change that in `File -&gt; New Projects Setup -&gt; Settings for New Projects...` which will open the same settings window for you but these settings will be applied by default if you create/open new projects in Intellij. Setting this to &quot;Do not add&quot; should be enough to never get the &quot;Add file to git&quot; pop-up window again.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/configure-project-settings.html","title":"How to turn off &quot;Add file to git&quot; in Intellij?","body":"<p>I'm not sure if this is exactly what you're looking for but let me try.</p>\n<p>Settings marked with a console icon are only applied to the current project(<a href=\"https://www.jetbrains.com/help/idea/configure-project-settings.html\" rel=\"nofollow noreferrer\">Read this article</a>). So when you create a new project (or open a new project), it defaults to &quot;Ask&quot;. However, you can change that in <code>File -&gt; New Projects Setup -&gt; Settings for New Projects...</code> which will open the same settings window for you but these settings will be applied by default if you create/open new projects in Intellij. Setting this to &quot;Do not add&quot; should be enough to never get the &quot;Add file to git&quot; pop-up window again.</p>\n"}],"owner":{"account_id":23615848,"reputation":53,"user_id":17649957,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71868596,"answer_count":1,"score":5,"last_activity_date":1649938372,"creation_date":1649923344,"question_id":71868335,"body_markdown":"When I create a new class file,\r\n\r\neven though I turn off this option ***&quot;When files are created: Do not add&quot;***,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nalways &quot;Add file to git&quot; notification harass me...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/opxdm.png","title":"How to turn off &quot;Add file to git&quot; in Intellij?","body":"<p>When I create a new class file,</p>\n<p>even though I turn off this option <em><strong>&quot;When files are created: Do not add&quot;</strong></em>,</p>\n<p><a href=\"https://i.stack.imgur.com/opxdm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/opxdm.png\" alt=\"enter image description here\" /></a></p>\n<p>always &quot;Add file to git&quot; notification harass me...</p>\n"},{"tags":["java","try-with-resources","autocloseable"],"answers":[{"tags":[],"owner":{"account_id":4891345,"reputation":345,"user_id":3942407,"display_name":"brb tea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416038963,"creation_date":1416037721,"answer_id":26943775,"question_id":26943481,"body_markdown":"*&#39;Note that this requires a second call to close to be a no-op&#39;*  - No you don&#39;t need `close()` in `catch` block, as `finally` block will always going to be executed. You will only use `close()` inside `catch` block if you terminate JVM with call like `System.exit()` in `catch` block. Generally you will throw `Exception` to caller from `catch` clock, but you will perform cleanups in `finally` block most of time.\r\n\r\nTry-with-resource is better, but you can use type and description of `Exception` thrown to decipher what and where went wrong.\r\n\r\n**EDIT**\r\n\r\nPer my knowledge I suggest:\r\n\r\n1) Try with resource:\r\n\r\n    try(Resource resource = new Resource()){\r\n        // use resource.\r\n    }catch(Exception e){\r\n        // handle exception.\r\n        // OR better to throw exception to caller.\r\n        throw e;\r\n    }\r\n\r\n2) Conventional style:\r\n\r\n    Resource resource = null;\r\n    try{\r\n        resource = new Resource();\r\n        // use resource\r\n    }catch(Exception e){\r\n        // handle exception.\r\n        // OR better to throw exception to caller.\r\n        throw e;\r\n    } finally {\r\n       if(resource != null){\r\n           try{\r\n               resource.close();\r\n           } catch(Exception e){\r\n               // most of time you wont or cant do anything here.\r\n           }\r\n       }\r\n    }","title":"Catch errors during object construction from try-with-resources separately from body","body":"<p><em>'Note that this requires a second call to close to be a no-op'</em>  - No you don't need <code>close()</code> in <code>catch</code> block, as <code>finally</code> block will always going to be executed. You will only use <code>close()</code> inside <code>catch</code> block if you terminate JVM with call like <code>System.exit()</code> in <code>catch</code> block. Generally you will throw <code>Exception</code> to caller from <code>catch</code> clock, but you will perform cleanups in <code>finally</code> block most of time.</p>\n\n<p>Try-with-resource is better, but you can use type and description of <code>Exception</code> thrown to decipher what and where went wrong.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Per my knowledge I suggest:</p>\n\n<p>1) Try with resource:</p>\n\n<pre><code>try(Resource resource = new Resource()){\n    // use resource.\n}catch(Exception e){\n    // handle exception.\n    // OR better to throw exception to caller.\n    throw e;\n}\n</code></pre>\n\n<p>2) Conventional style:</p>\n\n<pre><code>Resource resource = null;\ntry{\n    resource = new Resource();\n    // use resource\n}catch(Exception e){\n    // handle exception.\n    // OR better to throw exception to caller.\n    throw e;\n} finally {\n   if(resource != null){\n       try{\n           resource.close();\n       } catch(Exception e){\n           // most of time you wont or cant do anything here.\n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560884508,"creation_date":1560884508,"answer_id":56655475,"question_id":26943481,"body_markdown":"One solution is to define a method which wraps initialization errors in a custom exception type, and then use that to determine when errors occurred.\r\n```\r\nprivate CloseableClass createCloseable() throws CloseableCreateException{\r\n    try {\r\n        return new CloseableClass();\r\n    } except (IOException e) {\r\n        throw new CloseableCreateException(e);\r\n    }\r\n}\r\n```\r\n```\r\ntry (CloseableClass closeable = initCloseable()) {\r\n    closeable.internetStuff();\r\n} catch (CloseableCreateException e) {\r\n    System.out.println(&quot;Constructor error!&quot;);\r\n} catch (IOException e) {\r\n    System.out.println(&quot;Body error!&quot;);\r\n}\r\n```\r\n\r\nAnother simple but somewhat inelegant solution is to use a boolean flag:\r\n```\r\nboolean init = true;\r\ntry (CloseableClass closeable = new CloseableClass()) {\r\n    init = false;\r\n    closeable.internetStuff();\r\n} catch (IOException e) {\r\n    if (init) {\r\n        System.out.println(&quot;Constructor error!&quot;);\r\n    } else {\r\n        System.out.println(&quot;Body error!&quot;);\r\n    }\r\n}\r\n```","title":"Catch errors during object construction from try-with-resources separately from body","body":"<p>One solution is to define a method which wraps initialization errors in a custom exception type, and then use that to determine when errors occurred.</p>\n\n<pre><code>private CloseableClass createCloseable() throws CloseableCreateException{\n    try {\n        return new CloseableClass();\n    } except (IOException e) {\n        throw new CloseableCreateException(e);\n    }\n}\n</code></pre>\n\n<pre><code>try (CloseableClass closeable = initCloseable()) {\n    closeable.internetStuff();\n} catch (CloseableCreateException e) {\n    System.out.println(\"Constructor error!\");\n} catch (IOException e) {\n    System.out.println(\"Body error!\");\n}\n</code></pre>\n\n<p>Another simple but somewhat inelegant solution is to use a boolean flag:</p>\n\n<pre><code>boolean init = true;\ntry (CloseableClass closeable = new CloseableClass()) {\n    init = false;\n    closeable.internetStuff();\n} catch (IOException e) {\n    if (init) {\n        System.out.println(\"Constructor error!\");\n    } else {\n        System.out.println(\"Body error!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1962115,"reputation":58811,"user_id":1763356,"accept_rate":79,"display_name":"Veedrac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649937842,"creation_date":1649937842,"answer_id":71871319,"question_id":26943481,"body_markdown":"Since Java 9, try-with-resources has accepted ‘effectively final’ variables, so you do not need to reassign the variable.\r\n\r\n    CloseableClass closeable;\r\n\r\n    try {\r\n        closeable = new CloseableClass();\r\n    }\r\n    catch (IOException e) {            \r\n        System.out.println(&quot;Constructor error!&quot;);\r\n        return;\r\n    }\r\n\r\n    try (closeable) {\r\n        closeable.internetStuff();\r\n    }\r\n    catch (IOException e) {\r\n        System.out.println(&quot;Body error!&quot;);\r\n    }","title":"Catch errors during object construction from try-with-resources separately from body","body":"<p>Since Java 9, try-with-resources has accepted ‘effectively final’ variables, so you do not need to reassign the variable.</p>\n<pre><code>CloseableClass closeable;\n\ntry {\n    closeable = new CloseableClass();\n}\ncatch (IOException e) {            \n    System.out.println(&quot;Constructor error!&quot;);\n    return;\n}\n\ntry (closeable) {\n    closeable.internetStuff();\n}\ncatch (IOException e) {\n    System.out.println(&quot;Body error!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1962115,"reputation":58811,"user_id":1763356,"accept_rate":79,"display_name":"Veedrac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2120,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71871319,"answer_count":3,"score":3,"last_activity_date":1649937842,"creation_date":1416035193,"question_id":26943481,"body_markdown":"### Summary\r\n\r\nI have a closeable type, `CloseableClass` that can throw an IOError in its constructor, methods and maybe even inside `close`. I want to use try-with-resources and still deal with errors during construction differently to errors during use (use includes cleanup). Even better, I would like to write maintainable code.\r\n\r\n---\r\n\r\nLet&#39;s say you wish to construct a closeable class instance and use it with a try-with-resources statement. It can throw `IOException` in both its constructor and the method used in the body of the try-with-resources:\r\n\r\n    import java.io.Closeable;\r\n    import java.io.IOException;\r\n    import java.util.Random;\r\n\r\n    public class CloseableClass implements Closeable {\r\n        public CloseableClass() throws IOException {\r\n            if (new Random().nextBoolean()) {\r\n                throw new IOException();\r\n            }\r\n        }\r\n\r\n        public void internetStuff() throws IOException {\r\n            if (new Random().nextBoolean()) {\r\n                throw new IOException();\r\n            }\r\n        }\r\n\r\n        public void close() throws IOException {\r\n            if (new Random().nextBoolean()) {\r\n                throw new IOException();\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            try (CloseableClass closeable = new CloseableClass()) {\r\n                closeable.internetStuff();\r\n            }\r\n            catch (IOException e) {\r\n                System.out.println(&quot;Bad error!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nLet&#39;s say you want to deal with the errors thrown in the constructor and the body separately. Is there a supported way to do that? In Python I would do:\r\n\r\n    try:\r\n        closeable = CloseableClass()\r\n    except IOException:\r\n        print(&quot;Constructor error&quot;)\r\n        return\r\n\r\n    try:\r\n        with closeable:\r\n            closeable.internet_stuff()\r\n    except IOException:\r\n        print(&quot;Body error&quot;)\r\n\r\nbut in Java you cannot without assigning a second name to the object:\r\n\r\n    CloseableClass closeable_;\r\n\r\n    try {\r\n        closeable_ = new CloseableClass();\r\n    }\r\n    catch (IOException e) {            \r\n        System.out.println(&quot;Constructor error!&quot;);\r\n        return;\r\n    }\r\n\r\n    try (CloseableClass closeable = closeable_) {\r\n        closeable.internetStuff();\r\n    }\r\n    catch (IOException e) {\r\n        System.out.println(&quot;Body error!&quot;);\r\n    }\r\n\r\nI have been told that this is &quot;unmaintainable code&quot; primarily due to the use of `closeable_`, and I&#39;m not far from agreeing. I wish to avoid using try-finally because then you have the even worse problem of emulating it:\r\n\r\n    CloseableClass closeable;\r\n\r\n    try {\r\n        closeable = new CloseableClass();\r\n    }\r\n    catch (IOException e) {            \r\n        System.out.println(&quot;Constructor error!&quot;);\r\n        return;\r\n    }\r\n\r\n    try {\r\n        closeable.internetStuff();\r\n    }\r\n    catch (IOException e) {\r\n        try {\r\n            closeable.close();\r\n        }\r\n        catch (IOException ignore) {\r\n            // Already dealing with this\r\n        }\r\n\r\n        System.out.println(&quot;Body error!&quot;);\r\n    }\r\n    finally {\r\n        try {\r\n            closeable.close();\r\n        }\r\n        catch (IOException e) {\r\n            System.out.println(&quot;Body error!&quot;);\r\n        }\r\n    }\r\n\r\nNote that this requires a second call to `close` to be a no-op, which the test class doesn&#39;t abide by (note that `AutoCloseable` doesn&#39;t require this, although `Closeable` does). This is a tad nicer when `close` can&#39;t throw, but not much.\r\n\r\nBasically the problem is that\r\n\r\n* `close` can throw\r\n* Close before dealing with `IOException` to prevent printing `&quot;Body error!&quot;` twice\r\n* It&#39;s not obvious how to make it work with multiple initializers from the try-with-resources\r\n* You end up duplicating code anyway.\r\n\r\nAm I just forced to live with the &quot;unmaintainable code&quot; or am I overlooking a good method to deal with this?\r\n","title":"Catch errors during object construction from try-with-resources separately from body","body":"<h3>Summary</h3>\n\n<p>I have a closeable type, <code>CloseableClass</code> that can throw an IOError in its constructor, methods and maybe even inside <code>close</code>. I want to use try-with-resources and still deal with errors during construction differently to errors during use (use includes cleanup). Even better, I would like to write maintainable code.</p>\n\n<hr>\n\n<p>Let's say you wish to construct a closeable class instance and use it with a try-with-resources statement. It can throw <code>IOException</code> in both its constructor and the method used in the body of the try-with-resources:</p>\n\n<pre><code>import java.io.Closeable;\nimport java.io.IOException;\nimport java.util.Random;\n\npublic class CloseableClass implements Closeable {\n    public CloseableClass() throws IOException {\n        if (new Random().nextBoolean()) {\n            throw new IOException();\n        }\n    }\n\n    public void internetStuff() throws IOException {\n        if (new Random().nextBoolean()) {\n            throw new IOException();\n        }\n    }\n\n    public void close() throws IOException {\n        if (new Random().nextBoolean()) {\n            throw new IOException();\n        }\n    }\n\n    public static void main(String[] args) {\n        try (CloseableClass closeable = new CloseableClass()) {\n            closeable.internetStuff();\n        }\n        catch (IOException e) {\n            System.out.println(\"Bad error!\");\n        }\n    }\n}\n</code></pre>\n\n<p>Let's say you want to deal with the errors thrown in the constructor and the body separately. Is there a supported way to do that? In Python I would do:</p>\n\n<pre><code>try:\n    closeable = CloseableClass()\nexcept IOException:\n    print(\"Constructor error\")\n    return\n\ntry:\n    with closeable:\n        closeable.internet_stuff()\nexcept IOException:\n    print(\"Body error\")\n</code></pre>\n\n<p>but in Java you cannot without assigning a second name to the object:</p>\n\n<pre><code>CloseableClass closeable_;\n\ntry {\n    closeable_ = new CloseableClass();\n}\ncatch (IOException e) {            \n    System.out.println(\"Constructor error!\");\n    return;\n}\n\ntry (CloseableClass closeable = closeable_) {\n    closeable.internetStuff();\n}\ncatch (IOException e) {\n    System.out.println(\"Body error!\");\n}\n</code></pre>\n\n<p>I have been told that this is \"unmaintainable code\" primarily due to the use of <code>closeable_</code>, and I'm not far from agreeing. I wish to avoid using try-finally because then you have the even worse problem of emulating it:</p>\n\n<pre><code>CloseableClass closeable;\n\ntry {\n    closeable = new CloseableClass();\n}\ncatch (IOException e) {            \n    System.out.println(\"Constructor error!\");\n    return;\n}\n\ntry {\n    closeable.internetStuff();\n}\ncatch (IOException e) {\n    try {\n        closeable.close();\n    }\n    catch (IOException ignore) {\n        // Already dealing with this\n    }\n\n    System.out.println(\"Body error!\");\n}\nfinally {\n    try {\n        closeable.close();\n    }\n    catch (IOException e) {\n        System.out.println(\"Body error!\");\n    }\n}\n</code></pre>\n\n<p>Note that this requires a second call to <code>close</code> to be a no-op, which the test class doesn't abide by (note that <code>AutoCloseable</code> doesn't require this, although <code>Closeable</code> does). This is a tad nicer when <code>close</code> can't throw, but not much.</p>\n\n<p>Basically the problem is that</p>\n\n<ul>\n<li><code>close</code> can throw</li>\n<li>Close before dealing with <code>IOException</code> to prevent printing <code>\"Body error!\"</code> twice</li>\n<li>It's not obvious how to make it work with multiple initializers from the try-with-resources</li>\n<li>You end up duplicating code anyway.</li>\n</ul>\n\n<p>Am I just forced to live with the \"unmaintainable code\" or am I overlooking a good method to deal with this?</p>\n"},{"tags":["java","java-stream","relationship"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":5,"creation_date":1648598138,"post_id":71669428,"comment_id":126663804,"body_markdown":"First, it makes no sense that Mother is a subclass of NewBorn. That means that a Mother is-a NewBorn. Second, there is no association between mothers and newborns. A Mother has a list of newborns and a set of newborns (why both?), but the list is an empty list and the set is null. Third, in your stream, you only have access to the mother. There is no way to get the children, and `newBorn` is just an undeclared variable.","body":"First, it makes no sense that Mother is a subclass of NewBorn. That means that a Mother is-a NewBorn. Second, there is no association between mothers and newborns. A Mother has a list of newborns and a set of newborns (why both?), but the list is an empty list and the set is null. Third, in your stream, you only have access to the mother. There is no way to get the children, and <code>newBorn</code> is just an undeclared variable."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1648619217,"post_id":71669428,"comment_id":126667134,"body_markdown":"Hello,  so I should extend `Mother` inside the `NewBorn` yes ?\nI wanted a list of NewBorn inside the mother  , I forrgot to remove the set . As you said, how do I do to have the correct association between mothers and newborns?\nRegarding the filter,  how can I get the mother with above specific age that have a child above specific weigth ? I should have have 2 diff methods?","body":"Hello,  so I should extend <code>Mother</code> inside the <code>NewBorn</code> yes ? I wanted a list of NewBorn inside the mother  , I forrgot to remove the set . As you said, how do I do to have the correct association between mothers and newborns? Regarding the filter,  how can I get the mother with above specific age that have a child above specific weigth ? I should have have 2 diff methods?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1648654231,"post_id":71669428,"comment_id":126680799,"body_markdown":"Maybe there could be a common base class, like Person, that they both extend, but it doesn&#39;t make sense for a Mother to be a NewBorn or a NewBorn to be a Mother. But you need to have a way, given a Mother, to get a collection of her children.","body":"Maybe there could be a common base class, like Person, that they both extend, but it doesn&#39;t make sense for a Mother to be a NewBorn or a NewBorn to be a Mother. But you need to have a way, given a Mother, to get a collection of her children."}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648645566,"creation_date":1648645566,"answer_id":71677809,"question_id":71669428,"body_markdown":"I think you are looking for something like:\r\n\r\n        public static List&lt;Mother&gt; above25YoAndChildHeavierThen4000g(List&lt;Mother&gt; motherList, List&lt;NewBorn&gt; newBornList) {\r\n        return motherList.stream()\r\n                .filter(mother -&gt; mother.getAge() &gt; 25)\r\n                .filter(mother -&gt; mother.getChildren().stream()\r\n                        .anyMatch(child -&gt; child.getWeight() &gt; 4000))\r\n                .collect(Collectors.toList());\r\n        }\r\nHowever the code overall definitely needs cleaning as advised in the comments","title":"stream().filter between Classes","body":"<p>I think you are looking for something like:</p>\n<pre><code>    public static List&lt;Mother&gt; above25YoAndChildHeavierThen4000g(List&lt;Mother&gt; motherList, List&lt;NewBorn&gt; newBornList) {\n    return motherList.stream()\n            .filter(mother -&gt; mother.getAge() &gt; 25)\n            .filter(mother -&gt; mother.getChildren().stream()\n                    .anyMatch(child -&gt; child.getWeight() &gt; 4000))\n            .collect(Collectors.toList());\n    }\n</code></pre>\n<p>However the code overall definitely needs cleaning as advised in the comments</p>\n"},{"tags":[],"owner":{"display_name":"user18802229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649937598,"creation_date":1649937598,"answer_id":71871271,"question_id":71669428,"body_markdown":"public List&lt;Mother&gt; motherMoreThan() {\r\n        List&lt;Mother&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        for (Mother mother : mothers) {\r\n            if (mother.getAge() &gt; 25 &amp;&amp; isChildOver4000(mother)) {\r\n                list.add(mother);\r\n            }\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n    public boolean isChildOver4000(Mother mother) {\r\n        for (Newborn newborn : mother.getList()) {\r\n            if (newborn.getWeight() &gt; 4000) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\nyou can call them like this :\r\n\r\n    System.out.println(&quot;\\nMothers over 25 Years old with childer heavier than 4000g;&quot;);\r\n            app.motherMoreThan()\r\n                    .forEach(System.out::println);","title":"stream().filter between Classes","body":"<p>public List motherMoreThan() {\nList list = new ArrayList&lt;&gt;();</p>\n<pre><code>    for (Mother mother : mothers) {\n        if (mother.getAge() &gt; 25 &amp;&amp; isChildOver4000(mother)) {\n            list.add(mother);\n        }\n    }\n\n    return list;\n}\n\npublic boolean isChildOver4000(Mother mother) {\n    for (Newborn newborn : mother.getList()) {\n        if (newborn.getWeight() &gt; 4000) {\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n<p>you can call them like this :</p>\n<pre><code>System.out.println(&quot;\\nMothers over 25 Years old with childer heavier than 4000g;&quot;);\n        app.motherMoreThan()\n                .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"display_name":"user17695302"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71871271,"answer_count":2,"score":0,"last_activity_date":1649937598,"creation_date":1648592584,"question_id":71669428,"body_markdown":"I have 2 classes \r\nMother and Newborn\r\nClass Mother:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class Mother extends NewBorn {\r\n    \r\n    \r\n        private List&lt;NewBorn&gt; newBornList = new ArrayList&lt;&gt;();\r\n        private Set&lt;NewBorn&gt; children;\r\n    \r\n        private int id;\r\n        private String name;\r\n        private int age;\r\n    \r\n        public Mother(Mother mother, List&lt;NewBorn&gt; newBornList, Set&lt;NewBorn&gt; children, int id, String name, int age) {\r\n            super(mother);\r\n            this.newBornList = newBornList;\r\n            this.children = children;\r\n            this.id = id;\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public Mother(int id, String name, int age) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public Mother(int id, String gender, String name, int birthdate, int weight, int height, List&lt;NewBorn&gt; newBornList, Set&lt;NewBorn&gt; children, int id1, String name1, int age) {\r\n            super(id, gender, name, birthdate, weight, height);\r\n            this.newBornList = newBornList;\r\n            this.children = children;\r\n            this.id = id1;\r\n            this.name = name1;\r\n            this.age = age;\r\n        }\r\n    \r\n        public List&lt;NewBorn&gt; getNewBornList() {\r\n            return newBornList;\r\n        }\r\n    \r\n        public void setNewBornList(List&lt;NewBorn&gt; newBornList) {\r\n            this.newBornList = newBornList;\r\n        }\r\n    \r\n        public Set&lt;NewBorn&gt; getChildren() {\r\n            return children;\r\n        }\r\n    \r\n        public void setChildren(Set&lt;NewBorn&gt; children) {\r\n            this.children = children;\r\n        }\r\n    \r\n        @Override\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        @Override\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        @Override\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Mother{&quot; +\r\n                    &quot;newBornList=&quot; + newBornList +\r\n                    &quot;, children=&quot; + children +\r\n                    &quot;, id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, age=&quot; + age +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\nClass NewBorn: \r\n\r\n    public class NewBorn {\r\n        private Mother mother;\r\n    \r\n        public NewBorn(Mother mother) {\r\n            this.mother = mother;\r\n        }\r\n        public NewBorn() {\r\n    \r\n        }\r\n        public Mother getMother() {\r\n            return mother;\r\n        }\r\n        public void setMother(Mother mother) {\r\n            this.mother = mother;\r\n        }\r\n        private int id;\r\n        private String gender;\r\n        private String name;\r\n        private int birthdate;\r\n        private int weight;\r\n        private int height;\r\n        private int motherId;\r\n    \r\n        public NewBorn(int id, String gender, String name, int birthdate, int weight, int height) {\r\n            this.id = id;\r\n            this.gender = gender;\r\n            this.name = name;\r\n            this.birthdate = birthdate;\r\n            this.weight = weight;\r\n            this.height = height;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getGender() {\r\n            return gender;\r\n        }\r\n    \r\n        public void setGender(String gender) {\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getBirthdate() {\r\n            return birthdate;\r\n        }\r\n    \r\n        public void setBirthdate(int birthdate) {\r\n            this.birthdate = birthdate;\r\n        }\r\n    \r\n        public int getWeight() {\r\n            return weight;\r\n        }\r\n    \r\n        public void setWeight(int weight) {\r\n            this.weight = weight;\r\n        }\r\n    \r\n        public int getHeight() {\r\n            return height;\r\n        }\r\n    \r\n        public void setHeight(int height) {\r\n            this.height = height;\r\n        }\r\n    \r\n        public int getMotherId() {\r\n            return motherId;\r\n        }\r\n    \r\n        public void setMotherId(int motherId) {\r\n            this.motherId = motherId;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;NewBorn{&quot; +\r\n                    &quot;mother=&quot; + mother +\r\n                    &quot;, id=&quot; + id +\r\n                    &quot;, gender=&#39;&quot; + gender + &#39;\\&#39;&#39; +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, birthdate=&quot; + birthdate +\r\n                    &quot;, weight=&quot; + weight +\r\n                    &quot;, height=&quot; + height +\r\n                    &quot;, motherId=&quot; + motherId +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI have to get the mother older then 25years old  that have child more then 4000g weigth\r\n\r\nI did the following \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            List&lt;Mother&gt; motherabove = above25YoAndChildHeavierThen4000g(mothers, newBorns);\r\n            System.out.println(&quot;List with mothers above 25 years old and childs that are over 4000g weigth: &quot; + motherabove + &quot;\\n&quot;);\r\n        }\r\n    \r\n    \r\n       public static List&lt;Mother&gt; parseMotherFileTxt() throws IOException {\r\n            List&lt;Mother&gt; mothers = new ArrayList&lt;&gt;();\r\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;src\\\\mamy.txt&quot;));\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                String[] s = line.split(&quot;\\\\s&quot;);\r\n                mothers.add(new Mother(Integer.parseInt(s[0]), s[1], Integer.parseInt(s[2])));\r\n            }\r\n            bufferedReader.close();\r\n            return mothers;\r\n        }\r\n    \r\n        public static List&lt;NewBorn&gt; parseNewBornFileTxt() throws IOException {\r\n            List&lt;NewBorn&gt; newBorn = new ArrayList&lt;&gt;();\r\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;src\\\\noworodki.txt&quot;));\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                String[] s = line.split(&quot;\\\\s&quot;);\r\n                newBorn.add(new NewBorn(Integer.parseInt(s[0]), s[1], s[2], Integer.parseInt(s[4]), Integer.parseInt(s[5]), Integer.parseInt(s[6])));\r\n            }\r\n            bufferedReader.close();\r\n            return newBorn;\r\n        }\r\n    \r\n        public static List&lt;Mother&gt; above25YoAndChildHeavierThen4000g(List&lt;Mother&gt; motherList, List&lt;NewBorn&gt; newBornList) {\r\n            return motherList.stream()\r\n                    .filter(mother -&gt; mother.getAge() &gt; 25)//over 25yo\r\n                    .filter(mother -&gt; mother .getMotherId() == newBorn.getId())//get mother that have same id as child so assuming that means that this is the mother of the child\r\n                    .filter(newBorn-&gt; newBorn.getWeight() &gt; 4000)//child over 4000g\r\n                    .collect(Collectors.toList());// I expect to collect all the filters and return the correct output : Example  Mother  is  : 112 Laura 38  \r\n     and she have a child : 29 s Gabriel 1999-11-16 4100 54 112 = where  112 is the mother id that `I know is child of the mother` \r\n    \r\n        }\r\n\r\nI think something is wrong in the relation between the classes because I assume that the filter should work just fine if everything else is ok.\r\n\r\nNormally should have mother has a list of children and a specific child has a field mother so with this I should be able to filter through.","title":"stream().filter between Classes","body":"<p>I have 2 classes\nMother and Newborn\nClass Mother:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Mother extends NewBorn {\n\n\n    private List&lt;NewBorn&gt; newBornList = new ArrayList&lt;&gt;();\n    private Set&lt;NewBorn&gt; children;\n\n    private int id;\n    private String name;\n    private int age;\n\n    public Mother(Mother mother, List&lt;NewBorn&gt; newBornList, Set&lt;NewBorn&gt; children, int id, String name, int age) {\n        super(mother);\n        this.newBornList = newBornList;\n        this.children = children;\n        this.id = id;\n        this.name = name;\n        this.age = age;\n    }\n\n    public Mother(int id, String name, int age) {\n        this.id = id;\n        this.name = name;\n        this.age = age;\n    }\n\n    public Mother(int id, String gender, String name, int birthdate, int weight, int height, List&lt;NewBorn&gt; newBornList, Set&lt;NewBorn&gt; children, int id1, String name1, int age) {\n        super(id, gender, name, birthdate, weight, height);\n        this.newBornList = newBornList;\n        this.children = children;\n        this.id = id1;\n        this.name = name1;\n        this.age = age;\n    }\n\n    public List&lt;NewBorn&gt; getNewBornList() {\n        return newBornList;\n    }\n\n    public void setNewBornList(List&lt;NewBorn&gt; newBornList) {\n        this.newBornList = newBornList;\n    }\n\n    public Set&lt;NewBorn&gt; getChildren() {\n        return children;\n    }\n\n    public void setChildren(Set&lt;NewBorn&gt; children) {\n        this.children = children;\n    }\n\n    @Override\n    public int getId() {\n        return id;\n    }\n\n    @Override\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Mother{&quot; +\n                &quot;newBornList=&quot; + newBornList +\n                &quot;, children=&quot; + children +\n                &quot;, id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n</code></pre>\n<p>Class NewBorn:</p>\n<pre><code>public class NewBorn {\n    private Mother mother;\n\n    public NewBorn(Mother mother) {\n        this.mother = mother;\n    }\n    public NewBorn() {\n\n    }\n    public Mother getMother() {\n        return mother;\n    }\n    public void setMother(Mother mother) {\n        this.mother = mother;\n    }\n    private int id;\n    private String gender;\n    private String name;\n    private int birthdate;\n    private int weight;\n    private int height;\n    private int motherId;\n\n    public NewBorn(int id, String gender, String name, int birthdate, int weight, int height) {\n        this.id = id;\n        this.gender = gender;\n        this.name = name;\n        this.birthdate = birthdate;\n        this.weight = weight;\n        this.height = height;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getBirthdate() {\n        return birthdate;\n    }\n\n    public void setBirthdate(int birthdate) {\n        this.birthdate = birthdate;\n    }\n\n    public int getWeight() {\n        return weight;\n    }\n\n    public void setWeight(int weight) {\n        this.weight = weight;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    public void setHeight(int height) {\n        this.height = height;\n    }\n\n    public int getMotherId() {\n        return motherId;\n    }\n\n    public void setMotherId(int motherId) {\n        this.motherId = motherId;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;NewBorn{&quot; +\n                &quot;mother=&quot; + mother +\n                &quot;, id=&quot; + id +\n                &quot;, gender='&quot; + gender + '\\'' +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, birthdate=&quot; + birthdate +\n                &quot;, weight=&quot; + weight +\n                &quot;, height=&quot; + height +\n                &quot;, motherId=&quot; + motherId +\n                '}';\n    }\n\n}\n</code></pre>\n<p>I have to get the mother older then 25years old  that have child more then 4000g weigth</p>\n<p>I did the following</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n\n        List&lt;Mother&gt; motherabove = above25YoAndChildHeavierThen4000g(mothers, newBorns);\n        System.out.println(&quot;List with mothers above 25 years old and childs that are over 4000g weigth: &quot; + motherabove + &quot;\\n&quot;);\n    }\n\n\n   public static List&lt;Mother&gt; parseMotherFileTxt() throws IOException {\n        List&lt;Mother&gt; mothers = new ArrayList&lt;&gt;();\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;src\\\\mamy.txt&quot;));\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            String[] s = line.split(&quot;\\\\s&quot;);\n            mothers.add(new Mother(Integer.parseInt(s[0]), s[1], Integer.parseInt(s[2])));\n        }\n        bufferedReader.close();\n        return mothers;\n    }\n\n    public static List&lt;NewBorn&gt; parseNewBornFileTxt() throws IOException {\n        List&lt;NewBorn&gt; newBorn = new ArrayList&lt;&gt;();\n        BufferedReader bufferedReader = new BufferedReader(new FileReader(&quot;src\\\\noworodki.txt&quot;));\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            String[] s = line.split(&quot;\\\\s&quot;);\n            newBorn.add(new NewBorn(Integer.parseInt(s[0]), s[1], s[2], Integer.parseInt(s[4]), Integer.parseInt(s[5]), Integer.parseInt(s[6])));\n        }\n        bufferedReader.close();\n        return newBorn;\n    }\n\n    public static List&lt;Mother&gt; above25YoAndChildHeavierThen4000g(List&lt;Mother&gt; motherList, List&lt;NewBorn&gt; newBornList) {\n        return motherList.stream()\n                .filter(mother -&gt; mother.getAge() &gt; 25)//over 25yo\n                .filter(mother -&gt; mother .getMotherId() == newBorn.getId())//get mother that have same id as child so assuming that means that this is the mother of the child\n                .filter(newBorn-&gt; newBorn.getWeight() &gt; 4000)//child over 4000g\n                .collect(Collectors.toList());// I expect to collect all the filters and return the correct output : Example  Mother  is  : 112 Laura 38  \n and she have a child : 29 s Gabriel 1999-11-16 4100 54 112 = where  112 is the mother id that `I know is child of the mother` \n\n    }\n</code></pre>\n<p>I think something is wrong in the relation between the classes because I assume that the filter should work just fine if everything else is ok.</p>\n<p>Normally should have mother has a list of children and a specific child has a field mother so with this I should be able to filter through.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":24928148,"reputation":13,"user_id":18795620,"display_name":"miro"},"score":0,"creation_date":1649929592,"post_id":71861212,"comment_id":127001105,"body_markdown":"@Blednov,@g00se","body":"@Blednov,@g00se"}],"answers":[{"tags":[],"owner":{"account_id":11791861,"reputation":55,"user_id":8627746,"display_name":"Blednov Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649879468,"creation_date":1649875099,"answer_id":71862404,"question_id":71861212,"body_markdown":"First of all, your files are storing in a different packages,\r\n\r\n&gt; ~/User/User.java ~/Main/Main.java\r\n\r\nand you have no `import` in your Main.java.\r\n\r\nBy default the visibility is package private level.","title":"import jar file into my hello world console application","body":"<p>First of all, your files are storing in a different packages,</p>\n<blockquote>\n<p>~/User/User.java ~/Main/Main.java</p>\n</blockquote>\n<p>and you have no <code>import</code> in your Main.java.</p>\n<p>By default the visibility is package private level.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649891970,"creation_date":1649891970,"answer_id":71864800,"question_id":71861212,"body_markdown":"You really should properly package your classes, but:\r\n\r\n    goose@t410:/tmp$ javac Main.java User.java \r\n    goose@t410:/tmp$ jar cfe user.jar Main  Main.class User.class \r\n    goose@t410:/tmp$ java -jar user.jar\r\n    User@4e0e2f2a\r\n\r\n","title":"import jar file into my hello world console application","body":"<p>You really should properly package your classes, but:</p>\n<pre><code>goose@t410:/tmp$ javac Main.java User.java \ngoose@t410:/tmp$ jar cfe user.jar Main  Main.class User.class \ngoose@t410:/tmp$ java -jar user.jar\nUser@4e0e2f2a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24928148,"reputation":13,"user_id":18795620,"display_name":"miro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649937420,"creation_date":1649937102,"answer_id":71871175,"question_id":71861212,"body_markdown":"I was able to find previous thread that helps. \r\n\r\nClick [here](https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt#comment11870389_9395207)\r\n\r\nReading and trying them out in my development environment which is Win 11, I found argument expression to -cp, classpath is OS depedent. \r\n\r\nI didn&#39;t quite make it work as I wanted but I should move on. \r\n\r\n","title":"import jar file into my hello world console application","body":"<p>I was able to find previous thread that helps.</p>\n<p>Click <a href=\"https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt#comment11870389_9395207\">here</a></p>\n<p>Reading and trying them out in my development environment which is Win 11, I found argument expression to -cp, classpath is OS depedent.</p>\n<p>I didn't quite make it work as I wanted but I should move on.</p>\n"}],"owner":{"account_id":24928148,"reputation":13,"user_id":18795620,"display_name":"miro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71864800,"answer_count":3,"score":1,"last_activity_date":1649937420,"creation_date":1649868956,"question_id":71861212,"body_markdown":"I understand Maven is used to manage libs, but I wanted to do a simple example I thought will work  . But I am stuck with though I spent few hours searching and trying out. This bothers me a lot, before give up, I post here if anyone can help.\r\n\r\n**What I want to do:**\r\nI have User.java and Main.java in its own folder.\r\nI want to build User and make it Jar. \r\nAnd I want to use User.jar in my Main.java application.\r\n\r\n**My setup:**\r\n~/User/User.java\r\n~/Main/Main.java\r\n\r\n*User.java* \r\n```\r\npublic class User {\r\n    private String name;\r\n    int idx;\r\n}\r\n```\r\n\r\n*Main.java*\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        User user = new User();\r\n        System.out.println(user);\r\n    }\r\n}\r\n```\r\n\r\n**What I tried:**\r\n\r\n```javac User.java```\r\n\r\n```jar cf User.jar User.class```\r\n\r\ncopied User.jar file to Main folder\r\n\r\n```javac -cp User.jar Main.java```\r\n\r\n```java Main```\r\n\r\ngives error \r\n\r\n**Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: User \r\nat Main.main (Main.java:5)** \r\n\r\nI think giving class path to jar will fix \r\n\r\n```Java -cp User.jar Main```\r\n\r\nbut this also gives error \r\n\r\n**Error: Could not find or load main class Main \r\nboth give error**\r\n\r\n\r\n\r\nwhat&#39;s problem and fix?\r\n\r\n\r\n","title":"import jar file into my hello world console application","body":"<p>I understand Maven is used to manage libs, but I wanted to do a simple example I thought will work  . But I am stuck with though I spent few hours searching and trying out. This bothers me a lot, before give up, I post here if anyone can help.</p>\n<p><strong>What I want to do:</strong>\nI have User.java and Main.java in its own folder.\nI want to build User and make it Jar.\nAnd I want to use User.jar in my Main.java application.</p>\n<p><strong>My setup:</strong>\n~/User/User.java\n~/Main/Main.java</p>\n<p><em>User.java</em></p>\n<pre><code>public class User {\n    private String name;\n    int idx;\n}\n</code></pre>\n<p><em>Main.java</em></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        User user = new User();\n        System.out.println(user);\n    }\n}\n</code></pre>\n<p><strong>What I tried:</strong></p>\n<p><code>javac User.java</code></p>\n<p><code>jar cf User.jar User.class</code></p>\n<p>copied User.jar file to Main folder</p>\n<p><code>javac -cp User.jar Main.java</code></p>\n<p><code>java Main</code></p>\n<p>gives error</p>\n<p><strong>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: User\nat Main.main (Main.java:5)</strong></p>\n<p>I think giving class path to jar will fix</p>\n<p><code>Java -cp User.jar Main</code></p>\n<p>but this also gives error</p>\n<p><strong>Error: Could not find or load main class Main\nboth give error</strong></p>\n<p>what's problem and fix?</p>\n"},{"tags":["java","list","java-stream","localdate"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1648725430,"post_id":71691398,"comment_id":126700288,"body_markdown":"shouldn&#39;t this method&#39;s return type be `Date` not `List&lt;NewBorn&gt;`?","body":"shouldn&#39;t this method&#39;s return type be <code>Date</code> not <code>List&lt;NewBorn&gt;</code>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1648728148,"post_id":71691398,"comment_id":126701281,"body_markdown":"@HariHaravelan Nope, [`LocalDate`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html).","body":"@HariHaravelan Nope, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1648789833,"post_id":71691398,"comment_id":126718178,"body_markdown":"Indeed, that  is a thing i did not look corectly for :(","body":"Indeed, that  is a thing i did not look corectly for :("}],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648730469,"creation_date":1648728999,"answer_id":71692321,"question_id":71691398,"body_markdown":"Here, First filtering the null `birthdate`, then grouping it by birthdate then collecting it to a Map with `birthdate` as key and occurrence as value, then returning the max occurrence `birthdate`\r\n\r\n```java\r\npublic static LocalDate dateInWitchMostChildrenAreBorn(List&lt;NewBorn&gt; newBornList) {\r\n    return newBornList.stream()\r\n        .filter(newBorn -&gt; Objects.nonNull(newBorn.getBirthdate()))\r\n        .collect(Collectors.groupingBy(NewBorn::getBirthdate, Collectors.counting()))\r\n        .entrySet().stream()\r\n        .max(Map.Entry.comparingByValue())\r\n        .map(Map.Entry::getKey).orElse(null);\r\n}\r\n```","title":"Get date from the List of newborn on which the most children were born","body":"<p>Here, First filtering the null <code>birthdate</code>, then grouping it by birthdate then collecting it to a Map with <code>birthdate</code> as key and occurrence as value, then returning the max occurrence <code>birthdate</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static LocalDate dateInWitchMostChildrenAreBorn(List&lt;NewBorn&gt; newBornList) {\n    return newBornList.stream()\n        .filter(newBorn -&gt; Objects.nonNull(newBorn.getBirthdate()))\n        .collect(Collectors.groupingBy(NewBorn::getBirthdate, Collectors.counting()))\n        .entrySet().stream()\n        .max(Map.Entry.comparingByValue())\n        .map(Map.Entry::getKey).orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648765539,"creation_date":1648752579,"answer_id":71697708,"question_id":71691398,"body_markdown":"There could be ***multiple dates*** for which the numbers of children have been born are equal. Therefore, there can be more than one date that corresponds to the **maximum** number of newborns. Maybe that&#39;s why the method listed in the question is meant to return a *list*. \r\n\r\nIn order to obtain the `List&lt;LocalDate&gt;` containing all dates when number of newborns is *maximal*, first, we need to create *map* `Map&lt;LocalDate, Long&gt;` (*number of newborns by date*) by using collector `Collectors.groupingBy()`. The *function* that extracts the *birthdate* is used as the first argument and `Collectors.counting()`, that generates the number of elements mapped to a key, as a *downstream collector*.\r\n\r\nThen we can generate the resulting list in a ***single pass*** over the entries of this map with a **custom collector** that will collect the entries having the highest *previously encountered* count. If the next entry has a value greater the previous maximum, intermediate results will be cleaned up.\r\n\r\nTo implement a *custom collector*, we can utilize the static method `of()` defined in the `Collector` interface.\r\n\r\n`ArrayDeque` is used as *mutable container* of the collector. \r\n\r\nThe *finisher function* creates a stream over the resulting *queue*, which extracts date objects from the entries and collect them into a *list*.\r\n\r\n    public static List&lt;LocalDate&gt; dateInWitchMostChildrenAreBorn(List&lt;NewBorn&gt; newBornList) {\r\n        return newBornList.stream()\r\n                .collect(Collectors.groupingBy(NewBorn::getBirthdate,\r\n                                               Collectors.counting())) // Map&lt;LocalDate, Long&gt; - number of newborns by date\r\n                .entrySet().stream()\r\n                .collect(Collector.of(\r\n                        ArrayDeque::new, // supplier\r\n                        (Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; queue,\r\n                         Map.Entry&lt;LocalDate, Long&gt; next) -&gt; { // accumulator\r\n                            if (!queue.isEmpty() &amp;&amp; queue.element().getValue() &lt; next.getValue()) queue.clear();\r\n                            if (queue.isEmpty() || queue.element().getValue().equals(next.getValue())) queue.add(next);\r\n                        },\r\n                        (Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; left,\r\n                         Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; right) -&gt; { // combiner\r\n                            if (left.isEmpty()) return right;\r\n                            if (right.isEmpty()) return left;\r\n                            if (left.element().getValue() &lt; right.element().getValue()) return right;\r\n                            if (left.element().getValue() &gt; right.element().getValue()) return left;\r\n                            else {left.addAll(right); return left;}\r\n                        },\r\n                        (Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; queue) -&gt; // finisher\r\n                                queue.stream().map(Map.Entry::getKey).toList()\r\n                ));\r\n    }\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;NewBorn&gt; newBorns =\r\n                List.of(new NewBorn(LocalDate.of(2021, 1, 5)),\r\n                        new NewBorn(LocalDate.of(2021, 3, 8)),\r\n                        new NewBorn(LocalDate.of(2021, 3, 8)),\r\n                        new NewBorn(LocalDate.of(2021, 12, 10)),\r\n                        new NewBorn(LocalDate.of(2021, 12, 10)),\r\n                        new NewBorn(LocalDate.of(2021, 1, 5)),\r\n                        new NewBorn(LocalDate.of(2021, 5, 25)),\r\n                        new NewBorn(LocalDate.of(2021, 7, 12)));\r\n\r\n        System.out.println(dateInWitchMostChildrenAreBorn(newBorns));\r\n    }\r\n\r\n**Output** (*expected* : three dates on which the number of newborns is `2`)\r\n```\r\n[2021-12-10, 2021-03-08, 2021-01-05]\r\n```","title":"Get date from the List of newborn on which the most children were born","body":"<p>There could be <em><strong>multiple dates</strong></em> for which the numbers of children have been born are equal. Therefore, there can be more than one date that corresponds to the <strong>maximum</strong> number of newborns. Maybe that's why the method listed in the question is meant to return a <em>list</em>.</p>\n<p>In order to obtain the <code>List&lt;LocalDate&gt;</code> containing all dates when number of newborns is <em>maximal</em>, first, we need to create <em>map</em> <code>Map&lt;LocalDate, Long&gt;</code> (<em>number of newborns by date</em>) by using collector <code>Collectors.groupingBy()</code>. The <em>function</em> that extracts the <em>birthdate</em> is used as the first argument and <code>Collectors.counting()</code>, that generates the number of elements mapped to a key, as a <em>downstream collector</em>.</p>\n<p>Then we can generate the resulting list in a <em><strong>single pass</strong></em> over the entries of this map with a <strong>custom collector</strong> that will collect the entries having the highest <em>previously encountered</em> count. If the next entry has a value greater the previous maximum, intermediate results will be cleaned up.</p>\n<p>To implement a <em>custom collector</em>, we can utilize the static method <code>of()</code> defined in the <code>Collector</code> interface.</p>\n<p><code>ArrayDeque</code> is used as <em>mutable container</em> of the collector.</p>\n<p>The <em>finisher function</em> creates a stream over the resulting <em>queue</em>, which extracts date objects from the entries and collect them into a <em>list</em>.</p>\n<pre><code>public static List&lt;LocalDate&gt; dateInWitchMostChildrenAreBorn(List&lt;NewBorn&gt; newBornList) {\n    return newBornList.stream()\n            .collect(Collectors.groupingBy(NewBorn::getBirthdate,\n                                           Collectors.counting())) // Map&lt;LocalDate, Long&gt; - number of newborns by date\n            .entrySet().stream()\n            .collect(Collector.of(\n                    ArrayDeque::new, // supplier\n                    (Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; queue,\n                     Map.Entry&lt;LocalDate, Long&gt; next) -&gt; { // accumulator\n                        if (!queue.isEmpty() &amp;&amp; queue.element().getValue() &lt; next.getValue()) queue.clear();\n                        if (queue.isEmpty() || queue.element().getValue().equals(next.getValue())) queue.add(next);\n                    },\n                    (Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; left,\n                     Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; right) -&gt; { // combiner\n                        if (left.isEmpty()) return right;\n                        if (right.isEmpty()) return left;\n                        if (left.element().getValue() &lt; right.element().getValue()) return right;\n                        if (left.element().getValue() &gt; right.element().getValue()) return left;\n                        else {left.addAll(right); return left;}\n                    },\n                    (Queue&lt;Map.Entry&lt;LocalDate, Long&gt;&gt; queue) -&gt; // finisher\n                            queue.stream().map(Map.Entry::getKey).toList()\n            ));\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;NewBorn&gt; newBorns =\n            List.of(new NewBorn(LocalDate.of(2021, 1, 5)),\n                    new NewBorn(LocalDate.of(2021, 3, 8)),\n                    new NewBorn(LocalDate.of(2021, 3, 8)),\n                    new NewBorn(LocalDate.of(2021, 12, 10)),\n                    new NewBorn(LocalDate.of(2021, 12, 10)),\n                    new NewBorn(LocalDate.of(2021, 1, 5)),\n                    new NewBorn(LocalDate.of(2021, 5, 25)),\n                    new NewBorn(LocalDate.of(2021, 7, 12)));\n\n    System.out.println(dateInWitchMostChildrenAreBorn(newBorns));\n}\n</code></pre>\n<p><strong>Output</strong> (<em>expected</em> : three dates on which the number of newborns is <code>2</code>)</p>\n<pre><code>[2021-12-10, 2021-03-08, 2021-01-05]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18802229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649937304,"creation_date":1649937304,"answer_id":71871219,"question_id":71691398,"body_markdown":"You can also use this \r\nFirst List&lt;NewBorn&gt;  should not be there since you want to return a LocalDate\r\nIf your relation between classes is correct this should be working :\r\nAny  question please let me know :)\r\n\r\n\r\n    public LocalDate mostCommonDate() {\r\n        Map&lt;LocalDate, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (Newborn newborn : newborns) {\r\n            Integer value = map.get(newborn.getBirthday());\r\n            map.put(newborn.getBirthday(), (value == null) ? 1 : value + 1);\r\n        }\r\n        Entry&lt;LocalDate, Integer&gt; max = null;\r\n        for (Entry&lt;LocalDate, Integer&gt; entry : map.entrySet()) {\r\n            if (max == null || max.getValue() &gt; entry.getValue()) {\r\n                max = entry;\r\n            }\r\n        }\r\n        return max.getKey();\r\n    }","title":"Get date from the List of newborn on which the most children were born","body":"<p>You can also use this\nFirst List  should not be there since you want to return a LocalDate\nIf your relation between classes is correct this should be working :\nAny  question please let me know :)</p>\n<pre><code>public LocalDate mostCommonDate() {\n    Map&lt;LocalDate, Integer&gt; map = new HashMap&lt;&gt;();\n    for (Newborn newborn : newborns) {\n        Integer value = map.get(newborn.getBirthday());\n        map.put(newborn.getBirthday(), (value == null) ? 1 : value + 1);\n    }\n    Entry&lt;LocalDate, Integer&gt; max = null;\n    for (Entry&lt;LocalDate, Integer&gt; entry : map.entrySet()) {\n        if (max == null || max.getValue() &gt; entry.getValue()) {\n            max = entry;\n        }\n    }\n    return max.getKey();\n}\n</code></pre>\n"}],"owner":{"display_name":"user17695302"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71871219,"answer_count":3,"score":2,"last_activity_date":1649937304,"creation_date":1648724730,"question_id":71691398,"body_markdown":"I have a File.txt (represent `NewBorn`).\r\n\r\nI&#39;ve created a class `NewBorn` that has the following fields: `id`, `name`, `age`.\r\n\r\nThen I&#39;m reading the file and parsing it, so I can get a nice output.\r\n\r\nFrom the *list of newborn* (based on *file.txt*) I need to get the date on which the most children were born, but I have a problem filtering through that.\r\n\r\nThat&#39;s what I&#39;ve tried :\r\n\r\n\r\n    public static List&lt;NewBorn&gt; dateInWitchMostChildrenAreBorn(List&lt;NewBorn&gt; newBornList) {\r\n        return newBornList.stream()\r\n                .filter(newBorn -&gt; newBorn.getBirthdate() // in here I tried to go use =  but is not good of course  )\r\n                //then I want to collect that and  count the one that is the most in witch  children are born\r\n                .collect((Collectors.toSet()));\r\n    }\r\n\r\n\r\n","title":"Get date from the List of newborn on which the most children were born","body":"<p>I have a File.txt (represent <code>NewBorn</code>).</p>\n<p>I've created a class <code>NewBorn</code> that has the following fields: <code>id</code>, <code>name</code>, <code>age</code>.</p>\n<p>Then I'm reading the file and parsing it, so I can get a nice output.</p>\n<p>From the <em>list of newborn</em> (based on <em>file.txt</em>) I need to get the date on which the most children were born, but I have a problem filtering through that.</p>\n<p>That's what I've tried :</p>\n<pre><code>public static List&lt;NewBorn&gt; dateInWitchMostChildrenAreBorn(List&lt;NewBorn&gt; newBornList) {\n    return newBornList.stream()\n            .filter(newBorn -&gt; newBorn.getBirthdate() // in here I tried to go use =  but is not good of course  )\n            //then I want to collect that and  count the one that is the most in witch  children are born\n            .collect((Collectors.toSet()));\n}\n</code></pre>\n"},{"tags":["java","multithreading","locking","callback"],"answers":[{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649937057,"creation_date":1267172551,"answer_id":2340296,"question_id":2340267,"body_markdown":"It depends on whether or not you want the callbacks to be executed concurrently with the lengthy stuff or not. If we are talking about a Swing GUI, option 1 is not good, because you shouldn&#39;t do Swing operations in several concurrent threads, so I propose the following:\r\n\r\n\r\n    public void somemethod() {   \r\n       Thread t = new Thread( new Runnable() {\r\n           void run() {               \r\n               doLengthyStuff();\r\n           }\r\n        }\r\n        t.start();\r\n    \r\n        (notify the callbacks)\r\n    }\r\n\r\n","title":"Java: Is it common practice to create a new Thread when a lock is held?","body":"<p>It depends on whether or not you want the callbacks to be executed concurrently with the lengthy stuff or not. If we are talking about a Swing GUI, option 1 is not good, because you shouldn't do Swing operations in several concurrent threads, so I propose the following:</p>\n<pre><code>public void somemethod() {   \n   Thread t = new Thread( new Runnable() {\n       void run() {               \n           doLengthyStuff();\n       }\n    }\n    t.start();\n\n    (notify the callbacks)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27286,"reputation":15673,"user_id":71883,"accept_rate":85,"display_name":"Toad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1267172612,"creation_date":1267172612,"answer_id":2340300,"question_id":2340267,"body_markdown":"answer3:\r\n\r\n - You should always hold on to a lock as short as possible. So only the resource which is potentially referenced to from multiple threads should be locked for the smallest amount of time when the chance of a &#39;corrupt&#39; resource exists (e.g. the writer thread is updating the resource)\r\n\r\n - Don&#39;t spin off a thread for every little thing which needs to be done. In the case of your callback threads, have 1 callback thread work off a queue of things to do.","title":"Java: Is it common practice to create a new Thread when a lock is held?","body":"<p>answer3:</p>\n\n<ul>\n<li><p>You should always hold on to a lock as short as possible. So only the resource which is potentially referenced to from multiple threads should be locked for the smallest amount of time when the chance of a 'corrupt' resource exists (e.g. the writer thread is updating the resource)</p></li>\n<li><p>Don't spin off a thread for every little thing which needs to be done. In the case of your callback threads, have 1 callback thread work off a queue of things to do.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1267172636,"creation_date":1267172636,"answer_id":2340304,"question_id":2340267,"body_markdown":"You are aware that the two code snippets will result in different execution orders.\r\nThe first one will run the callbacks asynchronously, while the lengthy stuff is being performed. The second one will finish doing the lengthy stuff first and then call the callbacks.\r\n\r\nWhich one is better depends on what the callbacks need to do. It might well be a problem if they need lengthy stuff to be done first.\r\n\r\nWho is waiting on the lock?\r\nIf the callbacks need the lock to run, it makes little sense to fire them, while you still hold the lock. All they would do is just wait for lengthy stuff to be done anyway.\r\n\r\n\r\nAlso, in the first snippet, you have one thread per callback. The second snippet is not explicit, but if you have only one thread for all of them, this is another difference\r\n(whether the callbacks run simultaneously or in sequence). If they all need the same lock, you might as well run them in sequence.\r\n\r\nIf you want to run many callbacks with one or more threads, consider using an Executor instead of managing the threads yourself. Makes it very easy to configure an appropriate number of threads.","title":"Java: Is it common practice to create a new Thread when a lock is held?","body":"<p>You are aware that the two code snippets will result in different execution orders.\nThe first one will run the callbacks asynchronously, while the lengthy stuff is being performed. The second one will finish doing the lengthy stuff first and then call the callbacks.</p>\n\n<p>Which one is better depends on what the callbacks need to do. It might well be a problem if they need lengthy stuff to be done first.</p>\n\n<p>Who is waiting on the lock?\nIf the callbacks need the lock to run, it makes little sense to fire them, while you still hold the lock. All they would do is just wait for lengthy stuff to be done anyway.</p>\n\n<p>Also, in the first snippet, you have one thread per callback. The second snippet is not explicit, but if you have only one thread for all of them, this is another difference\n(whether the callbacks run simultaneously or in sequence). If they all need the same lock, you might as well run them in sequence.</p>\n\n<p>If you want to run many callbacks with one or more threads, consider using an Executor instead of managing the threads yourself. Makes it very easy to configure an appropriate number of threads.</p>\n"}],"owner":{"account_id":105674,"reputation":1285,"user_id":281859,"accept_rate":56,"display_name":"cocotwo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2316,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2340300,"answer_count":3,"score":3,"last_activity_date":1649937057,"creation_date":1267172132,"question_id":2340267,"body_markdown":"I&#39;ve got a question related but not identical to my first question ever here:\r\n\r\nhttps://stackoverflow.com/questions/2340114/java-what-happens-when-a-new-thread-is-started-from-a-synchronized-block\r\n\r\nIs it a common practice to create and `start()` a new `Thread` when you&#39;re holding a lock? \r\n\r\nWould that be a code smell?\r\n\r\nBasically I&#39;ve got a choice between doing this:\r\n\r\n    public synchronized void somemethod() {\r\n        \r\n        (every time I find a callback to be notified I start a thread)   \r\n        Thread t = new Thread( new Runnable() {\r\n           void run() {\r\n               notifySomeCallback();      \r\n           }\r\n        }\r\n        t.start();\r\n        ... \r\n        (lengthy stuff performed here, keeping the lock held)\r\n        ...\r\n    }\r\n\r\nor this:\r\n\r\n    public void somemethod() {\r\n        (create a list of callbacks to be notified)\r\n        synchronized(this){\r\n          (potentially add callbacks)       \r\n          ... \r\n          (lengthy stuff performed here, keeping the lock held)\r\n          ...\r\n        }\r\n        (notify the callbacks without holding a lock and once\r\n         we know the lock has been released)\r\n    }\r\n\r\nI think the latter is better but I wanted to know if there\r\nare cases where the first option would be ok? Do you sometimes\r\ndo that? Have you seen it done?\r\n\r\n","title":"Java: Is it common practice to create a new Thread when a lock is held?","body":"<p>I've got a question related but not identical to my first question ever here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2340114/java-what-happens-when-a-new-thread-is-started-from-a-synchronized-block\">Java: what happens when a new Thread is started from a synchronized block?</a></p>\n\n<p>Is it a common practice to create and <code>start()</code> a new <code>Thread</code> when you're holding a lock? </p>\n\n<p>Would that be a code smell?</p>\n\n<p>Basically I've got a choice between doing this:</p>\n\n<pre><code>public synchronized void somemethod() {\n\n    (every time I find a callback to be notified I start a thread)   \n    Thread t = new Thread( new Runnable() {\n       void run() {\n           notifySomeCallback();      \n       }\n    }\n    t.start();\n    ... \n    (lengthy stuff performed here, keeping the lock held)\n    ...\n}\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>public void somemethod() {\n    (create a list of callbacks to be notified)\n    synchronized(this){\n      (potentially add callbacks)       \n      ... \n      (lengthy stuff performed here, keeping the lock held)\n      ...\n    }\n    (notify the callbacks without holding a lock and once\n     we know the lock has been released)\n}\n</code></pre>\n\n<p>I think the latter is better but I wanted to know if there\nare cases where the first option would be ok? Do you sometimes\ndo that? Have you seen it done?</p>\n"},{"tags":["java","servlets","jetty","servlet-filters","embedded-jetty"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1649911522,"post_id":71866530,"comment_id":126996034,"body_markdown":"Maybe try to set the filter name with FilterHolder#setName()","body":"Maybe try to set the filter name with FilterHolder#setName()"},{"owner":{"account_id":24932843,"reputation":31,"user_id":18799738,"display_name":"EkaSaffronGaruda"},"score":0,"creation_date":1649921495,"post_id":71866530,"comment_id":126998350,"body_markdown":"Not throwing any error now with that but the cors is not working either.","body":"Not throwing any error now with that but the cors is not working either."}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649935442,"creation_date":1649934905,"answer_id":71870736,"question_id":71866530,"body_markdown":"There&#39;s a few issues.\r\n\r\n1. Mapping of both Servlets and Filters is done by the `ServletContextHandler`, not the `ServletHandler`.\r\n2. If you use a `FilterHolder` + Mapping with name, then you have to name your `FilterHolder`.  \r\n  Mapping with name is overly complicated for embedded-jetty use, it really only exists for `WEB-INF/web.xml` based configuration.  Just use the `FilterHolder` directly.\r\n3. You are missing the required `ServletContextHandler` BaseResource declaration\r\n4. You are missing the required `DefaultServlet` on your `ServletContext`\r\n5. You are missing the `DefaultHandler` on your top level handler tree (usually set as last entry)\r\n\r\nA correct setup would be like this ...\r\n\r\n``` java\r\nServletContextHandler servletContextHandler = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\nservletContextHandler.setContextPath(&quot;/&quot;);\r\n// Base Resource is required for your setup\r\nservletContextHandler.setBaseResource(Resource.newResource(urlToStaticContent));\r\n\r\nResourceConfig resourceCfg = new ResourceConfig();\r\nresourceCfg.packages(BookResource.class.getPackage().getName(), &quot;/*&quot;);\r\n\r\nServletContainer servletContainer = new ServletContainer(resourceCfg);\r\n\r\nServletHolder servletHolder = new ServletHolder(servletContainer);\r\nservletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\r\n\r\nFilterHolder corsHolder = servletContextHandler.addFilter(CrossOriginFilter.class,\r\n    &quot;/*&quot;,\r\n    EnumSet.of(DispatcherType.INCLUDE, DispatcherType.REQUEST));\r\n\r\ncorsHolder.setInitParameter(&quot;allowedOrigins&quot;, &quot;https://example.com&quot;);\r\ncorsHolder.setInitParameter(&quot;allowedMethods&quot;, &quot;POST,GET,OPTIONS,PUT,DELETE,HEAD&quot;);\r\ncorsHolder.setInitParameter(&quot;allowedHeaders&quot;, &quot;X-PINGOTHER, Origin, X-Requested-With, Content-Type, Accept&quot;);\r\ncorsHolder.setInitParameter(&quot;preflightMaxAge&quot;, &quot;728000&quot;);\r\ncorsHolder.setInitParameter(&quot;allowCredentials&quot;, &quot;true&quot;);\r\ncorsHolder.setInitParameter(&quot;chainPreflight&quot;, &quot;false&quot;);\r\n\r\n// Default Servlet is Required\r\nServletHolder defaultHolder = new ServletHolder(&quot;default&quot;, DefaultServlet.class);\r\nservletContextHandler.addServlet(defaultHolder, &quot;/&quot;); // default url-pattern\r\n\r\nHandlerList handlerList = new HandlerList();\r\nhandlerList.addHandler(servletContextHandler);\r\n// Default Handler is for requests that don&#39;t match a context above\r\n// Such as requests that don&#39;t have a path that start with &quot;/&quot;\r\n// It is safe to leave active, even in production, and will help with troubleshooting issues\r\nhandlerList.addHandler(new DefaultHandler());\r\n\r\nserver.setHandler(handlerList);\r\n```\r\n\r\nThe Filter mapping of your `CrossOriginFilter` has specified the `DispatcherType` set of `INCLUDE` and `REQUEST`, that&#39;s a really odd setup.\r\n\r\nDoing CORS from an `INCLUDE` (or `FORWARD`) dispatch is super awkward, skip it.\r\n\r\nBut you didn&#39;t specify `ASYNC`, which is actually super common.\r\n\r\nI would change the mapping this way ...\r\n\r\n``` java\r\nFilterHolder corsHolder = servletContextHandler.addFilter(CrossOriginFilter.class,\r\n    &quot;/*&quot;,\r\n    EnumSet.of(DispatcherType.REQUEST, DispatcherType.ASYNC));\r\n```\r\n\r\nThings to keep in mind for using `CrossOriginFilter`.\r\n\r\n1. It will only produce HTTP Response headers based on your configuration.\r\n2. It does not &quot;prevent&quot; or &quot;fail&quot; any request that doesn&#39;t match your configuration.\r\n3. Requests without a `Origin` request header will not trigger the `CrossOriginFilter`.\r\n","title":"Embedded Jetty no filter named cross-origin","body":"<p>There's a few issues.</p>\n<ol>\n<li>Mapping of both Servlets and Filters is done by the <code>ServletContextHandler</code>, not the <code>ServletHandler</code>.</li>\n<li>If you use a <code>FilterHolder</code> + Mapping with name, then you have to name your <code>FilterHolder</code>.<br />\nMapping with name is overly complicated for embedded-jetty use, it really only exists for <code>WEB-INF/web.xml</code> based configuration.  Just use the <code>FilterHolder</code> directly.</li>\n<li>You are missing the required <code>ServletContextHandler</code> BaseResource declaration</li>\n<li>You are missing the required <code>DefaultServlet</code> on your <code>ServletContext</code></li>\n<li>You are missing the <code>DefaultHandler</code> on your top level handler tree (usually set as last entry)</li>\n</ol>\n<p>A correct setup would be like this ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServletContextHandler servletContextHandler = new ServletContextHandler(ServletContextHandler.SESSIONS);\nservletContextHandler.setContextPath(&quot;/&quot;);\n// Base Resource is required for your setup\nservletContextHandler.setBaseResource(Resource.newResource(urlToStaticContent));\n\nResourceConfig resourceCfg = new ResourceConfig();\nresourceCfg.packages(BookResource.class.getPackage().getName(), &quot;/*&quot;);\n\nServletContainer servletContainer = new ServletContainer(resourceCfg);\n\nServletHolder servletHolder = new ServletHolder(servletContainer);\nservletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\n\nFilterHolder corsHolder = servletContextHandler.addFilter(CrossOriginFilter.class,\n    &quot;/*&quot;,\n    EnumSet.of(DispatcherType.INCLUDE, DispatcherType.REQUEST));\n\ncorsHolder.setInitParameter(&quot;allowedOrigins&quot;, &quot;https://example.com&quot;);\ncorsHolder.setInitParameter(&quot;allowedMethods&quot;, &quot;POST,GET,OPTIONS,PUT,DELETE,HEAD&quot;);\ncorsHolder.setInitParameter(&quot;allowedHeaders&quot;, &quot;X-PINGOTHER, Origin, X-Requested-With, Content-Type, Accept&quot;);\ncorsHolder.setInitParameter(&quot;preflightMaxAge&quot;, &quot;728000&quot;);\ncorsHolder.setInitParameter(&quot;allowCredentials&quot;, &quot;true&quot;);\ncorsHolder.setInitParameter(&quot;chainPreflight&quot;, &quot;false&quot;);\n\n// Default Servlet is Required\nServletHolder defaultHolder = new ServletHolder(&quot;default&quot;, DefaultServlet.class);\nservletContextHandler.addServlet(defaultHolder, &quot;/&quot;); // default url-pattern\n\nHandlerList handlerList = new HandlerList();\nhandlerList.addHandler(servletContextHandler);\n// Default Handler is for requests that don't match a context above\n// Such as requests that don't have a path that start with &quot;/&quot;\n// It is safe to leave active, even in production, and will help with troubleshooting issues\nhandlerList.addHandler(new DefaultHandler());\n\nserver.setHandler(handlerList);\n</code></pre>\n<p>The Filter mapping of your <code>CrossOriginFilter</code> has specified the <code>DispatcherType</code> set of <code>INCLUDE</code> and <code>REQUEST</code>, that's a really odd setup.</p>\n<p>Doing CORS from an <code>INCLUDE</code> (or <code>FORWARD</code>) dispatch is super awkward, skip it.</p>\n<p>But you didn't specify <code>ASYNC</code>, which is actually super common.</p>\n<p>I would change the mapping this way ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>FilterHolder corsHolder = servletContextHandler.addFilter(CrossOriginFilter.class,\n    &quot;/*&quot;,\n    EnumSet.of(DispatcherType.REQUEST, DispatcherType.ASYNC));\n</code></pre>\n<p>Things to keep in mind for using <code>CrossOriginFilter</code>.</p>\n<ol>\n<li>It will only produce HTTP Response headers based on your configuration.</li>\n<li>It does not &quot;prevent&quot; or &quot;fail&quot; any request that doesn't match your configuration.</li>\n<li>Requests without a <code>Origin</code> request header will not trigger the <code>CrossOriginFilter</code>.</li>\n</ol>\n"}],"owner":{"account_id":24932843,"reputation":31,"user_id":18799738,"display_name":"EkaSaffronGaruda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649936773,"creation_date":1649910603,"question_id":71866530,"body_markdown":"I am trying to implement cors in a embedded jetty server. I feel lost right now with this exception.\r\n\r\n```\r\njava.lang.IllegalStateException: No filter named cross-origin\r\n\tat org.eclipse.jetty.servlet.ServletHandler.updateMappings(ServletHandler.java:1260)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doStart(ServletHandler.java:179)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.doStart(ScopedHandler.java:112)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doStart(SessionHandler.java:486)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.doStart(ScopedHandler.java:112)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:955)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:388)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:896)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:469)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:414)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.projectsanatan.restsanatan.RestSanatan.start(RestSanatan.java:38)\r\n\tat org.projectsanatan.restsanatan.Main.main(Main.java:16)\r\n```\r\n\r\nMy code is\r\n\r\n``` java\r\n\r\n  \tprivate void initServlets() {\r\n        ServletContextHandler servletContextHandler = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n\r\n        servletContextHandler.setContextPath(&quot;/&quot;);\r\n        \r\n        ResourceConfig resourceCfg = new ResourceConfig();\r\n        resourceCfg.packages(BookResource.class.getPackage().getName(), &quot;/*&quot;);\r\n        \r\n        ServletContainer servletContainer = new ServletContainer(resourceCfg);\r\n        \r\n        ServletHolder servletHolder = new ServletHolder(servletContainer);\r\n        servletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\r\n//        servletContextHandler.addFilter(null, KEY, null)\r\n        \r\n        FilterHolder corsFilter = new FilterHolder();\r\n        corsFilter.setInitParameter(&quot;allowedOrigins&quot;, &quot;https://example.com&quot;);\r\n    \tcorsFilter.setInitParameter(&quot;allowedMethods&quot;, &quot;POST,GET,OPTIONS,PUT,DELETE,HEAD&quot;);\r\n    \tcorsFilter.setInitParameter(&quot;allowedHeaders&quot;, &quot;X-PINGOTHER, Origin, X-Requested-With, Content-Type, Accept&quot;);\r\n    \tcorsFilter.setInitParameter(&quot;preflightMaxAge&quot;, &quot;728000&quot;);\r\n    \tcorsFilter.setInitParameter(&quot;allowCredentials&quot;, &quot;true&quot;);\r\n    \tcorsFilter.setInitParameter(&quot;chainPreflight&quot;, &quot;false&quot;);\r\n    \t\r\n    \tCrossOriginFilter cors = new CrossOriginFilter();\r\n    \t\r\n    \tcorsFilter.setFilter(cors);\r\n    \t\r\n    \tFilterMapping corsFilterMap = new FilterMapping();\r\n    \tcorsFilterMap.setFilterName(&quot;cross-origin&quot;);\r\n    \tcorsFilterMap.setPathSpec(&quot;/*&quot;);\r\n    \tcorsFilterMap.setDispatcherTypes(EnumSet.of(DispatcherType.INCLUDE, DispatcherType.REQUEST));\r\n\t\t\r\n    \tservletContextHandler.getServletHandler().addFilter(corsFilter, corsFilterMap);\r\n    \t\r\n        this.handlerList.addHandler(servletContextHandler);\r\n        \r\n\t\tthis.setHandler(this.handlerList);\r\n\t}\r\n```\r\n\r\nI am not very much experienced with jetty and servlet stuff so I am confused, help would be really appreciated!","title":"Embedded Jetty no filter named cross-origin","body":"<p>I am trying to implement cors in a embedded jetty server. I feel lost right now with this exception.</p>\n<pre><code>java.lang.IllegalStateException: No filter named cross-origin\n    at org.eclipse.jetty.servlet.ServletHandler.updateMappings(ServletHandler.java:1260)\n    at org.eclipse.jetty.servlet.ServletHandler.doStart(ServletHandler.java:179)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.handler.ScopedHandler.doStart(ScopedHandler.java:112)\n    at org.eclipse.jetty.server.session.SessionHandler.doStart(SessionHandler.java:486)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.handler.ScopedHandler.doStart(ScopedHandler.java:112)\n    at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:955)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:388)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:896)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.server.Server.start(Server.java:469)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:414)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.projectsanatan.restsanatan.RestSanatan.start(RestSanatan.java:38)\n    at org.projectsanatan.restsanatan.Main.main(Main.java:16)\n</code></pre>\n<p>My code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    private void initServlets() {\n        ServletContextHandler servletContextHandler = new ServletContextHandler(ServletContextHandler.SESSIONS);\n\n        servletContextHandler.setContextPath(&quot;/&quot;);\n        \n        ResourceConfig resourceCfg = new ResourceConfig();\n        resourceCfg.packages(BookResource.class.getPackage().getName(), &quot;/*&quot;);\n        \n        ServletContainer servletContainer = new ServletContainer(resourceCfg);\n        \n        ServletHolder servletHolder = new ServletHolder(servletContainer);\n        servletContextHandler.addServlet(servletHolder, &quot;/api/*&quot;);\n//        servletContextHandler.addFilter(null, KEY, null)\n        \n        FilterHolder corsFilter = new FilterHolder();\n        corsFilter.setInitParameter(&quot;allowedOrigins&quot;, &quot;https://example.com&quot;);\n        corsFilter.setInitParameter(&quot;allowedMethods&quot;, &quot;POST,GET,OPTIONS,PUT,DELETE,HEAD&quot;);\n        corsFilter.setInitParameter(&quot;allowedHeaders&quot;, &quot;X-PINGOTHER, Origin, X-Requested-With, Content-Type, Accept&quot;);\n        corsFilter.setInitParameter(&quot;preflightMaxAge&quot;, &quot;728000&quot;);\n        corsFilter.setInitParameter(&quot;allowCredentials&quot;, &quot;true&quot;);\n        corsFilter.setInitParameter(&quot;chainPreflight&quot;, &quot;false&quot;);\n        \n        CrossOriginFilter cors = new CrossOriginFilter();\n        \n        corsFilter.setFilter(cors);\n        \n        FilterMapping corsFilterMap = new FilterMapping();\n        corsFilterMap.setFilterName(&quot;cross-origin&quot;);\n        corsFilterMap.setPathSpec(&quot;/*&quot;);\n        corsFilterMap.setDispatcherTypes(EnumSet.of(DispatcherType.INCLUDE, DispatcherType.REQUEST));\n        \n        servletContextHandler.getServletHandler().addFilter(corsFilter, corsFilterMap);\n        \n        this.handlerList.addHandler(servletContextHandler);\n        \n        this.setHandler(this.handlerList);\n    }\n</code></pre>\n<p>I am not very much experienced with jetty and servlet stuff so I am confused, help would be really appreciated!</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649916159,"post_id":71860211,"comment_id":126996878,"body_markdown":"At which exact particular line of code are you getting that error?","body":"At which exact particular line of code are you getting that error?"},{"owner":{"account_id":12671827,"reputation":301,"user_id":12700297,"display_name":"Bubino"},"score":0,"creation_date":1649935901,"post_id":71860211,"comment_id":127003208,"body_markdown":"updateToken(FirebaseMessaging.getInstance().getToken()); here","body":"updateToken(FirebaseMessaging.getInstance().getToken()); here"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649936674,"creation_date":1649936674,"answer_id":71871101,"question_id":71860211,"body_markdown":"You&#39;re getting the following error:\r\n\r\n&gt; &#39;updateToken(java.lang.String)&#39; in &#39;com.koddev.chatapp.Fragments.ChatsFragment&#39; cannot be applied to &#39;(com.google.android.gms.tasks.Task&lt;java.lang.String&gt;)&#39;\r\n\r\nBecause you&#39;re calling the `updateToken()` method with a wrong argument. You defined the method to take a String argument, while you&#39;re calling it with a Task object, hence the error. If you want to get the token and call the method correctly, please use the following lines of code:\r\n\r\n```\r\nFirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            String token = task.getResult();\r\n            updateToken(token);\r\n            Log.d(&quot;TAG&quot;, token); //Check the generated token.\r\n        } else {\r\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n        }\r\n    }\r\n});\r\n```","title":"Chat app - update token chat fragment - new version","body":"<p>You're getting the following error:</p>\n<blockquote>\n<p>'updateToken(java.lang.String)' in 'com.koddev.chatapp.Fragments.ChatsFragment' cannot be applied to '(com.google.android.gms.tasks.Task&lt;java.lang.String&gt;)'</p>\n</blockquote>\n<p>Because you're calling the <code>updateToken()</code> method with a wrong argument. You defined the method to take a String argument, while you're calling it with a Task object, hence the error. If you want to get the token and call the method correctly, please use the following lines of code:</p>\n<pre><code>FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;String&gt; task) {\n        if (task.isSuccessful()) {\n            String token = task.getResult();\n            updateToken(token);\n            Log.d(&quot;TAG&quot;, token); //Check the generated token.\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":12671827,"reputation":301,"user_id":12700297,"display_name":"Bubino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":71871101,"answer_count":1,"score":2,"last_activity_date":1649936731,"creation_date":1649864250,"question_id":71860211,"body_markdown":"I&#39;m creating a chat app and I imported this 3-year-old project so a lot of things have changed, especially this thing that I can&#39;t fix could anyone help me? Thanks.\r\n\r\nThe error that gives me:\r\n\r\n&#39;updateToken(java.lang.String)&#39; in &#39;com.koddev.chatapp.Fragments.ChatsFragment&#39; cannot be applied to &#39;(com.google.android.gms.tasks.Task&lt;java.lang.String&gt;)&#39;\r\n\r\n\r\n\r\n    public class ChatsFragment extends Fragment {\r\n\r\n    private RecyclerView recyclerView;\r\n\r\n    private UserAdapter userAdapter;\r\n    private List&lt;User&gt; mUsers;\r\n\r\n    FirebaseUser fuser;\r\n    DatabaseReference reference;\r\n\r\n    private List&lt;Chatlist&gt; usersList;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_chats, container, false);\r\n\r\n        recyclerView = view.findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        fuser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        usersList = new ArrayList&lt;&gt;();\r\n\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Chatlist&quot;).child(fuser.getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                usersList.clear();\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    Chatlist chatlist = snapshot.getValue(Chatlist.class);\r\n                    usersList.add(chatlist);\r\n                }\r\n\r\n                chatList();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        updateToken(FirebaseMessaging.getInstance().getToken());\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private void updateToken(String token){\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Tokens&quot;);\r\n        Token token1 = new Token(token);\r\n        reference.child(fuser.getUid()).setValue(token1);\r\n    }\r\n\r\n    private void chatList() {\r\n        mUsers = new ArrayList&lt;&gt;();\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                mUsers.clear();\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    User user = snapshot.getValue(User.class);\r\n                    for (Chatlist chatlist : usersList){\r\n                        if (user.getId().equals(chatlist.getId())){\r\n                            mUsers.add(user);\r\n                        }\r\n                    }\r\n                }\r\n                userAdapter = new UserAdapter(getContext(), mUsers, true);\r\n                recyclerView.setAdapter(userAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }","title":"Chat app - update token chat fragment - new version","body":"<p>I'm creating a chat app and I imported this 3-year-old project so a lot of things have changed, especially this thing that I can't fix could anyone help me? Thanks.</p>\n<p>The error that gives me:</p>\n<p>'updateToken(java.lang.String)' in 'com.koddev.chatapp.Fragments.ChatsFragment' cannot be applied to '(com.google.android.gms.tasks.Task&lt;java.lang.String&gt;)'</p>\n<pre><code>public class ChatsFragment extends Fragment {\n\nprivate RecyclerView recyclerView;\n\nprivate UserAdapter userAdapter;\nprivate List&lt;User&gt; mUsers;\n\nFirebaseUser fuser;\nDatabaseReference reference;\n\nprivate List&lt;Chatlist&gt; usersList;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_chats, container, false);\n\n    recyclerView = view.findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    fuser = FirebaseAuth.getInstance().getCurrentUser();\n\n    usersList = new ArrayList&lt;&gt;();\n\n    reference = FirebaseDatabase.getInstance().getReference(&quot;Chatlist&quot;).child(fuser.getUid());\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            usersList.clear();\n            for (DataSnapshot snapshot : dataSnapshot.getChildren()){\n                Chatlist chatlist = snapshot.getValue(Chatlist.class);\n                usersList.add(chatlist);\n            }\n\n            chatList();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n    updateToken(FirebaseMessaging.getInstance().getToken());\n\n\n    return view;\n}\n\nprivate void updateToken(String token){\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Tokens&quot;);\n    Token token1 = new Token(token);\n    reference.child(fuser.getUid()).setValue(token1);\n}\n\nprivate void chatList() {\n    mUsers = new ArrayList&lt;&gt;();\n    reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            mUsers.clear();\n            for (DataSnapshot snapshot : dataSnapshot.getChildren()){\n                User user = snapshot.getValue(User.class);\n                for (Chatlist chatlist : usersList){\n                    if (user.getId().equals(chatlist.getId())){\n                        mUsers.add(user);\n                    }\n                }\n            }\n            userAdapter = new UserAdapter(getContext(), mUsers, true);\n            recyclerView.setAdapter(userAdapter);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","database","hibernate","jpa","quarkus"],"answers":[{"tags":[],"owner":{"account_id":16639095,"reputation":31,"user_id":12025088,"display_name":"therealsyh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649936714,"creation_date":1649936714,"answer_id":71871108,"question_id":71857990,"body_markdown":"I fixed this by doing `parent.getChildren.size()` and thus retrieving the data from the database before merging. It&#39;s silly, but `fetch=EAGER` does not work because there are multiple lists of children (including grandchildren) and then you get a HibernateException that you cannot fetch multiple bags.","title":"Quarkus/Hibernate merge with OneToMany(orphanRemoval=true) gives HibernateException","body":"<p>I fixed this by doing <code>parent.getChildren.size()</code> and thus retrieving the data from the database before merging. It's silly, but <code>fetch=EAGER</code> does not work because there are multiple lists of children (including grandchildren) and then you get a HibernateException that you cannot fetch multiple bags.</p>\n"}],"owner":{"account_id":16639095,"reputation":31,"user_id":12025088,"display_name":"therealsyh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649936714,"creation_date":1649855106,"question_id":71857990,"body_markdown":"I am migrating from weblogic+eclipselink to quarkus+hibernate and get an error when trying to update a class through an endpoint.\r\nError is ```javax.persistence.PersistenceException: org.hibernate.HibernateException: A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance:```.\r\nImagine classes\r\n``` \r\n@Data\r\n@Builder\r\n@Entity\r\nclass Parent {\r\n\r\n    ...\r\n\r\n    private String name;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, orphanRemoval = true)\r\n    @Builder.Default\r\n    private List&lt;Child&gt; children= new ArrayList&lt;&gt;();\r\n}\r\n\r\n@Data\r\n@Builder\r\n@Entity\r\nclass Child {\r\n\r\n    ...\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;PARENT_ID&quot;)\r\n    @EqualsAndHashCode.Exclude\r\n    @ToString.Exclude\r\n    private Parent parent;\r\n}\r\n\r\n@Transactional\r\n@Applicationscoped\r\nclass ParentService {\r\n\r\npublic void updateParent(Parent updatedParent) {\r\n        Optional&lt;Parent&gt; optionalExistingParent =\r\n                parentRepository.getParentByID(updatedParent.getId());\r\n        if (optionalExistingParent.isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;Tried updating non-existing parent &quot; + updatedParent.getGuid().toString());\r\n        }\r\n        // set back references for possible new children\r\n        setBackReferences(updatedParent);\r\n        parentRepository.merge(updatedParent);\r\n    }\r\n\r\n}\r\n```\r\nSituation: I retrieve a Parent object through a rest endpoint. Then I update a value from the parent (e.g. name) and send the updated parent object to a PUT endpoint. It then gets to the service layer, where I check if the parent is known, and if so, I call repository.merge(). \r\nIt is at the repository.merge() call where the exception is thrown.\r\n\r\nA lot of other stackoverflow questions regarding this error say that I need to clear() and addAll() the List&lt;Child&gt;, however (ignoring that I didn&#39;t even change anything in the list) all that code is hibernate code, there is no code written by me adding/removing to that list.","title":"Quarkus/Hibernate merge with OneToMany(orphanRemoval=true) gives HibernateException","body":"<p>I am migrating from weblogic+eclipselink to quarkus+hibernate and get an error when trying to update a class through an endpoint.\nError is <code>javax.persistence.PersistenceException: org.hibernate.HibernateException: A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance:</code>.\nImagine classes</p>\n<pre><code>@Data\n@Builder\n@Entity\nclass Parent {\n\n    ...\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, orphanRemoval = true)\n    @Builder.Default\n    private List&lt;Child&gt; children= new ArrayList&lt;&gt;();\n}\n\n@Data\n@Builder\n@Entity\nclass Child {\n\n    ...\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PARENT_ID&quot;)\n    @EqualsAndHashCode.Exclude\n    @ToString.Exclude\n    private Parent parent;\n}\n\n@Transactional\n@Applicationscoped\nclass ParentService {\n\npublic void updateParent(Parent updatedParent) {\n        Optional&lt;Parent&gt; optionalExistingParent =\n                parentRepository.getParentByID(updatedParent.getId());\n        if (optionalExistingParent.isEmpty()) {\n            throw new IllegalArgumentException(&quot;Tried updating non-existing parent &quot; + updatedParent.getGuid().toString());\n        }\n        // set back references for possible new children\n        setBackReferences(updatedParent);\n        parentRepository.merge(updatedParent);\n    }\n\n}\n</code></pre>\n<p>Situation: I retrieve a Parent object through a rest endpoint. Then I update a value from the parent (e.g. name) and send the updated parent object to a PUT endpoint. It then gets to the service layer, where I check if the parent is known, and if so, I call repository.merge().\nIt is at the repository.merge() call where the exception is thrown.</p>\n<p>A lot of other stackoverflow questions regarding this error say that I need to clear() and addAll() the List, however (ignoring that I didn't even change anything in the list) all that code is hibernate code, there is no code written by me adding/removing to that list.</p>\n"},{"tags":["java","wiremock"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1649839230,"post_id":71854415,"comment_id":126974789,"body_markdown":"May be useful for you https://stackoverflow.com/questions/57602585/wiremock-date-format","body":"May be useful for you <a href=\"https://stackoverflow.com/questions/57602585/wiremock-date-format\" title=\"wiremock date format\">stackoverflow.com/questions/57602585/wiremock-date-format</a>"},{"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"score":0,"creation_date":1649856341,"post_id":71854415,"comment_id":126981548,"body_markdown":"If using @Sambit&#39;s answer, you&#39;ll need to specify a format in your `equalToDateTime` =&gt; `&quot;equalToDateTime&quot;: &quot;{{now timezone=&#39;Europe/Warsaw&#39; format=&#39;yyyy-MM-dd&#39;}}&quot;`, otherwise it will include hours/minutes/seconds. You may also want to try triple brackets instead of double... I&#39;ve found the behavior to be frustratingly inconsistent (tbf, I haven&#39;t dug into why and when to use three vs. two =&gt; `{{{}}}` vs `{{}}`)","body":"If using @Sambit&#39;s answer, you&#39;ll need to specify a format in your <code>equalToDateTime</code> =&gt; <code>&quot;equalToDateTime&quot;: &quot;{{now timezone=&#39;Europe&#47;Warsaw&#39; format=&#39;yyyy-MM-dd&#39;}}&quot;</code>, otherwise it will include hours/minutes/seconds. You may also want to try triple brackets instead of double... I&#39;ve found the behavior to be frustratingly inconsistent (tbf, I haven&#39;t dug into why and when to use three vs. two =&gt; <code>{{{}}}</code> vs <code>{{}}</code>)"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1649881194,"post_id":71854415,"comment_id":126990929,"body_markdown":"@agoff Thanks for this. I tried your solution but it failed to work. I also tried triple brackets. Each time Wiremock interprets what is inside `{}` as string literl.","body":"@agoff Thanks for this. I tried your solution but it failed to work. I also tried triple brackets. Each time Wiremock interprets what is inside <code>{}</code> as string literl."}],"answers":[{"tags":[],"owner":{"account_id":991044,"reputation":3556,"user_id":1008361,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649936678,"creation_date":1649936678,"answer_id":71871103,"question_id":71854415,"body_markdown":"The solution is to truncate the expected value (the one represented by `now`) to the first hour of the day so that you&#39;re matching date only with date only:\r\n\r\n```json\r\n{\r\n  &quot;matchesJsonPath&quot;: {\r\n      &quot;expression&quot;: &quot;$.pointInTime&quot;,\r\n      &quot;equalToDateTime&quot;: &quot;now&quot;,\r\n      &quot;truncateExpected&quot;: &quot;first hour of day&quot;\r\n  }\r\n}\r\n```\r\n","title":"ISO date format in Wiremock","body":"<p>The solution is to truncate the expected value (the one represented by <code>now</code>) to the first hour of the day so that you're matching date only with date only:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;matchesJsonPath&quot;: {\n      &quot;expression&quot;: &quot;$.pointInTime&quot;,\n      &quot;equalToDateTime&quot;: &quot;now&quot;,\n      &quot;truncateExpected&quot;: &quot;first hour of day&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71871103,"answer_count":1,"score":1,"last_activity_date":1649936678,"creation_date":1649839082,"question_id":71854415,"body_markdown":"I&#39;m trying to return stubbed date in Wiremock.\r\nThe expected date is today in ISO format `yyyy-MM-dd`.\r\nI cannot make it work. Here&#39;s the error:\r\n\r\n    .pointInTime [equalToDateTime] now +0 seconds| 2022-04-13}\r\n\r\n Here&#39;s my relevant part of the mapping:\r\n\r\n    {\r\n      &quot;matchesJsonPath&quot;: {\r\n        &quot;expression&quot;: &quot;$.pointInTime&quot;,\r\n        &quot;equalToDateTime&quot;: &quot;now&quot;,\r\n        &quot;actualFormat&quot;: &quot;yyyy-MM-dd&quot;\r\n      }\r\n\r\nAs far I can say, Wiremock has problems with dealing with dates only without time part.  \r\n\r\n\r\n**EDIT**\r\nI tried to use answers from post given by @Sambit without no luck.\r\n\r\n    {\r\n       &quot;matchesJsonPath&quot;:{\r\n          &quot;expression&quot;:&quot;$.pointInTime&quot;,\r\n          &quot;equalToDateTime&quot;:&quot;{{now timezone=&#39;Europe/Warsaw&#39;}}&quot;\r\n       }\r\n    }\r\n\r\nHere&#39;s the `now...` part is tried as literal:\r\n\r\n `$.pointInTime [equalToDateTime] {{now timezone=&#39;Europe/Warsaw&#39;}}&gt; \r\n  but was 2022-04-13`","title":"ISO date format in Wiremock","body":"<p>I'm trying to return stubbed date in Wiremock.\nThe expected date is today in ISO format <code>yyyy-MM-dd</code>.\nI cannot make it work. Here's the error:</p>\n<pre><code>.pointInTime [equalToDateTime] now +0 seconds| 2022-04-13}\n</code></pre>\n<p>Here's my relevant part of the mapping:</p>\n<pre><code>{\n  &quot;matchesJsonPath&quot;: {\n    &quot;expression&quot;: &quot;$.pointInTime&quot;,\n    &quot;equalToDateTime&quot;: &quot;now&quot;,\n    &quot;actualFormat&quot;: &quot;yyyy-MM-dd&quot;\n  }\n</code></pre>\n<p>As far I can say, Wiremock has problems with dealing with dates only without time part.</p>\n<p><strong>EDIT</strong>\nI tried to use answers from post given by @Sambit without no luck.</p>\n<pre><code>{\n   &quot;matchesJsonPath&quot;:{\n      &quot;expression&quot;:&quot;$.pointInTime&quot;,\n      &quot;equalToDateTime&quot;:&quot;{{now timezone='Europe/Warsaw'}}&quot;\n   }\n}\n</code></pre>\n<p>Here's the <code>now...</code> part is tried as literal:</p>\n<p><code>$.pointInTime [equalToDateTime] {{now timezone='Europe/Warsaw'}}&gt;  but was 2022-04-13</code></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6850399,"reputation":93,"user_id":5267740,"display_name":"Anand Thanappan"},"score":0,"creation_date":1489578956,"post_id":42808798,"comment_id":72730303,"body_markdown":"[link] http://stackoverflow.com/questions/18062372/how-does-selenium-webdrivers-isdisplayed-method-work check this answer it may help you","body":"[link] <a href=\"http://stackoverflow.com/questions/18062372/how-does-selenium-webdrivers-isdisplayed-method-work\" title=\"how does selenium webdrivers isdisplayed method work\">stackoverflow.com/questions/18062372/&hellip;</a> check this answer it may help you"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489579929,"creation_date":1489579929,"answer_id":42809449,"question_id":42808798,"body_markdown":"The `isDisplayed()` method is immediate, and you can&#39;t set the time for it. Implicit wait is used to tell the `driver` what is the maximum amount of time it should try to locate the element, i.e. the element *exists* in the DOM. It doesn&#39;t means (although very much possible) the element is visible.\r\n\r\nIf you want to increase the amount of time you are willing to wait for element to be visible you can use explicit wait to wait for the element to be visible.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;id&quot;)));","title":"max time taken by WebElement.isDisplayed method to search for visibility of an element?","body":"<p>The <code>isDisplayed()</code> method is immediate, and you can't set the time for it. Implicit wait is used to tell the <code>driver</code> what is the maximum amount of time it should try to locate the element, i.e. the element <em>exists</em> in the DOM. It doesn't means (although very much possible) the element is visible.</p>\n\n<p>If you want to increase the amount of time you are willing to wait for element to be visible you can use explicit wait to wait for the element to be visible.</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"id\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24936478,"reputation":1,"user_id":18802993,"display_name":"deepak verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649936344,"creation_date":1649936344,"answer_id":71871031,"question_id":42808798,"body_markdown":"First of all you should reduce the time of implicit wait, and still if is display taking time u can use this code. \r\ndriver.manage().timeouts().implicitlyWait(2,TimeUnit.SECONDS);\r\n\r\n\t\t\r\n\t\tfor(int i=0; i&lt;2; i++) {\t\t\r\n\t\t\ttry {\r\n\t\t\t\tString signin = driver.findElement(By.id(&quot;xpath&quot;));\r\n\t\t\t\tSystem.out.println(signin);\r\n\t\t\t\tbreak;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;element not display&quot;);\r\n\t\t\t}\r\n\t\t}","title":"max time taken by WebElement.isDisplayed method to search for visibility of an element?","body":"<p>First of all you should reduce the time of implicit wait, and still if is display taking time u can use this code.\ndriver.manage().timeouts().implicitlyWait(2,TimeUnit.SECONDS);</p>\n<pre><code>    for(int i=0; i&lt;2; i++) {        \n        try {\n            String signin = driver.findElement(By.id(&quot;xpath&quot;));\n            System.out.println(signin);\n            break;\n        } catch (Exception e) {\n            // TODO: handle exception\n            \n            System.out.println(&quot;element not display&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6629993,"reputation":11,"user_id":5118975,"display_name":"Dhruva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649936344,"creation_date":1489578259,"question_id":42808798,"body_markdown":"What is the maximum time taken by `WebElement.isDisplayed()` method to search for visibility of an element?\r\n\r\nCan we define the time without using implicit wait?","title":"max time taken by WebElement.isDisplayed method to search for visibility of an element?","body":"<p>What is the maximum time taken by <code>WebElement.isDisplayed()</code> method to search for visibility of an element?</p>\n\n<p>Can we define the time without using implicit wait?</p>\n"},{"tags":["java","xml","xpath","pmd"],"answers":[{"tags":[],"owner":{"account_id":3114951,"reputation":503,"user_id":2635942,"display_name":"Pavel Koryakin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649936099,"creation_date":1649863195,"answer_id":71859931,"question_id":71659408,"body_markdown":"`local-name()` returns only the name itself, without namespace prefix (`service`). While `name()` returns whole string (`sofa:service`).\r\n\r\nSo try to rewrite your xpath this way:\r\n\r\n```\r\n//beans/*[name() = &quot;sofa:service&quot;]\r\n```","title":"How to get attribute from xml by PMD","body":"<p><code>local-name()</code> returns only the name itself, without namespace prefix (<code>service</code>). While <code>name()</code> returns whole string (<code>sofa:service</code>).</p>\n<p>So try to rewrite your xpath this way:</p>\n<pre><code>//beans/*[name() = &quot;sofa:service&quot;]\n</code></pre>\n"}],"owner":{"account_id":14077475,"reputation":41,"user_id":10169335,"display_name":"T. Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649936099,"creation_date":1648545414,"question_id":71659408,"body_markdown":"I write a rule for xml, and it can find the line matched of xml.\r\nxml:\r\n```\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:sofa=&quot;http://schema.alipay.com/sofa/schema/service&quot;&gt;\r\n    &lt;sofa:service interface=&quot;a.b.c&quot;&gt;123&lt;/sofa:service&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nxpath expression:\r\n```\r\n//beans/*[local-name() = &quot;sofa:service&quot;]\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nBut in the report, PMD does not provide any value of the matched element.\r\n```\r\ntrAdditionalRuleReport = PMD.processFiles(pmdConfiguration, ruleSets, files, new ArrayList&lt;&gt;());\r\n```\r\n[![enter image description here][2]][2]\r\n\r\nIs there any way to get &quot;interface&quot; in &quot;sofa:service&quot; at only one operation? So that I could avoid to parse the xml manually.\r\n\r\nPMD: 6.43.0\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WREl7.png\r\n  [2]: https://i.stack.imgur.com/LS18Q.png","title":"How to get attribute from xml by PMD","body":"<p>I write a rule for xml, and it can find the line matched of xml.\nxml:</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:sofa=&quot;http://schema.alipay.com/sofa/schema/service&quot;&gt;\n    &lt;sofa:service interface=&quot;a.b.c&quot;&gt;123&lt;/sofa:service&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>xpath expression:</p>\n<pre><code>//beans/*[local-name() = &quot;sofa:service&quot;]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WREl7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WREl7.png\" alt=\"enter image description here\" /></a></p>\n<p>But in the report, PMD does not provide any value of the matched element.</p>\n<pre><code>trAdditionalRuleReport = PMD.processFiles(pmdConfiguration, ruleSets, files, new ArrayList&lt;&gt;());\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LS18Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LS18Q.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to get &quot;interface&quot; in &quot;sofa:service&quot; at only one operation? So that I could avoid to parse the xml manually.</p>\n<p>PMD: 6.43.0</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","graalvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643811994,"post_id":70646496,"comment_id":125438515,"body_markdown":"When you are a Java beginner, you should start with learning the language and how to write Java programs. GraalVM is neither a fundamental part of the Java language nor required for using Java.","body":"When you are a Java beginner, you should start with learning the language and how to write Java programs. GraalVM is neither a fundamental part of the Java language nor required for using Java."}],"answers":[{"tags":[],"owner":{"account_id":7609967,"reputation":439,"user_id":5771171,"display_name":"ans1genie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649935988,"creation_date":1649935988,"answer_id":71870970,"question_id":70646496,"body_markdown":"probably you need to use [truffle boundary][1]\r\n\r\n\r\n  [1]: https://www.graalvm.org/truffle/javadoc/index.html?com/oracle/truffle/api/CompilerDirectives.TruffleBoundary.html","title":"GraalVM build failure with &quot;Blocklisted methods are reachable for runtime compilation&quot;","body":"<p>probably you need to use <a href=\"https://www.graalvm.org/truffle/javadoc/index.html?com/oracle/truffle/api/CompilerDirectives.TruffleBoundary.html\" rel=\"nofollow noreferrer\">truffle boundary</a></p>\n"}],"owner":{"account_id":8259129,"reputation":11,"user_id":6211264,"display_name":"HotFlow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649935988,"creation_date":1641772623,"question_id":70646496,"body_markdown":"Thank you for your time to help me with my problem. I&#39;m a JAVA beginner but I&#39;m very interested in this language. So I&#39;ve been learning how to use its frameworks recently, but as you can see, I&#39;m currently facing some problems from graalvm. I know it&#39;s silly, but what I want to ask is how to add or delete methods in blocklist from it&#39;s truffle polyglot engine.\r\n\r\nI have try to add [-H:-TruffleCheckBlockListMethods][1] but it&#39;s not seem to work without `-Dtruffle.TruffleRuntime=com.oracle.truffle.api.impl.DefaultTruffleRuntime`,  but with truffle runtime set will slow performance real bad. Any help please !\r\n\r\n[CI Report][2]\r\n\r\nI have read the [source][3] code from GitHub, they just add those [functions][4] into blocklist, WHY ??\r\n\r\n\r\n  [1]: https://github.com/SpamanDev/StoreChain-Server/blob/f74bd9d47a23d2dbebbe3cbd0dd620fbd373e5e6/pom.xml#L363\r\n  [2]: https://github.com/SpamanDev/StoreChain-Server/runs/4755546198?check_suite_focus=true#step:9:302\r\n  [3]: https://github.com/oracle/graal/blob/3f97c4912642f1f214758aa98332a27f05d86e7a/substratevm/src/com.oracle.svm.truffle/src/com/oracle/svm/truffle/TruffleFeature.java#L665\r\n  [4]: https://github.com/oracle/graal/blob/3f97c4912642f1f214758aa98332a27f05d86e7a/substratevm/src/com.oracle.svm.truffle/src/com/oracle/svm/truffle/TruffleFeature.java#L524","title":"GraalVM build failure with &quot;Blocklisted methods are reachable for runtime compilation&quot;","body":"<p>Thank you for your time to help me with my problem. I'm a JAVA beginner but I'm very interested in this language. So I've been learning how to use its frameworks recently, but as you can see, I'm currently facing some problems from graalvm. I know it's silly, but what I want to ask is how to add or delete methods in blocklist from it's truffle polyglot engine.</p>\n<p>I have try to add <a href=\"https://github.com/SpamanDev/StoreChain-Server/blob/f74bd9d47a23d2dbebbe3cbd0dd620fbd373e5e6/pom.xml#L363\" rel=\"nofollow noreferrer\">-H:-TruffleCheckBlockListMethods</a> but it's not seem to work without <code>-Dtruffle.TruffleRuntime=com.oracle.truffle.api.impl.DefaultTruffleRuntime</code>,  but with truffle runtime set will slow performance real bad. Any help please !</p>\n<p><a href=\"https://github.com/SpamanDev/StoreChain-Server/runs/4755546198?check_suite_focus=true#step:9:302\" rel=\"nofollow noreferrer\">CI Report</a></p>\n<p>I have read the <a href=\"https://github.com/oracle/graal/blob/3f97c4912642f1f214758aa98332a27f05d86e7a/substratevm/src/com.oracle.svm.truffle/src/com/oracle/svm/truffle/TruffleFeature.java#L665\" rel=\"nofollow noreferrer\">source</a> code from GitHub, they just add those <a href=\"https://github.com/oracle/graal/blob/3f97c4912642f1f214758aa98332a27f05d86e7a/substratevm/src/com.oracle.svm.truffle/src/com/oracle/svm/truffle/TruffleFeature.java#L524\" rel=\"nofollow noreferrer\">functions</a> into blocklist, WHY ??</p>\n"},{"tags":["java","swing","jtextfield","jtextarea","jtextpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1649856437,"post_id":71852954,"comment_id":126981590,"body_markdown":"Check out [Text Component Features](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html) for examples of coloring text.","body":"Check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html\" rel=\"nofollow noreferrer\">Text Component Features</a> for examples of coloring text."}],"answers":[{"tags":[],"owner":{"account_id":21997128,"reputation":61,"user_id":16269442,"display_name":"Swimer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649935786,"creation_date":1649935786,"answer_id":71870912,"question_id":71852954,"body_markdown":"It is necessary to use JTextPane.\r\nJust use `new FindManager(yourTextPane, Color.RED);`.\r\n\r\n```\r\nimport javax.swing.JTextPane;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.text.Style;\r\nimport javax.swing.text.StyleConstants;\r\nimport java.awt.Color;\r\nimport java.util.ArrayList;\r\n\r\n/**\r\n * @author Swimer\r\n */\r\npublic class FindManager {\r\n\r\n    /**\r\n     * Constructor\r\n     * @param pane Swing text pane\r\n     * @param selection The color to apply to characters similar to selection\r\n     */\r\n    public FindManager(JTextPane pane, Color selection) {\r\n        Style selected = pane.getStyledDocument().addStyle(&quot;selection-text&quot;, null);\r\n        Style defaultStyle = pane.getStyledDocument().addStyle(&quot;default&quot;, null);\r\n        StyleConstants.setForeground(selected, selection);\r\n        pane.addCaretListener(e -&gt; {\r\n            Runnable doHighlight = () -&gt; {\r\n                try {\r\n                    String selectedText = pane.getSelectedText();\r\n                    String text = pane.getStyledDocument().getText(0, pane.getStyledDocument().getLength());\r\n                    if (selectedText != null &amp;&amp; selectedText.length() &gt; 0) {\r\n                        for (Integer string : getStrings(text, selectedText, pane.getSelectionStart())) {\r\n                            pane.getStyledDocument().setCharacterAttributes(string, selectedText.length(), selected, true);\r\n                        }\r\n                    }else{\r\n                        pane.getStyledDocument().setCharacterAttributes(0, text.length(), defaultStyle, true);\r\n                    }\r\n                } catch (Exception exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n            };\r\n            SwingUtilities.invokeLater(doHighlight);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get positions of similar words\r\n     * @param text The string to look for\r\n     * @param toFind What to look for\r\n     * @param ignore What to ignore\r\n     * @return List of similar word positions\r\n     */\r\n    public static ArrayList&lt;Integer&gt; getStrings(String text, String toFind, int ignore){\r\n        ArrayList&lt;Integer&gt; out = new ArrayList&lt;&gt;();\r\n        int index = text.indexOf(toFind);\r\n        while (index &gt;= 0 &amp;&amp; index != ignore) {\r\n            out.add(index);\r\n            index = text.indexOf(toFind, index+toFind.length());\r\n        }\r\n        return out;\r\n    }\r\n}\r\n\r\n```","title":"How to change the color of a selected word in a specific place, and also change the color of the same word, but in another place in JTextPane?","body":"<p>It is necessary to use JTextPane.\nJust use <code>new FindManager(yourTextPane, Color.RED);</code>.</p>\n<pre><code>import javax.swing.JTextPane;\nimport javax.swing.SwingUtilities;\nimport javax.swing.text.Style;\nimport javax.swing.text.StyleConstants;\nimport java.awt.Color;\nimport java.util.ArrayList;\n\n/**\n * @author Swimer\n */\npublic class FindManager {\n\n    /**\n     * Constructor\n     * @param pane Swing text pane\n     * @param selection The color to apply to characters similar to selection\n     */\n    public FindManager(JTextPane pane, Color selection) {\n        Style selected = pane.getStyledDocument().addStyle(&quot;selection-text&quot;, null);\n        Style defaultStyle = pane.getStyledDocument().addStyle(&quot;default&quot;, null);\n        StyleConstants.setForeground(selected, selection);\n        pane.addCaretListener(e -&gt; {\n            Runnable doHighlight = () -&gt; {\n                try {\n                    String selectedText = pane.getSelectedText();\n                    String text = pane.getStyledDocument().getText(0, pane.getStyledDocument().getLength());\n                    if (selectedText != null &amp;&amp; selectedText.length() &gt; 0) {\n                        for (Integer string : getStrings(text, selectedText, pane.getSelectionStart())) {\n                            pane.getStyledDocument().setCharacterAttributes(string, selectedText.length(), selected, true);\n                        }\n                    }else{\n                        pane.getStyledDocument().setCharacterAttributes(0, text.length(), defaultStyle, true);\n                    }\n                } catch (Exception exception) {\n                    exception.printStackTrace();\n                }\n            };\n            SwingUtilities.invokeLater(doHighlight);\n        });\n    }\n\n    /**\n     * Get positions of similar words\n     * @param text The string to look for\n     * @param toFind What to look for\n     * @param ignore What to ignore\n     * @return List of similar word positions\n     */\n    public static ArrayList&lt;Integer&gt; getStrings(String text, String toFind, int ignore){\n        ArrayList&lt;Integer&gt; out = new ArrayList&lt;&gt;();\n        int index = text.indexOf(toFind);\n        while (index &gt;= 0 &amp;&amp; index != ignore) {\n            out.add(index);\n            index = text.indexOf(toFind, index+toFind.length());\n        }\n        return out;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19185912,"reputation":40,"user_id":14016710,"display_name":"Mohamed Essam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649935786,"creation_date":1649831961,"question_id":71852954,"body_markdown":"I am making a text editor, And i want to make it when the user type a article then if the user select a specific word then change it&#39;s color the color will be changed and also if the user select the same word but in another place this word&#39;s color only will be changed \r\n\r\nAs indicated in this picture:\r\n\r\n[![https://i.stack.imgur.com/SH0tR.png][1]][1]\r\n\r\nbecause of all of my search results was that i change only a word&#39;s color even if it repeated it will be also colored \r\n\r\nI am trying in JtextPane, I have searched in **&quot;[Oracle Java Docs][2]&quot;** for the JtextPane methodes but i didn&#39;t found anything\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SH0tR.png\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextPane.html","title":"How to change the color of a selected word in a specific place, and also change the color of the same word, but in another place in JTextPane?","body":"<p>I am making a text editor, And i want to make it when the user type a article then if the user select a specific word then change it's color the color will be changed and also if the user select the same word but in another place this word's color only will be changed</p>\n<p>As indicated in this picture:</p>\n<p><a href=\"https://i.stack.imgur.com/SH0tR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SH0tR.png\" alt=\"https://i.stack.imgur.com/SH0tR.png\" /></a></p>\n<p>because of all of my search results was that i change only a word's color even if it repeated it will be also colored</p>\n<p>I am trying in JtextPane, I have searched in <strong>&quot;<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextPane.html\" rel=\"nofollow noreferrer\">Oracle Java Docs</a>&quot;</strong> for the JtextPane methodes but i didn't found anything</p>\n"},{"tags":["java","jsf"],"answers":[{"tags":[],"owner":{"account_id":23135833,"reputation":1,"user_id":17251091,"display_name":"Little Timmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649935683,"creation_date":1649935683,"answer_id":71870893,"question_id":71856114,"body_markdown":"I&#39;ve fixed my issue by adding `&lt;p:ajax event=&quot;blur&quot; process=&quot;@this&quot; /&gt;` into my inputText so it saves the value before i click confirm. So the end code looks like this:\r\n\r\n```\r\n&lt;p:inputText value=&quot;#{dashboardFilterDialogBean.dashboardObject.texts[loop.index]}&quot; /&gt;\r\n    &lt;p:ajax event=&quot;blur&quot; process=&quot;@this&quot; /&gt;\r\n&lt;/p:inputText&gt;\r\n```","title":"Cant set List&lt;String&gt; value from &lt;ui:repeat&gt; var status","body":"<p>I've fixed my issue by adding <code>&lt;p:ajax event=&quot;blur&quot; process=&quot;@this&quot; /&gt;</code> into my inputText so it saves the value before i click confirm. So the end code looks like this:</p>\n<pre><code>&lt;p:inputText value=&quot;#{dashboardFilterDialogBean.dashboardObject.texts[loop.index]}&quot; /&gt;\n    &lt;p:ajax event=&quot;blur&quot; process=&quot;@this&quot; /&gt;\n&lt;/p:inputText&gt;\n</code></pre>\n"}],"owner":{"account_id":23135833,"reputation":1,"user_id":17251091,"display_name":"Little Timmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71870893,"answer_count":1,"score":0,"last_activity_date":1649935683,"creation_date":1649846471,"question_id":71856114,"body_markdown":"in my xhtml i define a inputText variable from which i want to set a specific value to a specific field in my List&lt;String&gt;. Every time i click confirm and debug my code the value is returned as &quot;&quot; (that i set in my init function). I have also tried hardcoding my inputText value to be set to `dashboardFilterDialogBean.dashboardObject.texts[0]` as in the only item in the list i define but still no result. I get 0 exceptions in my console\r\n\r\nXhtml\r\n```\r\n&lt;p:dialog id=&quot;dashboardFilterDialog&quot;&gt;\r\n\t&lt;h:form id=&quot;dashboard_filter_dialog_form&quot;&gt;\r\n        &lt;ui:repeat value=&quot;#{dashboardFilterDialogBean.dashboardObject.texts}&quot; varStatus=&quot;loop&quot;&gt;\r\n\t        &lt;p:row&gt;\r\n\t\t        &lt;p:column&gt;\r\n\t\t\t        &lt;h:outputText value=&quot;Text&quot; /&gt;\r\n\t\t        &lt;/p:column&gt;\r\n        \t\t&lt;p:column&gt;\r\n    \t        \t&lt;p:inputText value=&quot;#{dashboardFilterDialogBean.dashboardObject.texts[loop.index]}&quot; /&gt;\r\n    \t        &lt;/p:column&gt;\r\n            &lt;/p:row&gt;\r\n        &lt;/ui:repeat&gt;\r\n    &lt;/h:form&gt;\r\n    &lt;f:facet name=&quot;footer&quot;&gt;\r\n\t\t&lt;h:form id=&quot;submit_dashboards_dialog_form&quot;&gt;\r\n\t\t\t&lt;p:commandButton id=&quot;confirm_button&quot; actionListener=&quot;#{dashboardFilterDialogBean.confirm()}&quot; /&gt;\r\n\t\t&lt;/h:form&gt;\r\n\t&lt;/f:facet&gt;\r\n&lt;/p:dialog&gt;\r\n```\r\n\r\nBean\r\n```\r\npublic class DashboardFilterDialogBean {\r\n\r\n    private DashboardObject\tdashboardObject;\r\n\r\n    @PostConstruct\r\n\tpublic void init() {\r\n\t\tdashboardObject.getTexts().add(&quot;&quot;);\r\n\t}\r\n\r\n    public void confirm() {\r\n        for (String txtValue : getDashboardObject().getTexts()) {\r\n            if (!txtValue.equals(&quot;&quot;)) {\r\n                ...;\r\n            }\r\n        }\r\n    }\r\n\r\n\tpublic DashboardObject getDashboardObject() {\r\n\t\treturn dashboardObject;\r\n\t}\r\n\r\n\tpublic void setDashboardObject(DashboardObject dashboardObject) {\r\n\t\tthis.dashboardObject = dashboardObject;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nObject\r\n```\r\npublic class DashboardObject {\r\n\r\n\tprivate List&lt;String&gt;\t\t\ttexts;\r\n\r\n    public DashboardObject() {\r\n\t\ttexts = new ArrayList&lt;String&gt;();\r\n\t}\r\n\r\n\tpublic List&lt;String&gt; getTexts() {\r\n\t\treturn texts;\r\n\t}\r\n\r\n\tpublic void setTexts(List&lt;String&gt; texts) {\r\n\t\tthis.texts = texts;\r\n\t}\r\n}\r\n```","title":"Cant set List&lt;String&gt; value from &lt;ui:repeat&gt; var status","body":"<p>in my xhtml i define a inputText variable from which i want to set a specific value to a specific field in my List. Every time i click confirm and debug my code the value is returned as &quot;&quot; (that i set in my init function). I have also tried hardcoding my inputText value to be set to <code>dashboardFilterDialogBean.dashboardObject.texts[0]</code> as in the only item in the list i define but still no result. I get 0 exceptions in my console</p>\n<p>Xhtml</p>\n<pre><code>&lt;p:dialog id=&quot;dashboardFilterDialog&quot;&gt;\n    &lt;h:form id=&quot;dashboard_filter_dialog_form&quot;&gt;\n        &lt;ui:repeat value=&quot;#{dashboardFilterDialogBean.dashboardObject.texts}&quot; varStatus=&quot;loop&quot;&gt;\n            &lt;p:row&gt;\n                &lt;p:column&gt;\n                    &lt;h:outputText value=&quot;Text&quot; /&gt;\n                &lt;/p:column&gt;\n                &lt;p:column&gt;\n                    &lt;p:inputText value=&quot;#{dashboardFilterDialogBean.dashboardObject.texts[loop.index]}&quot; /&gt;\n                &lt;/p:column&gt;\n            &lt;/p:row&gt;\n        &lt;/ui:repeat&gt;\n    &lt;/h:form&gt;\n    &lt;f:facet name=&quot;footer&quot;&gt;\n        &lt;h:form id=&quot;submit_dashboards_dialog_form&quot;&gt;\n            &lt;p:commandButton id=&quot;confirm_button&quot; actionListener=&quot;#{dashboardFilterDialogBean.confirm()}&quot; /&gt;\n        &lt;/h:form&gt;\n    &lt;/f:facet&gt;\n&lt;/p:dialog&gt;\n</code></pre>\n<p>Bean</p>\n<pre><code>public class DashboardFilterDialogBean {\n\n    private DashboardObject dashboardObject;\n\n    @PostConstruct\n    public void init() {\n        dashboardObject.getTexts().add(&quot;&quot;);\n    }\n\n    public void confirm() {\n        for (String txtValue : getDashboardObject().getTexts()) {\n            if (!txtValue.equals(&quot;&quot;)) {\n                ...;\n            }\n        }\n    }\n\n    public DashboardObject getDashboardObject() {\n        return dashboardObject;\n    }\n\n    public void setDashboardObject(DashboardObject dashboardObject) {\n        this.dashboardObject = dashboardObject;\n    }\n}\n</code></pre>\n<p>Object</p>\n<pre><code>public class DashboardObject {\n\n    private List&lt;String&gt;            texts;\n\n    public DashboardObject() {\n        texts = new ArrayList&lt;String&gt;();\n    }\n\n    public List&lt;String&gt; getTexts() {\n        return texts;\n    }\n\n    public void setTexts(List&lt;String&gt; texts) {\n        this.texts = texts;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649935422,"creation_date":1649884065,"answer_id":71863872,"question_id":71860152,"body_markdown":"As [described in the documentation](https://docs.spring.io/spring-boot/docs/2.6.x/reference/htmlsingle/#features.spring-application.application-availability.readiness), the application is not ready to handle traffic until application and command-line runners have been called. Your command-line runner that calls your `EventConsumer` never returns so the application is never considered ready to handle traffic.\r\n\r\nIt&#39;s easier to see the effect that this has if you configure the health endpoint to always show details:\r\n\r\n```\r\nmanagement.endpoint.health.show-details=always\r\n```\r\n\r\nThe health endpoint now shows all of the individual components that are aggregated to produce the overall health:\r\n\r\n```\r\n{\r\n    &quot;components&quot;: {\r\n        &quot;diskSpace&quot;: {\r\n            &quot;details&quot;: {\r\n                &quot;exists&quot;: true,\r\n                &quot;free&quot;: 465064448000,\r\n                &quot;threshold&quot;: 10485760,\r\n                &quot;total&quot;: 1000240963584\r\n            },\r\n            &quot;status&quot;: &quot;UP&quot;\r\n        },\r\n        &quot;livenessState&quot;: {\r\n            &quot;status&quot;: &quot;UP&quot;\r\n        },\r\n        &quot;ping&quot;: {\r\n            &quot;status&quot;: &quot;UP&quot;\r\n        },\r\n        &quot;readinessState&quot;: {\r\n            &quot;status&quot;: &quot;OUT_OF_SERVICE&quot;\r\n        }\r\n    },\r\n    &quot;groups&quot;: [\r\n        &quot;liveness&quot;,\r\n        &quot;readiness&quot;\r\n    ],\r\n    &quot;status&quot;: &quot;OUT_OF_SERVICE&quot;\r\n}\r\n```\r\n\r\n`OUT_OF_SERVICE` is returned due to the status of the `readinessState` component.\r\n\r\nIn its default configuration, `readinessState` is used by the `readiness` group and it too returns `OUT_OF_SERVICE`. By setting `management.endpoint.health.group.readiness.include=ping`, you have created your own custom `readiness` group that only includes the `ping` component. It now returns `UP`, which is consistent with the status of the `ping` component in the overall health response. As [shown in the documentation](https://docs.spring.io/spring-boot/docs/2.6.x/reference/htmlsingle/#actuator.endpoints.kubernetes-probes.external-state) you should include `readinessState` when customizing the `readinessGroup`:\r\n\r\n```\r\nmanagement.endpoint.health.group.readiness.include=readinessState,ping\r\n```\r\n\r\n","title":"Actuator Health Endpoint returns OUT_OF_SERVICE, when all groups are UP","body":"<p>As <a href=\"https://docs.spring.io/spring-boot/docs/2.6.x/reference/htmlsingle/#features.spring-application.application-availability.readiness\" rel=\"nofollow noreferrer\">described in the documentation</a>, the application is not ready to handle traffic until application and command-line runners have been called. Your command-line runner that calls your <code>EventConsumer</code> never returns so the application is never considered ready to handle traffic.</p>\n<p>It's easier to see the effect that this has if you configure the health endpoint to always show details:</p>\n<pre><code>management.endpoint.health.show-details=always\n</code></pre>\n<p>The health endpoint now shows all of the individual components that are aggregated to produce the overall health:</p>\n<pre><code>{\n    &quot;components&quot;: {\n        &quot;diskSpace&quot;: {\n            &quot;details&quot;: {\n                &quot;exists&quot;: true,\n                &quot;free&quot;: 465064448000,\n                &quot;threshold&quot;: 10485760,\n                &quot;total&quot;: 1000240963584\n            },\n            &quot;status&quot;: &quot;UP&quot;\n        },\n        &quot;livenessState&quot;: {\n            &quot;status&quot;: &quot;UP&quot;\n        },\n        &quot;ping&quot;: {\n            &quot;status&quot;: &quot;UP&quot;\n        },\n        &quot;readinessState&quot;: {\n            &quot;status&quot;: &quot;OUT_OF_SERVICE&quot;\n        }\n    },\n    &quot;groups&quot;: [\n        &quot;liveness&quot;,\n        &quot;readiness&quot;\n    ],\n    &quot;status&quot;: &quot;OUT_OF_SERVICE&quot;\n}\n</code></pre>\n<p><code>OUT_OF_SERVICE</code> is returned due to the status of the <code>readinessState</code> component.</p>\n<p>In its default configuration, <code>readinessState</code> is used by the <code>readiness</code> group and it too returns <code>OUT_OF_SERVICE</code>. By setting <code>management.endpoint.health.group.readiness.include=ping</code>, you have created your own custom <code>readiness</code> group that only includes the <code>ping</code> component. It now returns <code>UP</code>, which is consistent with the status of the <code>ping</code> component in the overall health response. As <a href=\"https://docs.spring.io/spring-boot/docs/2.6.x/reference/htmlsingle/#actuator.endpoints.kubernetes-probes.external-state\" rel=\"nofollow noreferrer\">shown in the documentation</a> you should include <code>readinessState</code> when customizing the <code>readinessGroup</code>:</p>\n<pre><code>management.endpoint.health.group.readiness.include=readinessState,ping\n</code></pre>\n"}],"owner":{"account_id":3671809,"reputation":1284,"user_id":3058832,"display_name":"dgebert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3083,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71863872,"answer_count":1,"score":3,"last_activity_date":1649935422,"creation_date":1649863989,"question_id":71860152,"body_markdown":"I am trying to set up readiness probe for my app deployed to k8s but under the `actuator/health` endpoint I am getting different status, comparing to `actuator/health/readiness` endpoint.\r\n\r\nIt&#39;s important, that this behaviour is only observed when the app is deployed to k8s cluster.\r\n\r\nSo without any additional config in the `application.properties` file I am getting:\r\n\r\n```\r\n➜  ~ curl localhost:8080/actuator/health\r\n{&quot;status&quot;:&quot;OUT_OF_SERVICE&quot;,&quot;groups&quot;:[&quot;liveness&quot;,&quot;readiness&quot;]}%\r\n➜  ~ curl localhost:8080/actuator/health/liveness\r\n{&quot;status&quot;:&quot;UP&quot;}%\r\n➜  ~ curl localhost:8080/actuator/health/readiness\r\n{&quot;status&quot;:&quot;OUT_OF_SERVICE&quot;}%\r\n```\r\n\r\nWhich seems to be correct - if the readiness state is `OUT_OF_SERVICE`, the health endpoint returns `OUT_OF_SERVICE` as well, because it includes `readiness` group. This is at least consistent.\r\n\r\nOn the other hand, when I specify what should be included in the `readiness` group in the `application.properties` file it seems to be reporting inconsistent results. In my case I&#39;ve added one entry to my configuration file, which is: `management.endpoint.health.group.readiness.include=ping`\r\n\r\nThis time that&#39;s what I have as a result of sending the same set of requests as before:\r\n\r\n```\r\n➜  ~ curl localhost:8080/actuator/health\r\n{&quot;status&quot;:&quot;OUT_OF_SERVICE&quot;,&quot;groups&quot;:[&quot;liveness&quot;,&quot;readiness&quot;]}%\r\n➜  ~ curl localhost:8080/actuator/health/liveness\r\n{&quot;status&quot;:&quot;UP&quot;}%\r\n➜  ~ curl localhost:8080/actuator/health/readiness\r\n{&quot;status&quot;:&quot;UP&quot;}%\r\n```\r\n\r\nThis is inconsistent - when both `liveness` and `readiness` endpoint return status `UP` I&#39;d expect to see the same status in the `health` endpoint.\r\n\r\nI am looking for an explanation what I have misconfigured here, and why it works that way.\r\n\r\nTo make it easier, I&#39;ve created a small app, where you can verify this behaviour on your cluster:\r\nhttps://github.com/gebertdominik/actuator-bug\r\n\r\n\r\n\r\n\r\n","title":"Actuator Health Endpoint returns OUT_OF_SERVICE, when all groups are UP","body":"<p>I am trying to set up readiness probe for my app deployed to k8s but under the <code>actuator/health</code> endpoint I am getting different status, comparing to <code>actuator/health/readiness</code> endpoint.</p>\n<p>It's important, that this behaviour is only observed when the app is deployed to k8s cluster.</p>\n<p>So without any additional config in the <code>application.properties</code> file I am getting:</p>\n<pre><code>➜  ~ curl localhost:8080/actuator/health\n{&quot;status&quot;:&quot;OUT_OF_SERVICE&quot;,&quot;groups&quot;:[&quot;liveness&quot;,&quot;readiness&quot;]}%\n➜  ~ curl localhost:8080/actuator/health/liveness\n{&quot;status&quot;:&quot;UP&quot;}%\n➜  ~ curl localhost:8080/actuator/health/readiness\n{&quot;status&quot;:&quot;OUT_OF_SERVICE&quot;}%\n</code></pre>\n<p>Which seems to be correct - if the readiness state is <code>OUT_OF_SERVICE</code>, the health endpoint returns <code>OUT_OF_SERVICE</code> as well, because it includes <code>readiness</code> group. This is at least consistent.</p>\n<p>On the other hand, when I specify what should be included in the <code>readiness</code> group in the <code>application.properties</code> file it seems to be reporting inconsistent results. In my case I've added one entry to my configuration file, which is: <code>management.endpoint.health.group.readiness.include=ping</code></p>\n<p>This time that's what I have as a result of sending the same set of requests as before:</p>\n<pre><code>➜  ~ curl localhost:8080/actuator/health\n{&quot;status&quot;:&quot;OUT_OF_SERVICE&quot;,&quot;groups&quot;:[&quot;liveness&quot;,&quot;readiness&quot;]}%\n➜  ~ curl localhost:8080/actuator/health/liveness\n{&quot;status&quot;:&quot;UP&quot;}%\n➜  ~ curl localhost:8080/actuator/health/readiness\n{&quot;status&quot;:&quot;UP&quot;}%\n</code></pre>\n<p>This is inconsistent - when both <code>liveness</code> and <code>readiness</code> endpoint return status <code>UP</code> I'd expect to see the same status in the <code>health</code> endpoint.</p>\n<p>I am looking for an explanation what I have misconfigured here, and why it works that way.</p>\n<p>To make it easier, I've created a small app, where you can verify this behaviour on your cluster:\n<a href=\"https://github.com/gebertdominik/actuator-bug\" rel=\"nofollow noreferrer\">https://github.com/gebertdominik/actuator-bug</a></p>\n"},{"tags":["java","maven","javafx","fxml","fxmlloader"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1649934146,"post_id":71869792,"comment_id":127002587,"body_markdown":"Change `exports program;` (in file `module-info.java`) to `opens program;` exactly as the exception message tells you.","body":"Change <code>exports program;</code> (in file <code>module-info.java</code>) to <code>opens program;</code> exactly as the exception message tells you."},{"owner":{"account_id":22953189,"reputation":3,"user_id":17084168,"display_name":"GarbageGoblin"},"score":0,"creation_date":1649934164,"post_id":71869792,"comment_id":127002596,"body_markdown":"I added the module-info.java. I have included everything needed in the pom.xml and have no issues  regarding it whatsoever. I think the issue here might have to do something with file locations, which would be pretty absurd.","body":"I added the module-info.java. I have included everything needed in the pom.xml and have no issues  regarding it whatsoever. I think the issue here might have to do something with file locations, which would be pretty absurd."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649934652,"post_id":71869792,"comment_id":127002794,"body_markdown":".. ahh .. the requirements for modules are described in the Introduction to FXML ..","body":".. ahh .. the requirements for modules are described in the Introduction to FXML .."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1649935044,"post_id":71869792,"comment_id":127002930,"body_markdown":"@kleopatra are you referring to: https://openjfx.io/javadoc/12/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html","body":"@kleopatra are you referring to: <a href=\"https://openjfx.io/javadoc/12/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/12/javafx.fxml/javafx/fxml/doc-files/&hellip;</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649935203,"post_id":71869792,"comment_id":127002976,"body_markdown":"@Abra yeah sure, why do you ask .. and spare the asker the most minimal research ;) BTW: the current version is fx18 ..","body":"@Abra yeah sure, why do you ask .. and spare the asker the most minimal research ;) BTW: the current version is fx18 .."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1649935390,"post_id":71869792,"comment_id":127003037,"body_markdown":"@kleopatra maybe it was too subtle but my intention was to get the OP to click on the link since you didn&#39;t provide one when you referred him to that document. By the way, you are referring to the last section of that document, under the heading _Deploying an Application as a Module_, correct? (Again a hint to the OP.)","body":"@kleopatra maybe it was too subtle but my intention was to get the OP to click on the link since you didn&#39;t provide one when you referred him to that document. By the way, you are referring to the last section of that document, under the heading <i>Deploying an Application as a Module</i>, correct? (Again a hint to the OP.)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1649935539,"post_id":71869792,"comment_id":127003084,"body_markdown":"@Abra hehe, not too subtle just the contrary .. my intention was to give the asker only a _hint_ where to search, doing the search should be his/her task ;) Note to all: the javafx tag wiki has references to all basic doc and other helpful resources","body":"@Abra hehe, not too subtle just the contrary .. my intention was to give the asker only a <i>hint</i> where to search, doing the search should be his/her task ;) Note to all: the javafx tag wiki has references to all basic doc and other helpful resources"},{"owner":{"account_id":22953189,"reputation":3,"user_id":17084168,"display_name":"GarbageGoblin"},"score":0,"creation_date":1649935627,"post_id":71869792,"comment_id":127003122,"body_markdown":"Hey all, found the issue. I had to add opens program to javafx.fxml to the module-info file. That fixed everything. Thanks for help!","body":"Hey all, found the issue. I had to add opens program to javafx.fxml to the module-info file. That fixed everything. Thanks for help!"}],"answers":[{"tags":[],"owner":{"display_name":"user18773012"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649933856,"creation_date":1649933856,"answer_id":71870522,"question_id":71869792,"body_markdown":"I do not know which IDEA you work.\r\nThis is for `IntelliJ`:\r\n\r\nWhen you work with JavaFX (without Maven), you have to create a `module-info file`.\r\n\r\nIn the module file you have to write:\r\n\r\nmodule JavaFX {\r\n\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.base;\r\n    requires javafx.graphics;\r\n\r\n    opens &lt;PackgeName from your FXML File&gt; to javafx.fxml;\r\n    exports &lt;PackageName from Controller and App&gt;;\r\n}\r\n\r\n\r\nFor maven you have to need a `pom file` and create a `.java file as a Launcher`.\r\n\r\npublic class Launcher {\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(&lt;AppName&gt;.class, args);\r\n    }\r\n}\r\n","title":"JavaFX FXML Controller won&#39;t recognize injectable field","body":"<p>I do not know which IDEA you work.\nThis is for <code>IntelliJ</code>:</p>\n<p>When you work with JavaFX (without Maven), you have to create a <code>module-info file</code>.</p>\n<p>In the module file you have to write:</p>\n<p>module JavaFX {</p>\n<pre><code>requires javafx.controls;\nrequires javafx.fxml;\nrequires javafx.base;\nrequires javafx.graphics;\n\nopens &lt;PackgeName from your FXML File&gt; to javafx.fxml;\nexports &lt;PackageName from Controller and App&gt;;\n</code></pre>\n<p>}</p>\n<p>For maven you have to need a <code>pom file</code> and create a <code>.java file as a Launcher</code>.</p>\n<p>public class Launcher {</p>\n<pre><code>public static void main(String[] args) {\n    Application.launch(&lt;AppName&gt;.class, args);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22953189,"reputation":3,"user_id":17084168,"display_name":"GarbageGoblin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649935102,"answer_count":1,"score":-1,"last_activity_date":1649935010,"creation_date":1649930475,"question_id":71869792,"body_markdown":"I&#39;m working on a school project, and one of the tasks is to create a nice UI. I&#39;m learning to use JavaFX FXML and am using it by hand and by scene builder. The problem I ran into is that the builder recognizes the Controller class, but won&#39;t recognize the variable inside said class.\r\n\r\nMy codes right now are as such:\r\n\r\nController.java:\r\n\r\n\r\n    package program;\r\n\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.TreeItem;\r\n    import javafx.scene.control.TreeView;\r\n    public class Controller implements Initializable{\r\n\r\n    @FXML\r\n    private TreeView&lt;String&gt; mainView;\r\n\r\n    @Override\r\n    public void initialize(URL arg0, ResourceBundle arg1){\r\n\r\n        TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;All and everything&quot;);\r\n        String s = &quot;test&quot;;\r\n\r\n        TreeItem&lt;String&gt; testItem = new TreeItem&lt;&gt;(&quot;TEST&quot;);\r\n\r\n        rootItem.getChildren().add(testItem);\r\n        \r\n\r\n        mainView.setRoot(rootItem);\r\n    }\r\n\r\n    public void selectItem(){\r\n\r\n    }\r\n    }\r\n\r\ntest.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.TreeView?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;program.Controller&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TreeView fx:id=&quot;mainView&quot; layoutX=&quot;14.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;378.0&quot; prefWidth=&quot;579.0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\nprogram.java:\r\n\r\n    package program;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    \r\n    public class program extends Application{\r\n    \r\n        \r\n        @Override\r\n        public void start(Stage stage){\r\n    \r\n            Parent root = new Parent(){};\r\n    \r\n    \r\n            try{\r\n                root = FXMLLoader.load(this.getClass().getResource(&quot;/test.fxml&quot;));\r\n                System.out.print(&quot;UI file found!&quot;);\r\n            \r\n            }\r\n            catch (IOException e){\r\n                System.out.print(&quot;Error using the UI file &quot;+e.getCause());\r\n            }\r\n            catch (NullPointerException e2){\r\n                System.out.print(&quot;UI file not found!&quot;);\r\n            }\r\n    \r\n            Scene mainScene = new Scene(root, 500, 500, Color.PURPLE);\r\n            stage.setScene(mainScene);\r\n            stage.setFullScreen(true);\r\n    \r\n            stage.show();\r\n    \r\n        }\r\n        \r\n        public static void main(String args[]) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nmodule-info.java:\r\n\r\n    module program {\r\n        requires javafx.controls;\r\n        requires com.google.gson;\r\n        requires javafx.fxml;\r\n        exports program;\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;program&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;18&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;18&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;program.App&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running --&gt;\r\n                            &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Configuration for manual attach debugging --&gt;\r\n                            &lt;!-- Usage: mvn clean javafx:run@debug --&gt;\r\n                            &lt;id&gt;debug&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;options&gt;\r\n                                    &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:8000&lt;/option&gt;\r\n                                &lt;/options&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Configuration for automatic IDE debugging --&gt;\r\n                            &lt;id&gt;ide-debug&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;options&gt;\r\n                                    &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=n,address=${jpda.address}&lt;/option&gt;\r\n                                &lt;/options&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Configuration for automatic IDE profiling --&gt;\r\n                            &lt;id&gt;ide-profile&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;options&gt;\r\n    \t\t\t\t&lt;option&gt;${profiler.jvmargs.arg1}&lt;/option&gt;\r\n    \t\t\t\t&lt;option&gt;${profiler.jvmargs.arg2}&lt;/option&gt;\r\n    \t\t\t\t&lt;option&gt;${profiler.jvmargs.arg3}&lt;/option&gt;\r\n    \t\t\t\t&lt;option&gt;${profiler.jvmargs.arg4}&lt;/option&gt;\r\n    \t\t\t\t&lt;option&gt;${profiler.jvmargs.arg5}&lt;/option&gt;\r\n                                &lt;/options&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nI&#39;m obscuring the actual package name for security reasons, but that should be irrelevant. Package program is a placeholder for it. \r\n\r\nMy FXML-file is under src/main/resources and the main application class reads it just fine. The fxml just wont interact with the controller. Please excuse if it&#39;s a duplicate, I spent time searching for a similar issue and couldn&#39;t find one. I have triple-checked the names and imports.\r\n\r\nEDIT:\r\nI&#39;m getting an IOException in the main program. I know the file reads fine.\r\nError message:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make field private javafx.scene.control.TreeView program.Controller.mainView accessible: module program does not &quot;opens program&quot; to module javafx.fxml\r\n\r\nAdded the minimal reproducible example and module-info.java.","title":"JavaFX FXML Controller won&#39;t recognize injectable field","body":"<p>I'm working on a school project, and one of the tasks is to create a nice UI. I'm learning to use JavaFX FXML and am using it by hand and by scene builder. The problem I ran into is that the builder recognizes the Controller class, but won't recognize the variable inside said class.</p>\n<p>My codes right now are as such:</p>\n<p>Controller.java:</p>\n<pre><code>package program;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\npublic class Controller implements Initializable{\n\n@FXML\nprivate TreeView&lt;String&gt; mainView;\n\n@Override\npublic void initialize(URL arg0, ResourceBundle arg1){\n\n    TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;All and everything&quot;);\n    String s = &quot;test&quot;;\n\n    TreeItem&lt;String&gt; testItem = new TreeItem&lt;&gt;(&quot;TEST&quot;);\n\n    rootItem.getChildren().add(testItem);\n    \n\n    mainView.setRoot(rootItem);\n}\n\npublic void selectItem(){\n\n}\n}\n</code></pre>\n<p>test.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.TreeView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;program.Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;TreeView fx:id=&quot;mainView&quot; layoutX=&quot;14.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;378.0&quot; prefWidth=&quot;579.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>program.java:</p>\n<pre><code>package program;\n\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Pos;\nimport javafx.scene.Group;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\n\n\npublic class program extends Application{\n\n    \n    @Override\n    public void start(Stage stage){\n\n        Parent root = new Parent(){};\n\n\n        try{\n            root = FXMLLoader.load(this.getClass().getResource(&quot;/test.fxml&quot;));\n            System.out.print(&quot;UI file found!&quot;);\n        \n        }\n        catch (IOException e){\n            System.out.print(&quot;Error using the UI file &quot;+e.getCause());\n        }\n        catch (NullPointerException e2){\n            System.out.print(&quot;UI file not found!&quot;);\n        }\n\n        Scene mainScene = new Scene(root, 500, 500, Color.PURPLE);\n        stage.setScene(mainScene);\n        stage.setFullScreen(true);\n\n        stage.show();\n\n    }\n    \n    public static void main(String args[]) {\n        launch();\n    }\n}\n</code></pre>\n<p>module-info.java:</p>\n<pre><code>module program {\n    requires javafx.controls;\n    requires com.google.gson;\n    requires javafx.fxml;\n    exports program;\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;program&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;18&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;program.App&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Configuration for manual attach debugging --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run@debug --&gt;\n                        &lt;id&gt;debug&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;options&gt;\n                                &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:8000&lt;/option&gt;\n                            &lt;/options&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Configuration for automatic IDE debugging --&gt;\n                        &lt;id&gt;ide-debug&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;options&gt;\n                                &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=n,address=${jpda.address}&lt;/option&gt;\n                            &lt;/options&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Configuration for automatic IDE profiling --&gt;\n                        &lt;id&gt;ide-profile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;options&gt;\n                &lt;option&gt;${profiler.jvmargs.arg1}&lt;/option&gt;\n                &lt;option&gt;${profiler.jvmargs.arg2}&lt;/option&gt;\n                &lt;option&gt;${profiler.jvmargs.arg3}&lt;/option&gt;\n                &lt;option&gt;${profiler.jvmargs.arg4}&lt;/option&gt;\n                &lt;option&gt;${profiler.jvmargs.arg5}&lt;/option&gt;\n                            &lt;/options&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm obscuring the actual package name for security reasons, but that should be irrelevant. Package program is a placeholder for it.</p>\n<p>My FXML-file is under src/main/resources and the main application class reads it just fine. The fxml just wont interact with the controller. Please excuse if it's a duplicate, I spent time searching for a similar issue and couldn't find one. I have triple-checked the names and imports.</p>\n<p>EDIT:\nI'm getting an IOException in the main program. I know the file reads fine.\nError message:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private javafx.scene.control.TreeView program.Controller.mainView accessible: module program does not &quot;opens program&quot; to module javafx.fxml\n</code></pre>\n<p>Added the minimal reproducible example and module-info.java.</p>\n"},{"tags":["java","spring","spring-boot","flux","reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649917239,"creation_date":1649912899,"answer_id":71866761,"question_id":71833927,"body_markdown":"One of the solution is to use `Mono.usingWhen` that allows to use async operations for resource supplier, resource closure and  cleanup. \r\n\r\n```\r\nMono.usingWhen(\r\n   lockService.acquire(key),\r\n   lock -&gt; process(),\r\n   lock -&gt; lockService.release(lock)\r\n);\r\n```\r\n\r\nIn our case we wrapped Redis lock into `LockService` that looks like the following\r\n\r\n```\r\npublic interface ReactiveLockService {\r\n\r\n\tMono&lt;LockEntry&gt; acquire(String key, Duration expireAfter);\r\n\r\n\tMono&lt;Void&gt; release(LockEntry lock);\r\n\r\n\tinterface LockEntry {\r\n\t\tString getKey();\r\n\r\n\t\tString getValue();\r\n\t}\r\n}\r\n```\r\n","title":"How to wrap a Reactor Flux stream with a Redisson lock and unlock?","body":"<p>One of the solution is to use <code>Mono.usingWhen</code> that allows to use async operations for resource supplier, resource closure and  cleanup.</p>\n<pre><code>Mono.usingWhen(\n   lockService.acquire(key),\n   lock -&gt; process(),\n   lock -&gt; lockService.release(lock)\n);\n</code></pre>\n<p>In our case we wrapped Redis lock into <code>LockService</code> that looks like the following</p>\n<pre><code>public interface ReactiveLockService {\n\n    Mono&lt;LockEntry&gt; acquire(String key, Duration expireAfter);\n\n    Mono&lt;Void&gt; release(LockEntry lock);\n\n    interface LockEntry {\n        String getKey();\n\n        String getValue();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21554207,"reputation":93,"user_id":15889782,"display_name":"underflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649934991,"creation_date":1649934991,"answer_id":71870751,"question_id":71833927,"body_markdown":"Thanks for your answer @Alex, in the meantime I was able to come with something like this which is very flexible in terms of organizing the stream and resilent to failures (took me a while to cover edge cases...)   \r\nIt can be used as a call to `stream.flatMap(withLock(..., processor)`   \r\n\r\n```java\r\n    public static &lt;T&gt; Function&lt;T, Flux&lt;T&gt;&gt; withLock(\r\n            long tid, String lockPrefix, int lockTimeMs, Function&lt;T, String&gt; keyExtractor, Function&lt;Mono&lt;T&gt;, Flux&lt;T&gt;&gt; processor, RedissonReactiveClient redis) {\r\n\r\n        // If Redis lock or unlock operations fail, that will on purpose propagate the error.\r\n        // If processor throws an error, lock will be unlocked first before error propagation.\r\n\r\n        // tid has to be unique for each local task, it&#39;s a virtual &quot;thread id&quot; so if it&#39;s used concurrently locks will not protect the code\r\n\r\n        return flux -&gt; {\r\n            Function&lt;T, RLockReactive&gt; getLock = ev -&gt; redis.getLock(lockPrefix + keyExtractor.apply(ev));\r\n            RLockReactive lock = getLock.apply(flux);\r\n\r\n            Supplier&lt;Mono&lt;T&gt;&gt; unlock = () -&gt; lock.unlock(tid).then(Mono.&lt;T&gt;empty());\r\n            Supplier&lt;Mono&lt;T&gt;&gt; doLock = () -&gt; lock.lock(lockTimeMs, TimeUnit.MILLISECONDS, tid).then(Mono.&lt;T&gt;empty());\r\n\r\n            // Careful not to call map/flatMap on redis.lock/redis.unlock which returns Void and so it won&#39;t trigger on empty stream...lol!\r\n            return Flux.concat(\r\n                    Mono.defer(doLock),\r\n                    Flux.defer(() -&gt; processor.apply(Mono.just(flux))\r\n                            .onErrorResume(err -&gt; unlock.get()\r\n                                    .onErrorResume(unlockError -&gt; {\r\n                                        err.addSuppressed(unlockError);\r\n                                        // Propagate original processor error, but note the unlock error as suppressed\r\n                                        return Mono.error(err);\r\n                                    })\r\n                                    .then(Mono.error(err)))),\r\n                    Mono.defer(unlock)\r\n            );\r\n        };\r\n```","title":"How to wrap a Reactor Flux stream with a Redisson lock and unlock?","body":"<p>Thanks for your answer @Alex, in the meantime I was able to come with something like this which is very flexible in terms of organizing the stream and resilent to failures (took me a while to cover edge cases...)<br />\nIt can be used as a call to <code>stream.flatMap(withLock(..., processor)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T&gt; Function&lt;T, Flux&lt;T&gt;&gt; withLock(\n            long tid, String lockPrefix, int lockTimeMs, Function&lt;T, String&gt; keyExtractor, Function&lt;Mono&lt;T&gt;, Flux&lt;T&gt;&gt; processor, RedissonReactiveClient redis) {\n\n        // If Redis lock or unlock operations fail, that will on purpose propagate the error.\n        // If processor throws an error, lock will be unlocked first before error propagation.\n\n        // tid has to be unique for each local task, it's a virtual &quot;thread id&quot; so if it's used concurrently locks will not protect the code\n\n        return flux -&gt; {\n            Function&lt;T, RLockReactive&gt; getLock = ev -&gt; redis.getLock(lockPrefix + keyExtractor.apply(ev));\n            RLockReactive lock = getLock.apply(flux);\n\n            Supplier&lt;Mono&lt;T&gt;&gt; unlock = () -&gt; lock.unlock(tid).then(Mono.&lt;T&gt;empty());\n            Supplier&lt;Mono&lt;T&gt;&gt; doLock = () -&gt; lock.lock(lockTimeMs, TimeUnit.MILLISECONDS, tid).then(Mono.&lt;T&gt;empty());\n\n            // Careful not to call map/flatMap on redis.lock/redis.unlock which returns Void and so it won't trigger on empty stream...lol!\n            return Flux.concat(\n                    Mono.defer(doLock),\n                    Flux.defer(() -&gt; processor.apply(Mono.just(flux))\n                            .onErrorResume(err -&gt; unlock.get()\n                                    .onErrorResume(unlockError -&gt; {\n                                        err.addSuppressed(unlockError);\n                                        // Propagate original processor error, but note the unlock error as suppressed\n                                        return Mono.error(err);\n                                    })\n                                    .then(Mono.error(err)))),\n                    Mono.defer(unlock)\n            );\n        };\n</code></pre>\n"}],"owner":{"account_id":21554207,"reputation":93,"user_id":15889782,"display_name":"underflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649934991,"creation_date":1649708930,"question_id":71833927,"body_markdown":"I have a Flux stream that reads objects from the database.  \r\nFor each of these objects, I have a processing function to be run.  \r\nI want the processing function to execute after acquiring Redis lock on ID of given object, and after processing release the lock (also if the processing function throws an error).  \r\n\r\nWhat&#39;s the easiest way in Flux to create such a stream?  \r\nHere is some code of my failed attempt at doing this with transform.  \r\nI could probably make withLock take a function which would be attached as `afterLock.flatMap(func)`, but I am looking for a solution that can avoid that.\r\n\r\nI would like this to be as transparent to the rest of the stream as possible, and not require seperate attachment of lock and unlock functions, just one attachment that can do &quot;lock-process-unlock&quot;.\r\n\r\n```java\r\n\r\n        private &lt;T&gt; Function&lt;Flux&lt;T&gt;, Publisher&lt;T&gt;&gt; withLock(Function&lt;T, String&gt; keyExtractor) {\r\n          \r\n            return flux -&gt; {\r\n                    Flux&lt;T&gt; afterLock = flux.flatMap(ev -&gt; redis.getLock(keyExtractor.apply(ev)).lock(1000L, TimeUnit.MILLISECONDS).map(ret -&gt; ev));\r\n    \r\n    // processing logic should be attached somewhere here\r\n    \r\n                afterLock\r\n                        .flatMap(ret -&gt; redis.getLock(keyExtractor.apply(ret)).unlock()\r\n                                .thenReturn(ret)\r\n                                .onErrorResume(e -&gt; redis.getLock(keyExtractor.apply(ret)).unlock().thenReturn(ret)));\r\n    \r\n                return afterLock;\r\n    \r\n            };\r\n        }\r\n\r\n```\r\n\r\n```\r\n\r\n        Flux.just(someObjectFromDatabase)\r\n                .transform(withLock(t -&gt; t.id()))\r\n                .flatMap(this::objectProcessor)\r\n\r\n```","title":"How to wrap a Reactor Flux stream with a Redisson lock and unlock?","body":"<p>I have a Flux stream that reads objects from the database.<br />\nFor each of these objects, I have a processing function to be run.<br />\nI want the processing function to execute after acquiring Redis lock on ID of given object, and after processing release the lock (also if the processing function throws an error).</p>\n<p>What's the easiest way in Flux to create such a stream?<br />\nHere is some code of my failed attempt at doing this with transform.<br />\nI could probably make withLock take a function which would be attached as <code>afterLock.flatMap(func)</code>, but I am looking for a solution that can avoid that.</p>\n<p>I would like this to be as transparent to the rest of the stream as possible, and not require seperate attachment of lock and unlock functions, just one attachment that can do &quot;lock-process-unlock&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        private &lt;T&gt; Function&lt;Flux&lt;T&gt;, Publisher&lt;T&gt;&gt; withLock(Function&lt;T, String&gt; keyExtractor) {\n          \n            return flux -&gt; {\n                    Flux&lt;T&gt; afterLock = flux.flatMap(ev -&gt; redis.getLock(keyExtractor.apply(ev)).lock(1000L, TimeUnit.MILLISECONDS).map(ret -&gt; ev));\n    \n    // processing logic should be attached somewhere here\n    \n                afterLock\n                        .flatMap(ret -&gt; redis.getLock(keyExtractor.apply(ret)).unlock()\n                                .thenReturn(ret)\n                                .onErrorResume(e -&gt; redis.getLock(keyExtractor.apply(ret)).unlock().thenReturn(ret)));\n    \n                return afterLock;\n    \n            };\n        }\n\n</code></pre>\n<pre><code>\n        Flux.just(someObjectFromDatabase)\n                .transform(withLock(t -&gt; t.id()))\n                .flatMap(this::objectProcessor)\n\n</code></pre>\n"},{"tags":["java","android","broadcastreceiver","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649934460,"creation_date":1649934460,"answer_id":71870647,"question_id":71869058,"body_markdown":"There are dozens of similar questions on Stackoverflow. You really should search before you create a new question.\r\n\r\nBasically, `setRepeating()` is inexact. In order to conserve battery power, Android will change the actual time the alarm triggers. You have no control over that. If you need exact timing, you should use something like `setExact()` instead. This is not a repeating alarm, so if you need a repeating alarm you should do something like this: when the alarm gets triggered, do whatever and then set the next alarm.\r\n\r\nYou wrote:\r\n\r\n&gt; I need to make a app, which make a new logfile at 0:00 every day.so I\r\n&gt; try the alarmmanager &amp; broadcastReciever. I need to make sure the\r\n&gt; logfile only be created one time,(in second case may create three\r\n&gt; times I guess)\r\n\r\nso you should schedule an alarm with `setExact()` for 00:00 of the following day. When that alarm triggers, rotate your logfiles and then set an alarm for 00:00 of the following day. This will ensure that your alarm goes off at the correct time and that it only triggers once per day.","title":"AlarmManager &amp; BroadcastReceiver did not execute or in wrong interval times","body":"<p>There are dozens of similar questions on Stackoverflow. You really should search before you create a new question.</p>\n<p>Basically, <code>setRepeating()</code> is inexact. In order to conserve battery power, Android will change the actual time the alarm triggers. You have no control over that. If you need exact timing, you should use something like <code>setExact()</code> instead. This is not a repeating alarm, so if you need a repeating alarm you should do something like this: when the alarm gets triggered, do whatever and then set the next alarm.</p>\n<p>You wrote:</p>\n<blockquote>\n<p>I need to make a app, which make a new logfile at 0:00 every day.so I\ntry the alarmmanager &amp; broadcastReciever. I need to make sure the\nlogfile only be created one time,(in second case may create three\ntimes I guess)</p>\n</blockquote>\n<p>so you should schedule an alarm with <code>setExact()</code> for 00:00 of the following day. When that alarm triggers, rotate your logfiles and then set an alarm for 00:00 of the following day. This will ensure that your alarm goes off at the correct time and that it only triggers once per day.</p>\n"}],"owner":{"account_id":7065242,"reputation":17,"user_id":5408775,"display_name":"Grizz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71870647,"answer_count":1,"score":1,"last_activity_date":1649934460,"creation_date":1649926922,"question_id":71869058,"body_markdown":"I tried the sample of AlarmManager,which in https://developer.android.com/training/scheduling/alarms\r\n\r\nMy MainActivity.java like this:\r\n\r\n        alarmMgr = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent = new Intent(this, BroadcastReciever.class);\r\n        alarmIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        // call every 5mins\r\n        alarmMgr.setRepeating(AlarmManager.RTC, calendar.getTimeInMillis(),\r\n                1000 * 60 * 5L, alarmIntent);\r\n\r\nMy BroadcastReciever.java like this:\r\n\r\n    public class BroadcastReciever extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            System.out.println(&quot;Execute time:&quot; + Calendar.getInstance().getTime());\r\n        }\r\n    }\r\n\r\nI hope it output something like &quot;Execute time:Thu Apr 14 17:33:45 GMT+09:00 2022&quot; in every 5mins\r\nI installed the app in my physical device and restart the app in my physical device.(device still connect to the PC with an USB cable.)Android studio catch these log below: \r\n\r\n&gt;2022-04-14 17:33:45.009 13580-13580/? I/com.example.ss: Late-enabling -Xcheck:jni\r\n\r\n&gt;2022-04-14 17:33:45.050 13580-13580/? E/com.example.ss: Unknown bits set in runtime_flags: 0x8000\r\n\r\n&gt;2022-04-14 17:33:45.611 13580-13580/com.example.ss I/Perf: Connecting to perf service.\r\n\r\n&gt;2022-04-14 17:33:45.671 13580-13580/com.example.ss I/System.out: Execute time:Thu Apr 14 17:33:45 GMT+09:00 2022\r\n\r\n\r\nThe first problem is that, it&#39;s not output in every 5mins.\r\nThe second problem is that, sometimes it was output something like these (not in every 5mins)\r\n&gt;2022-04-14 11:56:09.145 ...\r\n\r\n&gt;2022-04-14 11:56:09.150 ...\r\n\r\n&gt;2022-04-14 11:56:09.154 ...\r\n\r\nI need to make a app, which make a new logfile at 0:00 every day.so I try the alarmmanager &amp; broadcastReciever.\r\nI need to make sure the logfile only be created one time,(in second case may create three times I guess)","title":"AlarmManager &amp; BroadcastReceiver did not execute or in wrong interval times","body":"<p>I tried the sample of AlarmManager,which in <a href=\"https://developer.android.com/training/scheduling/alarms\" rel=\"nofollow noreferrer\">https://developer.android.com/training/scheduling/alarms</a></p>\n<p>My MainActivity.java like this:</p>\n<pre><code>    alarmMgr = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);\n    Intent intent = new Intent(this, BroadcastReciever.class);\n    alarmIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\n\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTimeInMillis(System.currentTimeMillis());\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    // call every 5mins\n    alarmMgr.setRepeating(AlarmManager.RTC, calendar.getTimeInMillis(),\n            1000 * 60 * 5L, alarmIntent);\n</code></pre>\n<p>My BroadcastReciever.java like this:</p>\n<pre><code>public class BroadcastReciever extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        System.out.println(&quot;Execute time:&quot; + Calendar.getInstance().getTime());\n    }\n}\n</code></pre>\n<p>I hope it output something like &quot;Execute time:Thu Apr 14 17:33:45 GMT+09:00 2022&quot; in every 5mins\nI installed the app in my physical device and restart the app in my physical device.(device still connect to the PC with an USB cable.)Android studio catch these log below:</p>\n<blockquote>\n<p>2022-04-14 17:33:45.009 13580-13580/? I/com.example.ss: Late-enabling -Xcheck:jni</p>\n</blockquote>\n<blockquote>\n<p>2022-04-14 17:33:45.050 13580-13580/? E/com.example.ss: Unknown bits set in runtime_flags: 0x8000</p>\n</blockquote>\n<blockquote>\n<p>2022-04-14 17:33:45.611 13580-13580/com.example.ss I/Perf: Connecting to perf service.</p>\n</blockquote>\n<blockquote>\n<p>2022-04-14 17:33:45.671 13580-13580/com.example.ss I/System.out: Execute time:Thu Apr 14 17:33:45 GMT+09:00 2022</p>\n</blockquote>\n<p>The first problem is that, it's not output in every 5mins.\nThe second problem is that, sometimes it was output something like these (not in every 5mins)</p>\n<blockquote>\n<p>2022-04-14 11:56:09.145 ...</p>\n</blockquote>\n<blockquote>\n<p>2022-04-14 11:56:09.150 ...</p>\n</blockquote>\n<blockquote>\n<p>2022-04-14 11:56:09.154 ...</p>\n</blockquote>\n<p>I need to make a app, which make a new logfile at 0:00 every day.so I try the alarmmanager &amp; broadcastReciever.\nI need to make sure the logfile only be created one time,(in second case may create three times I guess)</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"score":0,"creation_date":1649934028,"post_id":71870504,"comment_id":127002540,"body_markdown":"what kind of message do you need? i mean a pop up message or what are actually  looking for ?","body":"what kind of message do you need? i mean a pop up message or what are actually  looking for ?"},{"owner":{"account_id":24642641,"reputation":53,"user_id":18540664,"display_name":"bull19"},"score":0,"creation_date":1649934064,"post_id":71870504,"comment_id":127002551,"body_markdown":"A Terminal message only. @daksh as I wrote the string message","body":"A Terminal message only. @daksh as I wrote the string message"}],"answers":[{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649934199,"creation_date":1649934199,"answer_id":71870583,"question_id":71870504,"body_markdown":"Use `assertEquals(String message, int expected, int actual)` instead.\r\n\r\nsomething like\r\n`assertEquals(&quot;Did you calculate the right numbers together?&quot;, 9, sum)`\r\n\r\nSource : [jUnit javadoc](http://junit.sourceforge.net/javadoc/org/junit/Assert.html)","title":"How can I show an error Message if test fails?","body":"<p>Use <code>assertEquals(String message, int expected, int actual)</code> instead.</p>\n<p>something like\n<code>assertEquals(&quot;Did you calculate the right numbers together?&quot;, 9, sum)</code></p>\n<p>Source : <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html\" rel=\"nofollow noreferrer\">jUnit javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":14054997,"reputation":1,"user_id":18092193,"display_name":"Martino Armillotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649934336,"creation_date":1649934336,"answer_id":71870620,"question_id":71870504,"body_markdown":"I don&#39;t know if i&#39;ve understood what you want but if i&#39;m right you want assertEquals to give an error when the result is not right.\r\nIf it&#39;s it i think you need to edit the assertEquals function for throw and exception when the result is not right or return true if is correct and false if the result is wrong. When the assertEquals give the right result you can use it for display the message (if you want you can insert the message inside the throw exception)","title":"How can I show an error Message if test fails?","body":"<p>I don't know if i've understood what you want but if i'm right you want assertEquals to give an error when the result is not right.\nIf it's it i think you need to edit the assertEquals function for throw and exception when the result is not right or return true if is correct and false if the result is wrong. When the assertEquals give the right result you can use it for display the message (if you want you can insert the message inside the throw exception)</p>\n"}],"owner":{"account_id":24642641,"reputation":53,"user_id":18540664,"display_name":"bull19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71870583,"answer_count":2,"score":1,"last_activity_date":1649934336,"creation_date":1649933765,"question_id":71870504,"body_markdown":"For Example I have this method:\r\nNumber.java\r\n```\r\npublic static int add(int nr1, int nr2) {\r\n\t\treturn nr2 + nr2;\r\n\t}\r\n```\r\nAs you see I return number2 + number2\r\n\r\nIn my Test I use that it would throw the error that it was expected 9 instead of the number which was calculate in the main method.\r\n\r\n```\r\n @Test\r\n\t\tpublic void test() throws Exception {\r\n\t\t\tint nr1 = 4;\r\n\t\t\tint nr2 = 5;\r\n\t\t\tint sum = Number.add(nr1, nr2);\r\n\t\t    assertEquals(9, summe);\r\n\t   }\r\n```\r\n\r\nI tried this to get an message if the program fails but it doesn&#180;t work as I thought:\r\n```\r\n @Test\r\n\t\tpublic void test() throws Exception {\r\n\t\t\tint nr1 = 4;\r\n\t\t\tint nr2 = 5;\r\n\t\t\tint sum = Number.add(nr1, nr2);\r\n\t\t\tassertEquals(9, sum);\r\n\t\t\ttry {\r\n\t\t\t\tassertEquals(9, sum);\r\n\t\t\t}catch(AssertionError e) {\r\n\t\t\t\tString message = e.getMessage();\r\n\t\t\t\tmessage = &quot;Did you calculate the right numbers together?&quot;;\r\n\t\t\t}\r\n\t   }\r\n```","title":"How can I show an error Message if test fails?","body":"<p>For Example I have this method:\nNumber.java</p>\n<pre><code>public static int add(int nr1, int nr2) {\n        return nr2 + nr2;\n    }\n</code></pre>\n<p>As you see I return number2 + number2</p>\n<p>In my Test I use that it would throw the error that it was expected 9 instead of the number which was calculate in the main method.</p>\n<pre><code> @Test\n        public void test() throws Exception {\n            int nr1 = 4;\n            int nr2 = 5;\n            int sum = Number.add(nr1, nr2);\n            assertEquals(9, summe);\n       }\n</code></pre>\n<p>I tried this to get an message if the program fails but it doesn´t work as I thought:</p>\n<pre><code> @Test\n        public void test() throws Exception {\n            int nr1 = 4;\n            int nr2 = 5;\n            int sum = Number.add(nr1, nr2);\n            assertEquals(9, sum);\n            try {\n                assertEquals(9, sum);\n            }catch(AssertionError e) {\n                String message = e.getMessage();\n                message = &quot;Did you calculate the right numbers together?&quot;;\n            }\n       }\n</code></pre>\n"},{"tags":["java","spring-boot","command-line","jar","filenotfoundexception"],"comments":[{"owner":{"account_id":5752194,"reputation":1093,"user_id":4541480,"accept_rate":33,"display_name":"Nicofisi"},"score":1,"creation_date":1649936286,"post_id":71870563,"comment_id":127003311,"body_markdown":"I&#39;m not exactly sure, but isn&#39;t the meaning of a `!` in the path, that it is trying to open a zip/jar archive? In the exception you sent, it seems like it is trying to open `classes` as a zip archive (`classes!`). Yet in the console output you sent it looks like it&#39;s just a normal folder. Actually yeah, it seems so: https://stackoverflow.com/a/9530575/4541480. Don&#39;t exactly know why the library is returning such a path, but maybe that&#39;s the cause for it not working?","body":"I&#39;m not exactly sure, but isn&#39;t the meaning of a <code>!</code> in the path, that it is trying to open a zip/jar archive? In the exception you sent, it seems like it is trying to open <code>classes</code> as a zip archive (<code>classes!</code>). Yet in the console output you sent it looks like it&#39;s just a normal folder. Actually yeah, it seems so: <a href=\"https://stackoverflow.com/a/9530575/4541480\">stackoverflow.com/a/9530575/4541480</a>. Don&#39;t exactly know why the library is returning such a path, but maybe that&#39;s the cause for it not working?"},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1649937704,"post_id":71870563,"comment_id":127003816,"body_markdown":"@Nicofisi , yeah its weird, gone through multiple articles but they didn&#39;t help :(,  have done same thing million times but not in sprint boot, did same in DW","body":"@Nicofisi , yeah its weird, gone through multiple articles but they didn&#39;t help :(,  have done same thing million times but not in sprint boot, did same in DW"},{"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"score":2,"creation_date":1649938514,"post_id":71870563,"comment_id":127004118,"body_markdown":"hope this can answer your question: https://stackoverflow.com/questions/25869428/classpath-resource-not-found-when-running-as-jar\nbasically you should read from an input stream instead from directly the file in the resource folder","body":"hope this can answer your question: <a href=\"https://stackoverflow.com/questions/25869428/classpath-resource-not-found-when-running-as-jar\" title=\"classpath resource not found when running as jar\">stackoverflow.com/questions/25869428/&hellip;</a> basically you should read from an input stream instead from directly the file in the resource folder"},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":1,"creation_date":1649938932,"post_id":71870563,"comment_id":127004268,"body_markdown":"The double `!` is weird, but the more fundamental issue is that the `!` syntax has no meaning outside of a `jar` URL.  Calling `getFile()` doesn’t magically turn the resource URL (which would have been a `jar` URL) into a file URL - it just returns the path component of the URL (plus the query string if there is one), which isn’t going to make  sense if treated as a file name.","body":"The double <code>!</code> is weird, but the more fundamental issue is that the <code>!</code> syntax has no meaning outside of a <code>jar</code> URL.  Calling <code>getFile()</code> doesn’t magically turn the resource URL (which would have been a <code>jar</code> URL) into a file URL - it just returns the path component of the URL (plus the query string if there is one), which isn’t going to make  sense if treated as a file name."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1650005356,"post_id":71870563,"comment_id":127020434,"body_markdown":"@Johannes, thanks a lot, your link helped fixed me the issue","body":"@Johannes, thanks a lot, your link helped fixed me the issue"},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1650431283,"post_id":71870563,"comment_id":127110960,"body_markdown":"@Johannes, let me know if you want to write a answer, would be helpful for others","body":"@Johannes, let me know if you want to write a answer, would be helpful for others"}],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649934093,"creation_date":1649934093,"question_id":71870563,"body_markdown":"I am using the google&#39;s common IO, library to read the files in my resources folder of Spring boot app. its working perfectly fine in the IntelliJ, but when I am running this from the command line, My app is picking the `application.yml` present in the same `resources` folder but not picking other files in the same folder.\r\n\r\nI&#39;ve checked that files are present in the jar file, as shown below\r\n\r\n```\r\nunzip -l my.jar | grep &quot;.json&quot;\r\n\r\n 983  04-14-2022 16:16   BOOT-INF/classes/abc.json\r\n 423  04-14-2022 16:16   BOOT-INF/classes/xyz.json\r\n```\r\n\r\nBut App is throwing following File not found exception, with the same location. \r\n\r\n&gt; java.io.FileNotFoundException:\r\n&gt; file:/Users/amit/code/so-search/target/my.jar!/BOOT-INF/classes!/abc.json\r\n&gt; (No such file or directory)\r\n\r\nThis is how I am reading the files in my code.\r\n\r\n```\r\npublic static FileReader getFileReader(String fileName) throws FileNotFoundException {\r\n        File file = new File(Resources.getResource(fileName).getFile());\r\n        return new FileReader(file);\r\n    }\r\n```\r\n","title":"Spring boot not finding files in resources folder even when using the resource loading in code instead of file location","body":"<p>I am using the google's common IO, library to read the files in my resources folder of Spring boot app. its working perfectly fine in the IntelliJ, but when I am running this from the command line, My app is picking the <code>application.yml</code> present in the same <code>resources</code> folder but not picking other files in the same folder.</p>\n<p>I've checked that files are present in the jar file, as shown below</p>\n<pre><code>unzip -l my.jar | grep &quot;.json&quot;\n\n 983  04-14-2022 16:16   BOOT-INF/classes/abc.json\n 423  04-14-2022 16:16   BOOT-INF/classes/xyz.json\n</code></pre>\n<p>But App is throwing following File not found exception, with the same location.</p>\n<blockquote>\n<p>java.io.FileNotFoundException:\nfile:/Users/amit/code/so-search/target/my.jar!/BOOT-INF/classes!/abc.json\n(No such file or directory)</p>\n</blockquote>\n<p>This is how I am reading the files in my code.</p>\n<pre><code>public static FileReader getFileReader(String fileName) throws FileNotFoundException {\n        File file = new File(Resources.getResource(fileName).getFile());\n        return new FileReader(file);\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":1,"creation_date":1646477585,"post_id":71361477,"comment_id":126136459,"body_markdown":"Can you please post the complete crash log? Does the crash point to your own code or some third-party library code?","body":"Can you please post the complete crash log? Does the crash point to your own code or some third-party library code?"},{"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"score":0,"creation_date":1646478014,"post_id":71361477,"comment_id":126136532,"body_markdown":"update all your  dependencies","body":"update all your  dependencies"},{"owner":{"account_id":13626539,"reputation":1469,"user_id":9829662,"display_name":"Mahdi Zareei"},"score":0,"creation_date":1646479744,"post_id":71361477,"comment_id":126136891,"body_markdown":"i updated the question you can see the full crash log, thank you","body":"i updated the question you can see the full crash log, thank you"}],"answers":[{"tags":[],"owner":{"account_id":13626539,"reputation":1469,"user_id":9829662,"display_name":"Mahdi Zareei"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1646571932,"creation_date":1646571932,"answer_id":71370528,"question_id":71361477,"body_markdown":"I finally found the problem,\r\nI had [chucker library][1] and I updated it to the latest version and it fixed\r\n\r\n\r\n  [1]: https://github.com/ChuckerTeam/chucker","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE","body":"<p>I finally found the problem,\nI had <a href=\"https://github.com/ChuckerTeam/chucker\" rel=\"noreferrer\">chucker library</a> and I updated it to the latest version and it fixed</p>\n"}],"owner":{"account_id":13626539,"reputation":1469,"user_id":9829662,"display_name":"Mahdi Zareei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5663,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71370528,"answer_count":1,"score":7,"last_activity_date":1649933715,"creation_date":1646476967,"question_id":71361477,"body_markdown":"when I launch my app in android 12, it crashed and it give me this error,\r\nmy project already have this dependency\r\n\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.1&#39;\r\n\r\nI updated\r\n\r\n    implementation &#39;com.google.firebase:firebase-messaging-ktx:23.0.0&#39;\r\n\r\nfirebase messaging library too\r\n\r\nand I used pending intent in my project like this\r\n\r\n        val pendingIntent = PendingIntent.getActivity(\r\n            applicationContext,\r\n            0,\r\n            intent,\r\n            PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag\r\n        )\r\n\r\nerror : \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher\r\n    Process: com.internal, PID: 11866\r\n    java.lang.IllegalArgumentException: com.internal: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\r\n        at android.app.PendingIntent.getActivityAsUser(PendingIntent.java:458)\r\n        at android.app.PendingIntent.getActivity(PendingIntent.java:444)\r\n        at android.app.PendingIntent.getActivity(PendingIntent.java:408)\r\n        at com.chuckerteam.chucker.internal.support.NotificationHelper$transactionsScreenIntent$2.invoke(NotificationHelper.kt:47)\r\n        at com.chuckerteam.chucker.internal.support.NotificationHelper$transactionsScreenIntent$2.invoke(NotificationHelper.kt:19)\r\n        at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\r\n        at com.chuckerteam.chucker.internal.support.NotificationHelper.getTransactionsScreenIntent(Unknown Source:2)\r\n        at com.chuckerteam.chucker.internal.support.NotificationHelper.show(NotificationHelper.kt:101)\r\n        at com.chuckerteam.chucker.api.ChuckerCollector.onRequestSent$com_github_ChuckerTeam_Chucker_library(ChuckerCollector.kt:65)\r\n        at com.chuckerteam.chucker.api.ChuckerInterceptor.intercept(ChuckerInterceptor.kt:111)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at com.android.core.helpers.interceptor.HeadersInterceptor.intercept(HeadersInterceptor.kt:41)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at com.android.core.helpers.AuthInterceptor.intercept(AuthInterceptor.kt:39)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\n        at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:920)\r\n    E/WebEngage: App has crashed\r\n        java.lang.IllegalArgumentException: com.internal: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\n","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE","body":"<p>when I launch my app in android 12, it crashed and it give me this error,\nmy project already have this dependency</p>\n<pre><code>implementation 'androidx.work:work-runtime-ktx:2.7.1'\n</code></pre>\n<p>I updated</p>\n<pre><code>implementation 'com.google.firebase:firebase-messaging-ktx:23.0.0'\n</code></pre>\n<p>firebase messaging library too</p>\n<p>and I used pending intent in my project like this</p>\n<pre><code>    val pendingIntent = PendingIntent.getActivity(\n        applicationContext,\n        0,\n        intent,\n        PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag\n    )\n</code></pre>\n<p>error :</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher\nProcess: com.internal, PID: 11866\njava.lang.IllegalArgumentException: com.internal: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n    at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\n    at android.app.PendingIntent.getActivityAsUser(PendingIntent.java:458)\n    at android.app.PendingIntent.getActivity(PendingIntent.java:444)\n    at android.app.PendingIntent.getActivity(PendingIntent.java:408)\n    at com.chuckerteam.chucker.internal.support.NotificationHelper$transactionsScreenIntent$2.invoke(NotificationHelper.kt:47)\n    at com.chuckerteam.chucker.internal.support.NotificationHelper$transactionsScreenIntent$2.invoke(NotificationHelper.kt:19)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.chuckerteam.chucker.internal.support.NotificationHelper.getTransactionsScreenIntent(Unknown Source:2)\n    at com.chuckerteam.chucker.internal.support.NotificationHelper.show(NotificationHelper.kt:101)\n    at com.chuckerteam.chucker.api.ChuckerCollector.onRequestSent$com_github_ChuckerTeam_Chucker_library(ChuckerCollector.kt:65)\n    at com.chuckerteam.chucker.api.ChuckerInterceptor.intercept(ChuckerInterceptor.kt:111)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at com.android.core.helpers.interceptor.HeadersInterceptor.intercept(HeadersInterceptor.kt:41)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at com.android.core.helpers.AuthInterceptor.intercept(AuthInterceptor.kt:39)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\n    at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:920)\nE/WebEngage: App has crashed\n    java.lang.IllegalArgumentException: com.internal: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n</code></pre>\n"},{"tags":["javascript","java","html","image","file"],"comments":[{"owner":{"account_id":16342430,"reputation":209,"user_id":11803029,"display_name":"Ravi Gupta"},"score":0,"creation_date":1649926715,"post_id":71868930,"comment_id":127000150,"body_markdown":"Is the value of the src attribute the byte array encoded in Base 64? This is not how the browser interprets your src tag. It must be a URL. You can use a controller to resolve the URL to file bytes from the database.","body":"Is the value of the src attribute the byte array encoded in Base 64? This is not how the browser interprets your src tag. It must be a URL. You can use a controller to resolve the URL to file bytes from the database."},{"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"score":0,"creation_date":1649928726,"post_id":71868930,"comment_id":127000837,"body_markdown":"hello @RaviGupta,  I displayed the profilePic field values in the database, backend and frontend.","body":"hello @RaviGupta,  I displayed the profilePic field values in the database, backend and frontend."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649929380,"post_id":71868930,"comment_id":127001037,"body_markdown":"The value in your database *is* already a `data:` URI, so don’t try to encode it again.","body":"The value in your database <i>is</i> already a <code>data:</code> URI, so don’t try to encode it again."},{"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"score":0,"creation_date":1649929584,"post_id":71868930,"comment_id":127001103,"body_markdown":"I don&#39;t use any encoding really","body":"I don&#39;t use any encoding really"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649929686,"post_id":71868930,"comment_id":127001147,"body_markdown":"Well, somehow, your database value, `data:image/png;base64,iVBORw…` became `data:image/jpeg;base64,ZGF0YTp…`.","body":"Well, somehow, your database value, <code>data:image&#47;png;base64,iVBORw…</code> became <code>data:image&#47;jpeg;base64,ZGF0YTp…</code>."},{"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"score":0,"creation_date":1649929931,"post_id":71868930,"comment_id":127001243,"body_markdown":"Yes, but I don&#39;t use encode","body":"Yes, but I don&#39;t use encode"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649930347,"post_id":71868930,"comment_id":127001388,"body_markdown":"Your question shows a Java class, JSON data, and HMTL. *Somehow*, these three things are linked and you should know, how. You didn’t even name the frameworks in use, forcing us to do guesswork. E.g., what happens when you change the type of `profilePic` (and associated getter and setter) to `String`? Does the framework pass the data as-is then, rather than base64 encoded?","body":"Your question shows a Java class, JSON data, and HMTL. <i>Somehow</i>, these three things are linked and you should know, how. You didn’t even name the frameworks in use, forcing us to do guesswork. E.g., what happens when you change the type of <code>profilePic</code> (and associated getter and setter) to <code>String</code>? Does the framework pass the data as-is then, rather than base64 encoded?"},{"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"score":0,"creation_date":1649931327,"post_id":71868930,"comment_id":127001705,"body_markdown":"I sayed to use spring mvc and jpa. I get json from js and without any encode set data in my object as byte[] and I saved my object in oracle db with JPA. You can question from me too","body":"I sayed to use spring mvc and jpa. I get json from js and without any encode set data in my object as byte[] and I saved my object in oracle db with JPA. You can question from me too"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649931876,"post_id":71868930,"comment_id":127001900,"body_markdown":"Well, you didn’t answer the most important question. What happens when you just declare `profilePic` as `String` (because what you showed as database contents, `data:image/png;base64,iVBORw…` *is* a string). The reason you see `[100, 97, 116, 97, 58, 105…` when inspecting the data in the Java runtime is because that’s what you can expect when inspecting a variable of type `byte[]`. The framework used to export the byte array as JSON apparently decided to use base64 encoding for `byte[]`. It surely wouldn’t do that if the property had a string type. Using a string type could solve all problems…","body":"Well, you didn’t answer the most important question. What happens when you just declare <code>profilePic</code> as <code>String</code> (because what you showed as database contents, <code>data:image&#47;png;base64,iVBORw…</code> <i>is</i> a string). The reason you see <code>[100, 97, 116, 97, 58, 105…</code> when inspecting the data in the Java runtime is because that’s what you can expect when inspecting a variable of type <code>byte[]</code>. The framework used to export the byte array as JSON apparently decided to use base64 encoding for <code>byte[]</code>. It surely wouldn’t do that if the property had a string type. Using a string type could solve all problems…"},{"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"score":0,"creation_date":1649933251,"post_id":71868930,"comment_id":127002292,"body_markdown":"type of database is a blob, I downloaded value of blob to display. I only call ```entityManager.persist(photo);``` to save object. and type of ```profilePic``` is ```byte[]``` in backend. I don&#39;t change data or even type of ```profilePic```. Everything is done automatically really","body":"type of database is a blob, I downloaded value of blob to display. I only call <code>entityManager.persist(photo);</code> to save object. and type of <code>profilePic</code> is <code>byte[]</code> in backend. I don&#39;t change data or even type of <code>profilePic</code>. Everything is done automatically really"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1649934411,"post_id":71868930,"comment_id":127002696,"body_markdown":"Well, you will never know if you don’t try it. I don’t know whether the framework would do the conversion of a blob to string correctly, but on the other hand, I don’t use such tools which do “everything automatically” the wrong way. Still, there is a high chance that using a string at this place would do. Of course, you could instead leave everything as-is, then you have to live with the unnecessary base64 encoding. When you decode the `&#39;ZGF0YTppb...VFtQ0M=&#39;` string on the Javascript side, like `atob(&#39;ZGF0YTppb...VFtQ0M=&#39;)` you also get the correct `data:` URI.","body":"Well, you will never know if you don’t try it. I don’t know whether the framework would do the conversion of a blob to string correctly, but on the other hand, I don’t use such tools which do “everything automatically” the wrong way. Still, there is a high chance that using a string at this place would do. Of course, you could instead leave everything as-is, then you have to live with the unnecessary base64 encoding. When you decode the <code>&#39;ZGF0YTppb...VFtQ0M=&#39;</code> string on the Javascript side, like <code>atob(&#39;ZGF0YTppb...VFtQ0M=&#39;)</code> you also get the correct <code>data:</code> URI."}],"answers":[{"tags":[],"owner":{"account_id":114927,"reputation":5362,"user_id":302003,"accept_rate":73,"display_name":"Ali Demirci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649926601,"creation_date":1649926601,"answer_id":71868993,"question_id":71868930,"body_markdown":"Assuming it&#39;s base64 encoded:\r\n\r\n`&lt;img src=&#39;data:image/jpeg;base64,ZGF0YTppb...VFtQ0M=&#39; /&gt;`\r\n\r\nBasically you can use data urls with this format depending on what content [type] you want to display:\r\n\r\n`data:[&lt;mime type&gt;][;charset=&lt;charset&gt;][;base64],&lt;encoded data&gt;`","title":"how to display byte[] as picture in html with java","body":"<p>Assuming it's base64 encoded:</p>\n<p><code>&lt;img src='data:image/jpeg;base64,ZGF0YTppb...VFtQ0M=' /&gt;</code></p>\n<p>Basically you can use data urls with this format depending on what content [type] you want to display:</p>\n<p><code>data:[&lt;mime type&gt;][;charset=&lt;charset&gt;][;base64],&lt;encoded data&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":19853103,"reputation":33,"user_id":14543199,"display_name":"Vadim Dokurno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649926678,"creation_date":1649926678,"answer_id":71869009,"question_id":71868930,"body_markdown":"HTML:\r\n\r\n    &lt;img id=&quot;profileImg&quot; src=&quot;&quot;&gt;\r\n\r\nJS:\r\n\r\n    document.getElementById(&quot;profileImg&quot;).src = &quot;data:image/png;base64,&quot; + profilePic;\r\n\r\nThis assumes that your image is stored in PNG format (and base64 encoded). For other image format (JPEG, etc.), you need to change the MIME type (&quot;image/...&quot; part) in the URL.","title":"how to display byte[] as picture in html with java","body":"<p>HTML:</p>\n<pre><code>&lt;img id=&quot;profileImg&quot; src=&quot;&quot;&gt;\n</code></pre>\n<p>JS:</p>\n<pre><code>document.getElementById(&quot;profileImg&quot;).src = &quot;data:image/png;base64,&quot; + profilePic;\n</code></pre>\n<p>This assumes that your image is stored in PNG format (and base64 encoded). For other image format (JPEG, etc.), you need to change the MIME type (&quot;image/...&quot; part) in the URL.</p>\n"}],"owner":{"account_id":5343645,"reputation":93,"user_id":11739330,"display_name":"mehnet ali"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649933560,"creation_date":1649926304,"question_id":71868930,"body_markdown":"I use spring mvc and JPA in my project. I get file as ```byte[]``` and save in Database. but when I want to display in ```&lt;img``` tag of html it don&#39;t display.\r\n\r\nmy entity is:\r\n```\r\nclass Photo {\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\t\r\n\tprivate Long id;\r\n\r\n    private String title;\r\n\r\n    @Lob\r\n    private byte[] profilePic;\r\n\r\n    // getter and setter\r\n}\r\n```\r\n\r\nvalue in Database is:\r\n[![enter image description here][1]][1]\r\n\r\nbut my server response is:\r\n[![enter image description here][2]][2]\r\n```\r\n{\r\n\t&quot;id&quot;: 4,\r\n\t&quot;title&quot;: &quot;pic 1&quot;,\r\n\t&quot;profilePic&quot;: &quot;ZGF0YTppb...VFtQ0M=&quot;,\r\n}\r\n```\r\nand display in html:\r\n```\r\n&lt;img src=&#39;ZGF0YTppb...VFtQ0M=&#39; /&gt;\r\n//or\r\n&lt;img src=&#39;data:image/jpeg;base64,ZGF0YTppb...VFtQ0M=&#39; /&gt;\r\n```\r\n\r\nWhat to do to display the photo?\r\n\r\nthanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EHLQJ.png\r\n  [2]: https://i.stack.imgur.com/9DX75.png","title":"how to display byte[] as picture in html with java","body":"<p>I use spring mvc and JPA in my project. I get file as <code>byte[]</code> and save in Database. but when I want to display in <code>&lt;img</code> tag of html it don't display.</p>\n<p>my entity is:</p>\n<pre><code>class Photo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO) \n    private Long id;\n\n    private String title;\n\n    @Lob\n    private byte[] profilePic;\n\n    // getter and setter\n}\n</code></pre>\n<p>value in Database is:\n<a href=\"https://i.stack.imgur.com/EHLQJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EHLQJ.png\" alt=\"enter image description here\" /></a></p>\n<p>but my server response is:\n<a href=\"https://i.stack.imgur.com/9DX75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9DX75.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>{\n    &quot;id&quot;: 4,\n    &quot;title&quot;: &quot;pic 1&quot;,\n    &quot;profilePic&quot;: &quot;ZGF0YTppb...VFtQ0M=&quot;,\n}\n</code></pre>\n<p>and display in html:</p>\n<pre><code>&lt;img src='ZGF0YTppb...VFtQ0M=' /&gt;\n//or\n&lt;img src='data:image/jpeg;base64,ZGF0YTppb...VFtQ0M=' /&gt;\n</code></pre>\n<p>What to do to display the photo?</p>\n<p>thanks</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"score":2,"creation_date":1379931331,"post_id":18956668,"comment_id":27996081,"body_markdown":"what errors does it have?","body":"what errors does it have?"}],"answers":[{"tags":[],"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380014526,"creation_date":1379931905,"answer_id":18956929,"question_id":18956668,"body_markdown":"There&#39;s no maven command to accomplish this. You need to check which classes are causing `NoClassDefFoundError`, figure out the dependency (Google) - which JARs they are shipped in, and add them with the `runtime` scope in your pom.xml.\r\n\r\nIn web projects specifically you oftentimes compile against servlets or Java EE specification JARs (they would only contain interfaces), but you need actual implementation JARs to be present in runtime. These JARs are typically and presumed to be available in the container you are running in (like Tomcat or JBoss), in this case they would be marked as `provided` scope in your pom.xml.","title":"How to find which maven dependencies are missing","body":"<p>There's no maven command to accomplish this. You need to check which classes are causing <code>NoClassDefFoundError</code>, figure out the dependency (Google) - which JARs they are shipped in, and add them with the <code>runtime</code> scope in your pom.xml.</p>\n\n<p>In web projects specifically you oftentimes compile against servlets or Java EE specification JARs (they would only contain interfaces), but you need actual implementation JARs to be present in runtime. These JARs are typically and presumed to be available in the container you are running in (like Tomcat or JBoss), in this case they would be marked as <code>provided</code> scope in your pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":308988,"reputation":6220,"user_id":621188,"accept_rate":72,"display_name":"Arpit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380021879,"creation_date":1380021879,"answer_id":18980290,"question_id":18956668,"body_markdown":"You need to check the `NoClassDefFoundError` in your output logs and add dependencies accordingly.\r\n\r\nThe best resource to search for missing dependencies is [Maven Central Repository](http://search.maven.org/#browse) \r\n\r\nTo get a detailed debug log of your build, use `-X` in the command line.\r\n\r\nYou can check The dependency tree of your project by following command - `mvn dependency:tree`. This will only list the information about the deoendencies listed in your `pom.xml` More on it [here](http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html)\r\n\r\n","title":"How to find which maven dependencies are missing","body":"<p>You need to check the <code>NoClassDefFoundError</code> in your output logs and add dependencies accordingly.</p>\n\n<p>The best resource to search for missing dependencies is <a href=\"http://search.maven.org/#browse\" rel=\"nofollow\">Maven Central Repository</a> </p>\n\n<p>To get a detailed debug log of your build, use <code>-X</code> in the command line.</p>\n\n<p>You can check The dependency tree of your project by following command - <code>mvn dependency:tree</code>. This will only list the information about the deoendencies listed in your <code>pom.xml</code> More on it <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2599151,"reputation":601,"user_id":2252068,"display_name":"Farzad Fallah"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1380871917,"creation_date":1380113904,"answer_id":19005627,"question_id":18956668,"body_markdown":"You can use `mvn dependency:analyze` for determining which dependencies  are `used and declared` or `used and undeclared` or `unused and declared`.&lt;br&gt;\r\nFor more information refer to: http://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html.\r\n\r\nHope this helps.\r\n","title":"How to find which maven dependencies are missing","body":"<p>You can use <code>mvn dependency:analyze</code> for determining which dependencies  are <code>used and declared</code> or <code>used and undeclared</code> or <code>unused and declared</code>.<br>\nFor more information refer to: <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html\" rel=\"noreferrer\">http://maven.apache.org/plugins/maven-dependency-plugin/analyze-mojo.html</a>.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649933530,"creation_date":1649933530,"answer_id":71870456,"question_id":18956668,"body_markdown":"should be able to do it with :\r\n\r\nmaven dependency resolve\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zWIwb.png","title":"How to find which maven dependencies are missing","body":"<p>should be able to do it with :</p>\n<p>maven dependency resolve</p>\n<p><a href=\"https://i.stack.imgur.com/zWIwb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zWIwb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3039486,"reputation":1776,"user_id":2576856,"accept_rate":68,"display_name":"qiGuar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9260,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1649933530,"creation_date":1379931093,"question_id":18956668,"body_markdown":"I have a web project and a `pom.xml` file. It has enough dependencies to `compile` and `package` but not enough to start the project. In my IDE it&#39;s shown that everything is ok, but when a start the application it has errors. When i add external pom.xml from another app, my application launches.  \r\n\r\nSo is there any way i can find out which dependencies are missing and how in future i can determine which dependencies are needed for using this or that?","title":"How to find which maven dependencies are missing","body":"<p>I have a web project and a <code>pom.xml</code> file. It has enough dependencies to <code>compile</code> and <code>package</code> but not enough to start the project. In my IDE it's shown that everything is ok, but when a start the application it has errors. When i add external pom.xml from another app, my application launches.  </p>\n\n<p>So is there any way i can find out which dependencies are missing and how in future i can determine which dependencies are needed for using this or that?</p>\n"},{"tags":["java","arrays","list"],"answers":[{"tags":[],"owner":{"account_id":24746097,"reputation":41,"user_id":18632251,"display_name":"Mohaafly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649932591,"creation_date":1649932591,"answer_id":71870226,"question_id":71869918,"body_markdown":"If you have implemented a get method in your Wardrobe (which you should provide the definition) like: \r\n\r\n`public list&lt;Clothes&gt; getClothes()`\r\n\r\nFrom the list of wardrobes, you can do \r\n\r\n`wardrobesList.stream().flatMap(wardrobe -&gt; wardrobe.get().stream()).collect(Collectors.toList())`\r\n\r\nto get a list of all the Clothes (classes) you have set in the wardrobes","title":"Initialize List&lt;Clothes&gt; clothesList ; java","body":"<p>If you have implemented a get method in your Wardrobe (which you should provide the definition) like:</p>\n<p><code>public list&lt;Clothes&gt; getClothes()</code></p>\n<p>From the list of wardrobes, you can do</p>\n<p><code>wardrobesList.stream().flatMap(wardrobe -&gt; wardrobe.get().stream()).collect(Collectors.toList())</code></p>\n<p>to get a list of all the Clothes (classes) you have set in the wardrobes</p>\n"},{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649932965,"creation_date":1649932615,"answer_id":71870234,"question_id":71869918,"body_markdown":"This depends on the implementation of your Wardrobe class. If the wardrobe.add method just adds the clothes to a List in wardrobe i would suggest for java 8:\r\n\r\n    List&lt;Clothes&gt; clothesList = Arrays.asList(wardrobe.getClothes(), wardrobe1.getClothes(), wardrobe2.getClothes())\r\n        .stream()\r\n        .flatMap(List::stream)\r\n        .collect(Collectors.toList());\r\n\r\nor for java 11 and higher\r\n\r\n    List&lt;Clothes&gt; clothesList = List.of(wardrobe.getClothes(),wardrobe1.getClothes(),wardrobe2.getClothes())\r\n        .stream()\r\n        .flatMap(List::stream)\r\n        .collect(Collectors.toList());","title":"Initialize List&lt;Clothes&gt; clothesList ; java","body":"<p>This depends on the implementation of your Wardrobe class. If the wardrobe.add method just adds the clothes to a List in wardrobe i would suggest for java 8:</p>\n<pre><code>List&lt;Clothes&gt; clothesList = Arrays.asList(wardrobe.getClothes(), wardrobe1.getClothes(), wardrobe2.getClothes())\n    .stream()\n    .flatMap(List::stream)\n    .collect(Collectors.toList());\n</code></pre>\n<p>or for java 11 and higher</p>\n<pre><code>List&lt;Clothes&gt; clothesList = List.of(wardrobe.getClothes(),wardrobe1.getClothes(),wardrobe2.getClothes())\n    .stream()\n    .flatMap(List::stream)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"display_name":"user18802229"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71870226,"answer_count":2,"score":0,"last_activity_date":1649933288,"creation_date":1649931092,"question_id":71869918,"body_markdown":"I have 3 wardrobes , in each of them I added some clothes  \r\n\r\n        public static void main(String[] args) {\r\n            Wardrobe wardrobe = new Wardrobe(&quot;LivingRoom&quot;, TypeCloset.LivingRoom);\r\n            wardrobe.add(new Clothes(TypeClothes.blouse, 95, &quot;Patagonia&quot;));\r\n            wardrobe.add(new Clothes(TypeClothes.vest, 15, &quot;Zara&quot;));\r\n            wardrobe.add(new Clothes(TypeClothes.pants, 125, &quot;Adidas&quot;));\r\n            wardrobe.add(new Clothes(TypeClothes.t_shirt, 55, &quot;Nike&quot;));\r\n    \r\n            Wardrobe wardrobe1 = new Wardrobe(&quot;BedRoom&quot;, TypeCloset.BedRoom);\r\n            wardrobe1.add(new Clothes(TypeClothes.shoes, 120, &quot;Nike&quot;));\r\n            wardrobe1.add(new Clothes(TypeClothes.blouse, 19, &quot;Nina&quot;));\r\n            wardrobe1.add(new Clothes(TypeClothes.vest, 5, &quot;China&quot;));\r\n            wardrobe1.add(new Clothes(TypeClothes.t_shirt, 10, &quot;Legend&quot;));\r\n            wardrobe1.add(new Clothes(TypeClothes.blouse, 80, &quot;Patagonia&quot;));\r\n    \r\n            Wardrobe wardrobe2 = new Wardrobe(&quot;Outdoor&quot;, TypeCloset.Outdoor);\r\n            wardrobe2.add(new Clothes(TypeClothes.t_shirt, 250, &quot;Verse&quot;));\r\n            wardrobe2.add(new Clothes(TypeClothes.pants, 700, &quot;Louis&quot;));\r\n            wardrobe2.add(new Clothes(TypeClothes.blouse, 360, &quot;Balancing&quot;));\r\n    \r\n     List&lt;Clothes&gt; clothesList = new ArrayList&lt;&gt;(); // is an empty array lsit\r\n            List&lt;Wardrobe&gt; wardrobeList = new ArrayList&lt;&gt;(Arrays.asList(wardrobe, wardrobe1, wardrobe2));\r\n\r\n        Map&lt;TypeClothes, Long&gt; numberClothesPerType = getNumberClothesPerTypeClothes(clothesList);\r\n        System.out.println(&quot;Number Clothes per Type: &quot; + numberClothesPerType);\r\n\r\n    }\r\n\r\n\r\nSo I want to get  quantity per typeClothes  like this \r\n\r\n\r\n    public static Map&lt;TypeClothes, Long&gt; getNumberClothesPerTypeClothes(List&lt;Clothes&gt; clothesList) {\r\n        return clothesList.stream()\r\n                .collect(Collectors.groupingBy(Clothes::getTypeClothes, Collectors.counting()));\r\n    }\r\n\r\n\r\n\r\nMy output is correct :\r\n\r\n    Number Clothes per Type: {blouse=4, pants=2, shoes=1, t_shirt=3, vest=2}\r\n\r\nBut since I do not want to make my  clothesList looking like this but rather like I have done it above:\r\n\r\n\r\n            Clothes clothes = new Clothes(TypeClothes.blouse, 95, &quot;Patagonia&quot;);\r\n            Clothes clothes1 = new Clothes(TypeClothes.vest, 15, &quot;Zara&quot;);\r\n            Clothes clothes2 = new Clothes(TypeClothes.pants, 125, &quot;Adidas&quot;);\r\n            Clothes clothes3 = new Clothes(TypeClothes.t_shirt, 55, &quot;Nike&quot;);\r\n            Clothes clothes4 = new Clothes(TypeClothes.blouse, 19, &quot;Nina&quot;);\r\n            Clothes clothes5 = new Clothes(TypeClothes.vest, 5, &quot;China&quot;);\r\n            Clothes clothes6 = new Clothes(TypeClothes.t_shirt, 10, &quot;Legend&quot;);\r\n            Clothes clothes7 = new Clothes(TypeClothes.blouse, 80, &quot;Patagonia&quot;);\r\n            Clothes clothes8 = new Clothes(TypeClothes.t_shirt, 250, &quot;Verse&quot;);\r\n            Clothes clothes9 = new Clothes(TypeClothes.pants, 700, &quot;Louis&quot;);\r\n            Clothes clothes10 = new Clothes(TypeClothes.blouse, 360, &quot;Balancing&quot;);\r\n            Clothes clothes11 = new Clothes(TypeClothes.shoes, 120, &quot;Nike&quot;);\r\n    \r\n    List&lt;Clothes&gt; clothesList = new ArrayList&lt;&gt;(Arrays.asList(clothes, clothes1, clothes2, clothes3, clothes4, clothes5, clothes6, clothes7, clothes8, clothes9, clothes10, clothes11));\r\n\r\nHow should I do it to get the list of clothes from the ones I added to the wardrobe but not having to create clothes and then add, so just from the ones I added?\r\n\r\n\r\nAdding wardrobe class: \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Wardrobe {\r\n    \r\n        List&lt;Clothes&gt; clothes = new ArrayList&lt;&gt;();\r\n        private String name;\r\n        private TypeCloset typeCloset;\r\n    \r\n        public Wardrobe(String name, TypeCloset typeCloset) {\r\n            this.name = name;\r\n            this.typeCloset = typeCloset;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public TypeCloset getType() {\r\n            return typeCloset;\r\n        }\r\n    \r\n        public void setType(TypeCloset typeCloset) {\r\n            this.typeCloset = typeCloset;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Wardrobe{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, typeCloset=&quot; + typeCloset +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        public void add(Clothes newClothes) {\r\n            clothes.add(newClothes);\r\n        }\r\n    \r\n        public int getCount() {\r\n            return this.clothes.size();\r\n        }\r\n    \r\n        public Integer getPricePerCloset() {\r\n            return this.clothes.stream()\r\n                    .mapToInt(Clothes::getPrice)\r\n                    .sum();\r\n        }\r\n    }","title":"Initialize List&lt;Clothes&gt; clothesList ; java","body":"<p>I have 3 wardrobes , in each of them I added some clothes</p>\n<pre><code>    public static void main(String[] args) {\n        Wardrobe wardrobe = new Wardrobe(&quot;LivingRoom&quot;, TypeCloset.LivingRoom);\n        wardrobe.add(new Clothes(TypeClothes.blouse, 95, &quot;Patagonia&quot;));\n        wardrobe.add(new Clothes(TypeClothes.vest, 15, &quot;Zara&quot;));\n        wardrobe.add(new Clothes(TypeClothes.pants, 125, &quot;Adidas&quot;));\n        wardrobe.add(new Clothes(TypeClothes.t_shirt, 55, &quot;Nike&quot;));\n\n        Wardrobe wardrobe1 = new Wardrobe(&quot;BedRoom&quot;, TypeCloset.BedRoom);\n        wardrobe1.add(new Clothes(TypeClothes.shoes, 120, &quot;Nike&quot;));\n        wardrobe1.add(new Clothes(TypeClothes.blouse, 19, &quot;Nina&quot;));\n        wardrobe1.add(new Clothes(TypeClothes.vest, 5, &quot;China&quot;));\n        wardrobe1.add(new Clothes(TypeClothes.t_shirt, 10, &quot;Legend&quot;));\n        wardrobe1.add(new Clothes(TypeClothes.blouse, 80, &quot;Patagonia&quot;));\n\n        Wardrobe wardrobe2 = new Wardrobe(&quot;Outdoor&quot;, TypeCloset.Outdoor);\n        wardrobe2.add(new Clothes(TypeClothes.t_shirt, 250, &quot;Verse&quot;));\n        wardrobe2.add(new Clothes(TypeClothes.pants, 700, &quot;Louis&quot;));\n        wardrobe2.add(new Clothes(TypeClothes.blouse, 360, &quot;Balancing&quot;));\n\n List&lt;Clothes&gt; clothesList = new ArrayList&lt;&gt;(); // is an empty array lsit\n        List&lt;Wardrobe&gt; wardrobeList = new ArrayList&lt;&gt;(Arrays.asList(wardrobe, wardrobe1, wardrobe2));\n\n    Map&lt;TypeClothes, Long&gt; numberClothesPerType = getNumberClothesPerTypeClothes(clothesList);\n    System.out.println(&quot;Number Clothes per Type: &quot; + numberClothesPerType);\n\n}\n</code></pre>\n<p>So I want to get  quantity per typeClothes  like this</p>\n<pre><code>public static Map&lt;TypeClothes, Long&gt; getNumberClothesPerTypeClothes(List&lt;Clothes&gt; clothesList) {\n    return clothesList.stream()\n            .collect(Collectors.groupingBy(Clothes::getTypeClothes, Collectors.counting()));\n}\n</code></pre>\n<p>My output is correct :</p>\n<pre><code>Number Clothes per Type: {blouse=4, pants=2, shoes=1, t_shirt=3, vest=2}\n</code></pre>\n<p>But since I do not want to make my  clothesList looking like this but rather like I have done it above:</p>\n<pre><code>        Clothes clothes = new Clothes(TypeClothes.blouse, 95, &quot;Patagonia&quot;);\n        Clothes clothes1 = new Clothes(TypeClothes.vest, 15, &quot;Zara&quot;);\n        Clothes clothes2 = new Clothes(TypeClothes.pants, 125, &quot;Adidas&quot;);\n        Clothes clothes3 = new Clothes(TypeClothes.t_shirt, 55, &quot;Nike&quot;);\n        Clothes clothes4 = new Clothes(TypeClothes.blouse, 19, &quot;Nina&quot;);\n        Clothes clothes5 = new Clothes(TypeClothes.vest, 5, &quot;China&quot;);\n        Clothes clothes6 = new Clothes(TypeClothes.t_shirt, 10, &quot;Legend&quot;);\n        Clothes clothes7 = new Clothes(TypeClothes.blouse, 80, &quot;Patagonia&quot;);\n        Clothes clothes8 = new Clothes(TypeClothes.t_shirt, 250, &quot;Verse&quot;);\n        Clothes clothes9 = new Clothes(TypeClothes.pants, 700, &quot;Louis&quot;);\n        Clothes clothes10 = new Clothes(TypeClothes.blouse, 360, &quot;Balancing&quot;);\n        Clothes clothes11 = new Clothes(TypeClothes.shoes, 120, &quot;Nike&quot;);\n\nList&lt;Clothes&gt; clothesList = new ArrayList&lt;&gt;(Arrays.asList(clothes, clothes1, clothes2, clothes3, clothes4, clothes5, clothes6, clothes7, clothes8, clothes9, clothes10, clothes11));\n</code></pre>\n<p>How should I do it to get the list of clothes from the ones I added to the wardrobe but not having to create clothes and then add, so just from the ones I added?</p>\n<p>Adding wardrobe class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Wardrobe {\n\n    List&lt;Clothes&gt; clothes = new ArrayList&lt;&gt;();\n    private String name;\n    private TypeCloset typeCloset;\n\n    public Wardrobe(String name, TypeCloset typeCloset) {\n        this.name = name;\n        this.typeCloset = typeCloset;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public TypeCloset getType() {\n        return typeCloset;\n    }\n\n    public void setType(TypeCloset typeCloset) {\n        this.typeCloset = typeCloset;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Wardrobe{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, typeCloset=&quot; + typeCloset +\n                '}';\n    }\n\n    public void add(Clothes newClothes) {\n        clothes.add(newClothes);\n    }\n\n    public int getCount() {\n        return this.clothes.size();\n    }\n\n    public Integer getPricePerCloset() {\n        return this.clothes.stream()\n                .mapToInt(Clothes::getPrice)\n                .sum();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":17,"creation_date":1347889558,"post_id":12460571,"comment_id":16758562,"body_markdown":"The first one doesn&#39;t detect `inputstream.read() == 0`, which is a valid response.","body":"The first one doesn&#39;t detect <code>inputstream.read() == 0</code>, which is a valid response."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":6,"creation_date":1347889814,"post_id":12460571,"comment_id":16758694,"body_markdown":"http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#read%28byte[]%29. It&#39;s all explained in the api doc.","body":"<a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#read%28byte[]%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/io/&hellip;</a>. It&#39;s all explained in the api doc."},{"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"score":2,"creation_date":1608229729,"post_id":12460571,"comment_id":115526621,"body_markdown":"@Roddy, I think it’s helpful to point out — If we know that `buffer` has a length of 1024 as Adam indicates in the question, then the only valid response according to the [API](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)) would be -1 or greater than zero. A response of zero would indicate an underlying fault, something that should probably be escalated by throwing an `IllegalStateException`, but certainly not accepted as valid.","body":"@Roddy, I think it’s helpful to point out — If we know that <code>buffer</code> has a length of 1024 as Adam indicates in the question, then the only valid response according to the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\">API</a> would be -1 or greater than zero. A response of zero would indicate an underlying fault, something that should probably be escalated by throwing an <code>IllegalStateException</code>, but certainly not accepted as valid."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1608230659,"post_id":12460571,"comment_id":115527016,"body_markdown":"@MichaelAllan - Fair point, but you should probably comment that on the _answer_, not responding to a comment that someone left 8 years ago.","body":"@MichaelAllan - Fair point, but you should probably comment that on the <i>answer</i>, not responding to a comment that someone left 8 years ago."}],"answers":[{"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1347889822,"creation_date":1347889822,"answer_id":12460695,"question_id":12460571,"body_markdown":"According to the [doc][1], `inputstream.read(buffer) !=-1` will tell you that the stream is ended. `inputstream.read(buffer) == 0` just says that there are no bytes available to read but the stream is still active (i.e. the peer just hasn&#39;t sent anything since you last read everything you could).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#read%28%29","title":"Input stream.read return 0 or -1?","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#read%28%29\" rel=\"nofollow\">doc</a>, <code>inputstream.read(buffer) !=-1</code> will tell you that the stream is ended. <code>inputstream.read(buffer) == 0</code> just says that there are no bytes available to read but the stream is still active (i.e. the peer just hasn't sent anything since you last read everything you could).</p>\n"},{"tags":[],"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1347893151,"creation_date":1347890040,"answer_id":12460768,"question_id":12460571,"body_markdown":"The Javadocs for [`InputStream.read()`][1] say:\r\n\r\n&gt; If the length of `b` is zero, then no bytes are read and 0 is returned\r\n\r\nIn normal use, this should never happen, so there&#39;s not much point to testing for this condition explicitly. (If you want to avoid looping forever because the buffer is zero-length and fail-fast in this situation, just test the length of the buffer.)\r\n\r\nFurther on, there&#39;s:\r\n\r\n&gt; **Returns:** the total number of bytes read into the buffer, or `-1` if there is no more data because the end of the stream has been reached.\r\n\r\nIf you want to test for *end-of-file* (or network stream, or whatever), use the test:\r\n\r\n    if ( inputStream.read(buffer) != -1 ) ...\r\n\r\nA non-buggy Java implementation will never return anything else to indicate there&#39;s no more data available.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28byte%5B%5D%29","title":"Input stream.read return 0 or -1?","body":"<p>The Javadocs for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28byte%5B%5D%29\" rel=\"noreferrer\"><code>InputStream.read()</code></a> say:</p>\n\n<blockquote>\n  <p>If the length of <code>b</code> is zero, then no bytes are read and 0 is returned</p>\n</blockquote>\n\n<p>In normal use, this should never happen, so there's not much point to testing for this condition explicitly. (If you want to avoid looping forever because the buffer is zero-length and fail-fast in this situation, just test the length of the buffer.)</p>\n\n<p>Further on, there's:</p>\n\n<blockquote>\n  <p><strong>Returns:</strong> the total number of bytes read into the buffer, or <code>-1</code> if there is no more data because the end of the stream has been reached.</p>\n</blockquote>\n\n<p>If you want to test for <em>end-of-file</em> (or network stream, or whatever), use the test:</p>\n\n<pre><code>if ( inputStream.read(buffer) != -1 ) ...\n</code></pre>\n\n<p>A non-buggy Java implementation will never return anything else to indicate there's no more data available.</p>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1551389823,"creation_date":1551389823,"answer_id":54934672,"question_id":12460571,"body_markdown":"If you already know that the buffer length is not zero, *there is no effective difference between these two expressions*.  Given this basic stipulation about a valid buffer, it can be inferred from the [docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)) that **`read` will never return `0`**.\r\n\r\n&gt; This method blocks until input data is available, end of file is detected, or an exception is thrown.","title":"Input stream.read return 0 or -1?","body":"<p>If you already know that the buffer length is not zero, <em>there is no effective difference between these two expressions</em>.  Given this basic stipulation about a valid buffer, it can be inferred from the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\">docs</a> that <strong><code>read</code> will never return <code>0</code></strong>.</p>\n\n<blockquote>\n  <p>This method blocks until input data is available, end of file is detected, or an exception is thrown.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1213083,"reputation":648,"user_id":1181250,"accept_rate":73,"display_name":"Bahattin Ungormus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649933178,"creation_date":1649925358,"answer_id":71868744,"question_id":12460571,"body_markdown":"There is indeed a difference between `inputstream.read(buffer) !=-1` and `inputstream.read(buffer) &gt; 0`. I recently experienced this while using [jSerialComm][1] library. When reading from an RS-232 serial port and a **BREAK signal** is received the InputStream (which I retrieved using the SerialPort.getInputStream() method) **actually returns 0**. This is quite useful when doing blocking I/O operations on an RS-232 serial port, for example using the BREAK signal (a 0-length read from the input stream) one can determine the end of a request/response message.\r\n\r\n\r\n  [1]: https://github.com/Fazecast/jSerialComm","title":"Input stream.read return 0 or -1?","body":"<p>There is indeed a difference between <code>inputstream.read(buffer) !=-1</code> and <code>inputstream.read(buffer) &gt; 0</code>. I recently experienced this while using <a href=\"https://github.com/Fazecast/jSerialComm\" rel=\"nofollow noreferrer\">jSerialComm</a> library. When reading from an RS-232 serial port and a <strong>BREAK signal</strong> is received the InputStream (which I retrieved using the SerialPort.getInputStream() method) <strong>actually returns 0</strong>. This is quite useful when doing blocking I/O operations on an RS-232 serial port, for example using the BREAK signal (a 0-length read from the input stream) one can determine the end of a request/response message.</p>\n"}],"owner":{"account_id":1156140,"reputation":25020,"user_id":1136700,"accept_rate":46,"display_name":"Adam Lee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8310,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12460768,"answer_count":4,"score":10,"last_activity_date":1649933178,"creation_date":1347889472,"question_id":12460571,"body_markdown":"What the difference between \r\n\r\n    byte[] buffer = new byte[1024];\r\n    // this:\r\n    if (inputStream.read(buffer) &gt; 0) { /*...*/ }\r\n    // and:\r\n    if (inputStream.read(buffer) != -1) { /*...*/ }\r\n\r\nCan both determine the network stream terminate?","title":"Input stream.read return 0 or -1?","body":"<p>What the difference between </p>\n\n<pre><code>byte[] buffer = new byte[1024];\n// this:\nif (inputStream.read(buffer) &gt; 0) { /*...*/ }\n// and:\nif (inputStream.read(buffer) != -1) { /*...*/ }\n</code></pre>\n\n<p>Can both determine the network stream terminate?</p>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1649845233,"post_id":71855770,"comment_id":126977166,"body_markdown":"Below your try/catch, you have another line with `age=input.nextDouble();`. I guess that&#39;s where the stacktrace comes from.","body":"Below your try/catch, you have another line with <code>age=input.nextDouble();</code>. I guess that&#39;s where the stacktrace comes from."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649845428,"post_id":71855770,"comment_id":126977243,"body_markdown":"Your exception handling isn&#39;t going to work. You&#39;re going to be prompted twice (the second time without a message to the user) if the user *does* get the input right and if the user gets it wrong there won&#39;t be a second opportunity to try","body":"Your exception handling isn&#39;t going to work. You&#39;re going to be prompted twice (the second time without a message to the user) if the user <i>does</i> get the input right and if the user gets it wrong there won&#39;t be a second opportunity to try"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1649845433,"post_id":71855770,"comment_id":126977244,"body_markdown":"There is no such thing as `InputMatchException`.","body":"There is no such thing as <code>InputMatchException</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649845771,"post_id":71855770,"comment_id":126977365,"body_markdown":"Please look up and try to follow Java code formatting rules. By following these rules, others will more easily be able to read and understand your code, and then be able to help you. If you are using most IDE&#39;s they can help you format your code correctly for you.","body":"Please look up and try to follow Java code formatting rules. By following these rules, others will more easily be able to read and understand your code, and then be able to help you. If you are using most IDE&#39;s they can help you format your code correctly for you."},{"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"score":0,"creation_date":1649845945,"post_id":71855770,"comment_id":126977438,"body_markdown":"Hi, f1sh, I agree with you, but the other line was added as an attempt to make the syntax correct. Hi, g00se, thank you for your comment. Could you please provide a solution to this problem? Hi, user207421, it&#39;s not InputMatchException but InputMismatchException. InputMismatchException has to be imported first before being used.","body":"Hi, f1sh, I agree with you, but the other line was added as an attempt to make the syntax correct. Hi, g00se, thank you for your comment. Could you please provide a solution to this problem? Hi, user207421, it&#39;s not InputMatchException but InputMismatchException. InputMismatchException has to be imported first before being used."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1649851270,"post_id":71855770,"comment_id":126979533,"body_markdown":"Place the prompt string into the `while` loop so that when it re-loops the prompt is shown again. Add this: `input.nextLine();` (to consume the ENTER hit) and this: `continue;` directly under the error message in the `catch` block. Get rid of that other `age = input.nextDouble();` line that is directly **under** the `catch` block. Consider adding a **Quit** mechanism to exit the loop, perhaps something like: `if (age &lt; 0.0d) { break; }`.","body":"Place the prompt string into the <code>while</code> loop so that when it re-loops the prompt is shown again. Add this: <code>input.nextLine();</code> (to consume the ENTER hit) and this: <code>continue;</code> directly under the error message in the <code>catch</code> block. Get rid of that other <code>age = input.nextDouble();</code> line that is directly <b>under</b> the <code>catch</code> block. Consider adding a <b>Quit</b> mechanism to exit the loop, perhaps something like: <code>if (age &lt; 0.0d) { break; }</code>."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649932819,"creation_date":1649846273,"answer_id":71856075,"question_id":71855770,"body_markdown":"You are getting the a `double` value twice and only once you account for a possible type mismatch. So remove that second `input.nextDouble()`. \r\n\r\nYou should also use [`continue;`](https://www.w3schools.com/java/java_break.asp) when the exception is thrown so the current iteration is stopped immediately and continues with the next iteration meaning your program will give the user another chance to enter an age. Additionally you should move the `System.out.println(&quot;Please enter...&quot;)` within the loop so a user knows what to do. \r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    double age;\r\n    while (true) {\r\n        System.out.println(&quot;Please enter your age and we will define your age group.&quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        try {\r\n            age = input.nextDouble();\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Input error. Please enter a number corresponding to your age.&quot;);\r\n            continue;\r\n        }\r\n        // if you use double you need to use another condition as age -0.1 would leave a &quot;hole&quot; in your ifs\r\n        // &lt; 0\r\n        if (age &lt;= -1) System.out.println(&quot;It is impossible for negative values to hold true.&quot;);\r\n        else if (age &lt;= 0.1) System.out.println(&quot;You are a newborn.&quot;);\r\n        else if (age &lt;= 1) System.out.println(&quot;You are an infant.&quot;);\r\n        else if (age &lt;= 3) System.out.println(&quot;You are a toddler.&quot;);\r\n        else if (age &lt;= 5) System.out.println(&quot;You are a preschooler.&quot;);\r\n        else if (age &lt;= 13) System.out.println(&quot;You are a school-aged child.&quot;);\r\n        else if (age &lt;= 19) System.out.println(&quot;You are an adolescent and a denarian.&quot;);\r\n        else if (age &lt;= 29) System.out.println(&quot;You are a vicenarian.&quot;);\r\n        else if (age &lt;= 39) System.out.println(&quot;You are a tricenarian.&quot;);\r\n        else if (age &lt;= 49) System.out.println(&quot;You are a quadragenarian.&quot;);\r\n        else if (age &lt;= 59) System.out.println(&quot;You are a quinquagenarian.&quot;);\r\n        else if (age &lt;= 69) System.out.println(&quot;You are a sexagenarian.&quot;);\r\n        else if (age &lt;= 79) System.out.println(&quot;You are a septuagenarian.&quot;);\r\n        else if (age &lt;= 89) System.out.println(&quot;You are an octogenarian.&quot;);\r\n        else if (age &lt;= 99) System.out.println(&quot;You are a nonagenarian.&quot;);\r\n        else if (age &lt;= 109) System.out.println(&quot;You are a centenarian.&quot;);\r\n        else if (age &lt;= 150) System.out.println(&quot;You are a supercentenarian.&quot;);\r\n        // age can`t be &lt;= 150 at this point (when you correct your bug above), so no need for this condition\r\n        else if (age &gt;= 150) System.out.println(&quot;This value is too big to hold true.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSome remarks on your code:\r\n\r\n- Age usually is an `int` but if you want it to be a `double` (which is fine as well, just uncommon) you need to adjust your condition `&lt;= -1` for negative values, otherwise you will get unexpected results for example for an age of `-0.1`. \r\n- Your last `else if` also does not make much sense. You could just use `else` here. \r\n- You should also consider to catch the other exceptions that can happen when using a scanner, not just `TypeMismatchException`. \r\n- Maybe also provide a way for a user to exit the program as it currently runs in an infinite loop.","title":"Hi I am a beginner to Java. I encountered a problem when trying to catch InputMismatchException","body":"<p>You are getting the a <code>double</code> value twice and only once you account for a possible type mismatch. So remove that second <code>input.nextDouble()</code>.</p>\n<p>You should also use <a href=\"https://www.w3schools.com/java/java_break.asp\" rel=\"nofollow noreferrer\"><code>continue;</code></a> when the exception is thrown so the current iteration is stopped immediately and continues with the next iteration meaning your program will give the user another chance to enter an age. Additionally you should move the <code>System.out.println(&quot;Please enter...&quot;)</code> within the loop so a user knows what to do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    double age;\n    while (true) {\n        System.out.println(&quot;Please enter your age and we will define your age group.&quot;);\n        Scanner input = new Scanner(System.in);\n        try {\n            age = input.nextDouble();\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Input error. Please enter a number corresponding to your age.&quot;);\n            continue;\n        }\n        // if you use double you need to use another condition as age -0.1 would leave a &quot;hole&quot; in your ifs\n        // &lt; 0\n        if (age &lt;= -1) System.out.println(&quot;It is impossible for negative values to hold true.&quot;);\n        else if (age &lt;= 0.1) System.out.println(&quot;You are a newborn.&quot;);\n        else if (age &lt;= 1) System.out.println(&quot;You are an infant.&quot;);\n        else if (age &lt;= 3) System.out.println(&quot;You are a toddler.&quot;);\n        else if (age &lt;= 5) System.out.println(&quot;You are a preschooler.&quot;);\n        else if (age &lt;= 13) System.out.println(&quot;You are a school-aged child.&quot;);\n        else if (age &lt;= 19) System.out.println(&quot;You are an adolescent and a denarian.&quot;);\n        else if (age &lt;= 29) System.out.println(&quot;You are a vicenarian.&quot;);\n        else if (age &lt;= 39) System.out.println(&quot;You are a tricenarian.&quot;);\n        else if (age &lt;= 49) System.out.println(&quot;You are a quadragenarian.&quot;);\n        else if (age &lt;= 59) System.out.println(&quot;You are a quinquagenarian.&quot;);\n        else if (age &lt;= 69) System.out.println(&quot;You are a sexagenarian.&quot;);\n        else if (age &lt;= 79) System.out.println(&quot;You are a septuagenarian.&quot;);\n        else if (age &lt;= 89) System.out.println(&quot;You are an octogenarian.&quot;);\n        else if (age &lt;= 99) System.out.println(&quot;You are a nonagenarian.&quot;);\n        else if (age &lt;= 109) System.out.println(&quot;You are a centenarian.&quot;);\n        else if (age &lt;= 150) System.out.println(&quot;You are a supercentenarian.&quot;);\n        // age can`t be &lt;= 150 at this point (when you correct your bug above), so no need for this condition\n        else if (age &gt;= 150) System.out.println(&quot;This value is too big to hold true.&quot;);\n    }\n}\n</code></pre>\n<p>Some remarks on your code:</p>\n<ul>\n<li>Age usually is an <code>int</code> but if you want it to be a <code>double</code> (which is fine as well, just uncommon) you need to adjust your condition <code>&lt;= -1</code> for negative values, otherwise you will get unexpected results for example for an age of <code>-0.1</code>.</li>\n<li>Your last <code>else if</code> also does not make much sense. You could just use <code>else</code> here.</li>\n<li>You should also consider to catch the other exceptions that can happen when using a scanner, not just <code>TypeMismatchException</code>.</li>\n<li>Maybe also provide a way for a user to exit the program as it currently runs in an infinite loop.</li>\n</ul>\n"}],"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1649932819,"creation_date":1649844926,"question_id":71855770,"body_markdown":"Hi I am a beginner to Java. I have created a problem that is able to define the age group of the person who enters any number of their age using the if and else if statements, but with the prerequisite that the date input can be nothing but numbers. In order to achieve this condition, I tried to try and catch InputMismatchException. Nevertheless, I encountered a problem when trying to catch InputMatchException.\r\nWhat I wished to accomplish is, when data input is anything other than numbers, for the following program to display the error message once only:&quot;Input error. Please enter a number corresponding to your age.&quot;\r\nHowever both this error message written by myself and the following error occurred when test running the program. \r\n   \r\n\r\n     &quot;Input error. Please enter the number corresponding to your age.\r\n        Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n        \tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n        \tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        \tat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n        \tat Welcome.main(Welcome.java:11)&quot;\r\n\r\nI also tried to use the throw new InputMismatchException but it failed to work. I do not understand the concept throw new Exception well. Please help me achieve the condition above. thank you!\r\n\r\nMy code is as follows:\r\n\r\n```\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class Welcome {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Please enter your age and we will define your age group.&quot;);\r\n\t\tdouble age;\r\n\t\twhile (true) {\r\n\t\t\tScanner input = new Scanner(System.in);\r\n\t\t\ttry {\r\n\t\t\t\tage = input.nextDouble();\r\n\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\tSystem.out.println(&quot;Input error. Please enter a number corresponding to your age.&quot;);\r\n\t\t\t}\r\n\t\t\tage = input.nextDouble();\r\n\t\t\tif (age &lt;= -1)\r\n\t\t\t\tSystem.out.println(&quot;It is impossible for negative values to hold true.&quot;);\r\n\t\t\telse if (age &lt;= 0.1)\r\n\t\t\t\tSystem.out.println(&quot;You are a newborn.&quot;);\r\n\t\t\telse if (age &lt;= 1)\r\n\t\t\t\tSystem.out.println(&quot;You are an infant.&quot;);\r\n\t\t\telse if (age &lt;= 3)\r\n\t\t\t\tSystem.out.println(&quot;You are a toddler.&quot;);\r\n\t\t\telse if (age &lt;= 5)\r\n\t\t\t\tSystem.out.println(&quot;You are a preschooler.&quot;);\r\n\t\t\telse if (age &lt;= 13)\r\n\t\t\t\tSystem.out.println(&quot;You are a school-aged child.&quot;);\r\n\t\t\telse if (age &lt;= 19)\r\n\t\t\t\tSystem.out.println(&quot;You are an adolescent and a denarian.&quot;);\r\n\t\t\telse if (age &lt;= 29)\r\n\t\t\t\tSystem.out.println(&quot;You are a vicenarian.&quot;);\r\n\t\t\telse if (age &lt;= 39)\r\n\t\t\t\tSystem.out.println(&quot;You are a tricenarian.&quot;);\r\n\t\t\telse if (age &lt;= 49)\r\n\t\t\t\tSystem.out.println(&quot;You are a quadragenarian.&quot;);\r\n\t\t\telse if (age &lt;= 59)\r\n\t\t\t\tSystem.out.println(&quot;You are a quinquagenarian.&quot;);\r\n\t\t\telse if (age &lt;= 69)\r\n\t\t\t\tSystem.out.println(&quot;You are a sexagenarian.&quot;);\r\n\t\t\telse if (age &lt;= 79)\r\n\t\t\t\tSystem.out.println(&quot;You are a septuagenarian.&quot;);\r\n\t\t\telse if (age &lt;= 89)\r\n\t\t\t\tSystem.out.println(&quot;You are an octogenarian.&quot;);\r\n\t\t\telse if (age &lt;= 99)\r\n\t\t\t\tSystem.out.println(&quot;You are a nonagenarian.&quot;);\r\n\t\t\telse if (age &lt;= 109)\r\n\t\t\t\tSystem.out.println(&quot;You are a centenarian.&quot;);\r\n\t\t\telse if (age &lt;= 150)\r\n\t\t\t\tSystem.out.println(&quot;You are a supercentenarian.&quot;);\r\n\t\t\telse if (age &gt;= 150)\r\n\t\t\t\tSystem.out.println(&quot;This value is too big to hold true.&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Hi I am a beginner to Java. I encountered a problem when trying to catch InputMismatchException","body":"<p>Hi I am a beginner to Java. I have created a problem that is able to define the age group of the person who enters any number of their age using the if and else if statements, but with the prerequisite that the date input can be nothing but numbers. In order to achieve this condition, I tried to try and catch InputMismatchException. Nevertheless, I encountered a problem when trying to catch InputMatchException.\nWhat I wished to accomplish is, when data input is anything other than numbers, for the following program to display the error message once only:&quot;Input error. Please enter a number corresponding to your age.&quot;\nHowever both this error message written by myself and the following error occurred when test running the program.</p>\n<pre><code> &quot;Input error. Please enter the number corresponding to your age.\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\n        at Welcome.main(Welcome.java:11)&quot;\n</code></pre>\n<p>I also tried to use the throw new InputMismatchException but it failed to work. I do not understand the concept throw new Exception well. Please help me achieve the condition above. thank you!</p>\n<p>My code is as follows:</p>\n<pre><code>import java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class Welcome {\n    public static void main(String[] args) {\n        System.out.println(&quot;Please enter your age and we will define your age group.&quot;);\n        double age;\n        while (true) {\n            Scanner input = new Scanner(System.in);\n            try {\n                age = input.nextDouble();\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Input error. Please enter a number corresponding to your age.&quot;);\n            }\n            age = input.nextDouble();\n            if (age &lt;= -1)\n                System.out.println(&quot;It is impossible for negative values to hold true.&quot;);\n            else if (age &lt;= 0.1)\n                System.out.println(&quot;You are a newborn.&quot;);\n            else if (age &lt;= 1)\n                System.out.println(&quot;You are an infant.&quot;);\n            else if (age &lt;= 3)\n                System.out.println(&quot;You are a toddler.&quot;);\n            else if (age &lt;= 5)\n                System.out.println(&quot;You are a preschooler.&quot;);\n            else if (age &lt;= 13)\n                System.out.println(&quot;You are a school-aged child.&quot;);\n            else if (age &lt;= 19)\n                System.out.println(&quot;You are an adolescent and a denarian.&quot;);\n            else if (age &lt;= 29)\n                System.out.println(&quot;You are a vicenarian.&quot;);\n            else if (age &lt;= 39)\n                System.out.println(&quot;You are a tricenarian.&quot;);\n            else if (age &lt;= 49)\n                System.out.println(&quot;You are a quadragenarian.&quot;);\n            else if (age &lt;= 59)\n                System.out.println(&quot;You are a quinquagenarian.&quot;);\n            else if (age &lt;= 69)\n                System.out.println(&quot;You are a sexagenarian.&quot;);\n            else if (age &lt;= 79)\n                System.out.println(&quot;You are a septuagenarian.&quot;);\n            else if (age &lt;= 89)\n                System.out.println(&quot;You are an octogenarian.&quot;);\n            else if (age &lt;= 99)\n                System.out.println(&quot;You are a nonagenarian.&quot;);\n            else if (age &lt;= 109)\n                System.out.println(&quot;You are a centenarian.&quot;);\n            else if (age &lt;= 150)\n                System.out.println(&quot;You are a supercentenarian.&quot;);\n            else if (age &gt;= 150)\n                System.out.println(&quot;This value is too big to hold true.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance","methods","abstract"],"answers":[{"tags":[],"owner":{"account_id":4695914,"reputation":635,"user_id":3800789,"accept_rate":67,"display_name":"Zychoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649932676,"creation_date":1649932676,"answer_id":71870254,"question_id":71870086,"body_markdown":"`A` is super class for `B`, so calling `super.foo()` inside `B` calls method defined in `A`, and calling `foo()` inside the same class will invoke its own implementation that should be delivered by any subclass. \r\n\r\nYou cannot use `super.foo()` within `C` class because it is defined as `abstract` in `B` and cannot be invoked directly. \r\n\r\n","title":"Making abstract an overridden method","body":"<p><code>A</code> is super class for <code>B</code>, so calling <code>super.foo()</code> inside <code>B</code> calls method defined in <code>A</code>, and calling <code>foo()</code> inside the same class will invoke its own implementation that should be delivered by any subclass.</p>\n<p>You cannot use <code>super.foo()</code> within <code>C</code> class because it is defined as <code>abstract</code> in <code>B</code> and cannot be invoked directly.</p>\n"}],"owner":{"account_id":21945935,"reputation":24,"user_id":16225784,"display_name":"lumin0u"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649932676,"creation_date":1649931902,"question_id":71870086,"body_markdown":"Here&#39;s something I quite understand:\r\n\r\n```\r\nabstract class A {\r\n\tpublic void foo() {\r\n\t\tSystem.out.println(&quot;a&quot;);\r\n\t}\r\n}\r\n\r\nabstract class B extends A {\r\n\t@Override\r\n\tpublic abstract void foo();\r\n\t\r\n\tpublic void bar() {\r\n\t\tsuper.foo();\r\n\t\tfoo();\r\n\t}\r\n}\r\n\r\nclass C extends B {\r\n\t@Override\r\n\tpublic void foo() {\r\n\t\tSystem.out.println(&quot;c&quot;);\r\n\t}\r\n}\r\npublic static void main(String[] args) {\r\n\tnew C().foo();\r\n\tnew C().bar();\r\n}\r\n```\r\n\r\n```new C().foo()``` prints ```c``` to the console, while ```new C().bar()``` prints ```a``` then ```c```.\r\n\r\nCalling ```super.foo()``` is illegal in the ```#foo()``` implementation of the ```C``` class.\r\n\r\nI don&#39;t have a clear question, but if anyone could give a complete explanation of what is going on with the ```foo``` method, it may be interesting I think.","title":"Making abstract an overridden method","body":"<p>Here's something I quite understand:</p>\n<pre><code>abstract class A {\n    public void foo() {\n        System.out.println(&quot;a&quot;);\n    }\n}\n\nabstract class B extends A {\n    @Override\n    public abstract void foo();\n    \n    public void bar() {\n        super.foo();\n        foo();\n    }\n}\n\nclass C extends B {\n    @Override\n    public void foo() {\n        System.out.println(&quot;c&quot;);\n    }\n}\npublic static void main(String[] args) {\n    new C().foo();\n    new C().bar();\n}\n</code></pre>\n<p><code>new C().foo()</code> prints <code>c</code> to the console, while <code>new C().bar()</code> prints <code>a</code> then <code>c</code>.</p>\n<p>Calling <code>super.foo()</code> is illegal in the <code>#foo()</code> implementation of the <code>C</code> class.</p>\n<p>I don't have a clear question, but if anyone could give a complete explanation of what is going on with the <code>foo</code> method, it may be interesting I think.</p>\n"},{"tags":["java","jdbc","jtds"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649921834,"post_id":71867886,"comment_id":126998474,"body_markdown":"Windows classpath? There&#39;s no such thing. It should be on classpath to your java command.","body":"Windows classpath? There&#39;s no such thing. It should be on classpath to your java command."},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1649926409,"post_id":71867886,"comment_id":127000044,"body_markdown":"Do you use a build automation tool such as Maven? How do you provide your .jar library? How do you package your app in a jar?\nJava does not use `.dll`s it uses `.jar` files as libraries.","body":"Do you use a build automation tool such as Maven? How do you provide your .jar library? How do you package your app in a jar? Java does not use <code>.dll</code>s it uses <code>.jar</code> files as libraries."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649926653,"post_id":71867886,"comment_id":127000131,"body_markdown":"@Renis1235 Java can use DLLs, as long as they are on the appropriate path and loaded with JNI, though AFAIK, `sqljdbc_auth.dll` is used by the Microsoft SQL Server JDBC driver, and not by jTDS.","body":"@Renis1235 Java can use DLLs, as long as they are on the appropriate path and loaded with JNI, though AFAIK, <code>sqljdbc_auth.dll</code> is used by the Microsoft SQL Server JDBC driver, and not by jTDS."},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1649927015,"post_id":71867886,"comment_id":127000272,"body_markdown":"I was thinking whether I should mention JNI, but decided to keep it simple. This seems like a simple dependency problem when packaging a Java application into a .jar file.","body":"I was thinking whether I should mention JNI, but decided to keep it simple. This seems like a simple dependency problem when packaging a Java application into a .jar file."},{"owner":{"account_id":24934087,"reputation":11,"user_id":18800883,"display_name":"gambrus"},"score":0,"creation_date":1649931674,"post_id":71867886,"comment_id":127001822,"body_markdown":"Valid observation, I forget to mention that. I am using shade plugin to build the jar file with all dependencies, The JTDS package has been shows under the packages correctly.","body":"Valid observation, I forget to mention that. I am using shade plugin to build the jar file with all dependencies, The JTDS package has been shows under the packages correctly."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1649932227,"post_id":71867886,"comment_id":127001998,"body_markdown":"Don&#39;t use the jTDS driver. It hasn&#39;t been updated in in the last 9 years and I would be very surprised if it worked with any modern SQL Server version. Use [Microsoft&#39;s JDBC driver instead](https://github.com/microsoft/mssql-jdbc) (which is the one `sqljdbc_auth.dll` belongs to)","body":"Don&#39;t use the jTDS driver. It hasn&#39;t been updated in in the last 9 years and I would be very surprised if it worked with any modern SQL Server version. Use <a href=\"https://github.com/microsoft/mssql-jdbc\" rel=\"nofollow noreferrer\">Microsoft&#39;s JDBC driver instead</a> (which is the one <code>sqljdbc_auth.dll</code> belongs to)"}],"answers":[{"tags":[],"owner":{"account_id":24934087,"reputation":11,"user_id":18800883,"display_name":"gambrus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649932615,"creation_date":1649932615,"answer_id":71870235,"question_id":71867886,"body_markdown":"Thanks all the help, I found the issue and It looks works for now. The issue was that the Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;); method was not defined properly.","title":"No suitable driver found for jdbc:jtds","body":"<p>Thanks all the help, I found the issue and It looks works for now. The issue was that the Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;); method was not defined properly.</p>\n"}],"owner":{"account_id":24934087,"reputation":11,"user_id":18800883,"display_name":"gambrus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649932615,"creation_date":1649921144,"question_id":71867886,"body_markdown":"I am stuck with a simple java netbeans-maven project.\r\n\r\nMy program need to write back some data into SQL Server database. The operation can be successfully if I run the program from NetBeans directly, it works as I expected. \r\n\r\n**But if I build the JAR file then run from outside of the dev environment the insert SQL sequence always get exception back** (the rest of the program where I use normal jdbc driver for querying works properly):\r\n\r\nThe exception is:\r\n&gt; No suitable driver found for jdbc:jtds:sqlserver://server:1433;user=user;password=password;integratedSecurity=true;encrypt=true;trustServerCertificate=true;ssl=require;\r\n\r\nI tried to add the sqljdbc_auth.dll into Sys32, and build all the dependencies again, and add the jtds driver into windows classpath, without any luck.\r\n\r\nCan you add me some type of guidance/help how the problem can be eliminate and run the code properly without the dev environment?\r\nThanks\r\n\r\nHere is the pom xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;Group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ContainerArrival&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;   \r\n          &lt;build&gt;\r\n        &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;transformers&gt;\r\n                        &lt;transformer implementation=\r\n                          &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                            &lt;mainClass&gt;something.ContainerArrivalFrame&lt;/mainClass&gt;\r\n                    &lt;/transformer&gt;\r\n                &lt;/transformers&gt;\r\n                    &lt;filters&gt;\r\n            &lt;filter&gt;\r\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/filter&gt;\r\n        &lt;/filters&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;8.4.1.jre8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;","title":"No suitable driver found for jdbc:jtds","body":"<p>I am stuck with a simple java netbeans-maven project.</p>\n<p>My program need to write back some data into SQL Server database. The operation can be successfully if I run the program from NetBeans directly, it works as I expected.</p>\n<p><strong>But if I build the JAR file then run from outside of the dev environment the insert SQL sequence always get exception back</strong> (the rest of the program where I use normal jdbc driver for querying works properly):</p>\n<p>The exception is:</p>\n<blockquote>\n<p>No suitable driver found for jdbc:jtds:sqlserver://server:1433;user=user;password=password;integratedSecurity=true;encrypt=true;trustServerCertificate=true;ssl=require;</p>\n</blockquote>\n<p>I tried to add the sqljdbc_auth.dll into Sys32, and build all the dependencies again, and add the jtds driver into windows classpath, without any luck.</p>\n<p>Can you add me some type of guidance/help how the problem can be eliminate and run the code properly without the dev environment?\nThanks</p>\n<p>Here is the pom xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;Group&lt;/groupId&gt;\n    &lt;artifactId&gt;ContainerArrival&lt;/artifactId&gt;\n    &lt;version&gt;0.9&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;   \n      &lt;build&gt;\n    &lt;plugins&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                &lt;transformers&gt;\n                    &lt;transformer implementation=\n                      &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                        &lt;mainClass&gt;something.ContainerArrivalFrame&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n            &lt;/transformers&gt;\n                &lt;filters&gt;\n        &lt;filter&gt;\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/filter&gt;\n    &lt;/filters&gt;\n        &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.4.1.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","integration-testing","pax-exam"],"owner":{"account_id":13086476,"reputation":845,"user_id":9455281,"display_name":"Asha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649932425,"creation_date":1649932425,"question_id":71870185,"body_markdown":"I&#39;m trying to run some integration tests but the test failed due to a pax.exam error.\r\n\r\n**Error** \r\n```\r\njava.lang.RuntimeException: Cannot get the remote bundle context\r\n\tat org.ops4j.pax.exam.rbc.client.intern.RemoteBundleContextClientImpl.getRemoteBundleContext(RemoteBundleContextClientImpl.java:255)\r\n\tat org.ops4j.pax.exam.rbc.client.intern.RemoteBundleContextClientImpl.waitForState(RemoteBundleContextClientImpl.java:211)\r\n\tat org.wso2.carbon.container.CarbonTestContainer.waitForState(CarbonTestContainer.java:401)\r\n\tat org.wso2.carbon.container.CarbonTestContainer.start(CarbonTestContainer.java:172)\r\n\tat org.ops4j.pax.exam.spi.reactors.EagerSingleStagedReactor.setUp(EagerSingleStagedReactor.java:86)\r\n\tat org.ops4j.pax.exam.spi.reactors.EagerSingleStagedReactor.beforeClass(EagerSingleStagedReactor.java:136)\r\n\tat org.ops4j.pax.exam.spi.reactors.ReactorManager.beforeClass(ReactorManager.java:457)\r\n\tat org.ops4j.pax.exam.testng.listener.PaxExam.runByDriver(PaxExam.java:443)\r\n\tat org.ops4j.pax.exam.testng.listener.PaxExam.run(PaxExam.java:308)\r\nCaused by: java.rmi.NotBoundException: 911190c4-b901-4423-b884-a9149c17575e\r\n```\r\n\r\nI tried to resolve by adding `pax-exam-container-rbc` dependency but that didn&#39;t work. Any help would be appreciated.\r\n\r\nJDK version: jdk1.8.0_311\r\n\r\nPax Exam version 4.13.1\r\n\r\nThanks in advance.","title":"How to resolve remote bundle context pax.exam error?","body":"<p>I'm trying to run some integration tests but the test failed due to a pax.exam error.</p>\n<p><strong>Error</strong></p>\n<pre><code>java.lang.RuntimeException: Cannot get the remote bundle context\n    at org.ops4j.pax.exam.rbc.client.intern.RemoteBundleContextClientImpl.getRemoteBundleContext(RemoteBundleContextClientImpl.java:255)\n    at org.ops4j.pax.exam.rbc.client.intern.RemoteBundleContextClientImpl.waitForState(RemoteBundleContextClientImpl.java:211)\n    at org.wso2.carbon.container.CarbonTestContainer.waitForState(CarbonTestContainer.java:401)\n    at org.wso2.carbon.container.CarbonTestContainer.start(CarbonTestContainer.java:172)\n    at org.ops4j.pax.exam.spi.reactors.EagerSingleStagedReactor.setUp(EagerSingleStagedReactor.java:86)\n    at org.ops4j.pax.exam.spi.reactors.EagerSingleStagedReactor.beforeClass(EagerSingleStagedReactor.java:136)\n    at org.ops4j.pax.exam.spi.reactors.ReactorManager.beforeClass(ReactorManager.java:457)\n    at org.ops4j.pax.exam.testng.listener.PaxExam.runByDriver(PaxExam.java:443)\n    at org.ops4j.pax.exam.testng.listener.PaxExam.run(PaxExam.java:308)\nCaused by: java.rmi.NotBoundException: 911190c4-b901-4423-b884-a9149c17575e\n</code></pre>\n<p>I tried to resolve by adding <code>pax-exam-container-rbc</code> dependency but that didn't work. Any help would be appreciated.</p>\n<p>JDK version: jdk1.8.0_311</p>\n<p>Pax Exam version 4.13.1</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649932354,"creation_date":1649932354,"answer_id":71870173,"question_id":71869290,"body_markdown":"Due to the nature of a Java constructor call (`new AddressRecord()`), it is not possible to intercept such a call e.g. in order to attach the resulting object to a `Configuration`.\r\n\r\nBut you can use `jooq().newRecord(ADDRESS)` instead, which produces an attached record. You can also use `jooq().newRecord(ADDRESS, addressTemplate)` to copy values using the [`DefaultRecordUnmapper`][1]\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordUnmapper.html","title":"Automatically attach new records","body":"<p>Due to the nature of a Java constructor call (<code>new AddressRecord()</code>), it is not possible to intercept such a call e.g. in order to attach the resulting object to a <code>Configuration</code>.</p>\n<p>But you can use <code>jooq().newRecord(ADDRESS)</code> instead, which produces an attached record. You can also use <code>jooq().newRecord(ADDRESS, addressTemplate)</code> to copy values using the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordUnmapper.html\" rel=\"nofollow noreferrer\"><code>DefaultRecordUnmapper</code></a></p>\n"}],"owner":{"account_id":3658110,"reputation":197,"user_id":3048582,"display_name":"Disheart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71870173,"answer_count":1,"score":1,"last_activity_date":1649932354,"creation_date":1649928110,"question_id":71869290,"body_markdown":"Is it possible to attach a default configuration for creating new records instead of manually attaching each time? I saw that while performing a `SELECT` it automatically attaches the record, would be nice if I could skip this step for every new record created.\r\n\r\n```java\r\nvar address = new AddressRecord();\r\naddress.attach(jooq().configuration());\r\naddress.setAddress(addressTemplate.getAddress());\r\naddress.setState(addressTemplate.getState());\r\naddress.setCity(addressTemplate.getCity());\r\naddress.setZipcode(addressTemplate.getZipcode());\r\naddress.setCountryId(addressTemplate.getCountryId());\r\n```","title":"Automatically attach new records","body":"<p>Is it possible to attach a default configuration for creating new records instead of manually attaching each time? I saw that while performing a <code>SELECT</code> it automatically attaches the record, would be nice if I could skip this step for every new record created.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var address = new AddressRecord();\naddress.attach(jooq().configuration());\naddress.setAddress(addressTemplate.getAddress());\naddress.setState(addressTemplate.getState());\naddress.setCity(addressTemplate.getCity());\naddress.setZipcode(addressTemplate.getZipcode());\naddress.setCountryId(addressTemplate.getCountryId());\n</code></pre>\n"},{"tags":["java","ssh","jsch","ssh-tunnel","tunneling"],"comments":[{"owner":{"account_id":24578941,"reputation":1,"user_id":18484380,"display_name":"Michał Kalinowski"},"score":0,"creation_date":1649878530,"post_id":71859206,"comment_id":126990105,"body_markdown":"My question is, how to connect to that machine with tunneling/portforwarding","body":"My question is, how to connect to that machine with tunneling/portforwarding"},{"owner":{"account_id":24578941,"reputation":1,"user_id":18484380,"display_name":"Michał Kalinowski"},"score":0,"creation_date":1649932560,"post_id":71859206,"comment_id":127002067,"body_markdown":"Well, I don&#39;t need to use tunneling to reach the server, I&#39;m sory for not being clear, but I&#39;m just lost at this point. I&#39;ve eddited my question, thanks for your time.","body":"Well, I don&#39;t need to use tunneling to reach the server, I&#39;m sory for not being clear, but I&#39;m just lost at this point. I&#39;ve eddited my question, thanks for your time."},{"owner":{"account_id":14027567,"reputation":394,"user_id":10132227,"display_name":"c_anirudh"},"score":0,"creation_date":1651570539,"post_id":71859206,"comment_id":127389276,"body_markdown":"Are you able to SSH into the machine using the same private key that you are using in the code?","body":"Are you able to SSH into the machine using the same private key that you are using in the code?"}],"owner":{"account_id":24578941,"reputation":1,"user_id":18484380,"display_name":"Michał Kalinowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649932232,"creation_date":1649860102,"question_id":71859206,"body_markdown":"I&#39;ve got a problem with connecting to **corporate machine** with SSH using JCraft JSch.\r\n\r\n    public static void main(String[] args) throws JSchException {\r\n        JSch jSch = new JSch();\r\n        String username = &quot;username&quot;;\r\n        String host = &quot;host&quot;;\r\n        int port = 22;\r\n\r\n        jSch.addIdentity(&quot;Path\\\\to\\\\key\\\\file&quot;);\r\n        jSch.setKnownHosts(&quot;known_hosts&quot;);\r\n\r\n        /* In known_hosts file, I&#39;ve got Host IP, and public key,\r\n        the same that&#39;s on server\r\n                                                                 */\r\n        Session session = jSch.getSession(username,host,port);\r\n\r\n        Properties config = new Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;,&quot;yes&quot;);\r\n        session.setConfig(config);\r\n\r\n        session.connect(5000);\r\n\r\n\r\n    }\r\n\r\nThat&#39;s my code, after running it, there is an error: HostKey has been changed: [host adress], if i change StrictHostKeyChecking to no, another error appears: Auth fail.\r\n\r\nI can connect to that machine via PuTTy or WinSCP, and I dont need to use tunneling. Also the key format is right(I made that mistake allready). When I connect to the machine via PuTTy, I need to pick the right machine(there are 5), and each of them has their own key pair, and the main connection to the &quot;menu&quot;, has also it&#39;s own key pair, it&#39;s CAPI key.\r\n\r\nDoes anyone had something like that before? Also I made a forwarding port, and tried to connect with that, but I&#39;m not sure how it works. Can anyone tell me how to do the port forwarding, or maybe somebody has another idea.\r\n\r\nThanks in advice","title":"Can&#39;t connect to corporate machine with SSH JCraft JSch","body":"<p>I've got a problem with connecting to <strong>corporate machine</strong> with SSH using JCraft JSch.</p>\n<pre><code>public static void main(String[] args) throws JSchException {\n    JSch jSch = new JSch();\n    String username = &quot;username&quot;;\n    String host = &quot;host&quot;;\n    int port = 22;\n\n    jSch.addIdentity(&quot;Path\\\\to\\\\key\\\\file&quot;);\n    jSch.setKnownHosts(&quot;known_hosts&quot;);\n\n    /* In known_hosts file, I've got Host IP, and public key,\n    the same that's on server\n                                                             */\n    Session session = jSch.getSession(username,host,port);\n\n    Properties config = new Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;,&quot;yes&quot;);\n    session.setConfig(config);\n\n    session.connect(5000);\n\n\n}\n</code></pre>\n<p>That's my code, after running it, there is an error: HostKey has been changed: [host adress], if i change StrictHostKeyChecking to no, another error appears: Auth fail.</p>\n<p>I can connect to that machine via PuTTy or WinSCP, and I dont need to use tunneling. Also the key format is right(I made that mistake allready). When I connect to the machine via PuTTy, I need to pick the right machine(there are 5), and each of them has their own key pair, and the main connection to the &quot;menu&quot;, has also it's own key pair, it's CAPI key.</p>\n<p>Does anyone had something like that before? Also I made a forwarding port, and tried to connect with that, but I'm not sure how it works. Can anyone tell me how to do the port forwarding, or maybe somebody has another idea.</p>\n<p>Thanks in advice</p>\n"},{"tags":["java","itext","zos"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1554882695,"post_id":55605770,"comment_id":97909414,"body_markdown":"What is `new byteّinZFile.getLrecl()ٍ`? That code line is unlikely to compile at all. What is `inZFile`? What is `brdr`?","body":"What is <code>new byteّinZFile.getLrecl()ٍ</code>? That code line is unlikely to compile at all. What is <code>inZFile</code>? What is <code>brdr</code>?"},{"owner":{"account_id":1724964,"reputation":107,"user_id":1579878,"accept_rate":0,"display_name":"user1579878"},"score":0,"creation_date":1554908034,"post_id":55605770,"comment_id":97924649,"body_markdown":"Sorry, the download changed some characters. I have now edited the post with the complete code","body":"Sorry, the download changed some characters. I have now edited the post with the complete code"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1554975522,"post_id":55605770,"comment_id":97950101,"body_markdown":"The question now is clearer but that also made clearer that I am unlikely to be able to help as I have no idea about z/OS specialties. I would propose, though, that you first try to localize the code in which the problem occurs: You should try to find out whether the `ZFile.read` operation returns something different in your two scenarios; or, if it returns the same bytes, whether the `String` constructor creates different characters based on those bytes; or, if indeed iText processes those characters differently in those scenarios. Based on the result your question can be further clarified.","body":"The question now is clearer but that also made clearer that I am unlikely to be able to help as I have no idea about z/OS specialties. I would propose, though, that you first try to localize the code in which the problem occurs: You should try to find out whether the <code>ZFile.read</code> operation returns something different in your two scenarios; or, if it returns the same bytes, whether the <code>String</code> constructor creates different characters based on those bytes; or, if indeed iText processes those characters differently in those scenarios. Based on the result your question can be further clarified."},{"owner":{"account_id":1724964,"reputation":107,"user_id":1579878,"accept_rate":0,"display_name":"user1579878"},"score":0,"creation_date":1555003636,"post_id":55605770,"comment_id":97967322,"body_markdown":"Will do some more investigation on the issue and update the post","body":"Will do some more investigation on the issue and update the post"},{"owner":{"account_id":4298670,"reputation":629,"user_id":3512964,"display_name":"Kevin McKenzie"},"score":0,"creation_date":1555004389,"post_id":55605770,"comment_id":97967699,"body_markdown":"I’ve notified the z/OS java team of this question.","body":"I’ve notified the z/OS java team of this question."}],"answers":[{"tags":[],"owner":{"account_id":13597017,"reputation":51,"user_id":9808767,"display_name":"Ayman.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649932067,"creation_date":1649932067,"answer_id":71870120,"question_id":55605770,"body_markdown":"&gt; The problem is in the font from itext5 and not in Java\r\n\r\nsimply update your itext 5.5.8  to itext 7 implementation:\r\n\r\n&gt; https://search.maven.org/artifact/com.itextpdf/itext7-core/7.2.2/pom\r\n\r\n&gt; then edit your code:\r\n\r\n      String font = &quot;your Arabic font&quot;;\r\n    PdfFontFactory.register(font);\r\n    FontProgram fontProgram = FontProgramFactory.createFont(font, true);\r\n    PdfFont f = PdfFontFactory.createFont(fontProgram, PdfEncodings.IDENTITY_H);\r\n    LanguageProcessor languageProcessor = new ArabicLigaturizer();\r\n    com.itextpdf.kernel.pdf.PdfDocument tempPdfDoc = new \r\n    com.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()), TempWriter);\r\n    com.itextpdf.layout.Document TempDoc = new \r\n    com.itextpdf.layout.Document(tempPdfDoc);\r\n    com.itextpdf.layout.element.Paragraph paragraph0 = new \r\n    com.itextpdf.layout.element.Paragraph(languageProcessor.process(&quot;الاستماره الالكترونية&quot;))\r\n                .setFont(f).setBaseDirection(BaseDirection.RIGHT_TO_LEFT)\r\n                .setFontSize(15);","title":"iText 5.5.8 and Java 8 Arabic not shaped","body":"<blockquote>\n<p>The problem is in the font from itext5 and not in Java</p>\n</blockquote>\n<p>simply update your itext 5.5.8  to itext 7 implementation:</p>\n<blockquote>\n<p><a href=\"https://search.maven.org/artifact/com.itextpdf/itext7-core/7.2.2/pom\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.itextpdf/itext7-core/7.2.2/pom</a></p>\n</blockquote>\n<blockquote>\n<p>then edit your code:</p>\n</blockquote>\n<pre><code>  String font = &quot;your Arabic font&quot;;\nPdfFontFactory.register(font);\nFontProgram fontProgram = FontProgramFactory.createFont(font, true);\nPdfFont f = PdfFontFactory.createFont(fontProgram, PdfEncodings.IDENTITY_H);\nLanguageProcessor languageProcessor = new ArabicLigaturizer();\ncom.itextpdf.kernel.pdf.PdfDocument tempPdfDoc = new \ncom.itextpdf.kernel.pdf.PdfDocument(new PdfReader(pdfFile.getPath()), TempWriter);\ncom.itextpdf.layout.Document TempDoc = new \ncom.itextpdf.layout.Document(tempPdfDoc);\ncom.itextpdf.layout.element.Paragraph paragraph0 = new \ncom.itextpdf.layout.element.Paragraph(languageProcessor.process(&quot;الاستماره الالكترونية&quot;))\n            .setFont(f).setBaseDirection(BaseDirection.RIGHT_TO_LEFT)\n            .setFontSize(15);\n</code></pre>\n"}],"owner":{"account_id":1724964,"reputation":107,"user_id":1579878,"accept_rate":0,"display_name":"user1579878"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649932067,"creation_date":1554876586,"question_id":55605770,"body_markdown":"I have a simple program that creates a PDF using iText 5.5.8 and Java 7 and it renders the Arabic correctly shaped. I recompiled and executed the same program using Java 8 and now the Arabic is unshaped when viewed in the PDF.\r\nNote this job is on the mainframe z/OS, it used the ZFile class to do the read.\r\n\r\nHere is the complete code\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import com.ibm.jzos.MvsConsole;\r\n    import com.ibm.jzos.ZFile;\r\n    import com.ibm.jzos.ZFileException;\r\n    import com.ibm.jzos.ZUtil;\r\n    import com.itextpdf.text.*;\r\n    import com.itextpdf.text.pdf.ColumnText;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n    import com.itextpdf.text.pdf.BaseFont;\r\n    public class Simplepdf  \r\n    {\r\n        public static void main(String[] args) throws ZFileException, IOException, DocumentException \r\n        {\r\n        \tZFile inZFile = new ZFile(&quot;//DD:INDD&quot;,&quot;rb,type=record,noseek&quot;);\r\n        \tZFile outZFile = new ZFile(&quot;//DD:OUTDD&quot;, &quot;wb&quot;);\r\n        \tBufferedReader brdr = null;\r\n        \tInputStream istream = inZFile.getInputStream();\r\n            InputStreamReader rdr = new InputStreamReader(istream,&quot;Cp420&quot;);\r\n            brdr = new BufferedReader(rdr);\r\n            OutputStream ostream = outZFile.getOutputStream();\r\n            BaseFont nf = BaseFont.createFont(&quot;cour.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n            Float pf = Float.parseFloat(&quot;8&quot;);\r\n            Font font = new Font(nf,pf);\r\n            BaseFont bf = BaseFont.createFont(&quot;courbd.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n            Font fontb = new Font(bf,pf);\r\n          \r\n            Document document = new Document();\r\n            PdfWriter writer = PdfWriter.getInstance(document, ostream);\r\n            document.open();\r\n            ColumnText column = new ColumnText(writer.getDirectContent());\r\n            column.setSimpleColumn(36, 770, 569, 36);\r\n            column.setRunDirection(PdfWriter.RUN_DIRECTION_NO_BIDI);\r\n            String encoding = &quot;Cp420&quot;;\r\n            byte[] recBuf = new byte[inZFile.getLrecl()];\r\n            int nRead;\r\n            while((nRead = inZFile.read(recBuf)) &gt; 0) \r\n            {\r\n                String line = new String(recBuf,1,nRead-1,encoding);\r\n                column.addElement(new Paragraph(line, font));\r\n            }\r\n            column.go();\r\n            brdr.close();\r\n            document.close();\r\n        }\r\n    }\r\n\r\n","title":"iText 5.5.8 and Java 8 Arabic not shaped","body":"<p>I have a simple program that creates a PDF using iText 5.5.8 and Java 7 and it renders the Arabic correctly shaped. I recompiled and executed the same program using Java 8 and now the Arabic is unshaped when viewed in the PDF.\nNote this job is on the mainframe z/OS, it used the ZFile class to do the read.</p>\n\n<p>Here is the complete code</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport com.ibm.jzos.MvsConsole;\nimport com.ibm.jzos.ZFile;\nimport com.ibm.jzos.ZFileException;\nimport com.ibm.jzos.ZUtil;\nimport com.itextpdf.text.*;\nimport com.itextpdf.text.pdf.ColumnText;\nimport com.itextpdf.text.pdf.PdfWriter;\nimport com.itextpdf.text.pdf.BaseFont;\npublic class Simplepdf  \n{\n    public static void main(String[] args) throws ZFileException, IOException, DocumentException \n    {\n        ZFile inZFile = new ZFile(\"//DD:INDD\",\"rb,type=record,noseek\");\n        ZFile outZFile = new ZFile(\"//DD:OUTDD\", \"wb\");\n        BufferedReader brdr = null;\n        InputStream istream = inZFile.getInputStream();\n        InputStreamReader rdr = new InputStreamReader(istream,\"Cp420\");\n        brdr = new BufferedReader(rdr);\n        OutputStream ostream = outZFile.getOutputStream();\n        BaseFont nf = BaseFont.createFont(\"cour.ttf\", BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n        Float pf = Float.parseFloat(\"8\");\n        Font font = new Font(nf,pf);\n        BaseFont bf = BaseFont.createFont(\"courbd.ttf\", BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n        Font fontb = new Font(bf,pf);\n\n        Document document = new Document();\n        PdfWriter writer = PdfWriter.getInstance(document, ostream);\n        document.open();\n        ColumnText column = new ColumnText(writer.getDirectContent());\n        column.setSimpleColumn(36, 770, 569, 36);\n        column.setRunDirection(PdfWriter.RUN_DIRECTION_NO_BIDI);\n        String encoding = \"Cp420\";\n        byte[] recBuf = new byte[inZFile.getLrecl()];\n        int nRead;\n        while((nRead = inZFile.read(recBuf)) &gt; 0) \n        {\n            String line = new String(recBuf,1,nRead-1,encoding);\n            column.addElement(new Paragraph(line, font));\n        }\n        column.go();\n        brdr.close();\n        document.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","quarkus","media-type"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1649926918,"post_id":71868971,"comment_id":127000227,"body_markdown":"What do you mean you &quot;found&quot; that question? You **asked** that question.","body":"What do you mean you &quot;found&quot; that question? You <b>asked</b> that question."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1649926985,"post_id":71868971,"comment_id":127000256,"body_markdown":"@Kayaman Yes that was for Spring-boot. Now I would like to know how the same can be done for the `Quarkus` application. Do I need to pass again from front-end itself?","body":"@Kayaman Yes that was for Spring-boot. Now I would like to know how the same can be done for the <code>Quarkus</code> application. Do I need to pass again from front-end itself?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1649927024,"post_id":71868971,"comment_id":127000274,"body_markdown":"Read the documentation. Quarkus and Spring are very similar, and HTTP remains the same whichever you use.","body":"Read the documentation. Quarkus and Spring are very similar, and HTTP remains the same whichever you use."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1649927367,"post_id":71868971,"comment_id":127000406,"body_markdown":"@Kayaman The problem is that if I add another parameter something like this `generateData(String input, String contentType)` in `Quarkus` then I get the exception `Caused by: java.lang.RuntimeException: Resource method java.lang.String generate(java.lang.String input, java.lang.String contentType)` which was not the case when I was using the `Spring-Boot`. So I am unable to send via front-end as well.","body":"@Kayaman The problem is that if I add another parameter something like this <code>generateData(String input, String contentType)</code> in <code>Quarkus</code> then I get the exception <code>Caused by: java.lang.RuntimeException: Resource method java.lang.String generate(java.lang.String input, java.lang.String contentType)</code> which was not the case when I was using the <code>Spring-Boot</code>. So I am unable to send via front-end as well."}],"answers":[{"tags":[],"owner":{"account_id":19215844,"reputation":444,"user_id":14040597,"display_name":"xstefank"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649931689,"creation_date":1649931689,"answer_id":71870057,"question_id":71868971,"body_markdown":"Usually, this is set in the `Content-Type` header. So to pull this header you can do this (this uses JAX-RS annotation `javax.ws.rs.HeaderParam`):\r\n\r\n```java\r\n    @POST\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n    public String hello(@HeaderParam(&quot;Content-Type&quot;) String contentType, String data) {\r\n        return String.format(&quot;Data: %s%nContent-Type: %s&quot;, data, contentType);\r\n    }\r\n```","title":"Java/Quarkus how to identify the Content-type of the incoming request","body":"<p>Usually, this is set in the <code>Content-Type</code> header. So to pull this header you can do this (this uses JAX-RS annotation <code>javax.ws.rs.HeaderParam</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @POST\n    @Produces(MediaType.TEXT_PLAIN)\n    @Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n    public String hello(@HeaderParam(&quot;Content-Type&quot;) String contentType, String data) {\n        return String.format(&quot;Data: %s%nContent-Type: %s&quot;, data, contentType);\n    }\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1543,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71870057,"answer_count":1,"score":-1,"last_activity_date":1649931689,"creation_date":1649926521,"question_id":71868971,"body_markdown":"I am developing a Rest-API application using Java/Quarkus. My POST API accepts XML/JSON contents. I would like to identify the type of MediaType of the incoming data based on which I need to make a request to another URL by setting the appropriate `content-type`. \r\n\r\nFollowing is the code I have so far:\r\n```\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\n\r\n@Path(&quot;/api&quot;)\r\npublic class DataGenerator {\r\n\r\n    @Path(&quot;/generate&quot;)\r\n    @POST\r\n    @Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public String generateData(String input) throws IOException, InterruptedException {\r\n        final HttpRequest request = HttpRequest.newBuilder(URI.create(&quot;https://example.com/example&quot;))\r\n                .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                .POST(HttpRequest.BodyPublishers.ofString(input))\r\n                .build();\r\n        return HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString()).body();\r\n    }\r\n}\r\n```\r\n\r\nAs you can see my `input` can be `XML/JSON`. If `JSON` then I would like to set `header(&quot;content-type&quot;, &quot;application/json&quot;)` else if the `input` is `XML` then I would like to set `header(&quot;content-type&quot;, &quot;application/xml&quot;)`.\r\n\r\nBased on the `content-type` the URL `https://example.com/example` calls out a different method to generate the response.\r\n\r\nAs of now, the function is working accurately for JSON but I am unable to handle the XML Input. Can someone please let me know how can I find the incoming Input MediaType?\r\n\r\nI have this question for spring-boot (https://stackoverflow.com/q/68800947/7584240) but I am unable to understand how to do it for the Quarkus-based application? Do I need to pass again from front-end or there is some Quarkus default way?","title":"Java/Quarkus how to identify the Content-type of the incoming request","body":"<p>I am developing a Rest-API application using Java/Quarkus. My POST API accepts XML/JSON contents. I would like to identify the type of MediaType of the incoming data based on which I need to make a request to another URL by setting the appropriate <code>content-type</code>.</p>\n<p>Following is the code I have so far:</p>\n<pre><code>import javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n\n@Path(&quot;/api&quot;)\npublic class DataGenerator {\n\n    @Path(&quot;/generate&quot;)\n    @POST\n    @Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n    @Produces(MediaType.APPLICATION_JSON)\n    public String generateData(String input) throws IOException, InterruptedException {\n        final HttpRequest request = HttpRequest.newBuilder(URI.create(&quot;https://example.com/example&quot;))\n                .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(input))\n                .build();\n        return HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString()).body();\n    }\n}\n</code></pre>\n<p>As you can see my <code>input</code> can be <code>XML/JSON</code>. If <code>JSON</code> then I would like to set <code>header(&quot;content-type&quot;, &quot;application/json&quot;)</code> else if the <code>input</code> is <code>XML</code> then I would like to set <code>header(&quot;content-type&quot;, &quot;application/xml&quot;)</code>.</p>\n<p>Based on the <code>content-type</code> the URL <code>https://example.com/example</code> calls out a different method to generate the response.</p>\n<p>As of now, the function is working accurately for JSON but I am unable to handle the XML Input. Can someone please let me know how can I find the incoming Input MediaType?</p>\n<p>I have this question for spring-boot (<a href=\"https://stackoverflow.com/q/68800947/7584240\">Find the Content-type of the incoming request in Spring boot</a>) but I am unable to understand how to do it for the Quarkus-based application? Do I need to pass again from front-end or there is some Quarkus default way?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1649929195,"post_id":71869441,"comment_id":127000978,"body_markdown":"The principal never has the password so not sure what the problem is. If you need the header then just get the header. I also wonder if you already use Spring Security why do it again in your controller, seems a duplication of things and not doing things (authentication/authorization) where it belongs. All in all it feels like you are working around Spring Security and trying to implement your own security...","body":"The principal never has the password so not sure what the problem is. If you need the header then just get the header. I also wonder if you already use Spring Security why do it again in your controller, seems a duplication of things and not doing things (authentication/authorization) where it belongs. All in all it feels like you are working around Spring Security and trying to implement your own security..."}],"answers":[{"tags":[],"owner":{"display_name":"user18078864"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649929569,"creation_date":1649929569,"answer_id":71869600,"question_id":71869441,"body_markdown":"To read all http header in your Spring Boot application, we use the same @RequestHeader annotation. To collect all the header values, we have the option to collect values in to Map, a MultiValueMap or a HttpHeaders object. Let’s see how to do this: \r\n```\r\n\r\n@RestController\r\npublic class AllHeaderController {\r\n\r\n    @GetMapping(&quot;/print-all-headers&quot;)\r\n    public void getAllheaders(@RequestHeader Map&lt;String,String&gt; headers){\r\n        headers.forEach((key,value) -&gt;{\r\n            System.out.println(&quot;Header Name: &quot;+key+&quot; Header Value: &quot;+value);\r\n        });\r\n    }\r\n}\r\n```","title":"Spring security get authorization header value","body":"<p>To read all http header in your Spring Boot application, we use the same @RequestHeader annotation. To collect all the header values, we have the option to collect values in to Map, a MultiValueMap or a HttpHeaders object. Let’s see how to do this:</p>\n<pre><code>\n@RestController\npublic class AllHeaderController {\n\n    @GetMapping(&quot;/print-all-headers&quot;)\n    public void getAllheaders(@RequestHeader Map&lt;String,String&gt; headers){\n        headers.forEach((key,value) -&gt;{\n            System.out.println(&quot;Header Name: &quot;+key+&quot; Header Value: &quot;+value);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23147042,"reputation":37,"user_id":17249649,"display_name":"spartan712"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2216,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71869600,"answer_count":1,"score":-1,"last_activity_date":1649931087,"creation_date":1649928847,"question_id":71869441,"body_markdown":"Currently I have a RestController ProductsController that takes a basic Authorization string.\r\n\r\n\r\nWe have some external security library defined that can not be changed.\r\nThe security library has the security config defined and reads the Auth and translates it to a principal without the password or the original string. the principal just have the username present.\r\n\r\nI need to extract the auth that was passed in the header without changing the sec lib, Can you please let me know how can i do that?? we use spring boot and spring security with java 11.","title":"Spring security get authorization header value","body":"<p>Currently I have a RestController ProductsController that takes a basic Authorization string.</p>\n<p>We have some external security library defined that can not be changed.\nThe security library has the security config defined and reads the Auth and translates it to a principal without the password or the original string. the principal just have the username present.</p>\n<p>I need to extract the auth that was passed in the header without changing the sec lib, Can you please let me know how can i do that?? we use spring boot and spring security with java 11.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8562,"page":1430,"page_size":100}
