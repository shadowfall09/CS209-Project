{"items":[{"tags":["java","maven","certificate"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643352816,"post_id":70888539,"comment_id":125321604,"body_markdown":"The message `PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid` implies that the certs are not there where they expected...furthermore the question is which JDK you are using and which Maven version do you use?","body":"The message <code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid</code> implies that the certs are not there where they expected...furthermore the question is which JDK you are using and which Maven version do you use?"},{"owner":{"account_id":7025508,"reputation":39,"user_id":5383043,"display_name":"NotSure"},"score":0,"creation_date":1643372653,"post_id":70888539,"comment_id":125328292,"body_markdown":"@khmarbaise I believe I was using the JDK 11 and embedded Maven for Eclipse. However, I&#39;m primarily focusing on using VSCode so I used the Java Extension Pack and the Maven Extension as well. I do not have Maven installed on my machine so I cannot do any mvn commands if I wanted to. So I don&#39;t know what version of Maven I have. I also do not know how to check if VSCode looks for a JDK installed on my machine and if so, where is that setting.","body":"@khmarbaise I believe I was using the JDK 11 and embedded Maven for Eclipse. However, I&#39;m primarily focusing on using VSCode so I used the Java Extension Pack and the Maven Extension as well. I do not have Maven installed on my machine so I cannot do any mvn commands if I wanted to. So I don&#39;t know what version of Maven I have. I also do not know how to check if VSCode looks for a JDK installed on my machine and if so, where is that setting."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643373286,"post_id":70888539,"comment_id":125328514,"body_markdown":"Install the most recent version of Maven on your machine https://maven.apache.org/download.cgi and https://maven.apache.org/install.html Also have a working JDK correctly installed ...","body":"Install the most recent version of Maven on your machine <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi</a> and <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">maven.apache.org/install.html</a> Also have a working JDK correctly installed ..."},{"owner":{"account_id":7025508,"reputation":39,"user_id":5383043,"display_name":"NotSure"},"score":0,"creation_date":1643379550,"post_id":70888539,"comment_id":125330990,"body_markdown":"Hi, I have installed Maven on my machine and my JDK seems correct. Here are my system env variables:\nJAVA_HOME = C:\\Program Files\\Amazon Corretto\\jdk11.0.10_9\nJRE64LOC = C:\\Program Files\\Java\\jre8\nJRELOC = C:\\Program Files (x86)\\Java\\jre8","body":"Hi, I have installed Maven on my machine and my JDK seems correct. Here are my system env variables: JAVA_HOME = C:\\Program Files\\Amazon Corretto\\jdk11.0.10_9 JRE64LOC = C:\\Program Files\\Java\\jre8 JRELOC = C:\\Program Files (x86)\\Java\\jre8"}],"owner":{"account_id":7025508,"reputation":39,"user_id":5383043,"display_name":"NotSure"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643342465,"creation_date":1643341011,"question_id":70888539,"body_markdown":"My experience is almost exactly like the one who posted here https://stackoverflow.com/questions/50264870/certification-path-error-when-creating-maven-project-in-eclipse except I haven&#39;t been able to fix my problem \r\n\r\nI created a blank maven simple web project (in both eclipse and in vscode) but in my pom.xml at the parent tag, I get the following error.\r\n \r\n&gt; Project build error: Non-resolvable parent POM for\r\n&gt; com.group:demo:0.0.1-SNAPSHOT:\r\n&gt; org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed\r\n&gt; to transfer from\r\n&gt; https://nexus.company.com/repository/maven-central-proxy/ during a\r\n&gt; previous attempt. This failure was cached in the local repository and\r\n&gt; resolution is not reattempted until the update interval of\r\n&gt; e-maven-central-mirror has elapsed or updates are forced. Original\r\n&gt; error: Could not transfer artifact\r\n&gt; org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to\r\n&gt; e-maven-central-mirror\r\n&gt; (https://nexus.company.com/repository/maven-central-proxy/): PKIX path\r\n&gt; building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target and\r\n&gt; &#39;parent.relativePath&#39; points at no local POM\r\n\r\nIn my settings.xml, I have my proxies, servers and mirrors tags set with the necessary information. (By my company&#39;s setup guide, this is all I should have but even with the proxy tags added, the non-resolvable parent POM error message stays)\r\n\r\n    &lt;settings&gt;   \r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\r\n          &lt;username&gt;username&lt;/username&gt;\r\n          &lt;password&gt;tokenpassword&lt;/password&gt;\r\n        &lt;/server&gt;   \r\n      &lt;/servers&gt;   \r\n      &lt;mirrors&gt;\r\n        &lt;mirror&gt;\r\n         &lt;!-- Comments about what are happening here --&gt;\r\n         &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\r\n         &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n         &lt;url&gt;https://nexus.company.com/repository/maven-central-proxy/&lt;/url&gt;   \r\n        &lt;/mirror&gt;   \r\n      &lt;/mirrors&gt; \r\n    &lt;/settings&gt;\r\n\r\nI&#39;m able to access the url with my id and my token password as normal. I&#39;ve also gone through the trouble of adding the https://nexus.company.com/repository/maven-central-proxy certificate to both my %JAVA_HOME% (Jdk11) and %JRELOC% (Jre8) cacerts using the keytool. (I added to both as I wasn&#39;t sure which Java was the one being used)\r\n\r\nI have spent a couple days on this and I&#39;m not sure what it is that I&#39;m doing wrong. Any clarification would be greatly appreciated. Thanks\r\n\r\nEdit: I have my env variables HTTP_PROXY and HTTPS_PROXY set. Also saw that my nexus certificates were added to my JDK&#39;s keystore but not in the JRE&#39;s keystore if that&#39;s any useful informtation.","title":"Certification path error, non-resolvable parent pom","body":"<p>My experience is almost exactly like the one who posted here <a href=\"https://stackoverflow.com/questions/50264870/certification-path-error-when-creating-maven-project-in-eclipse\">Certification path error when creating Maven project in Eclipse</a> except I haven't been able to fix my problem</p>\n<p>I created a blank maven simple web project (in both eclipse and in vscode) but in my pom.xml at the parent tag, I get the following error.</p>\n<blockquote>\n<p>Project build error: Non-resolvable parent POM for\ncom.group:demo:0.0.1-SNAPSHOT:\norg.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed\nto transfer from\n<a href=\"https://nexus.company.com/repository/maven-central-proxy/\" rel=\"nofollow noreferrer\">https://nexus.company.com/repository/maven-central-proxy/</a> during a\nprevious attempt. This failure was cached in the local repository and\nresolution is not reattempted until the update interval of\ne-maven-central-mirror has elapsed or updates are forced. Original\nerror: Could not transfer artifact\norg.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to\ne-maven-central-mirror\n(<a href=\"https://nexus.company.com/repository/maven-central-proxy/\" rel=\"nofollow noreferrer\">https://nexus.company.com/repository/maven-central-proxy/</a>): PKIX path\nbuilding failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target and\n'parent.relativePath' points at no local POM</p>\n</blockquote>\n<p>In my settings.xml, I have my proxies, servers and mirrors tags set with the necessary information. (By my company's setup guide, this is all I should have but even with the proxy tags added, the non-resolvable parent POM error message stays)</p>\n<pre><code>&lt;settings&gt;   \n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\n      &lt;username&gt;username&lt;/username&gt;\n      &lt;password&gt;tokenpassword&lt;/password&gt;\n    &lt;/server&gt;   \n  &lt;/servers&gt;   \n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n     &lt;!-- Comments about what are happening here --&gt;\n     &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\n     &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n     &lt;url&gt;https://nexus.company.com/repository/maven-central-proxy/&lt;/url&gt;   \n    &lt;/mirror&gt;   \n  &lt;/mirrors&gt; \n&lt;/settings&gt;\n</code></pre>\n<p>I'm able to access the url with my id and my token password as normal. I've also gone through the trouble of adding the <a href=\"https://nexus.company.com/repository/maven-central-proxy\" rel=\"nofollow noreferrer\">https://nexus.company.com/repository/maven-central-proxy</a> certificate to both my %JAVA_HOME% (Jdk11) and %JRELOC% (Jre8) cacerts using the keytool. (I added to both as I wasn't sure which Java was the one being used)</p>\n<p>I have spent a couple days on this and I'm not sure what it is that I'm doing wrong. Any clarification would be greatly appreciated. Thanks</p>\n<p>Edit: I have my env variables HTTP_PROXY and HTTPS_PROXY set. Also saw that my nexus certificates were added to my JDK's keystore but not in the JRE's keystore if that's any useful informtation.</p>\n"},{"tags":["java","maven","module-info"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643162310,"post_id":70857737,"comment_id":125265425,"body_markdown":"It’s probably worth double-checking that BasicFontProvider.class is in styled-xml-parser-7.2.0.jar.","body":"It’s probably worth double-checking that BasicFontProvider.class is in styled-xml-parser-7.2.0.jar."},{"owner":{"account_id":23495866,"reputation":21,"user_id":17992692,"display_name":"Fezas"},"score":0,"creation_date":1643162594,"post_id":70857737,"comment_id":125265474,"body_markdown":"He is there. I checked. Before the patch, everything worked in the IDE","body":"He is there. I checked. Before the patch, everything worked in the IDE"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643182800,"post_id":70857737,"comment_id":125268857,"body_markdown":"First rename your module-info.java and try to compile correctly your code first...if compilation works than rename back module-info.java and check if all of your dependencies are JPMS (meaning having a module-info.java them self.) if they don&#39;t you can&#39;t go that way...","body":"First rename your module-info.java and try to compile correctly your code first...if compilation works than rename back module-info.java and check if all of your dependencies are JPMS (meaning having a module-info.java them self.) if they don&#39;t you can&#39;t go that way..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643184667,"post_id":70857737,"comment_id":125269408,"body_markdown":"The com.itextpdf:styled-xml-parser is not a JPMS. It&#39;s JDK8 based and is not a multi release jar which means you can&#39;t use it as a module..","body":"The com.itextpdf:styled-xml-parser is not a JPMS. It&#39;s JDK8 based and is not a multi release jar which means you can&#39;t use it as a module.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643209462,"post_id":70857737,"comment_id":125279128,"body_markdown":"@khmarbaise That is not true at all.  Java 8 code can act as a module if it has module-info.  It can even act as an automatic module without the module-info.","body":"@khmarbaise That is not true at all.  Java 8 code can act as a module if it has module-info.  It can even act as an automatic module without the module-info."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643212355,"post_id":70857737,"comment_id":125280457,"body_markdown":"First Java 8 does not support Java Module System at all. The module support has been added in JDK9+. The `module-info.class` can be inside the jar at the root location but that class has to be compiled with JDK9+. If you use an automatic module only the name can be defined via META-INF/MANIFEST.MF entry but will not open/export any kind of things. Furthermore adding a module-info.class will bring problems because those libs are not built with module system in mind which break things.","body":"First Java 8 does not support Java Module System at all. The module support has been added in JDK9+. The <code>module-info.class</code> can be inside the jar at the root location but that class has to be compiled with JDK9+. If you use an automatic module only the name can be defined via META-INF/MANIFEST.MF entry but will not open/export any kind of things. Furthermore adding a module-info.class will bring problems because those libs are not built with module system in mind which break things."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643219740,"post_id":70857737,"comment_id":125283805,"body_markdown":"@khmarbaise You know that Java 9–17 can all load Java 8 classes, right?  And, from [the documentation of ModuleDescriptor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/module/ModuleDescriptor.html): “When an automatic module is instantiated in the Java virtual machine then it reads every unnamed module and is treated as if all packages are exported and open.”","body":"@khmarbaise You know that Java 9–17 can all load Java 8 classes, right?  And, from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/module/ModuleDescriptor.html\" rel=\"nofollow noreferrer\">the documentation of ModuleDescriptor</a>: “When an automatic module is instantiated in the Java virtual machine then it reads every unnamed module and is treated as if all packages are exported and open.”"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643219851,"post_id":70857737,"comment_id":125283860,"body_markdown":"I know that very well that JDK9+ can execute JDK 8 (even lower versions) correctly (depending on which packages are used; some limitations in the meantime) An unnamed module is something different than an automatic module name!!","body":"I know that very well that JDK9+ can execute JDK 8 (even lower versions) correctly (depending on which packages are used; some limitations in the meantime) An unnamed module is something different than an automatic module name!!"}],"answers":[{"tags":[],"owner":{"account_id":23495866,"reputation":21,"user_id":17992692,"display_name":"Fezas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643342038,"creation_date":1643342038,"answer_id":70888634,"question_id":70857737,"body_markdown":"Find a solution elsewhere. Just [JPackageScriptFX][1]. Jmods from javafx copied to C:/jdk/jmods. Then in bat file:\r\n\r\n    set manual_modules=,jdk.crypto.ec,jdk.localedata,javafx.controls,javafx.fxml,javafx.web,java.sql\r\n\r\n\r\n  [1]: https://github.com/dlemmermann/JPackageScriptFX","title":"Adding module-info.java to jar","body":"<p>Find a solution elsewhere. Just <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a>. Jmods from javafx copied to C:/jdk/jmods. Then in bat file:</p>\n<pre><code>set manual_modules=,jdk.crypto.ec,jdk.localedata,javafx.controls,javafx.fxml,javafx.web,java.sql\n</code></pre>\n"}],"owner":{"account_id":23495866,"reputation":21,"user_id":17992692,"display_name":"Fezas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70888634,"answer_count":1,"score":0,"last_activity_date":1643342038,"creation_date":1643160699,"question_id":70857737,"body_markdown":"There is `styled-xml-parser-7.2.0.jar` package and it doesn&#39;t have `module-info.java`. I generate dependencies\r\n\r\n    jdeps --ignore-missing-deps --generate-module-info jars jars/styled-xml-parser-7.2.0.jar\r\n\r\nThen I compile \r\n\r\n    javac --patch-module styled.xml.parser=jars/styled-xml-parser-7.2.0.jar jars/styled.xml.parser/module-info.java\r\n\r\nThen I add `module-info.java` to the `styled-xml-parser-7.2.0.jar` root. However, when I run my `mvn clean install` project, I get:\r\n\r\n    cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\r\n\r\nContents of `module-info.java` for `styled-xml-parser-7.2.0.jar`\r\n\r\n    module styled.xml.parser {\r\n        exports com.itextpdf.styledxmlparser;\r\n        exports com.itextpdf.styledxmlparser.css;\r\n        exports com.itextpdf.styledxmlparser.css.font;\r\n        exports com.itextpdf.styledxmlparser.css.media;\r\n        exports com.itextpdf.styledxmlparser.css.page;\r\n        exports com.itextpdf.styledxmlparser.css.parse;\r\n        exports com.itextpdf.styledxmlparser.css.parse.syntax;\r\n        exports com.itextpdf.styledxmlparser.css.pseudo;\r\n        exports com.itextpdf.styledxmlparser.css.resolve;\r\n        exports com.itextpdf.styledxmlparser.css.resolve.shorthand;\r\n        exports com.itextpdf.styledxmlparser.css.resolve.shorthand.impl;\r\n        exports com.itextpdf.styledxmlparser.css.selector;\r\n        exports com.itextpdf.styledxmlparser.css.selector.item;\r\n        exports com.itextpdf.styledxmlparser.css.util;\r\n        exports com.itextpdf.styledxmlparser.css.validate;\r\n        exports com.itextpdf.styledxmlparser.css.validate.impl.datatype;\r\n        exports com.itextpdf.styledxmlparser.css.validate.impl.declaration;\r\n        exports com.itextpdf.styledxmlparser.exceptions;\r\n        exports com.itextpdf.styledxmlparser.jsoup;\r\n        exports com.itextpdf.styledxmlparser.jsoup.helper;\r\n        exports com.itextpdf.styledxmlparser.jsoup.internal;\r\n        exports com.itextpdf.styledxmlparser.jsoup.nodes;\r\n        exports com.itextpdf.styledxmlparser.jsoup.parser;\r\n        exports com.itextpdf.styledxmlparser.jsoup.safety;\r\n        exports com.itextpdf.styledxmlparser.jsoup.select;\r\n        exports com.itextpdf.styledxmlparser.logs;\r\n        exports com.itextpdf.styledxmlparser.node;\r\n        exports com.itextpdf.styledxmlparser.node.impl.jsoup;\r\n        exports com.itextpdf.styledxmlparser.node.impl.jsoup.node;\r\n        exports com.itextpdf.styledxmlparser.resolver.font;\r\n        exports com.itextpdf.styledxmlparser.resolver.resource;\r\n        exports com.itextpdf.styledxmlparser.util;\r\n    }\r\n\r\nIn my `module-info.java` this module is connected\r\n\r\n    module fezas.telegra {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n        requires javafx.web;\r\n        requires org.controlsfx.controls;\r\n        requires org.apache.commons.io;\r\n        requires java.sql;\r\n        requires html2pdf;\r\n        requires styled.xml.parser;\r\n        requires com.google.zxing;\r\n        requires com.google.zxing.javase;\r\n        requires java.desktop;\r\n    \r\n        opens fezas.telegra to javafx.graphics, javafx.fxml, javafx.base, javafx.web;\r\n        opens fezas.telegra.controllers to javafx.fxml;\r\n        opens fezas.telegra.entity to javafx.base;\r\n        exports fezas.telegra.controllers;\r\n    }\r\nMy POM include\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;styled-xml-parser&lt;/artifactId&gt;\r\n        &lt;version&gt;7.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFull trace\r\n\r\n    [INFO] Error stacktraces are turned on.\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -----------------------&lt; fezas.telegra:telegra &gt;------------------------\r\n    [INFO] Building telegra 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ telegra ---\r\n    [INFO] Deleting C:\\Users\\Fezas\\telegra\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ telegra ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 45 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ telegra ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 60 source files to C:\\Users\\Fezas\\telegra\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\r\n      class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\r\n      class file for com.itextpdf.kernel.pdf.PdfDocument not found\r\n    [INFO] 2 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.008 s\r\n    [INFO] Finished at: 2022-01-26T11:14:53+11:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure: Compilation failure: \r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\r\n    [ERROR]   class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\r\n    [ERROR]   class file for com.itextpdf.kernel.pdf.PdfDocument not found\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    [ERROR] \r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException","title":"Adding module-info.java to jar","body":"<p>There is <code>styled-xml-parser-7.2.0.jar</code> package and it doesn't have <code>module-info.java</code>. I generate dependencies</p>\n<pre><code>jdeps --ignore-missing-deps --generate-module-info jars jars/styled-xml-parser-7.2.0.jar\n</code></pre>\n<p>Then I compile</p>\n<pre><code>javac --patch-module styled.xml.parser=jars/styled-xml-parser-7.2.0.jar jars/styled.xml.parser/module-info.java\n</code></pre>\n<p>Then I add <code>module-info.java</code> to the <code>styled-xml-parser-7.2.0.jar</code> root. However, when I run my <code>mvn clean install</code> project, I get:</p>\n<pre><code>cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\n</code></pre>\n<p>Contents of <code>module-info.java</code> for <code>styled-xml-parser-7.2.0.jar</code></p>\n<pre><code>module styled.xml.parser {\n    exports com.itextpdf.styledxmlparser;\n    exports com.itextpdf.styledxmlparser.css;\n    exports com.itextpdf.styledxmlparser.css.font;\n    exports com.itextpdf.styledxmlparser.css.media;\n    exports com.itextpdf.styledxmlparser.css.page;\n    exports com.itextpdf.styledxmlparser.css.parse;\n    exports com.itextpdf.styledxmlparser.css.parse.syntax;\n    exports com.itextpdf.styledxmlparser.css.pseudo;\n    exports com.itextpdf.styledxmlparser.css.resolve;\n    exports com.itextpdf.styledxmlparser.css.resolve.shorthand;\n    exports com.itextpdf.styledxmlparser.css.resolve.shorthand.impl;\n    exports com.itextpdf.styledxmlparser.css.selector;\n    exports com.itextpdf.styledxmlparser.css.selector.item;\n    exports com.itextpdf.styledxmlparser.css.util;\n    exports com.itextpdf.styledxmlparser.css.validate;\n    exports com.itextpdf.styledxmlparser.css.validate.impl.datatype;\n    exports com.itextpdf.styledxmlparser.css.validate.impl.declaration;\n    exports com.itextpdf.styledxmlparser.exceptions;\n    exports com.itextpdf.styledxmlparser.jsoup;\n    exports com.itextpdf.styledxmlparser.jsoup.helper;\n    exports com.itextpdf.styledxmlparser.jsoup.internal;\n    exports com.itextpdf.styledxmlparser.jsoup.nodes;\n    exports com.itextpdf.styledxmlparser.jsoup.parser;\n    exports com.itextpdf.styledxmlparser.jsoup.safety;\n    exports com.itextpdf.styledxmlparser.jsoup.select;\n    exports com.itextpdf.styledxmlparser.logs;\n    exports com.itextpdf.styledxmlparser.node;\n    exports com.itextpdf.styledxmlparser.node.impl.jsoup;\n    exports com.itextpdf.styledxmlparser.node.impl.jsoup.node;\n    exports com.itextpdf.styledxmlparser.resolver.font;\n    exports com.itextpdf.styledxmlparser.resolver.resource;\n    exports com.itextpdf.styledxmlparser.util;\n}\n</code></pre>\n<p>In my <code>module-info.java</code> this module is connected</p>\n<pre><code>module fezas.telegra {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.web;\n    requires org.controlsfx.controls;\n    requires org.apache.commons.io;\n    requires java.sql;\n    requires html2pdf;\n    requires styled.xml.parser;\n    requires com.google.zxing;\n    requires com.google.zxing.javase;\n    requires java.desktop;\n\n    opens fezas.telegra to javafx.graphics, javafx.fxml, javafx.base, javafx.web;\n    opens fezas.telegra.controllers to javafx.fxml;\n    opens fezas.telegra.entity to javafx.base;\n    exports fezas.telegra.controllers;\n}\n</code></pre>\n<p>My POM include</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;styled-xml-parser&lt;/artifactId&gt;\n    &lt;version&gt;7.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Full trace</p>\n<pre><code>[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------&lt; fezas.telegra:telegra &gt;------------------------\n[INFO] Building telegra 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ telegra ---\n[INFO] Deleting C:\\Users\\Fezas\\telegra\\target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ telegra ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 45 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ telegra ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 60 source files to C:\\Users\\Fezas\\telegra\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\n  class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\n  class file for com.itextpdf.kernel.pdf.PdfDocument not found\n[INFO] 2 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.008 s\n[INFO] Finished at: 2022-01-26T11:14:53+11:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure: Compilation failure: \n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\n[ERROR]   class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\n[ERROR]   class file for com.itextpdf.kernel.pdf.PdfDocument not found\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[ERROR] \n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","nullpointerexception","dispose"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1643341992,"post_id":70888527,"comment_id":125319697,"body_markdown":"You&#39;re shadowing your variables, `loginframe` is declared as both a local variable in the constructor and as an instance field.  Why you&#39;re at it, drop the use of `static`, it&#39;s not helping you and have a look at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) as the `null` layout isn&#39;t helping your either","body":"You&#39;re shadowing your variables, <code>loginframe</code> is declared as both a local variable in the constructor and as an instance field.  Why you&#39;re at it, drop the use of <code>static</code>, it&#39;s not helping you and have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> as the <code>null</code> layout isn&#39;t helping your either"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643341582,"creation_date":1643341582,"answer_id":70888586,"question_id":70888527,"body_markdown":"This line in your main method is your issue `JFrame loginframe = new JFrame (&quot;Login&quot;);`\r\n\r\nYou are assigning the value of `loginframe` to a local variable within the main method, whereas the actionPerformed method is referring to the class variable `loginframe` at the top of your `Login` class.\r\n\r\nBy simply changing this line:\r\n\r\n    JFrame loginframe = new JFrame (&quot;Login&quot;);\r\n\r\nTo be this, you will now be assigning the value to be a class variable and not run into null pointer issues:\r\n\r\n    loginframe = new JFrame (&quot;Login&quot;);\r\n\r\nCaution: Using a static variable like that is not a good idea if you will have multiple instances of the Login object/class.","title":"Dispose(); causing a null pointer exception error in java","body":"<p>This line in your main method is your issue <code>JFrame loginframe = new JFrame (&quot;Login&quot;);</code></p>\n<p>You are assigning the value of <code>loginframe</code> to a local variable within the main method, whereas the actionPerformed method is referring to the class variable <code>loginframe</code> at the top of your <code>Login</code> class.</p>\n<p>By simply changing this line:</p>\n<pre><code>JFrame loginframe = new JFrame (&quot;Login&quot;);\n</code></pre>\n<p>To be this, you will now be assigning the value to be a class variable and not run into null pointer issues:</p>\n<pre><code>loginframe = new JFrame (&quot;Login&quot;);\n</code></pre>\n<p>Caution: Using a static variable like that is not a good idea if you will have multiple instances of the Login object/class.</p>\n"},{"tags":[],"owner":{"account_id":23796592,"reputation":1,"user_id":17807351,"display_name":"Aashiq Umar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643341889,"creation_date":1643341889,"answer_id":70888621,"question_id":70888527,"body_markdown":"When I try to run the code, it gives me this error. So, If I&#39;m correct is adminmain() or usermain() are from different classes. If try importing the classes In to the main class. If you have found the solution please reply with the solution I can learn from it. Thanks.\r\n\r\n    Login.java:29: error: cannot find symbol\r\n        login();\r\n        ^\r\n  symbol:   method login()\r\n  location: class Login\r\nLogin.java:118: error: cannot find symbol\r\n                new adminmain();\r\n                    ^\r\n  symbol:   class adminmain\r\n  location: class Login\r\nLogin.java:134: error: cannot find symbol\r\n                new usermain();\r\n                    ^\r\n  symbol:   class usermain\r\n  location: class Login\r\nLogin.java:142: error: incompatible types: unexpected return value\r\n        return ex;\r\n               ^\r\n4 errors","title":"Dispose(); causing a null pointer exception error in java","body":"<p>When I try to run the code, it gives me this error. So, If I'm correct is adminmain() or usermain() are from different classes. If try importing the classes In to the main class. If you have found the solution please reply with the solution I can learn from it. Thanks.</p>\n<pre><code>Login.java:29: error: cannot find symbol\n    login();\n    ^\n</code></pre>\n<p>symbol:   method login()\nlocation: class Login\nLogin.java:118: error: cannot find symbol\nnew adminmain();\n^\nsymbol:   class adminmain\nlocation: class Login\nLogin.java:134: error: cannot find symbol\nnew usermain();\n^\nsymbol:   class usermain\nlocation: class Login\nLogin.java:142: error: incompatible types: unexpected return value\nreturn ex;\n^\n4 errors</p>\n"}],"owner":{"account_id":24079025,"reputation":49,"user_id":18053913,"display_name":"Luki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70888586,"answer_count":2,"score":1,"last_activity_date":1643341889,"creation_date":1643340858,"question_id":70888527,"body_markdown":"I have created a project with multiple GUI classes. Everything seems to be running fine, however when I try to implement the dispose(); function it provides the following error: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JFrame.dispose()&quot; because &quot;Login.loginframe&quot; is null\r\n\tat Login.actionPerformed(Login.java:123)\r\n\r\nHere is the following code:\r\n\r\n    \r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\tLogin loginframe = new Login();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n\r\n    import java.awt.Frame;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Window;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n\r\n\r\n    public class Login implements ActionListener {\r\n\tprivate static JLabel userlabel , success , logo;\r\n\tprivate static JTextField userText;\r\n\tprivate static JLabel passwordlabel;\r\n\tprivate static JPasswordField passwordtext;\r\n\tprivate static JButton loginbutton , continuebutton;//, continuebutton2;\r\n\tprivate static JFrame loginframe;\r\n\tprivate static JPanel panel;\r\n\t\r\n\t\r\n\t\r\n\r\n\tLogin(){\r\n\t\t\r\n\t\t\r\n\t\tJFrame loginframe = new JFrame (&quot;Login&quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\tloginframe.setSize(300, 300);\r\n\t\tloginframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tloginframe.add(panel);\r\n\t\tloginframe.setLocationRelativeTo(null);\r\n\r\n\t\t\r\n\t\tpanel.setLayout(null);\r\n\t\t\r\n\t\tuserlabel = new JLabel(&quot;User :&quot;);\r\n\t\tuserlabel.setBounds(10, 20, 80, 25);\r\n\t\tpanel.add(userlabel);\r\n\t\t\r\n\t\tuserText = new JTextField();\r\n\t\tuserText.setBounds(100, 20, 165, 25);\r\n\t\tpanel.add(userText);\r\n\t\t\r\n\t\tpasswordlabel = new JLabel (&quot;Password : &quot;);\r\n\t\tpasswordlabel.setBounds(10, 50, 80, 25);\r\n\t\tpanel.add(passwordlabel);\r\n\t\t\r\n\t\tpasswordtext = new JPasswordField ();\r\n\t\tpasswordtext.setBounds(100, 50, 165, 25);\r\n\t\tpanel.add(passwordtext);\r\n\t\t\r\n\t\tlogo = new JLabel();\r\n\t\tlogo.setIcon(new ImageIcon(&quot;emblem.jpg&quot;));\r\n\t\tlogo.setBounds(115, 90, 50, 50);\r\n\t\tpanel.add(logo);\r\n\t\t\r\n\t\t\r\n\t\tloginbutton = new JButton(&quot;Submit&quot;);\r\n\t\tloginbutton.setBounds(100, 200, 80, 25);\r\n\t\tloginbutton.setEnabled(true);\r\n\t\tloginbutton.addActionListener(this);\r\n\t\tpanel.add(loginbutton);\r\n\t\t\r\n\t\tsuccess = new JLabel(&quot;&quot;);\r\n\t\tsuccess.setBounds(85, 130, 150, 80);\r\n\t\tpanel.add(success);\r\n\t\t\r\n\t\t\r\n\t\tloginframe.setVisible(true);\r\n\t\t\r\n\t\tcontinuebutton = new JButton(&quot;Continue&quot;);\r\n\t\tcontinuebutton.setBounds(85, 200, 100, 25);\r\n\t\tcontinuebutton.addActionListener(this);\r\n\t\tcontinuebutton.setVisible(false);\r\n\t\tcontinuebutton.setEnabled(false);\r\n\t\tpanel.add(continuebutton);\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\t\r\n\t\tString user = userText.getText();\r\n\t\tString password = passwordtext.getText();\r\n\t\tSystem.out.println(user + &quot;, &quot; + password);\r\n\t\t\r\n\t\t\r\n\t\tif(user.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;password1&quot;)) {\r\n\t\t\tsuccess.setText(&quot;Log in successful!&quot;);\r\n\t\t\tloginbutton.setVisible(false);\r\n\t\t\tloginbutton.setEnabled(false);\r\n\t\t\tcontinuebutton.setVisible(true);\r\n\t\t\tcontinuebutton.setEnabled(true);\r\n\r\n\t\t\tif(e.getSource()==continuebutton) {\r\n\t\t\t\tuserText.setText(&quot;&quot;);\r\n\t\t\t\tpasswordtext.setText(&quot;&quot;);\r\n\t\t\t\tnew adminmain();\r\n\t\t\t\tloginframe.dispose();\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\tif(user.equals(&quot;user&quot;) &amp;&amp; password.equals(&quot;password&quot;)) {\r\n\t\t\tsuccess.setText(&quot;Log in successful!&quot;);\r\n\t\t\tloginbutton.setVisible(false);\r\n\t\t\tloginbutton.setEnabled(false);\r\n\t\t\tcontinuebutton.setVisible(true);\r\n\t\t\tcontinuebutton.setEnabled(true);\r\n\r\n\t\t\tif(e.getSource()==continuebutton) {\r\n\t\t\t\tuserText.setText(&quot;&quot;);\r\n\t\t\t\tpasswordtext.setText(&quot;&quot;);\r\n\t\t\t\tnew usermain();\r\n\t\t\t\tloginframe.dispose();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t}\r\n\t\r\n}\t\r\n\t\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n","title":"Dispose(); causing a null pointer exception error in java","body":"<p>I have created a project with multiple GUI classes. Everything seems to be running fine, however when I try to implement the dispose(); function it provides the following error: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JFrame.dispose()&quot; because &quot;Login.loginframe&quot; is null\nat Login.actionPerformed(Login.java:123)</p>\n<p>Here is the following code:</p>\n<p>public class Main {</p>\n<pre><code>public static void main(String[] args) {\n\n    Login loginframe = new Login();\n    \n    \n    \n    \n\n}\n</code></pre>\n<p>}</p>\n<pre><code>import java.awt.Frame;\nimport java.awt.GridLayout;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\n\npublic class Login implements ActionListener {\nprivate static JLabel userlabel , success , logo;\nprivate static JTextField userText;\nprivate static JLabel passwordlabel;\nprivate static JPasswordField passwordtext;\nprivate static JButton loginbutton , continuebutton;//, continuebutton2;\nprivate static JFrame loginframe;\nprivate static JPanel panel;\n\n\n\n\nLogin(){\n    \n    \n    JFrame loginframe = new JFrame (&quot;Login&quot;);\n    JPanel panel = new JPanel();\n    loginframe.setSize(300, 300);\n    loginframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    loginframe.add(panel);\n    loginframe.setLocationRelativeTo(null);\n\n    \n    panel.setLayout(null);\n    \n    userlabel = new JLabel(&quot;User :&quot;);\n    userlabel.setBounds(10, 20, 80, 25);\n    panel.add(userlabel);\n    \n    userText = new JTextField();\n    userText.setBounds(100, 20, 165, 25);\n    panel.add(userText);\n    \n    passwordlabel = new JLabel (&quot;Password : &quot;);\n    passwordlabel.setBounds(10, 50, 80, 25);\n    panel.add(passwordlabel);\n    \n    passwordtext = new JPasswordField ();\n    passwordtext.setBounds(100, 50, 165, 25);\n    panel.add(passwordtext);\n    \n    logo = new JLabel();\n    logo.setIcon(new ImageIcon(&quot;emblem.jpg&quot;));\n    logo.setBounds(115, 90, 50, 50);\n    panel.add(logo);\n    \n    \n    loginbutton = new JButton(&quot;Submit&quot;);\n    loginbutton.setBounds(100, 200, 80, 25);\n    loginbutton.setEnabled(true);\n    loginbutton.addActionListener(this);\n    panel.add(loginbutton);\n    \n    success = new JLabel(&quot;&quot;);\n    success.setBounds(85, 130, 150, 80);\n    panel.add(success);\n    \n    \n    loginframe.setVisible(true);\n    \n    continuebutton = new JButton(&quot;Continue&quot;);\n    continuebutton.setBounds(85, 200, 100, 25);\n    continuebutton.addActionListener(this);\n    continuebutton.setVisible(false);\n    continuebutton.setEnabled(false);\n    panel.add(continuebutton);\n    \n\n    \n}\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic void actionPerformed(ActionEvent e) {\n    \n    \n    String user = userText.getText();\n    String password = passwordtext.getText();\n    System.out.println(user + &quot;, &quot; + password);\n    \n    \n    if(user.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;password1&quot;)) {\n        success.setText(&quot;Log in successful!&quot;);\n        loginbutton.setVisible(false);\n        loginbutton.setEnabled(false);\n        continuebutton.setVisible(true);\n        continuebutton.setEnabled(true);\n\n        if(e.getSource()==continuebutton) {\n            userText.setText(&quot;&quot;);\n            passwordtext.setText(&quot;&quot;);\n            new adminmain();\n            loginframe.dispose();\n            \n    }\n        }\n    \n    if(user.equals(&quot;user&quot;) &amp;&amp; password.equals(&quot;password&quot;)) {\n        success.setText(&quot;Log in successful!&quot;);\n        loginbutton.setVisible(false);\n        loginbutton.setEnabled(false);\n        continuebutton.setVisible(true);\n        continuebutton.setEnabled(true);\n\n        if(e.getSource()==continuebutton) {\n            userText.setText(&quot;&quot;);\n            passwordtext.setText(&quot;&quot;);\n            new usermain();\n            loginframe.dispose();\n            \n        }\n        \n    }\n    \n    \n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays","list","game-engine"],"comments":[{"owner":{"account_id":3058076,"reputation":1177,"user_id":2591316,"accept_rate":100,"display_name":"mariuss"},"score":0,"creation_date":1643099451,"post_id":70845497,"comment_id":125243360,"body_markdown":"if you want to use a List in multiple methods you should declare it as static member of the Main class","body":"if you want to use a List in multiple methods you should declare it as static member of the Main class"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1643102312,"post_id":70845497,"comment_id":125244471,"body_markdown":"**Warning:** you are using a *raw type*: `List` takes a *type argument*, but you have provided none within your `checkWinner()` method. You should replace all occurrences of `List` by `List&lt;Integer&gt;`.","body":"<b>Warning:</b> you are using a <i>raw type</i>: <code>List</code> takes a <i>type argument</i>, but you have provided none within your <code>checkWinner()</code> method. You should replace all occurrences of <code>List</code> by <code>List&lt;Integer&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":11829005,"reputation":81,"user_id":8656239,"display_name":"dcnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100819,"creation_date":1643100819,"answer_id":70845803,"question_id":70845497,"body_markdown":"You create your ArrayList within the main method. Therefore you cannot access those variables outside of the main method.\r\nYou should declare them as private class variables like this:\r\n\r\n    public class Main {\r\n    \r\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\r\n\r\n        public static void main(String[] args) {\r\n            // Do sth with playerPositions and CPUpositions\r\n        }\r\n\r\n","title":"Use List class in Java","body":"<p>You create your ArrayList within the main method. Therefore you cannot access those variables outside of the main method.\nYou should declare them as private class variables like this:</p>\n<pre><code>public class Main {\n\n    List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        // Do sth with playerPositions and CPUpositions\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23719721,"reputation":1,"user_id":17740429,"display_name":"Abhimanyu Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643341202,"creation_date":1643100983,"answer_id":70845839,"question_id":70845497,"body_markdown":"Create a static List of List, which has topRow, botRow etc. in it\r\n\r\n    List&lt;List&gt; winningList;\r\n\r\nand check if playerPositions contains any of the List in winningList or CPUpositions contains any of the list part of winningList.\r\n\r\nWhichever has the list has won.","title":"Use List class in Java","body":"<p>Create a static List of List, which has topRow, botRow etc. in it</p>\n<pre><code>List&lt;List&gt; winningList;\n</code></pre>\n<p>and check if playerPositions contains any of the List in winningList or CPUpositions contains any of the list part of winningList.</p>\n<p>Whichever has the list has won.</p>\n"},{"tags":[],"owner":{"account_id":19357099,"reputation":41,"user_id":16293155,"display_name":"twynb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643101155,"creation_date":1643101155,"answer_id":70845876,"question_id":70845497,"body_markdown":"There&#39;s multiple ways to go about this:\r\n\r\na) create playerPositions and CPUpositions as static  class variables - basically what user dcnis said, except you&#39;ll need to add the &quot;static&quot; keyword to be able to use them without instanciating a &quot;Main&quot; object:\r\n\r\n    public class Main {\r\n\r\n    static List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\r\n    static List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        // Do sth with playerPositions and CPUpositions\r\n    }\r\n\r\nAlternatively, you can pass the lists down to your functions as an argument:\r\n\r\n    public static void main(String[] args){\r\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; CPUPositions = new ArrayList&lt;&gt;();\r\n        checkWinner(playerPositions, CPUPositions);\r\n    }\r\n    public static void checkWinner(List&lt;Integer&gt; playerPositions, List&lt;Integer&gt; CPUPositions){\r\n        //do cool stuff with those lists\r\n    }\r\n","title":"Use List class in Java","body":"<p>There's multiple ways to go about this:</p>\n<p>a) create playerPositions and CPUpositions as static  class variables - basically what user dcnis said, except you'll need to add the &quot;static&quot; keyword to be able to use them without instanciating a &quot;Main&quot; object:</p>\n<pre><code>public class Main {\n\nstatic List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\nstatic List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\n\npublic static void main(String[] args) {\n    // Do sth with playerPositions and CPUpositions\n}\n</code></pre>\n<p>Alternatively, you can pass the lists down to your functions as an argument:</p>\n<pre><code>public static void main(String[] args){\n    List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; CPUPositions = new ArrayList&lt;&gt;();\n    checkWinner(playerPositions, CPUPositions);\n}\npublic static void checkWinner(List&lt;Integer&gt; playerPositions, List&lt;Integer&gt; CPUPositions){\n    //do cool stuff with those lists\n}\n</code></pre>\n"}],"owner":{"account_id":23014722,"reputation":51,"user_id":17136683,"display_name":"lily"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1643341202,"creation_date":1643099312,"question_id":70845497,"body_markdown":"I want to create game tic-tac-toe. I use the `List` class to determine a winner. I use `List` in several methods. How do I create this class in main method so that I can use `List` other method later?\r\n\r\nI have attached my code so that you understand my question.\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;(); //создадим список для определения победителя\r\n        List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\r\n\r\n        //создать двумерный массив для отрисовки игры\r\n        char[][] gameBoard = new char[][] {\r\n            { &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n            { &#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n            { &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n            { &#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n            { &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}\r\n        };\r\n        // printGameBoard(gameBoard);\r\n    }\r\n\r\n    public static String checkWinner() {\r\n        List toprow = Arrays.asList(1, 2, 3);\r\n        List midrow = Arrays.asList(4, 5, 6);\r\n        List botrow = Arrays.asList(7, 8, 9);\r\n        List col1 = Arrays.asList(1, 4, 7);\r\n        List col2 = Arrays.asList(2, 5, 8);\r\n        List col3 = Arrays.asList(3, 6, 9);\r\n        List cross1 = Arrays.asList(1, 5, 9);\r\n        List cross2 = Arrays.asList(3, 5, 7);\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```","title":"Use List class in Java","body":"<p>I want to create game tic-tac-toe. I use the <code>List</code> class to determine a winner. I use <code>List</code> in several methods. How do I create this class in main method so that I can use <code>List</code> other method later?</p>\n<p>I have attached my code so that you understand my question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;(); //создадим список для определения победителя\n        List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\n\n        //создать двумерный массив для отрисовки игры\n        char[][] gameBoard = new char[][] {\n            { ' ', '|', ' ', '|', ' '},\n            { '-', '+', '-', '+', '-'},\n            { ' ', '|', ' ', '|', ' '},\n            { '-', '+', '-', '+', '-'},\n            { ' ', '|', ' ', '|', ' '}\n        };\n        // printGameBoard(gameBoard);\n    }\n\n    public static String checkWinner() {\n        List toprow = Arrays.asList(1, 2, 3);\n        List midrow = Arrays.asList(4, 5, 6);\n        List botrow = Arrays.asList(7, 8, 9);\n        List col1 = Arrays.asList(1, 4, 7);\n        List col2 = Arrays.asList(2, 5, 8);\n        List col3 = Arrays.asList(3, 6, 9);\n        List cross1 = Arrays.asList(1, 5, 9);\n        List cross2 = Arrays.asList(3, 5, 7);\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","arraylist"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643305839,"post_id":70883265,"comment_id":125310724,"body_markdown":"In one, you&#39;re getting the original value of the double, in the other you&#39;re converting it to a string and then converting it back to a double.  This should be fine for numbers with relatively low precision, but if there&#39;s high precision you&#39;re going to run the risk of getting some floating point errors.  For floating point numbers, you should avoid type conversion if at all possible.","body":"In one, you&#39;re getting the original value of the double, in the other you&#39;re converting it to a string and then converting it back to a double.  This should be fine for numbers with relatively low precision, but if there&#39;s high precision you&#39;re going to run the risk of getting some floating point errors.  For floating point numbers, you should avoid type conversion if at all possible."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643340988,"creation_date":1643305953,"answer_id":70883418,"question_id":70883265,"body_markdown":"Please, see the two mentioned ways of getting the `Double` item:\r\n\r\n```java\r\nfinal ArrayList&lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\r\n\r\n// Way #1. Getting the Double item from the `List&lt;Double&gt;`\r\n//   without performing any conversions.\r\nfinal int i = 0;\r\nfinal Double x = axis_x.get(i);\r\n\r\n// Way #2. Getting the Double item from the `List&lt;Double&gt;`\r\n//   with performing two redundant conversions.\r\nfinal Double x =\r\n    // `String =&gt; Double` conversion.\r\n    Double.parseDouble(\r\n        // `Double =&gt; String` conversion.\r\n        axis_x.get(i).toString()\r\n    );\r\n```\r\n\r\nThe way #1 **should be used** to get the item directly, i.e. without performing any conversions.\r\n\r\nThe way #2 uses two redundant conversions: `Double =&gt; String` and `String =&gt; Double`.  \r\nTherefore, this way should be avoided.","title":"Is there a difference between Double.parseDouble(list.get(i).toString()) and list.get(i) if list is an arraylist&lt;Double&gt;","body":"<p>Please, see the two mentioned ways of getting the <code>Double</code> item:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ArrayList&lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\n\n// Way #1. Getting the Double item from the `List&lt;Double&gt;`\n//   without performing any conversions.\nfinal int i = 0;\nfinal Double x = axis_x.get(i);\n\n// Way #2. Getting the Double item from the `List&lt;Double&gt;`\n//   with performing two redundant conversions.\nfinal Double x =\n    // `String =&gt; Double` conversion.\n    Double.parseDouble(\n        // `Double =&gt; String` conversion.\n        axis_x.get(i).toString()\n    );\n</code></pre>\n<p>The way #1 <strong>should be used</strong> to get the item directly, i.e. without performing any conversions.</p>\n<p>The way #2 uses two redundant conversions: <code>Double =&gt; String</code> and <code>String =&gt; Double</code>.<br />\nTherefore, this way should be avoided.</p>\n"},{"tags":[],"owner":{"account_id":21792039,"reputation":81,"user_id":16092119,"display_name":"Ehsan Pagheh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643306954,"creation_date":1643306954,"answer_id":70883630,"question_id":70883265,"body_markdown":"#1: `final Double x = axis_x.get(i);` \r\n\r\nDouble &lt;= Double\r\n\r\n\r\n#2: `final Double x = parseDouble(axis_x.get(i).toString());`\r\n\r\nDouble &lt;= String &lt;= Double conversion.\r\n\r\n\r\nway 2 is not the smart and shorter way.\r\nalso the way 1 is the exact value.","title":"Is there a difference between Double.parseDouble(list.get(i).toString()) and list.get(i) if list is an arraylist&lt;Double&gt;","body":"<p>#1: <code>final Double x = axis_x.get(i);</code></p>\n<p>Double &lt;= Double</p>\n<p>#2: <code>final Double x = parseDouble(axis_x.get(i).toString());</code></p>\n<p>Double &lt;= String &lt;= Double conversion.</p>\n<p>way 2 is not the smart and shorter way.\nalso the way 1 is the exact value.</p>\n"}],"owner":{"account_id":2659802,"reputation":544,"user_id":2299775,"display_name":"Andy McRae"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70883418,"answer_count":2,"score":0,"last_activity_date":1643340988,"creation_date":1643305330,"question_id":70883265,"body_markdown":"I have two ArrayLists of doubles created like this:\r\n\r\n```java\r\nArrayList &lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\r\nArrayList &lt;Double&gt; axis_y = new ArrayList&lt;Double&gt;();\r\n```\r\n\r\nNow, I have seen a difference in the calculations when I use (because I wanted to simplify the calculations)\r\n\r\n```java\r\nfor(int j=0; j&lt;axis_x.size();j++) {\r\n    double ax_x = Double.parseDouble(axis_x.get(j).toString()) + Math.abs(left_scale);\r\n    axis_x.set(j,ax_x);//axis_y.get(i);\r\n    double ax_y=0.0f;\r\n    if(Double.parseDouble(axis_y.get(j).toString()) &lt; 0.0f) {\r\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString())) + Math.abs(up_scale);\r\n    }else if(Double.parseDouble(axis_y.get(j).toString()) &gt; 0.0f) {\r\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString()) - Math.abs(up_scale));\r\n    }else if(Double.parseDouble(axis_y.get(j).toString()) == 0.0f) {\r\n        ax_y = Math.abs(up_scale);\r\n    }\r\n    axis_y.set(j,ax_y);\r\n}\r\n```\r\n\r\nVS\r\n\r\n```\r\nfor(int j=0; j&lt;axis_x.size();j++) {\r\n    double ax_x = axis_x.get(j) + Math.abs(left_scale);\r\n    axis_x.set(j,ax_x);\r\n    double ax_y=0.0f;\r\n    if(axis_y.get(j) &lt; 0.0f) {\r\n        ax_y = Math.abs(axis_y.get(j)) + Math.abs(up_scale);\r\n    }else if(axis_y.get(j) &gt; 0.0f) {\r\n        ax_y = Math.abs(axis_y.get(j)) - Math.abs(up_scale);\r\n    }else if(axis_y.get(j) == 0.0f) {\r\n        ax_y = Math.abs(up_scale);\r\n    }\r\n    axis_y.set(j,ax_y);\r\n}\r\n```\r\n\r\nKnowing that `axis_y.get(i)` should be a double, is `Double.parseDouble(axis_y.get(j).toString())` not the same as `axis_y.get(i)`? Am I missing something here?","title":"Is there a difference between Double.parseDouble(list.get(i).toString()) and list.get(i) if list is an arraylist&lt;Double&gt;","body":"<p>I have two ArrayLists of doubles created like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList &lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\nArrayList &lt;Double&gt; axis_y = new ArrayList&lt;Double&gt;();\n</code></pre>\n<p>Now, I have seen a difference in the calculations when I use (because I wanted to simplify the calculations)</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int j=0; j&lt;axis_x.size();j++) {\n    double ax_x = Double.parseDouble(axis_x.get(j).toString()) + Math.abs(left_scale);\n    axis_x.set(j,ax_x);//axis_y.get(i);\n    double ax_y=0.0f;\n    if(Double.parseDouble(axis_y.get(j).toString()) &lt; 0.0f) {\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString())) + Math.abs(up_scale);\n    }else if(Double.parseDouble(axis_y.get(j).toString()) &gt; 0.0f) {\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString()) - Math.abs(up_scale));\n    }else if(Double.parseDouble(axis_y.get(j).toString()) == 0.0f) {\n        ax_y = Math.abs(up_scale);\n    }\n    axis_y.set(j,ax_y);\n}\n</code></pre>\n<p>VS</p>\n<pre><code>for(int j=0; j&lt;axis_x.size();j++) {\n    double ax_x = axis_x.get(j) + Math.abs(left_scale);\n    axis_x.set(j,ax_x);\n    double ax_y=0.0f;\n    if(axis_y.get(j) &lt; 0.0f) {\n        ax_y = Math.abs(axis_y.get(j)) + Math.abs(up_scale);\n    }else if(axis_y.get(j) &gt; 0.0f) {\n        ax_y = Math.abs(axis_y.get(j)) - Math.abs(up_scale);\n    }else if(axis_y.get(j) == 0.0f) {\n        ax_y = Math.abs(up_scale);\n    }\n    axis_y.set(j,ax_y);\n}\n</code></pre>\n<p>Knowing that <code>axis_y.get(i)</code> should be a double, is <code>Double.parseDouble(axis_y.get(j).toString())</code> not the same as <code>axis_y.get(i)</code>? Am I missing something here?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1643352469,"post_id":70888513,"comment_id":125321522,"body_markdown":"Maybe this might help .https://stackoverflow.com/questions/51688924/spring-kafka-the-class-is-not-in-the-trusted-packages","body":"Maybe this might help .<a href=\"https://stackoverflow.com/questions/51688924/spring-kafka-the-class-is-not-in-the-trusted-packages\" title=\"spring kafka the class is not in the trusted packages\">stackoverflow.com/questions/51688924/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643383027,"post_id":70888513,"comment_id":125332506,"body_markdown":"Is there a specific reason you&#39;re using StringDeserializer rather than JsonDeserializer?","body":"Is there a specific reason you&#39;re using StringDeserializer rather than JsonDeserializer?"},{"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"score":0,"creation_date":1643435624,"post_id":70888513,"comment_id":125343841,"body_markdown":"Hi @OneCricketeer, no specific reason, and I had changed to JsonDeserializer, it also works.","body":"Hi @OneCricketeer, no specific reason, and I had changed to JsonDeserializer, it also works."},{"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"score":0,"creation_date":1643435840,"post_id":70888513,"comment_id":125343873,"body_markdown":"Hi @Umeshwaran, the link that you had mentioned above help me to solve my problem. Thank you!","body":"Hi @Umeshwaran, the link that you had mentioned above help me to solve my problem. Thank you!"},{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1643481237,"post_id":70888513,"comment_id":125353460,"body_markdown":"@Theara Glad it helped","body":"@Theara Glad it helped"}],"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643340695,"creation_date":1643340695,"question_id":70888513,"body_markdown":"I&#39;m a newbie with Kafka I have created 2 projects, the first project as a Producer, and the second as a Consumer.\r\n\r\n**Note**\r\nIn both projects, if I create a **Model** or **DTO** under the same package (**example: com.stackoverflow.model**), it works, but it doesn&#39;t work if I created a model under a different package name as below:\r\n- The producer defines the package **com.stackoverflow.model**\r\n- The consumer defines the package **com.stackoverflow.dto**\r\n\r\n**Error logs:**\r\n\r\n```\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition txn-hub-master-0 at offset 4. If needed, please seek past the record to continue consumption.\r\nCaused by: java.lang.IllegalArgumentException: The class &#39;com.stackoverflow.dto.Demo&#39; is not in the trusted packages: [java.util, java.lang, com.stackoverflow.mode, com.stackoverflow.mode.model.*]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\r\n\tat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:126) ~[spring-kafka-2.7.3.jar:2.7.3]\r\n\tat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:100) ~[spring-kafka-2.7.3.jar:2.7.3]\r\n\r\n```\r\n\r\nKafkaConsumerConfig Class\r\n```\r\npublic Map&lt;String, Object&gt; propsStringObjectMap() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n        return props;\r\n    }\r\n```\r\n```\r\n@Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = this.propsStringObjectMap();\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,  StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n``` \r\n```\r\n  @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\r\n    kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n```\r\nKafkaProducerConfig Class\r\n```\r\npublic Map&lt;String, Object&gt; propsStringObjectMap () {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return props;\r\n    }\r\n```\r\n```\r\n@Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(this.propsStringObjectMap());\r\n    }\r\n```\r\n```\r\n@Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n```","title":"Spring boot Kafka Consumer Error deserializing key/value","body":"<p>I'm a newbie with Kafka I have created 2 projects, the first project as a Producer, and the second as a Consumer.</p>\n<p><strong>Note</strong>\nIn both projects, if I create a <strong>Model</strong> or <strong>DTO</strong> under the same package (<strong>example: com.stackoverflow.model</strong>), it works, but it doesn't work if I created a model under a different package name as below:</p>\n<ul>\n<li>The producer defines the package <strong>com.stackoverflow.model</strong></li>\n<li>The consumer defines the package <strong>com.stackoverflow.dto</strong></li>\n</ul>\n<p><strong>Error logs:</strong></p>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition txn-hub-master-0 at offset 4. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.IllegalArgumentException: The class 'com.stackoverflow.dto.Demo' is not in the trusted packages: [java.util, java.lang, com.stackoverflow.mode, com.stackoverflow.mode.model.*]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:126) ~[spring-kafka-2.7.3.jar:2.7.3]\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:100) ~[spring-kafka-2.7.3.jar:2.7.3]\n\n</code></pre>\n<p>KafkaConsumerConfig Class</p>\n<pre><code>public Map&lt;String, Object&gt; propsStringObjectMap() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\n        return props;\n    }\n</code></pre>\n<pre><code>@Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = this.propsStringObjectMap();\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,  StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n</code></pre>\n<pre><code>  @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\n    kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n</code></pre>\n<p>KafkaProducerConfig Class</p>\n<pre><code>public Map&lt;String, Object&gt; propsStringObjectMap () {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return props;\n    }\n</code></pre>\n<pre><code>@Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(this.propsStringObjectMap());\n    }\n</code></pre>\n<pre><code>@Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","rocksdb","rocksdb-java"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643340606,"creation_date":1552842408,"answer_id":55209665,"question_id":55119443,"body_markdown":"The window size does not determine your storage requirement, but the join&#39;s grace period. To handle out-of-order records, data is stored longer than the window size. In newer version, it&#39;s required to always specify the grace period via `JoinWindows. ofTimeDifferenceAndGrace(...)`. In older versions, you can set grace period via `JoinWindows.of(...).grace(...)` -- if not set, it defaults to 24 hours.\r\n\r\nThe config `WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG` configures how long data is store in the cluster. Thus, you might want to reduce it, too, but it does not help to reduce client side storage requirements.","title":"Kafka kstream-kstream joins with sliding window memory usage grows over the time till OOM","body":"<p>The window size does not determine your storage requirement, but the join's grace period. To handle out-of-order records, data is stored longer than the window size. In newer version, it's required to always specify the grace period via <code>JoinWindows. ofTimeDifferenceAndGrace(...)</code>. In older versions, you can set grace period via <code>JoinWindows.of(...).grace(...)</code> -- if not set, it defaults to 24 hours.</p>\n<p>The config <code>WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG</code> configures how long data is store in the cluster. Thus, you might want to reduce it, too, but it does not help to reduce client side storage requirements.</p>\n"}],"owner":{"account_id":13613075,"reputation":129,"user_id":9819900,"display_name":"kambo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55209665,"answer_count":1,"score":2,"last_activity_date":1643340606,"creation_date":1552387088,"question_id":55119443,"body_markdown":"I&#39;m having a problem using kstream joins. What i do is from one topic i seperate 3 different types of messages to new streams. \r\nThen do one innerjoin with two of the streams which creates another stream, finally i do a last leftjoin with the new stream and the last remaining stream.\r\n\r\nThe joins have a window time of 30 seconds.\r\n\r\nThis is done to filter out some of the messages which are overridden by others.\r\n\r\nIm running this application on kubernetes and the disk space for the pods are growing indefinitely until the pod crashes. \r\n\r\nI&#39;ve realized that this is because of the joins store data locally in the tmp/kafka-streams directory.\r\n\r\nThe directories are called:\r\nKSTREAM-JOINTHIS...\r\nKSTREAM-OUTEROTHER..\r\n\r\nWhich stores sst files from rocksDb and these grow indefinitely. \r\n\r\nMy understanding is since im using a window time of 30 seconds these should be flushed out after the certain time but is not. \r\n\r\nI also changed the WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG to 10 mins to see if that makes a change which is not the case.\r\n\r\nI need to understand how this can be changed.\r\n\r\n\r\n","title":"Kafka kstream-kstream joins with sliding window memory usage grows over the time till OOM","body":"<p>I'm having a problem using kstream joins. What i do is from one topic i seperate 3 different types of messages to new streams. \nThen do one innerjoin with two of the streams which creates another stream, finally i do a last leftjoin with the new stream and the last remaining stream.</p>\n\n<p>The joins have a window time of 30 seconds.</p>\n\n<p>This is done to filter out some of the messages which are overridden by others.</p>\n\n<p>Im running this application on kubernetes and the disk space for the pods are growing indefinitely until the pod crashes. </p>\n\n<p>I've realized that this is because of the joins store data locally in the tmp/kafka-streams directory.</p>\n\n<p>The directories are called:\nKSTREAM-JOINTHIS...\nKSTREAM-OUTEROTHER..</p>\n\n<p>Which stores sst files from rocksDb and these grow indefinitely. </p>\n\n<p>My understanding is since im using a window time of 30 seconds these should be flushed out after the certain time but is not. </p>\n\n<p>I also changed the WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG to 10 mins to see if that makes a change which is not the case.</p>\n\n<p>I need to understand how this can be changed.</p>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":291102,"reputation":597,"user_id":593045,"display_name":"BitLauncher"},"score":2,"creation_date":1642629354,"post_id":70778117,"comment_id":125125365,"body_markdown":"What does not work? I guess, as [Java&#39;s doc of Math.random()](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#random--) states, it is a static method. AFAIK static methods cannot be mocked at all - and are bad coding style anyway. Better use an instance of Math.Random() - or even decouple the software from Math.random() or Random() by using an own interface.","body":"What does not work? I guess, as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#random--\" rel=\"nofollow noreferrer\">Java&#39;s doc of Math.random()</a> states, it is a static method. AFAIK static methods cannot be mocked at all - and are bad coding style anyway. Better use an instance of Math.Random() - or even decouple the software from Math.random() or Random() by using an own interface."},{"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"score":1,"creation_date":1642636382,"post_id":70778117,"comment_id":125127175,"body_markdown":"@BitLauncher thank you I used Random() and now is working!","body":"@BitLauncher thank you I used Random() and now is working!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1642661088,"post_id":70778117,"comment_id":125131293,"body_markdown":"FYI, you can mock static methods if you use additional tools like Mockito, PowerMock, Sarek. The latter even supports mocking JRE bootstrap classes. But if you can avoid mocking static methods, I agree it is always better. BTW, a `GroovyMock` can mock static methods, but only when such a method is called by a Groovy class. If the code under test is Java or another non-Groovy language, the mock behaves just like a normal Spock mock, as is documented in the Spock manual. So inflationary use of Groovy mocks does not help you there.","body":"FYI, you can mock static methods if you use additional tools like Mockito, PowerMock, Sarek. The latter even supports mocking JRE bootstrap classes. But if you can avoid mocking static methods, I agree it is always better. BTW, a <code>GroovyMock</code> can mock static methods, but only when such a method is called by a Groovy class. If the code under test is Java or another non-Groovy language, the mock behaves just like a normal Spock mock, as is documented in the Spock manual. So inflationary use of Groovy mocks does not help you there."}],"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643340538,"creation_date":1642628502,"question_id":70778117,"body_markdown":"I am trying to mock the random method of the class math. I already tried using\r\n\r\n```groovy\r\ndef m = GrovyMock(Math)\r\nm.random() &gt;&gt; 0.995\r\n```\r\nbut it doesn&#39;t work and nothing is mocked. Does anyone knows a good solution?","title":"Mocking Math.random() using Spock framework","body":"<p>I am trying to mock the random method of the class math. I already tried using</p>\n<pre><code>def m = GrovyMock(Math)\nm.random() &gt;&gt; 0.995\n</code></pre>\n<p>but it doesn't work and nothing is mocked. Does anyone knows a good solution?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643270073,"creation_date":1643270073,"answer_id":70875030,"question_id":70874990,"body_markdown":"&gt; &quot;Settings/Preferences | Editor | General | Smart Keys --&gt; Use &quot;CamelHumps&quot; words&quot;\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/115000132804-Navigating-through-camelCasedWords-with-the-Ctrl-key","title":"How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA?","body":"<blockquote>\n<p>&quot;Settings/Preferences | Editor | General | Smart Keys --&gt; Use &quot;CamelHumps&quot; words&quot;</p>\n</blockquote>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000132804-Navigating-through-camelCasedWords-with-the-Ctrl-key\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000132804-Navigating-through-camelCasedWords-with-the-Ctrl-key</a></p>\n"}],"owner":{"account_id":24069093,"reputation":55,"user_id":18045244,"display_name":"user18045244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643339239,"creation_date":1643269853,"question_id":70874990,"body_markdown":"How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA? When using IntelliJ and there is the word `oneTwoThree`, If you press the right arrow key when placing the cursor in front of `o`, I want to position the cursor at `T` rather than at `e`.\r\n\r\nI&#39;m wondering how can I move to Pascal notation.","title":"How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA?","body":"<p>How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA? When using IntelliJ and there is the word <code>oneTwoThree</code>, If you press the right arrow key when placing the cursor in front of <code>o</code>, I want to position the cursor at <code>T</code> rather than at <code>e</code>.</p>\n<p>I'm wondering how can I move to Pascal notation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":0,"creation_date":1643338716,"post_id":70888294,"comment_id":125319170,"body_markdown":"There is something in your input file that is not an int.","body":"There is something in your input file that is not an int."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643338659,"creation_date":1643338659,"answer_id":70888323,"question_id":70888294,"body_markdown":"I would change your code to\r\n\r\n    while (reading.hasNextLine()){\r\n        String line = reading.nextLine ();\r\n        try{\r\n            Integer data= Integer.valueOf(line);\r\n            inputFileData.add(data);\r\n        }\r\n        catch (NumberFormatException ex){\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis will allow you to read your file even if it has blanks lines or other non-integer junk","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p>I would change your code to</p>\n<pre><code>while (reading.hasNextLine()){\n    String line = reading.nextLine ();\n    try{\n        Integer data= Integer.valueOf(line);\n        inputFileData.add(data);\n    }\n    catch (NumberFormatException ex){\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>This will allow you to read your file even if it has blanks lines or other non-integer junk</p>\n"},{"tags":[],"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643339199,"creation_date":1643338905,"answer_id":70888352,"question_id":70888294,"body_markdown":"**Problem:** \r\n\r\nHere : `int data = reading.nextInt();`\r\n\r\nYou are trying to get an Integer from the file but a file may contain characters and not just integers.\r\n\r\n**Solution:**\r\n\r\nTo make sure you read only integer from the file, you need to catch an expection if the file contains a non desirable input.\r\n\r\nChange this line :\r\n`int data = reading.nextInt();`\r\n\r\nTo:\r\n```\r\ntry {\r\n    int data = reading.nextInt();\r\ncatch(InputMismatchException e) {\r\n    //Your code for handing exception.\r\n}","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p><strong>Problem:</strong></p>\n<p>Here : <code>int data = reading.nextInt();</code></p>\n<p>You are trying to get an Integer from the file but a file may contain characters and not just integers.</p>\n<p><strong>Solution:</strong></p>\n<p>To make sure you read only integer from the file, you need to catch an expection if the file contains a non desirable input.</p>\n<p>Change this line :\n<code>int data = reading.nextInt();</code></p>\n<p>To:</p>\n<pre><code>try {\n    int data = reading.nextInt();\ncatch(InputMismatchException e) {\n    //Your code for handing exception.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643339022,"creation_date":1643339022,"answer_id":70888363,"question_id":70888294,"body_markdown":"Refer the [official docs][1]:\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()\r\n&gt;InputMismatchException - if the next token does not match the Integer regular expression, or is out of range\r\n\r\nSo either ensure your input is a legal int value or add the try/catch clause.","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p>Refer the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">official docs</a>:</p>\n<blockquote>\n<p>InputMismatchException - if the next token does not match the Integer regular expression, or is out of range</p>\n</blockquote>\n<p>So either ensure your input is a legal int value or add the try/catch clause.</p>\n"}],"owner":{"account_id":24077223,"reputation":1,"user_id":18052365,"display_name":"airstriker108"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1643339199,"creation_date":1643338384,"question_id":70888294,"body_markdown":"I can&#39;t exactly figure out what the issue is. I think it has to do with the array list but I&#39;m not quite sure how to fix this. I&#39;ve tried to instead of returning the array list, add to a new array list created in the main function but that didn&#39;t work. The error I keep getting is:\r\n\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\r\n        at fileAnalyze.inputFileList(fileAnalyze.java:18)\r\n\r\n        at fileAnalyze.main(fileAnalyze.java:6)\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class fileAnalyze {\r\n    public static void main(String[] args){\r\n        ArrayList&lt;Integer&gt; inputFileInfo = inputFileList(&quot;inputFile.txt&quot;);\r\n        int count = numberAmount(inputFileInfo), small = inputFileInfo.get(argmin(inputFileInfo)),\r\n        big = inputFileInfo.get(argmax(inputFileInfo)), theAverage = average(inputFileInfo);\r\n        \r\n        fileCreate(count, small, big, theAverage);\r\n    }\r\n\r\n    private static ArrayList &lt;Integer&gt; inputFileList(String n){\r\n        Scanner reading = new Scanner(n);\r\n        ArrayList&lt;Integer&gt; inputFileData = new ArrayList&lt;Integer&gt;();\r\n            while (reading.hasNextLine()){\r\n            int data = reading.nextInt();\r\n            inputFileData.add(data);\r\n        }\r\n        reading.close();\r\n        return inputFileData;\r\n    }\r\n\r\n    private static int numberAmount(ArrayList&lt;Integer&gt; n1){\r\n        return n1.size();\r\n\r\n    }\r\n    private static int argmin(ArrayList&lt;Integer&gt; n2){\r\n        int arg= -1, x = 0;\r\n        for (int i = 0; i &lt; n2.size(); i++){\r\n            if (n2.get(i) &lt; x){\r\n                arg = i;\r\n                x = n2.get(i);\r\n            }\r\n        }\r\n        return arg;\r\n    }\r\n\r\n    private static int argmax(ArrayList&lt;Integer&gt; n3){\r\n        int arg= -1, x = 0;\r\n        for (int i = 0; i &lt; n3.size(); i++){\r\n            if (n3.get(i) &lt; x){\r\n                arg = i;\r\n                x = n3.get(i);\r\n            }\r\n        }\r\n        return arg;\r\n    }\r\n\r\n    private static int average(ArrayList&lt;Integer&gt; n4){\r\n        int total = 0;\r\n        for (int i = 0; i &lt; n4.size(); i++){\r\n            total = total + n4.get(i);\r\n        }\r\n        int average = total / n4.size();\r\n        return average;\r\n    }\r\n\r\n    private static void fileCreate(int numberCount, int minNum, int maxNum, int avg){\r\n        try {\r\n            File outputFile = new File(&quot;outputFile.txt&quot;);\r\n            if (outputFile.createNewFile()) {\r\n            }\r\n            else {\r\n                System.out.println(&quot;File already exists&quot;);\r\n            }\r\n            FileWriter writing = new FileWriter(&quot;outputFile.txt&quot;);\r\n            writing.write(&quot;**********&quot;);\r\n            writing.write(&quot;There are &quot; + Integer.toString(numberCount) + &quot; numbers in this file.&quot;);\r\n            writing.write(&quot;The minimum number is &quot; + Integer.toString(minNum));\r\n            writing.write(&quot;The maximum number is &quot; + Integer.toString(maxNum));\r\n            writing.write(&quot;The average is &quot; + Integer.toString(avg));\r\n            writing.close();\r\n        } catch (IOException e){\r\n            System.out.println(&quot;An error has occured.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p>I can't exactly figure out what the issue is. I think it has to do with the array list but I'm not quite sure how to fix this. I've tried to instead of returning the array list, add to a new array list created in the main function but that didn't work. The error I keep getting is:</p>\n<p>Exception in thread &quot;main&quot; java.util.InputMismatchException</p>\n<pre><code>    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n\n    at fileAnalyze.inputFileList(fileAnalyze.java:18)\n\n    at fileAnalyze.main(fileAnalyze.java:6)\n</code></pre>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class fileAnalyze {\n    public static void main(String[] args){\n        ArrayList&lt;Integer&gt; inputFileInfo = inputFileList(&quot;inputFile.txt&quot;);\n        int count = numberAmount(inputFileInfo), small = inputFileInfo.get(argmin(inputFileInfo)),\n        big = inputFileInfo.get(argmax(inputFileInfo)), theAverage = average(inputFileInfo);\n        \n        fileCreate(count, small, big, theAverage);\n    }\n\n    private static ArrayList &lt;Integer&gt; inputFileList(String n){\n        Scanner reading = new Scanner(n);\n        ArrayList&lt;Integer&gt; inputFileData = new ArrayList&lt;Integer&gt;();\n            while (reading.hasNextLine()){\n            int data = reading.nextInt();\n            inputFileData.add(data);\n        }\n        reading.close();\n        return inputFileData;\n    }\n\n    private static int numberAmount(ArrayList&lt;Integer&gt; n1){\n        return n1.size();\n\n    }\n    private static int argmin(ArrayList&lt;Integer&gt; n2){\n        int arg= -1, x = 0;\n        for (int i = 0; i &lt; n2.size(); i++){\n            if (n2.get(i) &lt; x){\n                arg = i;\n                x = n2.get(i);\n            }\n        }\n        return arg;\n    }\n\n    private static int argmax(ArrayList&lt;Integer&gt; n3){\n        int arg= -1, x = 0;\n        for (int i = 0; i &lt; n3.size(); i++){\n            if (n3.get(i) &lt; x){\n                arg = i;\n                x = n3.get(i);\n            }\n        }\n        return arg;\n    }\n\n    private static int average(ArrayList&lt;Integer&gt; n4){\n        int total = 0;\n        for (int i = 0; i &lt; n4.size(); i++){\n            total = total + n4.get(i);\n        }\n        int average = total / n4.size();\n        return average;\n    }\n\n    private static void fileCreate(int numberCount, int minNum, int maxNum, int avg){\n        try {\n            File outputFile = new File(&quot;outputFile.txt&quot;);\n            if (outputFile.createNewFile()) {\n            }\n            else {\n                System.out.println(&quot;File already exists&quot;);\n            }\n            FileWriter writing = new FileWriter(&quot;outputFile.txt&quot;);\n            writing.write(&quot;**********&quot;);\n            writing.write(&quot;There are &quot; + Integer.toString(numberCount) + &quot; numbers in this file.&quot;);\n            writing.write(&quot;The minimum number is &quot; + Integer.toString(minNum));\n            writing.write(&quot;The maximum number is &quot; + Integer.toString(maxNum));\n            writing.write(&quot;The average is &quot; + Integer.toString(avg));\n            writing.close();\n        } catch (IOException e){\n            System.out.println(&quot;An error has occured.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","javafx","server","client"],"comments":[{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":0,"creation_date":1643235889,"post_id":70870998,"comment_id":125289432,"body_markdown":"Why are you building this with single use sockets instead of HTTP?","body":"Why are you building this with single use sockets instead of HTTP?"},{"owner":{"account_id":16412930,"reputation":15,"user_id":11855737,"display_name":"Emil Botezatu"},"score":1,"creation_date":1643236132,"post_id":70870998,"comment_id":125289485,"body_markdown":"Uni professor told us","body":"Uni professor told us"},{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":0,"creation_date":1643236606,"post_id":70870998,"comment_id":125289600,"body_markdown":"Check out concurrent linked queues: https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\n\nIt is a thread safe way of passing data.","body":"Check out concurrent linked queues: <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/concurrent/&hellip;</a>  It is a thread safe way of passing data."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1643236633,"post_id":70870998,"comment_id":125289605,"body_markdown":"Use a [Task](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/package-summary.html), study the javadoc and it should help  you find a solution.","body":"Use a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">Task</a>, study the javadoc and it should help  you find a solution."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643237014,"post_id":70870998,"comment_id":125289701,"body_markdown":"Try to [avoid static scope](https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil).","body":"Try to <a href=\"https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil\">avoid static scope</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643237334,"post_id":70870998,"comment_id":125289786,"body_markdown":"Note the task advice is only for the client implementation, not the server implementation unless he server also has a JavaFX UI.","body":"Note the task advice is only for the client implementation, not the server implementation unless he server also has a JavaFX UI."},{"owner":{"account_id":16412930,"reputation":15,"user_id":11855737,"display_name":"Emil Botezatu"},"score":0,"creation_date":1643237513,"post_id":70870998,"comment_id":125289823,"body_markdown":"How Task helps me to retun an object from this method?","body":"How Task helps me to retun an object from this method?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643239503,"post_id":70870998,"comment_id":125290234,"body_markdown":"You replace the sendMessageToServer method implementation with a Task the [Task javadoc](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html) provides examples for returning values from a task including observable lists and partial results.  There are also numerous tutorials and stack overflow questions for JavaFX concurrency which demonstrate task usage.  Try it, if you get stuck post an update and likely somebody will supply code for a task based answer.","body":"You replace the sendMessageToServer method implementation with a Task the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\">Task javadoc</a> provides examples for returning values from a task including observable lists and partial results.  There are also numerous tutorials and stack overflow questions for JavaFX concurrency which demonstrate task usage.  Try it, if you get stuck post an update and likely somebody will supply code for a task based answer."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1643241345,"post_id":70870998,"comment_id":125290538,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1643291930,"creation_date":1643236991,"answer_id":70871172,"question_id":70870998,"body_markdown":"You can use a thread-safe ConcurrentLinkedQueue (static, of course). `Utils.setObjects` would add each element to the queue. On the UI thread, you would occasionally poll for new items on the queue to be displayed in the UI. \n\nReference documentation: https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html","title":"How to return objects from inputStream Client to a Javafx Controller?","body":"<p>You can use a thread-safe ConcurrentLinkedQueue (static, of course). <code>Utils.setObjects</code> would add each element to the queue. On the UI thread, you would occasionally poll for new items on the queue to be displayed in the UI.</p>\n<p>Reference documentation: <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html</a></p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643339018,"creation_date":1643339018,"answer_id":70888362,"question_id":70870998,"body_markdown":"I don&#39;t know what your server is, nor the rest of your app.  I know you are using raw TCP sockets for communication using a custom protocol.  \r\n\r\nWhat I did was take code for a similar example from the Java tutorials.  The code is the KnockKnock client server code from: [Writing the Server Side of a Socket](https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html).  The basic server code is unchanged, I just replaced the console-based client with a JavaFX UI.\r\n\r\nUnchanged server code:\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockProtocol.java\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServer.java\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServerThread.java\r\n\r\nReplaced console client:\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockClient.java\r\n\r\nI provide two different client implementations; one makes synchronous client calls on the JavaFX application thread, the other makes asynchronous client calls using a JavaFX task.\r\n\r\nThe current asynchronous task-based solution is not robust enough for a full-scale production system as it is technically possible for it to lose messages and it doesn&#39;t robustly match request and response messages.  But for a demo like this it is OK.\r\n\r\nFor simple execution, the UI apps both launch a local server on a pre-defined port when they are run, but you could remove the code to launch the server from the UI apps and run the server from the command line if you want.\r\n\r\n[![knock-knock][1]][1]\r\n\r\nKnockKnockSyncClient.java\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    \r\n    public class KnockKnockSyncClient {\r\n        private Socket socket;\r\n        private PrintWriter out;\r\n        private BufferedReader in;\r\n    \r\n        public String connect(String host, int port) {\r\n            try {\r\n                socket = new Socket(host, port);\r\n    \r\n                out = new PrintWriter(\r\n                        socket.getOutputStream(),\r\n                        true\r\n                );\r\n    \r\n                in = new BufferedReader(\r\n                        new InputStreamReader(\r\n                                socket.getInputStream()\r\n                        )\r\n                );\r\n    \r\n                return in.readLine();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public String sendMessage(String request) {\r\n            String response = null;\r\n    \r\n            try {\r\n                out.println(request);\r\n                response = in.readLine();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return response;\r\n        }\r\n    \r\n        public void disconnect() {\r\n            try {\r\n                if (socket != null) {\r\n                    socket.close();\r\n                    socket = null;\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nKnockKnockSyncApp\r\n\r\n    import javafx.animation.FadeTransition;\r\n    import javafx.application.*;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class KnockKnockSyncApp extends Application {\r\n        private static final String HOST = &quot;localhost&quot;;\r\n        private static final int PORT = 8809;\r\n    \r\n        public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\r\n    \r\n        private ExecutorService serverExecutor;\r\n        private KnockKnockSyncClient client;\r\n    \r\n        private static final String CSS = &quot;&quot;&quot;\r\n                data:text/css,\r\n                .root {\r\n                    -fx-font-size: 20;\r\n                }\r\n                .list-cell {\r\n                    -fx-alignment: baseline-right;\r\n                    -fx-text-fill: purple;\r\n                }\r\n                .list-cell:odd {\r\n                    -fx-alignment: baseline-left;\r\n                    -fx-text-fill: darkgreen;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void init() {\r\n            serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\r\n            serverExecutor.submit(\r\n                    () -&gt; {\r\n                        try {\r\n                            KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            client = new KnockKnockSyncClient();\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\r\n    \r\n            TextField inputField = new TextField();\r\n            inputField.setPromptText(&quot;Enter a message for the server.&quot;);\r\n    \r\n            inputField.setOnAction(event -&gt; {\r\n                String request = inputField.getText();\r\n                messageView.getItems().add(request);\r\n    \r\n                String response = client.sendMessage(request);\r\n                messageView.getItems().add(response);\r\n    \r\n                messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\r\n    \r\n                inputField.clear();\r\n    \r\n                if (QUIT_RESPONSE.equals(response)) {\r\n                    closeApp(inputField.getScene());\r\n                }\r\n            });\r\n    \r\n            VBox layout = new VBox(10,\r\n                    messageView,\r\n                    inputField\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n            layout.setPrefWidth(600);\r\n    \r\n            Scene scene = new Scene(layout);\r\n            scene.getStylesheets().add(CSS);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            inputField.requestFocus();\r\n    \r\n            String connectResponse = client.connect(HOST, PORT);\r\n            if (connectResponse != null) {\r\n                messageView.getItems().add(connectResponse);\r\n            }\r\n        }\r\n    \r\n        private void closeApp(Scene scene) {\r\n            Parent root = scene.getRoot();\r\n            root.setDisable(true);\r\n            FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\r\n            fade.setToValue(0);\r\n            fade.setOnFinished(e -&gt; Platform.exit());\r\n            fade.play();\r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            client.disconnect();\r\n            serverExecutor.shutdown();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nKnockKnockAsyncClient.java\r\n\r\n    import javafx.concurrent.Task;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.LinkedBlockingDeque;\r\n    \r\n    public class KnockKnockAsyncClient extends Task&lt;Void&gt; {\r\n        private final String host;\r\n        private final int port;\r\n    \r\n        private final BlockingQueue&lt;String&gt; messageQueue = new LinkedBlockingDeque&lt;&gt;();\r\n    \r\n        public KnockKnockAsyncClient(String host, int port) {\r\n            this.host = host;\r\n            this.port = port;\r\n        }\r\n    \r\n        @Override\r\n        protected Void call() {\r\n            try (\r\n                    Socket kkSocket = new Socket(host, port);\r\n                    PrintWriter out = new PrintWriter(kkSocket.getOutputStream(), true);\r\n                    BufferedReader in = new BufferedReader(\r\n                            new InputStreamReader(kkSocket.getInputStream()));\r\n            ) {\r\n                String fromServer;\r\n                String fromUser;\r\n    \r\n                while ((fromServer = in.readLine()) != null) {\r\n                    // this is not a completely robust implementation because updateMessage\r\n                    // can coalesce responses and there is no matching in send message calls\r\n                    // to responses.  A more robust implementation may allow matching of\r\n                    // requests and responses, perhaps via a message id.  It could also\r\n                    // replace the updateMessage call with storage of results in a collection\r\n                    // (e.g. an observable list) with thread safe notifications of response\r\n                    // arrivals, e.g. through CompleteableFutures and/or Platform.runLater calls.\r\n                    updateMessage(fromServer);\r\n                    System.out.println(&quot;Server: &quot; + fromServer);\r\n                    if (fromServer.equals(&quot;Bye.&quot;))\r\n                        break;\r\n    \r\n                    fromUser = messageQueue.take();\r\n                    System.out.println(&quot;Client: &quot; + fromUser);\r\n                    out.println(fromUser);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                if (isCancelled()) {\r\n                    updateMessage(&quot;Cancelled&quot;);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public void sendMessage(String request) {\r\n            messageQueue.add(request);\r\n        }\r\n    }\r\n\r\nKnockKnockAsyncApp.java\r\n\r\n    import javafx.animation.FadeTransition;\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ThreadFactory;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class KnockKnockAsyncApp extends Application {\r\n        private static final String HOST = &quot;localhost&quot;;\r\n        private static final int PORT = 8809;\r\n    \r\n        public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\r\n    \r\n        private ExecutorService serverExecutor;\r\n        private ExecutorService clientExecutor;\r\n    \r\n        private static final String CSS = &quot;&quot;&quot;\r\n                data:text/css,\r\n                .root {\r\n                    -fx-font-size: 20;\r\n                }\r\n                .list-cell {\r\n                    -fx-alignment: baseline-right;\r\n                    -fx-text-fill: purple;\r\n                }\r\n                .list-cell:odd {\r\n                    -fx-alignment: baseline-left;\r\n                    -fx-text-fill: darkgreen;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void init() {\r\n            serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\r\n            serverExecutor.submit(\r\n                    () -&gt; {\r\n                        try {\r\n                            KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            clientExecutor = Executors.newSingleThreadExecutor(new ThreadFactory() {\r\n                final AtomicInteger threadNum = new AtomicInteger(0);\r\n    \r\n                @Override\r\n                public Thread newThread(Runnable r) {\r\n                    return new Thread(r,&quot;KKClient-&quot; + threadNum.getAndAdd(1));\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\r\n    \r\n            KnockKnockAsyncClient client = new KnockKnockAsyncClient(HOST, PORT);\r\n            // monitor and action responses from the server.\r\n            client.messageProperty().addListener((observable, oldValue, response) -&gt; {\r\n                if (response != null) {\r\n                    logMessage(messageView, response);\r\n                }\r\n    \r\n                if (QUIT_RESPONSE.equals(response)) {\r\n                    closeApp(messageView.getScene());\r\n                }\r\n            });\r\n    \r\n            TextField inputField = new TextField();\r\n            inputField.setPromptText(&quot;Enter a message for the server.&quot;);\r\n    \r\n            inputField.setOnAction(event -&gt; {\r\n                String request = inputField.getText();\r\n                logMessage(messageView, request);\r\n    \r\n                client.sendMessage(request);\r\n    \r\n                inputField.clear();\r\n            });\r\n    \r\n            VBox layout = new VBox(10,\r\n                    messageView,\r\n                    inputField\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n            layout.setPrefWidth(600);\r\n    \r\n            Scene scene = new Scene(layout);\r\n            scene.getStylesheets().add(CSS);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            inputField.requestFocus();\r\n    \r\n            clientExecutor.submit(client);\r\n        }\r\n    \r\n        private void logMessage(ListView&lt;String&gt; messageView, String request) {\r\n            messageView.getItems().add(request);\r\n            messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\r\n        }\r\n    \r\n        private void closeApp(Scene scene) {\r\n            Parent root = scene.getRoot();\r\n            root.setDisable(true);\r\n            FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\r\n            fade.setToValue(0);\r\n            fade.setOnFinished(e -&gt; Platform.exit());\r\n            fade.play();\r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            clientExecutor.shutdown();\r\n            serverExecutor.shutdown();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vgUSg.png","title":"How to return objects from inputStream Client to a Javafx Controller?","body":"<p>I don't know what your server is, nor the rest of your app.  I know you are using raw TCP sockets for communication using a custom protocol.</p>\n<p>What I did was take code for a similar example from the Java tutorials.  The code is the KnockKnock client server code from: <a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html\" rel=\"nofollow noreferrer\">Writing the Server Side of a Socket</a>.  The basic server code is unchanged, I just replaced the console-based client with a JavaFX UI.</p>\n<p>Unchanged server code:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockProtocol.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockProtocol.java</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServer.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServer.java</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServerThread.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServerThread.java</a></p>\n</li>\n</ul>\n<p>Replaced console client:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockClient.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockClient.java</a></li>\n</ul>\n<p>I provide two different client implementations; one makes synchronous client calls on the JavaFX application thread, the other makes asynchronous client calls using a JavaFX task.</p>\n<p>The current asynchronous task-based solution is not robust enough for a full-scale production system as it is technically possible for it to lose messages and it doesn't robustly match request and response messages.  But for a demo like this it is OK.</p>\n<p>For simple execution, the UI apps both launch a local server on a pre-defined port when they are run, but you could remove the code to launch the server from the UI apps and run the server from the command line if you want.</p>\n<p><a href=\"https://i.stack.imgur.com/vgUSg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgUSg.png\" alt=\"knock-knock\" /></a></p>\n<p>KnockKnockSyncClient.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\n\npublic class KnockKnockSyncClient {\n    private Socket socket;\n    private PrintWriter out;\n    private BufferedReader in;\n\n    public String connect(String host, int port) {\n        try {\n            socket = new Socket(host, port);\n\n            out = new PrintWriter(\n                    socket.getOutputStream(),\n                    true\n            );\n\n            in = new BufferedReader(\n                    new InputStreamReader(\n                            socket.getInputStream()\n                    )\n            );\n\n            return in.readLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public String sendMessage(String request) {\n        String response = null;\n\n        try {\n            out.println(request);\n            response = in.readLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return response;\n    }\n\n    public void disconnect() {\n        try {\n            if (socket != null) {\n                socket.close();\n                socket = null;\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>KnockKnockSyncApp</p>\n<pre><code>import javafx.animation.FadeTransition;\nimport javafx.application.*;\nimport javafx.geometry.Insets;\nimport javafx.scene.*;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class KnockKnockSyncApp extends Application {\n    private static final String HOST = &quot;localhost&quot;;\n    private static final int PORT = 8809;\n\n    public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\n\n    private ExecutorService serverExecutor;\n    private KnockKnockSyncClient client;\n\n    private static final String CSS = &quot;&quot;&quot;\n            data:text/css,\n            .root {\n                -fx-font-size: 20;\n            }\n            .list-cell {\n                -fx-alignment: baseline-right;\n                -fx-text-fill: purple;\n            }\n            .list-cell:odd {\n                -fx-alignment: baseline-left;\n                -fx-text-fill: darkgreen;\n            }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void init() {\n        serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\n        serverExecutor.submit(\n                () -&gt; {\n                    try {\n                        KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n        );\n\n        client = new KnockKnockSyncClient();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\n\n        TextField inputField = new TextField();\n        inputField.setPromptText(&quot;Enter a message for the server.&quot;);\n\n        inputField.setOnAction(event -&gt; {\n            String request = inputField.getText();\n            messageView.getItems().add(request);\n\n            String response = client.sendMessage(request);\n            messageView.getItems().add(response);\n\n            messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\n\n            inputField.clear();\n\n            if (QUIT_RESPONSE.equals(response)) {\n                closeApp(inputField.getScene());\n            }\n        });\n\n        VBox layout = new VBox(10,\n                messageView,\n                inputField\n        );\n        layout.setPadding(new Insets(10));\n        layout.setPrefWidth(600);\n\n        Scene scene = new Scene(layout);\n        scene.getStylesheets().add(CSS);\n\n        stage.setScene(scene);\n        stage.show();\n\n        inputField.requestFocus();\n\n        String connectResponse = client.connect(HOST, PORT);\n        if (connectResponse != null) {\n            messageView.getItems().add(connectResponse);\n        }\n    }\n\n    private void closeApp(Scene scene) {\n        Parent root = scene.getRoot();\n        root.setDisable(true);\n        FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\n        fade.setToValue(0);\n        fade.setOnFinished(e -&gt; Platform.exit());\n        fade.play();\n    }\n\n    @Override\n    public void stop() {\n        client.disconnect();\n        serverExecutor.shutdown();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>KnockKnockAsyncClient.java</p>\n<pre><code>import javafx.concurrent.Task;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.LinkedBlockingDeque;\n\npublic class KnockKnockAsyncClient extends Task&lt;Void&gt; {\n    private final String host;\n    private final int port;\n\n    private final BlockingQueue&lt;String&gt; messageQueue = new LinkedBlockingDeque&lt;&gt;();\n\n    public KnockKnockAsyncClient(String host, int port) {\n        this.host = host;\n        this.port = port;\n    }\n\n    @Override\n    protected Void call() {\n        try (\n                Socket kkSocket = new Socket(host, port);\n                PrintWriter out = new PrintWriter(kkSocket.getOutputStream(), true);\n                BufferedReader in = new BufferedReader(\n                        new InputStreamReader(kkSocket.getInputStream()));\n        ) {\n            String fromServer;\n            String fromUser;\n\n            while ((fromServer = in.readLine()) != null) {\n                // this is not a completely robust implementation because updateMessage\n                // can coalesce responses and there is no matching in send message calls\n                // to responses.  A more robust implementation may allow matching of\n                // requests and responses, perhaps via a message id.  It could also\n                // replace the updateMessage call with storage of results in a collection\n                // (e.g. an observable list) with thread safe notifications of response\n                // arrivals, e.g. through CompleteableFutures and/or Platform.runLater calls.\n                updateMessage(fromServer);\n                System.out.println(&quot;Server: &quot; + fromServer);\n                if (fromServer.equals(&quot;Bye.&quot;))\n                    break;\n\n                fromUser = messageQueue.take();\n                System.out.println(&quot;Client: &quot; + fromUser);\n                out.println(fromUser);\n            }\n        } catch (InterruptedException e) {\n            if (isCancelled()) {\n                updateMessage(&quot;Cancelled&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public void sendMessage(String request) {\n        messageQueue.add(request);\n    }\n}\n</code></pre>\n<p>KnockKnockAsyncApp.java</p>\n<pre><code>import javafx.animation.FadeTransition;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadFactory;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class KnockKnockAsyncApp extends Application {\n    private static final String HOST = &quot;localhost&quot;;\n    private static final int PORT = 8809;\n\n    public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\n\n    private ExecutorService serverExecutor;\n    private ExecutorService clientExecutor;\n\n    private static final String CSS = &quot;&quot;&quot;\n            data:text/css,\n            .root {\n                -fx-font-size: 20;\n            }\n            .list-cell {\n                -fx-alignment: baseline-right;\n                -fx-text-fill: purple;\n            }\n            .list-cell:odd {\n                -fx-alignment: baseline-left;\n                -fx-text-fill: darkgreen;\n            }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void init() {\n        serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\n        serverExecutor.submit(\n                () -&gt; {\n                    try {\n                        KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n        );\n\n        clientExecutor = Executors.newSingleThreadExecutor(new ThreadFactory() {\n            final AtomicInteger threadNum = new AtomicInteger(0);\n\n            @Override\n            public Thread newThread(Runnable r) {\n                return new Thread(r,&quot;KKClient-&quot; + threadNum.getAndAdd(1));\n            }\n        });\n    }\n\n    @Override\n    public void start(Stage stage) {\n        ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\n\n        KnockKnockAsyncClient client = new KnockKnockAsyncClient(HOST, PORT);\n        // monitor and action responses from the server.\n        client.messageProperty().addListener((observable, oldValue, response) -&gt; {\n            if (response != null) {\n                logMessage(messageView, response);\n            }\n\n            if (QUIT_RESPONSE.equals(response)) {\n                closeApp(messageView.getScene());\n            }\n        });\n\n        TextField inputField = new TextField();\n        inputField.setPromptText(&quot;Enter a message for the server.&quot;);\n\n        inputField.setOnAction(event -&gt; {\n            String request = inputField.getText();\n            logMessage(messageView, request);\n\n            client.sendMessage(request);\n\n            inputField.clear();\n        });\n\n        VBox layout = new VBox(10,\n                messageView,\n                inputField\n        );\n        layout.setPadding(new Insets(10));\n        layout.setPrefWidth(600);\n\n        Scene scene = new Scene(layout);\n        scene.getStylesheets().add(CSS);\n\n        stage.setScene(scene);\n        stage.show();\n\n        inputField.requestFocus();\n\n        clientExecutor.submit(client);\n    }\n\n    private void logMessage(ListView&lt;String&gt; messageView, String request) {\n        messageView.getItems().add(request);\n        messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\n    }\n\n    private void closeApp(Scene scene) {\n        Parent root = scene.getRoot();\n        root.setDisable(true);\n        FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\n        fade.setToValue(0);\n        fade.setOnFinished(e -&gt; Platform.exit());\n        fade.play();\n    }\n\n    @Override\n    public void stop() {\n        clientExecutor.shutdown();\n        serverExecutor.shutdown();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16412930,"reputation":15,"user_id":11855737,"display_name":"Emil Botezatu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70888362,"answer_count":2,"score":0,"last_activity_date":1643339018,"creation_date":1643235663,"question_id":70870998,"body_markdown":"So basically I have a MainConstroller class that has methods for every button. I have also a server multi-client application. In Client I have a method sendMessage that sends a String and an Object as a parameter to outputStreams to Server.\r\n\r\nIn the same method I have 2 inputStream for message from server and an object. The problem is that this method runs on a Thread which implements run method and I cannot return the object.\r\n\r\nI tried to create a static class that saves these, but the getters are null, when called in Controller class. \r\n\r\nWhat is the best method to achieve this?\r\n\r\n    public void onSaveButton(javafx.event.ActionEvent actionEvent) throws Exception {\r\n\r\n\r\n        Parent root = null;\r\n        Boolean type = false;\r\n        String message = null;\r\n\r\n\r\n        if (adminCheckbox.isSelected()) {\r\n            root = FXMLLoader.load(getClass().getResource(&quot;/fxml/admin.fxml&quot;));\r\n            type = true;\r\n            message = &quot;Admin&quot;;\r\n        }\r\n\r\n        if (competitorCheckbox.isSelected()) {\r\n            root = FXMLLoader.load(getClass().getResource(&quot;/fxml/competitor.fxml&quot;));\r\n            message = &quot;Competitor&quot;;\r\n        }\r\n\r\n        PersonEntity personEntity = new PersonEntity();\r\n        personEntity.setIdTeam(Integer.parseInt(teamField.getText()));\r\n        personEntity.setType(type);\r\n        personEntity.setUsername(usernameField.getText());\r\n\r\n        client.sendMessageToServer(message, personEntity);\r\n\r\n        System.out.println(Utils.getMessage());}\r\n\r\n\r\nAnd the Client method:\r\n\r\n     public void sendMessageToServer(String message, Object object) throws Exception {\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;Say something and the message will be sent to the server: &quot;);\r\n\r\n                //For receiving and sending data\r\n                boolean isClose = false;\r\n\r\n                while (!isClose) {\r\n                    try {\r\n\r\n                        ObjectOutputStream outputStream = new ObjectOutputStream(socket.getOutputStream());\r\n                        ObjectInputStream inputStream = new ObjectInputStream(socket.getInputStream());\r\n\r\n                        if (message.equals(&quot;Bye&quot;)) {\r\n                            isClose = true;\r\n                        }\r\n\r\n                        outputStream.writeObject(message);\r\n                        outputStream.writeObject(object);\r\n\r\n                        String messageFromServer = (String) inputStream.readObject();\r\n                        //System.out.println(messageFromServer);\r\n\r\n                        int index = messageFromServer.indexOf(&#39; &#39;);\r\n                        String word = messageFromServer.substring(0, index);\r\n\r\n                        if (messageFromServer.equals(&quot;Bye&quot;)) {\r\n                            isClose = true;\r\n                        }\r\n\r\n                        if (!word.equals(&quot;LIST&quot;)) {\r\n                            Object obj = (Object) inputStream.readObject();\r\n                            Utils.setMessage(messageFromServer);\r\n                            return;\r\n                            //Utils.setObject(obj);\r\n                            //System.out.println(&quot;IN FOR &quot; + Utils.getMessage());\r\n\r\n                        } else {\r\n                            List&lt;Object&gt; list = (List&lt;Object&gt;) inputStream.readObject();\r\n                            Utils.setMessage(messageFromServer);\r\n                            Utils.setObjects(list);\r\n                            return;\r\n\r\n                        }\r\n\r\n                    } catch (IOException | ClassNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                try {\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n    }","title":"How to return objects from inputStream Client to a Javafx Controller?","body":"<p>So basically I have a MainConstroller class that has methods for every button. I have also a server multi-client application. In Client I have a method sendMessage that sends a String and an Object as a parameter to outputStreams to Server.</p>\n<p>In the same method I have 2 inputStream for message from server and an object. The problem is that this method runs on a Thread which implements run method and I cannot return the object.</p>\n<p>I tried to create a static class that saves these, but the getters are null, when called in Controller class.</p>\n<p>What is the best method to achieve this?</p>\n<pre><code>public void onSaveButton(javafx.event.ActionEvent actionEvent) throws Exception {\n\n\n    Parent root = null;\n    Boolean type = false;\n    String message = null;\n\n\n    if (adminCheckbox.isSelected()) {\n        root = FXMLLoader.load(getClass().getResource(&quot;/fxml/admin.fxml&quot;));\n        type = true;\n        message = &quot;Admin&quot;;\n    }\n\n    if (competitorCheckbox.isSelected()) {\n        root = FXMLLoader.load(getClass().getResource(&quot;/fxml/competitor.fxml&quot;));\n        message = &quot;Competitor&quot;;\n    }\n\n    PersonEntity personEntity = new PersonEntity();\n    personEntity.setIdTeam(Integer.parseInt(teamField.getText()));\n    personEntity.setType(type);\n    personEntity.setUsername(usernameField.getText());\n\n    client.sendMessageToServer(message, personEntity);\n\n    System.out.println(Utils.getMessage());}\n</code></pre>\n<p>And the Client method:</p>\n<pre><code> public void sendMessageToServer(String message, Object object) throws Exception {\n\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(&quot;Say something and the message will be sent to the server: &quot;);\n\n            //For receiving and sending data\n            boolean isClose = false;\n\n            while (!isClose) {\n                try {\n\n                    ObjectOutputStream outputStream = new ObjectOutputStream(socket.getOutputStream());\n                    ObjectInputStream inputStream = new ObjectInputStream(socket.getInputStream());\n\n                    if (message.equals(&quot;Bye&quot;)) {\n                        isClose = true;\n                    }\n\n                    outputStream.writeObject(message);\n                    outputStream.writeObject(object);\n\n                    String messageFromServer = (String) inputStream.readObject();\n                    //System.out.println(messageFromServer);\n\n                    int index = messageFromServer.indexOf(' ');\n                    String word = messageFromServer.substring(0, index);\n\n                    if (messageFromServer.equals(&quot;Bye&quot;)) {\n                        isClose = true;\n                    }\n\n                    if (!word.equals(&quot;LIST&quot;)) {\n                        Object obj = (Object) inputStream.readObject();\n                        Utils.setMessage(messageFromServer);\n                        return;\n                        //Utils.setObject(obj);\n                        //System.out.println(&quot;IN FOR &quot; + Utils.getMessage());\n\n                    } else {\n                        List&lt;Object&gt; list = (List&lt;Object&gt;) inputStream.readObject();\n                        Utils.setMessage(messageFromServer);\n                        Utils.setObjects(list);\n                        return;\n\n                    }\n\n                } catch (IOException | ClassNotFoundException e) {\n                    e.printStackTrace();\n                }\n            }\n            try {\n                socket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }).start();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","caching","redis","key-generator"],"comments":[{"owner":{"account_id":17463361,"reputation":21,"user_id":12660566,"display_name":"Krito"},"score":0,"creation_date":1643338731,"post_id":70888325,"comment_id":125319174,"body_markdown":"help me!!!come on!!!","body":"help me!!!come on!!!"},{"owner":{"account_id":17463361,"reputation":21,"user_id":12660566,"display_name":"Krito"},"score":0,"creation_date":1643341227,"post_id":70888325,"comment_id":125319589,"body_markdown":"help!help!help!","body":"help!help!help!"}],"owner":{"account_id":17463361,"reputation":21,"user_id":12660566,"display_name":"Krito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643338659,"creation_date":1643338659,"question_id":70888325,"body_markdown":"**1.Redisconfig configuration classes are as follows:**\r\n```\r\n@Configuration\r\npublic class RedisConfig {\r\n    /**\r\n     * @param factory\r\n     * @return\r\n     */\r\n    @Bean\r\n    public CacheManager cacheManager(RedisConnectionFactory factory) {\r\n        GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\r\n        StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();\r\n        // 配置序列化\r\n        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig();\r\n        RedisCacheConfiguration redisCacheConfiguration = config\r\n                // 键序列化方式 redis字符串序列化\r\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(stringRedisSerializer))\r\n                // 值序列化方式 简单json序列化\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(genericJackson2JsonRedisSerializer))\r\n                //不缓存Null值\r\n                .disableCachingNullValues()\r\n                //缓存失效 3天\r\n                .entryTtl(Duration.ofDays(3));\r\n        return RedisCacheManager.builder(factory).cacheDefaults(redisCacheConfiguration).build();\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String,Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate();\r\n        template.setConnectionFactory(redisConnectionFactory);\r\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\r\n        // value值的序列化采用fastJsonRedisSerializer\r\n        template.setValueSerializer(jsonRedisSerializer);\r\n        template.setHashValueSerializer(jsonRedisSerializer);\r\n        // key的序列化采用StringRedisSerializer\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setHashKeySerializer(new StringRedisSerializer());\r\n        return template;\r\n    }\r\n\r\n    /**\r\n     * 重写缓存key的生成方式： 类名.方法名字&amp;[参数列表]\r\n     * @return\r\n     */\r\n    @Bean\r\n    public KeyGenerator keyGenerator(){\r\n        return new KeyGenerator() {\r\n            @Override\r\n            public Object generate(Object target, Method method, Object... params) {\r\n                StringBuilder sb = new StringBuilder();\r\n                sb.append(target.getClass().getName()).append(&quot;.&quot;);//执行类名\r\n                sb.append(method.getName()).append(&quot;&amp;&quot;);//方法名\r\n                sb.append(Arrays.toString(params));//参数\r\n                return sb.toString();\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n**2. Redis cache is used for @ cacheable annotation:**\r\n```\r\n@Transactional(rollbackFor = Exception.class)\r\n    @Cacheable(cacheNames = &quot;blog&quot;,keyGenerator = &quot;keyGenerator&quot;)\r\n    @Override\r\n    public BlogVo getBlogById(int blogId) {\r\n        Blog blog = blogDao.selectBlogById(blogId);\r\n        if(blog == null || blog.getBlogStatus()==0){\r\n            return null;\r\n        }\r\n        BlogVo blogVo = new BlogVo();\r\n        BeanUtils.copyProperties(blog,blogVo);\r\n        User user = userDao.selectUserById(blog.getBlogUserid());\r\n        Type type = typeDao.selectTypeById(blog.getBlogTypeid());\r\n        blogVo.setBlogUser(user);\r\n        blogVo.setBlogType(type);\r\n        return blogVo;\r\n    }\r\n```\r\n**3. Generating duplicate key value pairs:**\r\nTwo key value pairs with the same value are cached in redis database. The difference between duplicate key contents is that they contain **enhancerbyspringcglib**, which has been tested for many times. Other methods are the same:\r\n\r\n(1) right key: blog::**com.zju.sdust.weblog.service.impl.BlogServiceImpl.getBlogById&amp;[1]**\r\n\r\n(2) Duplicate key: **blog::com.zju.sdust.weblog.service.impl.BlogServiceImpl$$EnhancerBySpringCGLIB$$e965464f.getBlogById&amp;[1]**\r\n\r\nI want to know why and how to solve it? help me!!!\r\n","title":"When springboot uses @ cacheable to integrate redis cache, the key generation policy KeyGenerator generates duplicate keys enhancerbyspringcglib","body":"<p><strong>1.Redisconfig configuration classes are as follows:</strong></p>\n<pre><code>@Configuration\npublic class RedisConfig {\n    /**\n     * @param factory\n     * @return\n     */\n    @Bean\n    public CacheManager cacheManager(RedisConnectionFactory factory) {\n        GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\n        StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();\n        // 配置序列化\n        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig();\n        RedisCacheConfiguration redisCacheConfiguration = config\n                // 键序列化方式 redis字符串序列化\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(stringRedisSerializer))\n                // 值序列化方式 简单json序列化\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(genericJackson2JsonRedisSerializer))\n                //不缓存Null值\n                .disableCachingNullValues()\n                //缓存失效 3天\n                .entryTtl(Duration.ofDays(3));\n        return RedisCacheManager.builder(factory).cacheDefaults(redisCacheConfiguration).build();\n    }\n\n    @Bean\n    public RedisTemplate&lt;String,Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate();\n        template.setConnectionFactory(redisConnectionFactory);\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\n        // value值的序列化采用fastJsonRedisSerializer\n        template.setValueSerializer(jsonRedisSerializer);\n        template.setHashValueSerializer(jsonRedisSerializer);\n        // key的序列化采用StringRedisSerializer\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new StringRedisSerializer());\n        return template;\n    }\n\n    /**\n     * 重写缓存key的生成方式： 类名.方法名字&amp;[参数列表]\n     * @return\n     */\n    @Bean\n    public KeyGenerator keyGenerator(){\n        return new KeyGenerator() {\n            @Override\n            public Object generate(Object target, Method method, Object... params) {\n                StringBuilder sb = new StringBuilder();\n                sb.append(target.getClass().getName()).append(&quot;.&quot;);//执行类名\n                sb.append(method.getName()).append(&quot;&amp;&quot;);//方法名\n                sb.append(Arrays.toString(params));//参数\n                return sb.toString();\n            }\n        };\n    }\n}\n</code></pre>\n<p><strong>2. Redis cache is used for @ cacheable annotation:</strong></p>\n<pre><code>@Transactional(rollbackFor = Exception.class)\n    @Cacheable(cacheNames = &quot;blog&quot;,keyGenerator = &quot;keyGenerator&quot;)\n    @Override\n    public BlogVo getBlogById(int blogId) {\n        Blog blog = blogDao.selectBlogById(blogId);\n        if(blog == null || blog.getBlogStatus()==0){\n            return null;\n        }\n        BlogVo blogVo = new BlogVo();\n        BeanUtils.copyProperties(blog,blogVo);\n        User user = userDao.selectUserById(blog.getBlogUserid());\n        Type type = typeDao.selectTypeById(blog.getBlogTypeid());\n        blogVo.setBlogUser(user);\n        blogVo.setBlogType(type);\n        return blogVo;\n    }\n</code></pre>\n<p><strong>3. Generating duplicate key value pairs:</strong>\nTwo key value pairs with the same value are cached in redis database. The difference between duplicate key contents is that they contain <strong>enhancerbyspringcglib</strong>, which has been tested for many times. Other methods are the same:</p>\n<p>(1) right key: blog::<strong>com.zju.sdust.weblog.service.impl.BlogServiceImpl.getBlogById&amp;[1]</strong></p>\n<p>(2) Duplicate key: <strong>blog::com.zju.sdust.weblog.service.impl.BlogServiceImpl$$EnhancerBySpringCGLIB$$e965464f.getBlogById&amp;[1]</strong></p>\n<p>I want to know why and how to solve it? help me!!!</p>\n"},{"tags":["java","eclipse","indentation","auto-indent"],"answers":[{"tags":[],"owner":{"account_id":128130,"reputation":18591,"user_id":325742,"accept_rate":90,"display_name":"Ashutosh Jindal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1344185680,"creation_date":1344184568,"answer_id":11818134,"question_id":11818041,"body_markdown":"I was able to reproduce the issue.\r\n\r\nIt seems that the ending brace for the enum is confusing Eclipse. If you put that on a separate line the indentation starts working fine :\r\n\r\n    public static class Shape {\r\n    \r\n    \tenum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \r\n    \t\tSquareShape, LShape, MirroredLShape \r\n    \t};\r\n    \r\n    \tprivate Tetrominoes pieceShape;\r\n    \tprivate int coords[][];\r\n    \tprivate int[][][] coordsTable;\r\n    \r\n    \tpublic Shape() {\r\n    \r\n    \t\tcoords = new int[4][2];\r\n    \t\tsetShape(Tetrominoes.NoShape);\r\n    \t}\r\n    \r\n    \tpublic void setShape(Tetrominoes shape) {\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nYou can also attempt to format the code (Ctrl + Shift + F) followed by correcting indentation (Ctrl + A and  Ctrl + I ). When you format the code, you&#39;ll notice that Eclipse also puts the ending brace on the next line instead of alongside the Enum constant body.","title":"Eclipse auto-indent incorrectly indents file","body":"<p>I was able to reproduce the issue.</p>\n\n<p>It seems that the ending brace for the enum is confusing Eclipse. If you put that on a separate line the indentation starts working fine :</p>\n\n<pre><code>public static class Shape {\n\n    enum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \n        SquareShape, LShape, MirroredLShape \n    };\n\n    private Tetrominoes pieceShape;\n    private int coords[][];\n    private int[][][] coordsTable;\n\n    public Shape() {\n\n        coords = new int[4][2];\n        setShape(Tetrominoes.NoShape);\n    }\n\n    public void setShape(Tetrominoes shape) {\n\n    }\n\n}\n</code></pre>\n\n<p>You can also attempt to format the code (Ctrl + Shift + F) followed by correcting indentation (Ctrl + A and  Ctrl + I ). When you format the code, you'll notice that Eclipse also puts the ending brace on the next line instead of alongside the Enum constant body.</p>\n"}],"owner":{"account_id":1171361,"reputation":547,"user_id":1148482,"display_name":"ProgrammingMakesMeQQ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11818134,"answer_count":1,"score":2,"last_activity_date":1643338127,"creation_date":1344183780,"question_id":11818041,"body_markdown":"Something weird is happening to my Eclipse that I never remember happening before. Basically if I&#39;ve got a long statement and split it onto two lines, then everything after that gets indented a tab further than it should be. Here&#39;s an example:\r\n\r\nCorrect indentation:\r\n\r\n\tpublic static class Shape {\r\n\r\n\t\tenum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \r\n\t\t\tSquareShape, LShape, MirroredLShape };\r\n\r\n\t\tprivate Tetrominoes pieceShape;\r\n\t\tprivate int coords[][];\r\n\t\tprivate int[][][] coordsTable;\r\n\r\n\t\tpublic Shape() {\r\n\r\n\t\t\tcoords = new int[4][2];\r\n\t\t\tsetShape(Tetrominoes.NoShape);\r\n\t\t}\r\n\r\n\t\tpublic void setShape(Tetrominoes shape) {\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nWhat it looks like with Ctrl+A, Ctrl+I:\r\n\r\n\tpublic static class Shape {\r\n\r\n\t\tenum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \r\n\t\t\tSquareShape, LShape, MirroredLShape };\r\n\r\n\t\t\tprivate Tetrominoes pieceShape;\r\n\t\t\tprivate int coords[][];\r\n\t\t\tprivate int[][][] coordsTable;\r\n\r\n\t\t\tpublic Shape() {\r\n\r\n\t\t\t\tcoords = new int[4][2];\r\n\t\t\t\tsetShape(Tetrominoes.NoShape);\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setShape(Tetrominoes shape) {\r\n\r\n\t\t\t}\r\n\r\n\t}\r\n\r\nNow if I keep that enum on one line and auto-indent it, then it works out just fine. I just got a new laptop and put a fresh copy of Eclipse on it and didn&#39;t change any settings, so this is how the default auto-indent works. But I remember on my old laptop if I would split a statement onto two lines then everything else after that would still be properly aligned?\r\n\r\n(Also at the start of this post I put &quot;Hey guys,&quot; but it looks like StackOverflow automatically removed it? I tried editing the question and reinserting it but it still got removed once posting. I tried putting &quot;Hey,&quot; but that got removed too. Does SO not believe in greetings??)","title":"Eclipse auto-indent incorrectly indents file","body":"<p>Something weird is happening to my Eclipse that I never remember happening before. Basically if I've got a long statement and split it onto two lines, then everything after that gets indented a tab further than it should be. Here's an example:</p>\n\n<p>Correct indentation:</p>\n\n<pre><code>public static class Shape {\n\n    enum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \n        SquareShape, LShape, MirroredLShape };\n\n    private Tetrominoes pieceShape;\n    private int coords[][];\n    private int[][][] coordsTable;\n\n    public Shape() {\n\n        coords = new int[4][2];\n        setShape(Tetrominoes.NoShape);\n    }\n\n    public void setShape(Tetrominoes shape) {\n\n    }\n\n}\n</code></pre>\n\n<p>What it looks like with Ctrl+A, Ctrl+I:</p>\n\n<pre><code>public static class Shape {\n\n    enum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \n        SquareShape, LShape, MirroredLShape };\n\n        private Tetrominoes pieceShape;\n        private int coords[][];\n        private int[][][] coordsTable;\n\n        public Shape() {\n\n            coords = new int[4][2];\n            setShape(Tetrominoes.NoShape);\n        }\n\n        public void setShape(Tetrominoes shape) {\n\n        }\n\n}\n</code></pre>\n\n<p>Now if I keep that enum on one line and auto-indent it, then it works out just fine. I just got a new laptop and put a fresh copy of Eclipse on it and didn't change any settings, so this is how the default auto-indent works. But I remember on my old laptop if I would split a statement onto two lines then everything else after that would still be properly aligned?</p>\n\n<p>(Also at the start of this post I put \"Hey guys,\" but it looks like StackOverflow automatically removed it? I tried editing the question and reinserting it but it still got removed once posting. I tried putting \"Hey,\" but that got removed too. Does SO not believe in greetings??)</p>\n"},{"tags":["java","javascript","android","binding"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1500593395,"post_id":27034897,"comment_id":77419729,"body_markdown":"Can you create the array on a server and have the Java code in your android app request it via HTTP?","body":"Can you create the array on a server and have the Java code in your android app request it via HTTP?"}],"answers":[{"tags":[],"owner":{"account_id":1537802,"reputation":903,"user_id":1433299,"accept_rate":80,"display_name":"markt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1416472241,"creation_date":1416472241,"answer_id":27034941,"question_id":27034897,"body_markdown":"Serialise your data into a string, then unserialize in your app.","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>Serialise your data into a string, then unserialize in your app.</p>\n"},{"tags":[],"owner":{"account_id":1424245,"reputation":272173,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500603242,"creation_date":1500603242,"answer_id":45227926,"question_id":27034897,"body_markdown":"Cloning the ArrayBuffer makes it work - something about a TypedArray backed with an ArrayBuffer doesn&#39;t marshall well into Android.\r\n\r\nIf you copy your ArrayBuffer into a new TypedArray you can avoid the expensive serialization overhead.\r\n\r\nOn the reader:\r\n\r\n    @JavascriptInterface\r\n    void onBytes(byte[] bytes) {\r\n       // bytes available here\r\n    }\r\n\r\nAnd on the JS side: \r\n\r\n    var byteArray = new Uint8Array(buffer);\r\n    var arr = new Uint8Array(byteArray.length);\r\n    for(var i = 0; i &lt; byteArray.length; i++) {\r\n      arr[i] = byteArray[i];\r\n    }\r\n    javaObject.onBytes(arr);\r\n\r\nWorks perfectly fine :) ","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>Cloning the ArrayBuffer makes it work - something about a TypedArray backed with an ArrayBuffer doesn't marshall well into Android.</p>\n\n<p>If you copy your ArrayBuffer into a new TypedArray you can avoid the expensive serialization overhead.</p>\n\n<p>On the reader:</p>\n\n<pre><code>@JavascriptInterface\nvoid onBytes(byte[] bytes) {\n   // bytes available here\n}\n</code></pre>\n\n<p>And on the JS side: </p>\n\n<pre><code>var byteArray = new Uint8Array(buffer);\nvar arr = new Uint8Array(byteArray.length);\nfor(var i = 0; i &lt; byteArray.length; i++) {\n  arr[i] = byteArray[i];\n}\njavaObject.onBytes(arr);\n</code></pre>\n\n<p>Works perfectly fine :) </p>\n"},{"tags":[],"owner":{"account_id":6658383,"reputation":8312,"user_id":5138198,"display_name":"Alex Nikulin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501850528,"creation_date":1500614473,"answer_id":45229538,"question_id":27034897,"body_markdown":"It is pretty simple\r\n\r\nInit section\r\n\r\n     JavaScriptInterface jsInterface = new JavaScriptInterface(this);\r\n     webView.getSettings().setJavaScriptEnabled(true);\r\n     webView.addJavascriptInterface(jsInterface, &quot;JSInterface&quot;);\r\n\r\nJavaScriptInterface\r\n\r\n    public class JavaScriptInterface {\r\n            private Activity activity;\r\n    \r\n            public JavaScriptInterface(Activity activiy) {\r\n                this.activity = activiy;\r\n            }\r\n            @JavascriptInterface\r\n            public void putData(byte[] bytes){\r\n                //do whatever\r\n            }\r\n        }\r\n\r\nJs section\r\n\r\n    &lt;script&gt;\r\n      function putAnyBinaryArray(arr) {\r\n            var uint8 = Uint8Array.from(arr);\r\n            window.JSInterface.putData(uint8);\r\n      };\r\n    &lt;/script&gt;\r\n\r\nTypedArray.from polyfill if need : [https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>It is pretty simple</p>\n\n<p>Init section</p>\n\n<pre><code> JavaScriptInterface jsInterface = new JavaScriptInterface(this);\n webView.getSettings().setJavaScriptEnabled(true);\n webView.addJavascriptInterface(jsInterface, \"JSInterface\");\n</code></pre>\n\n<p>JavaScriptInterface</p>\n\n<pre><code>public class JavaScriptInterface {\n        private Activity activity;\n\n        public JavaScriptInterface(Activity activiy) {\n            this.activity = activiy;\n        }\n        @JavascriptInterface\n        public void putData(byte[] bytes){\n            //do whatever\n        }\n    }\n</code></pre>\n\n<p>Js section</p>\n\n<pre><code>&lt;script&gt;\n  function putAnyBinaryArray(arr) {\n        var uint8 = Uint8Array.from(arr);\n        window.JSInterface.putData(uint8);\n  };\n&lt;/script&gt;\n</code></pre>\n\n<p>TypedArray.from polyfill if need : <a href=\"https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from</a></p>\n"},{"tags":[],"owner":{"account_id":1424245,"reputation":272173,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1501873983,"creation_date":1501849643,"answer_id":45506857,"question_id":27034897,"body_markdown":"Ok, so following a chat with Google engineering and after reading the code I&#39;ve reached the following conclusions.\r\n\r\n### Passing binary data efficiently is impossible\r\n\r\nIt is impossible to pass binary data efficiently between JavaScript and Java through a @JavascriptInterface:\r\n\r\nOn the Java side:\r\n\r\n    @JavascriptInterface\r\n    void onBytes(byte[] bytes) {\r\n       // bytes available here\r\n    }\r\n\r\nAnd on the JavaScript side: \r\n\r\n    var byteArray = new Uint8Array(buffer);\r\n    var arr = new Uint8Array(byteArray.length);\r\n    for(var i = 0; i &lt; byteArray.length; i++) {\r\n      arr[i] = byteArray[i];\r\n    }\r\n    javaObject.onBytes(arr);\r\n\r\nIn the code above (from my old answer) and in Alex&#39;s - [the conversion performed for the array](https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=573) is brutal:\r\n\r\n    case JavaType::TypeArray:\r\n      if (value-&gt;IsType(base::Value::Type::DICTIONARY)) {\r\n        result.l = CoerceJavaScriptDictionaryToArray(\r\n            env, value, target_type, object_refs, error);\r\n      } else if (value-&gt;IsType(base::Value::Type::LIST)) {\r\n        result.l = CoerceJavaScriptListToArray(\r\n            env, value, target_type, object_refs, error);\r\n      } else {\r\n        result.l = NULL;\r\n      }\r\n      break;\r\n\r\nWhich in turn [coerces every array element to a Java object](https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=470):\r\n\r\n    for (jsize i = 0; i &lt; length; ++i) {\r\n        const base::Value* value_element = null_value.get();\r\n        list_value-&gt;Get(i, &amp;value_element);\r\n        jvalue element = CoerceJavaScriptValueToJavaValue(\r\n            env, value_element, target_inner_type, false, object_refs, error);\r\n        SetArrayElement(env, result, target_inner_type, i, element);\r\n\r\nSo, for a `1024 * 1024 * 10` `Uint8Array` - ten million Java objects are created and destroyed on each pass resulting in 10 seconds of CPU time on my emulator.\r\n\r\n### Creating an HTTP server\r\n\r\nOne thing we tried was creating an HTTP server and `POST`ing the result to it via an `XMLHttpRequest`. This worked - but ended up costing about 200ms of latency and also introduced a [nasty memory leak](https://bugs.chromium.org/p/chromium/issues/detail?id=749482&amp;can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Pri%20M%20Stars%20ReleaseBlock%20Component%20Status%20Owner%20Summary%20OS%20Modified&amp;groupby=&amp;sort=).\r\n\r\n### MessageChannels are slow\r\n\r\nAndroid API 23 added support for [`MessageChannel`](https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel)s, which can be used via [`createWebMessageChannel()`](https://developer.android.com/reference/android/webkit/WebView.html#createWebMessageChannel()) as shown in [this answer](https://stackoverflow.com/questions/41753104/how-do-you-use-webmessageport-as-an-alternative-to-addjavascriptinterface). This is very slow, still serializes with GIN (like the `@JavascriptInterface` method) and incurs additional latency. I was not able to get this to work with reasonable performance.\r\n\r\nIt is worth mentioning that Google said they believe this is the way forward and hopes to promote message channels over `@JavascriptInterface` at some point.\r\n\r\n### Passing a string works\r\n\r\nAfter reading the conversion code - one can see (and this was confirmed by Google) that the only way to avoid many conversions is to pass a `String` value. This only goes through:\r\n\r\n    case JavaType::TypeString: {\r\n      std::string string_result;\r\n      value-&gt;GetAsString(&amp;string_result);\r\n      result.l = ConvertUTF8ToJavaString(env, string_result).Release();\r\n      break;\r\n    }\r\n\r\nWhich converts the result once to UTF8 and then again to a Java string. This still means the data (10MB in this case) is copied three times - but it is possible to pass 10MB of data in &quot;only&quot; 60ms - which is a lot more reasonable than the 10 seconds the above array method takes.\r\n\r\n[Petka](https://stackoverflow.com/users/995876/esailija) came up with the idea of using [8859](https://en.wikipedia.org/wiki/ISO/IEC_8859) encoding which can convert a single byte to a single letter. Unfortunately it is not supported in JavaScript&#39;s [TextDecoder](https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/TextDecoder) API - so [Windows-1252](https://en.wikipedia.org/wiki/Windows-1252) which is another 1 byte encoding can be used instead.\r\n\r\nOn the JavaScript side one can do:\r\n\r\n    var a = new Uint8Array(1024 * 1024 * 10); // your buffer\r\n    var b = a.buffer\r\n    // actually windows-1252 - but called iso-8859 in TextDecoder\r\n    var e = new TextDecoder(&quot;iso-8859-1&quot;); \r\n    var dec = e.decode(b);\r\n    proxy.onBytes(dec); // this is in the Java side.\r\n\r\nThen, in the Java side:\r\n\r\n    @JavascriptInterface\r\n    public void onBytes(String dec) throws UnsupportedEncodingException\r\n        byte[] bytes = dec.getBytes(&quot;windows-1252&quot;);\r\n        // work with bytes here\r\n    }\r\n\r\nWhich runs in about 1/8th the time of direct serialization. It&#39;s still not very fast (since the string is padded to 16 bits instead of 8, then through UTF8 and then to UTF16 again). However, it runs in reasonable speed compared to the alternative.\r\n\r\nAfter speaking with the relevant parties who are maintaining this code - they told me that it&#39;s as good as it can get with the current API. I was told I&#39;m the first person to ask for this (fast JavaScript to Java serialization).","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>Ok, so following a chat with Google engineering and after reading the code I've reached the following conclusions.</p>\n\n<h3>Passing binary data efficiently is impossible</h3>\n\n<p>It is impossible to pass binary data efficiently between JavaScript and Java through a @JavascriptInterface:</p>\n\n<p>On the Java side:</p>\n\n<pre><code>@JavascriptInterface\nvoid onBytes(byte[] bytes) {\n   // bytes available here\n}\n</code></pre>\n\n<p>And on the JavaScript side: </p>\n\n<pre><code>var byteArray = new Uint8Array(buffer);\nvar arr = new Uint8Array(byteArray.length);\nfor(var i = 0; i &lt; byteArray.length; i++) {\n  arr[i] = byteArray[i];\n}\njavaObject.onBytes(arr);\n</code></pre>\n\n<p>In the code above (from my old answer) and in Alex's - <a href=\"https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=573\" rel=\"noreferrer\">the conversion performed for the array</a> is brutal:</p>\n\n<pre><code>case JavaType::TypeArray:\n  if (value-&gt;IsType(base::Value::Type::DICTIONARY)) {\n    result.l = CoerceJavaScriptDictionaryToArray(\n        env, value, target_type, object_refs, error);\n  } else if (value-&gt;IsType(base::Value::Type::LIST)) {\n    result.l = CoerceJavaScriptListToArray(\n        env, value, target_type, object_refs, error);\n  } else {\n    result.l = NULL;\n  }\n  break;\n</code></pre>\n\n<p>Which in turn <a href=\"https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=470\" rel=\"noreferrer\">coerces every array element to a Java object</a>:</p>\n\n<pre><code>for (jsize i = 0; i &lt; length; ++i) {\n    const base::Value* value_element = null_value.get();\n    list_value-&gt;Get(i, &amp;value_element);\n    jvalue element = CoerceJavaScriptValueToJavaValue(\n        env, value_element, target_inner_type, false, object_refs, error);\n    SetArrayElement(env, result, target_inner_type, i, element);\n</code></pre>\n\n<p>So, for a <code>1024 * 1024 * 10</code> <code>Uint8Array</code> - ten million Java objects are created and destroyed on each pass resulting in 10 seconds of CPU time on my emulator.</p>\n\n<h3>Creating an HTTP server</h3>\n\n<p>One thing we tried was creating an HTTP server and <code>POST</code>ing the result to it via an <code>XMLHttpRequest</code>. This worked - but ended up costing about 200ms of latency and also introduced a <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=749482&amp;can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Pri%20M%20Stars%20ReleaseBlock%20Component%20Status%20Owner%20Summary%20OS%20Modified&amp;groupby=&amp;sort=\" rel=\"noreferrer\">nasty memory leak</a>.</p>\n\n<h3>MessageChannels are slow</h3>\n\n<p>Android API 23 added support for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel\" rel=\"noreferrer\"><code>MessageChannel</code></a>s, which can be used via <a href=\"https://developer.android.com/reference/android/webkit/WebView.html#createWebMessageChannel()\" rel=\"noreferrer\"><code>createWebMessageChannel()</code></a> as shown in <a href=\"https://stackoverflow.com/questions/41753104/how-do-you-use-webmessageport-as-an-alternative-to-addjavascriptinterface\">this answer</a>. This is very slow, still serializes with GIN (like the <code>@JavascriptInterface</code> method) and incurs additional latency. I was not able to get this to work with reasonable performance.</p>\n\n<p>It is worth mentioning that Google said they believe this is the way forward and hopes to promote message channels over <code>@JavascriptInterface</code> at some point.</p>\n\n<h3>Passing a string works</h3>\n\n<p>After reading the conversion code - one can see (and this was confirmed by Google) that the only way to avoid many conversions is to pass a <code>String</code> value. This only goes through:</p>\n\n<pre><code>case JavaType::TypeString: {\n  std::string string_result;\n  value-&gt;GetAsString(&amp;string_result);\n  result.l = ConvertUTF8ToJavaString(env, string_result).Release();\n  break;\n}\n</code></pre>\n\n<p>Which converts the result once to UTF8 and then again to a Java string. This still means the data (10MB in this case) is copied three times - but it is possible to pass 10MB of data in \"only\" 60ms - which is a lot more reasonable than the 10 seconds the above array method takes.</p>\n\n<p><a href=\"https://stackoverflow.com/users/995876/esailija\">Petka</a> came up with the idea of using <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859\" rel=\"noreferrer\">8859</a> encoding which can convert a single byte to a single letter. Unfortunately it is not supported in JavaScript's <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/TextDecoder\" rel=\"noreferrer\">TextDecoder</a> API - so <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"noreferrer\">Windows-1252</a> which is another 1 byte encoding can be used instead.</p>\n\n<p>On the JavaScript side one can do:</p>\n\n<pre><code>var a = new Uint8Array(1024 * 1024 * 10); // your buffer\nvar b = a.buffer\n// actually windows-1252 - but called iso-8859 in TextDecoder\nvar e = new TextDecoder(\"iso-8859-1\"); \nvar dec = e.decode(b);\nproxy.onBytes(dec); // this is in the Java side.\n</code></pre>\n\n<p>Then, in the Java side:</p>\n\n<pre><code>@JavascriptInterface\npublic void onBytes(String dec) throws UnsupportedEncodingException\n    byte[] bytes = dec.getBytes(\"windows-1252\");\n    // work with bytes here\n}\n</code></pre>\n\n<p>Which runs in about 1/8th the time of direct serialization. It's still not very fast (since the string is padded to 16 bits instead of 8, then through UTF8 and then to UTF16 again). However, it runs in reasonable speed compared to the alternative.</p>\n\n<p>After speaking with the relevant parties who are maintaining this code - they told me that it's as good as it can get with the current API. I was told I'm the first person to ask for this (fast JavaScript to Java serialization).</p>\n"},{"tags":[],"owner":{"account_id":11258378,"reputation":381,"user_id":8257388,"display_name":"张浩然"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547104774,"creation_date":1547104315,"answer_id":54123534,"question_id":27034897,"body_markdown":"If you want **Sync** call, just use base64 encode &amp; decode: (https://stackoverflow.com/questions/21797299/convert-base64-string-to-arraybuffer/54123275#54123275)\r\n\r\n    @JavascriptInterface\r\n    void onBytes(String base64) {\r\n        // decode here\r\n    }\r\n\r\nIf you want **Async** call:\r\n\r\nYou can create http server in Android appliction, and then use &quot;xhr&quot; or &quot;fetch&quot; in javascript side to send binary or string async\r\n\r\n\r\n---\r\n**And don&#39;t use &quot;iso-8859-1&quot; or &quot;windows-1252&quot; mentioned above, it&#39;s dangerous !!!**  \r\n&quot;iso-8859-1&quot; has undefined code which can&#39;t be decode between javascript and java. (https://en.wikipedia.org/wiki/ISO/IEC_8859-1)","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>If you want <strong>Sync</strong> call, just use base64 encode &amp; decode: (<a href=\"https://stackoverflow.com/questions/21797299/convert-base64-string-to-arraybuffer/54123275#54123275\">Convert base64 string to ArrayBuffer</a>)</p>\n\n<pre><code>@JavascriptInterface\nvoid onBytes(String base64) {\n    // decode here\n}\n</code></pre>\n\n<p>If you want <strong>Async</strong> call:</p>\n\n<p>You can create http server in Android appliction, and then use \"xhr\" or \"fetch\" in javascript side to send binary or string async</p>\n\n<hr>\n\n<p><strong>And don't use \"iso-8859-1\" or \"windows-1252\" mentioned above, it's dangerous !!!</strong><br>\n\"iso-8859-1\" has undefined code which can't be decode between javascript and java. (<a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO/IEC_8859-1</a>)</p>\n"},{"tags":[],"owner":{"account_id":42200,"reputation":571,"user_id":122875,"display_name":"dominic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637873364,"creation_date":1637873364,"answer_id":70117090,"question_id":27034897,"body_markdown":"the code linked in the second answer https://source.chromium.org/chromium/chromium/src/+/master:content/browser/android/java/gin_java_script_to_java_types_coercion.cc;l=628?q=gin_java_scr&amp;ss=chromium\r\n\r\ndoesn&#39;t actually understand TypedArrays (it looks like it does because it says TypeArray but, everything in that file is TypeXZY)\r\n\r\nSo I can definitely imagine that it&#39;s faster to copy a string.\r\nHowever, there is no reason that it shouldn&#39;t be able to pass a typed array without copying, or at least with just a single raw copy.\r\n\r\nIt would require a patch to chromium though.","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>the code linked in the second answer <a href=\"https://source.chromium.org/chromium/chromium/src/+/master:content/browser/android/java/gin_java_script_to_java_types_coercion.cc;l=628?q=gin_java_scr&amp;ss=chromium\" rel=\"nofollow noreferrer\">https://source.chromium.org/chromium/chromium/src/+/master:content/browser/android/java/gin_java_script_to_java_types_coercion.cc;l=628?q=gin_java_scr&amp;ss=chromium</a></p>\n<p>doesn't actually understand TypedArrays (it looks like it does because it says TypeArray but, everything in that file is TypeXZY)</p>\n<p>So I can definitely imagine that it's faster to copy a string.\nHowever, there is no reason that it shouldn't be able to pass a typed array without copying, or at least with just a single raw copy.</p>\n<p>It would require a patch to chromium though.</p>\n"},{"tags":[],"owner":{"account_id":11815404,"reputation":27,"user_id":8645742,"display_name":"Peter Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643337901,"creation_date":1643337901,"answer_id":70888257,"question_id":27034897,"body_markdown":"in my case, app tranfers blob data each other without a http server, so there&#39;s no choice but to send arrayBuffer to javainterface, as follows:\r\n\r\n    //javascript\r\n    if ((window as any)?.JsBridge?.downloadFile) {\r\n          file.arrayBuffer().then(arr =&gt; {\r\n            (window as any)?.JsBridge?.downloadFile(new Uint8Array(arr), filename)\r\n          })\r\n    }\r\n    //java\r\n    @JavascriptInterface\r\n    public void downloadFile(byte[] bytes, String filename) {\r\n        NativeApi.log(&quot;downloadFile&quot;, filename + &quot;,&quot; + bytes.length);\r\n    }\r\nby the way, the file limit to 10M, toast something after asyncTask processed!","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>in my case, app tranfers blob data each other without a http server, so there's no choice but to send arrayBuffer to javainterface, as follows:</p>\n<pre><code>//javascript\nif ((window as any)?.JsBridge?.downloadFile) {\n      file.arrayBuffer().then(arr =&gt; {\n        (window as any)?.JsBridge?.downloadFile(new Uint8Array(arr), filename)\n      })\n}\n//java\n@JavascriptInterface\npublic void downloadFile(byte[] bytes, String filename) {\n    NativeApi.log(&quot;downloadFile&quot;, filename + &quot;,&quot; + bytes.length);\n}\n</code></pre>\n<p>by the way, the file limit to 10M, toast something after asyncTask processed!</p>\n"}],"owner":{"account_id":5362627,"reputation":205,"user_id":4273419,"display_name":"youpi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13382,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1643337901,"creation_date":1416472014,"question_id":27034897,"body_markdown":"I&#39;m stuck for a moment on this case.\r\n\r\nI have a webview on `Android 4.4.3` where I have a webapp who has `float32array` containing binary data. I would like to pass that `array` to the Java Android via a function binded with `JavascriptInterface`. \r\nHowever, it seems like in Java, I can only pass primitive types like `String`, `int` etc... \r\n\r\nIs there a way to give to Java this arrayBuffer ? \r\n\r\nThank you ! \r\n","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>I'm stuck for a moment on this case.</p>\n\n<p>I have a webview on <code>Android 4.4.3</code> where I have a webapp who has <code>float32array</code> containing binary data. I would like to pass that <code>array</code> to the Java Android via a function binded with <code>JavascriptInterface</code>. \nHowever, it seems like in Java, I can only pass primitive types like <code>String</code>, <code>int</code> etc... </p>\n\n<p>Is there a way to give to Java this arrayBuffer ? </p>\n\n<p>Thank you ! </p>\n"},{"tags":["java","unit-testing","mockito","vert.x","asynccallback"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1513872154,"post_id":47924091,"comment_id":82825653,"body_markdown":"Take a look at https://fernandocejas.com/2014/04/08/unit-testing-asynchronous-methods-with-mockito/","body":"Take a look at <a href=\"https://fernandocejas.com/2014/04/08/unit-testing-asynchronous-methods-with-mockito/\" rel=\"nofollow noreferrer\">fernandocejas.com/2014/04/08/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1519719624,"creation_date":1519680261,"answer_id":48997334,"question_id":47924091,"body_markdown":"Finally I got some times to investigate and I made it. Here is my solution.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockRunnerDelegate(VertxUnitRunner.class)\r\n    @PrepareForTest({ MongoClient.class })\r\n    public class PersistenceTest {\r\n\r\n    private MongoClient mongo;\r\n    private Vertx vertx;\r\n\r\n    @Before\r\n    public void initSingleTest(TestContext ctx) throws Exception {\r\n\t  vertx = Vertx.vertx();\r\n\t  mongo = Mockito.mock(MongoClient.class);\r\n\t  PowerMockito.mockStatic(MongoClient.class);\r\n\t  PowerMockito.when(MongoClient.createShared(Mockito.any(), Mockito.any())).thenReturn(mongo);\r\n\t  vertx.deployVerticle(Persistence.class, new DeploymentOptions(), ctx.asyncAssertSuccess());\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Test\r\n    public void loadSomeDocs(TestContext ctx) {\r\n\t  Doc expected = new Doc();\r\n\t  expected.setName(&quot;report&quot;);\r\n\t  expected.setPreview(&quot;loremipsum&quot;);\r\n\t  Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);\r\n\t  Mockito.when(msg.body()).thenReturn(JsonObject.mapFrom(expected));\r\n\t  JsonObject result = new JsonObject().put(&quot;name&quot;, &quot;report&quot;).put(&quot;preview&quot;, &quot;loremipsum&quot;);\r\n\t  AsyncResult&lt;JsonObject&gt; asyncResult = Mockito.mock(AsyncResult.class);\r\n\t  Mockito.when(asyncResult.succeeded()).thenReturn(true);\r\n\t  Mockito.when(asyncResult.result()).thenReturn(result);\r\n\t  Mockito.doAnswer(new Answer&lt;AsyncResult&lt;JsonObject&gt;&gt;() {\r\n\t    @Override\r\n\t    public AsyncResult&lt;JsonObject&gt; answer(InvocationOnMock arg0) throws Throwable {\r\n\t\t((Handler&lt;AsyncResult&lt;JsonObject&gt;&gt;) arg0.getArgument(3)).handle(asyncResult);\r\n\t\treturn null;\r\n\t    }\r\n\t  }).when(mongo).findOne(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\r\n\t  Async async = ctx.async();\r\n\t  vertx.eventBus().send(&quot;persistence&quot;, new JsonObject(), msgh -&gt; {\r\n\t    if (msgh.failed()) {\r\n\t\tSystem.out.println(msgh.cause().getMessage());\r\n\t    }\r\n\t    ctx.assertTrue(msgh.succeeded());\r\n\t    ctx.assertEquals(expected, Json.decodeValue(msgh.result().body().toString(), Doc.class));\r\n\t    async.complete();\r\n\t  });\r\n\t  async.await();\r\n      }\r\n    }\r\n\r\nUse `Powemockito` to mock the `MongoClient.createShared` static method, so you&#39;ll have your mock when verticle starts. Mocking async handler is a bit of code to write. As you can see mocking start at `Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);` and ends at `Mockito.doAnswer(new Answer...`. In the `Answer`&#39;s method pick the handler param and force it to handle your async result then you&#39;re done.","title":"Mocking a Vertx.io async handler","body":"<p>Finally I got some times to investigate and I made it. Here is my solution.</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(VertxUnitRunner.class)\n@PrepareForTest({ MongoClient.class })\npublic class PersistenceTest {\n\nprivate MongoClient mongo;\nprivate Vertx vertx;\n\n@Before\npublic void initSingleTest(TestContext ctx) throws Exception {\n  vertx = Vertx.vertx();\n  mongo = Mockito.mock(MongoClient.class);\n  PowerMockito.mockStatic(MongoClient.class);\n  PowerMockito.when(MongoClient.createShared(Mockito.any(), Mockito.any())).thenReturn(mongo);\n  vertx.deployVerticle(Persistence.class, new DeploymentOptions(), ctx.asyncAssertSuccess());\n}\n\n@SuppressWarnings(\"unchecked\")\n@Test\npublic void loadSomeDocs(TestContext ctx) {\n  Doc expected = new Doc();\n  expected.setName(\"report\");\n  expected.setPreview(\"loremipsum\");\n  Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);\n  Mockito.when(msg.body()).thenReturn(JsonObject.mapFrom(expected));\n  JsonObject result = new JsonObject().put(\"name\", \"report\").put(\"preview\", \"loremipsum\");\n  AsyncResult&lt;JsonObject&gt; asyncResult = Mockito.mock(AsyncResult.class);\n  Mockito.when(asyncResult.succeeded()).thenReturn(true);\n  Mockito.when(asyncResult.result()).thenReturn(result);\n  Mockito.doAnswer(new Answer&lt;AsyncResult&lt;JsonObject&gt;&gt;() {\n    @Override\n    public AsyncResult&lt;JsonObject&gt; answer(InvocationOnMock arg0) throws Throwable {\n    ((Handler&lt;AsyncResult&lt;JsonObject&gt;&gt;) arg0.getArgument(3)).handle(asyncResult);\n    return null;\n    }\n  }).when(mongo).findOne(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\n  Async async = ctx.async();\n  vertx.eventBus().send(\"persistence\", new JsonObject(), msgh -&gt; {\n    if (msgh.failed()) {\n    System.out.println(msgh.cause().getMessage());\n    }\n    ctx.assertTrue(msgh.succeeded());\n    ctx.assertEquals(expected, Json.decodeValue(msgh.result().body().toString(), Doc.class));\n    async.complete();\n  });\n  async.await();\n  }\n}\n</code></pre>\n\n<p>Use <code>Powemockito</code> to mock the <code>MongoClient.createShared</code> static method, so you'll have your mock when verticle starts. Mocking async handler is a bit of code to write. As you can see mocking start at <code>Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);</code> and ends at <code>Mockito.doAnswer(new Answer...</code>. In the <code>Answer</code>'s method pick the handler param and force it to handle your async result then you're done.</p>\n"},{"tags":[],"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643337557,"creation_date":1586220927,"answer_id":61071181,"question_id":47924091,"body_markdown":"Normally, I&#39;d use a comment to post this, but formatting gets lost. The accepted solution is works great, just note that it can be simplified a bit using Java 8+, and you can use your actual objects instead of JSON.\r\n\r\n\r\n    doAnswer((Answer&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments -&gt; {\r\n                ((Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments.getArgument(1)).handle(asyncResult);\r\n                return null;\r\n            }).when(sampleService).findSamplesBySampleFilter(any(), any());\r\n\r\ngetArgument(1), refers to the index of the handler argument in a method such as: \r\n\r\n    @Fluent\r\n    @Nonnull\r\n    SampleService findSamplesBySampleFilter(@Nonnull final SampleFilter sampleFilter,\r\n                                      @Nonnull final Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt; resultHandler);","title":"Mocking a Vertx.io async handler","body":"<p>Normally, I'd use a comment to post this, but formatting gets lost. The accepted solution is works great, just note that it can be simplified a bit using Java 8+, and you can use your actual objects instead of JSON.</p>\n<pre><code>doAnswer((Answer&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments -&gt; {\n            ((Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments.getArgument(1)).handle(asyncResult);\n            return null;\n        }).when(sampleService).findSamplesBySampleFilter(any(), any());\n</code></pre>\n<p>getArgument(1), refers to the index of the handler argument in a method such as:</p>\n<pre><code>@Fluent\n@Nonnull\nSampleService findSamplesBySampleFilter(@Nonnull final SampleFilter sampleFilter,\n                                  @Nonnull final Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt; resultHandler);\n</code></pre>\n"}],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8906,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48997334,"answer_count":2,"score":8,"last_activity_date":1643337557,"creation_date":1513856078,"question_id":47924091,"body_markdown":"when I was sync I wrote unit tests mocking the persistence part and check the caller&#39;s behavior. Here is an example about what I usually did:\r\n\r\n    @Mock\r\n    private OfferPersistenceServiceImpl persistenceService;\r\n    @Inject\r\n    @InjectMocks\r\n    private OfferServiceImpl offerService;\r\n    ...\r\n    @Test\r\n    public void createInvalidOffer() {\r\n\t  offer = new Offer(null, null, null, null, null, 4, 200D, 90D);\r\n\t  String expectedMessage = Offer.class.getName() + &quot; is not valid: &quot; + offer.toString();\r\n\t  Mockito.when(persistenceService.create(offer)).thenThrow(new IllegalArgumentException(expectedMessage));\r\n\t  Response response = offerService.create(offer);\r\n\t  Mockito.verify(persistenceService, Mockito.times(1)).create(offer);\r\n\t  Assert.assertEquals(INVALID_INPUT, response.getStatus());\r\n\t  String actualMessage = response.getEntity().toString();\r\n\t  Assert.assertEquals(expectedMessage, actualMessage);\r\n    }\r\nBut now I fell in love with Vertx.io (to which I am pretty new) and I want to be async. Nice. But Vertx has handlers, so the new persistence component to mock looks like this:\r\n\r\n    ...\r\n    mongoClient.insert(COLLECTION, offer, h-&gt; {\r\n      ...\r\n    });\r\n\r\nSo I am guessing how to mock handler `h` to tests class who&#39;s using that `mongoClient` or even if it is the right way to test with Vertx.io. I am using `vertx.io 3.5.0`, `junit 4.12` and `mockito 2.13.0`. Thanks.\r\n\r\n**Update**\r\nI tried to follow tsegimond suggestion but I can&#39;t get how Mockito&#39;s `Answer` and `ArgumentCaptor` can help me. Here is what I tried so far.\r\nUsing `ArgumentCaptor`:\r\n\r\n    JsonObject offer = Mockito.mock(JsonObject.class);\r\n    Mockito.when(msg.body()).thenReturn(offer);  \t\t\r\n    Mockito.doNothing().when(offerMongo).validate(offer);\r\n    RuntimeException rex = new RuntimeException(&quot;some message&quot;);\r\n    ...\r\n    ArgumentCaptor&lt;Handler&lt;AsyncResult&lt;String&gt;&gt;&gt; handlerCaptor =\r\n\tArgumentCaptor.forClass(Handler.class);\r\n\tArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; asyncResultCaptor =\r\n\tArgumentCaptor.forClass(AsyncResult.class);\r\n\tofferMongo.create(msg);\r\n    Mockito.verify(mongoClient,\r\n\tMockito.times(1)).insert(Mockito.anyString(), Mockito.any(), handlerCaptor.capture());\r\n\tMockito.verify(handlerCaptor.getValue(),\r\n\tMockito.times(1)).handle(asyncResultCaptor.capture());\r\n\tMockito.when(asyncResultCaptor.getValue().succeeded()).thenReturn(false);\r\n\tMockito.when(asyncResultCaptor.getValue().cause()).thenReturn(rex);\r\n\tAssert.assertEquals(Json.encode(rex), msg.body().encode());\r\n\r\nand using `Answer`:\r\n\r\n    ArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; handlerCaptor =\r\n\tArgumentCaptor.forClass(AsyncResult.class);\r\n\tAsyncResult&lt;String&gt; result = Mockito.mock(AsyncResult.class);\r\n\tMockito.when(result.succeeded()).thenReturn(true);\r\n\tMockito.when(result.cause()).thenReturn(rex);\r\n\tMockito.doAnswer(new Answer&lt;MongoClient&gt;() {\r\n\t  @Override\r\n\t  public MongoClient answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t((Handler&lt;AsyncResult&lt;String&gt;&gt;)\r\n\t\tinvocation.getArguments()[2]).handle(handlerCaptor.capture());\r\n\t\t    return null;\r\n\t\t  }\r\n\t    }).when(mongoClient).insert(Mockito.anyString(), Mockito.any(),\r\n\tMockito.any());\r\n\tuserMongo.create(msg);\r\n\tAssert.assertEquals(Json.encode(rex), msg.body().encode());\r\n\r\nAnd now I got confused. Is there a way to mock an `AsyncResult` to let it return false on `succeed()`?","title":"Mocking a Vertx.io async handler","body":"<p>when I was sync I wrote unit tests mocking the persistence part and check the caller's behavior. Here is an example about what I usually did:</p>\n\n<pre><code>@Mock\nprivate OfferPersistenceServiceImpl persistenceService;\n@Inject\n@InjectMocks\nprivate OfferServiceImpl offerService;\n...\n@Test\npublic void createInvalidOffer() {\n  offer = new Offer(null, null, null, null, null, 4, 200D, 90D);\n  String expectedMessage = Offer.class.getName() + \" is not valid: \" + offer.toString();\n  Mockito.when(persistenceService.create(offer)).thenThrow(new IllegalArgumentException(expectedMessage));\n  Response response = offerService.create(offer);\n  Mockito.verify(persistenceService, Mockito.times(1)).create(offer);\n  Assert.assertEquals(INVALID_INPUT, response.getStatus());\n  String actualMessage = response.getEntity().toString();\n  Assert.assertEquals(expectedMessage, actualMessage);\n}\n</code></pre>\n\n<p>But now I fell in love with Vertx.io (to which I am pretty new) and I want to be async. Nice. But Vertx has handlers, so the new persistence component to mock looks like this:</p>\n\n<pre><code>...\nmongoClient.insert(COLLECTION, offer, h-&gt; {\n  ...\n});\n</code></pre>\n\n<p>So I am guessing how to mock handler <code>h</code> to tests class who's using that <code>mongoClient</code> or even if it is the right way to test with Vertx.io. I am using <code>vertx.io 3.5.0</code>, <code>junit 4.12</code> and <code>mockito 2.13.0</code>. Thanks.</p>\n\n<p><strong>Update</strong>\nI tried to follow tsegimond suggestion but I can't get how Mockito's <code>Answer</code> and <code>ArgumentCaptor</code> can help me. Here is what I tried so far.\nUsing <code>ArgumentCaptor</code>:</p>\n\n<pre><code>JsonObject offer = Mockito.mock(JsonObject.class);\nMockito.when(msg.body()).thenReturn(offer);         \nMockito.doNothing().when(offerMongo).validate(offer);\nRuntimeException rex = new RuntimeException(\"some message\");\n...\nArgumentCaptor&lt;Handler&lt;AsyncResult&lt;String&gt;&gt;&gt; handlerCaptor =\nArgumentCaptor.forClass(Handler.class);\nArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; asyncResultCaptor =\nArgumentCaptor.forClass(AsyncResult.class);\nofferMongo.create(msg);\nMockito.verify(mongoClient,\nMockito.times(1)).insert(Mockito.anyString(), Mockito.any(), handlerCaptor.capture());\nMockito.verify(handlerCaptor.getValue(),\nMockito.times(1)).handle(asyncResultCaptor.capture());\nMockito.when(asyncResultCaptor.getValue().succeeded()).thenReturn(false);\nMockito.when(asyncResultCaptor.getValue().cause()).thenReturn(rex);\nAssert.assertEquals(Json.encode(rex), msg.body().encode());\n</code></pre>\n\n<p>and using <code>Answer</code>:</p>\n\n<pre><code>ArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; handlerCaptor =\nArgumentCaptor.forClass(AsyncResult.class);\nAsyncResult&lt;String&gt; result = Mockito.mock(AsyncResult.class);\nMockito.when(result.succeeded()).thenReturn(true);\nMockito.when(result.cause()).thenReturn(rex);\nMockito.doAnswer(new Answer&lt;MongoClient&gt;() {\n  @Override\n  public MongoClient answer(InvocationOnMock invocation) throws Throwable {\n    ((Handler&lt;AsyncResult&lt;String&gt;&gt;)\n    invocation.getArguments()[2]).handle(handlerCaptor.capture());\n        return null;\n      }\n    }).when(mongoClient).insert(Mockito.anyString(), Mockito.any(),\nMockito.any());\nuserMongo.create(msg);\nAssert.assertEquals(Json.encode(rex), msg.body().encode());\n</code></pre>\n\n<p>And now I got confused. Is there a way to mock an <code>AsyncResult</code> to let it return false on <code>succeed()</code>?</p>\n"},{"tags":["java","mysql","spring-boot","heroku","cleardb"],"comments":[{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1642526971,"post_id":70759516,"comment_id":125092267,"body_markdown":"Welcome to Stack Overflow. [HTTP 500](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#5xx_Server_Error) is a generic server-side error message. On its own it doesn&#39;t tell us anything useful. Any time you see this your first step should be to check your error logs for more detail. On Heroku, you can do this by running [`heroku logs`](https://devcenter.heroku.com/articles/heroku-cli-commands#heroku-logs).","body":"Welcome to Stack Overflow. <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#5xx_Server_Error\" rel=\"nofollow noreferrer\">HTTP 500</a> is a generic server-side error message. On its own it doesn&#39;t tell us anything useful. Any time you see this your first step should be to check your error logs for more detail. On Heroku, you can do this by running <a href=\"https://devcenter.heroku.com/articles/heroku-cli-commands#heroku-logs\" rel=\"nofollow noreferrer\"><code>heroku logs</code></a>."},{"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"score":0,"creation_date":1642529990,"post_id":70759516,"comment_id":125093507,"body_markdown":"@Chris, Thank you, but ERROR 4[io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause. **My home.html is locate default src/main/resources/Templates/home.html and thymeleaf have connecting &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; . I don`t see promblem here.**","body":"@Chris, Thank you, but ERROR 4[io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause. <b>My home.html is locate default src/main/resources/Templates/home.html and thymeleaf have connecting &lt;html xmlns:th=&quot;<a href=\"http://www.thymeleaf.org\" rel=\"nofollow noreferrer\">thymeleaf.org</a>&quot;&gt; . I don`t see promblem here.</b>"},{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1642531601,"post_id":70759516,"comment_id":125094099,"body_markdown":"You might not see a problem, but that&#39;s why you&#39;re here asking a question. Others might see something you missed. Please [edit] that into your question as a code block along with any other error messages that might precede it.","body":"You might not see a problem, but that&#39;s why you&#39;re here asking a question. Others might see something you missed. Please <a href=\"https://stackoverflow.com/posts/70759516/edit\">edit</a> that into your question as a code block along with any other error messages that might precede it."},{"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"score":0,"creation_date":1642532016,"post_id":70759516,"comment_id":125094238,"body_markdown":"@Chris, Thank you very much. Edited the question :)","body":"@Chris, Thank you very much. Edited the question :)"}],"answers":[{"tags":[],"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642582192,"creation_date":1642537523,"answer_id":70761966,"question_id":70759516,"body_markdown":"Problem solved by changing the folder structure:\r\n\r\nsrc/main/resources/**Templates** -&gt; src/main/resources/**templates**\r\n\r\nPS:\r\nFolder names must be strictly followed for Heroku in this case.","title":"Spring Boot + ClearDB mySQL App deploy Heroku problem","body":"<p>Problem solved by changing the folder structure:</p>\n<p>src/main/resources/<strong>Templates</strong> -&gt; src/main/resources/<strong>templates</strong></p>\n<p>PS:\nFolder names must be strictly followed for Heroku in this case.</p>\n"}],"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70761966,"answer_count":1,"score":0,"last_activity_date":1643337024,"creation_date":1642525334,"question_id":70759516,"body_markdown":"I tried to deploy the application on Heroku, but after **connecting ClearDB mySQL I get an error 500**.\r\n\r\n**heroku logs:** \r\n\r\n    2022-01-18 18:09:20.331 ERROR 4 --- [io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\r\n    2022-01-18T18:09:20.332252+00:00 app[web.1]:\r\n    2022-01-18T18:09:20.332253+00:00 app[web.1]: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\r\n","title":"Spring Boot + ClearDB mySQL App deploy Heroku problem","body":"<p>I tried to deploy the application on Heroku, but after <strong>connecting ClearDB mySQL I get an error 500</strong>.</p>\n<p><strong>heroku logs:</strong></p>\n<pre><code>2022-01-18 18:09:20.331 ERROR 4 --- [io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\n2022-01-18T18:09:20.332252+00:00 app[web.1]:\n2022-01-18T18:09:20.332253+00:00 app[web.1]: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n"},{"tags":["java","spring","list","sorting"],"answers":[{"tags":[],"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643335721,"creation_date":1643335721,"answer_id":70888053,"question_id":70882298,"body_markdown":"is delas have shareId ? then try this \r\n\r\n\r\n```java\r\nmodel.addAttribute(&quot;deals&quot;, deals.stream().filter(t-&gt;t.getShareId() == shareId));\r\n\r\n```\r\n\r\nusing java lambda filter\r\n","title":"Needing help sorting through a list in JAVA using Spring","body":"<p>is delas have shareId ? then try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>model.addAttribute(&quot;deals&quot;, deals.stream().filter(t-&gt;t.getShareId() == shareId));\n\n</code></pre>\n<p>using java lambda filter</p>\n"}],"owner":{"account_id":24074344,"reputation":1,"user_id":18049894,"display_name":"Sabroad1982"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643335721,"creation_date":1643301474,"question_id":70882298,"body_markdown":"New and learning Java, using Spring.  Having some issues and just looking for a little direction.  I am creating a social app.  how can i sort my &quot;deal&quot; comments so i can only see those &quot;deal&quot; comments made for that specific &quot;share&quot;?  Users can make a share and on that share page users can make deal(more comments for that share only)  I have a list but that will show ALL the deals made, and that isn&#39;t what i want...\r\n\r\nHOME CONTROLLER\r\n```java\r\n\t@GetMapping(&quot;/{collectorId}/share/{id}&quot;)\r\n\tpublic String LetMakeADeal(@PathVariable(&quot;id&quot;) Long shareId, @ModelAttribute(&quot;newDeal&quot;) Deal theDeal,  Collector collector, Model model, HttpSession session, BindingResult result) {\r\n\t\tShare share = shareService.getOneShare(shareId);\r\n\t\tCollector collector1=collectorService.findCollectorById((Long) session.getAttribute(&quot;collectorId&quot;));\r\n\t\tList&lt;Deal&gt; deals = this.dealService.allDeals();\r\n\t\tmodel.addAttribute(&quot;collector&quot;,collector1);\r\n\t\tmodel.addAttribute(&quot;share&quot;, share);\r\n\t\tmodel.addAttribute(&quot;collectorLoggedIn&quot;,(Long)session.getAttribute(&quot;collectorId&quot;));\r\n\t\tmodel.addAttribute(&quot;deals&quot;, deals);\r\n\t\tsession.setAttribute(&quot;collectorId&quot;, collector1.getId());\r\n\t\tsession.setAttribute(&quot;collector&quot;, collector1.getId());\t\t\r\n\t\treturn &quot;dealwall.jsp&quot;;\r\n\t}\r\n```\r\nMY DEALWALL.JSP PAGE\r\n\r\n\t\t\t&lt;c:forEach items=&quot;${deals}&quot; var=&quot;deal&quot;&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;c:out value=&quot;${deal.collector.firstName }&quot;/&gt; Said:  &lt;c:out value=&quot;${deal.deal }&quot;/&gt;&lt;br&gt;\r\n\t\t\t\t\t&lt;c:if test=&quot;${deal.collector.id==collectorLoggedIn}&quot;&gt;\r\n\t\t\t\t\t&lt;br&gt;\r\n\t\t\t\t\t&lt;a class=&quot;button button1&quot; href=&quot;/deal/delete/${collector.id }/${deal.id }&quot;&gt;Delete&lt;/a&gt;\r\n\t\t\t\t\t&lt;/c:if&gt;\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t&lt;/c:forEach&gt;\t\r\n\t","title":"Needing help sorting through a list in JAVA using Spring","body":"<p>New and learning Java, using Spring.  Having some issues and just looking for a little direction.  I am creating a social app.  how can i sort my &quot;deal&quot; comments so i can only see those &quot;deal&quot; comments made for that specific &quot;share&quot;?  Users can make a share and on that share page users can make deal(more comments for that share only)  I have a list but that will show ALL the deals made, and that isn't what i want...</p>\n<p>HOME CONTROLLER</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/{collectorId}/share/{id}&quot;)\n    public String LetMakeADeal(@PathVariable(&quot;id&quot;) Long shareId, @ModelAttribute(&quot;newDeal&quot;) Deal theDeal,  Collector collector, Model model, HttpSession session, BindingResult result) {\n        Share share = shareService.getOneShare(shareId);\n        Collector collector1=collectorService.findCollectorById((Long) session.getAttribute(&quot;collectorId&quot;));\n        List&lt;Deal&gt; deals = this.dealService.allDeals();\n        model.addAttribute(&quot;collector&quot;,collector1);\n        model.addAttribute(&quot;share&quot;, share);\n        model.addAttribute(&quot;collectorLoggedIn&quot;,(Long)session.getAttribute(&quot;collectorId&quot;));\n        model.addAttribute(&quot;deals&quot;, deals);\n        session.setAttribute(&quot;collectorId&quot;, collector1.getId());\n        session.setAttribute(&quot;collector&quot;, collector1.getId());      \n        return &quot;dealwall.jsp&quot;;\n    }\n</code></pre>\n<p>MY DEALWALL.JSP PAGE</p>\n<pre><code>        &lt;c:forEach items=&quot;${deals}&quot; var=&quot;deal&quot;&gt;\n                \n                \n                &lt;c:out value=&quot;${deal.collector.firstName }&quot;/&gt; Said:  &lt;c:out value=&quot;${deal.deal }&quot;/&gt;&lt;br&gt;\n                &lt;c:if test=&quot;${deal.collector.id==collectorLoggedIn}&quot;&gt;\n                &lt;br&gt;\n                &lt;a class=&quot;button button1&quot; href=&quot;/deal/delete/${collector.id }/${deal.id }&quot;&gt;Delete&lt;/a&gt;\n                &lt;/c:if&gt;\n\n                \n                \n        &lt;/c:forEach&gt;    \n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1512319431,"post_id":47620626,"comment_id":82199251,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency/&hellip;</a>"},{"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"score":0,"creation_date":1512320414,"post_id":47620626,"comment_id":82199550,"body_markdown":"But that is still not working@JB NIzet","body":"But that is still not working@JB NIzet"},{"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"score":0,"creation_date":1512320431,"post_id":47620626,"comment_id":82199556,"body_markdown":"The same code tends to work on windows and not on mac","body":"The same code tends to work on windows and not on mac"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1512322224,"post_id":47620626,"comment_id":82200199,"body_markdown":"It works fine here (before, and after fixing the code, but you should definitely respect the threading rules).","body":"It works fine here (before, and after fixing the code, but you should definitely respect the threading rules)."},{"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"score":0,"creation_date":1512323469,"post_id":47620626,"comment_id":82200587,"body_markdown":"@JBNizet, are you using mac or windows?","body":"@JBNizet, are you using mac or windows?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1512323628,"post_id":47620626,"comment_id":82200645,"body_markdown":"I&#39;m on a Mac (macOS High Sierra).","body":"I&#39;m on a Mac (macOS High Sierra)."}],"answers":[{"tags":[],"owner":{"account_id":22322728,"reputation":111,"user_id":16545155,"display_name":"Darcy Sutton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643335357,"creation_date":1643335357,"answer_id":70888016,"question_id":47620626,"body_markdown":"I believe your problem is that you ran your commands in the wrong order. Sometimes, when setting up a JFrame, it will not appear if you run it in the run order. Try redoering:\r\n\r\n    setTitle(&quot;Welcome&quot;);\r\n    setResizable(true);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setSize(600,600);\r\n    setVisible(true);\r\n\r\nto:\r\n\r\n    setVisible(true);\r\n    setResizable(true);\r\n    setSize(600, 600);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setTitle(&quot;Welcome&quot;);\r\n\r\nThis doesn&#39;t always work, but it&#39;s worth a try. :)\r\n","title":"JFrame Not Appearing (mac issue?)","body":"<p>I believe your problem is that you ran your commands in the wrong order. Sometimes, when setting up a JFrame, it will not appear if you run it in the run order. Try redoering:</p>\n<pre><code>setTitle(&quot;Welcome&quot;);\nsetResizable(true);\nsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nsetSize(600,600);\nsetVisible(true);\n</code></pre>\n<p>to:</p>\n<pre><code>setVisible(true);\nsetResizable(true);\nsetSize(600, 600);\nsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nsetTitle(&quot;Welcome&quot;);\n</code></pre>\n<p>This doesn't always work, but it's worth a try. :)</p>\n"}],"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643335357,"creation_date":1512319205,"question_id":47620626,"body_markdown":"I am aware that several people have posted about this but no solution has worked for me. Can anyone tell me why a JFrame is not appearing from my code.\r\n\r\nCode:\r\n\r\n\r\n\r\n    import java.awt.Font;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class GUITestWindow extends JFrame{\r\n        public void GUI(){\r\n           setTitle(&quot;Welcome&quot;);\r\n           setResizable(true);\r\n           setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n           setSize(600,600);\r\n           setVisible(true);\r\n    \r\n       }\r\n    \r\n        public static void main(String[] args){\r\n            GUITestWindow a = new GUITestWindow();\r\n            a.GUI();\r\n        }\r\n    }\r\n\r\n\r\nThanks in advance!","title":"JFrame Not Appearing (mac issue?)","body":"<p>I am aware that several people have posted about this but no solution has worked for me. Can anyone tell me why a JFrame is not appearing from my code.</p>\n\n<p>Code:</p>\n\n<pre><code>import java.awt.Font;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class GUITestWindow extends JFrame{\n    public void GUI(){\n       setTitle(\"Welcome\");\n       setResizable(true);\n       setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n       setSize(600,600);\n       setVisible(true);\n\n   }\n\n    public static void main(String[] args){\n        GUITestWindow a = new GUITestWindow();\n        a.GUI();\n    }\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","string","integer"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643331161,"post_id":70887655,"comment_id":125318014,"body_markdown":"Read the [javadoc](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()) for `String.toCharArray`.  The solution you have found on the internet (?) is unnecessarily complicated.  (Remember: people who post things on the net don&#39;t necessarily know what they are talking about ...)","body":"Read the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\">javadoc</a> for <code>String.toCharArray</code>.  The solution you have found on the internet (?) is unnecessarily complicated.  (Remember: people who post things on the net don&#39;t necessarily know what they are talking about ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643331974,"post_id":70887655,"comment_id":125318165,"body_markdown":"*&quot;What I don&#39;t understand is why do I need the &quot; temp.charAt(i) - &#39;0&#39;&quot; part in order to store characters of String as elements of the array.&quot;* - For your purposes, you don&#39;t need to do that. What that is actually doing is converting digit characters to the corresponding values as integers; e.g. `&#39;0&#39;` -&gt; `0`, and so on.","body":"<i>&quot;What I don&#39;t understand is why do I need the &quot; temp.charAt(i) - &#39;0&#39;&quot; part in order to store characters of String as elements of the array.&quot;</i> - For your purposes, you don&#39;t need to do that. What that is actually doing is converting digit characters to the corresponding values as integers; e.g. <code>&#39;0&#39;</code> -&gt; <code>0</code>, and so on."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643332053,"creation_date":1643332053,"answer_id":70887747,"question_id":70887655,"body_markdown":"```&#39;0&#39;``` is the character ```&#39;0&#39;```, not the integer ```0```.  Characters are represented using int values (ascii code).  \r\nThe ascii code for ```&#39;0&#39;``` is the integer value ```48```.  \r\n\r\n```int n = (int) &#39;0&#39;;  //n would be 48.```\r\n\r\nSo, to convert ```&#39;0&#39;``` to the integer ```0```, you need to subtract ```&#39;0&#39;-&#39;0&#39; = 48-48 = 0```\r\n\r\nTo convert ```&#39;9&#39;``` to int ```9```:\r\n\r\n```&#39;9&#39; - &#39;0&#39; = 57-48 = 9```\r\n\r\nSee ASCII code https://en.wikipedia.org/wiki/ASCII","title":"Converting int to String and then String to int array","body":"<p><code>'0'</code> is the character <code>'0'</code>, not the integer <code>0</code>.  Characters are represented using int values (ascii code).<br />\nThe ascii code for <code>'0'</code> is the integer value <code>48</code>.</p>\n<p><code>int n = (int) '0';  //n would be 48.</code></p>\n<p>So, to convert <code>'0'</code> to the integer <code>0</code>, you need to subtract <code>'0'-'0' = 48-48 = 0</code></p>\n<p>To convert <code>'9'</code> to int <code>9</code>:</p>\n<p><code>'9' - '0' = 57-48 = 9</code></p>\n<p>See ASCII code <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ASCII</a></p>\n"},{"tags":[],"owner":{"account_id":10630747,"reputation":41,"user_id":7828981,"display_name":"Dipto Paul Dip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643334764,"creation_date":1643332939,"answer_id":70887823,"question_id":70887655,"body_markdown":"In many programming languages(Java, C etc.), a character variable does not contain a character value itself rather the [ascii value][1] of the character variable. The ascii value represents the character variable in numbers, and each character variable is assigned with some number range from 0 to 127(in decimal number system). For example, the ascii value of &#39;A&#39; is 65 and &#39;0&#39; is 48.\r\n\r\nYou can convert any digit character to integer by subtracting `&#39;0&#39;` from that character. This subtraction between characters is possible because of ascii values. \r\n\r\nImagine you want to convert digit character `&#39;9&#39;` to an integer `9`. ASCII value of character `&#39;9&#39;` is `57` and ASCII value of character `&#39;0&#39;` is `48`. Now, if you perform a subtraction operation of characters, `&#39;9&#39; - &#39;0&#39;`, it will be treated like `57 - 48` and thus will give you a result of `9`. This subtraction operation of characters converted a character `&#39;9&#39;` to an Integer `9`.\r\n\r\nTry this code example:\r\n```java\r\n    class Converter {\r\n        public static void main(String[] args) {\r\n            System.out.println(&#39;9&#39;-&#39;0&#39;); \r\n        }\r\n    }\r\n```\r\nYou can see all of the characters points to an ascii value,\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ASCII\r\n  [2]: https://i.stack.imgur.com/gLPZ8.png","title":"Converting int to String and then String to int array","body":"<p>In many programming languages(Java, C etc.), a character variable does not contain a character value itself rather the <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">ascii value</a> of the character variable. The ascii value represents the character variable in numbers, and each character variable is assigned with some number range from 0 to 127(in decimal number system). For example, the ascii value of 'A' is 65 and '0' is 48.</p>\n<p>You can convert any digit character to integer by subtracting <code>'0'</code> from that character. This subtraction between characters is possible because of ascii values.</p>\n<p>Imagine you want to convert digit character <code>'9'</code> to an integer <code>9</code>. ASCII value of character <code>'9'</code> is <code>57</code> and ASCII value of character <code>'0'</code> is <code>48</code>. Now, if you perform a subtraction operation of characters, <code>'9' - '0'</code>, it will be treated like <code>57 - 48</code> and thus will give you a result of <code>9</code>. This subtraction operation of characters converted a character <code>'9'</code> to an Integer <code>9</code>.</p>\n<p>Try this code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class Converter {\n        public static void main(String[] args) {\n            System.out.println('9'-'0'); \n        }\n    }\n</code></pre>\n<p>You can see all of the characters points to an ascii value,\n<a href=\"https://i.stack.imgur.com/gLPZ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLPZ8.png\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":23869635,"reputation":1,"user_id":17871510,"display_name":"Kristina Đukić"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1643335049,"creation_date":1643330958,"question_id":70887655,"body_markdown":"I&#39;ve been trying to do this simple program where I need to check which digit of an integer number is the biggest one. So my initial thought was that I shall convert it all into an array and go with the for loop to check which element of an array is biggest. In order to do this I converted integer into String and then characters of the String into elements of an array. I ran into problem and I looked online for solution. What I don&#39;t understand is why do I need the &quot; temp.charAt(i) - &#39;0&#39;&quot; part in order to store characters of String as elements of the array. Why can&#39;t it be only arrTemp[i] = temp.charAt(i), without the &quot;- &#39;0&#39;&quot; part.\r\n\r\n    \r\n\t\tString temp = Integer.toString(n);\r\n\t\tint arrTemp[] = new int[temp.length()];\r\n\t\tint max = arrTemp[0];\r\n\t\tfor(int i = 0; i&lt;temp.length(); i++) {\r\n\t\t\tarrTemp[i] = temp.charAt(i) - &#39;0&#39;;\r\n\r\n","title":"Converting int to String and then String to int array","body":"<p>I've been trying to do this simple program where I need to check which digit of an integer number is the biggest one. So my initial thought was that I shall convert it all into an array and go with the for loop to check which element of an array is biggest. In order to do this I converted integer into String and then characters of the String into elements of an array. I ran into problem and I looked online for solution. What I don't understand is why do I need the &quot; temp.charAt(i) - '0'&quot; part in order to store characters of String as elements of the array. Why can't it be only arrTemp[i] = temp.charAt(i), without the &quot;- '0'&quot; part.</p>\n<pre><code>    String temp = Integer.toString(n);\n    int arrTemp[] = new int[temp.length()];\n    int max = arrTemp[0];\n    for(int i = 0; i&lt;temp.length(); i++) {\n        arrTemp[i] = temp.charAt(i) - '0';\n</code></pre>\n"},{"tags":["java","android","xml","scrollbar"],"answers":[{"tags":[],"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643333682,"creation_date":1643333682,"answer_id":70887876,"question_id":70887587,"body_markdown":"Try to use custom EditText and overriding:\r\n\r\n`onScrollChanged(int l, int t, int oldl, int oldt)`\r\n\r\nwhich is inherited from TextView.","title":"How to detect if edit text is scrollable","body":"<p>Try to use custom EditText and overriding:</p>\n<p><code>onScrollChanged(int l, int t, int oldl, int oldt)</code></p>\n<p>which is inherited from TextView.</p>\n"}],"owner":{"account_id":17592156,"reputation":696,"user_id":12763792,"display_name":"dazai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643333682,"creation_date":1643330229,"question_id":70887587,"body_markdown":"I have an edit text in which I need to check if it is scrollable (it has scrollbars=true) to change one of its features. I am not sure how to be able to tell when the scrollbar has been enabled. Since the scrollbar is horizontal, counting the lines is not an option. What options are there to check this?","title":"How to detect if edit text is scrollable","body":"<p>I have an edit text in which I need to check if it is scrollable (it has scrollbars=true) to change one of its features. I am not sure how to be able to tell when the scrollbar has been enabled. Since the scrollbar is horizontal, counting the lines is not an option. What options are there to check this?</p>\n"},{"tags":["java","android","sockets","stream","bitmapfactory"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1643201678,"post_id":70861089,"comment_id":125275702,"body_markdown":"`inputStream.read(numOfBytes)` You cannot consume the whole stream and after that use BitmapFactory.decodeStream() as the stream is consumed then.","body":"<code>inputStream.read(numOfBytes)</code> You cannot consume the whole stream and after that use BitmapFactory.decodeStream() as the stream is consumed then."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643191027,"creation_date":1643191027,"answer_id":70861564,"question_id":70861089,"body_markdown":"When BitmapFactory.decodeStream() is ready it will close the stream. And hence the socket will be closed too. You say it hangs? Wel... hmmmm. hmmm.\r\n\r\nThat is why i said you earlier that the server should close the socket after having send the file. https://stackoverflow.com/questions/70850912/what-is-causing-my-image-to-corrupt-during-transfer-via-bluetooth-rfcomm-using-f\r\n\r\nIf you want to keep the connection open after a picture sent/received then you cannot use BitmapFactory.decodeStream(). – \r\n \r\n&gt;&gt;hoping to find a way to preliminarily set the expected image size before decoding the image, \r\n\r\nWell that is pretty standard. You let the sever first send an integer (four bytes) indicating the lenght/amount of following bytes. \r\n\r\nClient first reads that integer and could make a byte array with the right size where it puts the received bytes of the file. You can then use BitmapFactory.decodeByteArray(). (or something like that). ","title":"How to determine if BitmapFactory.decodeStream has finished decoding the image from a socket InputStream?","body":"<p>When BitmapFactory.decodeStream() is ready it will close the stream. And hence the socket will be closed too. You say it hangs? Wel... hmmmm. hmmm.</p>\n<p>That is why i said you earlier that the server should close the socket after having send the file. <a href=\"https://stackoverflow.com/questions/70850912/what-is-causing-my-image-to-corrupt-during-transfer-via-bluetooth-rfcomm-using-f\">What is causing my image to corrupt during transfer via Bluetooth RFCOMM using FTP?</a></p>\n<p>If you want to keep the connection open after a picture sent/received then you cannot use BitmapFactory.decodeStream(). –</p>\n<blockquote>\n<blockquote>\n<p>hoping to find a way to preliminarily set the expected image size before decoding the image,</p>\n</blockquote>\n</blockquote>\n<p>Well that is pretty standard. You let the sever first send an integer (four bytes) indicating the lenght/amount of following bytes.</p>\n<p>Client first reads that integer and could make a byte array with the right size where it puts the received bytes of the file. You can then use BitmapFactory.decodeByteArray(). (or something like that).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643333090,"creation_date":1643207194,"answer_id":70865021,"question_id":70861089,"body_markdown":"If the `decodeStream` doesn&#39;t complete, that most likely means that the `InputStream` it is trying to read from has blocked.  And that means that it hasn&#39;t received the data it expects.  \r\n\r\nThere is another *possible* explanation: the server could be sending a malformed image that is causing the decoder to get stuck on the client side.  One example in Java 5&#39;s image decoder ... long since fixed ... was [CVE-2006-6745](https://www.cve.org/CVERecord?id=CVE-2006-6745).  There may be more recent ones.\r\n\r\nApparently, unlike the Java SE image decoder classes, Android&#39;s `decodeStream` **does not call `close()`**.  That means that **there isn&#39;t any way to tell if the `decodeStream` call has completed apart from checking the value that it returns**.  The [javadoc][1] states:\r\n\r\n&gt; *&quot;If the input stream is null, or cannot be used to decode a bitmap, the function returns null. The stream&#39;s position will be where ever it was after the encoded data was read.&quot;*\r\n\r\nBut I think you are really missing the point.  Correct me if I am wrong, but what you are actually trying to do is to stop the client size from blocking the server and vice versa.  The solution to that is to use timers or timeouts.  \r\n\r\n  - On the server side, use a timer to detect that it has taken too long to send the (complete) image file.  \r\n\r\n  - On the client side, use a timer to detect that the `decoderStream` has taken too long.  \r\n\r\n  - In either case, the your code should then be able to call close the stream.  On the client side, the `decoderStream` call should then  return `null`.  (At least, that is what the documentation seems to imply.)\r\n\r\n-----------------------\r\n\r\nYour idea for fixing this was something like the following:\r\n\r\n    byte[] numOfBytes = new byte[inputStream.available()];\r\n    inputStream.read(numOfBytes);\r\n    BitmapFactory.Options options = new BitmapFactory.Options();\r\n    options.setExpectedImageSize(numOfBytes);\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\r\n\r\nThis approach is fatally flawed.\r\n\r\n  1.  Calling `InputStream.available` on a socket input stream **ONLY** tells you how much data can be read **without blocking**.  Basically, that is the data that has already been received into the kernel TCP/IP buffers on the client side.  It probably won&#39;t be the entire image.\r\n\r\n      Basically, calling `InputStream.available` is rarely the right thing to do.  (IMO, it would be a good idea if they deprecated it ... though I doubt that they will.) \r\n\r\n  2.  Therefore `inputStream.read(numOfBytes)` won&#39;t read the entire image.  \r\n\r\n  3.  But then you don&#39;t do anything useful with `numOfBytes`.\r\n\r\n  4.  There isn&#39;t a way to set an &quot;expected image size&quot; in the `Options`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/BitmapFactory#decodeStream(java.io.InputStream)","title":"How to determine if BitmapFactory.decodeStream has finished decoding the image from a socket InputStream?","body":"<p>If the <code>decodeStream</code> doesn't complete, that most likely means that the <code>InputStream</code> it is trying to read from has blocked.  And that means that it hasn't received the data it expects.</p>\n<p>There is another <em>possible</em> explanation: the server could be sending a malformed image that is causing the decoder to get stuck on the client side.  One example in Java 5's image decoder ... long since fixed ... was <a href=\"https://www.cve.org/CVERecord?id=CVE-2006-6745\" rel=\"nofollow noreferrer\">CVE-2006-6745</a>.  There may be more recent ones.</p>\n<p>Apparently, unlike the Java SE image decoder classes, Android's <code>decodeStream</code> <strong>does not call <code>close()</code></strong>.  That means that <strong>there isn't any way to tell if the <code>decodeStream</code> call has completed apart from checking the value that it returns</strong>.  The <a href=\"https://developer.android.com/reference/android/graphics/BitmapFactory#decodeStream(java.io.InputStream)\" rel=\"nofollow noreferrer\">javadoc</a> states:</p>\n<blockquote>\n<p><em>&quot;If the input stream is null, or cannot be used to decode a bitmap, the function returns null. The stream's position will be where ever it was after the encoded data was read.&quot;</em></p>\n</blockquote>\n<p>But I think you are really missing the point.  Correct me if I am wrong, but what you are actually trying to do is to stop the client size from blocking the server and vice versa.  The solution to that is to use timers or timeouts.</p>\n<ul>\n<li><p>On the server side, use a timer to detect that it has taken too long to send the (complete) image file.</p>\n</li>\n<li><p>On the client side, use a timer to detect that the <code>decoderStream</code> has taken too long.</p>\n</li>\n<li><p>In either case, the your code should then be able to call close the stream.  On the client side, the <code>decoderStream</code> call should then  return <code>null</code>.  (At least, that is what the documentation seems to imply.)</p>\n</li>\n</ul>\n<hr />\n<p>Your idea for fixing this was something like the following:</p>\n<pre><code>byte[] numOfBytes = new byte[inputStream.available()];\ninputStream.read(numOfBytes);\nBitmapFactory.Options options = new BitmapFactory.Options();\noptions.setExpectedImageSize(numOfBytes);\nBitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\n</code></pre>\n<p>This approach is fatally flawed.</p>\n<ol>\n<li><p>Calling <code>InputStream.available</code> on a socket input stream <strong>ONLY</strong> tells you how much data can be read <strong>without blocking</strong>.  Basically, that is the data that has already been received into the kernel TCP/IP buffers on the client side.  It probably won't be the entire image.</p>\n<p>Basically, calling <code>InputStream.available</code> is rarely the right thing to do.  (IMO, it would be a good idea if they deprecated it ... though I doubt that they will.)</p>\n</li>\n<li><p>Therefore <code>inputStream.read(numOfBytes)</code> won't read the entire image.</p>\n</li>\n<li><p>But then you don't do anything useful with <code>numOfBytes</code>.</p>\n</li>\n<li><p>There isn't a way to set an &quot;expected image size&quot; in the <code>Options</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22803923,"reputation":23,"user_id":16956202,"display_name":"galligio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643333090,"creation_date":1643188834,"question_id":70861089,"body_markdown":"I&#39;m developing an Android app that receives an image via `BluetoothSocket` and I&#39;m trying to retrieve its `Bitmap` by using the `BitmapFactory.decodeStream()` method, so something like:\r\n\r\n    // Create BluetoothSocket socket and connect\r\n    // ...\r\n\r\n    // Get input stream\r\n    InputStream inputStream = socket.getInputStream();\r\n\r\n    // Get image bitmap\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream);\r\n\r\nWhat happens is that the application gets stuck on `BitmapFactory.decodeStream()`. To stop the application from hanging forever I have to manually close the socket from the remote device, and only after that the image gets decoded and returned successfully, but this is not a feasible solution for my application since I want the image to be transmitted programmatically. Another thing I tried was to create a separate `Thread` and call `decodeStream()` inside of it, then call `Thread.start()` and then `Thread.join(milliseconds)` with a hard-coded amount of time to wait before killing the thread. This works but I&#39;d like to avoid it for 2 reasons:\r\n\r\n - I want the transfer to be as fast as possible, but in this case if the image is smaller than expected the thread takes longer than needed\r\n - If the image is bigger than expected, the thread could finish while the data is still being processed, causing some data loss\r\n\r\nI looked at the documentation hoping to find a way to preliminarily set the expected image size before decoding the image, so that the app knows when the data has been received correctly, something like:\r\n\r\n    // Estimate length of expected data (size of image in bytes)\r\n    byte[] numOfBytes = new byte[inputStream.available()];\r\n    inputStream.read(numOfBytes)\r\n\r\n    // Set preliminary options\r\n    BitmapFactory.Options options = new BitmapFactory.Options();\r\n    options.setExpectedImageSize(numOfBytes)          // what I would ideally want: set fixed number of bytes \r\n                                                      // to let the BitmapFactory.decodeStream() method know when\r\n                                                      // the decoding is over\r\n\r\n    // Get image bitmap\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\r\n\r\nbut such procedure doesn&#39;t seem to exist. \r\n\r\nIs there any way I can achieve this?\r\n\r\n**CODE**\r\n\r\n**Server side (C#)**\r\n\r\n    // Create bluetooth socket \r\n    // ...\r\n\r\n    DataWriter writer = new DataWriter(socket.OutputStream);\r\n\r\n    // Send image byte array\r\n    writer.WriteBytes(imageByteArray);\r\n    await writer.StoreAsync();\r\n    await writer.FlushAsync();\r\n\r\n    writer.Dispose();\r\n    socket.Dispose();\r\n\r\n**Client side (Java)**\r\n\r\n    // Create bluetooth socket and connect\r\n    // ...\r\n\r\n    InputStream inputStream = socket.getInputStream();\r\n\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream);\r\n\r\n    return bmp;\r\n\r\nSent: \r\n[![Sent image][1]][1]\r\n\r\nReceived:\r\n[![Recevied image][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iyt5Q.jpg\r\n  [2]: https://i.stack.imgur.com/Ksjiv.jpg","title":"How to determine if BitmapFactory.decodeStream has finished decoding the image from a socket InputStream?","body":"<p>I'm developing an Android app that receives an image via <code>BluetoothSocket</code> and I'm trying to retrieve its <code>Bitmap</code> by using the <code>BitmapFactory.decodeStream()</code> method, so something like:</p>\n<pre><code>// Create BluetoothSocket socket and connect\n// ...\n\n// Get input stream\nInputStream inputStream = socket.getInputStream();\n\n// Get image bitmap\nBitmap bmp = BitmapFactory.decodeStream(inputStream);\n</code></pre>\n<p>What happens is that the application gets stuck on <code>BitmapFactory.decodeStream()</code>. To stop the application from hanging forever I have to manually close the socket from the remote device, and only after that the image gets decoded and returned successfully, but this is not a feasible solution for my application since I want the image to be transmitted programmatically. Another thing I tried was to create a separate <code>Thread</code> and call <code>decodeStream()</code> inside of it, then call <code>Thread.start()</code> and then <code>Thread.join(milliseconds)</code> with a hard-coded amount of time to wait before killing the thread. This works but I'd like to avoid it for 2 reasons:</p>\n<ul>\n<li>I want the transfer to be as fast as possible, but in this case if the image is smaller than expected the thread takes longer than needed</li>\n<li>If the image is bigger than expected, the thread could finish while the data is still being processed, causing some data loss</li>\n</ul>\n<p>I looked at the documentation hoping to find a way to preliminarily set the expected image size before decoding the image, so that the app knows when the data has been received correctly, something like:</p>\n<pre><code>// Estimate length of expected data (size of image in bytes)\nbyte[] numOfBytes = new byte[inputStream.available()];\ninputStream.read(numOfBytes)\n\n// Set preliminary options\nBitmapFactory.Options options = new BitmapFactory.Options();\noptions.setExpectedImageSize(numOfBytes)          // what I would ideally want: set fixed number of bytes \n                                                  // to let the BitmapFactory.decodeStream() method know when\n                                                  // the decoding is over\n\n// Get image bitmap\nBitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\n</code></pre>\n<p>but such procedure doesn't seem to exist.</p>\n<p>Is there any way I can achieve this?</p>\n<p><strong>CODE</strong></p>\n<p><strong>Server side (C#)</strong></p>\n<pre><code>// Create bluetooth socket \n// ...\n\nDataWriter writer = new DataWriter(socket.OutputStream);\n\n// Send image byte array\nwriter.WriteBytes(imageByteArray);\nawait writer.StoreAsync();\nawait writer.FlushAsync();\n\nwriter.Dispose();\nsocket.Dispose();\n</code></pre>\n<p><strong>Client side (Java)</strong></p>\n<pre><code>// Create bluetooth socket and connect\n// ...\n\nInputStream inputStream = socket.getInputStream();\n\nBitmap bmp = BitmapFactory.decodeStream(inputStream);\n\nreturn bmp;\n</code></pre>\n<p>Sent:\n<a href=\"https://i.stack.imgur.com/Iyt5Q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iyt5Q.jpg\" alt=\"Sent image\" /></a></p>\n<p>Received:\n<a href=\"https://i.stack.imgur.com/Ksjiv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ksjiv.jpg\" alt=\"Recevied image\" /></a></p>\n"},{"tags":["java","rest","jsoup"],"answers":[{"tags":[],"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643332016,"creation_date":1643332016,"answer_id":70887744,"question_id":70881351,"body_markdown":"To parse HTML into a Document just parse the body:\r\n```\r\n Document document = Jsoup.parse(response.body());\r\n```\r\nAnd that&#39;s it.  \r\nAlso do you really need a reponse as a Response object?\r\nYou can get the Document by simply calling:\r\n```\r\nDocument document = Jsoup.connect(&quot;http://example.com/&quot;).get();\r\n```\r\n\r\nTake a look at these very simple examples to see if there&#39;s a better way to do what you&#39;re trying to achieve:\r\nhttps://jsoup.org/cookbook/input/load-document-from-url\r\n","title":"Jsoup parse response without logging to console","body":"<p>To parse HTML into a Document just parse the body:</p>\n<pre><code> Document document = Jsoup.parse(response.body());\n</code></pre>\n<p>And that's it.<br />\nAlso do you really need a reponse as a Response object?\nYou can get the Document by simply calling:</p>\n<pre><code>Document document = Jsoup.connect(&quot;http://example.com/&quot;).get();\n</code></pre>\n<p>Take a look at these very simple examples to see if there's a better way to do what you're trying to achieve:\n<a href=\"https://jsoup.org/cookbook/input/load-document-from-url\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/input/load-document-from-url</a></p>\n"}],"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70887744,"answer_count":1,"score":0,"last_activity_date":1643332016,"creation_date":1643297783,"question_id":70881351,"body_markdown":"I have a tiny problem with Jsoup.  \r\nI am using this snippet of code\r\n\r\n```\r\n        Response response = getAccount(); // GET Response in HTML format\r\n        Document document = Jsoup.parse(response.body().prettyPrint());\r\n```\r\n\r\nAnd it prints to console all the response, which is very messy, as response is in HTML format. I read that `prettyPeek()` is not logging response, but return value of `prettyPeek()` is not String type but Response, and even if I use `prettyPeek().toString()` my code doesn&#39;t work. Please tell me what snippet will work the same way as mine, but without logging to console.\r\n","title":"Jsoup parse response without logging to console","body":"<p>I have a tiny problem with Jsoup.<br />\nI am using this snippet of code</p>\n<pre><code>        Response response = getAccount(); // GET Response in HTML format\n        Document document = Jsoup.parse(response.body().prettyPrint());\n</code></pre>\n<p>And it prints to console all the response, which is very messy, as response is in HTML format. I read that <code>prettyPeek()</code> is not logging response, but return value of <code>prettyPeek()</code> is not String type but Response, and even if I use <code>prettyPeek().toString()</code> my code doesn't work. Please tell me what snippet will work the same way as mine, but without logging to console.</p>\n"},{"tags":["java","neo4j","cypher","unwind"],"answers":[{"tags":[],"owner":{"account_id":273888,"reputation":163,"user_id":565785,"display_name":"fahran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643282824,"creation_date":1643282824,"answer_id":70877790,"question_id":70876421,"body_markdown":"Using `apoc.coll.pairsMin` you can extract pairs of adjacent node properties: https://neo4j.com/labs/apoc/4.0/data-structures/collection-list-functions/\r\n\r\nSo in their example, \r\n```\r\napoc.coll.pairsMin([1,2,3]) YIELD value\r\n```\r\nreturns:\r\n```\r\n[[1,2],[2,3]]\r\n```\r\n\r\n\r\nSo to put it into practice and link adjacent pairs of nodes created from a list of maps, I created a list similar to your $nodeProperties, and linked them:\r\n\r\n```\r\nWITH [{a: &quot;foo0&quot;, b: &quot;bar0&quot;}, {a: &quot;foo1&quot;, b: &quot;bar1&quot;}, {a: &quot;foo2&quot;, b: &quot;bar2&quot;}] as allNodes\r\nWITH apoc.coll.pairsMin(allNodes) as nodePairs\r\nUNWIND nodePairs as pair\r\nMERGE (n0:Foo {name: pair[0].a, prop: pair[0].b})\r\nMERGE (n1:Foo {name: pair[1].a, prop: pair[1].b})\r\nMERGE (n0)-[:RELATION]-(n1)\r\nRETURN *\r\n```\r\n[![Nodes linked together][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PT7tn.png","title":"Create relationship between nodes created from UNWIND list","body":"<p>Using <code>apoc.coll.pairsMin</code> you can extract pairs of adjacent node properties: <a href=\"https://neo4j.com/labs/apoc/4.0/data-structures/collection-list-functions/\" rel=\"nofollow noreferrer\">https://neo4j.com/labs/apoc/4.0/data-structures/collection-list-functions/</a></p>\n<p>So in their example,</p>\n<pre><code>apoc.coll.pairsMin([1,2,3]) YIELD value\n</code></pre>\n<p>returns:</p>\n<pre><code>[[1,2],[2,3]]\n</code></pre>\n<p>So to put it into practice and link adjacent pairs of nodes created from a list of maps, I created a list similar to your $nodeProperties, and linked them:</p>\n<pre><code>WITH [{a: &quot;foo0&quot;, b: &quot;bar0&quot;}, {a: &quot;foo1&quot;, b: &quot;bar1&quot;}, {a: &quot;foo2&quot;, b: &quot;bar2&quot;}] as allNodes\nWITH apoc.coll.pairsMin(allNodes) as nodePairs\nUNWIND nodePairs as pair\nMERGE (n0:Foo {name: pair[0].a, prop: pair[0].b})\nMERGE (n1:Foo {name: pair[1].a, prop: pair[1].b})\nMERGE (n0)-[:RELATION]-(n1)\nRETURN *\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PT7tn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PT7tn.png\" alt=\"Nodes linked together\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9963444,"reputation":12317,"user_id":7371893,"display_name":"jose_bacoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643329483,"creation_date":1643304072,"answer_id":70882951,"question_id":70876421,"body_markdown":"You can use UNWIND to create a linked nodes. First create the nodes for your nodeProperties list then create the NEXT_EVENT relationship.\r\n\r\nBelow query will create a node1 linked to node2 in your list $nodeProperties.  UNWIND will create another list of index numbers from 0 to end (except the last item). Then merge (or match if it exists) the node based on the name (assuming your node primary key is name). Then create the needed relationship :NEXT_EVENT. Unwind is like a FOR LOOP so it will link item1 to item2 then item2 to item3 ... until item99 to item100.\r\n\r\n\r\n     WITH $nodeProperties AS np \r\n     UNWIND range(0, size(np) - 2) as idx\r\n     MERGE (node1:Event {name:np[idx].name, location: np[idx].location, eventDate:np[idx].eventDate})\r\n     MERGE (node2:Event {name:np[idx+1].name, location: np[idx+1].location, eventDate:np[idx+1].eventDate})\r\n     CREATE (node1)-[:NEXT_EVENT]-&gt;(node2)\r\n\r\n","title":"Create relationship between nodes created from UNWIND list","body":"<p>You can use UNWIND to create a linked nodes. First create the nodes for your nodeProperties list then create the NEXT_EVENT relationship.</p>\n<p>Below query will create a node1 linked to node2 in your list $nodeProperties.  UNWIND will create another list of index numbers from 0 to end (except the last item). Then merge (or match if it exists) the node based on the name (assuming your node primary key is name). Then create the needed relationship :NEXT_EVENT. Unwind is like a FOR LOOP so it will link item1 to item2 then item2 to item3 ... until item99 to item100.</p>\n<pre><code> WITH $nodeProperties AS np \n UNWIND range(0, size(np) - 2) as idx\n MERGE (node1:Event {name:np[idx].name, location: np[idx].location, eventDate:np[idx].eventDate})\n MERGE (node2:Event {name:np[idx+1].name, location: np[idx+1].location, eventDate:np[idx+1].eventDate})\n CREATE (node1)-[:NEXT_EVENT]-&gt;(node2)\n</code></pre>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70877790,"answer_count":2,"score":1,"last_activity_date":1643329483,"creation_date":1643276890,"question_id":70876421,"body_markdown":"I am passing into a Cypher query a `List&lt;Map&lt;String, Object&gt;&gt;`, which I am using to create a series of nodes based on the key-value pairs contained in the `Map&lt;String, Object&gt;`.\r\n\r\nI now want to be able to link those nodes together, in the order they were unwound.\r\n\r\nCurrent cypher/java code:\r\n\r\n```java\r\npublic static void doMergeAndLink(List&lt;Map&lt;String, Object&gt;&gt; nodeProperties)\r\n{\r\n    try (Session session = driver.session())\t\r\n    {\r\n        session.run(&quot;UNWIND $nodeProperties AS np &quot; +\r\n\t\t\t&quot;MERGE (n:Event {name:np.name, location: np.location, eventDate:np.eventDate}) &quot;\r\n    \t, parameters(&quot;nodeProperties&quot;,nodeProperties));\r\n    }\r\n    catch(Exception e){}\r\n}\r\n```\r\n\r\nWhat I want now is to be able to add `MERGE (n)-[:NEXT_EVENT]-&gt;(n+1)` but I don&#39;t know the Cypher to do that","title":"Create relationship between nodes created from UNWIND list","body":"<p>I am passing into a Cypher query a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>, which I am using to create a series of nodes based on the key-value pairs contained in the <code>Map&lt;String, Object&gt;</code>.</p>\n<p>I now want to be able to link those nodes together, in the order they were unwound.</p>\n<p>Current cypher/java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void doMergeAndLink(List&lt;Map&lt;String, Object&gt;&gt; nodeProperties)\n{\n    try (Session session = driver.session())    \n    {\n        session.run(&quot;UNWIND $nodeProperties AS np &quot; +\n            &quot;MERGE (n:Event {name:np.name, location: np.location, eventDate:np.eventDate}) &quot;\n        , parameters(&quot;nodeProperties&quot;,nodeProperties));\n    }\n    catch(Exception e){}\n}\n</code></pre>\n<p>What I want now is to be able to add <code>MERGE (n)-[:NEXT_EVENT]-&gt;(n+1)</code> but I don't know the Cypher to do that</p>\n"},{"tags":["java","spring","spring-boot","maven","configuration"],"comments":[{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1643335438,"post_id":70886977,"comment_id":125318708,"body_markdown":"-externalized configuration is what you might be looking for: https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html.","body":"-externalized configuration is what you might be looking for: <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643352904,"post_id":70886977,"comment_id":125321627,"body_markdown":"I would suggest to give links of up-to-date versions of Spring https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","body":"I would suggest to give links of up-to-date versions of Spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23980816,"reputation":33,"user_id":17968275,"display_name":"tinit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643329410,"creation_date":1643329410,"answer_id":70887500,"question_id":70886977,"body_markdown":"You can use spring cloud config","title":"Share properties file and extend it between multiples spring boot projects","body":"<p>You can use spring cloud config</p>\n"}],"owner":{"account_id":19907670,"reputation":163,"user_id":14586357,"display_name":"roberto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643329410,"creation_date":1643325079,"question_id":70886977,"body_markdown":"I have this problem.\r\n\r\nIn my app, I have **2** projects, **Bank** and **User** that connect to the **same database**, then both projects are the **same database configuration** in their application.properties. I don&#39;t want duplicate the configuration, then I had thought I could put that database configuration on the other properties(**common properties**) and in both properties extend that configuration.`\r\n\r\nIn Both projects(Bank, User) I have the same database configuration, the unique difference is the server.port, my **idea** is to have other properties(**common.properties**) that contains the database configuration, Bank and user properties, extends the common properties and add only server.port\r\n\r\n````\r\n#database\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:42333/userDatabase\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\nspring.datasource.driver-class-name =com.mysql.jdbc.Driver\r\n#spring.jpa.show-sql: true\r\n\r\n#server\r\nserver.port= 8090\r\n````\r\n\r\nMy doubt It is possible to have inheritance between properties?\r\n\r\nThanks for your time and sorry for my englis, it is not my native languaje, Regards!\r\n","title":"Share properties file and extend it between multiples spring boot projects","body":"<p>I have this problem.</p>\n<p>In my app, I have <strong>2</strong> projects, <strong>Bank</strong> and <strong>User</strong> that connect to the <strong>same database</strong>, then both projects are the <strong>same database configuration</strong> in their application.properties. I don't want duplicate the configuration, then I had thought I could put that database configuration on the other properties(<strong>common properties</strong>) and in both properties extend that configuration.`</p>\n<p>In Both projects(Bank, User) I have the same database configuration, the unique difference is the server.port, my <strong>idea</strong> is to have other properties(<strong>common.properties</strong>) that contains the database configuration, Bank and user properties, extends the common properties and add only server.port</p>\n<pre><code>#database\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:42333/userDatabase\nspring.datasource.username=username\nspring.datasource.password=password\nspring.datasource.driver-class-name =com.mysql.jdbc.Driver\n#spring.jpa.show-sql: true\n\n#server\nserver.port= 8090\n</code></pre>\n<p>My doubt It is possible to have inheritance between properties?</p>\n<p>Thanks for your time and sorry for my englis, it is not my native languaje, Regards!</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":7776542,"reputation":144,"user_id":5884473,"display_name":"Helix"},"score":0,"creation_date":1456547724,"post_id":35665674,"comment_id":59011438,"body_markdown":"where are you actually building the fragment transaction?","body":"where are you actually building the fragment transaction?"},{"owner":{"account_id":3044590,"reputation":4534,"user_id":2598292,"accept_rate":75,"display_name":"RedGiant"},"score":0,"creation_date":1456547971,"post_id":35665674,"comment_id":59011479,"body_markdown":"Helix, I want to build the transcation in the `getView` method. I want to add some buttons and containers fragments to the list.  I have updated the post.","body":"Helix, I want to build the transcation in the <code>getView</code> method. I want to add some buttons and containers fragments to the list.  I have updated the post."},{"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"score":1,"creation_date":1456548221,"post_id":35665674,"comment_id":59011519,"body_markdown":"Consider using view instead of fragment. Having fragment within the adapter complicates it much if not something impractical.","body":"Consider using view instead of fragment. Having fragment within the adapter complicates it much if not something impractical."},{"owner":{"account_id":7776542,"reputation":144,"user_id":5884473,"display_name":"Helix"},"score":0,"creation_date":1456548266,"post_id":35665674,"comment_id":59011526,"body_markdown":"are you getting errors or is it giving you null pointer exception? - also... I agree with Elye","body":"are you getting errors or is it giving you null pointer exception? - also... I agree with Elye"}],"owner":{"account_id":3044590,"reputation":4534,"user_id":2598292,"accept_rate":75,"display_name":"RedGiant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643328355,"creation_date":1456547496,"question_id":35665674,"body_markdown":"I&#39;m at a loss of starting a fragment transcation in ArrayAdapter which is called from a list Fragment. I have tried a few things based on this [thread][1]:\r\n\r\n    FragmentManager fm = getContext().getChildFragmentManager();\r\n    //The method getChildFragmentManager() is undefined for the type Context\r\n                          \r\n    FragmentManager fm = getContext().getSupportFragmentManager();\r\n    //same error above\r\n\r\n    FragmentManager fm = ((Activity) getContext()).getSupportFragmentManager();\r\n    //The method getSupportFragmentManager() is undefined for the type Activity\r\n\r\nBut none of them works, despite that `getActivity()` is passed when the adapter is instantiated in `ListItemFragment` class. Would anoyone please help me on this?\r\n\r\nClass ListItemFragment:\r\n\r\n    import android.support.v4.app.Fragment;\r\n    import com.model.ListItem;\r\n    import com.Data;\r\n    public class ListItemFragment extends Fragment{\r\n    \r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\t\t\r\n\r\n    \t\tsuper.onCreate(savedInstanceState); \r\n\r\n            View view = inflater.inflate(R.layout.list_container, container, false);\r\n\r\n    \t\tArrayList&lt;ListItem&gt; listItem = (ArrayList&lt;ListItem&gt;) Data.get();\r\n\r\n    \t\tListAdapter adapter = new ListAdapter(getActivity(), listItem);\r\n\r\n    \t\tListView listView = (ListView) view.findViewById(R.id.list_view);\r\n\r\n    \t\tlistView.setAdapter(adapter);\r\n    \t\treturn view;\r\n    \t}\r\n    }\r\n\r\nAdapter:\r\n\r\n    import com.model.ListItem;\r\n    \r\n    public class ListAdapter extends ArrayAdapter&lt;ListItem&gt; {\r\n    \r\n    \tpublic ListAdapter(Context context, ArrayList&lt;ListItem&gt; listItem) {\r\n    \r\n           super(context, R.layout.list_item, listItem);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View view, ViewGroup parent) {\r\n    \r\n           ListItem row = getItem(position); \r\n       \r\n           final Context context = getContext();\r\n\r\n           LayoutInflater inflater = (LayoutInflater)getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        \r\n           view = inflater.inflate(R.layout.list_item, parent, false);\r\n\r\n           //FragmentManager fm = ((Activity) context).getChildFragmentManager();\r\n                      \r\n           //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\r\n\r\n           //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\r\n\r\n           FragmentTransaction transaction = fm.beginTransaction();\r\n\r\n           /*......buttonFragment = call a button Fragment.......*/\r\n\r\n           transaction.replace(R.id.placeholder, buttonFragment);\r\n\r\n           transaction.commit();\r\n\r\n           return view;\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18689727/getfragmentmanager-from-arrayadapter","title":"How can I start a fragment transcation in ArrayAdapter","body":"<p>I'm at a loss of starting a fragment transcation in ArrayAdapter which is called from a list Fragment. I have tried a few things based on this <a href=\"https://stackoverflow.com/questions/18689727/getfragmentmanager-from-arrayadapter\">thread</a>:</p>\n\n<pre><code>FragmentManager fm = getContext().getChildFragmentManager();\n//The method getChildFragmentManager() is undefined for the type Context\n\nFragmentManager fm = getContext().getSupportFragmentManager();\n//same error above\n\nFragmentManager fm = ((Activity) getContext()).getSupportFragmentManager();\n//The method getSupportFragmentManager() is undefined for the type Activity\n</code></pre>\n\n<p>But none of them works, despite that <code>getActivity()</code> is passed when the adapter is instantiated in <code>ListItemFragment</code> class. Would anoyone please help me on this?</p>\n\n<p>Class ListItemFragment:</p>\n\n<pre><code>import android.support.v4.app.Fragment;\nimport com.model.ListItem;\nimport com.Data;\npublic class ListItemFragment extends Fragment{\n\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {     \n\n        super.onCreate(savedInstanceState); \n\n        View view = inflater.inflate(R.layout.list_container, container, false);\n\n        ArrayList&lt;ListItem&gt; listItem = (ArrayList&lt;ListItem&gt;) Data.get();\n\n        ListAdapter adapter = new ListAdapter(getActivity(), listItem);\n\n        ListView listView = (ListView) view.findViewById(R.id.list_view);\n\n        listView.setAdapter(adapter);\n        return view;\n    }\n}\n</code></pre>\n\n<p>Adapter:</p>\n\n<pre><code>import com.model.ListItem;\n\npublic class ListAdapter extends ArrayAdapter&lt;ListItem&gt; {\n\n    public ListAdapter(Context context, ArrayList&lt;ListItem&gt; listItem) {\n\n       super(context, R.layout.list_item, listItem);\n\n    }\n\n    @Override\n    public View getView(int position, View view, ViewGroup parent) {\n\n       ListItem row = getItem(position); \n\n       final Context context = getContext();\n\n       LayoutInflater inflater = (LayoutInflater)getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n       view = inflater.inflate(R.layout.list_item, parent, false);\n\n       //FragmentManager fm = ((Activity) context).getChildFragmentManager();\n\n       //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\n\n       //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\n\n       FragmentTransaction transaction = fm.beginTransaction();\n\n       /*......buttonFragment = call a button Fragment.......*/\n\n       transaction.replace(R.id.placeholder, buttonFragment);\n\n       transaction.commit();\n\n       return view;\n   }\n}\n</code></pre>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643322285,"post_id":70886518,"comment_id":125316244,"body_markdown":"You&#39;re shadowing your variables, that is, you&#39;ve declared `spara` as an instance field, but then re-declared as a local variable within the constructor","body":"You&#39;re shadowing your variables, that is, you&#39;ve declared <code>spara</code> as an instance field, but then re-declared as a local variable within the constructor"}],"answers":[{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643322623,"creation_date":1643322267,"answer_id":70886563,"question_id":70886518,"body_markdown":"\r\nThe problem is that you are not checking if there is already a username with the same term. For example, if the first line in your array is &quot;nt01, Tobi, Gr&#246;ndahl, nt01, tobi@du.se&quot;, when you press &quot;Save&quot; the program will try to save another student with username &quot;nt01&quot;. \r\nBut as you may have realized, there is already a student with username &quot;nt01&quot; in the array. The reason for this is that you are using the same variable for storing username and termin. \r\nThe simplest solution I can think of would be to change one of the variable names. You could use &quot;user_name&quot; instead of &quot;username&quot;. \r\nOr, you could make another variable that stores all usernames and check if there is already an entry with this username. If there is, don&#39;t save the new entry. \r\nIn order to print all students, you have to create a separate function that loops through the whole array and prints each student. The problem is that you already use &quot;student_array&quot; as a variable for storing the student array, and you want to use it for printing out all students.\r\nSo you have to rename the variable.","title":"I tried making my 2 buttons first one to save and second one to show all , but I couldn&#39;t make it work","body":"<p>The problem is that you are not checking if there is already a username with the same term. For example, if the first line in your array is &quot;nt01, Tobi, Gröndahl, nt01, tobi@du.se&quot;, when you press &quot;Save&quot; the program will try to save another student with username &quot;nt01&quot;.\nBut as you may have realized, there is already a student with username &quot;nt01&quot; in the array. The reason for this is that you are using the same variable for storing username and termin.\nThe simplest solution I can think of would be to change one of the variable names. You could use &quot;user_name&quot; instead of &quot;username&quot;.\nOr, you could make another variable that stores all usernames and check if there is already an entry with this username. If there is, don't save the new entry.\nIn order to print all students, you have to create a separate function that loops through the whole array and prints each student. The problem is that you already use &quot;student_array&quot; as a variable for storing the student array, and you want to use it for printing out all students.\nSo you have to rename the variable.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643323111,"creation_date":1643323111,"answer_id":70886690,"question_id":70886518,"body_markdown":"The first problem is, you&#39;re shadowing your variables.\r\n\r\nThat is, you&#39;ve declared `spara` and `visaalia` as instance fields of your class, but then re-declared them as local variables in your constructor...\r\n\r\n    class mysubclass implements ActionListener {\r\n\r\n        //...\r\n        JButton spara;\r\n        JButton visaalia;\r\n        //...\r\n\r\n        mysubclass() {\r\n            //...\r\n            // Re-declared here as local variable\r\n            JButton spara = new JButton(&quot;Save&quot;);\r\n            //...\r\n            // Re-declared here as local variable\r\n            JButton visaalia = new JButton(&quot;show all&quot;);\r\n            //...\r\n\r\nThis means when `actionPerformed` is called, `spara` and `visaalia` are both `null`\r\n\r\nAnd now, the elephant(s) in the room\r\n\r\nYou don&#39;t need `static Scanner scr = new Scanner(System.in);`, get rid of it, when using a GUI, this kind of statement just scares people\r\n\r\nYou shouldn&#39;t be using `Calendar`.  It&#39;s effectively deprecated and has been replaced with the `java.time.*` APIs, time to move forward and learn how it should be done.\r\n\r\nYou really need to take the time to learn how to use layout managers.  `null` layouts are just going to explode in your face and when I run your code, the components don&#39;t fit within in the window, rendering your interface useless.\r\n\r\nYou really need to take the time to look at:\r\n\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n* [Date/Time trail](https://docs.oracle.com/javase/tutorial/datetime/TOC.html)","title":"I tried making my 2 buttons first one to save and second one to show all , but I couldn&#39;t make it work","body":"<p>The first problem is, you're shadowing your variables.</p>\n<p>That is, you've declared <code>spara</code> and <code>visaalia</code> as instance fields of your class, but then re-declared them as local variables in your constructor...</p>\n<pre><code>class mysubclass implements ActionListener {\n\n    //...\n    JButton spara;\n    JButton visaalia;\n    //...\n\n    mysubclass() {\n        //...\n        // Re-declared here as local variable\n        JButton spara = new JButton(&quot;Save&quot;);\n        //...\n        // Re-declared here as local variable\n        JButton visaalia = new JButton(&quot;show all&quot;);\n        //...\n</code></pre>\n<p>This means when <code>actionPerformed</code> is called, <code>spara</code> and <code>visaalia</code> are both <code>null</code></p>\n<p>And now, the elephant(s) in the room</p>\n<p>You don't need <code>static Scanner scr = new Scanner(System.in);</code>, get rid of it, when using a GUI, this kind of statement just scares people</p>\n<p>You shouldn't be using <code>Calendar</code>.  It's effectively deprecated and has been replaced with the <code>java.time.*</code> APIs, time to move forward and learn how it should be done.</p>\n<p>You really need to take the time to learn how to use layout managers.  <code>null</code> layouts are just going to explode in your face and when I run your code, the components don't fit within in the window, rendering your interface useless.</p>\n<p>You really need to take the time to look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Date/Time trail</a></li>\n</ul>\n"}],"owner":{"account_id":20468390,"reputation":1,"user_id":15019390,"display_name":"Marwan Elkordy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643328004,"creation_date":1643322005,"question_id":70886518,"body_markdown":"I am trying to make a simple java program that saves data for 20 students which is the first name, last name, which term, and email\r\nand make 2 buttons to save data after filling it and then another button to print all data.\r\n\r\nMy main problem to how to figure out using my action listener.\r\n\r\nFirst I made student class:\r\n```\r\nimport java.util.Calendar;\r\nimport java.util.GregorianCalendar;\r\nimport java.util.Scanner;\r\npublic class student {\r\n\tstatic Scanner scr = new Scanner(System.in);\r\n\tString [] [] student = new String[20][5];\r\n\tprivate String fornamn;\r\n\tprivate String efternamn;\r\n\tprivate String termin;\r\n\tprivate String username;\r\n\tprivate String epost;\r\n\r\n\tCalendar calendarObj = GregorianCalendar.getInstance();\r\n\tint month = calendarObj.get(Calendar.MONTH);\r\n\tint year = calendarObj.get(Calendar.YEAR);\r\n\r\n\tpublic student(String fornamn, String efternamn){ //constructor takes f,e\r\n\t\tthis.fornamn = fornamn;\r\n\t\tthis.efternamn = efternamn;\r\n\r\n\t}\r\n\r\n\tpublic student(){ // default constructor\r\n\r\n\t}\r\n\r\n\r\n\tpublic void setFornamn(String fornamn ) {\r\n\t\tthis.fornamn = fornamn;\r\n\t}\r\n\tpublic void setEfternamn (String efternamn ) {\r\n\t\tthis.efternamn= efternamn;\r\n\t}\r\n\r\n\tpublic String getFornamn(){\r\n\t\treturn fornamn;\r\n\t}\r\n\tpublic String getEfternamn(){\r\n\t\treturn efternamn;\r\n\t}\r\n\r\n\tpublic String getTermin(){\r\n\t\treturn termin;\r\n\t}\r\n\r\n\tpublic void setTermin(String termin) {\r\n\t\tthis.termin = termin;\r\n\t}\r\n\r\n\tpublic String getUsername(){\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username ;\r\n\t}\r\n\r\n\tpublic void setEpost(String epost) {\r\n\t\tthis.epost = epost;\r\n\t}\r\n\tpublic String getEpost() { return epost;}\r\n\r\n\tint i = 0;\r\n\tpublic String skapaTermin() {\r\n\t\tif (month &lt; 6){\r\n\t\t\ttermin = &quot;ht&quot;;\r\n\t\t} else {\r\n\t\t\ttermin = &quot;vt&quot;;\r\n\t\t}\r\n\t\treturn termin;\r\n\t}\r\n\r\n\tpublic String skapaUser() {\r\n\t\tusername = termin + fornamn.substring(0,3) + efternamn.substring(0,3);\r\n\t\treturn skapaUser();\r\n\t}\r\n\r\n\r\n\tpublic String skapaEpost(){\r\n\t\tepost = username + &quot;@du.se&quot;;\r\n\t\treturn skapaEpost();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nsecond  I made this GUI:\r\n```\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nclass mysubclass implements ActionListener{\r\n\tstatic student obj = new student ();\t\r\n\tJTextField tfFornamn; \r\n\tJLabel lblFornamn;   \r\n\tJTextField tfEfternamn; \r\n\tJLabel lblEfternamn; \r\n\tJTextField tfTermin; \r\n\tJLabel lblTermin; \r\n\tJTextField tfUsername; \r\n\tJLabel lblUsername; \r\n\tJTextField tfEpost; \r\n\tJLabel lblEpost; \r\n\tJButton spara ;\r\n\tJTextField btnSpara ;\r\n\tJButton visaalia ;\r\n\tmysubclass() {\r\n\t\tJFrame frame = new JFrame(&quot;student form&quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\tframe.setSize(400,350);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(panel);\r\n\t\tpanel.setLayout(null);\r\n\r\n\t\tJLabel lblFornamn = new JLabel(&quot;F&#246;rnamn :&quot;); //First name\r\n\t\tlblFornamn.setBounds(10,10,80,35);\r\n\t\tpanel.add(lblFornamn);\r\n\r\n\t\tJTextField tfFornamn = new JTextField(25);  //textfield for first name\r\n\t\ttfFornamn.setBounds(120,10,600,30);\r\n\t\tpanel.add(tfFornamn);\r\n\r\n\t\tJLabel efternamn = new JLabel(&quot;Efternamn :&quot;); //last name \r\n\t\tefternamn.setBounds(10,50,90,35);\r\n\t\tpanel.add(efternamn);\r\n\r\n\t\tJTextField tfEfternamn = new JTextField(25); // textfield for last name\r\n\t\ttfEfternamn.setBounds(120,50,600,30);\r\n\t\tpanel.add(tfEfternamn);\r\n\r\n\t\tJLabel lblTermin = new JLabel(&quot;Termin  :&quot;); //termin\r\n\t\tlblTermin.setBounds(10,90,90,35);\r\n\t\tpanel.add(lblTermin);\r\n\r\n\t\tJTextField tfTermin = new JTextField(25);   //textfield termin\r\n\t\ttfTermin.setBounds(120,90,600,30);\r\n\t\tpanel.add(tfTermin); \r\n\r\n\t\tJLabel lblUsername = new JLabel(&quot;Username :&quot;); // username\r\n\t\tlblUsername.setBounds(10,130,90,35);\r\n\t\tpanel.add(lblUsername);\r\n\r\n\t\tJTextField tfUsername = new JTextField(25);   //textfield username\r\n\t\ttfUsername.setBounds(120,130,600,30);\r\n\t\tpanel.add(tfUsername); \r\n\r\n\t\tJLabel lblEpost = new JLabel(&quot;Epost :&quot;); //email\r\n\t\tlblEpost.setBounds(10,170,90,35);\r\n\t\tpanel.add(lblEpost);\r\n\r\n\t\tJTextField tfEpost = new JTextField(25);   //textfield email\r\n\t\ttfEpost.setBounds(120,170,600,30);\r\n\t\tpanel.add(tfEpost); \r\n\r\n\t\tJButton spara = new JButton(&quot;Save&quot;);\r\n\t\tspara.setBounds(10,210,120,30);\r\n\t\tpanel.add(spara);\r\n\t\tspara.addActionListener(this);\r\n\r\n\t\tJTextField btnSpara = new JTextField(25);   //textfield save button\r\n\t\tbtnSpara.setBounds(150,210,600,130);\r\n\t\tpanel.add(btnSpara); \r\n\r\n\t\tJButton visaalia  = new JButton(&quot;show all&quot;);\r\n\t\tvisaalia.setBounds(10,280,120,30);\r\n\t\tpanel.add(visaalia);\r\n\t\tvisaalia.addActionListener(this);\r\n\r\n\t\tframe.setResizable(true); \r\n\t\tframe.setVisible(true);\r\n\r\n\r\n\r\n\t}\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource() == spara) {\r\n\t\t\tobj.setFornamn(tfFornamn.getText()); //encapsulation\r\n\t\t\tobj.setEfternamn(tfEfternamn.getText());\r\n\t\t\tobj.setTermin(tfTermin.getText());\r\n\t\t\tobj.setUsername(tfUsername.getText());\r\n\t\t\tobj.setEpost(tfEpost.getText());\r\n\t\t\tfor(int i = 0 ; i &lt;= obj.student.length;i++) {\r\n\t\t\t\tobj.student [i][0] = obj.getFornamn();\r\n\t\t\t\tobj.student [i][1] = obj.getEfternamn();\r\n\t\t\t\tobj.student [i][2] = obj.getTermin();\r\n\t\t\t\tobj.student [i][3] = obj.getUsername();\r\n\t\t\t\tobj.student [i][4] = obj.getEpost();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(e.getSource() == visaalia) {\r\n\t\t\tfor(int i = 0 ; i &lt;= obj.student.length;i++) {\r\n\t\t\t\tSystem.out.println(&quot;hi&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n}\r\n```\r\n\r\nThen I just called it: \r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew mysubclass ();\r\n\t}\r\n\r\n}\r\n```","title":"I tried making my 2 buttons first one to save and second one to show all , but I couldn&#39;t make it work","body":"<p>I am trying to make a simple java program that saves data for 20 students which is the first name, last name, which term, and email\nand make 2 buttons to save data after filling it and then another button to print all data.</p>\n<p>My main problem to how to figure out using my action listener.</p>\n<p>First I made student class:</p>\n<pre><code>import java.util.Calendar;\nimport java.util.GregorianCalendar;\nimport java.util.Scanner;\npublic class student {\n    static Scanner scr = new Scanner(System.in);\n    String [] [] student = new String[20][5];\n    private String fornamn;\n    private String efternamn;\n    private String termin;\n    private String username;\n    private String epost;\n\n    Calendar calendarObj = GregorianCalendar.getInstance();\n    int month = calendarObj.get(Calendar.MONTH);\n    int year = calendarObj.get(Calendar.YEAR);\n\n    public student(String fornamn, String efternamn){ //constructor takes f,e\n        this.fornamn = fornamn;\n        this.efternamn = efternamn;\n\n    }\n\n    public student(){ // default constructor\n\n    }\n\n\n    public void setFornamn(String fornamn ) {\n        this.fornamn = fornamn;\n    }\n    public void setEfternamn (String efternamn ) {\n        this.efternamn= efternamn;\n    }\n\n    public String getFornamn(){\n        return fornamn;\n    }\n    public String getEfternamn(){\n        return efternamn;\n    }\n\n    public String getTermin(){\n        return termin;\n    }\n\n    public void setTermin(String termin) {\n        this.termin = termin;\n    }\n\n    public String getUsername(){\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username ;\n    }\n\n    public void setEpost(String epost) {\n        this.epost = epost;\n    }\n    public String getEpost() { return epost;}\n\n    int i = 0;\n    public String skapaTermin() {\n        if (month &lt; 6){\n            termin = &quot;ht&quot;;\n        } else {\n            termin = &quot;vt&quot;;\n        }\n        return termin;\n    }\n\n    public String skapaUser() {\n        username = termin + fornamn.substring(0,3) + efternamn.substring(0,3);\n        return skapaUser();\n    }\n\n\n    public String skapaEpost(){\n        epost = username + &quot;@du.se&quot;;\n        return skapaEpost();\n    }\n\n}\n</code></pre>\n<p>second  I made this GUI:</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\nclass mysubclass implements ActionListener{\n    static student obj = new student ();    \n    JTextField tfFornamn; \n    JLabel lblFornamn;   \n    JTextField tfEfternamn; \n    JLabel lblEfternamn; \n    JTextField tfTermin; \n    JLabel lblTermin; \n    JTextField tfUsername; \n    JLabel lblUsername; \n    JTextField tfEpost; \n    JLabel lblEpost; \n    JButton spara ;\n    JTextField btnSpara ;\n    JButton visaalia ;\n    mysubclass() {\n        JFrame frame = new JFrame(&quot;student form&quot;);\n        JPanel panel = new JPanel();\n        frame.setSize(400,350);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(panel);\n        panel.setLayout(null);\n\n        JLabel lblFornamn = new JLabel(&quot;Förnamn :&quot;); //First name\n        lblFornamn.setBounds(10,10,80,35);\n        panel.add(lblFornamn);\n\n        JTextField tfFornamn = new JTextField(25);  //textfield for first name\n        tfFornamn.setBounds(120,10,600,30);\n        panel.add(tfFornamn);\n\n        JLabel efternamn = new JLabel(&quot;Efternamn :&quot;); //last name \n        efternamn.setBounds(10,50,90,35);\n        panel.add(efternamn);\n\n        JTextField tfEfternamn = new JTextField(25); // textfield for last name\n        tfEfternamn.setBounds(120,50,600,30);\n        panel.add(tfEfternamn);\n\n        JLabel lblTermin = new JLabel(&quot;Termin  :&quot;); //termin\n        lblTermin.setBounds(10,90,90,35);\n        panel.add(lblTermin);\n\n        JTextField tfTermin = new JTextField(25);   //textfield termin\n        tfTermin.setBounds(120,90,600,30);\n        panel.add(tfTermin); \n\n        JLabel lblUsername = new JLabel(&quot;Username :&quot;); // username\n        lblUsername.setBounds(10,130,90,35);\n        panel.add(lblUsername);\n\n        JTextField tfUsername = new JTextField(25);   //textfield username\n        tfUsername.setBounds(120,130,600,30);\n        panel.add(tfUsername); \n\n        JLabel lblEpost = new JLabel(&quot;Epost :&quot;); //email\n        lblEpost.setBounds(10,170,90,35);\n        panel.add(lblEpost);\n\n        JTextField tfEpost = new JTextField(25);   //textfield email\n        tfEpost.setBounds(120,170,600,30);\n        panel.add(tfEpost); \n\n        JButton spara = new JButton(&quot;Save&quot;);\n        spara.setBounds(10,210,120,30);\n        panel.add(spara);\n        spara.addActionListener(this);\n\n        JTextField btnSpara = new JTextField(25);   //textfield save button\n        btnSpara.setBounds(150,210,600,130);\n        panel.add(btnSpara); \n\n        JButton visaalia  = new JButton(&quot;show all&quot;);\n        visaalia.setBounds(10,280,120,30);\n        panel.add(visaalia);\n        visaalia.addActionListener(this);\n\n        frame.setResizable(true); \n        frame.setVisible(true);\n\n\n\n    }\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == spara) {\n            obj.setFornamn(tfFornamn.getText()); //encapsulation\n            obj.setEfternamn(tfEfternamn.getText());\n            obj.setTermin(tfTermin.getText());\n            obj.setUsername(tfUsername.getText());\n            obj.setEpost(tfEpost.getText());\n            for(int i = 0 ; i &lt;= obj.student.length;i++) {\n                obj.student [i][0] = obj.getFornamn();\n                obj.student [i][1] = obj.getEfternamn();\n                obj.student [i][2] = obj.getTermin();\n                obj.student [i][3] = obj.getUsername();\n                obj.student [i][4] = obj.getEpost();\n            }\n        }\n        if(e.getSource() == visaalia) {\n            for(int i = 0 ; i &lt;= obj.student.length;i++) {\n                System.out.println(&quot;hi&quot;);\n            }\n        }\n\n\n    }\n}\n</code></pre>\n<p>Then I just called it:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        new mysubclass ();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","grails"],"comments":[{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1643292081,"post_id":70879784,"comment_id":125304416,"body_markdown":"Are you sure no other application is actually connected to the database? Check it with &quot;select * from pg_stat_activity&quot; looking at the column client_addr.","body":"Are you sure no other application is actually connected to the database? Check it with &quot;select * from pg_stat_activity&quot; looking at the column client_addr."},{"owner":{"account_id":294607,"reputation":1011,"user_id":598596,"accept_rate":80,"display_name":"Peter"},"score":0,"creation_date":1643292173,"post_id":70879784,"comment_id":125304449,"body_markdown":"Yes, I am sure. It is on my local developer computer, there is just my application connected to postgres.","body":"Yes, I am sure. It is on my local developer computer, there is just my application connected to postgres."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643327602,"creation_date":1643293550,"answer_id":70880245,"question_id":70879784,"body_markdown":"So the most likely explanation is that you have a resource leak.  Your application ... or your testcases (!) ... are leaking database connections.\r\n\r\nIf that is the case, the root cause is in your code.\r\n\r\n----------------------\r\n\r\nA typical JDBC driver will attempt to defend itself against resource leaks by using `finalize` methods or a `Cleaner` or something like that to close `Connection` and related objects when they are found to be unreachable.  The problem is that these mechanisms only kick in *after* the GC has detected that the objects are no longer reachable.  \r\n\r\nAnd that is where the Java version change could come into play.  The behavior of GCs is Java version sensitive, either directly because the GCs implementations themselves change, or indirectly because things like default heap sizes, &quot;new space&quot; and &quot;old space&quot; sizing defaults, default tenuring parameters and so on can change.  As a result, it is possible that the GC will take longer to find and close `Connection` objects that have been dropped by the application.\r\n\r\nIf too many `Connection` objects are dropped, and / or the GC doesn&#39;t find them quickly enough, you end up with too many open connections, and the database backend won&#39;t let you open any more.\r\n\r\n&gt; Is there a difference in the behavior of the Postgres connection pool in this two JDK versions?\r\n\r\nThe connection pool relies on the GC to deal with pool connections that your application doesn&#39;t return to the pool ... in the approved fashion.  The consequences are as above.\r\n \r\n-----------------------\r\n\r\nThe solution is to clean up your resource leaks.\r\n\r\nThe best way to do this is overhaul your codebase, and make sure that you *always* use [*try with resources*](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to manage the `Connection` objects.","title":"Application is running out postgres connections after JDK upgrade","body":"<p>So the most likely explanation is that you have a resource leak.  Your application ... or your testcases (!) ... are leaking database connections.</p>\n<p>If that is the case, the root cause is in your code.</p>\n<hr />\n<p>A typical JDBC driver will attempt to defend itself against resource leaks by using <code>finalize</code> methods or a <code>Cleaner</code> or something like that to close <code>Connection</code> and related objects when they are found to be unreachable.  The problem is that these mechanisms only kick in <em>after</em> the GC has detected that the objects are no longer reachable.</p>\n<p>And that is where the Java version change could come into play.  The behavior of GCs is Java version sensitive, either directly because the GCs implementations themselves change, or indirectly because things like default heap sizes, &quot;new space&quot; and &quot;old space&quot; sizing defaults, default tenuring parameters and so on can change.  As a result, it is possible that the GC will take longer to find and close <code>Connection</code> objects that have been dropped by the application.</p>\n<p>If too many <code>Connection</code> objects are dropped, and / or the GC doesn't find them quickly enough, you end up with too many open connections, and the database backend won't let you open any more.</p>\n<blockquote>\n<p>Is there a difference in the behavior of the Postgres connection pool in this two JDK versions?</p>\n</blockquote>\n<p>The connection pool relies on the GC to deal with pool connections that your application doesn't return to the pool ... in the approved fashion.  The consequences are as above.</p>\n<hr />\n<p>The solution is to clean up your resource leaks.</p>\n<p>The best way to do this is overhaul your codebase, and make sure that you <em>always</em> use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>try with resources</em></a> to manage the <code>Connection</code> objects.</p>\n"}],"owner":{"account_id":294607,"reputation":1011,"user_id":598596,"accept_rate":80,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643327602,"creation_date":1643291842,"question_id":70879784,"body_markdown":"I upgraded my grails application from JDK 8 to JDK 11. We have some automated tests, that ran okay in JDK8. \r\nBut now with JDK11, I get after a while this exceptions:\r\n\r\n     org.postgresql.util.PSQLException: FATAL: remaining connection slots are reserved for non-replication superuser connections\r\n\r\nIs there a difference in the behavior of the Postgres connection pool in this two JDK versions? I did not change anything in the configuration for the upgrade or changed anything in the Postgres.conf. \r\n\r\n","title":"Application is running out postgres connections after JDK upgrade","body":"<p>I upgraded my grails application from JDK 8 to JDK 11. We have some automated tests, that ran okay in JDK8.\nBut now with JDK11, I get after a while this exceptions:</p>\n<pre><code> org.postgresql.util.PSQLException: FATAL: remaining connection slots are reserved for non-replication superuser connections\n</code></pre>\n<p>Is there a difference in the behavior of the Postgres connection pool in this two JDK versions? I did not change anything in the configuration for the upgrade or changed anything in the Postgres.conf.</p>\n"},{"tags":["java","spring","spring-boot","mockito","spring-boot-actuator"],"comments":[{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":0,"creation_date":1643324597,"post_id":70879699,"comment_id":125316799,"body_markdown":"I have also tried to cast (PingHealthIndicator) (healthContributors) , without success since the healthConributors is a mock object and the PingHealthIndicator is a real object","body":"I have also tried to cast (PingHealthIndicator) (healthContributors) , without success since the healthConributors is a mock object and the PingHealthIndicator is a real object"},{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":0,"creation_date":1643327450,"post_id":70879699,"comment_id":125317386,"body_markdown":"what I have noticed is : \n1- if I do : `@MockBean PingHealthIndicator pingHealthIndicator; `\nthe `pingHealthIndicator.health()` method return null\n2- if I autowire `@Autowired PingHealthIndicator pingHealthIndicator; `\nthe `pingHealthIndicator.health()` method return the correct status and details .","body":"what I have noticed is :  1- if I do : <code>@MockBean PingHealthIndicator pingHealthIndicator; </code> the <code>pingHealthIndicator.health()</code> method return null 2- if I autowire <code>@Autowired PingHealthIndicator pingHealthIndicator; </code> the <code>pingHealthIndicator.health()</code> method return the correct status and details ."}],"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643327523,"creation_date":1643291445,"question_id":70879699,"body_markdown":"I&#39;m intercepting the actuator/health endpoints in a custom Service by Auto-wiring the HealthContributor interface: \r\n``````\r\n@Service\r\npublic class HealthCheckServiceImpl implements HealthIndicator{\r\n\r\n  @Autowired HealthContributor[] healthContributors;\r\n\r\n  @Override\r\n  public Health health() {\r\n\r\n    Map&lt;String, String&gt; components = new HashMap&lt;String, String&gt;();\r\n    for (HealthContributor healthContributor : healthContributors) {\r\n      String componentName =\r\n          healthContributor\r\n              .getClass()\r\n              .getSimpleName()\r\n              .replace(&quot;HealthIndicator&quot;, &quot;&quot;)\r\n              .replace(&quot;HealthCheckIndicator&quot;, &quot;&quot;);\r\n      String status = ((HealthIndicator) (healthContributor)).health().getStatus().toString();\r\n      components.put(componentName, status);\r\n    }\r\n    String healthComponentAsString = components.keySet().stream()\r\n              .map(key -&gt; key + &quot;-&gt;&quot; + components.get(key))\r\n              .collect(Collectors.joining(&quot;, &quot;));\r\n    Boolean isComponentDown = components.containsValue(&quot;DOWN&quot;);\r\n    if (Boolean.TRUE.equals(isComponentDown)) {\r\n      return Health.down().withDetail(&quot;Status: One of the API component is down. &quot;,&quot;&quot;).build();\r\n    } else {\r\n      return Health.up().withDetail(&quot;Status: All API components are Up. &quot;, &quot;&quot;).build();\r\n    }\r\n  }\r\n``````\r\nMy question is, How can I mock the status of the components in order to test the health() method behavior.\r\nI have tried \r\n\r\n`````\r\n@MockBean\r\n@Qualifier(&quot;pingHealthContributor&quot;) // intercepting just one component instead of \r\n                                    // HealthContributor[]\r\nHealthContributor healthContributors;\r\n`````\r\n\r\nbut when I try to use Mockito. when() as follows:\r\n\r\n`````\r\nString status=&quot;UP&quot;;\r\n when(((HealthIndicator) (healthContributors)).health().getStatus().toString()).thenReturn(status);\r\n`````\r\nI get the following error :\r\n`````\r\njava.lang.ClassCastException: class org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 cannot be cast to class org.springframework.boot.actuate.health.HealthIndicator (org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 and org.springframework.boot.actuate.health.HealthIndicator are in unnamed module of loader &#39;app&#39;)\r\n`````\r\n**Dependencies**\r\n`````\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.23.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n`````","title":"How to Mock /actuator/health in UnitTest","body":"<p>I'm intercepting the actuator/health endpoints in a custom Service by Auto-wiring the HealthContributor interface:</p>\n<pre><code>@Service\npublic class HealthCheckServiceImpl implements HealthIndicator{\n\n  @Autowired HealthContributor[] healthContributors;\n\n  @Override\n  public Health health() {\n\n    Map&lt;String, String&gt; components = new HashMap&lt;String, String&gt;();\n    for (HealthContributor healthContributor : healthContributors) {\n      String componentName =\n          healthContributor\n              .getClass()\n              .getSimpleName()\n              .replace(&quot;HealthIndicator&quot;, &quot;&quot;)\n              .replace(&quot;HealthCheckIndicator&quot;, &quot;&quot;);\n      String status = ((HealthIndicator) (healthContributor)).health().getStatus().toString();\n      components.put(componentName, status);\n    }\n    String healthComponentAsString = components.keySet().stream()\n              .map(key -&gt; key + &quot;-&gt;&quot; + components.get(key))\n              .collect(Collectors.joining(&quot;, &quot;));\n    Boolean isComponentDown = components.containsValue(&quot;DOWN&quot;);\n    if (Boolean.TRUE.equals(isComponentDown)) {\n      return Health.down().withDetail(&quot;Status: One of the API component is down. &quot;,&quot;&quot;).build();\n    } else {\n      return Health.up().withDetail(&quot;Status: All API components are Up. &quot;, &quot;&quot;).build();\n    }\n  }\n</code></pre>\n<p>My question is, How can I mock the status of the components in order to test the health() method behavior.\nI have tried</p>\n<pre><code>@MockBean\n@Qualifier(&quot;pingHealthContributor&quot;) // intercepting just one component instead of \n                                    // HealthContributor[]\nHealthContributor healthContributors;\n</code></pre>\n<p>but when I try to use Mockito. when() as follows:</p>\n<pre><code>String status=&quot;UP&quot;;\n when(((HealthIndicator) (healthContributors)).health().getStatus().toString()).thenReturn(status);\n</code></pre>\n<p>I get the following error :</p>\n<pre><code>java.lang.ClassCastException: class org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 cannot be cast to class org.springframework.boot.actuate.health.HealthIndicator (org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 and org.springframework.boot.actuate.health.HealthIndicator are in unnamed module of loader 'app')\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.23.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","memory","heap-memory"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1305983782,"post_id":6081955,"comment_id":7045975,"body_markdown":"run the program with more heap memory.","body":"run the program with more heap memory."}],"answers":[{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305983835,"creation_date":1305983835,"answer_id":6081986,"question_id":6081955,"body_markdown":"`Integer` is an object which will take more than 4 bytes. How much more is implementation dependent. Do you really need `Integer`? The only benefit is that it can be `null`. Perhaps you could use a &quot;sentinal value&quot; instead; say, -1, or `Integer.MIN_VALUE`.","title":"Memory footprint of int[] and Integer[] arrays","body":"<p><code>Integer</code> is an object which will take more than 4 bytes. How much more is implementation dependent. Do you really need <code>Integer</code>? The only benefit is that it can be <code>null</code>. Perhaps you could use a \"sentinal value\" instead; say, -1, or <code>Integer.MIN_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1305983872,"creation_date":1305983872,"answer_id":6081990,"question_id":6081955,"body_markdown":"Java&#39;s int primitive will take up 4 bytes but if you use a ValueObject like Integer it&#39;s going to take up much more space. Depending on your machine a reference alone could take up 32 or 64 bits + the size of the primitive it is wrapping.\r\n\r\nYou should probably just use primitive ints if space is an issue. [Here is a very good SO answer that explains this topic in more detail][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/981073/how-big-is-an-object-reference-in-java-and-precisely-what-information-does-it-con/981130#981130","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>Java's int primitive will take up 4 bytes but if you use a ValueObject like Integer it's going to take up much more space. Depending on your machine a reference alone could take up 32 or 64 bits + the size of the primitive it is wrapping.</p>\n\n<p>You should probably just use primitive ints if space is an issue. <a href=\"https://stackoverflow.com/questions/981073/how-big-is-an-object-reference-in-java-and-precisely-what-information-does-it-con/981130#981130\">Here is a very good SO answer that explains this topic in more detail</a>. </p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305984208,"creation_date":1305984208,"answer_id":6082013,"question_id":6081955,"body_markdown":"Perhaps you should be using a database rather than a huge array, but if you must use a huge array of objects, have you tried increasing the Java memory size by using a the -Xms command line argument when running the Java application launcher?","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>Perhaps you should be using a database rather than a huge array, but if you must use a huge array of objects, have you tried increasing the Java memory size by using a the -Xms command line argument when running the Java application launcher?</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643327399,"creation_date":1305986496,"answer_id":6082207,"question_id":6081955,"body_markdown":"Lets assume that we are talking about a 32bit OpenJDK-based JVM.\r\n\r\n  - Each Integer object has 1 `int` field - occupying 4 bytes.\r\n  - Each Integer object has 2 header words - occupying 8 bytes.\r\n  - The granularity of allocation is (I believe) 2 words - 4 bytes of padding.\r\n  - The Integer[] has 1 reference for each array element / position - 4 bytes.\r\n\r\nSo the total is 20 bytes per array element.  20 x 30 x 1,000,000 = 600,000,000 Mbytes.  Now add the fact that the generational collector will allocate at least 3 object spaces of various sizes, and that could easily add up to 900+ Mbytes.\r\n\r\n---------\r\n\r\n&gt; how could i fix it ? \r\n\r\n  - Use `int[]` instead of `Integer`.\r\n  - If the `Integer` values mostly represent numbers in the range -128 to + 127, allocate them with `Integer.valueOf(int)`.  The JLS guarantees that `Integer` objects created that way will be shared.  (Note that when an `Integer` is created by auto-boxing, then JLS stipulates that `valueOf` is used.  So, in fact, this &quot;fix&quot; has already been applied in your example.)\r\n  - If your `Integer` values mostly come from a larger but still small domain, consider implementing your own cache for sharing `Integer` objects.\r\n\r\n------\r\n\r\n&gt; My question was about Integer as an example, in my program i use my own object that only holds an array of bytes (max size of 4). when i create it, it takes a lot more then 4 bytes on the memory.\r\n\r\nYes, it will do.\r\n\r\nLet&#39;s assume your class is defined like this:\r\n\r\n    public class MyInt {\r\n        private byte[] bytes = new byte[4];\r\n    }\r\n\r\nEach `MyInt` will occupy:\r\n\r\n  - `MyInt` header words - 8 bytes\r\n  - `MyInt.bytes` field - 4 byte\r\n  - Padding - 4 bytes\r\n  - Header words for the byte array - 12 bytes\r\n  - Array content - 4 bytes\r\n\r\nNow add the space taken by the `MyInt` reference:\r\n\r\n  - Reference to each `MyInt` - 4 bytes\r\n\r\nGrand total - 36 bytes per `MyInt` element of a `MyInt[]`.\r\n\r\nCompare that with 20 bytes per `Integer` element of an `Integer[]` or 4 bytes per `int` element of an `int[]`.\r\n\r\n----------------------\r\n\r\nHow to fix that case?\r\n\r\nWell an array of 4 bytes contains 32 bits of data.  That can be encoded as `int`.  So the fix is the same as before.  Use an `int[]` instead of a `MyInt[]`, or (possibly) adapt one of the other ideas discussed above.\r\n\r\nAlternatively, make the heap larger, or use a database or something like that so that the data doesn&#39;t need to be held in RAM.\r\n\r\n\r\n","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>Lets assume that we are talking about a 32bit OpenJDK-based JVM.</p>\n<ul>\n<li>Each Integer object has 1 <code>int</code> field - occupying 4 bytes.</li>\n<li>Each Integer object has 2 header words - occupying 8 bytes.</li>\n<li>The granularity of allocation is (I believe) 2 words - 4 bytes of padding.</li>\n<li>The Integer[] has 1 reference for each array element / position - 4 bytes.</li>\n</ul>\n<p>So the total is 20 bytes per array element.  20 x 30 x 1,000,000 = 600,000,000 Mbytes.  Now add the fact that the generational collector will allocate at least 3 object spaces of various sizes, and that could easily add up to 900+ Mbytes.</p>\n<hr />\n<blockquote>\n<p>how could i fix it ?</p>\n</blockquote>\n<ul>\n<li>Use <code>int[]</code> instead of <code>Integer</code>.</li>\n<li>If the <code>Integer</code> values mostly represent numbers in the range -128 to + 127, allocate them with <code>Integer.valueOf(int)</code>.  The JLS guarantees that <code>Integer</code> objects created that way will be shared.  (Note that when an <code>Integer</code> is created by auto-boxing, then JLS stipulates that <code>valueOf</code> is used.  So, in fact, this &quot;fix&quot; has already been applied in your example.)</li>\n<li>If your <code>Integer</code> values mostly come from a larger but still small domain, consider implementing your own cache for sharing <code>Integer</code> objects.</li>\n</ul>\n<hr />\n<blockquote>\n<p>My question was about Integer as an example, in my program i use my own object that only holds an array of bytes (max size of 4). when i create it, it takes a lot more then 4 bytes on the memory.</p>\n</blockquote>\n<p>Yes, it will do.</p>\n<p>Let's assume your class is defined like this:</p>\n<pre><code>public class MyInt {\n    private byte[] bytes = new byte[4];\n}\n</code></pre>\n<p>Each <code>MyInt</code> will occupy:</p>\n<ul>\n<li><code>MyInt</code> header words - 8 bytes</li>\n<li><code>MyInt.bytes</code> field - 4 byte</li>\n<li>Padding - 4 bytes</li>\n<li>Header words for the byte array - 12 bytes</li>\n<li>Array content - 4 bytes</li>\n</ul>\n<p>Now add the space taken by the <code>MyInt</code> reference:</p>\n<ul>\n<li>Reference to each <code>MyInt</code> - 4 bytes</li>\n</ul>\n<p>Grand total - 36 bytes per <code>MyInt</code> element of a <code>MyInt[]</code>.</p>\n<p>Compare that with 20 bytes per <code>Integer</code> element of an <code>Integer[]</code> or 4 bytes per <code>int</code> element of an <code>int[]</code>.</p>\n<hr />\n<p>How to fix that case?</p>\n<p>Well an array of 4 bytes contains 32 bits of data.  That can be encoded as <code>int</code>.  So the fix is the same as before.  Use an <code>int[]</code> instead of a <code>MyInt[]</code>, or (possibly) adapt one of the other ideas discussed above.</p>\n<p>Alternatively, make the heap larger, or use a database or something like that so that the data doesn't need to be held in RAM.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306013365,"creation_date":1306013365,"answer_id":6084566,"question_id":6081955,"body_markdown":"This is not what you are looking for but the optimal solution is to use a function instead of an array in this simple example.\r\n\r\n    static int index(int num) {\r\n        return num;\r\n    }\r\n\r\nIf you have a more realistic example, there may be other optimisations you can use.","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>This is not what you are looking for but the optimal solution is to use a function instead of an array in this simple example.</p>\n\n<pre><code>static int index(int num) {\n    return num;\n}\n</code></pre>\n\n<p>If you have a more realistic example, there may be other optimisations you can use.</p>\n"}],"owner":{"account_id":153914,"reputation":1003,"user_id":369507,"accept_rate":75,"display_name":"Ben2307"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8833,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6081990,"answer_count":5,"score":3,"last_activity_date":1643327399,"creation_date":1305983391,"question_id":6081955,"body_markdown":"I try to create an array of Integers (i tried with own object but the same happened with int) , with size of 30 million. i keep getting &quot;OutOfMemoryError: Java heap space&quot;\r\n\r\n\r\n    Integer [] index = new Integer[30000000];\r\n    for (int i = 0 ; i &lt; 30000000 ; i++){\r\n      \tindex[i] = i;\r\n    }\r\ni checked the total heap space, using &quot;Runtime.getRuntime().totalMemory()&quot; and &quot;maxMemory()&quot;\r\nand saw that i start with 64 MB and the max  is 900+ MB, and during the run i get to 900+ on the heap and crush.\t\r\n\r\nnow i know that Integer takes 4 bytes, so even if i multiply 30*4*1000000 i should still only get about 150-100 mega.\r\n\r\nif i try with a primitive type, like int, it works.\r\n\r\nhow could i fix it ? ","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>I try to create an array of Integers (i tried with own object but the same happened with int) , with size of 30 million. i keep getting \"OutOfMemoryError: Java heap space\"</p>\n\n<pre><code>Integer [] index = new Integer[30000000];\nfor (int i = 0 ; i &lt; 30000000 ; i++){\n    index[i] = i;\n}\n</code></pre>\n\n<p>i checked the total heap space, using \"Runtime.getRuntime().totalMemory()\" and \"maxMemory()\"\nand saw that i start with 64 MB and the max  is 900+ MB, and during the run i get to 900+ on the heap and crush.    </p>\n\n<p>now i know that Integer takes 4 bytes, so even if i multiply 30*4*1000000 i should still only get about 150-100 mega.</p>\n\n<p>if i try with a primitive type, like int, it works.</p>\n\n<p>how could i fix it ? </p>\n"},{"tags":["java","docker","jvm","thread-dump","jstack"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643326365,"creation_date":1643326365,"answer_id":70887157,"question_id":70887088,"body_markdown":"The issue has nothing to do with jstack.\r\nThe error says, `bash` can&#39;t create `thread.dump` file in the root directory. This is quite expected, since `/` is typically writable only by `root`. Try creating the output file in a different directory.","title":"Running jstack inside Docker container throws &quot;Permission Denied&quot;","body":"<p>The issue has nothing to do with jstack.\nThe error says, <code>bash</code> can't create <code>thread.dump</code> file in the root directory. This is quite expected, since <code>/</code> is typically writable only by <code>root</code>. Try creating the output file in a different directory.</p>\n"}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643326365,"creation_date":1643325853,"question_id":70887088,"body_markdown":"I am trying to get a thread dump of a Java service running inside Docker container. I got into the container terminal using the following command.\r\n\r\n    sudo docker exec -u 1000:0 -ti MyService /bin/bash\r\n\r\nWhen I now run the following jstack command,\r\n\r\n    [ecs-user@myComputer /]$ jstack -l 436 &gt; thread.dump\r\n\r\nI get the following error.\r\n\r\n    bash: thread.dump: Permission denied\r\n\r\nMy docker container runAsUser is specified as `ecs-user` and that&#39;s the user the bash shell is running as. What permissions do I grant this user on which files to be able to do this thread dump? Or are there any other alternatives with jstack? Would appreciate any suggestions/advice. Thanks in advance.\r\n\r\n","title":"Running jstack inside Docker container throws &quot;Permission Denied&quot;","body":"<p>I am trying to get a thread dump of a Java service running inside Docker container. I got into the container terminal using the following command.</p>\n<pre><code>sudo docker exec -u 1000:0 -ti MyService /bin/bash\n</code></pre>\n<p>When I now run the following jstack command,</p>\n<pre><code>[ecs-user@myComputer /]$ jstack -l 436 &gt; thread.dump\n</code></pre>\n<p>I get the following error.</p>\n<pre><code>bash: thread.dump: Permission denied\n</code></pre>\n<p>My docker container runAsUser is specified as <code>ecs-user</code> and that's the user the bash shell is running as. What permissions do I grant this user on which files to be able to do this thread dump? Or are there any other alternatives with jstack? Would appreciate any suggestions/advice. Thanks in advance.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1643325958,"post_id":70887062,"comment_id":125317106,"body_markdown":"not sure if I followed, but are you looking for `rollbackFor` https://stackoverflow.com/q/21188239/2704032?","body":"not sure if I followed, but are you looking for <code>rollbackFor</code> <a href=\"https://stackoverflow.com/q/21188239/2704032\">stackoverflow.com/q/21188239/2704032</a>?"}],"answers":[{"tags":[],"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643326217,"creation_date":1643326217,"answer_id":70887134,"question_id":70887062,"body_markdown":"This is normal, by default spring canceled only when an unchecked exception is thrown.\r\n\r\nyou have to add at the top of your class @Transactional ( rollbackFor =  Exception . class ).\r\n\r\nLike that\r\n\r\n```\r\n\r\n@Transactional ( rollbackFor =  Exception.class )\r\n\r\npublic class MyClass{\r\n\r\n    public void step1() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n    public void step2() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nNow like that your exception can cancel your transaction.\r\n","title":"Transactional anotation with expection","body":"<p>This is normal, by default spring canceled only when an unchecked exception is thrown.</p>\n<p>you have to add at the top of your class @Transactional ( rollbackFor =  Exception . class ).</p>\n<p>Like that</p>\n<pre><code>\n@Transactional ( rollbackFor =  Exception.class )\n\npublic class MyClass{\n\n    public void step1() throws Exception {\n        throw new java.lang.Exception();\n    }\n    public void step2() throws Exception {\n        throw new java.lang.Exception();\n    }\n\n\n}\n\n</code></pre>\n<p>Now like that your exception can cancel your transaction.</p>\n"}],"owner":{"account_id":23980816,"reputation":33,"user_id":17968275,"display_name":"tinit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70887134,"answer_count":1,"score":1,"last_activity_date":1643326217,"creation_date":1643325646,"question_id":70887062,"body_markdown":"I want my transaction to be canceled following a personalized exception\r\n\r\n``` \r\n@Transactional\r\npublic class MyClass{\r\n\r\n    public void step1() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n    public void step2() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nBut nothing happens when my exceptions occur.\r\n","title":"Transactional anotation with expection","body":"<p>I want my transaction to be canceled following a personalized exception</p>\n<pre><code>@Transactional\npublic class MyClass{\n\n    public void step1() throws Exception {\n        throw new java.lang.Exception();\n    }\n    public void step2() throws Exception {\n        throw new java.lang.Exception();\n    }\n\n\n}\n</code></pre>\n<p>But nothing happens when my exceptions occur.</p>\n"},{"tags":["java","android","contacts","android-contacts","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":433802,"reputation":27761,"user_id":819355,"accept_rate":72,"display_name":"marmor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632034325,"creation_date":1632034325,"answer_id":69240994,"question_id":69233542,"body_markdown":"Your query is running on the `Phone.CONTENT_URI` table, which can only return basic Contacts table columns + Phone specific columns, it can&#39;t for example return `Event.START_DATE` data.\r\n\r\nThe `Phone.Number` constant and the `Event.START_DATE` constant both map to the underling field `ContactsContract.DataColumns.DATA1` (see [Phone columns here][1]) - that is why you&#39;re getting the phone number in your code.\r\n\r\nTo get information from multiple contact data tables you need to query on `Data.CONTENT_URI` table instead, which will return data from **all data types** and then use the mimetype value to figure out which type of row you are currently on.\r\n\r\nSo if you need only Phone and Event data types, here&#39;s the code:\r\n\r\n    String[] projection = {Data.CONTACT_ID, Data.DISPLAY_NAME, Data.MIMETYPE, Data.DATA1}; // if you need more fields add them here\r\n    \r\n    // query only phones / events\r\n    String selection = Data.MIMETYPE + &quot; IN (&#39;&quot; + Phone.CONTENT_ITEM_TYPE + &quot;&#39;, &#39;&quot; + Event.CONTENT_ITEM_TYPE + &quot;&#39;)&quot;;\r\n    ContentResolver cr = getContentResolver();\r\n    Cursor cur = cr.query(Data.CONTENT_URI, projection, selection, null, null);\r\n    \r\n    while (cur != null &amp;&amp; cur.moveToNext()) {\r\n        long id = cur.getLong(0);\r\n        String name = cur.getString(1); // full name\r\n        String mime = cur.getString(2); // type of data (phone / event)\r\n        String data = cur.getString(3); // the actual info\r\n    \r\n        Log.d(TAG, &quot;got &quot; + id + &quot;-&quot; + name + &quot;-&quot; + mime + &quot;: &quot; + data);\r\n\r\n        if (mime == Phone.CONTENT_ITEM_TYPE) {\r\n            // do something with the phone\r\n        } else {\r\n            // do something with the event start_date\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/ContactsContract.CommonDataKinds.Phone","title":"event_start always returning contact number in android","body":"<p>Your query is running on the <code>Phone.CONTENT_URI</code> table, which can only return basic Contacts table columns + Phone specific columns, it can't for example return <code>Event.START_DATE</code> data.</p>\n<p>The <code>Phone.Number</code> constant and the <code>Event.START_DATE</code> constant both map to the underling field <code>ContactsContract.DataColumns.DATA1</code> (see <a href=\"https://developer.android.com/reference/android/provider/ContactsContract.CommonDataKinds.Phone\" rel=\"nofollow noreferrer\">Phone columns here</a>) - that is why you're getting the phone number in your code.</p>\n<p>To get information from multiple contact data tables you need to query on <code>Data.CONTENT_URI</code> table instead, which will return data from <strong>all data types</strong> and then use the mimetype value to figure out which type of row you are currently on.</p>\n<p>So if you need only Phone and Event data types, here's the code:</p>\n<pre><code>String[] projection = {Data.CONTACT_ID, Data.DISPLAY_NAME, Data.MIMETYPE, Data.DATA1}; // if you need more fields add them here\n\n// query only phones / events\nString selection = Data.MIMETYPE + &quot; IN ('&quot; + Phone.CONTENT_ITEM_TYPE + &quot;', '&quot; + Event.CONTENT_ITEM_TYPE + &quot;')&quot;;\nContentResolver cr = getContentResolver();\nCursor cur = cr.query(Data.CONTENT_URI, projection, selection, null, null);\n\nwhile (cur != null &amp;&amp; cur.moveToNext()) {\n    long id = cur.getLong(0);\n    String name = cur.getString(1); // full name\n    String mime = cur.getString(2); // type of data (phone / event)\n    String data = cur.getString(3); // the actual info\n\n    Log.d(TAG, &quot;got &quot; + id + &quot;-&quot; + name + &quot;-&quot; + mime + &quot;: &quot; + data);\n\n    if (mime == Phone.CONTENT_ITEM_TYPE) {\n        // do something with the phone\n    } else {\n        // do something with the event start_date\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643326077,"creation_date":1631958857,"question_id":69233542,"body_markdown":"Why `ContactsContract.CommonDataKinds.Event.START_DATE` always returning contact number. The number is available in Google Contacts.\r\n\r\n![](https://i.stack.imgur.com/8WCyH.png)\r\n\r\n![](https://i.stack.imgur.com/7hUGt.png)\r\n\r\nHere what I am doing...\r\n\r\n```java\r\nCursor c;\r\n        if (contactID==&quot;&quot;) {\r\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, null, null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\r\n        }else{\r\n            StringBuffer whereClause = new StringBuffer();\r\n            whereClause.append(Phone.CONTACT_ID);\r\n            whereClause.append(&quot;=&quot;);\r\n            whereClause.append(contactID);\r\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, whereClause.toString(), null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\r\n        }\r\nbirthday = c.getString(c.getColumnIndex(ContactsContract.CommonDataKinds.Event.START_DATE));\r\n```\r\n\r\nFor setting in layout.\r\n\r\n```java\r\nbirthday = fetchSpecificContact.get(Constants.BIRTHDAY);\r\netxtBirthday.setText(birthday);\r\n```\r\n\r\nI can&#39;t see any problem anywhere. API level 22 maybe. Android version : 5.1. ","title":"event_start always returning contact number in android","body":"<p>Why <code>ContactsContract.CommonDataKinds.Event.START_DATE</code> always returning contact number. The number is available in Google Contacts.</p>\n<p><img src=\"https://i.stack.imgur.com/8WCyH.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/7hUGt.png\" alt=\"\" /></p>\n<p>Here what I am doing...</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cursor c;\n        if (contactID==&quot;&quot;) {\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, null, null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\n        }else{\n            StringBuffer whereClause = new StringBuffer();\n            whereClause.append(Phone.CONTACT_ID);\n            whereClause.append(&quot;=&quot;);\n            whereClause.append(contactID);\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, whereClause.toString(), null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\n        }\nbirthday = c.getString(c.getColumnIndex(ContactsContract.CommonDataKinds.Event.START_DATE));\n</code></pre>\n<p>For setting in layout.</p>\n<pre class=\"lang-java prettyprint-override\"><code>birthday = fetchSpecificContact.get(Constants.BIRTHDAY);\netxtBirthday.setText(birthday);\n</code></pre>\n<p>I can't see any problem anywhere. API level 22 maybe. Android version : 5.1.</p>\n"},{"tags":["java","android","contacts","android-cursor"],"comments":[{"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"score":0,"creation_date":1632110517,"post_id":69248531,"comment_id":122395506,"body_markdown":"did you check the column index is right ??","body":"did you check the column index is right ??"},{"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"score":0,"creation_date":1632111674,"post_id":69248531,"comment_id":122395660,"body_markdown":"@D_K As far as I know, Yes!","body":"@D_K As far as I know, Yes!"}],"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643326021,"creation_date":1632105047,"question_id":69248531,"body_markdown":"```java\r\n Cursor c = activity.getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, CallLog.Calls.DATE + &quot; DESC &quot;);\r\ntry{\r\n                photo = c.getString(c.getColumnIndex(CallLog.Calls.CACHED_PHOTO_URI));\r\n                Log.d(&quot;PHOTO_URI&quot;,photo);\r\n            }catch (Exception e){\r\n                Log.e(&quot;ERROR_LOG&quot;,e.toString());\r\n            }\r\n```\r\n\r\nERROR_LOG always returning `Couldn&#39;t read row 305, col -1 from CursorWindow. Make sure the Cursor is initialized correctly before accessing data from it.` I was reading [the answer](https://stackoverflow.com/a/52352288/16897106). According to that answer what I understood that is, that user was fetching only single column. But I am not doing that here. I am fetching all the columns from CallLog.Calls.CONTENT_URI. So my question is completely different from that. I had tried with `c.getInt` but it also doesn&#39;t work. ","title":"Couldn&#39;t read row 305, col -1 from CursorWindow. Make sure the Cursor is initialized correctly before accessing data from it","body":"<pre class=\"lang-java prettyprint-override\"><code> Cursor c = activity.getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, CallLog.Calls.DATE + &quot; DESC &quot;);\ntry{\n                photo = c.getString(c.getColumnIndex(CallLog.Calls.CACHED_PHOTO_URI));\n                Log.d(&quot;PHOTO_URI&quot;,photo);\n            }catch (Exception e){\n                Log.e(&quot;ERROR_LOG&quot;,e.toString());\n            }\n</code></pre>\n<p>ERROR_LOG always returning <code>Couldn't read row 305, col -1 from CursorWindow. Make sure the Cursor is initialized correctly before accessing data from it.</code> I was reading <a href=\"https://stackoverflow.com/a/52352288/16897106\">the answer</a>. According to that answer what I understood that is, that user was fetching only single column. But I am not doing that here. I am fetching all the columns from CallLog.Calls.CONTENT_URI. So my question is completely different from that. I had tried with <code>c.getInt</code> but it also doesn't work.</p>\n"},{"tags":["java","api"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643326019,"creation_date":1643312541,"answer_id":70884761,"question_id":70883694,"body_markdown":"You can write your own code using class `HttpURLConnection`, but there already third party http client libraries that can make it much simpler for you to do so. Here are some options:&lt;br&gt;\r\n[Apache Http client][1]&lt;br&gt;\r\n[OK Http client][2]&lt;br&gt;\r\nAlso there is by far less known MgntUtils library that has Http client as well, and that one is very simple to use. Here is how your code would look like:\r\n\r\n    HttpClient client = new HttpClient();\r\n    client.setContentType(&quot;application/json; utf-8&quot;);\r\n    client.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &lt;your_access_token_here&gt;&quot;);\r\n    try {\r\n      client.sendHttpRequest(&quot;https://api.pushbullet.com/v2/users/me&quot;, HttpClient.HttpMethod.GET);\r\n      System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\r\n    }catch(IOException ioe) {\r\n        System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\r\n    }\r\n\r\nAnd you are all set. Here is the [JavaDoc for HttpClient class][3]. The library can be obtained as [Maven artifact from Maven Central][4] and from [Github][5] (including source code and Javadoc)\r\n\r\n \r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.1.x/\r\n  [2]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases","title":"how to make requests to an api","body":"<p>You can write your own code using class <code>HttpURLConnection</code>, but there already third party http client libraries that can make it much simpler for you to do so. Here are some options:<br>\n<a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/\" rel=\"nofollow noreferrer\">Apache Http client</a><br>\n<a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OK Http client</a><br>\nAlso there is by far less known MgntUtils library that has Http client as well, and that one is very simple to use. Here is how your code would look like:</p>\n<pre><code>HttpClient client = new HttpClient();\nclient.setContentType(&quot;application/json; utf-8&quot;);\nclient.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &lt;your_access_token_here&gt;&quot;);\ntry {\n  client.sendHttpRequest(&quot;https://api.pushbullet.com/v2/users/me&quot;, HttpClient.HttpMethod.GET);\n  System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\n}catch(IOException ioe) {\n    System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\n}\n</code></pre>\n<p>And you are all set. Here is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">JavaDoc for HttpClient class</a>. The library can be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact from Maven Central</a> and from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"display_name":"user17370683"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70884761,"answer_count":1,"score":0,"last_activity_date":1643326019,"creation_date":1643307251,"question_id":70883694,"body_markdown":"I want to push and receive msgs using the Pushbullet api in java https://docs.pushbullet.com/v9/#http . The problem I am facing is that I really have no idea how to do anything related to apis, On the website it says you can do a request that goes like this:\r\n```dos\r\ncurl --header &#39;Authorization: Bearer &lt;your_access_token_here&gt;&#39; https://api.pushbullet.com/v2/users/me\r\n```\r\n\r\nusing curl. what if I want to do it in java? what would I do? is it just something like getting the URL and adding &#39;Authorization: Bearer &lt;your_access_token_here&gt;&#39; like this:\r\n\r\nhttps://api.pushbullet.com/v2/users/me Authorization: Bearer &lt;your_access_token_here&gt;\r\nbecause it doesn&#39;t seem so.\r\n\r\nthis is the code I am working on:\r\n```java\r\n        HttpURLConnection urlConnection = (HttpURLConnection) new URL(&quot;https://api.pushbullet.com&quot;).openConnection();\r\n\r\n        urlConnection.setRequestMethod(&quot;GET&quot;);\r\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n```\r\n\r\nthere is something very simple I really don&#39;t understand here. Please give every step in your code or explanation\r\n\r\n","title":"how to make requests to an api","body":"<p>I want to push and receive msgs using the Pushbullet api in java <a href=\"https://docs.pushbullet.com/v9/#http\" rel=\"nofollow noreferrer\">https://docs.pushbullet.com/v9/#http</a> . The problem I am facing is that I really have no idea how to do anything related to apis, On the website it says you can do a request that goes like this:</p>\n<pre><code>curl --header 'Authorization: Bearer &lt;your_access_token_here&gt;' https://api.pushbullet.com/v2/users/me\n</code></pre>\n<p>using curl. what if I want to do it in java? what would I do? is it just something like getting the URL and adding 'Authorization: Bearer &lt;your_access_token_here&gt;' like this:</p>\n<p><a href=\"https://api.pushbullet.com/v2/users/me\" rel=\"nofollow noreferrer\">https://api.pushbullet.com/v2/users/me</a> Authorization: Bearer &lt;your_access_token_here&gt;\nbecause it doesn't seem so.</p>\n<p>this is the code I am working on:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        HttpURLConnection urlConnection = (HttpURLConnection) new URL(&quot;https://api.pushbullet.com&quot;).openConnection();\n\n        urlConnection.setRequestMethod(&quot;GET&quot;);\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n</code></pre>\n<p>there is something very simple I really don't understand here. Please give every step in your code or explanation</p>\n"},{"tags":["java","twitter4j","database-cursor"],"answers":[{"tags":[],"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371629678,"creation_date":1371629678,"answer_id":17186154,"question_id":17170093,"body_markdown":"The API resource [`GET followers/ids`](https://dev.twitter.com/docs/api/1.1/get/followers/ids) - which is what `getFollowersIDs()` is under the hood - is subject to rate-limiting. \r\n\r\nAccording to the [rate limiting documentation](https://dev.twitter.com/docs/rate-limiting/1.1/limits) for this resource, you can perform 15 requests in a &#39;rate limit window&#39; with windows being 15 minutes in duration. So in essence, every 15 minutes you can make another 15 requests. \r\n\r\nIt seems that in order for you to fetch the 3m followers&#39; IDs you will need to throttle your requests somehow, e.g. only make a request per minute etc...\r\n\r\nNote that rate-limiting is per-resource and some limits are more generous than others. You can find out more about how the rate-limiting works [here](https://dev.twitter.com/docs/rate-limiting/1.1).","title":"Twitter4j getFollowersIDs cursor issue","body":"<p>The API resource <a href=\"https://dev.twitter.com/docs/api/1.1/get/followers/ids\" rel=\"nofollow\"><code>GET followers/ids</code></a> - which is what <code>getFollowersIDs()</code> is under the hood - is subject to rate-limiting. </p>\n\n<p>According to the <a href=\"https://dev.twitter.com/docs/rate-limiting/1.1/limits\" rel=\"nofollow\">rate limiting documentation</a> for this resource, you can perform 15 requests in a 'rate limit window' with windows being 15 minutes in duration. So in essence, every 15 minutes you can make another 15 requests. </p>\n\n<p>It seems that in order for you to fetch the 3m followers' IDs you will need to throttle your requests somehow, e.g. only make a request per minute etc...</p>\n\n<p>Note that rate-limiting is per-resource and some limits are more generous than others. You can find out more about how the rate-limiting works <a href=\"https://dev.twitter.com/docs/rate-limiting/1.1\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":262745,"reputation":19213,"user_id":547820,"accept_rate":76,"display_name":"Sait"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1643325783,"creation_date":1371561953,"question_id":17170093,"body_markdown":"I&#39;m new to this Twitter4j library. I am trying to store all the followers ID&#39;s of a user with given `userID`. I am using something like the following:\r\n\r\n    IDs ids;\r\n    long cursor = -1;\r\n    \r\n    do{ \r\n    \tids = twitter.getFollowersIDs(userName, cursor);\r\n    \tfor (long id : ids.getIDs()) {\r\n    \t\t// Store this id...\r\n    }\r\n    while ((cursor = ids.getNextCursor()) != 0);\r\n\r\nAfter a while, I get the error `Rate limit exceeded`, it&#39;s OK. However, I don&#39;t know how to continue to store follower&#39;s IDs of the given userID when my rate limit problem fixed in the future?\r\n\r\nPS: The `userID`s whom I&#39;m tryin to store follower&#39;s ID&#39;s have more than 3 million followers. It&#39;s why I need to continue from the place where I left.\r\n\r\n","title":"Twitter4j getFollowersIDs cursor issue","body":"<p>I'm new to this Twitter4j library. I am trying to store all the followers ID's of a user with given <code>userID</code>. I am using something like the following:</p>\n\n<pre><code>IDs ids;\nlong cursor = -1;\n\ndo{ \n    ids = twitter.getFollowersIDs(userName, cursor);\n    for (long id : ids.getIDs()) {\n        // Store this id...\n}\nwhile ((cursor = ids.getNextCursor()) != 0);\n</code></pre>\n\n<p>After a while, I get the error <code>Rate limit exceeded</code>, it's OK. However, I don't know how to continue to store follower's IDs of the given userID when my rate limit problem fixed in the future?</p>\n\n<p>PS: The <code>userID</code>s whom I'm tryin to store follower's ID's have more than 3 million followers. It's why I need to continue from the place where I left.</p>\n"},{"tags":["java","email","outlook"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247516592,"creation_date":1247516592,"answer_id":1121820,"question_id":1121715,"body_markdown":"There&#39;s no sign that you&#39;re ever setting the from address to an actual address, so there&#39;s nowhere for the reply to come.\r\n\r\nThat may not be the problem in your *production* code, but it looks like a problem here...","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>There's no sign that you're ever setting the from address to an actual address, so there's nowhere for the reply to come.</p>\n\n<p>That may not be the problem in your <em>production</em> code, but it looks like a problem here...</p>\n"},{"tags":[],"owner":{"account_id":15465,"reputation":2015,"user_id":32704,"display_name":"Amr Gawish"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1435924595,"creation_date":1247647957,"answer_id":1130201,"question_id":1121715,"body_markdown":"So I solved the problem, and here is what I found:\r\n\r\n1 - You have to update to Java Mail API 1.4.2 to make everything works fine\r\n\r\n2 - Write the text/calendar part of your message like the following:\r\n\r\n\r\n    package com.xx.xx;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeBodyPart;\r\n    import javax.mail.internet.MimeMessage;\r\n    import javax.mail.internet.MimeMultipart;\r\n    import javax.mail.util.ByteArrayDataSource;\r\n    \r\n    public class Email {\r\n    \r\n    \tpublic Email() {\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tEmail email = new Email();\r\n    \t\t\temail.send();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void send() throws Exception {\r\n    \r\n    \t\ttry {\r\n    \t\t\tString from = &quot;xx@xx.com&quot;;\r\n    \t\t\tString to = &quot;xx@xx.com&quot;;\r\n    \t\t\tProperties prop = new Properties();\r\n    \t\t\tprop.put(&quot;mail.smtp.host&quot;, &quot;mailhost&quot;);\r\n    \r\n    \t\t\tSession session = Session.getDefaultInstance(prop, null);\r\n    \t\t\t// Define message\r\n    \t\t\tMimeMessage message = new MimeMessage(session);\r\n    \t\t\tmessage.addHeaderLine(&quot;method=REQUEST&quot;);\r\n    \t\t\tmessage.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n    \t\t\tmessage.addHeaderLine(&quot;component=VEVENT&quot;);\r\n    \r\n    \t\t\tmessage.setFrom(new InternetAddress(from));\r\n    \t\t\tmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n    \t\t\tmessage.setSubject(&quot;Outlook Meeting Request Using JavaMail&quot;);\r\n    \r\n    \t\t\tStringBuffer sb = new StringBuffer();\r\n    \r\n    \t\t\tStringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n    \t\t\t\t\t&quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n    \t\t\t\t\t&quot;VERSION:2.0\\n&quot; +\r\n    \t\t\t\t\t&quot;METHOD:REQUEST\\n&quot; +\r\n    \t\t\t\t\t&quot;BEGIN:VEVENT\\n&quot; +\r\n    \t\t\t\t\t&quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xx@xx.com\\n&quot; +\r\n    \t\t\t\t\t&quot;ORGANIZER:MAILTO:xx@xx.com\\n&quot; +\r\n    \t\t\t\t\t&quot;DTSTART:20051208T053000Z\\n&quot; +\r\n    \t\t\t\t\t&quot;DTEND:20051208T060000Z\\n&quot; +\r\n    \t\t\t\t\t&quot;LOCATION:Conference room\\n&quot; +\r\n    \t\t\t\t\t&quot;TRANSP:OPAQUE\\n&quot; +\r\n    \t\t\t\t\t&quot;SEQUENCE:0\\n&quot; +\r\n    \t\t\t\t\t&quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\r\n    \t\t\t\t\t&quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\r\n    \t\t\t\t\t&quot;DTSTAMP:20051206T120102Z\\n&quot; +\r\n    \t\t\t\t\t&quot;CATEGORIES:Meeting\\n&quot; +\r\n    \t\t\t\t\t&quot;DESCRIPTION:This the description of the meeting.\\n\\n&quot; +\r\n    \t\t\t\t\t&quot;SUMMARY:Test meeting request\\n&quot; +\r\n    \t\t\t\t\t&quot;PRIORITY:5\\n&quot; +\r\n    \t\t\t\t\t&quot;CLASS:PUBLIC\\n&quot; +\r\n    \t\t\t\t\t&quot;BEGIN:VALARM\\n&quot; +\r\n    \t\t\t\t\t&quot;TRIGGER:PT1440M\\n&quot; +\r\n    \t\t\t\t\t&quot;ACTION:DISPLAY\\n&quot; +\r\n    \t\t\t\t\t&quot;DESCRIPTION:Reminder\\n&quot; +\r\n    \t\t\t\t\t&quot;END:VALARM\\n&quot; +\r\n    \t\t\t\t\t&quot;END:VEVENT\\n&quot; +\r\n    \t\t\t\t\t&quot;END:VCALENDAR&quot;);\r\n    \r\n    \t\t\t// Create the message part\r\n    \t\t\tBodyPart messageBodyPart = new MimeBodyPart();\r\n    \r\n    \t\t\t// Fill the message\r\n    \t\t\tmessageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-  classes:calendarmessage&quot;);\r\n    \t\t\tmessageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n    \t\t\tmessageBodyPart.setDataHandler(new DataHandler(\r\n    \t\t\t\t\tnew ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\r\n    \r\n    \t\t\t// Create a Multipart\r\n    \t\t\tMultipart multipart = new MimeMultipart();\r\n    \r\n    \t\t\t// Add part one\r\n    \t\t\tmultipart.addBodyPart(messageBodyPart);\r\n    \r\n    \t\t\t// Put parts in message\r\n    \t\t\tmessage.setContent(multipart);\r\n    \r\n    \t\t\t// send message\r\n    \t\t\tTransport.send(message);\r\n    \t\t} catch (MessagingException me) {\r\n    \t\t\tme.printStackTrace();\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n3 - Replace your variable, and you are good to go!","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>So I solved the problem, and here is what I found:</p>\n\n<p>1 - You have to update to Java Mail API 1.4.2 to make everything works fine</p>\n\n<p>2 - Write the text/calendar part of your message like the following:</p>\n\n<pre><code>package com.xx.xx;\n\nimport java.util.Properties;\n\nimport javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.internet.MimeMessage;\nimport javax.mail.internet.MimeMultipart;\nimport javax.mail.util.ByteArrayDataSource;\n\npublic class Email {\n\n    public Email() {\n    }\n\n    /*\n     * @param args\n     */\n    public static void main(String[] args) {\n        try {\n            Email email = new Email();\n            email.send();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void send() throws Exception {\n\n        try {\n            String from = \"xx@xx.com\";\n            String to = \"xx@xx.com\";\n            Properties prop = new Properties();\n            prop.put(\"mail.smtp.host\", \"mailhost\");\n\n            Session session = Session.getDefaultInstance(prop, null);\n            // Define message\n            MimeMessage message = new MimeMessage(session);\n            message.addHeaderLine(\"method=REQUEST\");\n            message.addHeaderLine(\"charset=UTF-8\");\n            message.addHeaderLine(\"component=VEVENT\");\n\n            message.setFrom(new InternetAddress(from));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(\"Outlook Meeting Request Using JavaMail\");\n\n            StringBuffer sb = new StringBuffer();\n\n            StringBuffer buffer = sb.append(\"BEGIN:VCALENDAR\\n\" +\n                    \"PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n\" +\n                    \"VERSION:2.0\\n\" +\n                    \"METHOD:REQUEST\\n\" +\n                    \"BEGIN:VEVENT\\n\" +\n                    \"ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xx@xx.com\\n\" +\n                    \"ORGANIZER:MAILTO:xx@xx.com\\n\" +\n                    \"DTSTART:20051208T053000Z\\n\" +\n                    \"DTEND:20051208T060000Z\\n\" +\n                    \"LOCATION:Conference room\\n\" +\n                    \"TRANSP:OPAQUE\\n\" +\n                    \"SEQUENCE:0\\n\" +\n                    \"UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n\" +\n                    \" 000004377FE5C37984842BF9440448399EB02\\n\" +\n                    \"DTSTAMP:20051206T120102Z\\n\" +\n                    \"CATEGORIES:Meeting\\n\" +\n                    \"DESCRIPTION:This the description of the meeting.\\n\\n\" +\n                    \"SUMMARY:Test meeting request\\n\" +\n                    \"PRIORITY:5\\n\" +\n                    \"CLASS:PUBLIC\\n\" +\n                    \"BEGIN:VALARM\\n\" +\n                    \"TRIGGER:PT1440M\\n\" +\n                    \"ACTION:DISPLAY\\n\" +\n                    \"DESCRIPTION:Reminder\\n\" +\n                    \"END:VALARM\\n\" +\n                    \"END:VEVENT\\n\" +\n                    \"END:VCALENDAR\");\n\n            // Create the message part\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            // Fill the message\n            messageBodyPart.setHeader(\"Content-Class\", \"urn:content-  classes:calendarmessage\");\n            messageBodyPart.setHeader(\"Content-ID\", \"calendar_message\");\n            messageBodyPart.setDataHandler(new DataHandler(\n                    new ByteArrayDataSource(buffer.toString(), \"text/calendar\")));// very important\n\n            // Create a Multipart\n            Multipart multipart = new MimeMultipart();\n\n            // Add part one\n            multipart.addBodyPart(messageBodyPart);\n\n            // Put parts in message\n            message.setContent(multipart);\n\n            // send message\n            Transport.send(message);\n        } catch (MessagingException me) {\n            me.printStackTrace();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>3 - Replace your variable, and you are good to go!</p>\n"},{"tags":[],"owner":{"account_id":2098426,"reputation":1466,"user_id":1866693,"accept_rate":75,"display_name":"herau"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456406958,"creation_date":1450874047,"answer_id":34435829,"question_id":1121715,"body_markdown":"You can use [ical4j library](https://github.com/ical4j/ical4j) in addition of javamail to build the message body (instead of using a `StringBuffer`). \r\n\r\nExample:\r\n\r\n    Calendar calendar = new Calendar();\r\n    PropertyList calendarProperties = calendar.getProperties();\r\n    calendarProperties.add(Version.VERSION_2_0);\r\n    calendarProperties.add(Method.REQUEST);\r\n    // other properties ...\r\n    \r\n    VEvent vEvent = new VEvent(/*startDate, endDate*/);\r\n    PropertyList vEventProperties = vEvent.getProperties();\r\n    vEventProperties.add(Priority.MEDIUM);\r\n    vEventProperties.add(Clazz.PUBLIC);\r\n    // other properties ...\r\n    \r\n    calendar.getComponents().add(vEvent);\r\n    \r\n    messageBodyPart.setDataHandler(new DataHandler(new ByteArrayDataSource(calendar.toString(), &quot;text/calendar&quot;)));\r\n\r\n\r\n","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>You can use <a href=\"https://github.com/ical4j/ical4j\" rel=\"noreferrer\">ical4j library</a> in addition of javamail to build the message body (instead of using a <code>StringBuffer</code>). </p>\n\n<p>Example:</p>\n\n<pre><code>Calendar calendar = new Calendar();\nPropertyList calendarProperties = calendar.getProperties();\ncalendarProperties.add(Version.VERSION_2_0);\ncalendarProperties.add(Method.REQUEST);\n// other properties ...\n\nVEvent vEvent = new VEvent(/*startDate, endDate*/);\nPropertyList vEventProperties = vEvent.getProperties();\nvEventProperties.add(Priority.MEDIUM);\nvEventProperties.add(Clazz.PUBLIC);\n// other properties ...\n\ncalendar.getComponents().add(vEvent);\n\nmessageBodyPart.setDataHandler(new DataHandler(new ByteArrayDataSource(calendar.toString(), \"text/calendar\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13819459,"reputation":563,"user_id":9975292,"display_name":"Juan Sanchez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536967505,"creation_date":1536967505,"answer_id":52340297,"question_id":1121715,"body_markdown":"*I&#39;d tried with Amr answer but I got an error in \r\nSession session = Session.getDefaultInstance(prop, null)*, \r\n\r\n**Well I fixed and here is the code I used and it worked perfectly.** I hope it helps  \r\nRemember you need to add javax.mail library to your project\r\n\r\n    import java.util.Properties;\r\n    import javax.activation.DataHandler;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeBodyPart;\r\n    import javax.mail.internet.MimeMessage;\r\n    import javax.mail.internet.MimeMultipart;\r\n    import javax.mail.util.ByteArrayDataSource;\r\n\r\n    public class Email {\r\n\r\n     public Email() {\r\n     }\r\n\r\n     public static void main(String[] args) {\r\n         try {\r\n             Email email = new Email();\r\n             email.send();\r\n         } catch (Exception e) {\r\n             e.printStackTrace();\r\n         }\r\n     }\r\n\r\n     public void send() throws Exception {\r\n\r\n        try {\r\n            String from = &quot;FromExample@gmail.com&quot;;\r\n            String to = &quot;ToExample@gmail.do&quot;;\r\n            Properties prop = new Properties();\r\n            \r\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            \r\n    \t\tfinal String username = &quot;FromExample@gmail.com&quot;;\r\n    \t\tfinal String password = &quot;123456789&quot;;\r\n            \r\n    \t\tSession session = Session.getInstance(prop,\r\n    \t\t\t\t  new javax.mail.Authenticator() {\r\n    \t\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\t\t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t  });\r\n            \r\n            // Define message\r\n            MimeMessage message = new MimeMessage(session);\r\n            message.addHeaderLine(&quot;method=REQUEST&quot;);\r\n            message.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n            message.addHeaderLine(&quot;component=VEVENT&quot;);\r\n\r\n            message.setFrom(new InternetAddress(from));\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n            message.setSubject(&quot;Outlook Meeting Request Using JavaMail&quot;);\r\n\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n                    &quot;VERSION:2.0\\n&quot; +\r\n                    &quot;METHOD:REQUEST\\n&quot; +\r\n                    &quot;BEGIN:VEVENT\\n&quot; +\r\n                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xxx@xx.com\\n&quot; +\r\n                    &quot;ORGANIZER:MAILTO:xx@xx.com\\n&quot; +\r\n                    &quot;DTSTART:20180922T053000Z\\n&quot; +\r\n                    &quot;DTEND:20180927T060000Z\\n&quot; +\r\n                    &quot;LOCATION:Conference room\\n&quot; +\r\n                    &quot;TRANSP:OPAQUE\\n&quot; +\r\n                    &quot;SEQUENCE:0\\n&quot; +\r\n                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\r\n                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\r\n                    &quot;DTSTAMP:20180922T120102Z\\n&quot; +\r\n                    &quot;CATEGORIES:Meeting\\n&quot; +\r\n                    &quot;DESCRIPTION:This the description of the meeting.\\n\\n&quot; +\r\n                    &quot;SUMMARY:Test meeting request\\n&quot; +\r\n                    &quot;PRIORITY:5\\n&quot; +\r\n                    &quot;CLASS:PUBLIC\\n&quot; +\r\n                    &quot;BEGIN:VALARM\\n&quot; +\r\n                    &quot;TRIGGER:PT1440M\\n&quot; +\r\n                    &quot;ACTION:DISPLAY\\n&quot; +\r\n                    &quot;DESCRIPTION:Reminder\\n&quot; +\r\n                    &quot;END:VALARM\\n&quot; +\r\n                    &quot;END:VEVENT\\n&quot; +\r\n                    &quot;END:VCALENDAR&quot;);\r\n\r\n            // Create the message part\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n            // Fill the message\r\n            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-  classes:calendarmessage&quot;);\r\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n            messageBodyPart.setDataHandler(new DataHandler(\r\n                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\r\n\r\n            // Create a Multipart\r\n            Multipart multipart = new MimeMultipart();\r\n\r\n            // Add part one\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n            // Put parts in message\r\n            message.setContent(multipart);\r\n\r\n            // send message\r\n            \r\n \r\n            Transport.send(message);\r\n            \r\n            System.out.println(&quot;Success&quot;);\r\n            \r\n        } catch (MessagingException me) {\r\n            me.printStackTrace();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n     }\r\n    }\r\n","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p><em>I'd tried with Amr answer but I got an error in \nSession session = Session.getDefaultInstance(prop, null)</em>, </p>\n\n<p><strong>Well I fixed and here is the code I used and it worked perfectly.</strong> I hope it helps<br>\nRemember you need to add javax.mail library to your project</p>\n\n<pre><code>import java.util.Properties;\nimport javax.activation.DataHandler;\nimport javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.internet.MimeMessage;\nimport javax.mail.internet.MimeMultipart;\nimport javax.mail.util.ByteArrayDataSource;\n\npublic class Email {\n\n public Email() {\n }\n\n public static void main(String[] args) {\n     try {\n         Email email = new Email();\n         email.send();\n     } catch (Exception e) {\n         e.printStackTrace();\n     }\n }\n\n public void send() throws Exception {\n\n    try {\n        String from = \"FromExample@gmail.com\";\n        String to = \"ToExample@gmail.do\";\n        Properties prop = new Properties();\n\n        prop.put(\"mail.smtp.auth\", \"true\");\n        prop.put(\"mail.smtp.starttls.enable\", \"true\");\n        prop.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n        prop.put(\"mail.smtp.port\", \"587\");\n\n        final String username = \"FromExample@gmail.com\";\n        final String password = \"123456789\";\n\n        Session session = Session.getInstance(prop,\n                  new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                  });\n\n        // Define message\n        MimeMessage message = new MimeMessage(session);\n        message.addHeaderLine(\"method=REQUEST\");\n        message.addHeaderLine(\"charset=UTF-8\");\n        message.addHeaderLine(\"component=VEVENT\");\n\n        message.setFrom(new InternetAddress(from));\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n        message.setSubject(\"Outlook Meeting Request Using JavaMail\");\n\n        StringBuffer sb = new StringBuffer();\n\n        StringBuffer buffer = sb.append(\"BEGIN:VCALENDAR\\n\" +\n                \"PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n\" +\n                \"VERSION:2.0\\n\" +\n                \"METHOD:REQUEST\\n\" +\n                \"BEGIN:VEVENT\\n\" +\n                \"ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xxx@xx.com\\n\" +\n                \"ORGANIZER:MAILTO:xx@xx.com\\n\" +\n                \"DTSTART:20180922T053000Z\\n\" +\n                \"DTEND:20180927T060000Z\\n\" +\n                \"LOCATION:Conference room\\n\" +\n                \"TRANSP:OPAQUE\\n\" +\n                \"SEQUENCE:0\\n\" +\n                \"UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n\" +\n                \" 000004377FE5C37984842BF9440448399EB02\\n\" +\n                \"DTSTAMP:20180922T120102Z\\n\" +\n                \"CATEGORIES:Meeting\\n\" +\n                \"DESCRIPTION:This the description of the meeting.\\n\\n\" +\n                \"SUMMARY:Test meeting request\\n\" +\n                \"PRIORITY:5\\n\" +\n                \"CLASS:PUBLIC\\n\" +\n                \"BEGIN:VALARM\\n\" +\n                \"TRIGGER:PT1440M\\n\" +\n                \"ACTION:DISPLAY\\n\" +\n                \"DESCRIPTION:Reminder\\n\" +\n                \"END:VALARM\\n\" +\n                \"END:VEVENT\\n\" +\n                \"END:VCALENDAR\");\n\n        // Create the message part\n        BodyPart messageBodyPart = new MimeBodyPart();\n\n        // Fill the message\n        messageBodyPart.setHeader(\"Content-Class\", \"urn:content-  classes:calendarmessage\");\n        messageBodyPart.setHeader(\"Content-ID\", \"calendar_message\");\n        messageBodyPart.setDataHandler(new DataHandler(\n                new ByteArrayDataSource(buffer.toString(), \"text/calendar\")));// very important\n\n        // Create a Multipart\n        Multipart multipart = new MimeMultipart();\n\n        // Add part one\n        multipart.addBodyPart(messageBodyPart);\n\n        // Put parts in message\n        message.setContent(multipart);\n\n        // send message\n\n\n        Transport.send(message);\n\n        System.out.println(\"Success\");\n\n    } catch (MessagingException me) {\n        me.printStackTrace();\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9964429,"reputation":308,"user_id":7372540,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643325421,"creation_date":1604628040,"answer_id":64707852,"question_id":1121715,"body_markdown":"Here, \r\n\r\n1 - Download jar from [here (JavaMail API &#187; 1.6.2)][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.6.2\r\n\r\n2 - Copy and Paste the following code (Change variable values)\r\n\r\n    import java.util.Properties;\r\n    import javax.activation.DataHandler;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import javax.mail.util.ByteArrayDataSource;\r\n\r\n    public class Index {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\t try {\r\n\t\t\t \tfinal String username = &quot;sender@mail.com&quot;;\r\n\t\t\t    final String password = &quot;xxxxx&quot;;\r\n\t\t\t    \r\n\t            String from = &quot;sender@mail.com&quot;;\r\n\t            String to = &quot;attendee@mail.com&quot;;\r\n\t            String subject = &quot;Meeting Subject&quot;;\r\n\t            String startDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\r\n\t            String endDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\r\n\t            String startTime = &quot;0400&quot;; // Time Formate: HHMM\r\n\t            String endTime = &quot;0600&quot;; // Time Formate: HHMM\r\n\t            String emailBody = &quot;Hi Team, This is meeting description. Thanks&quot;; \r\n\t            \r\n\t            Properties prop = new Properties();\r\n\t            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n\r\n\t            Session session = Session.getDefaultInstance(prop,  new javax.mail.Authenticator() {\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(username, password);\r\n                    }\r\n                  });\r\n\t            \r\n\t            MimeMessage message = new MimeMessage(session);\r\n\t            message.addHeaderLine(&quot;method=REQUEST&quot;);\r\n\t            message.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n\t            message.addHeaderLine(&quot;component=VEVENT&quot;);\r\n\r\n\t            message.setFrom(new InternetAddress(from, &quot;New Outlook Event&quot;));\r\n\t            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\t            message.setSubject(subject);\r\n\r\n\t            StringBuffer sb = new StringBuffer();\r\n\r\n\t            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n\t                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n\t                    &quot;VERSION:2.0\\n&quot; +\r\n\t                    &quot;METHOD:REQUEST\\n&quot; +\r\n\t                    &quot;BEGIN:VEVENT\\n&quot; +\r\n\t                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:&quot;+ to +&quot;\\n&quot; +\r\n\t                    &quot;DTSTART:&quot;+ startDate +&quot;T&quot;+ startTime +&quot;00Z\\n&quot; +\r\n\t                    &quot;DTEND:&quot;+ endDate +&quot;T&quot;+ endTime +&quot;00Z\\n&quot; +\r\n\t                    &quot;LOCATION:Conference room\\n&quot; +\r\n\t                    &quot;TRANSP:OPAQUE\\n&quot; +\r\n\t                    &quot;SEQUENCE:0\\n&quot; +\r\n\t                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\r\n\t                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\r\n\t                    &quot;CATEGORIES:Meeting\\n&quot; +\r\n\t                    &quot;DESCRIPTION:&quot;+ emailBody +&quot;\\n\\n&quot; +\r\n\t                    &quot;SUMMARY:Test meeting request\\n&quot; +\r\n\t                    &quot;PRIORITY:5\\n&quot; +\r\n\t                    &quot;CLASS:PUBLIC\\n&quot; +\r\n\t                    &quot;BEGIN:VALARM\\n&quot; +\r\n\t                    &quot;TRIGGER:PT1440M\\n&quot; +\r\n\t                    &quot;ACTION:DISPLAY\\n&quot; +\r\n\t                    &quot;DESCRIPTION:Reminder\\n&quot; +\r\n\t                    &quot;END:VALARM\\n&quot; +\r\n\t                    &quot;END:VEVENT\\n&quot; +\r\n\t                    &quot;END:VCALENDAR&quot;);\r\n\r\n\t            // Create the message part\r\n\t            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n\t            // Fill the message\r\n\t            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\r\n\t            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n\t            messageBodyPart.setDataHandler(new DataHandler(\r\n\t                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\r\n\r\n\t            // Create a Multipart\r\n\t            Multipart multipart = new MimeMultipart();\r\n\r\n\t            // Add part one\r\n\t            multipart.addBodyPart(messageBodyPart);\r\n\r\n\t            // Put parts in message\r\n\t            message.setContent(multipart);\r\n\r\n\t            // send message\r\n\t            Transport.send(message);\r\n\t            \r\n\t            System.out.println(&quot;Email sent!&quot;);\r\n\t        } catch (MessagingException me) {\r\n\t            me.printStackTrace();\r\n\t        } catch (Exception ex) {\r\n\t            ex.printStackTrace();\r\n\t        }\r\n\t}\r\n    }\r\n\r\n\r\n3 - That&#39;s all, hit RUN......","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>Here,</p>\n<p>1 - Download jar from <a href=\"https://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.6.2\" rel=\"nofollow noreferrer\">here (JavaMail API » 1.6.2)</a>.</p>\n<p>2 - Copy and Paste the following code (Change variable values)</p>\n<pre><code>import java.util.Properties;\nimport javax.activation.DataHandler;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport javax.mail.util.ByteArrayDataSource;\n\npublic class Index {\n\npublic static void main(String[] args) {\n\n     try {\n            final String username = &quot;sender@mail.com&quot;;\n            final String password = &quot;xxxxx&quot;;\n            \n            String from = &quot;sender@mail.com&quot;;\n            String to = &quot;attendee@mail.com&quot;;\n            String subject = &quot;Meeting Subject&quot;;\n            String startDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\n            String endDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\n            String startTime = &quot;0400&quot;; // Time Formate: HHMM\n            String endTime = &quot;0600&quot;; // Time Formate: HHMM\n            String emailBody = &quot;Hi Team, This is meeting description. Thanks&quot;; \n            \n            Properties prop = new Properties();\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\n\n            Session session = Session.getDefaultInstance(prop,  new javax.mail.Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n              });\n            \n            MimeMessage message = new MimeMessage(session);\n            message.addHeaderLine(&quot;method=REQUEST&quot;);\n            message.addHeaderLine(&quot;charset=UTF-8&quot;);\n            message.addHeaderLine(&quot;component=VEVENT&quot;);\n\n            message.setFrom(new InternetAddress(from, &quot;New Outlook Event&quot;));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(subject);\n\n            StringBuffer sb = new StringBuffer();\n\n            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\n                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\n                    &quot;VERSION:2.0\\n&quot; +\n                    &quot;METHOD:REQUEST\\n&quot; +\n                    &quot;BEGIN:VEVENT\\n&quot; +\n                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:&quot;+ to +&quot;\\n&quot; +\n                    &quot;DTSTART:&quot;+ startDate +&quot;T&quot;+ startTime +&quot;00Z\\n&quot; +\n                    &quot;DTEND:&quot;+ endDate +&quot;T&quot;+ endTime +&quot;00Z\\n&quot; +\n                    &quot;LOCATION:Conference room\\n&quot; +\n                    &quot;TRANSP:OPAQUE\\n&quot; +\n                    &quot;SEQUENCE:0\\n&quot; +\n                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\n                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\n                    &quot;CATEGORIES:Meeting\\n&quot; +\n                    &quot;DESCRIPTION:&quot;+ emailBody +&quot;\\n\\n&quot; +\n                    &quot;SUMMARY:Test meeting request\\n&quot; +\n                    &quot;PRIORITY:5\\n&quot; +\n                    &quot;CLASS:PUBLIC\\n&quot; +\n                    &quot;BEGIN:VALARM\\n&quot; +\n                    &quot;TRIGGER:PT1440M\\n&quot; +\n                    &quot;ACTION:DISPLAY\\n&quot; +\n                    &quot;DESCRIPTION:Reminder\\n&quot; +\n                    &quot;END:VALARM\\n&quot; +\n                    &quot;END:VEVENT\\n&quot; +\n                    &quot;END:VCALENDAR&quot;);\n\n            // Create the message part\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            // Fill the message\n            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\n            messageBodyPart.setDataHandler(new DataHandler(\n                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\n\n            // Create a Multipart\n            Multipart multipart = new MimeMultipart();\n\n            // Add part one\n            multipart.addBodyPart(messageBodyPart);\n\n            // Put parts in message\n            message.setContent(multipart);\n\n            // send message\n            Transport.send(message);\n            \n            System.out.println(&quot;Email sent!&quot;);\n        } catch (MessagingException me) {\n            me.printStackTrace();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n}\n}\n</code></pre>\n<p>3 - That's all, hit RUN......</p>\n"}],"owner":{"account_id":15465,"reputation":2015,"user_id":32704,"display_name":"Amr Gawish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40569,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1130201,"answer_count":5,"score":11,"last_activity_date":1643325421,"creation_date":1247515091,"question_id":1121715,"body_markdown":"I&#39;m trying to send an iCal to an outlook, using Java Mail Library, I&#39;ve read already the [Question][1], and I already have some sample code \r\n\r\n    public class SendMeetingRequest {\r\n \r\n    String host = &quot;&quot; ;\r\n    String port = &quot;&quot; ;\r\n    String sender = &quot;&quot; ;\r\n    \r\n    public static SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyyMMdd&#39;T&#39;HHmm&#39;00&#39;&quot; ) ;\r\n    public static SimpleDateFormat dateParser = new SimpleDateFormat( &quot;dd-MM-yyyy HH:mm&quot; ) ;\r\n \r\n    public static void main(String[] args) throws Exception {\r\n        SendMeetingRequest sender = new SendMeetingRequest() ;\r\n \r\n        sender.sendInvitation( “LogicaCMG Inschrijf Site”\r\n                             , new String[] { “robert&lt;dot&gt;willems&lt;dot&gt;of&lt;dot&gt;brilman&lt;at&gt;logicacmg&lt;dot&gt;com”\r\n                                            }\r\n                             , “Outlook Meeting Request Using JavaMail”\r\n                             , dateParser.parse( “28-08-2006 18:00″ )\r\n                             , dateParser.parse( “28-08-2006 21:00″ )\r\n                             , “LIS-42″\r\n                             , “Bar op scheveningen”\r\n                             , “&lt;font color=\\”Red\\”&gt;Aanwezigheid verplicht!&lt;/font&gt;&lt;br&gt;We gaan lekker een biertje drinken met z’n allen.”\r\n                             ) ;\r\n    }\r\n    \r\n \r\n    void sendInvitation( String organizer\r\n                       , String[] to\r\n                       , String subject\r\n                       , Date start\r\n                       , Date end\r\n                       , String invitationId\r\n                       , String location\r\n                       , String description\r\n                       ) throws Exception {\r\n \r\n        try {\r\n            Properties prop = new Properties();\r\n            prop.put(”mail.smtp.port”, port );\r\n            prop.put(”mail.smtp.host”, host );\r\n \r\n            Session session = Session.getDefaultInstance(prop);\r\n            session.setDebug(true);\r\n \r\n            // Define message\r\n            MimeMessage message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(sender));\r\n \r\n            // Set TO\r\n            if( to != null &amp;&amp; ( to.length &gt; 0 ) ) {\r\n                InternetAddress[] address = new InternetAddress[ to.length ] ;\r\n                \r\n                for( int i = 0; i &lt; to.length; i++ ) {\r\n                    address[ i ] = new InternetAddress( to[ i ] ) ;\r\n                }\r\n                \r\n                message.setRecipients( Message.RecipientType.TO, address ) ;\r\n            }\r\n            \r\n            // Set subject\r\n            message.setSubject(subject);\r\n \r\n            // Create iCalendar message\r\n            StringBuffer messageText = new StringBuffer();\r\n            messageText.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n                               &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n                               &quot;VERSION:2.0\\n&quot; +\r\n                               &quot;METHOD:REQUEST\\n&quot; +\r\n                                   &quot;BEGIN:VEVENT\\n&quot; +\r\n                                   &quot;ORGANIZER:MAILTO:&quot; ) ;\r\n            messageText.append( organizer ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DTSTART:&quot;);\r\n            messageText.append( dateFormat.format( start ) ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DTEND:&quot; ) ;\r\n            messageText.append( dateFormat.format( end ) ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;LOCATION:&quot; ) ;\r\n            messageText.append( location ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                 &quot;UID:&quot; ) ;\r\n            messageText.append( invitationId ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DTSTAMP:&quot; ) ;\r\n            messageText.append( dateFormat.format( new java.util.Date() ) ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DESCRIPTION;ALTREP=\\&quot;CID:&lt;eventDescriptionHTML&gt;\\”&quot; ) ;\r\n            messageText.append( “\\n” +\r\n                                        ”BEGIN:VALARM\\n” +\r\n                                        ”TRIGGER:-PT15M\\n” +\r\n                                        ”ACTION:DISPLAY\\n” +\r\n                                        ”DESCRIPTION:Reminder\\n” +\r\n                                        ”END:VALARM\\n” +\r\n                                   ”END:VEVENT\\n” +\r\n                               ”END:VCALENDAR”\r\n                               ) ;\r\n \r\n            Multipart mp = new MimeMultipart();\r\n \r\n            MimeBodyPart meetingPart = new MimeBodyPart() ;\r\n            meetingPart.setDataHandler( new DataHandler( new StringDataSource( messageText.toString(), “text/calendar”, “meetingRequest” ) ) ) ;\r\n            mp.addBodyPart( meetingPart ) ;\r\n            \r\n            MimeBodyPart descriptionPart = new MimeBodyPart() ;\r\n            descriptionPart.setDataHandler( new DataHandler( new StringDataSource( description, “text/html”, “eventDescription” ) ) ) ;\r\n            descriptionPart.setContentID( “&lt;eventDescriptionHTML&gt;” ) ;\r\n            mp.addBodyPart( descriptionPart ) ;\r\n           \r\n            message.setContent( mp ) ;\r\n \r\n            // send message\r\n            Transport.send(message);\r\n \r\n        } catch (MessagingException me) {\r\n            me.printStackTrace();\r\n \r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n \r\n        }\r\n    }\r\n \r\n    private static class StringDataSource implements DataSource {\r\n        private String contents ;\r\n        private String mimetype ;\r\n        private String name ;\r\n    \r\n    \r\n        public StringDataSource( String contents\r\n                               , String mimetype\r\n                               , String name\r\n                               ) {\r\n            this.contents = contents ;\r\n            this.mimetype = mimetype ;\r\n            this.name = name ;\r\n        }\r\n        \r\n        public String getContentType() {\r\n            return( mimetype ) ;\r\n        }\r\n        \r\n        public String getName() {\r\n            return( name ) ;\r\n        }\r\n \r\n        public InputStream getInputStream() {\r\n            return( new StringBufferInputStream( contents ) ) ;\r\n        }\r\n        \r\n        public OutputStream getOutputStream() {\r\n            throw new IllegalAccessError( “This datasource cannot be written to” ) ;\r\n        }\r\n    } }\r\n\r\nBut its being sent as an attachment to the outlook 2007 and outlook 2003, and even If I click the attachment to view and accept, I don&#39;t receive the Answer, which is the purpose of the application to have a similar functionality like outlook.\r\n\r\nIs there any procedure I need to know of, or is it the Invitation ID that makes the thing rough?\r\n\r\n  [1]: https://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook\r\n","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>I'm trying to send an iCal to an outlook, using Java Mail Library, I've read already the <a href=\"https://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook\">Question</a>, and I already have some sample code </p>\n\n<pre><code>public class SendMeetingRequest {\n\nString host = \"\" ;\nString port = \"\" ;\nString sender = \"\" ;\n\npublic static SimpleDateFormat dateFormat = new SimpleDateFormat( \"yyyyMMdd'T'HHmm'00'\" ) ;\npublic static SimpleDateFormat dateParser = new SimpleDateFormat( \"dd-MM-yyyy HH:mm\" ) ;\n\npublic static void main(String[] args) throws Exception {\n    SendMeetingRequest sender = new SendMeetingRequest() ;\n\n    sender.sendInvitation( “LogicaCMG Inschrijf Site”\n                         , new String[] { “robert&lt;dot&gt;willems&lt;dot&gt;of&lt;dot&gt;brilman&lt;at&gt;logicacmg&lt;dot&gt;com”\n                                        }\n                         , “Outlook Meeting Request Using JavaMail”\n                         , dateParser.parse( “28-08-2006 18:00″ )\n                         , dateParser.parse( “28-08-2006 21:00″ )\n                         , “LIS-42″\n                         , “Bar op scheveningen”\n                         , “&lt;font color=\\”Red\\”&gt;Aanwezigheid verplicht!&lt;/font&gt;&lt;br&gt;We gaan lekker een biertje drinken met z’n allen.”\n                         ) ;\n}\n\n\nvoid sendInvitation( String organizer\n                   , String[] to\n                   , String subject\n                   , Date start\n                   , Date end\n                   , String invitationId\n                   , String location\n                   , String description\n                   ) throws Exception {\n\n    try {\n        Properties prop = new Properties();\n        prop.put(”mail.smtp.port”, port );\n        prop.put(”mail.smtp.host”, host );\n\n        Session session = Session.getDefaultInstance(prop);\n        session.setDebug(true);\n\n        // Define message\n        MimeMessage message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(sender));\n\n        // Set TO\n        if( to != null &amp;&amp; ( to.length &gt; 0 ) ) {\n            InternetAddress[] address = new InternetAddress[ to.length ] ;\n\n            for( int i = 0; i &lt; to.length; i++ ) {\n                address[ i ] = new InternetAddress( to[ i ] ) ;\n            }\n\n            message.setRecipients( Message.RecipientType.TO, address ) ;\n        }\n\n        // Set subject\n        message.setSubject(subject);\n\n        // Create iCalendar message\n        StringBuffer messageText = new StringBuffer();\n        messageText.append(\"BEGIN:VCALENDAR\\n\" +\n                           \"PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n\" +\n                           \"VERSION:2.0\\n\" +\n                           \"METHOD:REQUEST\\n\" +\n                               \"BEGIN:VEVENT\\n\" +\n                               \"ORGANIZER:MAILTO:\" ) ;\n        messageText.append( organizer ) ;\n        messageText.append( \"\\n\" +\n                            \"DTSTART:\");\n        messageText.append( dateFormat.format( start ) ) ;\n        messageText.append( \"\\n\" +\n                            \"DTEND:\" ) ;\n        messageText.append( dateFormat.format( end ) ) ;\n        messageText.append( \"\\n\" +\n                            \"LOCATION:\" ) ;\n        messageText.append( location ) ;\n        messageText.append( \"\\n\" +\n                             \"UID:\" ) ;\n        messageText.append( invitationId ) ;\n        messageText.append( \"\\n\" +\n                            \"DTSTAMP:\" ) ;\n        messageText.append( dateFormat.format( new java.util.Date() ) ) ;\n        messageText.append( \"\\n\" +\n                            \"DESCRIPTION;ALTREP=\\\"CID:&lt;eventDescriptionHTML&gt;\\”\" ) ;\n        messageText.append( “\\n” +\n                                    ”BEGIN:VALARM\\n” +\n                                    ”TRIGGER:-PT15M\\n” +\n                                    ”ACTION:DISPLAY\\n” +\n                                    ”DESCRIPTION:Reminder\\n” +\n                                    ”END:VALARM\\n” +\n                               ”END:VEVENT\\n” +\n                           ”END:VCALENDAR”\n                           ) ;\n\n        Multipart mp = new MimeMultipart();\n\n        MimeBodyPart meetingPart = new MimeBodyPart() ;\n        meetingPart.setDataHandler( new DataHandler( new StringDataSource( messageText.toString(), “text/calendar”, “meetingRequest” ) ) ) ;\n        mp.addBodyPart( meetingPart ) ;\n\n        MimeBodyPart descriptionPart = new MimeBodyPart() ;\n        descriptionPart.setDataHandler( new DataHandler( new StringDataSource( description, “text/html”, “eventDescription” ) ) ) ;\n        descriptionPart.setContentID( “&lt;eventDescriptionHTML&gt;” ) ;\n        mp.addBodyPart( descriptionPart ) ;\n\n        message.setContent( mp ) ;\n\n        // send message\n        Transport.send(message);\n\n    } catch (MessagingException me) {\n        me.printStackTrace();\n\n    } catch (Exception ex) {\n        ex.printStackTrace();\n\n    }\n}\n\nprivate static class StringDataSource implements DataSource {\n    private String contents ;\n    private String mimetype ;\n    private String name ;\n\n\n    public StringDataSource( String contents\n                           , String mimetype\n                           , String name\n                           ) {\n        this.contents = contents ;\n        this.mimetype = mimetype ;\n        this.name = name ;\n    }\n\n    public String getContentType() {\n        return( mimetype ) ;\n    }\n\n    public String getName() {\n        return( name ) ;\n    }\n\n    public InputStream getInputStream() {\n        return( new StringBufferInputStream( contents ) ) ;\n    }\n\n    public OutputStream getOutputStream() {\n        throw new IllegalAccessError( “This datasource cannot be written to” ) ;\n    }\n} }\n</code></pre>\n\n<p>But its being sent as an attachment to the outlook 2007 and outlook 2003, and even If I click the attachment to view and accept, I don't receive the Answer, which is the purpose of the application to have a similar functionality like outlook.</p>\n\n<p>Is there any procedure I need to know of, or is it the Invitation ID that makes the thing rough?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1643322162,"post_id":70886527,"comment_id":125316218,"body_markdown":"A compilation error telling you what? Telling you there&#39;s no such method as `isNull`?","body":"A compilation error telling you what? Telling you there&#39;s no such method as <code>isNull</code>?"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1643322168,"post_id":70886527,"comment_id":125316220,"body_markdown":"What error? Please post it here","body":"What error? Please post it here"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1643322229,"post_id":70886527,"comment_id":125316235,"body_markdown":"Look up `try with resources`.","body":"Look up <code>try with resources</code>."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643325313,"creation_date":1643322189,"answer_id":70886548,"question_id":70886527,"body_markdown":"IsNull is not a thing in Java. Maybe you&#39;re thinking of Ruby. In Java you can&#39;t call instance methods on a null reference, there is no isNull method. That explains the compile error. \r\n\r\nUse try-with-resources syntax to close the reader. That way you don&#39;t have to catch the exception thrown on close separately, but you don&#39;t have to worry about the exception thrown on close masking an exception thrown in the try block. For more on try with resources see \r\nhttps://stackoverflow.com/q/26516020/217324\r\n\r\nLet the IOException be thrown, handle it at a higher level where you can do something useful with it. That&#39;s why we have exceptions; the place where an error occurs is not usually the place that knows what to do about it. \r\n\r\n            ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\r\n            try ( BufferedReader br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;))) {\r\n                    String line;\r\n                    while ((line = br.readLine()) != null) {\r\n                            out.add(line);\r\n                    }\r\n             }\r\n                ","title":"How do i read a file?","body":"<p>IsNull is not a thing in Java. Maybe you're thinking of Ruby. In Java you can't call instance methods on a null reference, there is no isNull method. That explains the compile error.</p>\n<p>Use try-with-resources syntax to close the reader. That way you don't have to catch the exception thrown on close separately, but you don't have to worry about the exception thrown on close masking an exception thrown in the try block. For more on try with resources see\n<a href=\"https://stackoverflow.com/q/26516020/217324\">Try With Resources vs Try-Catch</a></p>\n<p>Let the IOException be thrown, handle it at a higher level where you can do something useful with it. That's why we have exceptions; the place where an error occurs is not usually the place that knows what to do about it.</p>\n<pre><code>        ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\n        try ( BufferedReader br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;))) {\n                String line;\n                while ((line = br.readLine()) != null) {\n                        out.add(line);\n                }\n         }\n            \n</code></pre>\n"}],"owner":{"account_id":10217615,"reputation":31,"user_id":7542788,"display_name":"Landor3000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1643322260,"accepted_answer_id":70886548,"answer_count":1,"score":-2,"last_activity_date":1643325313,"creation_date":1643322069,"question_id":70886527,"body_markdown":"It&#39;s been a while since I code in java and I&#39;m having trouble trying to read a plain text file. Here&#39;s my code\r\n```\r\nprivate static ArrayList&lt;String&gt; readDict() {\r\n                BufferedReader br;\r\n                ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\r\n                try {\r\n                        br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;));\r\n                        String line;\r\n                        while ((line = br.readLine()) != null) {\r\n                                out.add(line);\r\n                        }\r\n                } catch(Exception exc) {\r\n                        System.out.println(&quot;Exception catched while reading file: &quot; + exc);\r\n                } finally {\r\n                        try {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\r\n                }\r\n                return out;\r\n        }\r\n```\r\nbr.isNull() gives me a compilation error, do you know why this is?\r\nThank you in advance.\r\nThe error:\r\nMain.java:30: error: cannot find symbol\r\n\t\t\ttry {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\r\n\t\t\t            ^\r\n  symbol:   method isNull()\r\n  location: variable br of type BufferedReader\r\n1 error\r\nerror: compilation failed\r\n","title":"How do i read a file?","body":"<p>It's been a while since I code in java and I'm having trouble trying to read a plain text file. Here's my code</p>\n<pre><code>private static ArrayList&lt;String&gt; readDict() {\n                BufferedReader br;\n                ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\n                try {\n                        br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;));\n                        String line;\n                        while ((line = br.readLine()) != null) {\n                                out.add(line);\n                        }\n                } catch(Exception exc) {\n                        System.out.println(&quot;Exception catched while reading file: &quot; + exc);\n                } finally {\n                        try {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\n                }\n                return out;\n        }\n</code></pre>\n<p>br.isNull() gives me a compilation error, do you know why this is?\nThank you in advance.\nThe error:\nMain.java:30: error: cannot find symbol\ntry {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\n^\nsymbol:   method isNull()\nlocation: variable br of type BufferedReader\n1 error\nerror: compilation failed</p>\n"},{"tags":["java","spring","spring-boot","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643324429,"creation_date":1643324429,"answer_id":70886888,"question_id":70883516,"body_markdown":"You have no constraints. You have not told OptaPlanner what to optimize for, and therefore all solutions are equally favorable to OptaPlanner. \r\n\r\n(In fact, I am quite surprised that this code does not fail. A situation with no constraints should have thrown an exception.)","title":"Opraplanner uniform employees shifts planning","body":"<p>You have no constraints. You have not told OptaPlanner what to optimize for, and therefore all solutions are equally favorable to OptaPlanner.</p>\n<p>(In fact, I am quite surprised that this code does not fail. A situation with no constraints should have thrown an exception.)</p>\n"},{"tags":[],"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643325095,"creation_date":1643325095,"answer_id":70886980,"question_id":70883516,"body_markdown":"You haven&#39;t defined any constraints, therefore OptaPlaner has no reason to come up with a better solution. You are not telling it what is better.\r\n\r\nOptaPlanner &quot;thinks&quot; this solution is the best possible because (I guess) it has a score of `0hard/0soft` (you can check it in the console), which is an ideal score.\r\n\r\nTo achieve the desired output you should define a [fair workload distribution][1] constraint that will penalize each employee with a square of its workload. Probably something like this should work in your case:\r\n\r\n```java\r\n        @Override\r\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n            return new Constraint[] {\r\n                    fairWorkloadDistribution(constraintFactory)\r\n            };\r\n        }\r\n\r\n...\r\n\r\nConstraint fairWorkloadDistribution(ConstraintFactory constraintFactory) {\r\n    return constraintFactory.forEach(Shift.class)\r\n            .groupBy(Shift::getEmployee, ConstraintCollectors.count())\r\n            .penalize(\r\n                    &quot;Employee workload squared&quot;,\r\n                    HardSoftScore.ONE_SOFT,\r\n                    (employee, shifts) -&gt; shifts * shifts);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/score-calculation/score-calculation.html#fairnessScoreConstraints","title":"Opraplanner uniform employees shifts planning","body":"<p>You haven't defined any constraints, therefore OptaPlaner has no reason to come up with a better solution. You are not telling it what is better.</p>\n<p>OptaPlanner &quot;thinks&quot; this solution is the best possible because (I guess) it has a score of <code>0hard/0soft</code> (you can check it in the console), which is an ideal score.</p>\n<p>To achieve the desired output you should define a <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/score-calculation/score-calculation.html#fairnessScoreConstraints\" rel=\"nofollow noreferrer\">fair workload distribution</a> constraint that will penalize each employee with a square of its workload. Probably something like this should work in your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n            return new Constraint[] {\n                    fairWorkloadDistribution(constraintFactory)\n            };\n        }\n\n...\n\nConstraint fairWorkloadDistribution(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(Shift.class)\n            .groupBy(Shift::getEmployee, ConstraintCollectors.count())\n            .penalize(\n                    &quot;Employee workload squared&quot;,\n                    HardSoftScore.ONE_SOFT,\n                    (employee, shifts) -&gt; shifts * shifts);\n}\n</code></pre>\n"}],"owner":{"account_id":2278326,"reputation":651,"user_id":2004072,"display_name":"Milan Majer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886980,"answer_count":2,"score":0,"last_activity_date":1643325095,"creation_date":1643306385,"question_id":70883516,"body_markdown":"I have a problem with planning employees shifts where employees are distributed uniformly (randomly) across the shifts.\r\n\r\nIn my minimal example I use Spring boot, Lombock and Optaplanner spring boot starter (8.15.0.Final) package.\r\n\r\nMy minimal example in one file:\r\n```java\r\npackage com.example.planner;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.optaplanner.core.api.domain.entity.PlanningEntity;\r\nimport org.optaplanner.core.api.domain.lookup.PlanningId;\r\nimport org.optaplanner.core.api.domain.solution.PlanningEntityCollectionProperty;\r\nimport org.optaplanner.core.api.domain.solution.PlanningScore;\r\nimport org.optaplanner.core.api.domain.solution.PlanningSolution;\r\nimport org.optaplanner.core.api.domain.solution.ProblemFactCollectionProperty;\r\nimport org.optaplanner.core.api.domain.valuerange.ValueRangeProvider;\r\nimport org.optaplanner.core.api.domain.variable.PlanningVariable;\r\nimport org.optaplanner.core.api.score.buildin.hardsoft.HardSoftScore;\r\nimport org.optaplanner.core.api.score.stream.Constraint;\r\nimport org.optaplanner.core.api.score.stream.ConstraintFactory;\r\nimport org.optaplanner.core.api.score.stream.ConstraintProvider;\r\nimport org.optaplanner.core.api.solver.SolverManager;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@SpringBootApplication\r\npublic class PlannerApplication implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tprivate SolverManager&lt;Problem, Long&gt; solverManager;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(PlannerApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tfinal var problem = new Problem(\r\n\t\t\t\tList.of(new Employee(1L), new Employee(2L), new Employee(3L)),\r\n\t\t\t\tList.of(new Shift(1L), new Shift(2L), new Shift(3L), new Shift(4L), new Shift(5L), new Shift(6L))\r\n\t\t);\r\n\t\tfinal var job = solverManager.solveAndListen(1L, id -&gt; problem, bestSolution -&gt; {\r\n\t\t\tfor (final var shift : bestSolution.shifts) {\r\n\t\t\t\tSystem.err.println(&quot;Shift &quot; + shift.id + &quot;: Employee &quot; + shift.employee.id);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@NoArgsConstructor\r\n\tpublic static class PlannerConstraintProvider implements ConstraintProvider {\r\n\r\n\t\t@Override\r\n\t\tpublic Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n\t\t\treturn new Constraint[]{};\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@PlanningSolution\r\n\t@Data @NoArgsConstructor @AllArgsConstructor\r\n\tpublic static class Problem {\r\n\t\t@ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n\t\t@ProblemFactCollectionProperty\r\n\t\tprivate List&lt;Employee&gt; employees;\r\n\t\t@PlanningEntityCollectionProperty\r\n\t\tprivate List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;(0);\r\n\t\t@PlanningScore\r\n\t\tprivate HardSoftScore score;\r\n\r\n\t\tpublic Problem(List&lt;Employee&gt; employees, List&lt;Shift&gt; shifts) {\r\n\t\t\tthis.employees = employees;\r\n\t\t\tthis.shifts = shifts;\r\n\t\t}\r\n\t}\r\n\r\n\t@Data @NoArgsConstructor @AllArgsConstructor\r\n\tpublic static class Employee {\r\n\t\t@PlanningId\r\n\t\tprivate Long id;\r\n\t}\r\n\r\n\t@PlanningEntity\r\n\t@Data @NoArgsConstructor @AllArgsConstructor\r\n\tpublic static class Shift {\r\n\t\t@PlanningId\r\n\t\tprivate Long id;\r\n\t\t@PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n\t\tprivate Employee employee;\r\n\r\n\t\tpublic Shift(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nOutput of this example is:\r\n```\r\nShift 1: Employee 1\r\nShift 2: Employee 1\r\nShift 3: Employee 1\r\nShift 4: Employee 1\r\nShift 5: Employee 1\r\nShift 6: Employee 1\r\n```\r\n\r\nDesired output is:\r\n```\r\nShift 1: Employee 1\r\nShift 2: Employee 2\r\nShift 3: Employee 3\r\nShift 4: Employee 1\r\nShift 5: Employee 2\r\nShift 6: Employee 3\r\n```\r\n(or another uniform combinations)","title":"Opraplanner uniform employees shifts planning","body":"<p>I have a problem with planning employees shifts where employees are distributed uniformly (randomly) across the shifts.</p>\n<p>In my minimal example I use Spring boot, Lombock and Optaplanner spring boot starter (8.15.0.Final) package.</p>\n<p>My minimal example in one file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.planner;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.optaplanner.core.api.domain.entity.PlanningEntity;\nimport org.optaplanner.core.api.domain.lookup.PlanningId;\nimport org.optaplanner.core.api.domain.solution.PlanningEntityCollectionProperty;\nimport org.optaplanner.core.api.domain.solution.PlanningScore;\nimport org.optaplanner.core.api.domain.solution.PlanningSolution;\nimport org.optaplanner.core.api.domain.solution.ProblemFactCollectionProperty;\nimport org.optaplanner.core.api.domain.valuerange.ValueRangeProvider;\nimport org.optaplanner.core.api.domain.variable.PlanningVariable;\nimport org.optaplanner.core.api.score.buildin.hardsoft.HardSoftScore;\nimport org.optaplanner.core.api.score.stream.Constraint;\nimport org.optaplanner.core.api.score.stream.ConstraintFactory;\nimport org.optaplanner.core.api.score.stream.ConstraintProvider;\nimport org.optaplanner.core.api.solver.SolverManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@SpringBootApplication\npublic class PlannerApplication implements CommandLineRunner {\n\n    @Autowired\n    private SolverManager&lt;Problem, Long&gt; solverManager;\n\n    public static void main(String[] args) {\n        SpringApplication.run(PlannerApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        final var problem = new Problem(\n                List.of(new Employee(1L), new Employee(2L), new Employee(3L)),\n                List.of(new Shift(1L), new Shift(2L), new Shift(3L), new Shift(4L), new Shift(5L), new Shift(6L))\n        );\n        final var job = solverManager.solveAndListen(1L, id -&gt; problem, bestSolution -&gt; {\n            for (final var shift : bestSolution.shifts) {\n                System.err.println(&quot;Shift &quot; + shift.id + &quot;: Employee &quot; + shift.employee.id);\n            }\n        });\n    }\n\n    @NoArgsConstructor\n    public static class PlannerConstraintProvider implements ConstraintProvider {\n\n        @Override\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n            return new Constraint[]{};\n        }\n\n    }\n\n    @PlanningSolution\n    @Data @NoArgsConstructor @AllArgsConstructor\n    public static class Problem {\n        @ValueRangeProvider(id = &quot;employeeRange&quot;)\n        @ProblemFactCollectionProperty\n        private List&lt;Employee&gt; employees;\n        @PlanningEntityCollectionProperty\n        private List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;(0);\n        @PlanningScore\n        private HardSoftScore score;\n\n        public Problem(List&lt;Employee&gt; employees, List&lt;Shift&gt; shifts) {\n            this.employees = employees;\n            this.shifts = shifts;\n        }\n    }\n\n    @Data @NoArgsConstructor @AllArgsConstructor\n    public static class Employee {\n        @PlanningId\n        private Long id;\n    }\n\n    @PlanningEntity\n    @Data @NoArgsConstructor @AllArgsConstructor\n    public static class Shift {\n        @PlanningId\n        private Long id;\n        @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n        private Employee employee;\n\n        public Shift(Long id) {\n            this.id = id;\n        }\n    }\n\n}\n\n</code></pre>\n<p>Output of this example is:</p>\n<pre><code>Shift 1: Employee 1\nShift 2: Employee 1\nShift 3: Employee 1\nShift 4: Employee 1\nShift 5: Employee 1\nShift 6: Employee 1\n</code></pre>\n<p>Desired output is:</p>\n<pre><code>Shift 1: Employee 1\nShift 2: Employee 2\nShift 3: Employee 3\nShift 4: Employee 1\nShift 5: Employee 2\nShift 6: Employee 3\n</code></pre>\n<p>(or another uniform combinations)</p>\n"},{"tags":["java","html","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":7610764,"reputation":968,"user_id":5771658,"accept_rate":100,"display_name":"PSo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469168162,"creation_date":1469168162,"answer_id":38519407,"question_id":38417083,"body_markdown":"There is a time wait for checking browser version, i am sure that if you:\r\n\r\n    WebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n\r\nFirst set your browser version. Then run the line to get page:\r\n\r\n    final HtmlPage page = webClient.getPage(&quot;https://rsbuddy.com/exchange?id12934&quot;);\r\n\r\n\r\nFollowed by few options:\r\n\r\n\r\ni. Set the time to wait:\r\n    \r\n    webClient.waitForBackgroundJavaScript(5000);\r\n\r\n\r\nor\r\n\r\n    while(page.asText().contains(&quot;Checking your browser before accessing&quot;)){\r\n\t\t\twebClient.waitForBackgroundJavaScript(100);\t\t\t\t\r\n\t}\r\n\r\n\r\nii. Use Thread.sleep() instead of wait for JS:\r\n\r\n    Thread.sleep(2000);// replace with this code.\r\n\r\n\r\nFinally print it out with:\r\n\r\n    System.out.println(page.asXml());","title":"Java: Getting a 503 Error when trying to read webpage using HTMLUnit","body":"<p>There is a time wait for checking browser version, i am sure that if you:</p>\n\n<pre><code>WebClient webClient = new WebClient(BrowserVersion.CHROME);\n</code></pre>\n\n<p>First set your browser version. Then run the line to get page:</p>\n\n<pre><code>final HtmlPage page = webClient.getPage(\"https://rsbuddy.com/exchange?id12934\");\n</code></pre>\n\n<p>Followed by few options:</p>\n\n<p>i. Set the time to wait:</p>\n\n<pre><code>webClient.waitForBackgroundJavaScript(5000);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while(page.asText().contains(\"Checking your browser before accessing\")){\n        webClient.waitForBackgroundJavaScript(100);             \n}\n</code></pre>\n\n<p>ii. Use Thread.sleep() instead of wait for JS:</p>\n\n<pre><code>Thread.sleep(2000);// replace with this code.\n</code></pre>\n\n<p>Finally print it out with:</p>\n\n<pre><code>System.out.println(page.asXml());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3267750,"reputation":49,"user_id":2751894,"accept_rate":0,"display_name":"Dante Carvalho Costa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635454946,"creation_date":1635454946,"answer_id":69760898,"question_id":38417083,"body_markdown":"Old post but i just had this same problem but solved it. \r\n\r\nIt is a jdk issue, java 8 doesn&#39;t have TLS 1.3 enabled by default. And some sites require TLS 1.3 to work. TLS 1.3 was not even implemented until java 8u261. (i didn&#39;t know oracle had java 8 updates after java 8u202 until now). Now i am using java 8u311 released in October 19, 2021, all you need to do to make it work is set one of these jvm properties :\r\n\r\n-Djdk.tls.client.protocols=&quot;TLSv1.3,TLSv1.2&quot; or -Dhttps.protocols=&quot;TLSv1.3,TLSv1.2&quot;\r\n\r\nMore information here https://www.java.com/en/configure_crypto.html","title":"Java: Getting a 503 Error when trying to read webpage using HTMLUnit","body":"<p>Old post but i just had this same problem but solved it.</p>\n<p>It is a jdk issue, java 8 doesn't have TLS 1.3 enabled by default. And some sites require TLS 1.3 to work. TLS 1.3 was not even implemented until java 8u261. (i didn't know oracle had java 8 updates after java 8u202 until now). Now i am using java 8u311 released in October 19, 2021, all you need to do to make it work is set one of these jvm properties :</p>\n<p>-Djdk.tls.client.protocols=&quot;TLSv1.3,TLSv1.2&quot; or -Dhttps.protocols=&quot;TLSv1.3,TLSv1.2&quot;</p>\n<p>More information here <a href=\"https://www.java.com/en/configure_crypto.html\" rel=\"nofollow noreferrer\">https://www.java.com/en/configure_crypto.html</a></p>\n"}],"owner":{"account_id":4045333,"reputation":1183,"user_id":3326720,"accept_rate":47,"display_name":"Orange Receptacle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643324639,"creation_date":1468718434,"question_id":38417083,"body_markdown":"I&#39;ve been testing out HTMLUnit and I wanted to see if I could get a value off of some websites.\r\n\r\nAfter trying it on: https://rsbuddy.com/exchange?id12934, I seem to get some 503 error, however.\r\n\r\nIt seems to be some kind of confliction with CloudFlare&#39;s IUAM.\r\n\r\nI&#39;ve looked around and found [this site][1] in which someone had the same problem as I have. The community told the poster that HTMLUnit could resolve their problem and it seems like it did in the end, however, no solutions came of it.\r\n\r\n\r\nWhat my code looks like at the moment is simply:\r\n\r\n    final WebClient webClient = new WebClient();\r\n    final HtmlPage page = webClient.getPage(&quot;https://rsbuddy.com/exchange?id12934&quot;);\r\n    System.out.println(page.asXml());\r\n\r\nThis outputs:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    INFO:\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html lang=&quot;en-US&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge,chrome=1&quot; /&gt;\r\n      &lt;meta name=&quot;robots&quot; content=&quot;noindex, nofollow&quot; /&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1&quot; /&gt;\r\n      &lt;title&gt;Just a moment...&lt;/title&gt;\r\n      &lt;style type=&quot;text/css&quot;&gt;\r\n        html,\r\n        body {\r\n          width: 100%;\r\n          height: 100%;\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n        body {\r\n          background-color: #ffffff;\r\n          font-family: Helvetica, Arial, sans-serif;\r\n          font-size: 100%;\r\n        }\r\n        h1 {\r\n          font-size: 1.5em;\r\n          color: #404040;\r\n          text-align: center;\r\n        }\r\n        p {\r\n          font-size: 1em;\r\n          color: #404040;\r\n          text-align: center;\r\n          margin: 10px 0 0 0;\r\n        }\r\n        #spinner {\r\n          margin: 0 auto 30px auto;\r\n          display: block;\r\n        }\r\n        .attribution {\r\n          margin-top: 20px;\r\n        }\r\n        @-webkit-keyframes bubbles {\r\n          33%: {\r\n            -webkit-transform: translateY(10px);\r\n            transform: translateY(10px);\r\n          }\r\n          66% {\r\n            -webkit-transform: translateY(-10px);\r\n            transform: translateY(-10px);\r\n          }\r\n          100% {\r\n            -webkit-transform: translateY(0);\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        @keyframes bubbles {\r\n          33%: {\r\n            -webkit-transform: translateY(10px);\r\n            transform: translateY(10px);\r\n          }\r\n          66% {\r\n            -webkit-transform: translateY(-10px);\r\n            transform: translateY(-10px);\r\n          }\r\n          100% {\r\n            -webkit-transform: translateY(0);\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        .bubbles {\r\n          background-color: #404040;\r\n          width: 15px;\r\n          height: 15px;\r\n          margin: 2px;\r\n          border-radius: 100%;\r\n          -webkit-animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n          animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n          -webkit-animation-fill-mode: both;\r\n          animation-fill-mode: both;\r\n          display: inline-block;\r\n        }\r\n      &lt;/style&gt;\r\n\r\n      &lt;script type=&quot;text/javascript&quot;&gt;\r\n        //&lt;![CDATA[\r\n        (function() {\r\n          var a = function() {\r\n              try {\r\n                return !!window.addEventListener\r\n              } catch (e) {\r\n                return !1\r\n              }\r\n            },\r\n            b = function(b, c) {\r\n              a() ? document.addEventListener(&quot;DOMContentLoaded&quot;, b, c) : document.attachEvent(&quot;onreadystatechange&quot;, b)\r\n            };\r\n          b(function() {\r\n            var a = document.getElementById(&#39;cf-content&#39;);\r\n            a.style.display = &#39;block&#39;;\r\n            setTimeout(function() {\r\n              var s, t, o, p, b, r, e, a, k, i, n, g, f, MASOuLk = {\r\n                &quot;eMSgRDgS&quot;: +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![]))\r\n              };\r\n              t = document.createElement(&#39;div&#39;);\r\n              t.innerHTML = &quot;&lt;a href=&#39;/&#39;&gt;x&lt;/a&gt;&quot;;\r\n              t = t.firstChild.href;\r\n              r = t.match(/https?:\\/\\//)[0];\r\n              t = t.substr(r.length);\r\n              t = t.substr(0, t.length - 1);\r\n              a = document.getElementById(&#39;jschl-answer&#39;);\r\n              f = document.getElementById(&#39;challenge-form&#39;);;\r\n              MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n              MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n              MASOuLk.eMSgRDgS += +((!+[] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS *= +((+!![] + []) + (!+[] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS += +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n              a.value = parseInt(MASOuLk.eMSgRDgS, 10) + t.length;\r\n              &#39;; 121&#39;\r\n              f.submit();\r\n            }, 4000);\r\n          }, false);\r\n        })();\r\n         //]]&gt;\r\n      &lt;/script&gt;\r\n\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n      &lt;table width=&quot;100%&quot; height=&quot;100%&quot; cellpadding=&quot;20&quot;&gt;\r\n        &lt;tr&gt;\r\n          &lt;td align=&quot;center&quot; valign=&quot;middle&quot;&gt;\r\n            &lt;div class=&quot;cf-browser-verification cf-im-under-attack&quot;&gt;\r\n              &lt;noscript&gt;\r\n                &lt;h1 data-translate=&quot;turn_on_js&quot; style=&quot;color:#bd2426;&quot;&gt;Please turn JavaScript on and reload the page.&lt;/h1&gt;\r\n              &lt;/noscript&gt;\r\n              &lt;div id=&quot;cf-content&quot; style=&quot;display:none&quot;&gt;\r\n                &lt;div&gt;\r\n                  &lt;div class=&quot;bubbles&quot;&gt;&lt;/div&gt;\r\n                  &lt;div class=&quot;bubbles&quot;&gt;&lt;/div&gt;\r\n                  &lt;div class=&quot;bubbles&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;h1&gt;&lt;span data-translate=&quot;checking_browser&quot;&gt;Checking your browser before accessing&lt;/span&gt; rsbuddy.com.&lt;/h1&gt;\r\n                &lt;p data-translate=&quot;process_is_automatic&quot;&gt;This process is automatic. Your browser will redirect to your requested content shortly.&lt;/p&gt;\r\n                &lt;p data-translate=&quot;allow_5_secs&quot;&gt;Please allow up to 5 seconds&amp;hellip;&lt;/p&gt;\r\n              &lt;/div&gt;\r\n              &lt;form id=&quot;challenge-form&quot; action=&quot;/cdn-cgi/l/chk_jschl&quot; method=&quot;get&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;jschl_vc&quot; value=&quot;c4f4252fa3ee7b54a685f74ba192d186&quot; /&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;pass&quot; value=&quot;1468717381.249-GOgXzrnovV&quot; /&gt;\r\n                &lt;input type=&quot;hidden&quot; id=&quot;jschl-answer&quot; name=&quot;jschl_answer&quot; /&gt;\r\n              &lt;/form&gt;\r\n            &lt;/div&gt;\r\n\r\n\r\n            &lt;div class=&quot;attribution&quot;&gt;\r\n              &lt;a href=&quot;https://www.cloudflare.com/5xx-error-landing?utm_source=iuam&quot; target=&quot;_blank&quot; style=&quot;font-size: 12px;&quot;&gt;DDoS protection by CloudFlare&lt;/a&gt;\r\n              &lt;br&gt;Ray ID: 2c39c577c5bb41cf\r\n            &lt;/div&gt;\r\n          &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n    Exception in thread &quot;main&quot; com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException: 503 Service Temporarily Unavailable for https://rsbuddy.com/exchange?id12934 at com.gargoylesoftware.htmlunit.WebClient.throwFailingHttpStatusCodeExceptionIfNecessary(WebClient.java:570)\r\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:395) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:303) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:450) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:435)\r\n    at TestMain.main(TestMain.java:20) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498) at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nIs there a way of using HTMLUnit that would allow this to connect to the site?\r\n\r\n  [1]: https://www.spigotmc.org/threads/help-web-crawler-java-503-response-code.109093/","title":"Java: Getting a 503 Error when trying to read webpage using HTMLUnit","body":"<p>I've been testing out HTMLUnit and I wanted to see if I could get a value off of some websites.</p>\n\n<p>After trying it on: <a href=\"https://rsbuddy.com/exchange?id12934\" rel=\"nofollow\">https://rsbuddy.com/exchange?id12934</a>, I seem to get some 503 error, however.</p>\n\n<p>It seems to be some kind of confliction with CloudFlare's IUAM.</p>\n\n<p>I've looked around and found <a href=\"https://www.spigotmc.org/threads/help-web-crawler-java-503-response-code.109093/\" rel=\"nofollow\">this site</a> in which someone had the same problem as I have. The community told the poster that HTMLUnit could resolve their problem and it seems like it did in the end, however, no solutions came of it.</p>\n\n<p>What my code looks like at the moment is simply:</p>\n\n<pre><code>final WebClient webClient = new WebClient();\nfinal HtmlPage page = webClient.getPage(\"https://rsbuddy.com/exchange?id12934\");\nSystem.out.println(page.asXml());\n</code></pre>\n\n<p>This outputs:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>INFO:\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=\"en-US\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\" /&gt;\r\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\r\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\" /&gt;\r\n  &lt;meta name=\"robots\" content=\"noindex, nofollow\" /&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\" /&gt;\r\n  &lt;title&gt;Just a moment...&lt;/title&gt;\r\n  &lt;style type=\"text/css\"&gt;\r\n    html,\r\n    body {\r\n      width: 100%;\r\n      height: 100%;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n    body {\r\n      background-color: #ffffff;\r\n      font-family: Helvetica, Arial, sans-serif;\r\n      font-size: 100%;\r\n    }\r\n    h1 {\r\n      font-size: 1.5em;\r\n      color: #404040;\r\n      text-align: center;\r\n    }\r\n    p {\r\n      font-size: 1em;\r\n      color: #404040;\r\n      text-align: center;\r\n      margin: 10px 0 0 0;\r\n    }\r\n    #spinner {\r\n      margin: 0 auto 30px auto;\r\n      display: block;\r\n    }\r\n    .attribution {\r\n      margin-top: 20px;\r\n    }\r\n    @-webkit-keyframes bubbles {\r\n      33%: {\r\n        -webkit-transform: translateY(10px);\r\n        transform: translateY(10px);\r\n      }\r\n      66% {\r\n        -webkit-transform: translateY(-10px);\r\n        transform: translateY(-10px);\r\n      }\r\n      100% {\r\n        -webkit-transform: translateY(0);\r\n        transform: translateY(0);\r\n      }\r\n    }\r\n    @keyframes bubbles {\r\n      33%: {\r\n        -webkit-transform: translateY(10px);\r\n        transform: translateY(10px);\r\n      }\r\n      66% {\r\n        -webkit-transform: translateY(-10px);\r\n        transform: translateY(-10px);\r\n      }\r\n      100% {\r\n        -webkit-transform: translateY(0);\r\n        transform: translateY(0);\r\n      }\r\n    }\r\n    .bubbles {\r\n      background-color: #404040;\r\n      width: 15px;\r\n      height: 15px;\r\n      margin: 2px;\r\n      border-radius: 100%;\r\n      -webkit-animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n      animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n      -webkit-animation-fill-mode: both;\r\n      animation-fill-mode: both;\r\n      display: inline-block;\r\n    }\r\n  &lt;/style&gt;\r\n\r\n  &lt;script type=\"text/javascript\"&gt;\r\n    //&lt;![CDATA[\r\n    (function() {\r\n      var a = function() {\r\n          try {\r\n            return !!window.addEventListener\r\n          } catch (e) {\r\n            return !1\r\n          }\r\n        },\r\n        b = function(b, c) {\r\n          a() ? document.addEventListener(\"DOMContentLoaded\", b, c) : document.attachEvent(\"onreadystatechange\", b)\r\n        };\r\n      b(function() {\r\n        var a = document.getElementById('cf-content');\r\n        a.style.display = 'block';\r\n        setTimeout(function() {\r\n          var s, t, o, p, b, r, e, a, k, i, n, g, f, MASOuLk = {\r\n            \"eMSgRDgS\": +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![]))\r\n          };\r\n          t = document.createElement('div');\r\n          t.innerHTML = \"&lt;a href='/'&gt;x&lt;/a&gt;\";\r\n          t = t.firstChild.href;\r\n          r = t.match(/https?:\\/\\//)[0];\r\n          t = t.substr(r.length);\r\n          t = t.substr(0, t.length - 1);\r\n          a = document.getElementById('jschl-answer');\r\n          f = document.getElementById('challenge-form');;\r\n          MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n          MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n          MASOuLk.eMSgRDgS += +((!+[] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS *= +((+!![] + []) + (!+[] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS += +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n          a.value = parseInt(MASOuLk.eMSgRDgS, 10) + t.length;\r\n          '; 121'\r\n          f.submit();\r\n        }, 4000);\r\n      }, false);\r\n    })();\r\n     //]]&gt;\r\n  &lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;table width=\"100%\" height=\"100%\" cellpadding=\"20\"&gt;\r\n    &lt;tr&gt;\r\n      &lt;td align=\"center\" valign=\"middle\"&gt;\r\n        &lt;div class=\"cf-browser-verification cf-im-under-attack\"&gt;\r\n          &lt;noscript&gt;\r\n            &lt;h1 data-translate=\"turn_on_js\" style=\"color:#bd2426;\"&gt;Please turn JavaScript on and reload the page.&lt;/h1&gt;\r\n          &lt;/noscript&gt;\r\n          &lt;div id=\"cf-content\" style=\"display:none\"&gt;\r\n            &lt;div&gt;\r\n              &lt;div class=\"bubbles\"&gt;&lt;/div&gt;\r\n              &lt;div class=\"bubbles\"&gt;&lt;/div&gt;\r\n              &lt;div class=\"bubbles\"&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;h1&gt;&lt;span data-translate=\"checking_browser\"&gt;Checking your browser before accessing&lt;/span&gt; rsbuddy.com.&lt;/h1&gt;\r\n            &lt;p data-translate=\"process_is_automatic\"&gt;This process is automatic. Your browser will redirect to your requested content shortly.&lt;/p&gt;\r\n            &lt;p data-translate=\"allow_5_secs\"&gt;Please allow up to 5 seconds&amp;hellip;&lt;/p&gt;\r\n          &lt;/div&gt;\r\n          &lt;form id=\"challenge-form\" action=\"/cdn-cgi/l/chk_jschl\" method=\"get\"&gt;\r\n            &lt;input type=\"hidden\" name=\"jschl_vc\" value=\"c4f4252fa3ee7b54a685f74ba192d186\" /&gt;\r\n            &lt;input type=\"hidden\" name=\"pass\" value=\"1468717381.249-GOgXzrnovV\" /&gt;\r\n            &lt;input type=\"hidden\" id=\"jschl-answer\" name=\"jschl_answer\" /&gt;\r\n          &lt;/form&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n        &lt;div class=\"attribution\"&gt;\r\n          &lt;a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=iuam\" target=\"_blank\" style=\"font-size: 12px;\"&gt;DDoS protection by CloudFlare&lt;/a&gt;\r\n          &lt;br&gt;Ray ID: 2c39c577c5bb41cf\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\nException in thread \"main\" com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException: 503 Service Temporarily Unavailable for https://rsbuddy.com/exchange?id12934 at com.gargoylesoftware.htmlunit.WebClient.throwFailingHttpStatusCodeExceptionIfNecessary(WebClient.java:570)\r\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:395) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:303) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:450) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:435)\r\nat TestMain.main(TestMain.java:20) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498) at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is there a way of using HTMLUnit that would allow this to connect to the site?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1643319135,"post_id":70885595,"comment_id":125315315,"body_markdown":"Use a loop over the characters in the string, and a boolean variable to remember whether you are inside double quotes.","body":"Use a loop over the characters in the string, and a boolean variable to remember whether you are inside double quotes."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643320467,"creation_date":1643320467,"answer_id":70886267,"question_id":70885595,"body_markdown":"Instead of matching what to split, match country names. You need to catch either letters, or letters and spaces between quotes. Match 1 or more letters - `[a-zA-Z]+`, or(`|`) match letters and spaces between quotes - `&quot;[a-zA-Z\\s]+&quot;`.\r\n\r\n        String input = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+|\\&quot;[a-zA-Z\\\\s]+\\&quot;&quot;);\r\n        Matcher matcher = pattern.matcher(input);\r\n        while (matcher.find()) {\r\n          String result = matcher.group();\r\n          if (result.startsWith(&quot;\\&quot;&quot;)) {\r\n            //quotes are matched, so remove them\r\n            result = result.substring(1, result.length() - 1);\r\n          }\r\n          System.out.println(result);\r\n        }","title":"Splitting input string when it contains countires with multiple words","body":"<p>Instead of matching what to split, match country names. You need to catch either letters, or letters and spaces between quotes. Match 1 or more letters - <code>[a-zA-Z]+</code>, or(<code>|</code>) match letters and spaces between quotes - <code>&quot;[a-zA-Z\\s]+&quot;</code>.</p>\n<pre><code>    String input = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\n    Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+|\\&quot;[a-zA-Z\\\\s]+\\&quot;&quot;);\n    Matcher matcher = pattern.matcher(input);\n    while (matcher.find()) {\n      String result = matcher.group();\n      if (result.startsWith(&quot;\\&quot;&quot;)) {\n        //quotes are matched, so remove them\n        result = result.substring(1, result.length() - 1);\n      }\n      System.out.println(result);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643321306,"creation_date":1643321306,"answer_id":70886398,"question_id":70885595,"body_markdown":"Hm, may be I am not intelligent enough, but I do not see any one-line-of-code solution, but I can think of the following solution:\r\n\r\n    public static void main(String[] args) {\r\n            String inputString = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;\\n&quot;;\r\n    \r\n            List&lt;String&gt; resultCountriesList = new ArrayList&lt;&gt;();\r\n            int currentIndex = 0;\r\n            boolean processingMultiWordsCountry = false;\r\n            for (int i = 0; i &lt; inputString.length(); i++) {\r\n                Optional&lt;String&gt; substringAsOptional = extractNextSubstring(inputString, currentIndex);\r\n                if (substringAsOptional.isPresent()) {\r\n                    String substring = substringAsOptional.get();\r\n                    currentIndex += substring.length() + 1;\r\n                    if (processingMultiWordsCountry) {\r\n                        resultCountriesList.add(substring);\r\n                    } else {\r\n                        resultCountriesList.addAll(Arrays.stream(substring.split(&quot; &quot;)).peek(String::trim).filter(s -&gt; !s.isEmpty()).collect(Collectors.toList()));\r\n                    }\r\n                    processingMultiWordsCountry = !processingMultiWordsCountry;\r\n                }\r\n            }\r\n    \r\n            System.out.println(resultCountriesList);\r\n        }\r\n    \r\n        private static Optional&lt;String&gt; extractNextSubstring(String inputString, int currentIndex) {\r\n            if (inputString.length() &gt; currentIndex + 1) {\r\n                return Optional.of(inputString.substring(currentIndex, inputString.indexOf(&quot;\\&quot;&quot;, currentIndex + 1)));\r\n            }\r\n            return Optional.empty();\r\n        }\r\nThe result list of the countries, as strings, resides in `resultCountriesList`. That code just iterates over the string, taking substring of the original string - `inputString` from the previous substring index - `currentIndex` to the next occurrence of `\\&quot;` symbol. If the substring is present - we continue processing. Also we segregate countries enclosed by `\\&quot;` symbol from countries, that resides outside of `\\&quot;` by the boolean flag `processingMultiWordsCountry`. \r\n\r\nSo, at least for now, I cannot find anything better. Also I do not think that this code is ideal, I think there are a lot of possible improvements, so if you consider any - feel free to add a comment. Hope it helped, have a nice day!","title":"Splitting input string when it contains countires with multiple words","body":"<p>Hm, may be I am not intelligent enough, but I do not see any one-line-of-code solution, but I can think of the following solution:</p>\n<pre><code>public static void main(String[] args) {\n        String inputString = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;\\n&quot;;\n\n        List&lt;String&gt; resultCountriesList = new ArrayList&lt;&gt;();\n        int currentIndex = 0;\n        boolean processingMultiWordsCountry = false;\n        for (int i = 0; i &lt; inputString.length(); i++) {\n            Optional&lt;String&gt; substringAsOptional = extractNextSubstring(inputString, currentIndex);\n            if (substringAsOptional.isPresent()) {\n                String substring = substringAsOptional.get();\n                currentIndex += substring.length() + 1;\n                if (processingMultiWordsCountry) {\n                    resultCountriesList.add(substring);\n                } else {\n                    resultCountriesList.addAll(Arrays.stream(substring.split(&quot; &quot;)).peek(String::trim).filter(s -&gt; !s.isEmpty()).collect(Collectors.toList()));\n                }\n                processingMultiWordsCountry = !processingMultiWordsCountry;\n            }\n        }\n\n        System.out.println(resultCountriesList);\n    }\n\n    private static Optional&lt;String&gt; extractNextSubstring(String inputString, int currentIndex) {\n        if (inputString.length() &gt; currentIndex + 1) {\n            return Optional.of(inputString.substring(currentIndex, inputString.indexOf(&quot;\\&quot;&quot;, currentIndex + 1)));\n        }\n        return Optional.empty();\n    }\n</code></pre>\n<p>The result list of the countries, as strings, resides in <code>resultCountriesList</code>. That code just iterates over the string, taking substring of the original string - <code>inputString</code> from the previous substring index - <code>currentIndex</code> to the next occurrence of <code>\\&quot;</code> symbol. If the substring is present - we continue processing. Also we segregate countries enclosed by <code>\\&quot;</code> symbol from countries, that resides outside of <code>\\&quot;</code> by the boolean flag <code>processingMultiWordsCountry</code>.</p>\n<p>So, at least for now, I cannot find anything better. Also I do not think that this code is ideal, I think there are a lot of possible improvements, so if you consider any - feel free to add a comment. Hope it helped, have a nice day!</p>\n"},{"tags":[],"owner":{"account_id":16860831,"reputation":106,"user_id":12191680,"display_name":"Yuliya Sheludyakova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643323437,"creation_date":1643323437,"answer_id":70886738,"question_id":70885595,"body_markdown":"Similar approach as in the accepted answer but with a shorter regex and without matching and replacing the double quotes (which is quite an expensive procedure, in my opinion):\r\n\r\n        String in = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\r\n        Pattern p = Pattern.compile(&quot;\\&quot;([^\\&quot;]*)\\&quot;|(\\\\w+)&quot;);\r\n        Matcher m = p.matcher(in);\r\n        ArrayList&lt;String&gt; sets = new ArrayList&lt;&gt;();\r\n        while(m.find()) {\r\n            String multiWordCountry = m.group(1);\r\n            if (multiWordCountry != null) {\r\n                sets.add(multiWordCountry);\r\n            } else {\r\n                sets.add(m.group(2));\r\n            }\r\n        }\r\n        System.out.print(sets);\r\n\r\nResult:\r\n\r\n    [Chad, Benin, Angola, Algeria, Finland, Romania, Democratic Republic of the Congo, Bolivia, Uzbekistan, Lesotho, United States of America]","title":"Splitting input string when it contains countires with multiple words","body":"<p>Similar approach as in the accepted answer but with a shorter regex and without matching and replacing the double quotes (which is quite an expensive procedure, in my opinion):</p>\n<pre><code>    String in = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\n    Pattern p = Pattern.compile(&quot;\\&quot;([^\\&quot;]*)\\&quot;|(\\\\w+)&quot;);\n    Matcher m = p.matcher(in);\n    ArrayList&lt;String&gt; sets = new ArrayList&lt;&gt;();\n    while(m.find()) {\n        String multiWordCountry = m.group(1);\n        if (multiWordCountry != null) {\n            sets.add(multiWordCountry);\n        } else {\n            sets.add(m.group(2));\n        }\n    }\n    System.out.print(sets);\n</code></pre>\n<p>Result:</p>\n<pre><code>[Chad, Benin, Angola, Algeria, Finland, Romania, Democratic Republic of the Congo, Bolivia, Uzbekistan, Lesotho, United States of America]\n</code></pre>\n"}],"owner":{"account_id":11681020,"reputation":49,"user_id":8552742,"display_name":"Teemu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886267,"answer_count":3,"score":0,"last_activity_date":1643323437,"creation_date":1643316903,"question_id":70885595,"body_markdown":"I get multiple countries as an input that i have to split by space. If the country has multiple word it&#39;s declared between &quot;&quot;. For example\r\n\r\n    Chad Benin Angola Algeria Finland Romania &quot;Democratic Republic of the Congo&quot; Bolivia Uzbekistan Lesotho &quot;United States of America&quot;\r\n\r\nAt the moment im able to split the countries word by word. So United States of America doesnt stay together as one country.\r\n\r\n        BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(System.in));\r\n        // Reading data using readLine\r\n        String str = reader.readLine();\r\n        ArrayList&lt;String&gt; sets = new ArrayList&lt;String&gt;();\r\n\r\n        String[] newStr = str.split(&quot;[\\\\W]&quot;);\r\n        boolean check = false;\r\n        for (String s : newStr) {\r\n            sets.add(s);\r\n        }\r\n        System.out.print(sets);\r\n\r\nHow can i split these countries so that the multiword countires dont get split?","title":"Splitting input string when it contains countires with multiple words","body":"<p>I get multiple countries as an input that i have to split by space. If the country has multiple word it's declared between &quot;&quot;. For example</p>\n<pre><code>Chad Benin Angola Algeria Finland Romania &quot;Democratic Republic of the Congo&quot; Bolivia Uzbekistan Lesotho &quot;United States of America&quot;\n</code></pre>\n<p>At the moment im able to split the countries word by word. So United States of America doesnt stay together as one country.</p>\n<pre><code>    BufferedReader reader = new BufferedReader(\n            new InputStreamReader(System.in));\n    // Reading data using readLine\n    String str = reader.readLine();\n    ArrayList&lt;String&gt; sets = new ArrayList&lt;String&gt;();\n\n    String[] newStr = str.split(&quot;[\\\\W]&quot;);\n    boolean check = false;\n    for (String s : newStr) {\n        sets.add(s);\n    }\n    System.out.print(sets);\n</code></pre>\n<p>How can i split these countries so that the multiword countires dont get split?</p>\n"},{"tags":["java","android","mediainfo"],"comments":[{"owner":{"account_id":3598704,"reputation":9723,"user_id":3002584,"accept_rate":81,"display_name":"OfirD"},"score":0,"creation_date":1643319708,"post_id":70852939,"comment_id":125315481,"body_markdown":"What happens if you omit the last parameter, such that: `mediaInfo.get(&quot;/storage/emulated/0/sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT)`?","body":"What happens if you omit the last parameter, such that: <code>mediaInfo.get(&quot;&#47;storage&#47;emulated&#47;0&#47;sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26485,"reputation":58926,"user_id":68939,"display_name":"ax."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643322987,"creation_date":1643320617,"answer_id":70886286,"question_id":70852939,"body_markdown":"Try `0` as first `streamNumber` of a `StreamKind` instead of `1`, eg.\r\n\r\n    mediaInfo.get(&quot;sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 0, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME)\r\n\r\nThat&#39;s what all the examples of [MediaInfoLib][1] do, [eg. here][2].\r\n\r\nBy the way: I would suggest to use the up-to-date [MediaInfoLib][1] directly instead of the unmaintained, 4-years-old, undocumented, modified version in MediaInfoLib-android. I got the current [Java JNI example][3] running (on Windows) in just a few minutes. Should work for Android, too (see [MediaInfoJNI.cpp][4]).\r\n\r\n\r\n  [1]: https://github.com/MediaArea/MediaInfoLib/\r\n  [2]: https://github.com/MediaArea/MediaInfoLib/blob/c02057c81a0f36a4622569bea882f073e9717838/Source/Example/HowToUse_Dll.java#L144\r\n  [3]: https://github.com/MediaArea/MediaInfoLib/tree/master/Project/Java/Example.JNI\r\n  [4]: https://github.com/MediaArea/MediaInfoLib/blob/master/Source/MediaInfoDLL/MediaInfoJNI.cpp","title":"Unable to extract parameter from video using MediaInfo","body":"<p>Try <code>0</code> as first <code>streamNumber</code> of a <code>StreamKind</code> instead of <code>1</code>, eg.</p>\n<pre><code>mediaInfo.get(&quot;sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 0, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME)\n</code></pre>\n<p>That's what all the examples of <a href=\"https://github.com/MediaArea/MediaInfoLib/\" rel=\"nofollow noreferrer\">MediaInfoLib</a> do, <a href=\"https://github.com/MediaArea/MediaInfoLib/blob/c02057c81a0f36a4622569bea882f073e9717838/Source/Example/HowToUse_Dll.java#L144\" rel=\"nofollow noreferrer\">eg. here</a>.</p>\n<p>By the way: I would suggest to use the up-to-date <a href=\"https://github.com/MediaArea/MediaInfoLib/\" rel=\"nofollow noreferrer\">MediaInfoLib</a> directly instead of the unmaintained, 4-years-old, undocumented, modified version in MediaInfoLib-android. I got the current <a href=\"https://github.com/MediaArea/MediaInfoLib/tree/master/Project/Java/Example.JNI\" rel=\"nofollow noreferrer\">Java JNI example</a> running (on Windows) in just a few minutes. Should work for Android, too (see <a href=\"https://github.com/MediaArea/MediaInfoLib/blob/master/Source/MediaInfoDLL/MediaInfoJNI.cpp\" rel=\"nofollow noreferrer\">MediaInfoJNI.cpp</a>).</p>\n"}],"owner":{"account_id":5670114,"reputation":23,"user_id":12563672,"display_name":"Stacker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643322987,"creation_date":1643131103,"question_id":70852939,"body_markdown":"I used MediaInfo pre-build binary files from https://github.com/OLEG4120/MediaInfoLib-android to extract video information. I was able to extract entire video information with below method\r\n````\r\nMediaInfo mediaInfo = new MediaInfo();\r\nString result = mediaInfo.getMI(&quot;/storage/emulated/0/sample.mp4&quot;);\r\n````\r\n\r\nAnd i extracted all information about video file. **Now how do i extract a single parameter like `Bit Rate` and other information ?**\r\n\r\ni tried this following method\r\n````\r\nString result1 = mediaInfo.get(&quot;/storage/emulated/0/sample.mp4&quot;, MediaInfo.StreamKind.VIDEO,\r\n                    1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME);\r\n````\r\nBut the string is empty. Is there any way i could extract single parameter.\r\n\r\n**MediaInfo.java**\r\n````\r\n/*  Copyright (c) MediaArea.net SARL. All Rights Reserved.\r\n *\r\n *  Use of this source code is governed by a BSD-style license that can\r\n *  be found in the License.html file in the root of the source tree.\r\n */\r\npackage org.mediainfo.android;\r\n\r\n/**\r\n * Give information about a lot of media format.\r\n */\r\npublic class MediaInfo {\r\n\r\n    public static int isCanceled = 0;\r\n\r\n    // @remark Don&#39;t change it carelessly.\r\n    // This order is from MediaInfo_Const.h\r\n    public enum StreamKind {\r\n        GENERAL,\r\n        VIDEO,\r\n        AUDIO,\r\n        TEXT,\r\n        OTHER,\r\n        IMAGE,\r\n        MENU,\r\n        MAX\r\n    }\r\n\r\n    // @remark Don&#39;t change it carelessly.\r\n    // This order is from MediaInfo_Const.h\r\n    public enum InfoKind {\r\n        NAME, // Unique name of parameter\r\n        TEXT, // Value of parameter\r\n        MEASURE, // Unique name of measure unit of parameter\r\n        OPTIONS, // See InfoOptionKind\r\n        NAME_TEXT, // Translated name of parameter\r\n        MEASURE_TEXT, // Translated name of measure unit\r\n        INFO, // More information about the parameter\r\n        HOWTO, // How this parameter is supported, could be N(No), B(Beta),\r\n               // R(Read only), W(Read/Write)\r\n        DOMAIN, // Domain of this piece of information\r\n        MAX\r\n    }\r\n\r\n    public MediaInfo() {\r\n        //handle = create();\r\n        System.out.println(&quot;MediaInfo created&quot;);\r\n    }\r\n\r\n    public int getIsCanceled() {\r\n        return isCanceled;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an integer)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in integer format\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter) {\r\n        String result = getById(filename, streamKind.ordinal(), streamNum,\r\n                parameter); /* InfoKind.TEXT */\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an integer)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in integer format\r\n     * @param infoKind\r\n     *            Kind of information you want about the parameter (the text,\r\n     *            the measure, the help, ..)\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter,\r\n            InfoKind infoKind) {\r\n        String result = getByIdDetail(filename, streamKind.ordinal(), streamNum,\r\n                parameter, infoKind.ordinal());\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an string)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter) {\r\n        String result = getByName(filename, streamKind.ordinal(), streamNum,\r\n                parameter); /* InfoKind.TEXT, InfoKind.NAME */\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an string)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\r\n     * @param infoKind\r\n     *            Kind of information you want about the parameter (the text,\r\n     *            the measure, the help, ..)\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\r\n            InfoKind infoKind) {\r\n        String result = getByNameDetail(filename, streamKind.ordinal(),\r\n                streamNum, parameter, infoKind.ordinal(),\r\n                InfoKind.NAME.ordinal());\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an string)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\r\n     * @param infoKind\r\n     *            Kind of information you want about the parameter (the text,\r\n     *            the measure, the help, ..)\r\n     * @param searchKind\r\n     *            Where to look for the parameter\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\r\n            InfoKind infoKind, InfoKind searchKind) {\r\n        String result = getByNameDetail(filename, streamKind.ordinal(),\r\n                streamNum, parameter, infoKind.ordinal(), searchKind.ordinal());\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\r\n     * piece of information in this stream.\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @return number of streams of the given stream kind\r\n     */\r\n    public int countGet(String filename, StreamKind streamKind) {\r\n        int result = countGet(filename, streamKind.ordinal(), -1);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\r\n     * piece of information in this stream.\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNumber\r\n     *            Stream number in Kind of stream\r\n     * @return number of streams of the given stream kind\r\n     */\r\n    public int countGet(String filename, StreamKind streamKind, int streamNumber) {\r\n        int result = countGet(filename, streamKind.ordinal(), streamNumber);\r\n        return result;\r\n    }\r\n\r\n    public String getMI(String filename) {\r\n        String result = getMediaInfo(filename);\r\n        return result;\r\n    }\r\n\r\n    public String getMIOption(String param) {\r\n        String result = getMediaInfoOption(param);\r\n        return result;\r\n    }\r\n\r\n    private native String getById(String filename, int streamKind, int streamNum,\r\n            int parameter);\r\n\r\n    private native String getByIdDetail(String filename, int streamKind, int streamNum,\r\n            int parameter, int kindOfInfo);\r\n\r\n    private native String getByName(String filename, int streamKind, int streamNum,\r\n            String parameter);\r\n\r\n    private native String getByNameDetail(String filename, int streamKind,\r\n            int streamNum, String parameter, int kindOfInfo, int kindOfSearch);\r\n\r\n    private native int countGet(String filename, int streamKind, int streamNum);\r\n\r\n    private native String getMediaInfo(String filename);\r\n\r\n    private native String getMediaInfoOption(String param);\r\n\r\n    static {\r\n        System.loadLibrary(&quot;mediainfo&quot;);\r\n    }\r\n}\r\n````\r\n\r\n**Dump extract**\r\n````\r\nFile\r\n    Complete name                            : /storage/emulated/0/sample.mp4\r\n    \r\n    General\r\n    Format                                   : MPEG-4\r\n    Format profile                           : Base Media / Version 2\r\n    Codec ID                                 : mp42 (isom/mp42)\r\n    File size                                : 48.1 MiB\r\n    Duration                                 : 5mn 33s\r\n    Overall bit rate mode                    : Variable\r\n    Overall bit rate                         : 1 213 Kbps\r\n    Encoded date                             : UTC 2014-06-26 10:18:07\r\n    Tagged date                              : UTC 2014-06-26 10:18:07\r\n    gsst                                     : 0\r\n    gstd                                     : 333066\r\n    gssd                                     : BD155E602HH1408471349425322\r\n    gshh                                     : r2---sn-aiglln6e.googlevideo.com\r\n    \r\n    Video\r\n    ID                                       : 1\r\n    Format                                   : AVC\r\n    Format/Info                              : Advanced Video Codec\r\n    Format profile                           : High@L3.1\r\n    Format settings, CABAC                   : Yes\r\n    Format settings, ReFrames                : 1 frame\r\n    Codec ID                                 : avc1\r\n    Codec ID/Info                            : Advanced Video Coding\r\n    Duration                                 : 5mn 32s\r\n    Bit rate                                 : 1 018 Kbps\r\n    Maximum bit rate                         : 2 944 Kbps\r\n    Width                                    : 1 280 pixels\r\n    Height                                   : 720 pixels\r\n    Display aspect ratio                     : 16:9\r\n    Frame rate mode                          : Constant\r\n    Frame rate                               : 29.970 (30000/1001) fps\r\n    Color space                              : YUV\r\n    Chroma subsampling                       : 4:2:0\r\n    Bit depth                                : 8 bits\r\n    Scan type                                : Progressive\r\n    Bits/(Pixel*Frame)                       : 0.037\r\n    Stream size                              : 40.4 MiB (84%)\r\n    Encoded date                             : UTC 1904-01-01 00:00:00\r\n    Tagged date                              : UTC 2014-06-26 10:18:10\r\n    \r\n    Audio\r\n    ID                                       : 2\r\n    Format                                   : AAC\r\n    Format/Info                              : Advanced Audio Codec\r\n    Format profile                           : LC\r\n    Codec ID                                 : 40\r\n    Duration                                 : 5mn 33s\r\n    Bit rate mode                            : Variable\r\n    Bit rate                                 : 192 Kbps\r\n    Maximum bit rate                         : 201 Kbps\r\n    Channel(s)                               : 2 channels\r\n    Channel positions                        : Front: L R\r\n    Sampling rate                            : 44.1 KHz\r\n    Frame rate                               : 43.066 fps (1024 spf)\r\n    Compression mode                         : Lossy\r\n    Stream size                              : 7.62 MiB (16%)\r\n    Title                                    : IsoMedia File Produced by Google, 5-11-2011\r\n    Encoded date                             : UTC 2014-06-26 10:18:09\r\n    Tagged date                              : UTC 2014-06-26 10:18:10\r\n````","title":"Unable to extract parameter from video using MediaInfo","body":"<p>I used MediaInfo pre-build binary files from <a href=\"https://github.com/OLEG4120/MediaInfoLib-android\" rel=\"nofollow noreferrer\">https://github.com/OLEG4120/MediaInfoLib-android</a> to extract video information. I was able to extract entire video information with below method</p>\n<pre><code>MediaInfo mediaInfo = new MediaInfo();\nString result = mediaInfo.getMI(&quot;/storage/emulated/0/sample.mp4&quot;);\n</code></pre>\n<p>And i extracted all information about video file. <strong>Now how do i extract a single parameter like <code>Bit Rate</code> and other information ?</strong></p>\n<p>i tried this following method</p>\n<pre><code>String result1 = mediaInfo.get(&quot;/storage/emulated/0/sample.mp4&quot;, MediaInfo.StreamKind.VIDEO,\n                    1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME);\n</code></pre>\n<p>But the string is empty. Is there any way i could extract single parameter.</p>\n<p><strong>MediaInfo.java</strong></p>\n<pre><code>/*  Copyright (c) MediaArea.net SARL. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license that can\n *  be found in the License.html file in the root of the source tree.\n */\npackage org.mediainfo.android;\n\n/**\n * Give information about a lot of media format.\n */\npublic class MediaInfo {\n\n    public static int isCanceled = 0;\n\n    // @remark Don't change it carelessly.\n    // This order is from MediaInfo_Const.h\n    public enum StreamKind {\n        GENERAL,\n        VIDEO,\n        AUDIO,\n        TEXT,\n        OTHER,\n        IMAGE,\n        MENU,\n        MAX\n    }\n\n    // @remark Don't change it carelessly.\n    // This order is from MediaInfo_Const.h\n    public enum InfoKind {\n        NAME, // Unique name of parameter\n        TEXT, // Value of parameter\n        MEASURE, // Unique name of measure unit of parameter\n        OPTIONS, // See InfoOptionKind\n        NAME_TEXT, // Translated name of parameter\n        MEASURE_TEXT, // Translated name of measure unit\n        INFO, // More information about the parameter\n        HOWTO, // How this parameter is supported, could be N(No), B(Beta),\n               // R(Read only), W(Read/Write)\n        DOMAIN, // Domain of this piece of information\n        MAX\n    }\n\n    public MediaInfo() {\n        //handle = create();\n        System.out.println(&quot;MediaInfo created&quot;);\n    }\n\n    public int getIsCanceled() {\n        return isCanceled;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an integer)\n     *\n     * @param streamKind\n     *            Kind of Stream\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in integer format\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter) {\n        String result = getById(filename, streamKind.ordinal(), streamNum,\n                parameter); /* InfoKind.TEXT */\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an integer)\n     *\n     * @param streamKind\n     *            Kind of Stream\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in integer format\n     * @param infoKind\n     *            Kind of information you want about the parameter (the text,\n     *            the measure, the help, ..)\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter,\n            InfoKind infoKind) {\n        String result = getByIdDetail(filename, streamKind.ordinal(), streamNum,\n                parameter, infoKind.ordinal());\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an string)\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\n     * @return a string about information you search, an empty string if there\n     *         is a problem\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter) {\n        String result = getByName(filename, streamKind.ordinal(), streamNum,\n                parameter); /* InfoKind.TEXT, InfoKind.NAME */\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an string)\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\n     * @param infoKind\n     *            Kind of information you want about the parameter (the text,\n     *            the measure, the help, ..)\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\n            InfoKind infoKind) {\n        String result = getByNameDetail(filename, streamKind.ordinal(),\n                streamNum, parameter, infoKind.ordinal(),\n                InfoKind.NAME.ordinal());\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an string)\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\n     * @param infoKind\n     *            Kind of information you want about the parameter (the text,\n     *            the measure, the help, ..)\n     * @param searchKind\n     *            Where to look for the parameter\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\n            InfoKind infoKind, InfoKind searchKind) {\n        String result = getByNameDetail(filename, streamKind.ordinal(),\n                streamNum, parameter, infoKind.ordinal(), searchKind.ordinal());\n        return result;\n    }\n\n    /**\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\n     * piece of information in this stream.\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @return number of streams of the given stream kind\n     */\n    public int countGet(String filename, StreamKind streamKind) {\n        int result = countGet(filename, streamKind.ordinal(), -1);\n        return result;\n    }\n\n    /**\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\n     * piece of information in this stream.\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNumber\n     *            Stream number in Kind of stream\n     * @return number of streams of the given stream kind\n     */\n    public int countGet(String filename, StreamKind streamKind, int streamNumber) {\n        int result = countGet(filename, streamKind.ordinal(), streamNumber);\n        return result;\n    }\n\n    public String getMI(String filename) {\n        String result = getMediaInfo(filename);\n        return result;\n    }\n\n    public String getMIOption(String param) {\n        String result = getMediaInfoOption(param);\n        return result;\n    }\n\n    private native String getById(String filename, int streamKind, int streamNum,\n            int parameter);\n\n    private native String getByIdDetail(String filename, int streamKind, int streamNum,\n            int parameter, int kindOfInfo);\n\n    private native String getByName(String filename, int streamKind, int streamNum,\n            String parameter);\n\n    private native String getByNameDetail(String filename, int streamKind,\n            int streamNum, String parameter, int kindOfInfo, int kindOfSearch);\n\n    private native int countGet(String filename, int streamKind, int streamNum);\n\n    private native String getMediaInfo(String filename);\n\n    private native String getMediaInfoOption(String param);\n\n    static {\n        System.loadLibrary(&quot;mediainfo&quot;);\n    }\n}\n</code></pre>\n<p><strong>Dump extract</strong></p>\n<pre><code>File\n    Complete name                            : /storage/emulated/0/sample.mp4\n    \n    General\n    Format                                   : MPEG-4\n    Format profile                           : Base Media / Version 2\n    Codec ID                                 : mp42 (isom/mp42)\n    File size                                : 48.1 MiB\n    Duration                                 : 5mn 33s\n    Overall bit rate mode                    : Variable\n    Overall bit rate                         : 1 213 Kbps\n    Encoded date                             : UTC 2014-06-26 10:18:07\n    Tagged date                              : UTC 2014-06-26 10:18:07\n    gsst                                     : 0\n    gstd                                     : 333066\n    gssd                                     : BD155E602HH1408471349425322\n    gshh                                     : r2---sn-aiglln6e.googlevideo.com\n    \n    Video\n    ID                                       : 1\n    Format                                   : AVC\n    Format/Info                              : Advanced Video Codec\n    Format profile                           : High@L3.1\n    Format settings, CABAC                   : Yes\n    Format settings, ReFrames                : 1 frame\n    Codec ID                                 : avc1\n    Codec ID/Info                            : Advanced Video Coding\n    Duration                                 : 5mn 32s\n    Bit rate                                 : 1 018 Kbps\n    Maximum bit rate                         : 2 944 Kbps\n    Width                                    : 1 280 pixels\n    Height                                   : 720 pixels\n    Display aspect ratio                     : 16:9\n    Frame rate mode                          : Constant\n    Frame rate                               : 29.970 (30000/1001) fps\n    Color space                              : YUV\n    Chroma subsampling                       : 4:2:0\n    Bit depth                                : 8 bits\n    Scan type                                : Progressive\n    Bits/(Pixel*Frame)                       : 0.037\n    Stream size                              : 40.4 MiB (84%)\n    Encoded date                             : UTC 1904-01-01 00:00:00\n    Tagged date                              : UTC 2014-06-26 10:18:10\n    \n    Audio\n    ID                                       : 2\n    Format                                   : AAC\n    Format/Info                              : Advanced Audio Codec\n    Format profile                           : LC\n    Codec ID                                 : 40\n    Duration                                 : 5mn 33s\n    Bit rate mode                            : Variable\n    Bit rate                                 : 192 Kbps\n    Maximum bit rate                         : 201 Kbps\n    Channel(s)                               : 2 channels\n    Channel positions                        : Front: L R\n    Sampling rate                            : 44.1 KHz\n    Frame rate                               : 43.066 fps (1024 spf)\n    Compression mode                         : Lossy\n    Stream size                              : 7.62 MiB (16%)\n    Title                                    : IsoMedia File Produced by Google, 5-11-2011\n    Encoded date                             : UTC 2014-06-26 10:18:09\n    Tagged date                              : UTC 2014-06-26 10:18:10\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643205884,"creation_date":1643205884,"answer_id":70864694,"question_id":70863024,"body_markdown":"The breakpoint is causing the producer thread to flush its batch. \r\n\r\nCall `producer.send(topic, TEST_MESSAGE).get(Duration.ofMillis(100);` in order to properly await ","title":"Spring Kafka KafkaListener picks up message when there&#39;s a breakpoint, doesn&#39;t without one","body":"<p>The breakpoint is causing the producer thread to flush its batch.</p>\n<p>Call <code>producer.send(topic, TEST_MESSAGE).get(Duration.ofMillis(100);</code> in order to properly await</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643209567,"creation_date":1643209567,"answer_id":70865621,"question_id":70863024,"body_markdown":"You can add a `ConsumerRebalanceListener` to the container configuration and wait for the partition(s) to be assigned before sending the test message.","title":"Spring Kafka KafkaListener picks up message when there&#39;s a breakpoint, doesn&#39;t without one","body":"<p>You can add a <code>ConsumerRebalanceListener</code> to the container configuration and wait for the partition(s) to be assigned before sending the test message.</p>\n"}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70865621,"answer_count":2,"score":0,"last_activity_date":1643322701,"creation_date":1643198018,"question_id":70863024,"body_markdown":"I have a simple integration test that spins up embedded kafka, sends a message to the topic, assigns the payload to a variable and compares the value.\r\n\r\n\r\nListener:\r\n```\r\n@KafkaListener( topics = &quot;topic.name&quot;, groupId = &quot;group-id&quot;)\r\npublic void receive(@Payload ConsumerRecord&lt;?, ?&gt; consumerRecord) {\r\n    setPayload(consumerRecord.toString());\r\n}\r\n```\r\n\r\nTest (using awaitly for delay)\r\n\r\n```\r\n@Test\r\npublic void canReceiveAMessage() {\r\n    producer.send(topic, TEST_MESSAGE);\r\n    await().pollDelay(10, TimeUnit.SECONDS).atMost(30, TimeUnit.SECONDS).untilAsserted(() \r\n        -&gt; assertThat(consumer.getPayload()).contains(TEST_MESSAGE);\r\n}\r\n```\r\n\r\nI assume the breakpoint resolves some kind of race condition - however, with the breakpoint, it resolves faster than 30 seconds, so i&#39;m unsure what it seems to trigger that makes it work. I can verify that the rest of it is fine, given it works with the breakpoint.\r\n\r\nEdit: It reliably passes if I sent the Consumer config to AUTO_OFFSET_RESET_CONFIG=&quot;earliest&quot;. Now, I don&#39;t want this long term, it wants to be &quot;latest&quot; - is there a reliable solution for this?","title":"Spring Kafka KafkaListener picks up message when there&#39;s a breakpoint, doesn&#39;t without one","body":"<p>I have a simple integration test that spins up embedded kafka, sends a message to the topic, assigns the payload to a variable and compares the value.</p>\n<p>Listener:</p>\n<pre><code>@KafkaListener( topics = &quot;topic.name&quot;, groupId = &quot;group-id&quot;)\npublic void receive(@Payload ConsumerRecord&lt;?, ?&gt; consumerRecord) {\n    setPayload(consumerRecord.toString());\n}\n</code></pre>\n<p>Test (using awaitly for delay)</p>\n<pre><code>@Test\npublic void canReceiveAMessage() {\n    producer.send(topic, TEST_MESSAGE);\n    await().pollDelay(10, TimeUnit.SECONDS).atMost(30, TimeUnit.SECONDS).untilAsserted(() \n        -&gt; assertThat(consumer.getPayload()).contains(TEST_MESSAGE);\n}\n</code></pre>\n<p>I assume the breakpoint resolves some kind of race condition - however, with the breakpoint, it resolves faster than 30 seconds, so i'm unsure what it seems to trigger that makes it work. I can verify that the rest of it is fine, given it works with the breakpoint.</p>\n<p>Edit: It reliably passes if I sent the Consumer config to AUTO_OFFSET_RESET_CONFIG=&quot;earliest&quot;. Now, I don't want this long term, it wants to be &quot;latest&quot; - is there a reliable solution for this?</p>\n"},{"tags":["java","visual-studio-code","junit"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643324050,"post_id":70886595,"comment_id":125316672,"body_markdown":"https://code.visualstudio.com/docs/java/java-testing I am sure you never enabled this extension.","body":"<a href=\"https://code.visualstudio.com/docs/java/java-testing\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-testing</a> I am sure you never enabled this extension."},{"owner":{"account_id":15328238,"reputation":27,"user_id":11058731,"display_name":"Knightly"},"score":0,"creation_date":1643325208,"post_id":70886595,"comment_id":125316940,"body_markdown":"@hfontanez Java Extension Pack from Microsoft, Java Dependency Viewer from Microsoft, Debugger for Java from Microsoft, Java Test Runner from Microsoft, Language Support for Java(TM) by Red Hat, are all installed and enabled..","body":"@hfontanez Java Extension Pack from Microsoft, Java Dependency Viewer from Microsoft, Debugger for Java from Microsoft, Java Test Runner from Microsoft, Language Support for Java(TM) by Red Hat, are all installed and enabled.."},{"owner":{"account_id":15328238,"reputation":27,"user_id":11058731,"display_name":"Knightly"},"score":0,"creation_date":1643326271,"post_id":70886595,"comment_id":125317163,"body_markdown":"there seems to be a problem with how I&#39;ve referenced the jar files in settings.json because I&#39;m receiving the error &quot;error: package org.junit does not exist&quot; for my import statements.","body":"there seems to be a problem with how I&#39;ve referenced the jar files in settings.json because I&#39;m receiving the error &quot;error: package org.junit does not exist&quot; for my import statements."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643331215,"post_id":70886595,"comment_id":125318025,"body_markdown":"That should&#39;ve been in your problem description. You may have a corrupt VSC install.","body":"That should&#39;ve been in your problem description. You may have a corrupt VSC install."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1645625435,"post_id":70886595,"comment_id":125921857,"body_markdown":"@Knightly Could you find the `Testing Explorer` on the left-side Activity bar of VSCode?","body":"@Knightly Could you find the <code>Testing Explorer</code> on the left-side Activity bar of VSCode?"}],"owner":{"account_id":15328238,"reputation":27,"user_id":11058731,"display_name":"Knightly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643322496,"creation_date":1643322496,"question_id":70886595,"body_markdown":"I&#39;ve done quite a bit of research on this and i&#39;m pretty sure I have all the requirements and for certain all the extensions. However, I&#39;m still not seeing any option to click &quot;run test&quot; above my @Test method? \r\n\r\nI have not set up the conventional file structure yet, I&#39;m just experimenting with JUNIT with a single java file trying to test a method. \r\n\r\nHere is my VSC settings.json where I added references to jar files as per the VSC guide I read.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand this is the code I&#39;m trying to test\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HjAcE.png\r\n  [2]: https://i.stack.imgur.com/uCAwE.png\r\n\r\nI don&#39;t see any option to run my @Test method, i would appreciate any pointers. Thanks","title":"No option to run JUNIT test in VSC?","body":"<p>I've done quite a bit of research on this and i'm pretty sure I have all the requirements and for certain all the extensions. However, I'm still not seeing any option to click &quot;run test&quot; above my @Test method?</p>\n<p>I have not set up the conventional file structure yet, I'm just experimenting with JUNIT with a single java file trying to test a method.</p>\n<p>Here is my VSC settings.json where I added references to jar files as per the VSC guide I read.\n<a href=\"https://i.stack.imgur.com/HjAcE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HjAcE.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is the code I'm trying to test\n<a href=\"https://i.stack.imgur.com/uCAwE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uCAwE.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't see any option to run my @Test method, i would appreciate any pointers. Thanks</p>\n"},{"tags":["java","synchronization","telegram","tdlib"],"owner":{"account_id":24072653,"reputation":21,"user_id":18048443,"display_name":"Daniil Popov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643322044,"creation_date":1643322044,"question_id":70886523,"body_markdown":"I need to gather some statistics about Telegram channels administrated by user. To work with the Telegram API I use [tdlight-java][1]. Each request to Telegram in this library performes through the SimpleTelegramClient object. That object runs on its own thread and processes requests asynchronously. So, the following method will return 0 because the call to the client method is not fully completed, but the getUserID method is already returning a value:\r\n```\r\n      public long getUserId() {\r\n            AtomicLong userID = new AtomicLong();\r\n            client.send(new TdApi.GetMe(), (me) -&gt; {\r\n                userID.set(me.get().id);\r\n            });\r\n            return userID.get();\r\n        }\r\n```\r\nI need my methods to continue executing only after the client&#39;s methods complete. So, I decided to  use synchronized blocks and locks: \r\n```\r\n    public long getUserId() throws InterruptedException{\r\n        final Object lock = new Object();\r\n        AtomicLong userID = new AtomicLong();\r\n        synchronized (lock){\r\n            client.send(new TdApi.GetMe(), (me) -&gt; {\r\n                synchronized (lock) {\r\n                    userID.set(me.get().id);\r\n                    lock.notify();\r\n                }\r\n            });\r\n            lock.wait();\r\n        }\r\n        return userID.get();\r\n    }\r\n```\r\nBut it doesn&#39;s looks like a best solution. In addition, this approach produces some restrictions while using inner API calls:\r\n\r\n```\r\nsynchronized (lock){\r\n    client.send(new TdApi.GetMe(), (me) -&gt; {\r\n        synchronized (anotherLock) {\r\n            client.send(new TdApi.GetMe(), (me) -&gt; {\r\n                synchronized(anotherLock){\r\n                    anotherLock.notify();\r\n                }\r\n            });\r\n            anotherLock.wait();\r\n        }\r\n        synchronized(lock){\r\n            lock.notify();\r\n        }\r\n    });\r\n    lock.wait();\r\n}\r\n```\r\n\r\nIn this case, the TelegramClient thread will be blocked and the inner request will never be completed, resulting in a deadlock.\r\n\r\nCan you provide me with a better idea of synchronization, please\r\n\r\n  [1]: https://github.com/tdlight-team/tdlight-java","title":"How to synchronize API calls in TDLight-Java correctly","body":"<p>I need to gather some statistics about Telegram channels administrated by user. To work with the Telegram API I use <a href=\"https://github.com/tdlight-team/tdlight-java\" rel=\"nofollow noreferrer\">tdlight-java</a>. Each request to Telegram in this library performes through the SimpleTelegramClient object. That object runs on its own thread and processes requests asynchronously. So, the following method will return 0 because the call to the client method is not fully completed, but the getUserID method is already returning a value:</p>\n<pre><code>      public long getUserId() {\n            AtomicLong userID = new AtomicLong();\n            client.send(new TdApi.GetMe(), (me) -&gt; {\n                userID.set(me.get().id);\n            });\n            return userID.get();\n        }\n</code></pre>\n<p>I need my methods to continue executing only after the client's methods complete. So, I decided to  use synchronized blocks and locks:</p>\n<pre><code>    public long getUserId() throws InterruptedException{\n        final Object lock = new Object();\n        AtomicLong userID = new AtomicLong();\n        synchronized (lock){\n            client.send(new TdApi.GetMe(), (me) -&gt; {\n                synchronized (lock) {\n                    userID.set(me.get().id);\n                    lock.notify();\n                }\n            });\n            lock.wait();\n        }\n        return userID.get();\n    }\n</code></pre>\n<p>But it doesn's looks like a best solution. In addition, this approach produces some restrictions while using inner API calls:</p>\n<pre><code>synchronized (lock){\n    client.send(new TdApi.GetMe(), (me) -&gt; {\n        synchronized (anotherLock) {\n            client.send(new TdApi.GetMe(), (me) -&gt; {\n                synchronized(anotherLock){\n                    anotherLock.notify();\n                }\n            });\n            anotherLock.wait();\n        }\n        synchronized(lock){\n            lock.notify();\n        }\n    });\n    lock.wait();\n}\n</code></pre>\n<p>In this case, the TelegramClient thread will be blocked and the inner request will never be completed, resulting in a deadlock.</p>\n<p>Can you provide me with a better idea of synchronization, please</p>\n"},{"tags":["java","hadoop","hdfs"],"owner":{"account_id":3047163,"reputation":41,"user_id":2582468,"display_name":"Avik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643321925,"creation_date":1643300996,"question_id":70882188,"body_markdown":"I have a third party Api whih has two overloaded methods. One accepts Java nio Path and another String value path.\r\n\r\nI have to read path of a file from Hdfs (hdfs://abc/xyz/123.jks). Problem is for #2 though it accepts String value as path but it&#39;s inline function only treat that String path as class path (getClassLoader().getResourceAsStream()) . Is there any way to set hadoop path as class path?\r\n\r\nFor #1 nio path does not support hdfs path reading . Is there any way for to achive this way?\r\n\r\nKindly help","title":"Read HDFS File path using Java nio","body":"<p>I have a third party Api whih has two overloaded methods. One accepts Java nio Path and another String value path.</p>\n<p>I have to read path of a file from Hdfs (hdfs://abc/xyz/123.jks). Problem is for #2 though it accepts String value as path but it's inline function only treat that String path as class path (getClassLoader().getResourceAsStream()) . Is there any way to set hadoop path as class path?</p>\n<p>For #1 nio path does not support hdfs path reading . Is there any way for to achive this way?</p>\n<p>Kindly help</p>\n"},{"tags":["java","bufferedimage","graphics2d"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643303869,"post_id":70882734,"comment_id":125309882,"body_markdown":"@user16320675 I tried that first and made no difference.","body":"@user16320675 I tried that first and made no difference."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643304110,"post_id":70882734,"comment_id":125309983,"body_markdown":"@user16320675 you are guessing. Read what the method `dispose()` does. It releases resources used by that graphics object. If I set a font in a graphics object, the expectation is that it should remain for the life of that (graphics) object. Later on, if I get a reference of that image, I should be able to &quot;ask&quot; the object things about itself (i.e. background color, foreground color, what font is used in its overlay, etc.). I can get the color used for the text, but not the font name or font face.","body":"@user16320675 you are guessing. Read what the method <code>dispose()</code> does. It releases resources used by that graphics object. If I set a font in a graphics object, the expectation is that it should remain for the life of that (graphics) object. Later on, if I get a reference of that image, I should be able to &quot;ask&quot; the object things about itself (i.e. background color, foreground color, what font is used in its overlay, etc.). I can get the color used for the text, but not the font name or font face."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1643307643,"post_id":70882734,"comment_id":125311459,"body_markdown":"Do `g2,dispose()` after the last `System.out.println`. As `Serif` is not a logical font, font substitutions happens after cleaning up `g2`.","body":"Do <code>g2,dispose()</code> after the last <code>System.out.println</code>. As <code>Serif</code> is not a logical font, font substitutions happens after cleaning up <code>g2</code>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643308553,"post_id":70882734,"comment_id":125311775,"body_markdown":"@JoopEggen that is how I originally wrote it. I was still getting _Dialog_. That&#39;s when I decided to call `dispose()` before the last `System.out`.","body":"@JoopEggen that is how I originally wrote it. I was still getting <i>Dialog</i>. That&#39;s when I decided to call <code>dispose()</code> before the last <code>System.out</code>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643308775,"post_id":70882734,"comment_id":125311864,"body_markdown":"@JoopEggen you are also incorrect about _Serif_ not being a logical font. See https://docs.oracle.com/javase/tutorial/2d/text/fonts.html","body":"@JoopEggen you are also incorrect about <i>Serif</i> not being a logical font. See <a href=\"https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/2d/text/fonts.html</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643310134,"post_id":70882734,"comment_id":125312330,"body_markdown":"I think I found the answer!!!","body":"I think I found the answer!!!"}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643310880,"creation_date":1643310380,"answer_id":70884336,"question_id":70882734,"body_markdown":"`BufferedImage.getGraphics()` returns the result of `BufferedImage.createGraphics()`. And, following the trail, we end up at that method of `SunGraphicsEnvironment`:\r\n````java\r\n   /**\r\n     * Returns a Graphics2D object for rendering into the\r\n     * given BufferedImage.\r\n     * @throws NullPointerException if BufferedImage argument is null\r\n     */\r\n    public Graphics2D createGraphics(BufferedImage img) {\r\n        if (img == null) {\r\n            throw new NullPointerException(&quot;BufferedImage cannot be null&quot;);\r\n        }\r\n        SurfaceData sd = SurfaceData.getPrimarySurfaceData(img);\r\n        return new SunGraphics2D(sd, Color.white, Color.black, defaultFont);\r\n    }\r\n```` \r\n\r\nWe can clearly see that it uses the `defaultFont`, hardly *connected* to the image (unless `getPrimarySurface()` does change the `defaultFont` - I guess not [I could not find it being changed]).\r\n\r\nSource code can be found [here](https://github.com/openjdk/jdk)\r\n\r\nSetting the Font of a `Graphics` will not change anything in a `BufferedImage`. The `Font` is used by the `Graphics` to *draw* the text onto the image. If a new `Graphics` is obtained from the image (using `getGraphics()` or `createGraphics()`), it will have the `defaultFont` as defined in the `GraphicsEnvironment`.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p><code>BufferedImage.getGraphics()</code> returns the result of <code>BufferedImage.createGraphics()</code>. And, following the trail, we end up at that method of <code>SunGraphicsEnvironment</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   /**\n     * Returns a Graphics2D object for rendering into the\n     * given BufferedImage.\n     * @throws NullPointerException if BufferedImage argument is null\n     */\n    public Graphics2D createGraphics(BufferedImage img) {\n        if (img == null) {\n            throw new NullPointerException(&quot;BufferedImage cannot be null&quot;);\n        }\n        SurfaceData sd = SurfaceData.getPrimarySurfaceData(img);\n        return new SunGraphics2D(sd, Color.white, Color.black, defaultFont);\n    }\n</code></pre>\n<p>We can clearly see that it uses the <code>defaultFont</code>, hardly <em>connected</em> to the image (unless <code>getPrimarySurface()</code> does change the <code>defaultFont</code> - I guess not [I could not find it being changed]).</p>\n<p>Source code can be found <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Setting the Font of a <code>Graphics</code> will not change anything in a <code>BufferedImage</code>. The <code>Font</code> is used by the <code>Graphics</code> to <em>draw</em> the text onto the image. If a new <code>Graphics</code> is obtained from the image (using <code>getGraphics()</code> or <code>createGraphics()</code>), it will have the <code>defaultFont</code> as defined in the <code>GraphicsEnvironment</code>.</p>\n"},{"tags":[],"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643310910,"creation_date":1643310910,"answer_id":70884447,"question_id":70882734,"body_markdown":"Do this:\r\n\r\n    BufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2d = img.createGraphics();\r\n    g2d.drawImage(img, 0, 0, 200, 100, null); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \r\n    g2d.setPaint(Color.red);\r\n    g2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\r\n    System.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\r\n    String s = &quot;Hello, world!&quot;;\r\n    FontMetrics fm = g2d.getFontMetrics();\r\n    int x = img.getWidth() - fm.stringWidth(s) - 5;\r\n    int y = fm.getHeight();\r\n    g2d.drawString(s, x, y);\r\n    System.out.println(g2d.getFont().toString()+&quot;-&quot;+img.getGraphics().getFont().toString()+&quot; from image: &quot; + img.getGraphics().getFont().getFamily());\r\n    g2d.dispose();\r\n    System.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily());\r\n\r\nAs you can see g2d retains its beloved Serif notation. The image is a thing of itself. Each time you call createGraphics on the image you get a new thing.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p>Do this:</p>\n<pre><code>BufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = img.createGraphics();\ng2d.drawImage(img, 0, 0, 200, 100, null); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \ng2d.setPaint(Color.red);\ng2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\nSystem.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\nString s = &quot;Hello, world!&quot;;\nFontMetrics fm = g2d.getFontMetrics();\nint x = img.getWidth() - fm.stringWidth(s) - 5;\nint y = fm.getHeight();\ng2d.drawString(s, x, y);\nSystem.out.println(g2d.getFont().toString()+&quot;-&quot;+img.getGraphics().getFont().toString()+&quot; from image: &quot; + img.getGraphics().getFont().getFamily());\ng2d.dispose();\nSystem.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily());\n</code></pre>\n<p>As you can see g2d retains its beloved Serif notation. The image is a thing of itself. Each time you call createGraphics on the image you get a new thing.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643321891,"creation_date":1643315175,"answer_id":70885284,"question_id":70882734,"body_markdown":"**TL:DR** The font is not accessible in `Graphics` or `Graphics2D`.\r\n\r\nWhether you invoke `BufferedImage#createGraphics()` directly or `BufferedImage#getGraphics()` the end result is the same: they both create a new graphics object. More specifically, the former returns a new `Graphics` object and the latter returns a `Graphics2D` object. Both are abstractions of the concrete type returned which is an instance of `SunGraphics2D`. Unfortunately, this object does not store any information set, **related to the font**, in the graphics object. So basically, I cannot get the data I need from the image object.\r\n\r\nIn contrast, `ProxyGraphics2D` and `PeekGraphics` - both subtypes of the abstract class `Graphics2D` class do store such information in a `Graphics2D` global variable called `mGraphics`. This object is accessed via the `getDelegate()` method, which is obviously **not** part of the `Graphics` or `Graphics2D` API. Unfortunately, both of these subclasses are part of the `sun` package which is no longer accessible. Examining these classes clearly shows that methods like `setFont()` do save the font in this delegate (`Graphics2D`) object.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p><strong>TL:DR</strong> The font is not accessible in <code>Graphics</code> or <code>Graphics2D</code>.</p>\n<p>Whether you invoke <code>BufferedImage#createGraphics()</code> directly or <code>BufferedImage#getGraphics()</code> the end result is the same: they both create a new graphics object. More specifically, the former returns a new <code>Graphics</code> object and the latter returns a <code>Graphics2D</code> object. Both are abstractions of the concrete type returned which is an instance of <code>SunGraphics2D</code>. Unfortunately, this object does not store any information set, <strong>related to the font</strong>, in the graphics object. So basically, I cannot get the data I need from the image object.</p>\n<p>In contrast, <code>ProxyGraphics2D</code> and <code>PeekGraphics</code> - both subtypes of the abstract class <code>Graphics2D</code> class do store such information in a <code>Graphics2D</code> global variable called <code>mGraphics</code>. This object is accessed via the <code>getDelegate()</code> method, which is obviously <strong>not</strong> part of the <code>Graphics</code> or <code>Graphics2D</code> API. Unfortunately, both of these subclasses are part of the <code>sun</code> package which is no longer accessible. Examining these classes clearly shows that methods like <code>setFont()</code> do save the font in this delegate (<code>Graphics2D</code>) object.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643320320,"creation_date":1643320320,"answer_id":70886238,"question_id":70882734,"body_markdown":"Everyone is making this more complicated than it needs to be.  The answer is quite simple:  the `getGraphics()` method of Image always creates a brand new Graphics object.  From [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Image.html#getGraphics()):\r\n\r\n&gt;Creates a graphics context for drawing to an off-screen image.\r\n\r\nThat’s all there is to it.  You set the font in one Graphics object, then you created another Graphics object.  Of course the new Graphics object doesn’t know anything about the state of the first Graphics object.  That would be like expecting that turning on one car’s headlights could somehow cause all cars to turn on their headlights.\r\n\r\nYou can get the expected result by only calling getGraphics() **once.**\r\n\r\n    System.out.println(&quot;from image: &quot; + g2d.getFont().getFamily());\r\n","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p>Everyone is making this more complicated than it needs to be.  The answer is quite simple:  the <code>getGraphics()</code> method of Image always creates a brand new Graphics object.  From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Image.html#getGraphics()\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Creates a graphics context for drawing to an off-screen image.</p>\n</blockquote>\n<p>That’s all there is to it.  You set the font in one Graphics object, then you created another Graphics object.  Of course the new Graphics object doesn’t know anything about the state of the first Graphics object.  That would be like expecting that turning on one car’s headlights could somehow cause all cars to turn on their headlights.</p>\n<p>You can get the expected result by only calling getGraphics() <strong>once.</strong></p>\n<pre><code>System.out.println(&quot;from image: &quot; + g2d.getFont().getFamily());\n</code></pre>\n"}],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70885284,"answer_count":4,"score":1,"last_activity_date":1643321891,"creation_date":1643303158,"question_id":70882734,"body_markdown":"This code snippet creates an image which contains text. I set the font to *Serif*. However, when I query the resulting image later on for its font face, it returns *Dialog*. I don&#39;t understand why this is.\r\n\r\n```\r\nBufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\r\nGraphics2D g2d = img.createGraphics();\r\ng2d.drawImage(img, 0, 0, 200, 100, this); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \r\ng2d.setPaint(Color.red);\r\ng2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\r\nSystem.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\r\nString s = &quot;Hello, world!&quot;;\r\nFontMetrics fm = g2d.getFontMetrics();\r\nint x = img.getWidth() - fm.stringWidth(s) - 5;\r\nint y = fm.getHeight();\r\ng2d.drawString(s, x, y);\r\ng2d.dispose();\r\nSystem.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily()); // outputs &quot;Dialog&quot; (expected &quot;Serif&quot;)\r\n```\r\n\r\nI understand that *Dialog* is one of the logical fonts in Java, but if the font is set to be something else, and `Font.getFontName()` returns the *font face* for the given font, why isn&#39;t it returning *Serif* as set in the `Graphics2D` object?\r\n\r\n**UPDATE**: Calling `g2d.dispose()` before or after the last `System.out.println()` makes no difference. Both ways, it still prints out *Dialog*.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p>This code snippet creates an image which contains text. I set the font to <em>Serif</em>. However, when I query the resulting image later on for its font face, it returns <em>Dialog</em>. I don't understand why this is.</p>\n<pre><code>BufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = img.createGraphics();\ng2d.drawImage(img, 0, 0, 200, 100, this); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \ng2d.setPaint(Color.red);\ng2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\nSystem.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\nString s = &quot;Hello, world!&quot;;\nFontMetrics fm = g2d.getFontMetrics();\nint x = img.getWidth() - fm.stringWidth(s) - 5;\nint y = fm.getHeight();\ng2d.drawString(s, x, y);\ng2d.dispose();\nSystem.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily()); // outputs &quot;Dialog&quot; (expected &quot;Serif&quot;)\n</code></pre>\n<p>I understand that <em>Dialog</em> is one of the logical fonts in Java, but if the font is set to be something else, and <code>Font.getFontName()</code> returns the <em>font face</em> for the given font, why isn't it returning <em>Serif</em> as set in the <code>Graphics2D</code> object?</p>\n<p><strong>UPDATE</strong>: Calling <code>g2d.dispose()</code> before or after the last <code>System.out.println()</code> makes no difference. Both ways, it still prints out <em>Dialog</em>.</p>\n"},{"tags":["java","objectmapper","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643321783,"creation_date":1643321783,"answer_id":70886483,"question_id":70886432,"body_markdown":"1. create new factory for ObjectMapper\r\n2. add CaseFormatRemappingJsonFactory to mapper\r\n3. fix objectMapper to mapper in vertx 4\r\n4. add adapter ObjectMapperJsonAdapter to vertx 4\r\n\r\n```\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n  @Override\r\n  public void start(Future&lt;Void&gt; future) throws Exception {\r\n\r\n    Handler&lt;Message&lt;Employee&gt;&gt; handler = message -&gt; {\r\n\r\n      log.info(&quot;Received a message: &quot; + message);\r\n\r\n      Employee employee = message.body();\r\n\r\n      // do something with the employee json here...\r\n\r\n      log.info(&quot;employee after processing: &quot; + employee);\r\n    };\r\n\r\n    // get reference to event bus on this verticle&#39;s context (aka instance) - see below how it is set up in the VertxOptions class and extended by Vertx4OptionSupport class in the root pom file..\r\n    EventBus eb = vertx.eventBus();\r\n\r\n    // #1 create jettison json factory from Jackson 2 : OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here...\r\n\r\n    ObjectMapper mapper = new ObjectMapper(new JettisonMappedXmlFactory());\r\n\r\n    // #2 add CaseFormatRemappingJsonFactory to mapper\r\n    // mapper.setJsonFactory(new CaseFormatRemappingJsonFactory());\r\n    // #3 fix objectMapper to mapper in vertx 4\r\n    mapper.configure(Feature.WRAP_ROOT_VALUE, true);\r\n    // #4 add adapter ObjectMapperJsonAdapter to vertx 4\r\n    MessageCodec&lt;Employee&gt; employeeCodec = MessageCodec.jsonObjectMapper(mapper);\r\n\r\n    eb.consumer(&quot;employee&quot;, employeeCodec, handler);\r\n\r\n  }\r\n}\r\n```","title":"Object Mapper in Vertx 4","body":"<ol>\n<li>create new factory for ObjectMapper</li>\n<li>add CaseFormatRemappingJsonFactory to mapper</li>\n<li>fix objectMapper to mapper in vertx 4</li>\n<li>add adapter ObjectMapperJsonAdapter to vertx 4</li>\n</ol>\n<pre><code>public class MainVerticle extends AbstractVerticle {\n\n  @Override\n  public void start(Future&lt;Void&gt; future) throws Exception {\n\n    Handler&lt;Message&lt;Employee&gt;&gt; handler = message -&gt; {\n\n      log.info(&quot;Received a message: &quot; + message);\n\n      Employee employee = message.body();\n\n      // do something with the employee json here...\n\n      log.info(&quot;employee after processing: &quot; + employee);\n    };\n\n    // get reference to event bus on this verticle's context (aka instance) - see below how it is set up in the VertxOptions class and extended by Vertx4OptionSupport class in the root pom file..\n    EventBus eb = vertx.eventBus();\n\n    // #1 create jettison json factory from Jackson 2 : OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here...\n\n    ObjectMapper mapper = new ObjectMapper(new JettisonMappedXmlFactory());\n\n    // #2 add CaseFormatRemappingJsonFactory to mapper\n    // mapper.setJsonFactory(new CaseFormatRemappingJsonFactory());\n    // #3 fix objectMapper to mapper in vertx 4\n    mapper.configure(Feature.WRAP_ROOT_VALUE, true);\n    // #4 add adapter ObjectMapperJsonAdapter to vertx 4\n    MessageCodec&lt;Employee&gt; employeeCodec = MessageCodec.jsonObjectMapper(mapper);\n\n    eb.consumer(&quot;employee&quot;, employeeCodec, handler);\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23126402,"reputation":25,"user_id":17232129,"display_name":"Piku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643321783,"creation_date":1643321521,"question_id":70886432,"body_markdown":"How to convert Object Mapper to make it work properly in Vertx 4?\r\n\r\n```ObjectMapper mapper = new ObjectMapper(new CaseFormatRemappingJsonFactory());```","title":"Object Mapper in Vertx 4","body":"<p>How to convert Object Mapper to make it work properly in Vertx 4?</p>\n<p><code>ObjectMapper mapper = new ObjectMapper(new CaseFormatRemappingJsonFactory());</code></p>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1643321839,"post_id":70886464,"comment_id":125316144,"body_markdown":"Make sure you&#39;re importing the correct `Queue`","body":"Make sure you&#39;re importing the correct <code>Queue</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643325271,"post_id":70886464,"comment_id":125316956,"body_markdown":"Incidentally, it&#39;s conventional to use a single upper case letter for formal type parameters.","body":"Incidentally, it&#39;s conventional to use a single upper case letter for formal type parameters."}],"owner":{"account_id":11754722,"reputation":1,"user_id":8602764,"display_name":"Nedim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643321687,"creation_date":1643321687,"question_id":70886464,"body_markdown":"I have problem with BreadthFirstPath API. When I would like to declare a Queue object in that API, they send me the error &quot;The type Queue is not generic. It cannot be paramterizied.&quot;, despite the fact that I am declaring Queue class generic. Does anyone have solution for my problem?\r\n\r\n    public class BreadthFirstPaths {\r\n\tprivate boolean[] marked;\r\n\tprivate  int[]edgeTo;\r\n\tprivate void bfs(Graph G, int s) {\r\n\t\tQueue&lt;Integer&gt; q = new Queue&lt;Integer&gt;();\r\n\t\tq.enqueue(s);\r\n\t\tmarked[s] = true;\r\n\t\twhile(!q.isEmpty())\r\n\t\t{\r\n\t\t\tint v = q.dequeue();\r\n\t\t\tfor(int w: G.adj(v)) {\r\n\t\t\t\tif(!marked[w]) {\r\n\t\t\t\t\tq.enqueue(w);\r\n\t\t\t\t\tmarked[w] = true;\r\n\t\t\t\t\tedgeTo[w] = v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\t}\r\n}\r\n\r\n    public class Queue&lt;Item&gt; implements Iterable&lt;Item&gt;{\r\n\tprivate Node&lt;Item&gt; first;\r\n\tprivate Node&lt;Item&gt; last;\r\n\tprivate int n;\r\n\tprivate class Node&lt;Item&gt;{\r\n\t\tprivate Node&lt;Item&gt; next;\r\n\t\tprivate Item item;\r\n\t}\r\n\tpublic Queue() {\r\n\t\tfirst = null;\r\n\t\tlast = null;\r\n\t\tn = 0;\r\n\t}\r\n\tpublic boolean isEmpty() {\r\n\t\treturn first == null;\r\n\t}\r\n\t\r\n\tpublic void enqueue(Item item) {\r\n\t\tNode&lt;Item&gt; oldlast = last;\r\n\t\tlast = new Node&lt;Item&gt;();\r\n\t\tlast.item = item;\r\n\t\tlast.next = null;\r\n\t\tif(isEmpty()) first = last;\r\n\t\telse oldlast.next = last;\r\n\t\tn++;\r\n\t}\r\n\t\r\n\tpublic Item dequeue() {\r\n\t\tif(isEmpty()) throw new NoSuchElementException(&quot;Queue underflow&quot;);\r\n\t\tItem item = first.item;\r\n\t\tfirst = first.next;\r\n\t\tn--;\r\n\t\tif(isEmpty()) last = null;\r\n\t\treturn item;\r\n\t}\r\n\t@Override\r\n\tpublic Iterator&lt;Item&gt; iterator() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t\r\n\t\r\n\r\n}\r\n    \r\n\r\n\r\n\r\n\r\n","title":"The type Queue is not generic","body":"<p>I have problem with BreadthFirstPath API. When I would like to declare a Queue object in that API, they send me the error &quot;The type Queue is not generic. It cannot be paramterizied.&quot;, despite the fact that I am declaring Queue class generic. Does anyone have solution for my problem?</p>\n<pre><code>public class BreadthFirstPaths {\nprivate boolean[] marked;\nprivate  int[]edgeTo;\nprivate void bfs(Graph G, int s) {\n    Queue&lt;Integer&gt; q = new Queue&lt;Integer&gt;();\n    q.enqueue(s);\n    marked[s] = true;\n    while(!q.isEmpty())\n    {\n        int v = q.dequeue();\n        for(int w: G.adj(v)) {\n            if(!marked[w]) {\n                q.enqueue(w);\n                marked[w] = true;\n                edgeTo[w] = v;\n            }\n        }\n    }\n            }\n</code></pre>\n<p>}</p>\n<pre><code>public class Queue&lt;Item&gt; implements Iterable&lt;Item&gt;{\nprivate Node&lt;Item&gt; first;\nprivate Node&lt;Item&gt; last;\nprivate int n;\nprivate class Node&lt;Item&gt;{\n    private Node&lt;Item&gt; next;\n    private Item item;\n}\npublic Queue() {\n    first = null;\n    last = null;\n    n = 0;\n}\npublic boolean isEmpty() {\n    return first == null;\n}\n\npublic void enqueue(Item item) {\n    Node&lt;Item&gt; oldlast = last;\n    last = new Node&lt;Item&gt;();\n    last.item = item;\n    last.next = null;\n    if(isEmpty()) first = last;\n    else oldlast.next = last;\n    n++;\n}\n\npublic Item dequeue() {\n    if(isEmpty()) throw new NoSuchElementException(&quot;Queue underflow&quot;);\n    Item item = first.item;\n    first = first.next;\n    n--;\n    if(isEmpty()) last = null;\n    return item;\n}\n@Override\npublic Iterator&lt;Item&gt; iterator() {\n    // TODO Auto-generated method stub\n    return null;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","generics","types","effective-java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1574319389,"post_id":58967845,"comment_id":104191959,"body_markdown":"You are going to have an unsafe cast _somewhere_.","body":"You are going to have an unsafe cast <i>somewhere</i>."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574321057,"creation_date":1574315507,"answer_id":58968108,"question_id":58967845,"body_markdown":"The problem is with the wildcard parameter on the `Set`. Instead of using a `Set&lt;?&gt;`, make it a `Set&lt;Object&gt;`, and everything works:\r\n\r\n    public static class Container {\r\n    \r\n        Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; store = new HashMap&lt;&gt;();\r\n    \r\n        public &lt;T&gt; void put(T ele, Class&lt;T&gt; type) {\r\n            store.putIfAbsent(type, new HashSet&lt;&gt;());\r\n            store.get(type).add(ele);\r\n        }\r\n\r\n    }\r\n\r\nThe difference between `Set&lt;?&gt;` and `Set&lt;Object&gt;` is this:\r\n\r\nA `Set&lt;?&gt;` could be a `Set` of any type - it could be a `Set&lt;String&gt;` or a `Set&lt;Integer&gt;`. And the java compiler wants to make sure that you are not trying to add a `String` object to a `Set&lt;Integer&gt;`.\r\n\r\nOn the other hand, a `Set&lt;Object&gt;` is just a `Set` that can contain instances of the `Object` class. And since `String` and `Integer` are both subclasses of `Object`, you can easily store strings and Integers into such a set.\r\n\r\nAdding the method\r\n\r\n        public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\r\n            return (Set&lt;T&gt;) store.get(type);\r\n        }\r\n\r\nto the class gives a compiler warning about an unchecked cast. This warning can be safely ignored here, because you know that you added only elements of type `T` to that `Set`.","title":"Typesafe heterogeneous containers involving generics","body":"<p>The problem is with the wildcard parameter on the <code>Set</code>. Instead of using a <code>Set&lt;?&gt;</code>, make it a <code>Set&lt;Object&gt;</code>, and everything works:</p>\n\n<pre><code>public static class Container {\n\n    Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; store = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; void put(T ele, Class&lt;T&gt; type) {\n        store.putIfAbsent(type, new HashSet&lt;&gt;());\n        store.get(type).add(ele);\n    }\n\n}\n</code></pre>\n\n<p>The difference between <code>Set&lt;?&gt;</code> and <code>Set&lt;Object&gt;</code> is this:</p>\n\n<p>A <code>Set&lt;?&gt;</code> could be a <code>Set</code> of any type - it could be a <code>Set&lt;String&gt;</code> or a <code>Set&lt;Integer&gt;</code>. And the java compiler wants to make sure that you are not trying to add a <code>String</code> object to a <code>Set&lt;Integer&gt;</code>.</p>\n\n<p>On the other hand, a <code>Set&lt;Object&gt;</code> is just a <code>Set</code> that can contain instances of the <code>Object</code> class. And since <code>String</code> and <code>Integer</code> are both subclasses of <code>Object</code>, you can easily store strings and Integers into such a set.</p>\n\n<p>Adding the method</p>\n\n<pre><code>    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\n        return (Set&lt;T&gt;) store.get(type);\n    }\n</code></pre>\n\n<p>to the class gives a compiler warning about an unchecked cast. This warning can be safely ignored here, because you know that you added only elements of type <code>T</code> to that <code>Set</code>.</p>\n"},{"tags":[],"owner":{"account_id":14292397,"reputation":1,"user_id":10323962,"display_name":"Oscar Kuźniar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574403544,"creation_date":1574402905,"answer_id":58988420,"question_id":58967845,"body_markdown":"Thomas Kl&#228;gers solution is an answer that also came to my head. Creating an fully functioning heterogeneous container which works like this:\r\n\r\n    Set&lt;?&gt; raw = store.get(type);\r\n    Set&lt;T&gt; typed = // some magic;\r\n\r\n\r\nBut as far as I know, It is not possible to use container You mentioned with that &#39;smooth&#39; code I quoted above. However it is usable and You can get sets of Your stored by class sets. Here goes the code: \r\n\r\n\r\n    public class Container {\r\n\r\n        Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; container = new HashMap&lt;&gt;();\r\n\r\n        public &lt;T&gt; void put(T e, Class&lt;?&gt; type) {\r\n            container.putIfAbsent(type, new HashSet&lt;&gt;());\r\n            container.get(type).add(e);\r\n        }\r\n    \r\n        public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\r\n            @SuppressWarnings(&quot;unchecked&quot;) //It is fine to ignore warnings here\r\n            Set&lt;T&gt; res = (Set&lt;T&gt;) container.get(type);\r\n            return res;\r\n        }\r\n    }\r\n\r\nAnd working example of storing ang retreiving Containers elements:\r\npublic class Run {\r\n\r\n    public static void main(String[] args) {\r\n        Foo foo = new Foo();\r\n        Bar bar = new Bar();\r\n\r\n        Container con = new Container();\r\n        con.put(foo, foo.getClass());\r\n        con.put(bar, bar.getClass());\r\n\r\n        Set&lt;? extends Foo&gt; foos = con.get(foo.getClass());\r\n        Set&lt;? extends Bar&gt; bars = con.get(bar.getClass());\r\n\r\n        //here You can use Your sets as ususal\r\n    }\r\n\r\nIf approach `&lt;? extends Foo&gt;` and usage is fine for You, it&#39;s working solution. Above that if You work in Java 10+, there&#39;s possibility for that &#39;dirty&#39; declaration omission. Just declare it as `var` and poof, its hidden. ","title":"Typesafe heterogeneous containers involving generics","body":"<p>Thomas Klägers solution is an answer that also came to my head. Creating an fully functioning heterogeneous container which works like this:</p>\n\n<pre><code>Set&lt;?&gt; raw = store.get(type);\nSet&lt;T&gt; typed = // some magic;\n</code></pre>\n\n<p>But as far as I know, It is not possible to use container You mentioned with that 'smooth' code I quoted above. However it is usable and You can get sets of Your stored by class sets. Here goes the code: </p>\n\n<pre><code>public class Container {\n\n    Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; container = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; void put(T e, Class&lt;?&gt; type) {\n        container.putIfAbsent(type, new HashSet&lt;&gt;());\n        container.get(type).add(e);\n    }\n\n    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\n        @SuppressWarnings(\"unchecked\") //It is fine to ignore warnings here\n        Set&lt;T&gt; res = (Set&lt;T&gt;) container.get(type);\n        return res;\n    }\n}\n</code></pre>\n\n<p>And working example of storing ang retreiving Containers elements:\npublic class Run {</p>\n\n<pre><code>public static void main(String[] args) {\n    Foo foo = new Foo();\n    Bar bar = new Bar();\n\n    Container con = new Container();\n    con.put(foo, foo.getClass());\n    con.put(bar, bar.getClass());\n\n    Set&lt;? extends Foo&gt; foos = con.get(foo.getClass());\n    Set&lt;? extends Bar&gt; bars = con.get(bar.getClass());\n\n    //here You can use Your sets as ususal\n}\n</code></pre>\n\n<p>If approach <code>&lt;? extends Foo&gt;</code> and usage is fine for You, it's working solution. Above that if You work in Java 10+, there's possibility for that 'dirty' declaration omission. Just declare it as <code>var</code> and poof, its hidden. </p>\n"},{"tags":[],"owner":{"account_id":7829105,"reputation":327,"user_id":5919820,"accept_rate":100,"display_name":"motaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643321456,"creation_date":1642908853,"answer_id":70818931,"question_id":58967845,"body_markdown":"I stumbled upon this problem a few weeks ago as I needed a typesafe heterogenous container (THC) for literally any object (including generic interface implementations) AND any number of them (like two keys that provide a String for example).\r\n\r\nAlthough this question is rather old, I&#39;d like to provide another approach.\r\n\r\nTHCs are all about parameterizing the keys. So you can use a key object that wraps the class type instead of using the class type as key.\r\n\r\n\r\nFor example:\r\nKey-Class:\r\n\r\n    static class Type&lt;T&gt; {\r\n        private final Class&lt;T&gt; object_type;\r\n    \r\n        public Type(String name, Class&lt;T&gt; object_type){\r\n            this.object_type = object_type;\r\n        }\r\n        public Class&lt;T&gt; getObjectType() {\r\n            return object_type;\r\n        }\r\n    }\r\n\r\nContainer-Class:\r\n\r\n    static class Container{\r\n    \r\n        private final Map&lt;Type&lt;?&gt;, Object&gt; properties = new HashMap&lt;&gt;();\r\n    \r\n        public &lt;T&gt; T get(Type&lt;T&gt; type){\r\n            return type.getObjectType().cast(properties.get(type)); //no compiler complaints\r\n        }\r\n    \r\n        public &lt;T&gt; void put(Type&lt;T&gt; type, T value){\r\n            properties.put(type, type.getObjectType().cast(value)); //no compielr complaints\r\n        }\r\n    }\r\n\r\nSince we can&#39;t provide ``Set&lt;Foo&gt;.class`` as object type we have like two possibilites to deal with the generic type. Either we use inheritence or we use composition.\r\n\r\nInheritence:\r\n```\r\nstatic class IntHashSet extends HashSet&lt;Integer&gt;{}\r\n```\r\n\r\nComposition:\r\n```\r\nstatic class IntSetComposition{\r\n\r\n    private final Set&lt;Integer&gt; set;\r\n    public IntSetComposition(Set&lt;Integer&gt; set){\r\n        this.set=set;\r\n    }\r\n    public Set&lt;Integer&gt; getSet(){\r\n        return this.set;\r\n    }\r\n}\r\n```\r\n\r\nHow to use all this:\r\n\r\n    public static void main(String[] args) {\r\n        Type&lt;String&gt; string_type = new Type&lt;&gt;(&quot;string_type_1&quot;, String.class);\r\n\r\n        Type&lt;Integer&gt; int_type = new Type&lt;&gt;(&quot;int_type_1&quot;, Integer.class);\r\n\r\n        Type&lt;IntHashSet&gt; int_set = new Type&lt;&gt;(&quot;int_hashset&quot;, IntHashSet.class);        \r\n        Type&lt;IntSetComposition&gt; int_set_comp = new Type&lt;&gt;(&quot;int_set_comp&quot;, IntSetComposition.class);        \r\n    \r\n        Container container = new Container();\r\n\r\n        String s = container.get(string_type); //no compiler complaints\r\n        int i = container.get(int_type); //no compiler complaints\r\n\r\n        IntHashSet set = container.get(int_set); //no compiler complaints\r\n        Set&lt;Integer&gt; set2 = container.get(int_set_comp).getSet(); //no compiler complaints\r\n\r\n        String s2 = container.get(int_type); //the compiler does not like this!\r\n    }\r\n\r\nNote: NotNull checks should be implemented as well as hashcode() and equals() overrides\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Typesafe heterogeneous containers involving generics","body":"<p>I stumbled upon this problem a few weeks ago as I needed a typesafe heterogenous container (THC) for literally any object (including generic interface implementations) AND any number of them (like two keys that provide a String for example).</p>\n<p>Although this question is rather old, I'd like to provide another approach.</p>\n<p>THCs are all about parameterizing the keys. So you can use a key object that wraps the class type instead of using the class type as key.</p>\n<p>For example:\nKey-Class:</p>\n<pre><code>static class Type&lt;T&gt; {\n    private final Class&lt;T&gt; object_type;\n\n    public Type(String name, Class&lt;T&gt; object_type){\n        this.object_type = object_type;\n    }\n    public Class&lt;T&gt; getObjectType() {\n        return object_type;\n    }\n}\n</code></pre>\n<p>Container-Class:</p>\n<pre><code>static class Container{\n\n    private final Map&lt;Type&lt;?&gt;, Object&gt; properties = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; T get(Type&lt;T&gt; type){\n        return type.getObjectType().cast(properties.get(type)); //no compiler complaints\n    }\n\n    public &lt;T&gt; void put(Type&lt;T&gt; type, T value){\n        properties.put(type, type.getObjectType().cast(value)); //no compielr complaints\n    }\n}\n</code></pre>\n<p>Since we can't provide <code>Set&lt;Foo&gt;.class</code> as object type we have like two possibilites to deal with the generic type. Either we use inheritence or we use composition.</p>\n<p>Inheritence:</p>\n<pre><code>static class IntHashSet extends HashSet&lt;Integer&gt;{}\n</code></pre>\n<p>Composition:</p>\n<pre><code>static class IntSetComposition{\n\n    private final Set&lt;Integer&gt; set;\n    public IntSetComposition(Set&lt;Integer&gt; set){\n        this.set=set;\n    }\n    public Set&lt;Integer&gt; getSet(){\n        return this.set;\n    }\n}\n</code></pre>\n<p>How to use all this:</p>\n<pre><code>public static void main(String[] args) {\n    Type&lt;String&gt; string_type = new Type&lt;&gt;(&quot;string_type_1&quot;, String.class);\n\n    Type&lt;Integer&gt; int_type = new Type&lt;&gt;(&quot;int_type_1&quot;, Integer.class);\n\n    Type&lt;IntHashSet&gt; int_set = new Type&lt;&gt;(&quot;int_hashset&quot;, IntHashSet.class);        \n    Type&lt;IntSetComposition&gt; int_set_comp = new Type&lt;&gt;(&quot;int_set_comp&quot;, IntSetComposition.class);        \n\n    Container container = new Container();\n\n    String s = container.get(string_type); //no compiler complaints\n    int i = container.get(int_type); //no compiler complaints\n\n    IntHashSet set = container.get(int_set); //no compiler complaints\n    Set&lt;Integer&gt; set2 = container.get(int_set_comp).getSet(); //no compiler complaints\n\n    String s2 = container.get(int_type); //the compiler does not like this!\n}\n</code></pre>\n<p>Note: NotNull checks should be implemented as well as hashcode() and equals() overrides</p>\n"}],"owner":{"account_id":2280628,"reputation":993,"user_id":2005801,"accept_rate":71,"display_name":"aoak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2413,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1643321456,"creation_date":1574314019,"question_id":58967845,"body_markdown":"I need to create a container that provides a way for me to store elements of generic type, kind of like [this effective java pattern](http://www.informit.com/articles/article.aspx?p=2861454&amp;seqNum=8) but storing generic things\r\n\r\nIs it possible to create a typesafe heterogeneous container where generic typed things are involved?\r\n\r\n```\r\n&lt;T&gt; void put(T ele, SomeTypedThing&lt;T&gt; genEle);\r\n&lt;T&gt; SomeTypedThing&lt;T&gt; get(T ele);\r\n```\r\n\r\nI am fine to add the `Class&lt;T&gt;` as method param. example: \r\n\r\n```\r\npublic static class Container {\r\n\r\n    Map&lt;Class&lt;?&gt;, Set&lt;?&gt;&gt; store = new HashMap&lt;&gt;();\r\n\r\n    public &lt;T&gt; void put(Set&lt;T&gt; ele, Class&lt;T&gt; type) {\r\n        store.put(type, ele);\r\n    }\r\n\r\n    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\r\n        return store.get(type);\r\n    }\r\n}\r\n\r\n```\r\n\r\nwould it be possible to achieve this? \r\n\r\n```\r\nSet&lt;?&gt; raw = store.get(type);\r\nSet&lt;T&gt; typed = // some magic;\r\n```\r\n\r\nhow, or why not? is it something that java doesn&#39;t do or is it something fundamental (so no language can do, or just doesn&#39;t make sense to do)","title":"Typesafe heterogeneous containers involving generics","body":"<p>I need to create a container that provides a way for me to store elements of generic type, kind of like <a href=\"http://www.informit.com/articles/article.aspx?p=2861454&amp;seqNum=8\" rel=\"nofollow noreferrer\">this effective java pattern</a> but storing generic things</p>\n\n<p>Is it possible to create a typesafe heterogeneous container where generic typed things are involved?</p>\n\n<pre><code>&lt;T&gt; void put(T ele, SomeTypedThing&lt;T&gt; genEle);\n&lt;T&gt; SomeTypedThing&lt;T&gt; get(T ele);\n</code></pre>\n\n<p>I am fine to add the <code>Class&lt;T&gt;</code> as method param. example: </p>\n\n<pre><code>public static class Container {\n\n    Map&lt;Class&lt;?&gt;, Set&lt;?&gt;&gt; store = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; void put(Set&lt;T&gt; ele, Class&lt;T&gt; type) {\n        store.put(type, ele);\n    }\n\n    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\n        return store.get(type);\n    }\n}\n\n</code></pre>\n\n<p>would it be possible to achieve this? </p>\n\n<pre><code>Set&lt;?&gt; raw = store.get(type);\nSet&lt;T&gt; typed = // some magic;\n</code></pre>\n\n<p>how, or why not? is it something that java doesn't do or is it something fundamental (so no language can do, or just doesn't make sense to do)</p>\n"},{"tags":["java","java.util.scanner","java-io","eof"],"comments":[{"owner":{"account_id":7710805,"reputation":13604,"user_id":6365112,"accept_rate":100,"display_name":"Yahya"},"score":0,"creation_date":1493058317,"post_id":43595166,"comment_id":74240260,"body_markdown":"do you want to break the while loop once you press Ctrl + D?","body":"do you want to break the while loop once you press Ctrl + D?"},{"owner":{"account_id":7019924,"reputation":57,"user_id":5379757,"accept_rate":100,"display_name":"Tehryn"},"score":0,"creation_date":1493058828,"post_id":43595166,"comment_id":74240593,"body_markdown":"@John Only when end of file is reached. But when reading from stdin, ctrl+D simulates EOF, doesn&#39;t it?","body":"@John Only when end of file is reached. But when reading from stdin, ctrl+D simulates EOF, doesn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":3236292,"reputation":896,"user_id":2730420,"display_name":"beaudet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643321241,"creation_date":1643240936,"answer_id":70871666,"question_id":43595166,"body_markdown":"I was just running into this problem using an input file configured in the Eclipse run configuration, common tab.  \r\n\r\nAs it turns out, if you&#39;re using Windows, you might need to type:\r\n\r\n    ctrl+z \r\n\r\nafter clicking in the Eclipse console in order to cause Eclipse to send an end of file signal for standard input.  \r\n\r\nEOF isn&#39;t conveyed by a character anymore like it used to be on VERY old systems but instead by a signal.\r\n\r\nSee\r\n\r\nhttps://stackoverflow.com/questions/12389518/representing-eof-in-c-code/12389581#:~:text=EOF%20is%20not%20a%20character,of%20the%20stream%20is%20reached \r\n\r\nand \r\n\r\nhttps://stackoverflow.com/questions/16136400/how-to-send-eof-via-windows-terminal\r\n","title":"How to detect end of file from stdin?","body":"<p>I was just running into this problem using an input file configured in the Eclipse run configuration, common tab.</p>\n<p>As it turns out, if you're using Windows, you might need to type:</p>\n<pre><code>ctrl+z \n</code></pre>\n<p>after clicking in the Eclipse console in order to cause Eclipse to send an end of file signal for standard input.</p>\n<p>EOF isn't conveyed by a character anymore like it used to be on VERY old systems but instead by a signal.</p>\n<p>See</p>\n<p><a href=\"https://stackoverflow.com/questions/12389518/representing-eof-in-c-code/12389581#:%7E:text=EOF%20is%20not%20a%20character,of%20the%20stream%20is%20reached\">https://stackoverflow.com/questions/12389518/representing-eof-in-c-code/12389581#:~:text=EOF%20is%20not%20a%20character,of%20the%20stream%20is%20reached</a></p>\n<p>and</p>\n<p><a href=\"https://stackoverflow.com/questions/16136400/how-to-send-eof-via-windows-terminal\">How to send EOF via Windows terminal</a></p>\n"}],"owner":{"account_id":7019924,"reputation":57,"user_id":5379757,"accept_rate":100,"display_name":"Tehryn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643321241,"creation_date":1493058073,"question_id":43595166,"body_markdown":"I have this java code:\r\n\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static void main(String [] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String line;\r\n            while (in.hasNextLine()) {\r\n                line = in.nextLine();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd I run it from jar file using ant:\r\n\r\n    &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;java jar=&quot;./myfile.jar&quot; fork=&quot;true&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\n\r\nBut when I hit **Ctrl+D** on keyboard, the while loop does not break. How can I detect EOF from keyboard when I am using ant tool?","title":"How to detect end of file from stdin?","body":"<p>I have this java code:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String [] args) {\n        Scanner in = new Scanner(System.in);\n        String line;\n        while (in.hasNextLine()) {\n            line = in.nextLine();\n        }\n    }\n}\n</code></pre>\n\n<p>And I run it from jar file using ant:</p>\n\n<pre><code>&lt;target name=\"run\" depends=\"compile\"&gt;\n    &lt;java jar=\"./myfile.jar\" fork=\"true\"/&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>But when I hit <strong>Ctrl+D</strong> on keyboard, the while loop does not break. How can I detect EOF from keyboard when I am using ant tool?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643319046,"post_id":70885420,"comment_id":125315279,"body_markdown":"Look at `Class.isAssignableFrom`, as `instanceof` needs a literal parameter.","body":"Look at <code>Class.isAssignableFrom</code>, as <code>instanceof</code> needs a literal parameter."}],"answers":[{"tags":[],"owner":{"account_id":9344539,"reputation":1083,"user_id":6936154,"display_name":"Danil Perestoronin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643320902,"creation_date":1643319565,"answer_id":70886102,"question_id":70885420,"body_markdown":"You can bit modify your code by using [Class](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html) instead of [Type](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Type.html) and comparing by `Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())`(or `e.getClass().isAssignableFrom(t)` explanation below):\r\n\r\n```java\r\nException e = new CustomException2();\r\n\r\nSet&lt;Class&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays\r\n        .asList(CustomException1.class, CustomException2.class, , CustomException3.class));\r\n   \r\n// get type the exception matches to or else have a default UnknownException.class     \r\nClass type = expectedExceptionTypes\r\n        .stream()\r\n        .filter( t -&gt; Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName()))\r\n        .findFirst()\r\n        .orElse(UnknownException.class);\r\n\r\n//... perform some action based on the exception type\r\n```\r\n\r\nUse `e.getClass().isAssignableFrom(t)` instead of  `Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())` if you don&#39;t want &quot;exact match&quot; (for more info https://stackoverflow.com/questions/8850951/checking-a-class-type-class-is-equal-to-some-other-class-type)","title":"Checking if an object matches a list of known types","body":"<p>You can bit modify your code by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a> instead of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Type.html\" rel=\"nofollow noreferrer\">Type</a> and comparing by <code>Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())</code>(or <code>e.getClass().isAssignableFrom(t)</code> explanation below):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception e = new CustomException2();\n\nSet&lt;Class&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays\n        .asList(CustomException1.class, CustomException2.class, , CustomException3.class));\n   \n// get type the exception matches to or else have a default UnknownException.class     \nClass type = expectedExceptionTypes\n        .stream()\n        .filter( t -&gt; Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName()))\n        .findFirst()\n        .orElse(UnknownException.class);\n\n//... perform some action based on the exception type\n</code></pre>\n<p>Use <code>e.getClass().isAssignableFrom(t)</code> instead of  <code>Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())</code> if you don't want &quot;exact match&quot; (for more info <a href=\"https://stackoverflow.com/questions/8850951/checking-a-class-type-class-is-equal-to-some-other-class-type\">Checking a class type (.class) is equal to some other class type</a>)</p>\n"},{"tags":[],"owner":{"account_id":9403276,"reputation":1111,"user_id":8422138,"display_name":"Eddie Lopez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643319640,"creation_date":1643319640,"answer_id":70886112,"question_id":70885420,"body_markdown":"\r\nThere is a pattern called `Chain of Responsibility` that can be used to achieve what you want. It can have different forms, you&#39;re on the right track. What you need is change `expectedExceptionTypes` to hold the condition you&#39;re checking against and also the code to handle it. For example, define a class that packs those two together: \r\n\r\n```\r\nclass ExceptionHandler {\r\n    Predicate&lt;Exception&gt; condition;\r\n    Consumer&lt;Exception&gt; handlingCode;\r\n\r\n    public ExceptionHandler(Predicate&lt;Exception&gt; condition, Consumer&lt;Exception&gt; handlingCode) {\r\n        this.condition = condition;\r\n        this.handlingCode = handlingCode;\r\n    }\r\n}\r\n```\r\n\r\nThen is just finding the first handler that satisfies the condition, and call it:\r\n\r\n```\r\nfinal Set&lt;ExceptionHandler&gt; handlers = new HashSet&lt;&gt;(\r\n        Arrays.asList(\r\n                new ExceptionHandler(\r\n                        v -&gt; v instanceof CustomException1,\r\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t)\r\n                ),\r\n                new ExceptionHandler(\r\n                        v -&gt; v instanceof CustomException2,\r\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t\r\n                        )))\r\n);\r\n\r\nhandlers.stream().filter((ExceptionHandler t) -&gt; t.condition.test(e))\r\n                .findFirst()\r\n                .ifPresent(exceptionHandler -&gt; exceptionHandler.handlingCode.accept(e));\r\n```\r\n\r\nNote I explicitly use `instanceof` inline, to avoid the type erasure problems, but any method that works can be used.","title":"Checking if an object matches a list of known types","body":"<p>There is a pattern called <code>Chain of Responsibility</code> that can be used to achieve what you want. It can have different forms, you're on the right track. What you need is change <code>expectedExceptionTypes</code> to hold the condition you're checking against and also the code to handle it. For example, define a class that packs those two together:</p>\n<pre><code>class ExceptionHandler {\n    Predicate&lt;Exception&gt; condition;\n    Consumer&lt;Exception&gt; handlingCode;\n\n    public ExceptionHandler(Predicate&lt;Exception&gt; condition, Consumer&lt;Exception&gt; handlingCode) {\n        this.condition = condition;\n        this.handlingCode = handlingCode;\n    }\n}\n</code></pre>\n<p>Then is just finding the first handler that satisfies the condition, and call it:</p>\n<pre><code>final Set&lt;ExceptionHandler&gt; handlers = new HashSet&lt;&gt;(\n        Arrays.asList(\n                new ExceptionHandler(\n                        v -&gt; v instanceof CustomException1,\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t)\n                ),\n                new ExceptionHandler(\n                        v -&gt; v instanceof CustomException2,\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t\n                        )))\n);\n\nhandlers.stream().filter((ExceptionHandler t) -&gt; t.condition.test(e))\n                .findFirst()\n                .ifPresent(exceptionHandler -&gt; exceptionHandler.handlingCode.accept(e));\n</code></pre>\n<p>Note I explicitly use <code>instanceof</code> inline, to avoid the type erasure problems, but any method that works can be used.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643320044,"creation_date":1643320044,"answer_id":70886191,"question_id":70885420,"body_markdown":"Store the *classes* in the Set and use `contains(e.getClass())`.\r\n\r\nDefine your target classes (probably as `static final` constant):\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; exceptionClasses = Set.of(CustomException1.class, CustomException2.class, CustomException3class); // since Java 9\r\n\r\nThen given\r\n\r\n    Exception e = someException;\r\n\r\n    e = exceptionClasses.contains(e.getClass()) ? e : new UnknownException();\r\n","title":"Checking if an object matches a list of known types","body":"<p>Store the <em>classes</em> in the Set and use <code>contains(e.getClass())</code>.</p>\n<p>Define your target classes (probably as <code>static final</code> constant):</p>\n<pre><code>Set&lt;Class&lt;?&gt;&gt; exceptionClasses = Set.of(CustomException1.class, CustomException2.class, CustomException3class); // since Java 9\n</code></pre>\n<p>Then given</p>\n<pre><code>Exception e = someException;\n\ne = exceptionClasses.contains(e.getClass()) ? e : new UnknownException();\n</code></pre>\n"}],"owner":{"account_id":2804587,"reputation":1686,"user_id":2412077,"accept_rate":25,"display_name":"loganrussell48"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886112,"answer_count":3,"score":0,"last_activity_date":1643320902,"creation_date":1643315906,"question_id":70885420,"body_markdown":"Below is a pseudo-code of what I want to achieve, in mostly complete/usable java. \r\n\r\nAn exception is thrown, and I want to check it against a list of known exception types without having to do a long series of if-checks to see if it is *instanceof* each type \r\n\r\n```java\r\n//pretend this is the exception that was thrown\r\nException e = new CustomException2();\r\n\r\n//I want to have a set of expected types\r\nSet&lt;Type&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays.asList(CustomException1, CustomException2, CustomException3));\r\n\r\n//I want to see which type the exception matches to or else give a default (UnknownException)\r\nOptional&lt;Type&gt; type = expectedExceptionTypes.stream().filter((t) -&gt; e instanceof t).findFirst().orElse(UnknownException);\r\n\r\n//... perform some action based on the exception type\r\n```\r\n\r\nHow can I actually implement something like this? Am I on the right track here?\r\n\r\n\r\nWhat I&#39;m trying to avoid:\r\n```java\r\nif(e instanceof CustomException1)\r\n    ...\r\nif(e instanceof CustomException2)\r\n    ...\r\nif(e instanceof CustomException3)\r\n    ...\r\n.\r\n.\r\n.\r\n```","title":"Checking if an object matches a list of known types","body":"<p>Below is a pseudo-code of what I want to achieve, in mostly complete/usable java.</p>\n<p>An exception is thrown, and I want to check it against a list of known exception types without having to do a long series of if-checks to see if it is <em>instanceof</em> each type</p>\n<pre class=\"lang-java prettyprint-override\"><code>//pretend this is the exception that was thrown\nException e = new CustomException2();\n\n//I want to have a set of expected types\nSet&lt;Type&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays.asList(CustomException1, CustomException2, CustomException3));\n\n//I want to see which type the exception matches to or else give a default (UnknownException)\nOptional&lt;Type&gt; type = expectedExceptionTypes.stream().filter((t) -&gt; e instanceof t).findFirst().orElse(UnknownException);\n\n//... perform some action based on the exception type\n</code></pre>\n<p>How can I actually implement something like this? Am I on the right track here?</p>\n<p>What I'm trying to avoid:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(e instanceof CustomException1)\n    ...\nif(e instanceof CustomException2)\n    ...\nif(e instanceof CustomException3)\n    ...\n.\n.\n.\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-build"],"comments":[{"owner":{"account_id":22772758,"reputation":2735,"user_id":16929894,"display_name":"ErnestoC"},"score":0,"creation_date":1643239464,"post_id":70867716,"comment_id":125290228,"body_markdown":"Where are your source files located? From the Java client reference, [`setSource()`](https://cloud.google.com/java/docs/reference/google-cloud-build/latest/com.google.cloudbuild.v1.Build.Builder#com_google_cloudbuild_v1_Build_Builder_setSource_com_google_cloudbuild_v1_Source_) should be the location of your source files to build (either Cloud Source Repository or GCS). This is also shown in the REST API [docs](https://cloud.google.com/build/docs/api/reference/rest/v1/projects.builds#source).","body":"Where are your source files located? From the Java client reference, <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-build/latest/com.google.cloudbuild.v1.Build.Builder#com_google_cloudbuild_v1_Build_Builder_setSource_com_google_cloudbuild_v1_Source_\" rel=\"nofollow noreferrer\"><code>setSource()</code></a> should be the location of your source files to build (either Cloud Source Repository or GCS). This is also shown in the REST API <a href=\"https://cloud.google.com/build/docs/api/reference/rest/v1/projects.builds#source\" rel=\"nofollow noreferrer\">docs</a>."},{"owner":{"account_id":1414093,"reputation":3352,"user_id":1340097,"accept_rate":70,"display_name":"s_curry_s"},"score":0,"creation_date":1643245590,"post_id":70867716,"comment_id":125291395,"body_markdown":"at this point the source file is a Docker file and a couple of scripts which is on the same directory with the code I have above. Looks like I need to zip and upload this to GCS myself I want to build a `StorageSource`.","body":"at this point the source file is a Docker file and a couple of scripts which is on the same directory with the code I have above. Looks like I need to zip and upload this to GCS myself I want to build a <code>StorageSource</code>."}],"answers":[{"tags":[],"owner":{"account_id":22772758,"reputation":2735,"user_id":16929894,"display_name":"ErnestoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643320401,"creation_date":1643320401,"answer_id":70886251,"question_id":70867716,"body_markdown":"Replying to your comment, you would [indeed need][1] to zip your source files and upload them to GCS if you’d like to build a `StorageSource`. While there isn’t any sample code or examples for the Java API client out there, I pieced together this code from the [API reference][2]. It builds a `StorageSource` using my bucket and the zipped source archives, and builds a new image to upload to my Artifact Registry. \r\n\r\n```lang-java\r\nStorageSource.Builder gcsSource = StorageSource.newBuilder()\r\n    .setBucket(bucketName)\r\n    .setObject(objectName); //Name of the zipped archive in GCS \r\n\r\nSource.Builder buildSource = Source.newBuilder().setStorageSource(gcsSource);\r\n\r\nBuilder buildStep = BuildStep.newBuilder()\r\n    .setName(&quot;gcr.io/cloud-builders/docker&quot;)\r\n    .addAllArgs(Arrays.asList(new String[] {&quot;build&quot;, &quot;-t&quot;, imageDir, &quot;.&quot;}));\r\n\r\nBuild testBuild = Build.newBuilder()\r\n    .setSource(buildSource)\r\n    .addSteps(buildStep)\r\n    .addImages(imageDir) //Adds the image to Artifact Registry\r\n    .build();\r\n\r\nCreateBuildRequest req = CreateBuildRequest.newBuilder()\r\n    .setBuild(testBuild)\r\n    .setProjectId(projectId)\r\n    .build();\r\n\r\nBuild res = CloudBuildClient.create().createBuildAsync(req).get();\r\n```\r\n\r\nLet me know if this worked for you, as I could not find any other samples out there of the Java client. I tested it and it worked fine on my end.\r\n\r\n[1]: https://cloud.google.com/sdk/gcloud/reference/builds/submit\r\n[2]: https://googleapis.dev/java/google-cloud-build/latest/\r\n","title":"How to setup source with cloud build java api?","body":"<p>Replying to your comment, you would <a href=\"https://cloud.google.com/sdk/gcloud/reference/builds/submit\" rel=\"nofollow noreferrer\">indeed need</a> to zip your source files and upload them to GCS if you’d like to build a <code>StorageSource</code>. While there isn’t any sample code or examples for the Java API client out there, I pieced together this code from the <a href=\"https://googleapis.dev/java/google-cloud-build/latest/\" rel=\"nofollow noreferrer\">API reference</a>. It builds a <code>StorageSource</code> using my bucket and the zipped source archives, and builds a new image to upload to my Artifact Registry.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StorageSource.Builder gcsSource = StorageSource.newBuilder()\n    .setBucket(bucketName)\n    .setObject(objectName); //Name of the zipped archive in GCS \n\nSource.Builder buildSource = Source.newBuilder().setStorageSource(gcsSource);\n\nBuilder buildStep = BuildStep.newBuilder()\n    .setName(&quot;gcr.io/cloud-builders/docker&quot;)\n    .addAllArgs(Arrays.asList(new String[] {&quot;build&quot;, &quot;-t&quot;, imageDir, &quot;.&quot;}));\n\nBuild testBuild = Build.newBuilder()\n    .setSource(buildSource)\n    .addSteps(buildStep)\n    .addImages(imageDir) //Adds the image to Artifact Registry\n    .build();\n\nCreateBuildRequest req = CreateBuildRequest.newBuilder()\n    .setBuild(testBuild)\n    .setProjectId(projectId)\n    .build();\n\nBuild res = CloudBuildClient.create().createBuildAsync(req).get();\n</code></pre>\n<p>Let me know if this worked for you, as I could not find any other samples out there of the Java client. I tested it and it worked fine on my end.</p>\n"}],"owner":{"account_id":1414093,"reputation":3352,"user_id":1340097,"accept_rate":70,"display_name":"s_curry_s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70886251,"answer_count":1,"score":1,"last_activity_date":1643320401,"creation_date":1643218038,"question_id":70867716,"body_markdown":"Looks like the `gcloud` command line does a lot of things by default when I run:\r\n\r\n```\r\ngcloud builds submit --tag gcr.io/$PROJECT_ID/$IMAGE_ID\r\n```\r\n\r\nfor example it uploads the repo to GCS and then when the build starts it downloads it to the working directory. \r\n\r\nI want to use the java api instead of invoking `gcloud` from another process. \r\n\r\n\r\nCan I do the same using the java api, without implementing it manually? I couldn&#39;t find any samples on how to use the cloud build java api. \r\n\r\nKotlin code of what I have so far: \r\n\r\n```\r\nval buildDockerStep = BuildStep.newBuilder()\r\n  .setName(&quot;gcr.io/cloud-builders/docker&quot;)\r\n  .addAllArgs(listOf(&quot;build&quot;, &quot;-t&quot;, imageRepository, &quot;.&quot;))\r\n\r\nval build: Build = Build.newBuilder()\r\n  // .setSource() ? does this need to happen manually?\r\n  .addSteps(buildDockerStep)\r\n  .build()\r\n\r\nval request = CreateBuildRequest.newBuilder()\r\n  .setBuild(build)\r\n  .setProjectId(PROJECT_ID)\r\n  .build()\r\n\r\nval result = cloudBuildClient.createBuildAsync(request)\r\n```","title":"How to setup source with cloud build java api?","body":"<p>Looks like the <code>gcloud</code> command line does a lot of things by default when I run:</p>\n<pre><code>gcloud builds submit --tag gcr.io/$PROJECT_ID/$IMAGE_ID\n</code></pre>\n<p>for example it uploads the repo to GCS and then when the build starts it downloads it to the working directory.</p>\n<p>I want to use the java api instead of invoking <code>gcloud</code> from another process.</p>\n<p>Can I do the same using the java api, without implementing it manually? I couldn't find any samples on how to use the cloud build java api.</p>\n<p>Kotlin code of what I have so far:</p>\n<pre><code>val buildDockerStep = BuildStep.newBuilder()\n  .setName(&quot;gcr.io/cloud-builders/docker&quot;)\n  .addAllArgs(listOf(&quot;build&quot;, &quot;-t&quot;, imageRepository, &quot;.&quot;))\n\nval build: Build = Build.newBuilder()\n  // .setSource() ? does this need to happen manually?\n  .addSteps(buildDockerStep)\n  .build()\n\nval request = CreateBuildRequest.newBuilder()\n  .setBuild(build)\n  .setProjectId(PROJECT_ID)\n  .build()\n\nval result = cloudBuildClient.createBuildAsync(request)\n</code></pre>\n"},{"tags":["java","string","loops","compression"],"comments":[{"owner":{"account_id":1464111,"reputation":6767,"user_id":1377507,"display_name":"tigrang"},"score":0,"creation_date":1337321226,"post_id":10647520,"comment_id":13805851,"body_markdown":"Does `ABC` get &quot;compressed&quot; to `1A1B1C` or stay as `ABC`? What about AABC -&gt; 2ABC?","body":"Does <code>ABC</code> get &quot;compressed&quot; to <code>1A1B1C</code> or stay as <code>ABC</code>? What about AABC -&gt; 2ABC?"},{"owner":{"account_id":982673,"reputation":359,"user_id":1001994,"accept_rate":67,"display_name":"Cristian"},"score":0,"creation_date":1337321283,"post_id":10647520,"comment_id":13805868,"body_markdown":"ABC should return ABC. And AABC should return 2ABC. Thanks!","body":"ABC should return ABC. And AABC should return 2ABC. Thanks!"},{"owner":{"account_id":1376202,"reputation":24775,"user_id":1341006,"accept_rate":99,"display_name":"Jainendra"},"score":0,"creation_date":1337321563,"post_id":10647520,"comment_id":13805948,"body_markdown":"In the input the same alphabet always come together or not. Means can input be of the format AAABBBCCCAACDD??","body":"In the input the same alphabet always come together or not. Means can input be of the format AAABBBCCCAACDD??"},{"owner":{"account_id":982673,"reputation":359,"user_id":1001994,"accept_rate":67,"display_name":"Cristian"},"score":0,"creation_date":1337321817,"post_id":10647520,"comment_id":13806001,"body_markdown":"The exam didn&#39;t specify. I&#39;d like to do it the hard(best) way :).","body":"The exam didn&#39;t specify. I&#39;d like to do it the hard(best) way :)."},{"owner":{"account_id":56819,"reputation":4437,"user_id":170196,"accept_rate":77,"display_name":"Esben Skov Pedersen"},"score":0,"creation_date":1337328507,"post_id":10647520,"comment_id":13807834,"body_markdown":"Can the input string contain numbers?","body":"Can the input string contain numbers?"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1337321374,"creation_date":1337321374,"answer_id":10647569,"question_id":10647520,"body_markdown":"- use `StringBuilder` (you did that)\r\n- define two variables - `previousChar` and `counter`\r\n- loop from 0 to `str.length()` - 1\r\n- each time get `str.charat(i)` and compare it to what&#39;s stored in the `previousChar` variable\r\n- if the previous char is the same, increment a counter\r\n- if the previous char is not the same, and counter is 1, increment counter\r\n- if the previous char is not the same, and counter is &gt;1, append `counter + currentChar`, reset counter\r\n- after the comparison, assign the current char `previousChar`\r\n- cover corner cases like &quot;first char&quot;\r\n\r\nSomething like that.","title":"Java compressing Strings","body":"<ul>\n<li>use <code>StringBuilder</code> (you did that)</li>\n<li>define two variables - <code>previousChar</code> and <code>counter</code></li>\n<li>loop from 0 to <code>str.length()</code> - 1</li>\n<li>each time get <code>str.charat(i)</code> and compare it to what's stored in the <code>previousChar</code> variable</li>\n<li>if the previous char is the same, increment a counter</li>\n<li>if the previous char is not the same, and counter is 1, increment counter</li>\n<li>if the previous char is not the same, and counter is >1, append <code>counter + currentChar</code>, reset counter</li>\n<li>after the comparison, assign the current char <code>previousChar</code></li>\n<li>cover corner cases like \"first char\"</li>\n</ul>\n\n<p>Something like that.</p>\n"},{"tags":[],"owner":{"account_id":543758,"reputation":3503,"user_id":1399920,"display_name":"n00begon"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1337322325,"creation_date":1337321472,"answer_id":10647590,"question_id":10647520,"body_markdown":"Loop through the string remembering what you last saw. Every time you see the same letter count. When you see a new letter put what you have counted onto the output and set the new letter as what you have last seen.\r\n\r\n    String input = &quot;AAABBBBCC&quot;;\r\n    \t\t\r\n    int count = 1;\r\n    \t\t\t\t\r\n    char last = input.charAt(0);\r\n    \t\t\r\n    StringBuilder output = new StringBuilder();\r\n    \t\t\r\n    for(int i = 1; i &lt; input.length(); i++){\r\n        if(input.charAt(i) == last){\r\n    \tcount++;\r\n        }else{\r\n    \t    if(count &gt; 1){\r\n                output.append(&quot;&quot;+count+last);\r\n            }else{\r\n                output.append(last);\r\n            }\r\n    \tcount = 1;\r\n    \tlast = input.charAt(i);\r\n        }\r\n    }\r\n    if(count &gt; 1){\r\n        output.append(&quot;&quot;+count+last);\r\n    }else{\r\n        output.append(last);\r\n    }\r\n    System.out.println(output.toString());","title":"Java compressing Strings","body":"<p>Loop through the string remembering what you last saw. Every time you see the same letter count. When you see a new letter put what you have counted onto the output and set the new letter as what you have last seen.</p>\n\n<pre><code>String input = \"AAABBBBCC\";\n\nint count = 1;\n\nchar last = input.charAt(0);\n\nStringBuilder output = new StringBuilder();\n\nfor(int i = 1; i &lt; input.length(); i++){\n    if(input.charAt(i) == last){\n    count++;\n    }else{\n        if(count &gt; 1){\n            output.append(\"\"+count+last);\n        }else{\n            output.append(last);\n        }\n    count = 1;\n    last = input.charAt(i);\n    }\n}\nif(count &gt; 1){\n    output.append(\"\"+count+last);\n}else{\n    output.append(last);\n}\nSystem.out.println(output.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156914,"reputation":9897,"user_id":374499,"accept_rate":80,"display_name":"Chander Shivdasani"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1509362270,"creation_date":1337321585,"answer_id":10647610,"question_id":10647520,"body_markdown":"You can do that using the following steps:\r\n\r\n- Create a HashMap\r\n- For every character, Get the value from the hashmap\r\n  -If the value is null, enter 1\r\n  -else, replace the value with (value+1)\r\n- Iterate over the HashMap and keep concatenating (Value+Key) \r\n\r\n  ","title":"Java compressing Strings","body":"<p>You can do that using the following steps:</p>\n\n<ul>\n<li>Create a HashMap</li>\n<li>For every character, Get the value from the hashmap\n-If the value is null, enter 1\n-else, replace the value with (value+1)</li>\n<li>Iterate over the HashMap and keep concatenating (Value+Key) </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":270093,"reputation":1792,"user_id":559833,"accept_rate":71,"display_name":"Gyscos"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1337321799,"creation_date":1337321799,"answer_id":10647639,"question_id":10647520,"body_markdown":"In the count=... line, lastIndexOf will not care about consecutive values, and will just give the last occurence.\r\n\r\nFor instance, in the string &quot;ABBA&quot;, the substring would be the whole string.\r\n\r\nAlso, taking the length of the substring is equivalent to subtracting the two indexes.\r\n\r\nI really think that you need a loop.\r\nHere is an example :\r\n\r\n\r\n    public static String compress(String text) {\r\n        String result = &quot;&quot;;\r\n    \r\n        int index = 0;\r\n    \r\n        while (index &lt; text.length()) {\r\n            char c = text.charAt(index);\r\n            int count = count(text, index);\r\n            if (count == 1)\r\n                result += &quot;&quot; + c;\r\n            else\r\n                result += &quot;&quot; + count + c;\r\n            index += count;\r\n        }\r\n    \r\n        return result;\r\n    }\r\n    \r\n    public static int count(String text, int index) {\r\n        char c = text.charAt(index);\r\n        int i = 1;\r\n        while (index + i &lt; text.length() &amp;&amp; text.charAt(index + i) == c)\r\n            i++;\r\n        return i;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String test = &quot;AAABBCCC&quot;;\r\n        System.out.println(compress(test));\r\n    }","title":"Java compressing Strings","body":"<p>In the count=... line, lastIndexOf will not care about consecutive values, and will just give the last occurence.</p>\n\n<p>For instance, in the string \"ABBA\", the substring would be the whole string.</p>\n\n<p>Also, taking the length of the substring is equivalent to subtracting the two indexes.</p>\n\n<p>I really think that you need a loop.\nHere is an example :</p>\n\n<pre><code>public static String compress(String text) {\n    String result = \"\";\n\n    int index = 0;\n\n    while (index &lt; text.length()) {\n        char c = text.charAt(index);\n        int count = count(text, index);\n        if (count == 1)\n            result += \"\" + c;\n        else\n            result += \"\" + count + c;\n        index += count;\n    }\n\n    return result;\n}\n\npublic static int count(String text, int index) {\n    char c = text.charAt(index);\n    int i = 1;\n    while (index + i &lt; text.length() &amp;&amp; text.charAt(index + i) == c)\n        i++;\n    return i;\n}\n\npublic static void main(String[] args) {\n    String test = \"AAABBCCC\";\n    System.out.println(compress(test));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1337335401,"creation_date":1337322095,"answer_id":10647693,"question_id":10647520,"body_markdown":"    private String Comprimir(String input){\r\n        \tString output=&quot;&quot;;\r\n        \tMap&lt;Character,Integer&gt; map=new HashMap&lt;Character,Integer&gt;();\r\n        \tfor(int i=0;i&lt;input.length();i++){\r\n        \t\tCharacter character=input.charAt(i);\r\n        \t\tif(map.containsKey(character)){\r\n        \t\t\tmap.put(character, map.get(character)+1);\r\n        \t\t}else\r\n        \t\t\tmap.put(character, 1);\r\n        \t}\r\n        \tfor (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\r\n        \t\toutput+=entry.getValue()+&quot;&quot;+entry.getKey().charValue();\r\n    \t\t}\r\n        \treturn output;\r\n        }\r\n\r\nOne other simple way using Multiset of guava- \r\n\r\n    import java.util.Arrays;\r\n    \r\n    import com.google.common.collect.HashMultiset;\r\n    import com.google.common.collect.Multiset;\r\n    import com.google.common.collect.Multiset.Entry;\r\n    \r\n    public class WordSpit {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString output=&quot;&quot;;\r\n    \t\tMultiset&lt;String&gt; wordsMultiset = HashMultiset.create();\r\n    \t\tString[] words=&quot;AAABBBBCC&quot;.split(&quot;&quot;);\r\n    \t\twordsMultiset.addAll(Arrays.asList(words));\r\n    \t\tfor (Entry&lt;String&gt; string : wordsMultiset.entrySet()) {\r\n    \t\t\tif(!string.getElement().isEmpty())\r\n    \t\t\t\toutput+=string.getCount()+&quot;&quot;+string.getElement();\r\n    \t\t}\r\n    \t\tSystem.out.println(output);\r\n    \t}\r\n    }","title":"Java compressing Strings","body":"<pre><code>private String Comprimir(String input){\n        String output=\"\";\n        Map&lt;Character,Integer&gt; map=new HashMap&lt;Character,Integer&gt;();\n        for(int i=0;i&lt;input.length();i++){\n            Character character=input.charAt(i);\n            if(map.containsKey(character)){\n                map.put(character, map.get(character)+1);\n            }else\n                map.put(character, 1);\n        }\n        for (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\n            output+=entry.getValue()+\"\"+entry.getKey().charValue();\n        }\n        return output;\n    }\n</code></pre>\n\n<p>One other simple way using Multiset of guava- </p>\n\n<pre><code>import java.util.Arrays;\n\nimport com.google.common.collect.HashMultiset;\nimport com.google.common.collect.Multiset;\nimport com.google.common.collect.Multiset.Entry;\n\npublic class WordSpit {\n    public static void main(String[] args) {\n        String output=\"\";\n        Multiset&lt;String&gt; wordsMultiset = HashMultiset.create();\n        String[] words=\"AAABBBBCC\".split(\"\");\n        wordsMultiset.addAll(Arrays.asList(words));\n        for (Entry&lt;String&gt; string : wordsMultiset.entrySet()) {\n            if(!string.getElement().isEmpty())\n                output+=string.getCount()+\"\"+string.getElement();\n        }\n        System.out.println(output);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1451566799,"creation_date":1337322144,"answer_id":10647700,"question_id":10647520,"body_markdown":"This is just one more way of doing it. \r\n\r\n    public static String compressor(String raw) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tint counter = 0;\r\n    \t\tint length = raw.length();\r\n    \t\tint j = 0;\r\n    \t\twhile (counter &lt; length) {\r\n    \t\t\tj = 0;\r\n    \t\t\twhile (counter + j &lt; length &amp;&amp; raw.charAt(counter + j) == raw.charAt(counter)) {\r\n    \t\t\t\tj++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (j &gt; 1) {\r\n    \t\t\t\tbuilder.append(j);\r\n    \t\t\t}\r\n    \t\t\tbuilder.append(raw.charAt(counter));\r\n    \t\t\tcounter += j;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn builder.toString();\r\n    \t}","title":"Java compressing Strings","body":"<p>This is just one more way of doing it. </p>\n\n<pre><code>public static String compressor(String raw) {\n        StringBuilder builder = new StringBuilder();\n        int counter = 0;\n        int length = raw.length();\n        int j = 0;\n        while (counter &lt; length) {\n            j = 0;\n            while (counter + j &lt; length &amp;&amp; raw.charAt(counter + j) == raw.charAt(counter)) {\n                j++;\n            }\n\n            if (j &gt; 1) {\n                builder.append(j);\n            }\n            builder.append(raw.charAt(counter));\n            counter += j;\n        }\n\n        return builder.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1464111,"reputation":6767,"user_id":1377507,"display_name":"tigrang"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1337326443,"creation_date":1337326443,"answer_id":10648536,"question_id":10647520,"body_markdown":"Java&#39;s not my main language, hardly ever use it, but I wanted to give it a shot :]\r\nNot even sure if your assignment *requires* a loop, but here&#39;s a regexp approach:\r\n\r\n     public static String compress_string(String inp) {\r\n          String compressed = &quot;&quot;;\r\n          Pattern pattern = Pattern.compile(&quot;([\\\\w])\\\\1*&quot;);\r\n          Matcher matcher = pattern.matcher(inp);\r\n          while(matcher.find()) {\r\n             String group = matcher.group();\r\n             if (group.length() &gt; 1) compressed += group.length() + &quot;&quot;;\r\n             compressed += group.charAt(0);\r\n          }\r\n          return compressed;\r\n       }","title":"Java compressing Strings","body":"<p>Java's not my main language, hardly ever use it, but I wanted to give it a shot :]\nNot even sure if your assignment <em>requires</em> a loop, but here's a regexp approach:</p>\n\n<pre><code> public static String compress_string(String inp) {\n      String compressed = \"\";\n      Pattern pattern = Pattern.compile(\"([\\\\w])\\\\1*\");\n      Matcher matcher = pattern.matcher(inp);\n      while(matcher.find()) {\n         String group = matcher.group();\n         if (group.length() &gt; 1) compressed += group.length() + \"\";\n         compressed += group.charAt(0);\n      }\n      return compressed;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5202422,"reputation":2396,"user_id":4161385,"accept_rate":88,"display_name":"PSN"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1439537371,"creation_date":1439537371,"answer_id":32004590,"question_id":10647520,"body_markdown":"The code below will ask the user for user to input a specific character to count the occurrence .\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class CountingOccurences {\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        Scanner inp = new Scanner(System.in);\r\n        \r\n        String str;\r\n        char ch;\r\n        int count=0;\r\n    \r\n        System.out.println(&quot;Enter the string:&quot;);\r\n        str=inp.nextLine();\r\n        System.out.println(&quot;Enter th Char to see the occurence\\n&quot;);\r\n        ch=inp.next().charAt(0);\r\n    \r\n        for(int i=0;i&lt;str.length();i++)\r\n        {\r\n                    if(str.charAt(i)==ch)\r\n    \t\t{\r\n    \t\t\tcount++;\r\n                    }\r\n        }\r\n    \r\n            System.out.println(&quot;The Character is Occuring&quot;);\r\n            System.out.println(count+&quot;Times&quot;);\r\n        \r\n    \r\n    }\r\n    \r\n    }","title":"Java compressing Strings","body":"<p>The code below will ask the user for user to input a specific character to count the occurrence .</p>\n\n<pre><code>import java.util.Scanner;\n\nclass CountingOccurences {\n\npublic static void main(String[] args) {\n\n    Scanner inp = new Scanner(System.in);\n\n    String str;\n    char ch;\n    int count=0;\n\n    System.out.println(\"Enter the string:\");\n    str=inp.nextLine();\n    System.out.println(\"Enter th Char to see the occurence\\n\");\n    ch=inp.next().charAt(0);\n\n    for(int i=0;i&lt;str.length();i++)\n    {\n                if(str.charAt(i)==ch)\n        {\n            count++;\n                }\n    }\n\n        System.out.println(\"The Character is Occuring\");\n        System.out.println(count+\"Times\");\n\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7021543,"reputation":533,"user_id":5380672,"accept_rate":31,"display_name":"G&#246;khan Akduğan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1443335085,"creation_date":1443334631,"answer_id":32805157,"question_id":10647520,"body_markdown":"\tpublic static char[] compressionTester( char[] s){\r\n\r\n\t\tif(s == null){\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\t\r\n\t\tHashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (int i = 0 ; i &lt; s.length ; i++) {\r\n\t\t\t\r\n\t\t\tif(!map.containsKey(s[i])){\r\n\t\t\t\tmap.put(s[i], 1);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tint value = map.get(s[i]);\r\n\t\t\t\tvalue++;\r\n\t\t\t\tmap.put(s[i],value);\r\n\t\t\t}\t\t\t\r\n\t\t}\t\t\t\t\r\n\t\tString newer=&quot;&quot;;\r\n\r\n\t\tfor( Character n : map.keySet()){\r\n\t\t\t\t\t\t\t\r\n\t\t\tnewer = newer + n + map.get(n);\t\r\n\t\t}\r\n\t\tchar[] n = newer.toCharArray();\r\n\t\t\t\t\r\n\t\tif(s.length &gt; n.length){\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\telse{\r\n\t\t\r\n\t\t\treturn s;\t\t\t\t\r\n\t\t}\t\t\t\t\t\t\r\n\t}\r\n\r\n","title":"Java compressing Strings","body":"<pre><code>public static char[] compressionTester( char[] s){\n\n    if(s == null){\n        throw new IllegalArgumentException();\n    }\n\n    HashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0 ; i &lt; s.length ; i++) {\n\n        if(!map.containsKey(s[i])){\n            map.put(s[i], 1);\n        }\n        else{\n            int value = map.get(s[i]);\n            value++;\n            map.put(s[i],value);\n        }           \n    }               \n    String newer=\"\";\n\n    for( Character n : map.keySet()){\n\n        newer = newer + n + map.get(n); \n    }\n    char[] n = newer.toCharArray();\n\n    if(s.length &gt; n.length){\n        return n;\n    }\n    else{\n\n        return s;               \n    }                       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7983918,"reputation":11,"user_id":6024148,"display_name":"Kallu mall"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457235317,"creation_date":1457233833,"answer_id":35822659,"question_id":10647520,"body_markdown":"    package com.tell.datetime;\r\n    \r\n    import java.util.Stack;\r\n    public class StringCompression {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString input = &quot;abbcccdddd&quot;;\r\n    \t\tSystem.out.println(compressString(input));\r\n    \t}\r\n    \r\n    \tpublic static String compressString(String input) {\r\n    \r\n    \t\tif (input == null || input.length() == 0)\r\n    \t\t\treturn input;\r\n    \t\tString finalCompressedString = &quot;&quot;;\r\n    \t\tString lastElement=&quot;&quot;;\r\n    \t\tchar[] charArray = input.toCharArray();\r\n    \t\tStack stack = new Stack();\r\n    \t\tint elementCount = 0;\r\n    \t\tfor (int i = 0; i &lt; charArray.length; i++) {\r\n    \t\t\tchar currentElement = charArray[i];\r\n    \t\t\tif (i == 0) {\r\n    \t\t\t\tstack.push((currentElement+&quot;&quot;));\r\n    \t\t\t\tcontinue;\r\n    \t\t\t} else {\r\n    \t\t\t\tif ((currentElement+&quot;&quot;).equalsIgnoreCase((String)stack.peek())) {\r\n    \t\t\t\t\tstack.push(currentElement + &quot;&quot;);\r\n    \t\t\t\t\tif(i==charArray.length-1)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\twhile (!stack.isEmpty()) {\r\n    \r\n    \t\t\t\t\t\t\tlastElement = (String)stack.pop();\r\n    \t\t\t\t\t\t\telementCount++;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tfinalCompressedString += lastElement + &quot;&quot; + elementCount;\r\n    \t\t\t\t\t}else\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\telse {\r\n    \t\t\t\t\twhile (!stack.isEmpty()) {\r\n    \r\n    \t\t\t\t\t\tlastElement = (String)stack.pop();\r\n    \t\t\t\t\t\telementCount++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tfinalCompressedString += lastElement + &quot;&quot; + elementCount;\r\n    \t\t\t\t\telementCount=0;\r\n    \t\t\t\t\tstack.push(currentElement+&quot;&quot;);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (finalCompressedString.length() &gt;= input.length())\r\n    \t\t\treturn input;\r\n    \t\telse\r\n    \t\t\treturn finalCompressedString;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java compressing Strings","body":"<pre><code>package com.tell.datetime;\n\nimport java.util.Stack;\npublic class StringCompression {\n    public static void main(String[] args) {\n        String input = \"abbcccdddd\";\n        System.out.println(compressString(input));\n    }\n\n    public static String compressString(String input) {\n\n        if (input == null || input.length() == 0)\n            return input;\n        String finalCompressedString = \"\";\n        String lastElement=\"\";\n        char[] charArray = input.toCharArray();\n        Stack stack = new Stack();\n        int elementCount = 0;\n        for (int i = 0; i &lt; charArray.length; i++) {\n            char currentElement = charArray[i];\n            if (i == 0) {\n                stack.push((currentElement+\"\"));\n                continue;\n            } else {\n                if ((currentElement+\"\").equalsIgnoreCase((String)stack.peek())) {\n                    stack.push(currentElement + \"\");\n                    if(i==charArray.length-1)\n                    {\n                        while (!stack.isEmpty()) {\n\n                            lastElement = (String)stack.pop();\n                            elementCount++;\n                        }\n\n                        finalCompressedString += lastElement + \"\" + elementCount;\n                    }else\n                    continue;\n                }\n\n                else {\n                    while (!stack.isEmpty()) {\n\n                        lastElement = (String)stack.pop();\n                        elementCount++;\n                    }\n\n                    finalCompressedString += lastElement + \"\" + elementCount;\n                    elementCount=0;\n                    stack.push(currentElement+\"\");\n                }\n\n            }\n        }\n\n        if (finalCompressedString.length() &gt;= input.length())\n            return input;\n        else\n            return finalCompressedString;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3344553,"reputation":93,"user_id":2809957,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457422459,"creation_date":1457422459,"answer_id":35861549,"question_id":10647520,"body_markdown":"Please try this one. This may help to print the count of characters which we pass on string format through console.\r\n\r\n    import java.util.*;\r\n    \r\n    public class CountCharacterArray {\r\n       private static Scanner inp;\r\n    \r\n    public static void main(String args[]) {\r\n       inp = new Scanner(System.in);\r\n      String  str=inp.nextLine();\r\n       List&lt;Character&gt; arrlist = new ArrayList&lt;Character&gt;();\r\n       for(int i=0; i&lt;str.length();i++){\r\n    \t   arrlist.add(str.charAt(i));\r\n       }\r\n       for(int i=0; i&lt;str.length();i++){\r\n    \t   int freq = Collections.frequency(arrlist, str.charAt(i));\r\n    \t   System.out.println(&quot;Frequency of &quot;+ str.charAt(i)+ &quot;  is:   &quot;+freq); \r\n       }\r\n         }    \r\n    }\r\n\r\n","title":"Java compressing Strings","body":"<p>Please try this one. This may help to print the count of characters which we pass on string format through console.</p>\n\n<pre><code>import java.util.*;\n\npublic class CountCharacterArray {\n   private static Scanner inp;\n\npublic static void main(String args[]) {\n   inp = new Scanner(System.in);\n  String  str=inp.nextLine();\n   List&lt;Character&gt; arrlist = new ArrayList&lt;Character&gt;();\n   for(int i=0; i&lt;str.length();i++){\n       arrlist.add(str.charAt(i));\n   }\n   for(int i=0; i&lt;str.length();i++){\n       int freq = Collections.frequency(arrlist, str.charAt(i));\n       System.out.println(\"Frequency of \"+ str.charAt(i)+ \"  is:   \"+freq); \n   }\n     }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346805,"reputation":43,"user_id":2811819,"display_name":"Chaitanya Vardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475303338,"creation_date":1472419231,"answer_id":39195881,"question_id":10647520,"body_markdown":"consider the below Solution in which the String s1 identifies the unique characters that are available in a given String s (for loop 1), in the second for loop build a string s2 that contains unique character and no of times it is repeated by comparing string s1 with s.\r\n\r\n    public static void main(String[] args) \r\n    {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString s = &quot;aaaabbccccdddeee&quot;;//given string\r\n\t\tString s1 = &quot;&quot;; // string to identify how many unique letters are available in a string\r\n\t\tString s2=&quot;&quot;; //decompressed string will be appended to this string\r\n\t\tint count=0;\r\n\t\tfor(int i=0;i&lt;s.length();i++) {\r\n\t\t\tif(s1.indexOf(s.charAt(i))&lt;0) {\r\n\t\t\t\ts1 = s1+s.charAt(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i=0;i&lt;s1.length();i++) {\r\n\t\t\tfor(int j=0;j&lt;s.length();j++) {\r\n\t\t\t\tif(s1.charAt(i)==s.charAt(j)) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ts2=s2+s1.charAt(i)+count;\r\n\t\t\tcount=0;\r\n\t\t}\r\n\t\t\r\n        System.out.println(s2);\r\n    }\r\n","title":"Java compressing Strings","body":"<p>consider the below Solution in which the String s1 identifies the unique characters that are available in a given String s (for loop 1), in the second for loop build a string s2 that contains unique character and no of times it is repeated by comparing string s1 with s.</p>\n\n<pre><code>public static void main(String[] args) \n{\n    // TODO Auto-generated method stub\n\n    String s = \"aaaabbccccdddeee\";//given string\n    String s1 = \"\"; // string to identify how many unique letters are available in a string\n    String s2=\"\"; //decompressed string will be appended to this string\n    int count=0;\n    for(int i=0;i&lt;s.length();i++) {\n        if(s1.indexOf(s.charAt(i))&lt;0) {\n            s1 = s1+s.charAt(i);\n        }\n    }\n    for(int i=0;i&lt;s1.length();i++) {\n        for(int j=0;j&lt;s.length();j++) {\n            if(s1.charAt(i)==s.charAt(j)) {\n                count++;\n            }\n        }\n        s2=s2+s1.charAt(i)+count;\n        count=0;\n    }\n\n    System.out.println(s2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3195480,"reputation":49,"user_id":2698737,"display_name":"Gopinath"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476496858,"creation_date":1476496858,"answer_id":40054204,"question_id":10647520,"body_markdown":"It may help you.\r\n\r\n\r\n\r\n\r\n    public class StringCompresser\r\n    {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tSystem.out.println(compress(&quot;AAABBBBCC&quot;));\r\n\t\tSystem.out.println(compress(&quot;AAABC&quot;));\r\n\t\tSystem.out.println(compress(&quot;A&quot;));\r\n\t\tSystem.out.println(compress(&quot;ABBDCC&quot;));\r\n\t\tSystem.out.println(compress(&quot;AZXYC&quot;));\r\n\t}\r\n\r\n\tstatic String compress(String str)\r\n\t{\r\n\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\t\tchar[] charArray = str.toCharArray();\r\n\t\tint count = 1;\r\n\t\tchar lastChar = 0;\r\n\t\tchar nextChar = 0;\r\n\t\tlastChar = charArray[0];\r\n\t\tfor (int i = 1; i &lt; charArray.length; i++)\r\n\t\t{\r\n\t\t\tnextChar = charArray[i];\r\n\t\t\tif (lastChar == nextChar)\r\n\t\t\t{\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tstringBuilder.append(count).append(lastChar);\r\n\t\t\t\tcount = 1;\r\n\t\t\t\tlastChar = nextChar;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tstringBuilder.append(count).append(lastChar);\r\n\t\tString compressed = stringBuilder.toString();\r\n\r\n\t\treturn compressed;\r\n\t} \r\n    }\r\n\r\nOutput:\r\n\r\n\r\n    3A4B2C\r\n    3A1B1C\r\n    1A\r\n    1A2B1D2C\r\n    1A1Z1X1Y1C\r\n\r\n\r\n   \r\n\r\n\r\n","title":"Java compressing Strings","body":"<p>It may help you.</p>\n\n<pre><code>public class StringCompresser\n{\npublic static void main(String[] args)\n{\n    System.out.println(compress(\"AAABBBBCC\"));\n    System.out.println(compress(\"AAABC\"));\n    System.out.println(compress(\"A\"));\n    System.out.println(compress(\"ABBDCC\"));\n    System.out.println(compress(\"AZXYC\"));\n}\n\nstatic String compress(String str)\n{\n    StringBuilder stringBuilder = new StringBuilder();\n    char[] charArray = str.toCharArray();\n    int count = 1;\n    char lastChar = 0;\n    char nextChar = 0;\n    lastChar = charArray[0];\n    for (int i = 1; i &lt; charArray.length; i++)\n    {\n        nextChar = charArray[i];\n        if (lastChar == nextChar)\n        {\n            count++;\n        }\n        else\n        {\n            stringBuilder.append(count).append(lastChar);\n            count = 1;\n            lastChar = nextChar;\n\n        }\n    }\n    stringBuilder.append(count).append(lastChar);\n    String compressed = stringBuilder.toString();\n\n    return compressed;\n} \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>3A4B2C\n3A1B1C\n1A\n1A2B1D2C\n1A1Z1X1Y1C\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7025294,"reputation":715,"user_id":5382921,"display_name":"Kushal Shinde"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1516855659,"creation_date":1497571637,"answer_id":44578831,"question_id":10647520,"body_markdown":"The easiest approach:- Time Complexity - O(n)\r\n\r\n    public static void main(String[] args) {\r\n        String str = &quot;AAABBBBCC&quot;;       //input String\r\n        int length = str.length();      //length of a String\r\n\r\n        //Created an object of a StringBuilder class        \r\n        StringBuilder sb = new StringBuilder(); \r\n        \r\n        int count=1;   //counter for counting number of occurances\r\n         \r\n        for(int i=0; i&lt;length; i++){\r\n            //if i reaches at the end then append all and break the loop\r\n        \tif(i==length-1){         \r\n        \t\tsb.append(str.charAt(i)+&quot;&quot;+count);\r\n         \t\tbreak;\r\n        \t}\r\n\r\n        \t//if two successive chars are equal then increase the counter\r\n        \tif(str.charAt(i)==str.charAt(i+1)){   \r\n         \t\tcount++;\r\n        \t}\r\n        \telse{\r\n            //else append character with its count                            \r\n        \t\tsb.append(str.charAt(i)+&quot;&quot;+count);\r\n        \t\tcount=1;     //reseting the counter to 1\r\n        \t}\r\n       }\r\n\r\n        //String representation of a StringBuilder object\r\n        System.out.println(sb.toString());   \r\n        \r\n\t}","title":"Java compressing Strings","body":"<p>The easiest approach:- Time Complexity - O(n)</p>\n\n<pre><code>public static void main(String[] args) {\n    String str = \"AAABBBBCC\";       //input String\n    int length = str.length();      //length of a String\n\n    //Created an object of a StringBuilder class        \n    StringBuilder sb = new StringBuilder(); \n\n    int count=1;   //counter for counting number of occurances\n\n    for(int i=0; i&lt;length; i++){\n        //if i reaches at the end then append all and break the loop\n        if(i==length-1){         \n            sb.append(str.charAt(i)+\"\"+count);\n            break;\n        }\n\n        //if two successive chars are equal then increase the counter\n        if(str.charAt(i)==str.charAt(i+1)){   \n            count++;\n        }\n        else{\n        //else append character with its count                            \n            sb.append(str.charAt(i)+\"\"+count);\n            count=1;     //reseting the counter to 1\n        }\n   }\n\n    //String representation of a StringBuilder object\n    System.out.println(sb.toString());   \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4247264,"reputation":141,"user_id":3475558,"display_name":"SurajSr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500518851,"creation_date":1500504423,"answer_id":45202269,"question_id":10647520,"body_markdown":"The following can be used if you are looking for a basic solution. Iterate through the string with one element and after finding all the element occurrences, remove that character. So that it will not interfere in the next search. \r\n\r\n    public static void main(String[] args) {\r\n        String string = &quot;aaabbbbbaccc&quot;;\r\n        int counter;\r\n        String result=&quot;&quot;;\r\n        int i=0;\r\n        while (i&lt;string.length()){\r\n            counter=1;\r\n            for (int j=i+1;j&lt;string.length();j++){ \r\n                System.out.println(&quot;string length =&quot;+string.length());  \r\n                if (string.charAt(i) == string.charAt(j)){\r\n                      counter++;\r\n                }\r\n          }\r\n          result = result+string.charAt(i)+counter; \r\n          string = string.replaceAll(String.valueOf(string.charAt(i)), &quot;&quot;); \r\n        }\r\n        System.out.println(&quot;result is = &quot;+result);\r\n    }\r\n\r\n And the output will be := \r\nresult is = a4b5c3","title":"Java compressing Strings","body":"<p>The following can be used if you are looking for a basic solution. Iterate through the string with one element and after finding all the element occurrences, remove that character. So that it will not interfere in the next search. </p>\n\n<pre><code>public static void main(String[] args) {\n    String string = \"aaabbbbbaccc\";\n    int counter;\n    String result=\"\";\n    int i=0;\n    while (i&lt;string.length()){\n        counter=1;\n        for (int j=i+1;j&lt;string.length();j++){ \n            System.out.println(\"string length =\"+string.length());  \n            if (string.charAt(i) == string.charAt(j)){\n                  counter++;\n            }\n      }\n      result = result+string.charAt(i)+counter; \n      string = string.replaceAll(String.valueOf(string.charAt(i)), \"\"); \n    }\n    System.out.println(\"result is = \"+result);\n}\n</code></pre>\n\n<p>And the output will be := \nresult is = a4b5c3</p>\n"},{"tags":[],"owner":{"account_id":6523686,"reputation":11,"user_id":5047045,"display_name":"Parth Parikh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509264029,"creation_date":1509264029,"answer_id":46998034,"question_id":10647520,"body_markdown":"    public class StringCompression {\r\n\t    public static void main(String[] args){\r\n\t\t    String s = &quot;aabcccccaaazdaaa&quot;;\r\n\t\t\r\n\t\t    char check = s.charAt(0);\r\n\t\t    int count = 0;\r\n\t\t\r\n\t\t    for(int i=0; i&lt;s.length(); i++){\r\n\t\t\t    if(s.charAt(i) == check) {\r\n\t\t\t\t    count++;\r\n\t\t\t        if(i==s.length()-1){\r\n\t\t\t\t    System.out.print(s.charAt(i));\r\n\t\t\t\t    System.out.print(count);\r\n\t\t\t     }\r\n\t\t\t    } else {\r\n\t\t\t\t    System.out.print(s.charAt(i-1));\r\n\t\t\t\t    System.out.print(count);\r\n\t\t\t\t    check = s.charAt(i);\r\n\t\t\t\t    count = 1;\r\n\t\t\t\t    if(i==s.length()-1){\r\n\t\t\t\t\t    System.out.print(s.charAt(i));\r\n\t\t\t\t\t    System.out.print(count);\r\n\t\t\t\t     }\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n","title":"Java compressing Strings","body":"<pre><code>public class StringCompression {\n    public static void main(String[] args){\n        String s = \"aabcccccaaazdaaa\";\n\n        char check = s.charAt(0);\n        int count = 0;\n\n        for(int i=0; i&lt;s.length(); i++){\n            if(s.charAt(i) == check) {\n                count++;\n                if(i==s.length()-1){\n                System.out.print(s.charAt(i));\n                System.out.print(count);\n             }\n            } else {\n                System.out.print(s.charAt(i-1));\n                System.out.print(count);\n                check = s.charAt(i);\n                count = 1;\n                if(i==s.length()-1){\n                    System.out.print(s.charAt(i));\n                    System.out.print(count);\n                 }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":931382,"reputation":4561,"user_id":961215,"accept_rate":71,"display_name":"Abhishek_Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535699856,"creation_date":1535699856,"answer_id":52110364,"question_id":10647520,"body_markdown":"The answers which used Map will not work for cases like `aabbbccddabc` as in that case the output should be `a2b3c2d2a1b1c1`.\r\n\r\nIn that case this implementation can be used :\r\n\r\n    private String compressString(String input) {\r\n            String output = &quot;&quot;;\r\n            char[] arr = input.toCharArray();\r\n            Map&lt;Character, Integer&gt; myMap = new LinkedHashMap&lt;&gt;();\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (i &gt; 0 &amp;&amp; arr[i] != arr[i - 1]) {\r\n                    output = output + arr[i - 1] + myMap.get(arr[i - 1]);\r\n                    myMap.put(arr[i - 1], 0);\r\n                }\r\n                if (myMap.containsKey(arr[i])) {\r\n                    myMap.put(arr[i], myMap.get(arr[i]) + 1);\r\n                } else {\r\n                    myMap.put(arr[i], 1);\r\n                }\r\n            }\r\n    \r\n            for (Character c : myMap.keySet()) {\r\n                if (myMap.get(c) != 0) {\r\n                    output = output + c + myMap.get(c);\r\n                }\r\n            }\r\n    \r\n            return output;\r\n        }","title":"Java compressing Strings","body":"<p>The answers which used Map will not work for cases like <code>aabbbccddabc</code> as in that case the output should be <code>a2b3c2d2a1b1c1</code>.</p>\n\n<p>In that case this implementation can be used :</p>\n\n<pre><code>private String compressString(String input) {\n        String output = \"\";\n        char[] arr = input.toCharArray();\n        Map&lt;Character, Integer&gt; myMap = new LinkedHashMap&lt;&gt;();\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (i &gt; 0 &amp;&amp; arr[i] != arr[i - 1]) {\n                output = output + arr[i - 1] + myMap.get(arr[i - 1]);\n                myMap.put(arr[i - 1], 0);\n            }\n            if (myMap.containsKey(arr[i])) {\n                myMap.put(arr[i], myMap.get(arr[i]) + 1);\n            } else {\n                myMap.put(arr[i], 1);\n            }\n        }\n\n        for (Character c : myMap.keySet()) {\n            if (myMap.get(c) != 0) {\n                output = output + c + myMap.get(c);\n            }\n        }\n\n        return output;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556523633,"creation_date":1556521394,"answer_id":55898442,"question_id":10647520,"body_markdown":" **O(n) approach**\r\n \r\n No need for hashing. The idea is to find the first **Non-matching** character.\r\n The count of each character would be the difference in the indices of both characters.\r\n\r\n for a detailed answer: https://stackoverflow.com/a/55898810/7972621\r\n \r\n *The only catch is that we need to add a dummy letter so that the comparison for \r\n the last character is possible.*\r\n\r\n    private static String compress(String s){\r\n        StringBuilder result = new StringBuilder();\r\n        int j = 0;\r\n        s = s + &#39;#&#39;;\r\n        for(int i=1; i &lt; s.length(); i++){\r\n            if(s.charAt(i) != s.charAt(j)){\r\n                result.append(i-j);\r\n                result.append(s.charAt(j));\r\n                j = i;\r\n            }\r\n        }\r\n       return result.toString();\r\n    }\r\n","title":"Java compressing Strings","body":"<p><strong>O(n) approach</strong></p>\n\n<p>No need for hashing. The idea is to find the first <strong>Non-matching</strong> character.\n The count of each character would be the difference in the indices of both characters.</p>\n\n<p>for a detailed answer: <a href=\"https://stackoverflow.com/a/55898810/7972621\">https://stackoverflow.com/a/55898810/7972621</a></p>\n\n<p><em>The only catch is that we need to add a dummy letter so that the comparison for \n the last character is possible.</em></p>\n\n<pre><code>private static String compress(String s){\n    StringBuilder result = new StringBuilder();\n    int j = 0;\n    s = s + '#';\n    for(int i=1; i &lt; s.length(); i++){\n        if(s.charAt(i) != s.charAt(j)){\n            result.append(i-j);\n            result.append(s.charAt(j));\n            j = i;\n        }\n    }\n   return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566913078,"creation_date":1566913078,"answer_id":57675930,"question_id":10647520,"body_markdown":"     // O(N) loop through entire character array\r\n     // match current char with next one, if they matches count++\r\n     // if don&#39;t then just append current char and counter value and then reset counter.\r\n    // special case is the last characters, for that just check if count value is &gt; 0, if it&#39;s then append the counter value and the last char\r\n        \r\n     private String compress(String str) {\r\n            char[] c = str.toCharArray();\r\n            String newStr = &quot;&quot;;\r\n            int count = 1;\r\n            for (int i = 0; i &lt; c.length - 1; i++) {\r\n                int j = i + 1;\r\n                if (c[i] == c[j]) {\r\n                    count++;\r\n                } else {\r\n                    newStr = newStr + c[i] + count;\r\n                    count = 1;\r\n                }\r\n            }\r\n    \r\n            // this is for the last strings...\r\n            if (count &gt; 0) {\r\n                newStr = newStr + c[c.length - 1] + count;\r\n            }\r\n    \r\n            return newStr;\r\n        }","title":"Java compressing Strings","body":"<pre><code> // O(N) loop through entire character array\n // match current char with next one, if they matches count++\n // if don't then just append current char and counter value and then reset counter.\n// special case is the last characters, for that just check if count value is &gt; 0, if it's then append the counter value and the last char\n\n private String compress(String str) {\n        char[] c = str.toCharArray();\n        String newStr = \"\";\n        int count = 1;\n        for (int i = 0; i &lt; c.length - 1; i++) {\n            int j = i + 1;\n            if (c[i] == c[j]) {\n                count++;\n            } else {\n                newStr = newStr + c[i] + count;\n                count = 1;\n            }\n        }\n\n        // this is for the last strings...\n        if (count &gt; 0) {\n            newStr = newStr + c[c.length - 1] + count;\n        }\n\n        return newStr;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2463611,"reputation":91,"user_id":2147187,"display_name":"anky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598798104,"creation_date":1598798104,"answer_id":63658523,"question_id":10647520,"body_markdown":"    public class StringCompression {\r\n        public static void main(String... args){\r\n            String s=&quot;aabbcccaa&quot;;\r\n            //a2b2c3a2\r\n    \r\n            for(int i=0;i&lt;s.length()-1;i++){\r\n                int count=1;\r\n                while(i&lt;s.length()-1 &amp;&amp; s.charAt(i)==s.charAt(i+1)){\r\n                    count++;\r\n                    i++;\r\n                }\r\n                System.out.print(s.charAt(i));\r\n                System.out.print(count);\r\n            }\r\n            System.out.println(&quot; &quot;);\r\n        }\r\n    }\r\n\r\n","title":"Java compressing Strings","body":"<pre><code>public class StringCompression {\n    public static void main(String... args){\n        String s=&quot;aabbcccaa&quot;;\n        //a2b2c3a2\n\n        for(int i=0;i&lt;s.length()-1;i++){\n            int count=1;\n            while(i&lt;s.length()-1 &amp;&amp; s.charAt(i)==s.charAt(i+1)){\n                count++;\n                i++;\n            }\n            System.out.print(s.charAt(i));\n            System.out.print(count);\n        }\n        System.out.println(&quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2180686,"reputation":31,"user_id":1930259,"display_name":"Mahendran Ponnusamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643320140,"creation_date":1643320140,"answer_id":70886209,"question_id":10647520,"body_markdown":"This is a leet code problem 443. Most of the answers here uses StringBuilder or a HashMap, the actual problem statement is to solve using the input char array and in place array modification.\r\n\r\n```\r\npublic int compress(char[] chars) {\r\n    int startIndex = 0;\r\n    int lastArrayIndex = 0;\r\n    if (chars.length == 1) {\r\n      return 1;\r\n    }\r\n    if (chars.length == 0) {\r\n      return 0;\r\n    }\r\n    for (int j = startIndex + 1; j &lt; chars.length; j++) {\r\n      if (chars[startIndex] != chars[j]) {\r\n\r\n        chars[lastArrayIndex] = chars[startIndex];\r\n        lastArrayIndex++;\r\n        if ((j - startIndex) &gt; 1) {\r\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\r\n            chars[lastArrayIndex] = c;\r\n            lastArrayIndex++;\r\n          }\r\n        }\r\n        startIndex = j;\r\n      }\r\n      if (j == chars.length - 1) {\r\n        if (j - startIndex &gt;= 1) {\r\n          j = chars.length;\r\n          chars[lastArrayIndex] = chars[startIndex];\r\n          lastArrayIndex++;\r\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\r\n            chars[lastArrayIndex] = c;\r\n            lastArrayIndex++;\r\n          }\r\n        } else {\r\n          chars[lastArrayIndex] = chars[startIndex];\r\n          lastArrayIndex++;\r\n        }\r\n      }\r\n    }\r\n    return lastArrayIndex;\r\n  }\r\n}\r\n```","title":"Java compressing Strings","body":"<p>This is a leet code problem 443. Most of the answers here uses StringBuilder or a HashMap, the actual problem statement is to solve using the input char array and in place array modification.</p>\n<pre><code>public int compress(char[] chars) {\n    int startIndex = 0;\n    int lastArrayIndex = 0;\n    if (chars.length == 1) {\n      return 1;\n    }\n    if (chars.length == 0) {\n      return 0;\n    }\n    for (int j = startIndex + 1; j &lt; chars.length; j++) {\n      if (chars[startIndex] != chars[j]) {\n\n        chars[lastArrayIndex] = chars[startIndex];\n        lastArrayIndex++;\n        if ((j - startIndex) &gt; 1) {\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\n            chars[lastArrayIndex] = c;\n            lastArrayIndex++;\n          }\n        }\n        startIndex = j;\n      }\n      if (j == chars.length - 1) {\n        if (j - startIndex &gt;= 1) {\n          j = chars.length;\n          chars[lastArrayIndex] = chars[startIndex];\n          lastArrayIndex++;\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\n            chars[lastArrayIndex] = c;\n            lastArrayIndex++;\n          }\n        } else {\n          chars[lastArrayIndex] = chars[startIndex];\n          lastArrayIndex++;\n        }\n      }\n    }\n    return lastArrayIndex;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":982673,"reputation":359,"user_id":1001994,"accept_rate":67,"display_name":"Cristian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57018,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":21,"score":14,"last_activity_date":1643320140,"creation_date":1337321073,"question_id":10647520,"body_markdown":"I need to create a method that receives a String and also returns a String. \r\n\r\nEx input: AAABBBBCC\r\n\r\nEx output: 3A4B2C\r\n\r\nWell, this is quite embarrassing and I couldn&#39;t manage to do it on the interview that I had today ( I was applying for a Junior position ), now, trying at home I made something that works statically, I mean, not using a loop which is kind of useless but I don&#39;t know if I&#39;m not getting enough hours of sleep or something but I can&#39;t figure it out how my for loop should look like. This is the code:\r\n\r\n\tpublic static String Comprimir(String texto){\r\n\t\t\r\n\t\tStringBuilder objString = new StringBuilder();\r\n\t\t\r\n\t\tint count;\r\n\t\tchar match;\r\n\t\t\r\n\t\t\tcount = texto.substring(texto.indexOf(texto.charAt(1)), texto.lastIndexOf(texto.charAt(1))).length()+1;\r\n\t\t\tmatch = texto.charAt(1);\r\n\t\t\tobjString.append(count);\r\n\t\t\tobjString.append(match);\r\n\t\t\t\r\n\t\treturn objString.toString();\r\n\t}\r\n\r\nThanks for your help, I&#39;m trying to improve my logic skills.","title":"Java compressing Strings","body":"<p>I need to create a method that receives a String and also returns a String. </p>\n\n<p>Ex input: AAABBBBCC</p>\n\n<p>Ex output: 3A4B2C</p>\n\n<p>Well, this is quite embarrassing and I couldn't manage to do it on the interview that I had today ( I was applying for a Junior position ), now, trying at home I made something that works statically, I mean, not using a loop which is kind of useless but I don't know if I'm not getting enough hours of sleep or something but I can't figure it out how my for loop should look like. This is the code:</p>\n\n<pre><code>public static String Comprimir(String texto){\n\n    StringBuilder objString = new StringBuilder();\n\n    int count;\n    char match;\n\n        count = texto.substring(texto.indexOf(texto.charAt(1)), texto.lastIndexOf(texto.charAt(1))).length()+1;\n        match = texto.charAt(1);\n        objString.append(count);\n        objString.append(match);\n\n    return objString.toString();\n}\n</code></pre>\n\n<p>Thanks for your help, I'm trying to improve my logic skills.</p>\n"},{"tags":["java","c++","tcpclient","tcpserver","sos"],"comments":[{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":1,"creation_date":1643317442,"post_id":70885405,"comment_id":125314722,"body_markdown":"Unrelated: Make code easy t read and sometimes bugs pop right out at you. There is absolutely no reason for `while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); }` to be all one line and many reasons for it not to be.","body":"Unrelated: Make code easy t read and sometimes bugs pop right out at you. There is absolutely no reason for <code>while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); }</code> to be all one line and many reasons for it not to be."},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1643319075,"post_id":70885405,"comment_id":125315288,"body_markdown":"I&#39;d recommend using wireshark to see whether the data being sent is correct, that will allow you to narrow down your problem. Then post a [mre] for whichever side of the connection is not working","body":"I&#39;d recommend using wireshark to see whether the data being sent is correct, that will allow you to narrow down your problem. Then post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for whichever side of the connection is not working"},{"owner":{"account_id":12255869,"reputation":15,"user_id":8944928,"display_name":"RadoRadTs"},"score":0,"creation_date":1643322133,"post_id":70885405,"comment_id":125316214,"body_markdown":"user4581301, Remy Lebeau and  Alan Birthles. Thank you very much both of you! I could give a flag to all if i could. To be honest i don&#39;t understand what is going on when sending message to acknowledge for filesize and i skip it unintentionaly. Must follow all advices given and all critics. Signle problem solved file is tranfered safe and in good condition. Thank you very much once again!","body":"user4581301, Remy Lebeau and  Alan Birthles. Thank you very much both of you! I could give a flag to all if i could. To be honest i don&#39;t understand what is going on when sending message to acknowledge for filesize and i skip it unintentionaly. Must follow all advices given and all critics. Signle problem solved file is tranfered safe and in good condition. Thank you very much once again!"}],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643320075,"creation_date":1643319469,"answer_id":70886084,"question_id":70885405,"body_markdown":"The C++ code is sending the file size before sending the file data (good), but is not doing adequate error handling (bad), and it is NOT sending the file size in an platform-agnostic format (bad).\r\n\r\nNot that it matters, because the Java code shown is NOT even attempting to read the file size before reading the file data (very bad), nor is it paying attention to the return value of `in.read()` to know how many bytes are *actually* received.  But even if it were, the C++ code is sending the size as an 8-byte integer (needed for large files &gt; 2GB), but the Java code is using a 4-byte integer instead (bad). The C++ is also using a 4-byte integer for `bytes_sent` in `SendFile()`.\r\n\r\nTry something more like this:\r\n\r\n```java\r\nBufferedInputStream bis = new BufferedInputStream(in);\r\nDataInputStream dis = new DataInputStream(bis);\r\nlong filesize = dis.readLong();\r\nif (filesize &gt; 0)\r\n{\r\n    byte[] bytes = new byte[4*1024];\r\n    do\r\n    {\r\n        int chunkSize = (int) Math.min(filesize, (long) bytes.length);\r\n        dis.readFully(bytes, 0, chunkSize);\r\n        out.write(bytes, 0, chunkSize);\r\n        out.flush();\r\n        filesize -= chunkSize;\r\n    }\r\n    while (filesize &gt; 0);\r\n}\r\nout.close();\r\n```\r\n\r\n```c++\r\nbool SendBuffer(SOCKET s, const char* buffer, int bufferSize) {\r\n    while (bufferSize &gt; 0)\r\n    {\r\n        int numSent = send(s, buffer, bufferSize, 0/*MSG_DONTROUTE*/);\r\n        if (numSent &lt; 0) {\r\n            Beep(433, 1000);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\r\n\r\n    const int64_t fileSize = GetFileSize(fileName);\r\n    if (fileSize &lt; 0) { return -1; }\r\n\r\n    std::ifstream file(fileName, std::ifstream::binary);\r\n    if (file.fail()) { return -1; }\r\n\r\n    const int64_t tmp = htonll(fileSize); // see https://stackoverflow.com/questions/3022552/\r\n    if (!SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;tmp), sizeof(tmp))) {\r\n        return -2;\r\n    }\r\n\r\n    std::vector&lt;char&gt; buffer(chunkSize);\r\n    bool errored = false;\r\n    int64_t bytes_sent = 0;\r\n\r\n    while (fileSize &gt; 0) {\r\n        int ssize = static_cast&lt;int&gt;(std::min&lt;int64_t&gt;(fileSize, chunkSize));\r\n        if (!file.read(buffer.data(), ssize)) { errored = true; break; }\r\n        if (!SendBuffer(s, buffer.data(), ssize)) { errored = true; break; }\r\n        fileSize -= ssize;\r\n    }\r\n\r\n    file.close();\r\n\r\n    if (errored) {\r\n        std::cout &lt;&lt; &quot;err&quot; &lt;&lt; std::endl;\r\n        return -3;\r\n    }\r\n\r\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\r\n    return bytes_sent;\r\n}\r\n```","title":"C++ client socket sends original file and file size, Java client always get 8 bytes more. Even after force limiting to -8 bytes file is unreadable","body":"<p>The C++ code is sending the file size before sending the file data (good), but is not doing adequate error handling (bad), and it is NOT sending the file size in an platform-agnostic format (bad).</p>\n<p>Not that it matters, because the Java code shown is NOT even attempting to read the file size before reading the file data (very bad), nor is it paying attention to the return value of <code>in.read()</code> to know how many bytes are <em>actually</em> received.  But even if it were, the C++ code is sending the size as an 8-byte integer (needed for large files &gt; 2GB), but the Java code is using a 4-byte integer instead (bad). The C++ is also using a 4-byte integer for <code>bytes_sent</code> in <code>SendFile()</code>.</p>\n<p>Try something more like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedInputStream bis = new BufferedInputStream(in);\nDataInputStream dis = new DataInputStream(bis);\nlong filesize = dis.readLong();\nif (filesize &gt; 0)\n{\n    byte[] bytes = new byte[4*1024];\n    do\n    {\n        int chunkSize = (int) Math.min(filesize, (long) bytes.length);\n        dis.readFully(bytes, 0, chunkSize);\n        out.write(bytes, 0, chunkSize);\n        out.flush();\n        filesize -= chunkSize;\n    }\n    while (filesize &gt; 0);\n}\nout.close();\n</code></pre>\n<pre class=\"lang-cpp prettyprint-override\"><code>bool SendBuffer(SOCKET s, const char* buffer, int bufferSize) {\n    while (bufferSize &gt; 0)\n    {\n        int numSent = send(s, buffer, bufferSize, 0/*MSG_DONTROUTE*/);\n        if (numSent &lt; 0) {\n            Beep(433, 1000);\n            return false;\n        }\n    }\n    return true;\n}\n\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\n\n    const int64_t fileSize = GetFileSize(fileName);\n    if (fileSize &lt; 0) { return -1; }\n\n    std::ifstream file(fileName, std::ifstream::binary);\n    if (file.fail()) { return -1; }\n\n    const int64_t tmp = htonll(fileSize); // see https://stackoverflow.com/questions/3022552/\n    if (!SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;tmp), sizeof(tmp))) {\n        return -2;\n    }\n\n    std::vector&lt;char&gt; buffer(chunkSize);\n    bool errored = false;\n    int64_t bytes_sent = 0;\n\n    while (fileSize &gt; 0) {\n        int ssize = static_cast&lt;int&gt;(std::min&lt;int64_t&gt;(fileSize, chunkSize));\n        if (!file.read(buffer.data(), ssize)) { errored = true; break; }\n        if (!SendBuffer(s, buffer.data(), ssize)) { errored = true; break; }\n        fileSize -= ssize;\n    }\n\n    file.close();\n\n    if (errored) {\n        std::cout &lt;&lt; &quot;err&quot; &lt;&lt; std::endl;\n        return -3;\n    }\n\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\n    return bytes_sent;\n}\n</code></pre>\n"}],"owner":{"account_id":12255869,"reputation":15,"user_id":8944928,"display_name":"RadoRadTs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70886084,"answer_count":1,"score":1,"last_activity_date":1643320075,"creation_date":1643315854,"question_id":70885405,"body_markdown":"For a while, I am troubled with this issue.\r\n\r\nUsing a snippet of C++ code, which I found here, and in my opinion should do a good job actually sending exact amount of data, I guess the problem is in the Java code or something unknown.\r\n\r\nAlso, when sending simple `&quot;Hello World&quot;` data, transfer is done correctly.\r\n\r\nI would be grateful is somebody could solve it, or give a valuable advice.\r\nI am running Windows 10 with jdk1.8.0_221 and Visual Studio 2022. \r\n\r\nI understand there could be a need to send `filesize` as a string and aknowledge flag in return in future, but for simplicity the C++ client is sending only one file with known amount of data.\r\n\r\nHere is the Java side:\r\n\r\n```java\r\nwhile(!Terminate)\r\n{    \r\n    byte[] bytes = new byte[1];//code was different for a real buffer \r\n    //...still +8 bytes\r\n    while (in.available() &gt; 0) \r\n    {\r\n        in.read(bytes);\r\n        out.write(bytes);\r\n        out.flush();\r\n    }\r\n}\r\nout.close();\r\n```\r\n+ 8 bytes again after I tried this:\r\n\r\n```java\r\nint filesize = 15670;\r\nint cnt = 0;\r\nwhile (cnt&lt;filesize)\r\n{\r\n    out.write(in.read());\r\n    out.flush();\r\n    cnt++;\r\n}\r\n```\r\n\r\nIt makes me think 8 bytes are added while saving.\r\n\r\nThe C++ code:\r\n\r\n```c++\r\nint SendBuffer(SOCKET s, const char* buffer, int bufferSize, int chunkSize = 4 * 1024) {\r\n    int l = -1;\r\n    int i = 0;\r\n    while (i &lt; bufferSize) \r\n    {\r\n        int l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0);\r\n        //int l = send(s, &amp;buffer[i], bufferSize , MSG_DONTROUTE);\r\n        int j = 0;\r\n        std::cout &lt;&lt; i &lt;&lt; std::endl;\r\n        while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); } // this is an error\r\n        i += l;\r\n    }\r\n    return i;\r\n}\r\n\r\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\r\n\r\n    const int64_t fileSize = GetFileSize(fileName);\r\n    if (fileSize &lt; 0) { return -1; }\r\n\r\n    std::ifstream file(fileName, std::ifstream::binary);\r\n    if (file.fail()) { return -1; }\r\n\r\n    if (SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;fileSize),\r\n        sizeof(fileSize)) != sizeof(fileSize)) {\r\n        return -2;\r\n    }\r\n\r\n    char* buffer = new char[chunkSize];\r\n    bool errored = false;\r\n    int64_t i = fileSize;\r\n    auto bytes_sent = 0;\r\n    while (i &gt; 0) {\r\n        const int64_t ssize = __min(i, (int64_t)chunkSize);\r\n        if (!file.read(buffer, ssize)) { errored = true; break; }\r\n        const int l = SendBuffer(s, buffer, (int)ssize);\r\n        bytes_sent += l;\r\n        int bi = 0;\r\n        if (l &lt; 0) { std::cout &lt;&lt;&quot; err :&quot;&lt;&lt; l&lt;&lt;std::endl; errored = true; break; }\r\n        i -= l;\r\n    }\r\n    delete[] buffer;\r\n\r\n    file.close();\r\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\r\n    return errored ? -3 : fileSize;\r\n}\r\n```","title":"C++ client socket sends original file and file size, Java client always get 8 bytes more. Even after force limiting to -8 bytes file is unreadable","body":"<p>For a while, I am troubled with this issue.</p>\n<p>Using a snippet of C++ code, which I found here, and in my opinion should do a good job actually sending exact amount of data, I guess the problem is in the Java code or something unknown.</p>\n<p>Also, when sending simple <code>&quot;Hello World&quot;</code> data, transfer is done correctly.</p>\n<p>I would be grateful is somebody could solve it, or give a valuable advice.\nI am running Windows 10 with jdk1.8.0_221 and Visual Studio 2022.</p>\n<p>I understand there could be a need to send <code>filesize</code> as a string and aknowledge flag in return in future, but for simplicity the C++ client is sending only one file with known amount of data.</p>\n<p>Here is the Java side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(!Terminate)\n{    \n    byte[] bytes = new byte[1];//code was different for a real buffer \n    //...still +8 bytes\n    while (in.available() &gt; 0) \n    {\n        in.read(bytes);\n        out.write(bytes);\n        out.flush();\n    }\n}\nout.close();\n</code></pre>\n<ul>\n<li>8 bytes again after I tried this:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int filesize = 15670;\nint cnt = 0;\nwhile (cnt&lt;filesize)\n{\n    out.write(in.read());\n    out.flush();\n    cnt++;\n}\n</code></pre>\n<p>It makes me think 8 bytes are added while saving.</p>\n<p>The C++ code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>int SendBuffer(SOCKET s, const char* buffer, int bufferSize, int chunkSize = 4 * 1024) {\n    int l = -1;\n    int i = 0;\n    while (i &lt; bufferSize) \n    {\n        int l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0);\n        //int l = send(s, &amp;buffer[i], bufferSize , MSG_DONTROUTE);\n        int j = 0;\n        std::cout &lt;&lt; i &lt;&lt; std::endl;\n        while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); } // this is an error\n        i += l;\n    }\n    return i;\n}\n\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\n\n    const int64_t fileSize = GetFileSize(fileName);\n    if (fileSize &lt; 0) { return -1; }\n\n    std::ifstream file(fileName, std::ifstream::binary);\n    if (file.fail()) { return -1; }\n\n    if (SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;fileSize),\n        sizeof(fileSize)) != sizeof(fileSize)) {\n        return -2;\n    }\n\n    char* buffer = new char[chunkSize];\n    bool errored = false;\n    int64_t i = fileSize;\n    auto bytes_sent = 0;\n    while (i &gt; 0) {\n        const int64_t ssize = __min(i, (int64_t)chunkSize);\n        if (!file.read(buffer, ssize)) { errored = true; break; }\n        const int l = SendBuffer(s, buffer, (int)ssize);\n        bytes_sent += l;\n        int bi = 0;\n        if (l &lt; 0) { std::cout &lt;&lt;&quot; err :&quot;&lt;&lt; l&lt;&lt;std::endl; errored = true; break; }\n        i -= l;\n    }\n    delete[] buffer;\n\n    file.close();\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\n    return errored ? -3 : fileSize;\n}\n</code></pre>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643319505,"post_id":70886038,"comment_id":125315414,"body_markdown":"When you use the `addJob()` method you have `currentJobIndex = 0;` so items will only ever be inserted al position 0 (and will overwrite anything else that was there). You need to increment this number and ensure that your array has space. You should probably be using an ArrayList that already has an add method.","body":"When you use the <code>addJob()</code> method you have <code>currentJobIndex = 0;</code> so items will only ever be inserted al position 0 (and will overwrite anything else that was there). You need to increment this number and ensure that your array has space. You should probably be using an ArrayList that already has an add method."},{"owner":{"account_id":24076949,"reputation":19,"user_id":18052143,"display_name":"cattedad"},"score":0,"creation_date":1643319749,"post_id":70886038,"comment_id":125315498,"body_markdown":"Thank you, removing the currentJobIndex = 0; resolved the issue!","body":"Thank you, removing the currentJobIndex = 0; resolved the issue!"}],"answers":[{"tags":[],"owner":{"account_id":17672917,"reputation":186,"user_id":12828626,"display_name":"Timo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643319621,"creation_date":1643319621,"answer_id":70886108,"question_id":70886038,"body_markdown":"This is because every time you call the method, `currentJobIndex = 0;` is executed again, so you do not go to the next position in the array, but always write to `jobs[0]`. `currentJobIndex` needs to be a global variable, like this: \r\n```java\r\npublic class Job(){\r\n   private int[] jobs = new int[5]; // Specify length of array here.\r\n   private currentJobIndex = 0;\r\n\r\n   public void addJob(){\r\n    jobs[currentJobIndex] = new Job();\r\n    jobs[currentJobIndex].getInformation();\r\n    jobs[currentJobIndex].calculateCost();\r\n    jobs[currentJobIndex].display();\r\n    jobs[currentJobIndex].getCostTotal();\r\n    currentJobIndex++;\r\n   }\r\n}\r\n```\r\n\r\n(Sidenote: Since you probably don&#39;t know how many jobs will be stored in advance, a list would be the better choice here.)","title":"Saving objects to an array and printing stored object data","body":"<p>This is because every time you call the method, <code>currentJobIndex = 0;</code> is executed again, so you do not go to the next position in the array, but always write to <code>jobs[0]</code>. <code>currentJobIndex</code> needs to be a global variable, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Job(){\n   private int[] jobs = new int[5]; // Specify length of array here.\n   private currentJobIndex = 0;\n\n   public void addJob(){\n    jobs[currentJobIndex] = new Job();\n    jobs[currentJobIndex].getInformation();\n    jobs[currentJobIndex].calculateCost();\n    jobs[currentJobIndex].display();\n    jobs[currentJobIndex].getCostTotal();\n    currentJobIndex++;\n   }\n}\n</code></pre>\n<p>(Sidenote: Since you probably don't know how many jobs will be stored in advance, a list would be the better choice here.)</p>\n"},{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643319918,"creation_date":1643319918,"answer_id":70886165,"question_id":70886038,"body_markdown":"This is because currentJobIndex doesn&#39;t increment when you add a new job.\r\n\r\nYou can fix this by adding:\r\n\r\n```\r\npublic static void addJob() { currentJobIndex = 0;\r\n\r\n    jobs[currentJobIndex] = new Job();\r\n    jobs[currentJobIndex].getInformation();\r\n    jobs[currentJobIndex].calculateCost();\r\n    jobs[currentJobIndex].display();\r\n    jobs[currentJobIndex].getCostTotal();\r\n\r\n    currentJobIndex++;\r\n\r\n     }\r\n```","title":"Saving objects to an array and printing stored object data","body":"<p>This is because currentJobIndex doesn't increment when you add a new job.</p>\n<p>You can fix this by adding:</p>\n<pre><code>public static void addJob() { currentJobIndex = 0;\n\n    jobs[currentJobIndex] = new Job();\n    jobs[currentJobIndex].getInformation();\n    jobs[currentJobIndex].calculateCost();\n    jobs[currentJobIndex].display();\n    jobs[currentJobIndex].getCostTotal();\n\n    currentJobIndex++;\n\n     }\n</code></pre>\n"}],"owner":{"account_id":24076949,"reputation":19,"user_id":18052143,"display_name":"cattedad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643319918,"creation_date":1643319276,"question_id":70886038,"body_markdown":"I have this method created to ask a user to input job details, and save to an array:\r\n\r\n\r\npublic static void addJob() {\r\n        currentJobIndex = 0;\r\n\r\n        jobs[currentJobIndex] = new Job();\r\n        jobs[currentJobIndex].getInformation();\r\n        jobs[currentJobIndex].calculateCost();\r\n        jobs[currentJobIndex].display();\r\n        jobs[currentJobIndex].getCostTotal();\r\n        currentJobIndex++;\r\n\r\nI have this method to display all jobs saved in the array:\r\n\r\n public static void showAllJobs() {\r\n\r\n        for (Job job : jobs) {\r\n            if (job != null) {\r\n                job.display();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nIt is only showing the last entered job and I cant figure out why, any assistance would be appreciated!","title":"Saving objects to an array and printing stored object data","body":"<p>I have this method created to ask a user to input job details, and save to an array:</p>\n<p>public static void addJob() {\ncurrentJobIndex = 0;</p>\n<pre><code>    jobs[currentJobIndex] = new Job();\n    jobs[currentJobIndex].getInformation();\n    jobs[currentJobIndex].calculateCost();\n    jobs[currentJobIndex].display();\n    jobs[currentJobIndex].getCostTotal();\n    currentJobIndex++;\n</code></pre>\n<p>I have this method to display all jobs saved in the array:</p>\n<p>public static void showAllJobs() {</p>\n<pre><code>    for (Job job : jobs) {\n        if (job != null) {\n            job.display();\n        }\n    }\n\n}\n</code></pre>\n<p>It is only showing the last entered job and I cant figure out why, any assistance would be appreciated!</p>\n"},{"tags":["java","time","big-o"],"comments":[{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":4,"creation_date":1643316274,"post_id":70885457,"comment_id":125314361,"body_markdown":"Yes, you must take the method&#39;s time-complexity into consideration. Otherwise you would be able to make any algorithm to O(1) by using a helper function.","body":"Yes, you must take the method&#39;s time-complexity into consideration. Otherwise you would be able to make any algorithm to O(1) by using a helper function."},{"owner":{"account_id":15613464,"reputation":23,"user_id":11264209,"display_name":"Ivan Syrups"},"score":0,"creation_date":1643316599,"post_id":70885457,"comment_id":125314469,"body_markdown":"@TedKleinBergman Simple answer, but thank you! I&#39;ve always gotten that hunch, but thanks for confirming","body":"@TedKleinBergman Simple answer, but thank you! I&#39;ve always gotten that hunch, but thanks for confirming"}],"answers":[{"tags":[],"owner":{"account_id":19880578,"reputation":119,"user_id":14564685,"display_name":"marcellorinaldo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643319731,"creation_date":1643319731,"answer_id":70886132,"question_id":70885457,"body_markdown":"It would be O(n) in the worst case. If you think about it, it boils down to estimating the time complexity of testing for equality, the encodings do not add additional complexity to the problem.\r\n\r\nThe complexity of verifying that two strings are equal is most of the times &lt; O(n). For example, the `equals` method could simply compare the length of the strings before actually comparing the contents of the strings, which has constant complexity. If the strings are of equal length, then the `equals` method could traverse the whole strings, thus O(n).\r\n\r\nIn CS stackexchange, the subject is discussed in more detail. Check it out here: https://cs.stackexchange.com/questions/127899/what-is-the-expected-time-complexity-of-checking-equality-of-two-arbitrary-strin","title":"Big-O notation of a method that calls a method of O(n)","body":"<p>It would be O(n) in the worst case. If you think about it, it boils down to estimating the time complexity of testing for equality, the encodings do not add additional complexity to the problem.</p>\n<p>The complexity of verifying that two strings are equal is most of the times &lt; O(n). For example, the <code>equals</code> method could simply compare the length of the strings before actually comparing the contents of the strings, which has constant complexity. If the strings are of equal length, then the <code>equals</code> method could traverse the whole strings, thus O(n).</p>\n<p>In CS stackexchange, the subject is discussed in more detail. Check it out here: <a href=\"https://cs.stackexchange.com/questions/127899/what-is-the-expected-time-complexity-of-checking-equality-of-two-arbitrary-strin\">https://cs.stackexchange.com/questions/127899/what-is-the-expected-time-complexity-of-checking-equality-of-two-arbitrary-strin</a></p>\n"}],"owner":{"account_id":15613464,"reputation":23,"user_id":11264209,"display_name":"Ivan Syrups"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643319731,"creation_date":1643316114,"question_id":70885457,"body_markdown":"        \r\n    public boolean equal(MyLinkedList a, MyLinkedList b) {\r\n        String instanceA = encode(a);\r\n        String instanceB = encode(b);\r\n        return instanceA.equals(instanceB);\r\n    }\r\n\r\nI was working on a project and looked at my code and realized I didn&#39;t know the time complexity rules of calling methods. \r\n\r\nWhat would be the big-O notation of my equal method if the encode(String value) is of O(n)? Would it take into consideration the big-o notation of O(n) or would it be a simple O(1)?\r\n","title":"Big-O notation of a method that calls a method of O(n)","body":"<pre><code>public boolean equal(MyLinkedList a, MyLinkedList b) {\n    String instanceA = encode(a);\n    String instanceB = encode(b);\n    return instanceA.equals(instanceB);\n}\n</code></pre>\n<p>I was working on a project and looked at my code and realized I didn't know the time complexity rules of calling methods.</p>\n<p>What would be the big-O notation of my equal method if the encode(String value) is of O(n)? Would it take into consideration the big-o notation of O(n) or would it be a simple O(1)?</p>\n"},{"tags":["java","java-11","color-space"],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643319428,"creation_date":1643319428,"question_id":70886075,"body_markdown":"I need to create a Custom colorspace that will have 5 components.  Then I will be drawing on that colorspace using a 5 component paint.  Sample code:\r\n\r\n    \t\tColorSpace cs5 = new ColorSpace5();\r\n\r\n\t\t\t// Create colored model and BufferedImage that uses the CMY color space\r\n\t\t\tColorModel outputCM = new ComponentColorModel(cs5, false, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\r\n\t\t\tWritableRaster imageRaster = outputCM.createCompatibleWritableRaster(50, 50);\r\n\t\t\tBufferedImage bi5 = new BufferedImage(outputCM, imageRaster, false, null);\r\n\r\n\t\t\t// Graphics2D to draw onto the image\r\n\t\t\tGraphics2D g2 = bi5.createGraphics();\r\n\r\n\t\t\t// Create Paint object that uses 5 components\r\n\t\t\tColorPaintCS blackPaint = new ColorPaintCS(new int[] { 0, 0, 0, 255, 125 }, outputCM);\r\n\t\t\tg2.setPaint(blackPaint);\r\n\t\t\tg2.fillRect(0, 0, 50, 50);\r\n\r\nThe problem is that Java ALWAYS converts to ARGB to do the blit operations.  Even when you are copying between things with the same Colorspace.\r\nI did some digging around in the AWT code and found that\r\n\r\n    AlphaPaintPipe.renderPathTile, line 152\r\n                            context.lastBlit = Blit.getFromCache(srcData.getSurfaceType(),\r\n                                                  comptype,\r\n                                                  dstData.getSurfaceType());\r\n\r\nboth srcData, dstData have the correct colorModel\r\n\r\nI think that Blit.getFromCache() needs to be able to return a simple data copy Blit when both src and dst have the same Color Model.\r\nThe Blit returned only depends on the SurfaceType - and is always OpaqueCopyAnyToArgb - so always does a colorspace conversion to/from ARGB.\r\n\r\nThen in MaskBlit.setupGeneralBinaryOp it sets up converters for To/From ARGB.\r\n\r\nI tried forcing the convertsrc and convertdst fields in MaskBlit to be null, which avoids the color conversion, but then MakeBlit.MaskBlit (around line 219) calls performop.MaskBlit, and that throws a NPE.\r\n\r\nI found what appears to be relevant JDK bugs:\r\nhttps://bugs.openjdk.java.net/browse/JDK-8226923\r\nhttps://bugs.openjdk.java.net/browse/JDK-6349627\r\n\r\nI thought I might be able to make a Blit that would work, but it fails as the base class sun.java2d.loops.MaskBlit has a lot of native methods and subclassing doesn&#39;t seem to work.\r\n\r\n\tsun.java2d.loops.GraphicsPrimitive add[] = { new MaskBlitCS() };\r\n\tsun.java2d.loops.GraphicsPrimitiveMgr.register(add);\r\n\r\nfails with a \r\n\r\n    java.lang.UnsatisfiedLinkError: &#39;void sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class)&#39;\r\n    \tat java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(Native Method)\r\n    \tat java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.&lt;clinit&gt;(GraphicsPrimitiveMgr.java:56)\r\n    \tat java.desktop/sun.java2d.loops.MaskBlit.&lt;clinit&gt;(MaskBlit.java:112)\r\n\r\n\r\n\r\n    public class MaskBlitCS extends sun.java2d.loops.MaskBlit {\r\n    \tprivate static final Logger log = LogManager.getLogger();\r\n    \r\n    \tpublic MaskBlitCS(\tfinal SurfaceType srctype,\r\n    \t\t\t\t\tfinal CompositeType comptype,\r\n    \t\t\t\t\tfinal SurfaceType dsttype) {\r\n    \t\tsuper(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\r\n    \t}\r\n    \r\n    \tpublic MaskBlitCS() {\r\n    \t\tsuper(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic synchronized void MaskBlit(\tfinal SurfaceData srcData,\r\n    \t\t\t\t\t\t\tfinal SurfaceData dstData,\r\n    \t\t\t\t\t\t\tfinal Composite comp,\r\n    \t\t\t\t\t\t\tfinal Region clip,\r\n    \t\t\t\t\t\t\tfinal int srcx,\r\n    \t\t\t\t\t\t\tfinal int srcy,\r\n    \t\t\t\t\t\t\tfinal int dstx,\r\n    \t\t\t\t\t\t\tfinal int dsty,\r\n    \t\t\t\t\t\t\tfinal int width,\r\n    \t\t\t\t\t\t\tfinal int height,\r\n    \t\t\t\t\t\t\tfinal byte mask[],\r\n    \t\t\t\t\t\t\tfinal int offset,\r\n    \t\t\t\t\t\t\tfinal int scan) {\r\n    \t\tlog.debug(&quot;MaskBlit: {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}&quot;, srcData, dstData, comp, clip, srcx, srcy, dstx, dsty, width, height, offset, scan);\r\n    \t\tSurfaceData src, dst;\r\n    \t\tRegion opclip;\r\n    \t\tint sx, sy, dx, dy;\r\n    \r\n    \t\tif (!srcData.getColorModel().equals(dstData.getColorModel())) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Color Models Must Match&quot;);\r\n    \t\t}\r\n    \r\n    \t\tsrc = srcData;\r\n    \t\tsx = srcx;\r\n    \t\tsy = srcy;\r\n    \r\n    \t\tdst = dstData;\r\n    \t\tdx = dstx;\r\n    \t\tdy = dsty;\r\n    \t\topclip = clip;\r\n    \r\n    \t\tRaster srcR = srcData.getRaster(sx, sy, width, height);\r\n    \t\tDataBuffer srcDB = srcR.getDataBuffer();\r\n    \t\tRaster dstR = dstData.getRaster(dx, dy, width, height);\r\n    \t\tDataBuffer dstDB = dstR.getDataBuffer();\r\n    \r\n    \t\tlog.debug(&quot;MaskBlit: SRC {}, {}, {}&quot;, srcDB.getDataType(), srcDB.getNumBanks(), srcDB.getSize());\r\n    \t\tlog.debug(&quot;MaskBlit: DST {}, {}, {}&quot;, dstDB.getDataType(), dstDB.getNumBanks(), dstDB.getSize());\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nDoes anyone know of a way to use custom colorspaces without getting the ARGB conversions?\r\n\r\n\r\n\r\n","title":"Custom Java Colorspace requires impossible conversions","body":"<p>I need to create a Custom colorspace that will have 5 components.  Then I will be drawing on that colorspace using a 5 component paint.  Sample code:</p>\n<pre><code>        ColorSpace cs5 = new ColorSpace5();\n\n        // Create colored model and BufferedImage that uses the CMY color space\n        ColorModel outputCM = new ComponentColorModel(cs5, false, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\n        WritableRaster imageRaster = outputCM.createCompatibleWritableRaster(50, 50);\n        BufferedImage bi5 = new BufferedImage(outputCM, imageRaster, false, null);\n\n        // Graphics2D to draw onto the image\n        Graphics2D g2 = bi5.createGraphics();\n\n        // Create Paint object that uses 5 components\n        ColorPaintCS blackPaint = new ColorPaintCS(new int[] { 0, 0, 0, 255, 125 }, outputCM);\n        g2.setPaint(blackPaint);\n        g2.fillRect(0, 0, 50, 50);\n</code></pre>\n<p>The problem is that Java ALWAYS converts to ARGB to do the blit operations.  Even when you are copying between things with the same Colorspace.\nI did some digging around in the AWT code and found that</p>\n<pre><code>AlphaPaintPipe.renderPathTile, line 152\n                        context.lastBlit = Blit.getFromCache(srcData.getSurfaceType(),\n                                              comptype,\n                                              dstData.getSurfaceType());\n</code></pre>\n<p>both srcData, dstData have the correct colorModel</p>\n<p>I think that Blit.getFromCache() needs to be able to return a simple data copy Blit when both src and dst have the same Color Model.\nThe Blit returned only depends on the SurfaceType - and is always OpaqueCopyAnyToArgb - so always does a colorspace conversion to/from ARGB.</p>\n<p>Then in MaskBlit.setupGeneralBinaryOp it sets up converters for To/From ARGB.</p>\n<p>I tried forcing the convertsrc and convertdst fields in MaskBlit to be null, which avoids the color conversion, but then MakeBlit.MaskBlit (around line 219) calls performop.MaskBlit, and that throws a NPE.</p>\n<p>I found what appears to be relevant JDK bugs:\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8226923\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8226923</a>\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-6349627\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6349627</a></p>\n<p>I thought I might be able to make a Blit that would work, but it fails as the base class sun.java2d.loops.MaskBlit has a lot of native methods and subclassing doesn't seem to work.</p>\n<pre><code>sun.java2d.loops.GraphicsPrimitive add[] = { new MaskBlitCS() };\nsun.java2d.loops.GraphicsPrimitiveMgr.register(add);\n</code></pre>\n<p>fails with a</p>\n<pre><code>java.lang.UnsatisfiedLinkError: 'void sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class)'\n    at java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(Native Method)\n    at java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.&lt;clinit&gt;(GraphicsPrimitiveMgr.java:56)\n    at java.desktop/sun.java2d.loops.MaskBlit.&lt;clinit&gt;(MaskBlit.java:112)\n\n\n\npublic class MaskBlitCS extends sun.java2d.loops.MaskBlit {\n    private static final Logger log = LogManager.getLogger();\n\n    public MaskBlitCS(  final SurfaceType srctype,\n                    final CompositeType comptype,\n                    final SurfaceType dsttype) {\n        super(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\n    }\n\n    public MaskBlitCS() {\n        super(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\n    }\n\n    @Override\n    public synchronized void MaskBlit(  final SurfaceData srcData,\n                            final SurfaceData dstData,\n                            final Composite comp,\n                            final Region clip,\n                            final int srcx,\n                            final int srcy,\n                            final int dstx,\n                            final int dsty,\n                            final int width,\n                            final int height,\n                            final byte mask[],\n                            final int offset,\n                            final int scan) {\n        log.debug(&quot;MaskBlit: {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}&quot;, srcData, dstData, comp, clip, srcx, srcy, dstx, dsty, width, height, offset, scan);\n        SurfaceData src, dst;\n        Region opclip;\n        int sx, sy, dx, dy;\n\n        if (!srcData.getColorModel().equals(dstData.getColorModel())) {\n            throw new IllegalArgumentException(&quot;Color Models Must Match&quot;);\n        }\n\n        src = srcData;\n        sx = srcx;\n        sy = srcy;\n\n        dst = dstData;\n        dx = dstx;\n        dy = dsty;\n        opclip = clip;\n\n        Raster srcR = srcData.getRaster(sx, sy, width, height);\n        DataBuffer srcDB = srcR.getDataBuffer();\n        Raster dstR = dstData.getRaster(dx, dy, width, height);\n        DataBuffer dstDB = dstR.getDataBuffer();\n\n        log.debug(&quot;MaskBlit: SRC {}, {}, {}&quot;, srcDB.getDataType(), srcDB.getNumBanks(), srcDB.getSize());\n        log.debug(&quot;MaskBlit: DST {}, {}, {}&quot;, dstDB.getDataType(), dstDB.getNumBanks(), dstDB.getSize());\n\n    }\n}\n</code></pre>\n<p>Does anyone know of a way to use custom colorspaces without getting the ARGB conversions?</p>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643319412,"creation_date":1643319412,"answer_id":70886070,"question_id":70886028,"body_markdown":"Use the following instead:\r\n```java\r\npublic class CompSetResponse {\r\n  @JsonProperty(&quot;compset&quot;)\r\n  private List&lt;Competitor&gt; compset;\r\n}\r\n```\r\n\r\nYour current code is expecting a JSON as follows:\r\n```json\r\n{\r\n  &quot;ref&quot;: {\r\n    &quot;id&quot;: &quot;1011&quot;\r\n  },\r\n  &quot;compset&quot;: {\r\n    &quot;competitors&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;23412&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;27964&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;51193&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;74343&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;537157&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;542023&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;601732&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;793808&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;891169&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;1246443&quot;\r\n        }\r\n    ],\r\n  },\r\n   &quot;isCompliant&quot;: false,\r\n    &quot;updateTimestamp&quot;: null,\r\n    &quot;remainingMilliseconds&quot;: 0,\r\n    &quot;totalLockoutDays&quot;: 15\r\n}\r\n```","title":"how to serialize this json with jackson?","body":"<p>Use the following instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompSetResponse {\n  @JsonProperty(&quot;compset&quot;)\n  private List&lt;Competitor&gt; compset;\n}\n</code></pre>\n<p>Your current code is expecting a JSON as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ref&quot;: {\n    &quot;id&quot;: &quot;1011&quot;\n  },\n  &quot;compset&quot;: {\n    &quot;competitors&quot;: [\n        {\n          &quot;id&quot;: &quot;23412&quot;\n        },\n        {\n          &quot;id&quot;: &quot;27964&quot;\n        },\n        {\n          &quot;id&quot;: &quot;51193&quot;\n        },\n        {\n          &quot;id&quot;: &quot;74343&quot;\n        },\n        {\n          &quot;id&quot;: &quot;537157&quot;\n        },\n        {\n          &quot;id&quot;: &quot;542023&quot;\n        },\n        {\n          &quot;id&quot;: &quot;601732&quot;\n        },\n        {\n          &quot;id&quot;: &quot;793808&quot;\n        },\n        {\n          &quot;id&quot;: &quot;891169&quot;\n        },\n        {\n          &quot;id&quot;: &quot;1246443&quot;\n        }\n    ],\n  },\n   &quot;isCompliant&quot;: false,\n    &quot;updateTimestamp&quot;: null,\n    &quot;remainingMilliseconds&quot;: 0,\n    &quot;totalLockoutDays&quot;: 15\n}\n</code></pre>\n"}],"owner":{"display_name":"user17485523"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886070,"answer_count":1,"score":0,"last_activity_date":1643319412,"creation_date":1643319222,"question_id":70886028,"body_markdown":"I have incoming json which looks like this:\r\n\r\n    {\r\n      &quot;ref&quot;: {\r\n        &quot;id&quot;: &quot;1011&quot;\r\n      },\r\n      &quot;compset&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;23412&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;27964&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;51193&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;74343&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;537157&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;542023&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;601732&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;793808&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;891169&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;1246443&quot;\r\n          }\r\n     ],\r\n       &quot;isCompliant&quot;: false,\r\n        &quot;updateTimestamp&quot;: null,\r\n        &quot;remainingMilliseconds&quot;: 0,\r\n        &quot;totalLockoutDays&quot;: 15\r\n    }\r\n\r\nI have three classes that handle this response:\r\n\r\nfor &quot;id&quot; field:\r\n\r\n    public class Competitor {\r\n      @JsonProperty(&quot;id&quot;)\r\n      @JsonFormat(shape = JsonFormat.Shape.NUMBER_INT)\r\n      private Integer id; // this should be integer, can&#39;t change the type\r\n    }\r\n\r\nfor &quot;compset&quot; field:\r\n\r\n    public class PropertyCompetitorsModel {\r\n      private List&lt;Competitor&gt; competitors;\r\n    }\r\n\r\nfor response itself:\r\n\r\n    public class CompSetResponse {\r\n      @JsonProperty(&quot;compset&quot;)\r\n      private PropertyCompetitorsModel compset;\r\n    }\r\n\r\nAs you can see I need only compset field.\r\n\r\nWith code above I am having this error:\r\n\r\n    Cannot deserialize instance of PropertyCompetitorsModel out of START_ARRAY token\r\n\r\nJackson library is used","title":"how to serialize this json with jackson?","body":"<p>I have incoming json which looks like this:</p>\n<pre><code>{\n  &quot;ref&quot;: {\n    &quot;id&quot;: &quot;1011&quot;\n  },\n  &quot;compset&quot;: [\n      {\n        &quot;id&quot;: &quot;23412&quot;\n      },\n      {\n        &quot;id&quot;: &quot;27964&quot;\n      },\n      {\n        &quot;id&quot;: &quot;51193&quot;\n      },\n      {\n        &quot;id&quot;: &quot;74343&quot;\n      },\n      {\n        &quot;id&quot;: &quot;537157&quot;\n      },\n      {\n        &quot;id&quot;: &quot;542023&quot;\n      },\n      {\n        &quot;id&quot;: &quot;601732&quot;\n      },\n      {\n        &quot;id&quot;: &quot;793808&quot;\n      },\n      {\n        &quot;id&quot;: &quot;891169&quot;\n      },\n      {\n        &quot;id&quot;: &quot;1246443&quot;\n      }\n ],\n   &quot;isCompliant&quot;: false,\n    &quot;updateTimestamp&quot;: null,\n    &quot;remainingMilliseconds&quot;: 0,\n    &quot;totalLockoutDays&quot;: 15\n}\n</code></pre>\n<p>I have three classes that handle this response:</p>\n<p>for &quot;id&quot; field:</p>\n<pre><code>public class Competitor {\n  @JsonProperty(&quot;id&quot;)\n  @JsonFormat(shape = JsonFormat.Shape.NUMBER_INT)\n  private Integer id; // this should be integer, can't change the type\n}\n</code></pre>\n<p>for &quot;compset&quot; field:</p>\n<pre><code>public class PropertyCompetitorsModel {\n  private List&lt;Competitor&gt; competitors;\n}\n</code></pre>\n<p>for response itself:</p>\n<pre><code>public class CompSetResponse {\n  @JsonProperty(&quot;compset&quot;)\n  private PropertyCompetitorsModel compset;\n}\n</code></pre>\n<p>As you can see I need only compset field.</p>\n<p>With code above I am having this error:</p>\n<pre><code>Cannot deserialize instance of PropertyCompetitorsModel out of START_ARRAY token\n</code></pre>\n<p>Jackson library is used</p>\n"},{"tags":["java","visitor-pattern"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":1,"creation_date":1431693561,"post_id":30259243,"comment_id":48619106,"body_markdown":"_actually it gives a nice boost in my scenario_ . really ? How?","body":"<i>actually it gives a nice boost in my scenario</i> . really ? How?"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1431693686,"post_id":30259243,"comment_id":48619190,"body_markdown":"Yes, I would also like to see the measured numbers.","body":"Yes, I would also like to see the measured numbers."},{"owner":{"account_id":2050891,"reputation":8031,"user_id":1829943,"accept_rate":84,"display_name":"CoffeDeveloper"},"score":0,"creation_date":1431693996,"post_id":30259243,"comment_id":48619394,"body_markdown":"15% faster. exploited that in 20 places over 25 methods (the real visitor has 25 methods for now). Also easier to debug because stack trace becomes smaller, why timing matters for you?","body":"15% faster. exploited that in 20 places over 25 methods (the real visitor has 25 methods for now). Also easier to debug because stack trace becomes smaller, why timing matters for you?"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431694304,"post_id":30259243,"comment_id":48619607,"body_markdown":"relevant - double-dispatch without visitor pattern - http://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598","body":"relevant - double-dispatch without visitor pattern - <a href=\"http://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598\" title=\"java class cast and overload\">stackoverflow.com/questions/21032017/&hellip;</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431694414,"post_id":30259243,"comment_id":48619702,"body_markdown":"@Jayan - it&#39;s plausible. the new code is much easier to optimize for JVM; it&#39;s probably inlined.","body":"@Jayan - it&#39;s plausible. the new code is much easier to optimize for JVM; it&#39;s probably inlined."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1431694557,"post_id":30259243,"comment_id":48619809,"body_markdown":"I would like to see a number after running tests with JMH(http://openjdk.java.net/projects/code-tools/jmh/).  My feeling once the method runs of some time, JVM optimization as good as you can get.","body":"I would like to see a number after running tests with JMH(<a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/code-tools/jmh</a>).  My feeling once the method runs of some time, JVM optimization as good as you can get."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431695003,"post_id":30259243,"comment_id":48620134,"body_markdown":"@Jayan if he has 20 leaf node types among 25 node types, it is very believable.","body":"@Jayan if he has 20 leaf node types among 25 node types, it is very believable."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431693856,"creation_date":1431693856,"answer_id":30259872,"question_id":30259243,"body_markdown":"Could it cause problems?  Hard to say.  (I guess it could cause surprises if the grammar changed ...)\r\n\r\nBut I think the real issue is whether this is a **worthwhile** optimization.  Specifically, is saving two method calls going to make a significant difference in the big picture?  My intuition is that it wouldn&#39;t.\r\n\r\nAnd does the performance of this interpreter really matter?\r\n\r\nAnd if it does, why are you using the visitor pattern in the interpreter?  Shouldn&#39;t you be compiling to an intermediate virtual machine code?  Or to bytecodes?\r\n\r\n","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>Could it cause problems?  Hard to say.  (I guess it could cause surprises if the grammar changed ...)</p>\n\n<p>But I think the real issue is whether this is a <strong>worthwhile</strong> optimization.  Specifically, is saving two method calls going to make a significant difference in the big picture?  My intuition is that it wouldn't.</p>\n\n<p>And does the performance of this interpreter really matter?</p>\n\n<p>And if it does, why are you using the visitor pattern in the interpreter?  Shouldn't you be compiling to an intermediate virtual machine code?  Or to bytecodes?</p>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431694157,"creation_date":1431694157,"answer_id":30259974,"question_id":30259243,"body_markdown":"In this case it would not be a Visitor pattern. And it does not have to be if it suits your requirements, visitors are often misused and lead to over-architecturing.\r\n\r\nHowever, you will loose potential benefits. For example, you will not be able to create a decorator or proxy for Ident and do something additional in the accept method before forwarding the call to the decorated/proxied object.","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>In this case it would not be a Visitor pattern. And it does not have to be if it suits your requirements, visitors are often misused and lead to over-architecturing.</p>\n\n<p>However, you will loose potential benefits. For example, you will not be able to create a decorator or proxy for Ident and do something additional in the accept method before forwarding the call to the decorated/proxied object.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431696134,"creation_date":1431694941,"answer_id":30260245,"question_id":30259243,"body_markdown":"Visitor is just a complicated scaffold to implement double-dispatch on languages like Java. \r\n\r\nWhen you deal with leaf types, you don&#39;t need double-dispatch; the runtime type is known at the compile time. Dispatch a leaf type directly is not only an optimization, it&#39;s more out of principle.\r\n\r\n\r\nOf course, the problem is, in future, a leaf type may become a super type. With today&#39;s refactor tool in IDEs, this is not a huge problem. \r\n\r\nIt is better to make a simple design for present&#39;s requirement, than to make a complex design for unknown future requirements.\r\n\r\n---\r\n\r\nIn java 8, we can implement double-dispatch with a syntax that&#39;s very close to the real double-dispatch\r\n\r\n    final DoubleDispatch&lt;Root,Void&gt; dd = new DoubleDispatch&lt;&gt;();\r\n\r\n    dd.register(X.class, x-&gt;\r\n    {\r\n        do something with x; its compile time type is X\r\n        return null;\r\n    });\r\n    dd.register(Y.class, y-&gt;\r\n    {\r\n        do something with y; its compile time type is Y\r\n        return null;\r\n    });\r\n    // etc\r\n\r\n    ...\r\n    dd.invoke( something );\r\n\r\n\r\n\r\n    // ----\r\n\r\n    public class DoubleDispatch&lt;T, R&gt;\r\n    {\r\n        public R invoke(T obj){...}\r\n\r\n        public &lt;C extends T&gt; void register(Class&lt;C&gt; type, Function&lt;C,R&gt; func){...}\r\n    }\r\n\r\nsee also - https://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>Visitor is just a complicated scaffold to implement double-dispatch on languages like Java. </p>\n\n<p>When you deal with leaf types, you don't need double-dispatch; the runtime type is known at the compile time. Dispatch a leaf type directly is not only an optimization, it's more out of principle.</p>\n\n<p>Of course, the problem is, in future, a leaf type may become a super type. With today's refactor tool in IDEs, this is not a huge problem. </p>\n\n<p>It is better to make a simple design for present's requirement, than to make a complex design for unknown future requirements.</p>\n\n<hr>\n\n<p>In java 8, we can implement double-dispatch with a syntax that's very close to the real double-dispatch</p>\n\n<pre><code>final DoubleDispatch&lt;Root,Void&gt; dd = new DoubleDispatch&lt;&gt;();\n\ndd.register(X.class, x-&gt;\n{\n    do something with x; its compile time type is X\n    return null;\n});\ndd.register(Y.class, y-&gt;\n{\n    do something with y; its compile time type is Y\n    return null;\n});\n// etc\n\n...\ndd.invoke( something );\n\n\n\n// ----\n\npublic class DoubleDispatch&lt;T, R&gt;\n{\n    public R invoke(T obj){...}\n\n    public &lt;C extends T&gt; void register(Class&lt;C&gt; type, Function&lt;C,R&gt; func){...}\n}\n</code></pre>\n\n<p>see also - <a href=\"https://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598\">Java Class.cast() and Overload</a></p>\n"}],"owner":{"account_id":2050891,"reputation":8031,"user_id":1829943,"accept_rate":84,"display_name":"CoffeDeveloper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":30260245,"answer_count":3,"score":7,"last_activity_date":1643319138,"creation_date":1431691887,"question_id":30259243,"body_markdown":"Consider the following visitor for a simple language interpreter.\r\n\r\n    public interface Visitor{\r\n        void visit( VarStat vs);\r\n        void visit( Ident i);\r\n        void visit( IntLiteral a);\r\n        void visit( Sum s);\r\n    }\r\n\r\nFor completeness I add some code that gives necessary implementation details (you can skip and read directly the question).\r\n\r\n    public interface Visitable{\r\n        void accept( Visitor v);\r\n    }\r\n\r\n    public class VarStat implements Visitable{\r\n        Ident i;\r\n        Exp   e;\r\n\r\n        public VarStat(Ident id, Exp ex){\r\n            i = id;\r\n            e = ex;\r\n        }\r\n        \r\n        public Ident getIdent() { return i; }\r\n        public Exp getExp() { return e; }\r\n\r\n        @Override\r\n        public void accept( Visitor v){\r\n            v.visit( this);\r\n        }\r\n    }\r\n\r\n    public interface Exp extends Visitable{\r\n\r\n    }\r\n\r\n    public class Ident implements Exp{\r\n        @Override\r\n        public void accept( Visitor v){\r\n            v.visit( this);\r\n        }\r\n    }\r\na var statement is defined like that:\r\n\r\n    VarStat ::== var Ident = Exp;\r\n    Exp ::== Exp + Exp | IntLiteral | Ident\r\n    IntLiteral ::== [0-9]{0,8}\r\n    Ident ::== [a-zA-Z]+\r\n\r\na valid language instance\r\n\r\n    var x = x+y+4;\r\n\r\nAn abstract way to represent the `VarStat` node is the following:\r\n\r\n    .               _____VarStat _____\r\n    .              /       /  | \\     \\ \r\n    .             /       /   |  \\     \\  \r\n    .            /       /    |   \\     \\\r\n    .         &quot;var&quot;   Ident  &quot;=&quot;  Exp   &quot;;&quot;\r\n\r\n______\r\n**The Question**\r\n\r\nThe usual VisitorPattern application would be\r\n\r\n    void visit( VarStat vs){\r\n         vs.getIdent().accept( this);\r\n         vs.getExp().accept( this);\r\n         //...\r\n    }\r\n\r\nhowever, since I know &quot;Ident&quot; is of type `Ident` a possible optimization is\r\n \r\n    void visit( VarStat vs){\r\n\r\n         visit( vs.getIdent());\r\n         vs.getExp().accept( this);\r\n         //...\r\n    }\r\n\r\nThat would skip 2 method calls improving the performance (actually it gives a nice boost in my scenario).\r\n\r\nIs that considered a design error that could lead to future problems?","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>Consider the following visitor for a simple language interpreter.</p>\n\n<pre><code>public interface Visitor{\n    void visit( VarStat vs);\n    void visit( Ident i);\n    void visit( IntLiteral a);\n    void visit( Sum s);\n}\n</code></pre>\n\n<p>For completeness I add some code that gives necessary implementation details (you can skip and read directly the question).</p>\n\n<pre><code>public interface Visitable{\n    void accept( Visitor v);\n}\n\npublic class VarStat implements Visitable{\n    Ident i;\n    Exp   e;\n\n    public VarStat(Ident id, Exp ex){\n        i = id;\n        e = ex;\n    }\n\n    public Ident getIdent() { return i; }\n    public Exp getExp() { return e; }\n\n    @Override\n    public void accept( Visitor v){\n        v.visit( this);\n    }\n}\n\npublic interface Exp extends Visitable{\n\n}\n\npublic class Ident implements Exp{\n    @Override\n    public void accept( Visitor v){\n        v.visit( this);\n    }\n}\n</code></pre>\n\n<p>a var statement is defined like that:</p>\n\n<pre><code>VarStat ::== var Ident = Exp;\nExp ::== Exp + Exp | IntLiteral | Ident\nIntLiteral ::== [0-9]{0,8}\nIdent ::== [a-zA-Z]+\n</code></pre>\n\n<p>a valid language instance</p>\n\n<pre><code>var x = x+y+4;\n</code></pre>\n\n<p>An abstract way to represent the <code>VarStat</code> node is the following:</p>\n\n<pre><code>.               _____VarStat _____\n.              /       /  | \\     \\ \n.             /       /   |  \\     \\  \n.            /       /    |   \\     \\\n.         \"var\"   Ident  \"=\"  Exp   \";\"\n</code></pre>\n\n<hr>\n\n<p><strong>The Question</strong></p>\n\n<p>The usual VisitorPattern application would be</p>\n\n<pre><code>void visit( VarStat vs){\n     vs.getIdent().accept( this);\n     vs.getExp().accept( this);\n     //...\n}\n</code></pre>\n\n<p>however, since I know \"Ident\" is of type <code>Ident</code> a possible optimization is</p>\n\n<pre><code>void visit( VarStat vs){\n\n     visit( vs.getIdent());\n     vs.getExp().accept( this);\n     //...\n}\n</code></pre>\n\n<p>That would skip 2 method calls improving the performance (actually it gives a nice boost in my scenario).</p>\n\n<p>Is that considered a design error that could lead to future problems?</p>\n"},{"tags":["java","android","android-intent","contacts"],"comments":[{"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"score":0,"creation_date":1643312424,"post_id":70884646,"comment_id":125313127,"body_markdown":"@AliasCartellano i am not sure that&#39;s what i need. When you add a contact android gives an add button on the bottom. I want that to be pressed.","body":"@AliasCartellano i am not sure that&#39;s what i need. When you add a contact android gives an add button on the bottom. I want that to be pressed."}],"answers":[{"tags":[],"owner":{"account_id":24063423,"reputation":102,"user_id":18040331,"display_name":"IlyaFromRussia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643318916,"creation_date":1643318916,"answer_id":70885982,"question_id":70884646,"body_markdown":"You can use button.performClick().\r\nIf you need demonstrate that button was clicked you can use ***my sample***:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            val button = findViewById&lt;Button&gt;(R.id.button)\r\n            // this code demonstrate success work\r\n            button.setOnClickListener {\r\n                Toast.makeText(this, &quot;event occurred&quot;, Toast.LENGTH_LONG).show()\r\n            }\r\n    \r\n            // create event with your params\r\n            var ev = MotionEvent.obtain(1L, System.currentTimeMillis(),0, button.x, button.y, 0)\r\n    \r\n    \r\n            val b2 = findViewById&lt;Button&gt;(R.id.button2)\r\n            b2.setOnClickListener {\r\n                button.onTouchEvent(ev)\r\n            }\r\n        }\r\n    }","title":"How to press Save Contact Button Programmatically","body":"<p>You can use button.performClick().\nIf you need demonstrate that button was clicked you can use <em><strong>my sample</strong></em>:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val button = findViewById&lt;Button&gt;(R.id.button)\n        // this code demonstrate success work\n        button.setOnClickListener {\n            Toast.makeText(this, &quot;event occurred&quot;, Toast.LENGTH_LONG).show()\n        }\n\n        // create event with your params\n        var ev = MotionEvent.obtain(1L, System.currentTimeMillis(),0, button.x, button.y, 0)\n\n\n        val b2 = findViewById&lt;Button&gt;(R.id.button2)\n        b2.setOnClickListener {\n            button.onTouchEvent(ev)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19864250,"reputation":104,"user_id":15473634,"display_name":"user15473634"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70885982,"answer_count":1,"score":1,"last_activity_date":1643318916,"creation_date":1643311928,"question_id":70884646,"body_markdown":"I Have code which takes my to the save contact screen, fills the details i need, however i need it to now just automatically press save contact too. Does anyone know how? Or if it is even possible.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Intent contactIntent = new Intent(ContactsContract.Intents.Insert.ACTION);\r\n        contactIntent.setType(ContactsContract.RawContacts.CONTENT_TYPE);\r\n\r\n        contactIntent\r\n                .putExtra(ContactsContract.Intents.Insert.NAME, &quot;Contact Name&quot;)\r\n                .putExtra(ContactsContract.Intents.Insert.PHONE, &quot;123456789&quot;);\r\n\r\n        startActivityForResult(contactIntent, 1);\r\n\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\r\n        super.onActivityResult(requestCode, resultCode, intent);\r\n\r\n        if (requestCode == 1)\r\n        {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                Toast.makeText(this, &quot;Added Contact&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            if (resultCode == Activity.RESULT_CANCELED) {\r\n                Toast.makeText(this, &quot;Cancelled Added Contact&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"How to press Save Contact Button Programmatically","body":"<p>I Have code which takes my to the save contact screen, fills the details i need, however i need it to now just automatically press save contact too. Does anyone know how? Or if it is even possible.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Intent contactIntent = new Intent(ContactsContract.Intents.Insert.ACTION);\n        contactIntent.setType(ContactsContract.RawContacts.CONTENT_TYPE);\n\n        contactIntent\n                .putExtra(ContactsContract.Intents.Insert.NAME, &quot;Contact Name&quot;)\n                .putExtra(ContactsContract.Intents.Insert.PHONE, &quot;123456789&quot;);\n\n        startActivityForResult(contactIntent, 1);\n\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n\n        if (requestCode == 1)\n        {\n            if (resultCode == Activity.RESULT_OK) {\n                Toast.makeText(this, &quot;Added Contact&quot;, Toast.LENGTH_SHORT).show();\n            }\n            if (resultCode == Activity.RESULT_CANCELED) {\n                Toast.makeText(this, &quot;Cancelled Added Contact&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":317980,"reputation":11814,"user_id":634958,"accept_rate":100,"display_name":"S1LENT WARRIOR"},"score":1,"creation_date":1613601745,"post_id":66250732,"comment_id":117129047,"body_markdown":"In order to get an answer to your question, you need to understand what does `&lt;? extends T&gt;` means? Here is an SO question that might be helpful: https://stackoverflow.com/q/897935/634958","body":"In order to get an answer to your question, you need to understand what does <code>&lt;? extends T&gt;</code> means? Here is an SO question that might be helpful: <a href=\"https://stackoverflow.com/q/897935/634958\">stackoverflow.com/q/897935/634958</a>"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613624938,"creation_date":1613624938,"answer_id":66253986,"question_id":66250732,"body_markdown":"The really long explanation I did for myself too, [is here][1]; if you want to read it. Plus this is related to [capture conversion][2].\r\n\r\n\r\nIn short, the compiler simply can&#39;t prove that a wildcard capture is compatible with `T`, in your case. If you run with: `javac --debug=verboseResolution=all ...`, you will see an error like:\r\n\r\n    ....\r\n    (argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\r\n\r\nSo a _capture conversion_ (`CAP#1`) can&#39;t simply satisfy the compiler here. The way to make it work is to introduce one more capture, via `...&lt;? extends T&gt;`. This can be proven by the compiler that `? extends Child` is `&lt;:` (notation explained in the second link) of `? extends T`; thus covariance is established. \r\n\r\nIt is also said that a &quot;bounded wildcard makes the type covariant&quot;.  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27902219/nested-wildcards/58631449#58631449\r\n  [2]: https://stackoverflow.com/questions/63947339/why-is-this-assignment-involving-wildcards-legal-in-java/63962748#63962748","title":"Generic method with redundant type parameter","body":"<p>The really long explanation I did for myself too, <a href=\"https://stackoverflow.com/questions/27902219/nested-wildcards/58631449#58631449\">is here</a>; if you want to read it. Plus this is related to <a href=\"https://stackoverflow.com/questions/63947339/why-is-this-assignment-involving-wildcards-legal-in-java/63962748#63962748\">capture conversion</a>.</p>\n<p>In short, the compiler simply can't prove that a wildcard capture is compatible with <code>T</code>, in your case. If you run with: <code>javac --debug=verboseResolution=all ...</code>, you will see an error like:</p>\n<pre><code>....\n(argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\n</code></pre>\n<p>So a <em>capture conversion</em> (<code>CAP#1</code>) can't simply satisfy the compiler here. The way to make it work is to introduce one more capture, via <code>...&lt;? extends T&gt;</code>. This can be proven by the compiler that <code>? extends Child</code> is <code>&lt;:</code> (notation explained in the second link) of <code>? extends T</code>; thus covariance is established.</p>\n<p>It is also said that a &quot;bounded wildcard makes the type covariant&quot;.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1614554446,"creation_date":1614554446,"answer_id":66414855,"question_id":66250732,"body_markdown":"The type `Class&lt;Parent&lt;? extends Child&gt;&gt;` can be passed to the first signature and cannot be passed to the second, and since `Class&lt;Parent&lt;? extends Child&gt;&gt;` can be assigned to a `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;`, it follows that `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;` also cannot be passed to the second signature.\r\n\r\nSo the question reduces to why `Class&lt;Parent&lt;? extends Child&gt;&gt;` cannot be passed to the second signature (`&lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt; clazz)`). We can see that that is because `Parent&lt;? extends Child&gt;` cannot a subtype of `Parent&lt;T&gt;`, no matter what specific type you choose for `T`. (`Parent&lt;T&gt;` is a subtype of `Parent&lt;? extends Child&gt;`, but not the other way around.)\r\n\r\nConsider the equivalent question of why `List&lt;Parent&lt;? extends Child&gt;&gt;` cannot be passed to a signature of `&lt;T extends Child&gt; Parent&lt;T&gt; error(List&lt;? extends Parent&lt;T&gt;&gt; clazz)`. A `List&lt;Parent&lt;? extends Child&gt;&gt;` allows you to add both `Parent&lt;ChildA&gt;` and `Parent&lt;ChildB&gt;` elements into the same list at the same time. In other words, it is a &quot;heterogenous list&quot;. On the other hand, for any given choice of `T`, a `List&lt;Parent&lt;T&gt;&gt;` (or `List&lt;SubclassOfParent&lt;T&gt;&gt;`) is a list that can only contain `Parent` objects of a single type argument. It is a &quot;homogenous list&quot;. Even if generics allows you to operate on homogenous lists of various type arguments generically, homogenous lists are still different beasts from heterogenous lists. The two are incompatible.","title":"Generic method with redundant type parameter","body":"<p>The type <code>Class&lt;Parent&lt;? extends Child&gt;&gt;</code> can be passed to the first signature and cannot be passed to the second, and since <code>Class&lt;Parent&lt;? extends Child&gt;&gt;</code> can be assigned to a <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code>, it follows that <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code> also cannot be passed to the second signature.</p>\n<p>So the question reduces to why <code>Class&lt;Parent&lt;? extends Child&gt;&gt;</code> cannot be passed to the second signature (<code>&lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt; clazz)</code>). We can see that that is because <code>Parent&lt;? extends Child&gt;</code> cannot a subtype of <code>Parent&lt;T&gt;</code>, no matter what specific type you choose for <code>T</code>. (<code>Parent&lt;T&gt;</code> is a subtype of <code>Parent&lt;? extends Child&gt;</code>, but not the other way around.)</p>\n<p>Consider the equivalent question of why <code>List&lt;Parent&lt;? extends Child&gt;&gt;</code> cannot be passed to a signature of <code>&lt;T extends Child&gt; Parent&lt;T&gt; error(List&lt;? extends Parent&lt;T&gt;&gt; clazz)</code>. A <code>List&lt;Parent&lt;? extends Child&gt;&gt;</code> allows you to add both <code>Parent&lt;ChildA&gt;</code> and <code>Parent&lt;ChildB&gt;</code> elements into the same list at the same time. In other words, it is a &quot;heterogenous list&quot;. On the other hand, for any given choice of <code>T</code>, a <code>List&lt;Parent&lt;T&gt;&gt;</code> (or <code>List&lt;SubclassOfParent&lt;T&gt;&gt;</code>) is a list that can only contain <code>Parent</code> objects of a single type argument. It is a &quot;homogenous list&quot;. Even if generics allows you to operate on homogenous lists of various type arguments generically, homogenous lists are still different beasts from heterogenous lists. The two are incompatible.</p>\n"}],"owner":{"account_id":414883,"reputation":167,"user_id":789365,"display_name":"Philippe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66414855,"answer_count":2,"score":5,"last_activity_date":1643318878,"creation_date":1613600252,"question_id":66250732,"body_markdown":"I have problems understanding the differences between the following two method signatures.\r\n\r\n```java\r\nabstract class Example {\r\n  void test() {\r\n    Class&lt;? extends Parent&lt;? extends Child&gt;&gt; clazz = null;\r\n\r\n    works(clazz);\r\n    error(clazz); // Error\r\n  }\r\n\r\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; works(Class&lt;? extends Parent&lt;? extends T&gt;&gt; clazz);\r\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt;           clazz);\r\n\r\n  interface Child {}\r\n  interface Parent&lt;U extends Child&gt; {}\r\n}\r\n```\r\n\r\nCompiling this code gives the following error (Tested with 1.8.0_271, 11.0.9 and 15.0.1). \r\n\r\n    …/src/main/java/Example.java:6:5\r\n    java: method error in class Example cannot be applied to given types;\r\n      required: java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;\r\n      found: java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt;\r\n      reason: cannot infer type-variable(s) T\r\n        (argument mismatch; java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt; cannot be converted to java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;)\r\n\r\nWhy is `? extends` needed? T already extends Child in the type parameter (`T extends Child`) and this additional `? extends` seems redundant to me.\r\n\r\n----\r\n\r\nUpdate:\r\n\r\nStarting javac with `-DverboseResolution=all` is a bit more descriptive but still confusing\r\n\r\n    …src/main/java/Example.java:6: error: method error in class Example cannot be applied to given types;\r\n        error(clazz); // Error\r\n        ^\r\n      required: Class&lt;? extends Parent&lt;T&gt;&gt;\r\n      found: Class&lt;CAP#1&gt;\r\n      reason: cannot infer type-variable(s) T\r\n        (argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\r\n      where T is a type-variable:\r\n        T extends Child declared in method &lt;T&gt;error(Class&lt;? extends Parent&lt;T&gt;&gt;)\r\n      where CAP#1 is a fresh type-variable:\r\n        CAP#1 extends Parent&lt;? extends Child&gt; from capture of ? extends Parent&lt;? extends Child&gt;\r\n\r\nInterpreting this:\r\n\r\nRequired is `Class&lt;? extends Parent&lt;T&gt;&gt;`. `T` is `extends Child`. So let&#39;s put this together into `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;`.\r\n\r\nFound is `Class&lt;CAP#1&gt;`. `CAP#1` is `extends Parent&lt;? extends Child&gt;`. Together this gives me `Class&lt;? extends Parent&lt;? extends Child&gt;&gt;`\r\n\r\nSo both signatures are the same?!?\r\n\r\n---\r\n\r\nUpdate:\r\n\r\nCompiling this code in Eclipse works. In contrast to javac the Eclipse compiler treats the signatures as the same.","title":"Generic method with redundant type parameter","body":"<p>I have problems understanding the differences between the following two method signatures.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Example {\n  void test() {\n    Class&lt;? extends Parent&lt;? extends Child&gt;&gt; clazz = null;\n\n    works(clazz);\n    error(clazz); // Error\n  }\n\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; works(Class&lt;? extends Parent&lt;? extends T&gt;&gt; clazz);\n  abstract &lt;T extends Child&gt; Parent&lt;T&gt; error(Class&lt;? extends Parent&lt;T&gt;&gt;           clazz);\n\n  interface Child {}\n  interface Parent&lt;U extends Child&gt; {}\n}\n</code></pre>\n<p>Compiling this code gives the following error (Tested with 1.8.0_271, 11.0.9 and 15.0.1).</p>\n<pre><code>…/src/main/java/Example.java:6:5\njava: method error in class Example cannot be applied to given types;\n  required: java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;\n  found: java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt;\n  reason: cannot infer type-variable(s) T\n    (argument mismatch; java.lang.Class&lt;capture#1 of ? extends Example.Parent&lt;? extends Example.Child&gt;&gt; cannot be converted to java.lang.Class&lt;? extends Example.Parent&lt;T&gt;&gt;)\n</code></pre>\n<p>Why is <code>? extends</code> needed? T already extends Child in the type parameter (<code>T extends Child</code>) and this additional <code>? extends</code> seems redundant to me.</p>\n<hr />\n<p>Update:</p>\n<p>Starting javac with <code>-DverboseResolution=all</code> is a bit more descriptive but still confusing</p>\n<pre><code>…src/main/java/Example.java:6: error: method error in class Example cannot be applied to given types;\n    error(clazz); // Error\n    ^\n  required: Class&lt;? extends Parent&lt;T&gt;&gt;\n  found: Class&lt;CAP#1&gt;\n  reason: cannot infer type-variable(s) T\n    (argument mismatch; Class&lt;CAP#1&gt; cannot be converted to Class&lt;? extends Parent&lt;T&gt;&gt;)\n  where T is a type-variable:\n    T extends Child declared in method &lt;T&gt;error(Class&lt;? extends Parent&lt;T&gt;&gt;)\n  where CAP#1 is a fresh type-variable:\n    CAP#1 extends Parent&lt;? extends Child&gt; from capture of ? extends Parent&lt;? extends Child&gt;\n</code></pre>\n<p>Interpreting this:</p>\n<p>Required is <code>Class&lt;? extends Parent&lt;T&gt;&gt;</code>. <code>T</code> is <code>extends Child</code>. So let's put this together into <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code>.</p>\n<p>Found is <code>Class&lt;CAP#1&gt;</code>. <code>CAP#1</code> is <code>extends Parent&lt;? extends Child&gt;</code>. Together this gives me <code>Class&lt;? extends Parent&lt;? extends Child&gt;&gt;</code></p>\n<p>So both signatures are the same?!?</p>\n<hr />\n<p>Update:</p>\n<p>Compiling this code in Eclipse works. In contrast to javac the Eclipse compiler treats the signatures as the same.</p>\n"},{"tags":["java","download"],"comments":[{"owner":{"account_id":949245,"reputation":796,"user_id":975773,"accept_rate":67,"display_name":"Shobit"},"score":0,"creation_date":1381902382,"post_id":19396008,"comment_id":28748485,"body_markdown":"I would suggest adding to the question things you&#39;ve tried already.  Did it not work the way you tried it?  If you just want to know how to open and read a URL using Java, a Google search would help. Here&#39;s the first link that&#39;s returned when you query &quot;URL java read&quot; http://docs.oracle.com/javase/tutorial/networking/urls/readingURL.html","body":"I would suggest adding to the question things you&#39;ve tried already.  Did it not work the way you tried it?  If you just want to know how to open and read a URL using Java, a Google search would help. Here&#39;s the first link that&#39;s returned when you query &quot;URL java read&quot; <a href=\"http://docs.oracle.com/javase/tutorial/networking/urls/readingURL.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/networking/urls/readingURL.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":0,"creation_date":1542436457,"post_id":19396008,"comment_id":93575896,"body_markdown":"Possible duplicate of [How to download and save a file from Internet using Java?](https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\">How to download and save a file from Internet using Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":391713,"reputation":17170,"user_id":752527,"accept_rate":100,"display_name":"Hanlet Esca&#241;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381902764,"creation_date":1381902199,"answer_id":19396049,"question_id":19396008,"body_markdown":"Try this:\r\n\r\n   \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n\r\n    class HttpHelperx\r\n    {\r\n       public static String GET(String url)\r\n       {\r\n          String result = &quot;&quot;;\r\n          \r\n          try \r\n          {\r\n             URL navUrl = new URL(url);\r\n             URLConnection con = (URLConnection)navUrl.openConnection();\r\n            \r\n             result = getContent(con);\r\n     \r\n          } \r\n          catch (MalformedURLException e) \r\n          {\r\n    \t     e.printStackTrace();\r\n          } \r\n          catch (IOException e) \r\n          {\r\n    \t     e.printStackTrace();\r\n          }\r\n          \r\n          return result;\r\n       }\r\n       \r\n       public static String getContent(URLConnection con)\r\n       {\r\n          String result = &quot;&quot;;\r\n          if(con!=null)\r\n          {\r\n             BufferedReader br;\r\n             try \r\n             {\r\n                br = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                StringBuilder buffer = new StringBuilder();\r\n                String aux = &quot;&quot;;\r\n    \r\n                while ((aux = br.readLine()) != null)\r\n                {\r\n                   buffer.append(aux);\r\n                }\r\n                result = buffer.toString();\r\n                br.close();\r\n             } \r\n             catch (IOException e) \r\n             {\r\n                e.printStackTrace();\r\n             }\r\n          }\r\n          \r\n          return result;\r\n       }\r\n    }\r\n\r\nTo use it:\r\n    \r\n    public class HTTPHelperDriver\r\n    {\r\n       public static void main(String[] args)\r\n          throws Exception\r\n       {\r\n          String response = HttpHelperx.GET(&quot;http://www.google.com&quot;);\r\n          System.out.println(response); \r\n       }\r\n    }","title":"Open URL In java","body":"<p>Try this:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLConnection;\n\nclass HttpHelperx\n{\n   public static String GET(String url)\n   {\n      String result = \"\";\n\n      try \n      {\n         URL navUrl = new URL(url);\n         URLConnection con = (URLConnection)navUrl.openConnection();\n\n         result = getContent(con);\n\n      } \n      catch (MalformedURLException e) \n      {\n         e.printStackTrace();\n      } \n      catch (IOException e) \n      {\n         e.printStackTrace();\n      }\n\n      return result;\n   }\n\n   public static String getContent(URLConnection con)\n   {\n      String result = \"\";\n      if(con!=null)\n      {\n         BufferedReader br;\n         try \n         {\n            br = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            StringBuilder buffer = new StringBuilder();\n            String aux = \"\";\n\n            while ((aux = br.readLine()) != null)\n            {\n               buffer.append(aux);\n            }\n            result = buffer.toString();\n            br.close();\n         } \n         catch (IOException e) \n         {\n            e.printStackTrace();\n         }\n      }\n\n      return result;\n   }\n}\n</code></pre>\n\n<p>To use it:</p>\n\n<pre><code>public class HTTPHelperDriver\n{\n   public static void main(String[] args)\n      throws Exception\n   {\n      String response = HttpHelperx.GET(\"http://www.google.com\");\n      System.out.println(response); \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2583756,"reputation":1767,"user_id":2239904,"display_name":"angel_navarro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381902221,"creation_date":1381902221,"answer_id":19396054,"question_id":19396008,"body_markdown":"I have found this:\r\n\r\n    URL website = new URL(&quot;http://www.website.com/information.asp&quot;);\r\n    ReadableByteChannel rbc = Channels.newChannel(website.openStream());\r\n    FileOutputStream fos = new FileOutputStream(&quot;information.html&quot;);\r\n    fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n\r\nIn this article: https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\r\n\r\nI hope this helps you","title":"Open URL In java","body":"<p>I have found this:</p>\n\n<pre><code>URL website = new URL(\"http://www.website.com/information.asp\");\nReadableByteChannel rbc = Channels.newChannel(website.openStream());\nFileOutputStream fos = new FileOutputStream(\"information.html\");\nfos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n</code></pre>\n\n<p>In this article: <a href=\"https://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java\">How to download and save a file from Internet using Java?</a></p>\n\n<p>I hope this helps you</p>\n"},{"tags":[],"owner":{"account_id":24074354,"reputation":102,"user_id":18049904,"display_name":"Mpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318732,"creation_date":1643300978,"answer_id":70882184,"question_id":19396008,"body_markdown":"You can use this code:\r\n\r\n```\r\ntry {\r\n    //specify the protocol along with the URL\r\n    URI oURL = new URI(&quot;https://www.google.com/&quot;);\r\n    desktop.browse(oURL);\r\n} catch (URISyntaxException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n} catch (IOException e1) {\r\n    // TODO Auto-generated catch block\r\n    e1.printStackTrace();\r\n}\r\n```","title":"Open URL In java","body":"<p>You can use this code:</p>\n<pre><code>try {\n    //specify the protocol along with the URL\n    URI oURL = new URI(&quot;https://www.google.com/&quot;);\n    desktop.browse(oURL);\n} catch (URISyntaxException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n} catch (IOException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":3424927,"reputation":282,"user_id":2870927,"accept_rate":17,"display_name":"Aanshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1643318732,"creation_date":1381902048,"question_id":19396008,"body_markdown":"How to open URL in java?\r\n\r\n    E.g i have https://www.iformbuilder.com/exzact/dataExcelFeed.php?\r\n    PAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-1\r\nwhen we go to this URL it will download the file.But how to implement this thing in code?\r\n\r\nI try this to open url so that file will be downloaded.But its not working.\r\n\r\n    URL url = new URL(&quot;https://www.iformbuilder.com/exzact/dataExcelFeed.php?PAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-16&quot;);\r\n\t\tHttpURLConnection urlCon = (HttpURLConnection) url.openConnection();\r\n\t\tSystem.out.println(urlCon);\r\n\t\turlCon.connect();\r\n\r\nI know something is wrong But i dont knw whats dat","title":"Open URL In java","body":"<p>How to open URL in java?</p>\n\n<pre><code>E.g i have https://www.iformbuilder.com/exzact/dataExcelFeed.php?\nPAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-1\n</code></pre>\n\n<p>when we go to this URL it will download the file.But how to implement this thing in code?</p>\n\n<p>I try this to open url so that file will be downloaded.But its not working.</p>\n\n<pre><code>URL url = new URL(\"https://www.iformbuilder.com/exzact/dataExcelFeed.php?PAGE_ID=3175952&amp;TABLE_NAME=_data399173_eff_sor&amp;ANALYTIC=1&amp;SINCE_DATE=2013-10-16\");\n    HttpURLConnection urlCon = (HttpURLConnection) url.openConnection();\n    System.out.println(urlCon);\n    urlCon.connect();\n</code></pre>\n\n<p>I know something is wrong But i dont knw whats dat</p>\n"},{"tags":["java","xml","xslt","xpath"],"answers":[{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499944614,"creation_date":1499944614,"answer_id":45079044,"question_id":45078823,"body_markdown":"The [`xsl:value-of`][1] instruction returns the result of evaluating the **expression** contained in its `select` attribute (after converting the result to a string).\r\n\r\nAn [XPath expression][2] can contain numbers, string literals, references to nodes or variables, function calls and operators. The expression `1` is evaluated as the number 1. There can be no node whose name is `1` (an element name cannot start with a digit). \r\n\r\n\r\n  [1]: https://www.w3.org/TR/xslt/#value-of\r\n  [2]: https://www.w3.org/TR/xpath/#section-Expressions","title":"Why &lt;xsl:value-of select=&quot;1&quot;/&gt; returns 1?","body":"<p>The <a href=\"https://www.w3.org/TR/xslt/#value-of\" rel=\"nofollow noreferrer\"><code>xsl:value-of</code></a> instruction returns the result of evaluating the <strong>expression</strong> contained in its <code>select</code> attribute (after converting the result to a string).</p>\n\n<p>An <a href=\"https://www.w3.org/TR/xpath/#section-Expressions\" rel=\"nofollow noreferrer\">XPath expression</a> can contain numbers, string literals, references to nodes or variables, function calls and operators. The expression <code>1</code> is evaluated as the number 1. There can be no node whose name is <code>1</code> (an element name cannot start with a digit). </p>\n"},{"tags":[],"owner":{"account_id":3512767,"reputation":167,"user_id":2936699,"display_name":"Stinky Buffalo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318663,"creation_date":1643318663,"answer_id":70885929,"question_id":45078823,"body_markdown":"By using the code \r\n\r\n```&lt;xsl:value-of select=&quot;1&quot;/&gt;```\r\n\r\nyou&#39;re essentially telling it to return the literal value &quot;1&quot;. \r\n\r\nTo retrieve the value within the element it would be more like the following:\r\n\r\n```&lt;xsl:value-of select=&quot;hello&quot;/&gt;```","title":"Why &lt;xsl:value-of select=&quot;1&quot;/&gt; returns 1?","body":"<p>By using the code</p>\n<p><code>&lt;xsl:value-of select=&quot;1&quot;/&gt;</code></p>\n<p>you're essentially telling it to return the literal value &quot;1&quot;.</p>\n<p>To retrieve the value within the element it would be more like the following:</p>\n<p><code>&lt;xsl:value-of select=&quot;hello&quot;/&gt;</code></p>\n"}],"owner":{"account_id":6177026,"reputation":714,"user_id":4813586,"accept_rate":100,"display_name":"Manuel Drieschmanns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45079044,"answer_count":2,"score":0,"last_activity_date":1643318663,"creation_date":1499944034,"question_id":45078823,"body_markdown":"I&#39;m transforming XML to HTML using a XSLT Stylesheet. The tansformation engine is provided by [Apache Xalan][1] (Version 2.7.0). A Sax Parser is configured to be used.\r\n\r\nIf \r\n\r\n    &lt;xsl:value-of select=&quot;1&quot;/&gt;\r\n\r\nis used to transform\r\n\r\n    &lt;element&gt;\r\n        &lt;hello&gt;Hello World&lt;/hello&gt;\r\n    &lt;/element&gt;\r\n\r\n**Output**\r\n\r\n&gt;1\r\n\r\nAccording to https://www.w3schools.com/xml/xsl_value_of.asp the xsl:value-of-Tag extracts the value of a selected node based on the given XPath Expression. \r\n\r\n - Why is the output 1 though there is no node 1?\r\n - How does this simple transformation work?\r\n\r\n\r\n  [1]: https://xalan.apache.org/","title":"Why &lt;xsl:value-of select=&quot;1&quot;/&gt; returns 1?","body":"<p>I'm transforming XML to HTML using a XSLT Stylesheet. The tansformation engine is provided by <a href=\"https://xalan.apache.org/\" rel=\"nofollow noreferrer\">Apache Xalan</a> (Version 2.7.0). A Sax Parser is configured to be used.</p>\n\n<p>If </p>\n\n<pre><code>&lt;xsl:value-of select=\"1\"/&gt;\n</code></pre>\n\n<p>is used to transform</p>\n\n<pre><code>&lt;element&gt;\n    &lt;hello&gt;Hello World&lt;/hello&gt;\n&lt;/element&gt;\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>1</p>\n</blockquote>\n\n<p>According to <a href=\"https://www.w3schools.com/xml/xsl_value_of.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/xml/xsl_value_of.asp</a> the xsl:value-of-Tag extracts the value of a selected node based on the given XPath Expression. </p>\n\n<ul>\n<li>Why is the output 1 though there is no node 1?</li>\n<li>How does this simple transformation work?</li>\n</ul>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"score":0,"creation_date":1643312829,"post_id":70884783,"comment_id":125313263,"body_markdown":"it should&#39;ve not crashed  because whenever you signout you are checking for  if(getApplicationContext()!=null) but I don&#39;t know","body":"it should&#39;ve not crashed  because whenever you signout you are checking for  if(getApplicationContext()!=null) but I don&#39;t know"},{"owner":{"account_id":5353945,"reputation":27604,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1643313027,"post_id":70884783,"comment_id":125313339,"body_markdown":"It is not crashing because getUid() returns null, but because getCurrentUser() returns null. User has logged out, there is no current user, why do you expect you can safely use getCurrentUser afterward?","body":"It is not crashing because getUid() returns null, but because getCurrentUser() returns null. User has logged out, there is no current user, why do you expect you can safely use getCurrentUser afterward?"},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643313109,"post_id":70884783,"comment_id":125313366,"body_markdown":"@Dalija Prasnikar\nNo it does not, you pointed me to a vague answer","body":"@Dalija Prasnikar No it does not, you pointed me to a vague answer"},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643313273,"post_id":70884783,"comment_id":125313416,"body_markdown":"@Dalija Prasnikar\n(getApplicationContext()!=null) whenever the user signs out the activity is closed so before calling  getCurrentUser im checking if the activity is not null","body":"@Dalija Prasnikar (getApplicationContext()!=null) whenever the user signs out the activity is closed so before calling  getCurrentUser im checking if the activity is not null"},{"owner":{"account_id":5353945,"reputation":27604,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1643313611,"post_id":70884783,"comment_id":125313513,"body_markdown":"First, getApplicationContext() is whole application context, not activity context. Besides, it is not crashing there it crashes because getUid()  is called on null reference which means getCurrentUser() returns null. It is written in the log.","body":"First, getApplicationContext() is whole application context, not activity context. Besides, it is not crashing there it crashes because getUid()  is called on null reference which means getCurrentUser() returns null. It is written in the log."},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643314126,"post_id":70884783,"comment_id":125313673,"body_markdown":"@Dalija Prasnikar\nyes getCurrentUser() returns null because on button click this function appFirebaseAuth.getInstance().signOut();  is called which disconnects the user and after disconnecting the user we open a new activity Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);\n                    startActivity(intent); so the app must not call this function onLocationChanged() because the activity is closed, but its still calling it :(","body":"@Dalija Prasnikar yes getCurrentUser() returns null because on button click this function appFirebaseAuth.getInstance().signOut();  is called which disconnects the user and after disconnecting the user we open a new activity Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);                     startActivity(intent); so the app must not call this function onLocationChanged() because the activity is closed, but its still calling it :("},{"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"score":0,"creation_date":1643314225,"post_id":70884783,"comment_id":125313708,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/241467/discussion-between-bombo-klat-and-dalija-prasnikar).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/241467/discussion-between-bombo-klat-and-dalija-prasnikar\">continue this discussion in chat</a>."},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1643314755,"post_id":70884783,"comment_id":125313873,"body_markdown":"It appears you are leaving an observer in place. Observers will continue to observe until you actually remove the observer.","body":"It appears you are leaving an observer in place. Observers will continue to observe until you actually remove the observer."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643314118,"creation_date":1643314118,"answer_id":70885070,"question_id":70884783,"body_markdown":"`getApplicationContext()` won&#39;t be `null` when you `finish()` `Activity`, even last or one and only. consider using [`if(!isFinishing())`](https://developer.android.com/reference/android/app/Activity#isFinishing()), lifecycle checking or just set own `boolean` flag.\r\n\r\nadditionally you may (should) also check that `getCurrentUser()` returns `null`, that would mean that user logs out. if is `null` then don&#39;t call any method on returned object (because nothing is returned in fact)\r\n\r\n    if(!isFinishing() &amp;&amp; FirebaseAuth.getInstance().getCurrentUser()!=null) {","title":"Application crashing when user signs out","body":"<p><code>getApplicationContext()</code> won't be <code>null</code> when you <code>finish()</code> <code>Activity</code>, even last or one and only. consider using <a href=\"https://developer.android.com/reference/android/app/Activity#isFinishing()\" rel=\"nofollow noreferrer\"><code>if(!isFinishing())</code></a>, lifecycle checking or just set own <code>boolean</code> flag.</p>\n<p>additionally you may (should) also check that <code>getCurrentUser()</code> returns <code>null</code>, that would mean that user logs out. if is <code>null</code> then don't call any method on returned object (because nothing is returned in fact)</p>\n<pre><code>if(!isFinishing() &amp;&amp; FirebaseAuth.getInstance().getCurrentUser()!=null) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643314878,"creation_date":1643314878,"answer_id":70885226,"question_id":70884783,"body_markdown":"Since you assign false to your `isLoggingOut = true;` whenever you click on the button, you should just check `if(getApplicationContext()!=null &amp;&amp; !isLoggingOut)` so the code wont run whenever `isLoggingOut==false;`","title":"Application crashing when user signs out","body":"<p>Since you assign false to your <code>isLoggingOut = true;</code> whenever you click on the button, you should just check <code>if(getApplicationContext()!=null &amp;&amp; !isLoggingOut)</code> so the code wont run whenever <code>isLoggingOut==false;</code></p>\n"}],"owner":{"account_id":23878749,"reputation":41,"user_id":17879684,"display_name":"bombo klat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1643319644,"accepted_answer_id":70885226,"answer_count":2,"score":-1,"last_activity_date":1643318582,"creation_date":1643312670,"question_id":70884783,"body_markdown":"Guys i have been making this simple Uber app and whenever the Driver LogsOut my app crashes because the `getCurrentUser()` method is returning a null value. But whenever the user logsOut im closing the activity, and before calling `getCurrentUser()` i have this `if(getApplicationContext()!=null)` which should return false because the activity is closed so it should prevent `getCurrentUser()` from being called. How do i prevent it from crashing? What am i missing here?\r\n\r\nThis is where on Button click i logOut my user \r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n    //some code here\r\n    \r\n        mLogout=(Button)findViewById(R.id.logout);\r\n                mLogout.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        isLoggingOut = true;\r\n                        disconnectDriver();\r\n                        \r\n                        //Signing out user here\r\n                        FirebaseAuth.getInstance().signOut();\r\n                        Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);\r\n                        startActivity(intent);\r\n                        return;\r\n                    }\r\n                });\r\n    //some code here\r\n    }\r\n\r\nThis is where the error is happening\r\n\r\n    @Override\r\n        //this is going to run whenever the driver location changes\r\n        public void onLocationChanged(Location location) {\r\n            if(getApplicationContext()!=null) {\r\n    \r\n                mLastLocation = location;\r\n                LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n              \r\n                mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\r\n                mMap.animateCamera(CameraUpdateFactory.zoomTo(11));\r\n    \r\n                //\r\n                //This is where the error is happening\r\n                //java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n                \r\n                String userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                \r\n                DatabaseReference refAvailable = FirebaseDatabase.getInstance().getReference(&quot;driversAvailable&quot;);\r\n                \r\n                DatabaseReference refWorking  = FirebaseDatabase.getInstance().getReference(&quot;driversWorking&quot;);\r\n                \r\n                GeoFire geoFireAvailable = new GeoFire(refAvailable);\r\n               \r\n                GeoFire geoFireWorking = new GeoFire(refWorking);\r\n          \r\n                switch(customerId){\r\n                   \r\n                    case &quot;&quot;:\r\n    \r\n                       geoFireWorking.removeLocation(userId);\r\n                        geoFireAvailable.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\r\n                        break;\r\n                    default:\r\n    \r\n                       \r\n                        geoFireAvailable.removeLocation(userId);\r\n                        geoFireWorking.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\r\n                        break;\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\n\r\nThis is the Error Log\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.jonanako.uber, PID: 15522\r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n            at com.jonanako.uber.DriverMapActivity.onLocationChanged(DriverMapActivity.java:211)\r\n            at com.google.android.gms.internal.location.zzat.notifyListener(com.google.android.gms:play-services-location@@18.0.0:2)\r\n            at com.google.android.gms.common.api.internal.ListenerHolder.zaa(com.google.android.gms:play-services-base@@18.0.1:2)\r\n            at com.google.android.gms.common.api.internal.zacb.run(Unknown Source:4)\r\n            at android.os.Handler.handleCallback(Handler.java:873)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\r\n","title":"Application crashing when user signs out","body":"<p>Guys i have been making this simple Uber app and whenever the Driver LogsOut my app crashes because the <code>getCurrentUser()</code> method is returning a null value. But whenever the user logsOut im closing the activity, and before calling <code>getCurrentUser()</code> i have this <code>if(getApplicationContext()!=null)</code> which should return false because the activity is closed so it should prevent <code>getCurrentUser()</code> from being called. How do i prevent it from crashing? What am i missing here?</p>\n<p>This is where on Button click i logOut my user</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n//some code here\n\n    mLogout=(Button)findViewById(R.id.logout);\n            mLogout.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    isLoggingOut = true;\n                    disconnectDriver();\n                    \n                    //Signing out user here\n                    FirebaseAuth.getInstance().signOut();\n                    Intent intent = new Intent(DriverMapActivity.this, MainActivity.class);\n                    startActivity(intent);\n                    return;\n                }\n            });\n//some code here\n}\n</code></pre>\n<p>This is where the error is happening</p>\n<pre><code>@Override\n    //this is going to run whenever the driver location changes\n    public void onLocationChanged(Location location) {\n        if(getApplicationContext()!=null) {\n\n            mLastLocation = location;\n            LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n          \n            mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n            mMap.animateCamera(CameraUpdateFactory.zoomTo(11));\n\n            //\n            //This is where the error is happening\n            //java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n            \n            String userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            \n            DatabaseReference refAvailable = FirebaseDatabase.getInstance().getReference(&quot;driversAvailable&quot;);\n            \n            DatabaseReference refWorking  = FirebaseDatabase.getInstance().getReference(&quot;driversWorking&quot;);\n            \n            GeoFire geoFireAvailable = new GeoFire(refAvailable);\n           \n            GeoFire geoFireWorking = new GeoFire(refWorking);\n      \n            switch(customerId){\n               \n                case &quot;&quot;:\n\n                   geoFireWorking.removeLocation(userId);\n                    geoFireAvailable.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\n                    break;\n                default:\n\n                   \n                    geoFireAvailable.removeLocation(userId);\n                    geoFireWorking.setLocation(userId, new GeoLocation(location.getLatitude(), location.getLongitude()));\n                    break;\n\n            }\n        }\n    }\n</code></pre>\n<p>This is the Error Log</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.jonanako.uber, PID: 15522\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\n        at com.jonanako.uber.DriverMapActivity.onLocationChanged(DriverMapActivity.java:211)\n        at com.google.android.gms.internal.location.zzat.notifyListener(com.google.android.gms:play-services-location@@18.0.0:2)\n        at com.google.android.gms.common.api.internal.ListenerHolder.zaa(com.google.android.gms:play-services-base@@18.0.1:2)\n        at com.google.android.gms.common.api.internal.zacb.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1643318397,"creation_date":1643317188,"answer_id":70885651,"question_id":59302026,"body_markdown":"**TL;DR;**\r\n\r\nI believe it&#39;s just a random filter someone on the internet happened to have chosen and shared his/her code somewhere, and it&#39;s been adopted that way ever since.\r\n____\r\n**For the curious**\r\n\r\nI personally went through the Spring Security source code and found out that the filters in Spring application context with their respective `@Order`s are as below:\r\n\r\n    org.springframework.security.web.access.channel.ChannelProcessingFilter -&gt; 100\r\n    org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter -&gt; 300\r\n    org.springframework.security.web.context.SecurityContextPersistenceFilter -&gt; 400\r\n    org.springframework.security.web.header.HeaderWriterFilter -&gt; 500\r\n    org.springframework.web.filter.CorsFilter -&gt; 600\r\n    org.springframework.security.web.csrf.CsrfFilter -&gt; 700\r\n    org.springframework.security.web.authentication.logout.LogoutFilter -&gt; 800\r\n    org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter -&gt; 900\r\n    org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter -&gt; 1000\r\n    org.springframework.security.web.authentication.preauth.x509.X509AuthenticationFilter -&gt; 1100\r\n    org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter -&gt; 1200\r\n    org.springframework.security.cas.web.CasAuthenticationFilter -&gt; 1300\r\n    org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter -&gt; 1400\r\n    org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter -&gt; 1500\r\n    org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter -&gt; 1600\r\n    org.springframework.security.openid.OpenIDAuthenticationFilter -&gt; 1800\r\n    org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter -&gt; 1900\r\n    org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter -&gt; 2000\r\n    org.springframework.security.web.session.ConcurrentSessionFilter -&gt; 2100\r\n    org.springframework.security.web.authentication.www.DigestAuthenticationFilter -&gt; 2200\r\n    org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter -&gt; 2300\r\n    org.springframework.security.web.authentication.www.BasicAuthenticationFilter -&gt; 2400\r\n    org.springframework.security.web.savedrequest.RequestCacheAwareFilter -&gt; 2500\r\n    org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter -&gt; 2600\r\n    org.springframework.security.web.jaasapi.JaasApiIntegrationFilter -&gt; 2700\r\n    org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter -&gt; 2800\r\n    org.springframework.security.web.authentication.AnonymousAuthenticationFilter -&gt; 2900\r\n    org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter -&gt; 3000\r\n    org.springframework.security.web.session.SessionManagementFilter -&gt; 3100\r\n    org.springframework.security.web.access.ExceptionTranslationFilter -&gt; 3200\r\n    org.springframework.security.web.access.intercept.FilterSecurityInterceptor -&gt; 3300\r\n    org.springframework.security.web.authentication.switchuser.SwitchUserFilter -&gt; 3400\r\n\r\n**Please note that the less the order value, the more prioritized the filter.**\r\n\r\nBut these are all the filters that Spring registers. Spring Security on the other hand, being a single filter chain containing a number of filters inside, includes only some of these, which are (in priority order):\r\n\r\n    Security filter chain: [\r\n      WebAsyncManagerIntegrationFilter\r\n      SecurityContextPersistenceFilter\r\n      HeaderWriterFilter\r\n      CorsFilter\r\n      LogoutFilter\r\n      RequestCacheAwareFilter\r\n      SecurityContextHolderAwareRequestFilter\r\n      AnonymousAuthenticationFilter\r\n      SessionManagementFilter\r\n      ExceptionTranslationFilter\r\n      FilterSecurityInterceptor\r\n    ] \r\n\r\nYou can get this list by setting the debug flag to true in the Spring Security config by\r\n\r\n\r\n    @EnableWebSecurity(debug = true)\r\n\r\n_______\r\n\r\n**Where to put the custom Jwt Filter ?** \r\n\r\nI&#39;d personally place the custom Jwt Filter right after `ExceptionTranslationFilter` and before `FilterSecurityInterceptor`, forming below chain: \r\n\r\n      Security filter chain: [\r\n      WebAsyncManagerIntegrationFilter\r\n      SecurityContextPersistenceFilter\r\n      HeaderWriterFilter\r\n      CorsFilter\r\n      LogoutFilter\r\n                                &lt;------ Here&#39;s where the UsernamePasswordAuthenticationFilter \r\n      RequestCacheAwareFilter\r\n      SecurityContextHolderAwareRequestFilter\r\n      AnonymousAuthenticationFilter\r\n      SessionManagementFilter\r\n      ExceptionTranslationFilter\r\n      JwtAuthTokenFilter        &lt;------   Here&#39;s your filter.\r\n      FilterSecurityInterceptor\r\n    ] \r\n\r\nYou see the motivation in doing so, is to let Spring security exception handler resides in `ExceptionTranslatorFilter` to handle your exception as is. \r\nBecause if you place your filter where the `UsernamePasswordAuthenticationFilter` would be, any possible exception thrown by your filter will not be seen by the `ExceptionTranslatorFilter`, instead it will go all the way back to the `throwable()` method of Tomcat&#39;s `org.apache.catalina.core.StandardHostValve`, (if you&#39;re using Tomcat as the servlet impl., obviously), and what it will going to do is, **redirect your request to the default error path which is `/error`.**\r\n\r\nHere&#39;s where the fun begins, upon an exception thrown by your filter that is supposed to intercept whatever request coming into your application (say `/hello`), now a subsequent request to the predefined error path (let&#39;s assume `/error`) will be made. And by luck, if you haven&#39;t happened to &quot;permit&quot; that path with your `HttpSecurity` config, what&#39;s next is below series of events:\r\n\r\n1. The same security chain will be applied to the *new* request with requestURI `/error`\r\n2. If your custom filter extends `OncePerRequestFilter`, which I assume it would, it will NOT BE FILTERED AGAIN, since it would have been marked as FILTERED in the previous pass.\r\n3. The rest of the filter chain will be invoked in the same order above all the way to the last filter, a.k.a `FilterSecurityInterceptor` \r\n4. It&#39;ll evaluate the authentication token, pull in the `AccessDecisionVoter`s, which will promptly vote the unfamiliar `/error` request as unauthenticated, throw an `AccessDeniedException` and call it a day.\r\n5. The very next filter on the way back to the client, which is no other than `ExceptionTranslationFilter` will see this `AccessDeniedException`, will evaluate it as a regular access denial and call the `AuthenticationEntryPoint.commence` with the `AccessDeniedException` being the 3rd parameter.\r\n6. From then I would assume your code will call `sendError` within that method, and your client will receive this as a response.\r\n\r\nSo what&#39;s wrong with that, I blocked the request in my filter and the client got the error response ?\r\n\r\nWhat&#39;s wrong is, the message client got, was not generated for your request or your error, it was generated for a request to the `/error` path and an error generated by the `FilterSecurityInterceptor`.\r\n\r\n_______\r\n\r\n**So what should you do ?**\r\n\r\nI would humbly suggest that, put your `JwtAuthTokenFilter` between the last two filters in the security filter chain, and the error you might throw will be handled by default spring security error resolver and you will save the server a roundtrip between the `StandardHostValve` and the `FilterSecurityInterceptor`.\r\n\r\n    http.addFilterAfter(authenticationJwtTokenFilter(), ExceptionTranslationFilter.class);\r\n\r\nOr don&#39;t and the client will get an error eventually.","title":"Spring security : Why adding the JWT filter before UsernamePasswordAuthenticationFilter in configuration?","body":"<p><strong>TL;DR;</strong></p>\n<p>I believe it's just a random filter someone on the internet happened to have chosen and shared his/her code somewhere, and it's been adopted that way ever since.</p>\n<hr />\n<p><strong>For the curious</strong></p>\n<p>I personally went through the Spring Security source code and found out that the filters in Spring application context with their respective <code>@Order</code>s are as below:</p>\n<pre><code>org.springframework.security.web.access.channel.ChannelProcessingFilter -&gt; 100\norg.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter -&gt; 300\norg.springframework.security.web.context.SecurityContextPersistenceFilter -&gt; 400\norg.springframework.security.web.header.HeaderWriterFilter -&gt; 500\norg.springframework.web.filter.CorsFilter -&gt; 600\norg.springframework.security.web.csrf.CsrfFilter -&gt; 700\norg.springframework.security.web.authentication.logout.LogoutFilter -&gt; 800\norg.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter -&gt; 900\norg.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter -&gt; 1000\norg.springframework.security.web.authentication.preauth.x509.X509AuthenticationFilter -&gt; 1100\norg.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter -&gt; 1200\norg.springframework.security.cas.web.CasAuthenticationFilter -&gt; 1300\norg.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter -&gt; 1400\norg.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter -&gt; 1500\norg.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter -&gt; 1600\norg.springframework.security.openid.OpenIDAuthenticationFilter -&gt; 1800\norg.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter -&gt; 1900\norg.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter -&gt; 2000\norg.springframework.security.web.session.ConcurrentSessionFilter -&gt; 2100\norg.springframework.security.web.authentication.www.DigestAuthenticationFilter -&gt; 2200\norg.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter -&gt; 2300\norg.springframework.security.web.authentication.www.BasicAuthenticationFilter -&gt; 2400\norg.springframework.security.web.savedrequest.RequestCacheAwareFilter -&gt; 2500\norg.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter -&gt; 2600\norg.springframework.security.web.jaasapi.JaasApiIntegrationFilter -&gt; 2700\norg.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter -&gt; 2800\norg.springframework.security.web.authentication.AnonymousAuthenticationFilter -&gt; 2900\norg.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter -&gt; 3000\norg.springframework.security.web.session.SessionManagementFilter -&gt; 3100\norg.springframework.security.web.access.ExceptionTranslationFilter -&gt; 3200\norg.springframework.security.web.access.intercept.FilterSecurityInterceptor -&gt; 3300\norg.springframework.security.web.authentication.switchuser.SwitchUserFilter -&gt; 3400\n</code></pre>\n<p><strong>Please note that the less the order value, the more prioritized the filter.</strong></p>\n<p>But these are all the filters that Spring registers. Spring Security on the other hand, being a single filter chain containing a number of filters inside, includes only some of these, which are (in priority order):</p>\n<pre><code>Security filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  CorsFilter\n  LogoutFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  FilterSecurityInterceptor\n] \n</code></pre>\n<p>You can get this list by setting the debug flag to true in the Spring Security config by</p>\n<pre><code>@EnableWebSecurity(debug = true)\n</code></pre>\n<hr />\n<p><strong>Where to put the custom Jwt Filter ?</strong></p>\n<p>I'd personally place the custom Jwt Filter right after <code>ExceptionTranslationFilter</code> and before <code>FilterSecurityInterceptor</code>, forming below chain:</p>\n<pre><code>  Security filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  CorsFilter\n  LogoutFilter\n                            &lt;------ Here's where the UsernamePasswordAuthenticationFilter \n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  JwtAuthTokenFilter        &lt;------   Here's your filter.\n  FilterSecurityInterceptor\n] \n</code></pre>\n<p>You see the motivation in doing so, is to let Spring security exception handler resides in <code>ExceptionTranslatorFilter</code> to handle your exception as is.\nBecause if you place your filter where the <code>UsernamePasswordAuthenticationFilter</code> would be, any possible exception thrown by your filter will not be seen by the <code>ExceptionTranslatorFilter</code>, instead it will go all the way back to the <code>throwable()</code> method of Tomcat's <code>org.apache.catalina.core.StandardHostValve</code>, (if you're using Tomcat as the servlet impl., obviously), and what it will going to do is, <strong>redirect your request to the default error path which is <code>/error</code>.</strong></p>\n<p>Here's where the fun begins, upon an exception thrown by your filter that is supposed to intercept whatever request coming into your application (say <code>/hello</code>), now a subsequent request to the predefined error path (let's assume <code>/error</code>) will be made. And by luck, if you haven't happened to &quot;permit&quot; that path with your <code>HttpSecurity</code> config, what's next is below series of events:</p>\n<ol>\n<li>The same security chain will be applied to the <em>new</em> request with requestURI <code>/error</code></li>\n<li>If your custom filter extends <code>OncePerRequestFilter</code>, which I assume it would, it will NOT BE FILTERED AGAIN, since it would have been marked as FILTERED in the previous pass.</li>\n<li>The rest of the filter chain will be invoked in the same order above all the way to the last filter, a.k.a <code>FilterSecurityInterceptor</code></li>\n<li>It'll evaluate the authentication token, pull in the <code>AccessDecisionVoter</code>s, which will promptly vote the unfamiliar <code>/error</code> request as unauthenticated, throw an <code>AccessDeniedException</code> and call it a day.</li>\n<li>The very next filter on the way back to the client, which is no other than <code>ExceptionTranslationFilter</code> will see this <code>AccessDeniedException</code>, will evaluate it as a regular access denial and call the <code>AuthenticationEntryPoint.commence</code> with the <code>AccessDeniedException</code> being the 3rd parameter.</li>\n<li>From then I would assume your code will call <code>sendError</code> within that method, and your client will receive this as a response.</li>\n</ol>\n<p>So what's wrong with that, I blocked the request in my filter and the client got the error response ?</p>\n<p>What's wrong is, the message client got, was not generated for your request or your error, it was generated for a request to the <code>/error</code> path and an error generated by the <code>FilterSecurityInterceptor</code>.</p>\n<hr />\n<p><strong>So what should you do ?</strong></p>\n<p>I would humbly suggest that, put your <code>JwtAuthTokenFilter</code> between the last two filters in the security filter chain, and the error you might throw will be handled by default spring security error resolver and you will save the server a roundtrip between the <code>StandardHostValve</code> and the <code>FilterSecurityInterceptor</code>.</p>\n<pre><code>http.addFilterAfter(authenticationJwtTokenFilter(), ExceptionTranslationFilter.class);\n</code></pre>\n<p>Or don't and the client will get an error eventually.</p>\n"}],"owner":{"account_id":17274189,"reputation":101,"user_id":12509156,"display_name":"holaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3332,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1643318397,"creation_date":1576144957,"question_id":59302026,"body_markdown":"I&#39;m working with  Spring security and jwt ,but there is something that i don&#39;t understand in the configuration file (same configuration in all tutorials on JWT )\r\nit is why to add the Custom jwt filter before the `UsernamePasswordAuthenticationFilter` since i already have a public  authentication controller based on username and password  in somewhere of the project and why not adding it in some other order ?\r\n\r\n```\r\n@Bean\r\n    public JwtAuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new JwtAuthTokenFilter();\r\n    }\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http.cors().and().csrf().disable()\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n        .anyRequest().authenticated()\r\n        .and()\r\n        .exceptionHandling().authenticationEntryPoint((AuthenticationEntryPoint) unauthorizedHandler)\r\n        .and()\r\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore((Filter) authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n}\r\n```","title":"Spring security : Why adding the JWT filter before UsernamePasswordAuthenticationFilter in configuration?","body":"<p>I'm working with  Spring security and jwt ,but there is something that i don't understand in the configuration file (same configuration in all tutorials on JWT )\nit is why to add the Custom jwt filter before the <code>UsernamePasswordAuthenticationFilter</code> since i already have a public  authentication controller based on username and password  in somewhere of the project and why not adding it in some other order ?</p>\n\n<pre><code>@Bean\n    public JwtAuthTokenFilter authenticationJwtTokenFilter() {\n        return new JwtAuthTokenFilter();\n    }\n@Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.cors().and().csrf().disable()\n        .authorizeRequests()\n        .antMatchers(\"/api/auth/**\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n        .exceptionHandling().authenticationEntryPoint((AuthenticationEntryPoint) unauthorizedHandler)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore((Filter) authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":8917580,"reputation":296,"user_id":6655568,"display_name":"Mohit patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559553060,"creation_date":1559553060,"answer_id":56424232,"question_id":56383367,"body_markdown":"It tells that config_scrollbarSize is not found in your dimens.xml file. make sure you have that in dimens.xml. Because you are using that value somewhere in that layout.","title":"how can i fix this error &quot;Exception raised during rendering: Could not find dimen resource matching value 0x1050050&quot;?","body":"<p>It tells that config_scrollbarSize is not found in your dimens.xml file. make sure you have that in dimens.xml. Because you are using that value somewhere in that layout.</p>\n"},{"tags":[],"owner":{"account_id":979282,"reputation":300,"user_id":999456,"display_name":"MindLoggedOut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318350,"creation_date":1643318350,"answer_id":70885876,"question_id":56383367,"body_markdown":"I know it has been a while. But, had the same issue, launched VS as administrator and the issue is gone.","title":"how can i fix this error &quot;Exception raised during rendering: Could not find dimen resource matching value 0x1050050&quot;?","body":"<p>I know it has been a while. But, had the same issue, launched VS as administrator and the issue is gone.</p>\n"}],"owner":{"account_id":14659115,"reputation":9,"user_id":10586873,"display_name":"Abdulrahman Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1643318350,"creation_date":1559239232,"question_id":56383367,"body_markdown":"When opened in an activity layout normally, the preview should appear, which should again show the preview of the layout.\r\nBut no preview is shown,\r\nDoes anyone know how solve this?\r\n[here is screen of the issue][1]\r\n\r\n\r\nHere is the error:\r\n&gt; android.content.res.Resources$NotFoundException: Could not find dimen\r\n&gt; resource matching value 0x1050050 (resolved name:\r\n&gt; config_scrollbarSize) in current configuration. \tat\r\n&gt; android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1145)\r\n&gt; \tat\r\n&gt; android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1121)\r\n&gt; \tat\r\n&gt; android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1125)\r\n&gt; \tat\r\n&gt; android.content.res.Resources_Delegate.getDimensionPixelSize(Resources_Delegate.java:657)\r\n&gt; \tat\r\n&gt; android.content.res.Resources.getDimensionPixelSize(Resources.java:724)\r\n&gt; \tat android.view.ViewConfiguration.&lt;init&gt;(ViewConfiguration.java:366)\r\n&gt; \tat android.view.ViewConfiguration.get(ViewConfiguration.java:452) \tat\r\n&gt; android.view.View.&lt;init&gt;(View.java:4806) \tat\r\n&gt; android.view.View.&lt;init&gt;(View.java:4948) \tat\r\n&gt; android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:659) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:248) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:244) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:240) \tat\r\n&gt; android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:236) \tat\r\n&gt; com.android.layoutlib.bridge.impl.Layout.&lt;init&gt;(Layout.java:133) \tat\r\n&gt; com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:288)\r\n&gt; \tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:391)\r\n&gt; \tat\r\n&gt; com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:195)\r\n&gt; \tat\r\n&gt; com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:540)\r\n&gt; \tat\r\n&gt; com.android.tools.idea.rendering.RenderTask.lambda$inflate$5(RenderTask.java:666)\r\n&gt; \tat\r\n&gt; java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GIvRx.png\r\n  [2]: https://i.stack.imgur.com/FMBhQ.png","title":"how can i fix this error &quot;Exception raised during rendering: Could not find dimen resource matching value 0x1050050&quot;?","body":"<p>When opened in an activity layout normally, the preview should appear, which should again show the preview of the layout.\nBut no preview is shown,\nDoes anyone know how solve this?\n<a href=\"https://i.stack.imgur.com/GIvRx.png\" rel=\"nofollow noreferrer\">here is screen of the issue</a></p>\n\n<p>Here is the error:</p>\n\n<blockquote>\n  <p>android.content.res.Resources$NotFoundException: Could not find dimen\n  resource matching value 0x1050050 (resolved name:\n  config_scrollbarSize) in current configuration.   at\n  android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1145)\n    at\n  android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1121)\n    at\n  android.content.res.Resources_Delegate.throwException(Resources_Delegate.java:1125)\n    at\n  android.content.res.Resources_Delegate.getDimensionPixelSize(Resources_Delegate.java:657)\n    at\n  android.content.res.Resources.getDimensionPixelSize(Resources.java:724)\n    at android.view.ViewConfiguration.(ViewConfiguration.java:366)\n    at android.view.ViewConfiguration.get(ViewConfiguration.java:452)   at\n  android.view.View.(View.java:4806)  at\n  android.view.View.(View.java:4948)  at\n  android.view.ViewGroup.(ViewGroup.java:659)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:248)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:244)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:240)     at\n  android.widget.RelativeLayout.(RelativeLayout.java:236)     at\n  com.android.layoutlib.bridge.impl.Layout.(Layout.java:133)  at\n  com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:288)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:391)\n    at\n  com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:195)\n    at\n  com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:540)\n    at\n  com.android.tools.idea.rendering.RenderTask.lambda$inflate$5(RenderTask.java:666)\n    at\n  java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n"},{"tags":["java","reflection","jooq","quarkus"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1625228641,"post_id":68224389,"comment_id":120578639,"body_markdown":"Have you reported this to https://github.com/quarkiverse/quarkus-jooq as well?","body":"Have you reported this to <a href=\"https://github.com/quarkiverse/quarkus-jooq\" rel=\"nofollow noreferrer\">github.com/quarkiverse/quarkus-jooq</a> as well?"},{"owner":{"account_id":4265224,"reputation":325,"user_id":3488499,"accept_rate":71,"display_name":"jurgen"},"score":0,"creation_date":1625229055,"post_id":68224389,"comment_id":120578810,"body_markdown":"I didn&#39;t really know which project to put it under, but per your suggestion I just made one here: https://github.com/quarkiverse/quarkus-jooq/issues/25.","body":"I didn&#39;t really know which project to put it under, but per your suggestion I just made one here: <a href=\"https://github.com/quarkiverse/quarkus-jooq/issues/25\" rel=\"nofollow noreferrer\">github.com/quarkiverse/quarkus-jooq/issues/25</a>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1643325074,"post_id":68224389,"comment_id":125316912,"body_markdown":"[`sun.misc.Unsafe.defineClass` was removed in JDK 11](https://bugs.openjdk.java.net/browse/JDK-8199699)","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8199699\" rel=\"nofollow noreferrer\"><code>sun.misc.Unsafe.defineClass</code> was removed in JDK 11</a>"}],"answers":[{"tags":[],"owner":{"account_id":7451612,"reputation":31,"user_id":5666188,"display_name":"ThoSap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643318229,"creation_date":1643318229,"answer_id":70885852,"question_id":68224389,"body_markdown":"When you use jOOQ with Quarkus native (GraalVM) you must register all jOOQ generated classes like POJOs and Records for reflection, so GraalVM does not remove the classes/methods/fields that are not used directly.\r\nThis is because jOOQ `DSL.fetchInto(Class&lt;?&gt;)` uses reflection.\r\n\r\nYou can register the jOOQ generated classes [manually](https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection) or do it automatically with the Gradle task I&#39;m using myself for production software.\r\nhttps://stackoverflow.com/a/70870930/5666188","title":"PrivilegedActionException in quarkus when using JOOQ","body":"<p>When you use jOOQ with Quarkus native (GraalVM) you must register all jOOQ generated classes like POJOs and Records for reflection, so GraalVM does not remove the classes/methods/fields that are not used directly.\nThis is because jOOQ <code>DSL.fetchInto(Class&lt;?&gt;)</code> uses reflection.</p>\n<p>You can register the jOOQ generated classes <a href=\"https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection\" rel=\"nofollow noreferrer\">manually</a> or do it automatically with the Gradle task I'm using myself for production software.\n<a href=\"https://stackoverflow.com/a/70870930/5666188\">https://stackoverflow.com/a/70870930/5666188</a></p>\n"}],"owner":{"account_id":4265224,"reputation":325,"user_id":3488499,"accept_rate":71,"display_name":"jurgen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643318229,"creation_date":1625225190,"question_id":68224389,"body_markdown":"First up; the code works. I&#39;m getting an exception in my log but no actual error actually occurs. The correct output gets sent to the client, the app keeps running, as far as I can tell everything is fine. Yet I have an error.\r\n\r\nI&#39;m using Quarkus and JOOQ. There is an endpoint that triggers a `select().fetchInto(Custom.class)`. The endpoint still returns the correct data. But the log shows this error:\r\n\r\n```\r\n2021-07-02 12:58:25,938 SEVERE [com.sun.xml.bin.v2.run.ref.opt.Injector] (executor-thread-1) null: java.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:558)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:166)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:51)\r\n```\r\nThe exception is long. And goes through a bunch of different pieces of code:\r\n```\r\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n...\r\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\r\n...\r\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\r\n...\r\nat org.jooq.tools.Convert.&lt;clinit&gt;(Convert.java:223)\r\n...\r\nat org.jooq.impl.SelectImpl.fetchInto(SelectImpl.java:3936)\r\n...\r\nat my-code-here-somewhere\r\n```\r\nRight now I&#39;m running as a simple uber-jar. Native compilation worked fine a while ago but I haven&#39;t tested if this error persists in the native binary.\r\n\r\nI&#39;d like the error to not be there. I&#39;m fine with a solution to suppress it but if possible I&#39;d like to know who is failing to do something here and if there is a real problem.\r\n\r\nSome versions and stuff:\r\n- Installed Java: 16\r\n- Targeted Java: 11\r\n- Quarkus: 1.13.7.Final\r\n- io.quarkiverse.jooq:quarkus-jooq : 0.2.0\r\n","title":"PrivilegedActionException in quarkus when using JOOQ","body":"<p>First up; the code works. I'm getting an exception in my log but no actual error actually occurs. The correct output gets sent to the client, the app keeps running, as far as I can tell everything is fine. Yet I have an error.</p>\n<p>I'm using Quarkus and JOOQ. There is an endpoint that triggers a <code>select().fetchInto(Custom.class)</code>. The endpoint still returns the correct data. But the log shows this error:</p>\n<pre><code>2021-07-02 12:58:25,938 SEVERE [com.sun.xml.bin.v2.run.ref.opt.Injector] (executor-thread-1) null: java.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:558)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:166)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:51)\n</code></pre>\n<p>The exception is long. And goes through a bunch of different pieces of code:</p>\n<pre><code>at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n...\nat com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\n...\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\n...\nat org.jooq.tools.Convert.&lt;clinit&gt;(Convert.java:223)\n...\nat org.jooq.impl.SelectImpl.fetchInto(SelectImpl.java:3936)\n...\nat my-code-here-somewhere\n</code></pre>\n<p>Right now I'm running as a simple uber-jar. Native compilation worked fine a while ago but I haven't tested if this error persists in the native binary.</p>\n<p>I'd like the error to not be there. I'm fine with a solution to suppress it but if possible I'd like to know who is failing to do something here and if there is a real problem.</p>\n<p>Some versions and stuff:</p>\n<ul>\n<li>Installed Java: 16</li>\n<li>Targeted Java: 11</li>\n<li>Quarkus: 1.13.7.Final</li>\n<li>io.quarkiverse.jooq:quarkus-jooq : 0.2.0</li>\n</ul>\n"},{"tags":["java","postman","amazon-cognito","micronaut","micronaut-aws"],"answers":[{"tags":[],"owner":{"account_id":10555285,"reputation":1221,"user_id":7776688,"display_name":"IEE1394"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643318022,"creation_date":1643318022,"answer_id":70885811,"question_id":70870504,"body_markdown":"There is a offline emulator for Cognito\r\n\r\nhttps://github.com/jagregory/cognito-local\r\n\r\nHave no experience with it, but i recommend to give em a shot","title":"AWS auth when debugging Java REST API via Postman locally","body":"<p>There is a offline emulator for Cognito</p>\n<p><a href=\"https://github.com/jagregory/cognito-local\" rel=\"nofollow noreferrer\">https://github.com/jagregory/cognito-local</a></p>\n<p>Have no experience with it, but i recommend to give em a shot</p>\n"}],"owner":{"account_id":15668519,"reputation":109,"user_id":11305687,"display_name":"Roper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643318022,"creation_date":1643232623,"question_id":70870504,"body_markdown":"I have recently taken over an existing Java REST API (written with Micronaut). The API is intended to be deployed on AWS, running &quot;serverless&quot; with Lambda and has Cognito for auth. \r\n\r\nFor dev, I obviously just want to just run the API locally and debug via Postman requests.\r\nAs far as I understand it, Cognito is basically out of the picture here. However, the controllers are still using the name of the principal for some operations and I want to give it valid data.\r\n\r\nLet&#39;s say my controller has a method like follows:\r\n\r\n    @Post\r\n    public HttpResponse&lt;SomeResponse&gt; createSomething(Principal principal, SomeRequest request) {\r\n        String username = principal.getName();\r\n        // ...\r\n    }\r\n\r\nWith the `java.security.Principal` being a `AwsProxySecurityContext` during runtime. How can I give a valid token/auth header in Postman so that `getName` returns a string of my choice? I would be surprised if this cannot be done without going out to the real Cognito, as everything runs locally.\r\n","title":"AWS auth when debugging Java REST API via Postman locally","body":"<p>I have recently taken over an existing Java REST API (written with Micronaut). The API is intended to be deployed on AWS, running &quot;serverless&quot; with Lambda and has Cognito for auth.</p>\n<p>For dev, I obviously just want to just run the API locally and debug via Postman requests.\nAs far as I understand it, Cognito is basically out of the picture here. However, the controllers are still using the name of the principal for some operations and I want to give it valid data.</p>\n<p>Let's say my controller has a method like follows:</p>\n<pre><code>@Post\npublic HttpResponse&lt;SomeResponse&gt; createSomething(Principal principal, SomeRequest request) {\n    String username = principal.getName();\n    // ...\n}\n</code></pre>\n<p>With the <code>java.security.Principal</code> being a <code>AwsProxySecurityContext</code> during runtime. How can I give a valid token/auth header in Postman so that <code>getName</code> returns a string of my choice? I would be surprised if this cannot be done without going out to the real Cognito, as everything runs locally.</p>\n"},{"tags":["java","arrays","variables","reference"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1608178655,"post_id":65334604,"comment_id":115505493,"body_markdown":"The loop executes while `x &lt; 3`. `x` starts at 0. Then in the first iteration, `hq[0]` with `id=0` is created. Then `x` is incremented (`x = x + 1`).  Next iteration `hq[1]` with `id=1` is created. `x` is incremented to `2`. Lastly `hq[2]` with `id=2` is created. `x` is incremented to `3` and the loop ends.","body":"The loop executes while <code>x &lt; 3</code>. <code>x</code> starts at 0. Then in the first iteration, <code>hq[0]</code> with <code>id=0</code> is created. Then <code>x</code> is incremented (<code>x = x + 1</code>).  Next iteration <code>hq[1]</code> with <code>id=1</code> is created. <code>x</code> is incremented to <code>2</code>. Lastly <code>hq[2]</code> with <code>id=2</code> is created. <code>x</code> is incremented to <code>3</code> and the loop ends."}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1608179318,"creation_date":1608179318,"answer_id":65334738,"question_id":65334604,"body_markdown":"First it creates 3 objects in the `while` loop:\r\n```\r\nhq[0] --&gt; id = 0\r\nhq[1] --&gt; id = 1\r\nhq[2] --&gt; id = 2\r\n``` \r\nThen shuffles things around:\r\n```\r\nhq[3] = hq[1];   // hq[3].id = 1\r\nhq[4] = hq[1];   // hq[4].id = 1\r\nhq[3] = null;    // null\r\nhq[4] = hq[0];   // hq[4].id = 0\r\nhq[0] = hq[3];   // null\r\nhq[3] = hq[2];   // hq[3].id = 2\r\nhq[2] = hq[0];   // null\r\n```\r\nSo you end up with:\r\n```\r\nhq[0] --&gt; null\r\nhq[1] --&gt; id = 1\r\nhq[2] --&gt; null\r\nhq[3] --&gt; id = 2\r\nhq[4] --&gt; id = 0\r\n```","title":"Problem with: Reference Variable and while loop question","body":"<p>First it creates 3 objects in the <code>while</code> loop:</p>\n<pre><code>hq[0] --&gt; id = 0\nhq[1] --&gt; id = 1\nhq[2] --&gt; id = 2\n</code></pre>\n<p>Then shuffles things around:</p>\n<pre><code>hq[3] = hq[1];   // hq[3].id = 1\nhq[4] = hq[1];   // hq[4].id = 1\nhq[3] = null;    // null\nhq[4] = hq[0];   // hq[4].id = 0\nhq[0] = hq[3];   // null\nhq[3] = hq[2];   // hq[3].id = 2\nhq[2] = hq[0];   // null\n</code></pre>\n<p>So you end up with:</p>\n<pre><code>hq[0] --&gt; null\nhq[1] --&gt; id = 1\nhq[2] --&gt; null\nhq[3] --&gt; id = 2\nhq[4] --&gt; id = 0\n</code></pre>\n"}],"owner":{"account_id":20236385,"reputation":3,"user_id":14841434,"display_name":"Lene Barnes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65334738,"answer_count":1,"score":0,"last_activity_date":1643317743,"creation_date":1608178089,"question_id":65334604,"body_markdown":"So about two weeks ago I decided that I was going to dive in and finally learn a programming language. Of course I am here because I chose Java. Aside from numerous online resources, I also purchased Head First Java, which I think has been really amazing at explaining concepts. I have to admit some of the assignments it give are really difficult for a beginner, but I have been managing up until now. Can someone please tell me what is going on here? The assignment is to determine which of the reference variable refer to which objects. Not all reference variables will be used.\r\n\r\n\r\n```\r\nclass HeapQuiz {\r\n\r\n     int id = 0;\r\n\r\n     public static void main (String [] args) {\r\n       int x = 0;\r\n       HeapQuiz [] hq = new HeapQuiz[5];\r\n       while ( x &lt; 3) {\r\n           hq[x] = new HeapQuiz();\r\n           hq[x].id = x;\r\n           x = x + 1;\r\n     }\r\n\r\n     hq[3] = hq[1];\r\n     hq[4] = hq[1];\r\n     hq[3] = null;\r\n     hq[4] = hq[0];\r\n     hq[0] = hq[3];\r\n     hq[3] = hq[2];\r\n     hq[2] = hq[0];\r\n  }\r\n}\r\n\r\nHere are the answers...\r\n\r\nhq[1] -----&gt; id = 1\r\nhq[3] -----&gt; id = 2\r\nhq[4] -----&gt; id = 0\r\n\r\n```\r\nI understand that an array is created. I think I understand the hq[x] represents the the array positions, but how is x being assigned? How does the JVM progress through the loop? The answers are posted above, but I have not idea how the loop is producing those answers. More specifically, how is hq[1] referring to id = 1 and how is hq[3] referring to id = 2 and so forth. Any help is greatly appreciated. Thanks in advance.\r\n\r\nThe Noobiest of all Noobs","title":"Problem with: Reference Variable and while loop question","body":"<p>So about two weeks ago I decided that I was going to dive in and finally learn a programming language. Of course I am here because I chose Java. Aside from numerous online resources, I also purchased Head First Java, which I think has been really amazing at explaining concepts. I have to admit some of the assignments it give are really difficult for a beginner, but I have been managing up until now. Can someone please tell me what is going on here? The assignment is to determine which of the reference variable refer to which objects. Not all reference variables will be used.</p>\n<pre><code>class HeapQuiz {\n\n     int id = 0;\n\n     public static void main (String [] args) {\n       int x = 0;\n       HeapQuiz [] hq = new HeapQuiz[5];\n       while ( x &lt; 3) {\n           hq[x] = new HeapQuiz();\n           hq[x].id = x;\n           x = x + 1;\n     }\n\n     hq[3] = hq[1];\n     hq[4] = hq[1];\n     hq[3] = null;\n     hq[4] = hq[0];\n     hq[0] = hq[3];\n     hq[3] = hq[2];\n     hq[2] = hq[0];\n  }\n}\n\nHere are the answers...\n\nhq[1] -----&gt; id = 1\nhq[3] -----&gt; id = 2\nhq[4] -----&gt; id = 0\n\n</code></pre>\n<p>I understand that an array is created. I think I understand the hq[x] represents the the array positions, but how is x being assigned? How does the JVM progress through the loop? The answers are posted above, but I have not idea how the loop is producing those answers. More specifically, how is hq[1] referring to id = 1 and how is hq[3] referring to id = 2 and so forth. Any help is greatly appreciated. Thanks in advance.</p>\n<p>The Noobiest of all Noobs</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":1,"creation_date":1638917120,"post_id":70267654,"comment_id":124214560,"body_markdown":"Have you tried removing @Id annotations from `MyCompositeIdClass` ? You may also need the `@PrimaryKeyJoinColumn` annotation to explicitly set","body":"Have you tried removing @Id annotations from <code>MyCompositeIdClass</code> ? You may also need the <code>@PrimaryKeyJoinColumn</code> annotation to explicitly set"},{"owner":{"account_id":19681626,"reputation":177,"user_id":14408620,"display_name":"viniciusmfelix"},"score":0,"creation_date":1638917457,"post_id":70267654,"comment_id":124214656,"body_markdown":"Removed the @Id annotations from the composite class and worked. Thanks!","body":"Removed the @Id annotations from the composite class and worked. Thanks!"},{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1638918411,"post_id":70267654,"comment_id":124214909,"body_markdown":"Awesome to hear :-)","body":"Awesome to hear :-)"}],"owner":{"account_id":19681626,"reputation":177,"user_id":14408620,"display_name":"viniciusmfelix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643317576,"creation_date":1638915797,"question_id":70267654,"body_markdown":"I have one JPA mapped superclass (joined inheritance strategy) that haves also a composite id class:\r\n\r\n```java\r\n@Entity\r\n@IdClass(MyCompositeIdClass.class)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class MySuperClass {\r\n  \r\n  @Id\r\n  private Long myFirstId;\r\n\r\n  @Id\r\n  private Long mySecondId;\r\n}\r\n```\r\n\r\n```java\r\npublic class MyCompositeIdClass implements Serializable {\r\n  private static long serialVersionUID = 1L;\r\n\r\n\r\n  @Id\r\n  private Long myFirstId;\r\n\r\n  @Id\r\n  private Long mySecondId;\r\n}\r\n```\r\n\r\nTherefore, I have an extension of this superclass and it&#39;s repository interface.\r\n\r\n```java\r\n@Entity\r\n@IdClass(MyCompositeIdClass.class)\r\npublic class MySubClass extends MySuperClass {\r\n\r\n  private String myAttr;\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Repository\r\npublic interface MySubClassRepository extends JpaRepository&lt;MySubClass, MyCompositeIdClass&gt; {\r\n}\r\n```\r\n\r\nAnd when executing `findAll()` repository interface method, Hibernate is executing the join query with the wrong fields comparison on the join clause (inverting both PK columns):\r\n\r\n```sql\r\nselect \r\n   mysuperc0_.my_first_id\r\n   mysuperc0_.my_second_id\r\n   mysuperc0_1_.my_attr\r\nfrom\r\n   my_super_class mysuperc0_\r\ninner join\r\n   my_sub_class mysuperc_0_1_\r\non\r\n   my_superc0_.my_first_id = mysuperc_0_1_.my_second_id\r\nand\r\n   my_superc0_.my_second_id = mysuperc_0_1_.my_first_id\r\n```\r\n\r\nWas it configuration issues or a framework internal problem? Tried to research about inheritance issues with composite id, but got only opened issues ran from exceptions, but, in this case, I do not have exceptions, it just returns an empty array.","title":"Hibernate: Inherited Superclass with Composite ID","body":"<p>I have one JPA mapped superclass (joined inheritance strategy) that haves also a composite id class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(MyCompositeIdClass.class)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class MySuperClass {\n  \n  @Id\n  private Long myFirstId;\n\n  @Id\n  private Long mySecondId;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCompositeIdClass implements Serializable {\n  private static long serialVersionUID = 1L;\n\n\n  @Id\n  private Long myFirstId;\n\n  @Id\n  private Long mySecondId;\n}\n</code></pre>\n<p>Therefore, I have an extension of this superclass and it's repository interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(MyCompositeIdClass.class)\npublic class MySubClass extends MySuperClass {\n\n  private String myAttr;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface MySubClassRepository extends JpaRepository&lt;MySubClass, MyCompositeIdClass&gt; {\n}\n</code></pre>\n<p>And when executing <code>findAll()</code> repository interface method, Hibernate is executing the join query with the wrong fields comparison on the join clause (inverting both PK columns):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select \n   mysuperc0_.my_first_id\n   mysuperc0_.my_second_id\n   mysuperc0_1_.my_attr\nfrom\n   my_super_class mysuperc0_\ninner join\n   my_sub_class mysuperc_0_1_\non\n   my_superc0_.my_first_id = mysuperc_0_1_.my_second_id\nand\n   my_superc0_.my_second_id = mysuperc_0_1_.my_first_id\n</code></pre>\n<p>Was it configuration issues or a framework internal problem? Tried to research about inheritance issues with composite id, but got only opened issues ran from exceptions, but, in this case, I do not have exceptions, it just returns an empty array.</p>\n"},{"tags":["java","swing","drag-and-drop"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643317173,"post_id":70885575,"comment_id":125314630,"body_markdown":"DnD is a complex, multiple layered API.  Which part are you talking about?  The `Transferable` layer or of the &quot;core&quot; layer?  If you&#39;re taking about the higher level `Transferable` layer, then you need to supply your own `TransferHandler`.  I doubt you could change the default action, as it&#39;s more complicated then just changing the &quot;type&quot; of operation","body":"DnD is a complex, multiple layered API.  Which part are you talking about?  The <code>Transferable</code> layer or of the &quot;core&quot; layer?  If you&#39;re taking about the higher level <code>Transferable</code> layer, then you need to supply your own <code>TransferHandler</code>.  I doubt you could change the default action, as it&#39;s more complicated then just changing the &quot;type&quot; of operation"},{"owner":{"account_id":10631590,"reputation":51,"user_id":7829568,"display_name":"Todd Hill"},"score":0,"creation_date":1643336551,"post_id":70885575,"comment_id":125318856,"body_markdown":"Thanks for the reply. I have a TransferHandler. Would like to switch the default move with copy and the associated cursor changes. But it might not be possible in any reasonable way. Could not find anything about that.","body":"Thanks for the reply. I have a TransferHandler. Would like to switch the default move with copy and the associated cursor changes. But it might not be possible in any reasonable way. Could not find anything about that."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643337406,"post_id":70885575,"comment_id":125318983,"body_markdown":"Take a look at [TransferHandler#getSourceActions](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/TransferHandler.html#getSourceActions(javax.swing.JComponent)).  This should return `TransferHandler#COPY`.  As to the mouse cursor, going WAY back to Java 6/7 there was a bug which prevented the mouse cursor from been updated (or at least customising from memory), so you might have issues with that","body":"Take a look at <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/TransferHandler.html#getSourceActions(javax.swing.JComponent)\" rel=\"nofollow noreferrer\">TransferHandler#getSourceActions</a>.  This should return <code>TransferHandler#COPY</code>.  As to the mouse cursor, going WAY back to Java 6/7 there was a bug which prevented the mouse cursor from been updated (or at least customising from memory), so you might have issues with that"}],"owner":{"account_id":10631590,"reputation":51,"user_id":7829568,"display_name":"Todd Hill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643316811,"creation_date":1643316811,"question_id":70885575,"body_markdown":"Is it possible to reverse the move and copy drag &#39;n drop actions in Java Swing? That is, make copy the default drag action with Ctrl-drag as move, including changing the cursor accordingly?\r\n","title":"Change Java Swing default drag and drop action to copy","body":"<p>Is it possible to reverse the move and copy drag 'n drop actions in Java Swing? That is, make copy the default drag action with Ctrl-drag as move, including changing the cursor accordingly?</p>\n"},{"tags":["java","json","rest","jackson","httpclient"],"answers":[{"tags":[],"owner":{"account_id":3068305,"reputation":1371,"user_id":2599537,"accept_rate":73,"display_name":"devil0150"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643316781,"creation_date":1643316781,"answer_id":70885573,"question_id":70885186,"body_markdown":"This is happening because you&#39;re trying to deserialize a Json *Object* into a `List` in java. The error message explains it by saying that the starting character (`JsonToken.START_OBJECT`) is the start of a json object not a json array, so you can&#39;t deserialize it directly into a `List`, but should deserialize it into an object.\r\n\r\nTry changing:\r\n\r\n    List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;())\r\n\r\ninto\r\n\r\n    WallHaven post = mapper.readValue(response.body(), new TypeReference&lt;WallHaven&gt;())","title":"Java consuming restful api with httpclient. Having trouble with Jackson json MismatchedInputException","body":"<p>This is happening because you're trying to deserialize a Json <em>Object</em> into a <code>List</code> in java. The error message explains it by saying that the starting character (<code>JsonToken.START_OBJECT</code>) is the start of a json object not a json array, so you can't deserialize it directly into a <code>List</code>, but should deserialize it into an object.</p>\n<p>Try changing:</p>\n<pre><code>List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;())\n</code></pre>\n<p>into</p>\n<pre><code>WallHaven post = mapper.readValue(response.body(), new TypeReference&lt;WallHaven&gt;())\n</code></pre>\n"}],"owner":{"account_id":13241139,"reputation":21,"user_id":9561601,"display_name":"rairai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70885573,"answer_count":1,"score":0,"last_activity_date":1643316781,"creation_date":1643314710,"question_id":70885186,"body_markdown":"This is my first time using jackson/consuming apis/httpclient. I&#39;m getting this error com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;WallHaven&gt;` from Object value (token `JsonToken.START_OBJECT`) . The api I&#39;m trying to consume is https://wallhaven.cc/help/api\r\n\r\n    try {\r\n            HttpClient client = HttpClient.newHttpClient();\r\n            HttpRequest request = HttpRequest.newBuilder()\r\n                    .GET()\r\n                    .uri(URI.create(&quot;https://wallhaven.cc/api/v1/w/pkgkkp&quot;))\r\n                    .build();\r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;() {\r\n            });\r\n            posts.forEach(System.out::println);\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nThe api json format is https://pastebin.com/tbSaVJ1T \r\n\r\nHere&#39;s my WallHaven class\r\n\r\n    public class WallHaven {\r\n    public Data data;\r\n\r\n    public WallHaven(Data data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public WallHaven() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;WallHaven{&quot; +\r\n                &quot;data=&quot; + data.getPath() +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n\r\nData contains all the other classes/variables","title":"Java consuming restful api with httpclient. Having trouble with Jackson json MismatchedInputException","body":"<p>This is my first time using jackson/consuming apis/httpclient. I'm getting this error com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>java.util.ArrayList&lt;WallHaven&gt;</code> from Object value (token <code>JsonToken.START_OBJECT</code>) . The api I'm trying to consume is <a href=\"https://wallhaven.cc/help/api\" rel=\"nofollow noreferrer\">https://wallhaven.cc/help/api</a></p>\n<pre><code>try {\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n                .GET()\n                .uri(URI.create(&quot;https://wallhaven.cc/api/v1/w/pkgkkp&quot;))\n                .build();\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;WallHaven&gt; posts = mapper.readValue(response.body(), new TypeReference&lt;List&lt;WallHaven&gt;&gt;() {\n        });\n        posts.forEach(System.out::println);\n\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The api json format is <a href=\"https://pastebin.com/tbSaVJ1T\" rel=\"nofollow noreferrer\">https://pastebin.com/tbSaVJ1T</a></p>\n<p>Here's my WallHaven class</p>\n<pre><code>public class WallHaven {\npublic Data data;\n\npublic WallHaven(Data data) {\n    this.data = data;\n}\n\npublic WallHaven() {\n\n}\n\n@Override\npublic String toString() {\n    return &quot;WallHaven{&quot; +\n            &quot;data=&quot; + data.getPath() +\n            '}';\n}\n</code></pre>\n<p>}</p>\n<p>Data contains all the other classes/variables</p>\n"},{"tags":["java","jsp","servlets","paypal-sandbox","content-security-policy"],"answers":[{"tags":[],"owner":{"account_id":2363385,"reputation":28333,"user_id":2069605,"display_name":"Preston PHX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643316236,"creation_date":1643316236,"answer_id":70885479,"question_id":70884887,"body_markdown":"The error in the browser console explains the problem\r\n\r\n&gt; Uncaught Error: a.purchase_units is undefined","title":"Paypal JS SDK Automatically Closes in Sandbox JSP Servlet Web Application","body":"<p>The error in the browser console explains the problem</p>\n<blockquote>\n<p>Uncaught Error: a.purchase_units is undefined</p>\n</blockquote>\n"}],"owner":{"account_id":15618573,"reputation":49,"user_id":11268126,"display_name":"Sayuru Akash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70885479,"answer_count":1,"score":0,"last_activity_date":1643316236,"creation_date":1643313206,"question_id":70884887,"body_markdown":"I&#39;m testing a sandbox PayPal for a learning project in the JSP servlet. I&#39;m using NetBeans IDE with the glassfish server and XAMPP for the database. The following code runs the Paypal payment buttons, but when I click the payment button Paypal window pops up and crashes suddenly.\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Purchase&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;script src=&quot;https://www.paypal.com/sdk/js?client-id=AbdB49QXlBjEzeWDSu1ws2QrNR3FpcpcGPOif2a7XvK6sDKMkD8ijA2q0c5CdI-w2cUHlKTj_LLyn5cu&amp;locale=en_US&quot; data-csp-nonce=&quot;xxx&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div id=&quot;paypal-button-container&quot;&gt;&lt;/div&gt;\r\n        \r\n        &lt;script&gt;\r\n            paypal.Buttons({\r\n                createOrder: function(data, actions){\r\n                    return actions.order.create({\r\n                        purcchase_units: [{\r\n                                amount:{\r\n                                    value: &#39;295&#39;\r\n                                }\r\n                        }]\r\n                    });\r\n                }\r\n            }).render(&#39;#paypal-button-container&#39;)\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\nThe above code is in the index.jsp file and the auto close issue persists. According to what I found online it could be due to my localhost is HTTP and Paypal blocking non-https Requests. If so, please help me to set up HTTPS on my server. Or if the issue is something else hope to know about it.","title":"Paypal JS SDK Automatically Closes in Sandbox JSP Servlet Web Application","body":"<p>I'm testing a sandbox PayPal for a learning project in the JSP servlet. I'm using NetBeans IDE with the glassfish server and XAMPP for the database. The following code runs the Paypal payment buttons, but when I click the payment button Paypal window pops up and crashes suddenly.</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Purchase&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;script src=&quot;https://www.paypal.com/sdk/js?client-id=AbdB49QXlBjEzeWDSu1ws2QrNR3FpcpcGPOif2a7XvK6sDKMkD8ijA2q0c5CdI-w2cUHlKTj_LLyn5cu&amp;locale=en_US&quot; data-csp-nonce=&quot;xxx&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=&quot;paypal-button-container&quot;&gt;&lt;/div&gt;\n    \n    &lt;script&gt;\n        paypal.Buttons({\n            createOrder: function(data, actions){\n                return actions.order.create({\n                    purcchase_units: [{\n                            amount:{\n                                value: '295'\n                            }\n                    }]\n                });\n            }\n        }).render('#paypal-button-container')\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The above code is in the index.jsp file and the auto close issue persists. According to what I found online it could be due to my localhost is HTTP and Paypal blocking non-https Requests. If so, please help me to set up HTTPS on my server. Or if the issue is something else hope to know about it.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1560711028,"post_id":56621672,"comment_id":99816320,"body_markdown":"Are there going to be more than one line breaks?","body":"Are there going to be more than one line breaks?"}],"answers":[{"tags":[],"owner":{"account_id":1549015,"reputation":1327,"user_id":1441857,"display_name":"Rohde Fischer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560710924,"creation_date":1560710924,"answer_id":56621704,"question_id":56621672,"body_markdown":"I wouldn&#39;t recommend parsing CVS yourself if you can avoid it. In general parsing raw text often become a hazzle because you need to deal with all sorts of exceptions, and for instance you quite easily reach the point where regular expressions are not enough and you need to be able to parse context free grammars. \r\n\r\nThere are some options on libraries for parsing CSV here: https://stackoverflow.com/questions/843997/csv-parsing-in-java-working-example","title":"Java: How to remove all line breaks between double quotes","body":"<p>I wouldn't recommend parsing CVS yourself if you can avoid it. In general parsing raw text often become a hazzle because you need to deal with all sorts of exceptions, and for instance you quite easily reach the point where regular expressions are not enough and you need to be able to parse context free grammars. </p>\n\n<p>There are some options on libraries for parsing CSV here: <a href=\"https://stackoverflow.com/questions/843997/csv-parsing-in-java-working-example\">CSV parsing in Java - working example..?</a></p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643315905,"creation_date":1560710945,"answer_id":56621707,"question_id":56621672,"body_markdown":"You may match all substrings between double quotation marks using a simple `&quot;[^&quot;]*&quot;` regex and remove all linebreaks in between using\r\n```java\r\nString s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\r\nStringBuffer result = new StringBuffer();\r\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\r\nwhile (m.find()) {\r\n\tm.appendReplacement(result, m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\r\n}\r\nm.appendTail(result);\r\nSystem.out.println(result.toString());\r\n```\r\nOr, beginning with the Java 9+, you can use a bit shorter code:\r\n```java\r\nString s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\r\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\r\ns = m.replaceAll(r -&gt; m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\r\nSystem.out.println(s);\r\n```\r\nOutput:\r\n\r\n    &quot;Test Line wo line break&quot;; &quot;Test Line with line break&quot;\r\n    &quot;Test Line2 wo line break&quot;; &quot;Test Line2 with line break&quot;\r\n\r\nSee the [Java demo online][1] / [Java code demo #2][2].\r\n\r\nNote that `.replaceAll(&quot;\\\\R+&quot;, &quot;&quot;)` finds 1 or more any line break sequences and removes them only from what `&quot;[^&quot;]*&quot;` matched.\r\n\r\n**Escape sequence support between double quotation marks**\r\n\r\nIf your strings between double quotes can contain escaped sequences you need to use a different pattern:\r\n```java\r\nPattern.compile(&quot;\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;, Pattern.DOTALL)\r\n```\r\nNote the `Pattern.DOTALL` option, it will allow `.` to match line break chars.\r\n\r\n*Details*:\r\n\r\n - `&quot;` - a `&quot;` char\r\n - `[^&quot;\\\\]*` - zero or more chars other than `&quot;` and `\\` chars\r\n - `(?:\\\\.[^&quot;\\\\]*)*` - zero or more sequences of a `\\` and any char after it followed with zero or more chars other than `&quot;` and `\\` chars\r\n - `&quot;` - a `&quot;` char.\r\n\r\n\r\n  [1]: https://ideone.com/G5X7S6\r\n  [2]: https://ideone.com/tIiU2f","title":"Java: How to remove all line breaks between double quotes","body":"<p>You may match all substrings between double quotation marks using a simple <code>&quot;[^&quot;]*&quot;</code> regex and remove all linebreaks in between using</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\nStringBuffer result = new StringBuffer();\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\nwhile (m.find()) {\n    m.appendReplacement(result, m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\n}\nm.appendTail(result);\nSystem.out.println(result.toString());\n</code></pre>\n<p>Or, beginning with the Java 9+, you can use a bit shorter code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;\\&quot;Test Line wo line break\\&quot;; \\&quot;Test Line \\nwith line break\\&quot;\\n\\&quot;Test Line2 wo line break\\&quot;; \\&quot;Test Line2 \\nwith line break\\&quot;&quot;;\nMatcher m = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;&quot;).matcher(s);\ns = m.replaceAll(r -&gt; m.group().replaceAll(&quot;\\\\R+&quot;, &quot;&quot;));\nSystem.out.println(s);\n</code></pre>\n<p>Output:</p>\n<pre><code>&quot;Test Line wo line break&quot;; &quot;Test Line with line break&quot;\n&quot;Test Line2 wo line break&quot;; &quot;Test Line2 with line break&quot;\n</code></pre>\n<p>See the <a href=\"https://ideone.com/G5X7S6\" rel=\"nofollow noreferrer\">Java demo online</a> / <a href=\"https://ideone.com/tIiU2f\" rel=\"nofollow noreferrer\">Java code demo #2</a>.</p>\n<p>Note that <code>.replaceAll(&quot;\\\\R+&quot;, &quot;&quot;)</code> finds 1 or more any line break sequences and removes them only from what <code>&quot;[^&quot;]*&quot;</code> matched.</p>\n<p><strong>Escape sequence support between double quotation marks</strong></p>\n<p>If your strings between double quotes can contain escaped sequences you need to use a different pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(&quot;\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;&quot;, Pattern.DOTALL)\n</code></pre>\n<p>Note the <code>Pattern.DOTALL</code> option, it will allow <code>.</code> to match line break chars.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>&quot;</code> - a <code>&quot;</code> char</li>\n<li><code>[^&quot;\\\\]*</code> - zero or more chars other than <code>&quot;</code> and <code>\\</code> chars</li>\n<li><code>(?:\\\\.[^&quot;\\\\]*)*</code> - zero or more sequences of a <code>\\</code> and any char after it followed with zero or more chars other than <code>&quot;</code> and <code>\\</code> chars</li>\n<li><code>&quot;</code> - a <code>&quot;</code> char.</li>\n</ul>\n"}],"owner":{"account_id":227593,"reputation":1776,"user_id":489360,"accept_rate":79,"display_name":"TerenceJackson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1543,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56621707,"answer_count":2,"score":2,"last_activity_date":1643315905,"creation_date":1560710618,"question_id":56621672,"body_markdown":"I am having a big CSV file which I am parsing in Java.\r\nThe problem is, that in some of the text sections, which are marked with &quot;&quot;, I am having line breaks.\r\nI am now trying to remove all the line breaks in the &quot;&quot; sections but was not successful so far.\r\n\r\nFor example, I am having the following CSV:\r\n\r\n    &quot;Test Line wo line break&quot;; &quot;Test Line \r\n    with line break&quot;\r\n    &quot;Test Line2 wo line break&quot;; &quot;Test Line2 \r\n    with line break&quot;\r\n\r\nThe result should be:\r\n\r\n    &quot;Test Line wo line break&quot;; &quot;Test Line with line break&quot;\r\n    &quot;Test Line2 wo line break&quot;; &quot;Test Line2 with line break&quot;\r\n\r\nI have tried the following so far:\r\n\r\n    s.replaceAll(&quot;(\\\\w)*\\r\\n&quot;, &quot;$1&quot;);\r\n\r\nBut this, unfortunately, replaces all line breaks, also the one at the end of the lines.\r\n\r\nThen I added the double apostrophes to the regex:\r\n\r\n    s.replaceAll(&quot;\\&quot;(\\\\w)*\\r\\n\\&quot;&quot;, &quot;$1&quot;);\r\n\r\nBut with this, unfortunately, nothing gets replaces at all.\r\n\r\nCan you please help me find out what I am doing wrong here?\r\n\r\nThanks in advance","title":"Java: How to remove all line breaks between double quotes","body":"<p>I am having a big CSV file which I am parsing in Java.\nThe problem is, that in some of the text sections, which are marked with \"\", I am having line breaks.\nI am now trying to remove all the line breaks in the \"\" sections but was not successful so far.</p>\n\n<p>For example, I am having the following CSV:</p>\n\n<pre><code>\"Test Line wo line break\"; \"Test Line \nwith line break\"\n\"Test Line2 wo line break\"; \"Test Line2 \nwith line break\"\n</code></pre>\n\n<p>The result should be:</p>\n\n<pre><code>\"Test Line wo line break\"; \"Test Line with line break\"\n\"Test Line2 wo line break\"; \"Test Line2 with line break\"\n</code></pre>\n\n<p>I have tried the following so far:</p>\n\n<pre><code>s.replaceAll(\"(\\\\w)*\\r\\n\", \"$1\");\n</code></pre>\n\n<p>But this, unfortunately, replaces all line breaks, also the one at the end of the lines.</p>\n\n<p>Then I added the double apostrophes to the regex:</p>\n\n<pre><code>s.replaceAll(\"\\\"(\\\\w)*\\r\\n\\\"\", \"$1\");\n</code></pre>\n\n<p>But with this, unfortunately, nothing gets replaces at all.</p>\n\n<p>Can you please help me find out what I am doing wrong here?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":17404423,"reputation":274,"user_id":12612778,"display_name":"glitch99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643315760,"creation_date":1643315760,"answer_id":70885394,"question_id":70884302,"body_markdown":"There is a pause and resume method in the kafka api\r\nhttps://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\r\n\r\n\r\nIf you check the Consumption Flow Control section it states the following: \r\n\r\n&gt; Kafka supports dynamic controlling of consumption flows by using pause(Collection) and resume(Collection) to pause the consumption on the specified assigned partitions and resume the consumption on the specified paused partitions respectively in the future poll(long) calls.\r\n\r\n","title":"Correct way of throttling kafka consumer messages in java","body":"<p>There is a pause and resume method in the kafka api\n<a href=\"https://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\" rel=\"nofollow noreferrer\">https://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)</a></p>\n<p>If you check the Consumption Flow Control section it states the following:</p>\n<blockquote>\n<p>Kafka supports dynamic controlling of consumption flows by using pause(Collection) and resume(Collection) to pause the consumption on the specified assigned partitions and resume the consumption on the specified paused partitions respectively in the future poll(long) calls.</p>\n</blockquote>\n"}],"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4745,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70885394,"answer_count":1,"score":4,"last_activity_date":1643315760,"creation_date":1643310235,"question_id":70884302,"body_markdown":"I&#39;m having a situation where 1 thread is consuming messages from a Kafka topic at a fast rate and putting them into a blocking queue that is then getting consumed in another thread writing bulk inserts into a mongo database collection. I have not seen a lot of answers as this is a common problem, my app is crashing because the message q gets so big and runs out of memory as the mongo db writer thread can&#39;t keep up with the message consumption rate. \r\n\r\nWhat is the right way to configure a kafka consumer to pause message consumption for a period of time until the message q gets back to a reasonable size. Can I do a pause or something in the pool loop? I don&#39;t think so otherwise the consumer will be flagged as not online, could I close the Kafka consumer every time the message q gets to be too large and then reconnect when its back to a manageable size? I could but that does not seem like a clean solution what I am looking for is to say &quot;hey kafka please pause the sending of messages to my active consumer until I tell you to resume&quot; as this would allow me to pull messages at the speed I can insert them into my data store. \r\n\r\nPlease help! ","title":"Correct way of throttling kafka consumer messages in java","body":"<p>I'm having a situation where 1 thread is consuming messages from a Kafka topic at a fast rate and putting them into a blocking queue that is then getting consumed in another thread writing bulk inserts into a mongo database collection. I have not seen a lot of answers as this is a common problem, my app is crashing because the message q gets so big and runs out of memory as the mongo db writer thread can't keep up with the message consumption rate.</p>\n<p>What is the right way to configure a kafka consumer to pause message consumption for a period of time until the message q gets back to a reasonable size. Can I do a pause or something in the pool loop? I don't think so otherwise the consumer will be flagged as not online, could I close the Kafka consumer every time the message q gets to be too large and then reconnect when its back to a manageable size? I could but that does not seem like a clean solution what I am looking for is to say &quot;hey kafka please pause the sending of messages to my active consumer until I tell you to resume&quot; as this would allow me to pull messages at the speed I can insert them into my data store.</p>\n<p>Please help!</p>\n"},{"tags":["java","npm","vaadin","production","vaadin-flow"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1643230145,"post_id":70869745,"comment_id":125287641,"body_markdown":"Can you run mvnw vaadin:dance before the build. and also move the project to a folder that is Boot sync by onedrive","body":"Can you run mvnw vaadin:dance before the build. and also move the project to a folder that is Boot sync by onedrive"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643230920,"post_id":70869745,"comment_id":125287922,"body_markdown":"Not not boot, sorry for the typo","body":"Not not boot, sorry for the typo"},{"owner":{"account_id":22012736,"reputation":41,"user_id":16373572,"display_name":"Tom&#225;s Atrat"},"score":0,"creation_date":1643232521,"post_id":70869745,"comment_id":125288389,"body_markdown":"Thank you very much!!!! It really did the trick!!!! Entirely grateful!!","body":"Thank you very much!!!! It really did the trick!!!! Entirely grateful!!"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1643234884,"post_id":70869745,"comment_id":125289136,"body_markdown":"Please post and accept an Answer to your own Question, explains the whole solution, for posterity’s sake.","body":"Please post and accept an Answer to your own Question, explains the whole solution, for posterity’s sake."}],"answers":[{"tags":[],"owner":{"account_id":22012736,"reputation":41,"user_id":16373572,"display_name":"Tom&#225;s Atrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643314822,"creation_date":1643314822,"answer_id":70885210,"question_id":70869745,"body_markdown":"As Simon Martinelli said, running `vaadin:dance` in the command prompt and moving the folder out of the One Drive scope before `mvnw clean package -Pproduction` command was the solution to my problem","title":"Problems deploying a Vaadin App to production","body":"<p>As Simon Martinelli said, running <code>vaadin:dance</code> in the command prompt and moving the folder out of the One Drive scope before <code>mvnw clean package -Pproduction</code> command was the solution to my problem</p>\n"}],"owner":{"account_id":22012736,"reputation":41,"user_id":16373572,"display_name":"Tom&#225;s Atrat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70885210,"answer_count":1,"score":3,"last_activity_date":1643314822,"creation_date":1643228296,"question_id":70869745,"body_markdown":"I&#39;m working with Java 8 and Vaadin 22. When I want to deploy my starter app to production by \r\n\r\n    mvnw clean package -Pproduction\r\n\r\nI find several problems while it is building the frontend. It is continuously saying &quot;Cannot find module &#39;name of module&#39;&quot;. I try to install it with npm, but after doing so, there is a new module that is not found. I&#180;ve also tried with `mvnw -Pproduction`, but the problem persists. I&#39;m doing exactly the same things as other people who have no issues, so I don&#39;t know what I&#39;m doing wrong.\r\n\r\nHere are some photos of the problems: [cannot find call-bind module][1] and\r\n[cannot find css-select module][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IJ8sz.png\r\n  [2]: https://i.stack.imgur.com/SjMgc.png","title":"Problems deploying a Vaadin App to production","body":"<p>I'm working with Java 8 and Vaadin 22. When I want to deploy my starter app to production by</p>\n<pre><code>mvnw clean package -Pproduction\n</code></pre>\n<p>I find several problems while it is building the frontend. It is continuously saying &quot;Cannot find module 'name of module'&quot;. I try to install it with npm, but after doing so, there is a new module that is not found. I´ve also tried with <code>mvnw -Pproduction</code>, but the problem persists. I'm doing exactly the same things as other people who have no issues, so I don't know what I'm doing wrong.</p>\n<p>Here are some photos of the problems: <a href=\"https://i.stack.imgur.com/IJ8sz.png\" rel=\"nofollow noreferrer\">cannot find call-bind module</a> and\n<a href=\"https://i.stack.imgur.com/SjMgc.png\" rel=\"nofollow noreferrer\">cannot find css-select module</a></p>\n"},{"tags":["java","url","resolve"],"comments":[{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":0,"creation_date":1269803222,"post_id":2534124,"comment_id":2533640,"body_markdown":"What was the output you were expecting?","body":"What was the output you were expecting?"},{"owner":{"account_id":115726,"reputation":363,"user_id":303725,"display_name":"Cpa"},"score":1,"creation_date":1269803401,"post_id":2534124,"comment_id":2533653,"body_markdown":"&quot;http://www.foo.com/bar.html&quot; would have been fine.","body":"&quot;<a href=\"http://www.foo.com/bar.html\" rel=\"nofollow noreferrer\">foo.com/bar.html</a>&quot; would have been fine."},{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":0,"creation_date":1269817560,"post_id":2534124,"comment_id":2534673,"body_markdown":"Why are you using two URIs? There must be a reason but it&#39;s unclear.","body":"Why are you using two URIs? There must be a reason but it&#39;s unclear."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658437581,"post_id":2534124,"comment_id":129058113,"body_markdown":"@JamesP. What were you expecting him to use?","body":"@JamesP. What were you expecting him to use?"}],"answers":[{"tags":[],"owner":{"account_id":7920,"reputation":10704,"user_id":13956,"accept_rate":100,"display_name":"Mike Tunnicliffe"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1269819272,"creation_date":1269819272,"answer_id":2535032,"question_id":2534124,"body_markdown":"Sounds like you probably want to use URL rather than URI (which is more general and needs to deal with a less strict syntax.)  \r\n\r\n    URI a = new URI(&quot;http://www.foo.com&quot;);\r\n    URI b = new URI(&quot;bar.html&quot;);\r\n    URI c = a.resolve(b);\r\n    c.toString()     -&gt; &quot;http://www.foo.combar.html&quot;\r\n    c.getAuthority() -&gt; &quot;www.foo.com&quot;\r\n    c.getPath()      -&gt; &quot;bar.html&quot;\r\n\r\nURI&#39;s toString() doesn&#39;t behave as you might expect, but given its general nature it may be that it should be forgiven.  \r\n\r\nSadly URI&#39;s toURL() method doesn&#39;t behave quite as I would have hoped to give you what you want.\r\n\r\n    URL u = c.toURL();\r\n    u.toString()     -&gt; &quot;http://www.foo.combar.html&quot;\r\n    u.getAuthority() -&gt; &quot;www.foo.combar.html&quot;  --- Oh dear :(\r\n\r\n**So best just to start straight out with a URL to get what you want:**\r\n\r\n    URL x = new URL(&quot;http://www.foo.com&quot;);\r\n    URL y = new URL(x, &quot;bar.html&quot;);\r\n    y.toString() -&gt; &quot;http://www.foo.com/bar.html&quot;\r\n","title":"Java URI.resolve","body":"<p>Sounds like you probably want to use URL rather than URI (which is more general and needs to deal with a less strict syntax.)  </p>\n\n<pre><code>URI a = new URI(\"http://www.foo.com\");\nURI b = new URI(\"bar.html\");\nURI c = a.resolve(b);\nc.toString()     -&gt; \"http://www.foo.combar.html\"\nc.getAuthority() -&gt; \"www.foo.com\"\nc.getPath()      -&gt; \"bar.html\"\n</code></pre>\n\n<p>URI's toString() doesn't behave as you might expect, but given its general nature it may be that it should be forgiven.  </p>\n\n<p>Sadly URI's toURL() method doesn't behave quite as I would have hoped to give you what you want.</p>\n\n<pre><code>URL u = c.toURL();\nu.toString()     -&gt; \"http://www.foo.combar.html\"\nu.getAuthority() -&gt; \"www.foo.combar.html\"  --- Oh dear :(\n</code></pre>\n\n<p><strong>So best just to start straight out with a URL to get what you want:</strong></p>\n\n<pre><code>URL x = new URL(\"http://www.foo.com\");\nURL y = new URL(x, \"bar.html\");\ny.toString() -&gt; \"http://www.foo.com/bar.html\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299780,"reputation":1094,"user_id":606571,"accept_rate":56,"display_name":"UltraMaster"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1300806103,"creation_date":1300805575,"answer_id":5393113,"question_id":2534124,"body_markdown":"Ok, appears from URL deffinition [scheme://domain:port/path?query_string#fragment_id][1]\r\nthere should be 3 slashes before path (two after scheme and one directly before path)&lt;br/&gt;\r\n2 situation can occure:&lt;br/&gt;\r\n&lt;ol&gt;there are 3 slashes in your URI =&gt; everything is OK&lt;/ol&gt;\r\n&lt;ol&gt;there are less then 3 slashes in your URI =&gt; you need to add slash at the end of URI&lt;/ol&gt;\r\n\r\nthere is my snappet of code:&lt;br/&gt;\r\n\r\n    String url = &quot;http://www.foo.com&quot;;\r\n    String endSlash=&quot;&quot;;\r\n    int indexOfSlash = 0;\r\n    for(int i = 0;i&lt;3;i++){\r\n       int nextIndex = url.indexOf(&#39;/&#39;,indexOfSlash);\r\n       if(!(nextIndex&gt;0)){\r\n          if(i&gt;1){\r\n             endSlash=&quot;/&quot;;\r\n          }else{\r\n             throw new MalformedURLException(&quot;Bad given url format, mising :// after schema&quot;);\r\n          }\r\n       }else{\r\n          indexOfSlash = ++nextIndex;\r\n       }\r\n    }\r\n    URL rightUrl = new URL(url+endSlash);\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Uniform_Resource_Locator","title":"Java URI.resolve","body":"<p>Ok, appears from URL deffinition <a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"nofollow\">scheme://domain:port/path?query_string#fragment_id</a>\nthere should be 3 slashes before path (two after scheme and one directly before path)<br/>\n2 situation can occure:<br/></p>\n\n<ol>there are 3 slashes in your URI => everything is OK</ol>\n\n<ol>there are less then 3 slashes in your URI => you need to add slash at the end of URI</ol>\n\n<p>there is my snappet of code:<br/></p>\n\n<pre><code>String url = \"http://www.foo.com\";\nString endSlash=\"\";\nint indexOfSlash = 0;\nfor(int i = 0;i&lt;3;i++){\n   int nextIndex = url.indexOf('/',indexOfSlash);\n   if(!(nextIndex&gt;0)){\n      if(i&gt;1){\n         endSlash=\"/\";\n      }else{\n         throw new MalformedURLException(\"Bad given url format, mising :// after schema\");\n      }\n   }else{\n      indexOfSlash = ++nextIndex;\n   }\n}\nURL rightUrl = new URL(url+endSlash);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":791042,"reputation":119,"user_id":896969,"display_name":"Mohammad Amin Bandekhoda"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1313586677,"creation_date":1313507987,"answer_id":7080648,"question_id":2534124,"body_markdown":"URI should contain the final separator(&#39;/&#39;) as well to resolve the way you want: \r\n\r\n    URI a = new URI(&quot;http://www.foo.com/&quot;);","title":"Java URI.resolve","body":"<p>URI should contain the final separator('/') as well to resolve the way you want: </p>\n\n<pre><code>URI a = new URI(\"http://www.foo.com/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1573642832,"creation_date":1573642832,"answer_id":58835656,"question_id":2534124,"body_markdown":"**URI.resolve** behaves like if you are on a HTML page like `http://example.org/path/to/menu.html` and click a link with `href=&quot;page1.html&quot;`: It cuts off the last segment (here `menu.html`) and puts `page1.html` in its place.\r\n\r\n(`http://example.org/path/to/menu.html`, `page1.html`) → `http://example.org/path/to/page1.html`\r\n\r\nThis works also, if the object you call resolve on **is a directory, denoted by ending in a slash:**\r\n\r\n(`http://example.org/path/to/`, `page1.html`) → `http://example.org/path/to/page1.html`\r\n\r\nIf it **does not end in a slash,** the outcome is not what you might expect:\r\n\r\n(`http://example.org/path/to`, `page1.html`) → `http://example.org/path/page1.html` (missing &quot;to&quot;)\r\n\r\nIf you **know** that the first argument of the URIs to concatenate is a directory, but you don’t know in which format you get it (with or without trailing slash), this might help you:\r\n\r\n    static URI asDirectory(URI uri) {\r\n        String uriString = uri.toString();\r\n        return !uriString.endsWith(&quot;/&quot;) ? URI.create(uriString.concat(&quot;/&quot;)) : uri;\r\n    }\r\n\r\n","title":"Java URI.resolve","body":"<p><strong>URI.resolve</strong> behaves like if you are on a HTML page like <code>http://example.org/path/to/menu.html</code> and click a link with <code>href=\"page1.html\"</code>: It cuts off the last segment (here <code>menu.html</code>) and puts <code>page1.html</code> in its place.</p>\n\n<p>(<code>http://example.org/path/to/menu.html</code>, <code>page1.html</code>) → <code>http://example.org/path/to/page1.html</code></p>\n\n<p>This works also, if the object you call resolve on <strong>is a directory, denoted by ending in a slash:</strong></p>\n\n<p>(<code>http://example.org/path/to/</code>, <code>page1.html</code>) → <code>http://example.org/path/to/page1.html</code></p>\n\n<p>If it <strong>does not end in a slash,</strong> the outcome is not what you might expect:</p>\n\n<p>(<code>http://example.org/path/to</code>, <code>page1.html</code>) → <code>http://example.org/path/page1.html</code> (missing \"to\")</p>\n\n<p>If you <strong>know</strong> that the first argument of the URIs to concatenate is a directory, but you don’t know in which format you get it (with or without trailing slash), this might help you:</p>\n\n<pre><code>static URI asDirectory(URI uri) {\n    String uriString = uri.toString();\n    return !uriString.endsWith(\"/\") ? URI.create(uriString.concat(\"/\")) : uri;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6288523,"reputation":3456,"user_id":4886927,"accept_rate":59,"display_name":"pasaba por aqui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643314401,"creation_date":1643314401,"answer_id":70885127,"question_id":2534124,"body_markdown":"Example with the different posibilities:\r\n\r\n        URI uri = new URI( &quot;http://www.example.org&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n        System.out.println();\r\n        \r\n        uri = new URI( &quot;http://www.example.org/&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n        System.out.println();\r\n\r\n        uri = new URI( &quot;http://www.example.org/foo1/foo2&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n        System.out.println();\r\n        \r\n        uri = new URI( &quot;http://www.example.org/foo1/foo2/&quot;);\r\n        System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\r\n        System.out.println( uri.resolve( &quot;bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar&quot;) );\r\n        System.out.println( uri.resolve( &quot;bar/&quot;) );\r\n        System.out.println( uri.resolve( &quot;/bar/&quot;) );\r\n\r\nproduces as output:\r\n\r\n    *** http://www.example.org ***\r\n    http://www.example.orgbar\r\n    http://www.example.org/bar\r\n    http://www.example.orgbar/\r\n    http://www.example.org/bar/\r\n    \r\n    *** http://www.example.org/ ***\r\n    http://www.example.org/bar\r\n    http://www.example.org/bar\r\n    http://www.example.org/bar/\r\n    http://www.example.org/bar/\r\n    \r\n    *** http://www.example.org/foo1/foo2 ***\r\n    http://www.example.org/foo1/bar\r\n    http://www.example.org/bar\r\n    http://www.example.org/foo1/bar/\r\n    http://www.example.org/bar/\r\n    \r\n    *** http://www.example.org/foo1/foo2/ ***\r\n    http://www.example.org/foo1/foo2/bar\r\n    http://www.example.org/bar\r\n    http://www.example.org/foo1/foo2/bar/\r\n    http://www.example.org/bar/\r\n\r\nIn conclusion:\r\n\r\n - cases 1-4: If the original URI has not path, resolve uses it argument as new path. That can produce a wrong domain if the resolve argument doesn&#39;t start by slash.\r\n - cases 5-8: If the original URI is a domain plus slash, resolve uses its argument as new path. No problem with double slashes.\r\n - cases 10, 12, 14 and 16: If the original URI has a path and resolve argument starts by slash, resolve replaces URI path by its argument. Initial path is totally discarded.\r\n - cases 9, 11: If the original URI has a path not ended by slash and resolve argument doesn&#39;t start by slash, resolve discards the last element of the initial uri path and adds its argument.\r\n - cases 13, 15: If the original URI has a path ended by slash and resolve argument doesn&#39;t start by slash, resolve adds its argument.","title":"Java URI.resolve","body":"<p>Example with the different posibilities:</p>\n<pre><code>    URI uri = new URI( &quot;http://www.example.org&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n    System.out.println();\n    \n    uri = new URI( &quot;http://www.example.org/&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n    System.out.println();\n\n    uri = new URI( &quot;http://www.example.org/foo1/foo2&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n    System.out.println();\n    \n    uri = new URI( &quot;http://www.example.org/foo1/foo2/&quot;);\n    System.out.println( &quot;*** &quot;+uri+&quot; ***&quot; );\n    System.out.println( uri.resolve( &quot;bar&quot;) );\n    System.out.println( uri.resolve( &quot;/bar&quot;) );\n    System.out.println( uri.resolve( &quot;bar/&quot;) );\n    System.out.println( uri.resolve( &quot;/bar/&quot;) );\n</code></pre>\n<p>produces as output:</p>\n<pre><code>*** http://www.example.org ***\nhttp://www.example.orgbar\nhttp://www.example.org/bar\nhttp://www.example.orgbar/\nhttp://www.example.org/bar/\n\n*** http://www.example.org/ ***\nhttp://www.example.org/bar\nhttp://www.example.org/bar\nhttp://www.example.org/bar/\nhttp://www.example.org/bar/\n\n*** http://www.example.org/foo1/foo2 ***\nhttp://www.example.org/foo1/bar\nhttp://www.example.org/bar\nhttp://www.example.org/foo1/bar/\nhttp://www.example.org/bar/\n\n*** http://www.example.org/foo1/foo2/ ***\nhttp://www.example.org/foo1/foo2/bar\nhttp://www.example.org/bar\nhttp://www.example.org/foo1/foo2/bar/\nhttp://www.example.org/bar/\n</code></pre>\n<p>In conclusion:</p>\n<ul>\n<li>cases 1-4: If the original URI has not path, resolve uses it argument as new path. That can produce a wrong domain if the resolve argument doesn't start by slash.</li>\n<li>cases 5-8: If the original URI is a domain plus slash, resolve uses its argument as new path. No problem with double slashes.</li>\n<li>cases 10, 12, 14 and 16: If the original URI has a path and resolve argument starts by slash, resolve replaces URI path by its argument. Initial path is totally discarded.</li>\n<li>cases 9, 11: If the original URI has a path not ended by slash and resolve argument doesn't start by slash, resolve discards the last element of the initial uri path and adds its argument.</li>\n<li>cases 13, 15: If the original URI has a path ended by slash and resolve argument doesn't start by slash, resolve adds its argument.</li>\n</ul>\n"}],"owner":{"account_id":115726,"reputation":363,"user_id":303725,"display_name":"Cpa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26941,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1643314401,"creation_date":1269803004,"question_id":2534124,"body_markdown":"I&#39;m trying to resolve two URIs, but it&#39;s not as straightforward as I&#39;d like it to be.\r\n\r\n    URI a = new URI(&quot;http://www.foo.com&quot;);\r\n    URI b = new URI(&quot;bar.html&quot;);\r\n\r\nThe trouble is that `a.resolve(b).toString()` is now `&quot;http://www.foo.combar.html&quot;`. How can I get away with that?","title":"Java URI.resolve","body":"<p>I'm trying to resolve two URIs, but it's not as straightforward as I'd like it to be.</p>\n\n<pre><code>URI a = new URI(\"http://www.foo.com\");\nURI b = new URI(\"bar.html\");\n</code></pre>\n\n<p>The trouble is that <code>a.resolve(b).toString()</code> is now <code>\"http://www.foo.combar.html\"</code>. How can I get away with that?</p>\n"},{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1319732440,"post_id":7916983,"comment_id":9672445,"body_markdown":"each write (put) is proceeded by a lock acquisition (plus volatile write)that ensures the &#39;visibility&#39;. Each read (get) does a volatile read which ensures the visibility for the reader.","body":"each write (put) is proceeded by a lock acquisition (plus volatile write)that ensures the &#39;visibility&#39;. Each read (get) does a volatile read which ensures the visibility for the reader."}],"answers":[{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1319724496,"creation_date":1319724181,"answer_id":7917050,"question_id":7916983,"body_markdown":"The read of the values are actually volatile loads.  Though it is non-blocking you will ensure the happens-before relationship since the store too is volatile.  \r\n\r\nJava 5,6,7&#39;s version of the CHM does not use CAS to swap the references.  But there is a newer lightweight version in the works that would use in some of its writes.","title":"ConcurrentHashMap non-blocking reads and memory visibility issue","body":"<p>The read of the values are actually volatile loads.  Though it is non-blocking you will ensure the happens-before relationship since the store too is volatile.  </p>\n\n<p>Java 5,6,7's version of the CHM does not use CAS to swap the references.  But there is a newer lightweight version in the works that would use in some of its writes.</p>\n"}],"owner":{"account_id":119633,"reputation":7453,"user_id":311455,"accept_rate":63,"display_name":"Bhaskar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7917050,"answer_count":1,"score":5,"last_activity_date":1643314079,"creation_date":1319723903,"question_id":7916983,"body_markdown":"`ConcurrentHashMap` in Java offers reads to proceed concurrently with updates. The trade-off in this is that the results of the read is limited to reflect only the *last completed* update when the reading  began, so it is not specified to reflect the latest state of elements.\r\n\r\nHowever AFAIK Java Memory Model , without some form of synchronization between the read and write threads, the updates of the write thread may not become visible to the read thread , even after arbitrary period of time.\r\n\r\nGiven the read threads do not block with write threads , what forms the basis of the guarantee of visibility of *the last completed update* to be available to the read thread ? \r\n\r\nI could only think of something on the lines of Compare-and-swap algorithm at play but I could not verify it in the source code of that library.\r\n","title":"ConcurrentHashMap non-blocking reads and memory visibility issue","body":"<p><code>ConcurrentHashMap</code> in Java offers reads to proceed concurrently with updates. The trade-off in this is that the results of the read is limited to reflect only the <em>last completed</em> update when the reading  began, so it is not specified to reflect the latest state of elements.</p>\n<p>However AFAIK Java Memory Model , without some form of synchronization between the read and write threads, the updates of the write thread may not become visible to the read thread , even after arbitrary period of time.</p>\n<p>Given the read threads do not block with write threads , what forms the basis of the guarantee of visibility of <em>the last completed update</em> to be available to the read thread ?</p>\n<p>I could only think of something on the lines of Compare-and-swap algorithm at play but I could not verify it in the source code of that library.</p>\n"},{"tags":["java","spring-boot","rest","maven"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1643306981,"post_id":70880630,"comment_id":125311211,"body_markdown":"Have you tried [`RestClientResponseException`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html) instead of `RestClientException`?","body":"Have you tried <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html\" rel=\"nofollow noreferrer\"><code>RestClientResponseException</code></a> instead of <code>RestClientException</code>?"}],"answers":[{"tags":[],"owner":{"account_id":366154,"reputation":968,"user_id":711514,"accept_rate":49,"display_name":"Uma Ilango"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643313946,"creation_date":1643313946,"answer_id":70885038,"question_id":70880630,"body_markdown":"        catch(RestClientException ue) {\r\n         if (ue instanceof HttpStatusCodeException) {\r\n             String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\r\n             logger.info(errorResponse);\r\n    }\r\n\r\nThis code block actually works. errorResponse returns the response JSON. I was using another endpoint url which was wrapping up the response &amp; therefore, did not get the actual response. ","title":"Get the customized Response JSON from 422 Unprocessable Entity","body":"<pre><code>    catch(RestClientException ue) {\n     if (ue instanceof HttpStatusCodeException) {\n         String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\n         logger.info(errorResponse);\n}\n</code></pre>\n<p>This code block actually works. errorResponse returns the response JSON. I was using another endpoint url which was wrapping up the response &amp; therefore, did not get the actual response.</p>\n"}],"owner":{"account_id":366154,"reputation":968,"user_id":711514,"accept_rate":49,"display_name":"Uma Ilango"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70885038,"answer_count":1,"score":0,"last_activity_date":1643313946,"creation_date":1643295022,"question_id":70880630,"body_markdown":"I have a Java Springboot microservice which calls a third-party API. For one of my test cases, the API returns 422 Unprocessable entity with a customized Response JSON Body\r\n\r\n    {\r\n        &quot;request_status&quot;: &quot;error&quot;,\r\n        &quot;status&quot;: &quot;error&quot;,\r\n        &quot;requested_url&quot;: &quot;www.example.de&quot;,\r\n        &quot;url&quot;: &quot;http://www.newexample.de/&quot;,\r\n        &quot;issue&quot;: &quot;redirect&quot;,\r\n        &quot;recommendedUrl&quot;: true,\r\n        &quot;error_message&quot;: &quot;The web address you entered redirects to another website.&quot;\r\n    }\r\n\r\nI am unable to retrieve this response body in my microservice. My code is like below\r\n\r\n    try {\r\n        HttpEntity&lt;Input_Class&gt; httpentity = new HttpEntity&lt;Input_Class&gt;(                      inputClassObj, headers);\r\n        responseEntity = restTemplate.exchange(url, HttpMethod.POST, httpentity,\r\n             new ParameterizedTypeReference&lt;Output_Class&gt;() {});\r\n\r\n    } catch(RestClientException ue) {\r\n         if (ue instanceof HttpStatusCodeException) {\r\n             String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\r\n             logger.info(errorResponse);\r\n    }\r\n\r\n\r\nThe errorResponse I could see in the log is\r\n\r\n    {\r\n        &quot;status&quot;: &quot;ERROR&quot;,\r\n        &quot;errorMessage&quot;: &quot;Unprocessable Entity&quot;\r\n    }\r\n\r\nCan someone let me know which Exception class I should use to get the response body sent by the API. \r\n","title":"Get the customized Response JSON from 422 Unprocessable Entity","body":"<p>I have a Java Springboot microservice which calls a third-party API. For one of my test cases, the API returns 422 Unprocessable entity with a customized Response JSON Body</p>\n<pre><code>{\n    &quot;request_status&quot;: &quot;error&quot;,\n    &quot;status&quot;: &quot;error&quot;,\n    &quot;requested_url&quot;: &quot;www.example.de&quot;,\n    &quot;url&quot;: &quot;http://www.newexample.de/&quot;,\n    &quot;issue&quot;: &quot;redirect&quot;,\n    &quot;recommendedUrl&quot;: true,\n    &quot;error_message&quot;: &quot;The web address you entered redirects to another website.&quot;\n}\n</code></pre>\n<p>I am unable to retrieve this response body in my microservice. My code is like below</p>\n<pre><code>try {\n    HttpEntity&lt;Input_Class&gt; httpentity = new HttpEntity&lt;Input_Class&gt;(                      inputClassObj, headers);\n    responseEntity = restTemplate.exchange(url, HttpMethod.POST, httpentity,\n         new ParameterizedTypeReference&lt;Output_Class&gt;() {});\n\n} catch(RestClientException ue) {\n     if (ue instanceof HttpStatusCodeException) {\n         String errorResponse = ((HttpStatusCodeException) ue).getResponseBodyAsString();\n         logger.info(errorResponse);\n}\n</code></pre>\n<p>The errorResponse I could see in the log is</p>\n<pre><code>{\n    &quot;status&quot;: &quot;ERROR&quot;,\n    &quot;errorMessage&quot;: &quot;Unprocessable Entity&quot;\n}\n</code></pre>\n<p>Can someone let me know which Exception class I should use to get the response body sent by the API.</p>\n"},{"tags":["java","android","ping","traceroute"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1558022600,"post_id":56172511,"comment_id":98971604,"body_markdown":"Look into this https://stackoverflow.com/questions/2627706/how-to-icmps-and-traceroutes-in-java","body":"Look into this <a href=\"https://stackoverflow.com/questions/2627706/how-to-icmps-and-traceroutes-in-java\" title=\"how to icmps and traceroutes in java\">stackoverflow.com/questions/2627706/&hellip;</a>"},{"owner":{"account_id":269649,"reputation":2168,"user_id":559111,"accept_rate":47,"display_name":"miatech"},"score":0,"creation_date":1558022877,"post_id":56172511,"comment_id":98971752,"body_markdown":"that&#39;s for windows and linux, I want to implement in android... in that post the code access the command through the os. android os doesn&#39;t have that option.. thanks","body":"that&#39;s for windows and linux, I want to implement in android... in that post the code access the command through the os. android os doesn&#39;t have that option.. thanks"},{"owner":{"account_id":269649,"reputation":2168,"user_id":559111,"accept_rate":47,"display_name":"miatech"},"score":0,"creation_date":1558022913,"post_id":56172511,"comment_id":98971771,"body_markdown":"I&#39;ve seen plenty of android apps developing this traceroute but can&#39;t figure out how they did it","body":"I&#39;ve seen plenty of android apps developing this traceroute but can&#39;t figure out how they did it"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1558027206,"post_id":56172511,"comment_id":98973802,"body_markdown":"So did you find this post: [Traceroute on android](https://stackoverflow.com/q/4203374/295004) and the github project listed as an answer was/wasn&#39;t useful? (I see command line &#39;ping&#39; command in source code which give me doubt)","body":"So did you find this post: <a href=\"https://stackoverflow.com/q/4203374/295004\">Traceroute on android</a> and the github project listed as an answer was/wasn&#39;t useful? (I see command line &#39;ping&#39; command in source code which give me doubt)"}],"owner":{"account_id":269649,"reputation":2168,"user_id":559111,"accept_rate":47,"display_name":"miatech"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643313854,"creation_date":1558022441,"question_id":56172511,"body_markdown":"Given the fact that Android doesn&#39;t include a trace-route command, how can I implement the network utility within my app? I know a trace-route is just ping until pinging every hop/router on the way - but how can I do this grammatically? I tried searching for libraries on GitHub and Maven repositories but no luck of anything I can use. I don&#39;t mind implementing it myself. I hope I don&#39;t have to do this from scratch like crafting a packet and using a socket to connect to every router on the way. Another question would be how to obtain the IP of every router to the destination in Java?","title":"How to implement trace-routes in Android Studio?","body":"<p>Given the fact that Android doesn't include a trace-route command, how can I implement the network utility within my app? I know a trace-route is just ping until pinging every hop/router on the way - but how can I do this grammatically? I tried searching for libraries on GitHub and Maven repositories but no luck of anything I can use. I don't mind implementing it myself. I hope I don't have to do this from scratch like crafting a packet and using a socket to connect to every router on the way. Another question would be how to obtain the IP of every router to the destination in Java?</p>\n"},{"tags":["java","parsing","decimal","hex","signed"],"answers":[{"tags":[],"owner":{"account_id":21,"reputation":106392,"user_id":29,"accept_rate":83,"display_name":"Michael Haren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1241958012,"creation_date":1241958012,"answer_id":845232,"question_id":845230,"body_markdown":"You need to [include a negative][1] sign.\r\n\r\nI don&#39;t have access to test this right now but I&#39;d bet if you tried this value instead:\r\n\r\n    Integer min = Integer.MIN_VALUE + 1;\r\n\r\nIt wouldn&#39;t bomb, but would give you a positive number (not negative) when you ran `ParseInt(min,16)`.\r\n\r\nA *string* of bits doesn&#39;t really have enough info to determine sign in this context so you need to provide it. (consider the case where you use `min = &quot;F&quot;`. Is that +/-F? If you converted it to bits and saw 1111, *and* you knew it was a byte, you might conclude that it&#39;s negative, but that&#39;s a lot of ifs.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29","title":"Java negative int to hex and back fails","body":"<p>You need to <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29\" rel=\"nofollow noreferrer\">include a negative</a> sign.</p>\n\n<p>I don't have access to test this right now but I'd bet if you tried this value instead:</p>\n\n<pre><code>Integer min = Integer.MIN_VALUE + 1;\n</code></pre>\n\n<p>It wouldn't bomb, but would give you a positive number (not negative) when you ran <code>ParseInt(min,16)</code>.</p>\n\n<p>A <em>string</em> of bits doesn't really have enough info to determine sign in this context so you need to provide it. (consider the case where you use <code>min = \"F\"</code>. Is that +/-F? If you converted it to bits and saw 1111, <em>and</em> you knew it was a byte, you might conclude that it's negative, but that's a lot of ifs.</p>\n"},{"tags":[],"owner":{"account_id":878040,"reputation":206,"user_id":90889,"display_name":"dhn"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1483250883,"creation_date":1241960068,"answer_id":845283,"question_id":845230,"body_markdown":"It&#39;s documented that `Integer.toHexString` returns a string representation of the integer as an unsigned value - while `Integer.parseInt` takes a signed int.  If you use `Integer.toString(value, 16)` instead you&#39;ll get what you want.\r\n\r\n","title":"Java negative int to hex and back fails","body":"<p>It's documented that <code>Integer.toHexString</code> returns a string representation of the integer as an unsigned value - while <code>Integer.parseInt</code> takes a signed int.  If you use <code>Integer.toString(value, 16)</code> instead you'll get what you want.</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1241963899,"creation_date":1241963899,"answer_id":845378,"question_id":845230,"body_markdown":"Try this:\r\n\r\n    public class Main3 {\r\n        public static void main(String[] args) {\r\n            Integer min = Integer.MIN_VALUE;\r\n            String minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n    \r\n            System.out.println(min + &quot; &quot; + minHex);\r\n            System.out.println(Integer.parseInt( &quot;-&quot; + minHex, 16));\r\n        }\r\n\r\n}\r\n\r\nto get this:\r\n\r\n    -2147483648 80000000\r\n    -2147483648\r\n\r\n","title":"Java negative int to hex and back fails","body":"<p>Try this:</p>\n\n<pre><code>public class Main3 {\n    public static void main(String[] args) {\n        Integer min = Integer.MIN_VALUE;\n        String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n        System.out.println(min + \" \" + minHex);\n        System.out.println(Integer.parseInt( \"-\" + minHex, 16));\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>to get this:</p>\n\n<pre><code>-2147483648 80000000\n-2147483648\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1241964308,"creation_date":1241964308,"answer_id":845391,"question_id":845230,"body_markdown":"This is something that&#39;s always annoyed me.  If you initialize an int with a hex literal, you can use the full range of positive values up to `0xFFFFFF`; anything larger than `0x7FFFFF` will really be a negative value.  This is very handy for bit masking and other operations where you only care about the *locations* of the bits, not their meanings.\r\n\r\nBut if you use Integer.parseInt() to convert a string to an integer, anything larger than `&quot;0x7FFFFFFF&quot;` is treated as an error.  There&#39;s probably a good reason why they did it that way, but it&#39;s still frustrating.\r\n\r\nThe simplest workaround is to use Long.parseLong() instead, then cast the result to int.\r\n\r\n    int n = (int)Long.parseLong(s, 16);\r\n\r\nOf course, you should only do that if you&#39;re sure the number is going to be in the range `Integer.MIN_VALUE..Integer.MAX_VALUE`.\r\n","title":"Java negative int to hex and back fails","body":"<p>This is something that's always annoyed me.  If you initialize an int with a hex literal, you can use the full range of positive values up to <code>0xFFFFFF</code>; anything larger than <code>0x7FFFFF</code> will really be a negative value.  This is very handy for bit masking and other operations where you only care about the <em>locations</em> of the bits, not their meanings.</p>\n\n<p>But if you use Integer.parseInt() to convert a string to an integer, anything larger than <code>\"0x7FFFFFFF\"</code> is treated as an error.  There's probably a good reason why they did it that way, but it's still frustrating.</p>\n\n<p>The simplest workaround is to use Long.parseLong() instead, then cast the result to int.</p>\n\n<pre><code>int n = (int)Long.parseLong(s, 16);\n</code></pre>\n\n<p>Of course, you should only do that if you're sure the number is going to be in the range <code>Integer.MIN_VALUE..Integer.MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":2428340,"reputation":332,"user_id":2119820,"display_name":"Fabrice LARRIBE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417087555,"creation_date":1417087555,"answer_id":27169571,"question_id":845230,"body_markdown":"This seem to work for me : \r\n\r\n    public class Main3 {\r\n    public static void main(String[] args) {\r\n    \tInteger min = Integer.MIN_VALUE;\r\n    \tString minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n\r\n    \tSystem.out.println(min + &quot; &quot; + minHex);\r\n    \tSystem.out.println((int)Long.parseLong(minHex, 16));\r\n    }\r\n    }\r\n\r\nThe integer is parsed as a &quot;signed long&quot; that handle such big positive number and then the sign is found back by casting it to &quot;int&quot;.","title":"Java negative int to hex and back fails","body":"<p>This seem to work for me : </p>\n\n<pre><code>public class Main3 {\npublic static void main(String[] args) {\n    Integer min = Integer.MIN_VALUE;\n    String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n    System.out.println(min + \" \" + minHex);\n    System.out.println((int)Long.parseLong(minHex, 16));\n}\n}\n</code></pre>\n\n<p>The integer is parsed as a \"signed long\" that handle such big positive number and then the sign is found back by casting it to \"int\".</p>\n"},{"tags":[],"owner":{"account_id":2742496,"reputation":50496,"user_id":2363712,"accept_rate":50,"display_name":"Sylvain Leroux"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1417875189,"creation_date":1417875189,"answer_id":27332573,"question_id":845230,"body_markdown":"According the the documentation, [`toHexString`](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toHexString%28int%29) returns _&quot;a string representation of the integer argument as an **unsigned** integer in base 16. &quot;_\r\n\r\nSo the correct reverse operation is probably [`Integer.parseUnsignedInt`](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseUnsignedInt-java.lang.String-int-) that was introduced as part of Java 8:\r\n\r\n\r\n    public class Main3 {\r\n        public static void main(String[] args) {\r\n        \tInteger min = Integer.MIN_VALUE;\r\n        \tString minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n    \r\n        \tSystem.out.println(min + &quot; &quot; + minHex);\r\n        \tSystem.out.println(Integer.parseUnsignedInt(minHex, 16));\r\n        }\r\n","title":"Java negative int to hex and back fails","body":"<p>According the the documentation, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toHexString%28int%29\" rel=\"noreferrer\"><code>toHexString</code></a> returns <em>\"a string representation of the integer argument as an <strong>unsigned</strong> integer in base 16. \"</em></p>\n\n<p>So the correct reverse operation is probably <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseUnsignedInt-java.lang.String-int-\" rel=\"noreferrer\"><code>Integer.parseUnsignedInt</code></a> that was introduced as part of Java 8:</p>\n\n<pre><code>public class Main3 {\n    public static void main(String[] args) {\n        Integer min = Integer.MIN_VALUE;\n        String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n        System.out.println(min + \" \" + minHex);\n        System.out.println(Integer.parseUnsignedInt(minHex, 16));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17913984,"reputation":1,"user_id":13015415,"display_name":"Daniel Commins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643313389,"creation_date":1643313389,"answer_id":70884932,"question_id":845230,"body_markdown":"`Integer.parseInt()` takes in a signed integer as it&#39;s input. This means the input has to be between &quot;7FFFFFFF&quot; and &quot;-80000000&quot;. Note the negative sign before &quot;80000000&quot;. What you want is `Integer.parseInt(&quot;-80000000&quot;, 16)`. If you use 80000000 without the minus sign Java will interpret that as a positive number and throw an exception because the max positive integer for an int is 0x7FFFFFFF.","title":"Java negative int to hex and back fails","body":"<p><code>Integer.parseInt()</code> takes in a signed integer as it's input. This means the input has to be between &quot;7FFFFFFF&quot; and &quot;-80000000&quot;. Note the negative sign before &quot;80000000&quot;. What you want is <code>Integer.parseInt(&quot;-80000000&quot;, 16)</code>. If you use 80000000 without the minus sign Java will interpret that as a positive number and throw an exception because the max positive integer for an int is 0x7FFFFFFF.</p>\n"}],"owner":{"account_id":20203,"reputation":29442,"user_id":48062,"accept_rate":66,"display_name":"Maxim Veksler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17078,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":845283,"answer_count":7,"score":9,"last_activity_date":1643313389,"creation_date":1241957846,"question_id":845230,"body_markdown":"    public class Main3 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger min = Integer.MIN_VALUE;\r\n    \t\tString minHex = Integer.toHexString(Integer.MIN_VALUE);\r\n    \t\t\r\n    \t\tSystem.out.println(min + &quot; &quot; + minHex);\r\n    \t\tSystem.out.println(Integer.parseInt(minHex, 16));\r\n    \t}\r\n    }\r\n\r\nGives \r\n\r\n    -2147483648 80000000\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;80000000&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\r\n    \tat java.lang.Integer.parseInt(Integer.java:459)\r\n    \tat Main3.main(Main3.java:7)\r\n\r\n\r\nWhats up?","title":"Java negative int to hex and back fails","body":"<pre><code>public class Main3 {\n    public static void main(String[] args) {\n        Integer min = Integer.MIN_VALUE;\n        String minHex = Integer.toHexString(Integer.MIN_VALUE);\n\n        System.out.println(min + \" \" + minHex);\n        System.out.println(Integer.parseInt(minHex, 16));\n    }\n}\n</code></pre>\n\n<p>Gives </p>\n\n<pre><code>-2147483648 80000000\nException in thread \"main\" java.lang.NumberFormatException: For input string: \"80000000\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\n    at java.lang.Integer.parseInt(Integer.java:459)\n    at Main3.main(Main3.java:7)\n</code></pre>\n\n<p>Whats up?</p>\n"},{"tags":["java","security","keystore","content-security-policy","policy"],"answers":[{"tags":[],"owner":{"account_id":24076145,"reputation":31,"user_id":18051456,"display_name":"Volker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643313039,"creation_date":1643313039,"answer_id":70884859,"question_id":70788339,"body_markdown":"You need to give your custom-policy.policy the password to use your keystore.\r\n\r\nThe first two lines of your policy file must be like the following.\r\n\r\n    keystore &quot;file:PATH_TO_YOUR_KEYSTORE&quot;;\r\n    keystorePasswordURL &quot;file:PATH_TO_YOUR_KEYSTORE_PASSWORD_FILE&quot;;\r\n\r\nFor the password file you can just do this :\r\n\r\n    echo &quot;KEYSTORE_PASSWORD&quot; &gt; KEYSTORE_PASSWORD_FILE\r\n\r\nRemember that this is not suitable for a production environment, but maybe it can do the trick in the context of your usage.\r\n\r\nAlso, the alias used by the signedBy directive must be myTestKey here, not myUser.","title":"User in keystore cannot have permission in .policy","body":"<p>You need to give your custom-policy.policy the password to use your keystore.</p>\n<p>The first two lines of your policy file must be like the following.</p>\n<pre><code>keystore &quot;file:PATH_TO_YOUR_KEYSTORE&quot;;\nkeystorePasswordURL &quot;file:PATH_TO_YOUR_KEYSTORE_PASSWORD_FILE&quot;;\n</code></pre>\n<p>For the password file you can just do this :</p>\n<pre><code>echo &quot;KEYSTORE_PASSWORD&quot; &gt; KEYSTORE_PASSWORD_FILE\n</code></pre>\n<p>Remember that this is not suitable for a production environment, but maybe it can do the trick in the context of your usage.</p>\n<p>Also, the alias used by the signedBy directive must be myTestKey here, not myUser.</p>\n"}],"owner":{"account_id":13782665,"reputation":17,"user_id":9947439,"display_name":"Luhko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643313039,"creation_date":1642690318,"question_id":70788339,"body_markdown":"I need to give full access to an user in a .policy file\r\n\r\n    keystore &quot;file:myKeystore.keystore&quot;;\r\n    \r\n    grant signedBy &quot;myUser&quot; {\r\n         permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\r\n         permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\r\n    };\r\n\r\nAnd i get this error :\r\n\r\n    Exception in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;user.name&quot; &quot;read&quot;)\r\n\r\nThe execution is done like that :\r\n\r\n    $ keytool -genkey -keyalg RSA -alias myTestKey -keystore myKeystore.keystore -validity 360\r\n    $ jarsigner -keystore myKeystore.keystore -verbose security-test.jar myTestKey\r\n    $ java -Djava.security.manager -Djava.security.policy=./custom-policy.policy -jar security-test.jar testfile.txt\r\n\r\nI tried to give the full path but its also not working. I also tried to remove the user to see if the .policy if working, and yes it is :\r\n\r\n       grant  {\r\n             permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\r\n             permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\r\n        };\r\n\r\n","title":"User in keystore cannot have permission in .policy","body":"<p>I need to give full access to an user in a .policy file</p>\n<pre><code>keystore &quot;file:myKeystore.keystore&quot;;\n\ngrant signedBy &quot;myUser&quot; {\n     permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\n     permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\n};\n</code></pre>\n<p>And i get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;user.name&quot; &quot;read&quot;)\n</code></pre>\n<p>The execution is done like that :</p>\n<pre><code>$ keytool -genkey -keyalg RSA -alias myTestKey -keystore myKeystore.keystore -validity 360\n$ jarsigner -keystore myKeystore.keystore -verbose security-test.jar myTestKey\n$ java -Djava.security.manager -Djava.security.policy=./custom-policy.policy -jar security-test.jar testfile.txt\n</code></pre>\n<p>I tried to give the full path but its also not working. I also tried to remove the user to see if the .policy if working, and yes it is :</p>\n<pre><code>   grant  {\n         permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\n         permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot;, &quot;read&quot;;\n    };\n</code></pre>\n"},{"tags":["java","android-camera"],"answers":[{"tags":[],"owner":{"account_id":9854759,"reputation":21,"user_id":7299619,"display_name":"Hong Son"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643312888,"creation_date":1643160597,"answer_id":70857725,"question_id":70849774,"body_markdown":"OK, stumbled into the solution: as suspected, it had to do with permissions. Despite the fact that my test app had the WRITE_EXTERNAL_STORAGE, on the phone the app had no such permission, Files and media. I had to manually do it. During the initial install via Android Studio, there was no prompt for permission and at run time, the app received no errors or exceptions. Just empty folder contents which were very misleading and confusing, to say the least.\r\n\r\nAnd at some point during further debugging, the permission was removed and I had to grant it manually once again. I don&#39;t exactly know which to blame: Android 12 or Android Studio.","title":"Trying to get a full list of photos in DCIM folder","body":"<p>OK, stumbled into the solution: as suspected, it had to do with permissions. Despite the fact that my test app had the WRITE_EXTERNAL_STORAGE, on the phone the app had no such permission, Files and media. I had to manually do it. During the initial install via Android Studio, there was no prompt for permission and at run time, the app received no errors or exceptions. Just empty folder contents which were very misleading and confusing, to say the least.</p>\n<p>And at some point during further debugging, the permission was removed and I had to grant it manually once again. I don't exactly know which to blame: Android 12 or Android Studio.</p>\n"}],"owner":{"account_id":9854759,"reputation":21,"user_id":7299619,"display_name":"Hong Son"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643312888,"creation_date":1643118591,"question_id":70849774,"body_markdown":"I have tried couple of ways to access the folder:\r\n1)\r\n\t\t\r\n\r\n    File dcimDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString());\r\n\r\n2) more direct\r\n\t\t\r\n    File ais = Environment.getExternalStorageDirectory();\r\n    String mpath = ais.getAbsolutePath() + &quot;/DCIM/Camera&quot;;\r\n    File pdir = new File(mpath);\r\n\r\nBut either way, \t\t\t\r\n\r\n    fileList = pdir.listFiles();\r\n\r\nis returning zero files when there are in fact many pictures in the phone. I have verified this several ways including over FTP.\r\n\r\nmpath above evaluates to /storage/emulated/0/DCIM/Camera.\r\nWhen I tried to access /Music, it returns proper list of files.\r\nI also tried /Notifications and it also works.\r\nSo, it seems certain folders are returning empty.\r\nI am not getting any exceptions since the app has specified\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nAny ideas why only certain folders (in particular, /DCIM/Camera) is returning empty?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Trying to get a full list of photos in DCIM folder","body":"<p>I have tried couple of ways to access the folder:\n1)</p>\n<pre><code>File dcimDir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString());\n</code></pre>\n<ol start=\"2\">\n<li><p>more direct</p>\n<p>File ais = Environment.getExternalStorageDirectory();\nString mpath = ais.getAbsolutePath() + &quot;/DCIM/Camera&quot;;\nFile pdir = new File(mpath);</p>\n</li>\n</ol>\n<p>But either way,</p>\n<pre><code>fileList = pdir.listFiles();\n</code></pre>\n<p>is returning zero files when there are in fact many pictures in the phone. I have verified this several ways including over FTP.</p>\n<p>mpath above evaluates to /storage/emulated/0/DCIM/Camera.\nWhen I tried to access /Music, it returns proper list of files.\nI also tried /Notifications and it also works.\nSo, it seems certain folders are returning empty.\nI am not getting any exceptions since the app has specified\n</p>\n<p>Any ideas why only certain folders (in particular, /DCIM/Camera) is returning empty?</p>\n"},{"tags":["java","gwt","binding"],"answers":[{"tags":[],"owner":{"account_id":459718,"reputation":284,"user_id":860351,"accept_rate":75,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1371260895,"creation_date":1371260895,"answer_id":17119473,"question_id":17119070,"body_markdown":"I figured it out. I had a FlexTable nested deep into my ui.xml file which was throwing the no-args error.\r\n\r\nI thought it had something to do with the root panel but I was wrong. If someone still wants to explain to me the concept of the root panel that would be much appreciated!!","title":"GWT UiBinder HTML not showing up","body":"<p>I figured it out. I had a FlexTable nested deep into my ui.xml file which was throwing the no-args error.</p>\n\n<p>I thought it had something to do with the root panel but I was wrong. If someone still wants to explain to me the concept of the root panel that would be much appreciated!!</p>\n"},{"tags":[],"owner":{"account_id":3267531,"reputation":385,"user_id":2751724,"accept_rate":0,"display_name":"Ming Leung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643312853,"creation_date":1643312853,"answer_id":70884817,"question_id":17119070,"body_markdown":"GWT RootPanel is the starting or the top most panel to which all other Widgets are attached.  RootPanels are never created directly. Rather, they are accessed via get() or get(id).\r\n\r\nI prefer to put &lt;div id=&quot;main_port&quot;&gt;&lt;/div&gt; on the root html. \r\nThen,\r\n        \r\n    public void onModuleLoad() {\r\n        RootPanel.get(&quot;main_port&quot;).add(maincontainer);\r\n        ---","title":"GWT UiBinder HTML not showing up","body":"<p>GWT RootPanel is the starting or the top most panel to which all other Widgets are attached.  RootPanels are never created directly. Rather, they are accessed via get() or get(id).</p>\n<p>I prefer to put  on the root html.\nThen,</p>\n<pre><code>public void onModuleLoad() {\n    RootPanel.get(&quot;main_port&quot;).add(maincontainer);\n    ---\n</code></pre>\n"}],"owner":{"account_id":459718,"reputation":284,"user_id":860351,"accept_rate":75,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17119473,"answer_count":2,"score":0,"last_activity_date":1643312853,"creation_date":1371256038,"question_id":17119070,"body_markdown":"working on my first GWT project and having some trouble with the UiBinder. When I load my module not even HTML is showing up, I just see a blank page.\r\nAnyone know why? What am I leaving out? \r\n\r\nI haven&#39;t grasped the concept of panels yet, is RootPanel the ScrollPanel? Or mainPanel because I gave it an identifier?\r\n\r\nedit: I&#39;ve run into the error: this panel does not support no-arg add. The error doesn&#39;t say which one though. Any tips on how to get the layout I want?\r\n\r\nThanks in advance.\r\n\r\nUiBinder class DoraTheExplora.ui.xml:\r\n\r\n    &lt;g:ScrollPanel&gt;\r\n        &lt;g:VerticalPanel ui:field=&quot;mainPanel&quot;&gt;\r\n\t    &lt;!-- Header of Dora website --&gt;\r\n\t    &lt;g:HorizontalPanel ui:field=&quot;headerPanel&quot;&gt;\r\n\t\t&lt;g:HTMLPanel styleName=&quot;{resource.style.siteHeader}&quot;&gt;\r\n\t\t    Welcome to Dora!\r\n\t\t&lt;/g:HTMLPanel&gt;\r\n    ...\r\n\r\nEntryPoint class :\r\n\r\n    ...\r\n    public void onModuleLoad() {\r\n        RootLayoutPanel.get().add(new DoraTheExplora());\r\n    }\r\n    ...\r\n\r\nDoraTheExplora class:\r\n\r\n    ...\r\n    public class DoraTheExplora extends Composite {\r\n\r\n    // UIBinder instance.\r\n    @UiTemplate(&quot;DoraTheExplora.ui.xml&quot;)\r\n    interface DoraTheExploraUiBinder extends UiBinder&lt;Widget, DoraTheExplora&gt; {\r\n    }\r\n    private static DoraTheExploraUiBinder uiBinder = GWT.create(DoraTheExploraUiBinder.class);\r\n\r\n    @UiField\r\n    VerticalPanel mainPanel;\r\n    @UiField\r\n    HorizontalPanel headerPanel;\r\n    ...\r\n    \r\n    public DoraTheExplora() {\r\n        initWidget(uiBinder.createAndBindUi(this));\r\n    ...\r\n        }\r\n    }","title":"GWT UiBinder HTML not showing up","body":"<p>working on my first GWT project and having some trouble with the UiBinder. When I load my module not even HTML is showing up, I just see a blank page.\nAnyone know why? What am I leaving out? </p>\n\n<p>I haven't grasped the concept of panels yet, is RootPanel the ScrollPanel? Or mainPanel because I gave it an identifier?</p>\n\n<p>edit: I've run into the error: this panel does not support no-arg add. The error doesn't say which one though. Any tips on how to get the layout I want?</p>\n\n<p>Thanks in advance.</p>\n\n<p>UiBinder class DoraTheExplora.ui.xml:</p>\n\n<pre><code>&lt;g:ScrollPanel&gt;\n    &lt;g:VerticalPanel ui:field=\"mainPanel\"&gt;\n    &lt;!-- Header of Dora website --&gt;\n    &lt;g:HorizontalPanel ui:field=\"headerPanel\"&gt;\n    &lt;g:HTMLPanel styleName=\"{resource.style.siteHeader}\"&gt;\n        Welcome to Dora!\n    &lt;/g:HTMLPanel&gt;\n...\n</code></pre>\n\n<p>EntryPoint class :</p>\n\n<pre><code>...\npublic void onModuleLoad() {\n    RootLayoutPanel.get().add(new DoraTheExplora());\n}\n...\n</code></pre>\n\n<p>DoraTheExplora class:</p>\n\n<pre><code>...\npublic class DoraTheExplora extends Composite {\n\n// UIBinder instance.\n@UiTemplate(\"DoraTheExplora.ui.xml\")\ninterface DoraTheExploraUiBinder extends UiBinder&lt;Widget, DoraTheExplora&gt; {\n}\nprivate static DoraTheExploraUiBinder uiBinder = GWT.create(DoraTheExploraUiBinder.class);\n\n@UiField\nVerticalPanel mainPanel;\n@UiField\nHorizontalPanel headerPanel;\n...\n\npublic DoraTheExplora() {\n    initWidget(uiBinder.createAndBindUi(this));\n...\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","google-maps","android-gallery"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643289167,"post_id":70878922,"comment_id":125303172,"body_markdown":"Should not that depend on the type of map you use?","body":"Should not that depend on the type of map you use?"},{"owner":{"account_id":24071962,"reputation":1,"user_id":18047793,"display_name":"Samuel11"},"score":0,"creation_date":1643290264,"post_id":70878922,"comment_id":125303591,"body_markdown":"We are using the MapsActivity from AndroidStudio so it&#39;s basically google maps.","body":"We are using the MapsActivity from AndroidStudio so it&#39;s basically google maps."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1643296426,"post_id":70878922,"comment_id":125306543,"body_markdown":"One clarification: do you want the markers to show as images or do you want to first click on a marker and it displays the image?","body":"One clarification: do you want the markers to show as images or do you want to first click on a marker and it displays the image?"},{"owner":{"account_id":24071962,"reputation":1,"user_id":18047793,"display_name":"Samuel11"},"score":0,"creation_date":1643309722,"post_id":70878922,"comment_id":125312182,"body_markdown":"the picture should show up by default and you can view it in full screen when you click on it.","body":"the picture should show up by default and you can view it in full screen when you click on it."}],"owner":{"account_id":24071962,"reputation":1,"user_id":18047793,"display_name":"Samuel11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643312706,"creation_date":1643288119,"question_id":70878922,"body_markdown":"The plan is to have an app displaying the pictures of your gallery onto a map in the exact spot where the picture was taken.\r\nWe have code to load the images into an array and read the location of each image (through the Exif data).\r\n\r\nHow can you load the images onto the map without them being saved into the drawable xml file but straight out of the array they are loaded into? \r\n","title":"Load images from gallery onto MapsActivity","body":"<p>The plan is to have an app displaying the pictures of your gallery onto a map in the exact spot where the picture was taken.\nWe have code to load the images into an array and read the location of each image (through the Exif data).</p>\n<p>How can you load the images onto the map without them being saved into the drawable xml file but straight out of the array they are loaded into?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1642820164,"post_id":70809650,"comment_id":125180809,"body_markdown":"Why, because developers are lazy!  Seriously, when I started with Java, the only IDEs that were available was NotePad (or basically any other text editor), no auto completion or auto correct, so, having to type `this` a thousand times would drive you nuts fast. As to *&quot;is this Alphabets.gen_2() or this.gen_2?&quot;* it&#39;s `this.gen_2()`","body":"Why, because developers are lazy!  Seriously, when I started with Java, the only IDEs that were available was NotePad (or basically any other text editor), no auto completion or auto correct, so, having to type <code>this</code> a thousand times would drive you nuts fast. As to <i>&quot;is this Alphabets.gen_2() or this.gen_2?&quot;</i> it&#39;s <code>this.gen_2()</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1642820557,"post_id":70809650,"comment_id":125180856,"body_markdown":"@MadProgrammer `gen_2` in this example is static.","body":"@MadProgrammer <code>gen_2</code> in this example is static."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642820834,"post_id":70809650,"comment_id":125180891,"body_markdown":"@ernest_k Ok, my bad then it&#39;s `Alphabets.gen_2()`","body":"@ernest_k Ok, my bad then it&#39;s <code>Alphabets.gen_2()</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1642820843,"post_id":70809650,"comment_id":125180892,"body_markdown":"I don&#39;t think the compiler &quot;automatically appends&quot; `this`. All that it needs to know is the target object to run non-static methods on and the class to run static methods on... And the only difference between the two is just that instance methods are executed in the context of an object. Otherwise the method linking is the same. The rest is just about how it goes about linking methods when the developer didn&#39;t explicitly qualify them, and that&#39;s just about it.","body":"I don&#39;t think the compiler &quot;automatically appends&quot; <code>this</code>. All that it needs to know is the target object to run non-static methods on and the class to run static methods on... And the only difference between the two is just that instance methods are executed in the context of an object. Otherwise the method linking is the same. The rest is just about how it goes about linking methods when the developer didn&#39;t explicitly qualify them, and that&#39;s just about it."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1642820880,"post_id":70809650,"comment_id":125180897,"body_markdown":"Because it&#39;s static, it&#39;s an `invokestatic #? // Method Alphabets.gen_2:()V`, not `aload 0; invokevirtual #? // Method Alphabets.gen_2:()V`.","body":"Because it&#39;s static, it&#39;s an <code>invokestatic #? &#47;&#47; Method Alphabets.gen_2:()V</code>, not <code>aload 0; invokevirtual #? &#47;&#47; Method Alphabets.gen_2:()V</code>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1642820987,"post_id":70809650,"comment_id":125180910,"body_markdown":"@ernest_k In a sense, the compiler does prepend `this` - that is, it has to push the receiver of the call (`this`) on the stack, even if you don&#39;t mention `this`.","body":"@ernest_k In a sense, the compiler does prepend <code>this</code> - that is, it has to push the receiver of the call (<code>this</code>) on the stack, even if you don&#39;t mention <code>this</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642821008,"creation_date":1642821008,"answer_id":70809716,"question_id":70809650,"body_markdown":"Whenever it wouldn&#39;t compile without it. It&#39;s not so much that `javac` &#39;adds the `this.` for you&#39; - it&#39;s that `javac` will interpret a certain expression in a certain way.\r\n\r\nIn your example, `a` is equivalent to `this.a` not because &quot;java will add the `this.`&quot; - it&#39;s equivalent because just `a` and `this.a` refer to the same thing: The only `a` that is in scope. Java will look at the closest matching name in scope. Example:\r\n\r\n```\r\nint a = 2;\r\nvoid example() {\r\n  int a = 5;\r\n  {\r\n     int b = 10;\r\n     {\r\n        System.out.println(a);\r\n     }\r\n  }\r\n}\r\n```\r\n\r\n2 scopes up, there&#39;s an `a` (a local var, being assigned the value of 5). It&#39;s closer than the field. Not in literal &#39;how many lines in the source file is it removed from this line&#39;, but in the: &quot;Start looking in the nearest set of {}, if you can&#39;t find it there, look in the next set, and just keep going until you find it&quot; way.\r\n\r\nFor that reason, `gen_2()` does not &#39;generate `this.`&#39;, because that&#39;s not how you should think about it. It looks for a method named `gen_2` (why a method? Because there are parentheses hanging off of the end of it), and finds one in the `Alphabets {}` scope. That&#39;s the one it&#39;ll invoke. It&#39;ll do this in a static fashion, because the method is static. Not because java &#39;generates `Alphabets.`&#39;.\r\n","title":"Implicit use of this keyword","body":"<p>Whenever it wouldn't compile without it. It's not so much that <code>javac</code> 'adds the <code>this.</code> for you' - it's that <code>javac</code> will interpret a certain expression in a certain way.</p>\n<p>In your example, <code>a</code> is equivalent to <code>this.a</code> not because &quot;java will add the <code>this.</code>&quot; - it's equivalent because just <code>a</code> and <code>this.a</code> refer to the same thing: The only <code>a</code> that is in scope. Java will look at the closest matching name in scope. Example:</p>\n<pre><code>int a = 2;\nvoid example() {\n  int a = 5;\n  {\n     int b = 10;\n     {\n        System.out.println(a);\n     }\n  }\n}\n</code></pre>\n<p>2 scopes up, there's an <code>a</code> (a local var, being assigned the value of 5). It's closer than the field. Not in literal 'how many lines in the source file is it removed from this line', but in the: &quot;Start looking in the nearest set of {}, if you can't find it there, look in the next set, and just keep going until you find it&quot; way.</p>\n<p>For that reason, <code>gen_2()</code> does not 'generate <code>this.</code>', because that's not how you should think about it. It looks for a method named <code>gen_2</code> (why a method? Because there are parentheses hanging off of the end of it), and finds one in the <code>Alphabets {}</code> scope. That's the one it'll invoke. It'll do this in a static fashion, because the method is static. Not because java 'generates <code>Alphabets.</code>'.</p>\n"},{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642822192,"creation_date":1642822192,"answer_id":70809774,"question_id":70809650,"body_markdown":"Any programming language has to have rules about how the compiler determines the meaning of a name.  Java is no exception; its rules are [in Chapter 6 of the Java Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.5.2).\r\n\r\nThe full set of rules is quite elaborate, but the simplified answer to your question is: if there&#39;s an unqualified name that identifies something that is a member of the current object, and it is not obscured by a more local declaration of the same name, then the name means the member of the current object, i.e., &#39;this&#39; is implied.\r\n","title":"Implicit use of this keyword","body":"<p>Any programming language has to have rules about how the compiler determines the meaning of a name.  Java is no exception; its rules are <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.5.2\" rel=\"nofollow noreferrer\">in Chapter 6 of the Java Language Specification</a>.</p>\n<p>The full set of rules is quite elaborate, but the simplified answer to your question is: if there's an unqualified name that identifies something that is a member of the current object, and it is not obscured by a more local declaration of the same name, then the name means the member of the current object, i.e., 'this' is implied.</p>\n"}],"owner":{"account_id":23074115,"reputation":31,"user_id":17187310,"display_name":"Zen12345"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1643312402,"creation_date":1642819852,"question_id":70809650,"body_markdown":"When does Java compiler automatically append this keyword in my class?\r\n\r\n```\r\npublic class Alphabets\r\n{\r\n    int a;\r\n\r\n    public void gen_1(int b)\r\n    {\r\n        a=b;   //equivalent to this.a=b\r\n        gen_2();   //is this equivalent to Alphabets.gen_2()  or this.gen_2?\r\n    }\r\n\r\n    public static void gen_2()\r\n    {\r\n    }\r\n}\r\n```","title":"Implicit use of this keyword","body":"<p>When does Java compiler automatically append this keyword in my class?</p>\n<pre><code>public class Alphabets\n{\n    int a;\n\n    public void gen_1(int b)\n    {\n        a=b;   //equivalent to this.a=b\n        gen_2();   //is this equivalent to Alphabets.gen_2()  or this.gen_2?\n    }\n\n    public static void gen_2()\n    {\n    }\n}\n</code></pre>\n"},{"tags":["java","azure-webapps"],"comments":[{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1643279015,"post_id":70867975,"comment_id":125299275,"body_markdown":"Enter the startup command in the Portal=&gt;Your App=&gt;Configuration=&gt;General Settings.","body":"Enter the startup command in the Portal=&gt;Your App=&gt;Configuration=&gt;General Settings."},{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1643279076,"post_id":70867975,"comment_id":125299304,"body_markdown":"Please refer [this](https://blog.zuehlke.cloud/2020/03/simple-java-app-jar-in-azure-appservice/) for more details.","body":"Please refer <a href=\"https://blog.zuehlke.cloud/2020/03/simple-java-app-jar-in-azure-appservice/\" rel=\"nofollow noreferrer\">this</a> for more details."},{"owner":{"account_id":5564109,"reputation":1573,"user_id":4412032,"display_name":"Harshitha Veeramalla"},"score":0,"creation_date":1643279393,"post_id":70867975,"comment_id":125299441,"body_markdown":"Try to add CORS if there are any connections with Azure storage or any other Azure services.","body":"Try to add CORS if there are any connections with Azure storage or any other Azure services."}],"answers":[{"tags":[],"owner":{"account_id":23657861,"reputation":1,"user_id":17685852,"display_name":"sthottem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643312141,"creation_date":1643312141,"answer_id":70884692,"question_id":70867975,"body_markdown":"I was able to resolve it. I can use the default Root Domain to access my landing page by writing the following line of code into my pom.xml file.\r\n\r\n&lt;finalName&gt;ROOT&lt;/finalName&gt;\r\n\r\nThis turns war file into ROOT.war\r\n\r\nThis will in turn allow you to access war file and subsequent landing page straight from root domain url instead of with root domain url + war package + landing page name","title":"Azure App Service Java Web App Url Home Page Path Redirect","body":"<p>I was able to resolve it. I can use the default Root Domain to access my landing page by writing the following line of code into my pom.xml file.</p>\n<p>ROOT</p>\n<p>This turns war file into ROOT.war</p>\n<p>This will in turn allow you to access war file and subsequent landing page straight from root domain url instead of with root domain url + war package + landing page name</p>\n"}],"owner":{"account_id":23657861,"reputation":1,"user_id":17685852,"display_name":"sthottem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643312141,"creation_date":1643219191,"question_id":70867975,"body_markdown":"I deployed a java webapp onto App Service. App service has a default url \r\n(ntpqe-nprd--tots-as.azurewebsites.net) provided but when I enter it, it says Http 404 , No resources Found. \r\n\r\nWhen I add paths after the default url: \r\nntpqe-nprd--tots-as.azurewebsites.net/MLT-0.0.1-SNAPSHOT/migration\r\n\r\nThe webapp landing page opens up and I can access web app.\r\n\r\nWhat I want to know is how to access the web app landing page with just the app service default URL: ntpqe-nprd--tots-as.azurewebsites.net\r\n\r\nWithout the subsequent paths after it.","title":"Azure App Service Java Web App Url Home Page Path Redirect","body":"<p>I deployed a java webapp onto App Service. App service has a default url\n(ntpqe-nprd--tots-as.azurewebsites.net) provided but when I enter it, it says Http 404 , No resources Found.</p>\n<p>When I add paths after the default url:\nntpqe-nprd--tots-as.azurewebsites.net/MLT-0.0.1-SNAPSHOT/migration</p>\n<p>The webapp landing page opens up and I can access web app.</p>\n<p>What I want to know is how to access the web app landing page with just the app service default URL: ntpqe-nprd--tots-as.azurewebsites.net</p>\n<p>Without the subsequent paths after it.</p>\n"},{"tags":["java","spring-boot","completable-future","downcast"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643312233,"post_id":70883618,"comment_id":125313051,"body_markdown":"The text mentions `AccountDetailWithMessages` whereas the code uses `AccountDetailWithAlerts` – as I wasn’t sure I didn’t change it.","body":"The text mentions <code>AccountDetailWithMessages</code> whereas the code uses <code>AccountDetailWithAlerts</code> – as I wasn’t sure I didn’t change it."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643312387,"post_id":70883618,"comment_id":125313108,"body_markdown":"Note that even if the method returns a `ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt;&gt;`, if the real object is an `AccountDetailWithAlerts` the HTTP response will still contain all its fields, including the alerts, so if there is no other reason to use `AccountDetail` there, it would seem simpler to just declare the response with `AccountDetailWithAlerts`.","body":"Note that even if the method returns a <code>ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt;&gt;</code>, if the real object is an <code>AccountDetailWithAlerts</code> the HTTP response will still contain all its fields, including the alerts, so if there is no other reason to use <code>AccountDetail</code> there, it would seem simpler to just declare the response with <code>AccountDetailWithAlerts</code>."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643312886,"post_id":70883618,"comment_id":125313278,"body_markdown":"What’s really missing in the question though is what problem do you have exactly with the conversion – you have a `CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;` that you transform into a `CompanyResponse&lt;AccountDetail&gt;`, so what issue do you have creating that `new CompanyResponse&lt;AccountDetail&gt;()`? I fear that you didn’t test the code in your question when trying to make it a true [mre], and it is too different from your actual code.","body":"What’s really missing in the question though is what problem do you have exactly with the conversion – you have a <code>CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;</code> that you transform into a <code>CompanyResponse&lt;AccountDetail&gt;</code>, so what issue do you have creating that <code>new CompanyResponse&lt;AccountDetail&gt;()</code>? I fear that you didn’t test the code in your question when trying to make it a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and it is too different from your actual code."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643313036,"post_id":70883618,"comment_id":125313344,"body_markdown":"Side note, concerning your `supplyAsync()` calls, you should look towards Spring `@Async`. Maybe [this question](https://stackoverflow.com/q/44685187/525036) can help.","body":"Side note, concerning your <code>supplyAsync()</code> calls, you should look towards Spring <code>@Async</code>. Maybe <a href=\"https://stackoverflow.com/q/44685187/525036\">this question</a> can help."}],"owner":{"account_id":10073835,"reputation":787,"user_id":7446623,"accept_rate":5,"display_name":"apex2022"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643312062,"creation_date":1643306909,"question_id":70883618,"body_markdown":"I have the following classes:\r\n\r\n    public class AccountDetail {\r\n        private String accountNumber;\r\n        private Date effectiveDate;\r\n        private String status;\r\n        // a bunch of other properties\r\n    }\r\n\r\n    public class AccountDetailWithAlerts extends AccountDetail {\r\n        private LowMediumAlerts alerts;\r\n    }\r\n\r\n    public class AccountsAndAlerts {\r\n        private List&lt;AccountDetailWithAlerts&gt; accounts;\r\n        private HighCustomerAccountAlerts accountAlerts;\r\n        // getters and setters\r\n    }\r\n\r\n    public class CustomerAndAccountAlerts {\r\n        private List&lt;AlertMessage&gt; customerAlerts;\r\n        private List&lt;AccountAlertMessages&gt; accountAlerts;\r\n    }\r\n\r\n    public Class CompanyResponse&lt;T&gt; {\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        private T response;\r\n        // other things that aren&#39;t relevant\r\n    }\r\n    \r\nI have a controller, AccountsController, that does a @GetMapping and has a ResponseEntity method:\r\n\r\n    public ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt; getAccountDetails {\r\n        @RequestParam MultiValueMap&lt;String, String&gt; queryParms,\r\n        // some @ApiParams for client-header, end-user-id &amp; accountNumber\r\n        String accountId = queryParms.getFirst(&quot;accountId&quot;);\r\n        // setting RestHeaders, contentType\r\n\r\n        CompanyResponse&lt;AccountsAndAlerts&gt; response = accountDetailService.getAccountsWithAlerts(restHeaders, accountNumber, queryParms, accountId);\r\n        return new ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt;&gt;(response, headers, HttpStatus.valueOf(response.getStatus()));\r\n    }\r\n\r\nHere is the method in accountDetailService:\r\n\r\n    public CompanyResponse&lt;AccountsAndAlerts&gt; getAccountsWithAlerts(RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms, String accountId) throws... {\r\n        CompanyResponse&lt;AccountsAndAlerts&gt; newResponse = new CompanyResponse&lt;AccountsAndAlerts&gt;();\r\n        try {\r\n            CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; accountsFuture = accountDetails.getAccounts(newResponse, restHeaders, accountNumber, queryParms);\r\n            CompletableFuture&lt;CustomerAndAccountAlerts&gt; alertsFuture = accountDetails.getAlerts(newResponse, restHeaders, accountId);\r\n\r\n            accountsFuture.thenAcceptBoth(alertsFuture, (s1, s2) -&gt; newResponse.setResponse(getResponse(s1, s2))).get();\r\n        } catch {\r\n            // catch code\r\n        }\r\n        return newResponse;\r\n    }\r\n\r\nFinally, the getAccounts method in AccountDetails:\r\n\r\n    public CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; getAccounts(CompanyResponse&lt;AccountsAndAlerts&gt; newResponse, RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms) throws ... {\r\n        // this has the restTemplate and the .supplyAsync()\r\n}\r\n\r\nWhat I need to do is create a new ResponseEntityMethod in the Controller:\r\n\r\n    public ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt; getCertainAccountDetails\r\n\r\nI have put in a return of that type, and I am attempting to create a new method in the `accountDetailService`, `getCertainAccounts()`.\r\n\r\nThe problem is trying to set this all up without creating a whole other `CompletableFuture` method with an invoke and `supplyAsync()` and `restTemplate` and such.\r\n\r\nIt appears that I still need to call `getAccounts()`, but then I have to somewhere along this line downcast the `AccountDetailWithMessages` to `AccountDetail`. I don&#39;t know if I can somehow downcast `CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;` to `CompletableFuture&lt;List&lt;AccountDetail&gt;&gt;` or how to do it, or if I really need to downcast `CompanyResponse&lt;AccountsAndAlerts&gt;` or how to do that. \r\n\r\nCan anyone help?\r\n\r\nPS. I changed the names of everything to protect my Company&#39;s code. If you see errors in methods or names or anything, please be assured that is not an issue and is just the result of my typing things out instead of copying and pasting. The only issue is how to do the downcasting.\r\n\r\nThanks!\r\n\r\nPPS. In case it wasn&#39;t clear, with my new method and code I do not want to get the alerts. I am trying to get account details only without alerts.","title":"Downcasting a CompletableFuture&#39;s object type - Java/Spring Boot","body":"<p>I have the following classes:</p>\n<pre><code>public class AccountDetail {\n    private String accountNumber;\n    private Date effectiveDate;\n    private String status;\n    // a bunch of other properties\n}\n\npublic class AccountDetailWithAlerts extends AccountDetail {\n    private LowMediumAlerts alerts;\n}\n\npublic class AccountsAndAlerts {\n    private List&lt;AccountDetailWithAlerts&gt; accounts;\n    private HighCustomerAccountAlerts accountAlerts;\n    // getters and setters\n}\n\npublic class CustomerAndAccountAlerts {\n    private List&lt;AlertMessage&gt; customerAlerts;\n    private List&lt;AccountAlertMessages&gt; accountAlerts;\n}\n\npublic Class CompanyResponse&lt;T&gt; {\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    private T response;\n    // other things that aren't relevant\n}\n</code></pre>\n<p>I have a controller, AccountsController, that does a @GetMapping and has a ResponseEntity method:</p>\n<pre><code>public ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt; getAccountDetails {\n    @RequestParam MultiValueMap&lt;String, String&gt; queryParms,\n    // some @ApiParams for client-header, end-user-id &amp; accountNumber\n    String accountId = queryParms.getFirst(&quot;accountId&quot;);\n    // setting RestHeaders, contentType\n\n    CompanyResponse&lt;AccountsAndAlerts&gt; response = accountDetailService.getAccountsWithAlerts(restHeaders, accountNumber, queryParms, accountId);\n    return new ResponseEntity&lt;CompanyResponse&lt;AccountsAndAlerts&gt;&gt;(response, headers, HttpStatus.valueOf(response.getStatus()));\n}\n</code></pre>\n<p>Here is the method in accountDetailService:</p>\n<pre><code>public CompanyResponse&lt;AccountsAndAlerts&gt; getAccountsWithAlerts(RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms, String accountId) throws... {\n    CompanyResponse&lt;AccountsAndAlerts&gt; newResponse = new CompanyResponse&lt;AccountsAndAlerts&gt;();\n    try {\n        CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; accountsFuture = accountDetails.getAccounts(newResponse, restHeaders, accountNumber, queryParms);\n        CompletableFuture&lt;CustomerAndAccountAlerts&gt; alertsFuture = accountDetails.getAlerts(newResponse, restHeaders, accountId);\n\n        accountsFuture.thenAcceptBoth(alertsFuture, (s1, s2) -&gt; newResponse.setResponse(getResponse(s1, s2))).get();\n    } catch {\n        // catch code\n    }\n    return newResponse;\n}\n</code></pre>\n<p>Finally, the getAccounts method in AccountDetails:</p>\n<pre><code>public CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt; getAccounts(CompanyResponse&lt;AccountsAndAlerts&gt; newResponse, RestHeaders restHeaders, String accountNumber, MultiValueMap&lt;String, String&gt; queryParms) throws ... {\n    // this has the restTemplate and the .supplyAsync()\n</code></pre>\n<p>}</p>\n<p>What I need to do is create a new ResponseEntityMethod in the Controller:</p>\n<pre><code>public ResponseEntity&lt;CompanyResponse&lt;AccountDetail&gt; getCertainAccountDetails\n</code></pre>\n<p>I have put in a return of that type, and I am attempting to create a new method in the <code>accountDetailService</code>, <code>getCertainAccounts()</code>.</p>\n<p>The problem is trying to set this all up without creating a whole other <code>CompletableFuture</code> method with an invoke and <code>supplyAsync()</code> and <code>restTemplate</code> and such.</p>\n<p>It appears that I still need to call <code>getAccounts()</code>, but then I have to somewhere along this line downcast the <code>AccountDetailWithMessages</code> to <code>AccountDetail</code>. I don't know if I can somehow downcast <code>CompletableFuture&lt;List&lt;AccountDetailWithAlerts&gt;&gt;</code> to <code>CompletableFuture&lt;List&lt;AccountDetail&gt;&gt;</code> or how to do it, or if I really need to downcast <code>CompanyResponse&lt;AccountsAndAlerts&gt;</code> or how to do that.</p>\n<p>Can anyone help?</p>\n<p>PS. I changed the names of everything to protect my Company's code. If you see errors in methods or names or anything, please be assured that is not an issue and is just the result of my typing things out instead of copying and pasting. The only issue is how to do the downcasting.</p>\n<p>Thanks!</p>\n<p>PPS. In case it wasn't clear, with my new method and code I do not want to get the alerts. I am trying to get account details only without alerts.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1465191,"reputation":1315,"user_id":1378268,"accept_rate":65,"display_name":"Kode Charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643256198,"creation_date":1643256198,"answer_id":70873198,"question_id":70872200,"body_markdown":"First, straighten out your IDs for `MsgRetry`.  The FK should be good enough.\r\n\r\n    @Entity\r\n    @Table(name = &quot;msg_retry&quot;)\r\n    public class MsgRetry {\r\n        @Id\r\n        @ManyToOne(optional = false)\r\n        @JoinColumn(name = &quot;msg_id&quot;)\r\n        private Msg msg;\r\n        \r\n        @Column(name = &quot;count&quot;)\r\n        private Long count;\r\n        \r\n        @Generated(value = GenerationTime.ALWAYS)\r\n        @Column(name = &quot;timestamp&quot;)\r\n        private Date timestamp;\r\n        \r\n        public Msg getMsg() { return msg; }\r\n             \r\n        public void setMsg(Msg msg) { this.msg = msg; }\r\n    }\r\n\r\nNext, be sure `MsgRetryRepository` is properly sub-classed:\r\n\r\n    public interface MsgRetryRepository extends CrudRepository&lt;MsgRetry, Msg&gt;\r\n    {\r\n      // Empty for now\r\n    }\r\n\r\nLastly, query the `MsgRetry` in the right way:\r\n\r\n    public class BizLogic {\r\n    \r\n        MsgRetryRepository retryRepo\r\n        \r\n        public MsgRetry retry(Msg msg, String msgStatus) {\r\n        \r\n            MsgRetry mr = retryRepo.findById(msg);        \r\n            if (mr !=null) {\r\n                // XXX I cannot tell from your logic what you are doing here.\r\n                retryRepo.save(mr);\r\n            }   \r\n        }\r\n    }\r\n\r\nWhat is your persistence layer?  Maybe you can turn on debugging and visit the logs to see what is happening under the hood.","title":"Hibernate - Persisting child entity containing parent entity","body":"<p>First, straighten out your IDs for <code>MsgRetry</code>.  The FK should be good enough.</p>\n<pre><code>@Entity\n@Table(name = &quot;msg_retry&quot;)\npublic class MsgRetry {\n    @Id\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;msg_id&quot;)\n    private Msg msg;\n    \n    @Column(name = &quot;count&quot;)\n    private Long count;\n    \n    @Generated(value = GenerationTime.ALWAYS)\n    @Column(name = &quot;timestamp&quot;)\n    private Date timestamp;\n    \n    public Msg getMsg() { return msg; }\n         \n    public void setMsg(Msg msg) { this.msg = msg; }\n}\n</code></pre>\n<p>Next, be sure <code>MsgRetryRepository</code> is properly sub-classed:</p>\n<pre><code>public interface MsgRetryRepository extends CrudRepository&lt;MsgRetry, Msg&gt;\n{\n  // Empty for now\n}\n</code></pre>\n<p>Lastly, query the <code>MsgRetry</code> in the right way:</p>\n<pre><code>public class BizLogic {\n\n    MsgRetryRepository retryRepo\n    \n    public MsgRetry retry(Msg msg, String msgStatus) {\n    \n        MsgRetry mr = retryRepo.findById(msg);        \n        if (mr !=null) {\n            // XXX I cannot tell from your logic what you are doing here.\n            retryRepo.save(mr);\n        }   \n    }\n}\n</code></pre>\n<p>What is your persistence layer?  Maybe you can turn on debugging and visit the logs to see what is happening under the hood.</p>\n"}],"owner":{"account_id":5661669,"reputation":13,"user_id":4479129,"display_name":"zzDevzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643312044,"creation_date":1643246399,"question_id":70872200,"body_markdown":"Getting errors while trying to persist child entity (MsgRetry) when trying to get an entity of parent entity (Msg) where the parent PK (msg_id) is the FK in the child entity.\r\n\r\nErrors like: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property\r\n\r\nThe parent entity, does not need to know about the child entity (at least i don&#39;t think it needs to, to work). Once the child entity is persisted I&#39;m trying to also persist the parent entity. I can work around this by not having the parent entity in the child entity and the call the associated repositories. However, I don&#39;t think it&#39;s as clean as what I&#39;m attempting but obviously more difficult/ complex.\r\n\r\nThanks for any advice on best practices or how to achieve this if this is a good solution.\r\n\r\ntables:\r\n\r\n| msg | |\r\n| - | - |\r\n| msg_id| pk |\r\n| msg_status| msg_status |\r\n\r\n\r\n| msg_retry | |\r\n| - | - |\r\n| msg_id | fk |\r\n| count   | |\r\n| timestamp | |\r\n\r\nmodel:\r\n\r\n    \r\n```\r\n@Entity\r\n@Table(name=&quot;msg&quot;)\r\npublic class Msg {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;msg_id&quot;)\r\n\t@GeneratedValue(strategy = generationtype.sequence, generator = &quot;msg_id_seq_gen&quot;)\r\n\t@SequenceGenerator(name = &quot;msg_id_seq_gen&quot;, sequencename = &quot;msg_id_seq&quot;, allocationsize = 1)\r\n\tprivate Long msgId;\r\n\t\r\n\t@Column(name = &quot;msg_status&quot;, nullable = false)\r\n\tprivate String msgStatus;\r\n\t\r\n\t...\r\n\t\r\n\t//getters setters\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;msg_retry&quot;)\r\npublic class MsgRetry implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = -7637385223556379976L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;msg_id&quot;)\r\n\tprivate Long msgId;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name=&quot;msg_id&quot;, referencedColumnName = &quot;msg_id&quot;)\r\n\tprivate Msg msg;\r\n\t\r\n\t@Column(name = &quot;count&quot;)\r\n\tprivate Long count;\r\n\t\r\n\t@Generated(value = GenerationTime.ALWAYS)\r\n\t@Column(name = &quot;timestamp&quot;)\r\n\tprivate Date timestamp;\r\n\t\r\n\t\r\n\t\r\n\tpublic MsgRetry() {\r\n\t}\r\n\r\n\tpublic MsgRetry(Msg msg, Long count) {\r\n\t\tthis.msg = msg;\r\n\t\tthis.count = count;\r\n\t}\r\n\t\r\n\tpublic MsgRetry(Long msgId, Long count) {\r\n\t\tthis.msgId = msgId;\r\n\t\tthis.count = count;\r\n\t}\r\n\t\r\n\tpublic Msg getMsg() {\r\n\t\treturn msg;\r\n\t}\r\n\r\n\tpublic void setMsg(Msg msg) {\r\n\t\tthis.msg = msg;\r\n\t}\r\n```\r\n```\r\n@Repository\r\npublic interface MsgRetryRepository extends JpaRepository&lt;MsgRetry, Long&gt;{\r\n\r\n}\r\n```\r\n\r\n```\r\n@Test\r\n\tpublic void testSaveMsgByMsgIdRetry() {\r\n\t\t\r\n\t\tmsgRetryRepository.deleteAll();\r\n\t\tList&lt;Msg&gt; msgs = msgRepository.findAll();\r\n\t\t\r\n\t\tMsgRetry msgRetry = new MsgRetry(msgs.get(0).getMsgId(), 1L);\r\n\t\t\r\n\t\tmsgRetry = msgRetryRepository.save(msgRetry);\r\n\t\tassertNotNull(msgRetry.getMsg());  // fails to load Msg entity\r\n\t\tLOG.info(&quot;msgRetry: {}&quot;, msgRetry);\r\n\t}\r\n```\r\n\r\n```\r\n@Test\r\n\tpublic void testSaveMsgRetryByMsg() {\r\n\t\t\r\n\t\tmsgRetryRepository.deleteAll();\r\n\t\tList&lt;Msg&gt; msgs = msgRepository.findAll();\r\n\t\t\r\n\t\tMsgRetry msgRetry = new MsgRetry(msgs.get(0), 1L);\r\n\t\t\r\n\t\tmsgRetry = msgRetryRepository.save(msgRetry);\r\n\t\tassertNotNull(msgRetry.getMsg());\r\n\t\tLOG.info(&quot;msgRetry: {}&quot;, msgRetry);\r\n\t}\r\n```\r\nErrors out: org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): msgtest.MsgRetry; ","title":"Hibernate - Persisting child entity containing parent entity","body":"<p>Getting errors while trying to persist child entity (MsgRetry) when trying to get an entity of parent entity (Msg) where the parent PK (msg_id) is the FK in the child entity.</p>\n<p>Errors like: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property</p>\n<p>The parent entity, does not need to know about the child entity (at least i don't think it needs to, to work). Once the child entity is persisted I'm trying to also persist the parent entity. I can work around this by not having the parent entity in the child entity and the call the associated repositories. However, I don't think it's as clean as what I'm attempting but obviously more difficult/ complex.</p>\n<p>Thanks for any advice on best practices or how to achieve this if this is a good solution.</p>\n<p>tables:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>msg</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>msg_id</td>\n<td>pk</td>\n</tr>\n<tr>\n<td>msg_status</td>\n<td>msg_status</td>\n</tr>\n</tbody>\n</table>\n</div><div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>msg_retry</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>msg_id</td>\n<td>fk</td>\n</tr>\n<tr>\n<td>count</td>\n<td></td>\n</tr>\n<tr>\n<td>timestamp</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>model:</p>\n<pre><code>@Entity\n@Table(name=&quot;msg&quot;)\npublic class Msg {\n    \n    @Id\n    @Column(name = &quot;msg_id&quot;)\n    @GeneratedValue(strategy = generationtype.sequence, generator = &quot;msg_id_seq_gen&quot;)\n    @SequenceGenerator(name = &quot;msg_id_seq_gen&quot;, sequencename = &quot;msg_id_seq&quot;, allocationsize = 1)\n    private Long msgId;\n    \n    @Column(name = &quot;msg_status&quot;, nullable = false)\n    private String msgStatus;\n    \n    ...\n    \n    //getters setters\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;msg_retry&quot;)\npublic class MsgRetry implements Serializable{\n\n    private static final long serialVersionUID = -7637385223556379976L;\n\n    @Id\n    @Column(name = &quot;msg_id&quot;)\n    private Long msgId;\n    \n    @OneToOne\n    @JoinColumn(name=&quot;msg_id&quot;, referencedColumnName = &quot;msg_id&quot;)\n    private Msg msg;\n    \n    @Column(name = &quot;count&quot;)\n    private Long count;\n    \n    @Generated(value = GenerationTime.ALWAYS)\n    @Column(name = &quot;timestamp&quot;)\n    private Date timestamp;\n    \n    \n    \n    public MsgRetry() {\n    }\n\n    public MsgRetry(Msg msg, Long count) {\n        this.msg = msg;\n        this.count = count;\n    }\n    \n    public MsgRetry(Long msgId, Long count) {\n        this.msgId = msgId;\n        this.count = count;\n    }\n    \n    public Msg getMsg() {\n        return msg;\n    }\n\n    public void setMsg(Msg msg) {\n        this.msg = msg;\n    }\n</code></pre>\n<pre><code>@Repository\npublic interface MsgRetryRepository extends JpaRepository&lt;MsgRetry, Long&gt;{\n\n}\n</code></pre>\n<pre><code>@Test\n    public void testSaveMsgByMsgIdRetry() {\n        \n        msgRetryRepository.deleteAll();\n        List&lt;Msg&gt; msgs = msgRepository.findAll();\n        \n        MsgRetry msgRetry = new MsgRetry(msgs.get(0).getMsgId(), 1L);\n        \n        msgRetry = msgRetryRepository.save(msgRetry);\n        assertNotNull(msgRetry.getMsg());  // fails to load Msg entity\n        LOG.info(&quot;msgRetry: {}&quot;, msgRetry);\n    }\n</code></pre>\n<pre><code>@Test\n    public void testSaveMsgRetryByMsg() {\n        \n        msgRetryRepository.deleteAll();\n        List&lt;Msg&gt; msgs = msgRepository.findAll();\n        \n        MsgRetry msgRetry = new MsgRetry(msgs.get(0), 1L);\n        \n        msgRetry = msgRetryRepository.save(msgRetry);\n        assertNotNull(msgRetry.getMsg());\n        LOG.info(&quot;msgRetry: {}&quot;, msgRetry);\n    }\n</code></pre>\n<p>Errors out: org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): msgtest.MsgRetry;</p>\n"},{"tags":["java","user-interface","colors","fonts"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643297278,"post_id":70879718,"comment_id":125306908,"body_markdown":"Did my suggestion work for you?","body":"Did my suggestion work for you?"},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643298997,"post_id":70879718,"comment_id":125307694,"body_markdown":"Thanks a lot. Though it returned dialog as the font name, the font in practice is Ubuntu Bold. I wonder why it&#39;s not reading it as such.","body":"Thanks a lot. Though it returned dialog as the font name, the font in practice is Ubuntu Bold. I wonder why it&#39;s not reading it as such."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643299090,"post_id":70879718,"comment_id":125307748,"body_markdown":"Yeah, I am not sure why. I will do a bit more digging and will update the answer if I find anything.","body":"Yeah, I am not sure why. I will do a bit more digging and will update the answer if I find anything."},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643299123,"post_id":70879718,"comment_id":125307761,"body_markdown":"Thanks a lot @hfontanez","body":"Thanks a lot @hfontanez"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643300687,"post_id":70879718,"comment_id":125308468,"body_markdown":"Are you running this code on an Ubuntu or in Windows?","body":"Are you running this code on an Ubuntu or in Windows?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643301357,"post_id":70879718,"comment_id":125308780,"body_markdown":"This is a mystery. I ran code that set the font on the `Graphics2D` object to _Serif_ and yet, when I queried the `BufferedImage` object to give me the font name set in the object, it still returns _Dialog_. Funny thing is that _Serif_ is one of the logical fonts in Java, so I don&#39;t get why it will fail.","body":"This is a mystery. I ran code that set the font on the <code>Graphics2D</code> object to <i>Serif</i> and yet, when I queried the <code>BufferedImage</code> object to give me the font name set in the object, it still returns <i>Dialog</i>. Funny thing is that <i>Serif</i> is one of the logical fonts in Java, so I don&#39;t get why it will fail."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643302659,"post_id":70879718,"comment_id":125309385,"body_markdown":"I am asking this question... This is bothering me too much.","body":"I am asking this question... This is bothering me too much."},{"owner":{"account_id":14333824,"reputation":121,"user_id":10353914,"display_name":"theMahaloRecords"},"score":0,"creation_date":1643306014,"post_id":70879718,"comment_id":125310807,"body_markdown":"Ist there any particula reason for doing it with a screenshot? Why do you not read the font from the webpage itself through the Selenium Driver?","body":"Ist there any particula reason for doing it with a screenshot? Why do you not read the font from the webpage itself through the Selenium Driver?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643309350,"post_id":70879718,"comment_id":125312064,"body_markdown":"@ken4ward I just asked this question https://stackoverflow.com/questions/70882734/font-face-value-returns-unexpected-value-dialog-from-image. Check out the comments. It&#39;s a nightmare!","body":"@ken4ward I just asked this question <a href=\"https://stackoverflow.com/questions/70882734/font-face-value-returns-unexpected-value-dialog-from-image\" title=\"font face value returns unexpected value dialog from image\">stackoverflow.com/questions/70882734/&hellip;</a>. Check out the comments. It&#39;s a nightmare!"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643315424,"post_id":70879718,"comment_id":125314078,"body_markdown":"@ken4ward you won&#39;t be able to access the Font information unless you save it yourself. Read the link to the question I asked. I posted an answer myself. It simply can&#39;t be done.","body":"@ken4ward you won&#39;t be able to access the Font information unless you save it yourself. Read the link to the question I asked. I posted an answer myself. It simply can&#39;t be done."},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643356487,"post_id":70879718,"comment_id":125322482,"body_markdown":"@hfontanez Thanks a lot. Actually, I&#39;m running Appium mobile test that cannot access the. information directly, that&#39;s the reason I used to try to analyze screenshots.","body":"@hfontanez Thanks a lot. Actually, I&#39;m running Appium mobile test that cannot access the. information directly, that&#39;s the reason I used to try to analyze screenshots."},{"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"score":0,"creation_date":1643356521,"post_id":70879718,"comment_id":125322495,"body_markdown":"I see. The reason it&#39;s made private got me thinking, why?","body":"I see. The reason it&#39;s made private got me thinking, why?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643311913,"creation_date":1643292741,"answer_id":70880034,"question_id":70879718,"body_markdown":"You can try this\r\n```\r\nGraphics g = image.getGraphics(); //using the BufferedImage from your example\r\nSystem.out.println(g.getFont().getFamily()); // For me, it displays &quot;Dialog&quot; which is one of the logical fonts according to https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\r\ng.dispose();\r\n```\r\n\r\n**UPDATE**:\r\n\r\n`image.getGraphics()` doesn&#39;t return the `Graphics2D` object that was used to create the overlay. It actually creates a new graphics object and returns it. Two of the subclasses of `Graphics2D` actually hold a delegate object that apparently holds this info. Unfortunately, these subclasses of `Graphics2D` are in the `sun` package which is now restricted. Therefore, this information seems to be inaccessible. If you require the `Font` that was used for the overlay, you may have no choice but to cache this information in some &quot;overlay config&quot; object.\r\n\r\n","title":"Get font name and color of an image using java","body":"<p>You can try this</p>\n<pre><code>Graphics g = image.getGraphics(); //using the BufferedImage from your example\nSystem.out.println(g.getFont().getFamily()); // For me, it displays &quot;Dialog&quot; which is one of the logical fonts according to https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\ng.dispose();\n</code></pre>\n<p><strong>UPDATE</strong>:</p>\n<p><code>image.getGraphics()</code> doesn't return the <code>Graphics2D</code> object that was used to create the overlay. It actually creates a new graphics object and returns it. Two of the subclasses of <code>Graphics2D</code> actually hold a delegate object that apparently holds this info. Unfortunately, these subclasses of <code>Graphics2D</code> are in the <code>sun</code> package which is now restricted. Therefore, this information seems to be inaccessible. If you require the <code>Font</code> that was used for the overlay, you may have no choice but to cache this information in some &quot;overlay config&quot; object.</p>\n"}],"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70880034,"answer_count":1,"score":0,"last_activity_date":1643311913,"creation_date":1643291521,"question_id":70879718,"body_markdown":"I am presently running an automation UI test, part of the checks is to make sure the background color, font color and the font-family used are consistent throughout the app. The code takes a snapshot of screen or element and checks the background color, but I&#39;m unable to check the font-family and font color. I have a code to check the background color, which works great. Is there a way to get the font-family and color? Is there any Java library that does that?\r\n\r\nI have attached a sample image. The image background color is white that is detected by the code below. \r\n\r\nThis code checks the background-color\r\n\r\n    public void checkBackgroundColor(String mobileElement, String saveReadFile, String hexValue) throws IOException {\r\n            MobileElement elem = (MobileElement) getMobileDriver().findElement(By.xpath(mobileElement));\r\n            File scrFile = elem.getScreenshotAs(OutputType.FILE);\r\n            FileUtils.copyFile(scrFile, new File(saveReadFile));\r\n            File savedFile = new File(saveReadFile);\r\n            BufferedImage image = ImageIO.read( savedFile);\r\n            org.openqa.selenium.Point point = elem.getCenter();\r\n            org.openqa.selenium.Point location = elem.getLocation();\r\n            Dimension size = elem.getSize();\r\n    \r\n            MyLogger.info(&quot;Point X is  &quot; + point.getX() +&quot;    Point Y is  &quot; + point.getY());\r\n            MyLogger.info(&quot;Location X is  &quot; + location.getX() +&quot;   Location Y is  &quot; + location.getY());\r\n            MyLogger.info(&quot;Size Height is  &quot; + size.getHeight() +&quot;   Size width is  &quot; + size.getWidth());\r\n    \r\n            // Getting pixel color by position x and y\r\n            int h = (int) Math.round(size.getWidth() * 0.2);\r\n            int w = (int) Math.round(size.getHeight() * 0.8);\r\n            int clr=  image.getRGB(h , w);\r\n            int  r   = (clr &amp; 0x00ff0000) &gt;&gt; 16;\r\n            int  g = (clr &amp; 0x0000ff00) &gt;&gt; 8;\r\n            int  b =  clr &amp; 0x000000ff;\r\n    \r\n            String hex = String.format(&quot;#%02x%02x%02x&quot;, r, g, b);\r\n            if (hex.equalsIgnoreCase(hexValue)){\r\n                MyLogger.info(&quot;Actual value  &quot;+ hexValue +&quot;   of  &quot; +buttons+savedFile.getName()  +&quot;  is equals to the expected value  &quot; +hex);\r\n            } else {\r\n                MyLogger.info(&quot;Actual value  &quot;+ hexValue  +&quot;   of  &quot; +buttons+savedFile.getName() +&quot;  is is not equals to the expected value  &quot; +hex);\r\n            }\r\n        }\r\n[![font color and family][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3p1c.png","title":"Get font name and color of an image using java","body":"<p>I am presently running an automation UI test, part of the checks is to make sure the background color, font color and the font-family used are consistent throughout the app. The code takes a snapshot of screen or element and checks the background color, but I'm unable to check the font-family and font color. I have a code to check the background color, which works great. Is there a way to get the font-family and color? Is there any Java library that does that?</p>\n<p>I have attached a sample image. The image background color is white that is detected by the code below.</p>\n<p>This code checks the background-color</p>\n<pre><code>public void checkBackgroundColor(String mobileElement, String saveReadFile, String hexValue) throws IOException {\n        MobileElement elem = (MobileElement) getMobileDriver().findElement(By.xpath(mobileElement));\n        File scrFile = elem.getScreenshotAs(OutputType.FILE);\n        FileUtils.copyFile(scrFile, new File(saveReadFile));\n        File savedFile = new File(saveReadFile);\n        BufferedImage image = ImageIO.read( savedFile);\n        org.openqa.selenium.Point point = elem.getCenter();\n        org.openqa.selenium.Point location = elem.getLocation();\n        Dimension size = elem.getSize();\n\n        MyLogger.info(&quot;Point X is  &quot; + point.getX() +&quot;    Point Y is  &quot; + point.getY());\n        MyLogger.info(&quot;Location X is  &quot; + location.getX() +&quot;   Location Y is  &quot; + location.getY());\n        MyLogger.info(&quot;Size Height is  &quot; + size.getHeight() +&quot;   Size width is  &quot; + size.getWidth());\n\n        // Getting pixel color by position x and y\n        int h = (int) Math.round(size.getWidth() * 0.2);\n        int w = (int) Math.round(size.getHeight() * 0.8);\n        int clr=  image.getRGB(h , w);\n        int  r   = (clr &amp; 0x00ff0000) &gt;&gt; 16;\n        int  g = (clr &amp; 0x0000ff00) &gt;&gt; 8;\n        int  b =  clr &amp; 0x000000ff;\n\n        String hex = String.format(&quot;#%02x%02x%02x&quot;, r, g, b);\n        if (hex.equalsIgnoreCase(hexValue)){\n            MyLogger.info(&quot;Actual value  &quot;+ hexValue +&quot;   of  &quot; +buttons+savedFile.getName()  +&quot;  is equals to the expected value  &quot; +hex);\n        } else {\n            MyLogger.info(&quot;Actual value  &quot;+ hexValue  +&quot;   of  &quot; +buttons+savedFile.getName() +&quot;  is is not equals to the expected value  &quot; +hex);\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/r3p1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3p1c.png\" alt=\"font color and family\" /></a></p>\n"},{"tags":["java","android","android-contentprovider","user-permissions"],"answers":[{"tags":[],"owner":{"account_id":349152,"reputation":2546,"user_id":684273,"accept_rate":68,"display_name":"Warlock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625847097,"creation_date":1625847097,"answer_id":68319859,"question_id":67547283,"body_markdown":"It&#39;s possible to change singing key for app already in Play Store. But it has now major disadvantage which will be gone in few years. It will be working only on devices running Android 9 and above. So your mindSkdVersion has to be 28+. It&#39;s called key rotation and it&#39;s part of APK Signature Scheme v3. See this [link][1].\r\n\r\nAlso I don&#39;t know other way how to 100% securely change data between two apps than trust same signing keys. Less secure way is only to depend on known applicationId (just sent Intent with &quot;com.myapp.someaction&quot;) which attacker can of course use and sideload app or use other distribution. Bit harder way to break can be usage of [Android IPC / AIDL][2] directly.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/pie/android-9.0#apk-key-rotation\r\n  [2]: https://developer.android.com/guide/components/aidl","title":"How to change the signing key of an app already published on play store? Is there another efficient alternative to contentProvider?","body":"<p>It's possible to change singing key for app already in Play Store. But it has now major disadvantage which will be gone in few years. It will be working only on devices running Android 9 and above. So your mindSkdVersion has to be 28+. It's called key rotation and it's part of APK Signature Scheme v3. See this <a href=\"https://developer.android.com/about/versions/pie/android-9.0#apk-key-rotation\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Also I don't know other way how to 100% securely change data between two apps than trust same signing keys. Less secure way is only to depend on known applicationId (just sent Intent with &quot;com.myapp.someaction&quot;) which attacker can of course use and sideload app or use other distribution. Bit harder way to break can be usage of <a href=\"https://developer.android.com/guide/components/aidl\" rel=\"nofollow noreferrer\">Android IPC / AIDL</a> directly.</p>\n"}],"owner":{"account_id":17821196,"reputation":94,"user_id":12943545,"display_name":"ankalagba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68319859,"answer_count":1,"score":0,"last_activity_date":1643311737,"creation_date":1621085692,"question_id":67547283,"body_markdown":"I had exactly the same issue like in that question: [java.lang.SecurityException: Permission Denial: opening provider when implement content provider][1]\r\n\r\nI have solved it using: [ the answer of @CommonsWare ][2]\r\n\r\nWhere He says: \r\n\r\n&gt;App B has identical `&lt;permission&gt;` elements as App A and both App A and App B are signed by the same signing key\r\n\r\nBut When generating the app bundles of my applications, `I have forgotten to sign them with the same signing key`\r\n\r\n According to the research I have done: \r\n\r\n&gt; It is not possible to change the singing key of an application once it is on play store.\r\n\r\n**My actual problem:**\r\n\r\nI have recently put two apps on play store which have the same `&lt;permission&gt;` element. When I install first the app A from play store, I will not be able to install the app B. When I first install the app B from play store, I will not be able to install the app A. One of my apps is not able to install when I install the other app first. \r\n\r\nAccording to @commonware answer: \r\n\r\n&gt; you would need to remove one of the two apps from the Play Store and\r\n&gt; submit a replacement, with a new application ID, that is signed by the\r\n&gt; same signing key as the other shipping app.\r\n\r\nBut I don&#39;t want to change the application ID of any of these two applications\r\n\r\nAny idea about how to solve that issue?\r\n\r\nIs there any other efficient alternative to ContentProvider to share data between two applications of the same author?\r\n\r\nI have momentarily accepted the @Warlock answer but I am looking for a better answer. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/57133565/12943545\r\n  [2]: https://stackoverflow.com/a/57133590/12943545","title":"How to change the signing key of an app already published on play store? Is there another efficient alternative to contentProvider?","body":"<p>I had exactly the same issue like in that question: <a href=\"https://stackoverflow.com/q/57133565/12943545\">java.lang.SecurityException: Permission Denial: opening provider when implement content provider</a></p>\n<p>I have solved it using: <a href=\"https://stackoverflow.com/a/57133590/12943545\"> the answer of @CommonsWare </a></p>\n<p>Where He says:</p>\n<blockquote>\n<p>App B has identical <code>&lt;permission&gt;</code> elements as App A and both App A and App B are signed by the same signing key</p>\n</blockquote>\n<p>But When generating the app bundles of my applications, <code>I have forgotten to sign them with the same signing key</code></p>\n<p>According to the research I have done:</p>\n<blockquote>\n<p>It is not possible to change the singing key of an application once it is on play store.</p>\n</blockquote>\n<p><strong>My actual problem:</strong></p>\n<p>I have recently put two apps on play store which have the same <code>&lt;permission&gt;</code> element. When I install first the app A from play store, I will not be able to install the app B. When I first install the app B from play store, I will not be able to install the app A. One of my apps is not able to install when I install the other app first.</p>\n<p>According to @commonware answer:</p>\n<blockquote>\n<p>you would need to remove one of the two apps from the Play Store and\nsubmit a replacement, with a new application ID, that is signed by the\nsame signing key as the other shipping app.</p>\n</blockquote>\n<p>But I don't want to change the application ID of any of these two applications</p>\n<p>Any idea about how to solve that issue?</p>\n<p>Is there any other efficient alternative to ContentProvider to share data between two applications of the same author?</p>\n<p>I have momentarily accepted the @Warlock answer but I am looking for a better answer.</p>\n"},{"tags":["java","multithreading","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":11980108,"reputation":66,"user_id":18031053,"display_name":"Osman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311427,"creation_date":1643311122,"answer_id":70884488,"question_id":70884298,"body_markdown":"As far as I know you don&#39;t need to worry about database-level data race since database handles multiple access at the same time, to put it simply you&#39;re good to go.&lt;br&gt;\r\n\r\n&lt;b&gt;But&lt;/b&gt; there&#39;s another issue makes me worried. I&#39;m assuming you&#39;re developing a web application that runs on a web-server am I right? Since web-server itself creates min 10 threads to receive http requests from the internet, creating extra threads in the code may not be a good idea. &lt;br&gt;\r\n&lt;br&gt;\r\nlet&#39;s say that once you call a method A() it creates extra 1 thread, and imagine there&#39;re 3 request was made to the same endpoint so web server assigns each request to a thread and in each thread the method A() is called which in this case you&#39;ll have 3 more new threads, in case you have high traffic you may end up with a situation which there&#39;re many threads more than your computer handles. \r\n&lt;br&gt;&lt;br&gt;\r\nCreating a common thread pool for common use might be an option only if it&#39;s application level (declaring static thread pool) &lt;br&gt;\r\nOr &lt;br&gt;\r\nif the Job is not needed to be applied instantly, you can write another batch program with many threads and can use Redis-like message passing application to handle communication. Thus you can remove the barrier sitting in the high-request and scalability.","title":"Threading on JPA Spring boot","body":"<p>As far as I know you don't need to worry about database-level data race since database handles multiple access at the same time, to put it simply you're good to go.<br></p>\n<p><b>But</b> there's another issue makes me worried. I'm assuming you're developing a web application that runs on a web-server am I right? Since web-server itself creates min 10 threads to receive http requests from the internet, creating extra threads in the code may not be a good idea. <br>\n<br>\nlet's say that once you call a method A() it creates extra 1 thread, and imagine there're 3 request was made to the same endpoint so web server assigns each request to a thread and in each thread the method A() is called which in this case you'll have 3 more new threads, in case you have high traffic you may end up with a situation which there're many threads more than your computer handles.\n<br><br>\nCreating a common thread pool for common use might be an option only if it's application level (declaring static thread pool) <br>\nOr <br>\nif the Job is not needed to be applied instantly, you can write another batch program with many threads and can use Redis-like message passing application to handle communication. Thus you can remove the barrier sitting in the high-request and scalability.</p>\n"},{"tags":[],"owner":{"account_id":17000129,"reputation":1,"user_id":12297721,"display_name":"David Odinga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311233,"creation_date":1643311233,"answer_id":70884513,"question_id":70884298,"body_markdown":"You do not need to loop in order to save the data. You can save your entities in a collection and call the jpa `saveAll()` method.\r\n\r\n`repository.saveAll(Iterable&lt;S&gt; entities)`\r\n\r\n","title":"Threading on JPA Spring boot","body":"<p>You do not need to loop in order to save the data. You can save your entities in a collection and call the jpa <code>saveAll()</code> method.</p>\n<p><code>repository.saveAll(Iterable&lt;S&gt; entities)</code></p>\n"}],"owner":{"account_id":21191360,"reputation":11,"user_id":15583795,"display_name":"ELECTRO WARE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1227,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1643311427,"creation_date":1643310218,"question_id":70884298,"body_markdown":"Hi I am trying to loop and save the objects to database using JPA repository. I wanted to use thread here,but while threading multiple objects saves at one time on same table wether the primary id which is auto generated will get collide?","title":"Threading on JPA Spring boot","body":"<p>Hi I am trying to loop and save the objects to database using JPA repository. I wanted to use thread here,but while threading multiple objects saves at one time on same table wether the primary id which is auto generated will get collide?</p>\n"},{"tags":["java","android","mockito","handler","looper"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1643960274,"post_id":70867600,"comment_id":125482523,"body_markdown":"Mockito offers several ways to mock things, you will need to find the ones that will work in your situation.  For example Mockito has a class of mocking methods for mocking methods that have no return value, i.e are void.\nI think you need to be looking for how to use Mockito for Android development.","body":"Mockito offers several ways to mock things, you will need to find the ones that will work in your situation.  For example Mockito has a class of mocking methods for mocking methods that have no return value, i.e are void. I think you need to be looking for how to use Mockito for Android development."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311327,"creation_date":1643311327,"answer_id":70884531,"question_id":70867600,"body_markdown":"This is going to be tricky, because your Android testing library [has no implementations](https://stackoverflow.com/a/36587569/1426891), and static methods are generally more difficult to mock safely and effectively.\r\n\r\nRecent versions of Mockito have added [the ability to mock static methods](https://javadoc.io/static/org.mockito/mockito-core/4.3.1/org/mockito/Mockito.html#static_mocks) without using another library like [PowerMock](https://github.com/powermock/powermock), so the first choice would be something like that. If at all possible, use `mockStatic` on `Looper::getMainLooper` to mock.\r\n\r\nAnother solution is to add some indirection, giving you a testing seam:\r\n\r\n```\r\npublic class NonUIFragment extends Fragment {\r\n  /** Visible for testing. */\r\n  static Looper overrideLooper;\r\n\r\n  // ...\r\n\r\n  private final Handler handler = new Handler(\r\n      overrideLooper != null ? overrideLooper : Looper.getMainLooper()) {\r\n    /* ... */\r\n  };\r\n}\r\n```\r\n\r\nFinally, if you find yourself doing this kind of mock a lot, you can consider a library like [Robolectric](http://robolectric.org/). Using Robolectric you could [simulate the looper with a ShadowLooper](http://robolectric.org/javadoc/4.7/org/robolectric/shadows/ShadowLooper.html), which would let you remote-control it, while using Mockito for any classes your team has written. This would prevent you from having to mock a realistic Looper for every test, for instance.","title":"Mockito tests for class with Handler","body":"<p>This is going to be tricky, because your Android testing library <a href=\"https://stackoverflow.com/a/36587569/1426891\">has no implementations</a>, and static methods are generally more difficult to mock safely and effectively.</p>\n<p>Recent versions of Mockito have added <a href=\"https://javadoc.io/static/org.mockito/mockito-core/4.3.1/org/mockito/Mockito.html#static_mocks\" rel=\"nofollow noreferrer\">the ability to mock static methods</a> without using another library like <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">PowerMock</a>, so the first choice would be something like that. If at all possible, use <code>mockStatic</code> on <code>Looper::getMainLooper</code> to mock.</p>\n<p>Another solution is to add some indirection, giving you a testing seam:</p>\n<pre><code>public class NonUIFragment extends Fragment {\n  /** Visible for testing. */\n  static Looper overrideLooper;\n\n  // ...\n\n  private final Handler handler = new Handler(\n      overrideLooper != null ? overrideLooper : Looper.getMainLooper()) {\n    /* ... */\n  };\n}\n</code></pre>\n<p>Finally, if you find yourself doing this kind of mock a lot, you can consider a library like <a href=\"http://robolectric.org/\" rel=\"nofollow noreferrer\">Robolectric</a>. Using Robolectric you could <a href=\"http://robolectric.org/javadoc/4.7/org/robolectric/shadows/ShadowLooper.html\" rel=\"nofollow noreferrer\">simulate the looper with a ShadowLooper</a>, which would let you remote-control it, while using Mockito for any classes your team has written. This would prevent you from having to mock a realistic Looper for every test, for instance.</p>\n"}],"owner":{"account_id":24006185,"reputation":1,"user_id":17990330,"display_name":"Sergei K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643311327,"creation_date":1643217551,"question_id":70867600,"body_markdown":"I&#39;m a new one in android dev, so I have an app which contain viewPager with 2 UI fragments and 1 nonUIFragment in which operations are performed (i used &quot;setRetainInstance(true)&quot;, it deprecated, but i must use it). In this nonUIFragment i have Handler which accepts messages from operations started with ExecutorServices.\r\nBut now my task is test this app with Mockito and i&#39;m totaly confused. \r\n\r\nMentor said &quot;you have to mock the operation that produces the result, is performed in a nonUIFragment, and its result is stored in a collection.&quot;\r\n\r\nHow must look this test, I can&#39;t create *spy()* class NonUIFragment and use real methods because of &quot;Method getMainLooper in android.os.Looper not mocked.&quot;\r\nAll of my methods are void, they don&#39;t returne something, how can i trace this chain.\r\n\r\nNonUIFragment.java\r\n```\r\nprivate NonUIToActivityInterface nonUIInterface;\r\n    private final Map&lt;DefOperandTags, HashMap&lt;DefOperationTags, String&gt;&gt; allResultsMap\r\n        = new HashMap&lt;&gt;();\r\n\r\n @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setRetainInstance(true);\r\n    }\r\n\r\n//Handler pass result to here\r\n    public void passAndSaveResult(DefOperandTags operandTag, DefOperationTags operationTag, String result) {\r\n        allResultsMap.get(operandTag)).put(operationTag, result);\r\n    }\r\n\r\nprivate final Handler handler = new Handler(Looper.getMainLooper()) {\r\n        public void handleMessage(Message msg) {\r\n            if (msg.what != null)\r\n                passAndSaveResult(defOperandTags, defOperationTag, msg.obj.toString());\r\n    };\r\n```\r\n\r\nOneOfOperation.java (add value to the List)\r\n```\r\npublic class AddToStartList extends Operation {\r\n\r\n    public AddToStartList(List list, DefOperationTags operationTag) {\r\n        super(list);\r\n        key = operationTag;\r\n    }\r\n\r\n    @Override\r\n    public void operation(Object collection) {\r\n        ((List)collection).add(0, &quot;123&quot;);\r\n    }\r\n\r\n```\r\n\r\nSo, how can I implement what my mentor said?","title":"Mockito tests for class with Handler","body":"<p>I'm a new one in android dev, so I have an app which contain viewPager with 2 UI fragments and 1 nonUIFragment in which operations are performed (i used &quot;setRetainInstance(true)&quot;, it deprecated, but i must use it). In this nonUIFragment i have Handler which accepts messages from operations started with ExecutorServices.\nBut now my task is test this app with Mockito and i'm totaly confused.</p>\n<p>Mentor said &quot;you have to mock the operation that produces the result, is performed in a nonUIFragment, and its result is stored in a collection.&quot;</p>\n<p>How must look this test, I can't create <em>spy()</em> class NonUIFragment and use real methods because of &quot;Method getMainLooper in android.os.Looper not mocked.&quot;\nAll of my methods are void, they don't returne something, how can i trace this chain.</p>\n<p>NonUIFragment.java</p>\n<pre><code>private NonUIToActivityInterface nonUIInterface;\n    private final Map&lt;DefOperandTags, HashMap&lt;DefOperationTags, String&gt;&gt; allResultsMap\n        = new HashMap&lt;&gt;();\n\n @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setRetainInstance(true);\n    }\n\n//Handler pass result to here\n    public void passAndSaveResult(DefOperandTags operandTag, DefOperationTags operationTag, String result) {\n        allResultsMap.get(operandTag)).put(operationTag, result);\n    }\n\nprivate final Handler handler = new Handler(Looper.getMainLooper()) {\n        public void handleMessage(Message msg) {\n            if (msg.what != null)\n                passAndSaveResult(defOperandTags, defOperationTag, msg.obj.toString());\n    };\n</code></pre>\n<p>OneOfOperation.java (add value to the List)</p>\n<pre><code>public class AddToStartList extends Operation {\n\n    public AddToStartList(List list, DefOperationTags operationTag) {\n        super(list);\n        key = operationTag;\n    }\n\n    @Override\n    public void operation(Object collection) {\n        ((List)collection).add(0, &quot;123&quot;);\n    }\n\n</code></pre>\n<p>So, how can I implement what my mentor said?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"score":0,"creation_date":1314510309,"post_id":7219249,"comment_id":8676907,"body_markdown":"Can you usually display Bengali text in that terminal program? And which terminal program do you use? Which OS? This is not likely to be a Java problem.","body":"Can you usually display Bengali text in that terminal program? And which terminal program do you use? Which OS? This is not likely to be a Java problem."},{"owner":{"account_id":412479,"reputation":1743,"user_id":785566,"accept_rate":88,"display_name":"Clark Bao"},"score":0,"creation_date":1314510965,"post_id":7219249,"comment_id":8676972,"body_markdown":"Not sure if you are able to check the encoding of the console using in your IDE.is that the correct encoding you expected?","body":"Not sure if you are able to check the encoding of the console using in your IDE.is that the correct encoding you expected?"},{"owner":{"account_id":241111,"reputation":8151,"user_id":511736,"accept_rate":90,"display_name":"Kowser"},"score":1,"creation_date":1314513680,"post_id":7219249,"comment_id":8677148,"body_markdown":"@Desworld: vai, matha niya mata mati keno? mojar text dileo parten ;) tobe ai text tao kharap na.","body":"@Desworld: vai, matha niya mata mati keno? mojar text dileo parten ;) tobe ai text tao kharap na."},{"owner":{"account_id":539260,"reputation":13544,"user_id":907044,"accept_rate":82,"display_name":"Dewsworld"},"score":1,"creation_date":1314514023,"post_id":7219249,"comment_id":8677167,"body_markdown":"@Kowser, problem ta niye ashole matha kharap hoye gasilo... :)","body":"@Kowser, problem ta niye ashole matha kharap hoye gasilo... :)"}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1314513000,"creation_date":1314511211,"answer_id":7219322,"question_id":7219249,"body_markdown":"You seem to be using Netbeans. The console in Netbeans uses a Monospace font by default, that is incapable of displaying Bangla characters.\r\n\r\nYou can switch to a different font from the context menu:\r\n\r\n![Choose Font for Netbeans Console][1]\r\n\r\nand then opt for displaying all the characters in the console using a font with the Bangla glyphs (I chose Arial Unicode MS, but you can choose any other Bangla font):\r\n\r\n![Choose Font in Dialog][2]\r\n\r\nThis would display the output that you desire:\r\n\r\n![Display bangla characters][3]\r\n\r\nAlso, note the importance of the Netbeans project encoding:\r\n\r\n![Netbeans project encoding][4]\r\n\r\nApparently, the console encoding happens to be the same as the project encoding; attempting to change this by setting the `file.encoding` System property yields nothing. In this case, all UTF-8 encoded strings will be displayed without issues. However, if your file happens to be encoded with UTF-16BE/LE or any other encoding scheme, then the console will display gibberish/[mojibake][5] as it is impossible to change the terminal/console encoding on an as needed basis. In this case, the preferred approach is to store files in the same encoding as the project encoding, so that displaying their contents via `System.out` will not result in displaying gibberish.\r\n\r\n  [1]: http://i.stack.imgur.com/nTyId.png\r\n  [2]: http://i.stack.imgur.com/0sxMM.png\r\n  [3]: http://i.stack.imgur.com/aAK1D.png\r\n  [4]: http://i.stack.imgur.com/VVnvx.png\r\n  [5]: http://en.wikipedia.org/wiki/Mojibake","title":"Netbeans console does not display Bangla unicode characters","body":"<p>You seem to be using Netbeans. The console in Netbeans uses a Monospace font by default, that is incapable of displaying Bangla characters.</p>\n\n<p>You can switch to a different font from the context menu:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nTyId.png\" alt=\"Choose Font for Netbeans Console\"></p>\n\n<p>and then opt for displaying all the characters in the console using a font with the Bangla glyphs (I chose Arial Unicode MS, but you can choose any other Bangla font):</p>\n\n<p><img src=\"https://i.stack.imgur.com/0sxMM.png\" alt=\"Choose Font in Dialog\"></p>\n\n<p>This would display the output that you desire:</p>\n\n<p><img src=\"https://i.stack.imgur.com/aAK1D.png\" alt=\"Display bangla characters\"></p>\n\n<p>Also, note the importance of the Netbeans project encoding:</p>\n\n<p><img src=\"https://i.stack.imgur.com/VVnvx.png\" alt=\"Netbeans project encoding\"></p>\n\n<p>Apparently, the console encoding happens to be the same as the project encoding; attempting to change this by setting the <code>file.encoding</code> System property yields nothing. In this case, all UTF-8 encoded strings will be displayed without issues. However, if your file happens to be encoded with UTF-16BE/LE or any other encoding scheme, then the console will display gibberish/<a href=\"http://en.wikipedia.org/wiki/Mojibake\" rel=\"noreferrer\">mojibake</a> as it is impossible to change the terminal/console encoding on an as needed basis. In this case, the preferred approach is to store files in the same encoding as the project encoding, so that displaying their contents via <code>System.out</code> will not result in displaying gibberish.</p>\n"},{"tags":[],"owner":{"account_id":4180002,"reputation":2648,"user_id":3425312,"accept_rate":0,"display_name":"X-Coder"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1414504596,"creation_date":1414502433,"answer_id":26609447,"question_id":7219249,"body_markdown":"Font download link: [code.google.com][1] \r\n\r\nHere is the look to get solved the font problem in netbeans:![][2]\r\n\r\n\r\n  [1]: https://code.google.com/p/tuanphamvu/downloads/detail?name=Arial%20Unicode%20MS.rar&amp;can=2&amp;q=\r\n  [2]: http://i.stack.imgur.com/Fuai6.jpg","title":"Netbeans console does not display Bangla unicode characters","body":"<p>Font download link: <a href=\"https://code.google.com/p/tuanphamvu/downloads/detail?name=Arial%20Unicode%20MS.rar&amp;can=2&amp;q=\" rel=\"noreferrer\">code.google.com</a> </p>\n\n<p>Here is the look to get solved the font problem in netbeans:<img src=\"https://i.stack.imgur.com/Fuai6.jpg\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":2628230,"reputation":1572,"user_id":2274819,"accept_rate":60,"display_name":"JRr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311100,"creation_date":1635335200,"answer_id":69738084,"question_id":7219249,"body_markdown":"Not NetBeans issue but **Logger encoding issue.** Force Utf8 for Log4j.\r\n\r\nIt should be default to UTF8 but it wasn&#39;t.  Forcing log4j to UTF8 solved my issues.\r\n\r\nSymptom: Generated log file was also not in utf8 encoding.\r\n\r\n*Still valid for NetBeans 8 to 12*","title":"Netbeans console does not display Bangla unicode characters","body":"<p>Not NetBeans issue but <strong>Logger encoding issue.</strong> Force Utf8 for Log4j.</p>\n<p>It should be default to UTF8 but it wasn't.  Forcing log4j to UTF8 solved my issues.</p>\n<p>Symptom: Generated log file was also not in utf8 encoding.</p>\n<p><em>Still valid for NetBeans 8 to 12</em></p>\n"}],"owner":{"account_id":539260,"reputation":13544,"user_id":907044,"accept_rate":82,"display_name":"Dewsworld"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13456,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":7219322,"answer_count":3,"score":20,"last_activity_date":1643311100,"creation_date":1314509833,"question_id":7219249,"body_markdown":"I have a test.txt file with some Bengali character written as \r\n\r\n&gt; আমার মাথা, তোমার মাথা\r\n\r\nNow when I run this from some packege,\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n  \r\n    public class Test {\r\n        public static void main( String ajaira[] ) throws FileNotFoundException, IOException\r\n        {\r\n            File f = new File(&quot;test.txt&quot;) ;\r\n            InputStream is = new FileInputStream(f) ;\r\n            BufferedReader br = new BufferedReader( new InputStreamReader(is) );\r\n            System.out.println(&quot;Abs path: &quot; + f.getAbsolutePath() ) ;\r\n            String s ;\r\n            while( (s = br.readLine()) !=null )\r\n            {\r\n                System.out.println(s) ;\r\n            }\r\n        }\r\n    }\r\n\r\nI get some block... well I could not write it. This is the image![enter image description here][1]\r\nCould anyone help with this thing...? Thank you.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UAu6s.png","title":"Netbeans console does not display Bangla unicode characters","body":"<p>I have a test.txt file with some Bengali character written as </p>\n\n<blockquote>\n  <p>আমার মাথা, তোমার মাথা</p>\n</blockquote>\n\n<p>Now when I run this from some packege,</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\npublic class Test {\n    public static void main( String ajaira[] ) throws FileNotFoundException, IOException\n    {\n        File f = new File(\"test.txt\") ;\n        InputStream is = new FileInputStream(f) ;\n        BufferedReader br = new BufferedReader( new InputStreamReader(is) );\n        System.out.println(\"Abs path: \" + f.getAbsolutePath() ) ;\n        String s ;\n        while( (s = br.readLine()) !=null )\n        {\n            System.out.println(s) ;\n        }\n    }\n}\n</code></pre>\n\n<p>I get some block... well I could not write it. This is the image<img src=\"https://i.stack.imgur.com/UAu6s.png\" alt=\"enter image description here\">\nCould anyone help with this thing...? Thank you.</p>\n"},{"tags":["java","android","kotlin","android-fragments"],"comments":[{"owner":{"account_id":9212241,"reputation":522,"user_id":6844930,"display_name":"Милош Којадиновић"},"score":0,"creation_date":1643368991,"post_id":70884318,"comment_id":125326970,"body_markdown":"Is it easier to do it in onClick method, just add this line bottomNavigationView.setVisibility(View.VISIBLE);","body":"Is it easier to do it in onClick method, just add this line bottomNavigationView.setVisibility(View.VISIBLE);"}],"answers":[{"tags":[],"owner":{"account_id":16827991,"reputation":96,"user_id":12166749,"display_name":"salman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643310508,"creation_date":1643310508,"answer_id":70884366,"question_id":70884318,"body_markdown":"Just use Navigation component library is very easy \r\nIt do pop stack and navigate automatically\r\nand you can see visual graph,set destination and navigate with safe argument and more  \r\n\r\nsee here\r\n[navigation component][1]\r\n\r\n  [1]: https://developer.android.com/guide/navigation?gclid=Cj0KCQiAosmPBhCPARIsAHOen-MjVVHf5sklv4goLQUsHbZEWdi_ssVI5kGJDsFPxHx20_Pa761IoScaAlQ8EALw_wcB&amp;gclsrc=aw.ds","title":"How to identify if any fragment is active or removed on current activity?","body":"<p>Just use Navigation component library is very easy\nIt do pop stack and navigate automatically\nand you can see visual graph,set destination and navigate with safe argument and more</p>\n<p>see here\n<a href=\"https://developer.android.com/guide/navigation?gclid=Cj0KCQiAosmPBhCPARIsAHOen-MjVVHf5sklv4goLQUsHbZEWdi_ssVI5kGJDsFPxHx20_Pa761IoScaAlQ8EALw_wcB&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">navigation component</a></p>\n"}],"owner":{"account_id":14905662,"reputation":35,"user_id":10762991,"display_name":"kushal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643310508,"creation_date":1643310293,"question_id":70884318,"body_markdown":"I have a bottom navigation view which sets to invisible whenever I activate a fragment...\r\nI would like to set it back to visible everytime the fragment is removed.\r\n\r\n\r\nfor my mainfile\r\n\r\n     private void AddFragment() {\r\n        bottomNavigationView.setVisibility(View.INVISIBLE);\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        fragmentManager.beginTransaction()\r\n                .add(R.id.mainlayout,new addfragment())\r\n                .addToBackStack(&quot;add&quot;)\r\n                .commit();\r\n    }\r\n\r\nmy current fragment\r\n\r\n\r\n    cancle = view.findViewById(R.id.cancleadd);\r\n        \r\n\r\n         cancle.setOnClickListener(new View.OnClickListener() {\r\n             @Override\r\n             public void onClick(View v) {\r\n                 FragmentManager manager = getActivity().getSupportFragmentManager();\r\n                 manager.beginTransaction().remove(addfragment.this).commit();\r\n                 manager.popBackStack();\r\n\r\n             }\r\n         });\r\n","title":"How to identify if any fragment is active or removed on current activity?","body":"<p>I have a bottom navigation view which sets to invisible whenever I activate a fragment...\nI would like to set it back to visible everytime the fragment is removed.</p>\n<p>for my mainfile</p>\n<pre><code> private void AddFragment() {\n    bottomNavigationView.setVisibility(View.INVISIBLE);\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    fragmentManager.beginTransaction()\n            .add(R.id.mainlayout,new addfragment())\n            .addToBackStack(&quot;add&quot;)\n            .commit();\n}\n</code></pre>\n<p>my current fragment</p>\n<pre><code>cancle = view.findViewById(R.id.cancleadd);\n    \n\n     cancle.setOnClickListener(new View.OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             FragmentManager manager = getActivity().getSupportFragmentManager();\n             manager.beginTransaction().remove(addfragment.this).commit();\n             manager.popBackStack();\n\n         }\n     });\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-streaming"],"comments":[{"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"score":0,"creation_date":1587988033,"post_id":61453083,"comment_id":108716661,"body_markdown":"Can you post sample json and expected output","body":"Can you post sample json and expected output"},{"owner":{"account_id":18416635,"reputation":1,"user_id":13415331,"display_name":"RANJITH JN JN"},"score":0,"creation_date":1588048165,"post_id":61453083,"comment_id":108742251,"body_markdown":"Hi srinivas, I added sample json and output above.","body":"Hi srinivas, I added sample json and output above."}],"answers":[{"tags":[],"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643309809,"creation_date":1588055237,"answer_id":61473961,"question_id":61453083,"body_markdown":"```Note``` code is in ```scala``` &amp; I have used ```Spark Structured Streaming ```. \r\n\r\nYou can use ```org.apache.spark.sql.functions.explode``` function to flatten array columns. Please check the below code.\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n```\r\nimport org.apache.spark.sql.types._\r\n\r\nval schema = DataType.fromJson(&quot;&quot;&quot;{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;age&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;phones&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;watches&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}&quot;&quot;&quot;).asInstanceOf[StructType]\r\n// schema: org.apache.spark.sql.types.StructType = StructType(StructField(age,LongType,true), StructField(name,StringType,true), StructField(phones,ArrayType(StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true),true), StructField(watches,StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true))\r\n\r\nval streamDF = spark.readStream.format(&quot;json&quot;).schema(schema).load(&quot;/tmp/jdata&quot;)\r\n// streamDF: org.apache.spark.sql.DataFrame = [age: bigint, name: string ... 2 more fields]\r\n\r\nstreamDF\r\n.withColumn(&quot;watches_models&quot;,explode($&quot;watches.models&quot;)).withColumn(&quot;watches_name&quot;,$&quot;watches.name&quot;)\r\n.withColumn(&quot;phones_models&quot;,explode($&quot;phones.models&quot;)).withColumn(&quot;phones_models&quot;,explode($&quot;phones_models&quot;))\r\n.withColumn(&quot;phones_name&quot;,explode($&quot;phones.name&quot;))\r\n.drop(&quot;watches&quot;,&quot;phones&quot;)\r\n.writeStream\r\n.format(&quot;console&quot;)\r\n.outputMode(&quot;append&quot;)\r\n.start()\r\n.awaitTermination()\r\n```\r\n\r\n```\r\n-------------------------------------------\r\nBatch: 0\r\n-------------------------------------------\r\n+---+------+--------------------+------------+--------------+-----------+\r\n|age|  name|      watches_models|watches_name| phones_models|phones_name|\r\n+---+------+--------------------+------------+--------------+-----------+\r\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|    Samsung|\r\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|     Google|\r\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|      Apple|\r\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|    Samsung|\r\n+---+------+--------------------+------------+--------------+-----------+\r\nonly showing top 20 rows\r\n\r\n```\r\n","title":"Is there any way to flatten the nested JSON in spark streaming?","body":"<p><code>Note</code> code is in <code>scala</code> &amp; I have used <code>Spark Structured Streaming </code>.</p>\n<p>You can use <code>org.apache.spark.sql.functions.explode</code> function to flatten array columns. Please check the below code.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.types._\n\nval schema = DataType.fromJson(&quot;&quot;&quot;{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;age&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;phones&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;watches&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;models&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;elementType&quot;:&quot;string&quot;,&quot;containsNull&quot;:true},&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}&quot;&quot;&quot;).asInstanceOf[StructType]\n// schema: org.apache.spark.sql.types.StructType = StructType(StructField(age,LongType,true), StructField(name,StringType,true), StructField(phones,ArrayType(StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true),true), StructField(watches,StructType(StructField(models,ArrayType(StringType,true),true), StructField(name,StringType,true)),true))\n\nval streamDF = spark.readStream.format(&quot;json&quot;).schema(schema).load(&quot;/tmp/jdata&quot;)\n// streamDF: org.apache.spark.sql.DataFrame = [age: bigint, name: string ... 2 more fields]\n\nstreamDF\n.withColumn(&quot;watches_models&quot;,explode($&quot;watches.models&quot;)).withColumn(&quot;watches_name&quot;,$&quot;watches.name&quot;)\n.withColumn(&quot;phones_models&quot;,explode($&quot;phones.models&quot;)).withColumn(&quot;phones_models&quot;,explode($&quot;phones_models&quot;))\n.withColumn(&quot;phones_name&quot;,explode($&quot;phones.name&quot;))\n.drop(&quot;watches&quot;,&quot;phones&quot;)\n.writeStream\n.format(&quot;console&quot;)\n.outputMode(&quot;append&quot;)\n.start()\n.awaitTermination()\n</code></pre>\n<pre><code>-------------------------------------------\nBatch: 0\n-------------------------------------------\n+---+------+--------------------+------------+--------------+-----------+\n|age|  name|      watches_models|watches_name| phones_models|phones_name|\n+---+------+--------------------+------------+--------------+-----------+\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|      iphone X|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XR|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone XS|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple|     iphone 11|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple| iphone 11 Pro|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|    Samsung|\n| 26| Akash|Apple Watch Series 5|       Apple| Galaxy Note10|     Google|\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|      Apple|\n| 26| Akash|Apple Watch Series 5|       Apple|Galaxy Note10+|    Samsung|\n+---+------+--------------------+------------+--------------+-----------+\nonly showing top 20 rows\n\n</code></pre>\n"}],"owner":{"account_id":18416635,"reputation":1,"user_id":13415331,"display_name":"RANJITH JN JN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643309809,"creation_date":1587969891,"question_id":61453083,"body_markdown":"I have written a dataset spark job(Batch) code to flatten the data, which is working fine, but when i tried to use tha same code snippet in spark streaming jobs,its is throwing following error\r\nQueries with streaming sources must be executed with writeStream.start();\r\n    \r\n So is there any ways to flatten Nested JSON in Streaming jobs?\r\nsample input Nested JSON -\r\n```json\r\n{\r\n   &quot;name&quot;:&quot; Akash&quot;,\r\n   &quot;age&quot;:26,\r\n   &quot;watches&quot;:{\r\n      &quot;name&quot;:&quot;Apple&quot;,\r\n      &quot;models&quot;:[\r\n         &quot;Apple Watch Series 5&quot;,\r\n         &quot;Apple Watch Nike&quot;\r\n      ]\r\n   },\r\n   &quot;phones&quot;:[\r\n      {\r\n         &quot;name&quot;:&quot; Apple&quot;,\r\n         &quot;models&quot;:[\r\n            &quot;iphone X&quot;,\r\n            &quot;iphone XR&quot;,\r\n            &quot;iphone XS&quot;,\r\n            &quot;iphone 11&quot;,\r\n            &quot;iphone 11 Pro&quot;\r\n         ]\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot; Samsung&quot;,\r\n         &quot;models&quot;:[\r\n            &quot;Galaxy Note10&quot;,\r\n            &quot;Galaxy Note10+&quot;,\r\n            &quot;Galaxy S10e&quot;,\r\n            &quot;Galaxy S10&quot;,\r\n            &quot;Galaxy S10+&quot;\r\n         ]\r\n      },\r\n      {\r\n         &quot;name&quot;:&quot; Google&quot;,\r\n         &quot;models&quot;:[\r\n            &quot;Pixel 3&quot;,\r\n            &quot;Pixel 3a&quot;\r\n         ]\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nExpected output.\r\n[output after falttening][1]    \r\n\r\n\r\n below is the code snippet.\r\n    \r\n    private static org.apache.spark.sql.Dataset flattenJSONdf(\r\n    \t\t\torg.apache.spark.sql.Dataset&lt;org.apache.spark.sql.Row&gt; ds) {\r\n    \t\torg.apache.spark.sql.types.StructField[] fields = ds.schema().fields();\r\n    \t\tjava.util.List&lt;String&gt; fieldsNames = new java.util.ArrayList&lt;&gt;();\r\n    \t\tfor (org.apache.spark.sql.types.StructField s : fields) {\r\n    \t\t\tfieldsNames.add(s.name());\r\n    \t\t}\r\n    \r\n    \t\tfor (int i = 0; i &lt; fields.length; i++) {\r\n    \r\n    \t\t\torg.apache.spark.sql.types.StructField field = fields[i];\r\n    \t\t\torg.apache.spark.sql.types.DataType fieldType = field.dataType();\r\n    \t\t\tString fieldName = field.name();\r\n    \r\n    \t\t\tif (fieldType instanceof org.apache.spark.sql.types.ArrayType) {\r\n    \t\t\t\tjava.util.List&lt;String&gt; fieldNamesExcludingArray = new java.util.ArrayList&lt;String&gt;();\r\n    \t\t\t\tfor (String fieldName_index : fieldsNames) {\r\n    \t\t\t\t\tif (!fieldName.equals(fieldName_index))\r\n    \t\t\t\t\t\tfieldNamesExcludingArray.add(fieldName_index);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tjava.util.List&lt;String&gt; fieldNamesAndExplode = new java.util.ArrayList&lt;&gt;(\r\n    \t\t\t\t\t\tfieldNamesExcludingArray);\r\n    \t\t\t\tString s = String.format(&quot;explode_outer(%s) as %s&quot;, fieldName,\r\n    \t\t\t\t\t\tfieldName);\r\n    \t\t\t\tfieldNamesAndExplode.add(s);\r\n    \r\n    \t\t\t\tString[] exFieldsWithArray = new String[fieldNamesAndExplode\r\n    \t\t\t\t\t\t.size()];\r\n    \t\t\t\torg.apache.spark.sql.Dataset exploded_ds = ds\r\n    \t\t\t\t\t\t.selectExpr(fieldNamesAndExplode\r\n    \t\t\t\t\t\t\t\t.toArray(exFieldsWithArray));\r\n    \r\n    \t\t\t\t// explodedDf.show();\r\n    \r\n    \t\t\t\treturn flattenJSONdf(exploded_ds);\r\n    \r\n    \t\t\t} else if (fieldType instanceof org.apache.spark.sql.types.StructType) {\r\n    \r\n    \t\t\t\tString[] childFieldnames_struct = ((org.apache.spark.sql.types.StructType) fieldType)\r\n    \t\t\t\t\t\t.fieldNames();\r\n    \r\n    \t\t\t\tjava.util.List&lt;String&gt; childFieldnames = new java.util.ArrayList&lt;&gt;();\r\n    \t\t\t\tfor (String childName : childFieldnames_struct) {\r\n    \t\t\t\t\tchildFieldnames.add(fieldName + &quot;.&quot; + childName);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tjava.util.List&lt;String&gt; newfieldNames = new java.util.ArrayList&lt;&gt;();\r\n    \t\t\t\tfor (String fieldName_index : fieldsNames) {\r\n    \t\t\t\t\tif (!fieldName.equals(fieldName_index))\r\n    \t\t\t\t\t\tnewfieldNames.add(fieldName_index);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tnewfieldNames.addAll(childFieldnames);\r\n    \r\n    \t\t\t\tjava.util.List&lt;org.apache.spark.sql.Column&gt; renamedStrutctCols = new java.util.ArrayList&lt;&gt;();\r\n    \r\n    \t\t\t\tfor (String newFieldNames_index : newfieldNames) {\r\n    \t\t\t\t\trenamedStrutctCols.add(new org.apache.spark.sql.Column(\r\n    \t\t\t\t\t\t\tnewFieldNames_index.toString())\r\n    \t\t\t\t\t\t\t.as(newFieldNames_index.toString()\r\n    \t\t\t\t\t\t\t\t\t.replace(&quot;.&quot;, &quot;_&quot;)));\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tscala.collection.Seq renamedStructCols_seq = scala.collection.JavaConverters\r\n    \t\t\t\t\t\t.collectionAsScalaIterableConverter(renamedStrutctCols)\r\n    \t\t\t\t\t\t.asScala().toSeq();\r\n    \r\n    \t\t\t\torg.apache.spark.sql.Dataset ds_struct = ds\r\n    \t\t\t\t\t\t.select(renamedStructCols_seq);\r\n    \r\n    \t\t\t\treturn flattenJSONdf(ds_struct);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\treturn ds;\r\n    \t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AIAzl.png","title":"Is there any way to flatten the nested JSON in spark streaming?","body":"<p>I have written a dataset spark job(Batch) code to flatten the data, which is working fine, but when i tried to use tha same code snippet in spark streaming jobs,its is throwing following error\nQueries with streaming sources must be executed with writeStream.start();</p>\n<p>So is there any ways to flatten Nested JSON in Streaming jobs?\nsample input Nested JSON -</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;name&quot;:&quot; Akash&quot;,\n   &quot;age&quot;:26,\n   &quot;watches&quot;:{\n      &quot;name&quot;:&quot;Apple&quot;,\n      &quot;models&quot;:[\n         &quot;Apple Watch Series 5&quot;,\n         &quot;Apple Watch Nike&quot;\n      ]\n   },\n   &quot;phones&quot;:[\n      {\n         &quot;name&quot;:&quot; Apple&quot;,\n         &quot;models&quot;:[\n            &quot;iphone X&quot;,\n            &quot;iphone XR&quot;,\n            &quot;iphone XS&quot;,\n            &quot;iphone 11&quot;,\n            &quot;iphone 11 Pro&quot;\n         ]\n      },\n      {\n         &quot;name&quot;:&quot; Samsung&quot;,\n         &quot;models&quot;:[\n            &quot;Galaxy Note10&quot;,\n            &quot;Galaxy Note10+&quot;,\n            &quot;Galaxy S10e&quot;,\n            &quot;Galaxy S10&quot;,\n            &quot;Galaxy S10+&quot;\n         ]\n      },\n      {\n         &quot;name&quot;:&quot; Google&quot;,\n         &quot;models&quot;:[\n            &quot;Pixel 3&quot;,\n            &quot;Pixel 3a&quot;\n         ]\n      }\n   ]\n}\n</code></pre>\n<p>Expected output.\n<a href=\"https://i.stack.imgur.com/AIAzl.png\" rel=\"nofollow noreferrer\">output after falttening</a></p>\n<p>below is the code snippet.</p>\n<pre><code>private static org.apache.spark.sql.Dataset flattenJSONdf(\n            org.apache.spark.sql.Dataset&lt;org.apache.spark.sql.Row&gt; ds) {\n        org.apache.spark.sql.types.StructField[] fields = ds.schema().fields();\n        java.util.List&lt;String&gt; fieldsNames = new java.util.ArrayList&lt;&gt;();\n        for (org.apache.spark.sql.types.StructField s : fields) {\n            fieldsNames.add(s.name());\n        }\n\n        for (int i = 0; i &lt; fields.length; i++) {\n\n            org.apache.spark.sql.types.StructField field = fields[i];\n            org.apache.spark.sql.types.DataType fieldType = field.dataType();\n            String fieldName = field.name();\n\n            if (fieldType instanceof org.apache.spark.sql.types.ArrayType) {\n                java.util.List&lt;String&gt; fieldNamesExcludingArray = new java.util.ArrayList&lt;String&gt;();\n                for (String fieldName_index : fieldsNames) {\n                    if (!fieldName.equals(fieldName_index))\n                        fieldNamesExcludingArray.add(fieldName_index);\n                }\n\n                java.util.List&lt;String&gt; fieldNamesAndExplode = new java.util.ArrayList&lt;&gt;(\n                        fieldNamesExcludingArray);\n                String s = String.format(&quot;explode_outer(%s) as %s&quot;, fieldName,\n                        fieldName);\n                fieldNamesAndExplode.add(s);\n\n                String[] exFieldsWithArray = new String[fieldNamesAndExplode\n                        .size()];\n                org.apache.spark.sql.Dataset exploded_ds = ds\n                        .selectExpr(fieldNamesAndExplode\n                                .toArray(exFieldsWithArray));\n\n                // explodedDf.show();\n\n                return flattenJSONdf(exploded_ds);\n\n            } else if (fieldType instanceof org.apache.spark.sql.types.StructType) {\n\n                String[] childFieldnames_struct = ((org.apache.spark.sql.types.StructType) fieldType)\n                        .fieldNames();\n\n                java.util.List&lt;String&gt; childFieldnames = new java.util.ArrayList&lt;&gt;();\n                for (String childName : childFieldnames_struct) {\n                    childFieldnames.add(fieldName + &quot;.&quot; + childName);\n                }\n\n                java.util.List&lt;String&gt; newfieldNames = new java.util.ArrayList&lt;&gt;();\n                for (String fieldName_index : fieldsNames) {\n                    if (!fieldName.equals(fieldName_index))\n                        newfieldNames.add(fieldName_index);\n                }\n\n                newfieldNames.addAll(childFieldnames);\n\n                java.util.List&lt;org.apache.spark.sql.Column&gt; renamedStrutctCols = new java.util.ArrayList&lt;&gt;();\n\n                for (String newFieldNames_index : newfieldNames) {\n                    renamedStrutctCols.add(new org.apache.spark.sql.Column(\n                            newFieldNames_index.toString())\n                            .as(newFieldNames_index.toString()\n                                    .replace(&quot;.&quot;, &quot;_&quot;)));\n                }\n\n                scala.collection.Seq renamedStructCols_seq = scala.collection.JavaConverters\n                        .collectionAsScalaIterableConverter(renamedStrutctCols)\n                        .asScala().toSeq();\n\n                org.apache.spark.sql.Dataset ds_struct = ds\n                        .select(renamedStructCols_seq);\n\n                return flattenJSONdf(ds_struct);\n            }\n\n        }\n        return ds;\n    }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1548419818,"post_id":54364438,"comment_id":95544618,"body_markdown":"That&#39;s what a `HandlerInterceptor` is for. Implement the `preHandle` method and do your thing.","body":"That&#39;s what a <code>HandlerInterceptor</code> is for. Implement the <code>preHandle</code> method and do your thing."}],"answers":[{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1643309720,"creation_date":1548416517,"answer_id":54364646,"question_id":54364438,"body_markdown":"You Can add interceptor for this \r\n\r\n**Sample Interceptor** \r\n\r\n    public class CustomInterceptor implements HandlerInterceptor {\r\n    \r\n        \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request,HttpServletResponse  response) {\r\n        //Add Login here \r\n            return true;\r\n        }\r\n    } \r\n\r\n**Configuration** \r\n\r\n    @Configuration\r\n    public class MyConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(new MyCustomInterceptor()).addPathPatterns(&quot;/**&quot;);\r\n        }\r\n    }\r\n\r\nHope this helps ","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>You Can add interceptor for this</p>\n<p><strong>Sample Interceptor</strong></p>\n<pre><code>public class CustomInterceptor implements HandlerInterceptor {\n\n    \n    @Override\n    public boolean preHandle(HttpServletRequest request,HttpServletResponse  response) {\n    //Add Login here \n        return true;\n    }\n} \n</code></pre>\n<p><strong>Configuration</strong></p>\n<pre><code>@Configuration\npublic class MyConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new MyCustomInterceptor()).addPathPatterns(&quot;/**&quot;);\n    }\n}\n</code></pre>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1548417658,"creation_date":1548417658,"answer_id":54364963,"question_id":54364438,"body_markdown":"Spring Aspect is also a good option to execute code before controller.\r\n\r\n    @Component\r\n    @Aspect\r\n    public class TestAspect {\r\n    \r\n        @Before(&quot;execution(* com.test.myMethod(..)))&quot;)\r\n        public void doSomethingBefore(JoinPoint jp) throws Exception {\r\n    \r\n            //code  \r\n        }\r\n    }\r\n\r\nHere `myMethod()` will execute before controller.","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Spring Aspect is also a good option to execute code before controller.</p>\n\n<pre><code>@Component\n@Aspect\npublic class TestAspect {\n\n    @Before(\"execution(* com.test.myMethod(..)))\")\n    public void doSomethingBefore(JoinPoint jp) throws Exception {\n\n        //code  \n    }\n}\n</code></pre>\n\n<p>Here <code>myMethod()</code> will execute before controller.</p>\n"},{"tags":[],"owner":{"account_id":15181101,"reputation":397,"user_id":10954349,"display_name":"JosemyAB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548417662,"creation_date":1548417662,"answer_id":54364964,"question_id":54364438,"body_markdown":"Maybe a good option is implement a custom filter that runs every time that a request is received.\r\n\r\nYou need extend &quot;OncePerRequestFilter&quot; and overwrite the method &quot;doFilterInternal&quot;\r\n\r\n    public class CustomFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\r\n                                        FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            //Add attributes to request\r\n            request.getSession().setAttribute(&quot;attrName&quot;, new String(&quot;myValue&quot;));\r\n    \r\n            // Run the method requested by petition\r\n            filterChain.doFilter(request, response);\r\n    \r\n            //Do something after method runs if you need.\r\n    \r\n        }\r\n    }\r\n\r\nAfter you have to register the filter in Spring with FilterRegistrationBean. If you have Spring security yo need add your filter after security filter.","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Maybe a good option is implement a custom filter that runs every time that a request is received.</p>\n\n<p>You need extend \"OncePerRequestFilter\" and overwrite the method \"doFilterInternal\"</p>\n\n<pre><code>public class CustomFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        //Add attributes to request\n        request.getSession().setAttribute(\"attrName\", new String(\"myValue\"));\n\n        // Run the method requested by petition\n        filterChain.doFilter(request, response);\n\n        //Do something after method runs if you need.\n\n    }\n}\n</code></pre>\n\n<p>After you have to register the filter in Spring with FilterRegistrationBean. If you have Spring security yo need add your filter after security filter.</p>\n"},{"tags":[],"owner":{"account_id":2844102,"reputation":946,"user_id":2442991,"accept_rate":49,"display_name":"algiogia"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548685043,"creation_date":1548684286,"answer_id":54403662,"question_id":54364438,"body_markdown":"Expanding on Sai Prateek answer, I&#39;v created a custom annotation:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface OperationContext {\r\n\r\n      String clientId();\r\n\r\n      String userId();\r\n\r\n      String operation();\r\n    }\r\n\r\nand a component to handle it:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class OperationContextAspect {\r\n\r\n      @Before(value = &quot;@annotation(operationContext)&quot;, argNames = &quot;operationContext&quot;)\r\n      public void preHandle(OperationContext operationContext) {\r\n\r\n        RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n\r\n        requestAttributes.setAttribute(&quot;operation&quot;, operationContext.operation, RequestAttributes.SCOPE_REQUEST);\r\n        requestAttributes.setAttribute(&quot;clientId&quot;, operationContext.clientId(), RequestAttributes.SCOPE_REQUEST);\r\n        requestAttributes.setAttribute(&quot;userId&quot;, operationContext.userId(), RequestAttributes.SCOPE_REQUEST);\r\n\r\n      }\r\n    }\r\n\r\nI then annotate the controller methods providing the required parameters:\r\n\r\n    @RestController\r\n    public class MyController {\r\n\r\n      @OperationContext(clientId = &#39;#request.getClientId&#39;, userId = &#39;#request.getUserId&#39;, operation = &quot;OPERATION_A&quot;)\r\n      public ResponseEntity aMethod(MyRequest request) {\r\n        ...\r\n      }\r\n    }","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Expanding on Sai Prateek answer, I'v created a custom annotation:</p>\n\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface OperationContext {\n\n  String clientId();\n\n  String userId();\n\n  String operation();\n}\n</code></pre>\n\n<p>and a component to handle it:</p>\n\n<pre><code>@Aspect\n@Component\npublic class OperationContextAspect {\n\n  @Before(value = \"@annotation(operationContext)\", argNames = \"operationContext\")\n  public void preHandle(OperationContext operationContext) {\n\n    RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n\n    requestAttributes.setAttribute(\"operation\", operationContext.operation, RequestAttributes.SCOPE_REQUEST);\n    requestAttributes.setAttribute(\"clientId\", operationContext.clientId(), RequestAttributes.SCOPE_REQUEST);\n    requestAttributes.setAttribute(\"userId\", operationContext.userId(), RequestAttributes.SCOPE_REQUEST);\n\n  }\n}\n</code></pre>\n\n<p>I then annotate the controller methods providing the required parameters:</p>\n\n<pre><code>@RestController\npublic class MyController {\n\n  @OperationContext(clientId = '#request.getClientId', userId = '#request.getUserId', operation = \"OPERATION_A\")\n  public ResponseEntity aMethod(MyRequest request) {\n    ...\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2844102,"reputation":946,"user_id":2442991,"accept_rate":49,"display_name":"algiogia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23527,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1643309720,"creation_date":1548415754,"question_id":54364438,"body_markdown":"Is there any annotation similar to `@PreAuthorize` or `@PreFilter` that I can use to run code before a method in the Controller is invoked?\r\n\r\nI need to add info to the request context (specific to the method being called) to be then retrieved by the `ExceptionHandler`.\r\n\r\nFor example\r\n\r\n    @RestController\r\n    public MyController{\r\n  \r\n      @UnkwonwAnnotation(&quot;prepareContext(request.getAgentId())&quot;){\r\n      public ResponseEntity method1(RequestA requestA) {\r\n        ...\r\n      }\r\n\r\n      @UnkwonwAnnotation(&quot;prepareContext(request.getUserName())&quot;){\r\n      public ResponseEntity method1(RequestB requestB) {\r\n        ...\r\n      }\r\n\r\n    }\r\n\r\nI could actually just use `@PreAuthorize` but doesn&#39;t feel right","title":"Spring - Execute code before controller&#39;s method is invoked","body":"<p>Is there any annotation similar to <code>@PreAuthorize</code> or <code>@PreFilter</code> that I can use to run code before a method in the Controller is invoked?</p>\n\n<p>I need to add info to the request context (specific to the method being called) to be then retrieved by the <code>ExceptionHandler</code>.</p>\n\n<p>For example</p>\n\n<pre><code>@RestController\npublic MyController{\n\n  @UnkwonwAnnotation(\"prepareContext(request.getAgentId())\"){\n  public ResponseEntity method1(RequestA requestA) {\n    ...\n  }\n\n  @UnkwonwAnnotation(\"prepareContext(request.getUserName())\"){\n  public ResponseEntity method1(RequestB requestB) {\n    ...\n  }\n\n}\n</code></pre>\n\n<p>I could actually just use <code>@PreAuthorize</code> but doesn't feel right</p>\n"},{"tags":["java","spring","spring-boot","log4j2"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1578403324,"post_id":59629214,"comment_id":105420414,"body_markdown":"Please read the documentation https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging","body":"Please read the documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":1,"creation_date":1578451436,"post_id":59629214,"comment_id":105439660,"body_markdown":"Although it isn&#39;t causing this error, the configuration file being used is for Log4j 1.x not Log4j 2.","body":"Although it isn&#39;t causing this error, the configuration file being used is for Log4j 1.x not Log4j 2."},{"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"score":0,"creation_date":1628768652,"post_id":59629214,"comment_id":121512869,"body_markdown":"With Spring boot `2.3.0.RELEASE`+ version, support Log4j2 natively. See: https://stackoverflow.com/a/61873064/8718377","body":"With Spring boot <code>2.3.0.RELEASE</code>+ version, support Log4j2 natively. See: <a href=\"https://stackoverflow.com/a/61873064/8718377\">stackoverflow.com/a/61873064/8718377</a>"}],"answers":[{"tags":[],"owner":{"account_id":7919936,"reputation":1216,"user_id":5981237,"display_name":"nfvp"},"down_vote_count":0,"up_vote_count":108,"is_accepted":true,"score":108,"last_activity_date":1643309697,"creation_date":1578584912,"answer_id":59667631,"question_id":59629214,"body_markdown":"According to Spring [documentation][1] (as pointed out by Simon), we want to exclude the &quot;spring-boot-starter-logging&quot; module from **all libraries**, not just from &quot;spring-boot-starter-web&quot;.\r\n\r\n    configurations {\r\n        ...\r\n        all {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n    }\r\n\r\n...instead of...\r\n\r\n    dependencies {\r\n        ...\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n    }\r\n\r\nI myself had the same problem and solved it with this solution.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>According to Spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging\" rel=\"noreferrer\">documentation</a> (as pointed out by Simon), we want to exclude the &quot;spring-boot-starter-logging&quot; module from <strong>all libraries</strong>, not just from &quot;spring-boot-starter-web&quot;.</p>\n<pre><code>configurations {\n    ...\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n</code></pre>\n<p>...instead of...</p>\n<pre><code>dependencies {\n    ...\n    implementation('org.springframework.boot:spring-boot-starter') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n</code></pre>\n<p>I myself had the same problem and solved it with this solution.</p>\n"},{"tags":[],"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1589815428,"creation_date":1589815428,"answer_id":61873064,"question_id":59629214,"body_markdown":"Spring boot `2.3.0.RELEASE` version, support **Log4j2** natively, for logging configuration if it is on the classpath. In this case, you can simply remove other log4j dependencies.\r\n\r\nIn other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead: \r\n\r\nYou can do like that with **Gradle**:\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n    }\r\n    \r\n    configurations {\r\n        all {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n    }\r\n\r\nOr with **Maven**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nMore information on the official documentation: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>Spring boot <code>2.3.0.RELEASE</code> version, support <strong>Log4j2</strong> natively, for logging configuration if it is on the classpath. In this case, you can simply remove other log4j dependencies.</p>\n\n<p>In other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead: </p>\n\n<p>You can do like that with <strong>Gradle</strong>:</p>\n\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n}\n\nconfigurations {\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n</code></pre>\n\n<p>Or with <strong>Maven</strong>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>More information on the official documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-log4j-for-logging</a></p>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1607700414,"creation_date":1607700414,"answer_id":65254111,"question_id":59629214,"body_markdown":"I excluded spring boot logging from build.gradle but issue was still occurring. It got resolved by removing `org.apache.logging.log4j/log4j-slf4j-impl/2.12.1` from .classpath","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>I excluded spring boot logging from build.gradle but issue was still occurring. It got resolved by removing <code>org.apache.logging.log4j/log4j-slf4j-impl/2.12.1</code> from .classpath</p>\n"},{"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611586264,"creation_date":1611586264,"answer_id":65887061,"question_id":59629214,"body_markdown":"Even after correcting classpath, I had the same problem in STS and Gradle &#39;Refresh All&#39; solved it.","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>Even after correcting classpath, I had the same problem in STS and Gradle 'Refresh All' solved it.</p>\n"},{"tags":[],"owner":{"account_id":6683250,"reputation":115,"user_id":5155570,"display_name":"Gayathri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620788065,"creation_date":1620788065,"answer_id":67496734,"question_id":59629214,"body_markdown":"The best way to solve this would be to run gradle dependencies, and identify where the log4j-to-slf4j is coming from, and then exclude this module in build.gradle","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>The best way to solve this would be to run gradle dependencies, and identify where the log4j-to-slf4j is coming from, and then exclude this module in build.gradle</p>\n"},{"tags":[],"owner":{"account_id":385199,"reputation":744,"user_id":742192,"display_name":"justCurious"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627280551,"creation_date":1627280551,"answer_id":68525331,"question_id":59629214,"body_markdown":"From the error logs decide which project to exclude.\r\n\r\ne.g for a error msg like this: Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j\r\nI&#39;ve used the gradle exclude:\r\n\r\n&gt; configurations.all { exclude group: &#39;org.apache.logging.log4j&#39;\r\n&gt; \r\n&gt; }","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>From the error logs decide which project to exclude.</p>\n<p>e.g for a error msg like this: Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j\nI've used the gradle exclude:</p>\n<blockquote>\n<p>configurations.all { exclude group: 'org.apache.logging.log4j'</p>\n<p>}</p>\n</blockquote>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131093,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":59667631,"answer_count":6,"score":79,"last_activity_date":1643309697,"creation_date":1578403037,"question_id":59629214,"body_markdown":"In my **Spring boot 2** project:\r\n\r\nIn `build.gradle`:\r\n\r\n    dependencies {\r\n        implementation &#39;com.google.code.gson:gson:2.7&#39;\r\n        implementation &#39;com.h2database:h2&#39;\r\n        implementation &#39;javax.servlet:jstl:1.2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    \r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n    \r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.5.2&#39;\r\n    }\r\n\r\nIn `src/resources/log4j2.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    \r\n    &lt;log4j:configuration debug=&quot;true&quot; xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n    \r\n        &lt;appender name=&quot;Console&quot;\r\n                  class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                &lt;!-- l, L, M - is extremely slow. It&#39;s use should be avoided unless execution\r\n                    speed is not an issue. --&gt;\r\n                &lt;param name=&quot;ConversionPattern&quot;\r\n                       value=&quot;%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n&quot;/&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;File&quot;\r\n                  class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n            &lt;param name=&quot;Encoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n            &lt;param name=&quot;File&quot; value=&quot;logs/trace.log&quot;/&gt;\r\n            &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                &lt;!-- l, L, M - is extremely slow. It&#39;s use should be avoided unless execution\r\n                    speed is not an issue. --&gt;\r\n                &lt;param name=&quot;ConversionPattern&quot;\r\n                       value=&quot;%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n&quot;/&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;!-- Application Loggers --&gt;\r\n        &lt;logger name=&quot;com.journaldev.spring&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;!-- 3rdparty Loggers --&gt;\r\n        &lt;logger name=&quot;org.springframework.core&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.beans&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.context&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.web&quot;&gt;\r\n            &lt;level value=&quot;info&quot;/&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;!-- The root category is used for all loggers unless a more specific logger\r\n            matches. If none of the loggers are assigned a level, then all loggers inherit\r\n            the level of the root logger which is set to DEBUG by default --&gt;\r\n        &lt;root&gt;\r\n            &lt;level value=&quot;ALL&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;Console&quot;/&gt;\r\n            &lt;!-- &lt;appender-ref ref=&quot;File&quot; /&gt; --&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/log4j:configuration&gt;\r\n\r\n\r\nIn my controller:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @Controller\r\n    public class CategoryController {\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(CategoryController.class);\r\n    \r\n     @GetMapping(&quot;/categories&quot;)\r\n        public String getCategories(Model model) {\r\n            logger.debug(&quot;getCategories&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n            model.addAttribute(&quot;categoryList&quot;, this.categoryRepository.findAll());\r\n            return &quot;categories/category_list&quot;;\r\n        }\r\n    }\r\n\r\nBut when I start project I get error:\r\n\r\n&gt; Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl\r\n&gt; cannot be present with log4j-to-slf4j\r\n\r\n\r\n\r\n","title":"Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"<p>In my <strong>Spring boot 2</strong> project:</p>\n\n<p>In <code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n    implementation 'com.google.code.gson:gson:2.7'\n    implementation 'com.h2database:h2'\n    implementation 'javax.servlet:jstl:1.2'\n    implementation 'org.springframework.boot:spring-boot-devtools'\n    implementation('org.springframework.boot:spring-boot-starter') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation \"org.springframework.boot:spring-boot-starter-web\"\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.5.2'\n}\n</code></pre>\n\n<p>In <code>src/resources/log4j2.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n\n&lt;log4j:configuration debug=\"true\" xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n\n    &lt;appender name=\"Console\"\n              class=\"org.apache.log4j.ConsoleAppender\"&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;!-- l, L, M - is extremely slow. It's use should be avoided unless execution\n                speed is not an issue. --&gt;\n            &lt;param name=\"ConversionPattern\"\n                   value=\"%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n\"/&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"File\"\n              class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n        &lt;param name=\"Encoding\" value=\"UTF-8\"/&gt;\n        &lt;param name=\"File\" value=\"logs/trace.log\"/&gt;\n        &lt;param name=\"Append\" value=\"true\"/&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;!-- l, L, M - is extremely slow. It's use should be avoided unless execution\n                speed is not an issue. --&gt;\n            &lt;param name=\"ConversionPattern\"\n                   value=\"%p: %d{dd.MM.yyyy HH:mm:ss.SSS} %l %n    %m%n\"/&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Application Loggers --&gt;\n    &lt;logger name=\"com.journaldev.spring\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;!-- 3rdparty Loggers --&gt;\n    &lt;logger name=\"org.springframework.core\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.hibernate\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.springframework.beans\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.springframework.context\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=\"org.springframework.web\"&gt;\n        &lt;level value=\"info\"/&gt;\n    &lt;/logger&gt;\n\n    &lt;!-- The root category is used for all loggers unless a more specific logger\n        matches. If none of the loggers are assigned a level, then all loggers inherit\n        the level of the root logger which is set to DEBUG by default --&gt;\n    &lt;root&gt;\n        &lt;level value=\"ALL\"/&gt;\n        &lt;appender-ref ref=\"Console\"/&gt;\n        &lt;!-- &lt;appender-ref ref=\"File\" /&gt; --&gt;\n    &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>In my controller:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class CategoryController {\n    private CategoryRepository categoryRepository;\n\n    private static Logger logger = LoggerFactory.getLogger(CategoryController.class);\n\n @GetMapping(\"/categories\")\n    public String getCategories(Model model) {\n        logger.debug(\"getCategories&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\");\n        model.addAttribute(\"categoryList\", this.categoryRepository.findAll());\n        return \"categories/category_list\";\n    }\n}\n</code></pre>\n\n<p>But when I start project I get error:</p>\n\n<blockquote>\n  <p>Caused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl\n  cannot be present with log4j-to-slf4j</p>\n</blockquote>\n"},{"tags":["java","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586233790,"creation_date":1586233066,"answer_id":61072775,"question_id":61072758,"body_markdown":"Yes, it will definitely work\r\n\r\nYou simply need to configure it properly\r\n\r\ncheck your build.gradle source sets and targets\r\n\r\nFollow the below folder structure\r\n\r\n       src\r\n          main\r\n             java\r\n             kotlin\r\n             resources\r\n","title":"Can Kotlin controller class access Java service class in spring boot","body":"<p>Yes, it will definitely work</p>\n\n<p>You simply need to configure it properly</p>\n\n<p>check your build.gradle source sets and targets</p>\n\n<p>Follow the below folder structure</p>\n\n<pre><code>   src\n      main\n         java\n         kotlin\n         resources\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12854102,"reputation":89,"user_id":9297984,"display_name":"Mayank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643309686,"creation_date":1643276019,"answer_id":70876219,"question_id":61072758,"body_markdown":"I have done the following to successfully use Kotlin in my existing Spring Boot App.\r\nMy IDE is IntelliJ.\r\n\r\n(1)\r\n\r\nEnsure that Kotlin plugin is installed in the IDE.\r\n1.\tSelect Tools -&gt; Kotlin -&gt; Configure Kotlin Plugin Updates.\r\n2.\tIn the Update channel list, select the Stable channel.\r\n3.\tClick Check again. The latest Stable build version appears.\r\n4.\tClick Install. Apply / OK.\r\n\r\n\r\n(2)\r\n\r\nGet the required dependencies.\r\n1.\tOpen Spring Initializr (https://start.spring.io/).\r\n2.  Select language as Kotlin.\r\n3.\tKeep other things as usual. Here we are doing it for Maven Project.\r\n4.\tClick on Explore. Sample pom.xml will appear.\r\n5. Now copy the following from the sample pom.xml to the pom.xml of your existing Spring Boot Project.\r\n    \r\n```\r\n…\r\n&lt;properties&gt;\r\n    …\r\n    &lt;kotlin.version&gt;1.6.10&lt;/kotlin.version&gt;\r\n    &lt;!--Edit the version to the latest stable version, if applicable--&gt;\r\n&lt;/properties&gt;\r\n…\r\n&lt;dependencies&gt;\r\n    …\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n…\r\n&lt;build&gt;\r\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n    …\r\n&lt;/build&gt;\r\n…\r\n&lt;plugins&gt;\r\n    …\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;args&gt;\r\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n          &lt;/args&gt;\r\n          &lt;compilerPlugins&gt;\r\n            &lt;plugin&gt;spring&lt;/plugin&gt;\r\n          &lt;/compilerPlugins&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n(3)\r\n\r\nCreate the required directories in your project.\r\n1.\tIn the src/main directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/main/java)\r\n2.  Now right click this directory -&gt;  Mark Directory as -&gt; Sources Root\r\n3.\tAlso, in the src/test directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/test/java)\r\n4.\tNow right click this directory -&gt;  Mark Directory as -&gt; Test Sources Root\r\n\r\n(4)\r\n\r\nNow update / rebuild the project.\r\nIf any Maven / build errors show up then do one / all of the following:\r\n1.\tRight click pom.xml -&gt; Maven -&gt; Download sources and documentation\r\n2.\tRight click pom.xml -&gt; Maven -&gt; Generate sources and update folders\r\n3.\tRight click pom.xml -&gt; Maven -&gt; Reload project\r\n \r\n(5)\r\n\r\nNow you can create a Kotlin class under the src/main/kotlin package.\r\nFor this,\r\n1.\tRight click the package -&gt; New -&gt; Kotlin Class/File\r\n2.\tGive the class some name and double click Class\r\n\r\nNote:\r\n\r\nIf the newly created Kotlin class does not have a package statement then it will not be visible from your Java classes.\t\r\n\r\nTo fix this,\r\n\r\n1.\tGo to your Java class which has the main method. (This is the class which is annotated by @SpringBootApplication)\r\n2.\tCopy the package statement of this class. This should most likely be the first statement of the Java class and should be something like\r\n    \r\n        package com.xyz.myApplication;\r\n\r\n3.\tPaste this statement in the Kotlin class so that this becomes the first statement of your Kotlin class as well.\r\n\r\n\r\nOnce everything is done, you can simply import and instantiate your Kotlin classes from inside your Java classes.\r\nYou can also do vice versa, that is, import and instantiate your Java classes from inside your Kotlin classes. \r\n","title":"Can Kotlin controller class access Java service class in spring boot","body":"<p>I have done the following to successfully use Kotlin in my existing Spring Boot App.\nMy IDE is IntelliJ.</p>\n<p>(1)</p>\n<p>Ensure that Kotlin plugin is installed in the IDE.</p>\n<ol>\n<li>Select Tools -&gt; Kotlin -&gt; Configure Kotlin Plugin Updates.</li>\n<li>In the Update channel list, select the Stable channel.</li>\n<li>Click Check again. The latest Stable build version appears.</li>\n<li>Click Install. Apply / OK.</li>\n</ol>\n<p>(2)</p>\n<p>Get the required dependencies.</p>\n<ol>\n<li>Open Spring Initializr (<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>).</li>\n<li>Select language as Kotlin.</li>\n<li>Keep other things as usual. Here we are doing it for Maven Project.</li>\n<li>Click on Explore. Sample pom.xml will appear.</li>\n<li>Now copy the following from the sample pom.xml to the pom.xml of your existing Spring Boot Project.</li>\n</ol>\n<pre><code>…\n&lt;properties&gt;\n    …\n    &lt;kotlin.version&gt;1.6.10&lt;/kotlin.version&gt;\n    &lt;!--Edit the version to the latest stable version, if applicable--&gt;\n&lt;/properties&gt;\n…\n&lt;dependencies&gt;\n    …\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n…\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    …\n&lt;/build&gt;\n…\n&lt;plugins&gt;\n    …\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;args&gt;\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n          &lt;/args&gt;\n          &lt;compilerPlugins&gt;\n            &lt;plugin&gt;spring&lt;/plugin&gt;\n          &lt;/compilerPlugins&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>(3)</p>\n<p>Create the required directories in your project.</p>\n<ol>\n<li>In the src/main directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/main/java)</li>\n<li>Now right click this directory -&gt;  Mark Directory as -&gt; Sources Root</li>\n<li>Also, in the src/test directory of your project, create a new directory and name it as kotlin (this directory should be at the same level as src/test/java)</li>\n<li>Now right click this directory -&gt;  Mark Directory as -&gt; Test Sources Root</li>\n</ol>\n<p>(4)</p>\n<p>Now update / rebuild the project.\nIf any Maven / build errors show up then do one / all of the following:</p>\n<ol>\n<li>Right click pom.xml -&gt; Maven -&gt; Download sources and documentation</li>\n<li>Right click pom.xml -&gt; Maven -&gt; Generate sources and update folders</li>\n<li>Right click pom.xml -&gt; Maven -&gt; Reload project</li>\n</ol>\n<p>(5)</p>\n<p>Now you can create a Kotlin class under the src/main/kotlin package.\nFor this,</p>\n<ol>\n<li>Right click the package -&gt; New -&gt; Kotlin Class/File</li>\n<li>Give the class some name and double click Class</li>\n</ol>\n<p>Note:</p>\n<p>If the newly created Kotlin class does not have a package statement then it will not be visible from your Java classes.</p>\n<p>To fix this,</p>\n<ol>\n<li><p>Go to your Java class which has the main method. (This is the class which is annotated by @SpringBootApplication)</p>\n</li>\n<li><p>Copy the package statement of this class. This should most likely be the first statement of the Java class and should be something like</p>\n<pre><code>package com.xyz.myApplication;\n</code></pre>\n</li>\n<li><p>Paste this statement in the Kotlin class so that this becomes the first statement of your Kotlin class as well.</p>\n</li>\n</ol>\n<p>Once everything is done, you can simply import and instantiate your Kotlin classes from inside your Java classes.\nYou can also do vice versa, that is, import and instantiate your Java classes from inside your Kotlin classes.</p>\n"}],"owner":{"account_id":17952484,"reputation":21,"user_id":13045316,"display_name":"Ranjeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643309686,"creation_date":1586232920,"question_id":61072758,"body_markdown":"I a working on a project in spring boot .. is it possible to use in kotlin and java both in **spring-boot** project.\r\nI have tried by making a Kotlin **@controller class** and calling java **@service class** but it isn&#39;t working \r\n","title":"Can Kotlin controller class access Java service class in spring boot","body":"<p>I a working on a project in spring boot .. is it possible to use in kotlin and java both in <strong>spring-boot</strong> project.\nI have tried by making a Kotlin <strong>@controller class</strong> and calling java <strong>@service class</strong> but it isn't working </p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11503634,"reputation":3724,"user_id":8430649,"display_name":"S-Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570306615,"creation_date":1570306615,"answer_id":58251986,"question_id":58251708,"body_markdown":"Try to follow the approach:\r\n\r\n1. Create an empty adapter the same time you set LayoutManager for the RecyclerView: Save it as field of your Fragment:\r\n\r\n```\r\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\nuserAdapter= new UserAdapter(getContext(), new ArraysList&lt;&gt;(), true);\r\nrecyclerView.setAdapter(userAdapter);\r\n```\r\n\r\n2. When data is ready, populate the adapter and notify:\r\n\r\n```\r\npublic void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n   /// origin code here\r\n\r\n  // reset data in adapter and not re-creating adapter:\r\n  userAdapter.setItems(mUsers);\r\n  getActivity().runOnUiThread(() -&gt; userAdapter.notifyDataSetChanged());\r\n // instead of userAdapter= new UserAdapter(getContext(), mUsers, true); recyclerView.setAdapter(userAdapter); \r\n}\r\n```","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<p>Try to follow the approach:</p>\n\n<ol>\n<li>Create an empty adapter the same time you set LayoutManager for the RecyclerView: Save it as field of your Fragment:</li>\n</ol>\n\n<pre><code>recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\nuserAdapter= new UserAdapter(getContext(), new ArraysList&lt;&gt;(), true);\nrecyclerView.setAdapter(userAdapter);\n</code></pre>\n\n<ol start=\"2\">\n<li>When data is ready, populate the adapter and notify:</li>\n</ol>\n\n<pre><code>public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n   /// origin code here\n\n  // reset data in adapter and not re-creating adapter:\n  userAdapter.setItems(mUsers);\n  getActivity().runOnUiThread(() -&gt; userAdapter.notifyDataSetChanged());\n // instead of userAdapter= new UserAdapter(getContext(), mUsers, true); recyclerView.setAdapter(userAdapter); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570306979,"creation_date":1570306979,"answer_id":58252033,"question_id":58251708,"body_markdown":"I&#39;m going to argue the case that you can simply ignore the warning as that&#39;s all it is. Your recycler adapter does get created and applied to the RecyclerView when you have some data to display.","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<p>I'm going to argue the case that you can simply ignore the warning as that's all it is. Your recycler adapter does get created and applied to the RecyclerView when you have some data to display.</p>\n"},{"tags":[],"owner":{"account_id":21699177,"reputation":71,"user_id":16012575,"display_name":"Amit guha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622093219,"creation_date":1622093219,"answer_id":67716148,"question_id":58251708,"body_markdown":"# For kotlin(Fragment): #\r\n\r\n```\r\nrecyclerView.layoutManager=LinearLayoutManager(context)\r\n```","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<h1>For kotlin(Fragment):</h1>\n<pre><code>recyclerView.layoutManager=LinearLayoutManager(context)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643309086,"creation_date":1643309086,"answer_id":70884065,"question_id":58251708,"body_markdown":"    binding.recyclerView.layoutManager = LinearLayoutManager(this)","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<pre><code>binding.recyclerView.layoutManager = LinearLayoutManager(this)\n</code></pre>\n"}],"owner":{"account_id":16832234,"reputation":3,"user_id":12169910,"display_name":"Anthony Dominguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58251986,"answer_count":4,"score":0,"last_activity_date":1643309086,"creation_date":1570304174,"question_id":58251708,"body_markdown":"I need help, i have an error, that is this:  E/RecyclerView: No adapter attached; skipping layout\r\n\r\nCODE:\r\n\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view= inflater.inflate(R.layout.fragment_chats, container, false);\r\n\r\n        recyclerView= view.findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        fuser= FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        usersList= new ArrayList&lt;&gt;();\r\n\r\n        reference= FirebaseDatabase.getInstance().getReference(&quot;Chatlist&quot;).child(fuser.getUid());\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                usersList.clear();\r\n                for(DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    Chatlist chatlist= snapshot.getValue(Chatlist.class);\r\n                    usersList.add(chatlist);\r\n                }\r\n\r\n                chatList();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private void chatList() {\r\n        mUsers = new ArrayList&lt;&gt;();\r\n        reference= FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                mUsers.clear();\r\n                for(DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    User user= snapshot.getValue(User.class);\r\n                    for(Chatlist chatlist : usersList){\r\n                        if(user.getId().equals(chatlist.getId())){\r\n                            mUsers.add(user);\r\n                        }\r\n                    }\r\n                }\r\n                userAdapter= new UserAdapter(getContext(), mUsers, true);\r\n                recyclerView.setAdapter(userAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n","title":"ERROR ANDROID STUDIO E/RecyclerView: No adapter attached; skipping layout","body":"<p>I need help, i have an error, that is this:  E/RecyclerView: No adapter attached; skipping layout</p>\n\n<p>CODE:</p>\n\n<p>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view= inflater.inflate(R.layout.fragment_chats, container, false);</p>\n\n<pre><code>    recyclerView= view.findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    fuser= FirebaseAuth.getInstance().getCurrentUser();\n\n    usersList= new ArrayList&lt;&gt;();\n\n    reference= FirebaseDatabase.getInstance().getReference(\"Chatlist\").child(fuser.getUid());\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            usersList.clear();\n            for(DataSnapshot snapshot : dataSnapshot.getChildren()){\n                Chatlist chatlist= snapshot.getValue(Chatlist.class);\n                usersList.add(chatlist);\n            }\n\n            chatList();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n    return view;\n}\n\nprivate void chatList() {\n    mUsers = new ArrayList&lt;&gt;();\n    reference= FirebaseDatabase.getInstance().getReference(\"Users\");\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            mUsers.clear();\n            for(DataSnapshot snapshot : dataSnapshot.getChildren()){\n                User user= snapshot.getValue(User.class);\n                for(Chatlist chatlist : usersList){\n                    if(user.getId().equals(chatlist.getId())){\n                        mUsers.add(user);\n                    }\n                }\n            }\n            userAdapter= new UserAdapter(getContext(), mUsers, true);\n            recyclerView.setAdapter(userAdapter);\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n}\n</code></pre>\n\n<p>}</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8348,"page":1644,"page_size":100}
